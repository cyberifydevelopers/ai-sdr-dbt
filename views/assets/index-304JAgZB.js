var R9=Object.defineProperty;var L9=(e,t,n)=>t in e?R9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ov=(e,t,n)=>L9(e,typeof t!="symbol"?t+"":t,n);function $9(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function $a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cv={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n5;function I9(){if(n5)return Yu;n5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:a,key:c,ref:s!==void 0?s:null,props:l}}return Yu.Fragment=t,Yu.jsx=n,Yu.jsxs=n,Yu}var r5;function z9(){return r5||(r5=1,cv.exports=I9()),cv.exports}var r=z9(),uv={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a5;function B9(){if(a5)return st;a5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.iterator;function g(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function S(E,R,L){this.props=E,this.context=R,this.refs=j,this.updater=L||b}S.prototype.isReactComponent={},S.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},S.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function _(){}_.prototype=S.prototype;function C(E,R,L){this.props=E,this.context=R,this.refs=j,this.updater=L||b}var k=C.prototype=new _;k.constructor=C,w(k,S.prototype),k.isPureReactComponent=!0;var O=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function $(E,R,L,Y,ce,Q){return L=Q.ref,{$$typeof:e,type:E,key:R,ref:L!==void 0?L:null,props:Q}}function M(E,R){return $(E.type,R,void 0,void 0,void 0,E.props)}function U(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function K(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(L){return R[L]})}var F=/\/+/g;function B(E,R){return typeof E=="object"&&E!==null&&E.key!=null?K(""+E.key):R.toString(36)}function ne(){}function Ne(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ne,ne):(E.status="pending",E.then(function(R){E.status==="pending"&&(E.status="fulfilled",E.value=R)},function(R){E.status==="pending"&&(E.status="rejected",E.reason=R)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function se(E,R,L,Y,ce){var Q=typeof E;(Q==="undefined"||Q==="boolean")&&(E=null);var H=!1;if(E===null)H=!0;else switch(Q){case"bigint":case"string":case"number":H=!0;break;case"object":switch(E.$$typeof){case e:case t:H=!0;break;case h:return H=E._init,se(H(E._payload),R,L,Y,ce)}}if(H)return ce=ce(E),H=Y===""?"."+B(E,0):Y,O(ce)?(L="",H!=null&&(L=H.replace(F,"$&/")+"/"),se(ce,R,L,"",function(he){return he})):ce!=null&&(U(ce)&&(ce=M(ce,L+(ce.key==null||E&&E.key===ce.key?"":(""+ce.key).replace(F,"$&/")+"/")+H)),R.push(ce)),1;H=0;var ge=Y===""?".":Y+":";if(O(E))for(var te=0;te<E.length;te++)Y=E[te],Q=ge+B(Y,te),H+=se(Y,R,L,Q,ce);else if(te=g(E),typeof te=="function")for(E=te.call(E),te=0;!(Y=E.next()).done;)Y=Y.value,Q=ge+B(Y,te++),H+=se(Y,R,L,Q,ce);else if(Q==="object"){if(typeof E.then=="function")return se(Ne(E),R,L,Y,ce);throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return H}function D(E,R,L){if(E==null)return E;var Y=[],ce=0;return se(E,Y,"","",function(Q){return R.call(L,Q,ce++)}),Y}function G(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(L){(E._status===0||E._status===-1)&&(E._status=1,E._result=L)},function(L){(E._status===0||E._status===-1)&&(E._status=2,E._result=L)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var V=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function z(){}return st.Children={map:D,forEach:function(E,R,L){D(E,function(){R.apply(this,arguments)},L)},count:function(E){var R=0;return D(E,function(){R++}),R},toArray:function(E){return D(E,function(R){return R})||[]},only:function(E){if(!U(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},st.Component=S,st.Fragment=n,st.Profiler=s,st.PureComponent=C,st.StrictMode=a,st.Suspense=f,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,st.__COMPILER_RUNTIME={__proto__:null,c:function(E){return A.H.useMemoCache(E)}},st.cache=function(E){return function(){return E.apply(null,arguments)}},st.cloneElement=function(E,R,L){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Y=w({},E.props),ce=E.key,Q=void 0;if(R!=null)for(H in R.ref!==void 0&&(Q=void 0),R.key!==void 0&&(ce=""+R.key),R)!T.call(R,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&R.ref===void 0||(Y[H]=R[H]);var H=arguments.length-2;if(H===1)Y.children=L;else if(1<H){for(var ge=Array(H),te=0;te<H;te++)ge[te]=arguments[te+2];Y.children=ge}return $(E.type,ce,void 0,void 0,Q,Y)},st.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},st.createElement=function(E,R,L){var Y,ce={},Q=null;if(R!=null)for(Y in R.key!==void 0&&(Q=""+R.key),R)T.call(R,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ce[Y]=R[Y]);var H=arguments.length-2;if(H===1)ce.children=L;else if(1<H){for(var ge=Array(H),te=0;te<H;te++)ge[te]=arguments[te+2];ce.children=ge}if(E&&E.defaultProps)for(Y in H=E.defaultProps,H)ce[Y]===void 0&&(ce[Y]=H[Y]);return $(E,Q,void 0,void 0,null,ce)},st.createRef=function(){return{current:null}},st.forwardRef=function(E){return{$$typeof:d,render:E}},st.isValidElement=U,st.lazy=function(E){return{$$typeof:h,_payload:{_status:-1,_result:E},_init:G}},st.memo=function(E,R){return{$$typeof:m,type:E,compare:R===void 0?null:R}},st.startTransition=function(E){var R=A.T,L={};A.T=L;try{var Y=E(),ce=A.S;ce!==null&&ce(L,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(z,V)}catch(Q){V(Q)}finally{A.T=R}},st.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},st.use=function(E){return A.H.use(E)},st.useActionState=function(E,R,L){return A.H.useActionState(E,R,L)},st.useCallback=function(E,R){return A.H.useCallback(E,R)},st.useContext=function(E){return A.H.useContext(E)},st.useDebugValue=function(){},st.useDeferredValue=function(E,R){return A.H.useDeferredValue(E,R)},st.useEffect=function(E,R,L){var Y=A.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(E,R)},st.useId=function(){return A.H.useId()},st.useImperativeHandle=function(E,R,L){return A.H.useImperativeHandle(E,R,L)},st.useInsertionEffect=function(E,R){return A.H.useInsertionEffect(E,R)},st.useLayoutEffect=function(E,R){return A.H.useLayoutEffect(E,R)},st.useMemo=function(E,R){return A.H.useMemo(E,R)},st.useOptimistic=function(E,R){return A.H.useOptimistic(E,R)},st.useReducer=function(E,R,L){return A.H.useReducer(E,R,L)},st.useRef=function(E){return A.H.useRef(E)},st.useState=function(E){return A.H.useState(E)},st.useSyncExternalStore=function(E,R,L){return A.H.useSyncExternalStore(E,R,L)},st.useTransition=function(){return A.H.useTransition()},st.version="19.1.0",st}var s5;function Dc(){return s5||(s5=1,uv.exports=B9()),uv.exports}var v=Dc();const bt=$a(v),U9=$9({__proto__:null,default:bt},[v]);var dv={exports:{}},Wu={},fv={exports:{}},mv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5;function F9(){return i5||(i5=1,function(e){function t(D,G){var V=D.length;D.push(G);e:for(;0<V;){var z=V-1>>>1,E=D[z];if(0<s(E,G))D[z]=G,D[V]=E,V=z;else break e}}function n(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var G=D[0],V=D.pop();if(V!==G){D[0]=V;e:for(var z=0,E=D.length,R=E>>>1;z<R;){var L=2*(z+1)-1,Y=D[L],ce=L+1,Q=D[ce];if(0>s(Y,V))ce<E&&0>s(Q,Y)?(D[z]=Q,D[ce]=V,z=ce):(D[z]=Y,D[L]=V,z=L);else if(ce<E&&0>s(Q,V))D[z]=Q,D[ce]=V,z=ce;else break e}}return G}function s(D,G){var V=D.sortIndex-G.sortIndex;return V!==0?V:D.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,x=null,g=3,b=!1,w=!1,j=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function O(D){for(var G=n(m);G!==null;){if(G.callback===null)a(m);else if(G.startTime<=D)a(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(m)}}function A(D){if(j=!1,O(D),!w)if(n(f)!==null)w=!0,T||(T=!0,B());else{var G=n(m);G!==null&&se(A,G.startTime-D)}}var T=!1,$=-1,M=5,U=-1;function K(){return S?!0:!(e.unstable_now()-U<M)}function F(){if(S=!1,T){var D=e.unstable_now();U=D;var G=!0;try{e:{w=!1,j&&(j=!1,C($),$=-1),b=!0;var V=g;try{t:{for(O(D),x=n(f);x!==null&&!(x.expirationTime>D&&K());){var z=x.callback;if(typeof z=="function"){x.callback=null,g=x.priorityLevel;var E=z(x.expirationTime<=D);if(D=e.unstable_now(),typeof E=="function"){x.callback=E,O(D),G=!0;break t}x===n(f)&&a(f),O(D)}else a(f);x=n(f)}if(x!==null)G=!0;else{var R=n(m);R!==null&&se(A,R.startTime-D),G=!1}}break e}finally{x=null,g=V,b=!1}G=void 0}}finally{G?B():T=!1}}}var B;if(typeof k=="function")B=function(){k(F)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Ne=ne.port2;ne.port1.onmessage=F,B=function(){Ne.postMessage(null)}}else B=function(){_(F,0)};function se(D,G){$=_(function(){D(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var V=g;g=G;try{return D()}finally{g=V}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=g;g=D;try{return G()}finally{g=V}},e.unstable_scheduleCallback=function(D,G,V){var z=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?z+V:z):V=z,D){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=V+E,D={id:h++,callback:G,priorityLevel:D,startTime:V,expirationTime:E,sortIndex:-1},V>z?(D.sortIndex=V,t(m,D),n(f)===null&&D===n(m)&&(j?(C($),$=-1):j=!0,se(A,V-z))):(D.sortIndex=E,t(f,D),w||b||(w=!0,T||(T=!0,B()))),D},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(D){var G=g;return function(){var V=g;g=G;try{return D.apply(this,arguments)}finally{g=V}}}}(mv)),mv}var l5;function V9(){return l5||(l5=1,fv.exports=F9()),fv.exports}var hv={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5;function H9(){if(o5)return Gn;o5=1;var e=Dc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Gn.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Gn.flushSync=function(f){var m=c.T,h=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=h,a.d.f()}},Gn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},Gn.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Gn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin),g=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:g,fetchPriority:b}):h==="script"&&a.d.X(f,{crossOrigin:x,integrity:g,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Gn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},Gn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin);a.d.L(f,h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Gn.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},Gn.requestFormReset=function(f){a.d.r(f)},Gn.unstable_batchedUpdates=function(f,m){return f(m)},Gn.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var c5;function i6(){if(c5)return hv.exports;c5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hv.exports=H9(),hv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5;function q9(){if(u5)return Wu;u5=1;var e=V9(),t=Dc(),n=i6();function a(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(a(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(a(188));return o!==i?null:i}for(var u=i,p=o;;){var y=u.return;if(y===null)break;var N=y.alternate;if(N===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===u)return d(y),i;if(N===p)return d(y),o;N=N.sibling}throw Error(a(188))}if(u.return!==p.return)u=y,p=N;else{for(var P=!1,I=y.child;I;){if(I===u){P=!0,u=y,p=N;break}if(I===p){P=!0,p=y,u=N;break}I=I.sibling}if(!P){for(I=N.child;I;){if(I===u){P=!0,u=N,p=y;break}if(I===p){P=!0,p=N,u=y;break}I=I.sibling}if(!P)throw Error(a(189))}}if(u.alternate!==p)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var h=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var ne=Symbol.for("react.client.reference");function Ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ne?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case U:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case k:return(i.displayName||"Context")+".Provider";case C:return(i._context.displayName||"Context")+".Consumer";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return o=i.displayName||null,o!==null?o:Ne(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return Ne(i(o))}catch{}}return null}var se=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},z=[],E=-1;function R(i){return{current:i}}function L(i){0>E||(i.current=z[E],z[E]=null,E--)}function Y(i,o){E++,z[E]=i.current,i.current=o}var ce=R(null),Q=R(null),H=R(null),ge=R(null);function te(i,o){switch(Y(H,o),Y(Q,i),Y(ce,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?T_(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=T_(o),i=P_(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(ce),Y(ce,i)}function he(){L(ce),L(Q),L(H)}function Se(i){i.memoizedState!==null&&Y(ge,i);var o=ce.current,u=P_(o,i.type);o!==u&&(Y(Q,i),Y(ce,u))}function be(i){Q.current===i&&(L(ce),L(Q)),ge.current===i&&(L(ge),Vu._currentValue=V)}var ue=Object.prototype.hasOwnProperty,$e=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,et=e.unstable_shouldYield,W=e.unstable_requestPaint,oe=e.unstable_now,X=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,Ee=e.unstable_UserBlockingPriority,qe=e.unstable_NormalPriority,Te=e.unstable_LowPriority,tt=e.unstable_IdlePriority,We=e.log,we=e.unstable_setDisableYieldValue,Pe=null,Me=null;function Oe(i){if(typeof We=="function"&&we(i),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Pe,i)}catch{}}var Le=Math.clz32?Math.clz32:tr,ot=Math.log,Nt=Math.LN2;function tr(i){return i>>>=0,i===0?32:31-(ot(i)/Nt|0)|0}var fr=256,bn=4194304;function Ln(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function $n(i,o,u){var p=i.pendingLanes;if(p===0)return 0;var y=0,N=i.suspendedLanes,P=i.pingedLanes;i=i.warmLanes;var I=p&134217727;return I!==0?(p=I&~N,p!==0?y=Ln(p):(P&=I,P!==0?y=Ln(P):u||(u=I&~i,u!==0&&(y=Ln(u))))):(I=p&~N,I!==0?y=Ln(I):P!==0?y=Ln(P):u||(u=p&~i,u!==0&&(y=Ln(u)))),y===0?0:o!==0&&o!==y&&(o&N)===0&&(N=y&-y,u=o&-o,N>=u||N===32&&(u&4194048)!==0)?o:y}function mr(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function ri(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fe(){var i=fr;return fr<<=1,(fr&4194048)===0&&(fr=256),i}function Z(){var i=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),i}function ee(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function ae(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ve(i,o,u,p,y,N){var P=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var I=i.entanglements,J=i.expirationTimes,me=i.hiddenUpdates;for(u=P&~u;0<u;){var _e=31-Le(u),ke=1<<_e;I[_e]=0,J[_e]=-1;var pe=me[_e];if(pe!==null)for(me[_e]=null,_e=0;_e<pe.length;_e++){var ve=pe[_e];ve!==null&&(ve.lane&=-536870913)}u&=~ke}p!==0&&Qe(i,p,0),N!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=N&~(P&~o))}function Qe(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Le(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|u&4194090}function mt(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-Le(u),y=1<<p;y&o|i[p]&o&&(i[p]|=o),u&=~y}}function at(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ct(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Pt(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:X_(i.type))}function ya(i,o){var u=G.p;try{return G.p=i,o()}finally{G.p=u}}var mn=Math.random().toString(36).slice(2),St="__reactFiber$"+mn,en="__reactProps$"+mn,cs="__reactContainer$"+mn,so="__reactEvents$"+mn,Rf="__reactListeners$"+mn,Lf="__reactHandles$"+mn,eu="__reactResources$"+mn,ai="__reactMarker$"+mn;function io(i){delete i[St],delete i[en],delete i[so],delete i[Rf],delete i[Lf]}function us(i){var o=i[St];if(o)return o;for(var u=i.parentNode;u;){if(o=u[cs]||u[St]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=R_(i);i!==null;){if(u=i[St])return u;i=R_(i)}return o}i=u,u=i.parentNode}return null}function ds(i){if(i=i[St]||i[cs]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function si(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(a(33))}function fs(i){var o=i[eu];return o||(o=i[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function le(i){i[ai]=!0}var Ae=new Set,Fe={};function Re(i,o){Ie(i,o),Ie(i+"Capture",o)}function Ie(i,o){for(Fe[i]=o,i=0;i<o.length;i++)Ae.add(o[i])}var ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nr={},tu={};function AL(i){return ue.call(tu,i)?!0:ue.call(nr,i)?!1:ht.test(i)?tu[i]=!0:(nr[i]=!0,!1)}function $f(i,o,u){if(AL(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function If(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function ms(i,o,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+p)}}var nx,NN;function lo(i){if(nx===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);nx=o&&o[1]||"",NN=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nx+i+NN}var rx=!1;function ax(i,o){if(!i||rx)return"";rx=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(ve){var pe=ve}Reflect.construct(i,[],ke)}else{try{ke.call()}catch(ve){pe=ve}i.call(ke.prototype)}}else{try{throw Error()}catch(ve){pe=ve}(ke=i())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(ve){if(ve&&pe&&typeof ve.stack=="string")return[ve.stack,pe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),P=N[0],I=N[1];if(P&&I){var J=P.split(`
`),me=I.split(`
`);for(y=p=0;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;for(;y<me.length&&!me[y].includes("DetermineComponentFrameRoot");)y++;if(p===J.length||y===me.length)for(p=J.length-1,y=me.length-1;1<=p&&0<=y&&J[p]!==me[y];)y--;for(;1<=p&&0<=y;p--,y--)if(J[p]!==me[y]){if(p!==1||y!==1)do if(p--,y--,0>y||J[p]!==me[y]){var _e=`
`+J[p].replace(" at new "," at ");return i.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",i.displayName)),_e}while(1<=p&&0<=y);break}}}finally{rx=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?lo(u):""}function EL(i){switch(i.tag){case 26:case 27:case 5:return lo(i.type);case 16:return lo("Lazy");case 13:return lo("Suspense");case 19:return lo("SuspenseList");case 0:case 15:return ax(i.type,!1);case 11:return ax(i.type.render,!1);case 1:return ax(i.type,!0);case 31:return lo("Activity");default:return""}}function SN(i){try{var o="";do o+=EL(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Wr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _N(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function TL(i){var o=_N(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,N=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,N.call(this,P)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function zf(i){i._valueTracker||(i._valueTracker=TL(i))}function CN(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=_N(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function Bf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var PL=/[\n"\\]/g;function Xr(i){return i.replace(PL,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function sx(i,o,u,p,y,N,P,I){i.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.type=P:i.removeAttribute("type"),o!=null?P==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Wr(o)):i.value!==""+Wr(o)&&(i.value=""+Wr(o)):P!=="submit"&&P!=="reset"||i.removeAttribute("value"),o!=null?ix(i,P,Wr(o)):u!=null?ix(i,P,Wr(u)):p!=null&&i.removeAttribute("value"),y==null&&N!=null&&(i.defaultChecked=!!N),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+Wr(I):i.removeAttribute("name")}function kN(i,o,u,p,y,N,P,I){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;u=u!=null?""+Wr(u):"",o=o!=null?""+Wr(o):u,I||o===i.value||(i.value=o),i.defaultValue=o}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=I?i.checked:!!p,i.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(i.name=P)}function ix(i,o,u){o==="number"&&Bf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function oo(i,o,u,p){if(i=i.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=o.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Wr(u),o=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function AN(i,o,u){if(o!=null&&(o=""+Wr(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Wr(u):""}function EN(i,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(a(92));if(se(p)){if(1<p.length)throw Error(a(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=Wr(o),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p)}function co(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var OL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function TN(i,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,u):typeof u!="number"||u===0||OL.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function PN(i,o,u){if(o!=null&&typeof o!="object")throw Error(a(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var y in o)p=o[y],o.hasOwnProperty(y)&&u[y]!==p&&TN(i,y,p)}else for(var N in o)o.hasOwnProperty(N)&&TN(i,N,o[N])}function lx(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ML=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uf(i){return DL.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ox=null;function cx(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var uo=null,fo=null;function ON(i){var o=ds(i);if(o&&(i=o.stateNode)){var u=i[en]||null;e:switch(i=o.stateNode,o.type){case"input":if(sx(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Xr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var y=p[en]||null;if(!y)throw Error(a(90));sx(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===i.form&&CN(p)}break e;case"textarea":AN(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&oo(i,!!u.multiple,o,!1)}}}var ux=!1;function MN(i,o,u){if(ux)return i(o,u);ux=!0;try{var p=i(o);return p}finally{if(ux=!1,(uo!==null||fo!==null)&&(Cm(),uo&&(o=uo,i=fo,fo=uo=null,ON(o),i)))for(o=0;o<i.length;o++)ON(i[o])}}function nu(i,o){var u=i.stateNode;if(u===null)return null;var p=u[en]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,o,typeof u));return u}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dx=!1;if(hs)try{var ru={};Object.defineProperty(ru,"passive",{get:function(){dx=!0}}),window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{dx=!1}var ii=null,fx=null,Ff=null;function DN(){if(Ff)return Ff;var i,o=fx,u=o.length,p,y="value"in ii?ii.value:ii.textContent,N=y.length;for(i=0;i<u&&o[i]===y[i];i++);var P=u-i;for(p=1;p<=P&&o[u-p]===y[N-p];p++);return Ff=y.slice(i,1<p?1-p:void 0)}function Vf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Hf(){return!0}function RN(){return!1}function hr(i){function o(u,p,y,N,P){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=N,this.target=P,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(u=i[I],this[I]=u?u(N):N[I]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Hf:RN,this.isPropagationStopped=RN,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Hf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Hf)},persist:function(){},isPersistent:Hf}),o}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qf=hr(nl),au=h({},nl,{view:0,detail:0}),RL=hr(au),mx,hx,su,Kf=h({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xx,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==su&&(su&&i.type==="mousemove"?(mx=i.screenX-su.screenX,hx=i.screenY-su.screenY):hx=mx=0,su=i),mx)},movementY:function(i){return"movementY"in i?i.movementY:hx}}),LN=hr(Kf),LL=h({},Kf,{dataTransfer:0}),$L=hr(LL),IL=h({},au,{relatedTarget:0}),px=hr(IL),zL=h({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),BL=hr(zL),UL=h({},nl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),FL=hr(UL),VL=h({},nl,{data:0}),$N=hr(VL),HL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GL(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=KL[i])?!!o[i]:!1}function xx(){return GL}var YL=h({},au,{key:function(i){if(i.key){var o=HL[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Vf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qL[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xx,charCode:function(i){return i.type==="keypress"?Vf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),WL=hr(YL),XL=h({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IN=hr(XL),ZL=h({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xx}),QL=hr(ZL),JL=h({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),e$=hr(JL),t$=h({},Kf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),n$=hr(t$),r$=h({},nl,{newState:0,oldState:0}),a$=hr(r$),s$=[9,13,27,32],gx=hs&&"CompositionEvent"in window,iu=null;hs&&"documentMode"in document&&(iu=document.documentMode);var i$=hs&&"TextEvent"in window&&!iu,zN=hs&&(!gx||iu&&8<iu&&11>=iu),BN=" ",UN=!1;function FN(i,o){switch(i){case"keyup":return s$.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VN(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mo=!1;function l$(i,o){switch(i){case"compositionend":return VN(o);case"keypress":return o.which!==32?null:(UN=!0,BN);case"textInput":return i=o.data,i===BN&&UN?null:i;default:return null}}function o$(i,o){if(mo)return i==="compositionend"||!gx&&FN(i,o)?(i=DN(),Ff=fx=ii=null,mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return zN&&o.locale!=="ko"?null:o.data;default:return null}}var c$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HN(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!c$[i.type]:o==="textarea"}function qN(i,o,u,p){uo?fo?fo.push(p):fo=[p]:uo=p,o=Om(o,"onChange"),0<o.length&&(u=new qf("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var lu=null,ou=null;function u$(i){__(i,0)}function Gf(i){var o=si(i);if(CN(o))return i}function KN(i,o){if(i==="change")return o}var GN=!1;if(hs){var vx;if(hs){var yx="oninput"in document;if(!yx){var YN=document.createElement("div");YN.setAttribute("oninput","return;"),yx=typeof YN.oninput=="function"}vx=yx}else vx=!1;GN=vx&&(!document.documentMode||9<document.documentMode)}function WN(){lu&&(lu.detachEvent("onpropertychange",XN),ou=lu=null)}function XN(i){if(i.propertyName==="value"&&Gf(ou)){var o=[];qN(o,ou,i,cx(i)),MN(u$,o)}}function d$(i,o,u){i==="focusin"?(WN(),lu=o,ou=u,lu.attachEvent("onpropertychange",XN)):i==="focusout"&&WN()}function f$(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gf(ou)}function m$(i,o){if(i==="click")return Gf(o)}function h$(i,o){if(i==="input"||i==="change")return Gf(o)}function p$(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var kr=typeof Object.is=="function"?Object.is:p$;function cu(i,o){if(kr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!ue.call(o,y)||!kr(i[y],o[y]))return!1}return!0}function ZN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function QN(i,o){var u=ZN(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ZN(u)}}function JN(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?JN(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function eS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Bf(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Bf(i.document)}return o}function bx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var x$=hs&&"documentMode"in document&&11>=document.documentMode,ho=null,wx=null,uu=null,jx=!1;function tS(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;jx||ho==null||ho!==Bf(p)||(p=ho,"selectionStart"in p&&bx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),uu&&cu(uu,p)||(uu=p,p=Om(wx,"onSelect"),0<p.length&&(o=new qf("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=ho)))}function rl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var po={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionrun:rl("Transition","TransitionRun"),transitionstart:rl("Transition","TransitionStart"),transitioncancel:rl("Transition","TransitionCancel"),transitionend:rl("Transition","TransitionEnd")},Nx={},nS={};hs&&(nS=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function al(i){if(Nx[i])return Nx[i];if(!po[i])return i;var o=po[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in nS)return Nx[i]=o[u];return i}var rS=al("animationend"),aS=al("animationiteration"),sS=al("animationstart"),g$=al("transitionrun"),v$=al("transitionstart"),y$=al("transitioncancel"),iS=al("transitionend"),lS=new Map,Sx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sx.push("scrollEnd");function ba(i,o){lS.set(i,o),Re(o,[i])}var oS=new WeakMap;function Zr(i,o){if(typeof i=="object"&&i!==null){var u=oS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:SN(o)},oS.set(i,o),o)}return{value:i,source:o,stack:SN(o)}}var Qr=[],xo=0,_x=0;function Yf(){for(var i=xo,o=_x=xo=0;o<i;){var u=Qr[o];Qr[o++]=null;var p=Qr[o];Qr[o++]=null;var y=Qr[o];Qr[o++]=null;var N=Qr[o];if(Qr[o++]=null,p!==null&&y!==null){var P=p.pending;P===null?y.next=y:(y.next=P.next,P.next=y),p.pending=y}N!==0&&cS(u,y,N)}}function Wf(i,o,u,p){Qr[xo++]=i,Qr[xo++]=o,Qr[xo++]=u,Qr[xo++]=p,_x|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Cx(i,o,u,p){return Wf(i,o,u,p),Xf(i)}function go(i,o){return Wf(i,null,null,o),Xf(i)}function cS(i,o,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var y=!1,N=i.return;N!==null;)N.childLanes|=u,p=N.alternate,p!==null&&(p.childLanes|=u),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(y=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,y&&o!==null&&(y=31-Le(u),i=N.hiddenUpdates,p=i[y],p===null?i[y]=[o]:p.push(o),o.lane=u|536870912),N):null}function Xf(i){if(50<Ru)throw Ru=0,Og=null,Error(a(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var vo={};function b$(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(i,o,u,p){return new b$(i,o,u,p)}function kx(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ps(i,o){var u=i.alternate;return u===null?(u=Ar(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function uS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Zf(i,o,u,p,y,N){var P=0;if(p=i,typeof i=="function")kx(i)&&(P=1);else if(typeof i=="string")P=j9(i,u,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case U:return i=Ar(31,u,o,y),i.elementType=U,i.lanes=N,i;case w:return sl(u.children,y,N,o);case j:P=8,y|=24;break;case S:return i=Ar(12,u,o,y|2),i.elementType=S,i.lanes=N,i;case A:return i=Ar(13,u,o,y),i.elementType=A,i.lanes=N,i;case T:return i=Ar(19,u,o,y),i.elementType=T,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case k:P=10;break e;case C:P=9;break e;case O:P=11;break e;case $:P=14;break e;case M:P=16,p=null;break e}P=29,u=Error(a(130,i===null?"null":typeof i,"")),p=null}return o=Ar(P,u,o,y),o.elementType=i,o.type=p,o.lanes=N,o}function sl(i,o,u,p){return i=Ar(7,i,p,o),i.lanes=u,i}function Ax(i,o,u){return i=Ar(6,i,null,o),i.lanes=u,i}function Ex(i,o,u){return o=Ar(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var yo=[],bo=0,Qf=null,Jf=0,Jr=[],ea=0,il=null,xs=1,gs="";function ll(i,o){yo[bo++]=Jf,yo[bo++]=Qf,Qf=i,Jf=o}function dS(i,o,u){Jr[ea++]=xs,Jr[ea++]=gs,Jr[ea++]=il,il=i;var p=xs;i=gs;var y=32-Le(p)-1;p&=~(1<<y),u+=1;var N=32-Le(o)+y;if(30<N){var P=y-y%5;N=(p&(1<<P)-1).toString(32),p>>=P,y-=P,xs=1<<32-Le(o)+y|u<<y|p,gs=N+i}else xs=1<<N|u<<y|p,gs=i}function Tx(i){i.return!==null&&(ll(i,1),dS(i,1,0))}function Px(i){for(;i===Qf;)Qf=yo[--bo],yo[bo]=null,Jf=yo[--bo],yo[bo]=null;for(;i===il;)il=Jr[--ea],Jr[ea]=null,gs=Jr[--ea],Jr[ea]=null,xs=Jr[--ea],Jr[ea]=null}var rr=null,nn=null,_t=!1,ol=null,Ba=!1,Ox=Error(a(519));function cl(i){var o=Error(a(418,""));throw mu(Zr(o,i)),Ox}function fS(i){var o=i.stateNode,u=i.type,p=i.memoizedProps;switch(o[St]=i,o[en]=p,u){case"dialog":ft("cancel",o),ft("close",o);break;case"iframe":case"object":case"embed":ft("load",o);break;case"video":case"audio":for(u=0;u<$u.length;u++)ft($u[u],o);break;case"source":ft("error",o);break;case"img":case"image":case"link":ft("error",o),ft("load",o);break;case"details":ft("toggle",o);break;case"input":ft("invalid",o),kN(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),zf(o);break;case"select":ft("invalid",o);break;case"textarea":ft("invalid",o),EN(o,p.value,p.defaultValue,p.children),zf(o)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||E_(o.textContent,u)?(p.popover!=null&&(ft("beforetoggle",o),ft("toggle",o)),p.onScroll!=null&&ft("scroll",o),p.onScrollEnd!=null&&ft("scrollend",o),p.onClick!=null&&(o.onclick=Mm),o=!0):o=!1,o||cl(i)}function mS(i){for(rr=i.return;rr;)switch(rr.tag){case 5:case 13:Ba=!1;return;case 27:case 3:Ba=!0;return;default:rr=rr.return}}function du(i){if(i!==rr)return!1;if(!_t)return mS(i),_t=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Yg(i.type,i.memoizedProps)),u=!u),u&&nn&&cl(i),mS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){nn=ja(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}nn=null}}else o===27?(o=nn,ji(i.type)?(i=Qg,Qg=null,nn=i):nn=o):nn=rr?ja(i.stateNode.nextSibling):null;return!0}function fu(){nn=rr=null,_t=!1}function hS(){var i=ol;return i!==null&&(gr===null?gr=i:gr.push.apply(gr,i),ol=null),i}function mu(i){ol===null?ol=[i]:ol.push(i)}var Mx=R(null),ul=null,vs=null;function li(i,o,u){Y(Mx,o._currentValue),o._currentValue=u}function ys(i){i._currentValue=Mx.current,L(Mx)}function Dx(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function Rx(i,o,u,p){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var N=y.dependencies;if(N!==null){var P=y.child;N=N.firstContext;e:for(;N!==null;){var I=N;N=y;for(var J=0;J<o.length;J++)if(I.context===o[J]){N.lanes|=u,I=N.alternate,I!==null&&(I.lanes|=u),Dx(N.return,u,i),p||(P=null);break e}N=I.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(a(341));P.lanes|=u,N=P.alternate,N!==null&&(N.lanes|=u),Dx(P,u,i),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===i){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function hu(i,o,u,p){i=null;for(var y=o,N=!1;y!==null;){if(!N){if((y.flags&524288)!==0)N=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(a(387));if(P=P.memoizedProps,P!==null){var I=y.type;kr(y.pendingProps.value,P.value)||(i!==null?i.push(I):i=[I])}}else if(y===ge.current){if(P=y.alternate,P===null)throw Error(a(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Vu):i=[Vu])}y=y.return}i!==null&&Rx(o,i,u,p),o.flags|=262144}function em(i){for(i=i.firstContext;i!==null;){if(!kr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function dl(i){ul=i,vs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kn(i){return pS(ul,i)}function tm(i,o){return ul===null&&dl(i),pS(i,o)}function pS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},vs===null){if(i===null)throw Error(a(308));vs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else vs=vs.next=o;return u}var w$=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},j$=e.unstable_scheduleCallback,N$=e.unstable_NormalPriority,wn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lx(){return{controller:new w$,data:new Map,refCount:0}}function pu(i){i.refCount--,i.refCount===0&&j$(N$,function(){i.controller.abort()})}var xu=null,$x=0,wo=0,jo=null;function S$(i,o){if(xu===null){var u=xu=[];$x=0,wo=zg(),jo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return $x++,o.then(xS,xS),o}function xS(){if(--$x===0&&xu!==null){jo!==null&&(jo.status="fulfilled");var i=xu;xu=null,wo=0,jo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function _$(i,o){var u=[],p={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(p.status="rejected",p.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),p}var gS=D.S;D.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&S$(i,o),gS!==null&&gS(i,o)};var fl=R(null);function Ix(){var i=fl.current;return i!==null?i:Bt.pooledCache}function nm(i,o){o===null?Y(fl,fl.current):Y(fl,o.pool)}function vS(){var i=Ix();return i===null?null:{parent:wn._currentValue,pool:i}}var gu=Error(a(460)),yS=Error(a(474)),rm=Error(a(542)),zx={then:function(){}};function bS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function am(){}function wS(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(am,am),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,NS(i),i;default:if(typeof o.status=="string")o.then(am,am);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=p}},function(p){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,NS(i),i}throw vu=o,gu}}var vu=null;function jS(){if(vu===null)throw Error(a(459));var i=vu;return vu=null,i}function NS(i){if(i===gu||i===rm)throw Error(a(483))}var oi=!1;function Bx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ux(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ci(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ui(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(kt&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,o=Xf(i),cS(i,null,u),o}return Wf(i,p,o,u),Xf(i)}function yu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,mt(i,u)}}function Fx(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var P={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?y=N=P:N=N.next=P,u=u.next}while(u!==null);N===null?y=N=o:N=N.next=o}else y=N=o;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Vx=!1;function bu(){if(Vx){var i=jo;if(i!==null)throw i}}function wu(i,o,u,p){Vx=!1;var y=i.updateQueue;oi=!1;var N=y.firstBaseUpdate,P=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var J=I,me=J.next;J.next=null,P===null?N=me:P.next=me,P=J;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,I=_e.lastBaseUpdate,I!==P&&(I===null?_e.firstBaseUpdate=me:I.next=me,_e.lastBaseUpdate=J))}if(N!==null){var ke=y.baseState;P=0,_e=me=J=null,I=N;do{var pe=I.lane&-536870913,ve=pe!==I.lane;if(ve?(gt&pe)===pe:(p&pe)===pe){pe!==0&&pe===wo&&(Vx=!0),_e!==null&&(_e=_e.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var nt=i,Ze=I;pe=o;var Dt=u;switch(Ze.tag){case 1:if(nt=Ze.payload,typeof nt=="function"){ke=nt.call(Dt,ke,pe);break e}ke=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=Ze.payload,pe=typeof nt=="function"?nt.call(Dt,ke,pe):nt,pe==null)break e;ke=h({},ke,pe);break e;case 2:oi=!0}}pe=I.callback,pe!==null&&(i.flags|=64,ve&&(i.flags|=8192),ve=y.callbacks,ve===null?y.callbacks=[pe]:ve.push(pe))}else ve={lane:pe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},_e===null?(me=_e=ve,J=ke):_e=_e.next=ve,P|=pe;if(I=I.next,I===null){if(I=y.shared.pending,I===null)break;ve=I,I=ve.next,ve.next=null,y.lastBaseUpdate=ve,y.shared.pending=null}}while(!0);_e===null&&(J=ke),y.baseState=J,y.firstBaseUpdate=me,y.lastBaseUpdate=_e,N===null&&(y.shared.lanes=0),vi|=P,i.lanes=P,i.memoizedState=ke}}function SS(i,o){if(typeof i!="function")throw Error(a(191,i));i.call(o)}function _S(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)SS(u[i],o)}var No=R(null),sm=R(0);function CS(i,o){i=Cs,Y(sm,i),Y(No,o),Cs=i|o.baseLanes}function Hx(){Y(sm,Cs),Y(No,No.current)}function qx(){Cs=sm.current,L(No),L(sm)}var di=0,lt=null,Ot=null,hn=null,im=!1,So=!1,ml=!1,lm=0,ju=0,_o=null,C$=0;function cn(){throw Error(a(321))}function Kx(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!kr(i[u],o[u]))return!1;return!0}function Gx(i,o,u,p,y,N){return di=N,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=i===null||i.memoizedState===null?c4:u4,ml=!1,N=u(p,y),ml=!1,So&&(N=AS(o,u,p,y)),kS(i),N}function kS(i){D.H=mm;var o=Ot!==null&&Ot.next!==null;if(di=0,hn=Ot=lt=null,im=!1,ju=0,_o=null,o)throw Error(a(300));i===null||An||(i=i.dependencies,i!==null&&em(i)&&(An=!0))}function AS(i,o,u,p){lt=i;var y=0;do{if(So&&(_o=null),ju=0,So=!1,25<=y)throw Error(a(301));if(y+=1,hn=Ot=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}D.H=M$,N=o(u,p)}while(So);return N}function k$(){var i=D.H,o=i.useState()[0];return o=typeof o.then=="function"?Nu(o):o,i=i.useState()[0],(Ot!==null?Ot.memoizedState:null)!==i&&(lt.flags|=1024),o}function Yx(){var i=lm!==0;return lm=0,i}function Wx(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Xx(i){if(im){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}im=!1}di=0,hn=Ot=lt=null,So=!1,ju=lm=0,_o=null}function pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?lt.memoizedState=hn=i:hn=hn.next=i,hn}function pn(){if(Ot===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var o=hn===null?lt.memoizedState:hn.next;if(o!==null)hn=o,Ot=i;else{if(i===null)throw lt.alternate===null?Error(a(467)):Error(a(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},hn===null?lt.memoizedState=hn=i:hn=hn.next=i}return hn}function Zx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(i){var o=ju;return ju+=1,_o===null&&(_o=[]),i=wS(_o,i,o),o=lt,(hn===null?o.memoizedState:hn.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?c4:u4),i}function om(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nu(i);if(i.$$typeof===k)return Kn(i)}throw Error(a(438,String(i)))}function Qx(i){var o=null,u=lt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=lt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Zx(),lt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),p=0;p<i;p++)u[p]=K;return o.index++,u}function bs(i,o){return typeof o=="function"?o(i):o}function cm(i){var o=pn();return Jx(o,Ot,i)}function Jx(i,o,u){var p=i.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=u;var y=i.baseQueue,N=p.pending;if(N!==null){if(y!==null){var P=y.next;y.next=N.next,N.next=P}o.baseQueue=y=N,p.pending=null}if(N=i.baseState,y===null)i.memoizedState=N;else{o=y.next;var I=P=null,J=null,me=o,_e=!1;do{var ke=me.lane&-536870913;if(ke!==me.lane?(gt&ke)===ke:(di&ke)===ke){var pe=me.revertLane;if(pe===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),ke===wo&&(_e=!0);else if((di&pe)===pe){me=me.next,pe===wo&&(_e=!0);continue}else ke={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},J===null?(I=J=ke,P=N):J=J.next=ke,lt.lanes|=pe,vi|=pe;ke=me.action,ml&&u(N,ke),N=me.hasEagerState?me.eagerState:u(N,ke)}else pe={lane:ke,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},J===null?(I=J=pe,P=N):J=J.next=pe,lt.lanes|=ke,vi|=ke;me=me.next}while(me!==null&&me!==o);if(J===null?P=N:J.next=I,!kr(N,i.memoizedState)&&(An=!0,_e&&(u=jo,u!==null)))throw u;i.memoizedState=N,i.baseState=P,i.baseQueue=J,p.lastRenderedState=N}return y===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function eg(i){var o=pn(),u=o.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var p=u.dispatch,y=u.pending,N=o.memoizedState;if(y!==null){u.pending=null;var P=y=y.next;do N=i(N,P.action),P=P.next;while(P!==y);kr(N,o.memoizedState)||(An=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,p]}function ES(i,o,u){var p=lt,y=pn(),N=_t;if(N){if(u===void 0)throw Error(a(407));u=u()}else u=o();var P=!kr((Ot||y).memoizedState,u);P&&(y.memoizedState=u,An=!0),y=y.queue;var I=OS.bind(null,p,y,i);if(Su(2048,8,I,[i]),y.getSnapshot!==o||P||hn!==null&&hn.memoizedState.tag&1){if(p.flags|=2048,Co(9,um(),PS.bind(null,p,y,u,o),null),Bt===null)throw Error(a(349));N||(di&124)!==0||TS(p,o,u)}return u}function TS(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=lt.updateQueue,o===null?(o=Zx(),lt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function PS(i,o,u,p){o.value=u,o.getSnapshot=p,MS(o)&&DS(i)}function OS(i,o,u){return u(function(){MS(o)&&DS(i)})}function MS(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!kr(i,u)}catch{return!0}}function DS(i){var o=go(i,2);o!==null&&Mr(o,i,2)}function tg(i){var o=pr();if(typeof i=="function"){var u=i;if(i=u(),ml){Oe(!0);try{u()}finally{Oe(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:i},o}function RS(i,o,u,p){return i.baseState=u,Jx(i,Ot,typeof p=="function"?p:bs)}function A$(i,o,u,p,y){if(fm(i))throw Error(a(485));if(i=o.action,i!==null){var N={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){N.listeners.push(P)}};D.T!==null?u(!0):N.isTransition=!1,p(N),u=o.pending,u===null?(N.next=o.pending=N,LS(o,N)):(N.next=u.next,o.pending=u.next=N)}}function LS(i,o){var u=o.action,p=o.payload,y=i.state;if(o.isTransition){var N=D.T,P={};D.T=P;try{var I=u(y,p),J=D.S;J!==null&&J(P,I),$S(i,o,I)}catch(me){ng(i,o,me)}finally{D.T=N}}else try{N=u(y,p),$S(i,o,N)}catch(me){ng(i,o,me)}}function $S(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){IS(i,o,p)},function(p){return ng(i,o,p)}):IS(i,o,u)}function IS(i,o,u){o.status="fulfilled",o.value=u,zS(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,LS(i,u)))}function ng(i,o,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,zS(o),o=o.next;while(o!==p)}i.action=null}function zS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function BS(i,o){return o}function US(i,o){if(_t){var u=Bt.formState;if(u!==null){e:{var p=lt;if(_t){if(nn){t:{for(var y=nn,N=Ba;y.nodeType!==8;){if(!N){y=null;break t}if(y=ja(y.nextSibling),y===null){y=null;break t}}N=y.data,y=N==="F!"||N==="F"?y:null}if(y){nn=ja(y.nextSibling),p=y.data==="F!";break e}}cl(p)}p=!1}p&&(o=u[0])}}return u=pr(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:BS,lastRenderedState:o},u.queue=p,u=i4.bind(null,lt,p),p.dispatch=u,p=tg(!1),N=lg.bind(null,lt,!1,p.queue),p=pr(),y={state:o,dispatch:null,action:i,pending:null},p.queue=y,u=A$.bind(null,lt,y,N,u),y.dispatch=u,p.memoizedState=i,[o,u,!1]}function FS(i){var o=pn();return VS(o,Ot,i)}function VS(i,o,u){if(o=Jx(i,o,BS)[0],i=cm(bs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Nu(o)}catch(P){throw P===gu?rm:P}else p=o;o=pn();var y=o.queue,N=y.dispatch;return u!==o.memoizedState&&(lt.flags|=2048,Co(9,um(),E$.bind(null,y,u),null)),[p,N,i]}function E$(i,o){i.action=o}function HS(i){var o=pn(),u=Ot;if(u!==null)return VS(o,u,i);pn(),o=o.memoizedState,u=pn();var p=u.queue.dispatch;return u.memoizedState=i,[o,p,!1]}function Co(i,o,u,p){return i={tag:i,create:u,deps:p,inst:o,next:null},o=lt.updateQueue,o===null&&(o=Zx(),lt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i),i}function um(){return{destroy:void 0,resource:void 0}}function qS(){return pn().memoizedState}function dm(i,o,u,p){var y=pr();p=p===void 0?null:p,lt.flags|=i,y.memoizedState=Co(1|o,um(),u,p)}function Su(i,o,u,p){var y=pn();p=p===void 0?null:p;var N=y.memoizedState.inst;Ot!==null&&p!==null&&Kx(p,Ot.memoizedState.deps)?y.memoizedState=Co(o,N,u,p):(lt.flags|=i,y.memoizedState=Co(1|o,N,u,p))}function KS(i,o){dm(8390656,8,i,o)}function GS(i,o){Su(2048,8,i,o)}function YS(i,o){return Su(4,2,i,o)}function WS(i,o){return Su(4,4,i,o)}function XS(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ZS(i,o,u){u=u!=null?u.concat([i]):null,Su(4,4,XS.bind(null,o,i),u)}function rg(){}function QS(i,o){var u=pn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&Kx(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function JS(i,o){var u=pn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&Kx(o,p[1]))return p[0];if(p=i(),ml){Oe(!0);try{i()}finally{Oe(!1)}}return u.memoizedState=[p,o],p}function ag(i,o,u){return u===void 0||(di&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=n_(),lt.lanes|=i,vi|=i,u)}function e4(i,o,u,p){return kr(u,o)?u:No.current!==null?(i=ag(i,u,p),kr(i,o)||(An=!0),i):(di&42)===0?(An=!0,i.memoizedState=u):(i=n_(),lt.lanes|=i,vi|=i,o)}function t4(i,o,u,p,y){var N=G.p;G.p=N!==0&&8>N?N:8;var P=D.T,I={};D.T=I,lg(i,!1,o,u);try{var J=y(),me=D.S;if(me!==null&&me(I,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var _e=_$(J,p);_u(i,o,_e,Or(i))}else _u(i,o,p,Or(i))}catch(ke){_u(i,o,{then:function(){},status:"rejected",reason:ke},Or())}finally{G.p=N,D.T=P}}function T$(){}function sg(i,o,u,p){if(i.tag!==5)throw Error(a(476));var y=n4(i).queue;t4(i,y,o,V,u===null?T$:function(){return r4(i),u(p)})}function n4(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:V},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function r4(i){var o=n4(i).next.queue;_u(i,o,{},Or())}function ig(){return Kn(Vu)}function a4(){return pn().memoizedState}function s4(){return pn().memoizedState}function P$(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Or();i=ci(u);var p=ui(o,i,u);p!==null&&(Mr(p,o,u),yu(p,o,u)),o={cache:Lx()},i.payload=o;return}o=o.return}}function O$(i,o,u){var p=Or();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},fm(i)?l4(o,u):(u=Cx(i,o,u,p),u!==null&&(Mr(u,i,p),o4(u,o,p)))}function i4(i,o,u){var p=Or();_u(i,o,u,p)}function _u(i,o,u,p){var y={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(fm(i))l4(o,y);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var P=o.lastRenderedState,I=N(P,u);if(y.hasEagerState=!0,y.eagerState=I,kr(I,P))return Wf(i,o,y,0),Bt===null&&Yf(),!1}catch{}finally{}if(u=Cx(i,o,y,p),u!==null)return Mr(u,i,p),o4(u,o,p),!0}return!1}function lg(i,o,u,p){if(p={lane:2,revertLane:zg(),action:p,hasEagerState:!1,eagerState:null,next:null},fm(i)){if(o)throw Error(a(479))}else o=Cx(i,u,p,2),o!==null&&Mr(o,i,2)}function fm(i){var o=i.alternate;return i===lt||o!==null&&o===lt}function l4(i,o){So=im=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function o4(i,o,u){if((u&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,mt(i,u)}}var mm={readContext:Kn,use:om,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn},c4={readContext:Kn,use:om,useCallback:function(i,o){return pr().memoizedState=[i,o===void 0?null:o],i},useContext:Kn,useEffect:KS,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,dm(4194308,4,XS.bind(null,o,i),u)},useLayoutEffect:function(i,o){return dm(4194308,4,i,o)},useInsertionEffect:function(i,o){dm(4,2,i,o)},useMemo:function(i,o){var u=pr();o=o===void 0?null:o;var p=i();if(ml){Oe(!0);try{i()}finally{Oe(!1)}}return u.memoizedState=[p,o],p},useReducer:function(i,o,u){var p=pr();if(u!==void 0){var y=u(o);if(ml){Oe(!0);try{u(o)}finally{Oe(!1)}}}else y=o;return p.memoizedState=p.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},p.queue=i,i=i.dispatch=O$.bind(null,lt,i),[p.memoizedState,i]},useRef:function(i){var o=pr();return i={current:i},o.memoizedState=i},useState:function(i){i=tg(i);var o=i.queue,u=i4.bind(null,lt,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:rg,useDeferredValue:function(i,o){var u=pr();return ag(u,i,o)},useTransition:function(){var i=tg(!1);return i=t4.bind(null,lt,i.queue,!0,!1),pr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var p=lt,y=pr();if(_t){if(u===void 0)throw Error(a(407));u=u()}else{if(u=o(),Bt===null)throw Error(a(349));(gt&124)!==0||TS(p,o,u)}y.memoizedState=u;var N={value:u,getSnapshot:o};return y.queue=N,KS(OS.bind(null,p,N,i),[i]),p.flags|=2048,Co(9,um(),PS.bind(null,p,N,u,o),null),u},useId:function(){var i=pr(),o=Bt.identifierPrefix;if(_t){var u=gs,p=xs;u=(p&~(1<<32-Le(p)-1)).toString(32)+u,o=""+o+"R"+u,u=lm++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=C$++,o=""+o+"r"+u.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:ig,useFormState:US,useActionState:US,useOptimistic:function(i){var o=pr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=lg.bind(null,lt,!0,u),u.dispatch=o,[i,o]},useMemoCache:Qx,useCacheRefresh:function(){return pr().memoizedState=P$.bind(null,lt)}},u4={readContext:Kn,use:om,useCallback:QS,useContext:Kn,useEffect:GS,useImperativeHandle:ZS,useInsertionEffect:YS,useLayoutEffect:WS,useMemo:JS,useReducer:cm,useRef:qS,useState:function(){return cm(bs)},useDebugValue:rg,useDeferredValue:function(i,o){var u=pn();return e4(u,Ot.memoizedState,i,o)},useTransition:function(){var i=cm(bs)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Nu(i),o]},useSyncExternalStore:ES,useId:a4,useHostTransitionStatus:ig,useFormState:FS,useActionState:FS,useOptimistic:function(i,o){var u=pn();return RS(u,Ot,i,o)},useMemoCache:Qx,useCacheRefresh:s4},M$={readContext:Kn,use:om,useCallback:QS,useContext:Kn,useEffect:GS,useImperativeHandle:ZS,useInsertionEffect:YS,useLayoutEffect:WS,useMemo:JS,useReducer:eg,useRef:qS,useState:function(){return eg(bs)},useDebugValue:rg,useDeferredValue:function(i,o){var u=pn();return Ot===null?ag(u,i,o):e4(u,Ot.memoizedState,i,o)},useTransition:function(){var i=eg(bs)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Nu(i),o]},useSyncExternalStore:ES,useId:a4,useHostTransitionStatus:ig,useFormState:HS,useActionState:HS,useOptimistic:function(i,o){var u=pn();return Ot!==null?RS(u,Ot,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Qx,useCacheRefresh:s4},ko=null,Cu=0;function hm(i){var o=Cu;return Cu+=1,ko===null&&(ko=[]),wS(ko,i,o)}function ku(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function pm(i,o){throw o.$$typeof===x?Error(a(525)):(i=Object.prototype.toString.call(o),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function d4(i){var o=i._init;return o(i._payload)}function f4(i){function o(ie,re){if(i){var de=ie.deletions;de===null?(ie.deletions=[re],ie.flags|=16):de.push(re)}}function u(ie,re){if(!i)return null;for(;re!==null;)o(ie,re),re=re.sibling;return null}function p(ie){for(var re=new Map;ie!==null;)ie.key!==null?re.set(ie.key,ie):re.set(ie.index,ie),ie=ie.sibling;return re}function y(ie,re){return ie=ps(ie,re),ie.index=0,ie.sibling=null,ie}function N(ie,re,de){return ie.index=de,i?(de=ie.alternate,de!==null?(de=de.index,de<re?(ie.flags|=67108866,re):de):(ie.flags|=67108866,re)):(ie.flags|=1048576,re)}function P(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function I(ie,re,de,Ce){return re===null||re.tag!==6?(re=Ax(de,ie.mode,Ce),re.return=ie,re):(re=y(re,de),re.return=ie,re)}function J(ie,re,de,Ce){var He=de.type;return He===w?_e(ie,re,de.props.children,Ce,de.key):re!==null&&(re.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===M&&d4(He)===re.type)?(re=y(re,de.props),ku(re,de),re.return=ie,re):(re=Zf(de.type,de.key,de.props,null,ie.mode,Ce),ku(re,de),re.return=ie,re)}function me(ie,re,de,Ce){return re===null||re.tag!==4||re.stateNode.containerInfo!==de.containerInfo||re.stateNode.implementation!==de.implementation?(re=Ex(de,ie.mode,Ce),re.return=ie,re):(re=y(re,de.children||[]),re.return=ie,re)}function _e(ie,re,de,Ce,He){return re===null||re.tag!==7?(re=sl(de,ie.mode,Ce,He),re.return=ie,re):(re=y(re,de),re.return=ie,re)}function ke(ie,re,de){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Ax(""+re,ie.mode,de),re.return=ie,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case g:return de=Zf(re.type,re.key,re.props,null,ie.mode,de),ku(de,re),de.return=ie,de;case b:return re=Ex(re,ie.mode,de),re.return=ie,re;case M:var Ce=re._init;return re=Ce(re._payload),ke(ie,re,de)}if(se(re)||B(re))return re=sl(re,ie.mode,de,null),re.return=ie,re;if(typeof re.then=="function")return ke(ie,hm(re),de);if(re.$$typeof===k)return ke(ie,tm(ie,re),de);pm(ie,re)}return null}function pe(ie,re,de,Ce){var He=re!==null?re.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return He!==null?null:I(ie,re,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case g:return de.key===He?J(ie,re,de,Ce):null;case b:return de.key===He?me(ie,re,de,Ce):null;case M:return He=de._init,de=He(de._payload),pe(ie,re,de,Ce)}if(se(de)||B(de))return He!==null?null:_e(ie,re,de,Ce,null);if(typeof de.then=="function")return pe(ie,re,hm(de),Ce);if(de.$$typeof===k)return pe(ie,re,tm(ie,de),Ce);pm(ie,de)}return null}function ve(ie,re,de,Ce,He){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ie=ie.get(de)||null,I(re,ie,""+Ce,He);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case g:return ie=ie.get(Ce.key===null?de:Ce.key)||null,J(re,ie,Ce,He);case b:return ie=ie.get(Ce.key===null?de:Ce.key)||null,me(re,ie,Ce,He);case M:var ct=Ce._init;return Ce=ct(Ce._payload),ve(ie,re,de,Ce,He)}if(se(Ce)||B(Ce))return ie=ie.get(de)||null,_e(re,ie,Ce,He,null);if(typeof Ce.then=="function")return ve(ie,re,de,hm(Ce),He);if(Ce.$$typeof===k)return ve(ie,re,de,tm(re,Ce),He);pm(re,Ce)}return null}function nt(ie,re,de,Ce){for(var He=null,ct=null,Ge=re,Je=re=0,Tn=null;Ge!==null&&Je<de.length;Je++){Ge.index>Je?(Tn=Ge,Ge=null):Tn=Ge.sibling;var wt=pe(ie,Ge,de[Je],Ce);if(wt===null){Ge===null&&(Ge=Tn);break}i&&Ge&&wt.alternate===null&&o(ie,Ge),re=N(wt,re,Je),ct===null?He=wt:ct.sibling=wt,ct=wt,Ge=Tn}if(Je===de.length)return u(ie,Ge),_t&&ll(ie,Je),He;if(Ge===null){for(;Je<de.length;Je++)Ge=ke(ie,de[Je],Ce),Ge!==null&&(re=N(Ge,re,Je),ct===null?He=Ge:ct.sibling=Ge,ct=Ge);return _t&&ll(ie,Je),He}for(Ge=p(Ge);Je<de.length;Je++)Tn=ve(Ge,ie,Je,de[Je],Ce),Tn!==null&&(i&&Tn.alternate!==null&&Ge.delete(Tn.key===null?Je:Tn.key),re=N(Tn,re,Je),ct===null?He=Tn:ct.sibling=Tn,ct=Tn);return i&&Ge.forEach(function(ki){return o(ie,ki)}),_t&&ll(ie,Je),He}function Ze(ie,re,de,Ce){if(de==null)throw Error(a(151));for(var He=null,ct=null,Ge=re,Je=re=0,Tn=null,wt=de.next();Ge!==null&&!wt.done;Je++,wt=de.next()){Ge.index>Je?(Tn=Ge,Ge=null):Tn=Ge.sibling;var ki=pe(ie,Ge,wt.value,Ce);if(ki===null){Ge===null&&(Ge=Tn);break}i&&Ge&&ki.alternate===null&&o(ie,Ge),re=N(ki,re,Je),ct===null?He=ki:ct.sibling=ki,ct=ki,Ge=Tn}if(wt.done)return u(ie,Ge),_t&&ll(ie,Je),He;if(Ge===null){for(;!wt.done;Je++,wt=de.next())wt=ke(ie,wt.value,Ce),wt!==null&&(re=N(wt,re,Je),ct===null?He=wt:ct.sibling=wt,ct=wt);return _t&&ll(ie,Je),He}for(Ge=p(Ge);!wt.done;Je++,wt=de.next())wt=ve(Ge,ie,Je,wt.value,Ce),wt!==null&&(i&&wt.alternate!==null&&Ge.delete(wt.key===null?Je:wt.key),re=N(wt,re,Je),ct===null?He=wt:ct.sibling=wt,ct=wt);return i&&Ge.forEach(function(D9){return o(ie,D9)}),_t&&ll(ie,Je),He}function Dt(ie,re,de,Ce){if(typeof de=="object"&&de!==null&&de.type===w&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case g:e:{for(var He=de.key;re!==null;){if(re.key===He){if(He=de.type,He===w){if(re.tag===7){u(ie,re.sibling),Ce=y(re,de.props.children),Ce.return=ie,ie=Ce;break e}}else if(re.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===M&&d4(He)===re.type){u(ie,re.sibling),Ce=y(re,de.props),ku(Ce,de),Ce.return=ie,ie=Ce;break e}u(ie,re);break}else o(ie,re);re=re.sibling}de.type===w?(Ce=sl(de.props.children,ie.mode,Ce,de.key),Ce.return=ie,ie=Ce):(Ce=Zf(de.type,de.key,de.props,null,ie.mode,Ce),ku(Ce,de),Ce.return=ie,ie=Ce)}return P(ie);case b:e:{for(He=de.key;re!==null;){if(re.key===He)if(re.tag===4&&re.stateNode.containerInfo===de.containerInfo&&re.stateNode.implementation===de.implementation){u(ie,re.sibling),Ce=y(re,de.children||[]),Ce.return=ie,ie=Ce;break e}else{u(ie,re);break}else o(ie,re);re=re.sibling}Ce=Ex(de,ie.mode,Ce),Ce.return=ie,ie=Ce}return P(ie);case M:return He=de._init,de=He(de._payload),Dt(ie,re,de,Ce)}if(se(de))return nt(ie,re,de,Ce);if(B(de)){if(He=B(de),typeof He!="function")throw Error(a(150));return de=He.call(de),Ze(ie,re,de,Ce)}if(typeof de.then=="function")return Dt(ie,re,hm(de),Ce);if(de.$$typeof===k)return Dt(ie,re,tm(ie,de),Ce);pm(ie,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,re!==null&&re.tag===6?(u(ie,re.sibling),Ce=y(re,de),Ce.return=ie,ie=Ce):(u(ie,re),Ce=Ax(de,ie.mode,Ce),Ce.return=ie,ie=Ce),P(ie)):u(ie,re)}return function(ie,re,de,Ce){try{Cu=0;var He=Dt(ie,re,de,Ce);return ko=null,He}catch(Ge){if(Ge===gu||Ge===rm)throw Ge;var ct=Ar(29,Ge,null,ie.mode);return ct.lanes=Ce,ct.return=ie,ct}finally{}}}var Ao=f4(!0),m4=f4(!1),ta=R(null),Ua=null;function fi(i){var o=i.alternate;Y(jn,jn.current&1),Y(ta,i),Ua===null&&(o===null||No.current!==null||o.memoizedState!==null)&&(Ua=i)}function h4(i){if(i.tag===22){if(Y(jn,jn.current),Y(ta,i),Ua===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Ua=i)}}else mi()}function mi(){Y(jn,jn.current),Y(ta,ta.current)}function ws(i){L(ta),Ua===i&&(Ua=null),L(jn)}var jn=R(0);function xm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Zg(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function og(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:h({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var cg={enqueueSetState:function(i,o,u){i=i._reactInternals;var p=Or(),y=ci(p);y.payload=o,u!=null&&(y.callback=u),o=ui(i,y,p),o!==null&&(Mr(o,i,p),yu(o,i,p))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=Or(),y=ci(p);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=ui(i,y,p),o!==null&&(Mr(o,i,p),yu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Or(),p=ci(u);p.tag=2,o!=null&&(p.callback=o),o=ui(i,p,u),o!==null&&(Mr(o,i,u),yu(o,i,u))}};function p4(i,o,u,p,y,N,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,P):o.prototype&&o.prototype.isPureReactComponent?!cu(u,p)||!cu(y,N):!0}function x4(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&cg.enqueueReplaceState(o,o.state,null)}function hl(i,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(i=i.defaultProps){u===o&&(u=h({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}var gm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function g4(i){gm(i)}function v4(i){console.error(i)}function y4(i){gm(i)}function vm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function b4(i,o,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function ug(i,o,u){return u=ci(u),u.tag=3,u.payload={element:null},u.callback=function(){vm(i,o)},u}function w4(i){return i=ci(i),i.tag=3,i}function j4(i,o,u,p){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var N=p.value;i.payload=function(){return y(N)},i.callback=function(){b4(o,u,p)}}var P=u.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(i.callback=function(){b4(o,u,p),typeof y!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function D$(i,o,u,p,y){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&hu(o,u,y,!0),u=ta.current,u!==null){switch(u.tag){case 13:return Ua===null?Dg():u.alternate===null&&rn===0&&(rn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,p===zx?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),Lg(i,p,y)),!1;case 22:return u.flags|=65536,p===zx?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),Lg(i,p,y)),!1}throw Error(a(435,u.tag))}return Lg(i,p,y),Dg(),!1}if(_t)return o=ta.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,p!==Ox&&(i=Error(a(422),{cause:p}),mu(Zr(i,u)))):(p!==Ox&&(o=Error(a(423),{cause:p}),mu(Zr(o,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,p=Zr(p,u),y=ug(i.stateNode,p,y),Fx(i,y),rn!==4&&(rn=2)),!1;var N=Error(a(520),{cause:p});if(N=Zr(N,u),Du===null?Du=[N]:Du.push(N),rn!==4&&(rn=2),o===null)return!0;p=Zr(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=ug(u.stateNode,p,i),Fx(u,i),!1;case 1:if(o=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(yi===null||!yi.has(N))))return u.flags|=65536,y&=-y,u.lanes|=y,y=w4(y),j4(y,i,u,p),Fx(u,y),!1}u=u.return}while(u!==null);return!1}var N4=Error(a(461)),An=!1;function In(i,o,u,p){o.child=i===null?m4(o,null,u,p):Ao(o,i.child,u,p)}function S4(i,o,u,p,y){u=u.render;var N=o.ref;if("ref"in p){var P={};for(var I in p)I!=="ref"&&(P[I]=p[I])}else P=p;return dl(o),p=Gx(i,o,u,P,N,y),I=Yx(),i!==null&&!An?(Wx(i,o,y),js(i,o,y)):(_t&&I&&Tx(o),o.flags|=1,In(i,o,p,y),o.child)}function _4(i,o,u,p,y){if(i===null){var N=u.type;return typeof N=="function"&&!kx(N)&&N.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=N,C4(i,o,N,p,y)):(i=Zf(u.type,null,p,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!vg(i,y)){var P=N.memoizedProps;if(u=u.compare,u=u!==null?u:cu,u(P,p)&&i.ref===o.ref)return js(i,o,y)}return o.flags|=1,i=ps(N,p),i.ref=o.ref,i.return=o,o.child=i}function C4(i,o,u,p,y){if(i!==null){var N=i.memoizedProps;if(cu(N,p)&&i.ref===o.ref)if(An=!1,o.pendingProps=p=N,vg(i,y))(i.flags&131072)!==0&&(An=!0);else return o.lanes=i.lanes,js(i,o,y)}return dg(i,o,u,p,y)}function k4(i,o,u){var p=o.pendingProps,y=p.children,N=i!==null?i.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=N!==null?N.baseLanes|u:u,i!==null){for(y=o.child=i.child,N=0;y!==null;)N=N|y.lanes|y.childLanes,y=y.sibling;o.childLanes=N&~p}else o.childLanes=0,o.child=null;return A4(i,o,p,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&nm(o,N!==null?N.cachePool:null),N!==null?CS(o,N):Hx(),h4(o);else return o.lanes=o.childLanes=536870912,A4(i,o,N!==null?N.baseLanes|u:u,u)}else N!==null?(nm(o,N.cachePool),CS(o,N),mi(),o.memoizedState=null):(i!==null&&nm(o,null),Hx(),mi());return In(i,o,y,u),o.child}function A4(i,o,u,p){var y=Ix();return y=y===null?null:{parent:wn._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},i!==null&&nm(o,null),Hx(),h4(o),i!==null&&hu(i,o,p,!0),null}function ym(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function dg(i,o,u,p,y){return dl(o),u=Gx(i,o,u,p,void 0,y),p=Yx(),i!==null&&!An?(Wx(i,o,y),js(i,o,y)):(_t&&p&&Tx(o),o.flags|=1,In(i,o,u,y),o.child)}function E4(i,o,u,p,y,N){return dl(o),o.updateQueue=null,u=AS(o,p,u,y),kS(i),p=Yx(),i!==null&&!An?(Wx(i,o,N),js(i,o,N)):(_t&&p&&Tx(o),o.flags|=1,In(i,o,u,N),o.child)}function T4(i,o,u,p,y){if(dl(o),o.stateNode===null){var N=vo,P=u.contextType;typeof P=="object"&&P!==null&&(N=Kn(P)),N=new u(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=cg,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},Bx(o),P=u.contextType,N.context=typeof P=="object"&&P!==null?Kn(P):vo,N.state=o.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(og(o,u,P,p),N.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(P=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),P!==N.state&&cg.enqueueReplaceState(N,N.state,null),wu(o,p,N,y),bu(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var I=o.memoizedProps,J=hl(u,I);N.props=J;var me=N.context,_e=u.contextType;P=vo,typeof _e=="object"&&_e!==null&&(P=Kn(_e));var ke=u.getDerivedStateFromProps;_e=typeof ke=="function"||typeof N.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,_e||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I||me!==P)&&x4(o,N,p,P),oi=!1;var pe=o.memoizedState;N.state=pe,wu(o,p,N,y),bu(),me=o.memoizedState,I||pe!==me||oi?(typeof ke=="function"&&(og(o,u,ke,p),me=o.memoizedState),(J=oi||p4(o,u,J,p,pe,me,P))?(_e||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=me),N.props=p,N.state=me,N.context=P,p=J):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,Ux(i,o),P=o.memoizedProps,_e=hl(u,P),N.props=_e,ke=o.pendingProps,pe=N.context,me=u.contextType,J=vo,typeof me=="object"&&me!==null&&(J=Kn(me)),I=u.getDerivedStateFromProps,(me=typeof I=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P!==ke||pe!==J)&&x4(o,N,p,J),oi=!1,pe=o.memoizedState,N.state=pe,wu(o,p,N,y),bu();var ve=o.memoizedState;P!==ke||pe!==ve||oi||i!==null&&i.dependencies!==null&&em(i.dependencies)?(typeof I=="function"&&(og(o,u,I,p),ve=o.memoizedState),(_e=oi||p4(o,u,_e,p,pe,ve,J)||i!==null&&i.dependencies!==null&&em(i.dependencies))?(me||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,ve,J),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,ve,J)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||P===i.memoizedProps&&pe===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&pe===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ve),N.props=p,N.state=ve,N.context=J,p=_e):(typeof N.componentDidUpdate!="function"||P===i.memoizedProps&&pe===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&pe===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,ym(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=Ao(o,i.child,null,y),o.child=Ao(o,null,u,y)):In(i,o,u,y),o.memoizedState=N.state,i=o.child):i=js(i,o,y),i}function P4(i,o,u,p){return fu(),o.flags|=256,In(i,o,u,p),o.child}var fg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mg(i){return{baseLanes:i,cachePool:vS()}}function hg(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=na),i}function O4(i,o,u){var p=o.pendingProps,y=!1,N=(o.flags&128)!==0,P;if((P=N)||(P=i!==null&&i.memoizedState===null?!1:(jn.current&2)!==0),P&&(y=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,i===null){if(_t){if(y?fi(o):mi(),_t){var I=nn,J;if(J=I){e:{for(J=I,I=Ba;J.nodeType!==8;){if(!I){I=null;break e}if(J=ja(J.nextSibling),J===null){I=null;break e}}I=J}I!==null?(o.memoizedState={dehydrated:I,treeContext:il!==null?{id:xs,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},J=Ar(18,null,null,0),J.stateNode=I,J.return=o,o.child=J,rr=o,nn=null,J=!0):J=!1}J||cl(o)}if(I=o.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Zg(I)?o.lanes=32:o.lanes=536870912,null;ws(o)}return I=p.children,p=p.fallback,y?(mi(),y=o.mode,I=bm({mode:"hidden",children:I},y),p=sl(p,y,u,null),I.return=o,p.return=o,I.sibling=p,o.child=I,y=o.child,y.memoizedState=mg(u),y.childLanes=hg(i,P,u),o.memoizedState=fg,p):(fi(o),pg(o,I))}if(J=i.memoizedState,J!==null&&(I=J.dehydrated,I!==null)){if(N)o.flags&256?(fi(o),o.flags&=-257,o=xg(i,o,u)):o.memoizedState!==null?(mi(),o.child=i.child,o.flags|=128,o=null):(mi(),y=p.fallback,I=o.mode,p=bm({mode:"visible",children:p.children},I),y=sl(y,I,u,null),y.flags|=2,p.return=o,y.return=o,p.sibling=y,o.child=p,Ao(o,i.child,null,u),p=o.child,p.memoizedState=mg(u),p.childLanes=hg(i,P,u),o.memoizedState=fg,o=y);else if(fi(o),Zg(I)){if(P=I.nextSibling&&I.nextSibling.dataset,P)var me=P.dgst;P=me,p=Error(a(419)),p.stack="",p.digest=P,mu({value:p,source:null,stack:null}),o=xg(i,o,u)}else if(An||hu(i,o,u,!1),P=(u&i.childLanes)!==0,An||P){if(P=Bt,P!==null&&(p=u&-u,p=(p&42)!==0?1:at(p),p=(p&(P.suspendedLanes|u))!==0?0:p,p!==0&&p!==J.retryLane))throw J.retryLane=p,go(i,p),Mr(P,i,p),N4;I.data==="$?"||Dg(),o=xg(i,o,u)}else I.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=J.treeContext,nn=ja(I.nextSibling),rr=o,_t=!0,ol=null,Ba=!1,i!==null&&(Jr[ea++]=xs,Jr[ea++]=gs,Jr[ea++]=il,xs=i.id,gs=i.overflow,il=o),o=pg(o,p.children),o.flags|=4096);return o}return y?(mi(),y=p.fallback,I=o.mode,J=i.child,me=J.sibling,p=ps(J,{mode:"hidden",children:p.children}),p.subtreeFlags=J.subtreeFlags&65011712,me!==null?y=ps(me,y):(y=sl(y,I,u,null),y.flags|=2),y.return=o,p.return=o,p.sibling=y,o.child=p,p=y,y=o.child,I=i.child.memoizedState,I===null?I=mg(u):(J=I.cachePool,J!==null?(me=wn._currentValue,J=J.parent!==me?{parent:me,pool:me}:J):J=vS(),I={baseLanes:I.baseLanes|u,cachePool:J}),y.memoizedState=I,y.childLanes=hg(i,P,u),o.memoizedState=fg,p):(fi(o),u=i.child,i=u.sibling,u=ps(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,i!==null&&(P=o.deletions,P===null?(o.deletions=[i],o.flags|=16):P.push(i)),o.child=u,o.memoizedState=null,u)}function pg(i,o){return o=bm({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function bm(i,o){return i=Ar(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function xg(i,o,u){return Ao(o,i.child,null,u),i=pg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function M4(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Dx(i.return,o,u)}function gg(i,o,u,p,y){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=y)}function D4(i,o,u){var p=o.pendingProps,y=p.revealOrder,N=p.tail;if(In(i,o,p.children,u),p=jn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&M4(i,u,o);else if(i.tag===19)M4(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(Y(jn,p),y){case"forwards":for(u=o.child,y=null;u!==null;)i=u.alternate,i!==null&&xm(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),gg(o,!1,y,u,N);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&xm(i)===null){o.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}gg(o,!0,u,null,N);break;case"together":gg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function js(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),vi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(hu(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(a(153));if(o.child!==null){for(i=o.child,u=ps(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ps(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function vg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&em(i)))}function R$(i,o,u){switch(o.tag){case 3:te(o,o.stateNode.containerInfo),li(o,wn,i.memoizedState.cache),fu();break;case 27:case 5:Se(o);break;case 4:te(o,o.stateNode.containerInfo);break;case 10:li(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(fi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?O4(i,o,u):(fi(o),i=js(i,o,u),i!==null?i.sibling:null);fi(o);break;case 19:var y=(i.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(hu(i,o,u,!1),p=(u&o.childLanes)!==0),y){if(p)return D4(i,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Y(jn,jn.current),p)break;return null;case 22:case 23:return o.lanes=0,k4(i,o,u);case 24:li(o,wn,i.memoizedState.cache)}return js(i,o,u)}function R4(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)An=!0;else{if(!vg(i,u)&&(o.flags&128)===0)return An=!1,R$(i,o,u);An=(i.flags&131072)!==0}else An=!1,_t&&(o.flags&1048576)!==0&&dS(o,Jf,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var p=o.elementType,y=p._init;if(p=y(p._payload),o.type=p,typeof p=="function")kx(p)?(i=hl(p,i),o.tag=1,o=T4(null,o,p,i,u)):(o.tag=0,o=dg(null,o,p,i,u));else{if(p!=null){if(y=p.$$typeof,y===O){o.tag=11,o=S4(null,o,p,i,u);break e}else if(y===$){o.tag=14,o=_4(null,o,p,i,u);break e}}throw o=Ne(p)||p,Error(a(306,o,""))}}return o;case 0:return dg(i,o,o.type,o.pendingProps,u);case 1:return p=o.type,y=hl(p,o.pendingProps),T4(i,o,p,y,u);case 3:e:{if(te(o,o.stateNode.containerInfo),i===null)throw Error(a(387));p=o.pendingProps;var N=o.memoizedState;y=N.element,Ux(i,o),wu(o,p,null,u);var P=o.memoizedState;if(p=P.cache,li(o,wn,p),p!==N.cache&&Rx(o,[wn],u,!0),bu(),p=P.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=P4(i,o,p,u);break e}else if(p!==y){y=Zr(Error(a(424)),o),mu(y),o=P4(i,o,p,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nn=ja(i.firstChild),rr=o,_t=!0,ol=null,Ba=!0,u=m4(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(fu(),p===y){o=js(i,o,u);break e}In(i,o,p,u)}o=o.child}return o;case 26:return ym(i,o),i===null?(u=z_(o.type,null,o.pendingProps,null))?o.memoizedState=u:_t||(u=o.type,i=o.pendingProps,p=Dm(H.current).createElement(u),p[St]=o,p[en]=i,Bn(p,u,i),le(p),o.stateNode=p):o.memoizedState=z_(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Se(o),i===null&&_t&&(p=o.stateNode=L_(o.type,o.pendingProps,H.current),rr=o,Ba=!0,y=nn,ji(o.type)?(Qg=y,nn=ja(p.firstChild)):nn=y),In(i,o,o.pendingProps.children,u),ym(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&_t&&((y=p=nn)&&(p=c9(p,o.type,o.pendingProps,Ba),p!==null?(o.stateNode=p,rr=o,nn=ja(p.firstChild),Ba=!1,y=!0):y=!1),y||cl(o)),Se(o),y=o.type,N=o.pendingProps,P=i!==null?i.memoizedProps:null,p=N.children,Yg(y,N)?p=null:P!==null&&Yg(y,P)&&(o.flags|=32),o.memoizedState!==null&&(y=Gx(i,o,k$,null,null,u),Vu._currentValue=y),ym(i,o),In(i,o,p,u),o.child;case 6:return i===null&&_t&&((i=u=nn)&&(u=u9(u,o.pendingProps,Ba),u!==null?(o.stateNode=u,rr=o,nn=null,i=!0):i=!1),i||cl(o)),null;case 13:return O4(i,o,u);case 4:return te(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Ao(o,null,p,u):In(i,o,p,u),o.child;case 11:return S4(i,o,o.type,o.pendingProps,u);case 7:return In(i,o,o.pendingProps,u),o.child;case 8:return In(i,o,o.pendingProps.children,u),o.child;case 12:return In(i,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,li(o,o.type,p.value),In(i,o,p.children,u),o.child;case 9:return y=o.type._context,p=o.pendingProps.children,dl(o),y=Kn(y),p=p(y),o.flags|=1,In(i,o,p,u),o.child;case 14:return _4(i,o,o.type,o.pendingProps,u);case 15:return C4(i,o,o.type,o.pendingProps,u);case 19:return D4(i,o,u);case 31:return p=o.pendingProps,u=o.mode,p={mode:p.mode,children:p.children},i===null?(u=bm(p,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=ps(i.child,p),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return k4(i,o,u);case 24:return dl(o),p=Kn(wn),i===null?(y=Ix(),y===null&&(y=Bt,N=Lx(),y.pooledCache=N,N.refCount++,N!==null&&(y.pooledCacheLanes|=u),y=N),o.memoizedState={parent:p,cache:y},Bx(o),li(o,wn,y)):((i.lanes&u)!==0&&(Ux(i,o),wu(o,null,null,u),bu()),y=i.memoizedState,N=o.memoizedState,y.parent!==p?(y={parent:p,cache:p},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),li(o,wn,p)):(p=N.cache,li(o,wn,p),p!==y.cache&&Rx(o,[wn],u,!0))),In(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function Ns(i){i.flags|=4}function L4(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!H_(o)){if(o=ta.current,o!==null&&((gt&4194048)===gt?Ua!==null:(gt&62914560)!==gt&&(gt&536870912)===0||o!==Ua))throw vu=zx,yS;i.flags|=8192}}function wm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Z():536870912,i.lanes|=o,Oo|=o)}function Au(i,o){if(!_t)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function tn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function L$(i,o,u){var p=o.pendingProps;switch(Px(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return tn(o),null;case 3:return u=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ys(wn),he(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(du(o)?Ns(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hS())),tn(o),null;case 26:return u=o.memoizedState,i===null?(Ns(o),u!==null?(tn(o),L4(o,u)):(tn(o),o.flags&=-16777217)):u?u!==i.memoizedState?(Ns(o),tn(o),L4(o,u)):(tn(o),o.flags&=-16777217):(i.memoizedProps!==p&&Ns(o),tn(o),o.flags&=-16777217),null;case 27:be(o),u=H.current;var y=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ns(o);else{if(!p){if(o.stateNode===null)throw Error(a(166));return tn(o),null}i=ce.current,du(o)?fS(o):(i=L_(y,p,u),o.stateNode=i,Ns(o))}return tn(o),null;case 5:if(be(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ns(o);else{if(!p){if(o.stateNode===null)throw Error(a(166));return tn(o),null}if(i=ce.current,du(o))fS(o);else{switch(y=Dm(H.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?y.createElement("select",{is:p.is}):y.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?y.createElement(u,{is:p.is}):y.createElement(u)}}i[St]=o,i[en]=p;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=i;e:switch(Bn(i,u,p),u){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ns(o)}}return tn(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Ns(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(a(166));if(i=H.current,du(o)){if(i=o.stateNode,u=o.memoizedProps,p=null,y=rr,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}i[St]=o,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||E_(i.nodeValue,u)),i||cl(o)}else i=Dm(i).createTextNode(p),i[St]=o,o.stateNode=i}return tn(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=du(o),p!==null&&p.dehydrated!==null){if(i===null){if(!y)throw Error(a(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[St]=o}else fu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),y=!1}else y=hS(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ws(o),o):(ws(o),null)}if(ws(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=p!==null,i=i!==null&&i.memoizedState!==null,u){p=o.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==y&&(p.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),wm(o,o.updateQueue),tn(o),null;case 4:return he(),i===null&&Vg(o.stateNode.containerInfo),tn(o),null;case 10:return ys(o.type),tn(o),null;case 19:if(L(jn),y=o.memoizedState,y===null)return tn(o),null;if(p=(o.flags&128)!==0,N=y.rendering,N===null)if(p)Au(y,!1);else{if(rn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=xm(i),N!==null){for(o.flags|=128,Au(y,!1),i=N.updateQueue,o.updateQueue=i,wm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)uS(u,i),u=u.sibling;return Y(jn,jn.current&1|2),o.child}i=i.sibling}y.tail!==null&&oe()>Sm&&(o.flags|=128,p=!0,Au(y,!1),o.lanes=4194304)}else{if(!p)if(i=xm(N),i!==null){if(o.flags|=128,p=!0,i=i.updateQueue,o.updateQueue=i,wm(o,i),Au(y,!0),y.tail===null&&y.tailMode==="hidden"&&!N.alternate&&!_t)return tn(o),null}else 2*oe()-y.renderingStartTime>Sm&&u!==536870912&&(o.flags|=128,p=!0,Au(y,!1),o.lanes=4194304);y.isBackwards?(N.sibling=o.child,o.child=N):(i=y.last,i!==null?i.sibling=N:o.child=N,y.last=N)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=oe(),o.sibling=null,i=jn.current,Y(jn,p?i&1|2:i&1),o):(tn(o),null);case 22:case 23:return ws(o),qx(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),u=o.updateQueue,u!==null&&wm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),i!==null&&L(fl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ys(wn),tn(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function $$(i,o){switch(Px(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ys(wn),he(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return be(o),null;case 13:if(ws(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(a(340));fu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return L(jn),null;case 4:return he(),null;case 10:return ys(o.type),null;case 22:case 23:return ws(o),qx(),i!==null&&L(fl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ys(wn),null;case 25:return null;default:return null}}function $4(i,o){switch(Px(o),o.tag){case 3:ys(wn),he();break;case 26:case 27:case 5:be(o);break;case 4:he();break;case 13:ws(o);break;case 19:L(jn);break;case 10:ys(o.type);break;case 22:case 23:ws(o),qx(),i!==null&&L(fl);break;case 24:ys(wn)}}function Eu(i,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){p=void 0;var N=u.create,P=u.inst;p=N(),P.destroy=p}u=u.next}while(u!==y)}}catch(I){Lt(o,o.return,I)}}function hi(i,o,u){try{var p=o.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var N=y.next;p=N;do{if((p.tag&i)===i){var P=p.inst,I=P.destroy;if(I!==void 0){P.destroy=void 0,y=o;var J=u,me=I;try{me()}catch(_e){Lt(y,J,_e)}}}p=p.next}while(p!==N)}}catch(_e){Lt(o,o.return,_e)}}function I4(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{_S(o,u)}catch(p){Lt(i,i.return,p)}}}function z4(i,o,u){u.props=hl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){Lt(i,o,p)}}function Tu(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(y){Lt(i,o,y)}}function Fa(i,o){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(y){Lt(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Lt(i,o,y)}else u.current=null}function B4(i){var o=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(y){Lt(i,i.return,y)}}function yg(i,o,u){try{var p=i.stateNode;a9(p,i.type,u,o),p[en]=o}catch(y){Lt(i,i.return,y)}}function U4(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ji(i.type)||i.tag===4}function bg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||U4(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ji(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wg(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Mm));else if(p!==4&&(p===27&&ji(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(wg(i,o,u),i=i.sibling;i!==null;)wg(i,o,u),i=i.sibling}function jm(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(p===27&&ji(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(jm(i,o,u),i=i.sibling;i!==null;)jm(i,o,u),i=i.sibling}function F4(i){var o=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Bn(o,p,u),o[St]=i,o[en]=u}catch(N){Lt(i,i.return,N)}}var Ss=!1,un=!1,jg=!1,V4=typeof WeakSet=="function"?WeakSet:Set,En=null;function I$(i,o){if(i=i.containerInfo,Kg=Bm,i=eS(i),bx(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var P=0,I=-1,J=-1,me=0,_e=0,ke=i,pe=null;t:for(;;){for(var ve;ke!==u||y!==0&&ke.nodeType!==3||(I=P+y),ke!==N||p!==0&&ke.nodeType!==3||(J=P+p),ke.nodeType===3&&(P+=ke.nodeValue.length),(ve=ke.firstChild)!==null;)pe=ke,ke=ve;for(;;){if(ke===i)break t;if(pe===u&&++me===y&&(I=P),pe===N&&++_e===p&&(J=P),(ve=ke.nextSibling)!==null)break;ke=pe,pe=ke.parentNode}ke=ve}u=I===-1||J===-1?null:{start:I,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(Gg={focusedElem:i,selectionRange:u},Bm=!1,En=o;En!==null;)if(o=En,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,En=i;else for(;En!==null;){switch(o=En,N=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,u=o,y=N.memoizedProps,N=N.memoizedState,p=u.stateNode;try{var nt=hl(u.type,y,u.elementType===u.type);i=p.getSnapshotBeforeUpdate(nt,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ze){Lt(u,u.return,Ze)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Xg(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Xg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=o.sibling,i!==null){i.return=o.return,En=i;break}En=o.return}}function H4(i,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:pi(i,u),p&4&&Eu(5,u);break;case 1:if(pi(i,u),p&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(P){Lt(u,u.return,P)}else{var y=hl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(P){Lt(u,u.return,P)}}p&64&&I4(u),p&512&&Tu(u,u.return);break;case 3:if(pi(i,u),p&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{_S(i,o)}catch(P){Lt(u,u.return,P)}}break;case 27:o===null&&p&4&&F4(u);case 26:case 5:pi(i,u),o===null&&p&4&&B4(u),p&512&&Tu(u,u.return);break;case 12:pi(i,u);break;case 13:pi(i,u),p&4&&G4(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=G$.bind(null,u),d9(i,u))));break;case 22:if(p=u.memoizedState!==null||Ss,!p){o=o!==null&&o.memoizedState!==null||un,y=Ss;var N=un;Ss=p,(un=o)&&!N?xi(i,u,(u.subtreeFlags&8772)!==0):pi(i,u),Ss=y,un=N}break;case 30:break;default:pi(i,u)}}function q4(i){var o=i.alternate;o!==null&&(i.alternate=null,q4(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&io(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yt=null,xr=!1;function _s(i,o,u){for(u=u.child;u!==null;)K4(i,o,u),u=u.sibling}function K4(i,o,u){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Pe,u)}catch{}switch(u.tag){case 26:un||Fa(u,o),_s(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:un||Fa(u,o);var p=Yt,y=xr;ji(u.type)&&(Yt=u.stateNode,xr=!1),_s(i,o,u),zu(u.stateNode),Yt=p,xr=y;break;case 5:un||Fa(u,o);case 6:if(p=Yt,y=xr,Yt=null,_s(i,o,u),Yt=p,xr=y,Yt!==null)if(xr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(u.stateNode)}catch(N){Lt(u,o,N)}else try{Yt.removeChild(u.stateNode)}catch(N){Lt(u,o,N)}break;case 18:Yt!==null&&(xr?(i=Yt,D_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Gu(i)):D_(Yt,u.stateNode));break;case 4:p=Yt,y=xr,Yt=u.stateNode.containerInfo,xr=!0,_s(i,o,u),Yt=p,xr=y;break;case 0:case 11:case 14:case 15:un||hi(2,u,o),un||hi(4,u,o),_s(i,o,u);break;case 1:un||(Fa(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&z4(u,o,p)),_s(i,o,u);break;case 21:_s(i,o,u);break;case 22:un=(p=un)||u.memoizedState!==null,_s(i,o,u),un=p;break;default:_s(i,o,u)}}function G4(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Gu(i)}catch(u){Lt(o,o.return,u)}}function z$(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new V4),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new V4),o;default:throw Error(a(435,i.tag))}}function Ng(i,o){var u=z$(i);o.forEach(function(p){var y=Y$.bind(null,i,p);u.has(p)||(u.add(p),p.then(y,y))})}function Er(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p],N=i,P=o,I=P;e:for(;I!==null;){switch(I.tag){case 27:if(ji(I.type)){Yt=I.stateNode,xr=!1;break e}break;case 5:Yt=I.stateNode,xr=!1;break e;case 3:case 4:Yt=I.stateNode.containerInfo,xr=!0;break e}I=I.return}if(Yt===null)throw Error(a(160));K4(N,P,y),Yt=null,xr=!1,N=y.alternate,N!==null&&(N.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Y4(o,i),o=o.sibling}var wa=null;function Y4(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Er(o,i),Tr(i),p&4&&(hi(3,i,i.return),Eu(3,i),hi(5,i,i.return));break;case 1:Er(o,i),Tr(i),p&512&&(un||u===null||Fa(u,u.return)),p&64&&Ss&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var y=wa;if(Er(o,i),Tr(i),p&512&&(un||u===null||Fa(u,u.return)),p&4){var N=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":N=y.getElementsByTagName("title")[0],(!N||N[ai]||N[St]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=y.createElement(p),y.head.insertBefore(N,y.querySelector("head > title"))),Bn(N,p,u),N[St]=i,le(N),p=N;break e;case"link":var P=F_("link","href",y).get(p+(u.href||""));if(P){for(var I=0;I<P.length;I++)if(N=P[I],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){P.splice(I,1);break t}}N=y.createElement(p),Bn(N,p,u),y.head.appendChild(N);break;case"meta":if(P=F_("meta","content",y).get(p+(u.content||""))){for(I=0;I<P.length;I++)if(N=P[I],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){P.splice(I,1);break t}}N=y.createElement(p),Bn(N,p,u),y.head.appendChild(N);break;default:throw Error(a(468,p))}N[St]=i,le(N),p=N}i.stateNode=p}else V_(y,i.type,i.stateNode);else i.stateNode=U_(y,p,i.memoizedProps);else N!==p?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,p===null?V_(y,i.type,i.stateNode):U_(y,p,i.memoizedProps)):p===null&&i.stateNode!==null&&yg(i,i.memoizedProps,u.memoizedProps)}break;case 27:Er(o,i),Tr(i),p&512&&(un||u===null||Fa(u,u.return)),u!==null&&p&4&&yg(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Er(o,i),Tr(i),p&512&&(un||u===null||Fa(u,u.return)),i.flags&32){y=i.stateNode;try{co(y,"")}catch(ve){Lt(i,i.return,ve)}}p&4&&i.stateNode!=null&&(y=i.memoizedProps,yg(i,y,u!==null?u.memoizedProps:y)),p&1024&&(jg=!0);break;case 6:if(Er(o,i),Tr(i),p&4){if(i.stateNode===null)throw Error(a(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(ve){Lt(i,i.return,ve)}}break;case 3:if($m=null,y=wa,wa=Rm(o.containerInfo),Er(o,i),wa=y,Tr(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Gu(o.containerInfo)}catch(ve){Lt(i,i.return,ve)}jg&&(jg=!1,W4(i));break;case 4:p=wa,wa=Rm(i.stateNode.containerInfo),Er(o,i),Tr(i),wa=p;break;case 12:Er(o,i),Tr(i);break;case 13:Er(o,i),Tr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Eg=oe()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Ng(i,p)));break;case 22:y=i.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,me=Ss,_e=un;if(Ss=me||y,un=_e||J,Er(o,i),un=_e,Ss=me,Tr(i),p&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||J||Ss||un||pl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){J=u=o;try{if(N=J.stateNode,y)P=N.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{I=J.stateNode;var ke=J.memoizedProps.style,pe=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;I.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(ve){Lt(J,J.return,ve)}}}else if(o.tag===6){if(u===null){J=o;try{J.stateNode.nodeValue=y?"":J.memoizedProps}catch(ve){Lt(J,J.return,ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Ng(i,u))));break;case 19:Er(o,i),Tr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Ng(i,p)));break;case 30:break;case 21:break;default:Er(o,i),Tr(i)}}function Tr(i){var o=i.flags;if(o&2){try{for(var u,p=i.return;p!==null;){if(U4(p)){u=p;break}p=p.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var y=u.stateNode,N=bg(i);jm(i,N,y);break;case 5:var P=u.stateNode;u.flags&32&&(co(P,""),u.flags&=-33);var I=bg(i);jm(i,I,P);break;case 3:case 4:var J=u.stateNode.containerInfo,me=bg(i);wg(i,me,J);break;default:throw Error(a(161))}}catch(_e){Lt(i,i.return,_e)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function W4(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;W4(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function pi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)H4(i,o.alternate,o),o=o.sibling}function pl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:hi(4,o,o.return),pl(o);break;case 1:Fa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&z4(o,o.return,u),pl(o);break;case 27:zu(o.stateNode);case 26:case 5:Fa(o,o.return),pl(o);break;case 22:o.memoizedState===null&&pl(o);break;case 30:pl(o);break;default:pl(o)}i=i.sibling}}function xi(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,y=i,N=o,P=N.flags;switch(N.tag){case 0:case 11:case 15:xi(y,N,u),Eu(4,N);break;case 1:if(xi(y,N,u),p=N,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(me){Lt(p,p.return,me)}if(p=N,y=p.updateQueue,y!==null){var I=p.stateNode;try{var J=y.shared.hiddenCallbacks;if(J!==null)for(y.shared.hiddenCallbacks=null,y=0;y<J.length;y++)SS(J[y],I)}catch(me){Lt(p,p.return,me)}}u&&P&64&&I4(N),Tu(N,N.return);break;case 27:F4(N);case 26:case 5:xi(y,N,u),u&&p===null&&P&4&&B4(N),Tu(N,N.return);break;case 12:xi(y,N,u);break;case 13:xi(y,N,u),u&&P&4&&G4(y,N);break;case 22:N.memoizedState===null&&xi(y,N,u),Tu(N,N.return);break;case 30:break;default:xi(y,N,u)}o=o.sibling}}function Sg(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&pu(u))}function _g(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pu(i))}function Va(i,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)X4(i,o,u,p),o=o.sibling}function X4(i,o,u,p){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Va(i,o,u,p),y&2048&&Eu(9,o);break;case 1:Va(i,o,u,p);break;case 3:Va(i,o,u,p),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pu(i)));break;case 12:if(y&2048){Va(i,o,u,p),i=o.stateNode;try{var N=o.memoizedProps,P=N.id,I=N.onPostCommit;typeof I=="function"&&I(P,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){Lt(o,o.return,J)}}else Va(i,o,u,p);break;case 13:Va(i,o,u,p);break;case 23:break;case 22:N=o.stateNode,P=o.alternate,o.memoizedState!==null?N._visibility&2?Va(i,o,u,p):Pu(i,o):N._visibility&2?Va(i,o,u,p):(N._visibility|=2,Eo(i,o,u,p,(o.subtreeFlags&10256)!==0)),y&2048&&Sg(P,o);break;case 24:Va(i,o,u,p),y&2048&&_g(o.alternate,o);break;default:Va(i,o,u,p)}}function Eo(i,o,u,p,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=i,P=o,I=u,J=p,me=P.flags;switch(P.tag){case 0:case 11:case 15:Eo(N,P,I,J,y),Eu(8,P);break;case 23:break;case 22:var _e=P.stateNode;P.memoizedState!==null?_e._visibility&2?Eo(N,P,I,J,y):Pu(N,P):(_e._visibility|=2,Eo(N,P,I,J,y)),y&&me&2048&&Sg(P.alternate,P);break;case 24:Eo(N,P,I,J,y),y&&me&2048&&_g(P.alternate,P);break;default:Eo(N,P,I,J,y)}o=o.sibling}}function Pu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,p=o,y=p.flags;switch(p.tag){case 22:Pu(u,p),y&2048&&Sg(p.alternate,p);break;case 24:Pu(u,p),y&2048&&_g(p.alternate,p);break;default:Pu(u,p)}o=o.sibling}}var Ou=8192;function To(i){if(i.subtreeFlags&Ou)for(i=i.child;i!==null;)Z4(i),i=i.sibling}function Z4(i){switch(i.tag){case 26:To(i),i.flags&Ou&&i.memoizedState!==null&&S9(wa,i.memoizedState,i.memoizedProps);break;case 5:To(i);break;case 3:case 4:var o=wa;wa=Rm(i.stateNode.containerInfo),To(i),wa=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Ou,Ou=16777216,To(i),Ou=o):To(i));break;default:To(i)}}function Q4(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Mu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];En=p,e_(p,i)}Q4(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)J4(i),i=i.sibling}function J4(i){switch(i.tag){case 0:case 11:case 15:Mu(i),i.flags&2048&&hi(9,i,i.return);break;case 3:Mu(i);break;case 12:Mu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Nm(i)):Mu(i);break;default:Mu(i)}}function Nm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];En=p,e_(p,i)}Q4(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:hi(8,o,o.return),Nm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Nm(o));break;default:Nm(o)}i=i.sibling}}function e_(i,o){for(;En!==null;){var u=En;switch(u.tag){case 0:case 11:case 15:hi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:pu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,En=p;else e:for(u=i;En!==null;){p=En;var y=p.sibling,N=p.return;if(q4(p),p===u){En=null;break e}if(y!==null){y.return=N,En=y;break e}En=N}}}var B$={getCacheForType:function(i){var o=Kn(wn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},U$=typeof WeakMap=="function"?WeakMap:Map,kt=0,Bt=null,dt=null,gt=0,At=0,Pr=null,gi=!1,Po=!1,Cg=!1,Cs=0,rn=0,vi=0,xl=0,kg=0,na=0,Oo=0,Du=null,gr=null,Ag=!1,Eg=0,Sm=1/0,_m=null,yi=null,zn=0,bi=null,Mo=null,Do=0,Tg=0,Pg=null,t_=null,Ru=0,Og=null;function Or(){if((kt&2)!==0&&gt!==0)return gt&-gt;if(D.T!==null){var i=wo;return i!==0?i:zg()}return Pt()}function n_(){na===0&&(na=(gt&536870912)===0||_t?fe():536870912);var i=ta.current;return i!==null&&(i.flags|=32),na}function Mr(i,o,u){(i===Bt&&(At===2||At===9)||i.cancelPendingCommit!==null)&&(Ro(i,0),wi(i,gt,na,!1)),ae(i,u),((kt&2)===0||i!==Bt)&&(i===Bt&&((kt&2)===0&&(xl|=u),rn===4&&wi(i,gt,na,!1)),Ha(i))}function r_(i,o,u){if((kt&6)!==0)throw Error(a(327));var p=!u&&(o&124)===0&&(o&i.expiredLanes)===0||mr(i,o),y=p?H$(i,o):Rg(i,o,!0),N=p;do{if(y===0){Po&&!p&&wi(i,o,0,!1);break}else{if(u=i.current.alternate,N&&!F$(u)){y=Rg(i,o,!1),N=!1;continue}if(y===2){if(N=o,i.errorRecoveryDisabledLanes&N)var P=0;else P=i.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var I=i;y=Du;var J=I.current.memoizedState.isDehydrated;if(J&&(Ro(I,P).flags|=256),P=Rg(I,P,!1),P!==2){if(Cg&&!J){I.errorRecoveryDisabledLanes|=N,xl|=N,y=4;break e}N=gr,gr=y,N!==null&&(gr===null?gr=N:gr.push.apply(gr,N))}y=P}if(N=!1,y!==2)continue}}if(y===1){Ro(i,0),wi(i,o,0,!0);break}e:{switch(p=i,N=y,N){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:wi(p,o,na,!gi);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(y=Eg+300-oe(),10<y)){if(wi(p,o,na,!gi),$n(p,0,!0)!==0)break e;p.timeoutHandle=O_(a_.bind(null,p,u,gr,_m,Ag,o,na,xl,Oo,gi,N,2,-0,0),y);break e}a_(p,u,gr,_m,Ag,o,na,xl,Oo,gi,N,0,-0,0)}}break}while(!0);Ha(i)}function a_(i,o,u,p,y,N,P,I,J,me,_e,ke,pe,ve){if(i.timeoutHandle=-1,ke=o.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(Fu={stylesheets:null,count:0,unsuspend:N9},Z4(o),ke=_9(),ke!==null)){i.cancelPendingCommit=ke(d_.bind(null,i,o,N,u,p,y,P,I,J,_e,1,pe,ve)),wi(i,N,P,!me);return}d_(i,o,N,u,p,y,P,I,J)}function F$(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var y=u[p],N=y.getSnapshot;y=y.value;try{if(!kr(N(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function wi(i,o,u,p){o&=~kg,o&=~xl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var y=o;0<y;){var N=31-Le(y),P=1<<N;p[N]=-1,y&=~P}u!==0&&Qe(i,u,o)}function Cm(){return(kt&6)===0?(Lu(0),!1):!0}function Mg(){if(dt!==null){if(At===0)var i=dt.return;else i=dt,vs=ul=null,Xx(i),ko=null,Cu=0,i=dt;for(;i!==null;)$4(i.alternate,i),i=i.return;dt=null}}function Ro(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,i9(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Mg(),Bt=i,dt=u=ps(i.current,null),gt=o,At=0,Pr=null,gi=!1,Po=mr(i,o),Cg=!1,Oo=na=kg=xl=vi=rn=0,gr=Du=null,Ag=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var y=31-Le(p),N=1<<y;o|=i[y],p&=~N}return Cs=o,Yf(),u}function s_(i,o){lt=null,D.H=mm,o===gu||o===rm?(o=jS(),At=3):o===yS?(o=jS(),At=4):At=o===N4?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Pr=o,dt===null&&(rn=1,vm(i,Zr(o,i.current)))}function i_(){var i=D.H;return D.H=mm,i===null?mm:i}function l_(){var i=D.A;return D.A=B$,i}function Dg(){rn=4,gi||(gt&4194048)!==gt&&ta.current!==null||(Po=!0),(vi&134217727)===0&&(xl&134217727)===0||Bt===null||wi(Bt,gt,na,!1)}function Rg(i,o,u){var p=kt;kt|=2;var y=i_(),N=l_();(Bt!==i||gt!==o)&&(_m=null,Ro(i,o)),o=!1;var P=rn;e:do try{if(At!==0&&dt!==null){var I=dt,J=Pr;switch(At){case 8:Mg(),P=6;break e;case 3:case 2:case 9:case 6:ta.current===null&&(o=!0);var me=At;if(At=0,Pr=null,Lo(i,I,J,me),u&&Po){P=0;break e}break;default:me=At,At=0,Pr=null,Lo(i,I,J,me)}}V$(),P=rn;break}catch(_e){s_(i,_e)}while(!0);return o&&i.shellSuspendCounter++,vs=ul=null,kt=p,D.H=y,D.A=N,dt===null&&(Bt=null,gt=0,Yf()),P}function V$(){for(;dt!==null;)o_(dt)}function H$(i,o){var u=kt;kt|=2;var p=i_(),y=l_();Bt!==i||gt!==o?(_m=null,Sm=oe()+500,Ro(i,o)):Po=mr(i,o);e:do try{if(At!==0&&dt!==null){o=dt;var N=Pr;t:switch(At){case 1:At=0,Pr=null,Lo(i,o,N,1);break;case 2:case 9:if(bS(N)){At=0,Pr=null,c_(o);break}o=function(){At!==2&&At!==9||Bt!==i||(At=7),Ha(i)},N.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:bS(N)?(At=0,Pr=null,c_(o)):(At=0,Pr=null,Lo(i,o,N,7));break;case 5:var P=null;switch(dt.tag){case 26:P=dt.memoizedState;case 5:case 27:var I=dt;if(!P||H_(P)){At=0,Pr=null;var J=I.sibling;if(J!==null)dt=J;else{var me=I.return;me!==null?(dt=me,km(me)):dt=null}break t}}At=0,Pr=null,Lo(i,o,N,5);break;case 6:At=0,Pr=null,Lo(i,o,N,6);break;case 8:Mg(),rn=6;break e;default:throw Error(a(462))}}q$();break}catch(_e){s_(i,_e)}while(!0);return vs=ul=null,D.H=p,D.A=y,kt=u,dt!==null?0:(Bt=null,gt=0,Yf(),rn)}function q$(){for(;dt!==null&&!et();)o_(dt)}function o_(i){var o=R4(i.alternate,i,Cs);i.memoizedProps=i.pendingProps,o===null?km(i):dt=o}function c_(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=E4(u,o,o.pendingProps,o.type,void 0,gt);break;case 11:o=E4(u,o,o.pendingProps,o.type.render,o.ref,gt);break;case 5:Xx(o);default:$4(u,o),o=dt=uS(o,Cs),o=R4(u,o,Cs)}i.memoizedProps=i.pendingProps,o===null?km(i):dt=o}function Lo(i,o,u,p){vs=ul=null,Xx(o),ko=null,Cu=0;var y=o.return;try{if(D$(i,y,o,u,gt)){rn=1,vm(i,Zr(u,i.current)),dt=null;return}}catch(N){if(y!==null)throw dt=y,N;rn=1,vm(i,Zr(u,i.current)),dt=null;return}o.flags&32768?(_t||p===1?i=!0:Po||(gt&536870912)!==0?i=!1:(gi=i=!0,(p===2||p===9||p===3||p===6)&&(p=ta.current,p!==null&&p.tag===13&&(p.flags|=16384))),u_(o,i)):km(o)}function km(i){var o=i;do{if((o.flags&32768)!==0){u_(o,gi);return}i=o.return;var u=L$(o.alternate,o,Cs);if(u!==null){dt=u;return}if(o=o.sibling,o!==null){dt=o;return}dt=o=i}while(o!==null);rn===0&&(rn=5)}function u_(i,o){do{var u=$$(i.alternate,i);if(u!==null){u.flags&=32767,dt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){dt=i;return}dt=i=u}while(i!==null);rn=6,dt=null}function d_(i,o,u,p,y,N,P,I,J){i.cancelPendingCommit=null;do Am();while(zn!==0);if((kt&6)!==0)throw Error(a(327));if(o!==null){if(o===i.current)throw Error(a(177));if(N=o.lanes|o.childLanes,N|=_x,Ve(i,u,N,P,I,J),i===Bt&&(dt=Bt=null,gt=0),Mo=o,bi=i,Do=u,Tg=N,Pg=y,t_=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,W$(qe,function(){return x_(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=D.T,D.T=null,y=G.p,G.p=2,P=kt,kt|=4;try{I$(i,o,u)}finally{kt=P,G.p=y,D.T=p}}zn=1,f_(),m_(),h_()}}function f_(){if(zn===1){zn=0;var i=bi,o=Mo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=D.T,D.T=null;var p=G.p;G.p=2;var y=kt;kt|=4;try{Y4(o,i);var N=Gg,P=eS(i.containerInfo),I=N.focusedElem,J=N.selectionRange;if(P!==I&&I&&I.ownerDocument&&JN(I.ownerDocument.documentElement,I)){if(J!==null&&bx(I)){var me=J.start,_e=J.end;if(_e===void 0&&(_e=me),"selectionStart"in I)I.selectionStart=me,I.selectionEnd=Math.min(_e,I.value.length);else{var ke=I.ownerDocument||document,pe=ke&&ke.defaultView||window;if(pe.getSelection){var ve=pe.getSelection(),nt=I.textContent.length,Ze=Math.min(J.start,nt),Dt=J.end===void 0?Ze:Math.min(J.end,nt);!ve.extend&&Ze>Dt&&(P=Dt,Dt=Ze,Ze=P);var ie=QN(I,Ze),re=QN(I,Dt);if(ie&&re&&(ve.rangeCount!==1||ve.anchorNode!==ie.node||ve.anchorOffset!==ie.offset||ve.focusNode!==re.node||ve.focusOffset!==re.offset)){var de=ke.createRange();de.setStart(ie.node,ie.offset),ve.removeAllRanges(),Ze>Dt?(ve.addRange(de),ve.extend(re.node,re.offset)):(de.setEnd(re.node,re.offset),ve.addRange(de))}}}}for(ke=[],ve=I;ve=ve.parentNode;)ve.nodeType===1&&ke.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ke.length;I++){var Ce=ke[I];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Bm=!!Kg,Gg=Kg=null}finally{kt=y,G.p=p,D.T=u}}i.current=o,zn=2}}function m_(){if(zn===2){zn=0;var i=bi,o=Mo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=D.T,D.T=null;var p=G.p;G.p=2;var y=kt;kt|=4;try{H4(i,o.alternate,o)}finally{kt=y,G.p=p,D.T=u}}zn=3}}function h_(){if(zn===4||zn===3){zn=0,W();var i=bi,o=Mo,u=Do,p=t_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?zn=5:(zn=0,Mo=bi=null,p_(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(yi=null),Ct(u),o=o.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Pe,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=D.T,y=G.p,G.p=2,D.T=null;try{for(var N=i.onRecoverableError,P=0;P<p.length;P++){var I=p[P];N(I.value,{componentStack:I.stack})}}finally{D.T=o,G.p=y}}(Do&3)!==0&&Am(),Ha(i),y=i.pendingLanes,(u&4194090)!==0&&(y&42)!==0?i===Og?Ru++:(Ru=0,Og=i):Ru=0,Lu(0)}}function p_(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,pu(o)))}function Am(i){return f_(),m_(),h_(),x_()}function x_(){if(zn!==5)return!1;var i=bi,o=Tg;Tg=0;var u=Ct(Do),p=D.T,y=G.p;try{G.p=32>u?32:u,D.T=null,u=Pg,Pg=null;var N=bi,P=Do;if(zn=0,Mo=bi=null,Do=0,(kt&6)!==0)throw Error(a(331));var I=kt;if(kt|=4,J4(N.current),X4(N,N.current,P,u),kt=I,Lu(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Pe,N)}catch{}return!0}finally{G.p=y,D.T=p,p_(i,o)}}function g_(i,o,u){o=Zr(u,o),o=ug(i.stateNode,o,2),i=ui(i,o,2),i!==null&&(ae(i,2),Ha(i))}function Lt(i,o,u){if(i.tag===3)g_(i,i,u);else for(;o!==null;){if(o.tag===3){g_(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(yi===null||!yi.has(p))){i=Zr(u,i),u=w4(2),p=ui(o,u,2),p!==null&&(j4(u,p,o,i),ae(p,2),Ha(p));break}}o=o.return}}function Lg(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new U$;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(u)||(Cg=!0,y.add(u),i=K$.bind(null,i,o,u),o.then(i,i))}function K$(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bt===i&&(gt&u)===u&&(rn===4||rn===3&&(gt&62914560)===gt&&300>oe()-Eg?(kt&2)===0&&Ro(i,0):kg|=u,Oo===gt&&(Oo=0)),Ha(i)}function v_(i,o){o===0&&(o=Z()),i=go(i,o),i!==null&&(ae(i,o),Ha(i))}function G$(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),v_(i,u)}function Y$(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(a(314))}p!==null&&p.delete(o),v_(i,u)}function W$(i,o){return $e(i,o)}var Em=null,$o=null,$g=!1,Tm=!1,Ig=!1,gl=0;function Ha(i){i!==$o&&i.next===null&&($o===null?Em=$o=i:$o=$o.next=i),Tm=!0,$g||($g=!0,Z$())}function Lu(i,o){if(!Ig&&Tm){Ig=!0;do for(var u=!1,p=Em;p!==null;){if(i!==0){var y=p.pendingLanes;if(y===0)var N=0;else{var P=p.suspendedLanes,I=p.pingedLanes;N=(1<<31-Le(42|i)+1)-1,N&=y&~(P&~I),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,j_(p,N))}else N=gt,N=$n(p,p===Bt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||mr(p,N)||(u=!0,j_(p,N));p=p.next}while(u);Ig=!1}}function X$(){y_()}function y_(){Tm=$g=!1;var i=0;gl!==0&&(s9()&&(i=gl),gl=0);for(var o=oe(),u=null,p=Em;p!==null;){var y=p.next,N=b_(p,o);N===0?(p.next=null,u===null?Em=y:u.next=y,y===null&&($o=u)):(u=p,(i!==0||(N&3)!==0)&&(Tm=!0)),p=y}Lu(i)}function b_(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var P=31-Le(N),I=1<<P,J=y[P];J===-1?((I&u)===0||(I&p)!==0)&&(y[P]=ri(I,o)):J<=o&&(i.expiredLanes|=I),N&=~I}if(o=Bt,u=gt,u=$n(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===o&&(At===2||At===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&ze(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||mr(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(p!==null&&ze(p),Ct(u)){case 2:case 8:u=Ee;break;case 32:u=qe;break;case 268435456:u=tt;break;default:u=qe}return p=w_.bind(null,i),u=$e(u,p),i.callbackPriority=o,i.callbackNode=u,o}return p!==null&&p!==null&&ze(p),i.callbackPriority=2,i.callbackNode=null,2}function w_(i,o){if(zn!==0&&zn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Am()&&i.callbackNode!==u)return null;var p=gt;return p=$n(i,i===Bt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(r_(i,p,o),b_(i,oe()),i.callbackNode!=null&&i.callbackNode===u?w_.bind(null,i):null)}function j_(i,o){if(Am())return null;r_(i,o,!0)}function Z$(){l9(function(){(kt&6)!==0?$e(je,X$):y_()})}function zg(){return gl===0&&(gl=fe()),gl}function N_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Uf(""+i)}function S_(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function Q$(i,o,u,p,y){if(o==="submit"&&u&&u.stateNode===y){var N=N_((y[en]||null).action),P=p.submitter;P&&(o=(o=P[en]||null)?N_(o.formAction):P.getAttribute("formAction"),o!==null&&(N=o,P=null));var I=new qf("action","action",null,p,y);i.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(gl!==0){var J=P?S_(y,P):new FormData(y);sg(u,{pending:!0,data:J,method:y.method,action:N},null,J)}}else typeof N=="function"&&(I.preventDefault(),J=P?S_(y,P):new FormData(y),sg(u,{pending:!0,data:J,method:y.method,action:N},N,J))},currentTarget:y}]})}}for(var Bg=0;Bg<Sx.length;Bg++){var Ug=Sx[Bg],J$=Ug.toLowerCase(),e9=Ug[0].toUpperCase()+Ug.slice(1);ba(J$,"on"+e9)}ba(rS,"onAnimationEnd"),ba(aS,"onAnimationIteration"),ba(sS,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(g$,"onTransitionRun"),ba(v$,"onTransitionStart"),ba(y$,"onTransitionCancel"),ba(iS,"onTransitionEnd"),Ie("onMouseEnter",["mouseout","mouseover"]),Ie("onMouseLeave",["mouseout","mouseover"]),Ie("onPointerEnter",["pointerout","pointerover"]),Ie("onPointerLeave",["pointerout","pointerover"]),Re("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Re("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Re("onBeforeInput",["compositionend","keypress","textInput","paste"]),Re("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($u));function __(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],y=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var P=p.length-1;0<=P;P--){var I=p[P],J=I.instance,me=I.currentTarget;if(I=I.listener,J!==N&&y.isPropagationStopped())break e;N=I,y.currentTarget=me;try{N(y)}catch(_e){gm(_e)}y.currentTarget=null,N=J}else for(P=0;P<p.length;P++){if(I=p[P],J=I.instance,me=I.currentTarget,I=I.listener,J!==N&&y.isPropagationStopped())break e;N=I,y.currentTarget=me;try{N(y)}catch(_e){gm(_e)}y.currentTarget=null,N=J}}}}function ft(i,o){var u=o[so];u===void 0&&(u=o[so]=new Set);var p=i+"__bubble";u.has(p)||(C_(o,i,2,!1),u.add(p))}function Fg(i,o,u){var p=0;o&&(p|=4),C_(u,i,p,o)}var Pm="_reactListening"+Math.random().toString(36).slice(2);function Vg(i){if(!i[Pm]){i[Pm]=!0,Ae.forEach(function(u){u!=="selectionchange"&&(t9.has(u)||Fg(u,!1,i),Fg(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Pm]||(o[Pm]=!0,Fg("selectionchange",!1,o))}}function C_(i,o,u,p){switch(X_(o)){case 2:var y=A9;break;case 8:y=E9;break;default:y=rv}u=y.bind(null,o,u,i),y=void 0,!dx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(o,u,{capture:!0,passive:y}):i.addEventListener(o,u,!0):y!==void 0?i.addEventListener(o,u,{passive:y}):i.addEventListener(o,u,!1)}function Hg(i,o,u,p,y){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var I=p.stateNode.containerInfo;if(I===y)break;if(P===4)for(P=p.return;P!==null;){var J=P.tag;if((J===3||J===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;I!==null;){if(P=us(I),P===null)return;if(J=P.tag,J===5||J===6||J===26||J===27){p=N=P;continue e}I=I.parentNode}}p=p.return}MN(function(){var me=N,_e=cx(u),ke=[];e:{var pe=lS.get(i);if(pe!==void 0){var ve=qf,nt=i;switch(i){case"keypress":if(Vf(u)===0)break e;case"keydown":case"keyup":ve=WL;break;case"focusin":nt="focus",ve=px;break;case"focusout":nt="blur",ve=px;break;case"beforeblur":case"afterblur":ve=px;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=LN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=$L;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=QL;break;case rS:case aS:case sS:ve=BL;break;case iS:ve=e$;break;case"scroll":case"scrollend":ve=RL;break;case"wheel":ve=n$;break;case"copy":case"cut":case"paste":ve=FL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=IN;break;case"toggle":case"beforetoggle":ve=a$}var Ze=(o&4)!==0,Dt=!Ze&&(i==="scroll"||i==="scrollend"),ie=Ze?pe!==null?pe+"Capture":null:pe;Ze=[];for(var re=me,de;re!==null;){var Ce=re;if(de=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||de===null||ie===null||(Ce=nu(re,ie),Ce!=null&&Ze.push(Iu(re,Ce,de))),Dt)break;re=re.return}0<Ze.length&&(pe=new ve(pe,nt,null,u,_e),ke.push({event:pe,listeners:Ze}))}}if((o&7)===0){e:{if(pe=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",pe&&u!==ox&&(nt=u.relatedTarget||u.fromElement)&&(us(nt)||nt[cs]))break e;if((ve||pe)&&(pe=_e.window===_e?_e:(pe=_e.ownerDocument)?pe.defaultView||pe.parentWindow:window,ve?(nt=u.relatedTarget||u.toElement,ve=me,nt=nt?us(nt):null,nt!==null&&(Dt=l(nt),Ze=nt.tag,nt!==Dt||Ze!==5&&Ze!==27&&Ze!==6)&&(nt=null)):(ve=null,nt=me),ve!==nt)){if(Ze=LN,Ce="onMouseLeave",ie="onMouseEnter",re="mouse",(i==="pointerout"||i==="pointerover")&&(Ze=IN,Ce="onPointerLeave",ie="onPointerEnter",re="pointer"),Dt=ve==null?pe:si(ve),de=nt==null?pe:si(nt),pe=new Ze(Ce,re+"leave",ve,u,_e),pe.target=Dt,pe.relatedTarget=de,Ce=null,us(_e)===me&&(Ze=new Ze(ie,re+"enter",nt,u,_e),Ze.target=de,Ze.relatedTarget=Dt,Ce=Ze),Dt=Ce,ve&&nt)t:{for(Ze=ve,ie=nt,re=0,de=Ze;de;de=Io(de))re++;for(de=0,Ce=ie;Ce;Ce=Io(Ce))de++;for(;0<re-de;)Ze=Io(Ze),re--;for(;0<de-re;)ie=Io(ie),de--;for(;re--;){if(Ze===ie||ie!==null&&Ze===ie.alternate)break t;Ze=Io(Ze),ie=Io(ie)}Ze=null}else Ze=null;ve!==null&&k_(ke,pe,ve,Ze,!1),nt!==null&&Dt!==null&&k_(ke,Dt,nt,Ze,!0)}}e:{if(pe=me?si(me):window,ve=pe.nodeName&&pe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&pe.type==="file")var He=KN;else if(HN(pe))if(GN)He=h$;else{He=f$;var ct=d$}else ve=pe.nodeName,!ve||ve.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?me&&lx(me.elementType)&&(He=KN):He=m$;if(He&&(He=He(i,me))){qN(ke,He,u,_e);break e}ct&&ct(i,pe,me),i==="focusout"&&me&&pe.type==="number"&&me.memoizedProps.value!=null&&ix(pe,"number",pe.value)}switch(ct=me?si(me):window,i){case"focusin":(HN(ct)||ct.contentEditable==="true")&&(ho=ct,wx=me,uu=null);break;case"focusout":uu=wx=ho=null;break;case"mousedown":jx=!0;break;case"contextmenu":case"mouseup":case"dragend":jx=!1,tS(ke,u,_e);break;case"selectionchange":if(x$)break;case"keydown":case"keyup":tS(ke,u,_e)}var Ge;if(gx)e:{switch(i){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else mo?FN(i,u)&&(Je="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Je="onCompositionStart");Je&&(zN&&u.locale!=="ko"&&(mo||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&mo&&(Ge=DN()):(ii=_e,fx="value"in ii?ii.value:ii.textContent,mo=!0)),ct=Om(me,Je),0<ct.length&&(Je=new $N(Je,i,null,u,_e),ke.push({event:Je,listeners:ct}),Ge?Je.data=Ge:(Ge=VN(u),Ge!==null&&(Je.data=Ge)))),(Ge=i$?l$(i,u):o$(i,u))&&(Je=Om(me,"onBeforeInput"),0<Je.length&&(ct=new $N("onBeforeInput","beforeinput",null,u,_e),ke.push({event:ct,listeners:Je}),ct.data=Ge)),Q$(ke,i,me,u,_e)}__(ke,o)})}function Iu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Om(i,o){for(var u=o+"Capture",p=[];i!==null;){var y=i,N=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||N===null||(y=nu(i,u),y!=null&&p.unshift(Iu(i,y,N)),y=nu(i,o),y!=null&&p.push(Iu(i,y,N))),i.tag===3)return p;i=i.return}return[]}function Io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function k_(i,o,u,p,y){for(var N=o._reactName,P=[];u!==null&&u!==p;){var I=u,J=I.alternate,me=I.stateNode;if(I=I.tag,J!==null&&J===p)break;I!==5&&I!==26&&I!==27||me===null||(J=me,y?(me=nu(u,N),me!=null&&P.unshift(Iu(u,me,J))):y||(me=nu(u,N),me!=null&&P.push(Iu(u,me,J)))),u=u.return}P.length!==0&&i.push({event:o,listeners:P})}var n9=/\r\n?/g,r9=/\u0000|\uFFFD/g;function A_(i){return(typeof i=="string"?i:""+i).replace(n9,`
`).replace(r9,"")}function E_(i,o){return o=A_(o),A_(i)===o}function Mm(){}function Mt(i,o,u,p,y,N){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||co(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&co(i,""+p);break;case"className":If(i,"class",p);break;case"tabIndex":If(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":If(i,u,p);break;case"style":PN(i,p,N);break;case"data":if(o!=="object"){If(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Uf(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(o!=="input"&&Mt(i,o,"name",y.name,y,null),Mt(i,o,"formEncType",y.formEncType,y,null),Mt(i,o,"formMethod",y.formMethod,y,null),Mt(i,o,"formTarget",y.formTarget,y,null)):(Mt(i,o,"encType",y.encType,y,null),Mt(i,o,"method",y.method,y,null),Mt(i,o,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Uf(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=Mm);break;case"onScroll":p!=null&&ft("scroll",i);break;case"onScrollEnd":p!=null&&ft("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=Uf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":ft("beforetoggle",i),ft("toggle",i),$f(i,"popover",p);break;case"xlinkActuate":ms(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ms(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ms(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ms(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ms(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ms(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ms(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ms(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ms(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":$f(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ML.get(u)||u,$f(i,u,p))}}function qg(i,o,u,p,y,N){switch(u){case"style":PN(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof p=="string"?co(i,p):(typeof p=="number"||typeof p=="bigint")&&co(i,""+p);break;case"onScroll":p!=null&&ft("scroll",i);break;case"onScrollEnd":p!=null&&ft("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Mm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fe.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),N=i[en]||null,N=N!=null?N[u]:null,typeof N=="function"&&i.removeEventListener(o,N,y),typeof p=="function")){typeof N!="function"&&N!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,p,y);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):$f(i,u,p)}}}function Bn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",i),ft("load",i);var p=!1,y=!1,N;for(N in u)if(u.hasOwnProperty(N)){var P=u[N];if(P!=null)switch(N){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:Mt(i,o,N,P,u,null)}}y&&Mt(i,o,"srcSet",u.srcSet,u,null),p&&Mt(i,o,"src",u.src,u,null);return;case"input":ft("invalid",i);var I=N=P=y=null,J=null,me=null;for(p in u)if(u.hasOwnProperty(p)){var _e=u[p];if(_e!=null)switch(p){case"name":y=_e;break;case"type":P=_e;break;case"checked":J=_e;break;case"defaultChecked":me=_e;break;case"value":N=_e;break;case"defaultValue":I=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(a(137,o));break;default:Mt(i,o,p,_e,u,null)}}kN(i,N,I,J,me,P,y,!1),zf(i);return;case"select":ft("invalid",i),p=P=N=null;for(y in u)if(u.hasOwnProperty(y)&&(I=u[y],I!=null))switch(y){case"value":N=I;break;case"defaultValue":P=I;break;case"multiple":p=I;default:Mt(i,o,y,I,u,null)}o=N,u=P,i.multiple=!!p,o!=null?oo(i,!!p,o,!1):u!=null&&oo(i,!!p,u,!0);return;case"textarea":ft("invalid",i),N=y=p=null;for(P in u)if(u.hasOwnProperty(P)&&(I=u[P],I!=null))switch(P){case"value":p=I;break;case"defaultValue":y=I;break;case"children":N=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:Mt(i,o,P,I,u,null)}EN(i,p,y,N),zf(i);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(p=u[J],p!=null))switch(J){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Mt(i,o,J,p,u,null)}return;case"dialog":ft("beforetoggle",i),ft("toggle",i),ft("cancel",i),ft("close",i);break;case"iframe":case"object":ft("load",i);break;case"video":case"audio":for(p=0;p<$u.length;p++)ft($u[p],i);break;case"image":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"embed":case"source":case"link":ft("error",i),ft("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in u)if(u.hasOwnProperty(me)&&(p=u[me],p!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:Mt(i,o,me,p,u,null)}return;default:if(lx(o)){for(_e in u)u.hasOwnProperty(_e)&&(p=u[_e],p!==void 0&&qg(i,o,_e,p,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(p=u[I],p!=null&&Mt(i,o,I,p,u,null))}function a9(i,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,N=null,P=null,I=null,J=null,me=null,_e=null;for(ve in u){var ke=u[ve];if(u.hasOwnProperty(ve)&&ke!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":J=ke;default:p.hasOwnProperty(ve)||Mt(i,o,ve,null,p,ke)}}for(var pe in p){var ve=p[pe];if(ke=u[pe],p.hasOwnProperty(pe)&&(ve!=null||ke!=null))switch(pe){case"type":N=ve;break;case"name":y=ve;break;case"checked":me=ve;break;case"defaultChecked":_e=ve;break;case"value":P=ve;break;case"defaultValue":I=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(a(137,o));break;default:ve!==ke&&Mt(i,o,pe,ve,p,ke)}}sx(i,P,I,J,me,_e,N,y);return;case"select":ve=P=I=pe=null;for(N in u)if(J=u[N],u.hasOwnProperty(N)&&J!=null)switch(N){case"value":break;case"multiple":ve=J;default:p.hasOwnProperty(N)||Mt(i,o,N,null,p,J)}for(y in p)if(N=p[y],J=u[y],p.hasOwnProperty(y)&&(N!=null||J!=null))switch(y){case"value":pe=N;break;case"defaultValue":I=N;break;case"multiple":P=N;default:N!==J&&Mt(i,o,y,N,p,J)}o=I,u=P,p=ve,pe!=null?oo(i,!!u,pe,!1):!!p!=!!u&&(o!=null?oo(i,!!u,o,!0):oo(i,!!u,u?[]:"",!1));return;case"textarea":ve=pe=null;for(I in u)if(y=u[I],u.hasOwnProperty(I)&&y!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Mt(i,o,I,null,p,y)}for(P in p)if(y=p[P],N=u[P],p.hasOwnProperty(P)&&(y!=null||N!=null))switch(P){case"value":pe=y;break;case"defaultValue":ve=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==N&&Mt(i,o,P,y,p,N)}AN(i,pe,ve);return;case"option":for(var nt in u)if(pe=u[nt],u.hasOwnProperty(nt)&&pe!=null&&!p.hasOwnProperty(nt))switch(nt){case"selected":i.selected=!1;break;default:Mt(i,o,nt,null,p,pe)}for(J in p)if(pe=p[J],ve=u[J],p.hasOwnProperty(J)&&pe!==ve&&(pe!=null||ve!=null))switch(J){case"selected":i.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:Mt(i,o,J,pe,p,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in u)pe=u[Ze],u.hasOwnProperty(Ze)&&pe!=null&&!p.hasOwnProperty(Ze)&&Mt(i,o,Ze,null,p,pe);for(me in p)if(pe=p[me],ve=u[me],p.hasOwnProperty(me)&&pe!==ve&&(pe!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(a(137,o));break;default:Mt(i,o,me,pe,p,ve)}return;default:if(lx(o)){for(var Dt in u)pe=u[Dt],u.hasOwnProperty(Dt)&&pe!==void 0&&!p.hasOwnProperty(Dt)&&qg(i,o,Dt,void 0,p,pe);for(_e in p)pe=p[_e],ve=u[_e],!p.hasOwnProperty(_e)||pe===ve||pe===void 0&&ve===void 0||qg(i,o,_e,pe,p,ve);return}}for(var ie in u)pe=u[ie],u.hasOwnProperty(ie)&&pe!=null&&!p.hasOwnProperty(ie)&&Mt(i,o,ie,null,p,pe);for(ke in p)pe=p[ke],ve=u[ke],!p.hasOwnProperty(ke)||pe===ve||pe==null&&ve==null||Mt(i,o,ke,pe,p,ve)}var Kg=null,Gg=null;function Dm(i){return i.nodeType===9?i:i.ownerDocument}function T_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Yg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Wg=null;function s9(){var i=window.event;return i&&i.type==="popstate"?i===Wg?!1:(Wg=i,!0):(Wg=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,i9=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,l9=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(i){return M_.resolve(null).then(i).catch(o9)}:O_;function o9(i){setTimeout(function(){throw i})}function ji(i){return i==="head"}function D_(i,o){var u=o,p=0,y=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<p&&8>p){u=p;var P=i.ownerDocument;if(u&1&&zu(P.documentElement),u&2&&zu(P.body),u&4)for(u=P.head,zu(u),P=u.firstChild;P;){var I=P.nextSibling,J=P.nodeName;P[ai]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&P.rel.toLowerCase()==="stylesheet"||u.removeChild(P),P=I}}if(y===0){i.removeChild(N),Gu(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:p=u.charCodeAt(0)-48;else p=0;u=N}while(u);Gu(o)}function Xg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Xg(u),io(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function c9(i,o,u,p){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[ai])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=ja(i.nextSibling),i===null)break}return null}function u9(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ja(i.nextSibling),i===null))return null;return i}function Zg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function d9(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function ja(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Qg=null;function R_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function L_(i,o,u){switch(o=Dm(u),i){case"html":if(i=o.documentElement,!i)throw Error(a(452));return i;case"head":if(i=o.head,!i)throw Error(a(453));return i;case"body":if(i=o.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function zu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);io(i)}var ra=new Map,$_=new Set;function Rm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ks=G.d;G.d={f:f9,r:m9,D:h9,C:p9,L:x9,m:g9,X:y9,S:v9,M:b9};function f9(){var i=ks.f(),o=Cm();return i||o}function m9(i){var o=ds(i);o!==null&&o.tag===5&&o.type==="form"?r4(o):ks.r(i)}var zo=typeof document>"u"?null:document;function I_(i,o,u){var p=zo;if(p&&typeof o=="string"&&o){var y=Xr(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),$_.has(y)||($_.add(y),i={rel:i,crossOrigin:u,href:o},p.querySelector(y)===null&&(o=p.createElement("link"),Bn(o,"link",i),le(o),p.head.appendChild(o)))}}function h9(i){ks.D(i),I_("dns-prefetch",i,null)}function p9(i,o){ks.C(i,o),I_("preconnect",i,o)}function x9(i,o,u){ks.L(i,o,u);var p=zo;if(p&&i&&o){var y='link[rel="preload"][as="'+Xr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Xr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Xr(u.imageSizes)+'"]')):y+='[href="'+Xr(i)+'"]';var N=y;switch(o){case"style":N=Bo(i);break;case"script":N=Uo(i)}ra.has(N)||(i=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),ra.set(N,i),p.querySelector(y)!==null||o==="style"&&p.querySelector(Bu(N))||o==="script"&&p.querySelector(Uu(N))||(o=p.createElement("link"),Bn(o,"link",i),le(o),p.head.appendChild(o)))}}function g9(i,o){ks.m(i,o);var u=zo;if(u&&i){var p=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Xr(p)+'"][href="'+Xr(i)+'"]',N=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Uo(i)}if(!ra.has(N)&&(i=h({rel:"modulepreload",href:i},o),ra.set(N,i),u.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Uu(N)))return}p=u.createElement("link"),Bn(p,"link",i),le(p),u.head.appendChild(p)}}}function v9(i,o,u){ks.S(i,o,u);var p=zo;if(p&&i){var y=fs(p).hoistableStyles,N=Bo(i);o=o||"default";var P=y.get(N);if(!P){var I={loading:0,preload:null};if(P=p.querySelector(Bu(N)))I.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":o},u),(u=ra.get(N))&&Jg(i,u);var J=P=p.createElement("link");le(J),Bn(J,"link",i),J._p=new Promise(function(me,_e){J.onload=me,J.onerror=_e}),J.addEventListener("load",function(){I.loading|=1}),J.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Lm(P,o,p)}P={type:"stylesheet",instance:P,count:1,state:I},y.set(N,P)}}}function y9(i,o){ks.X(i,o);var u=zo;if(u&&i){var p=fs(u).hoistableScripts,y=Uo(i),N=p.get(y);N||(N=u.querySelector(Uu(y)),N||(i=h({src:i,async:!0},o),(o=ra.get(y))&&ev(i,o),N=u.createElement("script"),le(N),Bn(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function b9(i,o){ks.M(i,o);var u=zo;if(u&&i){var p=fs(u).hoistableScripts,y=Uo(i),N=p.get(y);N||(N=u.querySelector(Uu(y)),N||(i=h({src:i,async:!0,type:"module"},o),(o=ra.get(y))&&ev(i,o),N=u.createElement("script"),le(N),Bn(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function z_(i,o,u,p){var y=(y=H.current)?Rm(y):null;if(!y)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Bo(u.href),u=fs(y).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Bo(u.href);var N=fs(y).hoistableStyles,P=N.get(i);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,P),(N=y.querySelector(Bu(i)))&&!N._p&&(P.instance=N,P.state.loading=5),ra.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ra.set(i,u),N||w9(y,i,u,P.state))),o&&p===null)throw Error(a(528,""));return P}if(o&&p!==null)throw Error(a(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Uo(u),u=fs(y).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Bo(i){return'href="'+Xr(i)+'"'}function Bu(i){return'link[rel="stylesheet"]['+i+"]"}function B_(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function w9(i,o,u,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Bn(o,"link",u),le(o),i.head.appendChild(o))}function Uo(i){return'[src="'+Xr(i)+'"]'}function Uu(i){return"script[async]"+i}function U_(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+Xr(u.href)+'"]');if(p)return o.instance=p,le(p),p;var y=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),le(p),Bn(p,"style",y),Lm(p,u.precedence,i),o.instance=p;case"stylesheet":y=Bo(u.href);var N=i.querySelector(Bu(y));if(N)return o.state.loading|=4,o.instance=N,le(N),N;p=B_(u),(y=ra.get(y))&&Jg(p,y),N=(i.ownerDocument||i).createElement("link"),le(N);var P=N;return P._p=new Promise(function(I,J){P.onload=I,P.onerror=J}),Bn(N,"link",p),o.state.loading|=4,Lm(N,u.precedence,i),o.instance=N;case"script":return N=Uo(u.src),(y=i.querySelector(Uu(N)))?(o.instance=y,le(y),y):(p=u,(y=ra.get(N))&&(p=h({},u),ev(p,y)),i=i.ownerDocument||i,y=i.createElement("script"),le(y),Bn(y,"link",p),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Lm(p,u.precedence,i));return o.instance}function Lm(i,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,N=y,P=0;P<p.length;P++){var I=p[P];if(I.dataset.precedence===o)N=I;else if(N!==y)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Jg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function ev(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var $m=null;function F_(i,o,u){if($m===null){var p=new Map,y=$m=new Map;y.set(u,p)}else y=$m,p=y.get(u),p||(p=new Map,y.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var N=u[y];if(!(N[ai]||N[St]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var P=N.getAttribute(o)||"";P=i+P;var I=p.get(P);I?I.push(N):p.set(P,[N])}}return p}function V_(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function j9(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function H_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Fu=null;function N9(){}function S9(i,o,u){if(Fu===null)throw Error(a(475));var p=Fu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Bo(u.href),N=i.querySelector(Bu(y));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=Im.bind(p),i.then(p,p)),o.state.loading|=4,o.instance=N,le(N);return}N=i.ownerDocument||i,u=B_(u),(y=ra.get(y))&&Jg(u,y),N=N.createElement("link"),le(N);var P=N;P._p=new Promise(function(I,J){P.onload=I,P.onerror=J}),Bn(N,"link",u),o.instance=N}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=Im.bind(p),i.addEventListener("load",o),i.addEventListener("error",o))}}function _9(){if(Fu===null)throw Error(a(475));var i=Fu;return i.stylesheets&&i.count===0&&tv(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&tv(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Im(){if(this.count--,this.count===0){if(this.stylesheets)tv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zm=null;function tv(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zm=new Map,o.forEach(C9,i),zm=null,Im.call(i))}function C9(i,o){if(!(o.state.loading&4)){var u=zm.get(i);if(u)var p=u.get(null);else{u=new Map,zm.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<y.length;N++){var P=y[N];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(u.set(P.dataset.precedence,P),p=P)}p&&u.set(null,p)}y=o.instance,P=y.getAttribute("data-precedence"),N=u.get(P)||p,N===p&&u.set(null,y),u.set(P,y),this.count++,p=Im.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),N?N.parentNode.insertBefore(y,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Vu={$$typeof:k,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function k9(i,o,u,p,y,N,P,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ee(0),this.hiddenUpdates=ee(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=N,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function q_(i,o,u,p,y,N,P,I,J,me,_e,ke){return i=new k9(i,o,u,P,I,J,me,ke),o=1,N===!0&&(o|=24),N=Ar(3,null,null,o),i.current=N,N.stateNode=i,o=Lx(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:u,cache:o},Bx(N),i}function K_(i){return i?(i=vo,i):vo}function G_(i,o,u,p,y,N){y=K_(y),p.context===null?p.context=y:p.pendingContext=y,p=ci(o),p.payload={element:u},N=N===void 0?null:N,N!==null&&(p.callback=N),u=ui(i,p,o),u!==null&&(Mr(u,i,o),yu(u,i,o))}function Y_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function nv(i,o){Y_(i,o),(i=i.alternate)&&Y_(i,o)}function W_(i){if(i.tag===13){var o=go(i,67108864);o!==null&&Mr(o,i,67108864),nv(i,67108864)}}var Bm=!0;function A9(i,o,u,p){var y=D.T;D.T=null;var N=G.p;try{G.p=2,rv(i,o,u,p)}finally{G.p=N,D.T=y}}function E9(i,o,u,p){var y=D.T;D.T=null;var N=G.p;try{G.p=8,rv(i,o,u,p)}finally{G.p=N,D.T=y}}function rv(i,o,u,p){if(Bm){var y=av(p);if(y===null)Hg(i,o,p,Um,u),Z_(i,p);else if(P9(y,i,o,u,p))p.stopPropagation();else if(Z_(i,p),o&4&&-1<T9.indexOf(i)){for(;y!==null;){var N=ds(y);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var P=Ln(N.pendingLanes);if(P!==0){var I=N;for(I.pendingLanes|=2,I.entangledLanes|=2;P;){var J=1<<31-Le(P);I.entanglements[1]|=J,P&=~J}Ha(N),(kt&6)===0&&(Sm=oe()+500,Lu(0))}}break;case 13:I=go(N,2),I!==null&&Mr(I,N,2),Cm(),nv(N,2)}if(N=av(p),N===null&&Hg(i,o,p,Um,u),N===y)break;y=N}y!==null&&p.stopPropagation()}else Hg(i,o,p,null,u)}}function av(i){return i=cx(i),sv(i)}var Um=null;function sv(i){if(Um=null,i=us(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Um=i,null}function X_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X()){case je:return 2;case Ee:return 8;case qe:case Te:return 32;case tt:return 268435456;default:return 32}default:return 32}}var iv=!1,Ni=null,Si=null,_i=null,Hu=new Map,qu=new Map,Ci=[],T9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(i,o){switch(i){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Hu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(o.pointerId)}}function Ku(i,o,u,p,y,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:N,targetContainers:[y]},o!==null&&(o=ds(o),o!==null&&W_(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function P9(i,o,u,p,y){switch(o){case"focusin":return Ni=Ku(Ni,i,o,u,p,y),!0;case"dragenter":return Si=Ku(Si,i,o,u,p,y),!0;case"mouseover":return _i=Ku(_i,i,o,u,p,y),!0;case"pointerover":var N=y.pointerId;return Hu.set(N,Ku(Hu.get(N)||null,i,o,u,p,y)),!0;case"gotpointercapture":return N=y.pointerId,qu.set(N,Ku(qu.get(N)||null,i,o,u,p,y)),!0}return!1}function Q_(i){var o=us(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,ya(i.priority,function(){if(u.tag===13){var p=Or();p=at(p);var y=go(u,p);y!==null&&Mr(y,u,p),nv(u,p)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=av(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);ox=p,u.target.dispatchEvent(p),ox=null}else return o=ds(u),o!==null&&W_(o),i.blockedOn=u,!1;o.shift()}return!0}function J_(i,o,u){Fm(i)&&u.delete(o)}function O9(){iv=!1,Ni!==null&&Fm(Ni)&&(Ni=null),Si!==null&&Fm(Si)&&(Si=null),_i!==null&&Fm(_i)&&(_i=null),Hu.forEach(J_),qu.forEach(J_)}function Vm(i,o){i.blockedOn===o&&(i.blockedOn=null,iv||(iv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,O9)))}var Hm=null;function e5(i){Hm!==i&&(Hm=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hm===i&&(Hm=null);for(var o=0;o<i.length;o+=3){var u=i[o],p=i[o+1],y=i[o+2];if(typeof p!="function"){if(sv(p||u)===null)continue;break}var N=ds(u);N!==null&&(i.splice(o,3),o-=3,sg(N,{pending:!0,data:y,method:u.method,action:p},p,y))}}))}function Gu(i){function o(J){return Vm(J,i)}Ni!==null&&Vm(Ni,i),Si!==null&&Vm(Si,i),_i!==null&&Vm(_i,i),Hu.forEach(o),qu.forEach(o);for(var u=0;u<Ci.length;u++){var p=Ci[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Ci.length&&(u=Ci[0],u.blockedOn===null);)Q_(u),u.blockedOn===null&&Ci.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var y=u[p],N=u[p+1],P=y[en]||null;if(typeof N=="function")P||e5(u);else if(P){var I=null;if(N&&N.hasAttribute("formAction")){if(y=N,P=N[en]||null)I=P.formAction;else if(sv(y)!==null)continue}else I=P.action;typeof I=="function"?u[p+1]=I:(u.splice(p,3),p-=3),e5(u)}}}function lv(i){this._internalRoot=i}qm.prototype.render=lv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(a(409));var u=o.current,p=Or();G_(u,p,i,o,null,null)},qm.prototype.unmount=lv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;G_(i.current,2,null,i,null,null),Cm(),o[cs]=null}};function qm(i){this._internalRoot=i}qm.prototype.unstable_scheduleHydration=function(i){if(i){var o=Pt();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ci.length&&o!==0&&o<Ci[u].priority;u++);Ci.splice(u,0,i),u===0&&Q_(i)}};var t5=t.version;if(t5!=="19.1.0")throw Error(a(527,t5,"19.1.0"));G.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=f(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var M9={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Km.isDisabled&&Km.supportsFiber)try{Pe=Km.inject(M9),Me=Km}catch{}}return Wu.createRoot=function(i,o){if(!s(i))throw Error(a(299));var u=!1,p="",y=g4,N=v4,P=y4,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks)),o=q_(i,1,!1,null,null,u,p,y,N,P,I,null),i[cs]=o.current,Vg(i),new lv(o)},Wu.hydrateRoot=function(i,o,u){if(!s(i))throw Error(a(299));var p=!1,y="",N=g4,P=v4,I=y4,J=null,me=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(J=u.unstable_transitionCallbacks),u.formState!==void 0&&(me=u.formState)),o=q_(i,1,!0,o,u??null,p,y,N,P,I,J,me),o.context=K_(null),u=o.current,p=Or(),p=at(p),y=ci(p),y.callback=null,ui(u,y,p),u=p,o.current.lanes=u,ae(o,u),Ha(o),i[cs]=o.current,Vg(i),new qm(o)},Wu.version="19.1.0",Wu}var d5;function K9(){if(d5)return dv.exports;d5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dv.exports=q9(),dv.exports}var G9=K9();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var f5="popstate";function Y9(e={}){function t(a,s){let{pathname:l,search:c,hash:d}=a.location;return Qb("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Id(s)}return X9(t,n,null,e)}function Qt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Da(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W9(){return Math.random().toString(36).substring(2,10)}function m5(e,t){return{usr:e.state,key:e.key,idx:t}}function Qb(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Rc(t):t,state:n,key:t&&t.key||a||W9()}}function Id({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Rc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function X9(e,t,n,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,d="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function x(){d="POP";let S=h(),_=S==null?null:S-m;m=S,f&&f({action:d,location:j.location,delta:_})}function g(S,_){d="PUSH";let C=Qb(j.location,S,_);m=h()+1;let k=m5(C,m),O=j.createHref(C);try{c.pushState(k,"",O)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(O)}l&&f&&f({action:d,location:j.location,delta:1})}function b(S,_){d="REPLACE";let C=Qb(j.location,S,_);m=h();let k=m5(C,m),O=j.createHref(C);c.replaceState(k,"",O),l&&f&&f({action:d,location:j.location,delta:0})}function w(S){return Z9(S)}let j={get action(){return d},get location(){return e(s,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(f5,x),f=S,()=>{s.removeEventListener(f5,x),f=null}},createHref(S){return t(s,S)},createURL:w,encodeLocation(S){let _=w(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:b,go(S){return c.go(S)}};return j}function Z9(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Id(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function l6(e,t,n="/"){return Q9(e,t,n,!1)}function Q9(e,t,n,a){let s=typeof t=="string"?Rc(t):t,l=Bs(s.pathname||"/",n);if(l==null)return null;let c=o6(e);J9(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=u7(l);d=o7(c[f],m,a)}return d}function o6(e,t=[],n=[],a=""){let s=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Qt(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length));let m=Rs([a,f.relativePath]),h=n.concat(f);l.children&&l.children.length>0&&(Qt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),o6(l.children,t,h,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:i7(m,l.index),routesMeta:h})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let f of c6(l.path))s(l,c,f)}),t}function c6(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let c=c6(a.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),s&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function J9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:l7(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var e7=/^:[\w-]+$/,t7=3,n7=2,r7=1,a7=10,s7=-2,h5=e=>e==="*";function i7(e,t){let n=e.split("/"),a=n.length;return n.some(h5)&&(a+=s7),t&&(a+=n7),n.filter(s=>!h5(s)).reduce((s,l)=>s+(e7.test(l)?t7:l===""?r7:a7),a)}function l7(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function o7(e,t,n=!1){let{routesMeta:a}=e,s={},l="/",c=[];for(let d=0;d<a.length;++d){let f=a[d],m=d===a.length-1,h=l==="/"?t:t.slice(l.length)||"/",x=o0({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),g=f.route;if(!x&&m&&n&&!a[a.length-1].route.index&&(x=o0({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:Rs([l,x.pathname]),pathnameBase:h7(Rs([l,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(l=Rs([l,x.pathnameBase]))}return c}function o0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=c7(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((m,{paramName:h,isOptional:x},g)=>{if(h==="*"){let w=d[g]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[g];return x&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function c7(e,t=!1,n=!0){Da(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function u7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Da(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Bs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function d7(e,t="/"){let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Rc(e):e;return{pathname:n?n.startsWith("/")?n:f7(n,t):t,search:p7(a),hash:x7(s)}}function f7(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pv(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ew(e){let t=m7(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Tw(e,t,n,a=!1){let s;typeof e=="string"?s=Rc(e):(s={...e},Qt(!s.pathname||!s.pathname.includes("?"),pv("?","pathname","search",s)),Qt(!s.pathname||!s.pathname.includes("#"),pv("#","pathname","hash",s)),Qt(!s.search||!s.search.includes("#"),pv("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let x=t.length-1;if(!a&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),x-=1;s.pathname=g.join("/")}d=x>=0?t[x]:"/"}let f=d7(s,d),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Rs=e=>e.join("/").replace(/\/\/+/g,"/"),h7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var u6=["POST","PUT","PATCH","DELETE"];new Set(u6);var v7=["GET",...u6];new Set(v7);var Lc=v.createContext(null);Lc.displayName="DataRouter";var sp=v.createContext(null);sp.displayName="DataRouterState";v.createContext(!1);var d6=v.createContext({isTransitioning:!1});d6.displayName="ViewTransition";var y7=v.createContext(new Map);y7.displayName="Fetchers";var b7=v.createContext(null);b7.displayName="Await";var Ia=v.createContext(null);Ia.displayName="Navigation";var cf=v.createContext(null);cf.displayName="Location";var ga=v.createContext({outlet:null,matches:[],isDataRoute:!1});ga.displayName="Route";var Pw=v.createContext(null);Pw.displayName="RouteError";function w7(e,{relative:t}={}){Qt($c(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=v.useContext(Ia),{hash:s,pathname:l,search:c}=df(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Rs([n,l])),a.createHref({pathname:d,search:c,hash:s})}function $c(){return v.useContext(cf)!=null}function os(){return Qt($c(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(cf).location}var f6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m6(e){v.useContext(Ia).static||v.useLayoutEffect(e)}function Gt(){let{isDataRoute:e}=v.useContext(ga);return e?L7():j7()}function j7(){Qt($c(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Lc),{basename:t,navigator:n}=v.useContext(Ia),{matches:a}=v.useContext(ga),{pathname:s}=os(),l=JSON.stringify(Ew(a)),c=v.useRef(!1);return m6(()=>{c.current=!0}),v.useCallback((f,m={})=>{if(Da(c.current,f6),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=Tw(f,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Rs([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,l,s,e])}var N7=v.createContext(null);function S7(e){let t=v.useContext(ga).outlet;return t&&v.createElement(N7.Provider,{value:e},t)}function uf(){let{matches:e}=v.useContext(ga),t=e[e.length-1];return t?t.params:{}}function df(e,{relative:t}={}){let{matches:n}=v.useContext(ga),{pathname:a}=os(),s=JSON.stringify(Ew(n));return v.useMemo(()=>Tw(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function _7(e,t){return h6(e,t)}function h6(e,t,n,a){var _;Qt($c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext(Ia),{matches:l}=v.useContext(ga),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",h=c&&c.route;{let C=h&&h.path||"";p6(f,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let x=os(),g;if(t){let C=typeof t=="string"?Rc(t):t;Qt(m==="/"||((_=C.pathname)==null?void 0:_.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),g=C}else g=x;let b=g.pathname||"/",w=b;if(m!=="/"){let C=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=l6(e,{pathname:w});Da(h||j!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Da(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=T7(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Rs([m,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:Rs([m,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,a);return t&&S?v.createElement(cf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function C7(){let e=R7(),t=g7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,c)}var k7=v.createElement(C7,null),A7=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(ga.Provider,{value:this.props.routeContext},v.createElement(Pw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E7({routeContext:e,match:t,children:n}){let a=v.useContext(Lc);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(ga.Provider,{value:e},n)}function T7(e,t=[],n=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n==null?void 0:n.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Qt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:h,errors:x}=n,g=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,h)=>{let x,g=!1,b=null,w=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||k7,c&&(d<0&&h===0?(p6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):d===h&&(g=!0,w=m.route.hydrateFallbackElement||null)));let j=t.concat(s.slice(0,h+1)),S=()=>{let _;return x?_=b:g?_=w:m.route.Component?_=v.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,v.createElement(E7,{match:m,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?v.createElement(A7,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):S()},null)}function Ow(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P7(e){let t=v.useContext(Lc);return Qt(t,Ow(e)),t}function O7(e){let t=v.useContext(sp);return Qt(t,Ow(e)),t}function M7(e){let t=v.useContext(ga);return Qt(t,Ow(e)),t}function Mw(e){let t=M7(e),n=t.matches[t.matches.length-1];return Qt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function D7(){return Mw("useRouteId")}function R7(){var a;let e=v.useContext(Pw),t=O7("useRouteError"),n=Mw("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function L7(){let{router:e}=P7("useNavigate"),t=Mw("useNavigate"),n=v.useRef(!1);return m6(()=>{n.current=!0}),v.useCallback(async(s,l={})=>{Da(n.current,f6),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var p5={};function p6(e,t,n){!t&&!p5[e]&&(p5[e]=!0,Da(!1,n))}v.memo($7);function $7({routes:e,future:t,state:n}){return h6(e,void 0,n,t)}function I7({to:e,replace:t,state:n,relative:a}){Qt($c(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(Ia);Da(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=v.useContext(ga),{pathname:c}=os(),d=Gt(),f=Tw(e,Ew(l),c,a==="path"),m=JSON.stringify(f);return v.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:a})},[d,m,a,t,n]),null}function x6(e){return S7(e.context)}function pt(e){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z7({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:s,static:l=!1}){Qt(!$c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=Rc(n));let{pathname:f="/",search:m="",hash:h="",state:x=null,key:g="default"}=n,b=v.useMemo(()=>{let w=Bs(f,c);return w==null?null:{location:{pathname:w,search:m,hash:h,state:x,key:g},navigationType:a}},[c,f,m,h,x,g,a]);return Da(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:v.createElement(Ia.Provider,{value:d},v.createElement(cf.Provider,{children:t,value:b}))}function B7({children:e,location:t}){return _7(Jb(e),t)}function Jb(e,t=[]){let n=[];return v.Children.forEach(e,(a,s)=>{if(!v.isValidElement(a))return;let l=[...t,s];if(a.type===v.Fragment){n.push.apply(n,Jb(a.props.children,l));return}Qt(a.type===pt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Jb(a.props.children,l)),n.push(c)}),n}var Yh="get",Wh="application/x-www-form-urlencoded";function ip(e){return e!=null&&typeof e.tagName=="string"}function U7(e){return ip(e)&&e.tagName.toLowerCase()==="button"}function F7(e){return ip(e)&&e.tagName.toLowerCase()==="form"}function V7(e){return ip(e)&&e.tagName.toLowerCase()==="input"}function H7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function q7(e,t){return e.button===0&&(!t||t==="_self")&&!H7(e)}var Gm=null;function K7(){if(Gm===null)try{new FormData(document.createElement("form"),0),Gm=!1}catch{Gm=!0}return Gm}var G7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xv(e){return e!=null&&!G7.has(e)?(Da(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):e}function Y7(e,t){let n,a,s,l,c;if(F7(e)){let d=e.getAttribute("action");a=d?Bs(d,t):null,n=e.getAttribute("method")||Yh,s=xv(e.getAttribute("enctype"))||Wh,l=new FormData(e)}else if(U7(e)||V7(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(a=f?Bs(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Yh,s=xv(e.getAttribute("formenctype"))||xv(d.getAttribute("enctype"))||Wh,l=new FormData(d,e),!K7()){let{name:m,type:h,value:x}=e;if(h==="image"){let g=m?`${m}.`:"";l.append(`${g}x`,"0"),l.append(`${g}y`,"0")}else m&&l.append(m,x)}}else{if(ip(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yh,a=null,s=Wh,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function W7(e,t,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:t&&Bs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function X7(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z7(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Q7(e,t,n){let a=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await X7(l,n);return c.links?c.links():[]}return[]}));return nI(a.flat(1).filter(Z7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function x5(e,t,n,a,s,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var h;return n[m].pathname!==f.pathname||((h=n[m].route.path)==null?void 0:h.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?t.filter((f,m)=>{var x;let h=a.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function J7(e,t,{includeHydrateFallback:n}={}){return eI(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function eI(e){return[...new Set(e)]}function tI(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function nI(e,t){let n=new Set;return new Set(t),e.reduce((a,s)=>{let l=JSON.stringify(tI(s));return n.has(l)||(n.add(l),a.push({key:l,link:s})),a},[])}function g6(){let e=v.useContext(Lc);return Dw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rI(){let e=v.useContext(sp);return Dw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Rw=v.createContext(void 0);Rw.displayName="FrameworkContext";function v6(){let e=v.useContext(Rw);return Dw(e,"You must render this element inside a <HydratedRouter> element"),e}function aI(e,t){let n=v.useContext(Rw),[a,s]=v.useState(!1),[l,c]=v.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:x}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=_=>{_.forEach(C=>{c(C.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),v.useEffect(()=>{if(a){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[a]);let b=()=>{s(!0)},w=()=>{s(!1),c(!1)};return n?e!=="intent"?[l,g,{}]:[l,g,{onFocus:Xu(d,b),onBlur:Xu(f,w),onMouseEnter:Xu(m,b),onMouseLeave:Xu(h,w),onTouchStart:Xu(x,b)}]:[!1,g,{}]}function Xu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function sI({page:e,...t}){let{router:n}=g6(),a=v.useMemo(()=>l6(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?v.createElement(lI,{page:e,matches:a,...t}):null}function iI(e){let{manifest:t,routeModules:n}=v6(),[a,s]=v.useState([]);return v.useEffect(()=>{let l=!1;return Q7(e,t,n).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,n]),a}function lI({page:e,matches:t,...n}){let a=os(),{manifest:s,routeModules:l}=v6(),{basename:c}=g6(),{loaderData:d,matches:f}=rI(),m=v.useMemo(()=>x5(e,t,f,s,a,"data"),[e,t,f,s,a]),h=v.useMemo(()=>x5(e,t,f,s,a,"assets"),[e,t,f,s,a]),x=v.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let w=new Set,j=!1;if(t.forEach(_=>{var k;let C=s.routes[_.route.id];!C||!C.hasLoader||(!m.some(O=>O.route.id===_.route.id)&&_.route.id in d&&((k=l[_.route.id])!=null&&k.shouldRevalidate)||C.hasClientLoader?j=!0:w.add(_.route.id))}),w.size===0)return[];let S=W7(e,c,"data");return j&&w.size>0&&S.searchParams.set("_routes",t.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[c,d,a,s,m,t,e,l]),g=v.useMemo(()=>J7(h,s),[h,s]),b=iI(h);return v.createElement(v.Fragment,null,x.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:j})=>v.createElement("link",{key:w,...j})))}function oI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var y6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y6&&(window.__reactRouterVersion="7.7.1")}catch{}function cI({basename:e,children:t,window:n}){let a=v.useRef();a.current==null&&(a.current=Y9({window:n,v5Compat:!0}));let s=a.current,[l,c]=v.useState({action:s.action,location:s.location}),d=v.useCallback(f=>{v.startTransition(()=>c(f))},[c]);return v.useLayoutEffect(()=>s.listen(d),[s,d]),v.createElement(z7,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var b6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w6=v.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:h,viewTransition:x,...g},b){let{basename:w}=v.useContext(Ia),j=typeof m=="string"&&b6.test(m),S,_=!1;if(typeof m=="string"&&j&&(S=m,y6))try{let U=new URL(window.location.href),K=m.startsWith("//")?new URL(U.protocol+m):new URL(m),F=Bs(K.pathname,w);K.origin===U.origin&&F!=null?m=F+K.search+K.hash:_=!0}catch{Da(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=w7(m,{relative:s}),[k,O,A]=aI(a,g),T=mI(m,{replace:c,state:d,target:f,preventScrollReset:h,relative:s,viewTransition:x});function $(U){t&&t(U),U.defaultPrevented||T(U)}let M=v.createElement("a",{...g,...A,href:S||C,onClick:_||l?t:$,ref:oI(b,O),target:f,"data-discover":!j&&n==="render"?"true":void 0});return k&&!j?v.createElement(v.Fragment,null,M,v.createElement(sI,{page:C})):M});w6.displayName="Link";var uI=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:d,children:f,...m},h){let x=df(c,{relative:m.relative}),g=os(),b=v.useContext(sp),{navigator:w,basename:j}=v.useContext(Ia),S=b!=null&&vI(x)&&d===!0,_=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,C=g.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&j&&(k=Bs(k,j)||k);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=C===_||!s&&C.startsWith(_)&&C.charAt(O)==="/",T=k!=null&&(k===_||!s&&k.startsWith(_)&&k.charAt(_.length)==="/"),$={isActive:A,isPending:T,isTransitioning:S},M=A?t:void 0,U;typeof a=="function"?U=a($):U=[a,A?"active":null,T?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l($):l;return v.createElement(w6,{...m,"aria-current":M,className:U,ref:h,style:K,to:c,viewTransition:d},typeof f=="function"?f($):f)});uI.displayName="NavLink";var dI=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:s,state:l,method:c=Yh,action:d,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:x,...g},b)=>{let w=xI(),j=gI(d,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&b6.test(d),C=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let O=k.nativeEvent.submitter,A=(O==null?void 0:O.getAttribute("formmethod"))||c;w(O||k.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:s,state:l,relative:m,preventScrollReset:h,viewTransition:x})};return v.createElement("form",{ref:b,method:S,action:j,onSubmit:a?f:C,...g,"data-discover":!_&&e==="render"?"true":void 0})});dI.displayName="Form";function fI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j6(e){let t=v.useContext(Lc);return Qt(t,fI(e)),t}function mI(e,{target:t,replace:n,state:a,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Gt(),f=os(),m=df(e,{relative:l});return v.useCallback(h=>{if(q7(h,t)){h.preventDefault();let x=n!==void 0?n:Id(f)===Id(m);d(e,{replace:x,state:a,preventScrollReset:s,relative:l,viewTransition:c})}},[f,d,m,n,a,t,e,s,l,c])}var hI=0,pI=()=>`__${String(++hI)}__`;function xI(){let{router:e}=j6("useSubmit"),{basename:t}=v.useContext(Ia),n=D7();return v.useCallback(async(a,s={})=>{let{action:l,method:c,encType:d,formData:f,body:m}=Y7(a,t);if(s.navigate===!1){let h=s.fetcherKey||pI();await e.fetch(h,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function gI(e,{relative:t}={}){let{basename:n}=v.useContext(Ia),a=v.useContext(ga);Qt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...df(e||".",{relative:t})},c=os();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(h=>h==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let h=d.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Rs([n,l.pathname])),Id(l)}function vI(e,{relative:t}={}){let n=v.useContext(d6);Qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=j6("useViewTransitionState"),s=df(e,{relative:t});if(!n.isTransitioning)return!1;let l=Bs(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Bs(n.nextLocation.pathname,a)||n.nextLocation.pathname;return o0(s.pathname,c)!=null||o0(s.pathname,l)!=null}var yI=i6();function N6(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=N6(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function ut(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=N6(e))&&(a&&(a+=" "),a+=t);return a}function bI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}bI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ff=e=>typeof e=="number"&&!isNaN(e),Gl=e=>typeof e=="string",Us=e=>typeof e=="function",wI=e=>Gl(e)||ff(e),e1=e=>Gl(e)||Us(e)?e:null,jI=(e,t)=>e===!1||ff(e)&&e>0?e:t,t1=e=>v.isValidElement(e)||Gl(e)||Us(e)||ff(e);function NI(e,t,n=300){let{scrollHeight:a,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=a+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function SI({enter:e,exit:t,appendPosition:n=!1,collapse:a=!0,collapseDuration:s=300}){return function({children:l,position:c,preventExitTransition:d,done:f,nodeRef:m,isIn:h,playToast:x}){let g=n?`${e}--${c}`:e,b=n?`${t}--${c}`:t,w=v.useRef(0);return v.useLayoutEffect(()=>{let j=m.current,S=g.split(" "),_=C=>{C.target===m.current&&(x(),j.removeEventListener("animationend",_),j.removeEventListener("animationcancel",_),w.current===0&&C.type!=="animationcancel"&&j.classList.remove(...S))};j.classList.add(...S),j.addEventListener("animationend",_),j.addEventListener("animationcancel",_)},[]),v.useEffect(()=>{let j=m.current,S=()=>{j.removeEventListener("animationend",S),a?NI(j,f,s):f()};h||(d?S():(w.current=1,j.className+=` ${b}`,j.addEventListener("animationend",S)))},[h]),bt.createElement(bt.Fragment,null,l)}}function g5(e,t){return{content:S6(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function S6(e,t,n=!1){return v.isValidElement(e)&&!Gl(e.type)?v.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Us(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function _I({closeToast:e,theme:t,ariaLabel:n="close"}){return bt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),e(!0)},"aria-label":n},bt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},bt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function CI({delay:e,isRunning:t,closeToast:n,type:a="default",hide:s,className:l,controlledProgress:c,progress:d,rtl:f,isIn:m,theme:h}){let x=s||c&&d===0,g={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(g.transform=`scaleX(${d})`);let b=ut("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":f}),w=Us(l)?l({rtl:f,type:a,defaultClassName:b}):ut(b,l),j={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{m&&n()}};return bt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},bt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${a}`}),bt.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:w,style:g,...j}))}var kI=1,_6=()=>`${kI++}`;function AI(e,t,n){let a=1,s=0,l=[],c=[],d=t,f=new Map,m=new Set,h=C=>(m.add(C),()=>m.delete(C)),x=()=>{c=Array.from(f.values()),m.forEach(C=>C())},g=({containerId:C,toastId:k,updateId:O})=>{let A=C?C!==e:e!==1,T=f.has(k)&&O==null;return A||T},b=(C,k)=>{f.forEach(O=>{var A;(k==null||k===O.props.toastId)&&((A=O.toggle)==null||A.call(O,C))})},w=C=>{var k,O;(O=(k=C.props)==null?void 0:k.onClose)==null||O.call(k,C.removalReason),C.isActive=!1},j=C=>{if(C==null)f.forEach(w);else{let k=f.get(C);k&&w(k)}x()},S=()=>{s-=l.length,l=[]},_=C=>{var k,O;let{toastId:A,updateId:T}=C.props,$=T==null;C.staleId&&f.delete(C.staleId),C.isActive=!0,f.set(A,C),x(),n(g5(C,$?"added":"updated")),$&&((O=(k=C.props).onOpen)==null||O.call(k))};return{id:e,props:d,observe:h,toggle:b,removeToast:j,toasts:f,clearQueue:S,buildToast:(C,k)=>{if(g(k))return;let{toastId:O,updateId:A,data:T,staleId:$,delay:M}=k,U=A==null;U&&s++;let K={...d,style:d.toastStyle,key:a++,...Object.fromEntries(Object.entries(k).filter(([B,ne])=>ne!=null)),toastId:O,updateId:A,data:T,isIn:!1,className:e1(k.className||d.toastClassName),progressClassName:e1(k.progressClassName||d.progressClassName),autoClose:k.isLoading?!1:jI(k.autoClose,d.autoClose),closeToast(B){f.get(O).removalReason=B,j(O)},deleteToast(){let B=f.get(O);if(B!=null){if(n(g5(B,"removed")),f.delete(O),s--,s<0&&(s=0),l.length>0){_(l.shift());return}x()}}};K.closeButton=d.closeButton,k.closeButton===!1||t1(k.closeButton)?K.closeButton=k.closeButton:k.closeButton===!0&&(K.closeButton=t1(d.closeButton)?d.closeButton:!0);let F={content:C,props:K,staleId:$};d.limit&&d.limit>0&&s>d.limit&&U?l.push(F):ff(M)?setTimeout(()=>{_(F)},M):_(F)},setProps(C){d=C},setToggle:(C,k)=>{let O=f.get(C);O&&(O.toggle=k)},isToastActive:C=>{var k;return(k=f.get(C))==null?void 0:k.isActive},getSnapshot:()=>c}}var sr=new Map,zd=[],n1=new Set,EI=e=>n1.forEach(t=>t(e)),C6=()=>sr.size>0;function TI(){zd.forEach(e=>A6(e.content,e.options)),zd=[]}var PI=(e,{containerId:t})=>{var n;return(n=sr.get(t||1))==null?void 0:n.toasts.get(e)};function k6(e,t){var n;if(t)return!!((n=sr.get(t))!=null&&n.isToastActive(e));let a=!1;return sr.forEach(s=>{s.isToastActive(e)&&(a=!0)}),a}function OI(e){if(!C6()){zd=zd.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||wI(e))sr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=sr.get(e.containerId);t?t.removeToast(e.id):sr.forEach(n=>{n.removeToast(e.id)})}}var MI=(e={})=>{sr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function A6(e,t){t1(e)&&(C6()||zd.push({content:e,options:t}),sr.forEach(n=>{n.buildToast(e,t)}))}function DI(e){var t;(t=sr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function E6(e,t){sr.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function RI(e){let t=e.containerId||1;return{subscribe(n){let a=AI(t,e,EI);sr.set(t,a);let s=a.observe(n);return TI(),()=>{s(),sr.delete(t)}},setProps(n){var a;(a=sr.get(t))==null||a.setProps(n)},getSnapshot(){var n;return(n=sr.get(t))==null?void 0:n.getSnapshot()}}}function LI(e){return n1.add(e),()=>{n1.delete(e)}}function $I(e){return e&&(Gl(e.toastId)||ff(e.toastId))?e.toastId:_6()}function mf(e,t){return A6(e,t),t.toastId}function lp(e,t){return{...t,type:t&&t.type||e,toastId:$I(t)}}function op(e){return(t,n)=>mf(t,lp(e,n))}function q(e,t){return mf(e,lp("default",t))}q.loading=(e,t)=>mf(e,lp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function II(e,{pending:t,error:n,success:a},s){let l;t&&(l=Gl(t)?q.loading(t,s):q.loading(t.render,{...s,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,h,x)=>{if(h==null){q.dismiss(l);return}let g={type:m,...c,...s,data:x},b=Gl(h)?{render:h}:h;return l?q.update(l,{...g,...b}):q(b.render,{...g,...b}),x},f=Us(e)?e():e;return f.then(m=>d("success",a,m)).catch(m=>d("error",n,m)),f}q.promise=II;q.success=op("success");q.info=op("info");q.error=op("error");q.warning=op("warning");q.warn=q.warning;q.dark=(e,t)=>mf(e,lp("default",{theme:"dark",...t}));function zI(e){OI(e)}q.dismiss=zI;q.clearWaitingQueue=MI;q.isActive=k6;q.update=(e,t={})=>{let n=PI(e,t);if(n){let{props:a,content:s}=n,l={delay:100,...a,...t,toastId:t.toastId||e,updateId:_6()};l.toastId!==e&&(l.staleId=e);let c=l.render||s;delete l.render,mf(c,l)}};q.done=e=>{q.update(e,{progress:1})};q.onChange=LI;q.play=e=>E6(!0,e);q.pause=e=>E6(!1,e);function BI(e){var t;let{subscribe:n,getSnapshot:a,setProps:s}=v.useRef(RI(e)).current;s(e);let l=(t=v.useSyncExternalStore(n,a,a))==null?void 0:t.slice();function c(d){if(!l)return[];let f=new Map;return e.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:h}=m.props;f.has(h)||f.set(h,[]),f.get(h).push(m)}),Array.from(f,m=>d(m[0],m[1]))}return{getToastToRender:c,isToastActive:k6,count:l==null?void 0:l.length}}function UI(e){let[t,n]=v.useState(!1),[a,s]=v.useState(!1),l=v.useRef(null),c=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:m,onClick:h,closeOnClick:x}=e;DI({id:e.toastId,containerId:e.containerId,fn:n}),v.useEffect(()=>{if(e.pauseOnFocusLoss)return g(),()=>{b()}},[e.pauseOnFocusLoss]);function g(){document.hasFocus()||_(),window.addEventListener("focus",S),window.addEventListener("blur",_)}function b(){window.removeEventListener("focus",S),window.removeEventListener("blur",_)}function w($){if(e.draggable===!0||e.draggable===$.pointerType){C();let M=l.current;c.canCloseOnClick=!0,c.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(c.start=$.clientX,c.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(c.start=$.clientY,c.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function j($){let{top:M,bottom:U,left:K,right:F}=l.current.getBoundingClientRect();$.nativeEvent.type!=="touchend"&&e.pauseOnHover&&$.clientX>=K&&$.clientX<=F&&$.clientY>=M&&$.clientY<=U?_():S()}function S(){n(!0)}function _(){n(!1)}function C(){c.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",A)}function k(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",A)}function O($){let M=l.current;if(c.canDrag&&M){c.didMove=!0,t&&_(),e.draggableDirection==="x"?c.delta=$.clientX-c.start:c.delta=$.clientY-c.start,c.start!==$.clientX&&(c.canCloseOnClick=!1);let U=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;M.style.transform=`translate3d(${U},0)`,M.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function A(){k();let $=l.current;if(c.canDrag&&c.didMove&&$){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}$.style.transition="transform 0.2s, opacity 0.2s",$.style.removeProperty("transform"),$.style.removeProperty("opacity")}}let T={onPointerDown:w,onPointerUp:j};return d&&f&&(T.onMouseEnter=_,e.stacked||(T.onMouseLeave=S)),x&&(T.onClick=$=>{h&&h($),c.canCloseOnClick&&m(!0)}),{playToast:S,pauseToast:_,isRunning:t,preventExitTransition:a,toastRef:l,eventHandlers:T}}var FI=typeof window<"u"?v.useLayoutEffect:v.useEffect,cp=({theme:e,type:t,isLoading:n,...a})=>bt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function VI(e){return bt.createElement(cp,{...e},bt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function HI(e){return bt.createElement(cp,{...e},bt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function qI(e){return bt.createElement(cp,{...e},bt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function KI(e){return bt.createElement(cp,{...e},bt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function GI(){return bt.createElement("div",{className:"Toastify__spinner"})}var r1={info:HI,warning:VI,success:qI,error:KI,spinner:GI},YI=e=>e in r1;function WI({theme:e,type:t,isLoading:n,icon:a}){let s=null,l={theme:e,type:t};return a===!1||(Us(a)?s=a({...l,isLoading:n}):v.isValidElement(a)?s=v.cloneElement(a,l):n?s=r1.spinner():YI(t)&&(s=r1[t](l))),s}var XI=e=>{let{isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:s,playToast:l}=UI(e),{closeButton:c,children:d,autoClose:f,onClick:m,type:h,hideProgressBar:x,closeToast:g,transition:b,position:w,className:j,style:S,progressClassName:_,updateId:C,role:k,progress:O,rtl:A,toastId:T,deleteToast:$,isIn:M,isLoading:U,closeOnClick:K,theme:F,ariaLabel:B}=e,ne=ut("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":K}),Ne=Us(j)?j({rtl:A,position:w,type:h,defaultClassName:ne}):ut(ne,j),se=WI(e),D=!!O||!f,G={closeToast:g,type:h,theme:F},V=null;return c===!1||(Us(c)?V=c(G):v.isValidElement(c)?V=v.cloneElement(c,G):V=_I(G)),bt.createElement(b,{isIn:M,done:$,position:w,preventExitTransition:n,nodeRef:a,playToast:l},bt.createElement("div",{id:T,tabIndex:0,onClick:m,"data-in":M,className:Ne,...s,style:S,ref:a,...M&&{role:k,"aria-label":B}},se!=null&&bt.createElement("div",{className:ut("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},se),S6(d,e,!t),V,!e.customProgressBar&&bt.createElement(CI,{...C&&!D?{key:`p-${C}`}:{},rtl:A,theme:F,delay:f,isRunning:t,isIn:M,closeToast:g,hide:x,type:h,className:_,controlledProgress:D,progress:O||0})))},ZI=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),QI=SI(ZI("bounce",!0)),JI={position:"top-right",transition:QI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function ez(e){let t={...JI,...e},n=e.stacked,[a,s]=v.useState(!0),l=v.useRef(null),{getToastToRender:c,isToastActive:d,count:f}=BI(t),{className:m,style:h,rtl:x,containerId:g,hotKeys:b}=t;function w(S){let _=ut("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":x});return Us(m)?m({position:S,rtl:x,defaultClassName:_}):ut(_,e1(m))}function j(){n&&(s(!0),q.play())}return FI(()=>{var S;if(n){let _=l.current.querySelectorAll('[data-in="true"]'),C=12,k=(S=t.position)==null?void 0:S.includes("top"),O=0,A=0;Array.from(_).reverse().forEach((T,$)=>{let M=T;M.classList.add("Toastify__toast--stacked"),$>0&&(M.dataset.collapsed=`${a}`),M.dataset.pos||(M.dataset.pos=k?"top":"bot");let U=O*(a?.2:1)+(a?0:C*$);M.style.setProperty("--y",`${k?U:U*-1}px`),M.style.setProperty("--g",`${C}`),M.style.setProperty("--s",`${1-(a?A:0)}`),O+=M.offsetHeight,A+=.025})}},[a,f,n]),v.useEffect(()=>{function S(_){var C;let k=l.current;b(_)&&((C=k.querySelector('[tabIndex="0"]'))==null||C.focus(),s(!1),q.pause()),_.key==="Escape"&&(document.activeElement===k||k!=null&&k.contains(document.activeElement))&&(s(!0),q.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[b]),bt.createElement("section",{ref:l,className:"Toastify",id:g,onMouseEnter:()=>{n&&(s(!1),q.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((S,_)=>{let C=_.length?{...h}:{...h,pointerEvents:"none"};return bt.createElement("div",{tabIndex:-1,className:w(S),"data-stacked":n,style:C,key:`c-${S}`},_.map(({content:k,props:O})=>bt.createElement(XI,{...O,stacked:n,collapseAll:j,isIn:d(O.toastId,O.containerId),key:`t-${O.key}`},k)))}))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),v5=e=>{const t=nz(e);return t.charAt(0).toUpperCase()+t.slice(1)},T6=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),rz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var az={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...d},f)=>v.createElement("svg",{ref:f,...az,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:T6("lucide",s),...!l&&!rz(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>v.createElement(m,h)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const n=v.forwardRef(({className:a,...s},l)=>v.createElement(sz,{ref:l,iconNode:t,className:T6(`lucide-${tz(v5(e))}`,`lucide-${e}`,a),...s}));return n.displayName=v5(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],P6=De("arrow-left",iz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],up=De("arrow-right",lz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],O6=De("bot",oz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Lw=De("brain-circuit",cz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],y5=De("building-2",uz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],fz=De("calendar-days",dz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],hz=De("calendar-range",mz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ja=De("calendar",pz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],gz=De("camera",xz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],c0=De("check",vz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bz=De("chevron-down",yz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ha=De("chevron-left",wz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qn=De("chevron-right",jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Sz=De("chevron-up",Nz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Oa=De("circle-alert",_z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],a1=De("circle-check-big",Cz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cr=De("circle-check",kz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fa=De("circle-x",Az);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],s1=De("circle",Ez);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pz=De("clock-3",Tz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gc=De("clock",Oz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Dz=De("cloud-upload",Mz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Bd=De("copy",Rz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],b5=De("crop",Lz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],gv=De("crown",$z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Nd=De("database",Iz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],w5=De("dollar-sign",zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ud=De("download",Bz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$w=De("eye-off",Uz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qn=De("eye",Fz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],yd=De("file-spreadsheet",Vz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],M6=De("file-text",Hz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ic=De("funnel",qz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Xh=De("globe",Kz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],j5=De("hash",Gz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vv=De("history",Yz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Iw=De("house",Wz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],N5=De("image-off",Xz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Qz=De("image",Zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Ym=De("key-round",Jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],tB=De("key",eB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Sd=De("link",nB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Hn=De("loader-circle",rB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zw=De("lock",aB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Wm=De("log-in",sB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],u0=De("log-out",iB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ra=De("mail",lB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fs=De("map-pin",oB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],uB=De("pause",cB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],S5=De("pen-line",dB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],i1=De("phone-call",fB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],xt=De("phone",mB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],hf=De("play",hB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],xB=De("plug-zap",pB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ts=De("plus",gB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yB=De("radio",vB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],wB=De("refresh-ccw",bB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xe=De("refresh-cw",jB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],D6=De("rocket",NB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_B=De("rotate-ccw",SB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_r=De("search",CB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R6=De("settings",kB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],EB=De("shield-alert",AB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PB=De("shield-check",TB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fd=De("shield",OB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Xm=De("shopping-cart",MB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],RB=De("skip-forward",DB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],_5=De("smartphone",LB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zc=De("sparkles",$B);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],C5=De("square-check-big",IB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],yv=De("square-kanban",zB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_d=De("square-pen",BB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],vc=De("square",UB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],VB=De("sticky-note",FB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jn=De("trash-2",HB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],KB=De("unlink",qB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],L6=De("user-round",GB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cc=De("user",YB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ir=De("users",WB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Bw=De("volume-2",XB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dr=De("x",ZB);function QB(){const[e,t]=v.useState({username:"",email:"",password:""}),[n,a]=v.useState(!1),[s,l]=v.useState({}),[c,d]=v.useState(!1),f=Gt(),m="https://aisdr-dbt.ddns.net",h=j=>{const{name:S,value:_}=j.target;t(C=>({...C,[S]:_})),s[S]&&l(C=>({...C,[S]:""}))},x=()=>{const j={};return e.username.trim()?e.username.length<3&&(j.username="Username must be at least 3 characters"):j.username="Username is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(j.email="Please enter a valid email address"):j.email="Email is required",e.password?e.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",l(j),Object.keys(j).length===0},g=async j=>{if(j.preventDefault(),!!x()){d(!0),l({});try{localStorage.setItem("name",e.username),localStorage.setItem("email",e.email)}catch{}try{const S=await fetch(`${m}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,email:e.email,password:e.password})}),_=await S.json();if(S.ok)q.success("Account created successfully! "),setTimeout(()=>{f(`/otp?email=${encodeURIComponent(e.email)}`)},1200);else{const C=_.message||_.detail||"Something went wrong. Please try again.";l({submit:C}),q.error(C)}}catch{const S="Network error. Please check your connection and try again.";l({submit:S}),q.error(S)}finally{d(!1)}}},b=e.password.length,w=b>=6?"bg-green-500 w-full":b>=4?"bg-blue-500 w-3/4":b>=2?"bg-yellow-500 w-1/2":b>0?"bg-red-500 w-1/4":"w-0";return r.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:r.jsx(cc,{className:"w-8 h-8 text-white"})})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),r.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",r.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign in here"})]})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsx("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:r.jsxs("form",{className:"space-y-6",onSubmit:g,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(cc,{className:`h-5 w-5 ${e.username?"text-blue-500":"text-gray-400"}`})}),r.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.username?"border-red-300 focus:border-red-500 focus:ring-red-500":e.username?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username"}),e.username&&!s.username&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx(a1,{className:"h-5 w-5 text-green-500"})})]}),s.username&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(Oa,{className:"h-4 w-4 mr-1"}),s.username]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Ra,{className:`h-5 w-5 ${e.email?"text-blue-500":"text-gray-400"}`})}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx(a1,{className:"h-5 w-5 text-green-500"})})]}),s.email&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(Oa,{className:"h-4 w-4 mr-1"}),s.email]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(zw,{className:`h-5 w-5 ${e.password?"text-blue-500":"text-gray-400"}`})}),r.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Create a password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200",onClick:()=>a(!n),children:n?r.jsx($w,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):r.jsx(Qn,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),r.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:r.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${w}`})}),r.jsx("span",{className:"text-xs text-gray-500",children:"6+ characters"})]}),s.password&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(Oa,{className:"h-4 w-4 mr-1"}),s.password]})]}),s.submit&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[r.jsx(Oa,{className:"h-5 w-5 text-red-600 mr-3"}),r.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Creating account..."]}):r.jsxs("div",{className:"flex items-center",children:["Create account",r.jsx(up,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})})})]})}function JB(){const[e,t]=v.useState(30),n="/",a="/bg.gif";v.useEffect(()=>{const d=setInterval(()=>{t(f=>f<=1?(window.location.href=n,0):f-1)},1e3);return()=>clearInterval(d)},[]);const s=()=>window.location.href=n,l=()=>window.history.back(),c=()=>window.location.reload();return r.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[r.jsx("div",{className:"fixed inset-0 flex justify-center pointer-events-none",children:r.jsx("img",{src:a,alt:"Animated 404 background",className:`\r
      h-screen\r
      w-[68vw]              /*  your final locked width */\r
      max-w-[1280px]        /*  prevent over-expanding on ultra-wide */\r
      min-w-[320px]         /*  prevent too-narrow on small phones */\r
      object-cover\r
      translate-y-[8vh] sm:translate-y-[10vh] md:translate-y-[23vh]\r
    `,style:{objectPosition:"center 78%"},loading:"eager",decoding:"async",fetchPriority:"high"})}),r.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 py-10",children:r.jsxs("div",{className:`w-full max-w-4xl text-center\r
                     -translate-y-6 sm:-translate-y-10 md:-translate-y-74\r
                     transform-gpu`,children:[r.jsx("h1",{className:`\r
              text-[56px] sm:text-[80px] md:text-[110px]\r
              font-bold tracking-tight text-blue-900\r
              select-none\r
            `,style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"404"}),r.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-blue-900",style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"Looks like youre lost"}),r.jsx("p",{className:"mt-2 text-blue-800",children:"The page you are looking for is not available."}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs("button",{onClick:s,className:`\r
                w-full sm:w-auto inline-flex items-center justify-center\r
                rounded-lg px-5 py-3\r
                text-white bg-blue-600 hover:bg-blue-700\r
                transition-all duration-200 shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700\r
              `,children:[r.jsx(Iw,{className:"mr-2 h-5 w-5"}),"Go to Home"]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-center",children:[r.jsxs("button",{onClick:l,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[r.jsx(P6,{className:"mr-2 h-4 w-4"}),"Go Back"]}),r.jsxs("button",{onClick:c,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),r.jsxs("div",{className:"mt-3 text-sm text-blue-900",children:[r.jsx("a",{href:"/login",className:"underline hover:opacity-80",children:"Login"}),r.jsx("span",{className:"mx-2",children:""}),r.jsx("a",{href:"/signup",className:"underline hover:opacity-80",children:"Sign Up"})]})]}),r.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-blue-50/90 px-4 py-2 text-blue-900 border border-blue-200",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),r.jsxs("p",{className:"text-sm",children:["Redirecting to homepage in"," ",r.jsx("span",{className:"font-semibold",children:e})," seconds"]})]})]})})]})}const Uw=v.createContext({});function pf(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Fw=typeof window<"u",Vw=Fw?v.useLayoutEffect:v.useEffect,dp=v.createContext(null);function Hw(e,t){e.indexOf(t)===-1&&e.push(t)}function fp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Vs=(e,t,n)=>n>t?t:n<e?e:n;let qw=()=>{};const Hs={},$6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function I6(e){return typeof e=="object"&&e!==null}const z6=e=>/^0[^.\s]+$/u.test(e);function Kw(e){let t;return()=>(t===void 0&&(t=e()),t)}const ma=e=>e,eU=(e,t)=>n=>t(e(n)),xf=(...e)=>e.reduce(eU),yc=(e,t,n)=>{const a=t-e;return a===0?1:(n-e)/a};class Gw{constructor(){this.subscriptions=[]}add(t){return Hw(this.subscriptions,t),()=>fp(this.subscriptions,t)}notify(t,n,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,a);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ma=e=>e*1e3,ns=e=>e/1e3;function B6(e,t){return t?e*(1e3/t):0}const tU=(e,t,n)=>{const a=t-e;return((n-e)%a+a)%a+e},U6=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,nU=1e-7,rU=12;function aU(e,t,n,a,s){let l,c,d=0;do c=t+(n-t)/2,l=U6(c,a,s)-e,l>0?n=c:t=c;while(Math.abs(l)>nU&&++d<rU);return c}function gf(e,t,n,a){if(e===t&&n===a)return ma;const s=l=>aU(l,0,1,e,n);return l=>l===0||l===1?l:U6(s(l),t,a)}const F6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,V6=e=>t=>1-e(1-t),H6=gf(.33,1.53,.69,.99),Yw=V6(H6),q6=F6(Yw),K6=e=>(e*=2)<1?.5*Yw(e):.5*(2-Math.pow(2,-10*(e-1))),Ww=e=>1-Math.sin(Math.acos(e)),G6=V6(Ww),Y6=F6(Ww),sU=gf(.42,0,1,1),iU=gf(0,0,.58,1),W6=gf(.42,0,.58,1),X6=e=>Array.isArray(e)&&typeof e[0]!="number";function Z6(e,t){return X6(e)?e[tU(0,e.length,t)]:e}const Q6=e=>Array.isArray(e)&&typeof e[0]=="number",lU={linear:ma,easeIn:sU,easeInOut:W6,easeOut:iU,circIn:Ww,circInOut:Y6,circOut:G6,backIn:Yw,backInOut:q6,backOut:H6,anticipate:K6},oU=e=>typeof e=="string",k5=e=>{if(Q6(e)){qw(e.length===4);const[t,n,a,s]=e;return gf(t,n,a,s)}else if(oU(e))return lU[e];return e},Zm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cU(e,t){let n=new Set,a=new Set,s=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(h){c.has(h)&&(m.schedule(h),e()),h(d)}const m={schedule:(h,x=!1,g=!1)=>{const w=g&&s?n:a;return x&&c.add(h),w.has(h)||w.add(h),h},cancel:h=>{a.delete(h),c.delete(h)},process:h=>{if(d=h,s){l=!0;return}s=!0,[n,a]=[a,n],n.forEach(f),n.clear(),s=!1,l&&(l=!1,m.process(h))}};return m}const uU=40;function J6(e,t){let n=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Zm.reduce((k,O)=>(k[O]=cU(l),k),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:h,update:x,preRender:g,render:b,postRender:w}=c,j=()=>{const k=Hs.useManualTiming?s.timestamp:performance.now();n=!1,Hs.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(k-s.timestamp,uU),1)),s.timestamp=k,s.isProcessing=!0,d.process(s),f.process(s),m.process(s),h.process(s),x.process(s),g.process(s),b.process(s),w.process(s),s.isProcessing=!1,n&&t&&(a=!1,e(j))},S=()=>{n=!0,a=!0,s.isProcessing||e(j)};return{schedule:Zm.reduce((k,O)=>{const A=c[O];return k[O]=(T,$=!1,M=!1)=>(n||S(),A.schedule(T,$,M)),k},{}),cancel:k=>{for(let O=0;O<Zm.length;O++)c[Zm[O]].cancel(k)},state:s,steps:c}}const{schedule:qt,cancel:qs,state:Fn,steps:bv}=J6(typeof requestAnimationFrame<"u"?requestAnimationFrame:ma,!0);let Zh;function dU(){Zh=void 0}const Nr={now:()=>(Zh===void 0&&Nr.set(Fn.isProcessing||Hs.useManualTiming?Fn.timestamp:performance.now()),Zh),set:e=>{Zh=e,queueMicrotask(dU)}},eP=e=>t=>typeof t=="string"&&t.startsWith(e),Xw=eP("--"),fU=eP("var(--"),Zw=e=>fU(e)?mU.test(e.split("/*")[0].trim()):!1,mU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vd={...Bc,transform:e=>Vs(0,1,e)},Qm={...Bc,default:1},Cd=e=>Math.round(e*1e5)/1e5,Qw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hU(e){return e==null}const pU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jw=(e,t)=>n=>!!(typeof n=="string"&&pU.test(n)&&n.startsWith(e)||t&&!hU(n)&&Object.prototype.hasOwnProperty.call(n,t)),tP=(e,t,n)=>a=>{if(typeof a!="string")return a;const[s,l,c,d]=a.match(Qw);return{[e]:parseFloat(s),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},xU=e=>Vs(0,255,e),wv={...Bc,transform:e=>Math.round(xU(e))},Dl={test:Jw("rgb","red"),parse:tP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:a=1})=>"rgba("+wv.transform(e)+", "+wv.transform(t)+", "+wv.transform(n)+", "+Cd(Vd.transform(a))+")"};function gU(e){let t="",n="",a="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const l1={test:Jw("#"),parse:gU,transform:Dl.transform},vf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Li=vf("deg"),rs=vf("%"),rt=vf("px"),vU=vf("vh"),yU=vf("vw"),A5={...rs,parse:e=>rs.parse(e)/100,transform:e=>rs.transform(e*100)},tc={test:Jw("hsl","hue"),parse:tP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+rs.transform(Cd(t))+", "+rs.transform(Cd(n))+", "+Cd(Vd.transform(a))+")"},gn={test:e=>Dl.test(e)||l1.test(e)||tc.test(e),parse:e=>Dl.test(e)?Dl.parse(e):tc.test(e)?tc.parse(e):l1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Dl.transform(e):tc.transform(e),getAnimatableNone:e=>{const t=gn.parse(e);return t.alpha=0,gn.transform(t)}},bU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wU(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Qw))==null?void 0:t.length)||0)+(((n=e.match(bU))==null?void 0:n.length)||0)>0}const nP="number",rP="color",jU="var",NU="var(",E5="${}",SU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hd(e){const t=e.toString(),n=[],a={color:[],number:[],var:[]},s=[];let l=0;const d=t.replace(SU,f=>(gn.test(f)?(a.color.push(l),s.push(rP),n.push(gn.parse(f))):f.startsWith(NU)?(a.var.push(l),s.push(jU),n.push(f)):(a.number.push(l),s.push(nP),n.push(parseFloat(f))),++l,E5)).split(E5);return{values:n,split:d,indexes:a,types:s}}function aP(e){return Hd(e).values}function sP(e){const{split:t,types:n}=Hd(e),a=t.length;return s=>{let l="";for(let c=0;c<a;c++)if(l+=t[c],s[c]!==void 0){const d=n[c];d===nP?l+=Cd(s[c]):d===rP?l+=gn.transform(s[c]):l+=s[c]}return l}}const _U=e=>typeof e=="number"?0:gn.test(e)?gn.getAnimatableNone(e):e;function CU(e){const t=aP(e);return sP(e)(t.map(_U))}const Hi={test:wU,parse:aP,createTransformer:sP,getAnimatableNone:CU};function jv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kU({hue:e,saturation:t,lightness:n,alpha:a}){e/=360,t/=100,n/=100;let s=0,l=0,c=0;if(!t)s=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;s=jv(f,d,e+1/3),l=jv(f,d,e),c=jv(f,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:a}}function d0(e,t){return n=>n>0?t:e}const Wt=(e,t,n)=>e+(t-e)*n,Nv=(e,t,n)=>{const a=e*e,s=n*(t*t-a)+a;return s<0?0:Math.sqrt(s)},AU=[l1,Dl,tc],EU=e=>AU.find(t=>t.test(e));function T5(e){const t=EU(e);if(!t)return!1;let n=t.parse(e);return t===tc&&(n=kU(n)),n}const P5=(e,t)=>{const n=T5(e),a=T5(t);if(!n||!a)return d0(e,t);const s={...n};return l=>(s.red=Nv(n.red,a.red,l),s.green=Nv(n.green,a.green,l),s.blue=Nv(n.blue,a.blue,l),s.alpha=Wt(n.alpha,a.alpha,l),Dl.transform(s))},o1=new Set(["none","hidden"]);function TU(e,t){return o1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function PU(e,t){return n=>Wt(e,t,n)}function ej(e){return typeof e=="number"?PU:typeof e=="string"?Zw(e)?d0:gn.test(e)?P5:DU:Array.isArray(e)?iP:typeof e=="object"?gn.test(e)?P5:OU:d0}function iP(e,t){const n=[...e],a=n.length,s=e.map((l,c)=>ej(l)(l,t[c]));return l=>{for(let c=0;c<a;c++)n[c]=s[c](l);return n}}function OU(e,t){const n={...e,...t},a={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(a[s]=ej(e[s])(e[s],t[s]));return s=>{for(const l in a)n[l]=a[l](s);return n}}function MU(e,t){const n=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][a[l]],d=e.values[c]??0;n[s]=d,a[l]++}return n}const DU=(e,t)=>{const n=Hi.createTransformer(t),a=Hd(e),s=Hd(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?o1.has(e)&&!s.values.length||o1.has(t)&&!a.values.length?TU(e,t):xf(iP(MU(a,s),s.values),n):d0(e,t)};function lP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Wt(e,t,n):ej(e)(e,t)}const RU=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>qt.update(t,n),stop:()=>qs(t),now:()=>Fn.isProcessing?Fn.timestamp:Nr.now()}},oP=(e,t,n=10)=>{let a="";const s=Math.max(Math.round(t/n),2);for(let l=0;l<s;l++)a+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},f0=2e4;function tj(e){let t=0;const n=50;let a=e.next(t);for(;!a.done&&t<f0;)t+=n,a=e.next(t);return t>=f0?1/0:t}function cP(e,t=100,n){const a=n({...e,keyframes:[0,t]}),s=Math.min(tj(a),f0);return{type:"keyframes",ease:l=>a.next(s*l).value/t,duration:ns(s)}}const LU=5;function uP(e,t,n){const a=Math.max(t-LU,0);return B6(n-e(a),t-a)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sv=.001;function $U({duration:e=ln.duration,bounce:t=ln.bounce,velocity:n=ln.velocity,mass:a=ln.mass}){let s,l,c=1-t;c=Vs(ln.minDamping,ln.maxDamping,c),e=Vs(ln.minDuration,ln.maxDuration,ns(e)),c<1?(s=m=>{const h=m*c,x=h*e,g=h-n,b=c1(m,c),w=Math.exp(-x);return Sv-g/b*w},l=m=>{const x=m*c*e,g=x*n+n,b=Math.pow(c,2)*Math.pow(m,2)*e,w=Math.exp(-x),j=c1(Math.pow(m,2),c);return(-s(m)+Sv>0?-1:1)*((g-b)*w)/j}):(s=m=>{const h=Math.exp(-m*e),x=(m-n)*e+1;return-Sv+h*x},l=m=>{const h=Math.exp(-m*e),x=(n-m)*(e*e);return h*x});const d=5/e,f=zU(s,l,d);if(e=Ma(e),isNaN(f))return{stiffness:ln.stiffness,damping:ln.damping,duration:e};{const m=Math.pow(f,2)*a;return{stiffness:m,damping:c*2*Math.sqrt(a*m),duration:e}}}const IU=12;function zU(e,t,n){let a=n;for(let s=1;s<IU;s++)a=a-e(a)/t(a);return a}function c1(e,t){return e*Math.sqrt(1-t*t)}const BU=["duration","bounce"],UU=["stiffness","damping","mass"];function O5(e,t){return t.some(n=>e[n]!==void 0)}function FU(e){let t={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...e};if(!O5(e,UU)&&O5(e,BU))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),s=a*a,l=2*Vs(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ln.mass,stiffness:s,damping:l}}else{const n=$U(e);t={...t,...n,mass:ln.mass},t.isResolvedFromDuration=!0}return t}function qd(e=ln.visualDuration,t=ln.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:h,duration:x,velocity:g,isResolvedFromDuration:b}=FU({...n,velocity:-ns(n.velocity||0)}),w=g||0,j=m/(2*Math.sqrt(f*h)),S=c-l,_=ns(Math.sqrt(f/h)),C=Math.abs(S)<5;a||(a=C?ln.restSpeed.granular:ln.restSpeed.default),s||(s=C?ln.restDelta.granular:ln.restDelta.default);let k;if(j<1){const A=c1(_,j);k=T=>{const $=Math.exp(-j*_*T);return c-$*((w+j*_*S)/A*Math.sin(A*T)+S*Math.cos(A*T))}}else if(j===1)k=A=>c-Math.exp(-_*A)*(S+(w+_*S)*A);else{const A=_*Math.sqrt(j*j-1);k=T=>{const $=Math.exp(-j*_*T),M=Math.min(A*T,300);return c-$*((w+j*_*S)*Math.sinh(M)+A*S*Math.cosh(M))/A}}const O={calculatedDuration:b&&x||null,next:A=>{const T=k(A);if(b)d.done=A>=x;else{let $=A===0?w:0;j<1&&($=A===0?Ma(w):uP(k,A,T));const M=Math.abs($)<=a,U=Math.abs(c-T)<=s;d.done=M&&U}return d.value=d.done?c:T,d},toString:()=>{const A=Math.min(tj(O),f0),T=oP($=>O.next(A*$).value,A,30);return A+"ms "+T},toTransition:()=>{}};return O}qd.applyToOptions=e=>{const t=cP(e,100,qd);return e.ease=t.ease,e.duration=Ma(t.duration),e.type="keyframes",e};function u1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:h}){const x=e[0],g={done:!1,value:x},b=M=>d!==void 0&&M<d||f!==void 0&&M>f,w=M=>d===void 0?f:f===void 0||Math.abs(d-M)<Math.abs(f-M)?d:f;let j=n*t;const S=x+j,_=c===void 0?S:c(S);_!==S&&(j=_-x);const C=M=>-j*Math.exp(-M/a),k=M=>_+C(M),O=M=>{const U=C(M),K=k(M);g.done=Math.abs(U)<=m,g.value=g.done?_:K};let A,T;const $=M=>{b(g.value)&&(A=M,T=qd({keyframes:[g.value,w(g.value)],velocity:uP(k,M,g.value),damping:s,stiffness:l,restDelta:m,restSpeed:h}))};return $(0),{calculatedDuration:null,next:M=>{let U=!1;return!T&&A===void 0&&(U=!0,O(M),$(M)),A!==void 0&&M>=A?T.next(M-A):(!U&&O(M),g)}}}function VU(e,t,n){const a=[],s=n||Hs.mix||lP,l=e.length-1;for(let c=0;c<l;c++){let d=s(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||ma:t;d=xf(f,d)}a.push(d)}return a}function dP(e,t,{clamp:n=!0,ease:a,mixer:s}={}){const l=e.length;if(qw(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=VU(t,a,s),f=d.length,m=h=>{if(c&&h<e[0])return t[0];let x=0;if(f>1)for(;x<e.length-2&&!(h<e[x+1]);x++);const g=yc(e[x],e[x+1],h);return d[x](g)};return n?h=>m(Vs(e[0],e[l-1],h)):m}function fP(e,t){const n=e[e.length-1];for(let a=1;a<=t;a++){const s=yc(0,t,a);e.push(Wt(n,1,s))}}function mP(e){const t=[0];return fP(t,e.length-1),t}function HU(e,t){return e.map(n=>n*t)}function qU(e,t){return e.map(()=>t||W6).splice(0,e.length-1)}function kd({duration:e=300,keyframes:t,times:n,ease:a="easeInOut"}){const s=X6(a)?a.map(k5):k5(a),l={done:!1,value:t[0]},c=HU(n&&n.length===t.length?n:mP(t),e),d=dP(c,t,{ease:Array.isArray(s)?s:qU(t,s)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const KU=e=>e!==null;function nj(e,{repeat:t,repeatType:n="loop"},a,s=1){const l=e.filter(KU),d=s<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||a===void 0?l[d]:a}const GU={decay:u1,inertia:u1,tween:kd,keyframes:kd,spring:qd};function hP(e){typeof e.type=="string"&&(e.type=GU[e.type])}class rj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const YU=e=>e/100;class aj extends rj{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Nr.now()&&this.tick(Nr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(a=this.options).onStop)==null||s.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hP(t);const{type:n=kd,repeat:a=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||kd;f!==kd&&typeof d[0]!="number"&&(this.mixKeyframes=xf(YU,lP(d[0],d[1])),d=[0,100]);const m=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=tj(m));const{calculatedDuration:h}=m;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:a,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:h,repeat:x,repeatType:g,repeatDelay:b,type:w,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const _=this.currentTime-m*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,O=a;if(x){const M=Math.min(this.currentTime,s)/d;let U=Math.floor(M),K=M%1;!K&&M>=1&&(K=1),K===1&&U--,U=Math.min(U,x+1),!!(U%2)&&(g==="reverse"?(K=1-K,b&&(K-=b/d)):g==="mirror"&&(O=c)),k=Vs(0,1,K)*d}const A=C?{done:!1,value:h[0]}:O.next(k);l&&(A.value=l(A.value));let{done:T}=A;!C&&f!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return $&&w!==u1&&(A.value=nj(h,this.options,S,this.speed)),j&&j(A.value),$&&this.finish(),A}then(t,n){return this.finished.then(t,n)}get duration(){return ns(this.calculatedDuration)}get time(){return ns(this.currentTime)}set time(t){var n;t=Ma(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Nr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ns(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:t=RU,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(s=this.options).onPlay)==null||l.call(s);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function WU(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Rl=e=>e*180/Math.PI,d1=e=>{const t=Rl(Math.atan2(e[1],e[0]));return f1(t)},XU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:d1,rotateZ:d1,skewX:e=>Rl(Math.atan(e[1])),skewY:e=>Rl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},f1=e=>(e=e%360,e<0&&(e+=360),e),M5=d1,D5=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),R5=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ZU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:D5,scaleY:R5,scale:e=>(D5(e)+R5(e))/2,rotateX:e=>f1(Rl(Math.atan2(e[6],e[5]))),rotateY:e=>f1(Rl(Math.atan2(-e[2],e[0]))),rotateZ:M5,rotate:M5,skewX:e=>Rl(Math.atan(e[4])),skewY:e=>Rl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function m1(e){return e.includes("scale")?1:0}function h1(e,t){if(!e||e==="none")return m1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(n)a=ZU,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=XU,s=d}if(!s)return m1(t);const l=a[t],c=s[1].split(",").map(JU);return typeof l=="function"?l(c):c[l]}const QU=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return h1(n,t)};function JU(e){return parseFloat(e.trim())}const Uc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fc=new Set(Uc),L5=e=>e===Bc||e===rt,eF=new Set(["x","y","z"]),tF=Uc.filter(e=>!eF.has(e));function nF(e){const t=[];return tF.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const Ul={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>h1(t,"x"),y:(e,{transform:t})=>h1(t,"y")};Ul.translateX=Ul.x;Ul.translateY=Ul.y;const Fl=new Set;let p1=!1,x1=!1,g1=!1;function pP(){if(x1){const e=Array.from(Fl).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const s=nF(a);s.length&&(n.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=n.get(a);s&&s.forEach(([l,c])=>{var d;(d=a.getValue(l))==null||d.set(c)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}x1=!1,p1=!1,Fl.forEach(e=>e.complete(g1)),Fl.clear()}function xP(){Fl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(x1=!0)})}function rF(){g1=!0,xP(),pP(),g1=!1}class sj{constructor(t,n,a,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Fl.add(this),p1||(p1=!0,qt.read(xP),qt.resolveKeyframes(pP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:s}=this;if(t[0]===null){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(a&&n){const d=a.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}WU(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fl.delete(this)}cancel(){this.state==="scheduled"&&(Fl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aF=e=>e.startsWith("--");function sF(e,t,n){aF(t)?e.style.setProperty(t,n):e.style[t]=n}const iF=Kw(()=>window.ScrollTimeline!==void 0),lF={};function oF(e,t){const n=Kw(e);return()=>lF[t]??n()}const gP=oF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bd=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,$5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bd([0,.65,.55,1]),circOut:bd([.55,0,1,.45]),backIn:bd([.31,.01,.66,-.59]),backOut:bd([.33,1.53,.69,.99])};function vP(e,t){if(e)return typeof e=="function"?gP()?oP(e,t):"ease-out":Q6(e)?bd(e):Array.isArray(e)?e.map(n=>vP(n,t)||$5.easeOut):$5[e]}function cF(e,t,n,{delay:a=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const h={[t]:n};f&&(h.offset=f);const x=vP(d,s);Array.isArray(x)&&(h.easing=x);const g={delay:a,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(g.pseudoElement=m),e.animate(h,g)}function ij(e){return typeof e=="function"&&"applyToOptions"in e}function uF({type:e,...t}){return ij(e)&&gP()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class dF extends rj{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:a,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,qw(typeof t.type!="string");const m=uF(t);this.animation=cF(n,a,s,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=nj(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(h):sF(n,a,h),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,a;const t=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return ns(Number(t))}get time(){return ns(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ma(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&iF()?(this.animation.timeline=t,ma):n(this)}}const yP={anticipate:K6,backInOut:q6,circInOut:Y6};function fF(e){return e in yP}function mF(e){typeof e.ease=="string"&&fF(e.ease)&&(e.ease=yP[e.ease])}const I5=10;class hF extends dF{constructor(t){mF(t),hP(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:a,onComplete:s,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new aj({...c,autoplay:!1}),f=Ma(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-I5).value,d.sample(f).value,I5),d.stop()}}const z5=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hi.test(e)||e==="0")&&!e.startsWith("url("));function pF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function xF(e,t,n,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=z5(s,t),d=z5(l,t);return!c||!d?!1:pF(e)||(n==="spring"||ij(n))&&a}function v1(e){e.duration=0,e.type}const gF=new Set(["opacity","clipPath","filter","transform"]),vF=Kw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yF(e){var h;const{motionValue:t,name:n,repeatDelay:a,repeatType:s,damping:l,type:c}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return vF()&&n&&gF.has(n)&&(n!=="transform"||!m)&&!f&&!a&&s!=="mirror"&&l!==0&&c!=="inertia"}const bF=40;class wF extends rj{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:h,...x}){var w;super(),this.stop=()=>{var j,S;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Nr.now();const g={autoplay:t,delay:n,type:a,repeat:s,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:h,...x},b=(h==null?void 0:h.KeyframeResolver)||sj;this.keyframeResolver=new b(d,(j,S,_)=>this.onKeyframesResolved(j,S,g,!_),f,m,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,a,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:h}=a;this.resolvedAt=Nr.now(),xF(t,l,c,d)||((Hs.instantAnimations||!f)&&(h==null||h(nj(t,a,n))),t[0]=t[t.length-1],v1(a),a.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>bF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:t},b=!m&&yF(g)?new hF({...g,element:g.motionValue.owner.current}):new aj(g);b.finished.then(()=>this.notifyFinished()).catch(ma),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),rF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class jF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let a=0;a<this.animations.length;a++)this.animations[a][t]=n}attachTimeline(t){const n=this.animations.map(a=>a.attachTimeline(t));return()=>{n.forEach((a,s)=>{a&&a(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class NF extends jF{then(t,n){return this.finished.finally(t).then(()=>{})}}const SF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _F(e){const t=SF.exec(e);if(!t)return[,];const[,n,a,s]=t;return[`--${n??a}`,s]}function bP(e,t,n=1){const[a,s]=_F(e);if(!a)return;const l=window.getComputedStyle(t).getPropertyValue(a);if(l){const c=l.trim();return $6(c)?parseFloat(c):c}return Zw(s)?bP(s,t,n+1):s}function lj(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const wP=new Set(["width","height","top","left","right","bottom",...Uc]),CF={test:e=>e==="auto",parse:e=>e},jP=e=>t=>t.test(e),NP=[Bc,rt,rs,Li,yU,vU,CF],B5=e=>NP.find(jP(e));function kF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||z6(e):!0}const AF=new Set(["brightness","contrast","saturate","opacity"]);function EF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=n.match(Qw)||[];if(!a)return e;const s=n.replace(a,"");let l=AF.has(t)?1:0;return a!==n&&(l*=100),t+"("+l+s+")"}const TF=/\b([a-z-]*)\(.*?\)/gu,y1={...Hi,getAnimatableNone:e=>{const t=e.match(TF);return t?t.map(EF).join(" "):e}},U5={...Bc,transform:Math.round},PF={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Qm,scaleX:Qm,scaleY:Qm,scaleZ:Qm,skew:Li,skewX:Li,skewY:Li,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:Vd,originX:A5,originY:A5,originZ:rt},oj={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt,...PF,zIndex:U5,fillOpacity:Vd,strokeOpacity:Vd,numOctaves:U5},OF={...oj,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:y1,WebkitFilter:y1},SP=e=>OF[e];function _P(e,t){let n=SP(e);return n!==y1&&(n=Hi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const MF=new Set(["auto","none","0"]);function DF(e,t,n){let a=0,s;for(;a<e.length&&!s;){const l=e[a];typeof l=="string"&&!MF.has(l)&&Hd(l).values.length&&(s=e[a]),a++}if(s&&n)for(const l of t)e[l]=_P(n,s)}class RF extends sj{constructor(t,n,a,s,l){super(t,n,a,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),Zw(m))){const h=bP(m,n.current);h!==void 0&&(t[f]=h),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!wP.has(a)||t.length!==2)return;const[s,l]=t,c=B5(s),d=B5(l);if(c!==d)if(L5(c)&&L5(d))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else Ul[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,a=[];for(let s=0;s<t.length;s++)(t[s]===null||kF(t[s]))&&a.push(s);a.length&&DF(t,a,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ul[a](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const l=a.length-1,c=a[l];a[l]=Ul[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function CP(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const s=(n==null?void 0:n[e])??a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const kP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function AP(e){return I6(e)&&"offsetHeight"in e}const F5=30,LF=e=>!isNaN(parseFloat(e)),Ad={current:void 0};class $F{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var l;const s=Nr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Nr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=LF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Gw);const a=this.events[t].add(n);return t==="change"?()=>{a(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ad.current&&Ad.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>F5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,F5);return B6(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yl(e,t){return new $F(e,t)}const{schedule:cj}=J6(queueMicrotask,!1),_a={x:!1,y:!1};function EP(){return _a.x||_a.y}function IF(e){return e==="x"||e==="y"?_a[e]?null:(_a[e]=!0,()=>{_a[e]=!1}):_a.x||_a.y?null:(_a.x=_a.y=!0,()=>{_a.x=_a.y=!1})}function TP(e,t){const n=CP(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[n,s,()=>a.abort()]}function V5(e){return!(e.pointerType==="touch"||EP())}function zF(e,t,n={}){const[a,s,l]=TP(e,n),c=d=>{if(!V5(d))return;const{target:f}=d,m=t(f,d);if(typeof m!="function"||!f)return;const h=x=>{V5(x)&&(m(x),f.removeEventListener("pointerleave",h))};f.addEventListener("pointerleave",h,s)};return a.forEach(d=>{d.addEventListener("pointerenter",c,s)}),l}const PP=(e,t)=>t?e===t?!0:PP(e,t.parentElement):!1,uj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,BF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UF(e){return BF.has(e.tagName)||e.tabIndex!==-1}const Qh=new WeakSet;function H5(e){return t=>{t.key==="Enter"&&e(t)}}function _v(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const FF=(e,t)=>{const n=e.currentTarget;if(!n)return;const a=H5(()=>{if(Qh.has(n))return;_v(n,"down");const s=H5(()=>{_v(n,"up")}),l=()=>_v(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",a,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),t)};function q5(e){return uj(e)&&!EP()}function VF(e,t,n={}){const[a,s,l]=TP(e,n),c=d=>{const f=d.currentTarget;if(!q5(d))return;Qh.add(f);const m=t(f,d),h=(b,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",g),Qh.has(f)&&Qh.delete(f),q5(b)&&typeof m=="function"&&m(b,{success:w})},x=b=>{h(b,f===window||f===document||n.useGlobalTarget||PP(f,b.target))},g=b=>{h(b,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",g,s)};return a.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),AP(d)&&(d.addEventListener("focus",m=>FF(m,s)),!UF(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function dj(e){return I6(e)&&"ownerSVGElement"in e}function OP(e){return dj(e)&&e.tagName==="svg"}function HF(...e){const t=!Array.isArray(e[0]),n=t?0:-1,a=e[0+n],s=e[1+n],l=e[2+n],c=e[3+n],d=dP(s,l,c);return t?d(a):d}const Mn=e=>!!(e&&e.getVelocity),qF=[...NP,gn,Hi],KF=e=>qF.find(jP(e)),mp=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class GF extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const a=n.offsetParent,s=AP(a)&&a.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YF({children:e,isPresent:t,anchorX:n,root:a}){const s=v.useId(),l=v.useRef(null),c=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=v.useContext(mp);return v.useInsertionEffect(()=>{const{width:f,height:m,top:h,left:x,right:g}=c.current;if(t||!l.current||!f||!m)return;const b=n==="left"?`left: ${x}`:`right: ${g}`;l.current.dataset.motionPopId=s;const w=document.createElement("style");d&&(w.nonce=d);const j=a??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${h}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[t]),r.jsx(GF,{isPresent:t,childRef:l,sizeRef:c,children:v.cloneElement(e,{ref:l})})}const WF=({children:e,initial:t,isPresent:n,onExitComplete:a,custom:s,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const m=pf(XF),h=v.useId();let x=!0,g=v.useMemo(()=>(x=!1,{id:h,initial:t,isPresent:n,custom:s,onExitComplete:b=>{m.set(b,!0);for(const w of m.values())if(!w)return;a&&a()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,a]);return l&&x&&(g={...g}),v.useMemo(()=>{m.forEach((b,w)=>m.set(w,!1))},[n]),v.useEffect(()=>{!n&&!m.size&&a&&a()},[n]),c==="popLayout"&&(e=r.jsx(YF,{isPresent:n,anchorX:d,root:f,children:e})),r.jsx(dp.Provider,{value:g,children:e})};function XF(){return new Map}function MP(e=!0){const t=v.useContext(dp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:s}=t,l=v.useId();v.useEffect(()=>{if(e)return s(l)},[e]);const c=v.useCallback(()=>e&&a&&a(l),[l,a,e]);return!n&&a?[!1,c]:[!0]}const Jm=e=>e.key||"";function K5(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Tt=({children:e,custom:t,initial:n=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[m,h]=MP(c),x=v.useMemo(()=>K5(e),[e]),g=c&&!m?[]:x.map(Jm),b=v.useRef(!0),w=v.useRef(x),j=pf(()=>new Map),[S,_]=v.useState(x),[C,k]=v.useState(x);Vw(()=>{b.current=!1,w.current=x;for(let T=0;T<C.length;T++){const $=Jm(C[T]);g.includes($)?j.delete($):j.get($)!==!0&&j.set($,!1)}},[C,g.length,g.join("-")]);const O=[];if(x!==S){let T=[...x];for(let $=0;$<C.length;$++){const M=C[$],U=Jm(M);g.includes(U)||(T.splice($,0,M),O.push(M))}return l==="wait"&&O.length&&(T=O),k(K5(T)),_(x),null}const{forceRender:A}=v.useContext(Uw);return r.jsx(r.Fragment,{children:C.map(T=>{const $=Jm(T),M=c&&!m?!1:x===C||g.includes($),U=()=>{if(j.has($))j.set($,!0);else return;let K=!0;j.forEach(F=>{F||(K=!1)}),K&&(A==null||A(),k(w.current),c&&(h==null||h()),a&&a())};return r.jsx(WF,{isPresent:M,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:f,onExitComplete:M?void 0:U,anchorX:d,children:T},$)})})},DP=v.createContext({strict:!1}),G5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bc={};for(const e in G5)bc[e]={isEnabled:t=>G5[e].some(n=>!!t[n])};function ZF(e){for(const t in e)bc[t]={...bc[t],...e[t]}}const QF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function m0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||QF.has(e)}let RP=e=>!m0(e);function JF(e){typeof e=="function"&&(RP=t=>t.startsWith("on")?!m0(t):e(t))}try{JF(require("@emotion/is-prop-valid").default)}catch{}function eV(e,t,n){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(RP(s)||n===!0&&m0(s)||!t&&!m0(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}const hp=v.createContext({});function pp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Kd(e){return typeof e=="string"||Array.isArray(e)}const fj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mj=["initial",...fj];function xp(e){return pp(e.animate)||mj.some(t=>Kd(e[t]))}function LP(e){return!!(xp(e)||e.variants)}function tV(e,t){if(xp(e)){const{initial:n,animate:a}=e;return{initial:n===!1||Kd(n)?n:void 0,animate:Kd(a)?a:void 0}}return e.inherit!==!1?t:{}}function nV(e){const{initial:t,animate:n}=tV(e,v.useContext(hp));return v.useMemo(()=>({initial:t,animate:n}),[Y5(t),Y5(n)])}function Y5(e){return Array.isArray(e)?e.join(" "):e}const Gd={};function rV(e){for(const t in e)Gd[t]=e[t],Xw(t)&&(Gd[t].isCSSVariable=!0)}function $P(e,{layout:t,layoutId:n}){return Fc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gd[e]||e==="opacity")}const aV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sV=Uc.length;function iV(e,t,n){let a="",s=!0;for(let l=0;l<sV;l++){const c=Uc[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=kP(d,oj[c]);if(!f){s=!1;const h=aV[c]||c;a+=`${h}(${m}) `}n&&(t[c]=m)}}return a=a.trim(),n?a=n(t,s?"":a):s&&(a="none"),a}function hj(e,t,n){const{style:a,vars:s,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const m=t[f];if(Fc.has(f)){c=!0;continue}else if(Xw(f)){s[f]=m;continue}else{const h=kP(m,oj[f]);f.startsWith("origin")?(d=!0,l[f]=h):a[f]=h}}if(t.transform||(c||n?a.transform=iV(t,e.transform,n):a.transform&&(a.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:h=0}=l;a.transformOrigin=`${f} ${m} ${h}`}}const pj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IP(e,t,n){for(const a in t)!Mn(t[a])&&!$P(a,n)&&(e[a]=t[a])}function lV({transformTemplate:e},t){return v.useMemo(()=>{const n=pj();return hj(n,t,e),Object.assign({},n.vars,n.style)},[t])}function oV(e,t){const n=e.style||{},a={};return IP(a,n,e),Object.assign(a,lV(e,t)),a}function cV(e,t){const n={},a=oV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const uV={offset:"stroke-dashoffset",array:"stroke-dasharray"},dV={offset:"strokeDashoffset",array:"strokeDasharray"};function fV(e,t,n=1,a=0,s=!0){e.pathLength=1;const l=s?uV:dV;e[l.offset]=rt.transform(-a);const c=rt.transform(t),d=rt.transform(n);e[l.array]=`${c} ${d}`}function zP(e,{attrX:t,attrY:n,attrScale:a,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...d},f,m,h){if(hj(e,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:g}=e;x.transform&&(g.transform=x.transform,delete x.transform),(g.transform||x.transformOrigin)&&(g.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),a!==void 0&&(x.scale=a),s!==void 0&&fV(x,s,l,c,!1)}const BP=()=>({...pj(),attrs:{}}),UP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mV(e,t,n,a){const s=v.useMemo(()=>{const l=BP();return zP(l,t,UP(a),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};IP(l,e.style,e),s.style={...l,...s.style}}return s}const hV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xj(e){return typeof e!="string"||e.includes("-")?!1:!!(hV.indexOf(e)>-1||/[A-Z]/u.test(e))}function pV(e,t,n,{latestValues:a},s,l=!1){const d=(xj(e)?mV:cV)(t,a,s,e),f=eV(t,typeof e=="string",l),m=e!==v.Fragment?{...f,...d,ref:n}:{},{children:h}=t,x=v.useMemo(()=>Mn(h)?h.get():h,[h]);return v.createElement(e,{...m,children:x})}function W5(e){const t=[{},{}];return e==null||e.values.forEach((n,a)=>{t[0][a]=n.get(),t[1][a]=n.getVelocity()}),t}function gj(e,t,n,a){if(typeof t=="function"){const[s,l]=W5(a);t=t(n!==void 0?n:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=W5(a);t=t(n!==void 0?n:e.custom,s,l)}return t}function Jh(e){return Mn(e)?e.get():e}function xV({scrapeMotionValuesFromProps:e,createRenderState:t},n,a,s){return{latestValues:gV(n,a,s,e),renderState:t()}}function gV(e,t,n,a){const s={},l=a(e,{});for(const g in l)s[g]=Jh(l[g]);let{initial:c,animate:d}=e;const f=xp(e),m=LP(e);t&&m&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let h=n?n.initial===!1:!1;h=h||c===!1;const x=h?d:c;if(x&&typeof x!="boolean"&&!pp(x)){const g=Array.isArray(x)?x:[x];for(let b=0;b<g.length;b++){const w=gj(e,g[b]);if(w){const{transitionEnd:j,transition:S,..._}=w;for(const C in _){let k=_[C];if(Array.isArray(k)){const O=h?k.length-1:0;k=k[O]}k!==null&&(s[C]=k)}for(const C in j)s[C]=j[C]}}}return s}const FP=e=>(t,n)=>{const a=v.useContext(hp),s=v.useContext(dp),l=()=>xV(e,t,a,s);return n?l():pf(l)};function vj(e,t,n){var l;const{style:a}=e,s={};for(const c in a)(Mn(a[c])||t.style&&Mn(t.style[c])||$P(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(s[c]=a[c]);return s}const vV=FP({scrapeMotionValuesFromProps:vj,createRenderState:pj});function VP(e,t,n){const a=vj(e,t,n);for(const s in e)if(Mn(e[s])||Mn(t[s])){const l=Uc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[l]=e[s]}return a}const yV=FP({scrapeMotionValuesFromProps:VP,createRenderState:BP}),bV=Symbol.for("motionComponentSymbol");function nc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wV(e,t,n){return v.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),n&&(typeof n=="function"?n(a):nc(n)&&(n.current=a))},[t])}const yj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jV="framerAppearId",HP="data-"+yj(jV),qP=v.createContext({});function NV(e,t,n,a,s){var j,S;const{visualElement:l}=v.useContext(hp),c=v.useContext(DP),d=v.useContext(dp),f=v.useContext(mp).reducedMotion,m=v.useRef(null);a=a||c.renderer,!m.current&&a&&(m.current=a(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const h=m.current,x=v.useContext(qP);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&SV(m.current,n,s,x);const g=v.useRef(!1);v.useInsertionEffect(()=>{h&&g.current&&h.update(n,d)});const b=n[HP],w=v.useRef(!!b&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return Vw(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,b)}),w.current=!1),h.enteringChildren=void 0)}),h}function SV(e,t,n,a){const{layoutId:s,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:KP(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||d&&nc(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:h,layoutScroll:f,layoutRoot:m})}function KP(e){if(e)return e.options.allowProjection!==!1?e.projection:KP(e.parent)}function Cv(e,{forwardMotionProps:t=!1}={},n,a){n&&ZF(n);const s=xj(e)?yV:vV;function l(d,f){let m;const h={...v.useContext(mp),...d,layoutId:_V(d)},{isStatic:x}=h,g=nV(d),b=s(d,x);if(!x&&Fw){CV();const w=kV(h);m=w.MeasureLayout,g.visualElement=NV(e,b,h,a,w.ProjectionNode)}return r.jsxs(hp.Provider,{value:g,children:[m&&g.visualElement?r.jsx(m,{visualElement:g.visualElement,...h}):null,pV(e,d,wV(b,g.visualElement,f),b,x,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=v.forwardRef(l);return c[bV]=e,c}function _V({layoutId:e}){const t=v.useContext(Uw).id;return t&&e!==void 0?t+"-"+e:e}function CV(e,t){v.useContext(DP).strict}function kV(e){const{drag:t,layout:n}=bc;if(!t&&!n)return{};const a={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function AV(e,t){if(typeof Proxy>"u")return Cv;const n=new Map,a=(l,c)=>Cv(l,c,e,t),s=(l,c)=>a(l,c);return new Proxy(s,{get:(l,c)=>c==="create"?a:(n.has(c)||n.set(c,Cv(c,void 0,e,t)),n.get(c))})}function GP({top:e,left:t,right:n,bottom:a}){return{x:{min:t,max:n},y:{min:e,max:a}}}function EV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function TV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function kv(e){return e===void 0||e===1}function b1({scale:e,scaleX:t,scaleY:n}){return!kv(e)||!kv(t)||!kv(n)}function Cl(e){return b1(e)||YP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function YP(e){return X5(e.x)||X5(e.y)}function X5(e){return e&&e!=="0%"}function h0(e,t,n){const a=e-n,s=t*a;return n+s}function Z5(e,t,n,a,s){return s!==void 0&&(e=h0(e,s,a)),h0(e,n,a)+t}function w1(e,t=0,n=1,a,s){e.min=Z5(e.min,t,n,a,s),e.max=Z5(e.max,t,n,a,s)}function WP(e,{x:t,y:n}){w1(e.x,t.translate,t.scale,t.originPoint),w1(e.y,n.translate,n.scale,n.originPoint)}const Q5=.999999999999,J5=1.0000000000001;function PV(e,t,n,a=!1){const s=n.length;if(!s)return;t.x=t.y=1;let l,c;for(let d=0;d<s;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ac(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,WP(e,c)),a&&Cl(l.latestValues)&&ac(e,l.latestValues))}t.x<J5&&t.x>Q5&&(t.x=1),t.y<J5&&t.y>Q5&&(t.y=1)}function rc(e,t){e.min=e.min+t,e.max=e.max+t}function e3(e,t,n,a,s=.5){const l=Wt(e.min,e.max,s);w1(e,t,n,l,a)}function ac(e,t){e3(e.x,t.x,t.scaleX,t.scale,t.originX),e3(e.y,t.y,t.scaleY,t.scale,t.originY)}function XP(e,t){return GP(TV(e.getBoundingClientRect(),t))}function OV(e,t,n){const a=XP(e,n),{scroll:s}=t;return s&&(rc(a.x,s.offset.x),rc(a.y,s.offset.y)),a}const t3=()=>({translate:0,scale:1,origin:0,originPoint:0}),sc=()=>({x:t3(),y:t3()}),n3=()=>({min:0,max:0}),sn=()=>({x:n3(),y:n3()}),j1={current:null},ZP={current:!1};function MV(){if(ZP.current=!0,!!Fw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>j1.current=e.matches;e.addEventListener("change",t),t()}else j1.current=!1}const Yd=new WeakMap;function DV(e,t,n){for(const a in t){const s=t[a],l=n[a];if(Mn(s))e.addValue(a,s);else if(Mn(l))e.addValue(a,Yl(s,{owner:e}));else if(l!==s)if(e.hasValue(a)){const c=e.getValue(a);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(a);e.addValue(a,Yl(c!==void 0?c:s,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const r3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QP{scrapeMotionValuesFromProps(t,n,a){return{}}constructor({parent:t,props:n,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Nr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,qt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=xp(n),this.isVariantNode=LP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in x){const b=x[g];f[g]!==void 0&&Mn(b)&&b.set(f[g])}}mount(t){var n;this.current=t,Yd.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),ZP.current||MV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:j1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),qs(this.notifyUpdate),qs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const a=this.features[n];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Fc.has(t);a&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&qt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bc){const n=bc[t];if(!n)continue;const{isEnabled:a,Feature:s}=n;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<r3.length;a++){const s=r3[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=DV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const a=this.values.get(t);n!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&n!==void 0&&(a=Yl(n===null?void 0:n,{owner:this}),this.addValue(t,a)),a}readValue(t,n){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&($6(a)||z6(a))?a=parseFloat(a):!KF(a)&&Hi.test(n)&&(a=_P(t,n)),this.setBaseTarget(t,Mn(a)?a.get():a)),Mn(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=gj(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(a=c[t])}if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Mn(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Gw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){cj.render(this.render)}}class JP extends QP{constructor(){super(...arguments),this.KeyframeResolver=RF}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:a}){delete n[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function eO(e,{style:t,vars:n},a,s){const l=e.style;let c;for(c in t)l[c]=t[c];s==null||s.applyProjectionStyles(l,a);for(c in n)l.setProperty(c,n[c])}function RV(e){return window.getComputedStyle(e)}class tO extends JP{constructor(){super(...arguments),this.type="html",this.renderInstance=eO}readValueFromInstance(t,n){var a;if(Fc.has(n))return(a=this.projection)!=null&&a.isProjecting?m1(n):QU(t,n);{const s=RV(t),l=(Xw(n)?s.getPropertyValue(n):s[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return XP(t,n)}build(t,n,a){hj(t,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,n,a){return vj(t,n,a)}}const nO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LV(e,t,n,a){eO(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(nO.has(s)?s:yj(s),t.attrs[s])}class rO extends JP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Fc.has(n)){const a=SP(n);return a&&a.default||0}return n=nO.has(n)?n:yj(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,a){return VP(t,n,a)}build(t,n,a){zP(t,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,n,a,s){LV(t,n,a,s)}mount(t){this.isSVGTag=UP(t.tagName),super.mount(t)}}const $V=(e,t)=>xj(e)?new rO(t):new tO(t,{allowProjection:e!==v.Fragment});function uc(e,t,n){const a=e.getProps();return gj(a,t,n!==void 0?n:a.custom,e)}const N1=e=>Array.isArray(e);function IV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yl(n))}function zV(e){return N1(e)?e[e.length-1]||0:e}function BV(e,t){const n=uc(e,t);let{transitionEnd:a={},transition:s={},...l}=n||{};l={...l,...a};for(const c in l){const d=zV(l[c]);IV(e,c,d)}}function UV(e){return!!(Mn(e)&&e.add)}function S1(e,t){const n=e.getValue("willChange");if(UV(n))return n.add(t);if(!n&&Hs.WillChange){const a=new Hs.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function aO(e){return e.props[HP]}const FV=e=>e!==null;function VV(e,{repeat:t,repeatType:n="loop"},a){const s=e.filter(FV),l=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[l]}const HV={type:"spring",stiffness:500,damping:25,restSpeed:10},qV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),KV={type:"keyframes",duration:.8},GV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YV=(e,{keyframes:t})=>t.length>2?KV:Fc.has(e)?e.startsWith("scale")?qV(t[1]):HV:GV;function WV({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:m,...h}){return!!Object.keys(h).length}const bj=(e,t,n,a={},s,l)=>c=>{const d=lj(a,e)||{},f=d.delay||a.delay||0;let{elapsed:m=0}=a;m=m-Ma(f);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:g=>{t.set(g),d.onUpdate&&d.onUpdate(g)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:s};WV(d)||Object.assign(h,YV(e,h)),h.duration&&(h.duration=Ma(h.duration)),h.repeatDelay&&(h.repeatDelay=Ma(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let x=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(v1(h),h.delay===0&&(x=!0)),(Hs.instantAnimations||Hs.skipAnimations)&&(x=!0,v1(h),h.delay=0),h.allowFlatten=!d.type&&!d.ease,x&&!l&&t.get()!==void 0){const g=VV(h.keyframes,d);if(g!==void 0){qt.update(()=>{h.onUpdate(g),h.onComplete()});return}}return d.isSync?new aj(h):new wF(h)};function XV({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function wj(e,t,{delay:n=0,transitionOverride:a,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;a&&(l=a);const f=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const h in d){const x=e.getValue(h,e.latestValues[h]??null),g=d[h];if(g===void 0||m&&XV(m,h))continue;const b={delay:n,...lj(l||{},h)},w=x.get();if(w!==void 0&&!x.isAnimating&&!Array.isArray(g)&&g===w&&!b.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const _=aO(e);if(_){const C=window.MotionHandoffAnimation(_,h,qt);C!==null&&(b.startTime=C,j=!0)}}S1(e,h),x.start(bj(h,x,g,e.shouldReduceMotion&&wP.has(h)?{type:!1}:b,e,j));const S=x.animation;S&&f.push(S)}return c&&Promise.all(f).then(()=>{qt.update(()=>{c&&BV(e,c)})}),f}function sO(e,t,n,a=0,s=1){const l=Array.from(e).sort((m,h)=>m.sortNodePosition(h)).indexOf(t),c=e.size,d=(c-1)*a;return typeof n=="function"?n(l,c):s===1?l*a:d-l*a}function _1(e,t,n={}){var f;const a=uc(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const l=a?()=>Promise.all(wj(e,a,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:h=0,staggerChildren:x,staggerDirection:g}=s;return ZV(e,t,m,h,x,g,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[m,h]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>h())}else return Promise.all([l(),c(n.delay)])}function ZV(e,t,n=0,a=0,s=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(_1(f,t,{...c,delay:n+(typeof a=="function"?0:a)+sO(e.variantChildren,f,a,s,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function QV(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(l=>_1(e,l,n));a=Promise.all(s)}else if(typeof t=="string")a=_1(e,t,n);else{const s=typeof t=="function"?uc(e,t,n.custom):t;a=Promise.all(wj(e,s,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}function iO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0}const JV=mj.length;function lO(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?lO(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<JV;n++){const a=mj[n],s=e.props[a];(Kd(s)||s===!1)&&(t[a]=s)}return t}const eH=[...fj].reverse(),tH=fj.length;function nH(e){return t=>Promise.all(t.map(({animation:n,options:a})=>QV(e,n,a)))}function rH(e){let t=nH(e),n=a3(),a=!0;const s=f=>(m,h)=>{var g;const x=uc(e,h,f==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(x){const{transition:b,transitionEnd:w,...j}=x;m={...m,...j,...w}}return m};function l(f){t=f(e)}function c(f){const{props:m}=e,h=lO(e.parent)||{},x=[],g=new Set;let b={},w=1/0;for(let S=0;S<tH;S++){const _=eH[S],C=n[_],k=m[_]!==void 0?m[_]:h[_],O=Kd(k),A=_===f?C.isActive:null;A===!1&&(w=S);let T=k===h[_]&&k!==m[_]&&O;if(T&&a&&e.manuallyAnimateOnMount&&(T=!1),C.protectedKeys={...b},!C.isActive&&A===null||!k&&!C.prevProp||pp(k)||typeof k=="boolean")continue;const $=aH(C.prevProp,k);let M=$||_===f&&C.isActive&&!T&&O||S>w&&O,U=!1;const K=Array.isArray(k)?k:[k];let F=K.reduce(s(_),{});A===!1&&(F={});const{prevResolvedValues:B={}}=C,ne={...B,...F},Ne=G=>{M=!0,g.has(G)&&(U=!0,g.delete(G)),C.needsAnimating[G]=!0;const V=e.getValue(G);V&&(V.liveStyle=!1)};for(const G in ne){const V=F[G],z=B[G];if(b.hasOwnProperty(G))continue;let E=!1;N1(V)&&N1(z)?E=!iO(V,z):E=V!==z,E?V!=null?Ne(G):g.add(G):V!==void 0&&g.has(G)?Ne(G):C.protectedKeys[G]=!0}C.prevProp=k,C.prevResolvedValues=F,C.isActive&&(b={...b,...F}),a&&e.blockInitialAnimation&&(M=!1);const se=T&&$;M&&(!se||U)&&x.push(...K.map(G=>{const V={type:_};if(typeof G=="string"&&a&&!se&&e.manuallyAnimateOnMount&&e.parent){const{parent:z}=e,E=uc(z,G);if(z.enteringChildren&&E){const{delayChildren:R}=E.transition||{};V.delay=sO(z.enteringChildren,e,R)}}return{animation:G,options:V}}))}if(g.size){const S={};if(typeof m.initial!="boolean"){const _=uc(e,Array.isArray(m.initial)?m.initial[0]:m.initial);_&&_.transition&&(S.transition=_.transition)}g.forEach(_=>{const C=e.getBaseTarget(_),k=e.getValue(_);k&&(k.liveStyle=!0),S[_]=C??null}),x.push({animation:S})}let j=!!x.length;return a&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(j=!1),a=!1,j?t(x):Promise.resolve()}function d(f,m){var x;if(n[f].isActive===m)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(g=>{var b;return(b=g.animationState)==null?void 0:b.setActive(f,m)}),n[f].isActive=m;const h=c(f);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=a3(),a=!0}}}function aH(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iO(t,e):!1}function vl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function a3(){return{animate:vl(!0),whileInView:vl(),whileHover:vl(),whileTap:vl(),whileDrag:vl(),whileFocus:vl(),exit:vl()}}class Wi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class sH extends Wi{constructor(t){super(t),t.animationState||(t.animationState=rH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let iH=0;class lH extends Wi{constructor(){super(...arguments),this.id=iH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const oH={animation:{Feature:sH},exit:{Feature:lH}};function Wd(e,t,n,a={passive:!0}){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n)}function yf(e){return{point:{x:e.pageX,y:e.pageY}}}const cH=e=>t=>uj(t)&&e(t,yf(t));function Ed(e,t,n,a){return Wd(e,t,cH(n),a)}const oO=1e-4,uH=1-oO,dH=1+oO,cO=.01,fH=0-cO,mH=0+cO;function lr(e){return e.max-e.min}function hH(e,t,n){return Math.abs(e-t)<=n}function s3(e,t,n,a=.5){e.origin=a,e.originPoint=Wt(t.min,t.max,e.origin),e.scale=lr(n)/lr(t),e.translate=Wt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=uH&&e.scale<=dH||isNaN(e.scale))&&(e.scale=1),(e.translate>=fH&&e.translate<=mH||isNaN(e.translate))&&(e.translate=0)}function Td(e,t,n,a){s3(e.x,t.x,n.x,a?a.originX:void 0),s3(e.y,t.y,n.y,a?a.originY:void 0)}function i3(e,t,n){e.min=n.min+t.min,e.max=e.min+lr(t)}function pH(e,t,n){i3(e.x,t.x,n.x),i3(e.y,t.y,n.y)}function l3(e,t,n){e.min=t.min-n.min,e.max=e.min+lr(t)}function Pd(e,t,n){l3(e.x,t.x,n.x),l3(e.y,t.y,n.y)}function ca(e){return[e("x"),e("y")]}const uO=({current:e})=>e?e.ownerDocument.defaultView:null,o3=(e,t)=>Math.abs(e-t);function xH(e,t){const n=o3(e.x,t.x),a=o3(e.y,t.y);return Math.sqrt(n**2+a**2)}class dO{constructor(t,n,{transformPagePoint:a,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ev(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=xH(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:j}=g,{timestamp:S}=Fn;this.history.push({...j,timestamp:S});const{onStart:_,onMove:C}=this.handlers;b||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Av(b,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ev(g.type==="pointercancel"?this.lastMoveEventInfo:Av(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,_),j&&j(g,_)},!uj(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=a,this.distanceThreshold=c,this.contextWindow=s||window;const d=yf(t),f=Av(d,this.transformPagePoint),{point:m}=f,{timestamp:h}=Fn;this.history=[{...m,timestamp:h}];const{onSessionStart:x}=n;x&&x(t,Ev(f,this.history)),this.removeListeners=xf(Ed(this.contextWindow,"pointermove",this.handlePointerMove),Ed(this.contextWindow,"pointerup",this.handlePointerUp),Ed(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qs(this.updatePoint)}}function Av(e,t){return t?{point:t(e.point)}:e}function c3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ev({point:e},t){return{point:e,delta:c3(e,fO(t)),offset:c3(e,gH(t)),velocity:vH(t,.1)}}function gH(e){return e[0]}function fO(e){return e[e.length-1]}function vH(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const s=fO(e);for(;n>=0&&(a=e[n],!(s.timestamp-a.timestamp>Ma(t)));)n--;if(!a)return{x:0,y:0};const l=ns(s.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-a.x)/l,y:(s.y-a.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function yH(e,{min:t,max:n},a){return t!==void 0&&e<t?e=a?Wt(t,e,a.min):Math.max(e,t):n!==void 0&&e>n&&(e=a?Wt(n,e,a.max):Math.min(e,n)),e}function u3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bH(e,{top:t,left:n,bottom:a,right:s}){return{x:u3(e.x,n,s),y:u3(e.y,t,a)}}function d3(e,t){let n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function wH(e,t){return{x:d3(e.x,t.x),y:d3(e.y,t.y)}}function jH(e,t){let n=.5;const a=lr(e),s=lr(t);return s>a?n=yc(t.min,t.max-a,e.min):a>s&&(n=yc(e.min,e.max-s,t.min)),Vs(0,1,n)}function NH(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const C1=.35;function SH(e=C1){return e===!1?e=0:e===!0&&(e=C1),{x:f3(e,"left","right"),y:f3(e,"top","bottom")}}function f3(e,t,n){return{min:m3(e,t),max:m3(e,n)}}function m3(e,t){return typeof e=="number"?e:e[t]||0}const _H=new WeakMap;class CH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:a}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yf(x).point)},c=(x,g)=>{const{drag:b,dragPropagation:w,onDragStart:j}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IF(b),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ca(_=>{let C=this.getAxisMotionValue(_).get()||0;if(rs.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const O=k.layout.layoutBox[_];O&&(C=lr(O)*(parseFloat(C)/100))}}this.originPoint[_]=C}),j&&qt.postRender(()=>j(x,g)),S1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:j,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=g;if(w&&this.currentDirection===null){this.currentDirection=kH(_),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),S&&S(x,g)},f=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g,this.stop(x,g),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ca(x=>{var g;return this.getAnimationState(x)==="paused"&&((g=this.getAxisMotionValue(x).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new dO(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:a,contextWindow:uO(this.visualElement)})}stop(t,n){const a=t||this.latestPointerEvent,s=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!a)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&qt.postRender(()=>d(a,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,a){const{drag:s}=this.getProps();if(!a||!eh(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(c=yH(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;t&&nc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=bH(a.layoutBox,t):this.constraints=!1,this.elastic=SH(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ca(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=NH(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!nc(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=OV(a,s.root,this.visualElement.getTransformPagePoint());let c=wH(s.layout.layoutBox,l);if(n){const d=n(EV(c));this.hasMutatedConstraints=!!d,d&&(c=GP(d))}return c}startAnimation(t){const{drag:n,dragMomentum:a,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=ca(h=>{if(!eh(h,n,this.currentDirection))return;let x=f&&f[h]||{};c&&(x={min:0,max:0});const g=s?200:1e6,b=s?40:1e7,w={type:"inertia",velocity:a?t[h]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(h,w)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const a=this.getAxisMotionValue(t);return S1(this.visualElement,t),a.start(bj(t,a,0,n,this.visualElement,!1))}stopAnimation(){ca(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ca(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[n];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){ca(n=>{const{drag:a}=this.getProps();if(!eh(n,a,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[n];l.set(t[n]-Wt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!nc(n)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ca(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();s[c]=jH({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),ca(c=>{if(!eh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Wt(f,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;_H.set(this.visualElement,this);const t=this.visualElement.current,n=Ed(t,"pointerdown",f=>{const{drag:m,dragListener:h=!0}=this.getProps();m&&h&&this.start(f)}),a=()=>{const{dragConstraints:f}=this.getProps();nc(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),qt.read(a);const c=Wd(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(ca(h=>{const x=this.getAxisMotionValue(h);x&&(this.originPoint[h]+=f[h].translate,x.set(x.get()+f[h].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=C1,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:a,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function eh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function kH(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class AH extends Wi{constructor(t){super(t),this.removeGroupControls=ma,this.removeListeners=ma,this.controls=new CH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ma}unmount(){this.removeGroupControls(),this.removeListeners()}}const h3=e=>(t,n)=>{e&&qt.postRender(()=>e(t,n))};class EH extends Wi{constructor(){super(...arguments),this.removePointerDownListener=ma}onPointerDown(t){this.session=new dO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:h3(t),onStart:h3(n),onMove:a,onEnd:(l,c)=>{delete this.session,s&&qt.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=Ed(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const e0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rt.test(e))e=parseFloat(e);else return e;const n=p3(e,t.target.x),a=p3(e,t.target.y);return`${n}% ${a}%`}},TH={correct:(e,{treeScale:t,projectionDelta:n})=>{const a=e,s=Hi.parse(e);if(s.length>5)return a;const l=Hi.createTransformer(e),c=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;s[0+c]/=d,s[1+c]/=f;const m=Wt(d,f,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),l(s)}};let Tv=!1;class PH extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a,layoutId:s}=this.props,{projection:l}=t;rV(OH),l&&(n.group&&n.group.add(l),a&&a.register&&s&&a.register(l),Tv&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),e0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:a,drag:s,isPresent:l}=this.props,{projection:c}=a;return c&&(c.isPresent=l,Tv=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||qt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:s}=t;Tv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mO(e){const[t,n]=MP(),a=v.useContext(Uw);return r.jsx(PH,{...e,layoutGroup:a,switchLayoutGroup:v.useContext(qP),isPresent:t,safeToRemove:n})}const OH={borderRadius:{...Zu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zu,borderTopRightRadius:Zu,borderBottomLeftRadius:Zu,borderBottomRightRadius:Zu,boxShadow:TH};function hO(e,t,n){const a=Mn(e)?e:Yl(e);return a.start(bj("",a,t,n)),a.animation}const MH=(e,t)=>e.depth-t.depth;class DH{constructor(){this.children=[],this.isDirty=!1}add(t){Hw(this.children,t),this.isDirty=!0}remove(t){fp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(MH),this.isDirty=!1,this.children.forEach(t)}}function RH(e,t){const n=Nr.now(),a=({timestamp:s})=>{const l=s-n;l>=t&&(qs(a),e(l-t))};return qt.setup(a,!0),()=>qs(a)}const pO=["TopLeft","TopRight","BottomLeft","BottomRight"],LH=pO.length,x3=e=>typeof e=="string"?parseFloat(e):e,g3=e=>typeof e=="number"||rt.test(e);function $H(e,t,n,a,s,l){s?(e.opacity=Wt(0,n.opacity??1,IH(a)),e.opacityExit=Wt(t.opacity??1,0,zH(a))):l&&(e.opacity=Wt(t.opacity??1,n.opacity??1,a));for(let c=0;c<LH;c++){const d=`border${pO[c]}Radius`;let f=v3(t,d),m=v3(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||g3(f)===g3(m)?(e[d]=Math.max(Wt(x3(f),x3(m),a),0),(rs.test(m)||rs.test(f))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=Wt(t.rotate||0,n.rotate||0,a))}function v3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const IH=xO(0,.5,G6),zH=xO(.5,.95,ma);function xO(e,t,n){return a=>a<e?0:a>t?1:n(yc(e,t,a))}function y3(e,t){e.min=t.min,e.max=t.max}function aa(e,t){y3(e.x,t.x),y3(e.y,t.y)}function b3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function w3(e,t,n,a,s){return e-=t,e=h0(e,1/n,a),s!==void 0&&(e=h0(e,1/s,a)),e}function BH(e,t=0,n=1,a=.5,s,l=e,c=e){if(rs.test(t)&&(t=parseFloat(t),t=Wt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Wt(l.min,l.max,a);e===l&&(d-=t),e.min=w3(e.min,t,n,d,s),e.max=w3(e.max,t,n,d,s)}function j3(e,t,[n,a,s],l,c){BH(e,t[n],t[a],t[s],t.scale,l,c)}const UH=["x","scaleX","originX"],FH=["y","scaleY","originY"];function N3(e,t,n,a){j3(e.x,t,UH,n?n.x:void 0,a?a.x:void 0),j3(e.y,t,FH,n?n.y:void 0,a?a.y:void 0)}function S3(e){return e.translate===0&&e.scale===1}function gO(e){return S3(e.x)&&S3(e.y)}function _3(e,t){return e.min===t.min&&e.max===t.max}function VH(e,t){return _3(e.x,t.x)&&_3(e.y,t.y)}function C3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vO(e,t){return C3(e.x,t.x)&&C3(e.y,t.y)}function k3(e){return lr(e.x)/lr(e.y)}function A3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class HH{constructor(){this.members=[]}add(t){Hw(this.members,t),t.scheduleRender()}remove(t){if(fp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let a;for(let s=n;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(t,n){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,n&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:a}=t;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qH(e,t,n){let a="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((s||l||c)&&(a=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:h,rotateX:x,rotateY:g,skewX:b,skewY:w}=n;m&&(a=`perspective(${m}px) ${a}`),h&&(a+=`rotate(${h}deg) `),x&&(a+=`rotateX(${x}deg) `),g&&(a+=`rotateY(${g}deg) `),b&&(a+=`skewX(${b}deg) `),w&&(a+=`skewY(${w}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(a+=`scale(${d}, ${f})`),a||"none"}const Pv=["","X","Y","Z"],KH=1e3;let GH=0;function Ov(e,t,n,a){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function yO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=aO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",qt,!(s||l))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&yO(a)}function bO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(c={},d=t==null?void 0:t()){this.id=GH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(XH),this.nodes.forEach(eq),this.nodes.forEach(tq),this.nodes.forEach(ZH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new DH)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Gw),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=dj(c)&&!OP(c),this.instance=c;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let h,x=0;const g=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{x=window.innerWidth}),e(c,()=>{const b=window.innerWidth;b!==x&&(x=b,this.root.updateBlockedByResize=!0,h&&h(),h=RH(g,250),e0.hasAnimatedSinceResize&&(e0.hasAnimatedSinceResize=!1,this.nodes.forEach(P3)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||iq,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=m.getProps(),_=!this.targetLayout||!vO(this.targetLayout,b),C=!x&&g;if(this.options.layoutRoot||this.resumeFrom||C||x&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...lj(w,"layout"),onPlay:j,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,C)}else x||P3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nq),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const x=this.path[h];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(T3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(JH),this.nodes.forEach(YH),this.nodes.forEach(WH)):this.nodes.forEach(T3),this.clearAllSnapshots();const d=Nr.now();Fn.delta=Vs(0,1e3/60,d-Fn.timestamp),Fn.timestamp=d,Fn.isProcessing=!0,bv.update.process(Fn),bv.preRender.process(Fn),bv.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QH),this.sharedNodes.forEach(rq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!lr(this.snapshot.measuredBox.x)&&!lr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!gO(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,h=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||Cl(this.latestValues)||h)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),lq(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return sn();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(oq))){const{scroll:h}=this.root;h&&(rc(d.x,h.offset.x),rc(d.y,h.offset.y))}return d}removeElementScroll(c){var f;const d=sn();if(aa(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const h=this.path[m],{scroll:x,options:g}=h;h!==this.root&&x&&g.layoutScroll&&(x.wasRoot&&aa(d,c),rc(d.x,x.offset.x),rc(d.y,x.offset.y))}return d}applyTransform(c,d=!1){const f=sn();aa(f,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];!d&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ac(f,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Cl(h.latestValues)&&ac(f,h.latestValues)}return Cl(this.latestValues)&&ac(f,this.latestValues),f}removeTransform(c){const d=sn();aa(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Cl(m.latestValues))continue;b1(m.latestValues)&&m.updateSnapshot();const h=sn(),x=m.measurePageBox();aa(h,x),N3(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,h)}return Cl(this.latestValues)&&N3(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Pd(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),aa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):aa(this.target,this.layout.layoutBox),WP(this.target,this.targetDelta)):aa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Pd(this.relativeTargetOrigin,this.target,b.target),aa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||b1(this.parent.latestValues)||YP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;aa(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,g=this.treeScale.y;PV(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=sn());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(b3(this.prevProjectionDelta.x,this.projectionDelta.x),b3(this.prevProjectionDelta.y,this.projectionDelta.y)),Td(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==g||!A3(this.projectionDelta.x,this.prevProjectionDelta.x)||!A3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sc(),this.projectionDelta=sc(),this.projectionDeltaWithTransform=sc()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},h={...this.latestValues},x=sc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const g=sn(),b=f?f.source:void 0,w=this.layout?this.layout.source:void 0,j=b!==w,S=this.getStack(),_=!S||S.members.length<=1,C=!!(j&&!_&&this.options.crossfade===!0&&!this.path.some(sq));this.animationProgress=0;let k;this.mixTargetDelta=O=>{const A=O/1e3;O3(x.x,c.x,A),O3(x.y,c.y,A),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aq(this.relativeTarget,this.relativeTargetOrigin,g,A),k&&VH(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=sn()),aa(k,this.relativeTarget)),j&&(this.animationValues=h,$H(h,m,this.latestValues,A,C,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{e0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yl(0)),this.currentAnimation=hO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:h}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&wO(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||sn();const x=lr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const g=lr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+g}aa(d,f),ac(d,h),Td(this.projectionDeltaWithTransform,this.layoutCorrected,d,h)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new HH),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Ov("z",c,m,this.animationValues);for(let h=0;h<Pv.length;h++)Ov(`rotate${Pv[h]}`,c,m,this.animationValues),Ov(`skew${Pv[h]}`,c,m,this.animationValues);c.render();for(const h in m)c.setStaticValue(h,m[h]),this.animationValues&&(this.animationValues[h]=m[h]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Jh(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Jh(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Cl(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const h=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=qH(this.projectionDeltaWithTransform,this.treeScale,h);f&&(x=f(h,x)),c.transform=x;const{x:g,y:b}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,m.animationValues?c.opacity=m===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Gd){if(h[w]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:_}=Gd[w],C=x==="none"?h[w]:j(h[w],m);if(S){const k=S.length;for(let O=0;O<k;O++)c[S[O]]=C}else _?this.options.visualElement.renderState.vars[w]=C:c[w]=C}this.options.layoutId&&(c.pointerEvents=m===this?Jh(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(E3),this.root.sharedNodes.clear()}}}function YH(e){e.updateLayout()}function WH(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?ca(x=>{const g=c?t.measuredBox[x]:t.layoutBox[x],b=lr(g);g.min=a[x].min,g.max=g.min+b}):wO(l,t.layoutBox,a)&&ca(x=>{const g=c?t.measuredBox[x]:t.layoutBox[x],b=lr(a[x]);g.max=g.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+b)});const d=sc();Td(d,a,t.layoutBox);const f=sc();c?Td(f,e.applyTransform(s,!0),t.measuredBox):Td(f,a,t.layoutBox);const m=!gO(d);let h=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:g,layout:b}=x;if(g&&b){const w=sn();Pd(w,t.layoutBox,g.layoutBox);const j=sn();Pd(j,a,b.layoutBox),vO(w,j)||(h=!0),x.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=w,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function XH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function QH(e){e.clearSnapshot()}function E3(e){e.clearMeasurements()}function T3(e){e.isLayoutDirty=!1}function JH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function P3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eq(e){e.resolveTargetDelta()}function tq(e){e.calcProjection()}function nq(e){e.resetSkewAndRotation()}function rq(e){e.removeLeadSnapshot()}function O3(e,t,n){e.translate=Wt(t.translate,0,n),e.scale=Wt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function M3(e,t,n,a){e.min=Wt(t.min,n.min,a),e.max=Wt(t.max,n.max,a)}function aq(e,t,n,a){M3(e.x,t.x,n.x,a),M3(e.y,t.y,n.y,a)}function sq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iq={duration:.45,ease:[.4,0,.1,1]},D3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),R3=D3("applewebkit/")&&!D3("chrome/")?Math.round:ma;function L3(e){e.min=R3(e.min),e.max=R3(e.max)}function lq(e){L3(e.x),L3(e.y)}function wO(e,t,n){return e==="position"||e==="preserve-aspect"&&!hH(k3(t),k3(n),.2)}function oq(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const cq=bO({attachResizeListener:(e,t)=>Wd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mv={current:void 0},jO=bO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mv.current){const e=new cq({});e.mount(window),e.setOptions({layoutScroll:!0}),Mv.current=e}return Mv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),uq={pan:{Feature:EH},drag:{Feature:AH,ProjectionNode:jO,MeasureLayout:mO}};function $3(e,t,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,l=a[s];l&&qt.postRender(()=>l(t,yf(t)))}class dq extends Wi{mount(){const{current:t}=this.node;t&&(this.unmount=zF(t,(n,a)=>($3(this.node,a,"Start"),s=>$3(this.node,s,"End"))))}unmount(){}}class fq extends Wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xf(Wd(this.node.current,"focus",()=>this.onFocus()),Wd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I3(e,t,n){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),l=a[s];l&&qt.postRender(()=>l(t,yf(t)))}class mq extends Wi{mount(){const{current:t}=this.node;t&&(this.unmount=VF(t,(n,a)=>(I3(this.node,a,"Start"),(s,{success:l})=>I3(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const k1=new WeakMap,Dv=new WeakMap,hq=e=>{const t=k1.get(e.target);t&&t(e)},pq=e=>{e.forEach(hq)};function xq({root:e,...t}){const n=e||document;Dv.has(n)||Dv.set(n,{});const a=Dv.get(n),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(pq,{root:e,...t})),a[s]}function gq(e,t,n){const a=xq(t);return k1.set(e,n),a.observe(e),()=>{k1.delete(e),a.unobserve(e)}}const vq={some:0,all:1};class yq extends Wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:a,amount:s="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:vq[s]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:h,onViewportLeave:x}=this.node.getProps(),g=m?h:x;g&&g(f)};return gq(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(bq(t,n))&&this.startObserver()}unmount(){}}function bq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const wq={inView:{Feature:yq},tap:{Feature:mq},focus:{Feature:fq},hover:{Feature:dq}},jq={layout:{ProjectionNode:jO,MeasureLayout:mO}},Nq={...oH,...wq,...uq,...jq},xe=AV(Nq,$V);function wc(e){const t=pf(()=>Yl(e)),{isStatic:n}=v.useContext(mp);if(n){const[,a]=v.useState(e);v.useEffect(()=>t.on("change",a),[])}return t}function NO(e,t){const n=wc(t()),a=()=>n.set(t());return a(),Vw(()=>{const s=()=>qt.preRender(a,!1,!0),l=e.map(c=>c.on("change",s));return()=>{l.forEach(c=>c()),qs(a)}}),n}function Sq(e){Ad.current=[],e();const t=NO(Ad.current,e);return Ad.current=void 0,t}function p0(e,t,n,a){if(typeof e=="function")return Sq(e);const s=typeof t=="function"?t:HF(t,n,a);return Array.isArray(e)?z3(e,s):z3([e],([l])=>s(l))}function z3(e,t){const n=pf(()=>[]);return NO(e,()=>{n.length=0;const a=e.length;for(let s=0;s<a;s++)n[s]=e[s].get();return t(n)})}function jj(e){return typeof e=="object"&&!Array.isArray(e)}function SO(e,t,n,a){return typeof e=="string"&&jj(t)?CP(e,n,a):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function _q(e,t,n){return e*(t+1)}function B3(e,t,n,a){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):a.get(t)??e}function Cq(e,t,n){for(let a=0;a<e.length;a++){const s=e[a];s.at>t&&s.at<n&&(fp(e,s),a--)}}function kq(e,t,n,a,s,l){Cq(e,s,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:Wt(s,l,a[c]),easing:Z6(n,c)})}function Aq(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function Eq(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Tq="easeInOut";function Pq(e,{defaultTransition:t={},...n}={},a,s){const l=t.duration||.3,c=new Map,d=new Map,f={},m=new Map;let h=0,x=0,g=0;for(let b=0;b<e.length;b++){const w=e[b];if(typeof w=="string"){m.set(w,x);continue}else if(!Array.isArray(w)){m.set(w.name,B3(x,w.at,h,m));continue}let[j,S,_={}]=w;_.at!==void 0&&(x=B3(x,_.at,h,m));let C=0;const k=(O,A,T,$=0,M=0)=>{const U=Oq(O),{delay:K=0,times:F=mP(U),type:B="keyframes",repeat:ne,repeatType:Ne,repeatDelay:se=0,...D}=A;let{ease:G=t.ease||"easeOut",duration:V}=A;const z=typeof K=="function"?K($,M):K,E=U.length,R=ij(B)?B:s==null?void 0:s[B||"keyframes"];if(E<=2&&R){let Q=100;if(E===2&&Rq(U)){const te=U[1]-U[0];Q=Math.abs(te)}const H={...D};V!==void 0&&(H.duration=Ma(V));const ge=cP(H,Q,R);G=ge.ease,V=ge.duration}V??(V=l);const L=x+z;F.length===1&&F[0]===0&&(F[1]=1);const Y=F.length-U.length;if(Y>0&&fP(F,Y),U.length===1&&U.unshift(null),ne){V=_q(V,ne);const Q=[...U],H=[...F];G=Array.isArray(G)?[...G]:[G];const ge=[...G];for(let te=0;te<ne;te++){U.push(...Q);for(let he=0;he<Q.length;he++)F.push(H[he]+(te+1)),G.push(he===0?"linear":Z6(ge,he-1))}Aq(F,ne)}const ce=L+V;kq(T,U,G,F,L,ce),C=Math.max(z+V,C),g=Math.max(ce,g)};if(Mn(j)){const O=U3(j,d);k(S,_,F3("default",O))}else{const O=SO(j,S,a,f),A=O.length;for(let T=0;T<A;T++){S=S,_=_;const $=O[T],M=U3($,d);for(const U in S)k(S[U],Mq(_,U),F3(U,M),T,A)}}h=x,x+=C}return d.forEach((b,w)=>{for(const j in b){const S=b[j];S.sort(Eq);const _=[],C=[],k=[];for(let A=0;A<S.length;A++){const{at:T,value:$,easing:M}=S[A];_.push($),C.push(yc(0,g,T)),k.push(M||"easeOut")}C[0]!==0&&(C.unshift(0),_.unshift(_[0]),k.unshift(Tq)),C[C.length-1]!==1&&(C.push(1),_.push(null)),c.has(w)||c.set(w,{keyframes:{},transition:{}});const O=c.get(w);O.keyframes[j]=_,O.transition[j]={...t,duration:g,ease:k,times:C,...n}}}),c}function U3(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function F3(e,t){return t[e]||(t[e]=[]),t[e]}function Oq(e){return Array.isArray(e)?e:[e]}function Mq(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Dq=e=>typeof e=="number",Rq=e=>e.every(Dq);function Lq(e,t){return e in t}class $q extends QP{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(Lq(n,t)){const a=t[n];if(typeof a=="string"||typeof a=="number")return a}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return sn()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function Iq(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=dj(e)&&!OP(e)?new rO(t):new tO(t);n.mount(e),Yd.set(e,n)}function zq(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new $q(t);n.mount(e),Yd.set(e,n)}function Bq(e,t){return Mn(e)||typeof e=="number"||typeof e=="string"&&!jj(t)}function _O(e,t,n,a){const s=[];if(Bq(e,t))s.push(hO(e,jj(t)&&t.default||t,n&&(n.default||n)));else{const l=SO(e,t,a),c=l.length;for(let d=0;d<c;d++){const f=l[d],m=f instanceof Element?Iq:zq;Yd.has(f)||m(f);const h=Yd.get(f),x={...n};"delay"in x&&typeof x.delay=="function"&&(x.delay=x.delay(d,c)),s.push(...wj(h,{...t,transition:x},{}))}}return s}function Uq(e,t,n){const a=[];return Pq(e,t,n,{spring:qd}).forEach(({keyframes:l,transition:c},d)=>{a.push(..._O(d,l,c))}),a}function Fq(e){return Array.isArray(e)&&e.some(Array.isArray)}function Vq(e){function t(n,a,s){let l=[];return Fq(n)?l=Uq(n,a,e):l=_O(n,a,s,e),new NF(l)}return t}const Hq=Vq(),V3="https://aisdr-dbt.ddns.net";function qq(){const[e,t]=v.useState(["","","",""]),[n,a]=v.useState(""),[s,l]=v.useState(!1),[c,d]=v.useState(0),f=[v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null)],m=Gt();v.useEffect(()=>{const _=new URLSearchParams(window.location.search).get("email");_&&a(decodeURIComponent(_)),setTimeout(()=>{var C;return(C=f[0].current)==null?void 0:C.focus()},50)},[]),v.useEffect(()=>{if(c>0){const S=setTimeout(()=>d(_=>_-1),1e3);return()=>clearTimeout(S)}},[c]);const h=(S,_)=>{var O;const C=_.replace(/\D/g,"");if(C.length>1)return;const k=[...e];k[S]=C,t(k),C&&S<3&&((O=f[S+1].current)==null||O.focus()),k.every(A=>A!=="")&&k.join("").length===4&&b(k.join(""))},x=(S,_)=>{var C,k,O;_.key==="Backspace"&&!e[S]&&S>0&&((C=f[S-1].current)==null||C.focus()),_.key==="Enter"&&b(e.join("")),_.key==="ArrowLeft"&&S>0&&((k=f[S-1].current)==null||k.focus()),_.key==="ArrowRight"&&S<3&&((O=f[S+1].current)==null||O.focus())},g=S=>{var O,A;S.preventDefault();const _=S.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(!_)return;const C=["","","",""];for(let T=0;T<_.length;T++)C[T]=_[T];t(C);const k=C.findIndex(T=>T==="");k!==-1?(O=f[k].current)==null||O.focus():(A=f[3].current)==null||A.focus(),C.every(T=>T!=="")&&b(C.join(""))},b=async(S=null)=>{var C,k,O;const _=S||e.join("");if(_.length!==4){q.error("Please enter all 4 digits");return}if(!n){q.error("Email is required for verification");return}l(!0);try{const A=await fetch(`${V3}/api/account-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:_,email:n})}),T=await A.json().catch(()=>({}));A.ok?(T.token&&localStorage.setItem("token",T.token),(C=T.user)!=null&&C.role&&localStorage.setItem("role",T.user.role),q.success("Account verified successfully! "),setTimeout(()=>m("/profile"),800)):(q.error("Invalid OTP. Please try again."),t(["","","",""]),(k=f[0].current)==null||k.focus())}catch{q.error("Network error. Please check your connection and try again."),t(["","","",""]),(O=f[0].current)==null||O.focus()}finally{l(!1)}},w=async()=>{var S;if(!(c>0||!n)){l(!0);try{(await fetch(`${V3}/api/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).ok?(q.success("New verification code sent to your email."),d(60),t(["","","",""]),(S=f[0].current)==null||S.focus()):q.error("Failed to resend code. Please try again.")}catch{q.error("Network error. Please try again.")}finally{l(!1)}}},j="shadow-[0_0_30px_rgba(37,99,235,0.35)]";return r.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[r.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[r.jsx(xe.div,{className:"absolute -top-40 -left-40 h-[32rem] w-[32rem] rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(closest-side, #93c5fd, transparent)"},animate:{y:[0,20,0],x:[0,12,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),r.jsx(xe.div,{className:"absolute -bottom-48 -right-48 h-[36rem] w-[36rem] rounded-full blur-3xl opacity-70",style:{background:"radial-gradient(closest-side, #a5f3fc, transparent)"},animate:{y:[0,-16,0],x:[0,-10,0]},transition:{duration:9,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),r.jsx(xe.div,{className:"absolute inset-0",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.12), rgba(6,182,212,0.12), rgba(59,130,246,0.12))"},animate:{rotate:360},transition:{duration:24,repeat:1/0,ease:"linear"},"aria-hidden":!0})]}),r.jsxs("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("div",{className:"flex justify-center",children:r.jsxs(xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},className:`relative h-16 w-16 rounded-2xl bg-white border border-blue-200/70 ${j} flex items-center justify-center`,children:[r.jsx(xe.div,{className:"absolute inset-0 rounded-2xl",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.25), rgba(6,182,212,0.25), rgba(59,130,246,0.25))"},animate:{rotate:-360},transition:{duration:12,repeat:1/0,ease:"linear"},"aria-hidden":!0}),r.jsx("div",{className:"absolute inset-[3px] rounded-2xl bg-white"}),r.jsx(Ra,{className:"relative w-7 h-7 text-blue-600"})]})}),r.jsx(xe.h2,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-slate-900",children:"Verify your account"}),r.jsxs(xe.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-2 text-center text-sm text-slate-600",children:["We sent a 4-digit code to",r.jsx("br",{}),r.jsx("span",{className:"font-medium text-blue-600",children:n||"your email"})]})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsx(xe.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:`bg-white/90 backdrop-blur-sm py-8 px-6 sm:px-10 border border-slate-200 rounded-2xl shadow-xl ${j}`,children:r.jsxs("form",{onSubmit:S=>{S.preventDefault(),b()},children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-4 text-center",children:"Enter verification code"}),r.jsx("div",{className:"flex justify-center gap-3 sm:gap-4 mb-6",children:e.map((S,_)=>r.jsx(xe.input,{ref:f[_],type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:S,onFocus:C=>C.target.select(),onChange:C=>h(_,C.target.value),onKeyDown:C=>x(_,C),onPaste:g,"aria-label":`OTP digit ${_+1}`,disabled:s,className:`w-14 h-16 sm:w-16 sm:h-18 text-center text-2xl sm:text-3xl font-bold rounded-xl outline-none transition-all duration-200
                      border-2 bg-white/90 backdrop-blur
                      focus:ring-2
                      ${S?"border-blue-400 focus:ring-blue-300":"border-slate-200 focus:border-blue-400 focus:ring-blue-300"}
                      ${S?j:""}
                      text-slate-900 placeholder-slate-400`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*_}},_))}),r.jsxs(xe.button,{type:"submit",disabled:s||e.join("").length!==4,className:`group w-full relative overflow-hidden flex justify-center items-center py-3 px-4 text-sm font-semibold rounded-xl text-white
                  transition-all duration-200
                  ${s||e.join("").length!==4?"bg-blue-500/80":"bg-blue-600 hover:bg-blue-700"}
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                  shadow-lg hover:shadow-xl ${j}`,whileTap:{scale:.98},children:[r.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-40",children:r.jsx("span",{className:"absolute -inset-12 rotate-12 bg-gradient-to-r from-transparent via-white/50 to-transparent w-2/3 h-[200%] translate-x-[-150%] group-hover:translate-x-[120%] transition-transform duration-700"})}),s?r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Verifying"]}):r.jsxs("div",{className:"flex items-center",children:["Verify Account",r.jsx(up,{className:"ml-2 h-4 w-4 transition-transform duration-200 group-hover:translate-x-1"})]})]}),r.jsxs("div",{className:"mt-5 text-center",children:[r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Didn't receive the code?"}),r.jsxs("button",{type:"button",onClick:w,disabled:c>0||s||!n,className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:[r.jsx(Xe,{className:"mr-1 h-4 w-4"}),c>0?`Resend in ${c}s`:"Resend Code"]})]})]})})})]})]})}function Kq(){const[e,t]=v.useState({email:"",password:""}),[n,a]=v.useState(!1),[s,l]=v.useState({}),[c,d]=v.useState(!1),f=Gt(),m="https://aisdr-dbt.ddns.net",h=b=>{const{name:w,value:j}=b.target;t(S=>({...S,[w]:j})),s[w]&&l(S=>({...S,[w]:""}))},x=()=>{const b={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(b.email="Please enter a valid email address"):b.email="Email is required",e.password?e.password.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",l(b),Object.keys(b).length===0},g=async b=>{var w,j,S;if(b.preventDefault(),!!x()){d(!0),l({});try{const _=await fetch(`${m}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),C=await _.json();if(_.ok)C.token&&localStorage.setItem("token",C.token),(w=C.user)!=null&&w.role&&localStorage.setItem("role",C.user.role),(j=C.user)!=null&&j.name&&localStorage.setItem("name",C.user.name),(S=C.user)!=null&&S.email&&localStorage.setItem("email",C.user.email),q.success("Login successful! "),setTimeout(()=>{var O,A,T;const k=((T=(A=(O=C.user)==null?void 0:O.role)==null?void 0:A.toLowerCase)==null?void 0:T.call(A))||"";f(k==="user"?"/user/dashboard":k==="admin"?"/admin/dashboard":"/dashboard")},1200);else{const k=C.message||C.detail||"Invalid email or password. Please try again.";q.error(k),l({submit:k})}}catch{const _="Network error. Please check your connection and try again.";q.error(_),l({submit:_})}finally{d(!1)}}};return r.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:r.jsx(cc,{className:"w-8 h-8 text-white"})})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),r.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",r.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign up here"})]})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[s.submit&&r.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[r.jsx(Oa,{className:"h-5 w-5 text-red-600 mr-3"}),r.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),r.jsxs("form",{className:"space-y-6",onSubmit:g,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Ra,{className:`h-5 w-5 transition-colors duration-200 ${e.email?"text-blue-500":"text-gray-400"}`})}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx(a1,{className:"h-5 w-5 text-green-500"})})]}),s.email&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(Oa,{className:"h-4 w-4 mr-1"}),s.email]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(zw,{className:`h-5 w-5 transition-colors duration-200 ${e.password?"text-blue-500":"text-gray-400"}`})}),r.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200 cursor-pointer",onClick:()=>a(!n),children:n?r.jsx($w,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):r.jsx(Qn,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),r.jsx("div",{className:"mt-2 flex justify-end",children:r.jsx("a",{href:"/forget_password",className:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Forgot password?"})}),s.password&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(Oa,{className:"h-4 w-4 mr-1"}),s.password]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 cursor-pointer",children:c?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Signing in..."]}):r.jsxs("div",{className:"flex items-center",children:["Sign in",r.jsx(up,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})]})})]})}function Gq({length:e=4,value:t,onChange:n}){const a=v.useRef([]),s=f=>{const m=a.current[f];m&&m.focus()},l=(f,m)=>{const h=m.replace(/\D/g,"").slice(0,1),x=(t||"").split("");x[f]=h;const g=x.join("");n(g),h&&f<e-1&&s(f+1)},c=(f,m)=>{const h=(t||"")[f]||"";if(m.key==="Backspace"){if(!h&&f>0){m.preventDefault();const x=(t||"").split("");x[f-1]="",n(x.join("")),s(f-1)}}else m.key==="ArrowLeft"&&f>0?(m.preventDefault(),s(f-1)):m.key==="ArrowRight"&&f<e-1&&(m.preventDefault(),s(f+1))},d=f=>{f.preventDefault();const m=(f.clipboardData.getData("text")||"").replace(/\D/g,"");if(!m)return;const h=(t||"").split("");for(let g=0;g<e;g++)h[g]=m[g]||"";n(h.join(""));const x=Math.min(m.length,e)-1;s(x>=0?x:0)};return r.jsx("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:Array.from({length:e}).map((f,m)=>{const h=(t||"")[m]||"";return r.jsx("input",{ref:x=>a.current[m]=x,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:h,onChange:x=>l(m,x.target.value),onKeyDown:x=>c(m,x),onPaste:m===0?d:void 0,className:`w-11 h-11 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-semibold\r
                       rounded-2xl border bg-white/80 backdrop-blur\r
                       border-gray-200 shadow-sm hover:shadow transition-all\r
                       focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500\r
                       focus:shadow-[0_6px_24px_rgba(59,130,246,0.18)] focus:scale-105\r
                       caret-transparent select-none`,"aria-label":`OTP digit ${m+1}`},m)})})}function Yq(){const[e,t]=v.useState(1),[n,a]=v.useState(""),[s,l]=v.useState(""),[c,d]=v.useState(""),[f,m]=v.useState(!1),[h,x]=v.useState({}),[g,b]=v.useState(!1),w=Gt(),j="https://aisdr-dbt.ddns.net",S=()=>{const O={};return n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(O.email="Please enter a valid email address"):O.email="Email is required",x(O),Object.keys(O).length===0},_=()=>{const O={};return(!s||s.length!==4)&&(O.code="Enter the 4-digit OTP"),c.trim()?c.length<6&&(O.password="Password must be at least 6 characters"):O.password="Password is required",x(O),Object.keys(O).length===0},C=async O=>{if(O.preventDefault(),!!S()){b(!0);try{const A=await fetch(`${j}/api/password-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}),T=await A.json();A.ok?(q.success("Password reset OTP sent to your email! "),t(2)):q.error(T.detail||"Something went wrong.")}catch{q.error("Network error. Please try again.")}finally{b(!1)}}},k=async O=>{if(O.preventDefault(),!!_()){b(!0);try{const A=await fetch(`${j}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,code:s,password:c})}),T=await A.json();A.ok?(q.success("Password changed successfully! "),w("/user")):q.error(T.detail||"Failed to reset password.")}catch{q.error("Network error. Please try again.")}finally{b(!1)}}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:r.jsx(tB,{className:"w-8 h-8 text-white"})})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e===1?"Reset your password":"Enter OTP & New Password"}),e===2&&r.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Weve sent a 4-digit code to"," ",r.jsx("span",{className:"font-medium",children:n})]})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsxs("div",{className:"bg-white/90 backdrop-blur py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&r.jsxs("form",{className:"space-y-6",onSubmit:C,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ra,{className:`h-5 w-5 absolute left-3 top-3 ${n?"text-blue-500":"text-gray-400"}`}),r.jsx("input",{type:"email",value:n,onChange:O=>a(O.target.value),className:"pl-10 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter your email",autoComplete:"email",autoFocus:!0})]}),h.email&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(Oa,{className:"h-4 w-4 mr-1"}),h.email]})]}),r.jsx("button",{type:"submit",disabled:g,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:g?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending"]}):r.jsxs("div",{className:"flex items-center",children:["Send OTP",r.jsx(up,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e===2&&r.jsxs("form",{className:"space-y-6",onSubmit:k,children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),r.jsx("span",{className:"text-xs text-gray-500",children:"4 digits"})]}),r.jsx(Gq,{length:4,value:s,onChange:l}),h.code&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(Oa,{className:"h-4 w-4 mr-1"}),h.code]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(zw,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:f?"text":"password",value:c,onChange:O=>d(O.target.value),className:"pl-10 pr-12 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter new password",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>m(O=>!O),className:"absolute right-3 top-2.5 p-1.5 rounded-lg hover:bg-gray-100 text-gray-500","aria-label":f?"Hide password":"Show password",children:f?r.jsx($w,{className:"h-5 w-5"}):r.jsx(Qn,{className:"h-5 w-5"})})]}),h.password&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(Oa,{className:"h-4 w-4 mr-1"}),h.password]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use at least 6 characters."})]}),r.jsx("button",{type:"submit",disabled:g||!(s.length===4&&c.length>=6),className:"w-full py-3 rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Resetting":"Reset Password"}),r.jsx("div",{className:"text-center",children:r.jsxs("button",{type:"button",onClick:()=>t(1),className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:[r.jsx(P6,{className:"mr-1 h-4 w-4"}),"Change email"]})})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:r.jsxs("p",{className:"text-xs text-gray-500",children:["Remember your password?"," ",r.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in here"})]})})]})})]})}var A1=function(e,t){return A1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},A1(e,t)};function Wq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");A1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Pn=function(){return Pn=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Pn.apply(this,arguments)};var Rv,H3;function Xq(){if(H3)return Rv;H3=1;var e=!1,t,n,a,s,l,c,d,f,m,h,x,g,b,w,j;function S(){if(!e){e=!0;var C=navigator.userAgent,k=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(C),O=/(Mac OS X)|(Windows)|(Linux)/.exec(C);if(g=/\b(iPhone|iP[ao]d)/.exec(C),b=/\b(iP[ao]d)/.exec(C),h=/Android/i.exec(C),w=/FBAN\/\w+;/i.exec(C),j=/Mobile/i.exec(C),x=!!/Win64/.exec(C),k){t=k[1]?parseFloat(k[1]):k[5]?parseFloat(k[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var A=/(?:Trident\/(\d+.\d+))/.exec(C);c=A?parseFloat(A[1])+4:t,n=k[2]?parseFloat(k[2]):NaN,a=k[3]?parseFloat(k[3]):NaN,s=k[4]?parseFloat(k[4]):NaN,s?(k=/(?:Chrome\/(\d+\.\d+))/.exec(C),l=k&&k[1]?parseFloat(k[1]):NaN):l=NaN}else t=n=a=l=s=NaN;if(O){if(O[1]){var T=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(C);d=T?parseFloat(T[1].replace("_",".")):!0}else d=!1;f=!!O[2],m=!!O[3]}else d=f=m=!1}}var _={ie:function(){return S()||t},ieCompatibilityMode:function(){return S()||c>t},ie64:function(){return _.ie()&&x},firefox:function(){return S()||n},opera:function(){return S()||a},webkit:function(){return S()||s},safari:function(){return _.webkit()},chrome:function(){return S()||l},windows:function(){return S()||f},osx:function(){return S()||d},linux:function(){return S()||m},iphone:function(){return S()||g},mobile:function(){return S()||g||b||h||j},nativeApp:function(){return S()||w},android:function(){return S()||h},ipad:function(){return S()||b}};return Rv=_,Rv}var Lv,q3;function Zq(){if(q3)return Lv;q3=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return Lv=t,Lv}var $v,K3;function Qq(){if(K3)return $v;K3=1;var e=Zq(),t;e.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(a,s){if(!e.canUseDOM||s&&!("addEventListener"in document))return!1;var l="on"+a,c=l in document;if(!c){var d=document.createElement("div");d.setAttribute(l,"return;"),c=typeof d[l]=="function"}return!c&&t&&a==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return $v=n,$v}var Iv,G3;function Jq(){if(G3)return Iv;G3=1;var e=Xq(),t=Qq(),n=10,a=40,s=800;function l(c){var d=0,f=0,m=0,h=0;return"detail"in c&&(f=c.detail),"wheelDelta"in c&&(f=-c.wheelDelta/120),"wheelDeltaY"in c&&(f=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(d=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(d=f,f=0),m=d*n,h=f*n,"deltaY"in c&&(h=c.deltaY),"deltaX"in c&&(m=c.deltaX),(m||h)&&c.deltaMode&&(c.deltaMode==1?(m*=a,h*=a):(m*=s,h*=s)),m&&!d&&(d=m<1?-1:1),h&&!f&&(f=h<1?-1:1),{spinX:d,spinY:f,pixelX:m,pixelY:h}}return l.getEventType=function(){return e.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},Iv=l,Iv}var zv,Y3;function eK(){return Y3||(Y3=1,zv=Jq()),zv}var tK=eK();const nK=$a(tK);function rK(e,t,n,a,s,l){l===void 0&&(l=0);var c=jc(e,t,l),d=c.width,f=c.height,m=Math.min(d,n),h=Math.min(f,a);return m>h*s?{width:h*s,height:h}:{width:m,height:m/s}}function aK(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Qu(e,t,n,a,s){s===void 0&&(s=0);var l=jc(t.width,t.height,s),c=l.width,d=l.height;return{x:W3(e.x,c,n.width,a),y:W3(e.y,d,n.height,a)}}function W3(e,t,n,a){var s=t*a/2-n/2;return gp(e,-s,s)}function X3(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function Z3(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function sK(e,t,n,a,s,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var d=c?iK:lK,f=jc(t.width,t.height,l),m=jc(t.naturalWidth,t.naturalHeight,l),h={x:d(100,((f.width-n.width/s)/2-e.x/s)/f.width*100),y:d(100,((f.height-n.height/s)/2-e.y/s)/f.height*100),width:d(100,n.width/f.width*100/s),height:d(100,n.height/f.height*100/s)},x=Math.round(d(m.width,h.width*m.width/100)),g=Math.round(d(m.height,h.height*m.height/100)),b=m.width>=m.height*a,w=b?{width:Math.round(g*a),height:g}:{width:x,height:Math.round(x/a)},j=Pn(Pn({},w),{x:Math.round(d(m.width-w.width,h.x*m.width/100)),y:Math.round(d(m.height-w.height,h.y*m.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:j}}function iK(e,t){return Math.min(e,Math.max(0,t))}function lK(e,t){return t}function oK(e,t,n,a,s,l){var c=jc(t.width,t.height,n),d=gp(a.width/c.width*(100/e.width),s,l),f={x:d*c.width/2-a.width/2-c.width*d*(e.x/100),y:d*c.height/2-a.height/2-c.height*d*(e.y/100)};return{crop:f,zoom:d}}function cK(e,t,n){var a=aK(t);return n.height>n.width?n.height/(e.height*a):n.width/(e.width*a)}function uK(e,t,n,a,s,l){n===void 0&&(n=0);var c=jc(t.naturalWidth,t.naturalHeight,n),d=gp(cK(e,t,a),s,l),f=a.height>a.width?a.height/e.height:a.width/e.width,m={x:((c.width-e.width)/2-e.x)*f,y:((c.height-e.height)/2-e.y)*f};return{crop:m,zoom:d}}function Q3(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function dK(e){return e*Math.PI/180}function jc(e,t,n){var a=dK(n);return{width:Math.abs(Math.cos(a)*e)+Math.abs(Math.sin(a)*t),height:Math.abs(Math.sin(a)*e)+Math.abs(Math.cos(a)*t)}}function gp(e,t,n){return Math.min(Math.max(e,t),n)}function th(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var fK=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,mK=1,hK=3,pK=1,xK=function(e){Wq(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=v.createRef(),n.imageRef=v.createRef(),n.videoRef=v.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var a=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(a){a=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(a){return a.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var a=n.computeSizes();a&&(n.emitCropData(),n.setInitialCrop(a)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(a){if(n.props.initialCroppedAreaPercentages){var s=oK(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,a,n.props.minZoom,n.props.maxZoom),l=s.crop,c=s.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}else if(n.props.initialCroppedAreaPixels){var d=uK(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,a,n.props.minZoom,n.props.maxZoom),l=d.crop,c=d.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}},n.computeSizes=function(){var a,s,l,c,d,f,m=n.imageRef.current||n.videoRef.current;if(m&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var h=n.containerRect.width/n.containerRect.height,x=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,g=((l=n.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=n.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,b=m.offsetWidth<x||m.offsetHeight<g,w=x/g,j=void 0;if(b)switch(n.state.mediaObjectFit){default:case"contain":j=h>w?{width:n.containerRect.height*w,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/w};break;case"horizontal-cover":j={width:n.containerRect.width,height:n.containerRect.width/w};break;case"vertical-cover":j={width:n.containerRect.height*w,height:n.containerRect.height};break}else j={width:m.offsetWidth,height:m.offsetHeight};n.mediaSize=Pn(Pn({},j),{naturalWidth:x,naturalHeight:g}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:rK(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((d=n.state.cropSize)===null||d===void 0?void 0:d.height)!==S.height||((f=n.state.cropSize)===null||f===void 0?void 0:f.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var a=n.containerRef.getBoundingClientRect();n.containerPosition={x:a.left,y:a.top}}},n.onMouseDown=function(a){n.currentDoc&&(a.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(a)))},n.onMouseMove=function(a){return n.onDrag(t.getMousePoint(a))},n.onScroll=function(a){n.currentDoc&&(a.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(a){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(a))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),a.touches.length===2?n.onPinchStart(a):a.touches.length===1&&n.onDragStart(t.getTouchPoint(a.touches[0]))))},n.onTouchMove=function(a){a.preventDefault(),a.touches.length===2?n.onPinchMove(a):a.touches.length===1&&n.onDrag(t.getTouchPoint(a.touches[0]))},n.onGestureStart=function(a){n.currentDoc&&(a.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(a){if(a.preventDefault(),!n.isTouching){var s=t.getMousePoint(a),l=n.gestureZoomStart-1+a.scale;if(n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var c=n.gestureRotationStart+a.rotation;n.props.onRotationChange(c)}}},n.onGestureEnd=function(a){n.cleanEvents()},n.onDragStart=function(a){var s,l,c=a.x,d=a.y;n.dragStartPosition={x:c,y:d},n.dragStartCrop=Pn({},n.props.crop),(l=(s=n.props).onInteractionStart)===null||l===void 0||l.call(s)},n.onDrag=function(a){var s=a.x,l=a.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||l===void 0)){var c=s-n.dragStartPosition.x,d=l-n.dragStartPosition.y,f={x:n.dragStartCrop.x+c,y:n.dragStartCrop.y+d},m=n.props.restrictPosition?Qu(f,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):f;n.props.onCropChange(m)}}))},n.onDragStopped=function(){var a,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(a=n.props).onInteractionEnd)===null||s===void 0||s.call(a)},n.onWheel=function(a){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(a))){a.preventDefault();var s=t.getMousePoint(a),l=nK(a).pixelY,c=n.props.zoom-l*n.props.zoomSpeed/200;n.setNewZoom(c,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var d,f;return(f=(d=n.props).onInteractionStart)===null||f===void 0?void 0:f.call(d)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var d,f;return(f=(d=n.props).onInteractionEnd)===null||f===void 0?void 0:f.call(d)})},250)}},n.getPointOnContainer=function(a,s){var l=a.x,c=a.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(l-s.x),y:n.containerRect.height/2-(c-s.y)}},n.getPointOnMedia=function(a){var s=a.x,l=a.y,c=n.props,d=c.crop,f=c.zoom;return{x:(s+d.x)/f,y:(l+d.y)/f}},n.setNewZoom=function(a,s,l){var c=l===void 0?{}:l,d=c.shouldUpdatePosition,f=d===void 0?!0:d;if(!(!n.state.cropSize||!n.props.onZoomChange)){var m=gp(a,n.props.minZoom,n.props.maxZoom);if(f){var h=n.getPointOnContainer(s,n.containerPosition),x=n.getPointOnMedia(h),g={x:x.x*m-h.x,y:x.y*m-h.y},b=n.props.restrictPosition?Qu(g,n.mediaSize,n.state.cropSize,m,n.props.rotation):g;n.props.onCropChange(b)}n.props.onZoomChange(m)}},n.getCropData=function(){if(!n.state.cropSize)return null;var a=n.props.restrictPosition?Qu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return sK(a,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var a=n.getCropData();if(a){var s=a.croppedAreaPercentages,l=a.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,l),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,l)}},n.emitCropAreaChange=function(){var a=n.getCropData();if(a){var s=a.croppedAreaPercentages,l=a.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,l)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var a=n.props.restrictPosition?Qu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(a),n.emitCropData()}},n.onKeyDown=function(a){var s,l,c=n.props,d=c.crop,f=c.onCropChange,m=c.keyboardStep,h=c.zoom,x=c.rotation,g=m;if(n.state.cropSize){a.shiftKey&&(g*=.2);var b=Pn({},d);switch(a.key){case"ArrowUp":b.y-=g,a.preventDefault();break;case"ArrowDown":b.y+=g,a.preventDefault();break;case"ArrowLeft":b.x-=g,a.preventDefault();break;case"ArrowRight":b.x+=g,a.preventDefault();break;default:return}n.props.restrictPosition&&(b=Qu(b,n.mediaSize,n.state.cropSize,h,x)),a.repeat||(l=(s=n.props).onInteractionStart)===null||l===void 0||l.call(s),f(b)}},n.onKeyUp=function(a){var s,l;switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":a.preventDefault();break;default:return}n.emitCropData(),(l=(s=n.props).onInteractionEnd)===null||l===void 0||l.call(s)},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=fK,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var n,a;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((a=this.styleRef.parentNode)===null||a===void 0||a.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var a,s,l,c,d,f,m,h,x;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((a=n.cropSize)===null||a===void 0?void 0:a.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((l=n.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((d=n.crop)===null||d===void 0?void 0:d.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((m=n.crop)===null||m===void 0?void 0:m.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((x=this.videoRef.current)===null||x===void 0||x.load());var g=this.getObjectFit();g!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:g},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,a=n.cropSize,s=n.aspect;return a?a.width/a.height:s},t.prototype.getObjectFit=function(){var n,a,s,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,f=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,m=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,h=f/m;return h<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var a=t.getTouchPoint(n.touches[0]),s=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=X3(a,s),this.lastPinchRotation=Z3(a,s),this.onDragStart(Q3(a,s))},t.prototype.onPinchMove=function(n){var a=this;if(!(!this.currentDoc||!this.currentWindow)){var s=t.getTouchPoint(n.touches[0]),l=t.getTouchPoint(n.touches[1]),c=Q3(s,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=X3(s,l),f=a.props.zoom*(d/a.lastPinchDistance);a.setNewZoom(f,c,{shouldUpdatePosition:!1}),a.lastPinchDistance=d;var m=Z3(s,l),h=a.props.rotation+(m-a.lastPinchRotation);a.props.onRotationChange&&a.props.onRotationChange(h),a.lastPinchRotation=m})}},t.prototype.render=function(){var n=this,a,s=this.props,l=s.image,c=s.video,d=s.mediaProps,f=s.cropperProps,m=s.transform,h=s.crop,x=h.x,g=h.y,b=s.rotation,w=s.zoom,j=s.cropShape,S=s.showGrid,_=s.roundCropAreaPixels,C=s.style,k=C.containerStyle,O=C.cropAreaStyle,A=C.mediaStyle,T=s.classes,$=T.containerClassName,M=T.cropAreaClassName,U=T.mediaClassName,K=(a=this.state.mediaObjectFit)!==null&&a!==void 0?a:this.getObjectFit();return v.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(B){return n.containerRef=B},"data-testid":"container",style:k,className:th("reactEasyCrop_Container",$)},l?v.createElement("img",Pn({alt:"",className:th("reactEasyCrop_Image",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",U)},d,{src:l,ref:this.imageRef,style:Pn(Pn({},A),{transform:m||"translate(".concat(x,"px, ").concat(g,"px) rotate(").concat(b,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):c&&v.createElement("video",Pn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:th("reactEasyCrop_Video",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",U)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Pn(Pn({},A),{transform:m||"translate(".concat(x,"px, ").concat(g,"px) rotate(").concat(b,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(F){return v.createElement("source",Pn({key:F.src},F))})),this.state.cropSize&&v.createElement("div",Pn({ref:this.cropperRef,style:Pn(Pn({},O),{width:_?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:_?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:th("reactEasyCrop_CropArea",j==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",M)},f)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:hK,minZoom:mK,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:pK},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(v.Component);const J3="https://aisdr-dbt.ddns.net",eC=["image/png","image/jpeg","image/webp"],gK=5*1024*1024,vK=[`${J3}/api/auth`,`${J3}/api`];function nh(...e){return e.filter(Boolean).join(" ")}async function yK(e,t,n=0){const s=await(_=>new Promise((C,k)=>{const O=new Image;O.addEventListener("load",()=>C(O)),O.addEventListener("error",A=>k(A)),O.crossOrigin="anonymous",O.src=_}))(e),l=n*Math.PI/180,c=s.naturalWidth||s.width,d=s.naturalHeight||s.height,f=document.createElement("canvas"),m=f.getContext("2d"),h=Math.abs(Math.sin(l)),x=Math.abs(Math.cos(l)),g=Math.floor(c*x+d*h),b=Math.floor(c*h+d*x);f.width=g,f.height=b,m.translate(g/2,b/2),m.rotate(l),m.drawImage(s,-c/2,-d/2);const w=m.getImageData(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height)),j=document.createElement("canvas");return j.width=Math.round(t.width),j.height=Math.round(t.height),j.getContext("2d").putImageData(w,0,0),new Promise(_=>{j.toBlob(C=>_(C),"image/jpeg",.92)})}function bK(){const e=Gt(),[t,n]=v.useState(null),[a,s]=v.useState(null),[l,c]=v.useState(null),[d,f]=v.useState({init:!0,saving:!1,delete:!1,refresh:!1}),[m,h]=v.useState({name:"",email:""}),[x,g]=v.useState(!1),[b,w]=v.useState({x:0,y:0}),[j,S]=v.useState(1),[_,C]=v.useState(0),[k,O]=v.useState(null),[A,T]=v.useState(!1),[$,M]=v.useState(!1),U=v.useRef(null),K=()=>localStorage.getItem("token")||"",F=()=>K()?{Authorization:`Bearer ${K()}`}:{},B=()=>K()?!0:(q.error("Authentication required. Please login again."),e("/login"),!1),ne=async(Q,H={},{expectJson:ge=!0}={})=>{const te=[];for(const Se of vK)try{const be=await fetch(`${Se}${Q}`,H);if(be.status===401||be.status===403){const $e=await be.text().catch(()=>"");throw new Error($e||"Unauthorized")}if(be.ok)return ge?await be.json():be;if(be.status===404){te.push({base:Se,status:404});continue}const ue=await be.json().catch(()=>({}));throw new Error((ue==null?void 0:ue.detail)||`Request failed (${be.status})`)}catch(be){if(te.push({base:Se,err:be==null?void 0:be.message}),(be==null?void 0:be.message)==="Unauthorized")throw be}const he=te!=null&&te.length?`Request failed: ${te.map(Se=>`${Se.base}${Se.status||Se.err}`).join(" | ")}`:"Network error";throw new Error(he)},Ne=v.useMemo(()=>((m==null?void 0:m.name)||localStorage.getItem("name")||"User").trim().split(" ").map(H=>H[0]).join("").slice(0,2).toUpperCase(),[m==null?void 0:m.name]),se=v.useCallback(()=>{const Q=(localStorage.getItem("role")||"").toLowerCase();return Q==="user"?e("/user/dashboard",{replace:!0}):Q==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})},[e]);v.useEffect(()=>{if(x){const Q=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=Q}}},[x]);const D=async()=>{var Q,H,ge;if(B())try{const te=await ne("/user-info",{headers:{...F(),Accept:"application/json"}}),he=((Q=te==null?void 0:te.data)==null?void 0:Q.email)||"";h({name:(H=te==null?void 0:te.data)==null?void 0:H.name,email:he});const Se=((ge=te==null?void 0:te.data)==null?void 0:ge.profile_photo_url)||null,be=Se?Se+(Se.includes("?")?"&":"?")+"t="+Date.now():null;if(n(be),be&&!a&&s(be),he){const ue=`profileComplete:${he.toLowerCase()}`;if(localStorage.getItem(ue)==="1"){se();return}}}catch(te){q.error(te.message||"Could not load profile info")}};v.useEffect(()=>{(async()=>(f(Q=>({...Q,init:!0})),await D(),f(Q=>({...Q,init:!1}))))()},[]);const G=Q=>{if(!Q)return;if(!eC.includes(Q.type)){q.error("Only PNG, JPEG or WEBP images are allowed.");return}if(Q.size>gK){q.error("Image too large. Max allowed is 5 MB.");return}a&&a.startsWith("blob:")&&URL.revokeObjectURL(a),c(Q);const H=URL.createObjectURL(Q);s(H),g(!1)},V=Q=>{var ge;const H=(ge=Q.target.files)==null?void 0:ge[0];G(H)},z=Q=>{var ge;Q.preventDefault(),Q.stopPropagation();const H=(ge=Q.dataTransfer.files)==null?void 0:ge[0];G(H)},E=Q=>{Q.preventDefault(),Q.stopPropagation()};v.useCallback((Q,H)=>{O(H),T(!0)},[]);const R=async()=>{if(!a&&!t){q.info("Choose an image first.");return}if(!A||!k){q.info("Adjust the crop a tiny bit, then save.");return}try{f($e=>({...$e,saving:!0}));const H=await yK(a||t,k,_),ge=URL.createObjectURL(H);a&&a.startsWith("blob:")&&URL.revokeObjectURL(a),s(ge);const te=new FormData,he=`avatar_${Date.now()}.jpg`;te.append("file",H,he);const Se=await ne("/profile-photo",{method:"POST",headers:{...F()},body:te}),be=Se==null?void 0:Se.photo_url,ue=be?be+(be.includes("?")?"&":"?")+"t="+Date.now():null;n(ue),g(!1),c(null),T(!1),M(!0),setTimeout(()=>M(!1),1400),q.success("Profile photo saved!")}catch(Q){q.error(Q.message||"Could not save the cropped photo")}finally{f(Q=>({...Q,saving:!1}))}},L=async()=>{if(!t){q.info("No profile photo to delete.");return}try{f(Q=>({...Q,delete:!0})),await ne("/profile-photo",{method:"DELETE",headers:{...F(),Accept:"application/json"}}),a&&a.startsWith("blob:")&&URL.revokeObjectURL(a),n(null),s(null),c(null),q.success("Profile photo deleted.")}catch(Q){q.error(Q.message||"Delete error")}finally{f(Q=>({...Q,delete:!1}))}},Y=async()=>{f(Q=>({...Q,refresh:!0})),await D(),f(Q=>({...Q,refresh:!1}))},ce=()=>{const Q=((m==null?void 0:m.email)||"").toLowerCase();Q&&localStorage.setItem(`profileComplete:${Q}`,"1"),se()};return r.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-white relative",children:[r.jsx("div",{className:"absolute inset-x-0 top-0 h-44",style:{background:"linear-gradient(180deg, rgba(59,130,246,0.18) 0%, rgba(255,255,255,0) 100%)"}}),r.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 tracking-tight",children:"Profile Photo"}),r.jsx("p",{className:"text-slate-500",children:"Click the ring to upload/replace. Use the Crop button to fine-tune your avatar."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:Y,disabled:d.refresh||d.init,className:nh("inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border transition","border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-50"),children:[d.refresh?r.jsx(Hn,{className:"h-4 w-4 animate-spin"}):r.jsx(wB,{className:"h-4 w-4"}),"Refresh"]}),r.jsxs("button",{onClick:ce,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 shadow-sm",children:[r.jsx(c0,{className:"h-4 w-4"}),"Confirm"]}),r.jsxs("button",{onClick:ce,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[r.jsx(RB,{className:"h-4 w-4"}),"Skip for now"]})]})]}),r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 backdrop-blur-sm shadow-[0_8px_30px_rgb(0,0,0,0.06)] p-6 md:p-8",children:r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsx("div",{className:"pointer-events-none absolute -top-6 h-24 w-48 rounded-full blur-2xl opacity-50",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(59,130,246,0.25) 0%, rgba(34,211,238,0.18) 60%, transparent 100%)"}}),r.jsxs("div",{className:nh("group relative h-40 w-40 rounded-full p-[3px] cursor-pointer select-none transition-transform duration-200",$?"animate-pulse":"hover:scale-[1.02]"),onClick:()=>{var Q;return(Q=U.current)==null?void 0:Q.click()},onDrop:z,onDragOver:E,style:{background:"conic-gradient(rgba(59,130,246,0.9), rgba(34,211,238,0.9), rgba(59,130,246,0.9))"},title:"Click to upload/replace",children:[r.jsx("div",{className:"rounded-full h-full w-full bg-white grid place-items-center",children:r.jsxs("div",{className:"relative rounded-full h-[148px] w-[148px] overflow-hidden ring-2 ring-blue-500/30 shadow-md bg-slate-50 flex items-center justify-center",children:[d.init?r.jsx(Hn,{className:"h-6 w-6 animate-spin text-slate-400"}):a||t?r.jsx("img",{src:a||t,alt:"Profile",className:"h-full w-full object-cover",onError:()=>{n(null),a&&a.startsWith("blob:")&&URL.revokeObjectURL(a),s(null)}}):r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(L6,{className:"h-10 w-10 text-slate-400"}),r.jsx("span",{className:"mt-1 text-sm font-semibold text-slate-600",children:Ne})]}),r.jsxs("div",{className:"absolute inset-0 bg-black/35 opacity-0 group-hover:opacity-100 transition-opacity grid place-items-center",children:[r.jsx("div",{className:"rounded-full bg-white/90 p-2 shadow-md",children:r.jsx(gz,{className:"h-5 w-5 text-blue-600"})}),r.jsx("span",{className:"absolute bottom-2 text-xs text-white/90",children:"Change photo"})]})]})}),r.jsx("input",{ref:U,type:"file",accept:eC.join(","),className:"hidden",onChange:V})]}),r.jsxs("div",{className:"mt-3 bg-white border border-slate-200 px-2 py-1 rounded-full text-[11px] text-slate-600 shadow-sm flex items-center gap-1",children:[r.jsx(cr,{className:"h-3.5 w-3.5 text-emerald-500"}),t?"Photo set":"No photo yet"]}),r.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>{if(!a&&!t){q.info("Select or upload an image first.");return}C(0),S(1),T(!1),g(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold text-white transition shadow-sm bg-blue-600 hover:bg-blue-700",children:[r.jsx(b5,{className:"h-4 w-4"}),"Crop"]}),r.jsx("button",{type:"button",onClick:L,disabled:d.delete||!t,className:nh("inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold border transition",t?"border-rose-200 text-rose-600 hover:bg-rose-50":"border-slate-200 text-slate-400 cursor-not-allowed"),children:d.delete?r.jsxs(r.Fragment,{children:[r.jsx(Hn,{className:"h-4 w-4 animate-spin"})," Deleting"]}):r.jsxs(r.Fragment,{children:[r.jsx(Jn,{className:"h-4 w-4"})," Delete Photo"]})})]})]})})]}),x&&(a||t)&&r.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>g(!1)}),r.jsxs("div",{className:"relative z-[10001] w-full max-w-lg mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(b5,{className:"h-4 w-4 text-blue-600"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Crop your photo"})]}),r.jsx("button",{onClick:()=>g(!1),className:"p-1 rounded-md hover:bg-slate-100",children:r.jsx(dr,{className:"h-4 w-4 text-slate-500"})})]}),r.jsxs("div",{className:"bg-slate-900",children:[r.jsx("div",{className:"relative h-[360px] overflow-hidden",children:r.jsx(xK,{image:a||t,crop:b,zoom:j,rotation:_,aspect:1,cropShape:"round",showGrid:!1,objectFit:"contain",onCropChange:w,onRotationChange:C,onZoomChange:S,onCropComplete:(Q,H)=>{O(H),T(!0)}})}),r.jsxs("div",{className:"relative border-t border-white/10 bg-slate-900/70 p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("label",{className:"text-xs text-white/80 w-16",children:"Zoom"}),r.jsx("input",{type:"range",min:1,max:3,step:.01,value:j,onChange:Q=>S(parseFloat(Q.target.value)),className:"w-full accent-blue-500"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("label",{className:"text-xs text-white/80 w-16",children:"Rotate"}),r.jsx("input",{type:"range",min:-180,max:180,step:1,value:_,onChange:Q=>C(parseFloat(Q.target.value)),className:"w-full accent-blue-500"}),r.jsxs("button",{type:"button",onClick:()=>C(0),className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs text-white bg-white/10 hover:bg-white/20",children:[r.jsx(_B,{className:"h-3.5 w-3.5"}),"Reset"]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 bg-white",children:[r.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:R,disabled:d.saving||!A,className:nh("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",A?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:d.saving?r.jsxs(r.Fragment,{children:[r.jsx(Hn,{className:"h-4 w-4 animate-spin"})," Saving"]}):r.jsxs(r.Fragment,{children:[r.jsx(c0,{className:"h-4 w-4"})," Crop & Save"]})})]})]})]})]})}function wK(...e){return e.filter(Boolean).join(" ")}const tC="https://aisdr-dbt.ddns.net";function jK({onClick:e}){const t=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return r.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[r.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),r.jsxs(xe.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),r.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),r.jsxs("filter",{id:"glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx(xe.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),r.jsx(xe.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),r.jsx(xe.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function NK({className:e="",onMenuToggle:t,profilePath:n="/user/settings"}){const[a,s]=v.useState(""),[l,c]=v.useState(null),[d,f]=v.useState(!1),m=Gt();v.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),v.useEffect(()=>{const b=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${tC}/api/profile-photo`,{headers:b?{Authorization:`Bearer ${b}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const _=await S.json();let C=_==null?void 0:_.photo_url;if(C){/^https?:\/\//i.test(C)||(C=`${tC}${C.startsWith("/")?"":"/"}${C}`);const k=(C.includes("?")?"&":"?")+"t="+Date.now();c(C+k),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=b=>b.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:b=40})=>{const w=b;return r.jsxs("button",{type:"button",onClick:()=>m(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[r.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?r.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):r.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(a)})}),r.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),r.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},g=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return r.jsxs("header",{className:wK("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[r.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:r.jsxs("div",{className:"flex items-center justify-between h-full",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[r.jsx(jK,{onClick:g}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"hidden lg:block",children:[r.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),r.jsxs("div",{className:"relative",children:[r.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Convert interest into booked meetings  automatically"}),r.jsx(xe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),r.jsxs("div",{className:"hidden sm:block lg:hidden",children:[r.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),r.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Smart lead capture & scheduling"})]}),r.jsxs("div",{className:"sm:hidden relative",children:[r.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),r.jsx(xe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[r.jsxs(xe.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[r.jsx("div",{className:"relative",children:r.jsx(x,{size:40})}),r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome back!"}),r.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:a})]})]}),r.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[r.jsx(x,{size:32}),r.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:a})]}),r.jsx("div",{className:"sm:hidden",children:r.jsx(x,{size:36})}),r.jsxs(xe.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[r.jsx(u0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),r.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),r.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}var CO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nC=bt.createContext&&bt.createContext(CO),SK=["attr","size","title"];function _K(e,t){if(e==null)return{};var n=CK(e,t),a,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)a=l[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function CK(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},x0.apply(this,arguments)}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function g0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(a){kK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kK(e,t,n){return t=AK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kO(e){return e&&e.map((t,n)=>bt.createElement(t.tag,g0({key:n},t.attr),kO(t.child)))}function zt(e){return t=>bt.createElement(TK,x0({attr:g0({},e.attr)},t),kO(e.child))}function TK(e){var t=n=>{var{attr:a,size:s,title:l}=e,c=_K(e,SK),d=s||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),bt.createElement("svg",x0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,c,{className:f,style:g0(g0({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&bt.createElement("title",null,l),e.children)};return nC!==void 0?bt.createElement(nC.Consumer,null,n=>t(n)):t(CO)}function AO(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function EO(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function PK(e){return zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function TO(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function OK(e){return zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function MK(e){return zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function Nj(e){return zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function DK(e){return zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function PO(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function RK({compact:e=!1}){const t=v.useMemo(()=>[{text:"Make Calls",Icon:xt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Ja,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:Nj,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:ir,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Ja,from:"#22D3EE",to:"#2563EB"}],[]),[n,a]=v.useState(0),[s,l]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{const x=t[n].text,g=40,b=28,w=1100;let j;return!c&&s.length<x.length?j=setTimeout(()=>l(x.slice(0,s.length+1)),g):!c&&s.length===x.length?j=setTimeout(()=>d(!0),w):c&&s.length>0?j=setTimeout(()=>l(x.slice(0,s.length-1)),b):c&&s.length===0&&(d(!1),a(S=>(S+1)%t.length)),()=>clearTimeout(j)},[s,c,n,t]);const{Icon:f,from:m,to:h}=t[n];return r.jsxs("div",{className:["relative flex items-center",e?"justify-center p-3 sm:p-4":"p-4 sm:p-6",e?"":"gap-4 sm:gap-6"].join(" "),children:[r.jsxs("div",{className:"relative shrink-0",children:[r.jsx(xe.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:r.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),r.jsx(xe.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[r.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:s}),r.jsx(xe.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),r.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function LK(){const[e,t]=v.useState(!1),[n,a]=v.useState(!1),[s,l]=v.useState(!1),c=os(),d=Gt();v.useEffect(()=>{const h=()=>{const x=window.innerWidth;l(x<768),t(x<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),v.useEffect(()=>{a(!1)},[c.pathname]),v.useEffect(()=>{const h=()=>{s?a(x=>!x):t(x=>!x)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[s]);const f=[{id:"dashboard",label:"Dashboard",icon:Iw,href:"/user/dashboard",color:"text-blue-600"},{id:"phoneCalls",label:"Phone Numbers",icon:xt,href:"/user/callhistory",color:"text-orange-600"},{id:"callassistence",label:"Assistants",icon:Nj,href:"/user/callassistent",color:"text-green-600"},{id:"Leads",label:"Leads",icon:ir,href:"/user/leads",color:"text-purple-600"},{id:"Campain",label:"Campaigns",icon:Ja,href:"/user/campain",color:"text-blue-600"},{id:"settings",label:"Settings",icon:R6,href:"/user/settings",color:"text-gray-600"},{id:"CRM",label:"CRMS",icon:MK,href:"/user/CRM",color:"text-orange-600"},{id:"Appointments",label:"Appointments",icon:hz,href:"/user/Appointments",color:"text-purple-600"}],m=()=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:r.jsx(RK,{compact:e&&!s})}),r.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:f.map(h=>{const x=h.icon,g=c.pathname===h.href,b=g&&(!e||s)?s?"pl-5":"pl-4":"",w=e&&!s?"gap-0":s?"gap-4":"gap-3";return r.jsxs("button",{type:"button",onClick:()=>d(h.href),className:`group relative w-full text-left flex items-center ${w} rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                ${g?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                ${e&&!s?"justify-center p-2 sm:p-3":`p-3 sm:p-3 ${b}`}
                ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?h.label:"",children:[g&&!e&&r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),r.jsx("div",{className:"relative z-10",children:r.jsx(x,{className:`flex-shrink-0 transition-all duration-200
                    ${e&&!s?"w-6 h-6":"w-5 h-5"}
                    ${g?h.color:"text-slate-500 group-hover:text-slate-700"}
                    ${g?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&r.jsx("span",{className:"font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:h.label}),g&&(!e||s)&&r.jsx("div",{className:"ml-auto flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!s&&r.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:r.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?r.jsx(qn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):r.jsxs(r.Fragment,{children:[r.jsx(ha,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),r.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return r.jsxs(r.Fragment,{children:[!s&&r.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:r.jsx("div",{className:"flex flex-col h-full",children:r.jsx(m,{})})}),s&&r.jsxs("div",{className:"md:hidden",children:[n&&r.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>a(!1),"aria-hidden":"true"}),r.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:r.jsx("div",{className:"flex flex-col h-full",children:r.jsx(m,{})})})]})]})}function $K(){return r.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[r.jsx(LK,{}),r.jsxs("div",{className:"flex flex-1 flex-col",children:[r.jsx(NK,{className:"h-16 border-b"}),r.jsx("main",{className:"flex-1 p-6",children:r.jsx(x6,{})})]})]})}var Bv={},Uv={},aC;function IK(){return aC||(aC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(Uv)),Uv}var Fv={},sC;function OO(){return sC||(sC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(Fv)),Fv}var Vv={},iC;function MO(){return iC||(iC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;return typeof n=="string"||typeof n=="symbol"?n:Object.is((a=n==null?void 0:n.valueOf)==null?void 0:a.call(n),-0)?"-0":String(n)}e.toKey=t}(Vv)),Vv}var Hv={},lC;function Sj(){return lC||(lC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const a=[],s=n.length;if(s===0)return a;let l=0,c="",d="",f=!1;for(n.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const m=n[l];d?m==="\\"&&l+1<s?(l++,c+=n[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,a.push(c),c=""):c+=m:m==="["?(f=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,l++}return c&&a.push(c),a}e.toPath=t}(Hv)),Hv}var oC;function _j(){return oC||(oC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IK(),n=OO(),a=MO(),s=Sj();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?n.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=a.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let x=0;x<f.length;x++){if(h==null||t.isUnsafeProperty(f[x]))return m;h=h[f[x]]}return h===void 0?m:h}e.get=l}(Bv)),Bv}var qv,cC;function zK(){return cC||(cC=1,qv=_j().get),qv}var BK=zK();const qi=$a(BK);var Kv={exports:{}},Rt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function UK(){if(uC)return Rt;uC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case n:case s:case a:case f:case m:case g:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case x:case h:return j;case l:return j;default:return S}}case t:return S}}}return Rt.ContextConsumer=l,Rt.ContextProvider=c,Rt.Element=e,Rt.ForwardRef=d,Rt.Fragment=n,Rt.Lazy=x,Rt.Memo=h,Rt.Portal=t,Rt.Profiler=s,Rt.StrictMode=a,Rt.Suspense=f,Rt.SuspenseList=m,Rt.isContextConsumer=function(j){return w(j)===l},Rt.isContextProvider=function(j){return w(j)===c},Rt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Rt.isForwardRef=function(j){return w(j)===d},Rt.isFragment=function(j){return w(j)===n},Rt.isLazy=function(j){return w(j)===x},Rt.isMemo=function(j){return w(j)===h},Rt.isPortal=function(j){return w(j)===t},Rt.isProfiler=function(j){return w(j)===s},Rt.isStrictMode=function(j){return w(j)===a},Rt.isSuspense=function(j){return w(j)===f},Rt.isSuspenseList=function(j){return w(j)===m},Rt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===s||j===a||j===f||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===h||j.$$typeof===c||j.$$typeof===l||j.$$typeof===d||j.$$typeof===b||j.getModuleId!==void 0)},Rt.typeOf=w,Rt}var dC;function FK(){return dC||(dC=1,Kv.exports=UK()),Kv.exports}var VK=FK(),Dn=e=>e===0?0:e>0?1:-1,Vr=e=>typeof e=="number"&&e!=+e,Ll=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Be=e=>(typeof e=="number"||e instanceof Number)&&!Vr(e),ss=e=>Be(e)||typeof e=="string",HK=0,Xd=e=>{var t=++HK;return"".concat(e||"").concat(t)},ur=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(t)&&typeof t!="string")return a;var l;if(Ll(t)){if(n==null)return a;var c=t.indexOf("%");l=n*parseFloat(t.slice(0,c))/100}else l=+t;return Vr(l)&&(l=a),s&&n!=null&&l>n&&(l=n),l},DO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},a=0;a<t;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},fC=(e,t)=>Be(e)&&Be(t)?n=>e+n*(t-e):()=>t;function Aa(e,t,n){return Be(e)&&Be(t)?e+n*(t-e):t}function RO(e,t,n){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):qi(a,t))===n)}var Kt=e=>e===null||typeof e>"u",bf=e=>Kt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),qK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Cj(e){if(typeof e!="string")return!1;var t=qK;return t.includes(e)}var KK=["viewBox","children"],mC=["points","pathLength"],Gv={svg:KK,polygon:mC,polyline:mC},kj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{Cj(s)&&(a[s]=l=>n[s](n,l))}),a},GK=(e,t,n)=>a=>(e(t,n,a),null),vp=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var l=e[s];Cj(s)&&typeof l=="function"&&(a||(a={}),a[s]=GK(l,t,n))}),a},YK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function LO(e){if(typeof e!="string")return!1;var t=YK;return t.includes(e)}function Zs(e){var t=Object.entries(e).filter(n=>{var[a]=n;return LO(a)});return Object.fromEntries(t)}var hC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",pC=null,Yv=null,$O=e=>{if(e===pC&&Array.isArray(Yv))return Yv;var t=[];return v.Children.forEach(e,n=>{Kt(n)||(VK.isFragment(n)?t=t.concat($O(n.props.children)):t.push(n))}),Yv=t,pC=e,t};function wf(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(s=>hC(s)):a=[hC(t)],$O(e).forEach(s=>{var l=qi(s,"type.displayName")||qi(s,"type.name");a.indexOf(l)!==-1&&n.push(s)}),n}var IO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,WK=(e,t,n,a)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var l=(s=a&&(Gv==null?void 0:Gv[a]))!==null&&s!==void 0?s:[],c=t.startsWith("data-"),d=typeof e!="function"&&(!!a&&l.includes(t)||LO(t)),f=!!n&&Cj(t);return c||d||f},Xt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(v.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var s={};return Object.keys(a).forEach(l=>{var c;WK((c=a)===null||c===void 0?void 0:c[l],l,t,n)&&(s[l]=a[l])}),s},XK=["children","width","height","viewBox","className","style","title","desc"];function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E1.apply(null,arguments)}function ZK(e,t){if(e==null)return{};var n,a,s=QK(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function QK(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var zO=v.forwardRef((e,t)=>{var{children:n,width:a,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=ZK(e,XK),x=l||{width:a,height:s,x:0,y:0},g=ut("recharts-surface",c);return v.createElement("svg",E1({},Xt(h,!0,"svg"),{className:g,width:a,height:s,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),v.createElement("title",null,f),v.createElement("desc",null,m),n)}),JK=["children","className"];function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T1.apply(null,arguments)}function eG(e,t){if(e==null)return{};var n,a,s=tG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function tG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var er=v.forwardRef((e,t)=>{var{children:n,className:a}=e,s=eG(e,JK),l=ut("recharts-layer",a);return v.createElement("g",T1({className:l},Xt(s,!0),{ref:t}),n)}),nG=v.createContext(null);function Ft(e){return function(){return e}}const BO=Math.cos,v0=Math.sin,za=Math.sqrt,y0=Math.PI,yp=2*y0,P1=Math.PI,O1=2*P1,kl=1e-6,rG=O1-kl;function UO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function aG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UO;const n=10**t;return function(a){this._+=a[0];for(let s=1,l=a.length;s<l;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class sG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UO:aG(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,l,c){this._append`C${+t},${+n},${+a},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,n,a,s,l){if(t=+t,n=+n,a=+a,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=a-t,m=s-n,h=c-t,x=d-n,g=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>kl)if(!(Math.abs(x*f-m*h)>kl)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let b=a-c,w=s-d,j=f*f+m*m,S=b*b+w*w,_=Math.sqrt(j),C=Math.sqrt(g),k=l*Math.tan((P1-Math.acos((j+g-S)/(2*_*C)))/2),O=k/C,A=k/_;Math.abs(O-1)>kl&&this._append`L${t+O*h},${n+O*x}`,this._append`A${l},${l},0,0,${+(x*b>h*w)},${this._x1=t+A*f},${this._y1=n+A*m}`}}arc(t,n,a,s,l,c){if(t=+t,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),f=a*Math.sin(s),m=t+d,h=n+f,x=1^c,g=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>kl||Math.abs(this._y1-h)>kl)&&this._append`L${m},${h}`,a&&(g<0&&(g=g%O1+O1),g>rG?this._append`A${a},${a},0,1,${x},${t-d},${n-f}A${a},${a},0,1,${x},${this._x1=m},${this._y1=h}`:g>kl&&this._append`A${a},${a},0,${+(g>=P1)},${x},${this._x1=t+a*Math.cos(l)},${this._y1=n+a*Math.sin(l)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function Aj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new sG(t)}function Ej(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FO(e){this._context=e}FO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bp(e){return new FO(e)}function VO(e){return e[0]}function HO(e){return e[1]}function qO(e,t){var n=Ft(!0),a=null,s=bp,l=null,c=Aj(d);e=typeof e=="function"?e:e===void 0?VO:Ft(e),t=typeof t=="function"?t:t===void 0?HO:Ft(t);function d(f){var m,h=(f=Ej(f)).length,x,g=!1,b;for(a==null&&(l=s(b=c())),m=0;m<=h;++m)!(m<h&&n(x=f[m],m,f))===g&&((g=!g)?l.lineStart():l.lineEnd()),g&&l.point(+e(x,m,f),+t(x,m,f));if(b)return l=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ft(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ft(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ft(!!f),d):n},d.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),d):s},d.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),d):a},d}function rh(e,t,n){var a=null,s=Ft(!0),l=null,c=bp,d=null,f=Aj(m);e=typeof e=="function"?e:e===void 0?VO:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?HO:Ft(+n);function m(x){var g,b,w,j=(x=Ej(x)).length,S,_=!1,C,k=new Array(j),O=new Array(j);for(l==null&&(d=c(C=f())),g=0;g<=j;++g){if(!(g<j&&s(S=x[g],g,x))===_)if(_=!_)b=g,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=g-1;w>=b;--w)d.point(k[w],O[w]);d.lineEnd(),d.areaEnd()}_&&(k[g]=+e(S,g,x),O[g]=+t(S,g,x),d.point(a?+a(S,g,x):k[g],n?+n(S,g,x):O[g]))}if(C)return d=null,C+""||null}function h(){return qO().defined(s).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:Ft(+x),a=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Ft(+x),m):e},m.x1=function(x){return arguments.length?(a=x==null?null:typeof x=="function"?x:Ft(+x),m):a},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:Ft(+x),n=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Ft(+x),m):t},m.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Ft(+x),m):n},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(n)},m.lineX1=function(){return h().x(a).y(t)},m.defined=function(x){return arguments.length?(s=typeof x=="function"?x:Ft(!!x),m):s},m.curve=function(x){return arguments.length?(c=x,l!=null&&(d=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=d=null:d=c(l=x),m):l},m}class KO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function iG(e){return new KO(e,!0)}function lG(e){return new KO(e,!1)}const Tj={draw(e,t){const n=za(t/y0);e.moveTo(n,0),e.arc(0,0,n,0,yp)}},oG={draw(e,t){const n=za(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},GO=za(1/3),cG=GO*2,uG={draw(e,t){const n=za(t/cG),a=n*GO;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},dG={draw(e,t){const n=za(t),a=-n/2;e.rect(a,a,n,n)}},fG=.8908130915292852,YO=v0(y0/10)/v0(7*y0/10),mG=v0(yp/10)*YO,hG=-BO(yp/10)*YO,pG={draw(e,t){const n=za(t*fG),a=mG*n,s=hG*n;e.moveTo(0,-n),e.lineTo(a,s);for(let l=1;l<5;++l){const c=yp*l/5,d=BO(c),f=v0(c);e.lineTo(f*n,-d*n),e.lineTo(d*a-f*s,f*a+d*s)}e.closePath()}},Wv=za(3),xG={draw(e,t){const n=-za(t/(Wv*3));e.moveTo(0,n*2),e.lineTo(-Wv*n,-n),e.lineTo(Wv*n,-n),e.closePath()}},sa=-.5,ia=za(3)/2,M1=1/za(12),gG=(M1/2+1)*3,vG={draw(e,t){const n=za(t/gG),a=n/2,s=n*M1,l=a,c=n*M1+n,d=-l,f=c;e.moveTo(a,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(sa*a-ia*s,ia*a+sa*s),e.lineTo(sa*l-ia*c,ia*l+sa*c),e.lineTo(sa*d-ia*f,ia*d+sa*f),e.lineTo(sa*a+ia*s,sa*s-ia*a),e.lineTo(sa*l+ia*c,sa*c-ia*l),e.lineTo(sa*d+ia*f,sa*f-ia*d),e.closePath()}};function yG(e,t){let n=null,a=Aj(s);e=typeof e=="function"?e:Ft(e||Tj),t=typeof t=="function"?t:Ft(t===void 0?64:+t);function s(){let l;if(n||(n=l=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:Ft(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:Ft(+l),s):t},s.context=function(l){return arguments.length?(n=l??null,s):n},s}function b0(){}function w0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function WO(e){this._context=e}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:w0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:w0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bG(e){return new WO(e)}function XO(e){this._context=e}XO.prototype={areaStart:b0,areaEnd:b0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:w0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wG(e){return new XO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:w0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jG(e){return new ZO(e)}function QO(e){this._context=e}QO.prototype={areaStart:b0,areaEnd:b0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function NG(e){return new QO(e)}function xC(e){return e<0?-1:1}function gC(e,t,n){var a=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(a||s<0&&-0),c=(n-e._y1)/(s||a<0&&-0),d=(l*s+c*a)/(a+s);return(xC(l)+xC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function vC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Xv(e,t,n){var a=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-a)/3;e._context.bezierCurveTo(a+d,s+d*t,l-d,c-d*n,l,c)}function j0(e){this._context=e}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xv(this,this._t0,vC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xv(this,vC(this,n=gC(this,e,t)),n);break;default:Xv(this,this._t0,n=gC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function JO(e){this._context=new eM(e)}(JO.prototype=Object.create(j0.prototype)).point=function(e,t){j0.prototype.point.call(this,t,e)};function eM(e){this._context=e}eM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,s,l){this._context.bezierCurveTo(t,e,a,n,l,s)}};function SG(e){return new j0(e)}function _G(e){return new JO(e)}function tM(e){this._context=e}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=yC(e),s=yC(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(a[0][l],s[0][l],a[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yC(e){var t,n=e.length-1,a,s=new Array(n),l=new Array(n),c=new Array(n);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/l[t-1],l[t]-=a,c[t]-=a*c[t-1];for(s[n-1]=c[n-1]/l[n-1],t=n-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function CG(e){return new tM(e)}function wp(e,t){this._context=e,this._t=t}wp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function kG(e){return new wp(e,.5)}function AG(e){return new wp(e,0)}function EG(e){return new wp(e,1)}function Nc(e,t){if((c=e.length)>1)for(var n=1,a,s,l=e[t[0]],c,d=l.length;n<c;++n)for(s=l,l=e[t[n]],a=0;a<d;++a)l[a][1]+=l[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function D1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function TG(e,t){return e[t]}function PG(e){const t=[];return t.key=e,t}function OG(){var e=Ft([]),t=D1,n=Nc,a=TG;function s(l){var c=Array.from(e.apply(this,arguments),PG),d,f=c.length,m=-1,h;for(const x of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+a(x,c[d].key,m,l)]).data=x;for(d=0,h=Ej(t(c));d<f;++d)c[h[d]].index=d;return n(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Ft(Array.from(l)),s):e},s.value=function(l){return arguments.length?(a=typeof l=="function"?l:Ft(+l),s):a},s.order=function(l){return arguments.length?(t=l==null?D1:typeof l=="function"?l:Ft(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(n=l??Nc,s):n},s}function MG(e,t){if((a=e.length)>0){for(var n,a,s=0,l=e[0].length,c;s<l;++s){for(c=n=0;n<a;++n)c+=e[n][s][1]||0;if(c)for(n=0;n<a;++n)e[n][s][1]/=c}Nc(e,t)}}function DG(e,t){if((s=e.length)>0){for(var n=0,a=e[t[0]],s,l=a.length;n<l;++n){for(var c=0,d=0;c<s;++c)d+=e[c][n][1]||0;a[n][1]+=a[n][0]=-d/2}Nc(e,t)}}function RG(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var n=0,a=1,s,l,c;a<l;++a){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],x=h[a][1]||0,g=h[a-1][1]||0,b=(x-g)/2,w=0;w<d;++w){var j=e[t[w]],S=j[a][1]||0,_=j[a-1][1]||0;b+=S-_}f+=x,m+=b*x}s[a-1][1]+=s[a-1][0]=n,f&&(n-=m/f)}s[a-1][1]+=s[a-1][0]=n,Nc(e,t)}}var LG=["type","size","sizeType"];function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R1.apply(null,arguments)}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function wC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(a){$G(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $G(e,t,n){return(t=IG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IG(e){var t=zG(e,"string");return typeof t=="symbol"?t:t+""}function zG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BG(e,t){if(e==null)return{};var n,a,s=UG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function UG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var nM={symbolCircle:Tj,symbolCross:oG,symbolDiamond:uG,symbolSquare:dG,symbolStar:pG,symbolTriangle:xG,symbolWye:vG},FG=Math.PI/180,VG=e=>{var t="symbol".concat(bf(e));return nM[t]||Tj},HG=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*FG;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qG=(e,t)=>{nM["symbol".concat(bf(e))]=t},rM=e=>{var{type:t="circle",size:n=64,sizeType:a="area"}=e,s=BG(e,LG),l=wC(wC({},s),{},{type:t,size:n,sizeType:a}),c=()=>{var x=VG(t),g=yG().type(x).size(HG(n,a,t));return g()},{className:d,cx:f,cy:m}=l,h=Xt(l,!0);return f===+f&&m===+m&&n===+n?v.createElement("path",R1({},h,{className:ut("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};rM.registerSymbol=qG;var Zv={},Qv={},jC;function KG(){return jC||(jC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){const s=new Map;for(let l=0;l<n.length;l++){const c=n[l],d=a(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t}(Qv)),Qv}var Jv={},NC;function aM(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(Jv)),Jv}var ey={},ty={},ny={},SC;function GG(){return SC||(SC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(ny)),ny}var _C;function Pj(){return _C||(_C=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GG();function n(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=n}(ty)),ty}var ry={},CC;function YG(){return CC||(CC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(ry)),ry}var kC;function WG(){return kC||(kC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pj(),n=YG();function a(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a}(ey)),ey}var ay={},sy={},AC;function XG(){return AC||(AC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_j();function n(a){return function(s){return t.get(s,a)}}e.property=n}(sy)),sy}var iy={},ly={},oy={},cy={},EC;function sM(){return EC||(EC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(cy)),cy}var uy={},TC;function iM(){return TC||(TC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(uy)),uy}var dy={},PC;function Oj(){return PC||(PC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){return n===a||Number.isNaN(n)&&Number.isNaN(a)}e.eq=t}(dy)),dy}var OC;function ZG(){return OC||(OC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj(),n=sM(),a=iM(),s=Oj();function l(x,g,b){return typeof b!="function"?t.isMatch(x,g):c(x,g,function w(j,S,_,C,k,O){const A=b(j,S,_,C,k,O);return A!==void 0?!!A:c(j,S,w,O)},new Map)}function c(x,g,b,w){if(g===x)return!0;switch(typeof g){case"object":return d(x,g,b,w);case"function":return Object.keys(g).length>0?c(x,{...g},b,w):s.eq(x,g);default:return n.isObject(x)?typeof g=="string"?g==="":!0:s.eq(x,g)}}function d(x,g,b,w){if(g==null)return!0;if(Array.isArray(g))return m(x,g,b,w);if(g instanceof Map)return f(x,g,b,w);if(g instanceof Set)return h(x,g,b,w);const j=Object.keys(g);if(x==null)return j.length===0;if(j.length===0)return!0;if(w&&w.has(g))return w.get(g)===x;w&&w.set(g,x);try{for(let S=0;S<j.length;S++){const _=j[S];if(!a.isPrimitive(x)&&!(_ in x)||g[_]===void 0&&x[_]!==void 0||g[_]===null&&x[_]!==null||!b(x[_],g[_],_,x,g,w))return!1}return!0}finally{w&&w.delete(g)}}function f(x,g,b,w){if(g.size===0)return!0;if(!(x instanceof Map))return!1;for(const[j,S]of g.entries()){const _=x.get(j);if(b(_,S,j,x,g,w)===!1)return!1}return!0}function m(x,g,b,w){if(g.length===0)return!0;if(!Array.isArray(x))return!1;const j=new Set;for(let S=0;S<g.length;S++){const _=g[S];let C=!1;for(let k=0;k<x.length;k++){if(j.has(k))continue;const O=x[k];let A=!1;if(b(O,_,S,x,g,w)&&(A=!0),A){j.add(k),C=!0;break}}if(!C)return!1}return!0}function h(x,g,b,w){return g.size===0?!0:x instanceof Set?m([...x],[...g],b,w):!1}e.isMatchWith=l,e.isSetMatch=h}(oy)),oy}var MC;function Mj(){return MC||(MC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZG();function n(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=n}(ly)),ly}var fy={},my={},hy={},DC;function lM(){return DC||(DC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(a=>Object.prototype.propertyIsEnumerable.call(n,a))}e.getSymbols=t}(hy)),hy}var py={},RC;function Dj(){return RC||(RC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(py)),py}var xy={},LC;function Rj(){return LC||(LC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",a="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",x="[object Function]",g="[object ArrayBuffer]",b="[object Object]",w="[object Error]",j="[object DataView]",S="[object Uint8Array]",_="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]",O="[object BigUint64Array]",A="[object Int8Array]",T="[object Int16Array]",$="[object Int32Array]",M="[object BigInt64Array]",U="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=O,e.booleanTag=s,e.dataViewTag=j,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=U,e.float64ArrayTag=K,e.functionTag=x,e.int16ArrayTag=T,e.int32ArrayTag=$,e.int8ArrayTag=A,e.mapTag=f,e.numberTag=a,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=C,e.uint32ArrayTag=k,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=_}(xy)),xy}var gy={},$C;function QG(){return $C||($C=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(gy)),gy}var IC;function oM(){return IC||(IC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM(),n=Dj(),a=Rj(),s=iM(),l=QG();function c(h,x){return d(h,void 0,h,new Map,x)}function d(h,x,g,b=new Map,w=void 0){const j=w==null?void 0:w(h,x,g,b);if(j!==void 0)return j;if(s.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const S=new Array(h.length);b.set(h,S);for(let _=0;_<h.length;_++)S[_]=d(h[_],_,g,b,w);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;b.set(h,S);for(const[_,C]of h)S.set(_,d(C,_,g,b,w));return S}if(h instanceof Set){const S=new Set;b.set(h,S);for(const _ of h)S.add(d(_,void 0,g,b,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,S);for(let _=0;_<h.length;_++)S[_]=d(h[_],_,g,b,w);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,S),f(S,h,g,b,w),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return b.set(h,S),f(S,h,g,b,w),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return b.set(h,S),f(S,h,g,b,w),S}if(h instanceof Error){const S=new h.constructor;return b.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,g,b,w),S}if(typeof h=="object"&&m(h)){const S=Object.create(Object.getPrototypeOf(h));return b.set(h,S),f(S,h,g,b,w),S}return h}function f(h,x,g=h,b,w){const j=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<j.length;S++){const _=j[S],C=Object.getOwnPropertyDescriptor(h,_);(C==null||C.writable)&&(h[_]=d(x[_],_,g,b,w))}}function m(h){switch(n.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f}(my)),my}var zC;function JG(){return zC||(zC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM();function n(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=n}(fy)),fy}var BC;function eY(){return BC||(BC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj(),n=JG();function a(s){return s=n.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=a}(iy)),iy}var vy={},yy={},by={},UC;function tY(){return UC||(UC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM(),n=Rj();function a(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l==null?void 0:l(c,d,f,m);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(x,s),x}case n.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=a}(by)),by}var FC;function nY(){return FC||(FC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tY();function n(a){return t.cloneDeepWith(a)}e.cloneDeep=n}(yy)),yy}var wy={},jy={},VC;function cM(){return VC||(VC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=n}(jy)),jy}var Ny={},HC;function rY(){return HC||(HC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dj();function n(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=n}(Ny)),Ny}var qC;function aY(){return qC||(qC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OO(),n=cM(),a=rY(),s=Sj();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const x=f[h];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||a.isArguments(m))&&n.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l}(wy)),wy}var KC;function sY(){return KC||(KC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj(),n=MO(),a=nY(),s=_j(),l=aY();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=a.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c}(vy)),vy}var GC;function iY(){return GC||(GC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM(),n=XG(),a=eY(),s=sY();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=l}(ay)),ay}var YC;function lY(){return YC||(YC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KG(),n=aM(),a=WG(),s=iY();function l(c,d=n.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l}(Zv)),Zv}var Sy,WC;function oY(){return WC||(WC=1,Sy=lY().uniqBy),Sy}var cY=oY();const XC=$a(cY);function uY(e,t,n){return t===!0?XC(e,n):typeof t=="function"?XC(e,t):e}var _y={exports:{}},Cy={},ky={exports:{}},Ay={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function dY(){if(ZC)return Ay;ZC=1;var e=Dc();function t(x,g){return x===g&&(x!==0||1/x===1/g)||x!==x&&g!==g}var n=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(x,g){var b=g(),w=a({inst:{value:b,getSnapshot:g}}),j=w[0].inst,S=w[1];return l(function(){j.value=b,j.getSnapshot=g,f(j)&&S({inst:j})},[x,b,g]),s(function(){return f(j)&&S({inst:j}),x(function(){f(j)&&S({inst:j})})},[x]),c(b),b}function f(x){var g=x.getSnapshot;x=x.value;try{var b=g();return!n(x,b)}catch{return!0}}function m(x,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Ay.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Ay}var QC;function fY(){return QC||(QC=1,ky.exports=dY()),ky.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function mY(){if(JC)return Cy;JC=1;var e=Dc(),t=fY();function n(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return Cy.useSyncExternalStoreWithSelector=function(m,h,x,g,b){var w=l(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=d(function(){function _(T){if(!C){if(C=!0,k=T,T=g(T),b!==void 0&&j.hasValue){var $=j.value;if(b($,T))return O=$}return O=T}if($=O,a(k,T))return $;var M=g(T);return b!==void 0&&b($,M)?(k=T,$):(k=T,O=M)}var C=!1,k,O,A=x===void 0?null:x;return[function(){return _(h())},A===null?void 0:function(){return _(A())}]},[h,x,g,b]);var S=s(m,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=S},[S]),f(S),S},Cy}var ek;function hY(){return ek||(ek=1,_y.exports=mY()),_y.exports}var pY=hY(),Lj=v.createContext(null),xY=e=>e,dn=()=>{var e=v.useContext(Lj);return e?e.store.dispatch:xY},t0=()=>{},gY=()=>t0,vY=(e,t)=>e===t;function Ke(e){var t=v.useContext(Lj);return pY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:gY,t?t.store.getState:t0,t?t.store.getState:t0,t?e:t0,vY)}function yY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function bY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function wY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${n}]`)}}var tk=e=>Array.isArray(e)?e:[e];function jY(e){const t=Array.isArray(e[0])?e[0]:e;return wY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function NY(e,t){const n=[],{length:a}=e;for(let s=0;s<a;s++)n.push(e[s].apply(null,t));return n}var SY=class{constructor(e){this.value=e}deref(){return this.value}},_Y=typeof WeakRef<"u"?WeakRef:SY,CY=0,nk=1;function ah(){return{s:CY,v:void 0,o:null,p:null}}function uM(e,t={}){let n=ah();const{resultEqualityCheck:a}=t;let s,l=0;function c(){var x;let d=n;const{length:f}=arguments;for(let g=0,b=f;g<b;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const S=j.get(w);S===void 0?(d=ah(),j.set(w,d)):d=S}else{let j=d.p;j===null&&(d.p=j=new Map);const S=j.get(w);S===void 0?(d=ah(),j.set(w,d)):d=S}}const m=d;let h;if(d.s===nk)h=d.v;else if(h=e.apply(null,arguments),l++,a){const g=((x=s==null?void 0:s.deref)==null?void 0:x.call(s))??s;g!=null&&a(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new _Y(h):h}return m.s=nk,m.v=h,h}return c.clearCache=()=>{n=ah(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function kY(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),yY(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...n,...f},{memoize:x,memoizeOptions:g=[],argsMemoize:b=uM,argsMemoizeOptions:w=[]}=h,j=tk(g),S=tk(w),_=jY(s),C=x(function(){return l++,m.apply(null,arguments)},...j),k=b(function(){c++;const A=NY(_,arguments);return d=C.apply(null,A),d},...S);return Object.assign(k,{resultFunc:m,memoizedResultFunc:C,dependencies:_,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:b})};return Object.assign(a,{withTypes:()=>a}),a}var ye=kY(uM),AY=Object.assign((e,t=ye)=>{bY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),a=n.map(l=>e[l]);return t(a,(...l)=>l.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>AY}),Ey={},Ty={},Py={},rk;function EY(){return rk||(rk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const n=(a,s,l)=>{if(a!==s){const c=t(a),d=t(s);if(c===d&&c===0){if(a<s)return l==="desc"?1:-1;if(a>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=n}(Py)),Py}var Oy={},My={},ak;function dM(){return ak||(ak=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(My)),My}var sk;function TY(){return sk||(sk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(a.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s}(Oy)),Oy}var ik;function PY(){return ik||(ik=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EY(),n=TY(),a=Sj();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const m=(b,w)=>{let j=b;for(let S=0;S<w.length&&j!=null;++S)j=j[w[S]];return j},h=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:m(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?m(w,b):typeof w=="object"?w[b]:w,x=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:a.toPath(b)}));return l.map(b=>({original:b,criteria:x.map(w=>h(w,b))})).slice().sort((b,w)=>{for(let j=0;j<x.length;j++){const S=t.compareValues(b.criteria[j],w.criteria[j],d[j]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=s}(Ty)),Ty}var Dy={},lk;function OY(){return lk||(lk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a=1){const s=[],l=Math.floor(a),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(n,0),s}e.flatten=t}(Dy)),Dy}var Ry={},ok;function fM(){return ok||(ok=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),n=Pj(),a=sM(),s=Oj();function l(c,d,f){return a.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l}(Ry)),Ry}var ck;function MY(){return ck||(ck=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PY(),n=OY(),a=fM();function s(l,...c){const d=c.length;return d>1&&a.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,n.flatten(c),["asc"])}e.sortBy=s}(Ey)),Ey}var Ly,uk;function DY(){return uk||(uk=1,Ly=MY().sortBy),Ly}var RY=DY();const jp=$a(RY);var mM=e=>e.legend.settings,LY=e=>e.legend.size,$Y=e=>e.legend.payload;ye([$Y,mM],(e,t)=>{var{itemSorter:n}=t,a=e.flat(1);return n?jp(a,n):a});var sh=1;function IY(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),a=v.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>sh||Math.abs(c.left-t.left)>sh||Math.abs(c.top-t.top)>sh||Math.abs(c.width-t.width)>sh)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Un(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zY=typeof Symbol=="function"&&Symbol.observable||"@@observable",dk=zY,$y=()=>Math.random().toString(36).substring(7).split("").join("."),BY={INIT:`@@redux/INIT${$y()}`,REPLACE:`@@redux/REPLACE${$y()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$y()}`},N0=BY;function $j(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function hM(e,t,n){if(typeof e!="function")throw new Error(Un(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Un(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Un(1));return n(hM)(e,t)}let a=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((S,_)=>{c.set(_,S)}))}function h(){if(f)throw new Error(Un(3));return s}function x(S){if(typeof S!="function")throw new Error(Un(4));if(f)throw new Error(Un(5));let _=!0;m();const C=d++;return c.set(C,S),function(){if(_){if(f)throw new Error(Un(6));_=!1,m(),c.delete(C),l=null}}}function g(S){if(!$j(S))throw new Error(Un(7));if(typeof S.type>"u")throw new Error(Un(8));if(typeof S.type!="string")throw new Error(Un(17));if(f)throw new Error(Un(9));try{f=!0,s=a(s,S)}finally{f=!1}return(l=c).forEach(C=>{C()}),S}function b(S){if(typeof S!="function")throw new Error(Un(10));a=S,g({type:N0.REPLACE})}function w(){const S=x;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Un(11));function C(){const O=_;O.next&&O.next(h())}return C(),{unsubscribe:S(C)}},[dk](){return this}}}return g({type:N0.INIT}),{dispatch:g,subscribe:x,getState:h,replaceReducer:b,[dk]:w}}function UY(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:N0.INIT})>"u")throw new Error(Un(12));if(typeof n(void 0,{type:N0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Un(13))})}function pM(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(n[c]=e[c])}const a=Object.keys(n);let s;try{UY(n)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<a.length;h++){const x=a[h],g=n[x],b=c[x],w=g(b,d);if(typeof w>"u")throw d&&d.type,new Error(Un(14));m[x]=w,f=f||w!==b}return f=f||a.length!==Object.keys(c).length,f?m:c}}function S0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...a)=>t(n(...a)))}function FY(...e){return t=>(n,a)=>{const s=t(n,a);let l=()=>{throw new Error(Un(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=S0(...d)(s.dispatch),{...s,dispatch:l}}}function xM(e){return $j(e)&&"type"in e&&typeof e.type=="string"}var gM=Symbol.for("immer-nothing"),fk=Symbol.for("immer-draftable"),Hr=Symbol.for("immer-state");function Ta(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sc=Object.getPrototypeOf;function Wl(e){return!!e&&!!e[Hr]}function Ks(e){var t;return e?vM(e)||Array.isArray(e)||!!e[fk]||!!((t=e.constructor)!=null&&t[fk])||Sp(e)||_p(e):!1}var VY=Object.prototype.constructor.toString();function vM(e){if(!e||typeof e!="object")return!1;const t=Sc(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===VY}function _0(e,t){Np(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,a)=>t(a,n,e))}function Np(e){const t=e[Hr];return t?t.type_:Array.isArray(e)?1:Sp(e)?2:_p(e)?3:0}function L1(e,t){return Np(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yM(e,t,n){const a=Np(e);a===2?e.set(t,n):a===3?e.add(n):e[t]=n}function HY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Sp(e){return e instanceof Map}function _p(e){return e instanceof Set}function Al(e){return e.copy_||e.base_}function $1(e,t){if(Sp(e))return new Map(e);if(_p(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=vM(e);if(t===!0||t==="class_only"&&!n){const a=Object.getOwnPropertyDescriptors(e);delete a[Hr];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Sc(e),a)}else{const a=Sc(e);if(a!==null&&n)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function Ij(e,t=!1){return Cp(e)||Wl(e)||!Ks(e)||(Np(e)>1&&(e.set=e.add=e.clear=e.delete=qY),Object.freeze(e),t&&Object.entries(e).forEach(([n,a])=>Ij(a,!0))),e}function qY(){Ta(2)}function Cp(e){return Object.isFrozen(e)}var KY={};function Xl(e){const t=KY[e];return t||Ta(0,e),t}var Zd;function bM(){return Zd}function GY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mk(e,t){t&&(Xl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function I1(e){z1(e),e.drafts_.forEach(YY),e.drafts_=null}function z1(e){e===Zd&&(Zd=e.parent_)}function hk(e){return Zd=GY(Zd,e)}function YY(e){const t=e[Hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Hr].modified_&&(I1(t),Ta(4)),Ks(e)&&(e=C0(t,e),t.parent_||k0(t,e)),t.patches_&&Xl("Patches").generateReplacementPatches_(n[Hr].base_,e,t.patches_,t.inversePatches_)):e=C0(t,n,[]),I1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gM?e:void 0}function C0(e,t,n){if(Cp(t))return t;const a=t[Hr];if(!a)return _0(t,(s,l)=>xk(e,a,t,s,l,n)),t;if(a.scope_!==e)return t;if(!a.modified_)return k0(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,c=!1;a.type_===3&&(l=new Set(s),s.clear(),c=!0),_0(l,(d,f)=>xk(e,a,s,d,f,n,c)),k0(e,s,!1),n&&e.patches_&&Xl("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function xk(e,t,n,a,s,l,c){if(Wl(s)){const d=l&&t&&t.type_!==3&&!L1(t.assigned_,a)?l.concat(a):void 0,f=C0(e,s,d);if(yM(n,a,f),Wl(f))e.canAutoFreeze_=!1;else return}else c&&n.add(s);if(Ks(s)&&!Cp(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;C0(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,a)&&k0(e,s)}}function k0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ij(t,n)}function WY(e,t){const n=Array.isArray(e),a={type_:n?1:0,scope_:t?t.scope_:bM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,l=zj;n&&(s=[a],l=Qd);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,d}var zj={get(e,t){if(t===Hr)return e;const n=Al(e);if(!L1(n,t))return XY(e,n,t);const a=n[t];return e.finalized_||!Ks(a)?a:a===Iy(e.base_,t)?(zy(e),e.copy_[t]=U1(a,e)):a},has(e,t){return t in Al(e)},ownKeys(e){return Reflect.ownKeys(Al(e))},set(e,t,n){const a=wM(Al(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const s=Iy(Al(e),t),l=s==null?void 0:s[Hr];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(HY(n,s)&&(n!==void 0||L1(e.base_,t)))return!0;zy(e),B1(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Iy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,zy(e),B1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Al(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:n[t]}},defineProperty(){Ta(11)},getPrototypeOf(e){return Sc(e.base_)},setPrototypeOf(){Ta(12)}},Qd={};_0(zj,(e,t)=>{Qd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qd.deleteProperty=function(e,t){return Qd.set.call(this,e,t,void 0)};Qd.set=function(e,t,n){return zj.set.call(this,e[0],t,n,e[0])};function Iy(e,t){const n=e[Hr];return(n?Al(n):e)[t]}function XY(e,t,n){var s;const a=wM(t,n);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function wM(e,t){if(!(t in e))return;let n=Sc(e);for(;n;){const a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=Sc(n)}}function B1(e){e.modified_||(e.modified_=!0,e.parent_&&B1(e.parent_))}function zy(e){e.copy_||(e.copy_=$1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ZY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,a)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(f=l,...m){return c.produce(f,h=>n.call(this,h,...m))}}typeof n!="function"&&Ta(6),a!==void 0&&typeof a!="function"&&Ta(7);let s;if(Ks(t)){const l=hk(this),c=U1(t,void 0);let d=!0;try{s=n(c),d=!1}finally{d?I1(l):z1(l)}return mk(l,a),pk(s,l)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===gM&&(s=void 0),this.autoFreeze_&&Ij(s,!0),a){const l=[],c=[];Xl("Patches").generateReplacementPatches_(t,s,l,c),a(l,c)}return s}else Ta(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let a,s;return[this.produce(t,n,(c,d)=>{a=c,s=d}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ks(e)||Ta(8),Wl(e)&&(e=Ls(e));const t=hk(this),n=U1(e,void 0);return n[Hr].isManual_=!0,z1(t),n}finishDraft(e,t){const n=e&&e[Hr];(!n||!n.isManual_)&&Ta(9);const{scope_:a}=n;return mk(a,t),pk(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const a=Xl("Patches").applyPatches_;return Wl(e)?a(e,t):this.produce(e,s=>a(s,t))}};function U1(e,t){const n=Sp(e)?Xl("MapSet").proxyMap_(e,t):_p(e)?Xl("MapSet").proxySet_(e,t):WY(e,t);return(t?t.scope_:bM()).drafts_.push(n),n}function Ls(e){return Wl(e)||Ta(10,e),jM(e)}function jM(e){if(!Ks(e)||Cp(e))return e;const t=e[Hr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=$1(e,t.scope_.immer_.useStrictShallowCopy_)}else n=$1(e,!0);return _0(n,(a,s)=>{yM(n,a,jM(s))}),t&&(t.finalized_=!1),n}var qr=new ZY,NM=qr.produce;qr.produceWithPatches.bind(qr);qr.setAutoFreeze.bind(qr);qr.setUseStrictShallowCopy.bind(qr);qr.applyPatches.bind(qr);qr.createDraft.bind(qr);qr.finishDraft.bind(qr);function SM(e){return({dispatch:n,getState:a})=>s=>l=>typeof l=="function"?l(n,a,e):s(l)}var QY=SM(),JY=SM,eW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?S0:S0.apply(null,arguments)};function pa(e,t){function n(...a){if(t){let s=t(...a);if(!s)throw new Error(Fr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=a=>xM(a)&&a.type===e,n}var _M=class wd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wd.prototype)}static get[Symbol.species](){return wd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wd(...t[0].concat(this)):new wd(...t.concat(this))}};function gk(e){return Ks(e)?NM(e,()=>{}):e}function ih(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function tW(e){return typeof e=="boolean"}var nW=()=>function(t){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new _M;return n&&(tW(n)?c.push(QY):c.push(JY(n.extraArgument))),c},rW="RTK_autoBatch",vk=e=>t=>{setTimeout(t,e)},aW=(e={type:"raf"})=>t=>(...n)=>{const a=t(...n);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vk(10):e.type==="callback"?e.queueNotification:vk(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const x=()=>s&&h(),g=a.subscribe(x);return d.add(h),()=>{g(),d.delete(h)}},dispatch(h){var x;try{return s=!((x=h==null?void 0:h.meta)!=null&&x[rW]),l=!s,l&&(c||(c=!0,f(m))),a.dispatch(h)}finally{s=!0}}})},sW=e=>function(n){const{autoBatch:a=!0}=n??{};let s=new _M(e);return a&&s.push(aW(typeof a=="object"?a:void 0)),s};function iW(e){const t=nW(),{reducer:n=void 0,middleware:a,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if($j(n))d=pM(n);else throw new Error(Fr(1));let f;typeof a=="function"?f=a(t):f=t();let m=S0;s&&(m=eW({trace:!1,...typeof s=="object"&&s}));const h=FY(...f),x=sW(h);let g=typeof c=="function"?c(x):x();const b=m(...g);return hM(d,l,b)}function CM(e){const t={},n=[];let a;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Fr(28));if(d in t)throw new Error(Fr(29));return t[d]=c,s},addMatcher(l,c){return n.push({matcher:l,reducer:c}),s},addDefaultCase(l){return a=l,s}};return e(s),[t,n,a]}function lW(e){return typeof e=="function"}function oW(e,t){let[n,a,s]=CM(t),l;if(lW(e))l=()=>gk(e());else{const d=gk(e);l=()=>d}function c(d=l(),f){let m=[n[f.type],...a.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,x)=>{if(x)if(Wl(h)){const b=x(h,f);return b===void 0?h:b}else{if(Ks(h))return NM(h,g=>x(g,f));{const g=x(h,f);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},d)}return c.getInitialState=l,c}var cW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uW=(e=21)=>{let t="",n=e;for(;n--;)t+=cW[Math.random()*64|0];return t},dW=Symbol.for("rtk-slice-createasyncthunk");function fW(e,t){return`${e}/${t}`}function mW({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[dW];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(Fr(11));const d=(typeof s.reducers=="function"?s.reducers(pW()):s.reducers)||{},f=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,A){const T=typeof O=="string"?O:O.type;if(!T)throw new Error(Fr(12));if(T in m.sliceCaseReducersByType)throw new Error(Fr(13));return m.sliceCaseReducersByType[T]=A,h},addMatcher(O,A){return m.sliceMatchers.push({matcher:O,reducer:A}),h},exposeAction(O,A){return m.actionCreators[O]=A,h},exposeCaseReducer(O,A){return m.sliceCaseReducersByName[O]=A,h}};f.forEach(O=>{const A=d[O],T={reducerName:O,type:fW(l,O),createNotation:typeof s.reducers=="function"};gW(A)?yW(T,A,h,t):xW(T,A,h)});function x(){const[O={},A=[],T=void 0]=typeof s.extraReducers=="function"?CM(s.extraReducers):[s.extraReducers],$={...O,...m.sliceCaseReducersByType};return oW(s.initialState,M=>{for(let U in $)M.addCase(U,$[U]);for(let U of m.sliceMatchers)M.addMatcher(U.matcher,U.reducer);for(let U of A)M.addMatcher(U.matcher,U.reducer);T&&M.addDefaultCase(T)})}const g=O=>O,b=new Map,w=new WeakMap;let j;function S(O,A){return j||(j=x()),j(O,A)}function _(){return j||(j=x()),j.getInitialState()}function C(O,A=!1){function T(M){let U=M[O];return typeof U>"u"&&A&&(U=ih(w,T,_)),U}function $(M=g){const U=ih(b,A,()=>new WeakMap);return ih(U,M,()=>{const K={};for(const[F,B]of Object.entries(s.selectors??{}))K[F]=hW(B,M,()=>ih(w,M,_),A);return K})}return{reducerPath:O,getSelectors:$,get selectors(){return $(T)},selectSlice:T}}const k={name:l,reducer:S,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:_,...C(c),injectInto(O,{reducerPath:A,...T}={}){const $=A??c;return O.inject({reducerPath:$,reducer:S},T),{...k,...C($,!0)}}};return k}}function hW(e,t,n,a){function s(l,...c){let d=t(l);return typeof d>"u"&&a&&(d=n()),e(d,...c)}return s.unwrapped=e,s}var Gr=mW();function pW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function xW({type:e,reducerName:t,createNotation:n},a,s){let l,c;if("reducer"in a){if(n&&!vW(a))throw new Error(Fr(17));l=a.reducer,c=a.prepare}else l=a;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?pa(e,c):pa(e))}function gW(e){return e._reducerDefinitionType==="asyncThunk"}function vW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function yW({type:e,reducerName:t},n,a,s){if(!s)throw new Error(Fr(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=n,x=s(e,l,h);a.exposeAction(t,x),c&&a.addCase(x.fulfilled,c),d&&a.addCase(x.pending,d),f&&a.addCase(x.rejected,f),m&&a.addMatcher(x.settled,m),a.exposeCaseReducer(t,{fulfilled:c||lh,pending:d||lh,rejected:f||lh,settled:m||lh})}function lh(){}var bW="task",kM="listener",AM="completed",Bj="cancelled",wW=`task-${Bj}`,jW=`task-${AM}`,F1=`${kM}-${Bj}`,NW=`${kM}-${AM}`,kp=class{constructor(e){ov(this,"name","TaskAbortError");ov(this,"message");this.code=e,this.message=`${bW} ${Bj} (reason: ${e})`}},Uj=(e,t)=>{if(typeof e!="function")throw new TypeError(Fr(32))},A0=()=>{},EM=(e,t=A0)=>(e.catch(t),e),TM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Hl=e=>{if(e.aborted){const{reason:t}=e;throw new kp(t)}};function PM(e,t){let n=A0;return new Promise((a,s)=>{const l=()=>s(new kp(e.reason));if(e.aborted){l();return}n=TM(e,l),t.finally(()=>n()).then(a,s)}).finally(()=>{n=A0})}var SW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof kp?"cancelled":"rejected",error:n}}finally{t==null||t()}},E0=e=>t=>EM(PM(e,t).then(n=>(Hl(e),n))),OM=e=>{const t=E0(e);return n=>t(new Promise(a=>setTimeout(a,n)))},{assign:dc}=Object,yk={},Ap="listenerMiddleware",_W=(e,t)=>{const n=a=>TM(e,()=>Vl(a,e.reason));return(a,s)=>{Uj(a);const l=new AbortController;n(l);const c=SW(async()=>{Hl(e),Hl(l.signal);const d=await a({pause:E0(l.signal),delay:OM(l.signal),signal:l.signal});return Hl(l.signal),d},()=>Vl(l,jW));return s!=null&&s.autoJoin&&t.push(c.catch(A0)),{result:E0(e)(c),cancel(){Vl(l,wW)}}}},CW=(e,t)=>{const n=async(a,s)=>{Hl(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:a,effect:(x,g)=>{g.unsubscribe(),f([x,g.getState(),g.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await PM(t,Promise.race(d));return Hl(t),f}finally{l()}};return(a,s)=>EM(n(a,s))},MM=e=>{let{type:t,actionCreator:n,matcher:a,predicate:s,effect:l}=e;if(t)s=pa(t).match;else if(n)t=n.type,s=n.match;else if(a)s=a;else if(!s)throw new Error(Fr(21));return Uj(l),{predicate:s,type:t,effect:l}},DM=dc(e=>{const{type:t,predicate:n,effect:a}=MM(e);return{id:uW(),effect:a,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fr(22))}}},{withTypes:()=>DM}),bk=(e,t)=>{const{type:n,effect:a,predicate:s}=MM(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===s)&&l.effect===a)},V1=e=>{e.pending.forEach(t=>{Vl(t,F1)})},kW=e=>()=>{e.forEach(V1),e.clear()},wk=(e,t,n)=>{try{e(t,n)}catch(a){setTimeout(()=>{throw a},0)}},RM=dc(pa(`${Ap}/add`),{withTypes:()=>RM}),AW=pa(`${Ap}/removeAll`),LM=dc(pa(`${Ap}/remove`),{withTypes:()=>LM}),EW=(...e)=>{console.error(`${Ap}/error`,...e)},jf=(e={})=>{const t=new Map,{extra:n,onError:a=EW}=e;Uj(a);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),x=>{h.unsubscribe(),x!=null&&x.cancelActive&&V1(h)}),l=h=>{const x=bk(t,h)??DM(h);return s(x)};dc(l,{withTypes:()=>l});const c=h=>{const x=bk(t,h);return x&&(x.unsubscribe(),h.cancelActive&&V1(x)),!!x};dc(c,{withTypes:()=>c});const d=async(h,x,g,b)=>{const w=new AbortController,j=CW(l,w.signal),S=[];try{h.pending.add(w),await Promise.resolve(h.effect(x,dc({},g,{getOriginalState:b,condition:(_,C)=>j(_,C).then(Boolean),take:j,delay:OM(w.signal),pause:E0(w.signal),extra:n,signal:w.signal,fork:_W(w.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((_,C,k)=>{_!==w&&(Vl(_,F1),k.delete(_))})},cancel:()=>{Vl(w,F1),h.pending.delete(w)},throwIfCancelled:()=>{Hl(w.signal)}})))}catch(_){_ instanceof kp||wk(a,_,{raisedBy:"effect"})}finally{await Promise.all(S),Vl(w,NW),h.pending.delete(w)}},f=kW(t);return{middleware:h=>x=>g=>{if(!xM(g))return x(g);if(RM.match(g))return l(g.payload);if(AW.match(g)){f();return}if(LM.match(g))return c(g.payload);let b=h.getState();const w=()=>{if(b===yk)throw new Error(Fr(23));return b};let j;try{if(j=x(g),t.size>0){const S=h.getState(),_=Array.from(t.values());for(const C of _){let k=!1;try{k=C.predicate(g,S,b)}catch(O){k=!1,wk(a,O,{raisedBy:"predicate"})}k&&d(C,g,h,w)}}}finally{b=yk}return j},startListening:l,stopListening:c,clearListeners:f}};function Fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$M=Gr({name:"chartLayout",initialState:TW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:PW,setLayout:OW,setChartSize:MW,setScale:DW}=$M.actions,RW=$M.reducer;function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Nk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(a){LW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LW(e,t,n){return(t=$W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=IW(e,"string");return typeof t=="symbol"?t:t+""}function IW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T0=Math.PI/180,zW=e=>e*180/Math.PI,vn=(e,t,n,a)=>({x:e+Math.cos(-T0*a)*n,y:t+Math.sin(-T0*a)*n}),IM=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},BW=(e,t)=>{var{x:n,y:a}=e,{x:s,y:l}=t;return Math.sqrt((n-s)**2+(a-l)**2)},UW=(e,t)=>{var{x:n,y:a}=e,{cx:s,cy:l}=t,c=BW({x:n,y:a},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(n-s)/c,f=Math.acos(d);return a>l&&(f=2*Math.PI-f),{radius:c,angle:zW(f),angleInRadian:f}},FW=e=>{var{startAngle:t,endAngle:n}=e,a=Math.floor(t/360),s=Math.floor(n/360),l=Math.min(a,s);return{startAngle:t-l*360,endAngle:n-l*360}},VW=(e,t)=>{var{startAngle:n,endAngle:a}=t,s=Math.floor(n/360),l=Math.floor(a/360),c=Math.min(s,l);return e+c*360},HW=(e,t)=>{var{x:n,y:a}=e,{radius:s,angle:l}=UW({x:n,y:a},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=FW(t),h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?Nk(Nk({},t),{},{radius:s,angle:VW(h,t)}):null};function zM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(a){qW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qW(e,t,n){return(t=KW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t,n){return Kt(e)||Kt(t)?n:ss(t)?qi(e,t,n):typeof t=="function"?t(e):n}var YW=(e,t,n,a,s)=>{var l,c=-1,d=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?n[f-1].coordinate:n[d-1].coordinate,h=n[f].coordinate,x=f>=d-1?n[0].coordinate:n[f+1].coordinate,g=void 0;if(Dn(h-m)!==Dn(x-h)){var b=[];if(Dn(x-h)===Dn(s[1]-s[0])){g=x;var w=h+s[1]-s[0];b[0]=Math.min(w,(w+m)/2),b[1]=Math.max(w,(w+m)/2)}else{g=m;var j=x+s[1]-s[0];b[0]=Math.min(h,(j+h)/2),b[1]=Math.max(h,(j+h)/2)}var S=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:c}=n[f]);break}}else{var _=Math.min(m,x),C=Math.max(m,x);if(e>(_+h)/2&&e<=(C+h)/2){({index:c}=n[f]);break}}}else if(t){for(var k=0;k<d;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<d-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===d-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:c}=t[k]);break}}return c},WW=(e,t,n)=>{if(t&&n){var{width:a,height:s}=n,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Be(e[l]))return ua(ua({},e),{},{[l]:e[l]+(a||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Be(e[c]))return ua(ua({},e),{},{[c]:e[c]+(s||0)})}return e},Xi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",BM=(e,t,n,a)=>{if(a)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===n&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(n),c},UM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:x,niceTicks:g,axisType:b}=e;if(!c)return null;var w=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=s==="category"&&c.bandwidth?c.bandwidth()/w:0;if(j=b==="angleAxis"&&l&&l.length>=2?Dn(l[0]-l[1])*2*j:j,x||g){var S=(x||g||[]).map((_,C)=>{var k=a?a.indexOf(_):_;return{coordinate:c(k)+j,value:_,offset:j,index:C}});return S.filter(_=>!Vr(_.coordinate))}return f&&m?m.map((_,C)=>({coordinate:c(_)+j,value:_,index:C,offset:j})):c.ticks&&h!=null?c.ticks(h).map((_,C)=>({coordinate:c(_)+j,value:_,offset:j,index:C})):c.domain().map((_,C)=>({coordinate:c(_)+j,value:a?a[_]:_,index:C,offset:j}))},_k=1e-4,XW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,a=e.range(),s=Math.min(a[0],a[1])-_k,l=Math.max(a[0],a[1])+_k,c=e(t[0]),d=e(t[n-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[n-1]])}},ZW=(e,t)=>{if(!t||t.length!==2||!Be(t[0])||!Be(t[1]))return e;var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Be(e[0])||e[0]<n)&&(s[0]=n),(!Be(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},QW=e=>{var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,l=0,c=0;c<t;++c){var d=Vr(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},JW=e=>{var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,l=0;l<t;++l){var c=Vr(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},eX={sign:QW,expand:MG,none:Nc,silhouette:DG,wiggle:RG,positive:JW},tX=(e,t,n)=>{var a=eX[n],s=OG().keys(t).value((l,c)=>+$t(l,c,0)).order(D1).offset(a);return s(e)};function nX(e){return e==null?void 0:String(e)}function Ck(e){var{axis:t,ticks:n,bandSize:a,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kt(s[t.dataKey])){var d=RO(n,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return n[l]?n[l].coordinate+a/2:null}var f=$t(s,Kt(c)?t.dataKey:c);return Kt(f)?null:t.scale(f)}var kk=e=>{var{axis:t,ticks:n,offset:a,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+a:null;var d=$t(l,t.dataKey,t.scale.domain()[c]);return Kt(d)?null:t.scale(d)-s/2+a},rX=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},aX=e=>{var t=e.flat(2).filter(Be);return[Math.min(...t),Math.max(...t)]},sX=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],iX=(e,t,n)=>{if(e!=null)return sX(Object.keys(e).reduce((a,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=zM(m,t,n),x=aX(h);return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},Ak=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ek=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&t&&t.length>=2){for(var s=jp(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function Tk(e){var{tooltipEntrySettings:t,dataKey:n,payload:a,value:s,name:l}=e;return ua(ua({},t),{},{dataKey:n,payload:a,value:s,name:l})}function Vc(e,t){if(e)return String(e);if(typeof t=="string")return t}function lX(e,t,n,a,s){if(n==="horizontal"||n==="vertical"){var l=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return l?{x:e,y:t}:null}return a?HW({x:e,y:t},a):null}var oX=(e,t,n,a)=>{var s=t.find(m=>m&&m.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,{radius:c}=a;return ua(ua(ua({},a),vn(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=a;return ua(ua(ua({},a),vn(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},cX=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Qs=e=>e.layout.width,Js=e=>e.layout.height,uX=e=>e.layout.scale,FM=e=>e.layout.margin,Fj=ye(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Vj=ye(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),VM="data-recharts-item-index",HM="data-recharts-item-data-key",Ep=60;function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(a){dX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function dX(e,t,n){return(t=fX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hX=e=>e.brush.height,Sn=ye([Qs,Js,FM,hX,Fj,Vj,mM,LY],(e,t,n,a,s,l,c,d)=>{var f=l.reduce((w,j)=>{var{orientation:S}=j;if(!j.mirror&&!j.hide){var _=typeof j.width=="number"?j.width:Ep;return Ai(Ai({},w),{},{[S]:w[S]+_})}return w},{left:n.left||0,right:n.right||0}),m=s.reduce((w,j)=>{var{orientation:S}=j;return!j.mirror&&!j.hide?Ai(Ai({},w),{},{[S]:qi(w,"".concat(S))+j.height}):w},{top:n.top||0,bottom:n.bottom||0}),h=Ai(Ai({},m),f),x=h.bottom;h.bottom+=a,h=WW(h,c,d);var g=e-h.left-h.right,b=t-h.top-h.bottom;return Ai(Ai({brushBottom:x},h),{},{width:Math.max(g,0),height:Math.max(b,0)})}),pX=ye(Sn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),qM=ye(Qs,Js,(e,t)=>({x:0,y:0,width:e,height:t})),xX=v.createContext(null),Cr=()=>v.useContext(xX)!=null,Tp=e=>e.brush,Pp=ye([Tp,Sn,FM],(e,t,n)=>({height:e.height,x:Be(e.x)?e.x:t.left,y:Be(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Be(e.width)?e.width:t.width})),Hj=()=>{var e,t=Cr(),n=Ke(pX),a=Ke(Pp),s=(e=Ke(Tp))===null||e===void 0?void 0:e.padding;return!t||!a||!s?n:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},gX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},KM=()=>{var e;return(e=Ke(Sn))!==null&&e!==void 0?e:gX},GM=()=>Ke(Qs),YM=()=>Ke(Js),vt=e=>e.layout.layoutType,Op=()=>Ke(vt),vX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WM=Gr({name:"legend",initialState:vX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Ls(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:Wde,setLegendSettings:Xde,addLegendPayload:XM,removeLegendPayload:ZM}=WM.actions,yX=WM.reducer;function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},H1.apply(null,arguments)}function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function By(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(a){bX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bX(e,t,n){return(t=wX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NX(e){return Array.isArray(e)&&ss(e[0])&&ss(e[1])?e.join(" ~ "):e}var SX=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:a={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:x,accessibilityLayer:g=!1}=e,b=()=>{if(l&&l.length){var A={padding:0,margin:0},T=(d?jp(l,d):l).map(($,M)=>{if($.type==="none")return null;var U=$.formatter||c||NX,{value:K,name:F}=$,B=K,ne=F;if(U){var Ne=U(K,F,$,M,l);if(Array.isArray(Ne))[B,ne]=Ne;else if(Ne!=null)B=Ne;else return null}var se=By({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},a);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:se},ss(ne)?v.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,ss(ne)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},B),v.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},w=By({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=By({margin:0},s),S=!Kt(h),_=S?h:"",C=ut("recharts-default-tooltip",f),k=ut("recharts-tooltip-label",m);S&&x&&l!==void 0&&l!==null&&(_=x(h,l));var O=g?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",H1({className:C,style:w},O),v.createElement("p",{className:k,style:j},v.isValidElement(_)?_:"".concat(_)),b())},Ju="recharts-tooltip-wrapper",_X={visibility:"hidden"};function CX(e){var{coordinate:t,translateX:n,translateY:a}=e;return ut(Ju,{["".concat(Ju,"-right")]:Be(n)&&t&&Be(t.x)&&n>=t.x,["".concat(Ju,"-left")]:Be(n)&&t&&Be(t.x)&&n<t.x,["".concat(Ju,"-bottom")]:Be(a)&&t&&Be(t.y)&&a>=t.y,["".concat(Ju,"-top")]:Be(a)&&t&&Be(t.y)&&a<t.y})}function Mk(e){var{allowEscapeViewBox:t,coordinate:n,key:a,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&Be(l[a]))return l[a];var h=n[a]-d-(s>0?s:0),x=n[a]+s;if(t[a])return c[a]?h:x;var g=f[a];if(g==null)return 0;if(c[a]){var b=h,w=g;return b<w?Math.max(x,g):Math.max(h,g)}if(m==null)return 0;var j=x+d,S=g+m;return j>S?Math.max(h,g):Math.max(x,g)}function kX(e){var{translateX:t,translateY:n,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function AX(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,x;return c.height>0&&c.width>0&&n?(h=Mk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),x=Mk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=kX({translateX:h,translateY:x,useTranslate3d:d})):m=_X,{cssProperties:m,cssClasses:CX({translateX:h,translateY:x,coordinate:n})}}function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function oh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(n),!0).forEach(function(a){q1(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function q1(e,t,n){return(t=EX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PX extends v.PureComponent{constructor(){super(...arguments),q1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),q1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,a,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:x,useTranslate3d:g,viewBox:b,wrapperStyle:w,lastBoundingBox:j,innerRef:S,hasPortalFromProps:_}=this.props,{cssClasses:C,cssProperties:k}=AX({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:x,tooltipBox:{height:j.height,width:j.width},useTranslate3d:g,viewBox:b}),O=_?{}:oh(oh({transition:f&&t?"transform ".concat(a,"ms ").concat(s):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),A=oh(oh({},O),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:A,ref:S},l)}}var OX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),eo={isSsr:OX()},QM=()=>Ke(e=>e.rootProps.accessibilityLayer);function Kr(e){return Number.isFinite(e)}function _c(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},K1.apply(null,arguments)}function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Lk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(a){MX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function MX(e,t,n){return(t=DX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $k={curveBasisClosed:wG,curveBasisOpen:jG,curveBasis:bG,curveBumpX:iG,curveBumpY:lG,curveLinearClosed:NG,curveLinear:bp,curveMonotoneX:SG,curveMonotoneY:_G,curveNatural:CG,curveStep:kG,curveStepAfter:EG,curveStepBefore:AG},ch=e=>Kr(e.x)&&Kr(e.y),ed=e=>e.x,td=e=>e.y,LX=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(bf(e));return(n==="curveMonotone"||n==="curveBump")&&t?$k["".concat(n).concat(t==="vertical"?"Y":"X")]:$k[n]||bp},$X=e=>{var{type:t="linear",points:n=[],baseLine:a,layout:s,connectNulls:l=!1}=e,c=LX(t,s),d=l?n.filter(ch):n,f;if(Array.isArray(a)){var m=l?a.filter(x=>ch(x)):a,h=d.map((x,g)=>Lk(Lk({},x),{},{base:m[g]}));return s==="vertical"?f=rh().y(td).x1(ed).x0(x=>x.base.x):f=rh().x(ed).y1(td).y0(x=>x.base.y),f.defined(ch).curve(c),f(h)}return s==="vertical"&&Be(a)?f=rh().y(td).x1(ed).x0(a):Be(a)?f=rh().x(ed).y1(td).y0(a):f=qO().x(ed).y(td),f.defined(ch).curve(c),f(d)},qj=e=>{var{className:t,points:n,path:a,pathRef:s}=e;if((!n||!n.length)&&!a)return null;var l=n&&n.length?$X(e):a;return v.createElement("path",K1({},Zs(e),kj(e),{className:ut("recharts-curve",t),d:l===null?void 0:l,ref:s}))},IX=["x","y","top","left","width","height","className"];function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},G1.apply(null,arguments)}function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function zX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(a){BX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function BX(e,t,n){return(t=UX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UX(e){var t=FX(e,"string");return typeof t=="symbol"?t:t+""}function FX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VX(e,t){if(e==null)return{};var n,a,s=HX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function HX(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var qX=(e,t,n,a,s,l)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(l,",").concat(t,"h").concat(n),KX=e=>{var{x:t=0,y:n=0,top:a=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=VX(e,IX),m=zX({x:t,y:n,top:a,left:s,width:l,height:c},f);return!Be(t)||!Be(n)||!Be(l)||!Be(c)||!Be(a)||!Be(s)?null:v.createElement("path",G1({},Xt(m,!0),{className:ut("recharts-cross",d),d:qX(t,n,l,c,a,s)}))};function GX(e,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function YX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(a){WX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function WX(e,t,n){return(t=XX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XX(e){var t=ZX(e,"string");return typeof t=="symbol"?t:t+""}function ZX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(e,t){var n=YX({},e),a=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&a[d]!==void 0&&(c[d]=a[d]),c),n);return l}var Uy={},Fy={},Vy={},Bk;function QX(){return Bk||(Bk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const a=Object.getPrototypeOf(n);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(Vy)),Vy}var Uk;function JX(){return Uk||(Uk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QX(),n=lM(),a=Dj(),s=Rj(),l=Oj();function c(m,h,x){return d(m,h,void 0,void 0,void 0,void 0,x)}function d(m,h,x,g,b,w,j){const S=j(m,h,x,g,b,w);if(S!==void 0)return S;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return f(m,h,w,j)}return f(m,h,w,j)}function f(m,h,x,g){if(Object.is(m,h))return!0;let b=a.getTag(m),w=a.getTag(h);if(b===s.argumentsTag&&(b=s.objectTag),w===s.argumentsTag&&(w=s.objectTag),b!==w)return!1;switch(b){case s.stringTag:return m.toString()===h.toString();case s.numberTag:{const _=m.valueOf(),C=h.valueOf();return l.eq(_,C)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(m.valueOf(),h.valueOf());case s.regexpTag:return m.source===h.source&&m.flags===h.flags;case s.functionTag:return m===h}x=x??new Map;const j=x.get(m),S=x.get(h);if(j!=null&&S!=null)return j===h;x.set(m,h),x.set(h,m);try{switch(b){case s.mapTag:{if(m.size!==h.size)return!1;for(const[_,C]of m.entries())if(!h.has(_)||!d(C,h.get(_),_,m,h,x,g))return!1;return!0}case s.setTag:{if(m.size!==h.size)return!1;const _=Array.from(m.values()),C=Array.from(h.values());for(let k=0;k<_.length;k++){const O=_[k],A=C.findIndex(T=>d(O,T,void 0,m,h,x,g));if(A===-1)return!1;C.splice(A,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let _=0;_<m.length;_++)if(!d(m[_],h[_],_,m,h,x,g))return!1;return!0}case s.arrayBufferTag:return m.byteLength!==h.byteLength?!1:f(new Uint8Array(m),new Uint8Array(h),x,g);case s.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:f(new Uint8Array(m),new Uint8Array(h),x,g);case s.errorTag:return m.name===h.name&&m.message===h.message;case s.objectTag:{if(!(f(m.constructor,h.constructor,x,g)||t.isPlainObject(m)&&t.isPlainObject(h)))return!1;const C=[...Object.keys(m),...n.getSymbols(m)],k=[...Object.keys(h),...n.getSymbols(h)];if(C.length!==k.length)return!1;for(let O=0;O<C.length;O++){const A=C[O],T=m[A];if(!Object.hasOwn(h,A))return!1;const $=h[A];if(!d(T,$,A,m,h,x,g))return!1}return!0}default:return!1}}finally{x.delete(m),x.delete(h)}}e.isEqualWith=c}(Fy)),Fy}var Hy={},Fk;function eZ(){return Fk||(Fk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Hy)),Hy}var Vk;function tZ(){return Vk||(Vk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JX(),n=eZ();function a(s,l){return t.isEqualWith(s,l,n.noop)}e.isEqual=a}(Uy)),Uy}var qy,Hk;function nZ(){return Hk||(Hk=1,qy=tZ().isEqual),qy}var rZ=nZ();const aZ=$a(rZ);var P0=1e-4,JM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],eD=(e,t)=>e.map((n,a)=>n*t**a).reduce((n,a)=>n+a),qk=(e,t)=>n=>{var a=JM(e,t);return eD(a,n)},sZ=(e,t)=>n=>{var a=JM(e,t),s=[...a.map((l,c)=>l*c).slice(1),0];return eD(s,n)},Kk=function(){for(var t,n,a,s,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[t,a,n,s]=[0,0,1,1];break;case"ease":[t,a,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,a,n,s]=[.42,0,1,1];break;case"ease-out":[t,a,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,a,n,s]=[0,0,.58,1];break;default:{var f=c[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,a,n,s]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else c.length===4&&([t,a,n,s]=c);var m=qk(t,n),h=qk(a,s),x=sZ(t,n),g=w=>w>1?1:w<0?0:w,b=w=>{for(var j=w>1?1:w,S=j,_=0;_<8;++_){var C=m(S)-j,k=x(S);if(Math.abs(C-j)<P0||k<P0)return h(S);S=g(S-C/k)}return h(S)};return b.isStepper=!1,b},iZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:a=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*n,h=f*a,x=f+(m-h)*s/1e3,g=f*s/1e3+c;return Math.abs(g-d)<P0&&Math.abs(x)<P0?[d,0]:[g,x]};return l.isStepper=!0,l.dt=s,l},tD=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Kk(e);case"spring":return iZ();default:if(e.split("(")[0]==="cubic-bezier")return Kk(e)}return typeof e=="function"?e:null};function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Yk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(n),!0).forEach(function(a){lZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lZ(e,t,n){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uZ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),dZ=(e,t,n)=>e.map(a=>"".concat(uZ(a)," ").concat(t,"ms ").concat(n)).join(","),fZ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,a)=>n.filter(s=>a.includes(s))),ef=(e,t)=>Object.keys(t).reduce((n,a)=>Yk(Yk({},n),{},{[a]:e(a,t[a])}),{});function Wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(n),!0).forEach(function(a){mZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mZ(e,t,n){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O0=(e,t,n)=>e+(t-e)*n,Y1=e=>{var{from:t,to:n}=e;return t!==n},nD=(e,t,n)=>{var a=ef((s,l)=>{if(Y1(l)){var[c,d]=e(l.from,l.to,l.velocity);return Vn(Vn({},l),{},{from:c,velocity:d})}return l},t);return n<1?ef((s,l)=>Y1(l)?Vn(Vn({},l),{},{velocity:O0(l.velocity,a[s].velocity,n),from:O0(l.from,a[s].from,n)}):l,t):nD(e,a,n-1)};function xZ(e,t,n,a,s,l){var c,d=a.reduce((g,b)=>Vn(Vn({},g),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>ef((g,b)=>b.from,d),m=()=>!Object.values(d).filter(Y1).length,h=null,x=g=>{c||(c=g);var b=g-c,w=b/n.dt;d=nD(n,d,w),s(Vn(Vn(Vn({},e),t),f())),c=g,m()||(h=l.setTimeout(x))};return()=>(h=l.setTimeout(x),()=>{h()})}function gZ(e,t,n,a,s,l,c){var d=null,f=s.reduce((x,g)=>Vn(Vn({},x),{},{[g]:[e[g],t[g]]}),{}),m,h=x=>{m||(m=x);var g=(x-m)/a,b=ef((j,S)=>O0(...S,n(g)),f);if(l(Vn(Vn(Vn({},e),t),b)),g<1)d=c.setTimeout(h);else{var w=ef((j,S)=>O0(...S,n(1)),f);l(Vn(Vn(Vn({},e),t),w))}};return()=>(d=c.setTimeout(h),()=>{d()})}const rD=(e,t,n,a,s,l)=>{var c=fZ(e,t);return n.isStepper===!0?xZ(e,t,n,c,s,l):gZ(e,t,n,a,c,s,l)};function vZ(e){var t,n=()=>null,a=!1,s=null,l=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class yZ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,l=c=>{c-a>=n?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{cancelAnimationFrame(s)}}}function bZ(){return vZ(new yZ)}var wZ=v.createContext(bZ);function aD(e,t){var n=v.useContext(wZ);return v.useMemo(()=>t??n(e),[e,t,n])}var jZ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W1.apply(null,arguments)}function NZ(e,t){if(e==null)return{};var n,a,s=SZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function SZ(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(a){$l(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $l(e,t,n){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=CZ(e,"string");return typeof t=="symbol"?t:t+""}function CZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Kj extends v.PureComponent{constructor(t,n){super(t,n),$l(this,"mounted",!1),$l(this,"manager",void 0),$l(this,"stopJSAnimation",null),$l(this,"unSubscribe",null);var{isActive:a,attributeName:s,from:l,to:c,children:d,duration:f,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||f<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:c});return}if(l){if(typeof d=="function"){this.state={style:l};return}this.state={style:s?{[s]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:a,attributeName:s,shouldReAnimate:l,to:c,from:d}=this.props,{style:f}=this.state;if(a){if(!n){var m={style:s?{[s]:c}:c};this.state&&f&&(s&&f[s]!==c||!s&&f!==c)&&this.setState(m);return}if(!(aZ(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=h||l?d:t.to;if(this.state&&f){var g={style:s?{[s]:x}:x};(s&&f[s]!==x||!s&&f!==x)&&this.setState(g)}this.runAnimation(Ei(Ei({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:a,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f}=t,m=rD(n,a,tD(l),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([f,c,h,s,d])}runAnimation(t){var{begin:n,duration:a,attributeName:s,to:l,easing:c,onAnimationStart:d,onAnimationEnd:f,children:m}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:l}:l,x=dZ(Object.keys(h),a,c);this.manager.start([d,n,Ei(Ei({},h),{},{transition:x}),a,f])}render(){var t=this.props,{children:n,begin:a,duration:s,attributeName:l,easing:c,isActive:d,from:f,to:m,canBegin:h,onAnimationEnd:x,shouldReAnimate:g,onAnimationReStart:b,animationManager:w}=t,j=NZ(t,jZ),S=v.Children.count(n),_=this.state.style;if(typeof n=="function")return n(_);if(!d||S===0||s<=0)return n;var C=k=>{var{style:O={},className:A}=k.props,T=v.cloneElement(k,Ei(Ei({},j),{},{style:Ei(Ei({},O),_),className:A}));return T};return S===1?C(v.Children.only(n)):v.createElement("div",null,v.Children.map(n,k=>C(k)))}}$l(Kj,"displayName","Animate");$l(Kj,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function M0(e){var t,n=aD((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return v.createElement(Kj,W1({},e,{animationManager:n}))}function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},D0.apply(null,arguments)}var Zk=(e,t,n,a,s)=>{var l=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],x=0,g=4;x<g;x++)h[x]=s[x]>l?l:s[x];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+n-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+c*h[1])),m+="L ".concat(e+n,",").concat(t+a-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-d*h[2],",").concat(t+a)),m+="L ".concat(e+d*h[3],",").concat(t+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+a-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var b=Math.min(l,s);m="M ".concat(e,",").concat(t+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+n-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+c*b,`
            L `).concat(e+n,",").concat(t+a-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-d*b,",").concat(t+a,`
            L `).concat(e+d*b,",").concat(t+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+a-c*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return m},kZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sD=e=>{var t=Yr(e,kZ),n=v.useRef(null),[a,s]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:x,animationDuration:g,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:j}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var S=ut("recharts-rectangle",h);return j?v.createElement(M0,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:x,isActive:j},_=>{var{width:C,height:k,x:O,y:A}=_;return v.createElement(M0,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:w,easing:x},v.createElement("path",D0({},Xt(t,!0),{className:S,d:Zk(O,A,C,k,m),ref:n})))}):v.createElement("path",D0({},Xt(t,!0),{className:S,d:Zk(l,c,d,f,m)}))};function iD(e){var{cx:t,cy:n,radius:a,startAngle:s,endAngle:l}=e,c=vn(t,n,a,s),d=vn(t,n,a,l);return{points:[c,d],cx:t,cy:n,radius:a,startAngle:s,endAngle:l}}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},X1.apply(null,arguments)}var AZ=(e,t)=>{var n=Dn(t-e),a=Math.min(Math.abs(t-e),359.999);return n*a},uh=e=>{var{cx:t,cy:n,radius:a,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+a,h=Math.asin(d/m)/T0,x=f?s:s+l*h,g=vn(t,n,m,x),b=vn(t,n,a,x),w=f?s-l*h:s,j=vn(t,n,m*Math.cos(h*T0),w);return{center:g,circleTangency:b,lineTangency:j,theta:h}},lD=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,d=AZ(l,c),f=l+d,m=vn(t,n,s,l),h=vn(t,n,s,f),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=vn(t,n,a,l),b=vn(t,n,a,f);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(g.x,",").concat(g.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},EZ=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=Dn(m-f),{circleTangency:x,lineTangency:g,theta:b}=uh({cx:t,cy:n,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:w,lineTangency:j,theta:S}=uh({cx:t,cy:n,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),_=d?Math.abs(f-m):Math.abs(f-m)-b-S;if(_<0)return c?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):lD({cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var{circleTangency:k,lineTangency:O,theta:A}=uh({cx:t,cy:n,radius:a,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:T,lineTangency:$,theta:M}=uh({cx:t,cy:n,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),U=d?Math.abs(f-m):Math.abs(f-m)-A-M;if(U<0&&l===0)return"".concat(C,"L").concat(t,",").concat(n,"Z");C+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else C+="L".concat(t,",").concat(n,"Z");return C},TZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Gj=e=>{var t=Yr(e,TZ),{cx:n,cy:a,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:x}=t;if(l<s||m===h)return null;var g=ut("recharts-sector",x),b=l-s,w=ur(c,b,0,!0),j;return w>0&&Math.abs(m-h)<360?j=EZ({cx:n,cy:a,innerRadius:s,outerRadius:l,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):j=lD({cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),v.createElement("path",X1({},Xt(t,!0),{className:g,d:j}))};function PZ(e,t,n){var a,s,l,c;if(e==="horizontal")a=t.x,l=a,s=n.top,c=n.top+n.height;else if(e==="vertical")s=t.y,c=s,a=n.left,l=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:h,angle:x}=t,g=vn(d,f,m,x),b=vn(d,f,h,x);a=g.x,s=g.y,l=b.x,c=b.y}else return iD(t);return[{x:a,y:s},{x:l,y:c}]}var Ky={},Gy={},Yy={},Qk;function OZ(){return Qk||(Qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dM();function n(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=n}(Yy)),Yy}var Jk;function MZ(){return Jk||(Jk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OZ();function n(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=n}(Gy)),Gy}var eA;function DZ(){return eA||(eA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM(),n=MZ();function a(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=n.toFinite(s),l===void 0?(l=s,s=0):l=n.toFinite(l),c=c===void 0?s<l?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=a}(Ky)),Ky}var Wy,tA;function RZ(){return tA||(tA=1,Wy=DZ().range),Wy}var LZ=RZ();const oD=$a(LZ);function Bi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $Z(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yj(e){let t,n,a;e.length!==2?(t=Bi,n=(d,f)=>Bi(e(d),f),a=(d,f)=>e(d)-f):(t=e===Bi||e===$Z?e:IZ,n=e,a=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;n(d[x],f)<0?m=x+1:h=x}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;n(d[x],f)<=0?m=x+1:h=x}while(m<h)}return m}function c(d,f,m=0,h=d.length){const x=s(d,f,m,h-1);return x>m&&a(d[x-1],f)>-a(d[x],f)?x-1:x}return{left:s,center:c,right:l}}function IZ(){return 0}function cD(e){return e===null?NaN:+e}function*zZ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const BZ=Yj(Bi),Nf=BZ.right;Yj(cD).center;class nA extends Map{constructor(t,n=VZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(rA(this,t))}has(t){return super.has(rA(this,t))}set(t,n){return super.set(UZ(this,t),n)}delete(t){return super.delete(FZ(this,t))}}function rA({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function UZ({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function FZ({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function VZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HZ(e=Bi){if(e===Bi)return uD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function uD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qZ=Math.sqrt(50),KZ=Math.sqrt(10),GZ=Math.sqrt(2);function R0(e,t,n){const a=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),l=a/Math.pow(10,s),c=l>=qZ?10:l>=KZ?5:l>=GZ?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=n&&n<2?R0(e,t,n*2):[d,f,m]}function Z1(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[s,l,c]=a?R0(t,e,n):R0(e,t,n);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(a)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function Q1(e,t,n){return t=+t,e=+e,n=+n,R0(e,t,n)[2]}function J1(e,t,n){t=+t,e=+e,n=+n;const a=t<e,s=a?Q1(t,e,n):Q1(e,t,n);return(a?-1:1)*(s<0?1/-s:s)}function aA(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function sA(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function dD(e,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(s=s===void 0?uD:HZ(s);a>n;){if(a-n>600){const f=a-n+1,m=t-n+1,h=Math.log(f),x=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*x*(f-x)/f)*(m-f/2<0?-1:1),b=Math.max(n,Math.floor(t-m*x/f+g)),w=Math.min(a,Math.floor(t+(f-m)*x/f+g));dD(e,t,b,w,s)}const l=e[t];let c=n,d=a;for(nd(e,n,t),s(e[a],l)>0&&nd(e,n,a);c<d;){for(nd(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[n],l)===0?nd(e,n,d):(++d,nd(e,d,a)),d<=t&&(n=d+1),t<=d&&(a=d-1)}return e}function nd(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function YZ(e,t,n){if(e=Float64Array.from(zZ(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return sA(e);if(t>=1)return aA(e);var a,s=(a-1)*t,l=Math.floor(s),c=aA(dD(e,l).subarray(0,l+1)),d=sA(e.subarray(l+1));return c+(d-c)*(s-l)}}function WZ(e,t,n=cD){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*t,l=Math.floor(s),c=+n(e[l],l,e),d=+n(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function XZ(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(s);++a<s;)l[a]=e+a*n;return l}function va(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ei(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ew=Symbol("implicit");function Wj(){var e=new nA,t=[],n=[],a=ew;function s(l){let c=e.get(l);if(c===void 0){if(a!==ew)return a;e.set(l,c=t.push(l)-1)}return n[c%n.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new nA;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(n=Array.from(l),s):n.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return Wj(t,n).unknown(a)},va.apply(s,arguments),s}function Xj(){var e=Wj().unknown(void 0),t=e.domain,n=e.range,a=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function x(){var g=t().length,b=s<a,w=b?s:a,j=b?a:s;l=(j-w)/Math.max(1,g-f+m*2),d&&(l=Math.floor(l)),w+=(j-w-l*(g-f))*h,c=l*(1-f),d&&(w=Math.round(w),c=Math.round(c));var S=XZ(g).map(function(_){return w+l*_});return n(b?S.reverse():S)}return e.domain=function(g){return arguments.length?(t(g),x()):t()},e.range=function(g){return arguments.length?([a,s]=g,a=+a,s=+s,x()):[a,s]},e.rangeRound=function(g){return[a,s]=g,a=+a,s=+s,d=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(g){return arguments.length?(d=!!g,x()):d},e.padding=function(g){return arguments.length?(f=Math.min(1,m=+g),x()):f},e.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),x()):f},e.paddingOuter=function(g){return arguments.length?(m=+g,x()):m},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),x()):h},e.copy=function(){return Xj(t(),[a,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},va.apply(x(),arguments)}function fD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fD(t())},e}function ZZ(){return fD(Xj.apply(null,arguments).paddingInner(1))}function Zj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function mD(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Sf(){}var tf=.7,L0=1/tf,fc="\\s*([+-]?\\d+)\\s*",nf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QZ=/^#([0-9a-f]{3,8})$/,JZ=new RegExp(`^rgb\\(${fc},${fc},${fc}\\)$`),eQ=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),tQ=new RegExp(`^rgba\\(${fc},${fc},${fc},${nf}\\)$`),nQ=new RegExp(`^rgba\\(${as},${as},${as},${nf}\\)$`),rQ=new RegExp(`^hsl\\(${nf},${as},${as}\\)$`),aQ=new RegExp(`^hsla\\(${nf},${as},${as},${nf}\\)$`),iA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zj(Sf,rf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lA,formatHex:lA,formatHex8:sQ,formatHsl:iQ,formatRgb:oA,toString:oA});function lA(){return this.rgb().formatHex()}function sQ(){return this.rgb().formatHex8()}function iQ(){return hD(this).formatHsl()}function oA(){return this.rgb().formatRgb()}function rf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=QZ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?cA(t):n===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=JZ.exec(e))?new Sr(t[1],t[2],t[3],1):(t=eQ.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tQ.exec(e))?dh(t[1],t[2],t[3],t[4]):(t=nQ.exec(e))?dh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rQ.exec(e))?fA(t[1],t[2]/100,t[3]/100,1):(t=aQ.exec(e))?fA(t[1],t[2]/100,t[3]/100,t[4]):iA.hasOwnProperty(e)?cA(iA[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function cA(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function dh(e,t,n,a){return a<=0&&(e=t=n=NaN),new Sr(e,t,n,a)}function lQ(e){return e instanceof Sf||(e=rf(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function tw(e,t,n,a){return arguments.length===1?lQ(e):new Sr(e,t,n,a??1)}function Sr(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}Zj(Sr,tw,mD(Sf,{brighter(e){return e=e==null?L0:Math.pow(L0,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tf:Math.pow(tf,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(ql(this.r),ql(this.g),ql(this.b),$0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uA,formatHex:uA,formatHex8:oQ,formatRgb:dA,toString:dA}));function uA(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}`}function oQ(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}${Il((isNaN(this.opacity)?1:this.opacity)*255)}`}function dA(){const e=$0(this.opacity);return`${e===1?"rgb(":"rgba("}${ql(this.r)}, ${ql(this.g)}, ${ql(this.b)}${e===1?")":`, ${e})`}`}function $0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ql(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Il(e){return e=ql(e),(e<16?"0":"")+e.toString(16)}function fA(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pa(e,t,n,a)}function hD(e){if(e instanceof Pa)return new Pa(e.h,e.s,e.l,e.opacity);if(e instanceof Sf||(e=rf(e)),!e)return new Pa;if(e instanceof Pa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(t,n,a),l=Math.max(t,n,a),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(n-a)/d+(n<a)*6:n===l?c=(a-t)/d+2:c=(t-n)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new Pa(c,d,f,e.opacity)}function cQ(e,t,n,a){return arguments.length===1?hD(e):new Pa(e,t,n,a??1)}function Pa(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}Zj(Pa,cQ,mD(Sf,{brighter(e){return e=e==null?L0:Math.pow(L0,e),new Pa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tf:Math.pow(tf,e),new Pa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new Sr(Xy(e>=240?e-240:e+120,s,a),Xy(e,s,a),Xy(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Pa(mA(this.h),fh(this.s),fh(this.l),$0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$0(this.opacity);return`${e===1?"hsl(":"hsla("}${mA(this.h)}, ${fh(this.s)*100}%, ${fh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mA(e){return e=(e||0)%360,e<0?e+360:e}function fh(e){return Math.max(0,Math.min(1,e||0))}function Xy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Qj=e=>()=>e;function uQ(e,t){return function(n){return e+n*t}}function dQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function fQ(e){return(e=+e)==1?pD:function(t,n){return n-t?dQ(t,n,e):Qj(isNaN(t)?n:t)}}function pD(e,t){var n=t-e;return n?uQ(e,n):Qj(isNaN(e)?t:e)}const hA=function e(t){var n=fQ(t);function a(s,l){var c=n((s=tw(s)).r,(l=tw(l)).r),d=n(s.g,l.g),f=n(s.b,l.b),m=pD(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return a.gamma=e,a}(1);function mQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(l){for(s=0;s<n;++s)a[s]=e[s]*(1-l)+t[s]*l;return a}}function hQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pQ(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),l=new Array(n),c;for(c=0;c<a;++c)s[c]=Hc(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(d){for(c=0;c<a;++c)l[c]=s[c](d);return l}}function xQ(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function I0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gQ(e,t){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Hc(e[s],t[s]):a[s]=t[s];return function(l){for(s in n)a[s]=n[s](l);return a}}var nw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zy=new RegExp(nw.source,"g");function vQ(e){return function(){return e}}function yQ(e){return function(t){return e(t)+""}}function bQ(e,t){var n=nw.lastIndex=Zy.lastIndex=0,a,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(a=nw.exec(e))&&(s=Zy.exec(t));)(l=s.index)>n&&(l=t.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(a=a[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:I0(a,s)})),n=Zy.lastIndex;return n<t.length&&(l=t.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?yQ(f[0].x):vQ(t):(t=f.length,function(m){for(var h=0,x;h<t;++h)d[(x=f[h]).i]=x.x(m);return d.join("")})}function Hc(e,t){var n=typeof t,a;return t==null||n==="boolean"?Qj(t):(n==="number"?I0:n==="string"?(a=rf(t))?(t=a,hA):bQ:t instanceof rf?hA:t instanceof Date?xQ:hQ(t)?mQ:Array.isArray(t)?pQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gQ:I0)(e,t)}function Jj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function wQ(e,t){t===void 0&&(t=e,e=Hc);for(var n=0,a=t.length-1,s=t[0],l=new Array(a<0?0:a);n<a;)l[n]=e(s,s=t[++n]);return function(c){var d=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return l[d](c-d)}}function jQ(e){return function(){return e}}function z0(e){return+e}var pA=[0,1];function or(e){return e}function rw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jQ(isNaN(t)?NaN:.5)}function NQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function SQ(e,t,n){var a=e[0],s=e[1],l=t[0],c=t[1];return s<a?(a=rw(s,a),l=n(c,l)):(a=rw(a,s),l=n(l,c)),function(d){return l(a(d))}}function _Q(e,t,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),l=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=rw(e[c],e[c+1]),l[c]=n(t[c],t[c+1]);return function(d){var f=Nf(e,d,1,a)-1;return l[f](s[f](d))}}function _f(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mp(){var e=pA,t=pA,n=Hc,a,s,l,c=or,d,f,m;function h(){var g=Math.min(e.length,t.length);return c!==or&&(c=NQ(e[0],e[g-1])),d=g>2?_Q:SQ,f=m=null,x}function x(g){return g==null||isNaN(g=+g)?l:(f||(f=d(e.map(a),t,n)))(a(c(g)))}return x.invert=function(g){return c(s((m||(m=d(t,e.map(a),I0)))(g)))},x.domain=function(g){return arguments.length?(e=Array.from(g,z0),h()):e.slice()},x.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},x.rangeRound=function(g){return t=Array.from(g),n=Jj,h()},x.clamp=function(g){return arguments.length?(c=g?!0:or,h()):c!==or},x.interpolate=function(g){return arguments.length?(n=g,h()):n},x.unknown=function(g){return arguments.length?(l=g,x):l},function(g,b){return a=g,s=b,h()}}function e2(){return Mp()(or,or)}function CQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function B0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function Cc(e){return e=B0(Math.abs(e)),e?e[1]:NaN}function kQ(e,t){return function(n,a){for(var s=n.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>a&&(d=Math.max(1,a-f)),l.push(n.substring(s-=d,s+d)),!((f+=d+1)>a));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function AQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var EQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function af(e){if(!(t=EQ.exec(e)))throw new Error("invalid format: "+e);var t;return new t2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}af.prototype=t2.prototype;function t2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}t2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TQ(e){e:for(var t=e.length,n=1,a=-1,s;n<t;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var xD;function PQ(e,t){var n=B0(e,t);if(!n)return e+"";var a=n[0],s=n[1],l=s-(xD=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return l===c?a:l>c?a+new Array(l-c+1).join("0"):l>0?a.slice(0,l)+"."+a.slice(l):"0."+new Array(1-l).join("0")+B0(e,Math.max(0,t+l-1))[0]}function xA(e,t){var n=B0(e,t);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const gA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xA(e*100,t),r:xA,s:PQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vA(e){return e}var yA=Array.prototype.map,bA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OQ(e){var t=e.grouping===void 0||e.thousands===void 0?vA:kQ(yA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?vA:AQ(yA.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x){x=af(x);var g=x.fill,b=x.align,w=x.sign,j=x.symbol,S=x.zero,_=x.width,C=x.comma,k=x.precision,O=x.trim,A=x.type;A==="n"?(C=!0,A="g"):gA[A]||(k===void 0&&(k=12),O=!0,A="g"),(S||g==="0"&&b==="=")&&(S=!0,g="0",b="=");var T=j==="$"?n:j==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",$=j==="$"?a:/[%p]/.test(A)?c:"",M=gA[A],U=/[defgprs%]/.test(A);k=k===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function K(F){var B=T,ne=$,Ne,se,D;if(A==="c")ne=M(F)+ne,F="";else{F=+F;var G=F<0||1/F<0;if(F=isNaN(F)?f:M(Math.abs(F),k),O&&(F=TQ(F)),G&&+F==0&&w!=="+"&&(G=!1),B=(G?w==="("?w:d:w==="-"||w==="("?"":w)+B,ne=(A==="s"?bA[8+xD/3]:"")+ne+(G&&w==="("?")":""),U){for(Ne=-1,se=F.length;++Ne<se;)if(D=F.charCodeAt(Ne),48>D||D>57){ne=(D===46?s+F.slice(Ne+1):F.slice(Ne))+ne,F=F.slice(0,Ne);break}}}C&&!S&&(F=t(F,1/0));var V=B.length+F.length+ne.length,z=V<_?new Array(_-V+1).join(g):"";switch(C&&S&&(F=t(z+F,z.length?_-ne.length:1/0),z=""),b){case"<":F=B+F+ne+z;break;case"=":F=B+z+F+ne;break;case"^":F=z.slice(0,V=z.length>>1)+B+F+ne+z.slice(V);break;default:F=z+B+F+ne;break}return l(F)}return K.toString=function(){return x+""},K}function h(x,g){var b=m((x=af(x),x.type="f",x)),w=Math.max(-8,Math.min(8,Math.floor(Cc(g)/3)))*3,j=Math.pow(10,-w),S=bA[8+w/3];return function(_){return b(j*_)+S}}return{format:m,formatPrefix:h}}var mh,n2,gD;MQ({thousands:",",grouping:[3],currency:["$",""]});function MQ(e){return mh=OQ(e),n2=mh.format,gD=mh.formatPrefix,mh}function DQ(e){return Math.max(0,-Cc(Math.abs(e)))}function RQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cc(t)/3)))*3-Cc(Math.abs(e)))}function LQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cc(t)-Cc(e))+1}function vD(e,t,n,a){var s=J1(e,t,n),l;switch(a=af(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(l=RQ(s,c))&&(a.precision=l),gD(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(l=LQ(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=l-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(l=DQ(s))&&(a.precision=l-(a.type==="%")*2);break}}return n2(a)}function Zi(e){var t=e.domain;return e.ticks=function(n){var a=t();return Z1(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=t();return vD(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),s=0,l=a.length-1,c=a[s],d=a[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=Q1(c,d,n),m===f)return a[s]=c,a[l]=d,t(a);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function yD(){var e=e2();return e.copy=function(){return _f(e,yD())},va.apply(e,arguments),Zi(e)}function bD(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,z0),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return bD(e).unknown(t)},e=arguments.length?Array.from(e,z0):[0,1],Zi(n)}function wD(e,t){e=e.slice();var n=0,a=e.length-1,s=e[n],l=e[a],c;return l<s&&(c=n,n=a,a=c,c=s,s=l,l=c),e[n]=t.floor(s),e[a]=t.ceil(l),e}function wA(e){return Math.log(e)}function jA(e){return Math.exp(e)}function $Q(e){return-Math.log(-e)}function IQ(e){return-Math.exp(-e)}function zQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function BQ(e){return e===10?zQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function UQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NA(e){return(t,n)=>-e(-t,n)}function r2(e){const t=e(wA,jA),n=t.domain;let a=10,s,l;function c(){return s=UQ(a),l=BQ(a),n()[0]<0?(s=NA(s),l=NA(l),e($Q,IQ)):e(wA,jA),t}return t.base=function(d){return arguments.length?(a=+d,c()):a},t.domain=function(d){return arguments.length?(n(d),c()):n()},t.ticks=d=>{const f=n();let m=f[0],h=f[f.length-1];const x=h<m;x&&([m,h]=[h,m]);let g=s(m),b=s(h),w,j;const S=d==null?10:+d;let _=[];if(!(a%1)&&b-g<S){if(g=Math.floor(g),b=Math.ceil(b),m>0){for(;g<=b;++g)for(w=1;w<a;++w)if(j=g<0?w/l(-g):w*l(g),!(j<m)){if(j>h)break;_.push(j)}}else for(;g<=b;++g)for(w=a-1;w>=1;--w)if(j=g>0?w/l(-g):w*l(g),!(j<m)){if(j>h)break;_.push(j)}_.length*2<S&&(_=Z1(m,h,S))}else _=Z1(g,b,Math.min(b-g,S)).map(l);return x?_.reverse():_},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=a===10?"s":","),typeof f!="function"&&(!(a%1)&&(f=af(f)).precision==null&&(f.trim=!0),f=n2(f)),d===1/0)return f;const m=Math.max(1,a*d/t.ticks().length);return h=>{let x=h/l(Math.round(s(h)));return x*a<a-.5&&(x*=a),x<=m?f(h):""}},t.nice=()=>n(wD(n(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function jD(){const e=r2(Mp()).domain([1,10]);return e.copy=()=>_f(e,jD()).base(e.base()),va.apply(e,arguments),e}function SA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _A(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function a2(e){var t=1,n=e(SA(t),_A(t));return n.constant=function(a){return arguments.length?e(SA(t=+a),_A(t)):t},Zi(n)}function ND(){var e=a2(Mp());return e.copy=function(){return _f(e,ND()).constant(e.constant())},va.apply(e,arguments)}function CA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function FQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VQ(e){return e<0?-e*e:e*e}function s2(e){var t=e(or,or),n=1;function a(){return n===1?e(or,or):n===.5?e(FQ,VQ):e(CA(n),CA(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},Zi(t)}function i2(){var e=s2(Mp());return e.copy=function(){return _f(e,i2()).exponent(e.exponent())},va.apply(e,arguments),e}function HQ(){return i2.apply(null,arguments).exponent(.5)}function kA(e){return Math.sign(e)*e*e}function qQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function SD(){var e=e2(),t=[0,1],n=!1,a;function s(l){var c=qQ(e(l));return isNaN(c)?a:n?Math.round(c):c}return s.invert=function(l){return e.invert(kA(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,z0)).map(kA)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(n=!!l,s):n},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return SD(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},va.apply(s,arguments),Zi(s)}function _D(){var e=[],t=[],n=[],a;function s(){var c=0,d=Math.max(1,t.length);for(n=new Array(d-1);++c<d;)n[c-1]=WZ(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?a:t[Nf(n,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Bi),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(a=c,l):a},l.quantiles=function(){return n.slice()},l.copy=function(){return _D().domain(e).range(t).unknown(a)},va.apply(l,arguments)}function CD(){var e=0,t=1,n=1,a=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[Nf(a,f,0,n)]:l}function d(){var f=-1;for(a=new Array(n);++f<n;)a[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=n?[a[n-1],t]:[a[m-1],a[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return a.slice()},c.copy=function(){return CD().domain([e,t]).range(s).unknown(l)},va.apply(Zi(c),arguments)}function kD(){var e=[.5],t=[0,1],n,a=1;function s(l){return l!=null&&l<=l?t[Nf(e,l,0,a)]:n}return s.domain=function(l){return arguments.length?(e=Array.from(l),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(n=l,s):n},s.copy=function(){return kD().domain(e).range(t).unknown(n)},va.apply(s,arguments)}const Qy=new Date,Jy=new Date;function _n(e,t,n,a){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>_n(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),n&&(s.count=(l,c)=>(Qy.setTime(+l),Jy.setTime(+c),e(Qy),e(Jy),Math.floor(n(Qy,Jy))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(a?c=>a(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const U0=_n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);U0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_n(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):U0);U0.range;const Os=1e3,da=Os*60,Ms=da*60,Gs=Ms*24,l2=Gs*7,AA=Gs*30,eb=Gs*365,zl=_n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCSeconds());zl.range;const o2=_n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Os)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getMinutes());o2.range;const c2=_n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCMinutes());c2.range;const u2=_n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Os-e.getMinutes()*da)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getHours());u2.range;const d2=_n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getUTCHours());d2.range;const Cf=_n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*da)/Gs,e=>e.getDate()-1);Cf.range;const Dp=_n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gs,e=>e.getUTCDate()-1);Dp.range;const AD=_n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gs,e=>Math.floor(e/Gs));AD.range;function to(e){return _n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*da)/l2)}const Rp=to(0),F0=to(1),KQ=to(2),GQ=to(3),kc=to(4),YQ=to(5),WQ=to(6);Rp.range;F0.range;KQ.range;GQ.range;kc.range;YQ.range;WQ.range;function no(e){return _n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/l2)}const Lp=no(0),V0=no(1),XQ=no(2),ZQ=no(3),Ac=no(4),QQ=no(5),JQ=no(6);Lp.range;V0.range;XQ.range;ZQ.range;Ac.range;QQ.range;JQ.range;const f2=_n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());f2.range;const m2=_n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());m2.range;const Ys=_n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ys.range;const Ws=_n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ws.range;function ED(e,t,n,a,s,l){const c=[[zl,1,Os],[zl,5,5*Os],[zl,15,15*Os],[zl,30,30*Os],[l,1,da],[l,5,5*da],[l,15,15*da],[l,30,30*da],[s,1,Ms],[s,3,3*Ms],[s,6,6*Ms],[s,12,12*Ms],[a,1,Gs],[a,2,2*Gs],[n,1,l2],[t,1,AA],[t,3,3*AA],[e,1,eb]];function d(m,h,x){const g=h<m;g&&([m,h]=[h,m]);const b=x&&typeof x.range=="function"?x:f(m,h,x),w=b?b.range(m,+h+1):[];return g?w.reverse():w}function f(m,h,x){const g=Math.abs(h-m)/x,b=Yj(([,,S])=>S).right(c,g);if(b===c.length)return e.every(J1(m/eb,h/eb,x));if(b===0)return U0.every(Math.max(J1(m,h,x),1));const[w,j]=c[g/c[b-1][2]<c[b][2]/g?b-1:b];return w.every(j)}return[d,f]}const[eJ,tJ]=ED(Ws,m2,Lp,AD,d2,c2),[nJ,rJ]=ED(Ys,f2,Rp,Cf,u2,o2);function tb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function aJ(e){var t=e.dateTime,n=e.date,a=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=ad(s),h=sd(s),x=ad(l),g=sd(l),b=ad(c),w=sd(c),j=ad(d),S=sd(d),_=ad(f),C=sd(f),k={a:G,A:V,b:z,B:E,c:null,d:DA,e:DA,f:kJ,g:$J,G:zJ,H:SJ,I:_J,j:CJ,L:TD,m:AJ,M:EJ,p:R,q:L,Q:$A,s:IA,S:TJ,u:PJ,U:OJ,V:MJ,w:DJ,W:RJ,x:null,X:null,y:LJ,Y:IJ,Z:BJ,"%":LA},O={a:Y,A:ce,b:Q,B:H,c:null,d:RA,e:RA,f:HJ,g:eee,G:nee,H:UJ,I:FJ,j:VJ,L:OD,m:qJ,M:KJ,p:ge,q:te,Q:$A,s:IA,S:GJ,u:YJ,U:WJ,V:XJ,w:ZJ,W:QJ,x:null,X:null,y:JJ,Y:tee,Z:ree,"%":LA},A={a:K,A:F,b:B,B:ne,c:Ne,d:OA,e:OA,f:bJ,g:PA,G:TA,H:MA,I:MA,j:xJ,L:yJ,m:pJ,M:gJ,p:U,q:hJ,Q:jJ,s:NJ,S:vJ,u:cJ,U:uJ,V:dJ,w:oJ,W:fJ,x:se,X:D,y:PA,Y:TA,Z:mJ,"%":wJ};k.x=T(n,k),k.X=T(a,k),k.c=T(t,k),O.x=T(n,O),O.X=T(a,O),O.c=T(t,O);function T(he,Se){return function(be){var ue=[],$e=-1,ze=0,et=he.length,W,oe,X;for(be instanceof Date||(be=new Date(+be));++$e<et;)he.charCodeAt($e)===37&&(ue.push(he.slice(ze,$e)),(oe=EA[W=he.charAt(++$e)])!=null?W=he.charAt(++$e):oe=W==="e"?" ":"0",(X=Se[W])&&(W=X(be,oe)),ue.push(W),ze=$e+1);return ue.push(he.slice(ze,$e)),ue.join("")}}function $(he,Se){return function(be){var ue=rd(1900,void 0,1),$e=M(ue,he,be+="",0),ze,et;if($e!=be.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Se&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(ze=nb(rd(ue.y,0,1)),et=ze.getUTCDay(),ze=et>4||et===0?V0.ceil(ze):V0(ze),ze=Dp.offset(ze,(ue.V-1)*7),ue.y=ze.getUTCFullYear(),ue.m=ze.getUTCMonth(),ue.d=ze.getUTCDate()+(ue.w+6)%7):(ze=tb(rd(ue.y,0,1)),et=ze.getDay(),ze=et>4||et===0?F0.ceil(ze):F0(ze),ze=Cf.offset(ze,(ue.V-1)*7),ue.y=ze.getFullYear(),ue.m=ze.getMonth(),ue.d=ze.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),et="Z"in ue?nb(rd(ue.y,0,1)).getUTCDay():tb(rd(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(et+5)%7:ue.w+ue.U*7-(et+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,nb(ue)):tb(ue)}}function M(he,Se,be,ue){for(var $e=0,ze=Se.length,et=be.length,W,oe;$e<ze;){if(ue>=et)return-1;if(W=Se.charCodeAt($e++),W===37){if(W=Se.charAt($e++),oe=A[W in EA?Se.charAt($e++):W],!oe||(ue=oe(he,be,ue))<0)return-1}else if(W!=be.charCodeAt(ue++))return-1}return ue}function U(he,Se,be){var ue=m.exec(Se.slice(be));return ue?(he.p=h.get(ue[0].toLowerCase()),be+ue[0].length):-1}function K(he,Se,be){var ue=b.exec(Se.slice(be));return ue?(he.w=w.get(ue[0].toLowerCase()),be+ue[0].length):-1}function F(he,Se,be){var ue=x.exec(Se.slice(be));return ue?(he.w=g.get(ue[0].toLowerCase()),be+ue[0].length):-1}function B(he,Se,be){var ue=_.exec(Se.slice(be));return ue?(he.m=C.get(ue[0].toLowerCase()),be+ue[0].length):-1}function ne(he,Se,be){var ue=j.exec(Se.slice(be));return ue?(he.m=S.get(ue[0].toLowerCase()),be+ue[0].length):-1}function Ne(he,Se,be){return M(he,t,Se,be)}function se(he,Se,be){return M(he,n,Se,be)}function D(he,Se,be){return M(he,a,Se,be)}function G(he){return c[he.getDay()]}function V(he){return l[he.getDay()]}function z(he){return f[he.getMonth()]}function E(he){return d[he.getMonth()]}function R(he){return s[+(he.getHours()>=12)]}function L(he){return 1+~~(he.getMonth()/3)}function Y(he){return c[he.getUTCDay()]}function ce(he){return l[he.getUTCDay()]}function Q(he){return f[he.getUTCMonth()]}function H(he){return d[he.getUTCMonth()]}function ge(he){return s[+(he.getUTCHours()>=12)]}function te(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Se=T(he+="",k);return Se.toString=function(){return he},Se},parse:function(he){var Se=$(he+="",!1);return Se.toString=function(){return he},Se},utcFormat:function(he){var Se=T(he+="",O);return Se.toString=function(){return he},Se},utcParse:function(he){var Se=$(he+="",!0);return Se.toString=function(){return he},Se}}}var EA={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,sJ=/^%/,iJ=/[\\^$*+?|[\]().{}]/g;function jt(e,t,n){var a=e<0?"-":"",s=(a?-e:e)+"",l=s.length;return a+(l<n?new Array(n-l+1).join(t)+s:s)}function lJ(e){return e.replace(iJ,"\\$&")}function ad(e){return new RegExp("^(?:"+e.map(lJ).join("|")+")","i")}function sd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function oJ(e,t,n){var a=Rn.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function cJ(e,t,n){var a=Rn.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function uJ(e,t,n){var a=Rn.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function dJ(e,t,n){var a=Rn.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function fJ(e,t,n){var a=Rn.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function TA(e,t,n){var a=Rn.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function PA(e,t,n){var a=Rn.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function mJ(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function hJ(e,t,n){var a=Rn.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function pJ(e,t,n){var a=Rn.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function OA(e,t,n){var a=Rn.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function xJ(e,t,n){var a=Rn.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function MA(e,t,n){var a=Rn.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function gJ(e,t,n){var a=Rn.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function vJ(e,t,n){var a=Rn.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function yJ(e,t,n){var a=Rn.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function bJ(e,t,n){var a=Rn.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function wJ(e,t,n){var a=sJ.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function jJ(e,t,n){var a=Rn.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function NJ(e,t,n){var a=Rn.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function DA(e,t){return jt(e.getDate(),t,2)}function SJ(e,t){return jt(e.getHours(),t,2)}function _J(e,t){return jt(e.getHours()%12||12,t,2)}function CJ(e,t){return jt(1+Cf.count(Ys(e),e),t,3)}function TD(e,t){return jt(e.getMilliseconds(),t,3)}function kJ(e,t){return TD(e,t)+"000"}function AJ(e,t){return jt(e.getMonth()+1,t,2)}function EJ(e,t){return jt(e.getMinutes(),t,2)}function TJ(e,t){return jt(e.getSeconds(),t,2)}function PJ(e){var t=e.getDay();return t===0?7:t}function OJ(e,t){return jt(Rp.count(Ys(e)-1,e),t,2)}function PD(e){var t=e.getDay();return t>=4||t===0?kc(e):kc.ceil(e)}function MJ(e,t){return e=PD(e),jt(kc.count(Ys(e),e)+(Ys(e).getDay()===4),t,2)}function DJ(e){return e.getDay()}function RJ(e,t){return jt(F0.count(Ys(e)-1,e),t,2)}function LJ(e,t){return jt(e.getFullYear()%100,t,2)}function $J(e,t){return e=PD(e),jt(e.getFullYear()%100,t,2)}function IJ(e,t){return jt(e.getFullYear()%1e4,t,4)}function zJ(e,t){var n=e.getDay();return e=n>=4||n===0?kc(e):kc.ceil(e),jt(e.getFullYear()%1e4,t,4)}function BJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jt(t/60|0,"0",2)+jt(t%60,"0",2)}function RA(e,t){return jt(e.getUTCDate(),t,2)}function UJ(e,t){return jt(e.getUTCHours(),t,2)}function FJ(e,t){return jt(e.getUTCHours()%12||12,t,2)}function VJ(e,t){return jt(1+Dp.count(Ws(e),e),t,3)}function OD(e,t){return jt(e.getUTCMilliseconds(),t,3)}function HJ(e,t){return OD(e,t)+"000"}function qJ(e,t){return jt(e.getUTCMonth()+1,t,2)}function KJ(e,t){return jt(e.getUTCMinutes(),t,2)}function GJ(e,t){return jt(e.getUTCSeconds(),t,2)}function YJ(e){var t=e.getUTCDay();return t===0?7:t}function WJ(e,t){return jt(Lp.count(Ws(e)-1,e),t,2)}function MD(e){var t=e.getUTCDay();return t>=4||t===0?Ac(e):Ac.ceil(e)}function XJ(e,t){return e=MD(e),jt(Ac.count(Ws(e),e)+(Ws(e).getUTCDay()===4),t,2)}function ZJ(e){return e.getUTCDay()}function QJ(e,t){return jt(V0.count(Ws(e)-1,e),t,2)}function JJ(e,t){return jt(e.getUTCFullYear()%100,t,2)}function eee(e,t){return e=MD(e),jt(e.getUTCFullYear()%100,t,2)}function tee(e,t){return jt(e.getUTCFullYear()%1e4,t,4)}function nee(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ac(e):Ac.ceil(e),jt(e.getUTCFullYear()%1e4,t,4)}function ree(){return"+0000"}function LA(){return"%"}function $A(e){return+e}function IA(e){return Math.floor(+e/1e3)}var Fo,DD,RD;aee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aee(e){return Fo=aJ(e),DD=Fo.format,Fo.parse,RD=Fo.utcFormat,Fo.utcParse,Fo}function see(e){return new Date(e)}function iee(e){return e instanceof Date?+e:+new Date(+e)}function h2(e,t,n,a,s,l,c,d,f,m){var h=e2(),x=h.invert,g=h.domain,b=m(".%L"),w=m(":%S"),j=m("%I:%M"),S=m("%I %p"),_=m("%a %d"),C=m("%b %d"),k=m("%B"),O=m("%Y");function A(T){return(f(T)<T?b:d(T)<T?w:c(T)<T?j:l(T)<T?S:a(T)<T?s(T)<T?_:C:n(T)<T?k:O)(T)}return h.invert=function(T){return new Date(x(T))},h.domain=function(T){return arguments.length?g(Array.from(T,iee)):g().map(see)},h.ticks=function(T){var $=g();return e($[0],$[$.length-1],T??10)},h.tickFormat=function(T,$){return $==null?A:m($)},h.nice=function(T){var $=g();return(!T||typeof T.range!="function")&&(T=t($[0],$[$.length-1],T??10)),T?g(wD($,T)):h},h.copy=function(){return _f(h,h2(e,t,n,a,s,l,c,d,f,m))},h}function lee(){return va.apply(h2(nJ,rJ,Ys,f2,Rp,Cf,u2,o2,zl,DD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oee(){return va.apply(h2(eJ,tJ,Ws,m2,Lp,Dp,d2,c2,zl,RD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $p(){var e=0,t=1,n,a,s,l,c=or,d=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(s===0?.5:(x=(l(x)-n)*s,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,n=l(e=+e),a=l(t=+t),s=n===a?0:1/(a-n),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(c=x,m):c};function h(x){return function(g){var b,w;return arguments.length?([b,w]=g,c=x(b,w),m):[c(0),c(1)]}}return m.range=h(Hc),m.rangeRound=h(Jj),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,n=x(e),a=x(t),s=n===a?0:1/(a-n),m}}function Qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LD(){var e=Zi($p()(or));return e.copy=function(){return Qi(e,LD())},ei.apply(e,arguments)}function $D(){var e=r2($p()).domain([1,10]);return e.copy=function(){return Qi(e,$D()).base(e.base())},ei.apply(e,arguments)}function ID(){var e=a2($p());return e.copy=function(){return Qi(e,ID()).constant(e.constant())},ei.apply(e,arguments)}function p2(){var e=s2($p());return e.copy=function(){return Qi(e,p2()).exponent(e.exponent())},ei.apply(e,arguments)}function cee(){return p2.apply(null,arguments).exponent(.5)}function zD(){var e=[],t=or;function n(a){if(a!=null&&!isNaN(a=+a))return t((Nf(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Bi),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,l)=>YZ(e,l/a))},n.copy=function(){return zD(t).domain(e)},ei.apply(n,arguments)}function Ip(){var e=0,t=.5,n=1,a=1,s,l,c,d,f,m=or,h,x=!1,g;function b(j){return isNaN(j=+j)?g:(j=.5+((j=+h(j))-l)*(a*j<a*l?d:f),m(x?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([e,t,n]=j,s=h(e=+e),l=h(t=+t),c=h(n=+n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,b):[e,t,n]},b.clamp=function(j){return arguments.length?(x=!!j,b):x},b.interpolator=function(j){return arguments.length?(m=j,b):m};function w(j){return function(S){var _,C,k;return arguments.length?([_,C,k]=S,m=wQ(j,[_,C,k]),b):[m(0),m(.5),m(1)]}}return b.range=w(Hc),b.rangeRound=w(Jj),b.unknown=function(j){return arguments.length?(g=j,b):g},function(j){return h=j,s=j(e),l=j(t),c=j(n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,b}}function BD(){var e=Zi(Ip()(or));return e.copy=function(){return Qi(e,BD())},ei.apply(e,arguments)}function UD(){var e=r2(Ip()).domain([.1,1,10]);return e.copy=function(){return Qi(e,UD()).base(e.base())},ei.apply(e,arguments)}function FD(){var e=a2(Ip());return e.copy=function(){return Qi(e,FD()).constant(e.constant())},ei.apply(e,arguments)}function x2(){var e=s2(Ip());return e.copy=function(){return Qi(e,x2()).exponent(e.exponent())},ei.apply(e,arguments)}function uee(){return x2.apply(null,arguments).exponent(.5)}const jd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xj,scaleDiverging:BD,scaleDivergingLog:UD,scaleDivergingPow:x2,scaleDivergingSqrt:uee,scaleDivergingSymlog:FD,scaleIdentity:bD,scaleImplicit:ew,scaleLinear:yD,scaleLog:jD,scaleOrdinal:Wj,scalePoint:ZZ,scalePow:i2,scaleQuantile:_D,scaleQuantize:CD,scaleRadial:SD,scaleSequential:LD,scaleSequentialLog:$D,scaleSequentialPow:p2,scaleSequentialQuantile:zD,scaleSequentialSqrt:cee,scaleSequentialSymlog:ID,scaleSqrt:HQ,scaleSymlog:ND,scaleThreshold:kD,scaleTime:lee,scaleUtc:oee,tickFormat:vD},Symbol.toStringTag,{value:"Module"}));var Ji=e=>e.chartData,g2=ye([Ji],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),zp=(e,t,n,a)=>a?g2(e):Ji(e);function Ec(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Kr(t)&&Kr(n))return!0}return!1}function zA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function dee(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,a]=e,s,l;if(Kr(n))s=n;else if(typeof n=="function")return;if(Kr(a))l=a;else if(typeof a=="function")return;var c=[s,l];if(Ec(c))return c}}function fee(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,n);if(Ec(a))return zA(a,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Be(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&Ak.test(s)){var f=Ak.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t==null?void 0:t[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(Be(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&Ek.test(l)){var h=Ek.exec(l);if(h==null||t==null)d=void 0;else{var x=+h[1];d=t[1]+x}}else d=t==null?void 0:t[1];var g=[c,d];if(Ec(g))return t==null?g:zA(g,t,n)}}}var qc=1e9,mee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},y2,Zt=!0,xa="[DecimalError] ",Kl=xa+"Invalid argument: ",v2=xa+"Exponent out of range: ",Kc=Math.floor,El=Math.pow,hee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ur,On=1e7,Ht=7,VD=9007199254740991,H0=Kc(VD/Ht),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,n,a,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(a=l.d.length,s=e.d.length,t=0,n=a<s?a:s;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return a===s?0:a>s^l.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ht;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ue.dividedBy=Ue.div=function(e){return $s(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,n=t.constructor;return It($s(t,new n(e),0,1),n.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return yn(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,n=this,a=n.constructor,s=a.precision,l=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Ur))throw Error(xa+"NaN");if(n.s<1)throw Error(xa+(n.s?"NaN":"-Infinity"));return n.eq(Ur)?new a(0):(Zt=!1,t=$s(sf(n,l),sf(e,l),l),Zt=!0,It(t,s))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KD(t,e):HD(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(xa+"NaN");return n.s?(Zt=!1,t=$s(n,e,0,1).times(e),Zt=!0,n.minus(t)):It(new a(n),s)};Ue.naturalExponential=Ue.exp=function(){return qD(this)};Ue.naturalLogarithm=Ue.ln=function(){return sf(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HD(t,e):KD(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kl+e);if(t=yn(s)+1,a=s.d.length-1,n=a*Ht+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};Ue.squareRoot=Ue.sqrt=function(){var e,t,n,a,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(xa+"NaN")}for(e=yn(d),Zt=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=es(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Kc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new f(t)):a=new f(s.toString()),n=f.precision,s=c=n+3;;)if(l=a,a=l.plus($s(d,l,c+2)).times(.5),es(l.d).slice(0,c)===(t=es(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(It(l,n+1,0),l.times(l).eq(d)){a=l;break}}else if(t!="9999")break;c+=4}return Zt=!0,It(a,n)};Ue.times=Ue.mul=function(e){var t,n,a,s,l,c,d,f,m,h=this,x=h.constructor,g=h.d,b=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,n=h.e+e.e,f=g.length,m=b.length,f<m&&(l=g,g=b,b=l,c=f,f=m,m=c),l=[],c=f+m,a=c;a--;)l.push(0);for(a=m;--a>=0;){for(t=0,s=f+a;s>a;)d=l[s]+b[a]*g[s-a-1]+t,l[s--]=d%On|0,t=d/On|0;l[s]=(l[s]+t)%On|0}for(;!l[--c];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,Zt?It(e,x.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(is(e,0,qc),t===void 0?t=a.rounding:is(t,0,8),It(n,e+yn(n)+1,t))};Ue.toExponential=function(e,t){var n,a=this,s=a.constructor;return e===void 0?n=Zl(a,!0):(is(e,0,qc),t===void 0?t=s.rounding:is(t,0,8),a=It(new s(a),e+1,t),n=Zl(a,!0,e+1)),n};Ue.toFixed=function(e,t){var n,a,s=this,l=s.constructor;return e===void 0?Zl(s):(is(e,0,qc),t===void 0?t=l.rounding:is(t,0,8),a=It(new l(s),e+yn(s)+1,t),n=Zl(a.abs(),!1,e+yn(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return It(new t(e),yn(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,n,a,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Ur);if(d=new f(d),!d.s){if(e.s<1)throw Error(xa+"Infinity");return d}if(d.eq(Ur))return d;if(a=f.precision,e.eq(Ur))return It(d,a);if(t=e.e,n=e.d.length-1,c=t>=n,l=d.s,c){if((n=h<0?-h:h)<=VD){for(s=new f(Ur),t=Math.ceil(a/Ht+4),Zt=!1;n%2&&(s=s.times(d),UA(s.d,t)),n=Kc(n/2),n!==0;)d=d.times(d),UA(d.d,t);return Zt=!0,e.s<0?new f(Ur).div(s):It(s,a)}}else if(l<0)throw Error(xa+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Zt=!1,s=e.times(sf(d,a+m)),Zt=!0,s=qD(s),s.s=l,s};Ue.toPrecision=function(e,t){var n,a,s=this,l=s.constructor;return e===void 0?(n=yn(s),a=Zl(s,n<=l.toExpNeg||n>=l.toExpPos)):(is(e,1,qc),t===void 0?t=l.rounding:is(t,0,8),s=It(new l(s),e,t),n=yn(s),a=Zl(s,e<=n||n<=l.toExpNeg,e)),a};Ue.toSignificantDigits=Ue.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(is(e,1,qc),t===void 0?t=a.rounding:is(t,0,8)),It(new a(n),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yn(e),n=e.constructor;return Zl(e,t<=n.toExpNeg||t>=n.toExpPos)};function HD(e,t){var n,a,s,l,c,d,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Zt?It(t,x):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(a=f,l=-l,d=m.length):(a=m,s=c,d=f.length),c=Math.ceil(x/Ht),d=c>d?c+1:d+1,l>d&&(l=d,a.length=1),a.reverse();l--;)a.push(0);a.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,a=m,m=f,f=a),n=0;l;)n=(f[--l]=f[l]+m[l]+n)/On|0,f[l]%=On;for(n&&(f.unshift(n),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,Zt?It(t,x):t}function is(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Kl+e)}function es(e){var t,n,a,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)a=e[t]+"",n=Ht-a.length,n&&(l+=$i(n)),l+=a;c=e[t],a=c+"",n=Ht-a.length,n&&(l+=$i(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var $s=function(){function e(a,s){var l,c=0,d=a.length;for(a=a.slice();d--;)l=a[d]*s+c,a[d]=l%On|0,c=l/On|0;return c&&a.unshift(c),a}function t(a,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(a[d]!=s[d]){f=a[d]>s[d]?1:-1;break}return f}function n(a,s,l){for(var c=0;l--;)a[l]-=c,c=a[l]<s[l]?1:0,a[l]=c*On+a[l]-s[l];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,l,c){var d,f,m,h,x,g,b,w,j,S,_,C,k,O,A,T,$,M,U=a.constructor,K=a.s==s.s?1:-1,F=a.d,B=s.d;if(!a.s)return new U(a);if(!s.s)throw Error(xa+"Division by zero");for(f=a.e-s.e,$=B.length,A=F.length,b=new U(K),w=b.d=[],m=0;B[m]==(F[m]||0);)++m;if(B[m]>(F[m]||0)&&--f,l==null?C=l=U.precision:c?C=l+(yn(a)-yn(s))+1:C=l,C<0)return new U(0);if(C=C/Ht+2|0,m=0,$==1)for(h=0,B=B[0],C++;(m<A||h)&&C--;m++)k=h*On+(F[m]||0),w[m]=k/B|0,h=k%B|0;else{for(h=On/(B[0]+1)|0,h>1&&(B=e(B,h),F=e(F,h),$=B.length,A=F.length),O=$,j=F.slice(0,$),S=j.length;S<$;)j[S++]=0;M=B.slice(),M.unshift(0),T=B[0],B[1]>=On/2&&++T;do h=0,d=t(B,j,$,S),d<0?(_=j[0],$!=S&&(_=_*On+(j[1]||0)),h=_/T|0,h>1?(h>=On&&(h=On-1),x=e(B,h),g=x.length,S=j.length,d=t(x,j,g,S),d==1&&(h--,n(x,$<g?M:B,g))):(h==0&&(d=h=1),x=B.slice()),g=x.length,g<S&&x.unshift(0),n(j,x,S),d==-1&&(S=j.length,d=t(B,j,$,S),d<1&&(h++,n(j,$<S?M:B,S))),S=j.length):d===0&&(h++,j=[0]),w[m++]=h,d&&j[0]?j[S++]=F[O]||0:(j=[F[O]],S=1);while((O++<A||j[0]!==void 0)&&C--)}return w[0]||w.shift(),b.e=f,It(b,c?l+yn(b)+1:l)}}();function qD(e,t){var n,a,s,l,c,d,f=0,m=0,h=e.constructor,x=h.precision;if(yn(e)>16)throw Error(v2+yn(e));if(!e.s)return new h(Ur);for(Zt=!1,d=x,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(a=Math.log(El(2,m))/Math.LN10*2+5|0,d+=a,n=s=l=new h(Ur),h.precision=d;;){if(s=It(s.times(e),d),n=n.times(++f),c=l.plus($s(s,n,d)),es(c.d).slice(0,d)===es(l.d).slice(0,d)){for(;m--;)l=It(l.times(l),d);return h.precision=x,t==null?(Zt=!0,It(l,x)):l}l=c}}function yn(e){for(var t=e.e*Ht,n=e.d[0];n>=10;n/=10)t++;return t}function rb(e,t,n){if(t>e.LN10.sd())throw Zt=!0,n&&(e.precision=n),Error(xa+"LN10 precision limit exceeded");return It(new e(e.LN10),t)}function $i(e){for(var t="";e--;)t+="0";return t}function sf(e,t){var n,a,s,l,c,d,f,m,h,x=1,g=10,b=e,w=b.d,j=b.constructor,S=j.precision;if(b.s<1)throw Error(xa+(b.s?"NaN":"-Infinity"));if(b.eq(Ur))return new j(0);if(t==null?(Zt=!1,m=S):m=t,b.eq(10))return t==null&&(Zt=!0),rb(j,m);if(m+=g,j.precision=m,n=es(w),a=n.charAt(0),l=yn(b),Math.abs(l)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)b=b.times(e),n=es(b.d),a=n.charAt(0),x++;l=yn(b),a>1?(b=new j("0."+n),l++):b=new j(a+"."+n.slice(1))}else return f=rb(j,m+2,S).times(l+""),b=sf(new j(a+"."+n.slice(1)),m-g).plus(f),j.precision=S,t==null?(Zt=!0,It(b,S)):b;for(d=c=b=$s(b.minus(Ur),b.plus(Ur),m),h=It(b.times(b),m),s=3;;){if(c=It(c.times(h),m),f=d.plus($s(c,new j(s),m)),es(f.d).slice(0,m)===es(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(rb(j,m+2,S).times(l+""))),d=$s(d,new j(x),m),j.precision=S,t==null?(Zt=!0,It(d,S)):d;d=f,s+=2}}function BA(e,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,e.e=Kc(n/Ht),e.d=[],a=(n+1)%Ht,n<0&&(a+=Ht),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Ht;a<s;)e.d.push(+t.slice(a,a+=Ht));t=t.slice(a),a=Ht-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Zt&&(e.e>H0||e.e<-H0))throw Error(v2+n)}else e.s=0,e.e=0,e.d=[0];return e}function It(e,t,n){var a,s,l,c,d,f,m,h,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(a=t-c,a<0)a+=Ht,s=t,m=x[h=0];else{if(h=Math.ceil((a+1)/Ht),l=x.length,h>=l)return e;for(m=l=x[h],c=1;l>=10;l/=10)c++;a%=Ht,s=a-Ht+c}if(n!==void 0&&(l=El(10,c-s-1),d=m/l%10|0,f=t<0||x[h+1]!==void 0||m%l,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(a>0?s>0?m/El(10,c-s):0:x[h-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return f?(l=yn(e),x.length=1,t=t-l-1,x[0]=El(10,(Ht-t%Ht)%Ht),e.e=Kc(-t/Ht)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(a==0?(x.length=h,l=1,h--):(x.length=h+1,l=El(10,Ht-a),x[h]=s>0?(m/El(10,c-s)%El(10,s)|0)*l:0),f)for(;;)if(h==0){(x[0]+=l)==On&&(x[0]=1,++e.e);break}else{if(x[h]+=l,x[h]!=On)break;x[h--]=0,l=1}for(a=x.length;x[--a]===0;)x.pop();if(Zt&&(e.e>H0||e.e<-H0))throw Error(v2+yn(e));return e}function KD(e,t){var n,a,s,l,c,d,f,m,h,x,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Zt?It(t,b):t;if(f=e.d,x=t.d,a=t.e,m=e.e,f=f.slice(),c=m-a,c){for(h=c<0,h?(n=f,c=-c,d=x.length):(n=x,a=m,d=f.length),s=Math.max(Math.ceil(b/Ht),d)+2,c>s&&(c=s,n.length=1),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else{for(s=f.length,d=x.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=x[s]){h=f[s]<x[s];break}c=0}for(h&&(n=f,f=x,x=n,t.s=-t.s),d=f.length,s=x.length-d;s>0;--s)f[d++]=0;for(s=x.length;s>c;){if(f[--s]<x[s]){for(l=s;l&&f[--l]===0;)f[l]=On-1;--f[l],f[s]+=On}f[s]-=x[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--a;return f[0]?(t.d=f,t.e=a,Zt?It(t,b):t):new g(0)}function Zl(e,t,n){var a,s=yn(e),l=es(e.d),c=l.length;return t?(n&&(a=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+$i(a):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+$i(-s-1)+l,n&&(a=n-c)>0&&(l+=$i(a))):s>=c?(l+=$i(s+1-c),n&&(a=n-s-1)>0&&(l=l+"."+$i(a))):((a=s+1)<c&&(l=l.slice(0,a)+"."+l.slice(a)),n&&(a=n-c)>0&&(s+1===c&&(l+="."),l+=$i(a))),e.s<0?"-"+l:l}function UA(e,t){if(e.length>t)return e.length=t,!0}function GD(e){var t,n,a;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Kl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return BA(c,l.toString())}else if(typeof l!="string")throw Error(Kl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,hee.test(l))BA(c,l);else throw Error(Kl+l)}if(s.prototype=Ue,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=GD,s.config=s.set=pee,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return s.config(e),s}function pee(e){if(!e||typeof e!="object")throw Error(xa+"Object expected");var t,n,a,s=["precision",1,qc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[n=s[t]])!==void 0)if(Kc(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(Kl+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(Kl+n+": "+a);return this}var y2=GD(mee);Ur=new y2(1);const Et=y2;var xee=e=>e,YD={},WD=e=>e===YD,FA=e=>function t(){return arguments.length===0||arguments.length===1&&WD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},XD=(e,t)=>e===1?t:FA(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var l=a.filter(c=>c!==YD).length;return l>=e?t(...a):XD(e-l,FA(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=a.map(h=>WD(h)?d.shift():h);return t(...m,...d)}))}),Bp=e=>XD(e.length,e),aw=(e,t)=>{for(var n=[],a=e;a<t;++a)n[a-e]=a;return n},gee=Bp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),vee=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return xee;var s=n.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},sw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),ZD=e=>{var t=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t&&s.every((c,d)=>{var f;return c===((f=t)===null||f===void 0?void 0:f[d])})||(t=s,n=e(...s)),n}};function QD(e){var t;return e===0?t=1:t=Math.floor(new Et(e).abs().log(10).toNumber())+1,t}function JD(e,t,n){for(var a=new Et(e),s=0,l=[];a.lt(t)&&s<1e5;)l.push(a.toNumber()),a=a.add(n),s++;return l}Bp((e,t,n)=>{var a=+e,s=+t;return a+n*(s-a)});Bp((e,t,n)=>{var a=t-+e;return a=a||1/0,(n-e)/a});Bp((e,t,n)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});var e8=e=>{var[t,n]=e,[a,s]=[t,n];return t>n&&([a,s]=[n,t]),[a,s]},t8=(e,t,n)=>{if(e.lte(0))return new Et(0);var a=QD(e.toNumber()),s=new Et(10).pow(a),l=e.div(s),c=a!==1?.05:.1,d=new Et(Math.ceil(l.div(c).toNumber())).add(n).mul(c),f=d.mul(s);return t?new Et(f.toNumber()):new Et(Math.ceil(f.toNumber()))},yee=(e,t,n)=>{var a=new Et(1),s=new Et(e);if(!s.isint()&&n){var l=Math.abs(e);l<1?(a=new Et(10).pow(QD(e)-1),s=new Et(Math.floor(s.div(a).toNumber())).mul(a)):l>1&&(s=new Et(Math.floor(e)))}else e===0?s=new Et(Math.floor((t-1)/2)):n||(s=new Et(Math.floor(e)));var c=Math.floor((t-1)/2),d=vee(gee(f=>s.add(new Et(f-c).mul(a)).toNumber()),aw);return d(0,t)},n8=function(t,n,a,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(a-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var c=t8(new Et(n).sub(t).div(a-1),s,l),d;t<=0&&n>=0?d=new Et(0):(d=new Et(t).add(n).div(2),d=d.sub(new Et(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new Et(n).sub(d).div(c).toNumber()),h=f+m+1;return h>a?n8(t,n,a,s,l+1):(h<a&&(m=n>0?m+(a-h):m,f=n>0?f:f+(a-h)),{step:c,tickMin:d.sub(new Et(f).mul(c)),tickMax:d.add(new Et(m).mul(c))})};function bee(e){var[t,n]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[c,d]=e8([t,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...aw(0,a-1).map(()=>1/0)]:[...aw(0,a-1).map(()=>-1/0),d];return t>n?sw(f):f}if(c===d)return yee(c,a,s);var{step:m,tickMin:h,tickMax:x}=n8(c,d,l,s,0),g=JD(h,x.add(new Et(.1).mul(m)),m);return t>n?sw(g):g}function wee(e,t){var[n,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=e8([n,a]);if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(t,2),f=t8(new Et(c).sub(l).div(d-1),s,0),m=[...JD(new Et(l),new Et(c),f),c];return s===!1&&(m=m.map(h=>Math.round(h))),n>a?sw(m):m}var jee=ZD(bee),Nee=ZD(wee),r8=e=>e.rootProps.maxBarSize,See=e=>e.rootProps.barGap,a8=e=>e.rootProps.barCategoryGap,_ee=e=>e.rootProps.barSize,kf=e=>e.rootProps.stackOffset,b2=e=>e.options.chartName,w2=e=>e.rootProps.syncId,s8=e=>e.rootProps.syncMethod,j2=e=>e.options.eventEmitter,Ts={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},zr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Up=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Cee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:Ts.reversed,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:Ts.type,unit:void 0},kee={allowDataOverflow:zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zr.scale,tick:zr.tick,tickCount:zr.tickCount,ticks:void 0,type:zr.type,unit:void 0},Aee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Eee={allowDataOverflow:zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zr.scale,tick:zr.tick,tickCount:zr.tickCount,ticks:void 0,type:"category",unit:void 0},N2=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Aee:Cee,S2=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Eee:kee,Fp=e=>e.polarOptions,_2=ye([Qs,Js,Sn],IM),i8=ye([Fp,_2],(e,t)=>{if(e!=null)return ur(e.innerRadius,t,0)}),l8=ye([Fp,_2],(e,t)=>{if(e!=null)return ur(e.outerRadius,t,t*.8)}),Tee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},o8=ye([Fp],Tee);ye([N2,o8],Up);var c8=ye([_2,i8,l8],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ye([S2,c8],Up);var u8=ye([vt,Fp,i8,l8,Qs,Js],(e,t,n,a,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||a==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:ur(c,s,s/2),cy:ur(d,l,l/2),innerRadius:n,outerRadius:a,startAngle:f,endAngle:m,clockWise:!1}}}),Jt=(e,t)=>t,Af=(e,t,n)=>n;function C2(e){return e==null?void 0:e.id}var Cn=e=>{var t=vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Gc=e=>e.tooltip.settings.axisId,kn=e=>{var t=Cn(e),n=Gc(e);return Ef(e,t,n)};function d8(e,t,n){var{chartData:a=[]}=t,s=n==null?void 0:n.dataKey,l=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:a;if(!(f==null||f.length===0)){var m=C2(c);f.forEach((h,x)=>{var g=s==null?x:String($t(h,s,null)),b=$t(h,c.dataKey,0),w;l.has(g)?w=l.get(g):w={},Object.assign(w,{[m]:b}),l.set(g,w)})}}),Array.from(l.values())}function Vp(e){return e.stackId!=null&&e.dataKey!=null}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function q0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(a){Pee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Pee(e,t,n){return(t=Oee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oee(e){var t=Mee(e,"string");return typeof t=="symbol"?t:t+""}function Mee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iw=[0,"auto"],$r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ti=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??$r},Ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:iw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ep},el=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??Ir},Dee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},k2=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Dee},fn=(e,t,n)=>{switch(t){case"xAxis":return ti(e,n);case"yAxis":return el(e,n);case"zAxis":return k2(e,n);case"angleAxis":return N2(e,n);case"radiusAxis":return S2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ree=(e,t,n)=>{switch(t){case"xAxis":return ti(e,n);case"yAxis":return el(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ef=(e,t,n)=>{switch(t){case"xAxis":return ti(e,n);case"yAxis":return el(e,n);case"angleAxis":return N2(e,n);case"radiusAxis":return S2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},f8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function A2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Hp=e=>e.graphicalItems.cartesianItems,Lee=ye([Jt,Af],A2),E2=(e,t,n)=>e.filter(n).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),Tf=ye([Hp,fn,Lee],E2),m8=ye([Tf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Vp)),h8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),p8=ye([Tf],h8),T2=e=>e.map(t=>t.data).filter(Boolean).flat(1),$ee=ye([Tf],T2),P2=(e,t)=>{var{chartData:n=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:n.slice(a,s+1)},O2=ye([$ee,zp],P2),M2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:$t(a,t.dataKey)})):n.length>0?n.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:$t(s,a)}))):e.map(a=>({value:a})),qp=ye([O2,fn,Tf],M2);function x8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ro(e){return e.filter(t=>ss(t)||t instanceof Date).map(Number).filter(t=>Vr(t)===!1)}function Iee(e,t,n){return!n||typeof t!="number"||Vr(t)?[]:n.length?ro(n.flatMap(a=>{var s=$t(e,a.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!Kr(l)||!Kr(c)))return[t-l,t+c]})):[]}var zee=ye([m8,zp,kn],d8),g8=(e,t,n)=>{var a={},s=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=d.map(C2);return[c,{stackedData:tX(e,f,n),graphicalItems:d}]}))},lw=ye([zee,m8,kf],g8),v8=(e,t,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n!=="zAxis"){var l=iX(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Bee=ye([lw,Ji,Jt],v8),y8=(e,t,n,a,s)=>n.length>0?e.flatMap(l=>n.flatMap(c=>{var d,f,m=(d=a[c.id])===null||d===void 0?void 0:d.filter(x=>x8(s,x)),h=$t(l,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey);return{value:h,errorDomain:Iee(l,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(l=>({value:$t(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),Kp=e=>e.errorBars,b8=(e,t,n)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>x8(n,a));ye([p8,Kp,Jt],b8);var Uee=ye([O2,fn,p8,Kp,Jt],y8);function Fee(e){var{value:t}=e;if(ss(t)||t instanceof Date)return t}var HA=e=>{var t=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),n=ro(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vee=(e,t,n)=>{var a=e.map(Fee).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&DO(a))?oD(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},D2=e=>{var t;if(e==null||!("domain"in e))return iw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ro(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:iw},K0=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},w8=e=>e.referenceElements.dots,Yc=(e,t,n)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===n:a.yAxisId===n),Hee=ye([w8,Jt,Af],Yc),j8=e=>e.referenceElements.areas,qee=ye([j8,Jt,Af],Yc),N8=e=>e.referenceElements.lines,Kee=ye([N8,Jt,Af],Yc),S8=(e,t)=>{var n=ro(e.map(a=>t==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gee=ye(Hee,Jt,S8),_8=(e,t)=>{var n=ro(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yee=ye([qee,Jt],_8),C8=(e,t)=>{var n=ro(e.map(a=>t==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wee=ye(Kee,Jt,C8),Xee=ye(Gee,Wee,Yee,(e,t,n)=>K0(e,n,t)),k8=ye([fn],D2),R2=(e,t,n,a,s,l,c)=>{var d=dee(t,e.allowDataOverflow);if(d!=null)return d;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",m=f?K0(n,s,HA(a)):K0(s,HA(a));return fee(t,m,e.allowDataOverflow)},Zee=ye([fn,k8,Bee,Uee,Xee,vt,Jt],R2),Qee=[0,1],L2=(e,t,n,a,s,l,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=Xi(t,l);return m&&d==null?oD(0,n.length):f==="category"?Vee(a,e,m):s==="expand"?Qee:c}},$2=ye([fn,vt,O2,qp,kf,Jt,Zee],L2),A8=(e,t,n,a,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(bf(l));return d in jd?d:"point"}}},Wc=ye([fn,vt,f8,b2,Jt],A8);function Jee(e){if(e!=null){if(e in jd)return jd[e]();var t="scale".concat(bf(e));if(t in jd)return jd[t]()}}function I2(e,t,n,a){if(!(n==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(a);var s=Jee(t);if(s!=null){var l=s.domain(n).range(a);return XW(l),l}}}var z2=(e,t,n)=>{var a=D2(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Ec(e))return jee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ec(e))return Nee(e,t.tickCount,t.allowDecimals)}},B2=ye([$2,Ef,Wc],z2),U2=(e,t,n,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ec(t)&&Array.isArray(n)&&n.length>0){var s=t[0],l=n[0],c=t[1],d=n[n.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},ete=ye([fn,$2,B2,Jt],U2),tte=ye(qp,fn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,a=Array.from(ro(e.map(d=>d.value))).sort((d,f)=>d-f);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var l=0;l<a.length-1;l++){var c=a[l+1]-a[l];n=Math.min(n,c)}return n/s}}),E8=ye(tte,vt,a8,Sn,(e,t,n,a)=>a,(e,t,n,a,s)=>{if(!Kr(e))return 0;var l=t==="vertical"?a.height:a.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=ur(n,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),nte=(e,t)=>{var n=ti(e,t);return n==null||typeof n.padding!="string"?0:E8(e,"xAxis",t,n.padding)},rte=(e,t)=>{var n=el(e,t);return n==null||typeof n.padding!="string"?0:E8(e,"yAxis",t,n.padding)},ate=ye(ti,nte,(e,t)=>{var n,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),ste=ye(el,rte,(e,t)=>{var n,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),ite=ye([Sn,ate,Pp,Tp,(e,t,n)=>n],(e,t,n,a,s)=>{var{padding:l}=a;return s?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),lte=ye([Sn,vt,ste,Pp,Tp,(e,t,n)=>n],(e,t,n,a,s,l)=>{var{padding:c}=s;return l?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Pf=(e,t,n,a)=>{var s;switch(t){case"xAxis":return ite(e,n,a);case"yAxis":return lte(e,n,a);case"zAxis":return(s=k2(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return o8(e);case"radiusAxis":return c8(e,n);default:return}},T8=ye([fn,Pf],Up),Xc=ye([fn,Wc,ete,T8],I2);ye([Tf,Kp,Jt],b8);function P8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Gp=(e,t)=>t,Yp=(e,t,n)=>n,ote=ye(Fj,Gp,Yp,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort(P8)),cte=ye(Vj,Gp,Yp,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort(P8)),O8=(e,t)=>({width:e.width,height:t.height}),ute=(e,t)=>{var n=typeof t.width=="number"?t.width:Ep;return{width:n,height:e.height}},M8=ye(Sn,ti,O8),dte=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},fte=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},mte=ye(Js,Sn,ote,Gp,Yp,(e,t,n,a,s)=>{var l={},c;return n.forEach(d=>{var f=O8(t,d);c==null&&(c=dte(t,a,e));var m=a==="top"&&!s||a==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),hte=ye(Qs,Sn,cte,Gp,Yp,(e,t,n,a,s)=>{var l={},c;return n.forEach(d=>{var f=ute(t,d);c==null&&(c=fte(t,a,e));var m=a==="left"&&!s||a==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),pte=(e,t)=>{var n=Sn(e),a=ti(e,t);if(a!=null){var s=mte(e,a.orientation,a.mirror),l=s[t];return l==null?{x:n.left,y:0}:{x:n.left,y:l}}},xte=(e,t)=>{var n=Sn(e),a=el(e,t);if(a!=null){var s=hte(e,a.orientation,a.mirror),l=s[t];return l==null?{x:0,y:n.top}:{x:l,y:n.top}}},D8=ye(Sn,el,(e,t)=>{var n=typeof t.width=="number"?t.width:Ep;return{width:n,height:e.height}}),qA=(e,t,n)=>{switch(t){case"xAxis":return M8(e,n).width;case"yAxis":return D8(e,n).height;default:return}},R8=(e,t,n,a)=>{if(n!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=n,d=Xi(e,a),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&DO(f))return f}},F2=ye([vt,qp,fn,Jt],R8),L8=(e,t,n,a)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:l}=n,c=Xi(e,a);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},V2=ye([vt,qp,Ef,Jt],L8),KA=ye([vt,Ree,Wc,Xc,F2,V2,Pf,B2,Jt],(e,t,n,a,s,l,c,d,f)=>{if(t==null)return null;var m=Xi(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:n,scale:a}}),gte=(e,t,n,a,s,l,c,d,f)=>{if(!(t==null||a==null)){var m=Xi(e,f),{type:h,ticks:x,tickCount:g}=t,b=n==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,w=h==="category"&&a.bandwidth?a.bandwidth()/b:0;w=f==="angleAxis"&&l!=null&&l.length>=2?Dn(l[0]-l[1])*2*w:w;var j=x||s;if(j){var S=j.map((_,C)=>{var k=c?c.indexOf(_):_;return{index:C,coordinate:a(k)+w,value:_,offset:w}});return S.filter(_=>!Vr(_.coordinate))}return m&&d?d.map((_,C)=>({coordinate:a(_)+w,value:_,index:C,offset:w})):a.ticks?a.ticks(g).map(_=>({coordinate:a(_)+w,value:_,offset:w})):a.domain().map((_,C)=>({coordinate:a(_)+w,value:c?c[_]:_,index:C,offset:w}))}},$8=ye([vt,Ef,Wc,Xc,B2,Pf,F2,V2,Jt],gte),vte=(e,t,n,a,s,l,c)=>{if(!(t==null||n==null||a==null||a[0]===a[1])){var d=Xi(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&(a==null?void 0:a.length)>=2?Dn(a[0]-a[1])*2*m:m,d&&l?l.map((h,x)=>({coordinate:n(h)+m,value:h,index:x,offset:m})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+m,value:h,offset:m})):n.domain().map((h,x)=>({coordinate:n(h)+m,value:s?s[h]:h,index:x,offset:m}))}},Ki=ye([vt,Ef,Xc,Pf,F2,V2,Jt],vte),Gi=ye(fn,Xc,(e,t)=>{if(!(e==null||t==null))return q0(q0({},e),{},{scale:t})}),yte=ye([fn,Wc,$2,T8],I2);ye((e,t,n)=>k2(e,n),yte,(e,t)=>{if(!(e==null||t==null))return q0(q0({},e),{},{scale:t})});var bte=ye([vt,Fj,Vj],(e,t,n)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),I8=e=>e.options.defaultTooltipEventType,z8=e=>e.options.validateTooltipEventTypes;function B8(e,t,n){if(e==null)return t;var a=e?"axis":"item";return n==null?t:n.includes(a)?a:t}function H2(e,t){var n=I8(e),a=z8(e);return B8(t,n,a)}function wte(e){return Ke(t=>H2(t,e))}var U8=(e,t)=>{var n,a=Number(t);if(!(Vr(a)||t==null))return a>=0?e==null||(n=e[a])===null||n===void 0?void 0:n.value:void 0},jte=e=>e.tooltip.settings,Ii={active:!1,index:null,dataKey:void 0,coordinate:void 0},Nte={itemInteraction:{click:Ii,hover:Ii},axisInteraction:{click:Ii,hover:Ii},keyboardInteraction:Ii,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},F8=Gr({name:"tooltip",initialState:Nte,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Ls(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Ste,removeTooltipEntrySettings:_te,setTooltipSettingsState:Cte,setActiveMouseOverItemIndex:V8,mouseLeaveItem:kte,mouseLeaveChart:H8,setActiveClickItemIndex:Ate,setMouseOverAxisIndex:q8,setMouseClickAxisIndex:Ete,setSyncInteraction:ow,setKeyboardInteraction:cw}=F8.actions,Tte=F8.reducer;function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(a){Pte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Pte(e,t,n){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ote(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dte(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Rte(e){return e.index!=null}var K8=(e,t,n,a)=>{if(t==null)return Ii;var s=Dte(e,t,n);if(s==null)return Ii;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(Rte(s)){if(l)return hh(hh({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return hh(hh({},Ii),{},{coordinate:s.coordinate})},q2=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var a=Number(n);if(!Kr(a))return n;var s=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(s,Math.min(a,l)))},G8=(e,t,n,a,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s==null?void 0:s[Number(l)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},Y8=(e,t,n,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},Of=e=>e.options.tooltipPayloadSearcher,Zc=e=>e.tooltip;function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function WA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(a){Lte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Lte(e,t,n){return(t=$te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $te(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zte(e,t){return e??t}var W8=(e,t,n,a,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=n,x=[];return e.reduce((g,b)=>{var w,{dataDefinedOnItem:j,settings:S}=b,_=zte(j,d),C=Array.isArray(_)?zM(_,m,h):_,k=(w=S==null?void 0:S.dataKey)!==null&&w!==void 0?w:a==null?void 0:a.dataKey,O=S==null?void 0:S.nameKey,A;if(a!=null&&a.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&c==="axis"?A=RO(C,a.dataKey,s):A=l(C,t,f,O),Array.isArray(A))A.forEach($=>{var M=WA(WA({},S),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});g.push(Tk({tooltipEntrySettings:M,dataKey:$.dataKey,payload:$.payload,value:$t($.payload,$.dataKey),name:$.name}))});else{var T;g.push(Tk({tooltipEntrySettings:S,dataKey:k,payload:A,value:$t(A,k),name:(T=$t(A,O))!==null&&T!==void 0?T:S==null?void 0:S.name}))}return g},x)}},K2=ye([kn,vt,f8,b2,Cn],A8),Bte=ye([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ute=ye([Cn,Gc],A2),Mf=ye([Bte,kn,Ute],E2),Fte=ye([Mf],e=>e.filter(Vp)),Vte=ye([Mf],T2),Qc=ye([Vte,Ji],P2),Hte=ye([Fte,Ji,kn],d8),G2=ye([Qc,kn,Mf],M2),qte=ye([kn],D2),Kte=ye([Mf],e=>e.filter(Vp)),Gte=ye([Hte,Kte,kf],g8),Yte=ye([Gte,Ji,Cn],v8),Wte=ye([Mf],h8),Xte=ye([Qc,kn,Wte,Kp,Cn],y8),Zte=ye([w8,Cn,Gc],Yc),Qte=ye([Zte,Cn],S8),Jte=ye([j8,Cn,Gc],Yc),ene=ye([Jte,Cn],_8),tne=ye([N8,Cn,Gc],Yc),nne=ye([tne,Cn],C8),rne=ye([Qte,nne,ene],K0),ane=ye([kn,qte,Yte,Xte,rne,vt,Cn],R2),X8=ye([kn,vt,Qc,G2,kf,Cn,ane],L2),sne=ye([X8,kn,K2],z2),ine=ye([kn,X8,sne,Cn],U2),Z8=e=>{var t=Cn(e),n=Gc(e),a=!1;return Pf(e,t,n,a)},Q8=ye([kn,Z8],Up),J8=ye([kn,K2,ine,Q8],I2),lne=ye([vt,G2,kn,Cn],R8),one=ye([vt,G2,kn,Cn],L8),cne=(e,t,n,a,s,l,c,d)=>{if(t){var{type:f}=t,m=Xi(e,d);if(a){var h=n==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=f==="category"&&a.bandwidth?a.bandwidth()/h:0;return x=d==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Dn(s[0]-s[1])*2*x:x,m&&c?c.map((g,b)=>({coordinate:a(g)+x,value:g,index:b,offset:x})):a.domain().map((g,b)=>({coordinate:a(g)+x,value:l?l[g]:g,index:b,offset:x}))}}},ni=ye([vt,kn,K2,J8,Z8,lne,one,Cn],cne),Y2=ye([I8,z8,jte],(e,t,n)=>B8(n.shared,e,t)),eR=e=>e.tooltip.settings.trigger,W2=e=>e.tooltip.settings.defaultIndex,Wp=ye([Zc,Y2,eR,W2],K8),Yi=ye([Wp,Qc],q2),tR=ye([ni,Yi],U8),nR=ye([Wp],e=>{if(e)return e.dataKey}),rR=ye([Zc,Y2,eR,W2],Y8),une=ye([Qs,Js,vt,Sn,ni,W2,rR,Of],G8),dne=ye([Wp,une],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),fne=ye([Wp],e=>e.active),mne=ye([rR,Yi,Ji,kn,tR,Of,Y2],W8),hne=ye([mne],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ZA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(a){pne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pne(e,t,n){return(t=xne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xne(e){var t=gne(e,"string");return typeof t=="symbol"?t:t+""}function gne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vne=()=>Ke(kn),yne=()=>{var e=vne(),t=Ke(ni),n=Ke(J8);return Jd(ZA(ZA({},e),{},{scale:n}),t)},bne=()=>Ke(b2),X2=(e,t)=>t,aR=(e,t,n)=>n,Z2=(e,t,n,a)=>a,wne=ye(ni,e=>jp(e,t=>t.coordinate)),Q2=ye([Zc,X2,aR,Z2],K8),sR=ye([Q2,Qc],q2),jne=(e,t,n)=>{if(t!=null){var a=Zc(e);return t==="axis"?n==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:n==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},iR=ye([Zc,X2,aR,Z2],Y8),G0=ye([Qs,Js,vt,Sn,ni,Z2,iR,Of],G8),Nne=ye([Q2,G0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),lR=ye(ni,sR,U8),Sne=ye([iR,sR,Ji,kn,lR,Of,X2],W8),_ne=ye([Q2],e=>({isActive:e.active,activeIndex:e.index})),Cne=(e,t,n,a,s,l,c,d)=>{if(!(!e||!t||!a||!s||!l)){var f=lX(e.chartX,e.chartY,t,n,d);if(f){var m=cX(f,t),h=YW(m,c,l,a,s),x=oX(t,l,h,f);return{activeIndex:String(h),activeCoordinate:x}}}};function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},uw.apply(null,arguments)}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(a){kne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kne(e,t,n){return(t=Ane(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ane(e){var t=Ene(e,"string");return typeof t=="symbol"?t:t+""}function Ene(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tne(e){var{coordinate:t,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,h=t,x=n,g=a;if(!d||!h||m!=="ScatterChart"&&f!=="axis")return null;var b,w;if(m==="ScatterChart")b=h,w=KX;else if(m==="BarChart")b=GX(c,h,s,l),w=sD;else if(c==="radial"){var{cx:j,cy:S,radius:_,startAngle:C,endAngle:k}=iD(h);b={cx:j,cy:S,startAngle:C,endAngle:k,innerRadius:_,outerRadius:_},w=Gj}else b={points:PZ(c,h,s)},w=qj;var O=typeof d=="object"&&"className"in d?d.className:void 0,A=ph(ph(ph(ph({stroke:"#ccc",pointerEvents:"none"},s),b),Xt(d,!1)),{},{payload:x,payloadIndex:g,className:ut("recharts-tooltip-cursor",O)});return v.isValidElement(d)?v.cloneElement(d,A):v.createElement(w,A)}function Pne(e){var t=yne(),n=KM(),a=Op(),s=bne();return v.createElement(Tne,uw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:a,tooltipAxisBandSize:t,chartName:s}))}var oR=v.createContext(null),One=()=>v.useContext(oR),ab={exports:{}},JA;function Mne(){return JA||(JA=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,x,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new s(h,x||f,g),w=n?n+m:m;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new a:delete f._events[m]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,x;if(this._eventsCount===0)return m;for(x in h=this._events)t.call(h,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=n?n+m:m,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var g=0,b=x.length,w=new Array(b);g<b;g++)w[g]=x[g].fn;return w},d.prototype.listenerCount=function(m){var h=n?n+m:m,x=this._events[h];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,h,x,g,b,w){var j=n?n+m:m;if(!this._events[j])return!1;var S=this._events[j],_=arguments.length,C,k;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),_){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,x),!0;case 4:return S.fn.call(S.context,h,x,g),!0;case 5:return S.fn.call(S.context,h,x,g,b),!0;case 6:return S.fn.call(S.context,h,x,g,b,w),!0}for(k=1,C=new Array(_-1);k<_;k++)C[k-1]=arguments[k];S.fn.apply(S.context,C)}else{var O=S.length,A;for(k=0;k<O;k++)switch(S[k].once&&this.removeListener(m,S[k].fn,void 0,!0),_){case 1:S[k].fn.call(S[k].context);break;case 2:S[k].fn.call(S[k].context,h);break;case 3:S[k].fn.call(S[k].context,h,x);break;case 4:S[k].fn.call(S[k].context,h,x,g);break;default:if(!C)for(A=1,C=new Array(_-1);A<_;A++)C[A-1]=arguments[A];S[k].fn.apply(S[k].context,C)}}return!0},d.prototype.on=function(m,h,x){return l(this,m,h,x,!1)},d.prototype.once=function(m,h,x){return l(this,m,h,x,!0)},d.prototype.removeListener=function(m,h,x,g){var b=n?n+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var w=this._events[b];if(w.fn)w.fn===h&&(!g||w.once)&&(!x||w.context===x)&&c(this,b);else{for(var j=0,S=[],_=w.length;j<_;j++)(w[j].fn!==h||g&&!w[j].once||x&&w[j].context!==x)&&S.push(w[j]);S.length?this._events[b]=S.length===1?S[0]:S:c(this,b)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=n?n+m:m,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d}(ab)),ab.exports}var Dne=Mne();const Rne=$a(Dne);var lf=new Rne,dw="recharts.syncEvent.tooltip",eE="recharts.syncEvent.brush";function J2(e,t){if(t){var n=Number.parseInt(t,10);if(!Vr(n))return e==null?void 0:e[n]}}var Lne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},cR=Gr({name:"options",initialState:Lne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$ne=cR.reducer,{createEventEmitter:Ine}=cR.actions;function zne(e){return e.tooltip.syncInteraction}var Bne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},uR=Gr({name:"chartData",initialState:Bne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:a}=t.payload;n!=null&&(e.dataStartIndex=n),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:tE,setDataStartEndIndexes:Une,setComputedData:Zde}=uR.actions,Fne=uR.reducer,dR=()=>{};function Vne(){var e=Ke(w2),t=Ke(j2),n=dn(),a=Ke(s8),s=Ke(ni),l=Op(),c=Hj(),d=Ke(f=>f.rootProps.className);v.useEffect(()=>{if(e==null)return dR;var f=(m,h,x)=>{if(t!==x&&e===m){if(a==="index"){n(h);return}if(s!=null){var g;if(typeof a=="function"){var b={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},w=a(s,b);g=s[w]}else a==="value"&&(g=s.find(T=>String(T.value)===h.payload.label));var{coordinate:j}=h.payload;if(g==null||h.payload.active===!1||j==null||c==null){n(ow({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:_}=j,C=Math.min(S,c.x+c.width),k=Math.min(_,c.y+c.height),O={x:l==="horizontal"?g.coordinate:C,y:l==="horizontal"?k:g.coordinate},A=ow({active:h.payload.active,coordinate:O,dataKey:h.payload.dataKey,index:String(g.index),label:h.payload.label});n(A)}}};return lf.on(dw,f),()=>{lf.off(dw,f)}},[d,n,t,e,a,s,l,c])}function Hne(){var e=Ke(w2),t=Ke(j2),n=dn();v.useEffect(()=>{if(e==null)return dR;var a=(s,l,c)=>{t!==c&&e===s&&n(Une(l))};return lf.on(eE,a),()=>{lf.off(eE,a)}},[n,t,e])}function qne(){var e=dn();v.useEffect(()=>{e(Ine())},[e]),Vne(),Hne()}function Kne(e,t,n,a,s,l){var c=Ke(g=>jne(g,e,t)),d=Ke(j2),f=Ke(w2),m=Ke(s8),h=Ke(zne),x=h==null?void 0:h.active;v.useEffect(()=>{if(!x&&f!=null&&d!=null){var g=ow({active:l,coordinate:n,dataKey:c,index:s,label:typeof a=="number"?String(a):a});lf.emit(dw,f,g,d)}},[x,n,c,s,a,d,f,m,l])}function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function rE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(a){Gne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Gne(e,t,n){return(t=Yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xne(e){return e.dataKey}function Zne(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(SX,t)}var aE=[],Qne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!eo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Za(e){var t=Yr(e,Qne),{active:n,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:h,position:x,reverseDirection:g,useTranslate3d:b,wrapperStyle:w,cursor:j,shared:S,trigger:_,defaultIndex:C,portal:k,axisId:O}=t,A=dn(),T=typeof C=="number"?String(C):C;v.useEffect(()=>{A(Cte({shared:S,trigger:_,axisId:O,active:n,defaultIndex:T}))},[A,S,_,O,n,T]);var $=Hj(),M=QM(),U=wte(S),{activeIndex:K,isActive:F}=Ke(Q=>_ne(Q,U,_,T)),B=Ke(Q=>Sne(Q,U,_,T)),ne=Ke(Q=>lR(Q,U,_,T)),Ne=Ke(Q=>Nne(Q,U,_,T)),se=B,D=One(),G=n??F,[V,z]=IY([se,G]),E=U==="axis"?ne:void 0;Kne(U,_,Ne,E,K,G);var R=k??D;if(R==null)return null;var L=se??aE;G||(L=aE),d&&L.length&&(L=uY(se.filter(Q=>Q.value!=null&&(Q.hide!==!0||t.includeHidden)),h,Xne));var Y=L.length>0,ce=v.createElement(PX,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:G,coordinate:Ne,hasPayload:Y,offset:m,position:x,reverseDirection:g,useTranslate3d:b,viewBox:$,wrapperStyle:w,lastBoundingBox:V,innerRef:z,hasPortalFromProps:!!k},Zne(c,rE(rE({},t),{},{payload:L,label:E,active:G,coordinate:Ne,accessibilityLayer:M})));return v.createElement(v.Fragment,null,yI.createPortal(ce,R),G&&v.createElement(Pne,{cursor:j,tooltipEventType:U,coordinate:Ne,payload:se,index:K}))}var sb={},ib={},lb={},sE;function Jne(){return sE||(sE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a,{signal:s,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},x=()=>{m&&h(),j()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,x()},a)},w=()=>{g!==null&&(clearTimeout(g),g=null)},j=()=>{w(),c=void 0,d=null},S=()=>{h()},_=function(...C){if(s!=null&&s.aborted)return;c=this,d=C;const k=g==null;b(),f&&k&&h()};return _.schedule=b,_.cancel=j,_.flush=S,s==null||s.addEventListener("abort",j,{once:!0}),_}e.debounce=t}(lb)),lb}var iE;function ere(){return iE||(iE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jne();function n(a,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,x=null;const g=t.debounce(function(...j){h=a.apply(this,j),x=null},s,{edges:m}),b=function(...j){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(h=a.apply(this,j),x=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,j),h)},w=()=>(g.flush(),h);return b.cancel=g.cancel,b.flush=w,b}e.debounce=n}(ib)),ib}var lE;function tre(){return lE||(lE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ere();function n(a,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(a,s,{leading:c,maxWait:s,trailing:d})}e.throttle=n}(sb)),sb}var ob,oE;function nre(){return oE||(oE=1,ob=tre().throttle),ob}var rre=nre();const are=$a(rre);var Od=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l]};function cE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(n),!0).forEach(function(a){sre(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sre(e,t,n){return(t=ire(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ire(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qa=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:s="100%",height:l="100%",minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:x,className:g,onResize:b,style:w={}}=e,j=v.useRef(null),S=v.useRef();S.current=b,v.useImperativeHandle(t,()=>j.current);var[_,C]=v.useState({containerWidth:a.width,containerHeight:a.height}),k=v.useCallback((A,T)=>{C($=>{var M=Math.round(A),U=Math.round(T);return $.containerWidth===M&&$.containerHeight===U?$:{containerWidth:M,containerHeight:U}})},[]);v.useEffect(()=>{var A=U=>{var K,{width:F,height:B}=U[0].contentRect;k(F,B),(K=S.current)===null||K===void 0||K.call(S,F,B)};h>0&&(A=are(A,h,{trailing:!0,leading:!1}));var T=new ResizeObserver(A),{width:$,height:M}=j.current.getBoundingClientRect();return k($,M),T.observe(j.current),()=>{T.disconnect()}},[k,h]);var O=v.useMemo(()=>{var{containerWidth:A,containerHeight:T}=_;if(A<0||T<0)return null;Od(Ll(s)||Ll(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Od(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Ll(s)?A:s,M=Ll(l)?T:l;return n&&n>0&&($?M=$/n:M&&($=M*n),f&&M>f&&(M=f)),Od($>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,M,s,l,c,d,n),v.Children.map(m,U=>v.cloneElement(U,{width:$,height:M,style:cb({width:$,height:M},U.props.style)}))},[n,m,l,f,d,c,_,s]);return v.createElement("div",{id:x?"".concat(x):void 0,className:ut("recharts-responsive-container",g),style:cb(cb({},w),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:j},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},O))}),Ds=e=>null;Ds.displayName="Cell";function ore(e,t,n){return(t=cre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cre(e){var t=ure(e,"string");return typeof t=="symbol"?t:t+""}function ure(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dre{constructor(t){ore(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(n),!0).forEach(function(a){mre(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mre(e,t,n){return(t=hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hre(e){var t=pre(e,"string");return typeof t=="symbol"?t:t+""}function pre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xre={cacheSize:2e3,enableCache:!0},fR=fre({},xre),dE=new dre(fR.cacheSize),gre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fE="recharts_measurement_span";function vre(e,t){var n=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var mE=(e,t)=>{try{var n=document.getElementById(fE);n||(n=document.createElement("span"),n.setAttribute("id",fE),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,gre,t),n.textContent="".concat(e);var a=n.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Md=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||eo.isSsr)return{width:0,height:0};if(!fR.enableCache)return mE(t,n);var a=vre(t,n),s=dE.get(a);if(s)return s;var l=mE(t,n);return dE.set(a,l),l},hE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wre=Object.keys(mR),ic="NaN";function jre(e,t){return e*mR[t]}class wr{static parse(t){var n,[,a,s]=(n=bre.exec(t))!==null&&n!==void 0?n:[];return new wr(parseFloat(a),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Vr(t)&&(this.unit=""),n!==""&&!yre.test(n)&&(this.num=NaN,this.unit=""),wre.includes(n)&&(this.num=jre(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Vr(this.num)}}function hR(e){if(e.includes(ic))return ic;for(var t=e;t.includes("*")||t.includes("/");){var n,[,a,s,l]=(n=hE.exec(t))!==null&&n!==void 0?n:[],c=wr.parse(a??""),d=wr.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return ic;t=t.replace(hE,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,x,g]=(m=pE.exec(t))!==null&&m!==void 0?m:[],b=wr.parse(h??""),w=wr.parse(g??""),j=x==="+"?b.add(w):b.subtract(w);if(j.isNaN())return ic;t=t.replace(pE,j.toString())}return t}var xE=/\(([^()]*)\)/;function Nre(e){for(var t=e,n;(n=xE.exec(t))!=null;){var[,a]=n;t=t.replace(xE,hR(a))}return t}function Sre(e){var t=e.replace(/\s+/g,"");return t=Nre(t),t=hR(t),t}function _re(e){try{return Sre(e)}catch{return ic}}function ub(e){var t=_re(e.slice(5,-1));return t===ic?"":t}var Cre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],kre=["dx","dy","angle","className","breakAll"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fw.apply(null,arguments)}function gE(e,t){if(e==null)return{};var n,a,s=Are(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Are(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var pR=/[ \f\n\r\t\v\u2028\u2029]+/,xR=e=>{var{children:t,breakAll:n,style:a}=e;try{var s=[];Kt(t)||(n?s=t.toString().split(""):s=t.toString().split(pR));var l=s.map(d=>({word:d,width:Md(d,a).width})),c=n?0:Md("",a).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},Ere=(e,t,n,a,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=Be(l),h=c,x=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((B,ne)=>{var{word:Ne,width:se}=ne,D=B[B.length-1];if(D&&(a==null||s||D.width+se+n<Number(a)))D.words.push(Ne),D.width+=se+n;else{var G={words:[Ne],width:se};B.push(G)}return B},[])},g=x(t),b=K=>K.reduce((F,B)=>F.width>B.width?F:B);if(!m||s)return g;var w=g.length>l||b(g).width>Number(a);if(!w)return g;for(var j="",S=K=>{var F=h.slice(0,K),B=xR({breakAll:f,style:d,children:F+j}).wordsWithComputedWidth,ne=x(B),Ne=ne.length>l||b(ne).width>Number(a);return[Ne,ne]},_=0,C=h.length-1,k=0,O;_<=C&&k<=h.length-1;){var A=Math.floor((_+C)/2),T=A-1,[$,M]=S(T),[U]=S(A);if(!$&&!U&&(_=A+1),$&&U&&(C=A-1),!$&&U){O=M;break}k++}return O||g},vE=e=>{var t=Kt(e)?[]:e.toString().split(pR);return[{words:t}]},Tre=e=>{var{width:t,scaleToFit:n,children:a,style:s,breakAll:l,maxLines:c}=e;if((t||n)&&!eo.isSsr){var d,f,m=xR({breakAll:l,children:a,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:x}=m;d=h,f=x}else return vE(a);return Ere({breakAll:l,children:a,maxLines:c,style:s},d,f,t,n)}return vE(a)},yE="#808080",Xp=v.forwardRef((e,t)=>{var{x:n=0,y:a=0,lineHeight:s="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=yE}=e,h=gE(e,Cre),x=v.useMemo(()=>Tre({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:g,dy:b,angle:w,className:j,breakAll:S}=h,_=gE(h,kre);if(!ss(n)||!ss(a))return null;var C=n+(Be(g)?g:0),k=a+(Be(b)?b:0),O;switch(f){case"start":O=ub("calc(".concat(l,")"));break;case"middle":O=ub("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:O=ub("calc(".concat(x.length-1," * -").concat(s,")"));break}var A=[];if(c){var T=x[0].width,{width:$}=h;A.push("scale(".concat(Be($)?$/T:1,")"))}return w&&A.push("rotate(".concat(w,", ").concat(C,", ").concat(k,")")),A.length&&(_.transform=A.join(" ")),v.createElement("text",fw({},Xt(_,!0),{ref:t,x:C,y:k,className:ut("recharts-text",j),textAnchor:d,fill:m.includes("url")?yE:m}),x.map((M,U)=>{var K=M.words.join(S?"":" ");return v.createElement("tspan",{x:C,dy:U===0?O:s,key:"".concat(K,"-").concat(U)},K)}))});Xp.displayName="Text";var Pre=["offset"],Ore=["labelRef"];function bE(e,t){if(e==null)return{};var n,a,s=Mre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Mre(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(n),!0).forEach(function(a){Dre(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Dre(e,t,n){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rre(e){var t=Lre(e,"string");return typeof t=="symbol"?t:t+""}function Lre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ps.apply(null,arguments)}var $re=e=>{var{value:t,formatter:n}=e,a=Kt(e.children)?t:e.children;return typeof n=="function"?n(a):a},eN=e=>e!=null&&typeof e=="function",Ire=(e,t)=>{var n=Dn(t-e),a=Math.min(Math.abs(t-e),360);return n*a},zre=(e,t,n,a)=>{var{position:s,offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:x,endAngle:g,clockWise:b}=a,w=(m+h)/2,j=Ire(x,g),S=j>=0?1:-1,_,C;s==="insideStart"?(_=x+S*l,C=b):s==="insideEnd"?(_=g-S*l,C=!b):s==="end"&&(_=g+S*l,C=b),C=j<=0?C:!C;var k=vn(d,f,w,_),O=vn(d,f,w,_+(C?1:-1)*359),A="M".concat(k.x,",").concat(k.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),T=Kt(e.id)?Xd("recharts-radial-line-"):e.id;return v.createElement("text",Ps({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",c)}),v.createElement("defs",null,v.createElement("path",{id:T,d:A})),v.createElement("textPath",{xlinkHref:"#".concat(T)},t))},Bre=(e,t,n)=>{var{cx:a,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(n==="outside"){var{x:h,y:x}=vn(a,s,c+t,m);return{x:h,y:x,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,{x:b,y:w}=vn(a,s,g,m);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ure=(e,t)=>{var{parentViewBox:n,offset:a,position:s}=e,{x:l,y:c,width:d,height:f}=t,m=f>=0?1:-1,h=m*a,x=m>0?"end":"start",g=m>0?"start":"end",b=d>=0?1:-1,w=b*a,j=b>0?"end":"start",S=b>0?"start":"end";if(s==="top"){var _={x:l+d/2,y:c-m*a,textAnchor:"middle",verticalAnchor:x};return an(an({},_),n?{height:Math.max(c-n.y,0),width:d}:{})}if(s==="bottom"){var C={x:l+d/2,y:c+f+h,textAnchor:"middle",verticalAnchor:g};return an(an({},C),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(s==="left"){var k={x:l-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return an(an({},k),n?{width:Math.max(k.x-n.x,0),height:f}:{})}if(s==="right"){var O={x:l+d+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return an(an({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:f}:{})}var A=n?{width:d,height:f}:{};return s==="insideLeft"?an({x:l+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},A):s==="insideRight"?an({x:l+d-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},A):s==="insideTop"?an({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:g},A):s==="insideBottom"?an({x:l+d/2,y:c+f-h,textAnchor:"middle",verticalAnchor:x},A):s==="insideTopLeft"?an({x:l+w,y:c+h,textAnchor:S,verticalAnchor:g},A):s==="insideTopRight"?an({x:l+d-w,y:c+h,textAnchor:j,verticalAnchor:g},A):s==="insideBottomLeft"?an({x:l+w,y:c+f-h,textAnchor:S,verticalAnchor:x},A):s==="insideBottomRight"?an({x:l+d-w,y:c+f-h,textAnchor:j,verticalAnchor:x},A):s&&typeof s=="object"&&(Be(s.x)||Ll(s.x))&&(Be(s.y)||Ll(s.y))?an({x:l+ur(s.x,d),y:c+ur(s.y,f),textAnchor:"end",verticalAnchor:"end"},A):an({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Fre=e=>"cx"in e&&Be(e.cx);function Br(e){var{offset:t=5}=e,n=bE(e,Pre),a=an({offset:t},n),{viewBox:s,position:l,value:c,children:d,content:f,className:m="",textBreakAll:h,labelRef:x}=a,g=Ke(u8),b=Hj(),w=l==="center"?b:g??b,j=s||w;if(!j||Kt(c)&&Kt(d)&&!v.isValidElement(f)&&typeof f!="function")return null;var S=an(an({},a),{},{viewBox:j});if(v.isValidElement(f)){var{labelRef:_}=S,C=bE(S,Ore);return v.cloneElement(f,C)}var k;if(typeof f=="function"){if(k=v.createElement(f,S),v.isValidElement(k))return k}else k=$re(a);var O=Fre(j),A=Xt(a,!0);if(O&&(l==="insideStart"||l==="insideEnd"||l==="end"))return zre(a,k,A,j);var T=O?Bre(j,a.offset,a.position):Ure(a,j);return v.createElement(Xp,Ps({ref:x,className:ut("recharts-label",m)},A,T,{breakAll:h}),k)}Br.displayName="Label";var gR=e=>{var{cx:t,cy:n,angle:a,startAngle:s,endAngle:l,r:c,radius:d,innerRadius:f,outerRadius:m,x:h,y:x,top:g,left:b,width:w,height:j,clockWise:S,labelViewBox:_}=e;if(_)return _;if(Be(w)&&Be(j)){if(Be(h)&&Be(x))return{x:h,y:x,width:w,height:j};if(Be(g)&&Be(b))return{x:g,y:b,width:w,height:j}}if(Be(h)&&Be(x))return{x:h,y:x,width:0,height:0};if(Be(t)&&Be(n))return{cx:t,cy:n,startAngle:s||a||0,endAngle:l||a||0,innerRadius:f||0,outerRadius:m||d||c||0,clockWise:S};if(e.viewBox)return e.viewBox},Vre=(e,t,n)=>{if(!e)return null;var a={viewBox:t,labelRef:n};return e===!0?v.createElement(Br,Ps({key:"label-implicit"},a)):ss(e)?v.createElement(Br,Ps({key:"label-implicit",value:e},a)):v.isValidElement(e)?e.type===Br?v.cloneElement(e,an({key:"label-implicit"},a)):v.createElement(Br,Ps({key:"label-implicit",content:e},a)):eN(e)?v.createElement(Br,Ps({key:"label-implicit",content:e},a)):e&&typeof e=="object"?v.createElement(Br,Ps({},e,{key:"label-implicit"},a)):null},Hre=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var{children:s,labelRef:l}=t,c=gR(t),d=wf(s,Br).map((m,h)=>v.cloneElement(m,{viewBox:n||c,key:"label-".concat(h)}));if(!a)return d;var f=Vre(t.label,n||c,l);return[f,...d]};Br.parseViewBox=gR;Br.renderCallByParent=Hre;var db={},fb={},jE;function qre(){return jE||(jE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(fb)),fb}var mb={},NE;function Kre(){return NE||(NE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(mb)),mb}var SE;function Gre(){return SE||(SE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qre(),n=Kre(),a=Pj();function s(l){if(a.isArrayLike(l))return t.last(n.toArray(l))}e.last=s}(db)),db}var hb,_E;function Yre(){return _E||(_E=1,hb=Gre().last),hb}var Wre=Yre();const Xre=$a(Wre);var Zre=["valueAccessor"],Qre=["data","dataKey","clockWise","id","textBreakAll"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Y0.apply(null,arguments)}function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function kE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(a){Jre(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Jre(e,t,n){return(t=eae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AE(e,t){if(e==null)return{};var n,a,s=nae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var rae=e=>Array.isArray(e.value)?Xre(e.value):e.value;function Ui(e){var{valueAccessor:t=rae}=e,n=AE(e,Zre),{data:a,dataKey:s,clockWise:l,id:c,textBreakAll:d}=n,f=AE(n,Qre);return!a||!a.length?null:v.createElement(er,{className:"recharts-label-list"},a.map((m,h)=>{var x=Kt(s)?t(m,h):$t(m&&m.payload,s),g=Kt(c)?{}:{id:"".concat(c,"-").concat(h)};return v.createElement(Br,Y0({},Xt(m,!0),f,g,{parentViewBox:m.parentViewBox,value:x,textBreakAll:d,viewBox:Br.parseViewBox(Kt(l)?m:kE(kE({},m),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Ui.displayName="LabelList";function aae(e,t){return e?e===!0?v.createElement(Ui,{key:"labelList-implicit",data:t}):v.isValidElement(e)||eN(e)?v.createElement(Ui,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(Ui,Y0({data:t},e,{key:"labelList-implicit"})):null:null}function sae(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:a}=e,s=wf(a,Ui).map((c,d)=>v.cloneElement(c,{data:t,key:"labelList-".concat(d)}));if(!n)return s;var l=aae(e.label,t);return[l,...s]}Ui.renderCallByParent=sae;function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mw.apply(null,arguments)}var vR=e=>{var{cx:t,cy:n,r:a,className:s}=e,l=ut("recharts-dot",s);return t===+t&&n===+n&&a===+a?v.createElement("circle",mw({},Zs(e),kj(e),{className:l,cx:t,cy:n,r:a})):null},yR=e=>e.graphicalItems.polarItems,iae=ye([Jt,Af],A2),tN=ye([yR,fn,iae],E2),lae=ye([tN],T2),nN=ye([lae,g2],P2),oae=ye([nN,fn,tN],M2),cae=ye([nN,fn,tN],(e,t,n)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var l,c=$t(a,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:$t(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),EE=()=>{},uae=ye([fn,k8,EE,cae,EE,vt,Jt],R2),bR=ye([fn,vt,nN,oae,kf,Jt,uae],L2),dae=ye([bR,fn,Wc],z2);ye([fn,bR,dae,Jt],U2);var fae={radiusAxis:{},angleAxis:{}},wR=Gr({name:"polarAxis",initialState:fae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Qde,removeRadiusAxis:Jde,addAngleAxis:efe,removeAngleAxis:tfe}=wR.actions,mae=wR.reducer;function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function PE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(a){hae(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function hae(e,t,n){return(t=pae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pae(e){var t=xae(e,"string");return typeof t=="symbol"?t:t+""}function xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gae=(e,t)=>t,rN=ye([yR,gae],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),vae=[],aN=(e,t,n)=>(n==null?void 0:n.length)===0?vae:n,jR=ye([g2,rN,aN],(e,t,n)=>{var{chartData:a}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&n!=null&&(s=n.map(l=>PE(PE({},t.presentationProps),l.props))),s!=null)return s}}),yae=ye([jR,rN,aN],(e,t,n)=>{if(!(e==null||t==null))return e.map((a,s)=>{var l,c=$t(a,t.nameKey,t.name),d;return n!=null&&(l=n[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=n[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?d=a.fill:d=t.fill,{value:Vc(c,t.dataKey),color:d,payload:a,type:t.legendType}})}),bae=ye([jR,rN,aN,Sn],(e,t,n,a)=>{if(!(t==null||e==null))return mse({offset:a,pieSettings:t,displayedData:e,cells:n})}),pb={},OE;function wae(){return OE||(OE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${l}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t}(pb)),pb}var xb,ME;function jae(){return ME||(ME=1,xb=wae().isPlainObject),xb}var Nae=jae();const Sae=$a(Nae);function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W0.apply(null,arguments)}var DE=(e,t,n,a,s)=>{var l=n-a,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+n,",").concat(t),c+="L ".concat(e+n-l/2,",").concat(t+s),c+="L ".concat(e+n-l/2-a,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},_ae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cae=e=>{var t=Yr(e,_ae),n=v.useRef(),[a,s]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m,className:h}=t,{animationEasing:x,animationDuration:g,animationBegin:b,isUpdateAnimationActive:w}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=ut("recharts-trapezoid",h);return w?v.createElement(M0,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:m,x:l,y:c},duration:g,animationEasing:x,isActive:w},S=>{var{upperWidth:_,lowerWidth:C,height:k,x:O,y:A}=S;return v.createElement(M0,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:x},v.createElement("path",W0({},Xt(t,!0),{className:j,d:DE(O,A,_,C,k),ref:n})))}):v.createElement("g",null,v.createElement("path",W0({},Xt(t,!0),{className:j,d:DE(l,c,d,f,m)})))},kae=["option","shapeType","propTransformer","activeClassName","isActive"];function Aae(e,t){if(e==null)return{};var n,a,s=Eae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Eae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function X0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(a){Tae(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Tae(e,t,n){return(t=Pae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pae(e){var t=Oae(e,"string");return typeof t=="symbol"?t:t+""}function Oae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mae(e,t){return X0(X0({},t),e)}function Dae(e,t){return e==="symbols"}function LE(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(sD,n);case"trapezoid":return v.createElement(Cae,n);case"sector":return v.createElement(Gj,n);case"symbols":if(Dae(t))return v.createElement(rM,n);break;default:return null}}function Rae(e){return v.isValidElement(e)?e.props:e}function NR(e){var{option:t,shapeType:n,propTransformer:a=Mae,activeClassName:s="recharts-active-shape",isActive:l}=e,c=Aae(e,kae),d;if(v.isValidElement(t))d=v.cloneElement(t,X0(X0({},c),Rae(t)));else if(typeof t=="function")d=t(c);else if(Sae(t)&&typeof t!="boolean"){var f=a(t,c);d=v.createElement(LE,{shapeType:n,elementProps:f})}else{var m=c;d=v.createElement(LE,{shapeType:n,elementProps:m})}return l?v.createElement(er,{className:s},d):d}var sN=(e,t)=>{var n=dn();return(a,s)=>l=>{e==null||e(a,s,l),n(V8({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},iN=e=>{var t=dn();return(n,a)=>s=>{e==null||e(n,a,s),t(kte())}},lN=(e,t)=>{var n=dn();return(a,s)=>l=>{e==null||e(a,s,l),n(Ate({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function oN(e){var{fn:t,args:n}=e,a=dn(),s=Cr();return v.useEffect(()=>{if(!s){var l=t(n);return a(Ste(l)),()=>{a(_te(l))}}},[t,n,a,s]),null}var SR=()=>{};function _R(e){var{legendPayload:t}=e,n=dn(),a=Cr();return v.useEffect(()=>a?SR:(n(XM(t)),()=>{n(ZM(t))}),[n,a,t]),null}function Lae(e){var{legendPayload:t}=e,n=dn(),a=Ke(vt);return v.useEffect(()=>a!=="centric"&&a!=="radial"?SR:(n(XM(t)),()=>{n(ZM(t))}),[n,a,t]),null}function cN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Xd(t)),a=v.useRef(e);return a.current!==e&&(n.current=Xd(t),a.current=e),n.current}var gb,$ae=()=>{var[e]=v.useState(()=>Xd("uid-"));return e},Iae=(gb=U9.useId)!==null&&gb!==void 0?gb:$ae;function zae(e,t){var n=Iae();return t||(e?"".concat(e,"-").concat(n):n)}var Bae=v.createContext(void 0),uN=e=>{var{id:t,type:n,children:a}=e,s=zae("recharts-".concat(n),t);return v.createElement(Bae.Provider,{value:s},a(s))},Uae={cartesianItems:[],polarItems:[]},CR=Gr({name:"graphicalItems",initialState:Uae,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:a}=t.payload,s=Ls(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=a)},removeCartesianGraphicalItem(e,t){var n=Ls(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Ls(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Fae,replaceCartesianGraphicalItem:Vae,removeCartesianGraphicalItem:Hae,addPolarGraphicalItem:qae,removePolarGraphicalItem:Kae}=CR.actions,Gae=CR.reducer;function kR(e){var t=dn(),n=v.useRef(null);return v.useEffect(()=>{n.current===null?t(Fae(e)):n.current!==e&&t(Vae({prev:n.current,next:e})),n.current=e},[t,e]),v.useEffect(()=>()=>{n.current&&(t(Hae(n.current)),n.current=null)},[t]),null}function Yae(e){var t=dn();return v.useEffect(()=>(t(qae(e)),()=>{t(Kae(e))}),[t,e]),null}function Wae(){}var Xae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$E={t:0},vb={t:1};function dN(e){var t=Yr(e,Xae),{isActive:n,canBegin:a,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=aD("JavascriptAnimate",t.animationManager),[x,g]=v.useState(n?$E:vb),b=v.useRef(null);return v.useEffect(()=>{n||g(vb)},[n]),v.useEffect(()=>{if(!n||!a)return Wae;var w=rD($E,vb,tD(l),s,g,h.getTimeoutController()),j=()=>{b.current=w()};return h.start([f,c,j,s,d]),()=>{h.stop(),b.current&&b.current(),d()}},[n,a,s,l,c,f,d,h]),m(x.t)}var Zae=["onMouseEnter","onClick","onMouseLeave"],Qae=["id"],Jae=["id"];function fN(e,t){if(e==null)return{};var n,a,s=ese(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ese(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(a){tse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function tse(e,t,n){return(t=nse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nse(e){var t=rse(e,"string");return typeof t=="symbol"?t:t+""}function rse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xs.apply(null,arguments)}function ase(e){var t=v.useMemo(()=>wf(e.children,Ds),[e.children]),n=Ke(a=>yae(a,e.id,t));return n==null?null:v.createElement(Lae,{legendPayload:n})}function sse(e){var{dataKey:t,nameKey:n,sectors:a,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:a==null?void 0:a.map(h=>h.tooltipPayload),positions:a==null?void 0:a.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:n,name:Vc(d,t),hide:f,type:m,color:c,unit:""}}}var ise=(e,t)=>e>t?"start":e<t?"end":"middle",lse=(e,t,n)=>typeof t=="function"?t(e):ur(t,n,n*.8),ose=(e,t,n)=>{var{top:a,left:s,width:l,height:c}=t,d=IM(l,c),f=s+ur(e.cx,l,l/2),m=a+ur(e.cy,c,c/2),h=ur(e.innerRadius,d,0),x=lse(n,e.outerRadius,d),g=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:x,maxRadius:g}},cse=(e,t)=>{var n=Dn(t-e),a=Math.min(Math.abs(t-e),360);return n*a},use=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ut("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(qj,Xs({},t,{type:"linear",className:n}))},dse=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var a=n;if(typeof e=="function"&&(a=e(t),v.isValidElement(a)))return a;var s=ut("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return v.createElement(Xp,Xs({},t,{alignmentBaseline:"middle",className:s}),a)};function fse(e){var{sectors:t,props:n,showLabels:a}=e,{label:s,labelLine:l,dataKey:c}=n;if(!a||!s||!t)return null;var d=Zs(n),f=Xt(s,!1),m=Xt(l,!1),h=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,x=t.map((g,b)=>{var w=(g.startAngle+g.endAngle)/2,j=vn(g.cx,g.cy,g.outerRadius+h,w),S=on(on(on(on({},d),g),{},{stroke:"none"},f),{},{index:b,textAnchor:ise(j.x,g.cx)},j),_=on(on(on(on({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:b,points:[vn(g.cx,g.cy,g.outerRadius,w),j],key:"line"});return v.createElement(er,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},l&&use(l,_),dse(s,S,$t(g,c)))});return v.createElement(er,{className:"recharts-pie-labels"},x)}function AR(e){var{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:s,showLabels:l}=e,c=Ke(Yi),{onMouseEnter:d,onClick:f,onMouseLeave:m}=s,h=fN(s,Zae),x=sN(d,s.dataKey),g=iN(m),b=lN(f,s.dataKey);return t==null?null:v.createElement(v.Fragment,null,t.map((w,j)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&t.length!==1)return null;var S=n&&String(j)===c,_=c?a:null,C=S?n:_,k=on(on({},w),{},{stroke:w.stroke,tabIndex:-1,[VM]:j,[HM]:s.dataKey});return v.createElement(er,Xs({tabIndex:-1,className:"recharts-pie-sector"},vp(h,w,j),{onMouseEnter:x(w,j),onMouseLeave:g(w,j),onClick:b(w,j),key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(j)}),v.createElement(NR,Xs({option:C,isActive:S,shapeType:"sector"},k)))}),v.createElement(fse,{sectors:t,props:s,showLabels:l}))}function mse(e){var t,{pieSettings:n,displayedData:a,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:x}=n,g=Math.abs(n.minAngle),b=cse(d,f),w=Math.abs(b),j=a.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=a.filter(T=>$t(T,m,0)!==0).length,_=(w>=360?S:S-1)*j,C=w-S*g-_,k=a.reduce((T,$)=>{var M=$t($,m,0);return T+(Be(M)?M:0)},0),O;if(k>0){var A;O=a.map((T,$)=>{var M=$t(T,m,0),U=$t(T,h,$),K=ose(n,l,T),F=(Be(M)?M:0)/k,B,ne=on(on({},T),s&&s[$]&&s[$].props);$?B=A.endAngle+Dn(b)*j*(M!==0?1:0):B=d;var Ne=B+Dn(b)*((M!==0?g:0)+F*C),se=(B+Ne)/2,D=(K.innerRadius+K.outerRadius)/2,G=[{name:U,value:M,payload:ne,dataKey:m,type:x}],V=vn(K.cx,K.cy,D,se);return A=on(on(on(on({},n.presentationProps),{},{percent:F,cornerRadius:c,name:U,tooltipPayload:G,midAngle:se,middleRadius:D,tooltipPosition:V},ne),K),{},{value:$t(T,m),startAngle:B,endAngle:Ne,payload:ne,paddingAngle:Dn(b)*j}),A})}return O}function hse(e){var{props:t,previousSectorsRef:n}=e,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:h,onAnimationEnd:x}=t,g=cN(t,"recharts-pie-"),b=n.current,[w,j]=v.useState(!0),S=v.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),_=v.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return v.createElement(dN,{begin:l,duration:c,isActive:s,easing:d,onAnimationStart:_,onAnimationEnd:S,key:g},C=>{var k=[],O=a&&a[0],A=O.startAngle;return a.forEach((T,$)=>{var M=b&&b[$],U=$>0?qi(T,"paddingAngle",0):0;if(M){var K=fC(M.endAngle-M.startAngle,T.endAngle-T.startAngle),F=on(on({},T),{},{startAngle:A+U,endAngle:A+K(C)+U});k.push(F),A=F.endAngle}else{var{endAngle:B,startAngle:ne}=T,Ne=fC(0,B-ne),se=Ne(C),D=on(on({},T),{},{startAngle:A+U,endAngle:A+se+U});k.push(D),A=D.endAngle}}),n.current=k,v.createElement(er,null,v.createElement(AR,{sectors:k,activeShape:f,inactiveShape:m,allOtherPieProps:t,showLabels:!w}))})}function pse(e){var{sectors:t,isAnimationActive:n,activeShape:a,inactiveShape:s}=e,l=v.useRef(null),c=l.current;return n&&t&&t.length&&(!c||c!==t)?v.createElement(hse,{props:e,previousSectorsRef:l}):v.createElement(AR,{sectors:t,activeShape:a,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function xse(e){var{hide:t,className:n,rootTabIndex:a}=e,s=ut("recharts-pie",n);return t?null:v.createElement(er,{tabIndex:a,className:s},v.createElement(pse,e))}var gse={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!eo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function vse(e){var{id:t}=e,n=fN(e,Qae),a=v.useMemo(()=>wf(e.children,Ds),[e.children]),s=Ke(l=>bae(l,t,a));return v.createElement(v.Fragment,null,v.createElement(oN,{fn:sse,args:on(on({},e),{},{sectors:s})}),v.createElement(xse,Xs({},n,{sectors:s})))}function of(e){var t=Yr(e,gse),{id:n}=t,a=fN(t,Jae),s=Zs(a);return v.createElement(uN,{id:n,type:"pie"},l=>v.createElement(v.Fragment,null,v.createElement(Yae,{type:"pie",id:l,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s}),v.createElement(ase,Xs({},a,{id:l})),v.createElement(vse,Xs({},a,{id:l})),a.children))}of.displayName="Pie";var yse=ye([Sn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),bse=ye([yse,Qs,Js],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),mN=()=>Ke(bse),wse=()=>Ke(hne);function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function BE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(a){jse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function jse(e,t,n){return(t=Nse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nse(e){var t=Sse(e,"string");return typeof t=="symbol"?t:t+""}function Sse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _se=e=>{var{point:t,childIndex:n,mainColor:a,activeDot:s,dataKey:l}=e;if(s===!1||t.x==null||t.y==null)return null;var c=BE(BE({index:n,dataKey:l,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Xt(s,!1)),kj(s)),d;return v.isValidElement(s)?d=v.cloneElement(s,c):typeof s=="function"?d=s(c):d=v.createElement(vR,c),v.createElement(er,{className:"recharts-active-dot"},d)};function Cse(e){var{points:t,mainColor:n,activeDot:a,itemDataKey:s}=e,l=Ke(Yi),c=wse();if(t==null||c==null)return null;var d=t.find(f=>c.includes(f.payload));return Kt(d)?null:_se({point:d,childIndex:Number(l),mainColor:n,dataKey:s,activeDot:a})}var kse="Invariant failed";function Ase(e,t){throw new Error(kse)}var Ese=["x","y"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hw.apply(null,arguments)}function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(n),!0).forEach(function(a){Tse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Tse(e,t,n){return(t=Pse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pse(e){var t=Ose(e,"string");return typeof t=="symbol"?t:t+""}function Ose(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mse(e,t){if(e==null)return{};var n,a,s=Dse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Dse(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Rse(e,t){var{x:n,y:a}=e,s=Mse(e,Ese),l="".concat(n),c=parseInt(l,10),d="".concat(a),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),x="".concat(t.width||s.width),g=parseInt(x,10);return id(id(id(id(id({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function ER(e){return v.createElement(NR,hw({shapeType:"rectangle",propTransformer:Rse,activeClassName:"recharts-active-bar"},e))}var Lse=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Be(t))return t;var l=Be(a)||Kt(a);return l?t(a,s):(l||Ase(),n)}},$se={},TR=Gr({name:"errorBars",initialState:$se,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:a}=t.payload;e[n]||(e[n]=[]),e[n].push(a)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:a}=t.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:nfe,removeErrorBar:rfe}=TR.actions,Ise=TR.reducer,zse=["children"];function Bse(e,t){if(e==null)return{};var n,a,s=Use(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Use(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Fse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Vse=v.createContext(Fse);function PR(e){var{children:t}=e,n=Bse(e,zse);return v.createElement(Vse.Provider,{value:n},t)}function hN(e,t){var n,a,s=Ke(m=>ti(m,e)),l=Ke(m=>el(m,t)),c=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:$r.allowDataOverflow,d=(a=l==null?void 0:l.allowDataOverflow)!==null&&a!==void 0?a:Ir.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function OR(e){var{xAxisId:t,yAxisId:n,clipPathId:a}=e,s=mN(),{needClipX:l,needClipY:c,needClip:d}=hN(t,n);if(!d)return null;var{x:f,y:m,width:h,height:x}=s;return v.createElement("clipPath",{id:"clipPath-".concat(a)},v.createElement("rect",{x:l?f:f-h/2,y:c?m:m-x/2,width:l?h:h*2,height:c?x:x*2}))}var Hse=["onMouseEnter","onMouseLeave","onClick"],qse=["value","background","tooltipPosition"],Kse=["id"],Gse=["onMouseEnter","onClick","onMouseLeave"];function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tc.apply(null,arguments)}function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(a){Yse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Yse(e,t,n){return(t=Wse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wse(e){var t=Xse(e,"string");return typeof t=="symbol"?t:t+""}function Xse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z0(e,t){if(e==null)return{};var n,a,s=Zse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Zse(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Qse=e=>{var{dataKey:t,name:n,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:a,value:Vc(n,t),payload:e}]};function Jse(e){var{dataKey:t,stroke:n,strokeWidth:a,fill:s,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Vc(l,t),hide:c,type:e.tooltipType,color:e.fill,unit:d}}}function eie(e){var t=Ke(Yi),{data:n,dataKey:a,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=Z0(l,Hse),h=sN(c,a),x=iN(d),g=lN(f,a);if(!s||n==null)return null;var b=Xt(s,!1);return v.createElement(v.Fragment,null,n.map((w,j)=>{var{value:S,background:_,tooltipPosition:C}=w,k=Z0(w,qse);if(!_)return null;var O=h(w,j),A=x(w,j),T=g(w,j),$=Xn(Xn(Xn(Xn(Xn({option:s,isActive:String(j)===t},k),{},{fill:"#eee"},_),b),vp(m,w,j)),{},{onMouseEnter:O,onMouseLeave:A,onClick:T,dataKey:a,index:j,className:"recharts-bar-background-rectangle"});return v.createElement(ER,Tc({key:"background-bar-".concat(j)},$))}))}function MR(e){var{data:t,props:n,showLabels:a}=e,s=Zs(n),{id:l}=s,c=Z0(s,Kse),{shape:d,dataKey:f,activeBar:m}=n,h=Ke(Yi),x=Ke(nR),{onMouseEnter:g,onClick:b,onMouseLeave:w}=n,j=Z0(n,Gse),S=sN(g,f),_=iN(w),C=lN(b,f);return t?v.createElement(v.Fragment,null,t.map((k,O)=>{var A=m&&String(O)===h&&(x==null||f===x),T=A?m:d,$=Xn(Xn(Xn({},c),k),{},{isActive:A,option:T,index:O,dataKey:f});return v.createElement(er,Tc({className:"recharts-bar-rectangle"},vp(j,k,O),{onMouseEnter:S(k,O),onMouseLeave:_(k,O),onClick:C(k,O),key:"rectangle-".concat(k==null?void 0:k.x,"-").concat(k==null?void 0:k.y,"-").concat(k==null?void 0:k.value,"-").concat(O)}),v.createElement(ER,$))}),a&&Ui.renderCallByParent(n,t)):null}function tie(e){var{props:t,previousRectanglesRef:n}=e,{data:a,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,x=n.current,g=cN(t,"recharts-bar-"),[b,w]=v.useState(!1),j=v.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),S=v.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return v.createElement(dN,{begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:S,key:g},_=>{var C=_===1?a:a==null?void 0:a.map((k,O)=>{var A=x&&x[O];if(A)return Xn(Xn({},k),{},{x:Aa(A.x,k.x,_),y:Aa(A.y,k.y,_),width:Aa(A.width,k.width,_),height:Aa(A.height,k.height,_)});if(s==="horizontal"){var T=Aa(0,k.height,_);return Xn(Xn({},k),{},{y:k.y+k.height-T,height:T})}var $=Aa(0,k.width,_);return Xn(Xn({},k),{},{width:$})});return _>0&&(n.current=C??null),C==null?null:v.createElement(er,null,v.createElement(MR,{props:t,data:C,showLabels:!b}))})}function nie(e){var{data:t,isAnimationActive:n}=e,a=v.useRef(null);return n&&t&&t.length&&(a.current==null||a.current!==t)?v.createElement(tie,{previousRectanglesRef:a,props:e}):v.createElement(MR,{props:e,data:t,showLabels:!0})}var DR=0,rie=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:$t(e,t)}};class aie extends v.PureComponent{render(){var{hide:t,data:n,dataKey:a,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t)return null;var h=ut("recharts-bar",s),x=m;return v.createElement(er,{className:h,id:m},d&&v.createElement("defs",null,v.createElement(OR,{clipPathId:x,xAxisId:l,yAxisId:c})),v.createElement(er,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},v.createElement(eie,{data:n,dataKey:a,background:f,allOtherBarProps:this.props}),v.createElement(nie,this.props)),this.props.children)}}var sie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!eo.isSsr,legendType:"rect",minPointSize:DR,xAxisId:0,yAxisId:0};function iie(e){var{xAxisId:t,yAxisId:n,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:x}=hN(t,n),g=Op(),b=Cr(),w=wf(e.children,Ds),j=Ke(C=>Mie(C,t,n,b,e.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var S,_=j==null?void 0:j[0];return _==null||_.height==null||_.width==null?S=0:S=g==="vertical"?_.height/2:_.width/2,v.createElement(PR,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:rie,errorBarOffset:S},v.createElement(aie,Tc({},e,{layout:g,needClip:x,data:j,xAxisId:t,yAxisId:n,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function lie(e){var{layout:t,barSettings:{dataKey:n,minPointSize:a},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:x,offset:g,cells:b}=e,w=t==="horizontal"?d:c,j=h?w.scale.domain():null,S=rX({numericAxis:w});return x.map((_,C)=>{var k,O,A,T,$,M;h?k=ZW(h[C],j):(k=$t(_,n),Array.isArray(k)||(k=[S,k]));var U=Lse(a,DR)(k[1],C);if(t==="horizontal"){var K,[F,B]=[d.scale(k[0]),d.scale(k[1])];O=kk({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:_,index:C}),A=(K=B??F)!==null&&K!==void 0?K:void 0,T=s.size;var ne=F-B;if($=Vr(ne)?0:ne,M={x:O,y:g.top,width:T,height:g.height},Math.abs(U)>0&&Math.abs($)<Math.abs(U)){var Ne=Dn($||U)*(Math.abs(U)-Math.abs($));A-=Ne,$+=Ne}}else{var[se,D]=[c.scale(k[0]),c.scale(k[1])];if(O=se,A=kk({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:_,index:C}),T=D-se,$=s.size,M={x:g.left,y:A,width:g.width,height:$},Math.abs(U)>0&&Math.abs(T)<Math.abs(U)){var G=Dn(T||U)*(Math.abs(U)-Math.abs(T));T+=G}}if(O==null||A==null||T==null||$==null)return null;var V=Xn(Xn({},_),{},{x:O,y:A,width:T,height:$,value:h?k:k[1],payload:_,background:M,tooltipPosition:{x:O+T/2,y:A+$/2}},b&&b[C]&&b[C].props);return V}).filter(Boolean)}function Dd(e){var t=Yr(e,sie),n=Cr();return v.createElement(uN,{id:t.id,type:"bar"},a=>v.createElement(v.Fragment,null,v.createElement(_R,{legendPayload:Qse(t)}),v.createElement(oN,{fn:Jse,args:t}),v.createElement(kR,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:nX(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),v.createElement(iie,Tc({},t,{id:a}))))}Dd.displayName="Bar";function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(a){oie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function oie(e,t,n){return(t=cie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cie(e){var t=uie(e,"string");return typeof t=="symbol"?t:t+""}function uie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var die=(e,t)=>t,fie=(e,t,n)=>n,mie=(e,t,n,a)=>a,hie=(e,t,n,a,s)=>s,Df=ye([Hp,hie],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),pie=ye([Df],e=>e==null?void 0:e.maxBarSize),xie=(e,t,n,a,s,l)=>l,HE=(e,t,n)=>{var a=n??e;if(!Kt(a))return ur(a,t,0)},gie=ye([vt,Hp,die,fie,mie],(e,t,n,a,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===a).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),vie=(e,t,n,a)=>{var s=vt(e);return s==="horizontal"?lw(e,"yAxis",n,a):lw(e,"xAxis",t,a)},yie=(e,t,n)=>{var a=vt(e);return a==="horizontal"?qA(e,"xAxis",t):qA(e,"yAxis",n)},bie=(e,t,n)=>{var a={},s=e.filter(Vp),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),d=Object.entries(c).map(m=>{var[h,x]=m,g=x.map(w=>w.dataKey),b=HE(t,n,x[0].barSize);return{stackId:h,dataKeys:g,barSize:b}}),f=l.map(m=>{var h=[m.dataKey].filter(g=>g!=null),x=HE(t,n,m.barSize);return{stackId:void 0,dataKeys:h,barSize:x}});return[...d,...f]},wie=ye([gie,_ee,yie],bie),jie=(e,t,n,a,s)=>{var l,c,d=Df(e,t,n,a,s);if(d!=null){var f=vt(e),m=r8(e),{maxBarSize:h}=d,x=Kt(h)?m:h,g,b;return f==="horizontal"?(g=Gi(e,"xAxis",t,a),b=Ki(e,"xAxis",t,a)):(g=Gi(e,"yAxis",n,a),b=Ki(e,"yAxis",n,a)),(l=(c=Jd(g,b,!0))!==null&&c!==void 0?c:x)!==null&&l!==void 0?l:0}},RR=(e,t,n,a)=>{var s=vt(e),l,c;return s==="horizontal"?(l=Gi(e,"xAxis",t,a),c=Ki(e,"xAxis",t,a)):(l=Gi(e,"yAxis",n,a),c=Ki(e,"yAxis",n,a)),Jd(l,c)};function Nie(e,t,n,a,s){var l=a.length;if(!(l<1)){var c=ur(e,n,0,!0),d,f=[];if(Kr(a[0].barSize)){var m=!1,h=n/l,x=a.reduce((_,C)=>_+(C.barSize||0),0);x+=(l-1)*c,x>=n&&(x-=(l-1)*c,c=0),x>=n&&h>0&&(m=!0,h*=.9,x=l*h);var g=(n-x)/2>>0,b={offset:g-c,size:0};d=a.reduce((_,C)=>{var k,O={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b.offset+b.size+c,size:m?h:(k=C.barSize)!==null&&k!==void 0?k:0}},A=[..._,O];return b=A[A.length-1].position,A},f)}else{var w=ur(t,n,0,!0);n-2*w-(l-1)*c<=0&&(c=0);var j=(n-2*w-(l-1)*c)/l;j>1&&(j>>=0);var S=Kr(s)?Math.min(j,s):j;d=a.reduce((_,C,k)=>[..._,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w+(j+c)*k+(j-S)/2,size:S}}],f)}return d}}var Sie=(e,t,n,a,s,l,c)=>{var d=Kt(c)?t:c,f=Nie(n,a,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>xh(xh({},m),{},{position:xh(xh({},m.position),{},{offset:m.position.offset-s/2})}))),f},_ie=ye([wie,r8,See,a8,jie,RR,pie],Sie),Cie=(e,t,n,a)=>Gi(e,"xAxis",t,a),kie=(e,t,n,a)=>Gi(e,"yAxis",n,a),Aie=(e,t,n,a)=>Ki(e,"xAxis",t,a),Eie=(e,t,n,a)=>Ki(e,"yAxis",n,a),Tie=ye([_ie,Df],(e,t)=>{if(!(e==null||t==null)){var n=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Pie=(e,t)=>{var n=C2(t);if(!(!e||n==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===n)}}}},Oie=ye([vie,Df],Pie),Mie=ye([Sn,Cie,kie,Aie,Eie,Tie,vt,zp,RR,Oie,Df,xie],(e,t,n,a,s,l,c,d,f,m,h,x)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:w}=d;if(!(h==null||l==null||c!=="horizontal"&&c!=="vertical"||t==null||n==null||a==null||s==null||f==null)){var{data:j}=h,S;if(j!=null&&j.length>0?S=j:S=g==null?void 0:g.slice(b,w+1),S!=null)return lie({layout:c,barSettings:h,pos:l,bandSize:f,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:m,displayedData:S,offset:e,cells:x})}}),LR=e=>{var{chartData:t}=e,n=dn(),a=Cr();return v.useEffect(()=>a?()=>{}:(n(tE(t)),()=>{n(tE(void 0))}),[t,n,a]),null},qE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$R=Gr({name:"brush",initialState:qE,reducers:{setBrushSettings(e,t){return t.payload==null?qE:t.payload}}}),{setBrushSettings:afe}=$R.actions,Die=$R.reducer;function Rie(e,t,n){return(t=Lie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lie(e){var t=$ie(e,"string");return typeof t=="symbol"?t:t+""}function $ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pN{static create(t){return new pN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}Rie(pN,"EPS",1e-4);function Iie(e){return(e%180+180)%180}var zie=function(t){var{width:n,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=Iie(s),c=l*Math.PI/180,d=Math.atan(a/n),f=c>d&&c<Math.PI-d?a/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Bie={dots:[],areas:[],lines:[]},IR=Gr({name:"referenceElements",initialState:Bie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ls(e).dots.findIndex(a=>a===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ls(e).areas.findIndex(a=>a===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ls(e).lines.findIndex(a=>a===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:sfe,removeDot:ife,addArea:lfe,removeArea:ofe,addLine:cfe,removeLine:ufe}=IR.actions,Uie=IR.reducer,Fie=v.createContext(void 0),Vie=e=>{var{children:t}=e,[n]=v.useState("".concat(Xd("recharts"),"-clip")),a=mN();if(a==null)return null;var{x:s,y:l,width:c,height:d}=a;return v.createElement(Fie.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:s,y:l,height:d,width:c}))),t)};function yb(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function zR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function Hie(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return zie(a,n)}function qie(e,t,n){var a=n==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:a?s:l,end:a?s+c:l+d}:{start:a?s+c:l+d,end:a?s:l}}function Q0(e,t,n,a,s){if(e*t<e*a||e*t>e*s)return!1;var l=n();return e*(t-e*l/2-a)>=0&&e*(t+e*l/2-s)<=0}function Kie(e,t){return zR(e,t+1)}function Gie(e,t,n,a,s){for(var l=(a||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,x=function(){var w=a==null?void 0:a[f];if(w===void 0)return{v:zR(a,m)};var j=f,S,_=()=>(S===void 0&&(S=n(w,j)),S),C=w.coordinate,k=f===0||Q0(e,C,_,h,d);k||(f=0,h=c,m+=1),k&&(h=C+e*(_()/2+s),f+=m)},g;m<=l.length;)if(g=x(),g)return g.v;return[]}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(a){Yie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Yie(e,t,n){return(t=Wie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wie(e){var t=Xie(e,"string");return typeof t=="symbol"?t:t+""}function Xie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zie(e,t,n,a,s){for(var l=(a||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(g){var b=l[g],w,j=()=>(w===void 0&&(w=n(b,g)),w);if(g===c-1){var S=e*(b.coordinate+e*j()/2-f);l[g]=b=Wn(Wn({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else l[g]=b=Wn(Wn({},b),{},{tickCoord:b.coordinate});var _=Q0(e,b.tickCoord,j,d,f);_&&(f=b.tickCoord-e*(j()/2+s),l[g]=Wn(Wn({},b),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return l}function Qie(e,t,n,a,s,l){var c=(a||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=a[d-1],x=n(h,d-1),g=e*(h.coordinate+e*x/2-m);c[d-1]=h=Wn(Wn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var b=Q0(e,h.tickCoord,()=>x,f,m);b&&(m=h.tickCoord-e*(x/2+s),c[d-1]=Wn(Wn({},h),{},{isShow:!0}))}for(var w=l?d-1:d,j=function(C){var k=c[C],O,A=()=>(O===void 0&&(O=n(k,C)),O);if(C===0){var T=e*(k.coordinate-e*A()/2-f);c[C]=k=Wn(Wn({},k),{},{tickCoord:T<0?k.coordinate-T*e:k.coordinate})}else c[C]=k=Wn(Wn({},k),{},{tickCoord:k.coordinate});var $=Q0(e,k.tickCoord,A,f,m);$&&(f=k.tickCoord+e*(A()/2+s),c[C]=Wn(Wn({},k),{},{isShow:!0}))},S=0;S<w;S++)j(S);return c}function xN(e,t,n){var{tick:a,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:x}=e;if(!s||!s.length||!a)return[];if(Be(f)||eo.isSsr){var g;return(g=Kie(s,Be(f)?f:0))!==null&&g!==void 0?g:[]}var b=[],w=d==="top"||d==="bottom"?"width":"height",j=h&&w==="width"?Md(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(k,O)=>{var A=typeof m=="function"?m(k.value,O):k.value;return w==="width"?Hie(Md(A,{fontSize:t,letterSpacing:n}),j,x):Md(A,{fontSize:t,letterSpacing:n})[w]},_=s.length>=2?Dn(s[1].coordinate-s[0].coordinate):1,C=qie(l,_,w);return f==="equidistantPreserveStart"?Gie(_,C,S,s,c):(f==="preserveStart"||f==="preserveStartEnd"?b=Qie(_,C,S,s,c,f==="preserveStartEnd"):b=Zie(_,C,S,s,c),b.filter(k=>k.isShow))}var Jie=["viewBox"],ele=["viewBox"];function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lc.apply(null,arguments)}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(a){gN(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function YE(e,t){if(e==null)return{};var n,a,s=tle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function tle(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function gN(e,t,n){return(t=nle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nle(e){var t=rle(e,"string");return typeof t=="symbol"?t:t+""}function rle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tl extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:a}=t,s=YE(t,Jie),l=this.props,{viewBox:c}=l,d=YE(l,ele);return!yb(a,c)||!yb(s,d)||!yb(n,this.state)}getTickLineCoord(t){var{x:n,y:a,width:s,height:l,orientation:c,tickSize:d,mirror:f,tickMargin:m}=this.props,h,x,g,b,w,j,S=f?-1:1,_=t.tickSize||d,C=Be(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=x=t.coordinate,b=a+ +!f*l,g=b-S*_,j=g-S*m,w=C;break;case"left":g=b=t.coordinate,x=n+ +!f*s,h=x-S*_,w=h-S*m,j=C;break;case"right":g=b=t.coordinate,x=n+ +f*s,h=x+S*_,w=h+S*m,j=C;break;default:h=x=t.coordinate,b=a+ +f*l,g=b+S*_,j=g+S*m,w=C;break}return{line:{x1:h,y1:g,x2:x,y2:b},tick:{x:w,y:j}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,a;switch(t){case"left":a=n?"start":"end";break;case"right":a=n?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:a,height:s,orientation:l,mirror:c,axisLine:d}=this.props,f=Nn(Nn(Nn({},Xt(this.props,!1)),Xt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);f=Nn(Nn({},f),{},{x1:t,y1:n+m*s,x2:t+a,y2:n+m*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=Nn(Nn({},f),{},{x1:t+h*a,y1:n,x2:t+h*a,y2:n+s})}return v.createElement("line",lc({},f,{className:ut("recharts-cartesian-axis-line",qi(d,"className"))}))}static renderTickItem(t,n,a){var s,l=ut(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))s=v.cloneElement(t,Nn(Nn({},n),{},{className:l}));else if(typeof t=="function")s=t(Nn(Nn({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=ut(c,t.className)),s=v.createElement(Xp,lc({},n,{className:c}),a)}return s}renderTicks(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:l,tick:c,tickFormatter:d,unit:f,padding:m}=this.props,h=xN(Nn(Nn({},this.props),{},{ticks:a}),t,n),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=Zs(this.props),w=Xt(c,!1),j=Nn(Nn({},b),{},{fill:"none"},Xt(s,!1)),S=h.map((_,C)=>{var{line:k,tick:O}=this.getTickLineCoord(_),A=Nn(Nn(Nn(Nn({textAnchor:x,verticalAnchor:g},b),{},{stroke:"none",fill:l},w),O),{},{index:C,payload:_,visibleTicksCount:h.length,tickFormatter:d,padding:m});return v.createElement(er,lc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},vp(this.props,_,C)),s&&v.createElement("line",lc({},j,k,{className:ut("recharts-cartesian-axis-tick-line",qi(s,"className"))})),c&&tl.renderTickItem(c,A,"".concat(typeof d=="function"?d(_.value,C):_.value).concat(f||"")))});return S.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:t,width:n,height:a,className:s,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return n!=null&&n<=0||a!=null&&a<=0?null:v.createElement(er,{className:ut("recharts-cartesian-axis",s),ref:d=>{if(d){var f=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var m=f[0];if(m){var h=window.getComputedStyle(m).fontSize,x=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),Br.renderCallByParent(this.props))}}gN(tl,"displayName","CartesianAxis");gN(tl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ale=["x1","y1","x2","y2","key"],sle=["offset"],ile=["xAxisId","yAxisId"],lle=["xAxisId","yAxisId"];function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(n),!0).forEach(function(a){ole(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ole(e,t,n){return(t=cle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cle(e){var t=ule(e,"string");return typeof t=="symbol"?t:t+""}function ule(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bl.apply(null,arguments)}function J0(e,t){if(e==null)return{};var n,a,s=dle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dle(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var fle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:a,y:s,width:l,height:c,ry:d}=e;return v.createElement("rect",{x:a,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BR(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:a,y1:s,x2:l,y2:c,key:d}=t,f=J0(t,ale),m=Zs(f),{offset:h}=m,x=J0(m,sle);n=v.createElement("line",Bl({},x,{x1:a,y1:s,x2:l,y2:c,fill:"none",key:d}))}return n}function mle(e){var{x:t,width:n,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=J0(e,ile),f=s.map((m,h)=>{var x=Zn(Zn({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(h),index:h});return BR(a,x)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function hle(e){var{y:t,height:n,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=J0(e,lle),f=s.map((m,h)=>{var x=Zn(Zn({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(h),index:h});return BR(a,x)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function ple(e){var{horizontalFill:t,fillOpacity:n,x:a,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(x=>Math.round(x+s-s)).sort((x,g)=>x-g);s!==m[0]&&m.unshift(0);var h=m.map((x,g)=>{var b=!m[g+1],w=b?s+c-x:m[g+1]-x;if(w<=0)return null;var j=g%t.length;return v.createElement("rect",{key:"react-".concat(g),y:x,x:a,height:w,width:l,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function xle(e){var{vertical:t=!0,verticalFill:n,fillOpacity:a,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(x=>Math.round(x+s-s)).sort((x,g)=>x-g);s!==m[0]&&m.unshift(0);var h=m.map((x,g)=>{var b=!m[g+1],w=b?s+c-x:m[g+1]-x;if(w<=0)return null;var j=g%n.length;return v.createElement("rect",{key:"react-".concat(g),x,y:l,width:w,height:d,stroke:"none",fill:n[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var gle=(e,t)=>{var{xAxis:n,width:a,height:s,offset:l}=e;return BM(xN(Zn(Zn(Zn({},tl.defaultProps),n),{},{ticks:UM(n),viewBox:{x:0,y:0,width:a,height:s}})),l.left,l.left+l.width,t)},vle=(e,t)=>{var{yAxis:n,width:a,height:s,offset:l}=e;return BM(xN(Zn(Zn(Zn({},tl.defaultProps),n),{},{ticks:UM(n),viewBox:{x:0,y:0,width:a,height:s}})),l.top,l.top+l.height,t)},yle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Fi(e){var t=GM(),n=YM(),a=KM(),s=Zn(Zn({},Yr(e,yle)),{},{x:Be(e.x)?e.x:a.left,y:Be(e.y)?e.y:a.top,width:Be(e.width)?e.width:a.width,height:Be(e.height)?e.height:a.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:x,horizontalValues:g,verticalValues:b}=s,w=Cr(),j=Ke(U=>KA(U,"xAxis",l,w)),S=Ke(U=>KA(U,"yAxis",c,w));if(!Be(m)||m<=0||!Be(h)||h<=0||!Be(d)||d!==+d||!Be(f)||f!==+f)return null;var _=s.verticalCoordinatesGenerator||gle,C=s.horizontalCoordinatesGenerator||vle,{horizontalPoints:k,verticalPoints:O}=s;if((!k||!k.length)&&typeof C=="function"){var A=g&&g.length,T=C({yAxis:S?Zn(Zn({},S),{},{ticks:A?g:S.ticks}):void 0,width:t,height:n,offset:a},A?!0:x);Od(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(k=T)}if((!O||!O.length)&&typeof _=="function"){var $=b&&b.length,M=_({xAxis:j?Zn(Zn({},j),{},{ticks:$?b:j.ticks}):void 0,width:t,height:n,offset:a},$?!0:x);Od(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(O=M)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(fle,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),v.createElement(ple,Bl({},s,{horizontalPoints:k})),v.createElement(xle,Bl({},s,{verticalPoints:O})),v.createElement(mle,Bl({},s,{offset:a,horizontalPoints:k,xAxis:j,yAxis:S})),v.createElement(hle,Bl({},s,{offset:a,verticalPoints:O,xAxis:j,yAxis:S})))}Fi.displayName="CartesianGrid";var UR=(e,t,n,a)=>Gi(e,"xAxis",t,a),FR=(e,t,n,a)=>Ki(e,"xAxis",t,a),VR=(e,t,n,a)=>Gi(e,"yAxis",n,a),HR=(e,t,n,a)=>Ki(e,"yAxis",n,a),ble=ye([vt,UR,VR,FR,HR],(e,t,n,a,s)=>Xi(e,"xAxis")?Jd(t,a,!1):Jd(n,s,!1)),wle=(e,t,n,a,s)=>s;function jle(e){return e.type==="line"}var Nle=ye([Hp,wle],(e,t)=>e.filter(jle).find(n=>n.id===t)),Sle=ye([vt,UR,VR,FR,HR,Nle,ble,zp],(e,t,n,a,s,l,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:h}=d;if(!(l==null||t==null||n==null||a==null||s==null||a.length===0||s.length===0||c==null)){var{dataKey:x,data:g}=l,b;if(g!=null&&g.length>0?b=g:b=f==null?void 0:f.slice(m,h+1),b!=null)return qle({layout:e,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:x,bandSize:c,displayedData:b})}}),_le=["id"],Cle=["type","layout","connectNulls","needClip"],kle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(a){Ale(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ale(e,t,n){return(t=Ele(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ele(e){var t=Tle(e,"string");return typeof t=="symbol"?t:t+""}function Tle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vN(e,t){if(e==null)return{};var n,a,s=Ple(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ple(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ql.apply(null,arguments)}var Ole=e=>{var{dataKey:t,name:n,stroke:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:a,value:Vc(n,t),payload:e}]};function Mle(e){var{dataKey:t,data:n,stroke:a,strokeWidth:s,fill:l,name:c,hide:d,unit:f}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:Vc(c,t),hide:d,type:e.tooltipType,color:e.stroke,unit:f}}}var qR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Dle(e,t){for(var n=e.length%2!==0?[...e,0]:e,a=[],s=0;s<t;++s)a=[...a,...n];return a}var Rle=(e,t,n)=>{var a=n.reduce((x,g)=>x+g);if(!a)return qR(t,e);for(var s=Math.floor(e/a),l=e%a,c=t-e,d=[],f=0,m=0;f<n.length;m+=n[f],++f)if(m+n[f]>l){d=[...n.slice(0,f),l-m];break}var h=d.length%2===0?[0,c]:[c];return[...Dle(n,s),...d,...h].map(x=>"".concat(x,"px")).join(", ")};function Lle(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var a=ut("recharts-line-dot",typeof e!="boolean"?e.className:"");n=v.createElement(vR,Ql({},t,{className:a}))}return n}function $le(e,t){return e==null?!1:t?!0:e.length===1}function Ile(e){var{clipPathId:t,points:n,props:a}=e,{dot:s,dataKey:l,needClip:c}=a;if(!$le(n,s))return null;var{id:d}=a,f=vN(a,_le),m=IO(s),h=Zs(f),x=Xt(s,!0),g=n.map((w,j)=>{var S=Ea(Ea(Ea({key:"dot-".concat(j),r:3},h),x),{},{index:j,cx:w.x,cy:w.y,dataKey:l,value:w.value,payload:w.payload,points:n});return Lle(s,S)}),b={clipPath:c?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return v.createElement(er,Ql({className:"recharts-line-dots",key:"dots"},b),g)}function pw(e){var{clipPathId:t,pathRef:n,points:a,strokeDasharray:s,props:l,showLabels:c}=e,{type:d,layout:f,connectNulls:m,needClip:h}=l,x=vN(l,Cle),g=Ea(Ea({},Xt(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:a,type:d,layout:f,connectNulls:m,strokeDasharray:s??l.strokeDasharray});return v.createElement(v.Fragment,null,(a==null?void 0:a.length)>1&&v.createElement(qj,Ql({},g,{pathRef:n})),v.createElement(Ile,{points:a,clipPathId:t,props:l}),c&&Ui.renderCallByParent(l,a))}function zle(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ble(e){var{clipPathId:t,props:n,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:d,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:x,animateNewValues:g,width:b,height:w,onAnimationEnd:j,onAnimationStart:S}=n,_=s.current,C=cN(n,"recharts-line-"),[k,O]=v.useState(!1),A=v.useCallback(()=>{typeof j=="function"&&j(),O(!1)},[j]),T=v.useCallback(()=>{typeof S=="function"&&S(),O(!0)},[S]),$=zle(a.current),M=l.current;return v.createElement(dN,{begin:m,duration:h,isActive:f,easing:x,onAnimationEnd:A,onAnimationStart:T,key:C},U=>{var K=Aa(M,$+M,U),F=Math.min(K,$),B;if(d){var ne="".concat(d).split(/[,\s]+/gim).map(D=>parseFloat(D));B=Rle(F,$,ne)}else B=qR($,F);if(_){var Ne=_.length/c.length,se=U===1?c:c.map((D,G)=>{var V=Math.floor(G*Ne);if(_[V]){var z=_[V];return Ea(Ea({},D),{},{x:Aa(z.x,D.x,U),y:Aa(z.y,D.y,U)})}return g?Ea(Ea({},D),{},{x:Aa(b*2,D.x,U),y:Aa(w/2,D.y,U)}):Ea(Ea({},D),{},{x:D.x,y:D.y})});return s.current=se,v.createElement(pw,{props:n,points:se,clipPathId:t,pathRef:a,showLabels:!k,strokeDasharray:B})}return U>0&&$>0&&(s.current=c,l.current=F),v.createElement(pw,{props:n,points:c,clipPathId:t,pathRef:a,showLabels:!k,strokeDasharray:B})})}function Ule(e){var{clipPathId:t,props:n}=e,{points:a,isAnimationActive:s}=n,l=v.useRef(null),c=v.useRef(0),d=v.useRef(null),f=l.current;return s&&a&&a.length&&f!==a?v.createElement(Ble,{props:n,clipPathId:t,previousPointsRef:l,longestAnimatedLengthRef:c,pathRef:d}):v.createElement(pw,{props:n,points:a,clipPathId:t,pathRef:d,showLabels:!0})}var Fle=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:$t(e.payload,t)});class Vle extends v.Component{render(){var t,{hide:n,dot:a,points:s,className:l,xAxisId:c,yAxisId:d,top:f,left:m,width:h,height:x,id:g,needClip:b}=this.props;if(n)return null;var w=ut("recharts-line",l),j=g,{r:S=3,strokeWidth:_=2}=(t=Xt(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},C=IO(a),k=S*2+_;return v.createElement(v.Fragment,null,v.createElement(er,{className:w},b&&v.createElement("defs",null,v.createElement(OR,{clipPathId:j,xAxisId:c,yAxisId:d}),!C&&v.createElement("clipPath",{id:"clipPath-dots-".concat(j)},v.createElement("rect",{x:m-k/2,y:f-k/2,width:h+k,height:x+k}))),v.createElement(Ule,{props:this.props,clipPathId:j}),v.createElement(PR,{xAxisId:c,yAxisId:d,data:s,dataPointFormatter:Fle,errorBarOffset:0},this.props.children)),v.createElement(Cse,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var KR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!eo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Hle(e){var t=Yr(e,KR),{activeDot:n,animateNewValues:a,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:f,hide:m,isAnimationActive:h,label:x,legendType:g,xAxisId:b,yAxisId:w,id:j}=t,S=vN(t,kle),{needClip:_}=hN(b,w),C=mN(),k=Op(),O=Cr(),A=Ke(K=>Sle(K,b,w,O,j));if(k!=="horizontal"&&k!=="vertical"||A==null||C==null)return null;var{height:T,width:$,x:M,y:U}=C;return v.createElement(Vle,Ql({},S,{id:j,connectNulls:d,dot:f,activeDot:n,animateNewValues:a,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:m,label:x,legendType:g,xAxisId:b,yAxisId:w,points:A,layout:k,height:T,width:$,left:M,top:U,needClip:_}))}function qle(e){var{layout:t,xAxis:n,yAxis:a,xAxisTicks:s,yAxisTicks:l,dataKey:c,bandSize:d,displayedData:f}=e;return f.map((m,h)=>{var x=$t(m,c);if(t==="horizontal"){var g=Ck({axis:n,ticks:s,bandSize:d,entry:m,index:h}),b=Kt(x)?null:a.scale(x);return{x:g,y:b,value:x,payload:m}}var w=Kt(x)?null:n.scale(x),j=Ck({axis:a,ticks:l,bandSize:d,entry:m,index:h});return w==null||j==null?null:{x:w,y:j,value:x,payload:m}}).filter(Boolean)}function Zp(e){var t=Yr(e,KR),n=Cr();return v.createElement(uN,{id:t.id,type:"line"},a=>v.createElement(v.Fragment,null,v.createElement(_R,{legendPayload:Ole(t)}),v.createElement(oN,{fn:Mle,args:t}),v.createElement(kR,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Hle,Ql({},t,{id:a}))))}Zp.displayName="Line";function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function QE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(n),!0).forEach(function(a){Kle(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Kle(e,t,n){return(t=Gle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gle(e){var t=Yle(e,"string");return typeof t=="symbol"?t:t+""}function Yle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wle={xAxis:{},yAxis:{},zAxis:{}},GR=Gr({name:"cartesianAxis",initialState:Wle,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:a}=t.payload;e.yAxis[n]&&(e.yAxis[n]=QE(QE({},e.yAxis[n]),{},{width:a}))}}}),{addXAxis:Xle,removeXAxis:Zle,addYAxis:Qle,removeYAxis:Jle,addZAxis:dfe,removeZAxis:ffe,updateYAxisWidth:eoe}=GR.actions,toe=GR.reducer,noe=["children"],roe=["dangerouslySetInnerHTML","ticks"];function YR(e,t,n){return(t=aoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aoe(e){var t=soe(e,"string");return typeof t=="symbol"?t:t+""}function soe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xw.apply(null,arguments)}function WR(e,t){if(e==null)return{};var n,a,s=ioe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ioe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function loe(e){var t=dn(),n=v.useMemo(()=>{var{children:l}=e,c=WR(e,noe);return c},[e]),a=Ke(l=>ti(l,n.id)),s=n===a;return v.useEffect(()=>(t(Xle(n)),()=>{t(Zle(n))}),[n,t]),s?e.children:null}var ooe=e=>{var{xAxisId:t,className:n}=e,a=Ke(qM),s=Cr(),l="xAxis",c=Ke(b=>Xc(b,l,t,s)),d=Ke(b=>$8(b,l,t,s)),f=Ke(b=>M8(b,t)),m=Ke(b=>pte(b,t));if(f==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:x}=e,g=WR(e,roe);return v.createElement(tl,xw({},g,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:ut("recharts-".concat(l," ").concat(l),n),viewBox:a,ticks:d}))},coe=e=>{var t,n,a,s,l;return v.createElement(loe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},v.createElement(ooe,e))};class Is extends v.Component{render(){return v.createElement(coe,this.props)}}YR(Is,"displayName","XAxis");YR(Is,"defaultProps",{allowDataOverflow:$r.allowDataOverflow,allowDecimals:$r.allowDecimals,allowDuplicatedCategory:$r.allowDuplicatedCategory,height:$r.height,hide:!1,mirror:$r.mirror,orientation:$r.orientation,padding:$r.padding,reversed:$r.reversed,scale:$r.scale,tickCount:$r.tickCount,type:$r.type,xAxisId:0});var uoe=e=>{var{ticks:t,label:n,labelGapWithTick:a=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){t.forEach(h=>{if(h){var x=h.getBoundingClientRect();x.width>c&&(c=x.width)}});var d=n?n.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(n?a:0);return Math.round(m)}return 0},doe=["dangerouslySetInnerHTML","ticks"];function XR(e,t,n){return(t=foe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function foe(e){var t=moe(e,"string");return typeof t=="symbol"?t:t+""}function moe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},gw.apply(null,arguments)}function hoe(e,t){if(e==null)return{};var n,a,s=poe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function poe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function xoe(e){var t=dn();return v.useEffect(()=>(t(Qle(e)),()=>{t(Jle(e))}),[e,t]),null}var goe=e=>{var t,{yAxisId:n,className:a,width:s,label:l}=e,c=v.useRef(null),d=v.useRef(null),f=Ke(qM),m=Cr(),h=dn(),x="yAxis",g=Ke(k=>Xc(k,x,n,m)),b=Ke(k=>D8(k,n)),w=Ke(k=>xte(k,n)),j=Ke(k=>$8(k,x,n,m));if(v.useLayoutEffect(()=>{var k;if(!(s!=="auto"||!b||eN(l)||v.isValidElement(l))){var O=c.current,A=O==null||(k=O.tickRefs)===null||k===void 0?void 0:k.current,{tickSize:T,tickMargin:$}=O.props,M=uoe({ticks:A,label:d.current,labelGapWithTick:5,tickSize:T,tickMargin:$});Math.round(b.width)!==Math.round(M)&&h(eoe({id:n,width:M}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b==null?void 0:b.width,b,h,l,n,s]),b==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:_}=e,C=hoe(e,doe);return v.createElement(tl,gw({},C,{ref:c,labelRef:d,scale:g,x:w.x,y:w.y,width:b.width,height:b.height,className:ut("recharts-".concat(x," ").concat(x),a),viewBox:f,ticks:j}))},voe=e=>{var t,n,a,s,l;return v.createElement(v.Fragment,null,v.createElement(xoe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),v.createElement(goe,e))},yoe={allowDataOverflow:Ir.allowDataOverflow,allowDecimals:Ir.allowDecimals,allowDuplicatedCategory:Ir.allowDuplicatedCategory,hide:!1,mirror:Ir.mirror,orientation:Ir.orientation,padding:Ir.padding,reversed:Ir.reversed,scale:Ir.scale,tickCount:Ir.tickCount,type:Ir.type,width:Ir.width,yAxisId:0};class zs extends v.Component{render(){return v.createElement(voe,this.props)}}XR(zs,"displayName","YAxis");XR(zs,"defaultProps",yoe);var bb={exports:{}},wb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function boe(){if(JE)return wb;JE=1;var e=Dc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return wb.useSyncExternalStoreWithSelector=function(f,m,h,x,g){var b=s(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function S(A){if(!_){if(_=!0,C=A,A=x(A),g!==void 0&&w.hasValue){var T=w.value;if(g(T,A))return k=T}return k=A}if(T=k,n(C,A))return T;var $=x(A);return g!==void 0&&g(T,$)?(C=A,T):(C=A,k=$)}var _=!1,C,k,O=h===void 0?null:h;return[function(){return S(m())},O===null?void 0:function(){return S(O())}]},[m,h,x,g]);var j=a(f,b[0],b[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},wb}var eT;function woe(){return eT||(eT=1,bb.exports=boe()),bb.exports}woe();function joe(e){e()}function Noe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){joe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let a=e;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var tT={notify(){},get:()=>[]};function Soe(e,t){let n,a=tT,s=0,l=!1;function c(j){h();const S=a.subscribe(j);let _=!1;return()=>{_||(_=!0,S(),x())}}function d(){a.notify()}function f(){w.onStateChange&&w.onStateChange()}function m(){return l}function h(){s++,n||(n=e.subscribe(f),a=Noe())}function x(){s--,n&&s===0&&(n(),n=void 0,a.clear(),a=tT)}function g(){l||(l=!0,h())}function b(){l&&(l=!1,x())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>a};return w}var _oe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Coe=_oe(),koe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Aoe=koe(),Eoe=()=>Coe||Aoe?v.useLayoutEffect:v.useEffect,Toe=Eoe(),jb=Symbol.for("react-redux-context"),Nb=typeof globalThis<"u"?globalThis:{};function Poe(){if(!v.createContext)return{};const e=Nb[jb]??(Nb[jb]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Ooe=Poe();function Moe(e){const{children:t,context:n,serverState:a,store:s}=e,l=v.useMemo(()=>{const f=Soe(s);return{store:s,subscription:f,getServerState:a?()=>a:void 0}},[s,a]),c=v.useMemo(()=>s.getState(),[s]);Toe(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=n||Ooe;return v.createElement(d.Provider,{value:l},t)}var Doe=Moe,Roe=(e,t)=>t,yN=ye([Roe,vt,u8,Cn,Q8,ni,wne,Sn],Cne),bN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/a)}},ZR=pa("mouseClick"),QR=jf();QR.startListening({actionCreator:ZR,effect:(e,t)=>{var n=e.payload,a=yN(t.getState(),bN(n));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(Ete({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var vw=pa("mouseMove"),JR=jf();JR.startListening({actionCreator:vw,effect:(e,t)=>{var n=e.payload,a=t.getState(),s=H2(a,a.tooltip.settings.shared),l=yN(a,bN(n));s==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(q8({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(H8()))}});function Loe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var nT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},eL=Gr({name:"rootProps",initialState:nT,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:nT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),$oe=eL.reducer,{updateOptions:Ioe}=eL.actions,tL=Gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:zoe}=tL.actions,Boe=tL.reducer,nL=pa("keyDown"),rL=pa("focus"),wN=jf();wN.startListening({actionCreator:nL,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(q2(s,Qc(n))),d=ni(n);if(l==="Enter"){var f=G0(n,"axis","hover",String(s.index));t.dispatch(cw({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=bte(n),h=m==="left-to-right"?1:-1,x=l==="ArrowRight"?1:-1,g=c+x*h;if(!(d==null||g>=d.length||g<0)){var b=G0(n,"axis","hover",String(g));t.dispatch(cw({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});wN.startListening({actionCreator:rL,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var l="0",c=G0(n,"axis","hover",String(l));t.dispatch(cw({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var oa=pa("externalEvent"),aL=jf();aL.startListening({actionCreator:oa,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),a={activeCoordinate:dne(n),activeDataKey:nR(n),activeIndex:Yi(n),activeLabel:tR(n),activeTooltipIndex:Yi(n),isTooltipActive:fne(n)};e.payload.handler(a,e.payload.reactEvent)}}});var Uoe=ye([Zc],e=>e.tooltipItemPayloads),Foe=ye([Uoe,Of,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,a)=>{var s=e.find(d=>d.settings.dataKey===a);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,n);return c}}}),sL=pa("touchMove"),iL=jf();iL.startListening({actionCreator:sL,effect:(e,t)=>{var n=e.payload,a=t.getState(),s=H2(a,a.tooltip.settings.shared);if(s==="axis"){var l=yN(a,bN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(q8({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(VM),h=(c=f.getAttribute(HM))!==null&&c!==void 0?c:void 0,x=Foe(t.getState(),m,h);t.dispatch(V8({activeDataKey:h,activeIndex:m,activeCoordinate:x}))}}});var Voe=pM({brush:Die,cartesianAxis:toe,chartData:Fne,errorBars:Ise,graphicalItems:Gae,layout:RW,legend:yX,options:$ne,polarAxis:mae,polarOptions:Boe,referenceElements:Uie,rootProps:$oe,tooltip:Tte}),Hoe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return iW({reducer:Voe,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([QR.middleware,JR.middleware,wN.middleware,aL.middleware,iL.middleware]),devTools:{serialize:{replacer:Loe},name:"recharts-".concat(n)}})};function lL(e){var{preloadedState:t,children:n,reduxStoreName:a}=e,s=Cr(),l=v.useRef(null);if(s)return n;l.current==null&&(l.current=Hoe(t,a));var c=Lj;return v.createElement(Doe,{context:c,store:l.current},n)}function oL(e){var{layout:t,width:n,height:a,margin:s}=e,l=dn(),c=Cr();return v.useEffect(()=>{c||(l(OW(t)),l(MW({width:n,height:a})),l(PW(s)))},[l,c,t,n,a,s]),null}function cL(e){var t=dn();return v.useEffect(()=>{t(Ioe(e))},[t,e]),null}var qoe=["children"];function Koe(e,t){if(e==null)return{};var n,a,s=Goe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Goe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ep.apply(null,arguments)}var Yoe={width:"100%",height:"100%"},Woe=v.forwardRef((e,t)=>{var n=GM(),a=YM(),s=QM();if(!_c(n)||!_c(a))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,v.createElement(zO,ep({},c,{title:d,desc:f,role:h,tabIndex:m,width:n,height:a,style:Yoe,ref:t}),l)}),Xoe=e=>{var{children:t}=e,n=Ke(Pp);if(!n)return null;var{width:a,height:s,y:l,x:c}=n;return v.createElement(zO,{width:a,height:s,x:c,y:l},t)},rT=v.forwardRef((e,t)=>{var{children:n}=e,a=Koe(e,qoe),s=Cr();return s?v.createElement(Xoe,null,n):v.createElement(Woe,ep({ref:t},a),n)});function Zoe(){var e=dn(),[t,n]=v.useState(null),a=Ke(uX);return v.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;Kr(l)&&l!==a&&e(DW(l))}},[t,e,a]),n}function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Qoe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(a){Joe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Joe(e,t,n){return(t=ece(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ece(e){var t=tce(e,"string");return typeof t=="symbol"?t:t+""}function tce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nce=v.forwardRef((e,t)=>{var{children:n,className:a,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:x,onMouseUp:g,onTouchEnd:b,onTouchMove:w,onTouchStart:j,style:S,width:_}=e,C=dn(),[k,O]=v.useState(null),[A,T]=v.useState(null);qne();var $=Zoe(),M=v.useCallback(L=>{$(L),typeof t=="function"&&t(L),O(L),T(L)},[$,t,O,T]),U=v.useCallback(L=>{C(ZR(L)),C(oa({handler:l,reactEvent:L}))},[C,l]),K=v.useCallback(L=>{C(vw(L)),C(oa({handler:m,reactEvent:L}))},[C,m]),F=v.useCallback(L=>{C(H8()),C(oa({handler:h,reactEvent:L}))},[C,h]),B=v.useCallback(L=>{C(vw(L)),C(oa({handler:x,reactEvent:L}))},[C,x]),ne=v.useCallback(()=>{C(rL())},[C]),Ne=v.useCallback(L=>{C(nL(L.key))},[C]),se=v.useCallback(L=>{C(oa({handler:c,reactEvent:L}))},[C,c]),D=v.useCallback(L=>{C(oa({handler:d,reactEvent:L}))},[C,d]),G=v.useCallback(L=>{C(oa({handler:f,reactEvent:L}))},[C,f]),V=v.useCallback(L=>{C(oa({handler:g,reactEvent:L}))},[C,g]),z=v.useCallback(L=>{C(oa({handler:j,reactEvent:L}))},[C,j]),E=v.useCallback(L=>{C(sL(L)),C(oa({handler:w,reactEvent:L}))},[C,w]),R=v.useCallback(L=>{C(oa({handler:b,reactEvent:L}))},[C,b]);return v.createElement(oR.Provider,{value:k},v.createElement(nG.Provider,{value:A},v.createElement("div",{className:ut("recharts-wrapper",a),style:Qoe({position:"relative",cursor:"default",width:_,height:s},S),onClick:U,onContextMenu:se,onDoubleClick:D,onFocus:ne,onKeyDown:Ne,onMouseDown:G,onMouseEnter:K,onMouseLeave:F,onMouseMove:B,onMouseUp:V,onTouchEnd:R,onTouchMove:E,onTouchStart:z,ref:M},n)))}),rce=["children","className","width","height","style","compact","title","desc"];function ace(e,t){if(e==null)return{};var n,a,s=sce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function sce(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var uL=v.forwardRef((e,t)=>{var{children:n,className:a,width:s,height:l,style:c,compact:d,title:f,desc:m}=e,h=ace(e,rce),x=Zs(h);return d?v.createElement(rT,{otherAttributes:x,title:f,desc:m},n):v.createElement(nce,{className:a,style:c,width:s,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(rT,{otherAttributes:x,title:f,desc:m,ref:t},v.createElement(Vie,null,n)))}),ice=["width","height"];function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yw.apply(null,arguments)}function lce(e,t){if(e==null)return{};var n,a,s=oce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function oce(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var cce={top:5,right:5,bottom:5,left:5},uce={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cce,reverseStackOrder:!1,syncMethod:"index"},dL=v.forwardRef(function(t,n){var a,s=Yr(t.categoricalChartProps,uce),{width:l,height:c}=s,d=lce(s,ice);if(!_c(l)||!_c(c))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,categoricalChartProps:g}=t,b={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return v.createElement(lL,{preloadedState:{options:b},reduxStoreName:(a=g.id)!==null&&a!==void 0?a:f},v.createElement(LR,{chartData:g.data}),v.createElement(oL,{width:l,height:c,layout:s.layout,margin:s.margin}),v.createElement(cL,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),v.createElement(uL,yw({},d,{width:l,height:c,ref:n})))}),dce=["axis"],jN=v.forwardRef((e,t)=>v.createElement(dL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dce,tooltipPayloadSearcher:J2,categoricalChartProps:e,ref:t})),fce=["axis","item"],n0=v.forwardRef((e,t)=>v.createElement(dL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fce,tooltipPayloadSearcher:J2,categoricalChartProps:e,ref:t}));function mce(e){var t=dn();return v.useEffect(()=>{t(zoe(e))},[t,e]),null}var hce=["width","height","layout"];function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bw.apply(null,arguments)}function pce(e,t){if(e==null)return{};var n,a,s=xce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function xce(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var gce={top:5,right:5,bottom:5,left:5},vce={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gce,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},yce=v.forwardRef(function(t,n){var a,s=Yr(t.categoricalChartProps,vce),{width:l,height:c,layout:d}=s,f=pce(s,hce);if(!_c(l)||!_c(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:g}=t,b={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:g,eventEmitter:void 0};return v.createElement(lL,{preloadedState:{options:b},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:m},v.createElement(LR,{chartData:s.data}),v.createElement(oL,{width:l,height:c,layout:d,margin:s.margin}),v.createElement(cL,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),v.createElement(mce,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),v.createElement(uL,bw({width:l,height:c},f,{ref:n})))}),bce=["item"],wce={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},tp=v.forwardRef((e,t)=>{var n=Yr(e,wce);return v.createElement(yce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:bce,tooltipPayloadSearcher:J2,categoricalChartProps:n,ref:t})});function jce(){const[e,t]=v.useState({leads:0,files:0,assistants:0,phone_numbers:0,knowledge_base:0}),[n,a]=v.useState(!0),[s,l]=v.useState(""),c="https://aisdr-dbt.ddns.net",{width:d}=Nce(),f=(d||0)>=1024,m=!f;v.useEffect(()=>{let j=!0;return(async()=>{try{a(!0),l("");const S=localStorage.getItem("token"),_=`${c}/api/statistics`,C=await fetch(_,{method:"GET",headers:{Accept:"application/json",...S?{Authorization:`Bearer ${S}`}:{}},mode:"cors"});if(!C.ok){const O=await C.text();throw new Error(`HTTP ${C.status}${O?`  ${O}`:""}`)}const k=await C.json();if(!j)return;t({leads:Number((k==null?void 0:k.leads)??0),files:Number((k==null?void 0:k.files)??0),assistants:Number((k==null?void 0:k.assistants)??0),phone_numbers:Number((k==null?void 0:k.phone_numbers)??0),knowledge_base:Number((k==null?void 0:k.knowledge_base)??0)})}catch(S){if(!j)return;const _=S&&S.message||"Failed to load stats",C=_.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(_+C)}finally{j&&a(!1)}})(),()=>{j=!1}},[c]);const h={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4"},x=j=>{const _=Math.max(0,Number(j)||0),C=Array.from({length:12},(k,O)=>{const A=O/11,T=Math.sin(A*Math.PI)*.4,$=(Math.random()-.5)*.12,M=Math.max(0,Math.round(_*(.6+T+$)));return{label:`P${O+1}`,value:M}});return C.length&&(C[C.length-1].value=_),C},g=v.useMemo(()=>[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}],[e]),b=v.useMemo(()=>{const j=Math.max(1,e.leads+e.files+e.assistants+e.phone_numbers+e.knowledge_base);return[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}].map(S=>({...S,percent:S.value/j*100}))},[e]),w=v.useMemo(()=>[{key:"leads",label:"Leads",value:e.leads,icon:ir,series:x(e.leads),color:h.blue},{key:"files",label:"Files",value:e.files,icon:M6,series:x(e.files),color:h.sky},{key:"assistants",label:"Assistants",value:e.assistants,icon:O6,series:x(e.assistants),color:h.cyan},{key:"phone_numbers",label:"Phone Numbers",value:e.phone_numbers,icon:xt,series:x(e.phone_numbers),color:h.sky},{key:"knowledge_base",label:"Knowledge Base",value:e.knowledge_base,icon:Nd,series:x(e.knowledge_base),color:h.blue}],[e]);return r.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[s&&r.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s}),r.jsx(Sce,{}),r.jsxs("header",{className:"w-full px-4 md:px-8 pt-10 pb-6",children:[r.jsx(xe.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"User Dashboard"}),r.jsx(xe.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Live stats  Animated charts  Arrow labels"})]}),r.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[r.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-5",children:w.map(j=>r.jsx(Cce,{...j,loading:n},j.key))}),r.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsx(Sb,{title:"Leads Trend (Synthetic)",children:r.jsx("div",{className:"h-72 w-full",children:r.jsx(Qa,{children:r.jsxs(jN,{data:w[0].series,margin:{top:12,right:20,left:-10,bottom:0},children:[r.jsxs("defs",{children:[r.jsxs("filter",{id:"glowLineMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[r.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),r.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),r.jsx(Fi,{strokeDasharray:"3 3",strokeOpacity:.2}),r.jsx(Is,{dataKey:"label",tick:{fontSize:12}}),r.jsx(zs,{tick:{fontSize:12}}),r.jsx(Za,{contentStyle:{borderRadius:12}}),r.jsx(Zp,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3.5,dot:!1,activeDot:{r:6},style:{filter:"url(#glowLineMain)"},isAnimationActive:!0,animationBegin:120,animationDuration:900,animationEasing:"ease"})]})})})}),r.jsx(Sb,{title:"Overview by Metric",children:r.jsx("div",{className:"h-72 w-full",children:r.jsx(Qa,{children:r.jsxs(n0,{data:g,margin:{top:10,right:20,left:m?0:-10,bottom:0},children:[r.jsxs("defs",{children:[r.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),r.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})]}),r.jsx(Fi,{strokeDasharray:"3 3",strokeOpacity:.2}),r.jsx(Is,{dataKey:"name",tick:{fontSize:12},hide:m}),r.jsx(zs,{tick:{fontSize:12}}),r.jsx(Za,{contentStyle:{borderRadius:12}}),r.jsx(Dd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},isAnimationActive:!0,animationBegin:140,animationDuration:800,animationEasing:"ease-out"})]})})})}),r.jsx(Sb,{title:"Share by Metric",className:"lg:col-span-2",children:r.jsx("div",{className:"h-80 w-full",children:r.jsx(Qa,{children:r.jsx(Pce,{data:b,mode:f?"desktop":"compact"})})})})]}),r.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon (white/blue) dashboard."]})]})]})}function Nce(){const[e,t]=v.useState({width:null,height:null});return v.useEffect(()=>{function n(){t({width:window.innerWidth,height:window.innerHeight})}return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function Sce(){return r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),r.jsx(xe.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function Sb({title:e,children:t,className:n=""}){return r.jsxs(xe.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${n}`,children:[r.jsx(_ce,{}),r.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),t]})}function _ce(){return r.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[r.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),r.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function Cce({label:e,value:t,icon:n,series:a,color:s,loading:l}){const c=wc(0),d=wc(0),f=p0(d,[-50,50],[8,-8]),m=p0(c,[-50,50],[-8,8]),h=v.useRef(null);return r.jsxs(xe.div,{ref:h,onMouseMove:x=>{var b;const g=(b=h.current)==null?void 0:b.getBoundingClientRect();g&&(c.set(x.clientX-g.left-g.width/2),d.set(x.clientY-g.top-g.height/2))},onMouseLeave:()=>{c.set(0),d.set(0)},style:{rotateX:f,rotateY:m},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${s}66, #ffffff00)`}}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:r.jsx(n,{className:"h-6 w-6",style:{color:s}})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("h3",{className:"text-2xl font-black text-slate-900",children:l?r.jsx(Ace,{}):r.jsx(kce,{value:t})}),r.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:"Live"})]})]})]}),r.jsx("div",{className:"mt-3 h-20",children:l?r.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):r.jsx(Qa,{children:r.jsxs(jN,{data:a,margin:{top:2,right:8,left:-10,bottom:0},children:[r.jsx("defs",{children:r.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),r.jsx(Fi,{strokeDasharray:"3 3",strokeOpacity:.12}),r.jsx(Is,{dataKey:"label",hide:!0}),r.jsx(zs,{hide:!0,domain:[0,"dataMax+"]}),r.jsx(Za,{contentStyle:{borderRadius:12}}),r.jsx(Zp,{type:"monotone",dataKey:"value",stroke:s,strokeWidth:2.5,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"},isAnimationActive:!0,animationBegin:120,animationDuration:700})]})})})]})]})}function kce({value:e,duration:t=800}){const[n,a]=v.useState(0);return v.useEffect(()=>{let s;const l=n,c=Number(e)||0,d=performance.now(),f=h=>1-Math.pow(1-h,3);function m(h){const x=Math.min(1,(h-d)/t);a(Math.round(l+(c-l)*f(x))),x<1&&(s=requestAnimationFrame(m))}return s=requestAnimationFrame(m),()=>cancelAnimationFrame(s)},[e]),r.jsx("span",{children:(n||0).toLocaleString()})}function Ace(){return r.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function Ece(e){const{cx:t,cy:n,midAngle:a,outerRadius:s,name:l,value:c,percent:d,laneSlot:f,sideRight:m,laneGap:h=24,fixedTy:x}=e,g=Math.PI/180,b=-a*g,w=s+6,j=t+Math.cos(b)*w,S=n+Math.sin(b)*w,_=s+22,C=t+Math.cos(b)*_,k=n+Math.sin(b)*_,O=!!m;let A=O?C+36:C-36,T=typeof x=="number"?x:n+f*h;const $=34,M=t+s+$,U=t-s-$;O?A=Math.max(A,M+12):A=Math.min(A,U-12);const F=(typeof f=="number"?f:0)*18,B=O?C+16:C-16,ne=k+F*.25,Ne=O?A-22:A+22,se=T+F*.75,D=typeof d=="number"?Math.round(d*100):0,G=`${l}`,V=`${c}  ${D}%`,z=Math.max(136,G.length*8+V.length*4.2),E=O?0:-z,R=O?"start":"end";return r.jsxs(xe.g,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.42},whileHover:{scale:1.02,transition:{duration:.15}},pointerEvents:"none",children:[r.jsx("path",{d:`M ${j},${S} C ${B},${ne} ${Ne},${se} ${A},${T}`,stroke:"url(#neonStroke)",strokeWidth:"6",strokeOpacity:"0.22",fill:"none",filter:"url(#neonGlow)"}),r.jsxs("path",{d:`M ${j},${S} C ${B},${ne} ${Ne},${se} ${A},${T}`,stroke:"url(#neonStroke)",strokeWidth:"2.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",markerEnd:"url(#arrowheadGrad)",children:[r.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;40,200;0,200",dur:"3s",repeatCount:"indefinite"}),r.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-60;0",dur:"3s",repeatCount:"indefinite"})]}),r.jsxs("g",{transform:`translate(${A}, ${T})`,children:[r.jsx("rect",{x:E-6,y:-22,rx:"14",ry:"14",width:z+12,height:40,fill:"url(#pillGlow)",opacity:"0.55",filter:"url(#pillBlur)"}),r.jsx("rect",{x:E,y:-18,rx:"12",ry:"12",width:z,height:32,fill:"url(#pillGrad)",stroke:"url(#pillStroke)",strokeWidth:"1"}),r.jsx("text",{x:E+(O?14:z-14),y:-2,textAnchor:R,fill:"url(#labelTextGrad)",style:{fontSize:12.5,fontWeight:800,letterSpacing:.2},children:G}),r.jsx("text",{x:E+(O?14:z-14),y:12,textAnchor:R,className:"fill-slate-700",style:{fontSize:11.2,fontWeight:600,opacity:.85},children:V})]})]})}function Tce(e){const t=Math.PI/180,{cx:n,cy:a,midAngle:s,innerRadius:l,outerRadius:c,name:d,value:f,percent:m}=e,h=l+(c-l)*.58,x=n+Math.cos(-s*t)*h,g=a+Math.sin(-s*t)*h,b=Math.round((m||0)*100);return b<7?null:r.jsxs("g",{children:[r.jsx("text",{x,y:g-6,textAnchor:"middle",className:"fill-slate-800",style:{fontSize:11.5,fontWeight:800},children:d}),r.jsxs("text",{x,y:g+10,textAnchor:"middle",className:"fill-slate-600",style:{fontSize:10.5,fontWeight:700},children:[f,"  ",b,"%"]})]})}function Pce({data:e,mode:t="desktop",width:n,height:a}){const d=Math.PI/180,f=e.reduce((F,B)=>F+(Number(B.value)||0),0),m=(n||0)*.5,h=(a||0)*.5,x=t==="desktop";if(f===0)return r.jsxs(tp,{width:n,height:a,children:[r.jsx(of,{data:[{name:"No data",value:1}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:110,innerRadius:70,fill:"#e5e7eb",stroke:"#cbd5e1",isAnimationActive:!0}),r.jsx("text",{x:m,y:h,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-500",style:{fontSize:12},children:"No data"})]});const g=-90,w=270-g;let j=g;const _=e.map((F,B)=>({index:B,value:Number(F.value)||0})).filter(F=>F.value>0).map(F=>{const B=f?F.value/f*w:0,ne=j+B/2;j+=B;const Ne=-ne*d,se=Math.cos(Ne)>=0,D=h+Math.sin(Ne)*110;return{index:F.index,ang:Ne,right:se,ty0:D,mid:ne}}),C=_.filter(F=>!F.right).sort((F,B)=>F.ty0-B.ty0),k=_.filter(F=>F.right).sort((F,B)=>F.ty0-B.ty0),O=28,A=40,T=h-(110+A),$=h+(110+A),M=F=>{if(!F.length)return[];const B=F.length,ne=$-T,Ne=Math.min(Math.max(O,B>1?ne/(B-1):O),36),se=new Array(B);se[0]=Math.max(F[0].ty0,T);for(let G=1;G<B;G++)se[G]=Math.max(F[G].ty0,se[G-1]+Ne);const D=se[B-1]-$;if(D>0){for(let G=0;G<B;G++)se[G]-=D;if(se[0]<T){const G=T-se[0];for(let V=0;V<B;V++)se[V]+=G}}return se},U=M(C),K=M(k);return r.jsxs(tp,{width:n,height:a,children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),r.jsx("stop",{offset:"50%",stopColor:"#60a5fa"}),r.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),r.jsxs("marker",{id:"arrowheadGrad",markerWidth:"12",markerHeight:"8",refX:"10",refY:"4",orient:"auto",children:[r.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"url(#neonStroke)"}),r.jsxs("filter",{id:"arrowGlow",children:[r.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.8",result:"b"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"b"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsxs("filter",{id:"neonGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),r.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.2  0 0 0 0 0.6  0 0 0 0 1  0 0 0 1 0"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("linearGradient",{id:"pillGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),r.jsx("stop",{offset:"100%",stopColor:"#eff6ff"})]}),r.jsxs("linearGradient",{id:"pillStroke",x1:"0",y1:"0",x2:"1",y2:"0",children:[r.jsx("stop",{offset:"0%",stopColor:"#a5f3fc"}),r.jsx("stop",{offset:"100%",stopColor:"#93c5fd"})]}),r.jsxs("radialGradient",{id:"pillGlow",cx:"50%",cy:"50%",r:"60%",children:[r.jsx("stop",{offset:"0%",stopColor:"#67e8f9",stopOpacity:"0.6"}),r.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),r.jsx("filter",{id:"pillBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:r.jsx("feGaussianBlur",{stdDeviation:"8"})}),r.jsxs("linearGradient",{id:"labelTextGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[r.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),r.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),r.jsxs("linearGradient",{id:"pieGradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),r.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),r.jsx(Za,{contentStyle:{borderRadius:12}}),r.jsx(of,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",startAngle:-90,endAngle:270,outerRadius:110,innerRadius:70,paddingAngle:2,isAnimationActive:!0,animationBegin:140,animationDuration:900,animationEasing:"ease-out",label:x?F=>{if(!(F&&F.value>0))return null;const B=Math.PI/180,ne=Math.cos(-F.midAngle*B)>=0,se=(ne?k:C).findIndex(z=>z.index===F.index);if(se===-1)return null;const D=ne?K:U,G=D[se];if(typeof G!="number")return null;const V=se-(D.length-1)/2;return r.jsx(Ece,{...F,laneSlot:V,sideRight:ne,fixedTy:G,laneGap:30})}:F=>r.jsx(Tce,{...F}),labelLine:!1,children:e.map((F,B)=>r.jsx(Ds,{fill:B===0?"url(#pieGradBlue)":["#bfe9ff","#8ed8ff","#60cfff","#a3d8ff"][B-1]||"#bfe9ff",stroke:"#ffffff",strokeOpacity:.9},`cell-${B}`))})]})}const Oce={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://aisdr-dbt.ddns.net"};var sT={};const iT=typeof import.meta<"u"&&Oce&&"https://aisdr-dbt.ddns.net"||typeof process<"u"&&sT&&sT.NEXT_PUBLIC_API_URL||"http://localhost:8000";function Vo(...e){return e.filter(Boolean).join(" ")}function lT({iso:e}){if(!e||typeof e!="string"||e.length!==2)return null;const t=[...e.toUpperCase()].map(n=>127397+n.charCodeAt(0));return r.jsx("span",{className:"mr-1","aria-hidden":!0,children:String.fromCodePoint(...t)})}function Mce({open:e,onClose:t,onConfirm:n,numbers:a=[]}){if(!e)return null;const s=a.slice(0,5),l=Math.max(0,a.length-s.length);return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:"Confirm Purchase"}),r.jsxs("p",{className:"mb-4 text-gray-700",children:["You are about to purchase"," ",r.jsx("span",{className:"font-semibold",children:a.length})," ","number",a.length>1?"s":"","."]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 max-h-48 overflow-auto border border-gray-100 mb-5",children:[s.map(c=>r.jsx("div",{className:"font-mono text-sm text-gray-800 py-0.5",children:c},c)),l>0&&r.jsxs("div",{className:"text-xs text-gray-500",children:["and ",l," more"]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition",children:"Cancel"}),r.jsx("button",{onClick:()=>n(a),className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Yes, Buy"})]})]})})}function Dce(){const[e,t]=v.useState("US"),[n,a]=v.useState([]),[s,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(20),[g,b]=v.useState(1),[w,j]=v.useState(!1),[S,_]=v.useState([]),C=10,k=[{code:"US",name:"United States",flag:""},{code:"CA",name:"Canada",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],O=()=>{try{return localStorage.getItem("token")}catch{return null}},A=V=>V.split(/[,\s]+/).map(z=>z.trim()).filter(Boolean),[T,$]=v.useState(()=>new Set),M=V=>T.has(V),U=V=>{$(z=>{const E=new Set(z);return E.has(V)?E.delete(V):E.add(V),E})},K=()=>$(new Set),F=v.useMemo(()=>{const V=g*C,z=V-C;return n.slice(z,V)},[n,g]),B=Math.ceil(n.length/C)||1,ne=async()=>{const V=A(f);l(!0);try{const z=O(),E=await fetch(`${iT}/api/available_phone_numbers`,{method:"POST",headers:{"Content-Type":"application/json",...z?{Authorization:`Bearer ${z}`}:{}},body:JSON.stringify({country:e,area_codes:V.length?V:null,limit:h})}),R=await E.json();if(!E.ok){const Y=R&&R.detail&&(R.detail.error||R.detail)||(R==null?void 0:R.message)||"Failed to fetch phone numbers.";a([]),q.error(Y);return}const L=Array.isArray(R)?R:[];a(L),b(1),K(),L.length===0&&q.info("No numbers found for your query.")}catch(z){console.error(z),a([]),q.error("Network error while fetching numbers.")}finally{l(!1)}},Ne=async V=>{if(V!=null&&V.length){d(!0);try{const z=O(),E=await fetch(`${iT}/api/purchase_phone_number`,{method:"POST",headers:{"Content-Type":"application/json",...z?{Authorization:`Bearer ${z}`}:{}},body:JSON.stringify({phone_number:V})}),R=await E.json();if(!E.ok||!(R!=null&&R.success)){const L=R&&R.detail&&(R.detail.error||R.detail)||(R==null?void 0:R.message)||"Failed to purchase numbers.";q.error(L);return}a(L=>L.filter(Y=>!V.includes(Y.phone_number))),K(),q.success(` Purchased ${V.length} number${V.length>1?"s":""}.`)}catch(z){console.error(z),q.error("Network error while purchasing.")}finally{d(!1),j(!1),_([])}}},se=V=>{if(!V)return"";if(e==="US"||e==="CA"){const E=V.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);if(E)return`+1 (${E[1]}) ${E[2]}-${E[3]}`}return V},D=async V=>{try{await navigator.clipboard.writeText(V),q.success("Copied!")}catch{q.error("Copy failed.")}},G=(()=>{const V=n.length===0?0:(g-1)*C+1,z=Math.min(g*C,n.length);return{start:V,end:z}})();return r.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_55%),linear-gradient(to_bottom,white,white)]",children:[r.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-blue-600 via-purple-600 to-fuchsia-500"}),r.jsx(Mce,{open:w,onClose:()=>j(!1),onConfirm:V=>Ne(V),numbers:S}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[r.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:r.jsx(xt,{className:"w-8 h-8"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:"Premium Phone Numbers"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Search, select, and purchase numbers worldwide in seconds."})]})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3 lg:ml-auto w-full lg:w-auto",children:[{label:"Available",value:n.length?`${n.length}+`:""},{label:"Uptime",value:"99.9%"},{label:"Support",value:"24/7"}].map((V,z)=>r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50/60 px-4 py-3 text-center hover:shadow transition",children:[r.jsx("div",{className:"text-xl font-bold text-gray-900",children:V.value}),r.jsx("div",{className:"text-xs text-gray-500",children:V.label})]},z))})]})}),r.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:r.jsx(_r,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Number"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Xh,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Country"]}),r.jsx("select",{value:e,onChange:V=>t(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:k.map(V=>r.jsxs("option",{value:V.code,children:[V.flag," ",V.name]},V.code))})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(_r,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Area Codes (comma-separated, optional)"]}),r.jsx("input",{type:"text",value:f,onChange:V=>m(V.target.value),placeholder:"e.g., 212, 415",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ic,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Results Limit"]}),r.jsxs("select",{value:h,onChange:V=>x(Number.parseInt(V.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:10,children:"10"}),r.jsx("option",{value:20,children:"20"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"})]})]}),r.jsx("div",{className:"lg:col-span-1 flex items-end",children:r.jsx("button",{onClick:ne,disabled:s,className:Vo("w-full px-6 py-3 rounded-xl font-semibold text-white transition shadow-sm",s?"bg-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"),children:s?r.jsxs("span",{className:"inline-flex items-center justify-center",children:[r.jsx(Hn,{className:"w-5 h-5 animate-spin mr-2"}),"Searching"]}):r.jsxs("span",{className:"inline-flex items-center justify-center",children:[r.jsx(_r,{className:"w-5 h-5 mr-2"}),"Search"]})})})]}),r.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tip: leave area codes empty to search nationwide."}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{const V=F.map(E=>E.phone_number),z=V.every(E=>T.has(E));$(E=>{const R=new Set(E);return z?V.forEach(L=>R.delete(L)):V.forEach(L=>R.add(L)),R})},className:"px-3 py-2 rounded-lg border text-sm hover:bg-gray-50 transition",children:F.every(V=>T.has(V.phone_number))?"Unselect Page":"Select Page"}),r.jsx("button",{onClick:()=>{if(T.size===0){q.info("Select numbers first.");return}const V=Array.from(T);_(V),j(!0)},disabled:T.size===0||c,className:Vo("px-4 py-2 rounded-lg font-semibold transition shadow-sm",T.size===0||c?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(Xm,{className:"w-4 h-4"}),"Buy Selected (",T.size,")"]})})]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[r.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(xt,{className:"w-4 h-4 text-white"})}),r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:s?"Searching":`Available Numbers (${n.length})`})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",G.start,"  ",G.end," of"," ",n.length]})]})}),s?r.jsx("div",{className:"p-6 sm:p-8",children:r.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((V,z)=>r.jsx("div",{className:"h-16 rounded-xl bg-gray-100 animate-pulse"},z))})}):n.length===0?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsxs("div",{className:"text-center max-w-sm",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(xt,{className:"w-10 h-10 text-gray-400"})}),r.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No numbers available"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Try different area codes or another country."}),r.jsx("button",{onClick:ne,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden lg:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Select"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Phone Number"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Region"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Capabilities"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:F.map((V,z)=>{var R,L,Y;const E=M(V.phone_number);return r.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>U(V.phone_number),className:"text-gray-700 hover:scale-105 transition","aria-label":E?"Unselect":"Select",children:E?r.jsx(C5,{className:"w-5 h-5 text-blue-600"}):r.jsx(vc,{className:"w-5 h-5"})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:r.jsx(xt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-900",children:se(V.phone_number)}),r.jsx("button",{onClick:()=>D(V.phone_number),className:"p-1 rounded hover:bg-gray-100 transition",title:"Copy",children:r.jsx(Bd,{className:"w-4 h-4 text-gray-500"})})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[r.jsx(Fs,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx(lT,{iso:V.iso_country}),V.region||"N/A"]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[((R=V.capabilities)==null?void 0:R.SMS)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((L=V.capabilities)==null?void 0:L.MMS)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((Y=V.capabilities)==null?void 0:Y.voice)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>{_([V.phone_number]),j(!0)},disabled:c,className:Vo("px-5 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(Hn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(Xm,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})})]},z)})})]})}),r.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:F.map((V,z)=>{var R,L,Y;const E=M(V.phone_number);return r.jsxs("div",{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("button",{onClick:()=>U(V.phone_number),className:"text-gray-700 mr-3","aria-label":E?"Unselect":"Select",children:E?r.jsx(C5,{className:"w-5 h-5 text-blue-600"}):r.jsx(vc,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:r.jsx(xt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold text-gray-900",children:se(V.phone_number)}),r.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-700",children:[r.jsx(Fs,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx(lT,{iso:V.iso_country}),V.region||"N/A"]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[((R=V.capabilities)==null?void 0:R.SMS)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((L=V.capabilities)==null?void 0:L.MMS)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((Y=V.capabilities)==null?void 0:Y.voice)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})]})]}),r.jsx("button",{onClick:()=>D(V.phone_number),className:"p-1 rounded hover:bg-gray-100 ml-3",title:"Copy",children:r.jsx(Bd,{className:"w-4 h-4 text-gray-500"})})]}),r.jsx("button",{onClick:()=>{_([V.phone_number]),j(!0)},disabled:c,className:Vo("mt-4 w-full px-4 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(Hn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(Xm,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},z)})})]}),n.length>C&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"text-sm text-gray-700 mb-3 sm:mb-0",children:["Showing ",G.start," to ",G.end," of ",n.length," results"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>b(V=>Math.max(1,V-1)),disabled:g===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,B)},(V,z)=>{let E;return B<=5||g<=3?E=z+1:g>=B-2?E=B-4+z:E=g-2+z,r.jsx("button",{onClick:()=>b(E),className:Vo("px-3 py-2 text-sm font-medium rounded-lg transition",g===E?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:E},E)})}),r.jsx("button",{onClick:()=>b(V=>Math.min(B,V+1)),disabled:g>=B,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]}),T.size>0&&r.jsx("div",{className:"fixed bottom-4 inset-x-0 px-4 sm:px-6 lg:px-8 z-40",children:r.jsxs("div",{className:"max-w-7xl mx-auto rounded-2xl bg-white/90 backdrop-blur border border-gray-200 shadow-lg p-3 sm:p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm sm:text-base",children:[r.jsx("span",{className:"font-semibold",children:T.size})," selected"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:K,className:"px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 transition text-sm",children:"Clear"}),r.jsx("button",{onClick:()=>{const V=Array.from(T);_(V),j(!0)},disabled:c,className:Vo("px-4 py-2 rounded-lg font-semibold text-white transition text-sm",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(Xm,{className:"w-4 h-4"}),"Buy Selected"]})})]})]})})]})}function Rce({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Lce=v.forwardRef(Rce);function $ce({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ww=v.forwardRef($ce);function Ice({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const fL=v.forwardRef(Ice);function zce({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const np=v.forwardRef(zce);function Bce({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const jw=v.forwardRef(Bce);function Uce({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Nw=v.forwardRef(Uce);function Fce({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const mL=v.forwardRef(Fce);function Vce({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Hce=v.forwardRef(Vce);function qce({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Sw=v.forwardRef(qce);function Kce({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const _w=v.forwardRef(Kce);function Gce({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const mc=v.forwardRef(Gce),Yce="https://aisdr-dbt.ddns.net",Wce=[`${Yce}/api`];function Xce(){var R,L,Y,ce,Q;const e=Gt(),[t,n]=v.useState({name:"",email:""}),[a,s]=v.useState(!1),[l,c]=v.useState(null),[d,f]=v.useState(!1),[m,h]=v.useState(!1),x=v.useRef(null),[g,b]=v.useState(!1),[w,j]=v.useState({old:!1,next:!1}),[S,_]=v.useState({old_password:"",new_password:""}),[C,k]=v.useState(!1),[O,A]=v.useState(!1),[T,$]=v.useState(!1),[M,U]=v.useState(!1),K=()=>localStorage.getItem("token")||"",F=()=>K()?{Authorization:`Bearer ${K()}`}:{},B=()=>K()?!0:(q.error("Authentication required. Please login again."),e("/login"),!1),ne=async(H,ge={},{expectJson:te=!0}={})=>{const he=[];for(const be of Wce)try{const ue=await fetch(`${be}${H}`,ge);if(ue.status===401||ue.status===403){const ze=await ue.text().catch(()=>"");throw new Error(ze||"Unauthorized")}if(ue.ok)return te?await ue.json():ue;if(ue.status===404){he.push({base:be,status:404});continue}const $e=await ue.json().catch(()=>({}));throw new Error(($e==null?void 0:$e.detail)||`Request failed (${ue.status})`)}catch(ue){if(he.push({base:be,err:ue==null?void 0:ue.message}),(ue==null?void 0:ue.message)==="Unauthorized")throw ue}const Se=he!=null&&he.length?`Request failed on all bases: ${he.map(be=>`${be.base}${be.status||be.err}`).join(" | ")}`:"Network error";throw new Error(Se)};v.useEffect(()=>{(async()=>{var H,ge,te;if(B())try{const he=await ne("/user-info",{headers:{...F(),Accept:"application/json"}});n({name:((H=he==null?void 0:he.data)==null?void 0:H.name)||"",email:((ge=he==null?void 0:he.data)==null?void 0:ge.email)||""});const Se=(te=he==null?void 0:he.data)==null?void 0:te.profile_photo_url;if(Se)c(Se+(Se.includes("?")?"&":"?")+"t="+Date.now());else try{const be=await ne("/profile-photo?redirect=false",{headers:{...F(),Accept:"application/json"}}),ue=be==null?void 0:be.photo_url;ue&&c(ue+(ue.includes("?")?"&":"?")+"t="+Date.now())}catch{}s(!0)}catch{q.error("Unable to load profile"),s(!0)}})()},[]);const Ne=async H=>{var ge;if((ge=H==null?void 0:H.preventDefault)==null||ge.call(H),!!B()){if(!t.name.trim())return q.error("Name is required");if(!t.email.trim())return q.error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return q.error("Please enter a valid email");U(!0);try{await ne("/update-profile",{method:"POST",headers:{"Content-Type":"application/json",...F(),Accept:"application/json"},body:JSON.stringify({name:t.name,email:t.email})}),localStorage.setItem("name",t.name),q.success("Profile updated")}catch(te){q.error(te.message||"Update failed")}finally{U(!1)}}},se=async H=>{var ge;if((ge=H==null?void 0:H.preventDefault)==null||ge.call(H),!!B()){if(!S.old_password||!S.new_password)return q.error("Please fill both password fields");if(S.new_password.length<8)return q.error("New password must be at least 8 characters");k(!0);try{await ne("/change-password",{method:"POST",headers:{"Content-Type":"application/json",...F(),Accept:"application/json"},body:JSON.stringify(S)}),q.success("Password changed successfully"),_({old_password:"",new_password:""})}catch(te){q.error(te.message||"Password change failed")}finally{k(!1)}}},D=async H=>{if(!H||!B())return;if(!["image/png","image/jpeg","image/webp"].includes(H.type))return q.error("Please upload PNG, JPG or WebP");if(H.size>5*1024*1024)return q.error("Max file size is 5MB");f(!0);try{const te=new FormData;te.append("file",H);const he=await ne("/profile-photo",{method:"POST",headers:{...F()},body:te}),Se=he==null?void 0:he.photo_url;if(Se){const be=(Se.includes("?")?"&":"?")+"t="+Date.now();c(Se+be),q.success("Profile photo updated")}else throw new Error("Upload returned no URL")}catch(te){q.error(te.message||"Upload failed")}finally{f(!1)}},G=async()=>{if(B()){h(!0);try{await ne("/profile-photo",{method:"DELETE",headers:{...F(),Accept:"application/json"}}),c(null),q.success("Profile photo removed")}catch(H){q.error(H.message||"Delete failed")}finally{h(!1)}}},V=H=>{H.preventDefault(),b(!1);const ge=H.dataTransfer.files&&H.dataTransfer.files[0]||void 0;D(ge)},z=H=>{H.preventDefault(),b(!0)},E=H=>{H.preventDefault(),b(!1)};return r.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx(xe.div,{className:"w-full px-0 pt-6 sm:pt-8 pb-4 sm:pb-6",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.45},children:r.jsxs("div",{className:"flex items-center gap-3 px-3 sm:px-4 lg:px-6 xl:px-8",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-600/90 grid place-items-center shadow-lg",children:r.jsx(mc,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Account Settings"}),r.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your profile, security and preferences"})]})]})}),r.jsx(xe.div,{className:"h-px w-full bg-gradient-to-r from-transparent via-slate-300 to-transparent",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.6}})]}),r.jsx("div",{className:"w-full px-0 py-6 sm:py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[r.jsx(xe.div,{className:"lg:col-span-1 rounded-none lg:rounded-2xl border-x-0 lg:border border-slate-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.05},children:r.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(Hce,{className:"w-5 h-5 text-blue-600"}),"Profile Photo"]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"rounded-full p-[6px] bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 shadow-[0_8px_24px_rgba(59,130,246,0.25)]",children:r.jsx("div",{className:"rounded-full bg-white p-1",children:r.jsx("div",{className:"rounded-full overflow-hidden",style:{width:96,height:96},children:r.jsx(Tt,{mode:"wait",children:l?r.jsx(xe.img,{src:l,alt:"Profile",className:"w-full h-full object-cover",onError:()=>c(null),initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.25}},l):r.jsx(xe.div,{className:"w-full h-full bg-gradient-to-br from-blue-600 to-cyan-500 grid place-items-center text-white text-2xl font-bold",initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.25},children:((Q=(ce=(Y=(L=(R=t.name)==null?void 0:R.split(" "))==null?void 0:L.map(H=>H[0]))==null?void 0:Y.join(""))==null?void 0:ce.toUpperCase())==null?void 0:Q.slice(0,2))||"U"},"initials")})})})}),r.jsx("span",{className:"absolute -right-1 -bottom-1 h-4 w-4 rounded-full bg-emerald-400 ring-2 ring-white"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-slate-900 font-semibold leading-tight",children:t.name||"User"}),r.jsx("p",{className:"text-slate-600 text-sm",children:t.email||"-"})]})]}),r.jsxs("div",{className:`mt-5 rounded-xl border-2 ${g?"border-blue-400 bg-blue-50/60":"border-dashed border-slate-300"} p-4 transition-colors`,onDrop:V,onDragOver:z,onDragLeave:E,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600/90 grid place-items-center text-white",children:r.jsx(Lce,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("p",{className:"font-semibold text-slate-900",children:["Drag & drop a photo here, or"," ",r.jsx("button",{type:"button",onClick:()=>{var H;return(H=x.current)==null?void 0:H.click()},className:"text-blue-600 underline underline-offset-2 hover:opacity-80",children:"choose file"})]}),r.jsx("p",{className:"text-slate-600",children:"PNG, JPG, or WebP up to 5MB. Square images look best."})]})]}),r.jsx("input",{ref:x,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:H=>{var ge;return D((ge=H.target.files)==null?void 0:ge[0])}})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{var H;return(H=x.current)==null?void 0:H.click()},disabled:d,className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50",children:d?"Uploading...":"Upload New"}),r.jsx("button",{type:"button",onClick:G,disabled:m||!l,className:"px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:m?"Removing...":"Remove"})]})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[r.jsx(xe.div,{className:"rounded-none lg:rounded-2xl border-x-0 lg:border border-slate-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.1},children:r.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-9 w-9 rounded-lg bg-blue-600/90 grid place-items-center",children:r.jsx(mc,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Profile Information"})]}),r.jsxs("form",{onSubmit:Ne,className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[r.jsx(mc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),r.jsx("input",{type:"text",value:t.name,onChange:H=>n({...t,name:H.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:!a||M,required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[r.jsx(fL,{className:"w-4 h-4 inline mr-2 text-emerald-500"}),"Email Address"]}),r.jsx("input",{type:"email",value:t.email,onChange:H=>n({...t,email:H.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",disabled:!a||M,required:!0})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",disabled:!a||M,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:M?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ww,{className:"w-4 h-4"}),"Save Changes"]})})})]})]})}),r.jsx(xe.div,{className:"rounded-none lg:rounded-2xl border-x-0 lg:border border-slate-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.15},children:r.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-9 w-9 rounded-lg bg-purple-600/90 grid place-items-center",children:r.jsx(mL,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Change Password"})]}),r.jsxs("form",{onSubmit:se,className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:w.old?"text":"password",value:S.old_password,onChange:H=>_({...S,old_password:H.target.value}),placeholder:"Enter current password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:C,minLength:1}),r.jsx("button",{type:"button",onClick:()=>j(H=>({...H,old:!H.old})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.old?r.jsx(jw,{className:"w-5 h-5"}):r.jsx(Nw,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:w.next?"text":"password",value:S.new_password,onChange:H=>_({...S,new_password:H.target.value}),placeholder:"Enter new password (min 8 chars)",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:C,minLength:8}),r.jsx("button",{type:"button",onClick:()=>j(H=>({...H,next:!H.next})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.next?r.jsx(jw,{className:"w-5 h-5"}):r.jsx(Nw,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",disabled:C,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:C?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Sw,{className:"w-4 h-4"}),"Update Password"]})})})]})]})}),r.jsx(xe.div,{className:"rounded-none lg:rounded-2xl border-x-0 lg:border border-red-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.2},children:r.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-600 grid place-items-center",children:r.jsx(np,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Danger Zone"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[r.jsx("p",{className:"text-red-900 font-semibold mb-1",children:"Delete Account"}),r.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),r.jsxs("button",{onClick:()=>A(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:[r.jsx(_w,{className:"w-4 h-4"}),"Delete Account"]})]})]})})]})]})}),r.jsx(Tt,{children:O&&r.jsx(xe.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsxs(xe.div,{className:"w-full max-w-md rounded-2xl bg-white shadow-xl border border-slate-200 p-6",initial:{y:20,opacity:.9},animate:{y:0,opacity:1},exit:{y:12,opacity:0},transition:{type:"spring",stiffness:260,damping:22},children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-600 grid place-items-center",children:r.jsx(np,{className:"w-5 h-5 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Delete"})]}),r.jsx("p",{className:"text-slate-600",children:"Are you sure you want to delete your account? This action cannot be undone."}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>A(!1),disabled:T,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-800 text-white font-medium",children:"Cancel"}),r.jsx("button",{onClick:async()=>{if(B()){$(!0);try{await ne("/delete-account",{method:"DELETE",headers:{...F(),Accept:"application/json"}}),q.success("Account deleted"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(H){q.error(H.message||"Delete failed")}finally{$(!1),A(!1)}}},disabled:T,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:T?"Deleting...":"Delete Forever"})]})]})})})]})}const oT="https://aisdr-dbt.ddns.net";function Zce(){var M,U;const[e,t]=v.useState([]),[n,a]=v.useState(!1),[s,l]=v.useState(1),[c,d]=v.useState({open:!1,number:null}),[f,m]=v.useState(!1),h=10,x=Gt(),g=K=>Array.isArray(K)?K:K&&Array.isArray(K.purchased_numbers)?K.purchased_numbers:[],b=K=>{if(!K)return"N/A";const B=String(K).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return B?`+1 (${B[1]}) ${B[2]}-${B[3]}`:K},w=K=>{if(!K)return"N/A";const F=new Date(K);return isNaN(F.getTime())?"N/A":F.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},j=async()=>{a(!0);try{const K=localStorage.getItem("token");if(!K){console.error("No token found in localStorage"),t([]);return}const F=await fetch(`${oT}/api/purchased_numbers`,{headers:{Authorization:`Bearer ${K}`}});let B;try{B=await F.json()}catch{B=[]}if(!F.ok){console.error("Failed to fetch purchased numbers:",(B==null?void 0:B.message)||(B==null?void 0:B.detail)||"Unknown error"),t([]);return}t(g(B))}catch(K){console.error("Error fetching purchased numbers:",K),t([])}finally{a(!1)}},S=async()=>{var K;if((K=c.number)!=null&&K.phone_number){m(!0);try{const F=localStorage.getItem("token");if(!F)throw new Error("No token found in localStorage");const B=await fetch(`${oT}/api/remove-phone-number`,{method:"POST",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:c.number.phone_number})});let ne;try{ne=await B.json()}catch{ne=null}if(!B.ok||(ne==null?void 0:ne.success)===!1)throw new Error((ne==null?void 0:ne.detail)||(ne==null?void 0:ne.error)||"Failed to remove phone number");t(Ne=>Ne.filter(se=>se.phone_number!==c.number.phone_number)),d({open:!1,number:null})}catch(F){alert("Failed to delete number: "+F.message)}finally{m(!1)}}};v.useEffect(()=>{j()},[]);const _=Math.ceil(e.length/h)||1,C=Math.min(s*h,e.length),k=Math.max(0,C-h),O=e.slice(k,C),A=()=>s<_&&l(K=>K+1),T=()=>s>1&&l(K=>K-1),$=K=>K>=1&&K<=_&&l(K);return v.useEffect(()=>{s>_&&l(1)},[e]),r.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:[c.open&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>!f&&d({open:!1,number:null})}),r.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Jn,{className:"w-6 h-6 text-red-500"}),r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Number"})]}),r.jsxs("div",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete this number?",r.jsx("div",{className:"mt-2 text-gray-900 font-semibold",children:b((M=c.number)==null?void 0:M.phone_number)}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",w((U=c.number)==null?void 0:U.date_purchased)]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors",onClick:()=>!f&&d({open:!1,number:null}),disabled:f,children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",onClick:S,disabled:f,children:f?"Deleting...":"Delete"})]})]})]}),r.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(xt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Purchased Numbers"}),r.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1 sm:mt-2",children:"View your purchased phone numbers"})]})]}),r.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Buy Numbers"}),r.jsx("span",{className:"sm:hidden",children:"Buy"})]})})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 text-center",children:[r.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600",children:e.length}),r.jsx("div",{className:"text-sm sm:text-base text-gray-600 font-medium mt-2",children:"Total Purchased Numbers"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(xt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),r.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Purchased Numbers (",e.length,")"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[r.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full"}),r.jsx("span",{className:"font-semibold",children:"Live Data"})]})]})}),n?r.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx(xt,{className:"w-8 h-8 sm:w-12 sm:h-12 animate-pulse text-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"Loading purchased numbers..."}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Please wait while we fetch your data"})]})}):e.length===0?r.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(xt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),r.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No purchased numbers found"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Your purchased numbers will appear here"}),r.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:"Buy Numbers"})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden lg:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Phone Number"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Friendly Name"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date Purchased"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Attached Assistant"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map((K,F)=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:r.jsx(xt,{className:"w-5 h-5 text-blue-600"})}),r.jsx("div",{className:"text-lg font-bold text-gray-900",children:b(K.phone_number)})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fs,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.friendly_name||""})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-xs font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:w(K.date_purchased)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-700",children:K.attached_assistant??""})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:K}),children:[r.jsx(Jn,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},K.phone_number||F))})]})}),r.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:O.map((K,F)=>r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(xt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 mb-2",children:b(K.phone_number)}),r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(Fs,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("span",{className:"text-sm text-gray-600",children:K.friendly_name||""})]}),r.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded inline-block mb-2",children:w(K.date_purchased)}),r.jsxs("div",{className:"text-sm text-gray-700 mb-3",children:["Assistant: ",K.attached_assistant??""]}),r.jsx("div",{children:r.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:K}),children:[r.jsx(Jn,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]})},K.phone_number||F))})]})]}),e.length>h&&r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",e.length===0?0:k+1," to ",C," of ",e.length," results"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:T,disabled:s===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:"Previous"}),r.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const K=[];let F=1,B=_;_>5&&(s<=3?(F=1,B=5):s>=_-2?(F=_-4,B=_):(F=s-2,B=s+2));for(let ne=F;ne<=B;ne++)K.push(r.jsx("button",{onClick:()=>$(ne),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s===ne?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,"aria-current":s===ne?"page":void 0,children:ne},ne));return K})()}),r.jsx("button",{onClick:A,disabled:s>=_,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:"Next"})]})]})})]})]})}function ls(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function Qp(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function hL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function pL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function xL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function rp(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function gL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function vL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Jp(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function ex(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function yL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function Pc(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function Vi(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function tx(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function bL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function wL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Oc(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Mc(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const gh="https://aisdr-dbt.ddns.net";function Qce(){const e=Gt(),[t,n]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(!0),[m,h]=v.useState(""),[x,g]=v.useState("all"),[b,w]=v.useState("all"),[j,S]=v.useState("created_at"),[_,C]=v.useState("desc"),[k,O]=v.useState(!1),[A,T]=v.useState(null),[$,M]=v.useState([]),[U,K]=v.useState(!1),[F,B]=v.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[ne,Ne]=v.useState(1),se=10,D=v.useMemo(()=>localStorage.getItem("token"),[]),G=async()=>{try{c(!0);const W=await fetch(`${gh}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!W.ok)throw new Error(`HTTP ${W.status}`);const oe=await W.json(),X=Array.isArray(oe)?oe:Array.isArray(oe==null?void 0:oe.assistants)?oe.assistants:[];n(X)}catch(W){console.error(W),q.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};v.useEffect(()=>{G()},[]),v.useEffect(()=>{if(!d)return;const W=setInterval(G,15e3);return()=>clearInterval(W)},[d]);const V=v.useMemo(()=>{let W=[...t];x!=="all"&&(W=W.filter(X=>((X==null?void 0:X.provider)||"").toLowerCase()===x)),b!=="all"&&(W=W.filter(X=>((X==null?void 0:X.category)||"").toLowerCase()===b));const oe=m.trim().toLowerCase();return oe&&(W=W.filter(X=>[X==null?void 0:X.name,X==null?void 0:X.model,X==null?void 0:X.voice,X==null?void 0:X.category,X==null?void 0:X.attached_Number].filter(Boolean).map(String).map(Ee=>Ee.toLowerCase()).some(Ee=>Ee.includes(oe)))),W.sort((X,je)=>{if(j==="created_at"){const Te=X!=null&&X.created_at?new Date(X.created_at).getTime():0,tt=je!=null&&je.created_at?new Date(je.created_at).getTime():0;return _==="asc"?Te-tt:tt-Te}const Ee=((X==null?void 0:X[j])??"").toString().toLowerCase(),qe=((je==null?void 0:je[j])??"").toString().toLowerCase();return Ee<qe?_==="asc"?-1:1:Ee>qe?_==="asc"?1:-1:0}),W},[t,m,x,b,j,_]),z=v.useMemo(()=>{const W=new Set((t||[]).map(oe=>((oe==null?void 0:oe.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(W)]},[t]),E=v.useMemo(()=>{const W=new Set((t||[]).map(oe=>((oe==null?void 0:oe.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(W)]},[t]),R=Math.max(1,Math.ceil(V.length/se)),L=Math.min(ne,R),Y=V.slice((L-1)*se,L*se),ce=v.useMemo(()=>V.length?V.reduce((W,oe)=>{const X=W!=null&&W.created_at?new Date(W.created_at):null,je=oe!=null&&oe.created_at?new Date(oe.created_at):null;return!X&&je?oe:!je&&X||!X&&!je?W:je>X?oe:W},V[0]):null,[V]),Q=W=>{j===W?C(oe=>oe==="asc"?"desc":"asc"):(S(W),C("asc"))},H=W=>{T(W),O(!0)},ge=async()=>{if(A)try{const W=await fetch(`${gh}/api/assistants/${A}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!W.ok){let oe=`HTTP ${W.status}`;try{const X=await W.json();X!=null&&X.detail&&(oe=X.detail)}catch{}throw new Error(oe)}q.success("Assistant deleted"),M(oe=>oe.filter(X=>X!==A)),G()}catch(W){console.error(W),q.error((W==null?void 0:W.message)||"Delete failed")}finally{O(!1),T(null)}},te=W=>{const oe=W==null?void 0:W.knowledge_base;if(Array.isArray(oe)&&oe.length){const X=oe.filter(je=>typeof je=="string"&&/^https?:\/\//i.test(je));if(X.length){X.forEach(je=>window.open(je,"_blank","noopener"));return}}q.info("No file URLs available for this assistant.")},he=W=>{if(!(W!=null&&W.vapi_assistant_id)){q.error("Missing VAPI Assistant ID");return}B({vapi_assistant_id:W.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),K(!0)},Se=async W=>{W.preventDefault();const{vapi_assistant_id:oe,number:X,first_name:je,last_name:Ee,email:qe}=F;if(!X)return q.error("Enter the customer's phone number (E.164 preferred)");try{const Te=`${gh}/api/phone-call/${encodeURIComponent(oe)}/${encodeURIComponent(X)}`,tt={first_name:je||"Caller",last_name:Ee||"",email:qe||"caller@example.com",add_date:new Date().toISOString(),mobile_no:X,custom_field_01:null,custom_field_02:null},We=await fetch(Te,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:D?`Bearer ${D}`:""},body:JSON.stringify(tt)}),we=await We.json().catch(()=>({}));if(!We.ok||(we==null?void 0:we.success)===!1)throw new Error((we==null?void 0:we.detail)||`HTTP ${We.status}`);q.success("Call initiated"),K(!1)}catch(Te){console.error(Te),q.error((Te==null?void 0:Te.message)||"Failed to initiate call")}},be=W=>$.includes(W),ue=W=>{M(oe=>oe.includes(W)?oe.filter(X=>X!==W):[...oe,W])},$e=()=>{const W=Y.map(X=>X.id).filter(Boolean),oe=W.every(X=>$.includes(X));M(X=>oe?X.filter(je=>!W.includes(je)):Array.from(new Set([...X,...W])))},ze=async()=>{if(!$.length)return q.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const W of $)await fetch(`${gh}/api/assistants/${W}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});q.success("Bulk delete complete"),M([]),G()}catch(W){console.error(W),q.error("Bulk delete encountered an error")}},et=()=>{const W=["Name","Model","Voice","Attached Number","Category","Created"],oe=V.map(Te=>[(Te==null?void 0:Te.name)??"",(Te==null?void 0:Te.model)??"",(Te==null?void 0:Te.voice)??"",(Te==null?void 0:Te.attached_Number)??"",(Te==null?void 0:Te.category)??"",Te!=null&&Te.created_at?new Date(Te.created_at).toLocaleString():""]),X=[W,...oe].map(Te=>Te.map(tt=>`"${String(tt).replace(/"/g,'""')}"`).join(",")).join(`
`),je=new Blob([X],{type:"text/csv;charset=utf-8;"}),Ee=URL.createObjectURL(je),qe=document.createElement("a");qe.href=Ee,qe.download="assistants.csv",qe.click(),URL.revokeObjectURL(Ee)};return a?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:r.jsx("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[r.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),r.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),r.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((W,oe)=>r.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[r.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),r.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},oe))}),r.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[r.jsx("div",{className:"border-b border-gray-100 p-6",children:r.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((W,oe)=>r.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),r.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),r.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((X,je)=>r.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},je))})]})},oe))]})]})})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),r.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),r.jsxs("div",{className:"relative mx-auto w-full max-w-[1600px] px-6 py-12",children:[r.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"text-white",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:r.jsx(Mc,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),r.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),r.jsxs("span",{children:[V.length," Active"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rp,{className:"h-4 w-4"}),r.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("button",{onClick:()=>f(W=>!W),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[r.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),r.jsxs("button",{onClick:G,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[r.jsx(bL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),r.jsxs("button",{onClick:et,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[r.jsx(vL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),r.jsxs("button",{onClick:()=>e("/user/assistant/create"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[r.jsx(tx,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(wL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),r.jsx("input",{value:m,onChange:W=>h(W.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsx(cT,{label:"Provider",value:x,onChange:g,options:z,icon:r.jsx(yL,{className:"h-4 w-4"})}),r.jsx(cT,{label:"Category",value:b,onChange:w,options:E,icon:r.jsx(Pc,{className:"h-4 w-4"})})]})]})]})]}),r.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(vh,{title:"Total Assistants",value:V.length,icon:r.jsx(Mc,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),r.jsx(vh,{title:"Active Calls",value:"24",icon:r.jsx(Vi,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),r.jsx(vh,{title:"Success Rate",value:"94.2%",icon:r.jsx(ls,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),r.jsx(vh,{title:"Last Created",value:ce!=null&&ce.name?ce.name.length>12?`${ce.name.slice(0,12)}`:ce.name:"",icon:r.jsx(rp,{className:"h-6 w-6 text-cyan-600"}),subtitle:ce!=null&&ce.created_at?new Date(ce.created_at).toLocaleDateString():""})]}),$.length>0&&r.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:r.jsx(ls,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-blue-900",children:[$.length," assistants selected"]}),r.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:$e,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),r.jsx("button",{onClick:ze,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),V.length===0?r.jsx(nue,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[r.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),r.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[r.jsx("thead",{className:"bg-gray-50/60",children:r.jsxs("tr",{children:[r.jsx(Jce,{className:"w-12 text-center",checked:Y.every(W=>$.includes(W.id))&&Y.length>0,onChange:$e}),r.jsx(Ho,{className:"w-[26%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?_:null,onSort:Q}),r.jsx(Ho,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?_:null,onSort:Q}),r.jsx(Ho,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?_:null,onSort:Q}),r.jsx(Ho,{className:"w-[18%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?_:null,onSort:Q}),r.jsx(Ho,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?_:null,onSort:Q}),r.jsx(Ho,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?_:null,onSort:Q}),r.jsx("th",{className:"w-[14%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:Y.map(W=>r.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${be(W.id)?"bg-blue-50/50":""}`,children:[r.jsx(eue,{className:"w-12 text-center",checked:be(W.id),onChange:()=>ue(W.id)}),r.jsx("td",{className:"w-[26%] px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:r.jsx(Pc,{className:"h-5 w-5"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"max-w-[40ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:W.name||""}),r.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(W.knowledge_base)?W.knowledge_base.length:0," KB items"]})]})]})}),r.jsx("td",{className:"w-[12%] px-6 py-4",children:r.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:r.jsx(hc,{variant:"secondary",children:W.model||""})})}),r.jsx("td",{className:"w-[12%] px-6 py-4",children:r.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:r.jsx(hc,{variant:"accent",children:W.voice||""})})}),r.jsx("td",{className:"w-[18%] px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"break-all font-mono text-sm text-gray-700",children:W.attached_Number||""}),W.attached_Number&&r.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>rue(W.attached_Number),children:r.jsx(gL,{className:"h-4 w-4"})})]})}),r.jsx("td",{className:"w-[10%] px-6 py-4",children:r.jsx("div",{className:"text-center",children:W.category?r.jsx(hc,{variant:"primary",children:W.category}):r.jsx("span",{className:"text-gray-400",children:""})})}),r.jsx("td",{className:"w-[8%] px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:W.created_at?new Date(W.created_at).toLocaleDateString():""}),r.jsx("td",{className:"w-[14%] px-6 py-4",children:r.jsxs("div",{className:"mx-auto flex w-full min-w-[220px] items-center justify-center gap-2 whitespace-nowrap",children:[r.jsx(yh,{title:"Edit Assistant",onClick:()=>e(`/user/edit-assistant/${W.id}`),variant:"primary",children:r.jsx(Jp,{className:"h-4 w-4"})}),r.jsx(yh,{title:"View Files",onClick:()=>te(W),variant:"success",children:r.jsx(ex,{className:"h-4 w-4"})}),r.jsx(yh,{title:"Start Call",onClick:()=>he(W),variant:"secondary",children:r.jsx(Vi,{className:"h-4 w-4"})}),r.jsx(yh,{title:"Delete",onClick:()=>H(W.id),variant:"danger",children:r.jsx(Oc,{className:"h-4 w-4"})})]})})]},W.id??W.name))})]})]}),r.jsx("div",{className:"space-y-4 xl:hidden",children:Y.map(W=>r.jsx(tue,{assistant:W,isSelected:be(W.id),onToggleSelect:()=>ue(W.id),onEdit:()=>e(`/user/edit-assistant/${W.id}`),onViewFiles:()=>te(W),onCall:()=>he(W),onDelete:()=>H(W.id)},W.id??W.name))}),r.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(L-1)*se+1," to ",Math.min(L*se,V.length)," of"," ",V.length," assistants"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(uT,{disabled:L<=1,onClick:()=>Ne(W=>Math.max(1,W-1)),children:[r.jsx(hL,{className:"h-4 w-4"}),"Previous"]}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,R)},(W,oe)=>{const X=oe+1;return r.jsx("button",{onClick:()=>Ne(X),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${X===L?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:X},X)})}),r.jsxs(uT,{disabled:L>=R,onClick:()=>Ne(W=>Math.min(R,W+1)),children:["Next",r.jsx(pL,{className:"h-4 w-4"})]})]})]})]})]}),k&&r.jsx(dT,{onClose:()=>O(!1),children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:r.jsx(Oc,{className:"h-8 w-8 text-red-600"})}),r.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),r.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),r.jsxs("div",{className:"flex justify-center gap-3",children:[r.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>O(!1),children:"Cancel"}),r.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:ge,children:"Delete Assistant"})]})]})}),U&&r.jsxs(dT,{onClose:()=>K(!1),children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:r.jsx(Vi,{className:"h-8 w-8 text-blue-600"})}),r.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),r.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),r.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[r.jsx(bh,{label:"Customer Phone Number",value:F.number,onChange:W=>B(oe=>({...oe,number:W})),placeholder:"+1 (555) 123-4567",required:!0}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(bh,{label:"First Name",value:F.first_name,onChange:W=>B(oe=>({...oe,first_name:W})),placeholder:"John"}),r.jsx(bh,{label:"Last Name",value:F.last_name,onChange:W=>B(oe=>({...oe,last_name:W})),placeholder:"Doe"})]}),r.jsx(bh,{label:"Email Address",value:F.email,onChange:W=>B(oe=>({...oe,email:W})),placeholder:"john@example.com",type:"email"}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>K(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function vh({title:e,value:t,icon:n,trend:a,trendUp:s,subtitle:l}){return r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),r.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&r.jsx("div",{className:"text-sm text-gray-500",children:l}),a&&r.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[a," from last month"]})]})]})}function cT({label:e,value:t,onChange:n,options:a}){return r.jsxs("div",{className:"relative",children:[r.jsx("select",{value:t,onChange:s=>n(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:a.map(s=>r.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx(Qp,{className:"h-4 w-4 text-white/70"})})]})}function hc({children:e,variant:t="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return r.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[t]}`,children:e})}function yh({title:e,onClick:t,children:n,variant:a="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return r.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[a]}`,children:n})}function Ho({label:e,sortKey:t,sortDir:n,onSort:a,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return r.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:r.jsxs("button",{onClick:()=>a(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,r.jsxs("div",{className:"flex flex-col",children:[r.jsx(xL,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),r.jsx(Qp,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Jce({checked:e,onChange:t,className:n=""}){return r.jsx("th",{className:`px-6 py-4 ${n}`,children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&r.jsx(ls,{className:"h-3 w-3"})})})})}function eue({checked:e,onChange:t,className:n=""}){return r.jsx("td",{className:`px-6 py-4 ${n}`,children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&r.jsx(ls,{className:"h-3 w-3"})})})})}function tue({assistant:e,isSelected:t,onToggleSelect:n,onEdit:a,onViewFiles:s,onCall:l,onDelete:c}){return r.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[r.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&r.jsx(ls,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:r.jsx(Pc,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),r.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),r.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),r.jsx(hc,{variant:"secondary",children:e.model||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),r.jsx(hc,{variant:"accent",children:e.voice||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),r.jsx("div",{className:"break-all font-mono text-sm",children:e.attached_Number||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?r.jsx(hc,{variant:"primary",children:e.category}):r.jsx("span",{className:"text-gray-400",children:""})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:a,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[r.jsx(Jp,{className:"h-4 w-4"}),"Edit"]}),r.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[r.jsx(ex,{className:"h-4 w-4"}),"Files"]}),r.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[r.jsx(Vi,{className:"h-4 w-4"}),"Call"]}),r.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[r.jsx(Oc,{className:"h-4 w-4"}),"Delete"]})]})]})}function uT({disabled:e,onClick:t,children:n}){return r.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function dT({children:e,onClose:t}){return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),r.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[r.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function bh({label:e,value:t,onChange:n,placeholder:a,required:s,type:l="text"}){return r.jsxs("div",{children:[r.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:l,value:t,onChange:c=>n(c.target.value),placeholder:a,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function nue(){return r.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:r.jsx(Mc,{className:"h-10 w-10 text-blue-600"})}),r.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),r.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),r.jsxs("a",{href:"/user/assistant/create",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[r.jsx(tx,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function rue(e){e&&navigator.clipboard.writeText(e).then(()=>q.success("Copied to clipboard")).catch(()=>q.info(e))}const ao=[{showName:"Asteria",name:"asteria",voice:"aura-asteria-en",gender:"female",audioSr:"/Audios/output_Asteria.wav",provider:"deepgram"},{showName:"Luna",name:"luna",voice:"aura-luna-en",gender:"female",audioSr:"/Audios/output_Luna.wav",provider:"deepgram"},{showName:"Stella",name:"stella",voice:"aura-stella-en",gender:"female",audioSr:"/Audios/output_Stella.wav",provider:"deepgram"},{showName:"Athena",name:"athena",voice:"aura-athena-en",gender:"female",audioSr:"/Audios/output_Athena.wav",provider:"deepgram"},{showName:"Hera",name:"hera",voice:"aura-hera-en",gender:"female",audioSr:"/Audios/output_Hera.wav",provider:"deepgram"},{showName:"Orion",name:"orion",voice:"aura-orion-en",gender:"male",audioSr:"/Audios/output_Orion.wav",provider:"deepgram"},{showName:"Arcas",name:"arcas",voice:"aura-arcas-en",gender:"male",audioSr:"/Audios/output_Arcas.wav",provider:"deepgram"},{showName:"Perseus",name:"perseus",voice:"aura-perseus-en",gender:"male",audioSr:"/Audios/output_Perseus.wav",provider:"deepgram"},{showName:"Angus",name:"angus",voice:"aura-angus-en",gender:"male",audioSr:"/Audios/output_Angus.wav",provider:"deepgram"},{showName:"Orpheus",name:"orpheus",voice:"aura-orpheus-en",gender:"male",audioSr:"/Audios/output_Orpheus.wav",provider:"deepgram"},{showName:"Helios",name:"helios",voice:"aura-helios-en",gender:"male",audioSr:"/Audios/output_Helios.wav",provider:"deepgram"},{showName:"Zeus",name:"zeus",voice:"aura-zeus-en",gender:"male",audioSr:"/Audios/output_Zeus.wav",provider:"deepgram"}],Jc=[{showName:"nova",name:"nova",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/nova.mp3",provider:"openai"},{showName:"onyx",name:"onyx",voice:"gpt-4o-mini-tts",gender:"male",audioSr:"/Audios/onyx.mp3",provider:"openai"},{showName:"alloy",name:"alloy",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/alloy.mp3",provider:"openai"}];[...ao,...Jc];ao.filter(e=>e.gender==="female");const _b=ao.filter(e=>e.gender==="male"),Cb=ao;Jc.filter(e=>e.gender==="female");Jc.filter(e=>e.gender==="male");const it={danger:"#EF4444",text:"#0F172A",lightText:"#64748B",border:"#E2E8F0",background:"#F8FAFC",card:"#FFFFFF"},fT=/^\+\d{7,15}$/,mT=[{id:1,label:"Core & Transcription",Icon:Lw},{id:2,label:"Voice",Icon:Bw},{id:3,label:"Review & Save",Icon:zc}],aue=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],sue=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function iue(){const{assistantId:e}=uf(),t=Gt(),n="https://aisdr-dbt.ddns.net",[a,s]=v.useState(1),[l,c]=v.useState(!0),[d,f]=v.useState(!1),[m,h]=v.useState(!1),x=v.useRef(null),[g,b]=v.useState(!1),[w,j]=v.useState([]),[S,_]=v.useState(!1),[C,k]=v.useState(""),[O,A]=v.useState("all"),[T,$]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],voice_provider:"deepgram",voice_model:"",voice:"",speed:.8,stability:.5,similarityBoost:.75,draft:!1,assistant_toggle:!0}),[M,U]=v.useState({}),K=v.useMemo(()=>{const E=T.voice_provider==="openai"?Jc:ao;return(O==="all"?E:E.filter(L=>L.gender===O)).slice().sort((L,Y)=>((L==null?void 0:L.showName)||"").localeCompare((Y==null?void 0:Y.showName)||""))},[T.voice_provider,O]);v.useEffect(()=>{if(!T.voice)return;const E=K.find(R=>(R==null?void 0:R.name)===T.voice);E!=null&&E.voice&&($(R=>({...R,voice_model:E.voice})),U(R=>({...R,voice_model:""})))},[T.voice,K]),v.useEffect(()=>{if(!T.voice)return b(!1);K.some(R=>R.name===T.voice)||b(!1)},[K,T.voice]);const F=async()=>{_(!0),k("");try{const E=localStorage.getItem("token"),R=await fetch(`${n}/api/purchased_numbers`,{headers:{Accept:"application/json",...E?{Authorization:`Bearer ${E}`}:{}}});if(!R.ok)throw new Error(`HTTP ${R.status}`);const L=await R.json(),ce=(Array.isArray(L)?L:(L==null?void 0:L.purchased_numbers)||[]).filter(Boolean).map(Q=>({phone_number:(Q==null?void 0:Q.phone_number)||"",friendly_name:(Q==null?void 0:Q.friendly_name)||"",attached_assistant:(Q==null?void 0:Q.attached_assistant)??null})).filter(Q=>Q.phone_number);j(ce)}catch(E){console.error(E),k("Failed to load your purchased numbers"),j([])}finally{_(!1)}};v.useEffect(()=>{(async()=>{try{const R=localStorage.getItem("token");if(!R){q.error("No authentication token found. Please log in."),t("/login");return}const L=await fetch(`${n}/api/get-assistants`,{headers:{Authorization:`Bearer ${R}`,Accept:"application/json"}});if(!L.ok)throw new Error(`HTTP ${L.status}`);const Y=await L.json(),ce=Number(e),Q=Y.find(he=>Number(he.id)===ce);if(!Q)throw new Error("Assistant not found");const H=Q.voice_provider==="openai"||Q.voice_provider==="deepgram"?Q.voice_provider:"deepgram",ge={name:Q.name||"",provider:Q.provider||"openai",model:Q.model||"gpt-4o-mini",temperature:Q.temperature??.7,maxTokens:Q.max_tokens??Q.maxTokens??250,systemPrompt:Q.system_prompt||Q.systemPrompt||"",first_message:Q.first_message||"",transcribe_provider:Q.transcribe_provider||"google",transcribe_language:Q.transcribe_language||"English",transcribe_model:Q.transcribe_model||"gemini-2.0-flash",forwardingPhoneNumber:Q.forwardingPhoneNumber||"",attached_Number:Q.attached_Number||"",category:Q.category||"",knowledgeBase:Q.knowledge_base||Q.knowledgeBase||[],leadsfile:Q.leadsfile||[],languages:Q.languages||[],endCallPhrases:Q.endCallPhrases||[],voice_provider:H,voice_model:Q.voice_model||"",voice:Q.voice||"",speed:Q.speed??.8,stability:Q.stability??.5,similarityBoost:Q.similarityBoost??.75,draft:!!Q.draft,assistant_toggle:!!(Q.assistant_toggle??!0)};$(he=>({...he,...ge}));const te=ge.voice&&ge.voice_model&&(ge.voice_provider==="deepgram"||ge.voice_provider==="openai");b(!!te),F(),c(!1)}catch(R){console.error("Error loading assistant:",R),q.error((R==null?void 0:R.message)||"Failed to load assistant"),t("/")}})()},[e]);const B=E=>{const{id:R,value:L,type:Y,checked:ce}=E.target,Q=Y==="checkbox"?ce:L;$(H=>({...H,[R]:Q})),U(H=>({...H,[R]:""}))},ne=E=>{try{x.current&&(x.current.pause(),x.current=null);const R=new Audio(E);x.current=R,h(!0),R.play().catch(()=>{q.error("Failed to play voice preview"),h(!1),x.current=null}),R.onended=()=>{h(!1),x.current=null}}catch{q.error("Failed to play voice preview"),h(!1)}},Ne=()=>{x.current&&(x.current.pause(),x.current=null,h(!1))},se=E=>{if(E!==a){if(E===3&&(!T.voice||!g)){U(R=>({...R,voice:"Select a voice and press Next to continue"})),q.error("Please select a voice and press Next to continue.");return}Ne(),s(E)}},D=()=>{if(a===1)return s(2);if(a===2){if(!T.voice){U(E=>({...E,voice:"Please select a voice"})),q.error("Select a voice to continue.");return}if(!g){U(E=>({...E,voice:"Click a voice card to confirm your choice"})),q.info("Click a voice card to confirm your choice.");return}return s(3)}},G=E=>{Ne();const R=E.target.value;$(L=>({...L,voice_provider:R,voice:"",voice_model:""})),b(!1),U(L=>({...L,voice:"",voice_model:""}))},V=()=>{const E=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],R={};let L=!0;return E.forEach(Y=>{const ce=T[Y];(ce==null||ce===""||Number.isNaN(ce))&&(R[Y]="Required",L=!1)}),(T.temperature<0||T.temperature>2)&&(R.temperature="Temperature must be between 0 and 2",L=!1),Number(T.maxTokens)<1&&(R.maxTokens="maxTokens must be a positive integer",L=!1),T.forwardingPhoneNumber&&!fT.test(T.forwardingPhoneNumber)&&(R.forwardingPhoneNumber="Must be E.164 (+123...)",L=!1),T.attached_Number&&!fT.test(T.attached_Number)&&(R.attached_Number="Invalid number format",L=!1),U(R),L||((Q=>Q.some(H=>R[H]))(["name","systemPrompt","first_message","forwardingPhoneNumber","attached_Number","category"])?s(1):s(2)),L},z=async E=>{if(E.preventDefault(),!d){if(a!==3){q.error("Please complete the steps first.");return}if(!V()){q.error("Fix the highlighted fields.");return}f(!0),Ne();try{const R=localStorage.getItem("token");if(!R)throw new Error("No authentication token found. Please log in.");const L={name:T.name,provider:T.provider,first_message:T.first_message||null,model:T.model,systemPrompt:T.systemPrompt||null,knowledgeBase:T.knowledgeBase,leadsfile:T.leadsfile,temperature:Number(T.temperature),maxTokens:Number(T.maxTokens),transcribe_provider:T.transcribe_provider,transcribe_language:T.transcribe_language,transcribe_model:T.transcribe_model,languages:T.languages,forwardingPhoneNumber:T.forwardingPhoneNumber||null,endCallPhrases:T.endCallPhrases,voice_provider:T.voice_provider,voice:T.voice,voice_model:T.voice_model,attached_Number:T.attached_Number||null,draft:!!T.draft,assistant_toggle:!!T.assistant_toggle,category:T.category||null,speed:Number(T.speed),stability:Number(T.stability),similarityBoost:Number(T.similarityBoost)},Y=await fetch(`${n}/api/update_assistant/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify(L)});if(!Y.ok){let ce=`HTTP ${Y.status}`;try{const Q=await Y.json();Q!=null&&Q.detail&&(ce=Q.detail)}catch{const Q=await Y.text();Q&&(ce=`${ce}  ${Q}`)}throw new Error(ce)}q.success("Assistant updated successfully!"),t("/user/callassistent")}catch(R){console.error("Update error",R),q.error((R==null?void 0:R.message)||"Failed to update assistant")}finally{f(!1)}}};return l?r.jsx("div",{className:"min-h-screen grid place-items-center",style:{background:it.background},children:r.jsxs("div",{className:"flex items-center gap-3 text-lg",style:{color:it.text},children:[r.jsx(Hn,{className:"h-6 w-6 animate-spin"}),"Loading assistant"]})}):r.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:it.background},children:[r.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:r.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(99,102,241,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(16,185,129,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(59,130,246,0.12) 0%, transparent 60%)"}})}),r.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),r.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[r.jsx(xe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:it.border,backgroundColor:it.card},children:r.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-indigo-300/30 blur-2xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-emerald-300/30 blur-2xl"}),r.jsxs("div",{className:"relative p-6 text-center",children:[r.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold",style:{color:it.text},children:[r.jsx(zc,{className:"h-7 w-7 text-indigo-600"})," Edit Assistant"]}),r.jsx("p",{className:"mt-2 text-sm",style:{color:it.lightText},children:"Minimal UI  Voice required  Create-aligned defaults"})]})]})}),r.jsx(lue,{currentStep:a,onChange:se}),r.jsx(xe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:it.card,borderColor:it.border},children:r.jsxs("form",{onSubmit:z,noValidate:!0,children:[r.jsxs(Tt,{mode:"wait",children:[a===1&&r.jsxs(xe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsx(wh,{id:"name",label:"Assistant Name",value:T.name,onChange:B,error:M.name,placeholder:"SupportBot"}),r.jsx(wh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:T.forwardingPhoneNumber,onChange:B,error:M.forwardingPhoneNumber,placeholder:"+12345678901"}),r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Rd,{children:"Attach Purchased Number (optional)"}),r.jsxs("button",{type:"button",onClick:F,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1 text-sm font-medium hover:bg-slate-50",style:{borderColor:it.border,color:it.text,backgroundColor:it.card},disabled:S,title:"Refresh list",children:[r.jsx(Xe,{className:S?"h-4 w-4 animate-spin":"h-4 w-4"}),S?"Loading":"Refresh"]})]}),r.jsxs("select",{id:"attached_Number",value:T.attached_Number,onChange:B,disabled:S,className:"w-full rounded-xl border p-3 outline-none transition disabled:opacity-60 focus:border-indigo-500",style:{borderColor:it.border,color:it.text,backgroundColor:it.card},children:[r.jsx("option",{value:"",children:w.length?"Do not change":"No purchased numbers found"}),w.map(E=>r.jsx("option",{value:E.phone_number,children:E.friendly_name?`${E.friendly_name}  ${E.phone_number}`:E.phone_number},E.phone_number))]}),C&&r.jsx(Pl,{children:C}),M.attached_Number&&r.jsx(Pl,{children:M.attached_Number})]}),r.jsx(wh,{id:"category",label:"Category (optional)",value:T.category,onChange:B}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Rd,{children:"System Prompt"}),r.jsx(xT,{id:"systemPrompt",value:T.systemPrompt,onChange:B,placeholder:"Write your system prompt",rows:4}),M.systemPrompt&&r.jsx(Pl,{children:M.systemPrompt})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Rd,{children:"First Message"}),r.jsx(xT,{id:"first_message",value:T.first_message,onChange:B,placeholder:"Hello! ",rows:3}),M.first_message&&r.jsx(Pl,{children:M.first_message})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[r.jsx(gT,{id:"draft",label:"Save as Draft",checked:T.draft,onChange:B}),r.jsx(gT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:T.assistant_toggle,onChange:B})]})]},"step1"),a===2&&r.jsxs(xe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[r.jsx(pT,{id:"voice_provider",label:"Voice Provider",value:T.voice_provider,onChange:G,options:aue,error:M.voice_provider}),r.jsx(pT,{id:"genderFilter",label:"Gender",value:O,onChange:E=>{Ne(),A(E.target.value)},options:sue}),r.jsx(wh,{id:"voice_model",label:"Voice Model",value:T.voice_model,onChange:()=>{},error:M.voice_model,placeholder:T.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!g&&r.jsxs("p",{className:"text-sm",style:{color:it.lightText},children:["Tip: ",r.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press ",r.jsx("span",{className:"font-medium",children:"Next"}),"."]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"text-sm",style:{color:it.lightText},children:["Showing ",r.jsx("span",{className:"font-medium",children:K.length})," voices"]})}),r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:K.map(E=>r.jsxs(xe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:T.voice===E.name?"#93c5fd":it.border,backgroundColor:T.voice===E.name?"#eff6ff":it.card},onClick:()=>{$(R=>({...R,voice:E.name,voice_model:E.voice,voice_provider:E.provider||T.voice_provider})),b(!0),U(R=>({...R,voice:"",voice_model:""}))},children:[r.jsx("div",{className:"absolute left-3 top-3",children:r.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${T.voice===E.name?"border-indigo-500 bg-indigo-500":"border-slate-400 bg-transparent"}`})}),r.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold",style:{color:it.text},children:E.showName||E.name}),r.jsxs("div",{className:"text-sm capitalize",style:{color:it.lightText},children:[E.gender||"unknown","  ",E.provider]}),r.jsx("div",{className:"mt-1 text-xs",style:{color:it.lightText},children:E.voice})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(oue,{isActive:m&&T.voice===E.name,onPlay:()=>ne(E.audioSr||""),onStop:Ne})})]})]},`${E.provider}-${E.name}`))}),M.voice&&r.jsx(Pl,{children:M.voice})]},"step2"),a===3&&r.jsx(xe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:r.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:it.border},children:[r.jsx("h3",{className:"mb-3 text-lg font-semibold",style:{color:it.text},children:"Review"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsx(yl,{label:"Name",value:T.name||""}),r.jsx(yl,{label:"Model",value:`${T.provider}  ${T.model}`}),r.jsx(yl,{label:"Voice Provider",value:T.voice_provider}),r.jsx(yl,{label:"Voice",value:T.voice||""}),r.jsx(yl,{label:"Voice Model",value:T.voice_model||""}),r.jsx(yl,{label:"Forwarding Number",value:T.forwardingPhoneNumber||""}),r.jsx(yl,{label:"Attach Number",value:T.attached_Number||""})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[r.jsx(kb,{onClick:()=>s(2),children:"Edit Voice"}),r.jsx(kb,{onClick:()=>s(1),children:"Edit Core"})]})]})},"step3")]}),r.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[a>1?r.jsx(kb,{onClick:()=>se(a-1),children:"Back"}):r.jsx("span",{}),a<3?r.jsxs(hT,{onClick:D,children:["Next ",r.jsx(qn,{className:"ml-1 h-4 w-4"})]}):r.jsx(hT,{type:"submit",disabled:d,children:d?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 animate-spin"})," Updating"]}):"Update Assistant"})]})]})})]})]})}function lue({currentStep:e,onChange:t}){const n=mT;return r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:n.map(({id:a,label:s,Icon:l})=>{const c=e===a;return r.jsxs(xe.button,{onClick:()=>t(a),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${c?"border-indigo-500/40 bg-indigo-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[r.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${c?"bg-indigo-100":"bg-slate-100"}`,children:r.jsx(l,{className:`h-5 w-5 ${c?"text-indigo-600":"text-slate-600"}`})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:`text-sm font-semibold ${c?"text-slate-900":"text-slate-700"}`,children:s}),r.jsx("div",{className:`text-xs ${c?"text-indigo-600":"text-slate-500"}`,children:c?"Active":"Click to open"})]})]},a)})}),r.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-4xl rounded-full bg-slate-200",children:r.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-indigo-600 to-emerald-500",style:{width:`${e/mT.length*100}%`}})})]})}function hT({children:e,onClick:t,type:n="button",disabled:a}){return r.jsx("button",{type:n,onClick:t,disabled:a,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-indigo-200 transition ${a?"bg-indigo-400/60":"bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600"}`,children:e})}function kb({children:e,onClick:t}){return r.jsx("button",{type:"button",onClick:t,className:"rounded-xl border px-4 py-2 font-semibold hover:bg-slate-50",style:{borderColor:it.border,color:it.text,backgroundColor:it.card},children:e})}function Rd({children:e}){return r.jsx("label",{className:"mb-2 block text-sm font-semibold",style:{color:it.text},children:e})}function Pl({children:e}){return r.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm",style:{color:it.danger},children:e})}function wh({id:e,label:t,value:n,onChange:a,error:s,placeholder:l,readOnly:c=!1}){return r.jsxs("div",{className:"mb-2",children:[r.jsx(Rd,{children:t}),r.jsx("input",{id:e,type:"text",value:n,onChange:a,placeholder:l,readOnly:c,className:`w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500 ${c?"bg-slate-50":""}`,style:{borderColor:it.border,color:it.text,backgroundColor:it.card}}),s&&r.jsx(Pl,{children:s})]})}function pT({id:e,label:t,value:n,onChange:a,options:s,error:l}){return r.jsxs("div",{className:"mb-2",children:[r.jsx(Rd,{children:t}),r.jsx("select",{id:e,value:n,onChange:a,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:it.border,color:it.text,backgroundColor:it.card},children:s.map(c=>r.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&r.jsx(Pl,{children:l})]})}function xT({id:e,value:t,onChange:n,placeholder:a,rows:s=4}){return r.jsx("textarea",{id:e,value:t,onChange:n,placeholder:a,rows:s,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:it.border,color:it.text,backgroundColor:it.card}})}function gT({id:e,label:t,checked:n,onChange:a}){return r.jsxs("label",{className:"flex cursor-pointer items-center gap-2",style:{color:it.text},children:[r.jsx("input",{id:e,type:"checkbox",checked:n,onChange:a,className:"accent-indigo-600"}),r.jsx("span",{children:t})]})}function yl({label:e,value:t}){return r.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:it.border},children:[r.jsx("div",{className:"text-slate-500",children:e}),r.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function oue({isActive:e,onPlay:t,onStop:n}){return r.jsx("div",{className:"flex items-center gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((a,s)=>r.jsx("div",{className:"w-1.5 rounded-sm bg-indigo-500",style:{animation:`eqbar 0.9s ${a}ms ease-in-out infinite`}},s))}),r.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-rose-200 transition hover:brightness-110 bg-gradient-to-br from-rose-500 to-red-500",title:"Stop",children:r.jsx(vc,{className:"h-5 w-5"})})]}):r.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-indigo-200 transition hover:brightness-110 bg-gradient-to-br from-indigo-600 to-blue-500",title:"Play preview",children:r.jsx(hf,{className:"h-5 w-5"})})})}const Wa={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},cue=`
You are a professional and friendly assistant. Always speak in a natural, conversational way that feels human, polite, and approachable. Your goal is to sound like a helpful representative who is confident and enthusiastic . Keep your replies brief and natural, as if you were speaking in real conversation, without sounding robotic or scripted.

Stay focused only on the system prompt you are give and be the agent just for that prompt . If someone asks about something unrelated, politely guide them back by saying something like, I can only answer questions related to our company, could you please ask me something in that area? Always remain polite and respectful when doing so. If the customer wants to end the call, acknowledge them warmly and end it immediately.

You must only communicate in English. If someone speaks in another language, respond politely by saying, I can only communicate in English, lets continue in English please. Throughout every interaction, keep your answers short, clear, and professional, Donot make pause or delay after the first message . Reply as fast as you can while still sounding human, friendly, and approachable.
`.trim(),vT=/^\+\d{7,15}$/,yT=[{id:1,key:"core",label:"Core & Transcription",Icon:Lw},{id:2,key:"voice",label:"Voice",Icon:Bw},{id:3,key:"review",label:"Review & Create",Icon:zc}],uue=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],due=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function fue(){const e=Gt(),[t,n]=v.useState(1),[a,s]=v.useState(!1),[l,c]=v.useState(!1),d=v.useRef(null),[f,m]=v.useState(!1),[h,x]=v.useState("all"),[g,b]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.6,maxTokens:200,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=v.useState({}),[S,_]=v.useState([]),[C,k]=v.useState(!1),[O,A]=v.useState(""),T=v.useMemo(()=>{const D=g.voice_provider==="openai"?Jc:ao;return(h==="all"?D:D.filter(V=>V.gender===h)).slice().sort((V,z)=>((V==null?void 0:V.showName)||"").localeCompare((z==null?void 0:z.showName)||""))},[g.voice_provider,h]);v.useEffect(()=>{if(!g.voice)return;const D=T.find(G=>(G==null?void 0:G.name)===g.voice);D!=null&&D.voice&&(b(G=>({...G,voice_model:D.voice})),j(G=>({...G,voice_model:""})))},[g.voice,T]);const $="https://aisdr-dbt.ddns.net",M=D=>{const{id:G,value:V,type:z,checked:E}=D.target,R=z==="checkbox"?E:V;b(L=>({...L,[G]:R})),j(L=>({...L,[G]:""}))},U=D=>{try{d.current&&(d.current.pause(),d.current=null);const G=new Audio(D||"");d.current=G,c(!0),G.play().catch(()=>{q.error("Failed to play voice preview"),c(!1),d.current=null}),G.onended=()=>{c(!1),d.current=null}}catch{q.error("Failed to play voice preview"),c(!1)}},K=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},F=D=>{if(D!==t){if(D===3&&(!g.voice||!f)){j(G=>({...G,voice:"Select a voice and press Next to continue"})),q.error("Please select a voice and press Next to continue.");return}K(),n(D)}},B=()=>{if(t===1)return n(2);if(t===2){if(!g.voice){j(D=>({...D,voice:"Please select a voice"})),q.error("Select a voice to continue.");return}if(!f){j(D=>({...D,voice:"Click a voice card to confirm your choice"})),q.info("Click a voice card to confirm your choice.");return}n(3)}},ne=async()=>{k(!0),A("");try{const D=localStorage.getItem("token"),G=await fetch(`${$}/api/purchased_numbers`,{headers:{Accept:"application/json",...D?{Authorization:`Bearer ${D}`}:{}}});if(!G.ok)throw new Error(`HTTP ${G.status}`);const V=await G.json(),E=(Array.isArray(V)?V:(V==null?void 0:V.purchased_numbers)||[]).filter(Boolean).map(R=>({phone_number:(R==null?void 0:R.phone_number)||"",friendly_name:(R==null?void 0:R.friendly_name)||"",attached_assistant:(R==null?void 0:R.attached_assistant)??null})).filter(R=>R.phone_number);_(E)}catch(D){console.error(D),A("Failed to load your purchased numbers"),_([])}finally{k(!1)}};v.useEffect(()=>{ne()},[]);const Ne=()=>{const D=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],G={};let V=!0;if(D.forEach(z=>{const E=g[z];(E==null||E===""||Number.isNaN(E))&&(G[z]="Required",V=!1)}),(g.temperature<0||g.temperature>2)&&(G.temperature="Temperature must be between 0 and 2",V=!1),g.maxTokens<1&&(G.maxTokens="maxTokens must be a positive integer",V=!1),g.forwardingPhoneNumber&&!vT.test(g.forwardingPhoneNumber)&&(G.forwardingPhoneNumber="Must be E.164 (+123...)",V=!1),g.attached_Number&&!vT.test(g.attached_Number)&&(G.attached_Number="Invalid number format",V=!1),j(G),!V){const z=L=>L.some(Y=>G[Y]),E=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],R=["voice_provider","voice_model","voice"];z(E)?n(1):z(R)&&n(2)}return V},se=async D=>{if(D.preventDefault(),!a){if(t!==3){q.error("Please complete the steps first.");return}if(Ne()){s(!0),K();try{const G=localStorage.getItem("token"),V=`${$}/api/assistants`,z=[cue,(g.systemPrompt||"").trim()].filter(Boolean).join(`

`),E={name:g.name,provider:g.provider,first_message:g.first_message||null,model:g.model,systemPrompt:z,knowledgeBase:g.knowledgeBase,leadsfile:g.leadsfile,temperature:Number(g.temperature),maxTokens:Number(g.maxTokens),transcribe_provider:g.transcribe_provider,transcribe_language:g.transcribe_language,transcribe_model:g.transcribe_model,languages:g.languages,forwardingPhoneNumber:g.forwardingPhoneNumber||null,endCallPhrases:g.endCallPhrases,voice_provider:g.voice_provider,voice:g.voice,voice_model:g.voice_model,attached_Number:g.attached_Number||null,draft:!!g.draft,assistant_toggle:!!g.assistant_toggle,category:g.category||null,speed:Number(g.speed),stability:Number(g.stability),similarityBoost:Number(g.similarityBoost)},R=await fetch(V,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...G?{Authorization:`Bearer ${G}`}:{}},body:JSON.stringify(E)});if(!R.ok){let L=`HTTP ${R.status}`;try{const Y=await R.json();Y!=null&&Y.detail&&(L=Y.detail)}catch{const Y=await R.text();Y&&(L=`${L}  ${Y}`)}throw new Error(L)}q.success("Assistant created successfully!"),e("/user/callassistent")}catch(G){q.error((G==null?void 0:G.message)||"Failed to create assistant")}finally{s(!1)}}}};return v.useEffect(()=>{m(!1),b(D=>({...D,voice:"",voice_model:""}))},[g.voice_provider]),r.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Wa.background},children:[r.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:r.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),r.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),r.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[r.jsx(xe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Wa.border,backgroundColor:Wa.card},children:r.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),r.jsxs("div",{className:"relative p-6 text-center",children:[r.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[r.jsx(zc,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),r.jsx(mue,{currentStep:t,onChange:F}),r.jsx(xe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Wa.card,borderColor:Wa.border},children:r.jsxs("form",{onSubmit:se,noValidate:!0,children:[r.jsxs(Tt,{mode:"wait",children:[t===1&&r.jsxs(xe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsx(jh,{id:"name",label:"Assistant Name",value:g.name,onChange:M,error:w.name,placeholder:"SupportBot"}),r.jsx(jh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:g.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ld,{children:"Attach Purchased Number (optional)"}),r.jsx("button",{type:"button",onClick:ne,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:C,title:"Refresh",children:C?"Loading...":"Refresh"})]}),r.jsxs("select",{id:"attached_Number",value:g.attached_Number,onChange:M,disabled:C||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[r.jsx("option",{value:"",className:"bg-white",children:C?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(D=>r.jsx("option",{value:D.phone_number,className:"bg-white",children:D.friendly_name?`${D.friendly_name}  ${D.phone_number}`:D.phone_number},D.phone_number))]}),O&&r.jsx(Ol,{children:O}),w.attached_Number&&r.jsx(Ol,{children:w.attached_Number})]}),r.jsx(jh,{id:"category",label:"Category (optional)",value:g.category,onChange:M}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Ld,{children:"System Prompt"}),r.jsx(jT,{id:"systemPrompt",value:g.systemPrompt,onChange:M,placeholder:"Add any custom instructions for your Carsaz agent",rows:4}),w.systemPrompt&&r.jsx(Ol,{children:w.systemPrompt})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Ld,{children:"First Message"}),r.jsx(jT,{id:"first_message",value:g.first_message,onChange:M,placeholder:"Hello! Thanks for calling Carsazhow can I help you today?",rows:3}),w.first_message&&r.jsx(Ol,{children:w.first_message})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[r.jsx(NT,{id:"draft",label:"Save as Draft",checked:g.draft,onChange:M}),r.jsx(NT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:g.assistant_toggle,onChange:M})]})]},"step1"),t===2&&r.jsxs(xe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[r.jsx(wT,{id:"voice_provider",label:"Voice Provider",value:g.voice_provider,onChange:D=>{K();const G=D.target.value;b(V=>({...V,voice_provider:G,voice:"",voice_model:""})),m(!1),j(V=>({...V,voice:"",voice_model:""}))},options:uue,error:w.voice_provider}),r.jsx(wT,{id:"genderFilter",label:"Gender",value:h,onChange:D=>{K(),x(D.target.value),m(!1)},options:due}),r.jsx(jh,{id:"voice_model",label:"Voice Model",value:g.voice_model,onChange:()=>{},error:w.voice_model,placeholder:g.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",r.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",r.jsx("span",{className:"font-medium",children:"Next"}),"."]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("span",{className:"font-medium",children:T.length})," voices"]})}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[T.length===0&&r.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:Wa.border},children:"No voices match this filter."}),T.map(D=>r.jsxs(xe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:g.voice===D.name?"#93c5fd":Wa.border,backgroundColor:g.voice===D.name?"#eff6ff":Wa.card},onClick:()=>{b(G=>({...G,voice:D.name,voice_model:D.voice,voice_provider:D.provider||g.voice_provider})),m(!0),j(G=>({...G,voice:"",voice_model:""}))},children:[r.jsx("div",{className:"absolute left-3 top-3",children:r.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${g.voice===D.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),r.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold text-slate-900",children:D.showName||D.name}),r.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[D.gender||"unknown","  ",D.provider]}),r.jsx("div",{className:"mt-1 text-xs text-slate-500",children:D.voice})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(hue,{isActive:l&&g.voice===D.name,onPlay:()=>U(D.audioSr||""),onStop:K})})]})]},`${D.provider}-${D.name}`))]}),w.voice&&r.jsx(Ol,{children:w.voice})]},"step2"),t===3&&r.jsx(xe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:r.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Wa.border},children:[r.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsx(bl,{label:"Name",value:g.name||""}),r.jsx(bl,{label:"Model",value:`${g.provider}  ${g.model}`}),r.jsx(bl,{label:"Voice Provider",value:g.voice_provider}),r.jsx(bl,{label:"Voice",value:g.voice||""}),r.jsx(bl,{label:"Voice Model",value:g.voice_model||""}),r.jsx(bl,{label:"Forwarding Number",value:g.forwardingPhoneNumber||""}),r.jsx(bl,{label:"Attach Number",value:g.attached_Number||""})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[r.jsx(Ab,{onClick:()=>n(2),children:"Edit Voice"}),r.jsx(Ab,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),r.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?r.jsx(Ab,{onClick:()=>F(t-1),children:"Back"}):r.jsx("span",{}),t<3?r.jsxs(bT,{onClick:B,children:["Next ",r.jsx(qn,{className:"ml-1 h-4 w-4"})]}):r.jsx(bT,{type:"submit",disabled:a,children:a?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function mue({currentStep:e,onChange:t}){return r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:yT.map(({id:n,label:a,Icon:s})=>{const l=e===n;return r.jsxs(xe.button,{onClick:()=>t(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[r.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:r.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:a}),r.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),r.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:r.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/yT.length*100}%`}})})]})}function bT({children:e,onClick:t,type:n="button",disabled:a}){return r.jsx("button",{type:n,onClick:t,disabled:a,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${a?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function Ab({children:e,onClick:t}){return r.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Ld({children:e}){return r.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Ol({children:e}){return r.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function jh({id:e,label:t,value:n,onChange:a,error:s,placeholder:l,readOnly:c=!1,disabled:d=!1}){return r.jsxs("div",{className:"mb-2",children:[r.jsx(Ld,{children:t}),r.jsx("input",{id:e,type:"text",value:n,onChange:a,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&r.jsx(Ol,{children:s})]})}function wT({id:e,label:t,value:n,onChange:a,options:s,error:l}){return r.jsxs("div",{className:"mb-2",children:[r.jsx(Ld,{children:t}),r.jsx("select",{id:e,value:n,onChange:a,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>r.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&r.jsx(Ol,{children:l})]})}function jT({id:e,value:t,onChange:n,placeholder:a,rows:s=4}){return r.jsx("textarea",{id:e,value:t,onChange:n,placeholder:a,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function NT({id:e,label:t,checked:n,onChange:a}){return r.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[r.jsx("input",{id:e,type:"checkbox",checked:n,onChange:a,className:"accent-blue-600"}),r.jsx("span",{children:t})]})}function bl({label:e,value:t}){return r.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Wa.border},children:[r.jsx("div",{className:"text-slate-500",children:e}),r.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function hue({isActive:e,onPlay:t,onStop:n}){return r.jsx("div",{className:"flex items-center gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((a,s)=>r.jsx("div",{className:"w-1.5 rounded-sm",style:{backgroundColor:"#3B82F6",animation:`eqbar 0.9s ${a}ms ease-in-out infinite`}},s))}),r.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:r.jsx(vc,{className:"h-5 w-5"})})]}):r.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:r.jsx(hf,{className:"h-5 w-5"})})})}const ld="https://aisdr-dbt.ddns.net",qo={FILES:`${ld}/api/files`,FILE:e=>`${ld}/api/files/${e}`,SYNC:{HUBSPOT:`${ld}/api/crm/ingest/hubspot`,GHL:`${ld}/api/crm/ingest/ghl`,MONDAY:`${ld}/api/crm/ingest/monday`}},pue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function jL(...e){return e.filter(Boolean).join(" ")}function br({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function ST({children:e,onClose:t,title:n}){return r.jsxs(xe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),r.jsxs(xe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(br,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:r.jsx(dr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Nh({label:e,value:t,tone:n="blue"}){const a=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",s=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsxs(xe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${s} text-white shadow-inner ring-1 ${a}`,children:r.jsx(yd,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Sh({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function _h({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function _T({id:e}){const[t,n]=v.useState(!1);return r.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(String(e||"")),n(!0),setTimeout(()=>n(!1),1e3)}catch{}},className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-600 hover:bg-slate-100 max-w-full",title:"Copy alphanumeric id",children:[t?r.jsx(c0,{className:"h-3.5 w-3.5"}):r.jsx(Bd,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"truncate max-w-[9rem]",children:e})]})}function xue(){const e=Gt(),[t,n]=v.useState([]),[a,s]=v.useState(!1),[l,c]=v.useState(""),[d,f]=v.useState(""),[m,h]=v.useState("created_at"),[x,g]=v.useState("desc"),[b,w]=v.useState(!1),[j,S]=v.useState("New List"),[_,C]=v.useState(null),[k,O]=v.useState(!1),[A,T]=v.useState(!1),$=v.useRef(null),[M,U]=v.useState({open:!1,id:null,name:""}),[K,F]=v.useState(!1),B=v.useCallback(async()=>{const H=localStorage.getItem("token");if(!H){n([]),c("No auth token found."),q.error("No authentication token found.");return}try{s(!0),c("");const ge=await fetch(qo.FILES,{headers:{Authorization:`Bearer ${H}`,Accept:"application/json"}});if(!ge.ok)throw new Error(`HTTP ${ge.status}`);const te=await ge.json();n(Array.isArray(te)?te:[])}catch(ge){c((ge==null?void 0:ge.message)||"Failed to load lists"),q.error((ge==null?void 0:ge.message)||"Failed to load lists")}finally{s(!1)}},[]);v.useEffect(()=>{B()},[B]);const ne=v.useMemo(()=>{const H=d.trim().toLowerCase();return[...H?t.filter(he=>[he.name,he.alphanumeric_id,he.created_at].filter(Boolean).some(Se=>String(Se).toLowerCase().includes(H))):t].sort((he,Se)=>{let be=he[m],ue=Se[m];return m==="created_at"&&(be=new Date(he.created_at).getTime(),ue=new Date(Se.created_at).getTime()),be<ue?x==="asc"?-1:1:be>ue?x==="asc"?1:-1:0})},[t,d,m,x]),Ne=t.length,se=t.reduce((H,ge)=>H+(Number(ge.leads_count)||0),0),D=t[0]||null,G=H=>{m===H?g(ge=>ge==="asc"?"desc":"asc"):(h(H),g("desc"))},V=H=>e(`/user/lead/${H.id}`);async function z(H){const ge=localStorage.getItem("token");if(!ge)return q.error("No authentication token found.");try{const te=await fetch(qo.FILE(H),{method:"DELETE",headers:{Authorization:`Bearer ${ge}`,Accept:"application/json"}});if(!te.ok)throw new Error(`HTTP ${te.status}`);q.success(" List deleted"),U({open:!1,id:null,name:""}),n(he=>he.filter(Se=>Se.id!==H))}catch(te){q.error((te==null?void 0:te.message)||"Delete failed")}}async function E(){const H=localStorage.getItem("token");if(!H)return q.error("No authentication token found.");if(!_)return q.info("Choose a CSV file");if(!j.trim())return q.info("Enter a name");O(!0);try{const ge=new FormData;ge.append("file",_),ge.append("name",j.trim());const te=await fetch(qo.FILES,{method:"POST",headers:{Authorization:`Bearer ${H}`},body:ge});if(!te.ok){const he=await te.text();throw new Error(he||`HTTP ${te.status}`)}q.success(" List created"),w(!1),C(null),S("New List"),B()}catch(ge){q.error((ge==null?void 0:ge.message)||"Upload failed")}finally{O(!1)}}async function R(){const H=localStorage.getItem("token");if(!H)return q.error("No authentication token found.");const ge=async he=>{const Se=await fetch(he,{method:"POST",headers:{Authorization:`Bearer ${H}`,Accept:"application/json"}});let be={};try{be=await Se.json()}catch{}if(!Se.ok){const ue=(be==null?void 0:be.detail)||(be==null?void 0:be.error)||(be==null?void 0:be.message)||`HTTP ${Se.status}`;throw new Error(ue)}return be},te=[{name:"HubSpot",url:qo.SYNC.HUBSPOT},{name:"GHL",url:qo.SYNC.GHL},{name:"monday.com",url:qo.SYNC.MONDAY}];try{F(!0);const he=await Promise.allSettled(te.map(ze=>ge(ze.url)));let Se=0,be=0,ue=0,$e=0;he.forEach((ze,et)=>{var oe,X,je;const W=te[et].name;if(ze.status==="fulfilled"){$e++;const Ee=Array.isArray((oe=ze.value)==null?void 0:oe.details)?ze.value.details[0]:((X=ze.value)==null?void 0:X.details)||{};Se+=Number((Ee==null?void 0:Ee.created_leads)||0),be+=Number((Ee==null?void 0:Ee.updated_leads)||0),ue+=Number((Ee==null?void 0:Ee.fetched_contacts)||0),q.success(`${W}:  ${(Ee==null?void 0:Ee.created_leads)||0} new, ${(Ee==null?void 0:Ee.updated_leads)||0} updated`,{autoClose:2500})}else{const Ee=String(((je=ze.reason)==null?void 0:je.message)||ze.reason||"error");q.info(`${W}: ${Ee.includes("Not connected")?"Not connected":` ${Ee}`}`,{autoClose:3e3})}}),q.success(`Sync complete: ${$e}/${te.length} OK  fetched ${ue}, created ${Se}, updated ${be}.`),setTimeout(B,1200)}catch(he){q.error((he==null?void 0:he.message)||"Sync failed")}finally{F(!1)}}function L(H){H.preventDefault(),T(!0)}function Y(H){H.preventDefault(),T(!1)}function ce(H){var te;H.preventDefault(),T(!1);const ge=(te=H.dataTransfer.files)==null?void 0:te[0];if(ge){if(!Q(ge))return q.info("Please drop a .csv file");C(ge)}}function Q(H){const ge=/\.csv$/i.test(H.name),te=H.type==="text/csv"||H.type==="application/vnd.ms-excel"||H.type==="";return ge||te}return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(xe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(yd,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${pue}`,children:"Lists"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create and manage your CSV lists. Sync leads from connected CRMs (HubSpot, GHL, monday.com)."})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(br,{onClick:()=>w(!0),variant:"primary",children:[r.jsx(ts,{className:"mr-2 h-4 w-4"})," New List"]}),r.jsx(br,{onClick:B,disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"})," Refresh"]})}),r.jsx(br,{onClick:R,disabled:K,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:K?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):r.jsx(r.Fragment,{children:"SYNC LEADS"})})]})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Nh,{label:"Total Lists",value:Ne}),r.jsx(Nh,{label:"Total Leads",value:se,tone:"cyan"}),r.jsx(Nh,{label:"Last Created",value:D&&D.name||""}),r.jsx(Nh,{label:"Newest Date",value:D?Ch(D.created_at):"",tone:"cyan"})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:d,onChange:H=>f(H.target.value),placeholder:"Search by name, ID, date",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),r.jsx("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0 text-xs font-medium",children:"Sort"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Eb,{label:"Name",active:m==="name",dir:x,onClick:()=>G("name")}),r.jsx(Eb,{label:"Leads",active:m==="leads_count",dir:x,onClick:()=>G("leads_count")}),r.jsx(Eb,{label:"Created",active:m==="created_at",dir:x,onClick:()=>G("created_at")})]})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:["All Lists (",ne.length,")"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"})," Live"]})]}),a?r.jsxs("div",{className:"grid place-content-center py-16",children:[r.jsx(Xe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading lists"})]}):l?r.jsx("div",{className:"grid place-content-center py-16 px-4 text-center text-sm text-red-600",children:l}):ne.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(yd,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try searching or upload a CSV"}),r.jsx("div",{className:"mt-3",children:r.jsxs(br,{onClick:()=>w(!0),variant:"primary",children:[r.jsx(ts,{className:"h-4 w-4 mr-2"})," New List"]})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block w-full",children:r.jsxs("table",{className:"w-full table-fixed",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Sh,{children:"Name"}),r.jsx(Sh,{children:"Leads"}),r.jsx(Sh,{children:"Created"}),r.jsx(Sh,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:ne.map(H=>r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsxs(_h,{children:[r.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-2 min-w-0",children:[r.jsx("span",{className:"truncate max-w-[22rem]",children:H.name}),r.jsx(_T,{id:H.alphanumeric_id})]}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["#",H.id]})]}),r.jsx(_h,{children:r.jsx("span",{className:"text-sm font-semibold text-slate-800",children:H.leads_count??0})}),r.jsx(_h,{children:r.jsx("span",{className:"text-sm text-slate-800",children:Ch(H.created_at)})}),r.jsx(_h,{children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(br,{onClick:()=>V(H),size:"sm",title:"View",children:r.jsx(Qn,{className:"h-4 w-4"})}),r.jsx(br,{onClick:()=>U({open:!0,id:H.id,name:H.name}),variant:"danger",size:"sm",title:"Delete",children:r.jsx(Jn,{className:"h-4 w-4"})})]})})]},H.id))})]})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ne.map(H=>r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-base font-bold text-slate-900 truncate",title:H.name,children:H.name}),r.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-600",children:[r.jsx(_T,{id:H.alphanumeric_id}),r.jsxs("span",{className:"text-[11px] text-slate-500",children:["ID #",H.id]})]}),r.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("div",{className:"text-xs text-slate-500",children:"Leads"}),r.jsx("div",{className:"font-semibold text-slate-900",children:H.leads_count??0})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("div",{className:"text-xs text-slate-500",children:"Created"}),r.jsx("div",{className:"font-semibold text-slate-900 truncate",title:Ch(H.created_at),children:Ch(H.created_at)})]})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsxs(br,{onClick:()=>V(H),size:"sm",className:"grow sm:grow-0",children:[r.jsx(Qn,{className:"h-4 w-4 mr-1"})," View"]}),r.jsxs(br,{onClick:()=>U({open:!0,id:H.id,name:H.name}),variant:"danger",size:"sm",className:"grow sm:grow-0",children:[r.jsx(Jn,{className:"h-4 w-4 mr-1"})," Delete"]})]})]},H.id))})})]})]})]}),r.jsx(Tt,{children:b&&r.jsx(ST,{onClose:()=>w(!1),title:"Create New List",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"List name"}),r.jsx("input",{value:j,onChange:H=>S(H.target.value),placeholder:"e.g., July Prospects",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),r.jsxs("div",{onDragOver:L,onDragLeave:Y,onDrop:ce,className:jL("relative grid place-items-center rounded-2xl border-2 border-dashed px-4 py-10 transition",A?"border-blue-500 bg-blue-50/60":"border-slate-300 bg-slate-50/60 hover:bg-slate-50"),children:[r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"mb-2 rounded-xl bg-white p-3 shadow",children:r.jsx(yd,{className:"h-6 w-6 text-slate-700"})}),r.jsx("p",{className:"text-sm text-slate-700",children:"Drag & drop your CSV here, or"}),r.jsxs(br,{type:"button",onClick:()=>{var H;return(H=$.current)==null?void 0:H.click()},variant:"primary",className:"mt-2",children:[r.jsx(Dz,{className:"h-4 w-4 mr-2"})," Browse Files"]}),r.jsx("input",{ref:$,type:"file",accept:".csv,text/csv",onChange:H=>{var te;const ge=((te=H.target.files)==null?void 0:te[0])||null;if(!ge)return C(null);if(!Q(ge)){q.info("Please choose a .csv file"),H.target.value="";return}C(ge)},className:"hidden"}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Only .csv files are supported."})]}),_&&r.jsxs("div",{className:"absolute left-4 bottom-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow",children:[r.jsx(yd,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate max-w-[14rem]",children:_.name}),r.jsxs("span",{className:"opacity-70",children:[" ",gue(_.size)]}),r.jsx("button",{onClick:()=>C(null),className:"ml-1 rounded-full p-1 hover:bg-slate-100",title:"Remove file",children:r.jsx(dr,{className:"h-3.5 w-3.5"})})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[r.jsx(br,{onClick:()=>w(!1),variant:"subtle",children:"Cancel"}),r.jsx(br,{onClick:E,disabled:k,variant:"primary",children:k?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"})," Uploading"]}):r.jsxs(r.Fragment,{children:[r.jsx(ts,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})}),r.jsx(Tt,{children:M.open&&r.jsxs(ST,{onClose:()=>U({open:!1,id:null,name:""}),title:"Delete List?",children:[r.jsxs("p",{className:"text-slate-700 mb-4",children:["This will permanently remove ",r.jsx("b",{className:"text-slate-900 break-words",children:M.name})," and all its leads."]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(br,{onClick:()=>U({open:!1,id:null,name:""}),variant:"subtle",children:"Cancel"}),r.jsxs(br,{onClick:()=>z(M.id),variant:"danger",children:[r.jsx(Jn,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]})}function Ch(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function gue(e){if(!Number.isFinite(e))return"0 B";const t=["B","KB","MB","GB"];let n=0;for(;e>=1024&&n<t.length-1;)e/=1024,n++;return`${e.toFixed(e>=10||n===0?0:1)} ${t[n]}`}function Eb({label:e,active:t,dir:n,onClick:a}){const s=n==="asc"?Sz:bz;return r.jsxs("button",{onClick:a,className:jL("inline-flex items-center gap-1 rounded-xl border px-3 py-2",t?"border-blue-300 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[e," ",t&&r.jsx(s,{className:"h-4 w-4"})]})}const Ti="https://aisdr-dbt.ddns.net",vue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function yue(e,t=250){const[n,a]=v.useState(e);return v.useEffect(()=>{const s=setTimeout(()=>a(e),t);return()=>clearTimeout(s)},[e,t]),n}function bue(){const e=Gt(),{id:t}=uf(),n=Number(t),[a,s]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState([]),[m,h]=v.useState(!0),[x,g]=v.useState(!1),[b,w]=v.useState(""),[j,S]=v.useState(""),_=yue(j,250),[C,k]=v.useState(""),[O,A]=v.useState("add_date"),[T,$]=v.useState("desc"),[M,U]=v.useState(1),[K,F]=v.useState(10),[B,ne]=v.useState(!1),[Ne,se]=v.useState(!1),[D,G]=v.useState(!1),[V,z]=v.useState(!1),[E,R]=v.useState(null),[L,Y]=v.useState(null),[ce,Q]=v.useState(!1),[H,ge]=v.useState(!1),[te,he]=v.useState(!1),[Se,be]=v.useState(null),ue=v.useRef(localStorage.getItem("token")||null),[$e,ze]=v.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[et,W]=v.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[oe,X]=v.useState({vapi_assistant_id:"",assistant_id:"",number:"",first_name:"",last_name:"",email:"",lead_id:null}),je=v.useCallback(async()=>{const Z=ue.current;if(!Z){h(!1),w("No auth token found"),q.error("No authentication token found.");return}try{h(!0),w("");const ee=await fetch(`${Ti}/api/leads${n?`?file_id=${n}`:""}`,{headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ae=await ee.json();s(Array.isArray(ae)?ae:[])}catch(ee){w((ee==null?void 0:ee.message)||"Failed to load leads"),q.error((ee==null?void 0:ee.message)||"Failed to load leads")}finally{h(!1)}},[n]),Ee=v.useCallback(async()=>{const Z=ue.current;if(!Z||!n){c([]);return}try{const ee=await fetch(`${Ti}/api/files/${n}/dynamic-columns`,{headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ae=await ee.json();c(Array.isArray(ae==null?void 0:ae.columns)?ae.columns:[])}catch(ee){c([]),console.warn("Dynamic columns fetch failed:",ee)}},[n]),qe=v.useCallback(async()=>{const Z=ue.current;try{const ee=await fetch(`${Ti}/api/get-assistants`,{headers:{Authorization:Z?`Bearer ${Z}`:"",Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ae=await ee.json(),Qe=(Array.isArray(ae)?ae:Array.isArray(ae==null?void 0:ae.assistants)?ae.assistants:[]).filter(mt=>mt==null?void 0:mt.vapi_assistant_id);f(Qe)}catch(ee){console.error(ee),q.error("Failed to load assistants"),f([])}},[]);v.useEffect(()=>{je(),Ee(),qe()},[t]);const Te=v.useMemo(()=>{const Z=new Set;return a.forEach(ee=>(ee==null?void 0:ee.state)&&Z.add(ee.state)),Array.from(Z).sort((ee,ae)=>ee.localeCompare(ae))},[a]),tt=v.useMemo(()=>{const Z=_.trim().toLowerCase();return a.filter(ae=>{var Qe,mt;return C&&(ae.state||"")!==C?!1:Z?[ae.first_name,ae.last_name,ae.email,ae.mobile,ae.salesforce_id,(Qe=ae==null?void 0:ae.other_data)==null?void 0:Qe.Custom_0,(mt=ae==null?void 0:ae.other_data)==null?void 0:mt.Custom_1].concat(Object.values((ae==null?void 0:ae.other_data)||{})).filter(Boolean).map(at=>String(at).toLowerCase()).some(at=>at.includes(Z)):!0})},[a,_,C]),We=v.useMemo(()=>{const Z=[...tt],ee=T==="asc"?1:-1;return Z.sort((ae,Ve)=>{const Qe=`${ae.first_name||""} ${ae.last_name||""}`.trim(),mt=`${Ve.first_name||""} ${Ve.last_name||""}`.trim();let at,Ct;switch(O){case"name":at=Qe.toLowerCase(),Ct=mt.toLowerCase();break;case"email":at=(ae.email||"").toLowerCase(),Ct=(Ve.email||"").toLowerCase();break;case"mobile":at=(ae.mobile||"").toLowerCase(),Ct=(Ve.mobile||"").toLowerCase();break;case"add_date":default:at=new Date(ae.add_date||0).getTime(),Ct=new Date(Ve.add_date||0).getTime()}return at<Ct?-1*ee:at>Ct?1*ee:0}),Z},[tt,O,T]),we=We.length,Pe=Math.max(1,Math.ceil(we/K));v.useEffect(()=>{M>Pe&&U(Pe)},[M,Pe]);const Me=(M-1)*K,Oe=We.slice(Me,Me+K),Le=a[a.length-1]||null,ot=Z=>{var ee,ae;R(Z.id),W({first_name:Z.first_name||"",last_name:Z.last_name||"",email:Z.email||"",mobile:Z.mobile||"",salesforce_id:Z.salesforce_id||"",custom0:((ee=Z==null?void 0:Z.other_data)==null?void 0:ee.Custom_0)||"",custom1:((ae=Z==null?void 0:Z.other_data)==null?void 0:ae.Custom_1)||"",add_date:Z.add_date||new Date().toISOString()}),G(!0)},Nt=async()=>{const Z=ue.current;if(!(!Z||!E))try{z(!0);const ee={first_name:et.first_name.trim(),last_name:et.last_name.trim(),email:et.email.trim(),mobile:et.mobile.trim(),salesforce_id:et.salesforce_id.trim(),add_date:et.add_date,other_data:{Custom_0:et.custom0||"",Custom_1:et.custom1||""}},ae=await fetch(`${Ti}/api/leads/${E}`,{method:"PUT",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(ee)}),Ve=await ae.json();if(!ae.ok||(Ve==null?void 0:Ve.success)===!1)throw new Error((Ve==null?void 0:Ve.detail)||`HTTP ${ae.status}`);q.success((Ve==null?void 0:Ve.detail)||"Lead updated"),G(!1),R(null),je()}catch(ee){q.error((ee==null?void 0:ee.message)||"Update failed")}finally{z(!1)}},tr=async()=>{const Z=ue.current;if(!Z)return q.error("Missing token");if(!$e.first_name||!$e.last_name||!$e.email||!$e.mobile)return q.info("Please fill first, last, email and mobile.");try{se(!0);const ee={first_name:$e.first_name.trim(),last_name:$e.last_name.trim(),email:$e.email.trim(),add_date:$e.add_date,mobile:$e.mobile.trim(),file_id:n||null,salesforce_id:$e.salesforce_id.trim(),other_data:{Custom_0:$e.custom0||"",Custom_1:$e.custom1||""}},ae=await fetch(`${Ti}/api/add_manually_lead`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(ee)});if(!ae.ok)throw new Error(`HTTP ${ae.status}`);await ae.json(),q.success("Lead added"),ne(!1),ze({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),je()}catch(ee){q.error((ee==null?void 0:ee.message)||"Failed to add lead")}finally{se(!1)}},fr=async()=>{const Z=ue.current;if(!(!Z||!L))try{const ee=await fetch(`${Ti}/api/leads`,{method:"DELETE",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify({ids:[L]})});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);await ee.json(),q.success("Lead deleted"),Y(null),te&&he(!1),je()}catch(ee){q.error((ee==null?void 0:ee.message)||"Delete failed")}},bn=async()=>{const Z=ue.current;if(!Z)return q.error("Missing token");try{g(!0);const ee=await fetch(`${Ti}/api/crm/ingest/hubspot`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}}),ae=await ee.json().catch(()=>({}));if(!ee.ok||(ae==null?void 0:ae.success)===!1)throw new Error((ae==null?void 0:ae.detail)||`HTTP ${ee.status}`);q.success(`Synced HubSpot: ${(ae==null?void 0:ae.created)||0} created, ${(ae==null?void 0:ae.updated)||0} updated`),je()}catch(ee){q.error((ee==null?void 0:ee.message)||"HubSpot sync failed")}finally{g(!1)}},Ln=Z=>{if(!Z)return"";const ee=String(Z).trim();return ee.startsWith("+")?"+"+ee.slice(1).replace(/\D+/g,""):ee.replace(/\D+/g,"")},$n=Z=>{var Ve,Qe,mt,at,Ct,Pt,ya,mn,St,en;const ae=[Z==null?void 0:Z.mobile,Z==null?void 0:Z.phone,(Ve=Z==null?void 0:Z.other_data)==null?void 0:Ve.phone,(Qe=Z==null?void 0:Z.other_data)==null?void 0:Qe.Phone,(mt=Z==null?void 0:Z.other_data)==null?void 0:mt.mobile,(at=Z==null?void 0:Z.other_data)==null?void 0:at.Mobile,(Ct=Z==null?void 0:Z.other_data)==null?void 0:Ct.telephone,(Pt=Z==null?void 0:Z.other_data)==null?void 0:Pt.Telephone,(ya=Z==null?void 0:Z.other_data)==null?void 0:ya.cell,(mn=Z==null?void 0:Z.other_data)==null?void 0:mn.Cell,(St=Z==null?void 0:Z.other_data)==null?void 0:St.Custom_0,(en=Z==null?void 0:Z.other_data)==null?void 0:en.Custom_1].filter(Boolean).find(Boolean);return Ln(ae||"")},mr=Z=>{const ee=$n(Z);ee||q.info("No phone number on this lead  you can still enter one to call.");const ae=localStorage.getItem("lastAssistantId")||"",Ve=d.find(Qe=>String(Qe.id)===String(ae)&&(Qe==null?void 0:Qe.vapi_assistant_id))||d.find(Qe=>Qe==null?void 0:Qe.vapi_assistant_id)||null;X({vapi_assistant_id:(Ve==null?void 0:Ve.vapi_assistant_id)||"",assistant_id:(Ve==null?void 0:Ve.id)||"",number:ee,first_name:Z.first_name||"",last_name:Z.last_name||"",email:Z.email||"",lead_id:Z.id}),Q(!0)},ri=async Z=>{if(Z.preventDefault(),H)return;const ee=ue.current,{vapi_assistant_id:ae,number:Ve,first_name:Qe,last_name:mt,email:at}=oe;if(!ae)return q.error("Select an assistant first");if(!Ve)return q.error("Enter a phone number");const Ct=Ln(Ve);if(!Ct)return q.error("Invalid phone number");try{ge(!0);const Pt=`${Ti}/api/phone-call/${encodeURIComponent(ae)}/${encodeURIComponent(Ct)}`,ya={first_name:Qe||"Caller",last_name:mt||"",email:at||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Ct,custom_field_01:null,custom_field_02:null},mn=await fetch(Pt,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:ee?`Bearer ${ee}`:""},body:JSON.stringify(ya)}),St=await mn.json().catch(()=>({}));if(!mn.ok||(St==null?void 0:St.success)===!1)throw new Error((St==null?void 0:St.detail)||`HTTP ${mn.status}`);oe.assistant_id&&localStorage.setItem("lastAssistantId",String(oe.assistant_id)),q.success("Call initiated"),Q(!1)}catch(Pt){q.error((Pt==null?void 0:Pt.message)||"Failed to initiate call")}finally{ge(!1)}},fe=()=>{if(We.length===0)return q.info("Nothing to export.");const Z=["id","first_name","last_name","email","mobile","salesforce_id","state","add_date"],ee=Array.from(new Set(["Custom_0","Custom_1",...l])),ae=[...Z,...ee],Ve=We.map(Pt=>{const ya=[Pt.id??"",Pi(Pt.first_name),Pi(Pt.last_name),Pi(Pt.email),Pi(Pt.mobile),Pi(Pt.salesforce_id),Pi(Pt.state),Pi(Pt.add_date)],mn=ee.map(St=>{var en;return Pi((en=Pt==null?void 0:Pt.other_data)==null?void 0:en[St])});return[...ya,...mn]}),Qe=[ae,...Ve].map(Pt=>Pt.join(",")).join(`
`),mt=new Blob([Qe],{type:"text/csv;charset=utf-8;"}),at=URL.createObjectURL(mt),Ct=document.createElement("a");Ct.href=at,Ct.download=`leads_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Ct),Ct.click(),document.body.removeChild(Ct),URL.revokeObjectURL(at)};return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(xe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(Qn,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${vue}`,children:"Leads"})}),r.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["File: ",r.jsx("b",{children:n||""})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(Ut,{onClick:()=>ne(!0),variant:"primary",children:[r.jsx(ts,{className:"mr-2 h-4 w-4"})," New Lead"]}),r.jsx(Ut,{onClick:bn,disabled:x,children:x?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Sync HubSpot"]})}),r.jsx(Ut,{onClick:()=>e("/user/upload-csv"),children:"Upload CSV"}),r.jsxs(Ut,{onClick:fe,children:[r.jsx(Ud,{className:"mr-2 h-4 w-4"}),"Export"]}),r.jsxs(Ut,{onClick:je,children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[r.jsx(Tb,{label:"Total Leads",value:we}),r.jsx(Tb,{label:"Selected File",value:n||""}),r.jsx(Tb,{label:"Last Created",value:Le&&`${Le.first_name||""} ${Le.last_name||""}`.trim()||"",sub:Le!=null&&Le.add_date?CT(Le.add_date):Le?"Just now":"No leads yet"})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:j,onChange:Z=>{S(Z.target.value),U(1)},placeholder:"Search name, email, phone, Salesforce ID",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[r.jsx(Ic,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("select",{value:C,onChange:Z=>{k(Z.target.value),U(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"",children:"All states"}),Te.map(Z=>r.jsx("option",{value:Z,children:Z},Z))]}),r.jsx("select",{value:`${O}:${T}`,onChange:Z=>{const[ee,ae]=Z.target.value.split(":");A(ee),$(ae)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[["add_date","desc","Newest"],["add_date","asc","Oldest"],["name","asc","Name AZ"],["name","desc","Name ZA"],["email","asc","Email AZ"],["email","desc","Email ZA"]].map(([Z,ee,ae])=>r.jsx("option",{value:`${Z}:${ee}`,children:ae},`${Z}:${ee}`))}),r.jsx("select",{value:K,onChange:Z=>{F(Number(Z.target.value)),U(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(Z=>r.jsxs("option",{value:Z,children:[Z," / page"]},Z))})]})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:r.jsx(Qn,{className:"h-4 w-4"})}),r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Leads (",We.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),m?r.jsxs("div",{className:"grid place-content-center py-16",children:[r.jsx(Xe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading leads"})]}):We.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(Qn,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or add a new lead"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(kh,{children:"Name"}),r.jsx(kh,{children:"Email"}),r.jsx(kh,{children:"Phone"}),r.jsx(kh,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:Oe.map(Z=>{const ee=`${Z.first_name||""} ${Z.last_name||""}`.trim()||"",ae=Z.mobile||$n(Z)||"";return r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(Ah,{children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:ee}),r.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",Z.id,"  ",Z.salesforce_id||"No Ext ID"]})]})}),r.jsx(Ah,{children:r.jsx("div",{className:"text-xs font-medium text-slate-700 break-words",children:Z.email||""})}),r.jsx(Ah,{children:r.jsx("div",{className:"text-xs font-medium text-slate-700 break-all",children:ae})}),r.jsx(Ah,{children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Ut,{onClick:()=>mr(Z),size:"sm",children:[r.jsx(xt,{className:"h-4 w-4 mr-1"}),"Call"]}),r.jsxs(Ut,{onClick:()=>ot(Z),size:"sm",children:[r.jsx(_d,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(Ut,{onClick:()=>{be(Z),he(!0)},size:"sm",children:[r.jsx(Qn,{className:"h-4 w-4 mr-1"}),"More"]})]})})]},Z.id)})})]})})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Oe.map((Z,ee)=>{const ae=`${Z.first_name||""} ${Z.last_name||""}`.trim()||"",Ve=Z.mobile||$n(Z)||"";return r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[ee===0&&r.jsx(wue,{}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:ae}),r.jsx("div",{className:"mt-1 text-sm text-slate-600 break-words",children:Z.email||""}),r.jsx("div",{className:"text-xs text-slate-500 break-all",children:Ve})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsxs(Ut,{onClick:()=>mr(Z),size:"sm",className:"grow sm:grow-0",children:[r.jsx(xt,{className:"h-4 w-4 mr-1"}),"Call"]}),r.jsxs(Ut,{onClick:()=>ot(Z),size:"sm",className:"grow sm:grow-0",children:[r.jsx(_d,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(Ut,{onClick:()=>{be(Z),he(!0)},size:"sm",className:"grow sm:grow-0",children:[r.jsx(Qn,{className:"h-4 w-4 mr-1"}),"More"]})]}),r.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",Z.id,"  ",Z.salesforce_id||"No Ext ID"]})]},Z.id)})})}),We.length>K&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("b",{children:Me+1}),"",r.jsx("b",{children:Math.min(Me+K,We.length)})," of ",r.jsx("b",{children:We.length})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(Ut,{onClick:()=>U(Z=>Math.max(1,Z-1)),disabled:M===1,children:[r.jsx(ha,{className:"h-4 w-4 mr-1"}),"Prev"]}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Pe)},(Z,ee)=>{let ae;if(Pe<=5||M<=3?ae=ee+1:M>=Pe-2?ae=Pe-4+ee:ae=M-2+ee,ae<1||ae>Pe)return null;const Ve=M===ae;return r.jsx("button",{onClick:()=>U(ae),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Ve?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:ae},ae)})}),r.jsxs(Ut,{onClick:()=>U(Z=>Math.min(Pe,Z+1)),disabled:M>=Pe,children:["Next",r.jsx(qn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),r.jsx(Tt,{children:B&&r.jsxs(Eh,{onClose:()=>ne(!1),title:"Create Lead",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(xn,{label:"First name",children:r.jsx("input",{value:$e.first_name,onChange:Z=>ze(ee=>({...ee,first_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Last name",children:r.jsx("input",{value:$e.last_name,onChange:Z=>ze(ee=>({...ee,last_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Email",children:r.jsx("input",{type:"email",value:$e.email,onChange:Z=>ze(ee=>({...ee,email:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Mobile (digits only)",children:r.jsx("input",{value:$e.mobile,onChange:Z=>ze(ee=>({...ee,mobile:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"External ID",children:r.jsx("input",{value:$e.salesforce_id,onChange:Z=>ze(ee=>({...ee,salesforce_id:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Add date (ISO)",children:r.jsx("input",{value:$e.add_date,onChange:Z=>ze(ee=>({...ee,add_date:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"2025-08-13T10:00:00.000Z"})}),r.jsx(xn,{label:"Custom_0",children:r.jsx("input",{value:$e.custom0,onChange:Z=>ze(ee=>({...ee,custom0:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Custom_1",children:r.jsx("input",{value:$e.custom1,onChange:Z=>ze(ee=>({...ee,custom1:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[r.jsx(Ut,{onClick:()=>ne(!1),variant:"subtle",children:"Cancel"}),r.jsx(Ut,{onClick:tr,disabled:Ne||!$e.first_name||!$e.last_name||!$e.email||!$e.mobile,variant:"primary",children:Ne?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):r.jsxs(r.Fragment,{children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),r.jsx(Tt,{children:D&&r.jsxs(Eh,{onClose:()=>G(!1),title:"Edit Lead",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(xn,{label:"First name",children:r.jsx("input",{value:et.first_name,onChange:Z=>W(ee=>({...ee,first_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Last name",children:r.jsx("input",{value:et.last_name,onChange:Z=>W(ee=>({...ee,last_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Email",children:r.jsx("input",{type:"email",value:et.email,onChange:Z=>W(ee=>({...ee,email:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Mobile (digits only)",children:r.jsx("input",{value:et.mobile,onChange:Z=>W(ee=>({...ee,mobile:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"External ID",children:r.jsx("input",{value:et.salesforce_id,onChange:Z=>W(ee=>({...ee,salesforce_id:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Add date (ISO)",children:r.jsx("input",{value:et.add_date,onChange:Z=>W(ee=>({...ee,add_date:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Custom_0",children:r.jsx("input",{value:et.custom0,onChange:Z=>W(ee=>({...ee,custom0:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Custom_1",children:r.jsx("input",{value:et.custom1,onChange:Z=>W(ee=>({...ee,custom1:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[r.jsx(Ut,{onClick:()=>G(!1),variant:"subtle",children:"Cancel"}),r.jsx(Ut,{onClick:Nt,disabled:V,variant:"primary",children:V?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),r.jsx(Tt,{children:ce&&r.jsx(Eh,{onClose:()=>Q(!1),title:"Start Phone Call",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Assistant"}),r.jsxs("select",{value:oe.assistant_id,onChange:Z=>{const ee=d.find(ae=>String(ae.id)===String(Z.target.value));X(ae=>({...ae,assistant_id:Z.target.value,vapi_assistant_id:(ee==null?void 0:ee.vapi_assistant_id)||""}))},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select assistant"}),d.map(Z=>r.jsx("option",{value:Z.id,children:Z.name||`Assistant ${Z.id}`},Z.id))]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(xn,{label:"Phone Number",children:r.jsx("input",{value:oe.number,onChange:Z=>X(ee=>({...ee,number:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})}),r.jsx(xn,{label:"Email",children:r.jsx("input",{type:"email",value:oe.email,onChange:Z=>X(ee=>({...ee,email:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"First name",children:r.jsx("input",{value:oe.first_name,onChange:Z=>X(ee=>({...ee,first_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Last name",children:r.jsx("input",{value:oe.last_name,onChange:Z=>X(ee=>({...ee,last_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Ut,{onClick:()=>Q(!1),variant:"subtle",children:"Cancel"}),r.jsx(Ut,{onClick:ri,disabled:H,variant:"primary",children:H?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Calling"]}):r.jsxs(r.Fragment,{children:[r.jsx(xt,{className:"h-4 w-4 mr-1"}),"Start Call"]})})]})]})})}),r.jsx(Tt,{children:L&&r.jsxs(Eh,{onClose:()=>Y(null),title:"Delete Lead?",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"rounded-xl bg-rose-50 p-2 text-rose-600",children:r.jsx(EB,{className:"h-5 w-5"})}),r.jsx("div",{className:"text-slate-800",children:"This will permanently delete this lead. This action cannot be undone."})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[r.jsx(Ut,{onClick:()=>Y(null),variant:"subtle",children:"Cancel"}),r.jsxs(Ut,{onClick:fr,variant:"danger",children:[r.jsx(Jn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),r.jsx(Tt,{children:te&&Se&&r.jsx(jue,{onClose:()=>he(!1),title:"Lead Details",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-bold text-slate-900 truncate",children:`${Se.first_name||""} ${Se.last_name||""}`.trim()||""}),r.jsx("div",{className:"text-sm text-slate-600 break-words",children:Se.email||""}),r.jsx("div",{className:"text-xs text-slate-500 break-all",children:Se.mobile||$n(Se)||""}),r.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID #",Se.id,"  ",Se.salesforce_id||"No Ext ID"]})]})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[r.jsx(Pb,{label:"State",value:Se.state||""}),r.jsx(Pb,{label:"Timezone",value:Se.timezone||""}),r.jsx(Pb,{label:"Added",value:CT(Se.add_date)||""})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Basic Fields"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(Ko,{label:"First name",value:Se.first_name||""}),r.jsx(Ko,{label:"Last name",value:Se.last_name||""}),r.jsx(Ko,{label:"Email",value:Se.email||""}),r.jsx(Ko,{label:"Mobile",value:Se.mobile||$n(Se)||""}),r.jsx(Ko,{label:"External ID",value:Se.salesforce_id||""})]})]}),l&&l.length>0&&r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Extra Fields"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(Z=>{var ee;return r.jsx(Ko,{label:Z,value:((ee=Se==null?void 0:Se.other_data)==null?void 0:ee[Z])??""},Z)})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Ut,{onClick:()=>mr(Se),children:[r.jsx(xt,{className:"h-4 w-4 mr-1"}),"Call"]}),r.jsxs(Ut,{onClick:()=>ot(Se),children:[r.jsx(_d,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(Ut,{onClick:()=>Y(Se.id),variant:"danger",children:[r.jsx(Jn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})})]})}function Ut({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function Tb({label:e,value:t,sub:n}){return r.jsxs(xe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t}),n&&r.jsx("div",{className:"text-sm text-slate-500 mt-1",children:n})]})]})}function wue(){return r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function kh({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Ah({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function xn({label:e,children:t}){return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Pb({label:e,value:t}){return r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-xs text-slate-500",children:e}),r.jsx("div",{className:"text-lg font-extrabold text-slate-900 break-all",children:t})]})}function Ko({label:e,value:t}){return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),r.jsx("div",{className:"text-sm font-semibold text-slate-800 break-words",children:String(t??"")})]})}function Eh({children:e,onClose:t,title:n}){return r.jsxs(xe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(xe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(Ut,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:r.jsx(dr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function jue({children:e,onClose:t,title:n}){return r.jsxs(xe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),r.jsxs(xe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(Ut,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:r.jsx(dr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function CT(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function Pi(e){if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t}const Nue=()=>{const[e,t]=v.useState(null),[n,a]=v.useState(!1),[s,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(!0),[h,x]=v.useState(0),[g,b]=v.useState(""),w=v.useRef(null),{id:j}=uf(),S=5*1024*1024,_="https://aisdr-dbt.ddns.net",C=()=>localStorage.getItem("token"),k=K=>{K&&K.type==="text/csv"?K.size>S?M("File size exceeds 5MB limit.",!1):t(K):M("Please upload a valid CSV file.",!1)},O=K=>{const F=K.target.files[0];k(F)},A=()=>w.current.click(),T=()=>{const K=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,F=new Blob([K],{type:"text/csv"}),B=window.URL.createObjectURL(F),ne=document.createElement("a");ne.href=B,ne.download="sample_users.csv",ne.click(),window.URL.revokeObjectURL(B)},$=async()=>{if(!e)return M("No file selected.",!1);if(!g.trim())return M("Please provide a list name.",!1);const K=C();if(!K)return M("Please log in first.",!1);const F=new FormData;F.append("file",e),F.append("name",g);try{a(!0),x(50);const B=await fetch(`${_}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${K}`},body:F});if(x(100),B.ok)M("CSV file uploaded successfully!",!0),t(null),b(""),w.current&&(w.current.value="");else{const ne=await B.json();throw new Error(ne.detail||`HTTP ${B.status}`)}}catch(B){console.error(B),M("Upload failed. Please try again.",!1)}finally{a(!1),x(0)}},M=(K,F)=>{d(K),m(F),l(!0)},U=K=>K<1024?`${K} B`:K<1024*1024?`${(K/1024).toFixed(2)} KB`:`${(K/(1024*1024)).toFixed(2)} MB`;return r.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[r.jsx("div",{className:"w-full max-w-3xl bg-white p-10 rounded-2xl shadow-lg border border-gray-200 transition-all hover:shadow-xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx(PO,{className:"mx-auto text-5xl text-blue-400 mb-6 animate-pulse"}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Upload Your CSV File"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Drag & drop a CSV file or click to select. Max size: 5MB."}),r.jsx("input",{type:"text",placeholder:"Enter list name",value:g,onChange:K=>b(K.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[r.jsx("input",{type:"file",accept:".csv",onChange:O,ref:w,className:"hidden"}),r.jsx("button",{onClick:A,className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600 transition",children:"Choose File"}),r.jsxs("button",{onClick:T,className:"bg-white text-blue-600 border border-blue-300 px-6 py-3 rounded-xl shadow-sm hover:bg-blue-50 transition flex items-center gap-2",children:[r.jsx(EO,{})," Sample CSV"]})]}),e&&r.jsxs("div",{className:"mt-6 text-gray-600 bg-blue-50 p-4 rounded-xl border border-blue-200 text-left",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"File:"})," ",e.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Size:"})," ",U(e.size)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),r.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[r.jsx("button",{onClick:$,disabled:n||!e,className:`w-full bg-blue-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition 
            ${n||!e?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:n?"Uploading...":"Upload CSV"}),n&&r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]}),s&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f?r.jsx(AO,{className:"text-green-500 text-2xl"}):r.jsx(TO,{className:"text-red-500 text-2xl"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload Status"})]}),r.jsx("p",{className:"text-gray-600 mb-6",children:c}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>l(!1),className:"bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600 transition",children:"Okay"})})]})})]})},Ob={},r0="https://aisdr-dbt.ddns.net",a0=(Ob==null?void 0:Ob.VITE_API_PREFIX)||"/api",Dr=`${r0}${a0}/campaigns/campaigns`,Rr={LIST:Dr,CREATE:Dr,DETAIL:e=>`${Dr}/${e}`,STATS:e=>`${Dr}/${e}/stats`,SCHEDULE:e=>`${Dr}/${e}/schedule`,RETRY:e=>`${Dr}/${e}/retry-policy`,PAUSE:e=>`${Dr}/${e}/pause`,RESUME:e=>`${Dr}/${e}/resume`,STOP:e=>`${Dr}/${e}/stop`,RUN_NOW:e=>`${Dr}/${e}/run-now`,ICS:e=>`${Dr}/${e}/calendar.ics`,DELETE:e=>`${Dr}/${e}`,REFRESH_LEADS:e=>`${Dr}/${e}/refresh-leads`},Mb={FILES:`${r0}${a0}/files`,ASSISTANTS:`${r0}${a0}/get-assistants`,LEADS:e=>`${r0}${a0}/leads${e?`?file_id=${e}`:""}`};function La(...e){return e.filter(Boolean).join(" ")}const s0=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function Sue(e,t=250){const[n,a]=v.useState(e);return v.useEffect(()=>{const s=setTimeout(()=>a(e),t);return()=>clearTimeout(s)},[e,t]),n}function Db(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}function _ue(e){try{const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function Th(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${n}-${a}-${s}T${l}:${c}`}function Ph(e){if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()}function Cue(e){if(!e)return"";const t=new Date(e).getTime();if(Number.isNaN(t))return"";const n=Math.max(0,t-Date.now()),a=Math.floor(n/1e3),s=Math.floor(a/60),l=a%60;return s>0?`${s}m ${l}s`:`${l}s`}const la={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},Rb={show:{transition:{staggerChildren:.05}}},kT={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}},AT={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:30,duration:.4}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},kue={hidden:{opacity:0,scale:.8,y:50},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,duration:.5}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.3}}},Aue={hidden:{opacity:0,x:20},show:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2}}};function Ca({children:e,tone:t="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200",orange:"bg-orange-100 text-orange-700 ring-orange-200",purple:"bg-purple-100 text-purple-700 ring-purple-200",amber:"bg-amber-100 text-amber-700 ring-amber-200",indigo:"bg-indigo-100 text-indigo-700 ring-indigo-200"};return r.jsx(xe.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},className:La("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[t]||n.slate),children:e})}function Lb({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":a==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":a==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return r.jsx(xe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Oh({status:e}){const t=String(e||"").toLowerCase();return t==="scheduled"?r.jsx(Ca,{tone:"blue",children:"Scheduled"}):t==="running"?r.jsx(Ca,{tone:"green",children:"Running"}):t==="paused"?r.jsx(Ca,{tone:"orange",children:"Paused"}):t==="stopped"?r.jsx(Ca,{tone:"red",children:"Stopped"}):t==="completed"?r.jsx(Ca,{tone:"purple",children:"Completed"}):t==="draft"?r.jsx(Ca,{tone:"slate",children:"Draft"}):r.jsx(Ca,{tone:"slate",children:s0(e)})}const NL=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York"},{value:"America/Chicago",label:"America/Chicago"},{value:"America/Denver",label:"America/Denver"},{value:"America/Los_Angeles",label:"America/Los_Angeles"},{value:"America/Phoenix",label:"America/Phoenix"},{value:"Europe/London",label:"Europe/London"},{value:"Europe/Berlin",label:"Europe/Berlin"},{value:"Europe/Paris",label:"Europe/Paris"},{value:"Asia/Karachi",label:"Asia/Karachi"},{value:"Asia/Kolkata",label:"Asia/Kolkata"},{value:"Asia/Singapore",label:"Asia/Singapore"},{value:"Asia/Tokyo",label:"Asia/Tokyo"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Australia/Sydney",label:"Australia/Sydney"}];function SL(e,t){const n=Number(e)||0,a=Number(t)||0;if(a<=0)return 0;const s=Math.round(n/a*100);return Math.min(100,Math.max(0,s))}function _L({active:e=!1}){return e?r.jsxs("span",{className:"relative inline-flex h-2.5 w-2.5",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60"}),r.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}):null}function ET({done:e,total:t,status:n}){const a=SL(e,t),s=["scheduled","running"].includes(String(n||"").toLowerCase());return r.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[r.jsx("div",{className:"relative h-2 w-36 rounded-full bg-slate-200 overflow-hidden",children:r.jsx(xe.div,{className:La("h-full bg-gradient-to-r from-blue-500 to-cyan-500",s&&"shadow-[0_0_0_2px_rgba(59,130,246,0.15)]"),initial:{width:0},animate:{width:`${a}%`},transition:{type:"spring",stiffness:160,damping:20}})}),r.jsxs("div",{className:"text-xs font-medium text-slate-700 tabular-nums",children:[Number(e)||0,"/",Number(t)||0]}),r.jsx(_L,{active:s})]})}function Eue({totals:e}){const t=(e==null?void 0:e.total)||0,n=(e==null?void 0:e.done)||0,a=(e==null?void 0:e.calling)||0,s=(e==null?void 0:e.retry)||0,l=(e==null?void 0:e.pending)||0,c=d=>t>0?`${d/t*100}%`:"0%";return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"h-3 w-full rounded-full bg-slate-200 overflow-hidden ring-1 ring-white/60 relative",children:[r.jsx(xe.div,{className:"h-full bg-emerald-500 absolute left-0 top-0",style:{width:c(n)},initial:{width:0},animate:{width:c(n)}}),r.jsx(xe.div,{className:"h-full bg-indigo-500 absolute left-0 top-0",style:{width:c(n+a)},initial:{width:0},animate:{width:c(n+a)}}),r.jsx(xe.div,{className:"h-full bg-amber-500 absolute left-0 top-0",style:{width:c(n+a+s)},initial:{width:0},animate:{width:c(n+a+s)}})]}),r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-700",children:[r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx("span",{className:"h-2 w-2 rounded bg-emerald-500"}),"Done ",n]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx("span",{className:"h-2 w-2 rounded bg-indigo-500"}),"Calling ",a]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx("span",{className:"h-2 w-2 rounded bg-amber-500"}),"Retry ",s]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx("span",{className:"h-2 w-2 rounded bg-slate-400"}),"Pending ",l]}),r.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[SL(n,t),"%"]})]})]})}function TT(){var Qe,mt,at,Ct,Pt,ya,mn,St,en,cs,so,Rf,Lf,eu,ai,io,us,ds,si,fs;const e=v.useRef(localStorage.getItem("token")||null),[t,n]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState([]),[m,h]=v.useState([]),[x,g]=v.useState([]),[b,w]=v.useState(!1),[j,S]=v.useState(""),_=Sue(j,250),[C,k]=v.useState("created_at"),[O,A]=v.useState("desc"),[T,$]=v.useState(1),[M,U]=v.useState(10),[K,F]=v.useState(!1),[B,ne]=v.useState(1),[Ne,se]=v.useState(!1),[D,G]=v.useState({name:"",file_id:"",assistant_id:"",selection_mode:"ALL",include_lead_ids:[],exclude_lead_ids:[],timezone:"America/Los_Angeles",days_of_week:[0,1,2,3,4],daily_start:"09:00",daily_end:"18:00",start_at:"",end_at:"",calls_per_minute:10,parallel_calls:2,retry_on_busy:!0,busy_retry_delay_minutes:15,max_attempts:3,description:""}),[V,z]=v.useState(""),[E,R]=v.useState(!1),[L,Y]=v.useState(null),[ce,Q]=v.useState(!1),[H,ge]=v.useState(null),[te,he]=v.useState(null);v.useEffect(()=>{if(!E||!(L!=null&&L.id))return;Oe(L.id),Le(L.id);const le=setInterval(()=>{Oe(L.id),Le(L.id),ue()},4e3);return()=>clearInterval(le)},[E,L==null?void 0:L.id]),v.useEffect(()=>{if(!e.current){s(!1),q.error("No auth token found. Please log in.");return}Se()},[]);async function Se(){s(!0);try{await Promise.all([ue(),$e(),ze()])}finally{s(!1)}}async function be(le,Ae={}){if(!e.current)throw q.error("No auth token found. Please log in."),new Error("No token");return await fetch(le,{...Ae,headers:{...Ae.headers||{},Authorization:`Bearer ${e.current}`}})}async function ue(){try{const le=await be(Rr.LIST);if(!le.ok)throw new Error(`HTTP ${le.status}`);const Ae=await le.json();n(Array.isArray(Ae)?Ae:[])}catch(le){console.error(le),q.error("Failed to fetch campaigns"),n([])}}async function $e(){try{const le=await be(Mb.FILES);if(!le.ok)throw new Error(`HTTP ${le.status}`);const Ae=await le.json();f(Array.isArray(Ae)?Ae:(Ae==null?void 0:Ae.items)||[])}catch(le){console.warn("Files fetch failed:",le.message),f([])}}async function ze(){try{const le=await be(Mb.ASSISTANTS);if(!le.ok)throw new Error(`HTTP ${le.status}`);const Ae=await le.json(),Re=(Array.isArray(Ae)&&Ae||(Ae==null?void 0:Ae.items)||(Ae==null?void 0:Ae.assistants)||(Ae==null?void 0:Ae.data)||[]).filter(Ie=>Ie&&Ie.id!==void 0&&Ie.id!==null);h(Re)}catch(le){console.warn("Assistants fetch failed:",le.message),h([])}}async function et(le){if(!le){g([]);return}try{w(!0);const Ae=await be(Mb.LEADS(le));if(!Ae.ok)throw new Error(`HTTP ${Ae.status}`);const Fe=await Ae.json(),Re=Array.isArray(Fe)?Fe:(Fe==null?void 0:Fe.leads)||(Fe==null?void 0:Fe.items)||[];g(Re)}catch(Ae){console.warn("Leads fetch failed:",Ae.message),g([])}finally{w(!1)}}async function W(){c(!0);try{await ue()}finally{c(!1)}}const oe=v.useMemo(()=>{const le=_.trim().toLowerCase(),Ae=t.filter(Re=>le?[(Re.name||"").toLowerCase(),(Re.status||"").toLowerCase(),String(Re.id||""),String(Re.file_id||""),String(Re.assistant_id||"")].some(ht=>ht.includes(le)):!0),Fe=O==="asc"?1:-1;return Ae.sort((Re,Ie)=>{let ht,nr;switch(C){case"name":ht=(Re.name||"").toLowerCase(),nr=(Ie.name||"").toLowerCase();break;case"status":ht=(Re.status||"").toLowerCase(),nr=(Ie.status||"").toLowerCase();break;case"calls_per_minute":ht=Re.calls_per_minute||0,nr=Ie.calls_per_minute||0;break;case"created_at":default:ht=new Date(Re.created_at||0).getTime(),nr=new Date(Ie.created_at||0).getTime()}return ht<nr?-1*Fe:ht>nr?1*Fe:0}),Ae},[t,_,C,O]),X=oe.length,je=Math.max(1,Math.ceil(X/M));v.useEffect(()=>{T>je&&$(je)},[T,je]);const Ee=(T-1)*M,qe=Ee+M,Te=oe.slice(Ee,qe),tt=v.useMemo(()=>{const le=oe.length,Ae=oe.filter(Re=>(Re.status||"").toLowerCase()==="running").length,Fe=oe.filter(Re=>(Re.status||"").toLowerCase()==="paused").length;return{total:le,running:Ae,paused:Fe}},[oe]);function We(le){const{name:Ae,value:Fe,type:Re,checked:Ie}=le.target;G(ht=>{const nr={...ht,[Ae]:Re==="checkbox"?Ie:Fe};if(Ae==="file_id"){const tu=Number(Fe)||"";tu?et(tu):g([]),nr.include_lead_ids=[],nr.exclude_lead_ids=[]}return Ae==="selection_mode"&&(nr.include_lead_ids=[],nr.exclude_lead_ids=[]),nr})}function we(le){G(Ae=>{const Re=Ae.days_of_week.includes(le)?Ae.days_of_week.filter(Ie=>Ie!==le):[...Ae.days_of_week,le];return Re.sort((Ie,ht)=>Ie-ht),{...Ae,days_of_week:Re}})}async function Pe(){var Ae,Fe;if(!D.name||!D.file_id||!D.assistant_id){q.error("Name, File and Assistant are required.");return}if(D.selection_mode!=="ALL"&&D.file_id&&x.length===0){q.error("No leads available for the selected file.");return}const le={name:String(D.name).trim(),file_id:Number(D.file_id),assistant_id:Number(D.assistant_id),selection_mode:D.selection_mode,include_lead_ids:D.selection_mode==="ONLY"&&((Ae=D.include_lead_ids)!=null&&Ae.length)?D.include_lead_ids:null,exclude_lead_ids:D.selection_mode==="SKIP"&&((Fe=D.exclude_lead_ids)!=null&&Fe.length)?D.exclude_lead_ids:null,timezone:D.timezone||"America/Los_Angeles",days_of_week:D.days_of_week,daily_start:D.daily_start||"09:00",daily_end:D.daily_end||"18:00",start_at:Ph(D.start_at),end_at:Ph(D.end_at),calls_per_minute:Number(D.calls_per_minute)||10,parallel_calls:Number(D.parallel_calls)||2,retry_on_busy:!!D.retry_on_busy,busy_retry_delay_minutes:Number(D.busy_retry_delay_minutes)||15,max_attempts:Number(D.max_attempts)||3};try{se(!0);const Re=await be(Rr.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)}),Ie=await Re.json().catch(()=>({}));if(!Re.ok||(Ie==null?void 0:Ie.success)===!1)throw new Error((Ie==null?void 0:Ie.detail)||`HTTP ${Re.status}`);q.success((Ie==null?void 0:Ie.detail)||"Campaign created."),F(!1),ne(1),G(ht=>({...ht,name:"",include_lead_ids:[],exclude_lead_ids:[]})),await ue()}catch(Re){console.error(Re),q.error((Re==null?void 0:Re.message)||"Create failed")}finally{se(!1)}}async function Me(le){Y(le),R(!0),await Promise.all([Oe(le.id),Le(le.id)])}async function Oe(le){if(le)try{Q(!0);const Ae=await be(Rr.DETAIL(le));if(!Ae.ok)throw new Error(`HTTP ${Ae.status}`);const Fe=await Ae.json();ge(Fe)}catch(Ae){console.error(Ae),q.error("Failed to load campaign details"),ge(null)}finally{Q(!1)}}async function Le(le){if(le)try{const Ae=await be(Rr.STATS(le));if(!Ae.ok)throw new Error(`HTTP ${Ae.status}`);const Fe=await Ae.json();he(Fe)}catch(Ae){console.error(Ae)}}async function ot(le,Ae,Fe){try{const Re=await be(le(Ae),{method:"POST"}),Ie=await Re.json().catch(()=>({}));if(!Re.ok||(Ie==null?void 0:Ie.success)===!1)throw new Error((Ie==null?void 0:Ie.detail)||`HTTP ${Re.status}`);q.success((Ie==null?void 0:Ie.detail)||Fe),await ue(),L&&L.id===Ae&&(await Oe(Ae),await Le(Ae))}catch(Re){console.error(Re),q.error((Re==null?void 0:Re.message)||"Action failed")}}const Nt=le=>ot(Rr.PAUSE,le,"Paused"),tr=le=>ot(Rr.RESUME,le,"Resumed"),fr=le=>ot(Rr.STOP,le,"Stopped"),bn=le=>ot(Rr.REFRESH_LEADS,le,"Leads synced");async function Ln(le){if(confirm("Delete this campaign and its progress rows?"))try{const Ae=await be(Rr.DELETE(le),{method:"DELETE"}),Fe=await Ae.json().catch(()=>({}));if(!Ae.ok||(Fe==null?void 0:Fe.success)===!1)throw new Error((Fe==null?void 0:Fe.detail)||`HTTP ${Ae.status}`);q.success((Fe==null?void 0:Fe.detail)||"Deleted"),R(!1),Y(null),await ue()}catch(Ae){console.error(Ae),q.error((Ae==null?void 0:Ae.message)||"Delete failed")}}async function $n(le,Ae){try{const Fe=await be(Rr.RUN_NOW(le),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch_size:Number(Ae)||5})}),Re=await Fe.json().catch(()=>({}));if(!Fe.ok||(Re==null?void 0:Re.success)===!1)throw new Error((Re==null?void 0:Re.detail)||`HTTP ${Fe.status}`);q.success((Re==null?void 0:Re.detail)||"Triggered."),await Le(le)}catch(Fe){console.error(Fe),q.error((Fe==null?void 0:Fe.message)||"Run-now failed")}}async function mr(le,Ae){var Re;const Fe={timezone:Ae.timezone||void 0,days_of_week:(Re=Ae.days_of_week)!=null&&Re.length?Ae.days_of_week:void 0,daily_start:Ae.daily_start||void 0,daily_end:Ae.daily_end||void 0,start_at:Ph(Ae.start_at),end_at:Ph(Ae.end_at)};try{const Ie=await be(Rr.SCHEDULE(le),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Fe)}),ht=await Ie.json().catch(()=>({}));if(!Ie.ok||(ht==null?void 0:ht.success)===!1)throw new Error((ht==null?void 0:ht.detail)||`HTTP ${Ie.status}`);q.success((ht==null?void 0:ht.detail)||"Schedule updated"),await ue(),await Oe(le),await Le(le)}catch(Ie){console.error(Ie),q.error((Ie==null?void 0:Ie.message)||"Update failed")}}async function ri(le,Ae){const Fe={retry_on_busy:!!Ae.retry_on_busy,busy_retry_delay_minutes:Number(Ae.busy_retry_delay_minutes)||15,max_attempts:Number(Ae.max_attempts)||3};try{const Re=await be(Rr.RETRY(le),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Fe)}),Ie=await Re.json().catch(()=>({}));if(!Re.ok||(Ie==null?void 0:Ie.success)===!1)throw new Error((Ie==null?void 0:Ie.detail)||`HTTP ${Re.status}`);q.success((Ie==null?void 0:Ie.detail)||"Retry policy updated"),await Oe(le),await Le(le)}catch(Re){console.error(Re),q.error((Re==null?void 0:Re.message)||"Update failed")}}async function fe(le,Ae="campaign"){try{const Fe=await be(Rr.ICS(le));if(!Fe.ok)throw new Error(`HTTP ${Fe.status}`);const Re=await Fe.blob(),Ie=URL.createObjectURL(Re),ht=document.createElement("a");ht.href=Ie,ht.download=`${Ae||"campaign"}.ics`,document.body.appendChild(ht),ht.click(),ht.remove(),URL.revokeObjectURL(Ie)}catch(Fe){console.error(Fe),q.error("ICS download failed")}}const Z=()=>{F(!0),ne(1)},ee=()=>{F(!1),ne(1),G(le=>({...le,name:"",include_lead_ids:[],exclude_lead_ids:[]}))},ae=()=>{ne(le=>Math.min(6,le+1))},Ve=()=>{ne(le=>Math.max(1,le-1))};return r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsxs("main",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[r.jsxs(xe.div,{initial:"hidden",animate:"show",variants:la,className:"mb-6 sm:mb-8 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:"Campaigns"}),r.jsx("p",{className:"mt-1 text-sm sm:text-base text-slate-600",children:"Manage your calling campaigns and schedules."})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx(Oi,{onClick:W,disabled:l,icon:l?r.jsx(Hn,{className:"h-4 w-4 animate-spin"}):r.jsx(Xe,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Refresh"})}),r.jsxs(zi,{onClick:Z,icon:r.jsx(ts,{className:"h-4 w-4"}),children:[r.jsx("span",{className:"hidden sm:inline",children:"Create Campaign"}),r.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),r.jsxs(xe.div,{initial:"hidden",animate:"show",variants:AT,className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{className:"relative sm:col-span-1 lg:col-span-2",children:[r.jsx(_r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),r.jsx("input",{value:j,onChange:le=>{S(le.target.value),$(1)},placeholder:"Search name, status, IDs",className:"w-full rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 pl-9 sm:pl-10 pr-3 py-2 sm:py-2.5 text-sm sm:text-base text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search campaigns"})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[r.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 hidden sm:block",children:["Total: ",r.jsx("span",{className:"font-semibold text-slate-900",children:X})]}),r.jsx("select",{value:M,onChange:le=>{U(Number(le.target.value)),$(1)},className:"rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[10,20,40,80].map(le=>r.jsxs("option",{value:le,children:[le," / page"]},le))})]})]}),r.jsxs(xe.div,{initial:"hidden",animate:"show",variants:Rb,className:"mt-4 sm:mt-6 grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[r.jsx(xe.div,{variants:la,children:r.jsx(Lb,{label:"Total Campaigns",value:tt.total,Icon:ir,tone:"blue"})}),r.jsx(xe.div,{variants:la,children:r.jsx(Lb,{label:"Running",value:tt.running,Icon:cr,tone:"cyan"})}),r.jsx(xe.div,{variants:la,className:"sm:col-span-2 lg:col-span-1",children:r.jsx(Lb,{label:"Paused",value:tt.paused,Icon:fa,tone:"blue"})})]}),r.jsx(xe.div,{initial:"hidden",animate:"show",variants:AT,className:"mt-4 sm:mt-6 overflow-x-auto rounded-2xl sm:rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:r.jsxs("div",{className:"min-w-full",children:[r.jsx("div",{className:"block sm:hidden",children:a?r.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3}).map((le,Ae)=>r.jsx("div",{className:"animate-pulse bg-slate-100 rounded-xl p-4 h-24"},Ae))}):r.jsx("div",{className:"divide-y divide-slate-200",children:Te.map((le,Ae)=>{var Ie,ht;const Fe=((Ie=le.counts)==null?void 0:Ie.total)||0,Re=((ht=le.counts)==null?void 0:ht.completed_or_failed)||0;return r.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Ae*.05},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>Me(le),children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:s0(le.name)}),r.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",le.id]})]}),r.jsx(Oh,{status:le.status})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[r.jsx("span",{children:Db(le.created_at)}),r.jsxs("span",{children:[Fe," leads"]})]}),r.jsx(ET,{done:Re,total:Fe,status:le.status})]},le.id)})})}),r.jsxs("table",{className:"hidden sm:table min-w-full text-left",children:[r.jsx("thead",{className:"bg-slate-50/50 backdrop-blur",children:r.jsxs("tr",{children:[r.jsx(zb,{sortKey:"name",sortBy:C,sortDir:O,onSort:le=>Ib(le,k,A),children:"Name"}),r.jsx(zb,{sortKey:"status",sortBy:C,sortDir:O,onSort:le=>Ib(le,k,A),children:"Status"}),r.jsx("th",{className:"px-5 py-3 font-semibold",children:"File"}),r.jsx("th",{className:"px-5 py-3 font-semibold",children:"Assistant"}),r.jsx(zb,{sortKey:"calls_per_minute",sortBy:C,sortDir:O,onSort:le=>Ib(le,k,A),children:"Pacing"}),r.jsx("th",{className:"px-5 py-3 font-semibold",children:"Created"}),r.jsx("th",{className:"px-5 py-3 font-semibold",children:"Leads"}),r.jsx("th",{className:"px-5 py-3 font-semibold",children:"Progress"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:a?r.jsx(Due,{rows:M,cols:9}):Te.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-5 py-4 text-center text-sm text-slate-500",children:"No campaigns found."})}):Te.map(le=>{var Re,Ie;const Ae=((Re=le.counts)==null?void 0:Re.total)||0,Fe=((Ie=le.counts)==null?void 0:Ie.completed_or_failed)||0;return r.jsxs("tr",{className:"group/row hover:bg-slate-50/50 transition-colors",children:[r.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:r.jsx("button",{onClick:()=>Me(le),className:"group/cell flex items-center gap-2 text-left",children:s0(le.name)})}),r.jsx("td",{className:"px-5 py-3",children:r.jsx(Oh,{status:le.status})}),r.jsx("td",{className:"px-5 py-3 text-slate-700",children:le.file_id}),r.jsx("td",{className:"px-5 py-3 text-slate-700",children:le.assistant_id}),r.jsx("td",{className:"px-5 py-3 text-slate-700",children:le.calls_per_minute}),r.jsx("td",{className:"px-5 py-3 text-slate-600",children:Db(le.created_at)}),r.jsx("td",{className:"px-5 py-3 text-slate-700",children:Ae}),r.jsx("td",{className:"px-5 py-3",children:r.jsx(ET,{done:Fe,total:Ae,status:le.status})}),r.jsx("td",{className:"px-5 py-3 text-right",children:r.jsxs("div",{className:"invisible group-hover/row:visible flex items-center justify-end gap-2",children:[r.jsx(Oi,{onClick:()=>fe(le.id,le==null?void 0:le.name),icon:r.jsx(Ud,{className:"h-4 w-4"}),children:"ICS"}),r.jsx(Oi,{onClick:()=>Me(le),icon:r.jsx(Qn,{className:"h-4 w-4"}),children:"Details"})]})})]},le.id)})})]})]})}),r.jsxs(xe.div,{initial:"hidden",animate:"show",variants:la,className:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 order-2 sm:order-1",children:["Showing ",X===0?0:(T-1)*M+1,"",Math.min(T*M,X)," of ",X]}),r.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[r.jsxs(ap,{disabled:T<=1,onClick:()=>$(T-1),children:[r.jsx(ha,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),r.jsxs("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-slate-700",children:[T," of ",je]}),r.jsxs(ap,{disabled:T>=je,onClick:()=>$(T+1),children:[r.jsx("span",{className:"hidden sm:inline",children:"Next"}),r.jsx(qn,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]}),r.jsx(Tt,{children:K&&r.jsxs(r.Fragment,{children:[r.jsx(xe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:kT,initial:"hidden",animate:"show",exit:"exit",onClick:ee}),r.jsx(xe.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:kue,initial:"hidden",animate:"show",exit:"exit",children:r.jsxs("div",{className:"w-full max-w-xs sm:max-w-md lg:max-w-2xl xl:max-w-4xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:r.jsx(ts,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Create Campaign"}),r.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Step ",B," of 6"]})]})]}),r.jsx("button",{onClick:ee,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl border border-slate-200 hover:bg-slate-50 flex items-center justify-center transition-colors","aria-label":"Close",children:r.jsx(dr,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),r.jsxs("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-50/50",children:[r.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:[1,2,3,4,5,6].map(le=>r.jsx(xe.div,{className:La("flex-1 h-1.5 sm:h-2 rounded-full transition-colors duration-300",le<=B?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-slate-200"),initial:{scaleX:0},animate:{scaleX:le<=B?1:0},transition:{duration:.3,delay:le*.05}},le))}),r.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[r.jsx("span",{className:"hidden sm:inline",children:"Details"}),r.jsx("span",{className:"hidden sm:inline",children:"Files"}),r.jsx("span",{className:"hidden sm:inline",children:"Leads"}),r.jsx("span",{className:"hidden sm:inline",children:"Schedule"}),r.jsx("span",{className:"hidden sm:inline",children:"Pacing"}),r.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx(Tt,{mode:"wait",children:r.jsxs(xe.div,{variants:Aue,initial:"hidden",animate:"show",exit:"exit",className:"p-4 sm:p-6 lg:p-8",children:[B===1&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Campaign Details"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Set up the basic information for your campaign."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Name"}),r.jsx("input",{value:D.name,onChange:We,name:"name",placeholder:"Enter campaign name",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assistant"}),r.jsxs("select",{value:D.assistant_id,onChange:We,name:"assistant_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[r.jsx("option",{value:"",children:"Select assistant"}),m.map(le=>r.jsx("option",{value:le.id,children:le.name},le.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (optional)"}),r.jsx("textarea",{value:D.description,onChange:We,name:"description",placeholder:"Describe your campaign...",rows:3,className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition resize-none"})]})]}),B===2&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select File"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Choose the file containing the leads for your campaign."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File"}),r.jsxs("select",{value:D.file_id,onChange:We,name:"file_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[r.jsx("option",{value:"",children:"Select file"}),d.map(le=>r.jsx("option",{value:le.id,children:le.name},le.id))]})]})]}),B===3&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select Leads"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Choose which leads to include in your campaign."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selection Mode"}),r.jsxs("select",{value:D.selection_mode,onChange:We,name:"selection_mode",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[r.jsx("option",{value:"ALL",children:"All Leads"}),r.jsx("option",{value:"ONLY",children:"Only These Leads"}),r.jsx("option",{value:"SKIP",children:"Skip These Leads"})]})]}),D.selection_mode!=="ALL"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(_r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),r.jsx("input",{value:V,onChange:le=>z(le.target.value),placeholder:"Search leads",className:"w-full rounded-xl border border-slate-200 px-9 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),b?r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center text-sm text-slate-600",children:[r.jsx(Hn,{className:"h-5 w-5 animate-spin mx-auto mb-3"})," Loading leads"]}):r.jsx(Mue,{leads:x,mode:D.selection_mode,search:V,selectedIds:D.selection_mode==="ONLY"?D.include_lead_ids:D.exclude_lead_ids,onChange:le=>{D.selection_mode==="ONLY"?G(Ae=>({...Ae,include_lead_ids:le})):G(Ae=>({...Ae,exclude_lead_ids:le}))}})]})]}),B===4&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Schedule"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Set up the schedule for your campaign."})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),r.jsx("select",{name:"timezone",value:D.timezone,onChange:We,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:NL.map(le=>r.jsx("option",{value:le.value,children:le.label},le.value))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(le=>r.jsx("button",{type:"button",onClick:()=>we(le),className:La("px-3 py-1.5 rounded-xl border text-sm",D.days_of_week.includes(le)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][le]},le))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(jr,{label:"Daily start",name:"daily_start",value:D.daily_start,onChange:We,placeholder:"HH:MM"}),r.jsx(jr,{label:"Daily end",name:"daily_end",value:D.daily_end,onChange:We,placeholder:"HH:MM"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(jr,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:D.start_at,onChange:We}),r.jsx(jr,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:D.end_at,onChange:We})]})]})]}),B===5&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Pacing"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Set up the pacing for your campaign."})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsx(jr,{label:"Calls per minute",name:"calls_per_minute",value:D.calls_per_minute,onChange:We}),r.jsx(jr,{label:"Parallel calls",name:"parallel_calls",value:D.parallel_calls,onChange:We}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!D.retry_on_busy,onChange:We}),r.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),r.jsx(jr,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:D.busy_retry_delay_minutes,onChange:We}),r.jsx(jr,{label:"Max attempts",name:"max_attempts",value:D.max_attempts,onChange:We})]})]}),B===6&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Review"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Review your campaign details before creating."})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Name"}),r.jsx("div",{className:"text-sm text-slate-600",children:D.name||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"File"}),r.jsx("div",{className:"text-sm text-slate-600",children:((Qe=d.find(le=>String(le.id)===String(D.file_id)))==null?void 0:Qe.name)||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Assistant"}),r.jsx("div",{className:"text-sm text-slate-600",children:((mt=m.find(le=>String(le.id)===String(D.assistant_id)))==null?void 0:mt.name)||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Schedule"}),r.jsxs("div",{className:"text-sm text-slate-600",children:[$b(D.days_of_week),"  ",D.daily_start,"",D.daily_end," (",D.timezone,")"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Pacing"}),r.jsxs("div",{className:"text-sm text-slate-600",children:[D.calls_per_minute," CPM  ",D.parallel_calls," parallel"]})]})]})]})]},B)})}),r.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[r.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:B>1&&r.jsxs(Oi,{onClick:Ve,icon:r.jsx(ha,{className:"h-4 w-4"}),children:[r.jsx("span",{className:"hidden sm:inline",children:"Previous"}),r.jsx("span",{className:"sm:hidden",children:"Back"})]})}),r.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:B<6?r.jsxs(zi,{onClick:ae,icon:r.jsx(qn,{className:"h-4 w-4"}),children:[r.jsx("span",{className:"hidden sm:inline",children:"Next Step"}),r.jsx("span",{className:"sm:hidden",children:"Next"})]}):r.jsx(zi,{onClick:Pe,disabled:Ne,icon:Ne?r.jsx(Hn,{className:"h-4 w-4 animate-spin"}):r.jsx(c0,{className:"h-4 w-4"}),children:Ne?"Creating...":"Create Campaign"})})]})]})})]})}),r.jsx(Tt,{children:E&&r.jsxs(r.Fragment,{children:[r.jsx(xe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:kT,initial:"hidden",animate:"show",exit:"exit",onClick:()=>R(!1)}),r.jsxs(xe.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[90vw] md:w-[620px] lg:w-[880px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Campaign details",children:[r.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[r.jsx("button",{onClick:()=>R(!1),className:"grid h-8 w-8 sm:h-9 sm:w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50 flex-shrink-0","aria-label":"Close",children:r.jsx(dr,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight truncate",children:["Campaign #",L==null?void 0:L.id]}),r.jsx("p",{className:"text-xs text-slate-600 truncate",children:s0(L==null?void 0:L.name)})]})]}),r.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:r.jsx(Oi,{onClick:()=>fe(L.id,L==null?void 0:L.name),icon:r.jsx(Ud,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"ICS"})})})]}),r.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oh,{status:(te==null?void 0:te.status)||(H==null?void 0:H.status)||(L==null?void 0:L.status)}),r.jsx(_L,{active:!!(te!=null&&te.active_now)}),te!=null&&te.active_now?r.jsx(Ca,{tone:"green",children:"Active now"}):r.jsx(Ca,{tone:"amber",children:"Idle"})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-xs sm:text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pz,{className:"h-4 w-4 text-slate-500"}),r.jsxs("div",{className:"truncate",children:[r.jsx("span",{className:"text-slate-500",children:"Local:"})," ",r.jsx("span",{className:"font-medium text-slate-800",children:Db((at=te==null?void 0:te.now)==null?void 0:at.local)||""})]})]}),r.jsxs("div",{className:"truncate",children:[r.jsx("span",{className:"text-slate-500",children:"Window: "}),r.jsxs("span",{className:"font-medium text-slate-800",children:[$b(((Ct=te==null?void 0:te.window)==null?void 0:Ct.days_of_week)??(H==null?void 0:H.days_of_week)??(L==null?void 0:L.days_of_week))," "," ",((Pt=te==null?void 0:te.window)==null?void 0:Pt.daily_start)||(H==null?void 0:H.daily_start)||(L==null?void 0:L.daily_start)||"09:00","",((ya=te==null?void 0:te.window)==null?void 0:ya.daily_end)||(H==null?void 0:H.daily_end)||(L==null?void 0:L.daily_end)||"18:00"," ","(",(te==null?void 0:te.timezone)||(H==null?void 0:H.timezone)||(L==null?void 0:L.timezone)||"Local",")"]})]}),r.jsxs("div",{className:"truncate",children:[r.jsx("span",{className:"text-slate-500",children:"Next tick:"})," ",r.jsx("span",{className:"font-medium text-slate-800",children:te!=null&&te.next_tick_at?`${_ue(te.next_tick_at)}  in ${Cue(te.next_tick_at)}`:""})]})]})]}),r.jsx("div",{className:"mt-3",children:r.jsx(Eue,{totals:(te==null?void 0:te.totals)||(H==null?void 0:H.totals)})})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[r.jsxs(xe.div,{initial:"hidden",animate:"show",variants:Rb,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs(xe.div,{variants:la,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[r.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Status"}),r.jsx(Oh,{status:(te==null?void 0:te.status)||(H==null?void 0:H.status)||(L==null?void 0:L.status)})]}),r.jsxs(xe.div,{variants:la,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[r.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Window"}),r.jsxs("div",{className:"text-sm text-slate-800",children:[r.jsx("div",{className:"truncate",children:$b(((mn=te==null?void 0:te.window)==null?void 0:mn.days_of_week)??(H==null?void 0:H.days_of_week)??(L==null?void 0:L.days_of_week))}),r.jsx("div",{className:"text-xs sm:text-sm",children:(((St=te==null?void 0:te.window)==null?void 0:St.daily_start)||(H==null?void 0:H.daily_start)||(L==null?void 0:L.daily_start)||"09:00")+""+(((en=te==null?void 0:te.window)==null?void 0:en.daily_end)||(H==null?void 0:H.daily_end)||(L==null?void 0:L.daily_end)||"18:00")}),r.jsx("div",{className:"text-xs text-slate-500 truncate",children:(te==null?void 0:te.timezone)||(H==null?void 0:H.timezone)||(L==null?void 0:L.timezone)||"Local"})]})]}),r.jsxs(xe.div,{variants:la,className:"rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 sm:col-span-2 lg:col-span-1",children:[r.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Counts"}),r.jsxs("div",{className:"text-sm text-slate-800 grid grid-cols-2 gap-y-1",children:[r.jsxs("div",{children:["Total: ",((cs=te==null?void 0:te.totals)==null?void 0:cs.total)??((so=H==null?void 0:H.totals)==null?void 0:so.total)??((Rf=L==null?void 0:L.counts)==null?void 0:Rf.total)??""]}),r.jsxs("div",{children:["Done: ",((Lf=te==null?void 0:te.totals)==null?void 0:Lf.done)??((eu=H==null?void 0:H.totals)==null?void 0:eu.done)??((ai=L==null?void 0:L.counts)==null?void 0:ai.completed_or_failed)??""]}),r.jsxs("div",{children:["Calling: ",((io=te==null?void 0:te.totals)==null?void 0:io.calling)??""]}),r.jsxs("div",{children:["Retry: ",((us=te==null?void 0:te.totals)==null?void 0:us.retry)??""]})]})]})]}),r.jsxs(xe.div,{initial:"hidden",animate:"show",variants:la,className:"mt-4 flex flex-wrap items-center gap-2",children:[String((te==null?void 0:te.status)||(H==null?void 0:H.status)||(L==null?void 0:L.status)).toLowerCase()==="paused"?r.jsx(zi,{onClick:()=>tr(L.id),icon:r.jsx(hf,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Resume"})}):r.jsx(zi,{onClick:()=>Nt(L.id),icon:r.jsx(uB,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Pause"})}),r.jsx(Oi,{onClick:()=>fr(L.id),icon:r.jsx(vc,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Stop"})}),r.jsx(Oi,{onClick:()=>bn(L.id),icon:r.jsx(Xe,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Sync Leads"})}),r.jsx(Oi,{onClick:()=>Ln(L.id),icon:r.jsx(Jn,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]}),r.jsxs(xe.div,{initial:"hidden",animate:"show",variants:Rb,className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsx(xe.div,{variants:la,children:r.jsx(Pue,{details:te!=null&&te.window?{...H,...te,days_of_week:(ds=te.window)==null?void 0:ds.days_of_week,daily_start:(si=te.window)==null?void 0:si.daily_start,daily_end:(fs=te.window)==null?void 0:fs.daily_end,timezone:te.timezone}:H,onSubmit:le=>mr(L.id,le),loading:ce})}),r.jsx(xe.div,{variants:la,children:r.jsx(Oue,{details:H,onSubmit:le=>ri(L.id,le),loading:ce})})]}),r.jsx(xe.div,{initial:"hidden",animate:"show",variants:la,children:r.jsx(Tue,{onRun:le=>$n(L.id,le)})})]})]})]})})]})}function Tue({onRun:e}){const[t,n]=v.useState(5);return r.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsxs("div",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[r.jsx(D6,{className:"h-4 w-4"})," Run Now"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",min:1,className:"w-24 rounded-xl border border-slate-200 px-3 py-2 text-sm",value:t,onChange:a=>n(Number(a.target.value)||5)}),r.jsx(zi,{onClick:()=>e(t),icon:r.jsx(hf,{className:"h-4 w-4"}),children:"Trigger"})]})]}),r.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Immediately place a small batch of calls (ignores schedule window)."})]})}function Pue({details:e,onSubmit:t,loading:n}){const[a,s]=v.useState({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:Th(e==null?void 0:e.start_at),end_at:Th(e==null?void 0:e.end_at)});v.useEffect(()=>{s({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:Th(e==null?void 0:e.start_at),end_at:Th(e==null?void 0:e.end_at)})},[e]);function l(d){const{name:f,value:m}=d.target;s(h=>({...h,[f]:m}))}function c(d){s(f=>{const h=f.days_of_week.includes(d)?f.days_of_week.filter(x=>x!==d):[...f.days_of_week,d];return h.sort((x,g)=>x-g),{...f,days_of_week:h}})}return r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[r.jsx(R6,{className:"h-4 w-4"})," Schedule"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),r.jsx("select",{name:"timezone",value:a.timezone,onChange:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:NL.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(d=>r.jsx("button",{type:"button",onClick:()=>c(d),className:La("px-3 py-1.5 rounded-xl border text-sm",a.days_of_week.includes(d)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][d]},d))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(jr,{label:"Daily start",name:"daily_start",value:a.daily_start,onChange:l,placeholder:"HH:MM"}),r.jsx(jr,{label:"Daily end",name:"daily_end",value:a.daily_end,onChange:l,placeholder:"HH:MM"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(jr,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:a.start_at,onChange:l}),r.jsx(jr,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:a.end_at,onChange:l})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(zi,{onClick:()=>t(a),disabled:n,children:"Save Schedule"})})]})]})}function Oue({details:e,onSubmit:t,loading:n}){const[a,s]=v.useState({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3});v.useEffect(()=>{s({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3})},[e]);function l(c){const{name:d,value:f,type:m,checked:h}=c.target;s(x=>({...x,[d]:m==="checkbox"?h:f}))}return r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[r.jsx(D6,{className:"h-4 w-4"})," Retry Policy"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!a.retry_on_busy,onChange:l}),r.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),r.jsx(jr,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:a.busy_retry_delay_minutes,onChange:l}),r.jsx(jr,{label:"Max attempts",name:"max_attempts",value:a.max_attempts,onChange:l}),r.jsx("div",{className:"flex justify-end",children:r.jsx(zi,{onClick:()=>t(a),disabled:n,children:"Save Retry Policy"})})]})]})}function Mue({leads:e,mode:t,search:n,selectedIds:a,onChange:s}){const[l,c]=v.useState(1),d=12,f=v.useMemo(()=>{const w=(n||"").toLowerCase().trim();return w?e.filter(j=>`${j.first_name||""} ${j.last_name||""}`.toLowerCase().includes(w)||(j.email||"").toLowerCase().includes(w)||(j.mobile||"").toLowerCase().includes(w)):e},[e,n]),m=Math.max(1,Math.ceil(f.length/d));v.useEffect(()=>{l>m&&c(m)},[l,m]);const h=(l-1)*d,x=h+d,g=f.slice(h,x);function b(w){const j=a.includes(w);s(j?a.filter(S=>S!==w):[...a,w])}return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[r.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:g.length===0?r.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No leads match your search."}):g.map(w=>{const j=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unknown";return r.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:a.includes(w.id),onChange:()=>b(w.id)}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium text-slate-900 text-sm",children:j}),r.jsx("div",{className:"text-xs text-slate-600 break-all",children:(w.email||"")+"  "+(w.mobile||"")})]}),w.dnc?r.jsx(Ca,{tone:"red",children:"DNC"}):r.jsx(Ca,{tone:"green",children:"OK"})]},w.id)})}),f.length>d&&r.jsxs("div",{className:"flex items-center justify-between p-2",children:[r.jsxs("span",{className:"text-xs text-slate-600",children:["Showing ",Math.min(x,f.length)," of ",f.length]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ap,{disabled:l<=1,onClick:()=>c(w=>Math.max(1,w-1)),children:[r.jsx(ha,{className:"h-3.5 w-3.5"})," Prev"]}),r.jsxs("span",{className:"text-xs text-slate-700",children:[l,"/",m]}),r.jsxs(ap,{disabled:l>=m,onClick:()=>c(w=>Math.min(m,w+1)),children:["Next ",r.jsx(qn,{className:"h-3.5 w-3.5"})]})]})]}),r.jsxs("div",{className:"p-3 border-t border-slate-200 text-xs text-slate-700",children:["Mode: ",r.jsx("strong",{children:t}),"  Selected: ",r.jsx("strong",{children:a.length})]})]})}function $b(e){const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=new Set(Array.isArray(e)?e:[]);return n.size===5&&[0,1,2,3,4].every(a=>n.has(a))?"MonFri":n.size===7?"Every day":Array.from(n).sort((a,s)=>a-s).map(a=>t[a]||"?").join(", ")}function Ib(e,t,n){t(a=>a===e?(n(s=>s==="asc"?"desc":"asc"),a):(n(e==="created_at"?"desc":"asc"),e))}function zi({children:e,onClick:t,disabled:n,icon:a,type:s="button"}){return r.jsxs(xe.button,{whileHover:n?void 0:{scale:1.02},whileTap:n?void 0:{scale:.98},type:s,onClick:t,disabled:n,className:La("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-semibold text-white transition-all duration-200","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)] hover:shadow-[0_12px_32px_-12px_rgba(37,99,235,0.65)]","disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[a,r.jsx("span",{className:"whitespace-nowrap",children:e})]})}function Oi({children:e,onClick:t,icon:n,type:a="button",disabled:s}){return r.jsxs(xe.button,{whileHover:s?void 0:{scale:1.02},whileTap:s?void 0:{scale:.98},type:a,onClick:t,disabled:s,className:La("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl border border-slate-200 bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-medium text-slate-800 ring-1 ring-white/70 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm",s&&"opacity-60 cursor-not-allowed"),children:[n,r.jsx("span",{className:"whitespace-nowrap",children:e})]})}function ap({children:e,disabled:t,onClick:n}){return r.jsx(xe.button,{whileHover:t?void 0:{scale:1.02},whileTap:t?void 0:{scale:.98},disabled:t,onClick:n,className:La("inline-flex items-center gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border px-2.5 sm:px-3.5 py-1.5 sm:py-2 text-xs sm:text-sm transition-all duration-200",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50 hover:shadow-sm"),children:e})}function zb({children:e,sortKey:t,sortBy:n,sortDir:a,onSort:s}){const l=n===t;return r.jsx("th",{className:La("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:r.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,r.jsx("span",{className:La("text-xs",l?"opacity-100":"opacity-20"),children:l?a==="asc"?"":"":""})]})})}function Due({rows:e=6,cols:t=6}){return r.jsx(r.Fragment,{children:Array.from({length:e}).map((n,a)=>r.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>r.jsx("td",{className:"px-5 py-3",children:r.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},a))})}function jr({label:e,name:t,value:n,onChange:a,type:s="text",placeholder:l,className:c}){return r.jsxs("label",{className:La("block",c),children:[r.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),r.jsx("input",{type:s,name:t,value:n??"",onChange:a,placeholder:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}const Bb={};var pc={};const qa=typeof import.meta<"u"&&"https://aisdr-dbt.ddns.net"||typeof process<"u"&&(pc==null?void 0:pc.NEXT_PUBLIC_API_URL)||"http://localhost:8000",Ka=typeof import.meta<"u"&&(Bb==null?void 0:Bb.VITE_API_PREFIX)||typeof process<"u"&&(pc==null?void 0:pc.NEXT_PUBLIC_API_PREFIX)||"/api",Mh=typeof window<"u"?window.location.origin:"",Rue="/integrations",Ub=["hubspot","ghl","monday"],Ga={PROVIDERS:`${qa}${Ka}/crm/providers`,ACCOUNTS:`${qa}${Ka}/crm/accounts`,CONNECT:e=>`${qa}${Ka}/crm/connect/${e}`,DISCONNECT:e=>`${qa}${Ka}/crm/disconnect/${e}`,ENSURE_FRESH:e=>`${qa}${Ka}/crm/ensure-fresh/${e}`,CONTACTS:e=>`${qa}${Ka}/crm/${e}/contacts`,MONDAY_LIST_BOARDS:`${qa}${Ka}/crm/monday/boards`,MONDAY_GET_BOARD:`${qa}${Ka}/crm/monday/board`,MONDAY_SET_BOARD:`${qa}${Ka}/crm/monday/board`,MONDAY_CLEAR_BOARD:`${qa}${Ka}/crm/monday/board`},Lue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Cw(...e){return e.filter(Boolean).join(" ")}function $ue(e){if(e)return e.properties&&typeof e.properties=="object"?e.properties.company||e.properties.company_name||e.properties.companyname:e.company||e.organization||e.companyName||e.account||void 0}function ar({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function Iue({children:e,className:t=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function zue({rows:e=6,cols:t=5}){return r.jsx(r.Fragment,{children:Array.from({length:e}).map((n,a)=>r.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>r.jsx("td",{className:"px-4 py-4",children:r.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},a))})}function Bue({children:e,onClose:t,title:n}){return r.jsxs(xe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(xe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(ar,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:r.jsx(dr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function kw({size:e=24}){return r.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"2"}),r.jsx("circle",{cx:"12",cy:"12",r:"3.6",fill:"#2563eb"})]})}function Uue({size:e=24}){return r.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",stroke:"#0ea5e9",strokeWidth:"2"}),r.jsx("path",{d:"M7 12h10",stroke:"#0ea5e9",strokeWidth:"2"}),r.jsx("path",{d:"M12 7v10",stroke:"#0ea5e9",strokeWidth:"2"})]})}function Fue({size:e=24}){return r.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[r.jsx("circle",{cx:"8.5",cy:"12",r:"3.3",fill:"#f43f5e"}),r.jsx("circle",{cx:"14.5",cy:"12",r:"3.3",fill:"#f59e0b"}),r.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"1.5",opacity:"0.25"})]})}const Go={hubspot:{label:"HubSpot",Mark:kw},ghl:{label:"GHL",Mark:Uue},monday:{label:"monday.com",Mark:Fue}};function Dh({label:e,value:t,Icon:n,tone:a="blue",valueClassName:s=""}){const l=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsxs(xe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl pointer-events-none",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${c} text-white shadow-inner ring-1 ${l} shrink-0`,children:r.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:Cw("text-base sm:text-xl font-extrabold text-slate-900 truncate","min-w-0 max-w-full break-words",s),title:typeof t=="string"?t:void 0,children:t})]})]})]})}function PT({name:e="",size:t=38}){const n=(e||"?").split(" ").filter(Boolean).map(a=>a[0]).join("").slice(0,2).toUpperCase();return r.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:t,height:t},children:r.jsx("span",{style:{fontSize:t<40?12:13},children:n||"?"})})}function Vue(){var Te,tt,We;const e=v.useRef(typeof window<"u"&&window.localStorage.getItem("token")||null),[t,n]=v.useState([]),[a,s]=v.useState([]),[l,c]=v.useState(!0),[d,f]=v.useState(!1),[m,h]=v.useState("hubspot"),[x,g]=v.useState(25),[b,w]=v.useState([]),[j,S]=v.useState(null),[_,C]=v.useState({}),[k,O]=v.useState(""),[A,T]=v.useState(!1),[$,M]=v.useState(!1),[U,K]=v.useState(!1),[F,B]=v.useState([]),[ne,Ne]=v.useState(""),[se,D]=v.useState(null),[G,V]=v.useState(null),[z,E]=v.useState(null),R=v.useMemo(()=>{const we={};for(const Pe of a)we[Pe.crm]=Pe;return we},[a]),L=!!R[m],Y=R[m],ce=!!R.monday,Q=ce&&z&&typeof z.board_id<"u"&&z.board_id!==null,H=v.useCallback(async(we,Pe={})=>{if(!e.current)throw new Error("No token");const Me={Accept:"application/json",...Pe.headers||{},Authorization:`Bearer ${e.current}`};return Pe.body&&!Me["Content-Type"]&&(Me["Content-Type"]="application/json"),await fetch(we,{...Pe,headers:Me})},[]),ge=v.useCallback(async()=>{try{const Pe=await(await H(Ga.PROVIDERS)).json(),Oe=(Array.isArray(Pe)?Pe:[]).filter(Le=>Ub.includes(Le==null?void 0:Le.name));n(Oe),!Oe.find(Le=>Le.name===m)&&Oe[0]&&h(Oe[0].name)}catch(we){console.error(we),n([]),q.error("Failed to fetch providers")}},[H,m]),te=v.useCallback(async()=>{var we;try{const Me=await(await H(Ga.ACCOUNTS)).json(),Oe=Array.isArray(Me)?Me:[];s(Oe.filter(ot=>Ub.includes(ot==null?void 0:ot.crm)));const Le=Oe.find(ot=>ot.crm==="monday");if((we=Le==null?void 0:Le.metadata)!=null&&we.monday){const ot=Le.metadata.monday;ot.board_id?(E({board_id:ot.board_id,board_name:ot.board_name}),D(ot.board_id),V(ot.board_name||null)):E({board_id:null,board_name:null})}else Le||E(null)}catch(Pe){console.error(Pe),s([]),q.error("Failed to fetch accounts")}},[H]);async function he(){var we;if(ce)try{const Me=await(await H(Ga.MONDAY_GET_BOARD)).json(),Oe=(Me==null?void 0:Me.selected)??null,Le=((we=Me==null?void 0:Me.meta)==null?void 0:we.board_name)??null;E(Oe?{board_id:Oe,board_name:Le}:{board_id:null,board_name:null}),Oe&&(D(Oe),V(Le))}catch(Pe){console.error("Fetch selected board failed",Pe)}}v.useEffect(()=>{(async()=>{if(!e.current){q.error("No auth token found. Please log in."),c(!1);return}try{await Promise.all([ge(),te()])}finally{c(!1)}})()},[ge,te]),v.useEffect(()=>{const we=new URLSearchParams(window.location.search),Pe=we.get("status"),Me=we.get("crm");if(Pe&&window.opener){try{window.opener.postMessage({type:"crm-oauth",status:Pe,crm:Me},Mh)}catch{}window.close()}},[]),v.useEffect(()=>{function we(Pe){var Oe;if(Pe.origin!==Mh)return;const Me=Pe.data||{};if(Me.type==="crm-oauth"){const Le=Me.crm||m;Me.status==="success"?(q.success(`${(((Oe=Go[Le])==null?void 0:Oe.label)||Le).toUpperCase()} connected`),Le==="monday"?te().then(he):te()):(q.error(`OAuth error: ${Me.status||"unknown"}`),te()),f(!1)}}return window.addEventListener("message",we),()=>window.removeEventListener("message",we)},[te,m]),v.useEffect(()=>{m==="monday"&&ce&&he()},[m,ce]);async function Se(we){try{f(!0);const Pe={redirect_to:`${Mh}${Rue}`},Me=await H(Ga.CONNECT(we),{method:"POST",body:JSON.stringify(Pe)}),Oe=await Me.json();if(!Me.ok||!(Oe!=null&&Oe.auth_url))throw new Error((Oe==null?void 0:Oe.detail)||"Failed to start OAuth");const Le=Oe.auth_url,ot=680,Nt=760,tr=window.screenX+Math.max(0,(window.outerWidth-ot)/2),fr=window.screenY+Math.max(0,(window.outerHeight-Nt)/2),bn=window.open(Le,"crm-oauth",`width=${ot},height=${Nt},left=${tr},top=${fr}`);if(!bn){window.location.href=Le;return}const Ln=Date.now(),$n=setInterval(async()=>{(bn.closed||Date.now()-Ln>12e4)&&(clearInterval($n),await te(),f(!1))},2e3)}catch(Pe){console.error(Pe),q.error((Pe==null?void 0:Pe.message)||"OAuth failed to start"),f(!1)}}async function be(we){try{const Pe=await H(Ga.ENSURE_FRESH(we),{method:"POST"}),Me=await Pe.json().catch(()=>({}));if(!Pe.ok||(Me==null?void 0:Me.success)===!1)throw new Error((Me==null?void 0:Me.detail)||`HTTP ${Pe.status}`);q.success("Token refreshed"),await te()}catch(Pe){console.error(Pe),q.error((Pe==null?void 0:Pe.message)||"Refresh failed")}}async function ue(we){var Pe;if(confirm(`Disconnect ${((Pe=Go[we])==null?void 0:Pe.label)||we}?`))try{const Me=await H(Ga.DISCONNECT(we),{method:"DELETE"}),Oe=await Me.json().catch(()=>({}));if(!Me.ok||(Oe==null?void 0:Oe.success)===!1)throw new Error((Oe==null?void 0:Oe.detail)||`HTTP ${Me.status}`);q.success((Oe==null?void 0:Oe.message)||"Disconnected"),await te(),we==="monday"&&(E(null),B([]),D(null),V(null)),we===m&&(w([]),S(null),C({}))}catch(Me){console.error(Me),q.error((Me==null?void 0:Me.message)||"Disconnect failed")}}async function $e(){if(!ce){q.info("Connect monday.com first");return}M(!0),await ze(ne)}async function ze(we){try{K(!0);const Pe=we?`?search=${encodeURIComponent(we)}`:"",Oe=await(await H(`${Ga.MONDAY_LIST_BOARDS}${Pe}`)).json(),Le=Array.isArray(Oe==null?void 0:Oe.items)?Oe.items:[];B(Le);const ot=(Oe==null?void 0:Oe.selected_board_id)||(Oe==null?void 0:Oe.selected)||null;if(ot){D(ot);const Nt=Le.find(tr=>String(tr.id)===String(ot));V((Nt==null?void 0:Nt.name)||null)}}catch(Pe){console.error(Pe),q.error("Failed to load boards")}finally{K(!1)}}async function et(){var we,Pe;if(!se){q.info("Please select a board");return}try{const Me={board_id:Number(se),board_name:G||void 0},Oe=await H(Ga.MONDAY_SET_BOARD,{method:"POST",body:JSON.stringify(Me)}),Le=await Oe.json();if(!Oe.ok||(Le==null?void 0:Le.success)===!1)throw new Error((Le==null?void 0:Le.detail)||`HTTP ${Oe.status}`);E({board_id:((we=Le.selected)==null?void 0:we.board_id)??Number(se),board_name:((Pe=Le.selected)==null?void 0:Pe.board_name)??G??null}),q.success("Board selected"),M(!1),await te(),m==="monday"&&await oe(!0)}catch(Me){console.error(Me),q.error((Me==null?void 0:Me.message)||"Failed to save board")}}async function W(){try{const we=await H(Ga.MONDAY_CLEAR_BOARD,{method:"DELETE"}),Pe=await we.json();if(!we.ok||(Pe==null?void 0:Pe.success)===!1)throw new Error((Pe==null?void 0:Pe.detail)||`HTTP ${we.status}`);E({board_id:null,board_name:null}),D(null),V(null),q.success("Board cleared"),w([]),S(null),C({})}catch(we){console.error(we),q.error((we==null?void 0:we.message)||"Failed to clear board")}}async function oe(we=!1){var Pe,Me;if(!L){q.info(`Connect ${((Pe=Go[m])==null?void 0:Pe.label)||m} first`);return}try{T(!0);const Oe=new URLSearchParams({limit:String(x||25)});let Le=`${Ga.CONTACTS(m)}?${Oe.toString()}`;!we&&j&&(Le+=`&cursor=${encodeURIComponent(j)}`);const ot=await H(Le),Nt=await ot.json();if(m==="monday"&&ot.status===409&&((Me=Nt==null?void 0:Nt.detail)!=null&&Me.needs_board_selection)){q.info("Please choose your Monday board"),M(!0),await ze(ne),T(!1);return}if(!ot.ok)throw new Error((Nt==null?void 0:Nt.detail)||`HTTP ${ot.status}`);const tr=((Nt==null?void 0:Nt.items)||[]).map(bn=>({...bn,company:bn.company||$ue(bn.raw)})),fr=(Nt==null?void 0:Nt.next_cursor)||null;w(bn=>we?tr:[...bn,...tr]),S(fr),C((Nt==null?void 0:Nt.raw_paging)||{})}catch(Oe){console.error(Oe);const Le=String((Oe==null?void 0:Oe.message)||"");Le.includes("Invalid paging token")?(q.error("Invalid/expired cursor; starting over."),S(null)):q.error(Le||"Fetch failed")}finally{T(!1)}}const X=v.useMemo(()=>{const we=k.trim().toLowerCase();return we?b.filter(Pe=>{const Me=(Pe.name||"").toLowerCase(),Oe=(Pe.email||"").toLowerCase(),Le=(Pe.phone||"").toLowerCase(),ot=(Pe.company||"").toLowerCase();return Me.includes(we)||Oe.includes(we)||Le.includes(we)||ot.includes(we)}):b},[b,k]),je=((Te=Go[m])==null?void 0:Te.Mark)||kw,Ee=((tt=Go[m])==null?void 0:tt.label)||m,qe=m==="monday"&&L&&!Q;return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-5 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(xe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(je,{size:24})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight leading-tight truncate",children:r.jsxs("span",{className:`bg-clip-text text-transparent ${Lue}`,children:["CRM Integrations  ",Ee]})}),r.jsx("p",{className:"text-[11px] sm:text-xs md:text-sm text-slate-600",children:"Connect your CRM and browse Contacts directly in your app."})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[L?r.jsxs(r.Fragment,{children:[r.jsxs(ar,{onClick:()=>be(m),size:"sm",children:[r.jsx(PB,{className:"mr-2 h-4 w-4"}),"Ensure Fresh"]}),m==="monday"&&r.jsxs(ar,{onClick:$e,size:"sm",variant:"subtle",children:[r.jsx(yv,{className:"mr-2 h-4 w-4"}),Q?"Change Board":"Choose Board"]}),r.jsxs(ar,{onClick:()=>ue(m),variant:"danger",size:"sm",children:[r.jsx(KB,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):r.jsx(ar,{onClick:()=>Se(m),variant:"primary",disabled:d,size:"sm",children:d?r.jsxs(r.Fragment,{children:[r.jsx(Hn,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting"]}):r.jsxs(r.Fragment,{children:[r.jsx(Sd,{className:"mr-2 h-4 w-4"}),"Connect"]})}),r.jsxs(ar,{onClick:()=>{ge(),te()},size:"sm",children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),r.jsx("div",{className:"relative z-10 mt-4 flex flex-wrap gap-2",children:t.filter(we=>Ub.includes(we.name)).map(we=>{var Oe;const Pe=((Oe=Go[we.name])==null?void 0:Oe.Mark)||kw,Me=!!R[we.name];return r.jsxs("button",{onClick:()=>{h(we.name),w([]),S(null),C({})},className:Cw("flex items-center gap-2 rounded-xl border px-3 py-1.5 text-xs font-semibold focus:outline-none","transition-colors",we.name===m?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),title:we.name,children:[r.jsx(Pe,{size:16}),r.jsx("span",{className:"capitalize",children:we.name}),Me?r.jsx("span",{className:"ml-1 text-emerald-600",children:""}):r.jsx("span",{className:"ml-1 text-slate-300",children:""})]},we.name)})}),!L&&(((We=t.find(we=>we.name===m))==null?void 0:We.type)||"oauth")==="oauth"&&r.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 text-[11px] sm:text-[12px] text-slate-500",children:[r.jsx(Oa,{className:"h-4 w-4 mt-0.5 text-slate-400 shrink-0"}),r.jsxs("span",{className:"min-w-0",children:["Ensure backend env ",r.jsx("code",{children:"ALLOWED_REDIRECT_ORIGINS"})," includes"," ",r.jsx("code",{className:"break-all",children:Mh}),"."]})]}),qe&&r.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2",children:[r.jsx(yv,{className:"h-4 w-4 text-amber-600 mt-0.5"}),r.jsxs("div",{className:"text-[12px] sm:text-sm text-amber-800",children:["Select a Monday board to view your leads.",r.jsx(ar,{onClick:$e,size:"sm",className:"ml-2",variant:"outline",children:"Choose Board"})]})]})]}),r.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Dh,{label:"Connection",value:L?"Connected":"Not connected",Icon:L?cr:fa,tone:L?"blue":"cyan"}),r.jsx(Dh,{label:"Contacts Loaded",value:b.length,Icon:ir,tone:"cyan"}),r.jsx(Dh,{label:"Next Cursor",value:j?String(j).slice(0,10)+"":"",Icon:Nd,tone:"blue"}),r.jsx(Dh,{label:m==="monday"?"Monday Board":"Account",value:m==="monday"?(z==null?void 0:z.board_name)||(Q?`#${z.board_id}`:"Not selected"):(Y==null?void 0:Y.external_account_name)||"",Icon:m==="monday"?yv:Fd,tone:"cyan",valueClassName:"truncate break-all max-w-[14ch] sm:max-w-[24ch] md:max-w-[28ch] xl:max-w-[32ch]"})]}),r.jsxs("div",{className:"mt-5 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-3 sm:px-5 py-3 border-b border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:k,onChange:we=>O(we.target.value),placeholder:"Search by name, email, phone, company",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[r.jsx(Nd,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Data"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("select",{value:x,onChange:we=>g(Number(we.target.value)||25),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(we=>r.jsxs("option",{value:we,children:[we," / page"]},we))}),r.jsxs(ar,{onClick:()=>oe(!0),disabled:!L||m==="monday"&&!Q,variant:"primary",size:"sm",children:[r.jsx(xB,{className:"mr-2 h-4 w-4"}),"Fetch"]}),r.jsxs(ar,{onClick:()=>oe(!1),disabled:!L||!j,size:"sm",children:[r.jsx(qn,{className:"mr-2 h-4 w-4"}),"Load more"]})]})]}),A?r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Ya,{children:"Name"}),r.jsx(Ya,{children:"Email"}),r.jsx(Ya,{children:"Phone"}),r.jsx(Ya,{children:"Company"}),r.jsx(Ya,{children:"ID"})]})}),r.jsx("tbody",{children:r.jsx(zue,{rows:6,cols:5})})]})})}):X.length===0?r.jsxs("div",{className:"grid place-content-center py-14 px-4",children:[r.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-slate-100 mb-3",children:r.jsx(Nd,{className:"h-8 w-8 text-slate-400"})}),r.jsx("div",{className:"text-sm sm:text-base font-semibold text-slate-700",children:"No data"}),r.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Click ",r.jsx("b",{children:"Fetch"})," to load contacts."]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Ya,{children:"Name"}),r.jsx(Ya,{children:"Email"}),r.jsx(Ya,{children:"Phone"}),r.jsx(Ya,{children:"Company"}),r.jsx(Ya,{children:"ID"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:X.map(we=>r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(od,{children:r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(PT,{name:we.name}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:we.name||""}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID ",we.id]})]})]})}),r.jsx(od,{children:r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[r.jsx(Ra,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),r.jsx("span",{className:"text-xs font-medium break-words",children:we.email||""})]})}),r.jsx(od,{children:r.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[r.jsx(xt,{className:"h-3.5 w-3.5 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium",children:we.phone||""})]})}),r.jsx(od,{children:r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[r.jsx(y5,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),r.jsx("span",{className:"text-xs font-medium truncate max-w-[240px]",children:we.company||""})]})}),r.jsx(od,{children:r.jsx("code",{className:"text-[11px] text-slate-500 break-all",children:we.id})})]},`${we.id}-${we.email||we.name||"row"}`))})]})})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:X.map((we,Pe)=>r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Pe===0&&r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),r.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[r.jsx(PT,{name:we.name,size:44}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:we.name||""}),r.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-[12px] sm:text-sm text-slate-600 min-w-0",children:[r.jsx(Ra,{className:"h-4 w-4 text-slate-500 shrink-0"}),r.jsx("span",{className:"truncate break-words",children:we.email||""})]}),r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-slate-700",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px]",children:[r.jsx(xt,{className:"h-3.5 w-3.5 text-slate-500"}),we.phone||""]}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] min-w-0",children:[r.jsx(y5,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),r.jsx("span",{className:"truncate max-w-[160px] sm:max-w-[200px]",children:we.company||""})]})]})]})]}),r.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID ",we.id]})]},`${we.id}-${we.email||we.name||"card"}`))})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-3 sm:px-5 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 min-w-0",children:["Next cursor:"," ",r.jsx("b",{className:"font-mono break-all",children:String(j||"")})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(ar,{onClick:()=>oe(!0),disabled:!L||m==="monday"&&!Q,size:"sm",children:[r.jsx(ha,{className:"h-4 w-4 mr-1"}),"Reset"]}),r.jsxs(ar,{onClick:()=>oe(!1),disabled:!L||!j,variant:"primary",size:"sm",children:["Load more ",r.jsx(qn,{className:"h-4 w-4 ml-1"})]})]})]}),Object.keys(_||{}).length>0&&r.jsx("div",{className:"hidden sm:block px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[r.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Provider paging (raw)"}),r.jsx("div",{className:"max-w-full overflow-x-auto",children:r.jsx("pre",{className:"text-[11px] text-slate-600 min-w-0",children:JSON.stringify(_,null,2)})})]})})]})]}),r.jsx(Tt,{children:$&&r.jsx(Bue,{title:"Select your Monday Board",onClose:()=>M(!1),children:r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"text-[12px] text-slate-600",children:["Pick a board to use as your ",r.jsx("b",{children:"Leads"})," source. Youll only see items you own (via People/Owner column) or created, based on backend config."]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:ne,onChange:we=>Ne(we.target.value),placeholder:"Search boards by name",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",onKeyDown:we=>{we.key==="Enter"&&ze(ne)}})]}),r.jsxs(ar,{onClick:()=>ze(ne),size:"sm",children:[r.jsx(Xe,{className:"h-4 w-4 mr-1"}),"Search"]})]}),r.jsx("div",{className:"rounded-2xl border border-slate-200",children:r.jsx("div",{className:"max-h-[46vh] overflow-y-auto p-2",children:U?r.jsxs("div",{className:"flex items-center justify-center py-8 text-slate-500",children:[r.jsx(Hn,{className:"h-5 w-5 animate-spin mr-2"}),"Loading boards"]}):F.length===0?r.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No boards found."}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:F.map(we=>{const Pe=String(se)===String(we.id);return r.jsxs("button",{onClick:()=>{D(we.id),V(we.name||null)},className:Cw("text-left rounded-xl border px-3 py-2 transition-colors",Pe?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"),children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:we.name||`Board ${we.id}`}),Pe&&r.jsx(Iue,{className:"bg-blue-600 text-white",children:"Selected"})]}),r.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID: ",r.jsx("code",{className:"font-mono",children:we.id})]})]},we.id)})})})}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[r.jsxs("div",{className:"text-[12px] text-slate-500",children:["Current:"," ",r.jsx("b",{children:z!=null&&z.board_name?z.board_name:z!=null&&z.board_id?`#${z.board_id}`:"None"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ar,{onClick:()=>M(!1),size:"sm",children:"Cancel"}),r.jsx(ar,{onClick:W,size:"sm",variant:"subtle",children:"Clear"}),r.jsx(ar,{onClick:et,size:"sm",variant:"primary",children:"Save"})]})]})]})})})]})}function Ya({children:e}){return r.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function od({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}const Rh="https://aisdr-dbt.ddns.net",Fb={LIST:`${Rh}/api/appointments`,CREATE:`${Rh}/api/appointments/tool/schedule`,DETAIL:e=>`${Rh}/api/appointments/${e}`,UPDATE:e=>`${Rh}/api/appointments/${e}`},Hue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function ka({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function OT({children:e,className:t=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Yo({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Wo({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Mi({label:e,children:t}){return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function CL({children:e,onClose:t,title:n}){return r.jsxs(xe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(xe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(ka,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:r.jsx(dr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}const oc=e=>{switch(String(e||"").toLowerCase()){case"scheduled":return{badge:"border-amber-200 bg-amber-50 text-amber-700",icon:s1};case"completed":return{badge:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:cr};case"cancelled":case"canceled":return{badge:"border-red-200 bg-red-50 text-red-700",icon:fa};default:return{badge:"border-slate-200 bg-slate-50 text-slate-700",icon:s1}}};function Aw(e){try{const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return e}}function que(e){const t=String(e||"").trim().toLowerCase();if(!t)return"";if(t==="noon")return"12:00";if(t==="midnight")return"00:00";const n=t.match(/(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)/i);if(n){let s=parseInt(n[1]);const l=parseInt(n[2]||"0"),c=(n[3]||"").toLowerCase();return c==="pm"&&s<12&&(s+=12),c==="am"&&s===12&&(s=0),`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}const a=t.match(/^(\d{1,2})(?::(\d{1,2}))?$/);if(a){let s=parseInt(a[1]);const l=parseInt(a[2]||"0");if(s<=24&&l<=59)return`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return t}function Kue(e){const t=String(e||"").trim();if(!t)return"";const n=t.startsWith("+")?"+":"",a=t.replace(/\D+/g,"");return n+a}function Gue(){const[e,t]=v.useState([]),[n,a]=v.useState(!1),[s,l]=v.useState(""),[c,d]=v.useState(""),[f,m]=v.useState("all"),[h,x]=v.useState(""),[g,b]=v.useState(""),[w,j]=v.useState(1),S=10,[_,C]=v.useState(!1),[k,O]=v.useState(!1),[A,T]=v.useState({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),[$,M]=v.useState(null),U=typeof window<"u"?localStorage.getItem("token"):null,K=v.useCallback(async()=>{try{a(!0),l("");const z=await fetch(Fb.LIST,{headers:{Accept:"application/json",...U?{Authorization:`Bearer ${U}`}:{}},mode:"cors"});if(!z.ok)throw new Error(`HTTP ${z.status}`);const E=await z.json(),L=(Array.isArray(E)?E:(E==null?void 0:E.appointments)||[]).map(Y=>({id:Y.id,title:Y.title,notes:Y.notes,location:Y.location,phone:Y.phone,timezone:Y.timezone,start_at:Y.start_at,end_at:Y.end_at,duration_minutes:Y.duration_minutes,status:Y.status,created_at:Y.created_at,updated_at:Y.updated_at}));L.sort((Y,ce)=>new Date(ce.start_at)-new Date(Y.start_at)),t(L)}catch(z){l((z==null?void 0:z.message)||"Failed to load appointments"),q.error((z==null?void 0:z.message)||"Failed to load appointments")}finally{a(!1)}},[U]);v.useEffect(()=>{K()},[K]);const F=v.useMemo(()=>{let z=[...e];if(c.trim()){const E=c.trim().toLowerCase();z=z.filter(R=>[R.title,R.location,R.phone,R.notes].map(L=>String(L||"").toLowerCase()).some(L=>L.includes(E)))}if(f!=="all"&&(z=z.filter(E=>String(E.status).toLowerCase()===f)),h){const E=new Date(`${h}T00:00:00`);z=z.filter(R=>new Date(R.start_at)>=E)}if(g){const E=new Date(`${g}T23:59:59`);z=z.filter(R=>new Date(R.start_at)<=E)}return z},[e,c,f,h,g]),B=Math.max(1,Math.ceil(F.length/S)),ne=w*S,Ne=ne-S,se=F.slice(Ne,ne);v.useEffect(()=>j(1),[c,f,h,g]);const D=v.useMemo(()=>{const z=e.length,E=e.filter(Y=>Y.status==="scheduled").length,R=e.filter(Y=>Y.status==="completed").length,L=e.filter(Y=>String(Y.status).toLowerCase().startsWith("cancel")).length;return{total:z,scheduled:E,completed:R,cancelled:L}},[e]);async function G(z,E){try{M(z);const R=await fetch(Fb.UPDATE(z),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",...U?{Authorization:`Bearer ${U}`}:{}},body:JSON.stringify({status:E})});if(!R.ok){const L=await R.text();throw new Error(`HTTP ${R.status}${L?`  ${L}`:""}`)}q.success(`Status set to ${E}`),t(L=>L.map(Y=>Y.id===z?{...Y,status:E}:Y))}catch(R){q.error((R==null?void 0:R.message)||"Failed to update status")}finally{M(null)}}async function V(){const z={title:String(A.title||"").trim(),date:String(A.date||"").trim(),time:que(A.time),timezone:String(A.timezone||"Asia/Karachi").trim(),durationMinutes:Math.max(1,parseInt(A.durationMinutes||30)),phone:Kue(A.phone),location:String(A.location||"").trim(),notes:String(A.notes||"").trim()};if(!z.title)return q.error("Title is required");if(!z.date)return q.error("Date is required");if(!z.time||!/^\d{2}:\d{2}$/.test(z.time))return q.error("Time looks invalid");if(!z.location)return q.error("Location is required");if(!z.phone||z.phone.replace(/\D/g,"").length<11)return q.error("Phone looks invalid");try{O(!0);const E=await fetch(Fb.CREATE,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...U?{Authorization:`Bearer ${U}`}:{}},body:JSON.stringify(z)});if(!E.ok){const L=await E.text();throw new Error(`HTTP ${E.status}${L?`  ${L}`:""}`)}const R=await E.json();q.success(" Appointment created"),C(!1),T({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),t(L=>[{id:R.id||crypto.randomUUID(),title:R.title||z.title,notes:R.notes||z.notes,location:R.location||z.location,phone:R.phone||z.phone,timezone:R.timezone||z.timezone,start_at:R.start_at||`${z.date}T${z.time}`,end_at:R.end_at||`${z.date}T${z.time}`,duration_minutes:R.duration_minutes||z.durationMinutes,status:R.status||"scheduled",created_at:R.created_at||new Date().toISOString(),updated_at:R.updated_at||new Date().toISOString()},...L])}catch(E){q.error((E==null?void 0:E.message)||"Failed to create appointment")}finally{O(!1)}}return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(xe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(Ja,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${Hue}`,children:"Appointments"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create, track, and update appointment statuses."})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(ka,{onClick:()=>C(!0),variant:"primary",children:[r.jsx(ts,{className:"mr-2 h-4 w-4"})," New Appointment"]}),r.jsx(ka,{onClick:K,children:n?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Lh,{label:"Total",value:D.total,Icon:Ja,tone:"blue"}),r.jsx(Lh,{label:"Scheduled",value:D.scheduled,Icon:s1,tone:"cyan"}),r.jsx(Lh,{label:"Completed",value:D.completed,Icon:cr,tone:"blue"}),r.jsx(Lh,{label:"Cancelled",value:D.cancelled,Icon:fa,tone:"cyan"})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:c,onChange:z=>d(z.target.value),placeholder:"Search title, phone, location, notes",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[r.jsx(Ic,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("select",{value:f,onChange:z=>m(z.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"scheduled",children:"Scheduled"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]}),r.jsx("input",{type:"date",value:h,onChange:z=>x(z.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),r.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),r.jsx("input",{type:"date",value:g,onChange:z=>b(z.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),(c||f!=="all"||h||g)&&r.jsx(ka,{onClick:()=>{d(""),m("all"),x(""),b("")},className:"text-slate-700",children:"Clear"})]})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:r.jsx(Ja,{className:"h-4 w-4"})}),r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Appointments (",F.length,")"]})]}),n&&r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin"}),"Loading"]})]}),s?r.jsx("div",{className:"p-6 text-sm text-red-600",children:s}):F.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(Ja,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No appointments"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try changing filters or create a new one"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Yo,{children:"Title"}),r.jsx(Yo,{children:"When"}),r.jsx(Yo,{children:"Location"}),r.jsx(Yo,{children:"Phone"}),r.jsx(Yo,{children:"Status"}),r.jsx(Yo,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:se.map(z=>{const E=oc(z.status),R=E.icon;return r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(Wo,{children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:z.title}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",z.id]})]})}),r.jsx(Wo,{children:r.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[r.jsx(gc,{className:"h-4 w-4 text-slate-500"})," ",Aw(z.start_at)]})}),r.jsx(Wo,{children:r.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[r.jsx(Fs,{className:"h-4 w-4 text-slate-500"})," ",z.location||""]})}),r.jsx(Wo,{children:r.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[r.jsx(xt,{className:"h-4 w-4 text-slate-500"})," ",z.phone]})}),r.jsx(Wo,{children:r.jsxs(OT,{className:`border ${E.badge}`,children:[r.jsx(R,{className:"mr-1 h-3.5 w-3.5"})," ",String(z.status).charAt(0).toUpperCase()+String(z.status).slice(1)]})}),r.jsx(Wo,{children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(MT,{current:z.status,onChange:L=>G(z.id,L),busy:$===z.id}),r.jsx(DT,{a:z})]})})]},z.id)})})]})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:se.map(z=>{const E=oc(z.status),R=E.icon;return r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:z.title}),r.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[r.jsx(gc,{className:"h-4 w-4 text-slate-500"})," ",Aw(z.start_at)]}),r.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[r.jsx(Fs,{className:"h-4 w-4 text-slate-500"})," ",z.location||""]}),r.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[r.jsx(xt,{className:"h-4 w-4 text-slate-500"})," ",z.phone]})]}),r.jsxs(OT,{className:`border ${E.badge} shrink-0`,children:[r.jsx(R,{className:"mr-1 h-3.5 w-3.5"})," ",String(z.status).charAt(0).toUpperCase()+String(z.status).slice(1)]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsx(MT,{current:z.status,onChange:L=>G(z.id,L),busy:$===z.id}),r.jsx(DT,{a:z})]}),r.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 break-all",children:["ID #",z.id]})]},z.id)})})}),F.length>S&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("b",{children:Ne+1}),"",r.jsx("b",{children:Math.min(ne,F.length)})," of ",r.jsx("b",{children:F.length})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(ka,{onClick:()=>j(z=>Math.max(1,z-1)),disabled:w===1,children:[r.jsx(ha,{className:"h-4 w-4 mr-1"})," Prev"]}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,B)},(z,E)=>{let R;if(B<=5||w<=3?R=E+1:w>=B-2?R=B-4+E:R=w-2+E,R<1||R>B)return null;const L=w===R;return r.jsx("button",{onClick:()=>j(R),className:`px-3 py-2 text-sm font-semibold rounded-xl ${L?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:R},R)})}),r.jsxs(ka,{onClick:()=>j(z=>Math.min(B,z+1)),disabled:w>=B,children:["Next ",r.jsx(qn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),r.jsx(Tt,{children:_&&r.jsxs(CL,{onClose:()=>C(!1),title:"New Appointment",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(Mi,{label:"Title",children:r.jsx("input",{value:A.title,onChange:z=>T(E=>({...E,title:z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Consultation"})}),r.jsx(Mi,{label:"Phone",children:r.jsx("input",{value:A.phone,onChange:z=>T(E=>({...E,phone:z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+923001234567"})}),r.jsx(Mi,{label:"Date",children:r.jsx("input",{type:"date",value:A.date,onChange:z=>T(E=>({...E,date:z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(Mi,{label:"Time",children:r.jsx("input",{value:A.time,onChange:z=>T(E=>({...E,time:z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"15:30 or 3:30 PM"})}),r.jsx(Mi,{label:"Location",children:r.jsx("input",{value:A.location,onChange:z=>T(E=>({...E,location:z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Clinic, Main St."})}),r.jsx(Mi,{label:"Timezone",children:r.jsx("input",{value:A.timezone,onChange:z=>T(E=>({...E,timezone:z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Asia/Karachi"})}),r.jsx(Mi,{label:"Duration (minutes)",children:r.jsx("input",{type:"number",min:1,max:1440,value:A.durationMinutes,onChange:z=>T(E=>({...E,durationMinutes:z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(Mi,{label:"Notes",children:r.jsx("textarea",{value:A.notes,onChange:z=>T(E=>({...E,notes:z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Any extra details",rows:3})})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[r.jsx(ka,{onClick:()=>C(!1),variant:"subtle",children:"Cancel"}),r.jsx(ka,{onClick:V,disabled:k,variant:"primary",children:k?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"})," Creating"]}):r.jsxs(r.Fragment,{children:[r.jsx(ts,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})]})}function Lh({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsxs(xe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function MT({current:e,onChange:t,busy:n}){const[a,s]=v.useState(!1),l=[{k:"scheduled",label:"Mark Scheduled",tone:oc("scheduled")},{k:"completed",label:"Mark Completed",tone:oc("completed")},{k:"cancelled",label:"Mark Cancelled",tone:oc("cancelled")}],d=oc(e).icon;return r.jsxs("div",{className:"relative",children:[r.jsxs(ka,{onClick:()=>s(f=>!f),size:"sm",className:"min-w-[150px] justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2 text-slate-800",children:[r.jsx(d,{className:"h-4 w-4"})," ",String(e).charAt(0).toUpperCase()+String(e).slice(1)]}),n?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(qn,{className:"h-4 w-4 opacity-60"})]}),r.jsx(Tt,{children:a&&r.jsx(xe.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"absolute z-20 mt-2 w-56 rounded-xl border border-slate-200 bg-white shadow-xl",children:l.map(f=>r.jsxs("button",{onClick:()=>{s(!1),f.k!==e&&t(f.k)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-slate-50",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(f.tone.icon,{className:"h-4 w-4"})," ",f.label]}),String(e)===f.k&&r.jsx(cr,{className:"h-4 w-4 text-emerald-500"})]},f.k))})})]})}function DT({a:e}){const[t,n]=v.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsxs(ka,{onClick:()=>n(!0),size:"sm",children:[r.jsx(Qn,{className:"h-4 w-4 mr-1"})," Details"]}),r.jsx(Tt,{children:t&&r.jsxs(CL,{title:"Appointment Details",onClose:()=>n(!1),children:[r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ja,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"Title:"})," ",e.title]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gc,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"When:"})," ",Aw(e.start_at)]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fs,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"Location:"})," ",e.location||""]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xt,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.phone]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gc,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"Duration:"})," ",e.duration_minutes," min"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(VB,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"Notes:"})," ",e.notes||""]}),r.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",e.id]})]}),r.jsx("div",{className:"mt-5 text-right",children:r.jsx(ka,{onClick:()=>n(!1),variant:"primary",children:"Close"})})]})})]})}function Yue(...e){return e.filter(Boolean).join(" ")}const RT="https://aisdr-dbt.ddns.net";function Wue({onClick:e}){const t=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return r.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[r.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),r.jsxs(xe.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),r.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),r.jsxs("filter",{id:"glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx(xe.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),r.jsx(xe.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),r.jsx(xe.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function Xue({className:e="",onMenuToggle:t,profilePath:n="/admin/settings"}){const[a,s]=v.useState(""),[l,c]=v.useState(null),[d,f]=v.useState(!1),m=Gt();v.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),v.useEffect(()=>{const b=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${RT}/api/profile-photo`,{headers:b?{Authorization:`Bearer ${b}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const _=await S.json();let C=_==null?void 0:_.photo_url;if(C){/^https?:\/\//i.test(C)||(C=`${RT}${C.startsWith("/")?"":"/"}${C}`);const k=(C.includes("?")?"&":"?")+"t="+Date.now();c(C+k),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=b=>b.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:b=40})=>{const w=b;return r.jsxs("button",{type:"button",onClick:()=>m(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[r.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?r.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):r.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(a)})}),r.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),r.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},g=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return r.jsxs("header",{className:Yue("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[r.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:r.jsxs("div",{className:"flex items-center justify-between h-full",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[r.jsx(Wue,{onClick:g}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"hidden lg:block",children:[r.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),r.jsxs("div",{className:"relative",children:[r.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Control center for users, leads & calls"}),r.jsx(xe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),r.jsxs("div",{className:"hidden sm:block lg:hidden",children:[r.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),r.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Insights & controls"})]}),r.jsxs("div",{className:"sm:hidden relative",children:[r.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),r.jsx(xe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[r.jsxs(xe.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[r.jsx("div",{className:"relative",children:r.jsx(x,{size:40})}),r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome!"}),r.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:a})]})]}),r.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[r.jsx(x,{size:32}),r.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:a})]}),r.jsx("div",{className:"sm:hidden",children:r.jsx(x,{size:36})}),r.jsxs(xe.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[r.jsx(u0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),r.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),r.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function Zue({compact:e=!1}){const t=v.useMemo(()=>[{text:"Make Calls",Icon:xt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Ja,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:Nj,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:ir,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Ja,from:"#22D3EE",to:"#2563EB"}],[]),[n,a]=v.useState(0),[s,l]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{const x=t[n].text,g=40,b=28,w=1100;let j;return!c&&s.length<x.length?j=setTimeout(()=>l(x.slice(0,s.length+1)),g):!c&&s.length===x.length?j=setTimeout(()=>d(!0),w):c&&s.length>0?j=setTimeout(()=>l(x.slice(0,s.length-1)),b):c&&s.length===0&&(d(!1),a(S=>(S+1)%t.length)),()=>clearTimeout(j)},[s,c,n,t]);const{Icon:f,from:m,to:h}=t[n];return r.jsxs("div",{className:`relative flex items-center ${e?"justify-center p-3 sm:p-4":"p-4 sm:p-6"}`,children:[r.jsxs("div",{className:"relative mr-0 sm:mr-3",children:[r.jsx(xe.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:r.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),r.jsx(xe.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[r.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:s}),r.jsx(xe.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),r.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function Que(){const[e,t]=v.useState(!1),[n,a]=v.useState(!1),[s,l]=v.useState(!1),c=os(),d=Gt();v.useEffect(()=>{const h=()=>{const x=window.innerWidth;l(x<768),t(x<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),v.useEffect(()=>{a(!1)},[c.pathname]),v.useEffect(()=>{const h=()=>{s?a(x=>!x):t(x=>!x)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[s]);const f=[{id:"dashboard",label:"Dashboard",icon:Iw,href:"/admin/dashboard",color:"text-blue-600"},{id:"users",label:"Users",icon:ir,href:"/admin/Users",color:"text-blue-600"},{id:"phoneNumbers",label:"Call Details",icon:xt,href:"/admin/PhoneCalls",color:"text-orange-600"},{id:"leads",label:"Leads",icon:ir,href:"/admin/lead",color:"text-purple-600"},{id:"Phone Numbers",label:"Phone Numbers",icon:ir,href:"/admin/callhistory",color:"text-purple-600"}],m=()=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:r.jsx(Zue,{compact:e&&!s})}),r.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:f.map(h=>{const x=h.icon,g=c.pathname===h.href;return r.jsxs("button",{type:"button",onClick:()=>d(h.href),className:`group relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation ${g?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"} ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"} ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?h.label:"",children:[g&&!e&&r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),r.jsx(x,{className:`flex-shrink-0 transition-all duration-200 ${e&&!s?"w-6 h-6":"w-5 h-5"} ${g?h.color:"text-slate-500 group-hover:text-slate-700"} ${g?"scale-110":"group-hover:scale-105"}`}),(!e||s)&&r.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base",children:h.label}),g&&(!e||s)&&r.jsx("div",{className:"ml-auto flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!s&&r.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:r.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?r.jsx(qn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):r.jsxs(r.Fragment,{children:[r.jsx(ha,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),r.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return r.jsxs(r.Fragment,{children:[!s&&r.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:r.jsx("div",{className:"flex flex-col h-full",children:r.jsx(m,{})})}),s&&r.jsxs("div",{className:"md:hidden",children:[n&&r.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>a(!1),"aria-hidden":"true"}),r.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:r.jsx("div",{className:"flex flex-col h-full",children:r.jsx(m,{})})})]})]})}function Jue(){return r.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[r.jsx(Que,{}),r.jsxs("div",{className:"flex flex-1 flex-col",children:[r.jsx(Xue,{className:"h-16 border-b"}),r.jsx("main",{className:"flex-1 p-6",children:r.jsx(x6,{})})]})]})}const Vb={},Tl="https://aisdr-dbt.ddns.net",ede=(Vb==null?void 0:Vb.VITE_AFTER_IMPERSONATE_PATH)||"/",Di={USERS:`${Tl}/api/admin/users`,USER:e=>`${Tl}/api/admin/users/${e}`,USER_DETAILS:e=>`${Tl}/api/admin/users/${e}/details`,USER_PHOTO_DELETE:e=>`${Tl}/api/admin/users/${e}/profile-photo`,RESET_PASSWORD:e=>`${Tl}/api/admin/users/${e}/reset-password`,IMPERSONATE_LOGIN_AS:`${Tl}/api/admin/impersonate/login-as`},tde="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",$h=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${Tl}${t}`},Hb=e=>e==="admin"?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200";function cd({children:e,className:t=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function nde(){return r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function yt({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function rde(){var mr,ri;const[e,t]=v.useState([]),[n,a]=v.useState({total:0,admins:0,verified:0,withPhoto:0}),[s,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(null),[h,x]=v.useState(""),[g,b]=v.useState("all"),[w,j]=v.useState("all"),[S,_]=v.useState(1),C=10,[k,O]=v.useState(!1),[A,T]=v.useState(null),[$,M]=v.useState(!1),[U,K]=v.useState(null),[F,B]=v.useState(!1),[ne,Ne]=v.useState(!1),[se,D]=v.useState(null),[G,V]=v.useState(!1),[z,E]=v.useState(!1),[R,L]=v.useState(null),[Y,ce]=v.useState({name:"",email:"",role:"user",setPasswordManually:!1,password:""}),[Q,H]=v.useState(null),[ge,te]=v.useState(!1),[he,Se]=v.useState(null),[be,ue]=v.useState(!1),[$e,ze]=v.useState(""),[et,W]=v.useState(null),[oe,X]=v.useState(null),[je,Ee]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),qe=v.useCallback(async()=>{if(je){t([]),a({total:0,admins:0,verified:0,withPhoto:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const fe=localStorage.getItem("token");if(!fe){t([]),a({total:0,admins:0,verified:0,withPhoto:0}),d("No auth token found."),q.error("No authentication token found.");return}try{l(!0),d("");const Z=await fetch(Di.USERS,{headers:{Authorization:`Bearer ${fe}`,Accept:"application/json"},mode:"cors"});if(!Z.ok){const at=await Z.text();throw new Error(`HTTP ${Z.status}${at?`  ${at}`:""}`)}const ee=await Z.json();if(!(ee!=null&&ee.success)||!Array.isArray(ee==null?void 0:ee.users))throw new Error("Unexpected response shape.");const ae=(ee.users||[]).map(at=>({id:at.id,name:at.name||"",email:at.email||"",email_verified:!!at.email_verified,role:at.role||"user",profile_photo_url:$h(at.profile_photo_url||at.profile_photo)}));ae.sort((at,Ct)=>at.name.localeCompare(Ct.name)),t(ae);const Ve=ae.filter(at=>at.role==="admin").length,Qe=ae.filter(at=>at.email_verified).length,mt=ae.filter(at=>!!at.profile_photo_url).length;a({total:ee.total_users??ae.length,admins:Ve,verified:Qe,withPhoto:mt})}catch(Z){d((Z==null?void 0:Z.message)||"Failed to load users"),q.error((Z==null?void 0:Z.message)||"Failed to load users")}finally{l(!1)}},[je]);v.useEffect(()=>{qe()},[qe]);const Te=v.useMemo(()=>{let fe=[...e];if(h.trim()){const Z=h.trim().toLowerCase();fe=fe.filter(ee=>String(ee.name||"").toLowerCase().includes(Z)||String(ee.email||"").toLowerCase().includes(Z))}return g!=="all"&&(fe=fe.filter(Z=>Z.role===g)),w!=="all"&&(fe=fe.filter(Z=>w==="verified"?Z.email_verified:!Z.email_verified)),fe},[e,h,g,w]),tt=Math.max(1,Math.ceil(Te.length/C)),We=S*C,we=We-C,Pe=Te.slice(we,We);v.useEffect(()=>{_(1)},[h,g,w]);const Me=fe=>{T({id:fe.id,name:fe.name,email:fe.email,role:fe.role}),O(!0)},Oe=async()=>{if(!A)return;const fe=localStorage.getItem("token");if(!fe)return q.error("No authentication token found.");const Z={name:String(A.name||"").trim(),email:String(A.email||"").trim(),role:A.role==="admin"?"admin":"user"};try{M(!0);const ee=await fetch(Di.USER(A.id),{method:"PUT",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Z)}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);q.success(" User updated"),O(!1),T(null),t(Ve=>Ve.map(Qe=>{var mt;return Qe.id===((mt=ae.updated_user)==null?void 0:mt.id)?{...Qe,name:ae.updated_user.name,email:ae.updated_user.email,role:ae.updated_user.role,profile_photo_url:$h(ae.updated_user.profile_photo_url||ae.updated_user.profile_photo)}:Qe})),qe()}catch(ee){q.error((ee==null?void 0:ee.message)||"Update failed")}finally{M(!1)}},Le=fe=>K(fe),ot=async()=>{const fe=U;if(!fe)return;const Z=localStorage.getItem("token");if(!Z)return q.error("No authentication token found.");try{m(fe);const ee=await fetch(Di.USER(fe),{method:"DELETE",headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);q.success(" User deleted"),t(Ve=>Ve.filter(Qe=>Qe.id!==fe)),a(Ve=>({...Ve,total:Math.max(0,Ve.total-1)})),K(null)}catch(ee){q.error((ee==null?void 0:ee.message)||"Delete failed")}finally{m(null)}},Nt=async fe=>{const Z=localStorage.getItem("token");if(!Z){q.error("No authentication token found.");return}try{B(!0),Ne(!0),D(null);const ee=await fetch(Di.USER_DETAILS(fe.id),{headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);D(ae.details)}catch(ee){q.error((ee==null?void 0:ee.message)||"Failed to load details")}finally{Ne(!1)}},tr=async fe=>{const Z=localStorage.getItem("token");if(!Z)return q.error("No authentication token found.");try{W(fe);const ee=await fetch(Di.USER_PHOTO_DELETE(fe),{method:"DELETE",headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);q.success(" Profile photo removed"),t(Ve=>Ve.map(Qe=>Qe.id===fe?{...Qe,profile_photo_url:null}:Qe)),a(Ve=>({...Ve,withPhoto:Math.max(0,Ve.withPhoto-1)}))}catch(ee){q.error((ee==null?void 0:ee.message)||"Failed to remove photo")}finally{W(null)}},fr=async()=>{const fe=localStorage.getItem("token");if(!fe)return q.error("No authentication token found.");const Z={name:Y.name.trim(),email:Y.email.trim(),role:Y.role,password:Y.setPasswordManually?(Y.password||"").trim():null};if(!Z.name||!Z.email)return q.error("Name and email are required.");if(Y.setPasswordManually&&Z.password.length<6)return q.error("Password must be at least 6 characters.");try{E(!0);const ee=await fetch(Di.USERS,{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Z)}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);const Ve=ae.created_user,Qe={id:Ve.id,name:Ve.name,email:Ve.email,role:Ve.role||"user",email_verified:!!Ve.email_verified,profile_photo_url:$h(Ve.profile_photo_url||Ve.profile_photo)};t(mt=>[Qe,...mt].sort((at,Ct)=>at.name.localeCompare(Ct.name))),a(mt=>({...mt,total:mt.total+1,admins:mt.admins+(Qe.role==="admin"?1:0),verified:mt.verified+(Qe.email_verified?1:0),withPhoto:mt.withPhoto+(Qe.profile_photo_url?1:0)})),ae.initial_password?L(ae.initial_password):q.success(" User created"),V(!1),ce({name:"",email:"",role:"user",setPasswordManually:!1,password:""})}catch(ee){q.error((ee==null?void 0:ee.message)||"Create failed")}finally{E(!1)}},bn=async()=>{if(!Q)return;const fe=localStorage.getItem("token");if(!fe)return q.error("No authentication token found.");const Z=be&&$e?{new_password:$e}:{new_password:null};try{te(!0);const ee=await fetch(Di.RESET_PASSWORD(Q),{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Z)}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);ae.new_password?Se(ae.new_password):(q.success(" Password updated"),H(null),ze(""),ue(!1))}catch(ee){q.error((ee==null?void 0:ee.message)||"Reset failed")}finally{te(!1)}},Ln=async fe=>{const Z=localStorage.getItem("token");if(!Z)return q.error("No authentication token found.");try{X(fe.id);const ee=await fetch(Di.IMPERSONATE_LOGIN_AS,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:fe.id,reason:"Admin impersonation from Users panel"})}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);const{token:Ve,acting_as:Qe,impersonated_by:mt}=ae;localStorage.setItem("admin_token_backup",Z),localStorage.setItem("token",Ve),localStorage.setItem("impersonation_info",JSON.stringify({acting_as:Qe,impersonated_by:mt,started_at:Date.now()})),q.success(` Now impersonating ${(Qe==null?void 0:Qe.email)||"user"}`),window.location.assign(ede)}catch(ee){q.error((ee==null?void 0:ee.message)||"Impersonation failed")}finally{X(null)}},$n=()=>{const fe=localStorage.getItem("admin_token_backup");if(!fe){q.error("No admin backup token found.");return}localStorage.setItem("token",fe),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),Ee(null),q.success(" Exited impersonation"),window.location.reload()};return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[je&&r.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:r.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[r.jsx(Wm,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),r.jsxs("span",{className:"truncate",children:["Acting as ",r.jsx("b",{className:"break-all",children:(mr=je.acting_as)==null?void 0:mr.email})]})]}),r.jsxs(yt,{onClick:$n,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[r.jsx(u0,{className:"mr-2 h-4 w-4"}),"Exit"]})]})}),r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(xe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(ir,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${tde}`,children:"User Management"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create users, manage roles, inspect assets, and impersonate users."})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(yt,{onClick:()=>V(!0),disabled:!!je,variant:"primary",children:[r.jsx(ts,{className:"mr-2 h-4 w-4"}),"Add User"]}),r.jsx(yt,{onClick:qe,disabled:s||!!je,children:s?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Ih,{label:"Total Users",value:n.total,Icon:ir,tone:"blue"}),r.jsx(Ih,{label:"Admins",value:n.admins,Icon:gv,tone:"cyan"}),r.jsx(Ih,{label:"Verified",value:n.verified,Icon:cr,tone:"blue"}),r.jsx(Ih,{label:"With Photo",value:n.withPhoto,Icon:Qz,tone:"cyan"})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:h,onChange:fe=>x(fe.target.value),placeholder:"Search by name or email",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!je})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[r.jsx(Ic,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("select",{value:g,onChange:fe=>b(fe.target.value),disabled:!!je,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"all",children:"All roles"}),r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]}),r.jsxs("select",{value:w,onChange:fe=>j(fe.target.value),disabled:!!je,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"verified",children:"Verified"}),r.jsx("option",{value:"unverified",children:"Unverified"})]}),(h||g!=="all"||w!=="all")&&r.jsx(yt,{onClick:()=>{x(""),b("all"),j("all")},className:"text-slate-700",disabled:!!je,children:"Clear"})]})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:r.jsx(ir,{className:"h-4 w-4"})}),r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Users (",Te.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),je?r.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:r.jsx(Wm,{className:"h-9 w-9 text-amber-500"})}),r.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),r.jsx("div",{className:"mt-3",children:r.jsxs(yt,{onClick:$n,variant:"primary",children:[r.jsx(u0,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?r.jsxs("div",{className:"grid place-content-center py-16",children:[r.jsx(Xe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading users"})]}):Te.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(ir,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(ud,{children:"User"}),r.jsx(ud,{children:"Email"}),r.jsx(ud,{children:"Role"}),r.jsx(ud,{children:"Status"}),r.jsx(ud,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:Pe.map(fe=>r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(dd,{children:r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(qb,{url:fe.profile_photo_url,name:fe.name}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:fe.name}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",fe.id]})]})]})}),r.jsx(dd,{children:r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[r.jsx(Ra,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),r.jsx("span",{className:"text-xs font-medium break-words",children:fe.email})]})}),r.jsx(dd,{children:r.jsx(cd,{className:`border ${Hb(fe.role)}`,children:fe.role==="admin"?r.jsxs(r.Fragment,{children:[r.jsx(gv,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fd,{className:"mr-1 h-3.5 w-3.5"})," User"]})})}),r.jsx(dd,{children:fe.email_verified?r.jsxs(cd,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[r.jsx(cr,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):r.jsxs(cd,{className:"border bg-red-100 text-red-700 border-red-200",children:[r.jsx(fa,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})}),r.jsx(dd,{children:r.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[r.jsx(yt,{onClick:()=>Nt(fe),variant:"outline",size:"sm",title:"View details",children:r.jsx(Qn,{className:"h-4 w-4"})}),r.jsx(yt,{onClick:()=>Me(fe),variant:"outline",size:"sm",title:"Edit",children:r.jsx(_d,{className:"h-4 w-4"})}),r.jsx(yt,{onClick:()=>H(fe.id),variant:"subtle",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",title:"Reset password",children:r.jsx(Ym,{className:"h-4 w-4"})}),r.jsx(yt,{onClick:()=>Ln(fe),disabled:oe===fe.id,variant:"subtle",size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50",title:"Login as this user",children:oe===fe.id?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(Wm,{className:"h-4 w-4"})}),r.jsx(yt,{onClick:()=>Le(fe.id),variant:"danger",size:"sm",title:"Delete",children:f===fe.id?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(Jn,{className:"h-4 w-4"})}),fe.profile_photo_url?r.jsx(yt,{onClick:()=>tr(fe.id),disabled:et===fe.id,variant:"subtle",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",title:"Remove profile photo",children:et===fe.id?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(N5,{className:"h-4 w-4"})}):null]})})]},fe.id))})]})})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Pe.map((fe,Z)=>r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Z===0&&r.jsx(nde,{}),r.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[r.jsx(qb,{size:48,url:fe.profile_photo_url,name:fe.name}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:fe.name}),r.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-slate-600 min-w-0",children:[r.jsx(Ra,{className:"h-4 w-4 text-slate-500 shrink-0"}),r.jsx("span",{className:"truncate break-words",children:fe.email})]}),r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border ${Hb(fe.role)} text-[11px] font-semibold`,children:fe.role==="admin"?r.jsxs(r.Fragment,{children:[r.jsx(gv,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fd,{className:"mr-1 h-3.5 w-3.5"})," User"]})}),fe.email_verified?r.jsxs(cd,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[r.jsx(cr,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):r.jsxs(cd,{className:"border bg-red-100 text-red-700 border-red-200",children:[r.jsx(fa,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})]})]})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsxs(yt,{onClick:()=>Nt(fe),size:"sm",className:"grow sm:grow-0",children:[r.jsx(Qn,{className:"h-4 w-4 mr-1"}),"View"]}),r.jsxs(yt,{onClick:()=>Me(fe),size:"sm",className:"grow sm:grow-0",children:[r.jsx(_d,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(yt,{onClick:()=>H(fe.id),size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 grow sm:grow-0",children:[r.jsx(Ym,{className:"h-4 w-4 mr-1"}),"Reset"]}),r.jsx(yt,{onClick:()=>Ln(fe),disabled:oe===fe.id,size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 grow sm:grow-0",title:"Login as this user",children:oe===fe.id?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-1"})," Acting"]}):r.jsxs(r.Fragment,{children:[r.jsx(Wm,{className:"h-4 w-4 mr-1"})," Login as"]})}),r.jsx(yt,{onClick:()=>Le(fe.id),variant:"danger",size:"sm",className:"grow sm:grow-0",children:f===fe.id?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):r.jsxs(r.Fragment,{children:[r.jsx(Jn,{className:"h-4 w-4 mr-1"})," Delete"]})}),fe.profile_photo_url&&r.jsx(yt,{onClick:()=>tr(fe.id),disabled:et===fe.id,className:"w-full border-amber-200 text-amber-700 hover:bg-amber-50",children:et===fe.id?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Removing photo"]}):r.jsxs(r.Fragment,{children:[r.jsx(N5,{className:"h-4 w-4 mr-2"}),"Remove photo"]})})]}),r.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",fe.id]})]},fe.id))})}),Te.length>C&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("b",{children:we+1}),"",r.jsx("b",{children:Math.min(We,Te.length)})," of"," ",r.jsx("b",{children:Te.length})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(yt,{onClick:()=>_(fe=>Math.max(1,fe-1)),disabled:S===1,children:[r.jsx(ha,{className:"h-4 w-4 mr-1"}),"Prev"]}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,tt)},(fe,Z)=>{let ee;if(tt<=5||S<=3?ee=Z+1:S>=tt-2?ee=tt-4+Z:ee=S-2+Z,ee<1||ee>tt)return null;const ae=S===ee;return r.jsx("button",{onClick:()=>_(ee),className:`px-3 py-2 text-sm font-semibold rounded-xl ${ae?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:ee},ee)})}),r.jsxs(yt,{onClick:()=>_(fe=>Math.min(tt,fe+1)),disabled:S>=tt,children:["Next ",r.jsx(qn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),r.jsx(Tt,{children:G&&r.jsxs(hd,{onClose:()=>V(!1),title:"Add User",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Xo,{label:"Name",children:r.jsx("input",{value:Y.name,onChange:fe=>ce(Z=>({...Z,name:fe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter full name"})}),r.jsx(Xo,{label:"Email",children:r.jsx("input",{type:"email",value:Y.email,onChange:fe=>ce(Z=>({...Z,email:fe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),r.jsx(Xo,{label:"Role",children:r.jsxs("select",{value:Y.role,onChange:fe=>ce(Z=>({...Z,role:fe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]})}),r.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:Y.setPasswordManually,onChange:fe=>ce(Z=>({...Z,setPasswordManually:fe.target.checked,password:fe.target.checked?Z.password:""}))}),r.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),Y.setPasswordManually&&r.jsx("div",{className:"mt-3",children:r.jsx("input",{type:"text",value:Y.password,onChange:fe=>ce(Z=>({...Z,password:fe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter initial password"})})]})]}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[r.jsx(yt,{onClick:()=>V(!1),variant:"subtle",children:"Cancel"}),r.jsx(yt,{onClick:fr,disabled:z||!Y.name.trim()||!Y.email.trim()||Y.setPasswordManually&&Y.password.trim().length<6,variant:"primary",children:z?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):r.jsxs(r.Fragment,{children:[r.jsx(ts,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),r.jsx(Tt,{children:R&&r.jsxs(hd,{onClose:()=>L(null),title:"Initial Password",children:[r.jsx("div",{className:"text-sm text-slate-700",children:"This user was created with an auto-generated password. Copy it now and share securely."}),r.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx(Ym,{className:"h-4 w-4 text-slate-600"}),r.jsx("code",{className:"font-mono text-slate-900 break-all",children:R}),r.jsxs(yt,{onClick:()=>{navigator.clipboard.writeText(R),q.success("Copied!")},className:"ml-auto",children:[r.jsx(Bd,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(yt,{onClick:()=>L(null),variant:"primary",children:"Got it"})})]})}),r.jsx(Tt,{children:k&&A&&r.jsxs(hd,{onClose:()=>O(!1),title:"Edit User",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Xo,{label:"Name",children:r.jsx("input",{value:A.name,onChange:fe=>T(Z=>({...Z,name:fe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})}),r.jsx(Xo,{label:"Email",children:r.jsx("input",{type:"email",value:A.email,onChange:fe=>T(Z=>({...Z,email:fe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email"})}),r.jsx(Xo,{label:"Role",children:r.jsxs("select",{value:A.role,onChange:fe=>T(Z=>({...Z,role:fe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]})})]}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[r.jsx(yt,{onClick:()=>O(!1),variant:"subtle",children:"Cancel"}),r.jsx(yt,{onClick:Oe,disabled:$||!A.name||!A.email,variant:"primary",children:$?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),r.jsx(Tt,{children:U&&r.jsxs(hd,{onClose:()=>K(null),title:"Confirm Delete",children:[r.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete"," ",r.jsx("b",{className:"break-words",children:((ri=e.find(fe=>fe.id===U))==null?void 0:ri.name)||"this user"}),"? This action cannot be undone."]}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[r.jsx(yt,{onClick:()=>K(null),variant:"subtle",children:"Cancel"}),r.jsx(yt,{onClick:ot,disabled:f===U,variant:"danger",children:f===U?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):"Delete"})]})]})}),r.jsx(Tt,{children:Q&&r.jsx(hd,{onClose:()=>{H(null),Se(null),ue(!1),ze("")},title:"Reset Password",children:he?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-sm text-slate-700",children:"Auto-generated password. Copy it now and share securely."}),r.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx(Ym,{className:"h-4 w-4 text-slate-600"}),r.jsx("code",{className:"font-mono text-slate-900 break-all",children:he}),r.jsxs(yt,{onClick:()=>{navigator.clipboard.writeText(he),q.success("Copied!")},className:"ml-auto",children:[r.jsx(Bd,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(yt,{onClick:()=>{H(null),Se(null)},variant:"primary",children:"Done"})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:be,onChange:fe=>ue(fe.target.checked)}),r.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),be&&r.jsx("input",{type:"text",value:$e,onChange:fe=>ze(fe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter new password"})]}),r.jsxs("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[r.jsx(yt,{onClick:()=>{H(null),ue(!1),ze("")},variant:"subtle",children:"Cancel"}),r.jsx(yt,{onClick:bn,disabled:ge||be&&$e.trim().length<6,variant:"primary",children:ge?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Reset"})]})]})})}),r.jsx(Tt,{children:F&&r.jsx(ade,{onClose:()=>B(!1),title:"User Details",children:ne?r.jsxs("div",{className:"grid place-content-center h-48",children:[r.jsx(Xe,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-2"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading details"})]}):se?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(qb,{url:$h(se.user.profile_photo_url||se.user.profile_photo),name:se.user.name,size:48}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-bold text-slate-900 truncate",children:se.user.name}),r.jsx("div",{className:"text-sm text-slate-600 break-words",children:se.user.email}),r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border text-xs font-semibold ${Hb(se.user.role)}`,children:se.user.role})})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[r.jsx(fd,{label:"Phone Numbers",value:se.counts.purchased_numbers}),r.jsx(fd,{label:"Assistants",value:se.counts.assistants}),r.jsx(fd,{label:"Call Logs",value:se.counts.call_logs}),r.jsx(fd,{label:"Documents",value:se.counts.documents}),r.jsx(fd,{label:"Leads",value:se.counts.leads})]}),r.jsx(md,{title:"Phone Numbers",items:(se.purchased_numbers||[]).map(fe=>({k:fe.id,primary:fe.phone_number,secondary:fe.iso_country||fe.region||"",badge:fe.friendly_name}))}),r.jsx(md,{title:"Assistants",items:(se.assistants||[]).map(fe=>({k:fe.id,primary:fe.name||fe.vapi_assistant_id,secondary:fe.provider||fe.model||"",badge:fe.category}))}),r.jsx(md,{title:"Documents",items:(se.documents||[]).map(fe=>({k:fe.id,primary:fe.file_name,secondary:fe.vapi_file_id}))}),r.jsx(md,{title:"Leads",items:(se.leads||[]).map(fe=>({k:fe.id,primary:`${fe.first_name||""} ${fe.last_name||""}`.trim()||fe.email,secondary:(fe.email||fe.mobile||"").toString(),badge:fe.state||fe.timezone}))}),r.jsx(md,{title:"Call Logs",items:(se.call_logs||[]).map(fe=>({k:fe.id,primary:fe.customer_name||fe.customer_number||fe.call_id,secondary:`${fe.status||""}  ${fe.call_duration||0}s`}))})]}):r.jsx("div",{className:"text-sm text-slate-600",children:"No details."})})})]})}function Ih({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsxs(xe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function qb({url:e,name:t,size:n=38}){const[a,s]=v.useState(!1),l=(t||"?").split(" ").map(d=>d.charAt(0)).join("").toUpperCase().slice(0,2),c=a||!e;return r.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:n,height:n},children:c?r.jsx("span",{style:{fontSize:n<40?12:13},children:l}):r.jsx("img",{src:e,alt:t,width:n,height:n,className:"h-full w-full object-cover max-w-full",onError:()=>s(!0)})})}function ud({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function dd({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Xo({label:e,children:t}){return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function fd({label:e,value:t}){return r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-xs text-slate-500",children:e}),r.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:t})]})}function md({title:e,items:t}){const n=(t||[]).slice(0,5);return n.length===0?null:r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:e}),r.jsx("div",{className:"space-y-2",children:n.map(a=>r.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-semibold text-slate-800 truncate",children:a.primary}),r.jsx("div",{className:"text-xs text-slate-500 break-words",children:a.secondary})]}),a.badge&&r.jsx("span",{className:"ml-3 shrink-0 rounded-full border border-slate-300 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:a.badge})]},a.k))})]})}function hd({children:e,onClose:t,title:n}){return r.jsxs(xe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(xe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(yt,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:r.jsx(dr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function ade({children:e,onClose:t,title:n}){return r.jsxs(xe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),r.jsxs(xe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(yt,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:r.jsx(dr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const pd="https://aisdr-dbt.ddns.net",sde=[`${pd}/api/admin/basic-admin-stats`,`${pd}/basic-admin-stats`,`${pd}/api/basic-admin-stats`,`${pd}/statistics`,`${pd}/api/statistics`],Yn={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",light:"#e6f6ff"},i0="3 3";function ide(){const[e,t]=v.useState({width:0,height:0});return v.useEffect(()=>{const n=()=>t({width:window.innerWidth,height:window.innerHeight});return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function kL(e){const t=Number(e||0);return t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k":t.toLocaleString()}function LT(e={},t="name",n="value"){return Object.entries(e||{}).map(([a,s])=>({[t]:String(a),[n]:Number(s||0)}))}function wl(e){const n=Math.max(0,Number(e)||0),a=Array.from({length:12},(s,l)=>{const c=l/11,d=Math.sin(c*Math.PI)*.45,f=(Math.random()-.5)*.14,m=Math.max(0,Math.round(n*(.55+d+f)));return{label:`P${l+1}`,value:m}});return a.length&&(a[a.length-1].value=n),a}async function lde(){var n;const e=localStorage.getItem("token")||localStorage.getItem("auth_token");let t;for(const a of sde)try{const s=await fetch(a,{headers:{Accept:"application/json",...e?{Authorization:`Bearer ${e}`}:{}},mode:"cors"});if(!s.ok){t=new Error(`HTTP ${s.status}`);continue}const l=await s.json();if(l!=null&&l.success&&((n=l==null?void 0:l.stats)!=null&&n.totals)||l)return l}catch(s){t=s}throw t||new Error("Failed to fetch stats")}function ode({value:e,className:t}){const n=wc(0),[a,s]=v.useState(0);return v.useEffect(()=>{const l=Hq(n,Number(e||0),{duration:.5,ease:"easeOut"}),c=n.on("change",d=>s(Math.round(d)));return()=>{l.stop(),c()}},[e]),r.jsx("span",{className:t,children:kL(a)})}function cde({points:e,width:t,height:n}){if(!e||!e[0])return null;const a=e[0].x;return r.jsxs("g",{children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),r.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),r.jsxs("filter",{id:"neonGlowLine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"2",result:"b"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"b"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx("line",{x1:a,x2:a,y1:0,y2:n,stroke:"url(#neonStroke)",strokeWidth:2,opacity:.85,filter:"url(#neonGlowLine)"})]})}function Kb(e){const{x:t,y:n,width:a,height:s}=e;return r.jsxs("g",{children:[r.jsx("defs",{children:r.jsxs("filter",{id:"neonGlowRect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"b"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),r.jsx("rect",{x:t,y:n,width:a,height:s,fill:"rgba(34,211,238,0.18)",stroke:"rgba(37,99,235,0.6)",strokeWidth:1,rx:8,filter:"url(#neonGlowRect)"})]})}function $T(e){const{cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c,fill:d}=e;return r.jsxs("g",{children:[r.jsx("defs",{children:r.jsxs("filter",{id:"neonGlowPie",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"b"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"b"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),r.jsx(Gj,{cx:t,cy:n,innerRadius:a,outerRadius:s+6,startAngle:l,endAngle:c,fill:d,stroke:"#ffffff",strokeWidth:2,filter:"url(#neonGlowPie)"})]})}function Zo({title:e,right:t,children:n,className:a=""}){return r.jsxs("div",{className:`relative rounded-3xl border border-slate-200 bg-white p-5 sm:p-6 shadow-xl overflow-hidden ${a}`,children:[r.jsx(ude,{}),r.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[r.jsx("h2",{className:"text-sm sm:text-base font-semibold text-slate-700",children:e}),t]}),n]})}function ude(){return r.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[r.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:`linear-gradient(90deg, ${Yn.cyan}33, transparent)`,filter:"blur(22px)",opacity:.6}}),r.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function dde({label:e,value:t,icon:n,color:a,series:s,badge:l="Live",loading:c}){const d=wc(0),f=wc(0),m=p0(f,[-60,60],[10,-10]),h=p0(d,[-60,60],[-10,10]),x=v.useRef(null);return r.jsxs(xe.div,{ref:x,onMouseMove:g=>{var w;const b=(w=x.current)==null?void 0:w.getBoundingClientRect();b&&(d.set(g.clientX-b.left-b.width/2),f.set(g.clientY-b.top-b.height/2))},onMouseLeave:()=>{d.set(0),f.set(0)},style:{rotateX:m,rotateY:h},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl transition-transform duration-300",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${a}66, #ffffff00)`}}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:r.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7",style:{color:a}})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900",children:c?r.jsx(fde,{}):r.jsx(ode,{value:t})}),l&&r.jsx("span",{className:"hidden xs:inline-flex rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[9px] sm:text-[10px] font-semibold text-white shadow-sm",children:l})]})]})]}),r.jsx("div",{className:"mt-3 h-[110px] xs:h-[130px] sm:h-[140px] md:h-[160px]",children:c?r.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):r.jsx(Qa,{width:"100%",height:"100%",children:r.jsxs(jN,{data:s,margin:{top:2,right:8,left:-10,bottom:0},children:[r.jsx("defs",{children:r.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),r.jsx(Fi,{strokeDasharray:i0,strokeOpacity:.12}),r.jsx(Is,{dataKey:"label",hide:!0}),r.jsx(zs,{hide:!0,domain:[0,"dataMax+"]}),r.jsx(Za,{contentStyle:{borderRadius:12},cursor:r.jsx(cde,{})}),r.jsx(Zp,{type:"monotone",dataKey:"value",stroke:a,strokeWidth:2.2,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"}})]})})})]})]})}function fde(){return r.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function mde(){const{width:e}=ide(),t=e<768,[n,a]=v.useState(!0),[s,l]=v.useState(""),[c,d]=v.useState(null),[f,m]=v.useState(null),[h,x]=v.useState(null),[g,b]=v.useState({users:0,leads:0,files:0,knowledge_base_documents:0,assistants:0,phone_numbers:0,call_logs:0}),[w,j]=v.useState({}),[S,_]=v.useState({attached_to_assistant:0,unattached:0}),[C,k]=v.useState({transferred:0,not_transferred:0,by_status:{}}),O=async()=>{try{a(!0),l("");const F=await lde(),B=(F==null?void 0:F.stats)||F||{},ne=(B==null?void 0:B.totals)||{};b({users:Number(ne.users||0),leads:Number(ne.leads||0),files:Number(ne.files||0),knowledge_base_documents:Number(ne.knowledge_base_documents||0),assistants:Number(ne.assistants||0),phone_numbers:Number(ne.phone_numbers||0),call_logs:Number(ne.call_logs||0)}),j((B==null?void 0:B.users_by_role)||{}),_((B==null?void 0:B.phone_numbers)||{attached_to_assistant:0,unattached:0}),k((B==null?void 0:B.call_logs)||{transferred:0,not_transferred:0,by_status:{}}),d((F==null?void 0:F.generated_at)||new Date().toISOString())}catch(F){const B=(F==null?void 0:F.message)||"Failed to load stats",ne=B.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(B+ne)}finally{a(!1)}};v.useEffect(()=>{O()},[]);const A=v.useMemo(()=>[{key:"users",label:"Users",value:g.users,icon:ir,color:Yn.blue,series:wl(g.users)},{key:"leads",label:"Leads",value:g.leads,icon:Fd,color:Yn.cyan,series:wl(g.leads)},{key:"files",label:"Files",value:g.files,icon:M6,color:Yn.sky,series:wl(g.files)},{key:"assistants",label:"Assistants",value:g.assistants,icon:O6,color:Yn.cyan,series:wl(g.assistants)},{key:"phone_numbers",label:"Phone Numbers",value:g.phone_numbers,icon:xt,color:Yn.sky,series:wl(g.phone_numbers)},{key:"knowledge_base_documents",label:"KB Docs",value:g.knowledge_base_documents,icon:Nd,color:Yn.blue,series:wl(g.knowledge_base_documents)},{key:"call_logs",label:"Call Logs",value:g.call_logs,icon:i1,color:Yn.cyan,series:wl(g.call_logs)}],[g]),T=v.useMemo(()=>LT(w,"name","value"),[w]),$=v.useMemo(()=>[{name:"Attached",value:Number(S.attached_to_assistant||0)},{name:"Unattached",value:Number(S.unattached||0)}],[S]),M=v.useMemo(()=>[{name:"Transferred",value:Number(C.transferred||0)},{name:"Not Transferred",value:Number(C.not_transferred||0)}],[C]),U=v.useMemo(()=>LT(C.by_status||{},"status","count"),[C]),K=v.useMemo(()=>[{name:"Users",value:g.users},{name:"Leads",value:g.leads},{name:"Files",value:g.files},{name:"Assistants",value:g.assistants},{name:"Phones",value:g.phone_numbers},{name:"KB",value:g.knowledge_base_documents},{name:"Calls",value:g.call_logs}],[g]);return r.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),s&&r.jsx("div",{className:"w-full px-3 sm:px-4 pt-4 mb-6",children:r.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s})}),r.jsx("header",{className:"w-full px-3 sm:px-4 pt-8 pb-6",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),r.jsx("p",{className:"mt-1 text-xs sm:text-sm md:text-base text-slate-600",children:"Neon-lite analytics  blue / cyan palette."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:O,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[r.jsx(Xe,{className:"h-4 w-4"}),"Refresh"]}),r.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500",children:c?`Updated: ${new Date(c).toLocaleString()}`:""})]})]})}),r.jsxs("main",{className:"w-full px-3 sm:px-4 pb-12",children:[r.jsx("section",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-5",children:A.map(F=>r.jsx(dde,{label:F.label,value:F.value,icon:F.icon,color:F.color,series:F.series,loading:n},F.key))}),r.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-2 gap-5 xl:gap-6",children:[r.jsx(Zo,{title:"Overview by Metric",right:r.jsx(xd,{text:"Bars"}),children:r.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:r.jsx(Qa,{width:"100%",height:"100%",children:r.jsxs(n0,{data:K,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[r.jsxs("defs",{children:[r.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:Yn.sky}),r.jsx("stop",{offset:"100%",stopColor:Yn.light})]})]}),r.jsx(Fi,{strokeDasharray:i0,strokeOpacity:.2}),r.jsx(Is,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),r.jsx(zs,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),r.jsx(Za,{contentStyle:{borderRadius:12},cursor:r.jsx(Kb,{})}),r.jsx(Dd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},maxBarSize:t?38:60})]})})})}),r.jsx(Zo,{title:"Users by Role",right:r.jsx(xd,{text:"Bars"}),children:r.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:r.jsx(Qa,{width:"100%",height:"100%",children:r.jsxs(n0,{data:T,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"roleFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:Yn.blue}),r.jsx("stop",{offset:"100%",stopColor:"#eaf2ff"})]})}),r.jsx(Fi,{strokeDasharray:i0,strokeOpacity:.2}),r.jsx(Is,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),r.jsx(zs,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),r.jsx(Za,{contentStyle:{borderRadius:12},cursor:r.jsx(Kb,{})}),r.jsx(Dd,{dataKey:"value",fill:"url(#roleFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),r.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-6",children:[r.jsx(Zo,{title:"Phone Numbers  Attached vs Unattached",right:r.jsx(xd,{text:"Donut"}),children:r.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:r.jsx(Qa,{width:"100%",height:"100%",children:r.jsxs(tp,{children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"pieGradPhones",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:Yn.cyan}),r.jsx("stop",{offset:"100%",stopColor:Yn.blue})]})}),r.jsx(Za,{contentStyle:{borderRadius:12}}),r.jsxs(of,{data:$,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:f,onMouseEnter:(F,B)=>m(B),onMouseLeave:()=>m(null),activeShape:$T,label:t?({name:F,percent:B})=>B>=.18?F:"":!1,labelLine:!1,children:[r.jsx(Ds,{fill:"url(#pieGradPhones)"}),r.jsx(Ds,{fill:"#bfe9ff"})]})]})})})}),r.jsx(Zo,{title:"Calls  Transferred vs Not",right:r.jsx(xd,{text:"Donut"}),children:r.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:r.jsx(Qa,{width:"100%",height:"100%",children:r.jsxs(tp,{children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"pieGradCalls",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:Yn.sky}),r.jsx("stop",{offset:"100%",stopColor:Yn.blue})]})}),r.jsx(Za,{contentStyle:{borderRadius:12}}),r.jsxs(of,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:h,onMouseEnter:(F,B)=>x(B),onMouseLeave:()=>x(null),activeShape:$T,label:t?({name:F,percent:B})=>B>=.18?F:"":!1,labelLine:!1,children:[r.jsx(Ds,{fill:"url(#pieGradCalls)"}),r.jsx(Ds,{fill:"#d7eeff"})]})]})})})}),r.jsx(Zo,{title:"Call Logs  by Status",right:r.jsx(xd,{text:"Bars"}),children:r.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:r.jsx(Qa,{width:"100%",height:"100%",children:r.jsxs(n0,{data:U,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"statusFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:Yn.cyan}),r.jsx("stop",{offset:"100%",stopColor:"#ecfbff"})]})}),r.jsx(Fi,{strokeDasharray:i0,strokeOpacity:.2}),r.jsx(Is,{dataKey:"status",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),r.jsx(zs,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),r.jsx(Za,{contentStyle:{borderRadius:12},cursor:r.jsx(Kb,{})}),r.jsx(Dd,{dataKey:"count",fill:"url(#statusFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),r.jsx("section",{className:"mt-8",children:r.jsx(Zo,{title:"Status Breakdown (Compact List)",children:n?r.jsx("div",{className:"h-24 w-full animate-pulse rounded-xl bg-slate-100"}):r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[U.length===0&&r.jsx("div",{className:"text-sm text-slate-500",children:"No call status data."}),U.map(F=>r.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[r.jsx("span",{className:"text-sm font-medium text-slate-700 truncate pr-3",children:F.status}),r.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:kL(F.count)})]},F.status))]})})}),r.jsxs("footer",{className:"mt-10 mb-2 w-full text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon dashboard."]})]})]})}function xd({text:e}){return r.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-1 text-[10px] font-semibold text-white shadow-sm",children:e})}function hde(){const e=Gt(),[t,n]=v.useState(!1),[a,s]=v.useState(!1),[l,c]=v.useState(["","","",""]),[d,f]=v.useState({name:"",email:"",password:""}),[m,h]=v.useState(!1),[x,g]=v.useState({profile:!1,update:!1,delete:!1,otp:!1}),b=v.useRef([]),w=v.useRef(null),j=async()=>{var $,M;g(U=>({...U,profile:!0}));try{const U=localStorage.getItem("token");if(!U){q.error("Authentication required. Please login again."),e("/login");return}const K=await fetch("http://localhost:8000/api/search-user",{headers:{Authorization:`Bearer ${U}`}});if(!K.ok){const B=await K.json();throw new Error(B.detail||"Failed to fetch user data")}const F=await K.json();f({name:(($=F.users)==null?void 0:$.name)||"",email:((M=F.users)==null?void 0:M.email)||"",password:""})}catch(U){q.error(U.message),U.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"))}finally{g(U=>({...U,profile:!1}))}};v.useEffect(()=>{j()},[]);const S=()=>d.name.trim()?d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)?d.password&&d.password.length<8?(q.error("Password must be at least 8 characters long"),!1):!0:(q.error("Please enter a valid email address"),!1):(q.error("Email is required"),!1):(q.error("Name is required"),!1),_=async $=>{if($.preventDefault(),!!S()){g(M=>({...M,update:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const U={name:d.name,email:d.email,...d.password&&{password:d.password}},K=await fetch("http://localhost:8000/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(U)});if(!K.ok){const B=await K.json();throw new Error(B.detail||"Failed to update profile")}const F=await K.json();F!=null&&F.otp_needed?(s(!0),setTimeout(()=>{var B;return(B=b.current[0])==null?void 0:B.focus()},0),q.info("Verification code sent to your email")):(localStorage.setItem("name",U.name),q.success("Profile updated successfully"),f(B=>({...B,password:""})))}catch(M){q.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,update:!1}))}}},C=async $=>{if($.preventDefault(),l.some(M=>!M)){q.error("Please enter the complete verification code");return}g(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const U=await fetch("http://localhost:8000/api/update-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email,code:l.join(""),name:d.name,...d.password&&{password:d.password}})});if(!U.ok){const K=await U.json();throw new Error(K.detail||"Verification failed")}q.success("Account verified successfully"),s(!1),c(["","","",""]),localStorage.setItem("name",d.name),localStorage.setItem("email",d.email),f(K=>({...K,password:""}))}catch(M){q.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,otp:!1}))}},k=async()=>{g($=>({...$,delete:!0}));try{const $=localStorage.getItem("token");if(!$)throw new Error("Authentication required. Please login again.");const M=await fetch("http://localhost:8000/api/delete-account",{method:"DELETE",headers:{Authorization:`Bearer ${$}`}});if(!M.ok){const U=await M.json();throw new Error(U.detail||"Failed to delete account")}q.success("Account deleted successfully"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch($){q.error($.message),$.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g($=>({...$,delete:!1}))}},O=($,M)=>{var U;if(/^\d?$/.test(M)){const K=[...l];K[$]=M,c(K),M&&$<3&&((U=b.current[$+1])==null||U.focus())}},A=($,M)=>{var U;M.key==="Backspace"&&!l[$]&&$>0&&((U=b.current[$-1])==null||U.focus())},T=async()=>{var $;g(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const U=await fetch("http://localhost:8000/api/resend-otp-update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email})});if(!U.ok){const K=await U.json();throw new Error(K.detail||"Failed to resend OTP")}c(["","","",""]),($=b.current[0])==null||$.focus(),q.success("OTP resent successfully")}catch(M){q.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,otp:!1}))}};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:r.jsx("div",{className:"flex-1 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[(x.profile||x.update||x.delete||x.otp)&&r.jsx("div",{className:"flex justify-center items-center mb-4",children:r.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),a?r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(Sw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),r.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Email Verification"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(Sw,{className:"w-5 h-5 text-blue-600 mr-2"}),r.jsx("h3",{className:"font-semibold text-blue-900",children:"Verification Required"})]}),r.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["We've sent a 4-digit verification code to"," ",r.jsx("strong",{children:d.email}),". Please enter it below."]}),r.jsxs("form",{onSubmit:C,children:[r.jsx("div",{className:"flex justify-center gap-3 mb-4",children:l.map(($,M)=>r.jsx("input",{type:"text",maxLength:"1",value:$,onChange:U=>O(M,U.target.value),onKeyDown:U=>A(M,U),ref:U=>b.current[M]=U,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-xl font-bold text-gray-900 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0",disabled:x.otp},M))}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx("button",{type:"submit",disabled:l.some($=>!$)||x.otp,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.otp?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(ww,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})}),r.jsx("button",{type:"button",onClick:T,disabled:x.otp,className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Resend OTP"})]})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(mc,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Account Settings"}),r.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"Manage your account information and preferences"})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(mc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),r.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Profile Information"})]}),r.jsxs("form",{ref:w,onSubmit:_,children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[r.jsx(mc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),r.jsx("input",{type:"text",value:d.name,onChange:$=>f({...d,name:$.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[r.jsx(fL,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Email Address"]}),r.jsx("input",{type:"email",value:d.email,onChange:$=>f({...d,email:$.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[r.jsx(mL,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Password (optional)"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:t?"text":"password",value:d.password,onChange:$=>f({...d,password:$.target.value}),placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base",disabled:x.profile||x.update,minLength:8}),r.jsx("button",{type:"button",onClick:()=>n(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:x.profile||x.update,children:t?r.jsx(jw,{className:"w-5 h-5"}):r.jsx(Nw,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:d.password?"Password must be at least 8 characters":"Leave blank to keep current password"})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{type:"submit",disabled:x.profile||x.update,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.update?r.jsxs("div",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Saving..."]}):r.jsxs("div",{className:"flex items-center",children:[r.jsx(ww,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 sm:p-6 lg:p-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center",children:r.jsx(np,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),r.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-900",children:"Danger Zone"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),r.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),r.jsx("button",{onClick:()=>h(!0),disabled:x.profile||x.update,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(_w,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})]}),m&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50  bg-opacity-50 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:r.jsx(np,{className:"w-5 h-5 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete"})]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>h(!1),disabled:x.delete,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>{h(!1),k()},disabled:x.delete,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:x.delete?r.jsxs("div",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):r.jsxs("div",{className:"flex items-center",children:[r.jsx(_w,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})})]})})})}const l0="https://aisdr-dbt.ddns.net",Gb={CALL_LOGS:`${l0}/api/admin/call-logs`,VAPI_CALL_LOGS:`${l0}/api/admin/vapi-call-logs`,CALL_LOG:e=>`${l0}/api/admin/call-logs/${e}`},pde="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",IT=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${l0}${t}`},Vt=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t},gd=e=>{if(!e)return"Unknown";try{const t=new Date(e);return Number.isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}},zh=e=>{if(e==null||Number.isNaN(Number(e)))return"Unknown";const t=Number(e),n=Math.floor(t/60),a=Math.floor(t%60);return`${n}m ${a}s`},Qo=e=>String(e??"").toLowerCase();function zT(e=[],t=[]){const n=[],a=new Map;for(const s of e){const l={_key:s.call_id?`local:${s.call_id}`:`local-id:${s.id}`,source:"local",id:s.id,call_id:s.call_id||null,started_at:s.call_started_at||null,ended_at:s.call_ended_at||null,duration:s.call_duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.call_ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:s.user||null,assistant_id:null,phone_number_id:null,summary:null,transcript:null,analysis:null,recording_url:null,created_at:null,updated_at:null};n.push(l),l.call_id&&a.set(l.call_id,l)}for(const s of t){const l=s.call_id&&a.get(s.call_id),c={_key:s.call_id?`vapi:${s.call_id}`:`vapi-id:${s.id}`,source:"vapi",id:s.id,call_id:s.call_id||null,started_at:s.started_at||s.created_at||null,ended_at:s.ended_at||null,duration:s.duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:null,assistant_id:s.assistant_id||null,phone_number_id:s.phone_number_id||null,summary:s.summary||null,transcript:s.transcript||null,analysis:s.analysis||null,recording_url:s.recording_url||null,created_at:s.created_at||null,updated_at:s.updated_at||null};l?(l.assistant_id=l.assistant_id||c.assistant_id,l.phone_number_id=l.phone_number_id||c.phone_number_id,l.summary=c.summary??l.summary,l.transcript=c.transcript??l.transcript,l.analysis=c.analysis??l.analysis,l.recording_url=c.recording_url??l.recording_url,l.created_at=c.created_at??l.created_at,l.updated_at=c.updated_at??l.updated_at,l.source="both"):(n.push(c),c.call_id&&a.set(c.call_id,c))}return n.sort((s,l)=>new Date(l.started_at||0)-new Date(s.started_at||0)),n}function BT(e,t){const n=new Blob([t],{type:"text/plain;charset=utf-8"}),a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=e,s.click(),URL.revokeObjectURL(a)}function xde(e){var s,l,c;const t=["id","call_id","source","customer_name","customer_number","started_at","ended_at","duration","cost","status","ended_reason","transferred","criteria_satisfied","assistant_id","phone_number_id","user_id","user_name","user_email"],n=d=>{const f=d==null?"":String(d);return/[",\n]/.test(f)?`"${f.replaceAll('"','""')}"`:f},a=[t.join(",")];for(const d of e)a.push([d.id??"",d.call_id??"",d.source??"",d.customer_name??"",d.customer_number??"",d.started_at??"",d.ended_at??"",d.duration??"",d.cost??"",d.status??"",d.ended_reason??"",d.transferred??"",d.criteria_satisfied??"",d.assistant_id??"",d.phone_number_id??"",((s=d.user)==null?void 0:s.id)??"",((l=d.user)==null?void 0:l.name)??"",((c=d.user)==null?void 0:c.email)??""].map(n).join(","));return a.join(`
`)}function gde(){var oe;const[e,t]=v.useState([]),[n,a]=v.useState([]),[s,l]=v.useState([]),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(!0),[g,b]=v.useState(""),[w,j]=v.useState("all"),[S,_]=v.useState("all"),[C,k]=v.useState(""),[O,A]=v.useState(""),[T,$]=v.useState("started_at"),[M,U]=v.useState("desc"),[K,F]=v.useState(1),B=10,[ne,Ne]=v.useState(!1),[se,D]=v.useState(null),[G,V]=v.useState(null),[z,E]=v.useState(null),[R,L]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),Y=v.useCallback(async()=>{if(R){m("You're in impersonation mode. Exit impersonation to use admin tools."),t([]),a([]),l([]);return}const X=localStorage.getItem("token");if(!X){m("No auth token found."),q.error("No authentication token found."),t([]),a([]),l([]);return}try{d(!0),m("");const je={Authorization:`Bearer ${X}`,Accept:"application/json"},[Ee,qe]=await Promise.all([fetch(Gb.CALL_LOGS,{headers:je,mode:"cors"}),h?fetch(Gb.VAPI_CALL_LOGS,{headers:je,mode:"cors"}):Promise.resolve(null)]);if(!(Ee!=null&&Ee.ok)){const we=await Ee.text();throw new Error(`Call logs HTTP ${Ee.status}${we?`  ${we}`:""}`)}const Te=await Ee.json(),tt=Array.isArray(Te==null?void 0:Te.call_logs)?Te.call_logs:[];let We=[];if(h&&qe){if(!qe.ok){const Pe=await qe.text();throw new Error(`VAPI call logs HTTP ${qe.status}${Pe?`  ${Pe}`:""}`)}const we=await qe.json();We=Array.isArray(we==null?void 0:we.call_logs)?we.call_logs:[]}t(tt),a(We),l(zT(tt,We))}catch(je){m((je==null?void 0:je.message)||"Failed to load call logs"),q.error((je==null?void 0:je.message)||"Failed to load call logs")}finally{d(!1)}},[h,R]);v.useEffect(()=>{Y()},[Y]),v.useEffect(()=>{l(zT(e,h?n:[]))},[e,n,h]);const ce=v.useMemo(()=>{const X=new Set(s.map(je=>(je.status||"").toLowerCase()).filter(Boolean));return["all",...Array.from(X)]},[s]),Q=v.useMemo(()=>{let X=[...s];if(g.trim()){const je=g.trim().toLowerCase();X=X.filter(Ee=>{var qe,Te;return Qo(Ee.customer_name).includes(je)||Qo(Ee.customer_number).includes(je)||Qo(Ee.call_id).includes(je)||Qo((qe=Ee.user)==null?void 0:qe.email).includes(je)||Qo((Te=Ee.user)==null?void 0:Te.name).includes(je)})}if(w!=="all"&&(X=X.filter(je=>Qo(je.status)===w)),S!=="all"){const je=S==="yes";X=X.filter(Ee=>!!Ee.transferred===je)}if(C){const je=new Date(C).getTime();X=X.filter(Ee=>new Date(Ee.started_at||0).getTime()>=je)}if(O){const je=new Date(O).getTime();X=X.filter(Ee=>new Date(Ee.started_at||0).getTime()<=je)}return X.sort((je,Ee)=>{const qe=M==="asc"?1:-1,Te=je[T],tt=Ee[T];return T.includes("date")||T.includes("started")?qe*(new Date(Te||0)-new Date(tt||0)):qe*((Te??0)-(tt??0))}),X},[s,g,w,S,C,O,T,M]),H=Math.max(1,Math.ceil(Q.length/B)),ge=K*B,te=ge-B,he=Q.slice(te,ge);v.useEffect(()=>{F(1)},[g,w,S,C,O,T,M]);const Se=v.useMemo(()=>{const X=Q.length,je=Q.filter(tt=>tt.transferred).length,Ee=X-je,qe=Q.reduce((tt,We)=>tt+(Number.isFinite(Number(We.duration))?Number(We.duration):0),0),Te=Q.reduce((tt,We)=>tt+(Number.isFinite(Number(We.cost))?Number(We.cost):0),0);return{total:X,transferred:je,notTransferred:Ee,totalDuration:qe,totalCost:Te}},[Q]),be=X=>{D(X),Ne(!0)},ue=X=>V((X==null?void 0:X.id)||null),$e=async()=>{const X=G;if(!X)return;const je=localStorage.getItem("token");if(!je)return q.error("No authentication token found.");try{E(X);const Ee=await fetch(Gb.CALL_LOG(X),{method:"DELETE",headers:{Authorization:`Bearer ${je}`,Accept:"application/json"}}),qe=await Ee.json();if(!Ee.ok||!(qe!=null&&qe.success))throw new Error((qe==null?void 0:qe.detail)||(qe==null?void 0:qe.message)||`HTTP ${Ee.status}`);q.success(" Call log deleted"),V(null),t(Te=>Te.filter(tt=>tt.id!==X))}catch(Ee){q.error((Ee==null?void 0:Ee.message)||"Delete failed")}finally{E(null)}},ze=()=>{const X=xde(Q),je=new Date().toISOString().replace(/[:.]/g,"-");BT(`call-history-${je}.csv`,X)},et=()=>{b(""),j("all"),_("all"),k(""),A(""),$("started_at"),U("desc")},W=()=>{const X=localStorage.getItem("admin_token_backup");if(!X){q.error("No admin backup token found.");return}localStorage.setItem("token",X),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),L(null),q.success(" Exited impersonation"),window.location.reload()};return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[R&&r.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:r.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[r.jsx(vv,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),r.jsxs("span",{className:"truncate",children:["Acting as ",r.jsx("b",{className:"break-all",children:Vt((oe=R.acting_as)==null?void 0:oe.email)})]})]}),r.jsx(vr,{onClick:W,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:"Exit"})]})}),r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(xe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(i1,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${pde}`,children:"Call History"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View, filter, export, and manage call logs from local DB and VAPI."})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("div",{className:"text-xs sm:text-sm flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx(yB,{className:"h-4 w-4"}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:h,onChange:X=>x(X.target.checked),disabled:!!R,"aria-label":"Include VAPI logs"}),"Include VAPI logs"]})]}),r.jsxs(vr,{onClick:ze,disabled:Q.length===0||!!R,"aria-label":"Export CSV",children:[r.jsx(Ud,{className:"mr-2 h-4 w-4"})," Export CSV"]}),r.jsx(vr,{onClick:Y,disabled:c||!!R,"aria-label":"Refresh",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Yb,{label:"Total Calls",value:Se.total,Icon:vv,tone:"blue"}),r.jsx(Yb,{label:"Transferred",value:Se.transferred,Icon:cr,tone:"cyan"}),r.jsx(Yb,{label:"Not Transferred",value:Se.notTransferred,Icon:fa,tone:"blue"}),r.jsx(xe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-inner ring-1 ring-cyan-200/60",children:r.jsx(w5,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:"Total Duration / Cost"}),r.jsxs("div",{className:"text-sm font-black text-slate-900",children:[zh(Se.totalDuration),"  $",Se.totalCost.toFixed(2)]})]})]})})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-12 md:items-end",children:[r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:g,onChange:X=>b(X.target.value),placeholder:"Name, number, call id, user",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!R,"aria-label":"Search calls"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Status"}),r.jsx("select",{value:w,onChange:X=>j(X.target.value),disabled:!!R,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by status",children:ce.map(X=>r.jsx("option",{value:X,children:X==="all"?"All statuses":X},X))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Transferred"}),r.jsxs("select",{value:S,onChange:X=>_(X.target.value),disabled:!!R,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by transfer",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"yes",children:"Yes"}),r.jsx("option",{value:"no",children:"No"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"From"}),r.jsx("input",{type:"datetime-local",value:C,onChange:X=>k(X.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"From date"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"To"}),r.jsx("input",{type:"datetime-local",value:O,onChange:X=>A(X.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"To date"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Sort"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{value:T,onChange:X=>$(X.target.value),className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort by",children:[r.jsx("option",{value:"started_at",children:"Start time"}),r.jsx("option",{value:"duration",children:"Duration"}),r.jsx("option",{value:"cost",children:"Cost"})]}),r.jsxs("select",{value:M,onChange:X=>U(X.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort order",children:[r.jsx("option",{value:"desc",children:"Desc"}),r.jsx("option",{value:"asc",children:"Asc"})]})]})]}),r.jsx("div",{className:"md:col-span-12 flex justify-end",children:(g||w!=="all"||S!=="all"||C||O||T!=="started_at"||M!=="desc")&&r.jsxs(vr,{onClick:et,className:"text-slate-700","aria-label":"Clear filters",children:[r.jsx(Ic,{className:"h-4 w-4 mr-2"})," Clear Filters"]})})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:r.jsx(i1,{className:"h-4 w-4"})}),r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Calls (",Q.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),R?r.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:r.jsx(vv,{className:"h-9 w-9 text-amber-500"})}),r.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),r.jsx("div",{className:"mt-3",children:r.jsx(vr,{onClick:W,variant:"primary",children:"Exit Impersonation"})})]}):c?r.jsxs("div",{className:"grid place-content-center py-16",children:[r.jsx(Xe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading calls"})]}):Q.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(xt,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(As,{children:"Caller"}),r.jsx(As,{children:"User"}),r.jsx(As,{children:"Start"}),r.jsx(As,{children:"Duration"}),r.jsx(As,{children:"Status"}),r.jsx(As,{children:"Transferred"}),r.jsx(As,{children:"Cost"}),r.jsx(As,{children:"Source"}),r.jsx(As,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:he.map(X=>{const je=X.cost===null||X.cost===void 0||Number.isNaN(Number(X.cost))?"Unknown":Number(X.cost).toFixed(2);return r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(Es,{children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:Vt(X.customer_name)}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all flex items-center gap-1",children:[r.jsx(xt,{className:"h-3.5 w-3.5"})," ",Vt(X.customer_number)]}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["CID: ",Vt(X.call_id)]})]})}),r.jsx(Es,{children:X.user?r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"text-xs font-semibold text-slate-800 truncate flex items-center gap-1",children:[r.jsx(cc,{className:"h-3.5 w-3.5"})," ",Vt(X.user.name)]}),r.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:Vt(X.user.email)})]}):r.jsx("span",{className:"text-xs text-slate-500",children:"Unknown"})}),r.jsxs(Es,{children:[r.jsx("div",{className:"text-xs text-slate-800",children:gd(X.started_at)}),r.jsx("div",{className:"text-[11px] text-slate-500",children:gd(X.ended_at)})]}),r.jsx(Es,{children:r.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[r.jsx(gc,{className:"h-3.5 w-3.5"})," ",zh(X.duration)]})}),r.jsxs(Es,{children:[r.jsx(Ri,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:Vt(X.status)}),r.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Reason: ",Vt(X.ended_reason)]})]}),r.jsx(Es,{children:X.transferred?r.jsxs(Ri,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[r.jsx(cr,{className:"mr-1 h-3.5 w-3.5"})," Yes"]}):r.jsxs(Ri,{className:"border bg-red-100 text-red-700 border-red-200",children:[r.jsx(fa,{className:"mr-1 h-3.5 w-3.5"})," No"]})}),r.jsx(Es,{children:r.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[r.jsx(w5,{className:"h-3.5 w-3.5"})," ",je]})}),r.jsx(Es,{children:r.jsx(Ri,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:Vt(X.source)})}),r.jsx(Es,{children:r.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[r.jsx(vr,{onClick:()=>be(X),variant:"outline",size:"sm",title:"View details","aria-label":"View details",children:r.jsx(Qn,{className:"h-4 w-4"})}),X.source!=="vapi"&&r.jsx(vr,{onClick:()=>ue(X),variant:"danger",size:"sm",title:"Delete","aria-label":"Delete",children:z===X.id?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(Jn,{className:"h-4 w-4"})})]})})]},X._key)})})]})})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:he.map((X,je)=>{const Ee=X.cost===null||X.cost===void 0||Number.isNaN(Number(X.cost))?"Unknown":Number(X.cost).toFixed(2);return r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[je===0&&r.jsx(vde,{}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"text-base font-bold text-slate-900 truncate flex items-center gap-2",children:[r.jsx(xt,{className:"h-4 w-4 text-slate-500"})," ",Vt(X.customer_name)]}),r.jsx("div",{className:"mt-0.5 text-sm text-slate-600 break-all",children:Vt(X.customer_number)}),r.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 break-all",children:["CID: ",Vt(X.call_id)]}),r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:gd(X.started_at)}),r.jsxs("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:[r.jsx(gc,{className:"h-3.5 w-3.5 mr-1"})," ",zh(X.duration)]}),r.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-blue-100 text-blue-700 text-[11px] font-semibold",children:Vt(X.status)}),r.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:Vt(X.source)})]}),r.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Reason: ",Vt(X.ended_reason)]}),r.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Cost: ",Ee]})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsxs(vr,{onClick:()=>be(X),size:"sm",className:"grow sm:grow-0","aria-label":"View",children:[r.jsx(Qn,{className:"h-4 w-4 mr-1"})," View"]}),X.source!=="vapi"&&r.jsx(vr,{onClick:()=>ue(X),variant:"danger",size:"sm",className:"grow sm:grow-0","aria-label":"Delete",children:z===X.id?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):r.jsxs(r.Fragment,{children:[r.jsx(Jn,{className:"h-4 w-4 mr-1"})," Delete"]})})]})]},X._key)})})}),Q.length>B&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("b",{children:te+1}),"",r.jsx("b",{children:Math.min(ge,Q.length)})," of ",r.jsx("b",{children:Q.length})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(vr,{onClick:()=>F(X=>Math.max(1,X-1)),disabled:K===1,children:[r.jsx(ha,{className:"h-4 w-4 mr-1"})," Prev"]}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,H)},(X,je)=>{let Ee;if(H<=5||K<=3?Ee=je+1:K>=H-2?Ee=H-4+je:Ee=K-2+je,Ee<1||Ee>H)return null;const qe=K===Ee;return r.jsx("button",{onClick:()=>F(Ee),className:`px-3 py-2 text-sm font-semibold rounded-xl ${qe?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,"aria-label":`Page ${Ee}`,children:Ee},Ee)})}),r.jsxs(vr,{onClick:()=>F(X=>Math.min(H,X+1)),disabled:K>=H,children:["Next ",r.jsx(qn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),r.jsx(Tt,{children:G&&r.jsxs(yde,{onClose:()=>V(null),title:"Confirm Delete",children:[r.jsx("div",{className:"text-slate-800",children:"Are you sure you want to delete this call log? This action cannot be undone."}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[r.jsx(vr,{onClick:()=>V(null),variant:"subtle",children:"Cancel"}),r.jsx(vr,{onClick:$e,disabled:z===G,variant:"danger",children:z===G?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})}),r.jsx(Tt,{children:ne&&se&&r.jsx(bde,{onClose:()=>Ne(!1),title:"Call Details",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3 min-w-0",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"font-bold text-slate-900 truncate flex items-center gap-2",children:[r.jsx(xt,{className:"h-4 w-4 text-slate-500"})," ",Vt(se.customer_name)]}),r.jsx("div",{className:"text-sm text-slate-600 break-all",children:Vt(se.customer_number)}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all mt-1",children:["Call ID: ",Vt(se.call_id)]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[r.jsx(Ri,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:Vt(se.source)}),r.jsx(Ri,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:Vt(se.status)}),se.transferred?r.jsx(Ri,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Transferred"}):r.jsx(Ri,{className:"border bg-red-100 text-red-700 border-red-200",children:"Not transferred"})]})]}),r.jsxs("div",{className:"text-right text-sm text-slate-700",children:[r.jsxs("div",{children:[r.jsx("b",{children:"Start:"})," ",gd(se.started_at)]}),r.jsxs("div",{children:[r.jsx("b",{children:"End:"})," ",gd(se.ended_at)]}),r.jsxs("div",{className:"mt-1",children:[r.jsx("b",{children:"Duration:"})," ",zh(se.duration)]}),r.jsxs("div",{children:[r.jsx("b",{children:"Cost:"})," ",se.cost===null||se.cost===void 0||Number.isNaN(Number(se.cost))?"Unknown":`$${Number(se.cost).toFixed(2)}`]})]})]}),se.user?r.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(cc,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"font-semibold",children:"User:"})," ",Vt(se.user.name)]}),r.jsx("div",{className:"ml-5 break-all",children:Vt(se.user.email)})]}):r.jsx("div",{className:"mt-3 text-xs text-slate-600",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(cc,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"font-semibold",children:"User:"})," Unknown"]})}),(se.assistant_id||se.phone_number_id)&&r.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[r.jsxs("div",{children:[r.jsx("b",{children:"Assistant ID:"})," ",Vt(se.assistant_id)]}),r.jsxs("div",{children:[r.jsx("b",{children:"Phone Number ID:"})," ",Vt(se.phone_number_id)]})]}),r.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[r.jsx("b",{children:"End Reason:"})," ",Vt(se.ended_reason)]})]}),se.recording_url&&r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Recording"}),r.jsx("audio",{controls:!0,className:"w-full",children:r.jsx("source",{src:IT(se.recording_url)||se.recording_url})}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.jsxs("a",{href:IT(se.recording_url)||se.recording_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-xs inline-flex items-center gap-1",children:[r.jsx(Sd,{className:"h-3.5 w-3.5"})," Open recording URL"]})})]}),se.summary&&r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Summary"}),r.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:se.summary})]}),se.transcript&&r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Transcript"}),r.jsxs(vr,{onClick:()=>BT(`transcript-${se.call_id||se.id}.txt`,se.transcript),size:"sm",children:[r.jsx(Ud,{className:"h-4 w-4 mr-2"})," Save .txt"]})]}),r.jsx("div",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap max-h-72 overflow-auto",children:se.transcript})]}),se.analysis&&r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),r.jsx("pre",{className:"text-xs bg-slate-50 border border-slate-200 rounded-xl p-3 overflow-auto max-h-64",children:typeof se.analysis=="string"?se.analysis:JSON.stringify(se.analysis,null,2)})]})]})})})]})}function Yb({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsx(xe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Ri({children:e,className:t=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function vde(){return r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function vr({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function As({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Es({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function yde({children:e,onClose:t,title:n}){return r.jsxs(xe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(xe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function bde({children:e,onClose:t,title:n}){return r.jsxs(xe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),r.jsxs(xe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),r.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const Xa={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},UT=/^\+\d{7,15}$/,FT=[{id:1,key:"core",label:"Core & Transcription",Icon:Lw},{id:2,key:"voice",label:"Voice",Icon:Bw},{id:3,key:"review",label:"Review & Create",Icon:zc}],wde=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],jde=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Nde(){const e=Gt(),[t,n]=v.useState(1),[a,s]=v.useState(!1),[l,c]=v.useState(!1),d=v.useRef(null),[f,m]=v.useState(!1),[h,x]=v.useState("all"),[g,b]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=v.useState({}),[S,_]=v.useState([]),[C,k]=v.useState(!1),[O,A]=v.useState(""),T=v.useMemo(()=>{const D=g.voice_provider==="openai"?Jc:ao;return(h==="all"?D:D.filter(V=>V.gender===h)).slice().sort((V,z)=>((V==null?void 0:V.showName)||"").localeCompare((z==null?void 0:z.showName)||""))},[g.voice_provider,h]);v.useEffect(()=>{if(!g.voice)return;const D=T.find(G=>(G==null?void 0:G.name)===g.voice);D!=null&&D.voice&&(b(G=>({...G,voice_model:D.voice})),j(G=>({...G,voice_model:""})))},[g.voice,T]);const $="https://aisdr-dbt.ddns.net",M=D=>{const{id:G,value:V,type:z,checked:E}=D.target,R=z==="checkbox"?E:V;b(L=>({...L,[G]:R})),j(L=>({...L,[G]:""}))},U=D=>{try{d.current&&(d.current.pause(),d.current=null);const G=new Audio(D);d.current=G,c(!0),G.play().catch(()=>{q.error("Failed to play voice preview"),c(!1),d.current=null}),G.onended=()=>{c(!1),d.current=null}}catch{q.error("Failed to play voice preview"),c(!1)}},K=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},F=D=>{if(D!==t){if(D===3&&(!g.voice||!f)){j(G=>({...G,voice:"Select a voice and press Next to continue"})),q.error("Please select a voice and press Next to continue.");return}K(),n(D)}},B=()=>{if(t===1){n(2);return}if(t===2){if(!g.voice){j(D=>({...D,voice:"Please select a voice"})),q.error("Select a voice to continue.");return}if(!f){j(D=>({...D,voice:"Click a voice card to confirm your choice"})),q.info("Click a voice card to confirm your choice.");return}n(3)}},ne=async()=>{k(!0),A("");try{const D=localStorage.getItem("token"),G=await fetch(`${$}/api/purchased_numbers`,{headers:{Accept:"application/json",...D?{Authorization:`Bearer ${D}`}:{}}});if(!G.ok)throw new Error(`HTTP ${G.status}`);const V=await G.json(),E=(Array.isArray(V)?V:(V==null?void 0:V.purchased_numbers)||[]).filter(Boolean).map(R=>({phone_number:(R==null?void 0:R.phone_number)||"",friendly_name:(R==null?void 0:R.friendly_name)||"",attached_assistant:(R==null?void 0:R.attached_assistant)??null})).filter(R=>R.phone_number);_(E)}catch(D){console.error(D),A("Failed to load your purchased numbers"),_([])}finally{k(!1)}};v.useEffect(()=>{ne()},[]);const Ne=()=>{const D=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],G={};let V=!0;if(D.forEach(z=>{const E=g[z];(E==null||E===""||Number.isNaN(E))&&(G[z]="Required",V=!1)}),(g.temperature<0||g.temperature>2)&&(G.temperature="Temperature must be between 0 and 2",V=!1),g.maxTokens<1&&(G.maxTokens="maxTokens must be a positive integer",V=!1),g.forwardingPhoneNumber&&!UT.test(g.forwardingPhoneNumber)&&(G.forwardingPhoneNumber="Must be E.164 (+123...)",V=!1),g.attached_Number&&!UT.test(g.attached_Number)&&(G.attached_Number="Invalid number format",V=!1),j(G),!V){const z=L=>L.some(Y=>G[Y]),E=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],R=["voice_provider","voice_model","voice"];z(E)?n(1):z(R)&&n(2)}return V},se=async D=>{if(D.preventDefault(),!a){if(t!==3){q.error("Please complete the steps first.");return}if(Ne()){s(!0),K();try{const G=localStorage.getItem("token"),V=`${$}/api/assistants`,z={name:g.name,provider:g.provider,first_message:g.first_message||null,model:g.model,systemPrompt:g.systemPrompt||null,knowledgeBase:g.knowledgeBase,leadsfile:g.leadsfile,temperature:Number(g.temperature),maxTokens:Number(g.maxTokens),transcribe_provider:g.transcribe_provider,transcribe_language:g.transcribe_language,transcribe_model:g.transcribe_model,languages:g.languages,forwardingPhoneNumber:g.forwardingPhoneNumber||null,endCallPhrases:g.endCallPhrases,voice_provider:g.voice_provider,voice:g.voice,voice_model:g.voice_model,attached_Number:g.attached_Number||null,draft:!!g.draft,assistant_toggle:!!g.assistant_toggle,category:g.category||null,speed:Number(g.speed),stability:Number(g.stability),similarityBoost:Number(g.similarityBoost)},E=await fetch(V,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...G?{Authorization:`Bearer ${G}`}:{}},body:JSON.stringify(z)});if(!E.ok){let R=`HTTP ${E.status}`;try{const L=await E.json();L!=null&&L.detail&&(R=L.detail)}catch{const L=await E.text();L&&(R=`${R}  ${L}`)}throw new Error(R)}q.success("Assistant created successfully!"),e("/user/callassistent")}catch(G){q.error((G==null?void 0:G.message)||"Failed to create assistant")}finally{s(!1)}}}};return v.useEffect(()=>{m(!1),b(D=>({...D,voice:"",voice_model:""}))},[g.voice_provider]),r.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Xa.background},children:[r.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:r.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),r.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),r.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[r.jsx(xe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Xa.border,backgroundColor:Xa.card},children:r.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),r.jsxs("div",{className:"relative p-6 text-center",children:[r.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[r.jsx(zc,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),r.jsx(Sde,{currentStep:t,onChange:F}),r.jsx(xe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Xa.card,borderColor:Xa.border},children:r.jsxs("form",{onSubmit:se,noValidate:!0,children:[r.jsxs(Tt,{mode:"wait",children:[t===1&&r.jsxs(xe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsx(Bh,{id:"name",label:"Assistant Name",value:g.name,onChange:M,error:w.name,placeholder:"SupportBot"}),r.jsx(Bh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:g.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx($d,{children:"Attach Purchased Number (optional)"}),r.jsx("button",{type:"button",onClick:ne,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:C,title:"Refresh",children:C?"Loading...":"Refresh"})]}),r.jsxs("select",{id:"attached_Number",value:g.attached_Number,onChange:M,disabled:C||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[r.jsx("option",{value:"",className:"bg-white",children:C?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(D=>r.jsx("option",{value:D.phone_number,className:"bg-white",children:D.friendly_name?`${D.friendly_name}  ${D.phone_number}`:D.phone_number},D.phone_number))]}),O&&r.jsx(Ml,{children:O}),w.attached_Number&&r.jsx(Ml,{children:w.attached_Number})]}),r.jsx(Bh,{id:"category",label:"Category (optional)",value:g.category,onChange:M}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx($d,{children:"System Prompt"}),r.jsx(qT,{id:"systemPrompt",value:g.systemPrompt,onChange:M,placeholder:"Write your system prompt",rows:4}),w.systemPrompt&&r.jsx(Ml,{children:w.systemPrompt})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx($d,{children:"First Message"}),r.jsx(qT,{id:"first_message",value:g.first_message,onChange:M,placeholder:"Hello! ",rows:3}),w.first_message&&r.jsx(Ml,{children:w.first_message})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[r.jsx(KT,{id:"draft",label:"Save as Draft",checked:g.draft,onChange:M}),r.jsx(KT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:g.assistant_toggle,onChange:M})]})]},"step1"),t===2&&r.jsxs(xe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[r.jsx(HT,{id:"voice_provider",label:"Voice Provider",value:g.voice_provider,onChange:D=>{K();const G=D.target.value;b(V=>({...V,voice_provider:G,voice:"",voice_model:""})),m(!1),j(V=>({...V,voice:"",voice_model:""}))},options:wde,error:w.voice_provider}),r.jsx(HT,{id:"genderFilter",label:"Gender",value:h,onChange:D=>{K(),x(D.target.value),m(!1)},options:jde}),r.jsx(Bh,{id:"voice_model",label:"Voice Model",value:g.voice_model,onChange:()=>{},error:w.voice_model,placeholder:g.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",r.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",r.jsx("span",{className:"font-medium",children:"Next"}),"."]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("span",{className:"font-medium",children:T.length})," voices"]})}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[T.length===0&&r.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:Xa.border},children:"No voices match this filter."}),T.map(D=>r.jsxs(xe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:g.voice===D.name?"#93c5fd":Xa.border,backgroundColor:g.voice===D.name?"#eff6ff":Xa.card},onClick:()=>{b(G=>({...G,voice:D.name,voice_model:D.voice,voice_provider:D.provider||g.voice_provider})),m(!0),j(G=>({...G,voice:"",voice_model:""}))},children:[r.jsx("div",{className:"absolute left-3 top-3",children:r.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${g.voice===D.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),r.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold text-slate-900",children:D.showName||D.name}),r.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[D.gender||"unknown","  ",D.provider]}),r.jsx("div",{className:"mt-1 text-xs text-slate-500",children:D.voice})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(_de,{isActive:l&&g.voice===D.name,onPlay:()=>U(D.audioSr||""),onStop:K})})]})]},`${D.provider}-${D.name}`))]}),w.voice&&r.jsx(Ml,{children:w.voice})]},"step2"),t===3&&r.jsx(xe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:r.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Xa.border},children:[r.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsx(jl,{label:"Name",value:g.name||""}),r.jsx(jl,{label:"Model",value:`${g.provider}  ${g.model}`}),r.jsx(jl,{label:"Voice Provider",value:g.voice_provider}),r.jsx(jl,{label:"Voice",value:g.voice||""}),r.jsx(jl,{label:"Voice Model",value:g.voice_model||""}),r.jsx(jl,{label:"Forwarding Number",value:g.forwardingPhoneNumber||""}),r.jsx(jl,{label:"Attach Number",value:g.attached_Number||""})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[r.jsx(Wb,{onClick:()=>n(2),children:"Edit Voice"}),r.jsx(Wb,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),r.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?r.jsx(Wb,{onClick:()=>F(t-1),children:"Back"}):r.jsx("span",{}),t<3?r.jsxs(VT,{onClick:B,children:["Next ",r.jsx(qn,{className:"ml-1 h-4 w-4"})]}):r.jsx(VT,{type:"submit",disabled:a,children:a?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function Sde({currentStep:e,onChange:t}){return r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:FT.map(({id:n,label:a,Icon:s})=>{const l=e===n;return r.jsxs(xe.button,{onClick:()=>t(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[r.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:r.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:a}),r.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),r.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:r.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/FT.length*100}%`}})})]})}function VT({children:e,onClick:t,type:n="button",disabled:a}){return r.jsx("button",{type:n,onClick:t,disabled:a,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${a?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function Wb({children:e,onClick:t}){return r.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function $d({children:e}){return r.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Ml({children:e}){return r.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function Bh({id:e,label:t,value:n,onChange:a,error:s,placeholder:l,readOnly:c=!1,disabled:d=!1}){return r.jsxs("div",{className:"mb-2",children:[r.jsx($d,{children:t}),r.jsx("input",{id:e,type:"text",value:n,onChange:a,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&r.jsx(Ml,{children:s})]})}function HT({id:e,label:t,value:n,onChange:a,options:s,error:l}){return r.jsxs("div",{className:"mb-2",children:[r.jsx($d,{children:t}),r.jsx("select",{id:e,value:n,onChange:a,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>r.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&r.jsx(Ml,{children:l})]})}function qT({id:e,value:t,onChange:n,placeholder:a,rows:s=4}){return r.jsx("textarea",{id:e,value:t,onChange:n,placeholder:a,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function KT({id:e,label:t,checked:n,onChange:a}){return r.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[r.jsx("input",{id:e,type:"checkbox",checked:n,onChange:a,className:"accent-blue-600"}),r.jsx("span",{children:t})]})}function jl({label:e,value:t}){return r.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Xa.border},children:[r.jsx("div",{className:"text-slate-500",children:e}),r.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function _de({isActive:e,onPlay:t,onStop:n}){return r.jsx("div",{className:"flex items-center gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((a,s)=>r.jsx("div",{className:"w-1.5 rounded-sm bg-blue-500",style:{animation:`eqbar 0.9s ${a}ms ease-in-out infinite`}},s))}),r.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:r.jsx(vc,{className:"h-5 w-5"})})]}):r.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:r.jsx(hf,{className:"h-5 w-5"})})})}const Ye={primary:"#4F46E5",secondary:"#10B981",danger:"#EF4444",text:"#374151",lightText:"#6B7280",border:"#E5E7EB",background:"#F9FAFB",card:"#FFFFFF",hover:"#F9FAFB",radioSelected:"#1F2937",radioBorder:"#374151"},Cde=()=>{const{assistantId:e}=uf(),t=Gt(),[n,a]=v.useState(!1),[s,l]=v.useState(!1),[c,d]=v.useState(1),[f,m]=v.useState({name:"",phone:"",system_prompt:"",first_message:"",files:null,existing_file_urls:[],voice:"",voiceSet:"all"}),[h,x]=v.useState({name:"",phone:"",system_prompt:"",first_message:"",files:"",voice:""}),[g,b]=v.useState(!0),w=v.useRef(null),j=[..._b,...Cb].sort((M,U)=>M.showName.localeCompare(U.showName));v.useEffect(()=>{(async()=>{const U=localStorage.getItem("token");if(!U){q.error("No authentication token found. Please log in."),t("/login");return}try{const K=await fetch("http://localhost:8000/api/admin/getassistant",{method:"GET",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}});if(!K.ok){if(K.status===403)throw new Error("Access denied: Invalid or insufficient permissions");if(K.status===401)throw new Error("Unauthorized: Please log in again");{const ne=await K.text();throw new Error(`HTTP error! Status: ${K.status}`)}}const B=(await K.json()).assistants.find(ne=>ne.assistant_id===e);if(!B)throw new Error("Assistant not found");m({name:B.name||"",phone:B.phone||"",system_prompt:B.system_prompt||"",first_message:B.first_message||"",files:null,existing_file_urls:B.file_urls||[],voice:B.voice||"",voiceSet:"all"}),b(!1)}catch(K){console.error("Error fetching assistant:",K.message),q.error(K.message),t("/")}})()},[e,t]),v.useEffect(()=>{var M;if(c===2&&!f.voice){const U=j.filter(K=>f.voiceSet==="voiceset1"?_b.includes(K):f.voiceSet==="voiceset2"?Cb.includes(K):!0);U.length>0&&((M=U[0])!=null&&M.name)&&(m(K=>({...K,voice:U[0].name})),x(K=>({...K,voice:""})))}},[f.voiceSet,c]);const S=M=>{const{id:U,value:K}=M.target;m(F=>({...F,[U]:K})),x(F=>({...F,[U]:""}))},_=M=>{m(U=>({...U,files:M.target.files})),x(U=>({...U,files:""}))},C=()=>{const M={...h};let U=!0;const K=/^\+\d{10,15}$/,F=["text/plain","application/pdf","text/csv"],B=5*1024*1024;if(f.name.trim()||(M.name="Please enter an assistant name",U=!1),f.phone?K.test(f.phone)||(M.phone="Phone number must be in international format (e.g., +1234567890)",U=!1):(M.phone="Please select a phone number",U=!1),f.system_prompt.trim()||(M.system_prompt="Please enter a system prompt",U=!1),f.first_message.trim()||(M.first_message="Please enter a first message",U=!1),f.files&&f.files.length>0)for(let ne=0;ne<f.files.length;ne++){if(!F.includes(f.files[ne].type)){M.files="Only .txt, .pdf, and .csv files are allowed",U=!1;break}if(f.files[ne].size>B){M.files="Each file must be under 5MB",U=!1;break}}return x(M),U},k=()=>{const M={...h};let U=!0;return f.voice||(M.voice="Please select a voice",U=!1),x(M),U},O=M=>{w.current&&(w.current.pause(),w.current=null,l(!1));const U=new Audio(M);w.current=U,l(!0),U.play().catch(K=>{console.error("Error playing audio:",K),q.error("Failed to play voice preview"),l(!1)}),U.onended=()=>{l(!1),w.current=null}},A=()=>{w.current&&(w.current.pause(),w.current=null,l(!1))},T=M=>{M!==c&&(d(M),A())},$=async M=>{if(M.preventDefault(),n)return;const U=C(),K=k();if(!U){d(1);return}if(!K){d(2);return}a(!0),A();try{const F=new FormData;if(F.append("assistantName",f.name),F.append("phone",f.phone),F.append("systemPrompt",f.system_prompt),F.append("firstMessage",f.first_message),F.append("voice",f.voice),f.files)for(let Ne=0;Ne<f.files.length;Ne++)F.append("files",f.files[Ne]);f.existing_file_urls.length>0&&F.append("file_urls",JSON.stringify(f.existing_file_urls));const B=localStorage.getItem("token");if(!B)throw new Error("No authentication token found. Please log in.");const ne=await fetch(`http://localhost:8000/api/admin/update/assistant/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${B}`},body:F});if(!ne.ok){const Ne=await ne.text();throw new Error(`HTTP error! Status: ${ne.status}`)}q.success("Assistant updated successfully!"),t("/admin/assistants")}catch(F){console.error("Error updating assistant:",F.message),q.error(F.message)}finally{a(!1)}};return g?r.jsx("div",{className:"min-h-screen flex justify-center items-center",style:{backgroundColor:Ye.background},children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:Ye.primary}})}):r.jsx("div",{className:"min-h-screen",style:{backgroundColor:Ye.background},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-sm border py-4 px-6 text-center",style:{borderColor:Ye.border},children:r.jsx("h1",{className:"text-3xl font-bold",style:{color:Ye.text},children:"Edit Assistant"})}),r.jsxs("div",{className:"mb-6 flex justify-center gap-4",children:[r.jsx("button",{type:"button",onClick:()=>T(1),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===1?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 1: Assistant Details"}),r.jsx("button",{type:"button",onClick:()=>T(2),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===2?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 2: Voice Selection"})]}),r.jsx("div",{className:"rounded-xl shadow-md border p-8 transition-transform hover:scale-[1.01]",style:{backgroundColor:Ye.card,borderColor:Ye.border},children:r.jsxs("form",{onSubmit:$,noValidate:!0,children:[c===1&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{htmlFor:"name",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ye.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Assistant Name"]}),r.jsx("input",{type:"text",id:"name",value:f.name,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ye.border,color:Ye.text,backgroundColor:Ye.card},placeholder:"Enter assistant name (e.g., SupportBot)"}),h.name&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ye.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.name]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ye.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone Number"]}),r.jsxs("select",{id:"phone",value:f.phone,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ye.border,color:Ye.text,backgroundColor:Ye.card},children:[r.jsx("option",{value:"",children:"Select a phone number"}),r.jsx("option",{value:"+1234567890",children:"+1234567890 (Demo)"}),r.jsx("option",{value:"+1987654321",children:"+1987654321"}),r.jsx("option",{value:"+1123456789",children:"+1123456789"})]}),h.phone&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ye.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.phone]})]}),r.jsxs("div",{className:"mb-6 md:col-span-2",children:[r.jsxs("label",{htmlFor:"system_prompt",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ye.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"System Prompt"]}),r.jsx("textarea",{id:"system_prompt",value:f.system_prompt,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ye.border,color:Ye.text,backgroundColor:Ye.card},placeholder:"Enter system prompt",rows:"5"}),h.system_prompt&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ye.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.system_prompt]})]}),r.jsxs("div",{className:"mb-6 md:col-span-2",children:[r.jsxs("label",{htmlFor:"first_message",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ye.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"First Message"]}),r.jsx("textarea",{id:"first_message",value:f.first_message,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ye.border,color:Ye.text,backgroundColor:Ye.card},placeholder:"Enter the assistant's first message",rows:"3"}),h.first_message&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ye.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.first_message]})]}),r.jsxs("div",{className:"mb-6 md:col-span-2",children:[r.jsxs("label",{htmlFor:"files",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ye.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add New Files (Optional)"]}),r.jsx("input",{type:"file",id:"files",multiple:!0,accept:".txt,.pdf,.csv",onChange:_,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ye.border,color:Ye.text,backgroundColor:Ye.card}}),h.files&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ye.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.files]}),r.jsx("p",{className:"text-sm mt-2",style:{color:Ye.lightText},children:"Supported formats: .txt, .pdf, .csv (max 5MB per file)"}),f.existing_file_urls.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"font-medium",style:{color:Ye.text},children:"Existing Files:"}),r.jsx("ul",{className:"list-disc pl-5",children:f.existing_file_urls.map((M,U)=>r.jsx("li",{children:r.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-sm",style:{color:Ye.primary},children:M})},U))})]})]})]}),c===2&&r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"voice",className:"flex items-center gap-2 text-lg font-semibold mb-4",style:{color:Ye.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),"Voice Selection"]}),r.jsx("div",{className:"mb-6",children:r.jsxs("select",{id:"voiceSet",value:f.voiceSet,onChange:M=>{m(U=>({...U,voiceSet:M.target.value,voice:""})),x(U=>({...U,voice:""})),A()},className:"w-full md:w-64 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ye.border,color:Ye.text,backgroundColor:Ye.card},children:[r.jsx("option",{value:"all",children:"All Voices"}),r.jsx("option",{value:"voiceset1",children:"Voice Set 1"}),r.jsx("option",{value:"voiceset2",children:"Voice Set 2"})]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.filter(M=>f.voiceSet==="voiceset1"?_b.includes(M):f.voiceSet==="voiceset2"?Cb.includes(M):!0).map(M=>M&&M.name?r.jsxs("div",{className:`relative p-6 rounded-xl border cursor-pointer transition-all duration-300 shadow-sm hover:shadow-md ${f.voice===M.name?"border-gray-800 bg-gray-50":"border-gray-300 hover:bg-gray-100"}`,style:{borderColor:f.voice===M.name?Ye.radioBorder:Ye.border,backgroundColor:f.voice===M.name?Ye.hover:Ye.card},onClick:()=>{console.log("Selected voice:",M),m(U=>({...U,voice:M.name})),x(U=>({...U,voice:""}))},children:[r.jsx("div",{className:"absolute top-3 left-3",children:r.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${f.voice===M.name?"border-gray-800 bg-gray-800":"border-gray-400"}`,style:{borderColor:f.voice===M.name?Ye.radioBorder:Ye.border,backgroundColor:f.voice===M.name?Ye.radioSelected:"transparent"},children:f.voice===M.name&&r.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})}),r.jsxs("div",{className:"ml-8 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",style:{color:Ye.text},children:M.showName||"Unnamed Voice"}),r.jsx("p",{className:"text-sm",style:{color:Ye.lightText},children:M.gender||"Unknown"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:U=>{U.stopPropagation(),O(M.audioSr||"")},disabled:s&&f.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-emerald-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Ye.secondary,color:"white"},title:s&&f.voice!==M.name?"Audio playing":"Play voice preview",children:s&&f.voice===M.name?r.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12a8 8 0 1116 0 8 8 0 01-16 0z"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.2A1 1 0 0010 9.8v4.4a1 1 0 001.555.832l3.197-2.2a1 1 0 000-1.664z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),r.jsx("button",{type:"button",onClick:U=>{U.stopPropagation(),A()},disabled:!s||f.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-red-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Ye.danger,color:"white"},title:"Stop voice preview",children:r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9z"})]})})]})]})]},M.name):null)}),h.voice&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ye.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.voice]})]}),r.jsxs("div",{className:"flex justify-between mt-6",children:[c===2&&r.jsx("button",{type:"button",onClick:()=>T(1),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-gray-300",style:{backgroundColor:Ye.border,color:Ye.text},children:"Back"}),c===1&&r.jsx("button",{type:"button",onClick:()=>T(2),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 ml-auto",style:{backgroundColor:Ye.primary,color:"white"},children:"Next"}),c===2&&r.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Ye.primary,color:"white"},children:n?"Updating...":"Update Assistant"})]})]})})]})})},Uh="https://aisdr-dbt.ddns.net";function kde(){const e=Gt(),[t,n]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(!0),[m,h]=v.useState(""),[x,g]=v.useState("all"),[b,w]=v.useState("all"),[j,S]=v.useState("created_at"),[_,C]=v.useState("desc"),[k,O]=v.useState(!1),[A,T]=v.useState(null),[$,M]=v.useState([]),[U,K]=v.useState(!1),[F,B]=v.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[ne,Ne]=v.useState(1),se=10,D=v.useMemo(()=>localStorage.getItem("token"),[]),G=async()=>{try{c(!0);const W=await fetch(`${Uh}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!W.ok)throw new Error(`HTTP ${W.status}`);const oe=await W.json(),X=Array.isArray(oe)?oe:Array.isArray(oe==null?void 0:oe.assistants)?oe.assistants:[];n(X)}catch(W){console.error(W),q.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};v.useEffect(()=>{G()},[]),v.useEffect(()=>{if(!d)return;const W=setInterval(G,15e3);return()=>clearInterval(W)},[d]);const V=v.useMemo(()=>{let W=[...t];x!=="all"&&(W=W.filter(X=>((X==null?void 0:X.provider)||"").toLowerCase()===x)),b!=="all"&&(W=W.filter(X=>((X==null?void 0:X.category)||"").toLowerCase()===b));const oe=m.trim().toLowerCase();return oe&&(W=W.filter(X=>[X==null?void 0:X.name,X==null?void 0:X.model,X==null?void 0:X.voice,X==null?void 0:X.category,X==null?void 0:X.attached_Number].filter(Boolean).map(String).map(Ee=>Ee.toLowerCase()).some(Ee=>Ee.includes(oe)))),W.sort((X,je)=>{if(j==="created_at"){const Te=X!=null&&X.created_at?new Date(X.created_at).getTime():0,tt=je!=null&&je.created_at?new Date(je.created_at).getTime():0;return _==="asc"?Te-tt:tt-Te}const Ee=((X==null?void 0:X[j])??"").toString().toLowerCase(),qe=((je==null?void 0:je[j])??"").toString().toLowerCase();return Ee<qe?_==="asc"?-1:1:Ee>qe?_==="asc"?1:-1:0}),W},[t,m,x,b,j,_]),z=v.useMemo(()=>{const W=new Set((t||[]).map(oe=>((oe==null?void 0:oe.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(W)]},[t]),E=v.useMemo(()=>{const W=new Set((t||[]).map(oe=>((oe==null?void 0:oe.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(W)]},[t]),R=Math.max(1,Math.ceil(V.length/se)),L=Math.min(ne,R),Y=V.slice((L-1)*se,L*se),ce=v.useMemo(()=>V.length?V.reduce((W,oe)=>{const X=W!=null&&W.created_at?new Date(W.created_at):null,je=oe!=null&&oe.created_at?new Date(oe.created_at):null;return!X&&je?oe:!je&&X||!X&&!je?W:je>X?oe:W},V[0]):null,[V]),Q=W=>{j===W?C(oe=>oe==="asc"?"desc":"asc"):(S(W),C("asc"))},H=W=>{T(W),O(!0)},ge=async()=>{if(A)try{const W=await fetch(`${Uh}/api/assistants/${A}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!W.ok){let oe=`HTTP ${W.status}`;try{const X=await W.json();X!=null&&X.detail&&(oe=X.detail)}catch{}throw new Error(oe)}q.success("Assistant deleted"),M(oe=>oe.filter(X=>X!==A)),G()}catch(W){console.error(W),q.error((W==null?void 0:W.message)||"Delete failed")}finally{O(!1),T(null)}},te=W=>{const oe=W==null?void 0:W.knowledge_base;if(Array.isArray(oe)&&oe.length){const X=oe.filter(je=>typeof je=="string"&&/^https?:\/\//i.test(je));if(X.length){X.forEach(je=>window.open(je,"_blank","noopener"));return}}q.info("No file URLs available for this assistant.")},he=W=>{if(!(W!=null&&W.vapi_assistant_id)){q.error("Missing VAPI Assistant ID");return}B({vapi_assistant_id:W.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),K(!0)},Se=async W=>{W.preventDefault();const{vapi_assistant_id:oe,number:X,first_name:je,last_name:Ee,email:qe}=F;if(!X)return q.error("Enter the customer's phone number (E.164 preferred)");try{const Te=`${Uh}/api/phone-call/${encodeURIComponent(oe)}/${encodeURIComponent(X)}`,tt={first_name:je||"Caller",last_name:Ee||"",email:qe||"caller@example.com",add_date:new Date().toISOString(),mobile_no:X,custom_field_01:null,custom_field_02:null},We=await fetch(Te,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:D?`Bearer ${D}`:""},body:JSON.stringify(tt)}),we=await We.json().catch(()=>({}));if(!We.ok||(we==null?void 0:we.success)===!1)throw new Error((we==null?void 0:we.detail)||`HTTP ${We.status}`);q.success("Call initiated"),K(!1)}catch(Te){console.error(Te),q.error((Te==null?void 0:Te.message)||"Failed to initiate call")}},be=W=>$.includes(W),ue=W=>{M(oe=>oe.includes(W)?oe.filter(X=>X!==W):[...oe,W])},$e=()=>{const W=Y.map(X=>X.id).filter(Boolean),oe=W.every(X=>$.includes(X));M(X=>oe?X.filter(je=>!W.includes(je)):Array.from(new Set([...X,...W])))},ze=async()=>{if(!$.length)return q.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const W of $)await fetch(`${Uh}/api/assistants/${W}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});q.success("Bulk delete complete"),M([]),G()}catch(W){console.error(W),q.error("Bulk delete encountered an error")}},et=()=>{const W=["Name","Model","Voice","Attached Number","Category","Created"],oe=V.map(Te=>[(Te==null?void 0:Te.name)??"",(Te==null?void 0:Te.model)??"",(Te==null?void 0:Te.voice)??"",(Te==null?void 0:Te.attached_Number)??"",(Te==null?void 0:Te.category)??"",Te!=null&&Te.created_at?new Date(Te.created_at).toLocaleString():""]),X=[W,...oe].map(Te=>Te.map(tt=>`"${String(tt).replace(/"/g,'""')}"`).join(",")).join(`
`),je=new Blob([X],{type:"text/csv;charset=utf-8;"}),Ee=URL.createObjectURL(je),qe=document.createElement("a");qe.href=Ee,qe.download="assistants.csv",qe.click(),URL.revokeObjectURL(Ee)};return a?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:r.jsx("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[r.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),r.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),r.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((W,oe)=>r.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[r.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),r.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},oe))}),r.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[r.jsx("div",{className:"border-b border-gray-100 p-6",children:r.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((W,oe)=>r.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),r.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),r.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((X,je)=>r.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},je))})]})},oe))]})]})})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),r.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),r.jsxs("div",{className:"relative mx-auto w-full max-w-[1400px] px-6 py-12",children:[r.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"text-white",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:r.jsx(Mc,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),r.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),r.jsxs("span",{children:[V.length," Active"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rp,{className:"h-4 w-4"}),r.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("button",{onClick:()=>f(W=>!W),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[r.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),r.jsxs("button",{onClick:G,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[r.jsx(bL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),r.jsxs("button",{onClick:et,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[r.jsx(vL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),r.jsxs("button",{onClick:()=>e("/admin/addassistands"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[r.jsx(tx,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(wL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),r.jsx("input",{value:m,onChange:W=>h(W.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsx(GT,{label:"Provider",value:x,onChange:g,options:z,icon:r.jsx(yL,{className:"h-4 w-4"})}),r.jsx(GT,{label:"Category",value:b,onChange:w,options:E,icon:r.jsx(Pc,{className:"h-4 w-4"})})]})]})]})]}),r.jsxs("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Fh,{title:"Total Assistants",value:V.length,icon:r.jsx(Mc,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),r.jsx(Fh,{title:"Active Calls",value:"24",icon:r.jsx(Vi,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),r.jsx(Fh,{title:"Success Rate",value:"94.2%",icon:r.jsx(ls,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),r.jsx(Fh,{title:"Last Created",value:ce!=null&&ce.name?ce.name.length>12?`${ce.name.slice(0,12)}`:ce.name:"",icon:r.jsx(rp,{className:"h-6 w-6 text-cyan-600"}),subtitle:ce!=null&&ce.created_at?new Date(ce.created_at).toLocaleDateString():""})]}),$.length>0&&r.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:r.jsx(ls,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-blue-900",children:[$.length," assistants selected"]}),r.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:$e,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),r.jsx("button",{onClick:ze,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),V.length===0?r.jsx(Pde,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[r.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),r.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[r.jsx("thead",{className:"bg-gray-50/60",children:r.jsxs("tr",{children:[r.jsx(Ade,{className:"w-12 text-center",checked:Y.every(W=>$.includes(W.id))&&Y.length>0,onChange:$e}),r.jsx(Jo,{className:"w-[24%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?_:null,onSort:Q}),r.jsx(Jo,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?_:null,onSort:Q}),r.jsx(Jo,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?_:null,onSort:Q}),r.jsx(Jo,{className:"w-[16%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?_:null,onSort:Q}),r.jsx(Jo,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?_:null,onSort:Q}),r.jsx(Jo,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?_:null,onSort:Q}),r.jsx("th",{className:"w-[18%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:Y.map(W=>r.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${be(W.id)?"bg-blue-50/50":""}`,children:[r.jsx(Ede,{className:"w-12 text-center",checked:be(W.id),onChange:()=>ue(W.id)}),r.jsx("td",{className:"w-[24%] px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:r.jsx(Pc,{className:"h-5 w-5"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"max-w-[32ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:W.name||""}),r.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(W.knowledge_base)?W.knowledge_base.length:0," KB items"]})]})]})}),r.jsx("td",{className:"w-[12%] px-6 py-4",children:r.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:r.jsx(xc,{variant:"secondary",children:W.model||""})})}),r.jsx("td",{className:"w-[12%] px-6 py-4",children:r.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:r.jsx(xc,{variant:"accent",children:W.voice||""})})}),r.jsx("td",{className:"w-[16%] px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"font-mono text-sm text-gray-700 break-all",children:W.attached_Number||""}),W.attached_Number&&r.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>Ode(W.attached_Number),children:r.jsx(gL,{className:"h-4 w-4"})})]})}),r.jsx("td",{className:"w-[10%] px-6 py-4",children:r.jsx("div",{className:"text-center",children:W.category?r.jsx(xc,{variant:"primary",children:W.category}):r.jsx("span",{className:"text-gray-400",children:""})})}),r.jsx("td",{className:"w-[8%] px-6 py-4 text-center text-sm text-gray-600 whitespace-nowrap",children:W.created_at?new Date(W.created_at).toLocaleDateString():""}),r.jsx("td",{className:"w-[18%] px-6 py-4",children:r.jsxs("div",{className:"mx-auto flex w-full items-center justify-center gap-2 whitespace-nowrap",children:[r.jsx(Vh,{title:"Edit Assistant",onClick:()=>e(`/admin/edit-assistants/${W.id}`),variant:"primary",children:r.jsx(Jp,{className:"h-4 w-4"})}),r.jsx(Vh,{title:"View Files",onClick:()=>te(W),variant:"success",children:r.jsx(ex,{className:"h-4 w-4"})}),r.jsx(Vh,{title:"Start Call",onClick:()=>he(W),variant:"secondary",children:r.jsx(Vi,{className:"h-4 w-4"})}),r.jsx(Vh,{title:"Delete",onClick:()=>H(W.id),variant:"danger",children:r.jsx(Oc,{className:"h-4 w-4"})})]})})]},W.id??W.name))})]})]}),r.jsx("div",{className:"space-y-4 xl:hidden",children:Y.map(W=>r.jsx(Tde,{assistant:W,isSelected:be(W.id),onToggleSelect:()=>ue(W.id),onEdit:()=>e(`/admin/edit-assistants/${W.id}`),onViewFiles:()=>te(W),onCall:()=>he(W),onDelete:()=>H(W.id)},W.id??W.name))}),r.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(L-1)*se+1," to ",Math.min(L*se,V.length)," of"," ",V.length," assistants"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(YT,{disabled:L<=1,onClick:()=>Ne(W=>Math.max(1,W-1)),children:[r.jsx(hL,{className:"h-4 w-4"}),"Previous"]}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,R)},(W,oe)=>{const X=oe+1;return r.jsx("button",{onClick:()=>Ne(X),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${X===L?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:X},X)})}),r.jsxs(YT,{disabled:L>=R,onClick:()=>Ne(W=>Math.min(R,W+1)),children:["Next",r.jsx(pL,{className:"h-4 w-4"})]})]})]})]})]}),k&&r.jsx(WT,{onClose:()=>O(!1),children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:r.jsx(Oc,{className:"h-8 w-8 text-red-600"})}),r.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),r.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),r.jsxs("div",{className:"flex justify-center gap-3",children:[r.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>O(!1),children:"Cancel"}),r.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:ge,children:"Delete Assistant"})]})]})}),U&&r.jsxs(WT,{onClose:()=>K(!1),children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:r.jsx(Vi,{className:"h-8 w-8 text-blue-600"})}),r.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),r.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),r.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[r.jsx(Hh,{label:"Customer Phone Number",value:F.number,onChange:W=>B(oe=>({...oe,number:W})),placeholder:"+1 (555) 123-4567",required:!0}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(Hh,{label:"First Name",value:F.first_name,onChange:W=>B(oe=>({...oe,first_name:W})),placeholder:"John"}),r.jsx(Hh,{label:"Last Name",value:F.last_name,onChange:W=>B(oe=>({...oe,last_name:W})),placeholder:"Doe"})]}),r.jsx(Hh,{label:"Email Address",value:F.email,onChange:W=>B(oe=>({...oe,email:W})),placeholder:"john@example.com",type:"email"}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>K(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function Fh({title:e,value:t,icon:n,trend:a,trendUp:s,subtitle:l}){return r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),r.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&r.jsx("div",{className:"text-sm text-gray-500",children:l}),a&&r.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[a," from last month"]})]})]})}function GT({label:e,value:t,onChange:n,options:a}){return r.jsxs("div",{className:"relative",children:[r.jsx("select",{value:t,onChange:s=>n(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:a.map(s=>r.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx(Qp,{className:"h-4 w-4 text-white/70"})})]})}function xc({children:e,variant:t="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return r.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[t]}`,children:e})}function Vh({title:e,onClick:t,children:n,variant:a="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return r.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[a]}`,children:n})}function Jo({label:e,sortKey:t,sortDir:n,onSort:a,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return r.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:r.jsxs("button",{onClick:()=>a(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,r.jsxs("div",{className:"flex flex-col",children:[r.jsx(xL,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),r.jsx(Qp,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Ade({checked:e,onChange:t,className:n=""}){return r.jsx("th",{className:`px-6 py-4 ${n}`,children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&r.jsx(ls,{className:"h-3 w-3"})})})})}function Ede({checked:e,onChange:t,className:n=""}){return r.jsx("td",{className:`px-6 py-4 ${n}`,children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&r.jsx(ls,{className:"h-3 w-3"})})})})}function Tde({assistant:e,isSelected:t,onToggleSelect:n,onEdit:a,onViewFiles:s,onCall:l,onDelete:c}){return r.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[r.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&r.jsx(ls,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:r.jsx(Pc,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),r.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),r.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),r.jsx(xc,{variant:"secondary",children:e.model||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),r.jsx(xc,{variant:"accent",children:e.voice||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),r.jsx("div",{className:"font-mono text-sm break-all",children:e.attached_Number||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?r.jsx(xc,{variant:"primary",children:e.category}):r.jsx("span",{className:"text-gray-400",children:""})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:a,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[r.jsx(Jp,{className:"h-4 w-4"}),"Edit"]}),r.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[r.jsx(ex,{className:"h-4 w-4"}),"Files"]}),r.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[r.jsx(Vi,{className:"h-4 w-4"}),"Call"]}),r.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[r.jsx(Oc,{className:"h-4 w-4"}),"Delete"]})]})]})}function YT({disabled:e,onClick:t,children:n}){return r.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function WT({children:e,onClose:t}){return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),r.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[r.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function Hh({label:e,value:t,onChange:n,placeholder:a,required:s,type:l="text"}){return r.jsxs("div",{children:[r.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:l,value:t,onChange:c=>n(c.target.value),placeholder:a,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Pde(){return r.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:r.jsx(Mc,{className:"h-10 w-10 text-blue-600"})}),r.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),r.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),r.jsxs("a",{href:"/admin/addassistands",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[r.jsx(tx,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function Ode(e){e&&navigator.clipboard.writeText(e).then(()=>q.success("Copied to clipboard")).catch(()=>q.info(e))}const XT="https://aisdr-dbt.ddns.net",ZT={PHONE_NUMBERS:`${XT}/api/admin/phone-numbers`,PHONE_NUMBER:e=>`${XT}/api/admin/phone-numbers/${e}`},Mde="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function QT(e){if(e==null||isNaN(Number(e)))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(e))}catch{return`$${Number(e).toFixed(2)}`}}function Sa({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function qh({children:e,className:t=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Nl({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Sl({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Dde(){return r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Kh({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsxs(xe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Rde({name:e="?",size:t=38,url:n=null}){const a=(e||"?").split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2);return r.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:t,height:t},title:e,children:r.jsx("span",{style:{fontSize:t<40?12:13},children:a})})}function Lde({children:e,onClose:t,title:n}){return r.jsxs(xe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(xe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(Sa,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:r.jsx(dr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function $de(){var G,V;const[e,t]=v.useState([]),[n,a]=v.useState({total:0,attached:0,unattached:0,countries:0}),[s,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(null),[h,x]=v.useState(""),[g,b]=v.useState("all"),[w,j]=v.useState("all"),[S,_]=v.useState(1),C=10,[k,O]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),[A,T]=v.useState(null),$=v.useCallback(async()=>{if(k){t([]),a({total:0,attached:0,unattached:0,countries:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const z=localStorage.getItem("token");if(!z){t([]),a({total:0,attached:0,unattached:0,countries:0}),d("No auth token found."),q.error("No authentication token found.");return}try{l(!0),d("");const E=await fetch(ZT.PHONE_NUMBERS,{headers:{Authorization:`Bearer ${z}`,Accept:"application/json"},mode:"cors"});if(!E.ok){const ge=await E.text();throw new Error(`HTTP ${E.status}${ge?`  ${ge}`:""}`)}const R=await E.json();if(!(R!=null&&R.success)||!Array.isArray(R==null?void 0:R.phone_numbers))throw new Error("Unexpected response shape.");const L=(R.phone_numbers||[]).map(ge=>({id:ge.id,phone_number:ge.phone_number,friendly_name:ge.friendly_name||"",region:ge.region||"",postal_code:ge.postal_code||"",iso_country:(ge.iso_country||"").toUpperCase(),last_month_payment:ge.last_month_payment,created_at:ge.created_at,updated_at:ge.updated_at,attached_assistant:ge.attached_assistant,vapi_phone_uuid:ge.vapi_phone_uuid||null,owner:ge.user||null}));L.sort((ge,te)=>new Date(te.updated_at||te.created_at||0)-new Date(ge.updated_at||ge.created_at||0)),t(L);const Y=L.filter(ge=>ge.attached_assistant!==null&&ge.attached_assistant!==void 0).length,ce=R.total_phone_numbers??L.length,Q=Math.max(0,ce-Y),H=new Set(L.map(ge=>ge.iso_country||"")).size;a({total:ce,attached:Y,unattached:Q,countries:H})}catch(E){d((E==null?void 0:E.message)||"Failed to load phone numbers"),q.error((E==null?void 0:E.message)||"Failed to load phone numbers")}finally{l(!1)}},[k]);v.useEffect(()=>{$()},[$]);const M=v.useMemo(()=>{const z=new Set(e.map(E=>E.iso_country).filter(Boolean));return["all",...Array.from(z).sort()]},[e]),U=v.useMemo(()=>{let z=[...e];if(h.trim()){const E=h.trim().toLowerCase();z=z.filter(R=>{var L,Y;return String(R.phone_number||"").toLowerCase().includes(E)||String(R.friendly_name||"").toLowerCase().includes(E)||String(R.region||"").toLowerCase().includes(E)||String(R.postal_code||"").toLowerCase().includes(E)||String(((L=R.owner)==null?void 0:L.name)||"").toLowerCase().includes(E)||String(((Y=R.owner)==null?void 0:Y.email)||"").toLowerCase().includes(E)})}return g!=="all"&&(z=z.filter(E=>g==="attached"?E.attached_assistant:!E.attached_assistant)),w!=="all"&&(z=z.filter(E=>(E.iso_country||"").toUpperCase()===w)),z},[e,h,g,w]),K=Math.max(1,Math.ceil(U.length/C)),F=S*C,B=F-C,ne=U.slice(B,F);v.useEffect(()=>{_(1)},[h,g,w]);const Ne=z=>T(z),se=async()=>{const z=A;if(!z)return;const E=localStorage.getItem("token");if(!E)return q.error("No authentication token found.");const R=e.find(L=>L.id===z);if(R!=null&&R.attached_assistant)return q.error("This number is attached to an assistant. Detach it first from the Assistants page.");try{m(z);const L=await fetch(ZT.PHONE_NUMBER(z),{method:"DELETE",headers:{Authorization:`Bearer ${E}`,Accept:"application/json"}}),Y=await L.json();if(!L.ok||!(Y!=null&&Y.success))throw new Error((Y==null?void 0:Y.detail)||(Y==null?void 0:Y.message)||`HTTP ${L.status}`);q.success(" Phone number deleted"),t(ce=>ce.filter(Q=>Q.id!==z)),a(ce=>({...ce,total:Math.max(0,ce.total-1),unattached:Math.max(0,ce.unattached-1)})),T(null)}catch(L){q.error((L==null?void 0:L.message)||"Delete failed")}finally{m(null)}},D=()=>{const z=localStorage.getItem("admin_token_backup");if(!z){q.error("No admin backup token found.");return}localStorage.setItem("token",z),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),O(null),q.success(" Exited impersonation"),window.location.reload()};return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[k&&r.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:r.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[r.jsx(Sd,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),r.jsxs("span",{className:"truncate",children:["Acting as ",r.jsx("b",{className:"break-all",children:(G=k.acting_as)==null?void 0:G.email})]})]}),r.jsxs(Sa,{onClick:D,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"})," Exit"]})]})}),r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(xe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(xt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${Mde}`,children:"Phone Numbers"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View and manage purchased phone numbers. Delete numbers that are not attached to an assistant."})]})]}),r.jsx("div",{className:"flex flex-wrap items-center gap-2",children:r.jsx(Sa,{onClick:$,disabled:s||!!k,children:s?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Kh,{label:"Total Numbers",value:n.total,Icon:xt,tone:"blue"}),r.jsx(Kh,{label:"Attached",value:n.attached,Icon:Sd,tone:"cyan"}),r.jsx(Kh,{label:"Unattached",value:n.unattached,Icon:fa,tone:"blue"}),r.jsx(Kh,{label:"Countries",value:n.countries,Icon:Xh,tone:"cyan"})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:h,onChange:z=>x(z.target.value),placeholder:"Search number, name, region, or owner",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!k})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[r.jsx(Ic,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("select",{value:g,onChange:z=>b(z.target.value),disabled:!!k,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"attached",children:"Attached"}),r.jsx("option",{value:"unattached",children:"Unattached"})]}),r.jsx("select",{value:w,onChange:z=>j(z.target.value),disabled:!!k,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:M.map(z=>r.jsx("option",{value:z,children:z==="all"?"All countries":z},z))}),(h||g!=="all"||w!=="all")&&r.jsx(Sa,{onClick:()=>{x(""),b("all"),j("all")},className:"text-slate-700",disabled:!!k,children:"Clear"})]})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:r.jsx(xt,{className:"h-4 w-4"})}),r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Phone Numbers (",U.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),k?r.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:r.jsx(Sd,{className:"h-9 w-9 text-amber-500"})}),r.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),r.jsx("div",{className:"mt-3",children:r.jsxs(Sa,{onClick:D,variant:"primary",children:[r.jsx(dr,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?r.jsxs("div",{className:"grid place-content-center py-16",children:[r.jsx(Xe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading phone numbers"})]}):U.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(xt,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Nl,{children:"Number"}),r.jsx(Nl,{children:"Owner"}),r.jsx(Nl,{children:"Region"}),r.jsx(Nl,{children:"Country"}),r.jsx(Nl,{children:"Status"}),r.jsx(Nl,{children:"Last Month"}),r.jsx(Nl,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:ne.map(z=>{const E=!!z.attached_assistant;return r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(Sl,{children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 break-all",children:z.phone_number}),r.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:z.friendly_name})]})}),r.jsx(Sl,{children:z.owner?r.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-slate-700",children:[r.jsx(Rde,{name:z.owner.name,size:34}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-xs font-semibold truncate",children:z.owner.name}),r.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-slate-500 min-w-0",children:[r.jsx(Ra,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),r.jsx("span",{className:"truncate break-all",children:z.owner.email})]})]})]}):r.jsx("div",{className:"text-xs text-slate-500",children:""})}),r.jsx(Sl,{children:r.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[r.jsx(Fs,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium break-all",children:z.region})]})}),r.jsx(Sl,{children:r.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[r.jsx(Xh,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium",children:z.iso_country||""})]})}),r.jsx(Sl,{children:E?r.jsxs(qh,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[r.jsx(cr,{className:"mr-1 h-3.5 w-3.5"}),"Attached"]}):r.jsxs(qh,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[r.jsx(fa,{className:"mr-1 h-3.5 w-3.5"}),"Unattached"]})}),r.jsx(Sl,{children:r.jsx("div",{className:"text-xs font-semibold text-slate-800",children:QT(z.last_month_payment)})}),r.jsx(Sl,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:r.jsx(Sa,{onClick:()=>Ne(z.id),variant:"danger",size:"sm",disabled:E,title:E?"Detach from assistant before deleting":"Delete number",children:f===z.id?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(Jn,{className:"h-4 w-4"})})})})]},z.id)})})]})})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ne.map((z,E)=>{var L,Y;const R=!!z.attached_assistant;return r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[E===0&&r.jsx(Dde,{}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:z.phone_number}),r.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:z.friendly_name}),r.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx(L6,{className:"h-4 w-4 text-slate-500"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"truncate font-semibold",children:((L=z.owner)==null?void 0:L.name)||""}),((Y=z.owner)==null?void 0:Y.email)&&r.jsx("div",{className:"text-xs text-slate-500 truncate",children:z.owner.email})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xh,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium",children:z.iso_country||""})]}),r.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[r.jsx(Fs,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium break-words",children:z.region})]}),r.jsx("div",{className:"col-span-2",children:R?r.jsxs(qh,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[r.jsx(cr,{className:"mr-1 h-3.5 w-3.5"})," Attached"]}):r.jsxs(qh,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[r.jsx(fa,{className:"mr-1 h-3.5 w-3.5"})," Unattached"]})})]}),r.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.jsx(Sa,{onClick:()=>Ne(z.id),variant:"danger",size:"sm",className:"grow sm:grow-0",disabled:R,children:f===z.id?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):r.jsxs(r.Fragment,{children:[r.jsx(Jn,{className:"h-4 w-4 mr-1"})," Delete"]})})}),r.jsx("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:QT(z.last_month_payment)})]})]},z.id)})})}),U.length>C&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("b",{children:B+1}),"",r.jsx("b",{children:Math.min(F,U.length)})," of ",r.jsx("b",{children:U.length})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(Sa,{onClick:()=>_(z=>Math.max(1,z-1)),disabled:S===1,children:[r.jsx(ha,{className:"h-4 w-4 mr-1"})," Prev"]}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,K)},(z,E)=>{let R;if(K<=5||S<=3?R=E+1:S>=K-2?R=K-4+E:R=S-2+E,R<1||R>K)return null;const L=S===R;return r.jsx("button",{onClick:()=>_(R),className:`px-3 py-2 text-sm font-semibold rounded-xl ${L?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:R},R)})}),r.jsxs(Sa,{onClick:()=>_(z=>Math.min(K,z+1)),disabled:S>=K,children:["Next ",r.jsx(qn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),r.jsx(Tt,{children:A&&r.jsxs(Lde,{onClose:()=>T(null),title:"Confirm Delete",children:[r.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete phone number"," ",r.jsx("b",{className:"break-words",children:((V=e.find(z=>z.id===A))==null?void 0:V.phone_number)||"this number"}),"?"," ","This action cannot be undone."]}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[r.jsx(Sa,{onClick:()=>T(null),variant:"subtle",children:"Cancel"}),r.jsx(Sa,{onClick:se,disabled:f===A,variant:"danger",children:f===A?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})})]})}const Ide=()=>{const[e,t]=v.useState([]),[n,a]=v.useState({name:"",id:null}),[s,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(!1),[h,x]=v.useState(null),g=Gt();v.useEffect(()=>{b()},[]);const b=async()=>{try{const A=await fetch("http://localhost:8000/api/admin/get/use_leadid",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!A.ok)throw new Error("Failed to fetch leads");const T=await A.json();t(T)}catch(A){console.error("Error fetching leads:",A)}},w=async()=>{try{if(!(await fetch("http://localhost:8000/api/admin/use_leadid",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to create lead");a({name:"",id:null}),l(!1),d(!1),b()}catch(A){console.error("Error creating lead:",A)}},j=A=>{a({name:A.name,id:A.id}),l(!0),d(!0)},S=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${n.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to update lead");a({name:"",id:null}),l(!1),d(!1),b()}catch(A){console.error("Error updating lead:",A)}},_=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete lead");m(!1),x(null),b()}catch(A){console.error("Error deleting lead:",A)}},C=A=>{g(`/admin/lead/${A}`)},k=e.length,O=e.length>0?e[e.length-1]:null;return r.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 lg:px-[150px] lg:py-10 xl:px-[150px] xl:py-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-6",children:r.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"List Dashboard"})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[r.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Total List"}),r.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:k})]}),r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[r.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Last Created"}),r.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 truncate",children:O?`${O.name} (${O.created_at})`:"No leads yet"})]})]}),r.jsx("div",{className:"flex justify-end mb-6",children:r.jsxs("button",{onClick:()=>{l(!s),d(!1),a({name:"",id:null})},className:"bg-blue-600 text-white px-4 sm:px-5 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-md text-sm sm:text-base",children:[s?"Cancel":"Create List",r.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:s?"M6 18L18 6M6 6l12 12":"M12 4v16m8-8H4"})})]})}),s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-md",children:[r.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-4",children:c?"Edit Lead":"Create Lead"}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx("input",{type:"text",placeholder:"Lead Name",value:n.name,onChange:A=>a({...n,name:A.target.value}),className:"border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-200 w-full text-sm sm:text-base","aria-label":"Lead Name"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),r.jsx("button",{onClick:c?S:w,className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200 text-sm sm:text-base",children:c?"Update":"Submit"})]})]})]})}),f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-sm",children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-6",children:"Are you sure you want to delete this lead?"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>m(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),r.jsx("button",{onClick:_,className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200 text-sm sm:text-base",children:"Confirm"})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700",children:"Lists"})}),r.jsxs("table",{className:"w-full text-sm sm:text-base",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{className:"hidden sm:table-row",children:[r.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[25%]",children:"ID"}),r.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Name"}),r.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Created At"}),r.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[15%]",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(A=>r.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200 block sm:table-row",children:[r.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[r.jsx("span",{className:"sm:hidden font-semibold",children:"ID: "}),A.id]}),r.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[r.jsx("span",{className:"sm:hidden font-semibold",children:"Name: "}),A.name]}),r.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell text-gray-600",children:[r.jsx("span",{className:"sm:hidden font-semibold",children:"Created At: "}),A.created_at]}),r.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[r.jsx("span",{className:"sm:hidden font-semibold",children:"Actions: "}),r.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[r.jsx("button",{onClick:()=>C(A.id),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"View lead",children:r.jsx(OK,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),r.jsx("button",{onClick:()=>j(A),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"Edit lead",children:r.jsx(PK,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),r.jsx("button",{onClick:()=>{x(A.id),m(!0)},className:"text-red-600 hover:text-red-700 transition duration-200 p-2","aria-label":"Delete lead",children:r.jsx(DK,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},A.id))})]})]})]})})},JT="https://aisdr-dbt.ddns.net",e6={LIST:`${JT}/api/admin/leadss`,UPDATE:e=>`${JT}/api/admin/leads/${e}`};function Jl(...e){return e.filter(Boolean).join(" ")}const Lr=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function zde(e,t=250){const[n,a]=v.useState(e);return v.useEffect(()=>{const s=setTimeout(()=>a(e),t);return()=>clearTimeout(s)},[e,t]),n}function Bde(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}-${a}-${s}`}function t6(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}const Ude={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},n6={show:{transition:{staggerChildren:.05}}},Fde={hidden:{opacity:0,scale:.98,y:12},show:{opacity:1,scale:1,y:0,transition:{duration:.25}},exit:{opacity:0,scale:.98,y:12,transition:{duration:.18}}},Vde={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}};function ec({children:e,tone:t="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200"};return r.jsx("span",{className:Jl("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[t]||n.slate),children:e})}function Xb({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":a==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":a==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return r.jsx(xe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Hde(){const e=v.useRef(localStorage.getItem("token")||null),[t,n]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(""),m=zde(d,250),[h,x]=v.useState("add_date"),[g,b]=v.useState("desc"),[w,j]=v.useState(1),[S,_]=v.useState(12),[C,k]=v.useState(!1),[O,A]=v.useState(!1),[T,$]=v.useState(null),[M,U]=v.useState({first_name:"",last_name:"",email:"",add_date:"",salesforce_id:"",mobile:"",state:""});async function K(){if(!e.current){s(!1),q.error("No auth token found. Please log in.");return}try{s(!0);const Y=await fetch(e6.LIST,{headers:{Authorization:`Bearer ${e.current}`}});if(!Y.ok)throw new Error(`HTTP ${Y.status}`);const ce=await Y.json(),Q=Array.isArray(ce)?ce:Array.isArray(ce==null?void 0:ce.leads)?ce.leads:[];n(Q)}catch(Y){console.error(Y),q.error("Failed to fetch leads"),n([])}finally{s(!1)}}v.useEffect(()=>{K()},[]);async function F(){c(!0),await K(),c(!1)}const B=v.useMemo(()=>{const Y=m.trim().toLowerCase();let ce=t.filter(H=>Y?[`${H.first_name||""} ${H.last_name||""}`.toLowerCase(),(H.email||"").toLowerCase(),(H.mobile||"").toLowerCase(),(H.salesforce_id||"").toLowerCase(),(H.state||"").toLowerCase()].some(he=>he.includes(Y)):!0);const Q=g==="asc"?1:-1;return ce.sort((H,ge)=>{const te=`${H.first_name||""} ${H.last_name||""}`.trim().toLowerCase(),he=`${ge.first_name||""} ${ge.last_name||""}`.trim().toLowerCase();let Se,be;switch(h){case"name":Se=te,be=he;break;case"email":Se=(H.email||"").toLowerCase(),be=(ge.email||"").toLowerCase();break;case"mobile":Se=(H.mobile||"").toLowerCase(),be=(ge.mobile||"").toLowerCase();break;case"state":Se=(H.state||"").toLowerCase(),be=(ge.state||"").toLowerCase();break;case"add_date":default:Se=new Date(H.add_date||0).getTime(),be=new Date(ge.add_date||0).getTime()}return Se<be?-1*Q:Se>be?1*Q:0}),ce},[t,m,h,g]),ne=B.length,Ne=Math.max(1,Math.ceil(ne/S));v.useEffect(()=>{w>Ne&&j(Ne)},[w,Ne]);const se=(w-1)*S,D=se+S,G=B.slice(se,D),V=v.useMemo(()=>{const Y=B.filter(Q=>!Q.dnc).length,ce=B.filter(Q=>!!Q.dnc).length;return{total:B.length,callable:Y,dnc:ce}},[B]);function z(Y){$(Y),U({first_name:Y.first_name||"",last_name:Y.last_name||"",email:Y.email||"",add_date:Bde(Y.add_date),salesforce_id:Y.salesforce_id||"",mobile:Y.mobile||"",state:Y.state||""}),k(!0)}function E(Y){const{name:ce,value:Q}=Y.target;U(H=>({...H,[ce]:Q}))}async function R(){if(!T)return;if(!e.current){q.error("No auth token found.");return}const Y={first_name:M.first_name||"",last_name:M.last_name||"",email:M.email||"",add_date:M.add_date||"",salesforce_id:M.salesforce_id||null,mobile:M.mobile||"",state:M.state||null};try{A(!0);const ce=await fetch(e6.UPDATE(T.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.current}`},body:JSON.stringify(Y)}),Q=await ce.json().catch(()=>({}));if(!ce.ok||(Q==null?void 0:Q.success)===!1)throw new Error((Q==null?void 0:Q.detail)||`HTTP ${ce.status}`);const H=(Q==null?void 0:Q.updated_lead)||{...T,...Y};n(ge=>ge.map(te=>te.id===T.id?{...te,...H}:te)),q.success("Lead updated"),k(!1),$(null)}catch(ce){console.error(ce),q.error((ce==null?void 0:ce.message)||"Update failed")}finally{A(!1)}}function L(Y){x(ce=>ce===Y?(b(Q=>Q==="asc"?"desc":"asc"),ce):(b(Y==="add_date"?"desc":"asc"),Y)),j(1)}return r.jsxs("div",{className:"min-h-screen w-full text-slate-900 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative",children:[r.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-400/15 blur-3xl"}),r.jsx("div",{className:"absolute top-1/3 -right-20 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-indigo-400/10 blur-3xl"})]}),r.jsx("header",{className:"relative z-0 border-b border-slate-200/70 bg-white/60 backdrop-blur after:absolute after:inset-x-0 after:-bottom-[1px] after:h-[2px] after:bg-gradient-to-r after:from-transparent after:via-cyan-400/70 after:to-transparent",children:r.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-5",children:[r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-black tracking-tight",children:r.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text text-transparent",children:"Leads"})}),r.jsx("p",{className:"text-sm text-slate-600",children:"View, search, and edit leads."})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(r6,{onClick:F,icon:r.jsx(Xe,{className:Jl("h-4 w-4",l&&"animate-spin")}),children:"Refresh"})})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[r.jsxs("div",{className:"relative sm:col-span-2",children:[r.jsx(_r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),r.jsx("input",{value:d,onChange:Y=>{f(Y.target.value),j(1)},placeholder:"Search name, email, mobile, Salesforce ID, state",className:"w-full rounded-2xl border border-slate-200/70 bg-white/80 pl-10 pr-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search leads"})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[r.jsxs("div",{className:"text-sm text-slate-600 hidden sm:block",children:["Total: ",r.jsx("span",{className:"font-semibold text-slate-900",children:ne})]}),r.jsx("select",{value:S,onChange:Y=>{_(Number(Y.target.value)),j(1)},className:"rounded-2xl border border-slate-200/70 bg-white/80 px-3 py-2 text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[12,24,48,96].map(Y=>r.jsxs("option",{value:Y,children:[Y," / page"]},Y))})]})]})]})}),r.jsx("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[r.jsx(Xb,{label:"Total Leads",value:V.total,Icon:ir,tone:"blue"}),r.jsx(Xb,{label:"Callable",value:V.callable,Icon:cr,tone:"cyan"}),r.jsx(Xb,{label:"DNC",value:V.dnc,Icon:fa,tone:"blue"})]})}),r.jsxs("main",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 pb-6",children:[r.jsx(xe.div,{initial:"hidden",animate:"show",variants:n6,className:"hidden lg:block overflow-x-auto rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:r.jsxs("table",{className:"min-w-full text-left",children:[r.jsx("thead",{className:"bg-slate-50/80 text-slate-600 text-sm",children:r.jsxs("tr",{className:"[&>th]:px-5 [&>th]:py-3",children:[r.jsx(vd,{sortKey:"add_date",sortBy:h,sortDir:g,onSort:L,children:"Added"}),r.jsx(vd,{sortKey:"name",sortBy:h,sortDir:g,onSort:L,children:"Name"}),r.jsx(vd,{sortKey:"email",sortBy:h,sortDir:g,onSort:L,children:"Email"}),r.jsx(vd,{sortKey:"mobile",sortBy:h,sortDir:g,onSort:L,children:"Mobile"}),r.jsx(vd,{sortKey:"state",sortBy:h,sortDir:g,onSort:L,children:"State"}),r.jsx("th",{className:"px-5 py-3",children:"SFDC"}),r.jsx("th",{className:"px-5 py-3",children:"Status"}),r.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:a?r.jsx(s6,{rows:8,cols:8}):G.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-5 py-12 text-center text-slate-600",children:"No leads found. Try searching something else."})}):G.map(Y=>{const ce=`${Lr(Y.first_name)} ${Y.last_name?Lr(Y.last_name):""}`.trim();return r.jsxs(xe.tr,{variants:Ude,className:"hover:bg-slate-50/70 transition-colors",children:[r.jsx("td",{className:"px-5 py-3 text-sm text-slate-600 whitespace-nowrap",children:Y.add_date?r.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[r.jsx(fz,{className:"h-4 w-4 text-slate-400"}),t6(Y.add_date)]}):"Unknown"}),r.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:ce}),r.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[r.jsx(Ra,{className:"h-4 w-4 text-slate-400"}),Lr(Y.email)]})}),r.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[r.jsx(_5,{className:"h-4 w-4 text-slate-400"}),Lr(Y.mobile)]})}),r.jsx("td",{className:"px-5 py-3",children:Y.state?r.jsx(ec,{tone:"blue",children:Lr(Y.state)}):"Unknown"}),r.jsx("td",{className:"px-5 py-3 text-slate-800",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[r.jsx(j5,{className:"h-4 w-4 text-slate-400"}),Lr(Y.salesforce_id)]})}),r.jsx("td",{className:"px-5 py-3",children:Y.dnc?r.jsx(ec,{tone:"red",children:"DNC"}):r.jsx(ec,{tone:"green",children:"Callable"})}),r.jsx("td",{className:"px-5 py-3",children:r.jsx("div",{className:"flex items-center justify-end",children:r.jsx(Zb,{onClick:()=>z(Y),icon:r.jsx(S5,{className:"h-4 w-4"}),children:"Edit"})})})]},Y.id)})})]})}),r.jsx("div",{className:"lg:hidden",children:a?r.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-4",children:r.jsx(s6,{rows:6,cols:1})}):G.length===0?r.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-8 text-center text-slate-600",children:"No leads found. Try searching something else."}):r.jsx(xe.div,{initial:"hidden",animate:"show",variants:n6,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:G.map(Y=>{const ce=`${Lr(Y.first_name)} ${Y.last_name?Lr(Y.last_name):""}`.trim();return r.jsxs(xe.article,{variants:Fde,className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/60 shadow hover:shadow-lg transition-shadow p-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"text-base font-semibold text-slate-900 break-words",children:ce}),r.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:Y.add_date?t6(Y.add_date):"Unknown"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Y.state?r.jsx(ec,{tone:"blue",children:Lr(Y.state)}):null,Y.dnc?r.jsx(ec,{tone:"red",children:"DNC"}):r.jsx(ec,{tone:"green",children:"Callable"})]})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[r.jsx(Gh,{icon:r.jsx(Ra,{className:"h-4 w-4"}),label:"Email",value:Lr(Y.email),copySafe:!0}),r.jsx(Gh,{icon:r.jsx(_5,{className:"h-4 w-4"}),label:"Mobile",value:Lr(Y.mobile),copySafe:!0}),r.jsx(Gh,{icon:r.jsx(j5,{className:"h-4 w-4"}),label:"SFDC",value:Lr(Y.salesforce_id)}),Y.timezone?r.jsx(Gh,{icon:r.jsx(Fd,{className:"h-4 w-4"}),label:"Timezone",value:Lr(Y.timezone)}):null]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(Zb,{onClick:()=>z(Y),icon:r.jsx(S5,{className:"h-4 w-4"}),children:"Edit"})})]},Y.id)})})}),!a&&ne>0&&r.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row text-slate-700",children:[r.jsxs("div",{className:"text-sm",children:["Showing ",r.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(D,ne)})," of ",ne]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(a6,{disabled:w<=1,onClick:()=>j(Y=>Math.max(1,Y-1)),children:[r.jsx(ha,{className:"h-4 w-4"})," Prev"]}),r.jsxs("div",{className:"text-sm",children:["Page ",r.jsx("span",{className:"font-semibold text-slate-900",children:w})," / ",Ne]}),r.jsxs(a6,{disabled:w>=Ne,onClick:()=>j(Y=>Math.min(Ne,Y+1)),children:["Next ",r.jsx(qn,{className:"h-4 w-4"})]})]})]})]}),r.jsx(Tt,{children:C&&r.jsxs(r.Fragment,{children:[r.jsx(xe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:Vde,initial:"hidden",animate:"show",exit:"exit",onClick:()=>k(!1)}),r.jsxs(xe.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[560px] md:w-[720px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Edit lead",children:[r.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>k(!1),className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50","aria-label":"Close",children:r.jsx(dr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold leading-tight",children:"Edit Lead"}),r.jsxs("p",{className:"text-xs text-slate-600",children:["Changes are saved to ",r.jsxs("span",{className:"font-medium",children:["#",T==null?void 0:T.id]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(r6,{onClick:()=>k(!1),children:"Cancel"}),r.jsx(Zb,{onClick:R,disabled:O,icon:O?r.jsx(Hn,{className:"h-4 w-4 animate-spin"}):void 0,children:O?"Saving":"Save"})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx(_l,{label:"First name",name:"first_name",value:M.first_name,onChange:E}),r.jsx(_l,{label:"Last name",name:"last_name",value:M.last_name,onChange:E}),r.jsx(_l,{label:"Email",name:"email",value:M.email,onChange:E,type:"email"}),r.jsx(_l,{label:"Mobile",name:"mobile",value:M.mobile,onChange:E}),r.jsx(_l,{label:"Salesforce ID",name:"salesforce_id",value:M.salesforce_id,onChange:E}),r.jsx(_l,{label:"Add date",name:"add_date",value:M.add_date,onChange:E,type:"date"}),r.jsx(_l,{label:"State",name:"state",value:M.state,onChange:E})]}),r.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700",children:[r.jsx("div",{className:"font-semibold mb-2",children:"Quick Summary"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-500",children:"Name:"})," ",M.first_name||"Unknown"," ",M.last_name||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-500",children:"Email:"})," ",M.email||"Unknown"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-500",children:"Mobile:"})," ",M.mobile||"Unknown"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-500",children:"State:"})," ",M.state||"Unknown"]})]})]})]})]})]})})]})}function Zb({children:e,onClick:t,disabled:n,icon:a,type:s="button"}){return r.jsxs(xe.button,{whileTap:n?void 0:{scale:.98},type:s,onClick:t,disabled:n,className:Jl("inline-flex items-center gap-2 rounded-2xl px-3.5 py-2 font-semibold text-white transition","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)]","disabled:opacity-60 disabled:cursor-not-allowed"),children:[a,r.jsx("span",{className:"whitespace-nowrap",children:e})]})}function r6({children:e,onClick:t,icon:n,type:a="button"}){return r.jsxs(xe.button,{whileTap:{scale:.98},type:a,onClick:t,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3.5 py-2 font-medium text-slate-800 ring-1 ring-white/70 transition hover:bg-slate-50",children:[n,r.jsx("span",{className:"whitespace-nowrap",children:e})]})}function a6({children:e,disabled:t,onClick:n}){return r.jsx(xe.button,{whileTap:t?void 0:{scale:.98},disabled:t,onClick:n,className:Jl("inline-flex items-center gap-2 rounded-2xl border px-3.5 py-2 text-sm transition",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50"),children:e})}function vd({children:e,sortKey:t,sortBy:n,sortDir:a,onSort:s}){const l=n===t;return r.jsx("th",{className:Jl("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:r.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,r.jsx("span",{className:Jl("text-xs",l?"opacity-100":"opacity-20"),children:l?a==="asc"?"":"":""})]})})}function s6({rows:e=6,cols:t=6}){return r.jsx(r.Fragment,{children:Array.from({length:e}).map((n,a)=>r.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>r.jsx("td",{className:"px-5 py-3",children:r.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},a))})}function _l({label:e,name:t,value:n,onChange:a,type:s="text"}){return r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),r.jsx("input",{type:s,name:t,value:n,onChange:a,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}function Gh({label:e,value:t,copySafe:n=!1,icon:a}){return r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"mt-0.5 text-slate-400",children:a}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),r.jsx("div",{className:Jl("text-sm text-slate-800",n?"break-all":"break-words"),children:t})]})]})}const qde=()=>{const[e,t]=v.useState(null),[n,a]=v.useState(!1),[s,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(!0),[g,b]=v.useState(0),w=v.useRef(null),j=v.useRef(null),{id:S}=uf(),_=5*1024*1024,C=()=>localStorage.getItem("token")||null;v.useEffect(()=>{const B=ne=>{c&&(ne.key==="Enter"||ne.key==="Escape")&&d(!1)};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[c]);const k=B=>{B.preventDefault(),B.stopPropagation(),a(!0)},O=B=>{B.preventDefault(),B.stopPropagation(),a(!1)},A=B=>{B.preventDefault(),B.stopPropagation()},T=B=>{B.preventDefault(),B.stopPropagation(),a(!1);const ne=B.dataTransfer.files[0];ne&&ne.type==="text/csv"?ne.size>_?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(ne):(m("Please upload a valid CSV file."),x(!1),d(!0))},$=B=>{const ne=B.target.files[0];ne&&ne.type==="text/csv"?ne.size>_?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(ne):(m("Please upload a valid CSV file."),x(!1),d(!0))},M=()=>{w.current.click()},U=()=>{const B=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,ne=new Blob([B],{type:"text/csv"}),Ne=window.URL.createObjectURL(ne),se=document.createElement("a");se.href=Ne,se.download="sample_users.csv",document.body.appendChild(se),se.click(),document.body.removeChild(se),window.URL.revokeObjectURL(Ne)},K=async()=>{if(!e){m("No file selected. Please choose a CSV file."),x(!1),d(!0);return}const B=C();if(!B){console.error("No auth token found. Please log in."),m("Please log in to continue."),x(!1),d(!0);return}const ne=new FormData;ne.append("file",e);try{l(!0),b(0);const Ne=await fetch("http://localhost:8000/api/admin/user/upload-csv",{method:"POST",headers:{Authorization:`Bearer ${B}`},body:ne});if(b(100),Ne.ok){const se=await Ne.json();console.log("File uploaded successfully:",se),m("CSV file uploaded successfully!"),x(!0),d(!0),t(null),w.current&&(w.current.value="")}else{let se=`HTTP error! status: ${Ne.status}`;try{const D=await Ne.json();D&&D.error&&(se=D.error)}catch{}throw new Error(se)}}catch(Ne){console.error("Error uploading file:",Ne),m("Failed to upload CSV file. Please try again."),x(!1),d(!0)}finally{l(!1),b(0)}},F=B=>B<1024?`${B} B`:B<1024*1024?`${(B/1024).toFixed(2)} KB`:`${(B/(1024*1024)).toFixed(2)} MB`;return r.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6 animate-fade-in",children:[r.jsx("div",{className:`w-full max-w-3xl bg-white p-10 rounded-xl shadow-lg border-2 ${n?"border-blue-400":"border-gray-200"} transition-colors duration-200`,onDragEnter:k,onDragOver:A,onDragLeave:O,onDrop:T,children:r.jsxs("div",{className:"text-center",children:[r.jsx(PO,{className:`mx-auto text-5xl ${n?"text-blue-400":"text-gray-300"} animate-pulse mb-6`}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upload Your CSV File"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop a CSV file here or click to select. Maximum file size: 5MB."}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx("input",{type:"file",accept:".csv",onChange:$,ref:w,className:"hidden"}),r.jsx("button",{onClick:M,className:"bg-blue-400 text-white px-8 py-3 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm",children:"Choose File"}),r.jsxs("button",{onClick:U,className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-sm flex items-center gap-2",children:[r.jsx(EO,{}),"Download Sample CSV"]})]}),e&&r.jsxs("div",{className:"mt-6 text-gray-600 bg-gray-50 p-4 rounded-lg",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"File:"})," ",e.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Size:"})," ",F(e.size)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),r.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[r.jsx("button",{onClick:K,disabled:s||!e,className:`w-full bg-blue-400 text-white px-6 py-4 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm flex items-center justify-center gap-2 ${s||!e?"opacity-50 cursor-not-allowed":""}`,children:s?"Uploading...":"Upload CSV"}),s&&r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center zoutdated-50 transition-opacity duration-200",children:r.jsxs("div",{ref:j,className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full animate-fade-in",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h?r.jsx(AO,{className:"text-green-400 text-2xl"}):r.jsx(TO,{className:"text-red-400 text-2xl"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Status"})]}),r.jsx("p",{className:"text-gray-500 mb-6",children:f}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>d(!1),className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:"Confirm"})})]})})]})};function yr({children:e}){const t=Gt(),[n,a]=v.useState(!1),[s,l]=v.useState(!0);return v.useEffect(()=>{const c=localStorage.getItem("token"),d=localStorage.getItem("role");if(!c||!d){q.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}d==="user"?a(!0):d==="admin"?(q.error("You are not authorized to access this page."),t("/admin",{replace:!0})):(q.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0})),l(!1)},[t]),s?r.jsx("div",{children:"Loading..."}):n?e:null}function Na({children:e}){const t=Gt(),[n,a]=v.useState(!1);return v.useEffect(()=>{try{const s=localStorage.getItem("token"),l=localStorage.getItem("role");if(!s||!l){q.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}l==="admin"?a(!0):l==="user"?(q.error("You are not authorized to access this page."),t("/user",{replace:!0})):(q.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0}))}catch{q.error("An unexpected error occurred. Please log in again."),localStorage.clear(),t("/login",{replace:!0})}},[t]),n?e:null}function Kde(){return r.jsxs(r.Fragment,{children:[r.jsx(cI,{children:r.jsxs(B7,{children:[r.jsx(pt,{path:"/",element:r.jsx(I7,{to:"/signup"})}),r.jsx(pt,{path:"/signup",element:r.jsx(QB,{})}),r.jsx(pt,{path:"/login",element:r.jsx(Kq,{})}),r.jsx(pt,{path:"/otp",element:r.jsx(qq,{})}),r.jsx(pt,{path:"/forget_password",element:r.jsx(Yq,{})}),r.jsx(pt,{path:"/profile",element:r.jsx(bK,{})}),r.jsxs(pt,{path:"/user",element:r.jsx($K,{}),children:[r.jsx(pt,{path:"dashboard",element:r.jsx(yr,{children:r.jsx(jce,{})})}),r.jsx(pt,{path:"Appointments",element:r.jsx(yr,{children:r.jsx(Gue,{})})}),r.jsx(pt,{path:"PhoneCalls",element:r.jsx(yr,{children:r.jsx(Dce,{})})}),r.jsx(pt,{path:"callhistory",element:r.jsx(yr,{children:r.jsx(Zce,{})})}),r.jsx(pt,{path:"settings",element:r.jsx(yr,{children:r.jsx(Xce,{})})}),r.jsx(pt,{path:"CRM",element:r.jsx(yr,{children:r.jsx(Vue,{})})}),r.jsx(pt,{path:"callassistent",element:r.jsx(yr,{children:r.jsx(Qce,{})})}),r.jsx(pt,{path:"edit-assistant/:assistantId",element:r.jsx(yr,{children:r.jsx(iue,{})})}),r.jsx(pt,{path:"assistant/create",element:r.jsx(yr,{children:r.jsx(fue,{})})}),r.jsx(pt,{path:"leads",element:r.jsx(yr,{children:r.jsx(xue,{})})}),r.jsx(pt,{path:"lead/:id",element:r.jsx(yr,{children:r.jsx(bue,{})})}),r.jsx(pt,{path:"upload-csv",element:r.jsx(yr,{children:r.jsx(Nue,{})})}),r.jsx(pt,{path:"campaigns",element:r.jsx(yr,{children:r.jsx(TT,{})})}),r.jsx(pt,{path:"campain",element:r.jsx(yr,{children:r.jsx(TT,{})})})]}),r.jsxs(pt,{path:"/admin",element:r.jsx(Jue,{}),children:[r.jsx(pt,{path:"dashboard",element:r.jsx(Na,{children:r.jsx(mde,{})})}),r.jsx(pt,{path:"Users",element:r.jsx(Na,{children:r.jsx(rde,{})})}),r.jsx(pt,{path:"PhoneCalls",element:r.jsx(Na,{children:r.jsx(gde,{})})}),r.jsx(pt,{path:"settings",element:r.jsx(Na,{children:r.jsx(hde,{})})}),r.jsx(pt,{path:"addassistands",element:r.jsx(Na,{children:r.jsx(Nde,{})})}),r.jsx(pt,{path:"edit-assistants/:assistantId",element:r.jsx(Na,{children:r.jsx(Cde,{})})}),r.jsx(pt,{path:"assistants",element:r.jsx(Na,{children:r.jsx(kde,{})})}),r.jsx(pt,{path:"callhistory",element:r.jsx(Na,{children:r.jsx($de,{})})}),r.jsx(pt,{path:"lead/:id",element:r.jsx(Na,{children:r.jsx(Ide,{})})}),r.jsx(pt,{path:"lead",element:r.jsx(Na,{children:r.jsx(Hde,{})})}),r.jsx(pt,{path:"upload-csv",element:r.jsx(Na,{children:r.jsx(qde,{})})})]}),r.jsx(pt,{path:"*",element:r.jsx(JB,{})})]})}),r.jsx(ez,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}G9.createRoot(document.getElementById("root")).render(r.jsx(v.StrictMode,{children:r.jsx(Kde,{})}));
