var vB=Object.defineProperty;var yB=(e,a,s)=>a in e?vB(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s;var Wy=(e,a,s)=>yB(e,typeof a!="symbol"?a+"":a,s);function jB(e,a){for(var s=0;s<a.length;s++){const n=a[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in e)){const l=Object.getOwnPropertyDescriptor(n,r);l&&Object.defineProperty(e,r,l.get?l:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function Ei(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xy={exports:{}},Gm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function wB(){if(fC)return Gm;fC=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(n,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var u in r)u!=="key"&&(l[u]=r[u])}else l=r;return r=l.ref,{$$typeof:e,type:n,key:c,ref:r!==void 0?r:null,props:l}}return Gm.Fragment=a,Gm.jsx=s,Gm.jsxs=s,Gm}var xC;function NB(){return xC||(xC=1,Xy.exports=wB()),Xy.exports}var t=NB(),Zy={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function SB(){if(pC)return kt;pC=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function k(D,R,Z){this.props=D,this.context=R,this.refs=S,this.updater=Z||w}k.prototype.isReactComponent={},k.prototype.setState=function(D,R){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,R,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function _(){}_.prototype=k.prototype;function C(D,R,Z){this.props=D,this.context=R,this.refs=S,this.updater=Z||w}var T=C.prototype=new _;T.constructor=C,j(T,k.prototype),T.isPureReactComponent=!0;var O=Array.isArray;function E(){}var $={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function H(D,R,Z){var de=Z.ref;return{$$typeof:e,type:D,key:R,ref:de!==void 0?de:null,props:Z}}function V(D,R){return H(D.type,R,D.props)}function F(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function B(D){var R={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Z){return R[Z]})}var ee=/\/+/g;function we(D,R){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):R.toString(36)}function ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(E,E):(D.status="pending",D.then(function(R){D.status==="pending"&&(D.status="fulfilled",D.value=R)},function(R){D.status==="pending"&&(D.status="rejected",D.reason=R)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function A(D,R,Z,de,le){var be=typeof D;(be==="undefined"||be==="boolean")&&(D=null);var Ue=!1;if(D===null)Ue=!0;else switch(be){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(D.$$typeof){case e:case a:Ue=!0;break;case f:return Ue=D._init,A(Ue(D._payload),R,Z,de,le)}}if(Ue)return le=le(D),Ue=de===""?"."+we(D,0):de,O(le)?(Z="",Ue!=null&&(Z=Ue.replace(ee,"$&/")+"/"),A(le,R,Z,"",function(Ie){return Ie})):le!=null&&(F(le)&&(le=V(le,Z+(le.key==null||D&&D.key===le.key?"":(""+le.key).replace(ee,"$&/")+"/")+Ue)),R.push(le)),1;Ue=0;var xe=de===""?".":de+":";if(O(D))for(var ve=0;ve<D.length;ve++)de=D[ve],be=xe+we(de,ve),Ue+=A(de,R,Z,be,le);else if(ve=v(D),typeof ve=="function")for(D=ve.call(D),ve=0;!(de=D.next()).done;)de=de.value,be=xe+we(de,ve++),Ue+=A(de,R,Z,be,le);else if(be==="object"){if(typeof D.then=="function")return A(ne(D),R,Z,de,le);throw R=String(D),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function U(D,R,Z){if(D==null)return D;var de=[],le=0;return A(D,de,"","",function(be){return R.call(Z,be,le++)}),de}function K(D){if(D._status===-1){var R=D._result;R=R(),R.then(function(Z){(D._status===0||D._status===-1)&&(D._status=1,D._result=Z)},function(Z){(D._status===0||D._status===-1)&&(D._status=2,D._result=Z)}),D._status===-1&&(D._status=0,D._result=R)}if(D._status===1)return D._result.default;throw D._result}var z=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},I={map:U,forEach:function(D,R,Z){U(D,function(){R.apply(this,arguments)},Z)},count:function(D){var R=0;return U(D,function(){R++}),R},toArray:function(D){return U(D,function(R){return R})||[]},only:function(D){if(!F(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return kt.Activity=g,kt.Children=I,kt.Component=k,kt.Fragment=s,kt.Profiler=r,kt.PureComponent=C,kt.StrictMode=n,kt.Suspense=m,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,kt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return $.H.useMemoCache(D)}},kt.cache=function(D){return function(){return D.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(D,R,Z){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var de=j({},D.props),le=D.key;if(R!=null)for(be in R.key!==void 0&&(le=""+R.key),R)!M.call(R,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&R.ref===void 0||(de[be]=R[be]);var be=arguments.length-2;if(be===1)de.children=Z;else if(1<be){for(var Ue=Array(be),xe=0;xe<be;xe++)Ue[xe]=arguments[xe+2];de.children=Ue}return H(D.type,le,de)},kt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},kt.createElement=function(D,R,Z){var de,le={},be=null;if(R!=null)for(de in R.key!==void 0&&(be=""+R.key),R)M.call(R,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(le[de]=R[de]);var Ue=arguments.length-2;if(Ue===1)le.children=Z;else if(1<Ue){for(var xe=Array(Ue),ve=0;ve<Ue;ve++)xe[ve]=arguments[ve+2];le.children=xe}if(D&&D.defaultProps)for(de in Ue=D.defaultProps,Ue)le[de]===void 0&&(le[de]=Ue[de]);return H(D,be,le)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(D){return{$$typeof:u,render:D}},kt.isValidElement=F,kt.lazy=function(D){return{$$typeof:f,_payload:{_status:-1,_result:D},_init:K}},kt.memo=function(D,R){return{$$typeof:h,type:D,compare:R===void 0?null:R}},kt.startTransition=function(D){var R=$.T,Z={};$.T=Z;try{var de=D(),le=$.S;le!==null&&le(Z,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(E,z)}catch(be){z(be)}finally{R!==null&&Z.types!==null&&(R.types=Z.types),$.T=R}},kt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},kt.use=function(D){return $.H.use(D)},kt.useActionState=function(D,R,Z){return $.H.useActionState(D,R,Z)},kt.useCallback=function(D,R){return $.H.useCallback(D,R)},kt.useContext=function(D){return $.H.useContext(D)},kt.useDebugValue=function(){},kt.useDeferredValue=function(D,R){return $.H.useDeferredValue(D,R)},kt.useEffect=function(D,R){return $.H.useEffect(D,R)},kt.useEffectEvent=function(D){return $.H.useEffectEvent(D)},kt.useId=function(){return $.H.useId()},kt.useImperativeHandle=function(D,R,Z){return $.H.useImperativeHandle(D,R,Z)},kt.useInsertionEffect=function(D,R){return $.H.useInsertionEffect(D,R)},kt.useLayoutEffect=function(D,R){return $.H.useLayoutEffect(D,R)},kt.useMemo=function(D,R){return $.H.useMemo(D,R)},kt.useOptimistic=function(D,R){return $.H.useOptimistic(D,R)},kt.useReducer=function(D,R,Z){return $.H.useReducer(D,R,Z)},kt.useRef=function(D){return $.H.useRef(D)},kt.useState=function(D){return $.H.useState(D)},kt.useSyncExternalStore=function(D,R,Z){return $.H.useSyncExternalStore(D,R,Z)},kt.useTransition=function(){return $.H.useTransition()},kt.version="19.2.0",kt}var gC;function $u(){return gC||(gC=1,Zy.exports=SB()),Zy.exports}var x=$u();const Ft=Ei(x),_B=jB({__proto__:null,default:Ft},[x]);var Jy={exports:{}},Km={},Qy={exports:{}},e1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function kB(){return bC||(bC=1,(function(e){function a(A,U){var K=A.length;A.push(U);e:for(;0<K;){var z=K-1>>>1,I=A[z];if(0<r(I,U))A[z]=U,A[K]=I,K=z;else break e}}function s(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var U=A[0],K=A.pop();if(K!==U){A[0]=K;e:for(var z=0,I=A.length,D=I>>>1;z<D;){var R=2*(z+1)-1,Z=A[R],de=R+1,le=A[de];if(0>r(Z,K))de<I&&0>r(le,Z)?(A[z]=le,A[de]=K,z=de):(A[z]=Z,A[R]=K,z=R);else if(de<I&&0>r(le,K))A[z]=le,A[de]=K,z=de;else break e}}return U}function r(A,U){var K=A.sortIndex-U.sortIndex;return K!==0?K:A.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var m=[],h=[],f=1,g=null,b=3,v=!1,w=!1,j=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function T(A){for(var U=s(h);U!==null;){if(U.callback===null)n(h);else if(U.startTime<=A)n(h),U.sortIndex=U.expirationTime,a(m,U);else break;U=s(h)}}function O(A){if(j=!1,T(A),!w)if(s(m)!==null)w=!0,E||(E=!0,B());else{var U=s(h);U!==null&&ne(O,U.startTime-A)}}var E=!1,$=-1,M=5,H=-1;function V(){return S?!0:!(e.unstable_now()-H<M)}function F(){if(S=!1,E){var A=e.unstable_now();H=A;var U=!0;try{e:{w=!1,j&&(j=!1,_($),$=-1),v=!0;var K=b;try{t:{for(T(A),g=s(m);g!==null&&!(g.expirationTime>A&&V());){var z=g.callback;if(typeof z=="function"){g.callback=null,b=g.priorityLevel;var I=z(g.expirationTime<=A);if(A=e.unstable_now(),typeof I=="function"){g.callback=I,T(A),U=!0;break t}g===s(m)&&n(m),T(A)}else n(m);g=s(m)}if(g!==null)U=!0;else{var D=s(h);D!==null&&ne(O,D.startTime-A),U=!1}}break e}finally{g=null,b=K,v=!1}U=void 0}}finally{U?B():E=!1}}}var B;if(typeof C=="function")B=function(){C(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,we=ee.port2;ee.port1.onmessage=F,B=function(){we.postMessage(null)}}else B=function(){k(F,0)};function ne(A,U){$=k(function(){A(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(A){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var K=b;b=U;try{return A()}finally{b=K}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var K=b;b=A;try{return U()}finally{b=K}},e.unstable_scheduleCallback=function(A,U,K){var z=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?z+K:z):K=z,A){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=K+I,A={id:f++,callback:U,priorityLevel:A,startTime:K,expirationTime:I,sortIndex:-1},K>z?(A.sortIndex=K,a(h,A),s(m)===null&&A===s(h)&&(j?(_($),$=-1):j=!0,ne(O,K-z))):(A.sortIndex=I,a(m,A),w||v||(w=!0,E||(E=!0,B()))),A},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(A){var U=b;return function(){var K=b;b=U;try{return A.apply(this,arguments)}finally{b=K}}}})(e1)),e1}var vC;function CB(){return vC||(vC=1,Qy.exports=kB()),Qy.exports}var t1={exports:{}},Ks={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC;function AB(){if(yC)return Ks;yC=1;var e=$u();function a(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(m,h,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:m,containerInfo:h,implementation:f}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ks.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ks.createPortal=function(m,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(a(299));return l(m,h,null,f)},Ks.flushSync=function(m){var h=c.T,f=n.p;try{if(c.T=null,n.p=2,m)return m()}finally{c.T=h,n.p=f,n.d.f()}},Ks.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(m,h))},Ks.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},Ks.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var f=h.as,g=u(f,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):f==="script"&&n.d.X(m,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ks.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=u(h.as,h.crossOrigin);n.d.M(m,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(m)},Ks.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,g=u(f,h.crossOrigin);n.d.L(m,f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ks.preloadModule=function(m,h){if(typeof m=="string")if(h){var f=u(h.as,h.crossOrigin);n.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(m)},Ks.requestFormReset=function(m){n.d.r(m)},Ks.unstable_batchedUpdates=function(m,h){return m(h)},Ks.useFormState=function(m,h,f){return c.H.useFormState(m,h,f)},Ks.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ks.version="19.2.0",Ks}var jC;function RM(){if(jC)return t1.exports;jC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),t1.exports=AB(),t1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC;function EB(){if(wC)return Km;wC=1;var e=CB(),a=$u(),s=RM();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,p=o;;){var y=d.return;if(y===null)break;var N=y.alternate;if(N===null){if(p=y.return,p!==null){d=p;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===d)return m(y),i;if(N===p)return m(y),o;N=N.sibling}throw Error(n(188))}if(d.return!==p.return)d=y,p=N;else{for(var P=!1,q=y.child;q;){if(q===d){P=!0,d=y,p=N;break}if(q===p){P=!0,p=y,d=N;break}q=q.sibling}if(!P){for(q=N.child;q;){if(q===d){P=!0,d=N,p=y;break}if(q===p){P=!0,p=N,d=y;break}q=q.sibling}if(!P)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function f(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=f(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var ee=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ee?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case E:return"SuspenseList";case H:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case C:return i.displayName||"Context";case _:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return o=i.displayName||null,o!==null?o:we(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return we(i(o))}catch{}}return null}var ne=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},z=[],I=-1;function D(i){return{current:i}}function R(i){0>I||(i.current=z[I],z[I]=null,I--)}function Z(i,o){I++,z[I]=i.current,i.current=o}var de=D(null),le=D(null),be=D(null),Ue=D(null);function xe(i,o){switch(Z(be,o),Z(le,i),Z(de,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?$k(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=$k(o),i=Ik(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}R(de),Z(de,i)}function ve(){R(de),R(le),R(be)}function Ie(i){i.memoizedState!==null&&Z(Ue,i);var o=de.current,d=Ik(o,i.type);o!==d&&(Z(le,i),Z(de,d))}function Ye(i){le.current===i&&(R(de),R(le)),Ue.current===i&&(R(Ue),Fm._currentValue=K)}var ke,Je;function Xe(i){if(ke===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ke=o&&o[1]||"",Je=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+i+Je}var ue=!1;function ie(i,o){if(!i||ue)return"";ue=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Re){var Me=Re}Reflect.construct(i,[],Ke)}else{try{Ke.call()}catch(Re){Me=Re}i.call(Ke.prototype)}}else{try{throw Error()}catch(Re){Me=Re}(Ke=i())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Re){if(Re&&Me&&typeof Re.stack=="string")return[Re.stack,Me.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),P=N[0],q=N[1];if(P&&q){var re=P.split(`
`),Ee=q.split(`
`);for(y=p=0;p<re.length&&!re[p].includes("DetermineComponentFrameRoot");)p++;for(;y<Ee.length&&!Ee[y].includes("DetermineComponentFrameRoot");)y++;if(p===re.length||y===Ee.length)for(p=re.length-1,y=Ee.length-1;1<=p&&0<=y&&re[p]!==Ee[y];)y--;for(;1<=p&&0<=y;p--,y--)if(re[p]!==Ee[y]){if(p!==1||y!==1)do if(p--,y--,0>y||re[p]!==Ee[y]){var Fe=`
`+re[p].replace(" at new "," at ");return i.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",i.displayName)),Fe}while(1<=p&&0<=y);break}}}finally{ue=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Xe(d):""}function De(i,o){switch(i.tag){case 26:case 27:case 5:return Xe(i.type);case 16:return Xe("Lazy");case 13:return i.child!==o&&o!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return ie(i.type,!1);case 11:return ie(i.type.render,!1);case 1:return ie(i.type,!0);case 31:return Xe("Activity");default:return""}}function G(i){try{var o="",d=null;do o+=De(i,d),d=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ce=Object.prototype.hasOwnProperty,$e=e.unstable_scheduleCallback,qe=e.unstable_cancelCallback,ye=e.unstable_shouldYield,Be=e.unstable_requestPaint,_e=e.unstable_now,te=e.unstable_getCurrentPriorityLevel,Y=e.unstable_ImmediatePriority,Se=e.unstable_UserBlockingPriority,me=e.unstable_NormalPriority,X=e.unstable_LowPriority,Te=e.unstable_IdlePriority,He=e.log,Ve=e.unstable_setDisableYieldValue,rt=null,nt=null;function Oe(i){if(typeof He=="function"&&Ve(i),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(rt,i)}catch{}}var We=Math.clz32?Math.clz32:oe,pt=Math.log,Oa=Math.LN2;function oe(i){return i>>>=0,i===0?32:31-(pt(i)/Oa|0)|0}var J=256,se=262144,fe=4194304;function Qe(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ht(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var y=0,N=i.suspendedLanes,P=i.pingedLanes;i=i.warmLanes;var q=p&134217727;return q!==0?(p=q&~N,p!==0?y=Qe(p):(P&=q,P!==0?y=Qe(P):d||(d=q&~i,d!==0&&(y=Qe(d))))):(q=p&~N,q!==0?y=Qe(q):P!==0?y=Qe(P):d||(d=p&~i,d!==0&&(y=Qe(d)))),y===0?0:o!==0&&o!==y&&(o&N)===0&&(N=y&-y,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:y}function Ct(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function wt(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var i=fe;return fe<<=1,(fe&62914560)===0&&(fe=4194304),i}function At(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function La(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Cs(i,o,d,p,y,N){var P=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var q=i.entanglements,re=i.expirationTimes,Ee=i.hiddenUpdates;for(d=P&~d;0<d;){var Fe=31-We(d),Ke=1<<Fe;q[Fe]=0,re[Fe]=-1;var Me=Ee[Fe];if(Me!==null)for(Ee[Fe]=null,Fe=0;Fe<Me.length;Fe++){var Re=Me[Fe];Re!==null&&(Re.lane&=-536870913)}d&=~Ke}p!==0&&qa(i,p,0),N!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=N&~(P&~o))}function qa(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-We(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function Ra(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-We(d),y=1<<p;y&o|i[p]&o&&(i[p]|=o),d&=~y}}function Hs(i,o){var d=o&-o;return d=(d&42)!==0?1:As(d),(d&(i.suspendedLanes|o))!==0?0:d}function As(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function bn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Oi(){var i=U.p;return i!==0?i:(i=window.event,i===void 0?32:lC(i.type))}function vn(i,o){var d=U.p;try{return U.p=i,o()}finally{U.p=d}}var Es=Math.random().toString(36).slice(2),ma="__reactFiber$"+Es,Q="__reactProps$"+Es,je="__reactContainer$"+Es,at="__reactEvents$"+Es,W="__reactListeners$"+Es,ae="__reactHandles$"+Es,Ce="__reactResources$"+Es,et="__reactMarker$"+Es;function ut(i){delete i[ma],delete i[Q],delete i[at],delete i[W],delete i[ae]}function _t(i){var o=i[ma];if(o)return o;for(var d=i.parentNode;d;){if(o=d[je]||d[ma]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=qk(i);i!==null;){if(d=i[ma])return d;i=qk(i)}return o}i=d,d=i.parentNode}return null}function gt(i){if(i=i[ma]||i[je]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Ht(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function qt(i){var o=i[Ce];return o||(o=i[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Mt(i){i[et]=!0}var ls=new Set,ri={};function qs(i,o){Gs(i,o),Gs(i+"Capture",o)}function Gs(i,o){for(ri[i]=o,i=0;i<o.length;i++)ls.add(o[i])}var xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},ge={};function ze(i){return ce.call(ge,i)?!0:ce.call(To,i)?!1:xs.test(i)?ge[i]=!0:(To[i]=!0,!1)}function tt(i,o,d){if(ze(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function st(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function it(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}function vt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function nn(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function a0(i,o,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var y=p.get,N=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(P){d=""+P,N.call(this,P)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(P){d=""+P},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Fb(i){if(!i._valueTracker){var o=nn(i)?"checked":"value";i._valueTracker=a0(i,o,""+i[o])}}function T_(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=nn(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function s0(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var hI=/[\n"\\]/g;function nr(i){return i.replace(hI,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Vb(i,o,d,p,y,N,P,q){i.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.type=P:i.removeAttribute("type"),o!=null?P==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+vt(o)):i.value!==""+vt(o)&&(i.value=""+vt(o)):P!=="submit"&&P!=="reset"||i.removeAttribute("value"),o!=null?Hb(i,P,vt(o)):d!=null?Hb(i,P,vt(d)):p!=null&&i.removeAttribute("value"),y==null&&N!=null&&(i.defaultChecked=!!N),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?i.name=""+vt(q):i.removeAttribute("name")}function O_(i,o,d,p,y,N,P,q){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null)){Fb(i);return}d=d!=null?""+vt(d):"",o=o!=null?""+vt(o):d,q||o===i.value||(i.value=o),i.defaultValue=o}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=q?i.checked:!!p,i.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(i.name=P),Fb(i)}function Hb(i,o,d){o==="number"&&s0(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Gc(i,o,d,p){if(i=i.options,o){o={};for(var y=0;y<d.length;y++)o["$"+d[y]]=!0;for(d=0;d<i.length;d++)y=o.hasOwnProperty("$"+i[d].value),i[d].selected!==y&&(i[d].selected=y),y&&p&&(i[d].defaultSelected=!0)}else{for(d=""+vt(d),o=null,y=0;y<i.length;y++){if(i[y].value===d){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function P_(i,o,d){if(o!=null&&(o=""+vt(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+vt(d):""}function M_(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(ne(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=vt(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Fb(i)}function Kc(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var fI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function D_(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||fI.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function L_(i,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var y in o)p=o[y],o.hasOwnProperty(y)&&d[y]!==p&&D_(i,y,p)}else for(var N in o)o.hasOwnProperty(N)&&D_(i,N,o[N])}function qb(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function n0(i){return pI.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Pi(){}var Gb=null;function Kb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Yc=null,Wc=null;function R_(i){var o=gt(i);if(o&&(i=o.stateNode)){var d=i[Q]||null;e:switch(i=o.stateNode,o.type){case"input":if(Vb(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+nr(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var y=p[Q]||null;if(!y)throw Error(n(90));Vb(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&T_(p)}break e;case"textarea":P_(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Gc(i,!!d.multiple,o,!1)}}}var Yb=!1;function $_(i,o,d){if(Yb)return i(o,d);Yb=!0;try{var p=i(o);return p}finally{if(Yb=!1,(Yc!==null||Wc!==null)&&(q0(),Yc&&(o=Yc,i=Wc,Wc=Yc=null,R_(o),i)))for(o=0;o<i.length;o++)R_(i[o])}}function rm(i,o){var d=i.stateNode;if(d===null)return null;var p=d[Q]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wb=!1;if(Mi)try{var im={};Object.defineProperty(im,"passive",{get:function(){Wb=!0}}),window.addEventListener("test",im,im),window.removeEventListener("test",im,im)}catch{Wb=!1}var El=null,Xb=null,r0=null;function I_(){if(r0)return r0;var i,o=Xb,d=o.length,p,y="value"in El?El.value:El.textContent,N=y.length;for(i=0;i<d&&o[i]===y[i];i++);var P=d-i;for(p=1;p<=P&&o[d-p]===y[N-p];p++);return r0=y.slice(i,1<p?1-p:void 0)}function i0(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function l0(){return!0}function z_(){return!1}function yn(i){function o(d,p,y,N,P){this._reactName=d,this._targetInst=y,this.type=p,this.nativeEvent=N,this.target=P,this.currentTarget=null;for(var q in i)i.hasOwnProperty(q)&&(d=i[q],this[q]=d?d(N):N[q]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?l0:z_,this.isPropagationStopped=z_,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=l0)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=l0)},persist:function(){},isPersistent:l0}),o}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o0=yn(Oo),lm=g({},Oo,{view:0,detail:0}),gI=yn(lm),Zb,Jb,om,c0=g({},lm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ev,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==om&&(om&&i.type==="mousemove"?(Zb=i.screenX-om.screenX,Jb=i.screenY-om.screenY):Jb=Zb=0,om=i),Zb)},movementY:function(i){return"movementY"in i?i.movementY:Jb}}),B_=yn(c0),bI=g({},c0,{dataTransfer:0}),vI=yn(bI),yI=g({},lm,{relatedTarget:0}),Qb=yn(yI),jI=g({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),wI=yn(jI),NI=g({},Oo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),SI=yn(NI),_I=g({},Oo,{data:0}),U_=yn(_I),kI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EI(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=AI[i])?!!o[i]:!1}function ev(){return EI}var TI=g({},lm,{key:function(i){if(i.key){var o=kI[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=i0(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?CI[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ev,charCode:function(i){return i.type==="keypress"?i0(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?i0(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),OI=yn(TI),PI=g({},c0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F_=yn(PI),MI=g({},lm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ev}),DI=yn(MI),LI=g({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),RI=yn(LI),$I=g({},c0,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),II=yn($I),zI=g({},Oo,{newState:0,oldState:0}),BI=yn(zI),UI=[9,13,27,32],tv=Mi&&"CompositionEvent"in window,cm=null;Mi&&"documentMode"in document&&(cm=document.documentMode);var FI=Mi&&"TextEvent"in window&&!cm,V_=Mi&&(!tv||cm&&8<cm&&11>=cm),H_=" ",q_=!1;function G_(i,o){switch(i){case"keyup":return UI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K_(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xc=!1;function VI(i,o){switch(i){case"compositionend":return K_(o);case"keypress":return o.which!==32?null:(q_=!0,H_);case"textInput":return i=o.data,i===H_&&q_?null:i;default:return null}}function HI(i,o){if(Xc)return i==="compositionend"||!tv&&G_(i,o)?(i=I_(),r0=Xb=El=null,Xc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return V_&&o.locale!=="ko"?null:o.data;default:return null}}var qI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!qI[i.type]:o==="textarea"}function W_(i,o,d,p){Yc?Wc?Wc.push(p):Wc=[p]:Yc=p,o=J0(o,"onChange"),0<o.length&&(d=new o0("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var dm=null,um=null;function GI(i){Ok(i,0)}function d0(i){var o=Ht(i);if(T_(o))return i}function X_(i,o){if(i==="change")return o}var Z_=!1;if(Mi){var av;if(Mi){var sv="oninput"in document;if(!sv){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),sv=typeof J_.oninput=="function"}av=sv}else av=!1;Z_=av&&(!document.documentMode||9<document.documentMode)}function Q_(){dm&&(dm.detachEvent("onpropertychange",e5),um=dm=null)}function e5(i){if(i.propertyName==="value"&&d0(um)){var o=[];W_(o,um,i,Kb(i)),$_(GI,o)}}function KI(i,o,d){i==="focusin"?(Q_(),dm=o,um=d,dm.attachEvent("onpropertychange",e5)):i==="focusout"&&Q_()}function YI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return d0(um)}function WI(i,o){if(i==="click")return d0(o)}function XI(i,o){if(i==="input"||i==="change")return d0(o)}function ZI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Dn=typeof Object.is=="function"?Object.is:ZI;function mm(i,o){if(Dn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var y=d[p];if(!ce.call(o,y)||!Dn(i[y],o[y]))return!1}return!0}function t5(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function a5(i,o){var d=t5(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=t5(d)}}function s5(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?s5(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function n5(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=s0(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=s0(i.document)}return o}function nv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var JI=Mi&&"documentMode"in document&&11>=document.documentMode,Zc=null,rv=null,hm=null,iv=!1;function r5(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;iv||Zc==null||Zc!==s0(p)||(p=Zc,"selectionStart"in p&&nv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),hm&&mm(hm,p)||(hm=p,p=J0(rv,"onSelect"),0<p.length&&(o=new o0("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=Zc)))}function Po(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var Jc={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionrun:Po("Transition","TransitionRun"),transitionstart:Po("Transition","TransitionStart"),transitioncancel:Po("Transition","TransitionCancel"),transitionend:Po("Transition","TransitionEnd")},lv={},i5={};Mi&&(i5=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function Mo(i){if(lv[i])return lv[i];if(!Jc[i])return i;var o=Jc[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in i5)return lv[i]=o[d];return i}var l5=Mo("animationend"),o5=Mo("animationiteration"),c5=Mo("animationstart"),QI=Mo("transitionrun"),ez=Mo("transitionstart"),tz=Mo("transitioncancel"),d5=Mo("transitionend"),u5=new Map,ov="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ov.push("scrollEnd");function Lr(i,o){u5.set(i,o),qs(o,[i])}var u0=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},rr=[],Qc=0,cv=0;function m0(){for(var i=Qc,o=cv=Qc=0;o<i;){var d=rr[o];rr[o++]=null;var p=rr[o];rr[o++]=null;var y=rr[o];rr[o++]=null;var N=rr[o];if(rr[o++]=null,p!==null&&y!==null){var P=p.pending;P===null?y.next=y:(y.next=P.next,P.next=y),p.pending=y}N!==0&&m5(d,y,N)}}function h0(i,o,d,p){rr[Qc++]=i,rr[Qc++]=o,rr[Qc++]=d,rr[Qc++]=p,cv|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function dv(i,o,d,p){return h0(i,o,d,p),f0(i)}function Do(i,o){return h0(i,null,null,o),f0(i)}function m5(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var y=!1,N=i.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(y=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,y&&o!==null&&(y=31-We(d),i=N.hiddenUpdates,p=i[y],p===null?i[y]=[o]:p.push(o),o.lane=d|536870912),N):null}function f0(i){if(50<Lm)throw Lm=0,vy=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ed={};function az(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,o,d,p){return new az(i,o,d,p)}function uv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Di(i,o){var d=i.alternate;return d===null?(d=Ln(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function h5(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function x0(i,o,d,p,y,N){var P=0;if(p=i,typeof i=="function")uv(i)&&(P=1);else if(typeof i=="string")P=lB(i,d,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case H:return i=Ln(31,d,o,y),i.elementType=H,i.lanes=N,i;case j:return Lo(d.children,y,N,o);case S:P=8,y|=24;break;case k:return i=Ln(12,d,o,y|2),i.elementType=k,i.lanes=N,i;case O:return i=Ln(13,d,o,y),i.elementType=O,i.lanes=N,i;case E:return i=Ln(19,d,o,y),i.elementType=E,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:P=10;break e;case _:P=9;break e;case T:P=11;break e;case $:P=14;break e;case M:P=16,p=null;break e}P=29,d=Error(n(130,i===null?"null":typeof i,"")),p=null}return o=Ln(P,d,o,y),o.elementType=i,o.type=p,o.lanes=N,o}function Lo(i,o,d,p){return i=Ln(7,i,p,o),i.lanes=d,i}function mv(i,o,d){return i=Ln(6,i,null,o),i.lanes=d,i}function f5(i){var o=Ln(18,null,null,0);return o.stateNode=i,o}function hv(i,o,d){return o=Ln(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var x5=new WeakMap;function ir(i,o){if(typeof i=="object"&&i!==null){var d=x5.get(i);return d!==void 0?d:(o={value:i,source:o,stack:G(o)},x5.set(i,o),o)}return{value:i,source:o,stack:G(o)}}var td=[],ad=0,p0=null,fm=0,lr=[],or=0,Tl=null,ii=1,li="";function Li(i,o){td[ad++]=fm,td[ad++]=p0,p0=i,fm=o}function p5(i,o,d){lr[or++]=ii,lr[or++]=li,lr[or++]=Tl,Tl=i;var p=ii;i=li;var y=32-We(p)-1;p&=~(1<<y),d+=1;var N=32-We(o)+y;if(30<N){var P=y-y%5;N=(p&(1<<P)-1).toString(32),p>>=P,y-=P,ii=1<<32-We(o)+y|d<<y|p,li=N+i}else ii=1<<N|d<<y|p,li=i}function fv(i){i.return!==null&&(Li(i,1),p5(i,1,0))}function xv(i){for(;i===p0;)p0=td[--ad],td[ad]=null,fm=td[--ad],td[ad]=null;for(;i===Tl;)Tl=lr[--or],lr[or]=null,li=lr[--or],lr[or]=null,ii=lr[--or],lr[or]=null}function g5(i,o){lr[or++]=ii,lr[or++]=li,lr[or++]=Tl,ii=o.id,li=o.overflow,Tl=i}var Ts=null,ha=null,It=!1,Ol=null,cr=!1,pv=Error(n(519));function Pl(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xm(ir(o,i)),pv}function b5(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[ma]=i,o[Q]=p,d){case"dialog":Lt("cancel",o),Lt("close",o);break;case"iframe":case"object":case"embed":Lt("load",o);break;case"video":case"audio":for(d=0;d<$m.length;d++)Lt($m[d],o);break;case"source":Lt("error",o);break;case"img":case"image":case"link":Lt("error",o),Lt("load",o);break;case"details":Lt("toggle",o);break;case"input":Lt("invalid",o),O_(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Lt("invalid",o);break;case"textarea":Lt("invalid",o),M_(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||Lk(o.textContent,d)?(p.popover!=null&&(Lt("beforetoggle",o),Lt("toggle",o)),p.onScroll!=null&&Lt("scroll",o),p.onScrollEnd!=null&&Lt("scrollend",o),p.onClick!=null&&(o.onclick=Pi),o=!0):o=!1,o||Pl(i,!0)}function v5(i){for(Ts=i.return;Ts;)switch(Ts.tag){case 5:case 31:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:Ts=Ts.return}}function sd(i){if(i!==Ts)return!1;if(!It)return v5(i),It=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||Dy(i.type,i.memoizedProps)),d=!d),d&&ha&&Pl(i),v5(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));ha=Hk(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));ha=Hk(i)}else o===27?(o=ha,Gl(i.type)?(i=zy,zy=null,ha=i):ha=o):ha=Ts?ur(i.stateNode.nextSibling):null;return!0}function Ro(){ha=Ts=null,It=!1}function gv(){var i=Ol;return i!==null&&(Sn===null?Sn=i:Sn.push.apply(Sn,i),Ol=null),i}function xm(i){Ol===null?Ol=[i]:Ol.push(i)}var bv=D(null),$o=null,Ri=null;function Ml(i,o,d){Z(bv,o._currentValue),o._currentValue=d}function $i(i){i._currentValue=bv.current,R(bv)}function vv(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function yv(i,o,d,p){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var N=y.dependencies;if(N!==null){var P=y.child;N=N.firstContext;e:for(;N!==null;){var q=N;N=y;for(var re=0;re<o.length;re++)if(q.context===o[re]){N.lanes|=d,q=N.alternate,q!==null&&(q.lanes|=d),vv(N.return,d,i),p||(P=null);break e}N=q.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(n(341));P.lanes|=d,N=P.alternate,N!==null&&(N.lanes|=d),vv(P,d,i),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===i){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function nd(i,o,d,p){i=null;for(var y=o,N=!1;y!==null;){if(!N){if((y.flags&524288)!==0)N=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var q=y.type;Dn(y.pendingProps.value,P.value)||(i!==null?i.push(q):i=[q])}}else if(y===Ue.current){if(P=y.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Fm):i=[Fm])}y=y.return}i!==null&&yv(o,i,d,p),o.flags|=262144}function g0(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Io(i){$o=i,Ri=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Os(i){return y5($o,i)}function b0(i,o){return $o===null&&Io(i),y5(i,o)}function y5(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Ri===null){if(i===null)throw Error(n(308));Ri=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ri=Ri.next=o;return d}var sz=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},nz=e.unstable_scheduleCallback,rz=e.unstable_NormalPriority,Ja={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jv(){return{controller:new sz,data:new Map,refCount:0}}function pm(i){i.refCount--,i.refCount===0&&nz(rz,function(){i.controller.abort()})}var gm=null,wv=0,rd=0,id=null;function iz(i,o){if(gm===null){var d=gm=[];wv=0,rd=_y(),id={status:"pending",value:void 0,then:function(p){d.push(p)}}}return wv++,o.then(j5,j5),o}function j5(){if(--wv===0&&gm!==null){id!==null&&(id.status="fulfilled");var i=gm;gm=null,rd=0,id=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function lz(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var y=0;y<d.length;y++)(0,d[y])(o)},function(y){for(p.status="rejected",p.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),p}var w5=A.S;A.S=function(i,o){rk=_e(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&iz(i,o),w5!==null&&w5(i,o)};var zo=D(null);function Nv(){var i=zo.current;return i!==null?i:ia.pooledCache}function v0(i,o){o===null?Z(zo,zo.current):Z(zo,o.pool)}function N5(){var i=Nv();return i===null?null:{parent:Ja._currentValue,pool:i}}var ld=Error(n(460)),Sv=Error(n(474)),y0=Error(n(542)),j0={then:function(){}};function S5(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _5(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(Pi,Pi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,C5(i),i;default:if(typeof o.status=="string")o.then(Pi,Pi);else{if(i=ia,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=p}},function(p){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,C5(i),i}throw Uo=o,ld}}function Bo(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Uo=d,ld):d}}var Uo=null;function k5(){if(Uo===null)throw Error(n(459));var i=Uo;return Uo=null,i}function C5(i){if(i===ld||i===y0)throw Error(n(483))}var od=null,bm=0;function w0(i){var o=bm;return bm+=1,od===null&&(od=[]),_5(od,i,o)}function vm(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function N0(i,o){throw o.$$typeof===b?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function A5(i){function o(Ne,pe){if(i){var Ae=Ne.deletions;Ae===null?(Ne.deletions=[pe],Ne.flags|=16):Ae.push(pe)}}function d(Ne,pe){if(!i)return null;for(;pe!==null;)o(Ne,pe),pe=pe.sibling;return null}function p(Ne){for(var pe=new Map;Ne!==null;)Ne.key!==null?pe.set(Ne.key,Ne):pe.set(Ne.index,Ne),Ne=Ne.sibling;return pe}function y(Ne,pe){return Ne=Di(Ne,pe),Ne.index=0,Ne.sibling=null,Ne}function N(Ne,pe,Ae){return Ne.index=Ae,i?(Ae=Ne.alternate,Ae!==null?(Ae=Ae.index,Ae<pe?(Ne.flags|=67108866,pe):Ae):(Ne.flags|=67108866,pe)):(Ne.flags|=1048576,pe)}function P(Ne){return i&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function q(Ne,pe,Ae,Ge){return pe===null||pe.tag!==6?(pe=mv(Ae,Ne.mode,Ge),pe.return=Ne,pe):(pe=y(pe,Ae),pe.return=Ne,pe)}function re(Ne,pe,Ae,Ge){var ft=Ae.type;return ft===j?Fe(Ne,pe,Ae.props.children,Ge,Ae.key):pe!==null&&(pe.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===M&&Bo(ft)===pe.type)?(pe=y(pe,Ae.props),vm(pe,Ae),pe.return=Ne,pe):(pe=x0(Ae.type,Ae.key,Ae.props,null,Ne.mode,Ge),vm(pe,Ae),pe.return=Ne,pe)}function Ee(Ne,pe,Ae,Ge){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ae.containerInfo||pe.stateNode.implementation!==Ae.implementation?(pe=hv(Ae,Ne.mode,Ge),pe.return=Ne,pe):(pe=y(pe,Ae.children||[]),pe.return=Ne,pe)}function Fe(Ne,pe,Ae,Ge,ft){return pe===null||pe.tag!==7?(pe=Lo(Ae,Ne.mode,Ge,ft),pe.return=Ne,pe):(pe=y(pe,Ae),pe.return=Ne,pe)}function Ke(Ne,pe,Ae){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=mv(""+pe,Ne.mode,Ae),pe.return=Ne,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return Ae=x0(pe.type,pe.key,pe.props,null,Ne.mode,Ae),vm(Ae,pe),Ae.return=Ne,Ae;case w:return pe=hv(pe,Ne.mode,Ae),pe.return=Ne,pe;case M:return pe=Bo(pe),Ke(Ne,pe,Ae)}if(ne(pe)||B(pe))return pe=Lo(pe,Ne.mode,Ae,null),pe.return=Ne,pe;if(typeof pe.then=="function")return Ke(Ne,w0(pe),Ae);if(pe.$$typeof===C)return Ke(Ne,b0(Ne,pe),Ae);N0(Ne,pe)}return null}function Me(Ne,pe,Ae,Ge){var ft=pe!==null?pe.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ft!==null?null:q(Ne,pe,""+Ae,Ge);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case v:return Ae.key===ft?re(Ne,pe,Ae,Ge):null;case w:return Ae.key===ft?Ee(Ne,pe,Ae,Ge):null;case M:return Ae=Bo(Ae),Me(Ne,pe,Ae,Ge)}if(ne(Ae)||B(Ae))return ft!==null?null:Fe(Ne,pe,Ae,Ge,null);if(typeof Ae.then=="function")return Me(Ne,pe,w0(Ae),Ge);if(Ae.$$typeof===C)return Me(Ne,pe,b0(Ne,Ae),Ge);N0(Ne,Ae)}return null}function Re(Ne,pe,Ae,Ge,ft){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ne=Ne.get(Ae)||null,q(pe,Ne,""+Ge,ft);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case v:return Ne=Ne.get(Ge.key===null?Ae:Ge.key)||null,re(pe,Ne,Ge,ft);case w:return Ne=Ne.get(Ge.key===null?Ae:Ge.key)||null,Ee(pe,Ne,Ge,ft);case M:return Ge=Bo(Ge),Re(Ne,pe,Ae,Ge,ft)}if(ne(Ge)||B(Ge))return Ne=Ne.get(Ae)||null,Fe(pe,Ne,Ge,ft,null);if(typeof Ge.then=="function")return Re(Ne,pe,Ae,w0(Ge),ft);if(Ge.$$typeof===C)return Re(Ne,pe,Ae,b0(pe,Ge),ft);N0(pe,Ge)}return null}function ot(Ne,pe,Ae,Ge){for(var ft=null,Gt=null,dt=pe,Tt=pe=0,$t=null;dt!==null&&Tt<Ae.length;Tt++){dt.index>Tt?($t=dt,dt=null):$t=dt.sibling;var Kt=Me(Ne,dt,Ae[Tt],Ge);if(Kt===null){dt===null&&(dt=$t);break}i&&dt&&Kt.alternate===null&&o(Ne,dt),pe=N(Kt,pe,Tt),Gt===null?ft=Kt:Gt.sibling=Kt,Gt=Kt,dt=$t}if(Tt===Ae.length)return d(Ne,dt),It&&Li(Ne,Tt),ft;if(dt===null){for(;Tt<Ae.length;Tt++)dt=Ke(Ne,Ae[Tt],Ge),dt!==null&&(pe=N(dt,pe,Tt),Gt===null?ft=dt:Gt.sibling=dt,Gt=dt);return It&&Li(Ne,Tt),ft}for(dt=p(dt);Tt<Ae.length;Tt++)$t=Re(dt,Ne,Tt,Ae[Tt],Ge),$t!==null&&(i&&$t.alternate!==null&&dt.delete($t.key===null?Tt:$t.key),pe=N($t,pe,Tt),Gt===null?ft=$t:Gt.sibling=$t,Gt=$t);return i&&dt.forEach(function(Zl){return o(Ne,Zl)}),It&&Li(Ne,Tt),ft}function bt(Ne,pe,Ae,Ge){if(Ae==null)throw Error(n(151));for(var ft=null,Gt=null,dt=pe,Tt=pe=0,$t=null,Kt=Ae.next();dt!==null&&!Kt.done;Tt++,Kt=Ae.next()){dt.index>Tt?($t=dt,dt=null):$t=dt.sibling;var Zl=Me(Ne,dt,Kt.value,Ge);if(Zl===null){dt===null&&(dt=$t);break}i&&dt&&Zl.alternate===null&&o(Ne,dt),pe=N(Zl,pe,Tt),Gt===null?ft=Zl:Gt.sibling=Zl,Gt=Zl,dt=$t}if(Kt.done)return d(Ne,dt),It&&Li(Ne,Tt),ft;if(dt===null){for(;!Kt.done;Tt++,Kt=Ae.next())Kt=Ke(Ne,Kt.value,Ge),Kt!==null&&(pe=N(Kt,pe,Tt),Gt===null?ft=Kt:Gt.sibling=Kt,Gt=Kt);return It&&Li(Ne,Tt),ft}for(dt=p(dt);!Kt.done;Tt++,Kt=Ae.next())Kt=Re(dt,Ne,Tt,Kt.value,Ge),Kt!==null&&(i&&Kt.alternate!==null&&dt.delete(Kt.key===null?Tt:Kt.key),pe=N(Kt,pe,Tt),Gt===null?ft=Kt:Gt.sibling=Kt,Gt=Kt);return i&&dt.forEach(function(bB){return o(Ne,bB)}),It&&Li(Ne,Tt),ft}function sa(Ne,pe,Ae,Ge){if(typeof Ae=="object"&&Ae!==null&&Ae.type===j&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case v:e:{for(var ft=Ae.key;pe!==null;){if(pe.key===ft){if(ft=Ae.type,ft===j){if(pe.tag===7){d(Ne,pe.sibling),Ge=y(pe,Ae.props.children),Ge.return=Ne,Ne=Ge;break e}}else if(pe.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===M&&Bo(ft)===pe.type){d(Ne,pe.sibling),Ge=y(pe,Ae.props),vm(Ge,Ae),Ge.return=Ne,Ne=Ge;break e}d(Ne,pe);break}else o(Ne,pe);pe=pe.sibling}Ae.type===j?(Ge=Lo(Ae.props.children,Ne.mode,Ge,Ae.key),Ge.return=Ne,Ne=Ge):(Ge=x0(Ae.type,Ae.key,Ae.props,null,Ne.mode,Ge),vm(Ge,Ae),Ge.return=Ne,Ne=Ge)}return P(Ne);case w:e:{for(ft=Ae.key;pe!==null;){if(pe.key===ft)if(pe.tag===4&&pe.stateNode.containerInfo===Ae.containerInfo&&pe.stateNode.implementation===Ae.implementation){d(Ne,pe.sibling),Ge=y(pe,Ae.children||[]),Ge.return=Ne,Ne=Ge;break e}else{d(Ne,pe);break}else o(Ne,pe);pe=pe.sibling}Ge=hv(Ae,Ne.mode,Ge),Ge.return=Ne,Ne=Ge}return P(Ne);case M:return Ae=Bo(Ae),sa(Ne,pe,Ae,Ge)}if(ne(Ae))return ot(Ne,pe,Ae,Ge);if(B(Ae)){if(ft=B(Ae),typeof ft!="function")throw Error(n(150));return Ae=ft.call(Ae),bt(Ne,pe,Ae,Ge)}if(typeof Ae.then=="function")return sa(Ne,pe,w0(Ae),Ge);if(Ae.$$typeof===C)return sa(Ne,pe,b0(Ne,Ae),Ge);N0(Ne,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,pe!==null&&pe.tag===6?(d(Ne,pe.sibling),Ge=y(pe,Ae),Ge.return=Ne,Ne=Ge):(d(Ne,pe),Ge=mv(Ae,Ne.mode,Ge),Ge.return=Ne,Ne=Ge),P(Ne)):d(Ne,pe)}return function(Ne,pe,Ae,Ge){try{bm=0;var ft=sa(Ne,pe,Ae,Ge);return od=null,ft}catch(dt){if(dt===ld||dt===y0)throw dt;var Gt=Ln(29,dt,null,Ne.mode);return Gt.lanes=Ge,Gt.return=Ne,Gt}finally{}}}var Fo=A5(!0),E5=A5(!1),Dl=!1;function _v(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ll(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Rl(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Wt&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,o=f0(i),m5(i,null,d),o}return h0(i,p,o,d),f0(i)}function ym(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,Ra(i,d)}}function Cv(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var y=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?y=N=P:N=N.next=P,d=d.next}while(d!==null);N===null?y=N=o:N=N.next=o}else y=N=o;d={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var Av=!1;function jm(){if(Av){var i=id;if(i!==null)throw i}}function wm(i,o,d,p){Av=!1;var y=i.updateQueue;Dl=!1;var N=y.firstBaseUpdate,P=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var re=q,Ee=re.next;re.next=null,P===null?N=Ee:P.next=Ee,P=re;var Fe=i.alternate;Fe!==null&&(Fe=Fe.updateQueue,q=Fe.lastBaseUpdate,q!==P&&(q===null?Fe.firstBaseUpdate=Ee:q.next=Ee,Fe.lastBaseUpdate=re))}if(N!==null){var Ke=y.baseState;P=0,Fe=Ee=re=null,q=N;do{var Me=q.lane&-536870913,Re=Me!==q.lane;if(Re?(Rt&Me)===Me:(p&Me)===Me){Me!==0&&Me===rd&&(Av=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var ot=i,bt=q;Me=o;var sa=d;switch(bt.tag){case 1:if(ot=bt.payload,typeof ot=="function"){Ke=ot.call(sa,Ke,Me);break e}Ke=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=bt.payload,Me=typeof ot=="function"?ot.call(sa,Ke,Me):ot,Me==null)break e;Ke=g({},Ke,Me);break e;case 2:Dl=!0}}Me=q.callback,Me!==null&&(i.flags|=64,Re&&(i.flags|=8192),Re=y.callbacks,Re===null?y.callbacks=[Me]:Re.push(Me))}else Re={lane:Me,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Fe===null?(Ee=Fe=Re,re=Ke):Fe=Fe.next=Re,P|=Me;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;Re=q,q=Re.next,Re.next=null,y.lastBaseUpdate=Re,y.shared.pending=null}}while(!0);Fe===null&&(re=Ke),y.baseState=re,y.firstBaseUpdate=Ee,y.lastBaseUpdate=Fe,N===null&&(y.shared.lanes=0),Ul|=P,i.lanes=P,i.memoizedState=Ke}}function T5(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function O5(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)T5(d[i],o)}var cd=D(null),S0=D(0);function P5(i,o){i=Gi,Z(S0,i),Z(cd,o),Gi=i|o.baseLanes}function Ev(){Z(S0,Gi),Z(cd,cd.current)}function Tv(){Gi=S0.current,R(cd),R(S0)}var Rn=D(null),dr=null;function $l(i){var o=i.alternate;Z(Ga,Ga.current&1),Z(Rn,i),dr===null&&(o===null||cd.current!==null||o.memoizedState!==null)&&(dr=i)}function Ov(i){Z(Ga,Ga.current),Z(Rn,i),dr===null&&(dr=i)}function M5(i){i.tag===22?(Z(Ga,Ga.current),Z(Rn,i),dr===null&&(dr=i)):Il()}function Il(){Z(Ga,Ga.current),Z(Rn,Rn.current)}function $n(i){R(Rn),dr===i&&(dr=null),R(Ga)}var Ga=D(0);function _0(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||$y(d)||Iy(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ii=0,Et=null,ta=null,Qa=null,k0=!1,dd=!1,Vo=!1,C0=0,Nm=0,ud=null,oz=0;function $a(){throw Error(n(321))}function Pv(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Dn(i[d],o[d]))return!1;return!0}function Mv(i,o,d,p,y,N){return Ii=N,Et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,A.H=i===null||i.memoizedState===null?p3:Yv,Vo=!1,N=d(p,y),Vo=!1,dd&&(N=L5(o,d,p,y)),D5(i),N}function D5(i){A.H=km;var o=ta!==null&&ta.next!==null;if(Ii=0,Qa=ta=Et=null,k0=!1,Nm=0,ud=null,o)throw Error(n(300));i===null||es||(i=i.dependencies,i!==null&&g0(i)&&(es=!0))}function L5(i,o,d,p){Et=i;var y=0;do{if(dd&&(ud=null),Nm=0,dd=!1,25<=y)throw Error(n(301));if(y+=1,Qa=ta=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}A.H=g3,N=o(d,p)}while(dd);return N}function cz(){var i=A.H,o=i.useState()[0];return o=typeof o.then=="function"?Sm(o):o,i=i.useState()[0],(ta!==null?ta.memoizedState:null)!==i&&(Et.flags|=1024),o}function Dv(){var i=C0!==0;return C0=0,i}function Lv(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function Rv(i){if(k0){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}k0=!1}Ii=0,Qa=ta=Et=null,dd=!1,Nm=C0=0,ud=null}function rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qa===null?Et.memoizedState=Qa=i:Qa=Qa.next=i,Qa}function Ka(){if(ta===null){var i=Et.alternate;i=i!==null?i.memoizedState:null}else i=ta.next;var o=Qa===null?Et.memoizedState:Qa.next;if(o!==null)Qa=o,ta=i;else{if(i===null)throw Et.alternate===null?Error(n(467)):Error(n(310));ta=i,i={memoizedState:ta.memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},Qa===null?Et.memoizedState=Qa=i:Qa=Qa.next=i}return Qa}function A0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sm(i){var o=Nm;return Nm+=1,ud===null&&(ud=[]),i=_5(ud,i,o),o=Et,(Qa===null?o.memoizedState:Qa.next)===null&&(o=o.alternate,A.H=o===null||o.memoizedState===null?p3:Yv),i}function E0(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Sm(i);if(i.$$typeof===C)return Os(i)}throw Error(n(438,String(i)))}function $v(i){var o=null,d=Et.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=Et.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=A0(),Et.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=V;return o.index++,d}function zi(i,o){return typeof o=="function"?o(i):o}function T0(i){var o=Ka();return Iv(o,ta,i)}function Iv(i,o,d){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var y=i.baseQueue,N=p.pending;if(N!==null){if(y!==null){var P=y.next;y.next=N.next,N.next=P}o.baseQueue=y=N,p.pending=null}if(N=i.baseState,y===null)i.memoizedState=N;else{o=y.next;var q=P=null,re=null,Ee=o,Fe=!1;do{var Ke=Ee.lane&-536870913;if(Ke!==Ee.lane?(Rt&Ke)===Ke:(Ii&Ke)===Ke){var Me=Ee.revertLane;if(Me===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Ke===rd&&(Fe=!0);else if((Ii&Me)===Me){Ee=Ee.next,Me===rd&&(Fe=!0);continue}else Ke={lane:0,revertLane:Ee.revertLane,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},re===null?(q=re=Ke,P=N):re=re.next=Ke,Et.lanes|=Me,Ul|=Me;Ke=Ee.action,Vo&&d(N,Ke),N=Ee.hasEagerState?Ee.eagerState:d(N,Ke)}else Me={lane:Ke,revertLane:Ee.revertLane,gesture:Ee.gesture,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},re===null?(q=re=Me,P=N):re=re.next=Me,Et.lanes|=Ke,Ul|=Ke;Ee=Ee.next}while(Ee!==null&&Ee!==o);if(re===null?P=N:re.next=q,!Dn(N,i.memoizedState)&&(es=!0,Fe&&(d=id,d!==null)))throw d;i.memoizedState=N,i.baseState=P,i.baseQueue=re,p.lastRenderedState=N}return y===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function zv(i){var o=Ka(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,y=d.pending,N=o.memoizedState;if(y!==null){d.pending=null;var P=y=y.next;do N=i(N,P.action),P=P.next;while(P!==y);Dn(N,o.memoizedState)||(es=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,p]}function R5(i,o,d){var p=Et,y=Ka(),N=It;if(N){if(d===void 0)throw Error(n(407));d=d()}else d=o();var P=!Dn((ta||y).memoizedState,d);if(P&&(y.memoizedState=d,es=!0),y=y.queue,Fv(z5.bind(null,p,y,i),[i]),y.getSnapshot!==o||P||Qa!==null&&Qa.memoizedState.tag&1){if(p.flags|=2048,md(9,{destroy:void 0},I5.bind(null,p,y,d,o),null),ia===null)throw Error(n(349));N||(Ii&127)!==0||$5(p,o,d)}return d}function $5(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=Et.updateQueue,o===null?(o=A0(),Et.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function I5(i,o,d,p){o.value=d,o.getSnapshot=p,B5(o)&&U5(i)}function z5(i,o,d){return d(function(){B5(o)&&U5(i)})}function B5(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Dn(i,d)}catch{return!0}}function U5(i){var o=Do(i,2);o!==null&&_n(o,i,2)}function Bv(i){var o=rn();if(typeof i=="function"){var d=i;if(i=d(),Vo){Oe(!0);try{d()}finally{Oe(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:i},o}function F5(i,o,d,p){return i.baseState=d,Iv(i,ta,typeof p=="function"?p:zi)}function dz(i,o,d,p,y){if(M0(i))throw Error(n(485));if(i=o.action,i!==null){var N={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){N.listeners.push(P)}};A.T!==null?d(!0):N.isTransition=!1,p(N),d=o.pending,d===null?(N.next=o.pending=N,V5(o,N)):(N.next=d.next,o.pending=d.next=N)}}function V5(i,o){var d=o.action,p=o.payload,y=i.state;if(o.isTransition){var N=A.T,P={};A.T=P;try{var q=d(y,p),re=A.S;re!==null&&re(P,q),H5(i,o,q)}catch(Ee){Uv(i,o,Ee)}finally{N!==null&&P.types!==null&&(N.types=P.types),A.T=N}}else try{N=d(y,p),H5(i,o,N)}catch(Ee){Uv(i,o,Ee)}}function H5(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){q5(i,o,p)},function(p){return Uv(i,o,p)}):q5(i,o,d)}function q5(i,o,d){o.status="fulfilled",o.value=d,G5(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,V5(i,d)))}function Uv(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,G5(o),o=o.next;while(o!==p)}i.action=null}function G5(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function K5(i,o){return o}function Y5(i,o){if(It){var d=ia.formState;if(d!==null){e:{var p=Et;if(It){if(ha){t:{for(var y=ha,N=cr;y.nodeType!==8;){if(!N){y=null;break t}if(y=ur(y.nextSibling),y===null){y=null;break t}}N=y.data,y=N==="F!"||N==="F"?y:null}if(y){ha=ur(y.nextSibling),p=y.data==="F!";break e}}Pl(p)}p=!1}p&&(o=d[0])}}return d=rn(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K5,lastRenderedState:o},d.queue=p,d=h3.bind(null,Et,p),p.dispatch=d,p=Bv(!1),N=Kv.bind(null,Et,!1,p.queue),p=rn(),y={state:o,dispatch:null,action:i,pending:null},p.queue=y,d=dz.bind(null,Et,y,N,d),y.dispatch=d,p.memoizedState=i,[o,d,!1]}function W5(i){var o=Ka();return X5(o,ta,i)}function X5(i,o,d){if(o=Iv(i,o,K5)[0],i=T0(zi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Sm(o)}catch(P){throw P===ld?y0:P}else p=o;o=Ka();var y=o.queue,N=y.dispatch;return d!==o.memoizedState&&(Et.flags|=2048,md(9,{destroy:void 0},uz.bind(null,y,d),null)),[p,N,i]}function uz(i,o){i.action=o}function Z5(i){var o=Ka(),d=ta;if(d!==null)return X5(o,d,i);Ka(),o=o.memoizedState,d=Ka();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function md(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=Et.updateQueue,o===null&&(o=A0(),Et.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function J5(){return Ka().memoizedState}function O0(i,o,d,p){var y=rn();Et.flags|=i,y.memoizedState=md(1|o,{destroy:void 0},d,p===void 0?null:p)}function P0(i,o,d,p){var y=Ka();p=p===void 0?null:p;var N=y.memoizedState.inst;ta!==null&&p!==null&&Pv(p,ta.memoizedState.deps)?y.memoizedState=md(o,N,d,p):(Et.flags|=i,y.memoizedState=md(1|o,N,d,p))}function Q5(i,o){O0(8390656,8,i,o)}function Fv(i,o){P0(2048,8,i,o)}function mz(i){Et.flags|=4;var o=Et.updateQueue;if(o===null)o=A0(),Et.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function e3(i){var o=Ka().memoizedState;return mz({ref:o,nextImpl:i}),function(){if((Wt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function t3(i,o){return P0(4,2,i,o)}function a3(i,o){return P0(4,4,i,o)}function s3(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function n3(i,o,d){d=d!=null?d.concat([i]):null,P0(4,4,s3.bind(null,o,i),d)}function Vv(){}function r3(i,o){var d=Ka();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&Pv(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function i3(i,o){var d=Ka();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&Pv(o,p[1]))return p[0];if(p=i(),Vo){Oe(!0);try{i()}finally{Oe(!1)}}return d.memoizedState=[p,o],p}function Hv(i,o,d){return d===void 0||(Ii&1073741824)!==0&&(Rt&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=lk(),Et.lanes|=i,Ul|=i,d)}function l3(i,o,d,p){return Dn(d,o)?d:cd.current!==null?(i=Hv(i,d,p),Dn(i,o)||(es=!0),i):(Ii&42)===0||(Ii&1073741824)!==0&&(Rt&261930)===0?(es=!0,i.memoizedState=d):(i=lk(),Et.lanes|=i,Ul|=i,o)}function o3(i,o,d,p,y){var N=U.p;U.p=N!==0&&8>N?N:8;var P=A.T,q={};A.T=q,Kv(i,!1,o,d);try{var re=y(),Ee=A.S;if(Ee!==null&&Ee(q,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var Fe=lz(re,p);_m(i,o,Fe,Bn(i))}else _m(i,o,p,Bn(i))}catch(Ke){_m(i,o,{then:function(){},status:"rejected",reason:Ke},Bn())}finally{U.p=N,P!==null&&q.types!==null&&(P.types=q.types),A.T=P}}function hz(){}function qv(i,o,d,p){if(i.tag!==5)throw Error(n(476));var y=c3(i).queue;o3(i,y,o,K,d===null?hz:function(){return d3(i),d(p)})}function c3(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:K},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function d3(i){var o=c3(i);o.next===null&&(o=i.alternate.memoizedState),_m(i,o.next.queue,{},Bn())}function Gv(){return Os(Fm)}function u3(){return Ka().memoizedState}function m3(){return Ka().memoizedState}function fz(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=Bn();i=Ll(d);var p=Rl(o,i,d);p!==null&&(_n(p,o,d),ym(p,o,d)),o={cache:jv()},i.payload=o;return}o=o.return}}function xz(i,o,d){var p=Bn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},M0(i)?f3(o,d):(d=dv(i,o,d,p),d!==null&&(_n(d,i,p),x3(d,o,p)))}function h3(i,o,d){var p=Bn();_m(i,o,d,p)}function _m(i,o,d,p){var y={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(M0(i))f3(o,y);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var P=o.lastRenderedState,q=N(P,d);if(y.hasEagerState=!0,y.eagerState=q,Dn(q,P))return h0(i,o,y,0),ia===null&&m0(),!1}catch{}finally{}if(d=dv(i,o,y,p),d!==null)return _n(d,i,p),x3(d,o,p),!0}return!1}function Kv(i,o,d,p){if(p={lane:2,revertLane:_y(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},M0(i)){if(o)throw Error(n(479))}else o=dv(i,d,p,2),o!==null&&_n(o,i,2)}function M0(i){var o=i.alternate;return i===Et||o!==null&&o===Et}function f3(i,o){dd=k0=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function x3(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,Ra(i,d)}}var km={readContext:Os,use:E0,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useInsertionEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useSyncExternalStore:$a,useId:$a,useHostTransitionStatus:$a,useFormState:$a,useActionState:$a,useOptimistic:$a,useMemoCache:$a,useCacheRefresh:$a};km.useEffectEvent=$a;var p3={readContext:Os,use:E0,useCallback:function(i,o){return rn().memoizedState=[i,o===void 0?null:o],i},useContext:Os,useEffect:Q5,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,O0(4194308,4,s3.bind(null,o,i),d)},useLayoutEffect:function(i,o){return O0(4194308,4,i,o)},useInsertionEffect:function(i,o){O0(4,2,i,o)},useMemo:function(i,o){var d=rn();o=o===void 0?null:o;var p=i();if(Vo){Oe(!0);try{i()}finally{Oe(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=rn();if(d!==void 0){var y=d(o);if(Vo){Oe(!0);try{d(o)}finally{Oe(!1)}}}else y=o;return p.memoizedState=p.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},p.queue=i,i=i.dispatch=xz.bind(null,Et,i),[p.memoizedState,i]},useRef:function(i){var o=rn();return i={current:i},o.memoizedState=i},useState:function(i){i=Bv(i);var o=i.queue,d=h3.bind(null,Et,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Vv,useDeferredValue:function(i,o){var d=rn();return Hv(d,i,o)},useTransition:function(){var i=Bv(!1);return i=o3.bind(null,Et,i.queue,!0,!1),rn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=Et,y=rn();if(It){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),ia===null)throw Error(n(349));(Rt&127)!==0||$5(p,o,d)}y.memoizedState=d;var N={value:d,getSnapshot:o};return y.queue=N,Q5(z5.bind(null,p,N,i),[i]),p.flags|=2048,md(9,{destroy:void 0},I5.bind(null,p,N,d,o),null),d},useId:function(){var i=rn(),o=ia.identifierPrefix;if(It){var d=li,p=ii;d=(p&~(1<<32-We(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=C0++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=oz++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Gv,useFormState:Y5,useActionState:Y5,useOptimistic:function(i){var o=rn();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Kv.bind(null,Et,!0,d),d.dispatch=o,[i,o]},useMemoCache:$v,useCacheRefresh:function(){return rn().memoizedState=fz.bind(null,Et)},useEffectEvent:function(i){var o=rn(),d={impl:i};return o.memoizedState=d,function(){if((Wt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Yv={readContext:Os,use:E0,useCallback:r3,useContext:Os,useEffect:Fv,useImperativeHandle:n3,useInsertionEffect:t3,useLayoutEffect:a3,useMemo:i3,useReducer:T0,useRef:J5,useState:function(){return T0(zi)},useDebugValue:Vv,useDeferredValue:function(i,o){var d=Ka();return l3(d,ta.memoizedState,i,o)},useTransition:function(){var i=T0(zi)[0],o=Ka().memoizedState;return[typeof i=="boolean"?i:Sm(i),o]},useSyncExternalStore:R5,useId:u3,useHostTransitionStatus:Gv,useFormState:W5,useActionState:W5,useOptimistic:function(i,o){var d=Ka();return F5(d,ta,i,o)},useMemoCache:$v,useCacheRefresh:m3};Yv.useEffectEvent=e3;var g3={readContext:Os,use:E0,useCallback:r3,useContext:Os,useEffect:Fv,useImperativeHandle:n3,useInsertionEffect:t3,useLayoutEffect:a3,useMemo:i3,useReducer:zv,useRef:J5,useState:function(){return zv(zi)},useDebugValue:Vv,useDeferredValue:function(i,o){var d=Ka();return ta===null?Hv(d,i,o):l3(d,ta.memoizedState,i,o)},useTransition:function(){var i=zv(zi)[0],o=Ka().memoizedState;return[typeof i=="boolean"?i:Sm(i),o]},useSyncExternalStore:R5,useId:u3,useHostTransitionStatus:Gv,useFormState:Z5,useActionState:Z5,useOptimistic:function(i,o){var d=Ka();return ta!==null?F5(d,ta,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:$v,useCacheRefresh:m3};g3.useEffectEvent=e3;function Wv(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:g({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Xv={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=Bn(),y=Ll(p);y.payload=o,d!=null&&(y.callback=d),o=Rl(i,y,p),o!==null&&(_n(o,i,p),ym(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=Bn(),y=Ll(p);y.tag=1,y.payload=o,d!=null&&(y.callback=d),o=Rl(i,y,p),o!==null&&(_n(o,i,p),ym(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=Bn(),p=Ll(d);p.tag=2,o!=null&&(p.callback=o),o=Rl(i,p,d),o!==null&&(_n(o,i,d),ym(o,i,d))}};function b3(i,o,d,p,y,N,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,P):o.prototype&&o.prototype.isPureReactComponent?!mm(d,p)||!mm(y,N):!0}function v3(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&Xv.enqueueReplaceState(o,o.state,null)}function Ho(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=g({},d));for(var y in i)d[y]===void 0&&(d[y]=i[y])}return d}function y3(i){u0(i)}function j3(i){console.error(i)}function w3(i){u0(i)}function D0(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function N3(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Zv(i,o,d){return d=Ll(d),d.tag=3,d.payload={element:null},d.callback=function(){D0(i,o)},d}function S3(i){return i=Ll(i),i.tag=3,i}function _3(i,o,d,p){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var N=p.value;i.payload=function(){return y(N)},i.callback=function(){N3(o,d,p)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(i.callback=function(){N3(o,d,p),typeof y!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var q=p.stack;this.componentDidCatch(p.value,{componentStack:q!==null?q:""})})}function pz(i,o,d,p,y){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&nd(o,d,y,!0),d=Rn.current,d!==null){switch(d.tag){case 31:case 13:return dr===null?G0():d.alternate===null&&Ia===0&&(Ia=3),d.flags&=-257,d.flags|=65536,d.lanes=y,p===j0?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),wy(i,p,y)),!1;case 22:return d.flags|=65536,p===j0?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),wy(i,p,y)),!1}throw Error(n(435,d.tag))}return wy(i,p,y),G0(),!1}if(It)return o=Rn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,p!==pv&&(i=Error(n(422),{cause:p}),xm(ir(i,d)))):(p!==pv&&(o=Error(n(423),{cause:p}),xm(ir(o,d))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,p=ir(p,d),y=Zv(i.stateNode,p,y),Cv(i,y),Ia!==4&&(Ia=2)),!1;var N=Error(n(520),{cause:p});if(N=ir(N,d),Dm===null?Dm=[N]:Dm.push(N),Ia!==4&&(Ia=2),o===null)return!0;p=ir(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=y&-y,d.lanes|=i,i=Zv(d.stateNode,p,i),Cv(d,i),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Fl===null||!Fl.has(N))))return d.flags|=65536,y&=-y,d.lanes|=y,y=S3(y),_3(y,i,d,p),Cv(d,y),!1}d=d.return}while(d!==null);return!1}var Jv=Error(n(461)),es=!1;function Ps(i,o,d,p){o.child=i===null?E5(o,null,d,p):Fo(o,i.child,d,p)}function k3(i,o,d,p,y){d=d.render;var N=o.ref;if("ref"in p){var P={};for(var q in p)q!=="ref"&&(P[q]=p[q])}else P=p;return Io(o),p=Mv(i,o,d,P,N,y),q=Dv(),i!==null&&!es?(Lv(i,o,y),Bi(i,o,y)):(It&&q&&fv(o),o.flags|=1,Ps(i,o,p,y),o.child)}function C3(i,o,d,p,y){if(i===null){var N=d.type;return typeof N=="function"&&!uv(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,A3(i,o,N,p,y)):(i=x0(d.type,null,p,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!iy(i,y)){var P=N.memoizedProps;if(d=d.compare,d=d!==null?d:mm,d(P,p)&&i.ref===o.ref)return Bi(i,o,y)}return o.flags|=1,i=Di(N,p),i.ref=o.ref,i.return=o,o.child=i}function A3(i,o,d,p,y){if(i!==null){var N=i.memoizedProps;if(mm(N,p)&&i.ref===o.ref)if(es=!1,o.pendingProps=p=N,iy(i,y))(i.flags&131072)!==0&&(es=!0);else return o.lanes=i.lanes,Bi(i,o,y)}return Qv(i,o,d,p,y)}function E3(i,o,d,p){var y=p.children,N=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,i!==null){for(p=o.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;p=y&~N}else p=0,o.child=null;return T3(i,o,N,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&v0(o,N!==null?N.cachePool:null),N!==null?P5(o,N):Ev(),M5(o);else return p=o.lanes=536870912,T3(i,o,N!==null?N.baseLanes|d:d,d,p)}else N!==null?(v0(o,N.cachePool),P5(o,N),Il(),o.memoizedState=null):(i!==null&&v0(o,null),Ev(),Il());return Ps(i,o,y,d),o.child}function Cm(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function T3(i,o,d,p,y){var N=Nv();return N=N===null?null:{parent:Ja._currentValue,pool:N},o.memoizedState={baseLanes:d,cachePool:N},i!==null&&v0(o,null),Ev(),M5(o),i!==null&&nd(i,o,p,!0),o.childLanes=y,null}function L0(i,o){return o=$0({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function O3(i,o,d){return Fo(o,i.child,null,d),i=L0(o,o.pendingProps),i.flags|=2,$n(o),o.memoizedState=null,i}function gz(i,o,d){var p=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(It){if(p.mode==="hidden")return i=L0(o,p),o.lanes=536870912,Cm(null,i);if(Ov(o),(i=ha)?(i=Vk(i,cr),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Tl!==null?{id:ii,overflow:li}:null,retryLane:536870912,hydrationErrors:null},d=f5(i),d.return=o,o.child=d,Ts=o,ha=null)):i=null,i===null)throw Pl(o);return o.lanes=536870912,null}return L0(o,p)}var N=i.memoizedState;if(N!==null){var P=N.dehydrated;if(Ov(o),y)if(o.flags&256)o.flags&=-257,o=O3(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(es||nd(i,o,d,!1),y=(d&i.childLanes)!==0,es||y){if(p=ia,p!==null&&(P=Hs(p,d),P!==0&&P!==N.retryLane))throw N.retryLane=P,Do(i,P),_n(p,i,P),Jv;G0(),o=O3(i,o,d)}else i=N.treeContext,ha=ur(P.nextSibling),Ts=o,It=!0,Ol=null,cr=!1,i!==null&&g5(o,i),o=L0(o,p),o.flags|=4096;return o}return i=Di(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function R0(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function Qv(i,o,d,p,y){return Io(o),d=Mv(i,o,d,p,void 0,y),p=Dv(),i!==null&&!es?(Lv(i,o,y),Bi(i,o,y)):(It&&p&&fv(o),o.flags|=1,Ps(i,o,d,y),o.child)}function P3(i,o,d,p,y,N){return Io(o),o.updateQueue=null,d=L5(o,p,d,y),D5(i),p=Dv(),i!==null&&!es?(Lv(i,o,N),Bi(i,o,N)):(It&&p&&fv(o),o.flags|=1,Ps(i,o,d,N),o.child)}function M3(i,o,d,p,y){if(Io(o),o.stateNode===null){var N=ed,P=d.contextType;typeof P=="object"&&P!==null&&(N=Os(P)),N=new d(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Xv,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},_v(o),P=d.contextType,N.context=typeof P=="object"&&P!==null?Os(P):ed,N.state=o.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(Wv(o,d,P,p),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(P=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),P!==N.state&&Xv.enqueueReplaceState(N,N.state,null),wm(o,p,N,y),jm(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var q=o.memoizedProps,re=Ho(d,q);N.props=re;var Ee=N.context,Fe=d.contextType;P=ed,typeof Fe=="object"&&Fe!==null&&(P=Os(Fe));var Ke=d.getDerivedStateFromProps;Fe=typeof Ke=="function"||typeof N.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,Fe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(q||Ee!==P)&&v3(o,N,p,P),Dl=!1;var Me=o.memoizedState;N.state=Me,wm(o,p,N,y),jm(),Ee=o.memoizedState,q||Me!==Ee||Dl?(typeof Ke=="function"&&(Wv(o,d,Ke,p),Ee=o.memoizedState),(re=Dl||b3(o,d,re,p,Me,Ee,P))?(Fe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=Ee),N.props=p,N.state=Ee,N.context=P,p=re):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,kv(i,o),P=o.memoizedProps,Fe=Ho(d,P),N.props=Fe,Ke=o.pendingProps,Me=N.context,Ee=d.contextType,re=ed,typeof Ee=="object"&&Ee!==null&&(re=Os(Ee)),q=d.getDerivedStateFromProps,(Ee=typeof q=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P!==Ke||Me!==re)&&v3(o,N,p,re),Dl=!1,Me=o.memoizedState,N.state=Me,wm(o,p,N,y),jm();var Re=o.memoizedState;P!==Ke||Me!==Re||Dl||i!==null&&i.dependencies!==null&&g0(i.dependencies)?(typeof q=="function"&&(Wv(o,d,q,p),Re=o.memoizedState),(Fe=Dl||b3(o,d,Fe,p,Me,Re,re)||i!==null&&i.dependencies!==null&&g0(i.dependencies))?(Ee||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,Re,re),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,Re,re)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||P===i.memoizedProps&&Me===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Me===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Re),N.props=p,N.state=Re,N.context=re,p=Fe):(typeof N.componentDidUpdate!="function"||P===i.memoizedProps&&Me===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Me===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,R0(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=Fo(o,i.child,null,y),o.child=Fo(o,null,d,y)):Ps(i,o,d,y),o.memoizedState=N.state,i=o.child):i=Bi(i,o,y),i}function D3(i,o,d,p){return Ro(),o.flags|=256,Ps(i,o,d,p),o.child}var ey={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ty(i){return{baseLanes:i,cachePool:N5()}}function ay(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=zn),i}function L3(i,o,d){var p=o.pendingProps,y=!1,N=(o.flags&128)!==0,P;if((P=N)||(P=i!==null&&i.memoizedState===null?!1:(Ga.current&2)!==0),P&&(y=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,i===null){if(It){if(y?$l(o):Il(),(i=ha)?(i=Vk(i,cr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Tl!==null?{id:ii,overflow:li}:null,retryLane:536870912,hydrationErrors:null},d=f5(i),d.return=o,o.child=d,Ts=o,ha=null)):i=null,i===null)throw Pl(o);return Iy(i)?o.lanes=32:o.lanes=536870912,null}var q=p.children;return p=p.fallback,y?(Il(),y=o.mode,q=$0({mode:"hidden",children:q},y),p=Lo(p,y,d,null),q.return=o,p.return=o,q.sibling=p,o.child=q,p=o.child,p.memoizedState=ty(d),p.childLanes=ay(i,P,d),o.memoizedState=ey,Cm(null,p)):($l(o),sy(o,q))}var re=i.memoizedState;if(re!==null&&(q=re.dehydrated,q!==null)){if(N)o.flags&256?($l(o),o.flags&=-257,o=ny(i,o,d)):o.memoizedState!==null?(Il(),o.child=i.child,o.flags|=128,o=null):(Il(),q=p.fallback,y=o.mode,p=$0({mode:"visible",children:p.children},y),q=Lo(q,y,d,null),q.flags|=2,p.return=o,q.return=o,p.sibling=q,o.child=p,Fo(o,i.child,null,d),p=o.child,p.memoizedState=ty(d),p.childLanes=ay(i,P,d),o.memoizedState=ey,o=Cm(null,p));else if($l(o),Iy(q)){if(P=q.nextSibling&&q.nextSibling.dataset,P)var Ee=P.dgst;P=Ee,p=Error(n(419)),p.stack="",p.digest=P,xm({value:p,source:null,stack:null}),o=ny(i,o,d)}else if(es||nd(i,o,d,!1),P=(d&i.childLanes)!==0,es||P){if(P=ia,P!==null&&(p=Hs(P,d),p!==0&&p!==re.retryLane))throw re.retryLane=p,Do(i,p),_n(P,i,p),Jv;$y(q)||G0(),o=ny(i,o,d)}else $y(q)?(o.flags|=192,o.child=i.child,o=null):(i=re.treeContext,ha=ur(q.nextSibling),Ts=o,It=!0,Ol=null,cr=!1,i!==null&&g5(o,i),o=sy(o,p.children),o.flags|=4096);return o}return y?(Il(),q=p.fallback,y=o.mode,re=i.child,Ee=re.sibling,p=Di(re,{mode:"hidden",children:p.children}),p.subtreeFlags=re.subtreeFlags&65011712,Ee!==null?q=Di(Ee,q):(q=Lo(q,y,d,null),q.flags|=2),q.return=o,p.return=o,p.sibling=q,o.child=p,Cm(null,p),p=o.child,q=i.child.memoizedState,q===null?q=ty(d):(y=q.cachePool,y!==null?(re=Ja._currentValue,y=y.parent!==re?{parent:re,pool:re}:y):y=N5(),q={baseLanes:q.baseLanes|d,cachePool:y}),p.memoizedState=q,p.childLanes=ay(i,P,d),o.memoizedState=ey,Cm(i.child,p)):($l(o),d=i.child,i=d.sibling,d=Di(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(P=o.deletions,P===null?(o.deletions=[i],o.flags|=16):P.push(i)),o.child=d,o.memoizedState=null,d)}function sy(i,o){return o=$0({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function $0(i,o){return i=Ln(22,i,null,o),i.lanes=0,i}function ny(i,o,d){return Fo(o,i.child,null,d),i=sy(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function R3(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),vv(i.return,o,d)}function ry(i,o,d,p,y,N){var P=i.memoizedState;P===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:y,treeForkCount:N}:(P.isBackwards=o,P.rendering=null,P.renderingStartTime=0,P.last=p,P.tail=d,P.tailMode=y,P.treeForkCount=N)}function $3(i,o,d){var p=o.pendingProps,y=p.revealOrder,N=p.tail;p=p.children;var P=Ga.current,q=(P&2)!==0;if(q?(P=P&1|2,o.flags|=128):P&=1,Z(Ga,P),Ps(i,o,p,d),p=It?fm:0,!q&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&R3(i,d,o);else if(i.tag===19)R3(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(d=o.child,y=null;d!==null;)i=d.alternate,i!==null&&_0(i)===null&&(y=d),d=d.sibling;d=y,d===null?(y=o.child,o.child=null):(y=d.sibling,d.sibling=null),ry(o,!1,y,d,N,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&_0(i)===null){o.child=y;break}i=y.sibling,y.sibling=d,d=y,y=i}ry(o,!0,d,null,N,p);break;case"together":ry(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Bi(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),Ul|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(nd(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=Di(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=Di(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function iy(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&g0(i)))}function bz(i,o,d){switch(o.tag){case 3:xe(o,o.stateNode.containerInfo),Ml(o,Ja,i.memoizedState.cache),Ro();break;case 27:case 5:Ie(o);break;case 4:xe(o,o.stateNode.containerInfo);break;case 10:Ml(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ov(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?($l(o),o.flags|=128,null):(d&o.child.childLanes)!==0?L3(i,o,d):($l(o),i=Bi(i,o,d),i!==null?i.sibling:null);$l(o);break;case 19:var y=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(nd(i,o,d,!1),p=(d&o.childLanes)!==0),y){if(p)return $3(i,o,d);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Z(Ga,Ga.current),p)break;return null;case 22:return o.lanes=0,E3(i,o,d,o.pendingProps);case 24:Ml(o,Ja,i.memoizedState.cache)}return Bi(i,o,d)}function I3(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)es=!0;else{if(!iy(i,d)&&(o.flags&128)===0)return es=!1,bz(i,o,d);es=(i.flags&131072)!==0}else es=!1,It&&(o.flags&1048576)!==0&&p5(o,fm,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=Bo(o.elementType),o.type=i,typeof i=="function")uv(i)?(p=Ho(i,p),o.tag=1,o=M3(null,o,i,p,d)):(o.tag=0,o=Qv(null,o,i,p,d));else{if(i!=null){var y=i.$$typeof;if(y===T){o.tag=11,o=k3(null,o,i,p,d);break e}else if(y===$){o.tag=14,o=C3(null,o,i,p,d);break e}}throw o=we(i)||i,Error(n(306,o,""))}}return o;case 0:return Qv(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,y=Ho(p,o.pendingProps),M3(i,o,p,y,d);case 3:e:{if(xe(o,o.stateNode.containerInfo),i===null)throw Error(n(387));p=o.pendingProps;var N=o.memoizedState;y=N.element,kv(i,o),wm(o,p,null,d);var P=o.memoizedState;if(p=P.cache,Ml(o,Ja,p),p!==N.cache&&yv(o,[Ja],d,!0),jm(),p=P.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=D3(i,o,p,d);break e}else if(p!==y){y=ir(Error(n(424)),o),xm(y),o=D3(i,o,p,d);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ha=ur(i.firstChild),Ts=o,It=!0,Ol=null,cr=!0,d=E5(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ro(),p===y){o=Bi(i,o,d);break e}Ps(i,o,p,d)}o=o.child}return o;case 26:return R0(i,o),i===null?(d=Wk(o.type,null,o.pendingProps,null))?o.memoizedState=d:It||(d=o.type,i=o.pendingProps,p=Q0(be.current).createElement(d),p[ma]=o,p[Q]=i,Ms(p,d,i),Mt(p),o.stateNode=p):o.memoizedState=Wk(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ie(o),i===null&&It&&(p=o.stateNode=Gk(o.type,o.pendingProps,be.current),Ts=o,cr=!0,y=ha,Gl(o.type)?(zy=y,ha=ur(p.firstChild)):ha=y),Ps(i,o,o.pendingProps.children,d),R0(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&It&&((y=p=ha)&&(p=Yz(p,o.type,o.pendingProps,cr),p!==null?(o.stateNode=p,Ts=o,ha=ur(p.firstChild),cr=!1,y=!0):y=!1),y||Pl(o)),Ie(o),y=o.type,N=o.pendingProps,P=i!==null?i.memoizedProps:null,p=N.children,Dy(y,N)?p=null:P!==null&&Dy(y,P)&&(o.flags|=32),o.memoizedState!==null&&(y=Mv(i,o,cz,null,null,d),Fm._currentValue=y),R0(i,o),Ps(i,o,p,d),o.child;case 6:return i===null&&It&&((i=d=ha)&&(d=Wz(d,o.pendingProps,cr),d!==null?(o.stateNode=d,Ts=o,ha=null,i=!0):i=!1),i||Pl(o)),null;case 13:return L3(i,o,d);case 4:return xe(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Fo(o,null,p,d):Ps(i,o,p,d),o.child;case 11:return k3(i,o,o.type,o.pendingProps,d);case 7:return Ps(i,o,o.pendingProps,d),o.child;case 8:return Ps(i,o,o.pendingProps.children,d),o.child;case 12:return Ps(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,Ml(o,o.type,p.value),Ps(i,o,p.children,d),o.child;case 9:return y=o.type._context,p=o.pendingProps.children,Io(o),y=Os(y),p=p(y),o.flags|=1,Ps(i,o,p,d),o.child;case 14:return C3(i,o,o.type,o.pendingProps,d);case 15:return A3(i,o,o.type,o.pendingProps,d);case 19:return $3(i,o,d);case 31:return gz(i,o,d);case 22:return E3(i,o,d,o.pendingProps);case 24:return Io(o),p=Os(Ja),i===null?(y=Nv(),y===null&&(y=ia,N=jv(),y.pooledCache=N,N.refCount++,N!==null&&(y.pooledCacheLanes|=d),y=N),o.memoizedState={parent:p,cache:y},_v(o),Ml(o,Ja,y)):((i.lanes&d)!==0&&(kv(i,o),wm(o,null,null,d),jm()),y=i.memoizedState,N=o.memoizedState,y.parent!==p?(y={parent:p,cache:p},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ml(o,Ja,p)):(p=N.cache,Ml(o,Ja,p),p!==y.cache&&yv(o,[Ja],d,!0))),Ps(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ui(i){i.flags|=4}function ly(i,o,d,p,y){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(uk())i.flags|=8192;else throw Uo=j0,Sv}else i.flags&=-16777217}function z3(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!eC(o))if(uk())i.flags|=8192;else throw Uo=j0,Sv}function I0(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Vt():536870912,i.lanes|=o,pd|=o)}function Am(i,o){if(!It)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function fa(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var y=i.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function vz(i,o,d){var p=o.pendingProps;switch(xv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fa(o),null;case 1:return fa(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),$i(Ja),ve(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(sd(o)?Ui(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gv())),fa(o),null;case 26:var y=o.type,N=o.memoizedState;return i===null?(Ui(o),N!==null?(fa(o),z3(o,N)):(fa(o),ly(o,y,null,p,d))):N?N!==i.memoizedState?(Ui(o),fa(o),z3(o,N)):(fa(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&Ui(o),fa(o),ly(o,y,i,p,d)),null;case 27:if(Ye(o),d=be.current,y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ui(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return fa(o),null}i=de.current,sd(o)?b5(o):(i=Gk(y,p,d),o.stateNode=i,Ui(o))}return fa(o),null;case 5:if(Ye(o),y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ui(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return fa(o),null}if(N=de.current,sd(o))b5(o);else{var P=Q0(be.current);switch(N){case 1:N=P.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:N=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":N=P.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":N=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":N=P.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?P.createElement("select",{is:p.is}):P.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?P.createElement(y,{is:p.is}):P.createElement(y)}}N[ma]=o,N[Q]=p;e:for(P=o.child;P!==null;){if(P.tag===5||P.tag===6)N.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===o)break e;for(;P.sibling===null;){if(P.return===null||P.return===o)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}o.stateNode=N;e:switch(Ms(N,y,p),y){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ui(o)}}return fa(o),ly(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Ui(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(i=be.current,sd(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,y=Ts,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}i[ma]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||Lk(i.nodeValue,d)),i||Pl(o,!0)}else i=Q0(i).createTextNode(p),i[ma]=o,o.stateNode=i}return fa(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(p=sd(o),d!==null){if(i===null){if(!p)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[ma]=o}else Ro(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fa(o),i=!1}else d=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?($n(o),o):($n(o),null);if((o.flags&128)!==0)throw Error(n(558))}return fa(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=sd(o),p!==null&&p.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[ma]=o}else Ro(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fa(o),y=!1}else y=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?($n(o),o):($n(o),null)}return $n(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=o.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==y&&(p.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),I0(o,o.updateQueue),fa(o),null);case 4:return ve(),i===null&&Ey(o.stateNode.containerInfo),fa(o),null;case 10:return $i(o.type),fa(o),null;case 19:if(R(Ga),p=o.memoizedState,p===null)return fa(o),null;if(y=(o.flags&128)!==0,N=p.rendering,N===null)if(y)Am(p,!1);else{if(Ia!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=_0(i),N!==null){for(o.flags|=128,Am(p,!1),i=N.updateQueue,o.updateQueue=i,I0(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)h5(d,i),d=d.sibling;return Z(Ga,Ga.current&1|2),It&&Li(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&_e()>V0&&(o.flags|=128,y=!0,Am(p,!1),o.lanes=4194304)}else{if(!y)if(i=_0(N),i!==null){if(o.flags|=128,y=!0,i=i.updateQueue,o.updateQueue=i,I0(o,i),Am(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!It)return fa(o),null}else 2*_e()-p.renderingStartTime>V0&&d!==536870912&&(o.flags|=128,y=!0,Am(p,!1),o.lanes=4194304);p.isBackwards?(N.sibling=o.child,o.child=N):(i=p.last,i!==null?i.sibling=N:o.child=N,p.last=N)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=_e(),i.sibling=null,d=Ga.current,Z(Ga,y?d&1|2:d&1),It&&Li(o,p.treeForkCount),i):(fa(o),null);case 22:case 23:return $n(o),Tv(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(fa(o),o.subtreeFlags&6&&(o.flags|=8192)):fa(o),d=o.updateQueue,d!==null&&I0(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&R(zo),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),$i(Ja),fa(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function yz(i,o){switch(xv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return $i(Ja),ve(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ye(o),null;case 31:if(o.memoizedState!==null){if($n(o),o.alternate===null)throw Error(n(340));Ro()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if($n(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ro()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return R(Ga),null;case 4:return ve(),null;case 10:return $i(o.type),null;case 22:case 23:return $n(o),Tv(),i!==null&&R(zo),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return $i(Ja),null;case 25:return null;default:return null}}function B3(i,o){switch(xv(o),o.tag){case 3:$i(Ja),ve();break;case 26:case 27:case 5:Ye(o);break;case 4:ve();break;case 31:o.memoizedState!==null&&$n(o);break;case 13:$n(o);break;case 19:R(Ga);break;case 10:$i(o.type);break;case 22:case 23:$n(o),Tv(),i!==null&&R(zo);break;case 24:$i(Ja)}}function Em(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var y=p.next;d=y;do{if((d.tag&i)===i){p=void 0;var N=d.create,P=d.inst;p=N(),P.destroy=p}d=d.next}while(d!==y)}}catch(q){Qt(o,o.return,q)}}function zl(i,o,d){try{var p=o.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var N=y.next;p=N;do{if((p.tag&i)===i){var P=p.inst,q=P.destroy;if(q!==void 0){P.destroy=void 0,y=o;var re=d,Ee=q;try{Ee()}catch(Fe){Qt(y,re,Fe)}}}p=p.next}while(p!==N)}}catch(Fe){Qt(o,o.return,Fe)}}function U3(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{O5(o,d)}catch(p){Qt(i,i.return,p)}}}function F3(i,o,d){d.props=Ho(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Qt(i,o,p)}}function Tm(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(y){Qt(i,o,y)}}function oi(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(y){Qt(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){Qt(i,o,y)}else d.current=null}function V3(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(y){Qt(i,i.return,y)}}function oy(i,o,d){try{var p=i.stateNode;Fz(p,i.type,d,o),p[Q]=o}catch(y){Qt(i,i.return,y)}}function H3(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Gl(i.type)||i.tag===4}function cy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||H3(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Gl(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dy(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Pi));else if(p!==4&&(p===27&&Gl(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(dy(i,o,d),i=i.sibling;i!==null;)dy(i,o,d),i=i.sibling}function z0(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&Gl(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(z0(i,o,d),i=i.sibling;i!==null;)z0(i,o,d),i=i.sibling}function q3(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Ms(o,p,d),o[ma]=i,o[Q]=d}catch(N){Qt(i,i.return,N)}}var Fi=!1,ts=!1,uy=!1,G3=typeof WeakSet=="function"?WeakSet:Set,ps=null;function jz(i,o){if(i=i.containerInfo,Py=ix,i=n5(i),nv(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var y=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var P=0,q=-1,re=-1,Ee=0,Fe=0,Ke=i,Me=null;t:for(;;){for(var Re;Ke!==d||y!==0&&Ke.nodeType!==3||(q=P+y),Ke!==N||p!==0&&Ke.nodeType!==3||(re=P+p),Ke.nodeType===3&&(P+=Ke.nodeValue.length),(Re=Ke.firstChild)!==null;)Me=Ke,Ke=Re;for(;;){if(Ke===i)break t;if(Me===d&&++Ee===y&&(q=P),Me===N&&++Fe===p&&(re=P),(Re=Ke.nextSibling)!==null)break;Ke=Me,Me=Ke.parentNode}Ke=Re}d=q===-1||re===-1?null:{start:q,end:re}}else d=null}d=d||{start:0,end:0}}else d=null;for(My={focusedElem:i,selectionRange:d},ix=!1,ps=o;ps!==null;)if(o=ps,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ps=i;else for(;ps!==null;){switch(o=ps,N=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)y=i[d],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=o,y=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var ot=Ho(d.type,y);i=p.getSnapshotBeforeUpdate(ot,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(bt){Qt(d,d.return,bt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)Ry(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ry(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,ps=i;break}ps=o.return}}function K3(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Hi(i,d),p&4&&Em(5,d);break;case 1:if(Hi(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(P){Qt(d,d.return,P)}else{var y=Ho(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(P){Qt(d,d.return,P)}}p&64&&U3(d),p&512&&Tm(d,d.return);break;case 3:if(Hi(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{O5(i,o)}catch(P){Qt(d,d.return,P)}}break;case 27:o===null&&p&4&&q3(d);case 26:case 5:Hi(i,d),o===null&&p&4&&V3(d),p&512&&Tm(d,d.return);break;case 12:Hi(i,d);break;case 31:Hi(i,d),p&4&&X3(i,d);break;case 13:Hi(i,d),p&4&&Z3(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=Tz.bind(null,d),Xz(i,d))));break;case 22:if(p=d.memoizedState!==null||Fi,!p){o=o!==null&&o.memoizedState!==null||ts,y=Fi;var N=ts;Fi=p,(ts=o)&&!N?qi(i,d,(d.subtreeFlags&8772)!==0):Hi(i,d),Fi=y,ts=N}break;case 30:break;default:Hi(i,d)}}function Y3(i){var o=i.alternate;o!==null&&(i.alternate=null,Y3(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&ut(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var va=null,jn=!1;function Vi(i,o,d){for(d=d.child;d!==null;)W3(i,o,d),d=d.sibling}function W3(i,o,d){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(rt,d)}catch{}switch(d.tag){case 26:ts||oi(d,o),Vi(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ts||oi(d,o);var p=va,y=jn;Gl(d.type)&&(va=d.stateNode,jn=!1),Vi(i,o,d),zm(d.stateNode),va=p,jn=y;break;case 5:ts||oi(d,o);case 6:if(p=va,y=jn,va=null,Vi(i,o,d),va=p,jn=y,va!==null)if(jn)try{(va.nodeType===9?va.body:va.nodeName==="HTML"?va.ownerDocument.body:va).removeChild(d.stateNode)}catch(N){Qt(d,o,N)}else try{va.removeChild(d.stateNode)}catch(N){Qt(d,o,N)}break;case 18:va!==null&&(jn?(i=va,Uk(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Sd(i)):Uk(va,d.stateNode));break;case 4:p=va,y=jn,va=d.stateNode.containerInfo,jn=!0,Vi(i,o,d),va=p,jn=y;break;case 0:case 11:case 14:case 15:zl(2,d,o),ts||zl(4,d,o),Vi(i,o,d);break;case 1:ts||(oi(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&F3(d,o,p)),Vi(i,o,d);break;case 21:Vi(i,o,d);break;case 22:ts=(p=ts)||d.memoizedState!==null,Vi(i,o,d),ts=p;break;default:Vi(i,o,d)}}function X3(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Sd(i)}catch(d){Qt(o,o.return,d)}}}function Z3(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Sd(i)}catch(d){Qt(o,o.return,d)}}function wz(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new G3),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new G3),o;default:throw Error(n(435,i.tag))}}function B0(i,o){var d=wz(i);o.forEach(function(p){if(!d.has(p)){d.add(p);var y=Oz.bind(null,i,p);p.then(y,y)}})}function wn(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var y=d[p],N=i,P=o,q=P;e:for(;q!==null;){switch(q.tag){case 27:if(Gl(q.type)){va=q.stateNode,jn=!1;break e}break;case 5:va=q.stateNode,jn=!1;break e;case 3:case 4:va=q.stateNode.containerInfo,jn=!0;break e}q=q.return}if(va===null)throw Error(n(160));W3(N,P,y),va=null,jn=!1,N=y.alternate,N!==null&&(N.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)J3(o,i),o=o.sibling}var Rr=null;function J3(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(o,i),Nn(i),p&4&&(zl(3,i,i.return),Em(3,i),zl(5,i,i.return));break;case 1:wn(o,i),Nn(i),p&512&&(ts||d===null||oi(d,d.return)),p&64&&Fi&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var y=Rr;if(wn(o,i),Nn(i),p&512&&(ts||d===null||oi(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":N=y.getElementsByTagName("title")[0],(!N||N[et]||N[ma]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=y.createElement(p),y.head.insertBefore(N,y.querySelector("head > title"))),Ms(N,p,d),N[ma]=i,Mt(N),p=N;break e;case"link":var P=Jk("link","href",y).get(p+(d.href||""));if(P){for(var q=0;q<P.length;q++)if(N=P[q],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(q,1);break t}}N=y.createElement(p),Ms(N,p,d),y.head.appendChild(N);break;case"meta":if(P=Jk("meta","content",y).get(p+(d.content||""))){for(q=0;q<P.length;q++)if(N=P[q],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(q,1);break t}}N=y.createElement(p),Ms(N,p,d),y.head.appendChild(N);break;default:throw Error(n(468,p))}N[ma]=i,Mt(N),p=N}i.stateNode=p}else Qk(y,i.type,i.stateNode);else i.stateNode=Zk(y,p,i.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?Qk(y,i.type,i.stateNode):Zk(y,p,i.memoizedProps)):p===null&&i.stateNode!==null&&oy(i,i.memoizedProps,d.memoizedProps)}break;case 27:wn(o,i),Nn(i),p&512&&(ts||d===null||oi(d,d.return)),d!==null&&p&4&&oy(i,i.memoizedProps,d.memoizedProps);break;case 5:if(wn(o,i),Nn(i),p&512&&(ts||d===null||oi(d,d.return)),i.flags&32){y=i.stateNode;try{Kc(y,"")}catch(ot){Qt(i,i.return,ot)}}p&4&&i.stateNode!=null&&(y=i.memoizedProps,oy(i,y,d!==null?d.memoizedProps:y)),p&1024&&(uy=!0);break;case 6:if(wn(o,i),Nn(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(ot){Qt(i,i.return,ot)}}break;case 3:if(ax=null,y=Rr,Rr=ex(o.containerInfo),wn(o,i),Rr=y,Nn(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Sd(o.containerInfo)}catch(ot){Qt(i,i.return,ot)}uy&&(uy=!1,Q3(i));break;case 4:p=Rr,Rr=ex(i.stateNode.containerInfo),wn(o,i),Nn(i),Rr=p;break;case 12:wn(o,i),Nn(i);break;case 31:wn(o,i),Nn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,B0(i,p)));break;case 13:wn(o,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(F0=_e()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,B0(i,p)));break;case 22:y=i.memoizedState!==null;var re=d!==null&&d.memoizedState!==null,Ee=Fi,Fe=ts;if(Fi=Ee||y,ts=Fe||re,wn(o,i),ts=Fe,Fi=Ee,Nn(i),p&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(d===null||re||Fi||ts||qo(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){re=d=o;try{if(N=re.stateNode,y)P=N.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{q=re.stateNode;var Ke=re.memoizedProps.style,Me=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;q.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(ot){Qt(re,re.return,ot)}}}else if(o.tag===6){if(d===null){re=o;try{re.stateNode.nodeValue=y?"":re.memoizedProps}catch(ot){Qt(re,re.return,ot)}}}else if(o.tag===18){if(d===null){re=o;try{var Re=re.stateNode;y?Fk(Re,!0):Fk(re.stateNode,!1)}catch(ot){Qt(re,re.return,ot)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,B0(i,d))));break;case 19:wn(o,i),Nn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,B0(i,p)));break;case 30:break;case 21:break;default:wn(o,i),Nn(i)}}function Nn(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(H3(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var y=d.stateNode,N=cy(i);z0(i,N,y);break;case 5:var P=d.stateNode;d.flags&32&&(Kc(P,""),d.flags&=-33);var q=cy(i);z0(i,q,P);break;case 3:case 4:var re=d.stateNode.containerInfo,Ee=cy(i);dy(i,Ee,re);break;default:throw Error(n(161))}}catch(Fe){Qt(i,i.return,Fe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Q3(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;Q3(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Hi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)K3(i,o.alternate,o),o=o.sibling}function qo(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:zl(4,o,o.return),qo(o);break;case 1:oi(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&F3(o,o.return,d),qo(o);break;case 27:zm(o.stateNode);case 26:case 5:oi(o,o.return),qo(o);break;case 22:o.memoizedState===null&&qo(o);break;case 30:qo(o);break;default:qo(o)}i=i.sibling}}function qi(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,y=i,N=o,P=N.flags;switch(N.tag){case 0:case 11:case 15:qi(y,N,d),Em(4,N);break;case 1:if(qi(y,N,d),p=N,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Ee){Qt(p,p.return,Ee)}if(p=N,y=p.updateQueue,y!==null){var q=p.stateNode;try{var re=y.shared.hiddenCallbacks;if(re!==null)for(y.shared.hiddenCallbacks=null,y=0;y<re.length;y++)T5(re[y],q)}catch(Ee){Qt(p,p.return,Ee)}}d&&P&64&&U3(N),Tm(N,N.return);break;case 27:q3(N);case 26:case 5:qi(y,N,d),d&&p===null&&P&4&&V3(N),Tm(N,N.return);break;case 12:qi(y,N,d);break;case 31:qi(y,N,d),d&&P&4&&X3(y,N);break;case 13:qi(y,N,d),d&&P&4&&Z3(y,N);break;case 22:N.memoizedState===null&&qi(y,N,d),Tm(N,N.return);break;case 30:break;default:qi(y,N,d)}o=o.sibling}}function my(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&pm(d))}function hy(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pm(i))}function $r(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ek(i,o,d,p),o=o.sibling}function ek(i,o,d,p){var y=o.flags;switch(o.tag){case 0:case 11:case 15:$r(i,o,d,p),y&2048&&Em(9,o);break;case 1:$r(i,o,d,p);break;case 3:$r(i,o,d,p),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pm(i)));break;case 12:if(y&2048){$r(i,o,d,p),i=o.stateNode;try{var N=o.memoizedProps,P=N.id,q=N.onPostCommit;typeof q=="function"&&q(P,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(re){Qt(o,o.return,re)}}else $r(i,o,d,p);break;case 31:$r(i,o,d,p);break;case 13:$r(i,o,d,p);break;case 23:break;case 22:N=o.stateNode,P=o.alternate,o.memoizedState!==null?N._visibility&2?$r(i,o,d,p):Om(i,o):N._visibility&2?$r(i,o,d,p):(N._visibility|=2,hd(i,o,d,p,(o.subtreeFlags&10256)!==0||!1)),y&2048&&my(P,o);break;case 24:$r(i,o,d,p),y&2048&&hy(o.alternate,o);break;default:$r(i,o,d,p)}}function hd(i,o,d,p,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var N=i,P=o,q=d,re=p,Ee=P.flags;switch(P.tag){case 0:case 11:case 15:hd(N,P,q,re,y),Em(8,P);break;case 23:break;case 22:var Fe=P.stateNode;P.memoizedState!==null?Fe._visibility&2?hd(N,P,q,re,y):Om(N,P):(Fe._visibility|=2,hd(N,P,q,re,y)),y&&Ee&2048&&my(P.alternate,P);break;case 24:hd(N,P,q,re,y),y&&Ee&2048&&hy(P.alternate,P);break;default:hd(N,P,q,re,y)}o=o.sibling}}function Om(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,y=p.flags;switch(p.tag){case 22:Om(d,p),y&2048&&my(p.alternate,p);break;case 24:Om(d,p),y&2048&&hy(p.alternate,p);break;default:Om(d,p)}o=o.sibling}}var Pm=8192;function fd(i,o,d){if(i.subtreeFlags&Pm)for(i=i.child;i!==null;)tk(i,o,d),i=i.sibling}function tk(i,o,d){switch(i.tag){case 26:fd(i,o,d),i.flags&Pm&&i.memoizedState!==null&&oB(d,Rr,i.memoizedState,i.memoizedProps);break;case 5:fd(i,o,d);break;case 3:case 4:var p=Rr;Rr=ex(i.stateNode.containerInfo),fd(i,o,d),Rr=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=Pm,Pm=16777216,fd(i,o,d),Pm=p):fd(i,o,d));break;default:fd(i,o,d)}}function ak(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Mm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];ps=p,nk(p,i)}ak(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sk(i),i=i.sibling}function sk(i){switch(i.tag){case 0:case 11:case 15:Mm(i),i.flags&2048&&zl(9,i,i.return);break;case 3:Mm(i);break;case 12:Mm(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,U0(i)):Mm(i);break;default:Mm(i)}}function U0(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];ps=p,nk(p,i)}ak(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:zl(8,o,o.return),U0(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,U0(o));break;default:U0(o)}i=i.sibling}}function nk(i,o){for(;ps!==null;){var d=ps;switch(d.tag){case 0:case 11:case 15:zl(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:pm(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,ps=p;else e:for(d=i;ps!==null;){p=ps;var y=p.sibling,N=p.return;if(Y3(p),p===d){ps=null;break e}if(y!==null){y.return=N,ps=y;break e}ps=N}}}var Nz={getCacheForType:function(i){var o=Os(Ja),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Os(Ja).controller.signal}},Sz=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ia=null,Dt=null,Rt=0,Jt=0,In=null,Bl=!1,xd=!1,fy=!1,Gi=0,Ia=0,Ul=0,Go=0,xy=0,zn=0,pd=0,Dm=null,Sn=null,py=!1,F0=0,rk=0,V0=1/0,H0=null,Fl=null,os=0,Vl=null,gd=null,Ki=0,gy=0,by=null,ik=null,Lm=0,vy=null;function Bn(){return(Wt&2)!==0&&Rt!==0?Rt&-Rt:A.T!==null?_y():Oi()}function lk(){if(zn===0)if((Rt&536870912)===0||It){var i=se;se<<=1,(se&3932160)===0&&(se=262144),zn=i}else zn=536870912;return i=Rn.current,i!==null&&(i.flags|=32),zn}function _n(i,o,d){(i===ia&&(Jt===2||Jt===9)||i.cancelPendingCommit!==null)&&(bd(i,0),Hl(i,Rt,zn,!1)),La(i,d),((Wt&2)===0||i!==ia)&&(i===ia&&((Wt&2)===0&&(Go|=d),Ia===4&&Hl(i,Rt,zn,!1)),ci(i))}function ok(i,o,d){if((Wt&6)!==0)throw Error(n(327));var p=!d&&(o&127)===0&&(o&i.expiredLanes)===0||Ct(i,o),y=p?Cz(i,o):jy(i,o,!0),N=p;do{if(y===0){xd&&!p&&Hl(i,o,0,!1);break}else{if(d=i.current.alternate,N&&!_z(d)){y=jy(i,o,!1),N=!1;continue}if(y===2){if(N=o,i.errorRecoveryDisabledLanes&N)var P=0;else P=i.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var q=i;y=Dm;var re=q.current.memoizedState.isDehydrated;if(re&&(bd(q,P).flags|=256),P=jy(q,P,!1),P!==2){if(fy&&!re){q.errorRecoveryDisabledLanes|=N,Go|=N,y=4;break e}N=Sn,Sn=y,N!==null&&(Sn===null?Sn=N:Sn.push.apply(Sn,N))}y=P}if(N=!1,y!==2)continue}}if(y===1){bd(i,0),Hl(i,o,0,!0);break}e:{switch(p=i,N=y,N){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Hl(p,o,zn,!Bl);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=F0+300-_e(),10<y)){if(Hl(p,o,zn,!Bl),ht(p,0,!0)!==0)break e;Ki=o,p.timeoutHandle=zk(ck.bind(null,p,d,Sn,H0,py,o,zn,Go,pd,Bl,N,"Throttled",-0,0),y);break e}ck(p,d,Sn,H0,py,o,zn,Go,pd,Bl,N,null,-0,0)}}break}while(!0);ci(i)}function ck(i,o,d,p,y,N,P,q,re,Ee,Fe,Ke,Me,Re){if(i.timeoutHandle=-1,Ke=o.subtreeFlags,Ke&8192||(Ke&16785408)===16785408){Ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},tk(o,N,Ke);var ot=(N&62914560)===N?F0-_e():(N&4194048)===N?rk-_e():0;if(ot=cB(Ke,ot),ot!==null){Ki=N,i.cancelPendingCommit=ot(gk.bind(null,i,o,N,d,p,y,P,q,re,Fe,Ke,null,Me,Re)),Hl(i,N,P,!Ee);return}}gk(i,o,N,d,p,y,P,q,re)}function _z(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var y=d[p],N=y.getSnapshot;y=y.value;try{if(!Dn(N(),y))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hl(i,o,d,p){o&=~xy,o&=~Go,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var y=o;0<y;){var N=31-We(y),P=1<<N;p[N]=-1,y&=~P}d!==0&&qa(i,d,o)}function q0(){return(Wt&6)===0?(Rm(0),!1):!0}function yy(){if(Dt!==null){if(Jt===0)var i=Dt.return;else i=Dt,Ri=$o=null,Rv(i),od=null,bm=0,i=Dt;for(;i!==null;)B3(i.alternate,i),i=i.return;Dt=null}}function bd(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,qz(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Ki=0,yy(),ia=i,Dt=d=Di(i.current,null),Rt=o,Jt=0,In=null,Bl=!1,xd=Ct(i,o),fy=!1,pd=zn=xy=Go=Ul=Ia=0,Sn=Dm=null,py=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var y=31-We(p),N=1<<y;o|=i[y],p&=~N}return Gi=o,m0(),d}function dk(i,o){Et=null,A.H=km,o===ld||o===y0?(o=k5(),Jt=3):o===Sv?(o=k5(),Jt=4):Jt=o===Jv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,In=o,Dt===null&&(Ia=1,D0(i,ir(o,i.current)))}function uk(){var i=Rn.current;return i===null?!0:(Rt&4194048)===Rt?dr===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?i===dr:!1}function mk(){var i=A.H;return A.H=km,i===null?km:i}function hk(){var i=A.A;return A.A=Nz,i}function G0(){Ia=4,Bl||(Rt&4194048)!==Rt&&Rn.current!==null||(xd=!0),(Ul&134217727)===0&&(Go&134217727)===0||ia===null||Hl(ia,Rt,zn,!1)}function jy(i,o,d){var p=Wt;Wt|=2;var y=mk(),N=hk();(ia!==i||Rt!==o)&&(H0=null,bd(i,o)),o=!1;var P=Ia;e:do try{if(Jt!==0&&Dt!==null){var q=Dt,re=In;switch(Jt){case 8:yy(),P=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(o=!0);var Ee=Jt;if(Jt=0,In=null,vd(i,q,re,Ee),d&&xd){P=0;break e}break;default:Ee=Jt,Jt=0,In=null,vd(i,q,re,Ee)}}kz(),P=Ia;break}catch(Fe){dk(i,Fe)}while(!0);return o&&i.shellSuspendCounter++,Ri=$o=null,Wt=p,A.H=y,A.A=N,Dt===null&&(ia=null,Rt=0,m0()),P}function kz(){for(;Dt!==null;)fk(Dt)}function Cz(i,o){var d=Wt;Wt|=2;var p=mk(),y=hk();ia!==i||Rt!==o?(H0=null,V0=_e()+500,bd(i,o)):xd=Ct(i,o);e:do try{if(Jt!==0&&Dt!==null){o=Dt;var N=In;t:switch(Jt){case 1:Jt=0,In=null,vd(i,o,N,1);break;case 2:case 9:if(S5(N)){Jt=0,In=null,xk(o);break}o=function(){Jt!==2&&Jt!==9||ia!==i||(Jt=7),ci(i)},N.then(o,o);break e;case 3:Jt=7;break e;case 4:Jt=5;break e;case 7:S5(N)?(Jt=0,In=null,xk(o)):(Jt=0,In=null,vd(i,o,N,7));break;case 5:var P=null;switch(Dt.tag){case 26:P=Dt.memoizedState;case 5:case 27:var q=Dt;if(P?eC(P):q.stateNode.complete){Jt=0,In=null;var re=q.sibling;if(re!==null)Dt=re;else{var Ee=q.return;Ee!==null?(Dt=Ee,K0(Ee)):Dt=null}break t}}Jt=0,In=null,vd(i,o,N,5);break;case 6:Jt=0,In=null,vd(i,o,N,6);break;case 8:yy(),Ia=6;break e;default:throw Error(n(462))}}Az();break}catch(Fe){dk(i,Fe)}while(!0);return Ri=$o=null,A.H=p,A.A=y,Wt=d,Dt!==null?0:(ia=null,Rt=0,m0(),Ia)}function Az(){for(;Dt!==null&&!ye();)fk(Dt)}function fk(i){var o=I3(i.alternate,i,Gi);i.memoizedProps=i.pendingProps,o===null?K0(i):Dt=o}function xk(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=P3(d,o,o.pendingProps,o.type,void 0,Rt);break;case 11:o=P3(d,o,o.pendingProps,o.type.render,o.ref,Rt);break;case 5:Rv(o);default:B3(d,o),o=Dt=h5(o,Gi),o=I3(d,o,Gi)}i.memoizedProps=i.pendingProps,o===null?K0(i):Dt=o}function vd(i,o,d,p){Ri=$o=null,Rv(o),od=null,bm=0;var y=o.return;try{if(pz(i,y,o,d,Rt)){Ia=1,D0(i,ir(d,i.current)),Dt=null;return}}catch(N){if(y!==null)throw Dt=y,N;Ia=1,D0(i,ir(d,i.current)),Dt=null;return}o.flags&32768?(It||p===1?i=!0:xd||(Rt&536870912)!==0?i=!1:(Bl=i=!0,(p===2||p===9||p===3||p===6)&&(p=Rn.current,p!==null&&p.tag===13&&(p.flags|=16384))),pk(o,i)):K0(o)}function K0(i){var o=i;do{if((o.flags&32768)!==0){pk(o,Bl);return}i=o.return;var d=vz(o.alternate,o,Gi);if(d!==null){Dt=d;return}if(o=o.sibling,o!==null){Dt=o;return}Dt=o=i}while(o!==null);Ia===0&&(Ia=5)}function pk(i,o){do{var d=yz(i.alternate,i);if(d!==null){d.flags&=32767,Dt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){Dt=i;return}Dt=i=d}while(i!==null);Ia=6,Dt=null}function gk(i,o,d,p,y,N,P,q,re){i.cancelPendingCommit=null;do Y0();while(os!==0);if((Wt&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(N=o.lanes|o.childLanes,N|=cv,Cs(i,d,N,P,q,re),i===ia&&(Dt=ia=null,Rt=0),gd=o,Vl=i,Ki=d,gy=N,by=y,ik=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Pz(me,function(){return wk(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=A.T,A.T=null,y=U.p,U.p=2,P=Wt,Wt|=4;try{jz(i,o,d)}finally{Wt=P,U.p=y,A.T=p}}os=1,bk(),vk(),yk()}}function bk(){if(os===1){os=0;var i=Vl,o=gd,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=A.T,A.T=null;var p=U.p;U.p=2;var y=Wt;Wt|=4;try{J3(o,i);var N=My,P=n5(i.containerInfo),q=N.focusedElem,re=N.selectionRange;if(P!==q&&q&&q.ownerDocument&&s5(q.ownerDocument.documentElement,q)){if(re!==null&&nv(q)){var Ee=re.start,Fe=re.end;if(Fe===void 0&&(Fe=Ee),"selectionStart"in q)q.selectionStart=Ee,q.selectionEnd=Math.min(Fe,q.value.length);else{var Ke=q.ownerDocument||document,Me=Ke&&Ke.defaultView||window;if(Me.getSelection){var Re=Me.getSelection(),ot=q.textContent.length,bt=Math.min(re.start,ot),sa=re.end===void 0?bt:Math.min(re.end,ot);!Re.extend&&bt>sa&&(P=sa,sa=bt,bt=P);var Ne=a5(q,bt),pe=a5(q,sa);if(Ne&&pe&&(Re.rangeCount!==1||Re.anchorNode!==Ne.node||Re.anchorOffset!==Ne.offset||Re.focusNode!==pe.node||Re.focusOffset!==pe.offset)){var Ae=Ke.createRange();Ae.setStart(Ne.node,Ne.offset),Re.removeAllRanges(),bt>sa?(Re.addRange(Ae),Re.extend(pe.node,pe.offset)):(Ae.setEnd(pe.node,pe.offset),Re.addRange(Ae))}}}}for(Ke=[],Re=q;Re=Re.parentNode;)Re.nodeType===1&&Ke.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Ke.length;q++){var Ge=Ke[q];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}ix=!!Py,My=Py=null}finally{Wt=y,U.p=p,A.T=d}}i.current=o,os=2}}function vk(){if(os===2){os=0;var i=Vl,o=gd,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=A.T,A.T=null;var p=U.p;U.p=2;var y=Wt;Wt|=4;try{K3(i,o.alternate,o)}finally{Wt=y,U.p=p,A.T=d}}os=3}}function yk(){if(os===4||os===3){os=0,Be();var i=Vl,o=gd,d=Ki,p=ik;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?os=5:(os=0,gd=Vl=null,jk(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Fl=null),bn(d),o=o.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(rt,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=A.T,y=U.p,U.p=2,A.T=null;try{for(var N=i.onRecoverableError,P=0;P<p.length;P++){var q=p[P];N(q.value,{componentStack:q.stack})}}finally{A.T=o,U.p=y}}(Ki&3)!==0&&Y0(),ci(i),y=i.pendingLanes,(d&261930)!==0&&(y&42)!==0?i===vy?Lm++:(Lm=0,vy=i):Lm=0,Rm(0)}}function jk(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,pm(o)))}function Y0(){return bk(),vk(),yk(),wk()}function wk(){if(os!==5)return!1;var i=Vl,o=gy;gy=0;var d=bn(Ki),p=A.T,y=U.p;try{U.p=32>d?32:d,A.T=null,d=by,by=null;var N=Vl,P=Ki;if(os=0,gd=Vl=null,Ki=0,(Wt&6)!==0)throw Error(n(331));var q=Wt;if(Wt|=4,sk(N.current),ek(N,N.current,P,d),Wt=q,Rm(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(rt,N)}catch{}return!0}finally{U.p=y,A.T=p,jk(i,o)}}function Nk(i,o,d){o=ir(d,o),o=Zv(i.stateNode,o,2),i=Rl(i,o,2),i!==null&&(La(i,2),ci(i))}function Qt(i,o,d){if(i.tag===3)Nk(i,i,d);else for(;o!==null;){if(o.tag===3){Nk(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Fl===null||!Fl.has(p))){i=ir(d,i),d=S3(2),p=Rl(o,d,2),p!==null&&(_3(d,p,o,i),La(p,2),ci(p));break}}o=o.return}}function wy(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new Sz;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(d)||(fy=!0,y.add(d),i=Ez.bind(null,i,o,d),o.then(i,i))}function Ez(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,ia===i&&(Rt&d)===d&&(Ia===4||Ia===3&&(Rt&62914560)===Rt&&300>_e()-F0?(Wt&2)===0&&bd(i,0):xy|=d,pd===Rt&&(pd=0)),ci(i)}function Sk(i,o){o===0&&(o=Vt()),i=Do(i,o),i!==null&&(La(i,o),ci(i))}function Tz(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),Sk(i,d)}function Oz(i,o){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(d=y.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),Sk(i,d)}function Pz(i,o){return $e(i,o)}var W0=null,yd=null,Ny=!1,X0=!1,Sy=!1,ql=0;function ci(i){i!==yd&&i.next===null&&(yd===null?W0=yd=i:yd=yd.next=i),X0=!0,Ny||(Ny=!0,Dz())}function Rm(i,o){if(!Sy&&X0){Sy=!0;do for(var d=!1,p=W0;p!==null;){if(i!==0){var y=p.pendingLanes;if(y===0)var N=0;else{var P=p.suspendedLanes,q=p.pingedLanes;N=(1<<31-We(42|i)+1)-1,N&=y&~(P&~q),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,Ak(p,N))}else N=Rt,N=ht(p,p===ia?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||Ct(p,N)||(d=!0,Ak(p,N));p=p.next}while(d);Sy=!1}}function Mz(){_k()}function _k(){X0=Ny=!1;var i=0;ql!==0&&Hz()&&(i=ql);for(var o=_e(),d=null,p=W0;p!==null;){var y=p.next,N=kk(p,o);N===0?(p.next=null,d===null?W0=y:d.next=y,y===null&&(yd=d)):(d=p,(i!==0||(N&3)!==0)&&(X0=!0)),p=y}os!==0&&os!==5||Rm(i),ql!==0&&(ql=0)}function kk(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var P=31-We(N),q=1<<P,re=y[P];re===-1?((q&d)===0||(q&p)!==0)&&(y[P]=wt(q,o)):re<=o&&(i.expiredLanes|=q),N&=~q}if(o=ia,d=Rt,d=ht(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(Jt===2||Jt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&qe(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||Ct(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&qe(p),bn(d)){case 2:case 8:d=Se;break;case 32:d=me;break;case 268435456:d=Te;break;default:d=me}return p=Ck.bind(null,i),d=$e(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&qe(p),i.callbackPriority=2,i.callbackNode=null,2}function Ck(i,o){if(os!==0&&os!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Y0()&&i.callbackNode!==d)return null;var p=Rt;return p=ht(i,i===ia?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(ok(i,p,o),kk(i,_e()),i.callbackNode!=null&&i.callbackNode===d?Ck.bind(null,i):null)}function Ak(i,o){if(Y0())return null;ok(i,o,!0)}function Dz(){Gz(function(){(Wt&6)!==0?$e(Y,Mz):_k()})}function _y(){if(ql===0){var i=rd;i===0&&(i=J,J<<=1,(J&261888)===0&&(J=256)),ql=i}return ql}function Ek(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:n0(""+i)}function Tk(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function Lz(i,o,d,p,y){if(o==="submit"&&d&&d.stateNode===y){var N=Ek((y[Q]||null).action),P=p.submitter;P&&(o=(o=P[Q]||null)?Ek(o.formAction):P.getAttribute("formAction"),o!==null&&(N=o,P=null));var q=new o0("action","action",null,p,y);i.push({event:q,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ql!==0){var re=P?Tk(y,P):new FormData(y);qv(d,{pending:!0,data:re,method:y.method,action:N},null,re)}}else typeof N=="function"&&(q.preventDefault(),re=P?Tk(y,P):new FormData(y),qv(d,{pending:!0,data:re,method:y.method,action:N},N,re))},currentTarget:y}]})}}for(var ky=0;ky<ov.length;ky++){var Cy=ov[ky],Rz=Cy.toLowerCase(),$z=Cy[0].toUpperCase()+Cy.slice(1);Lr(Rz,"on"+$z)}Lr(l5,"onAnimationEnd"),Lr(o5,"onAnimationIteration"),Lr(c5,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(QI,"onTransitionRun"),Lr(ez,"onTransitionStart"),Lr(tz,"onTransitionCancel"),Lr(d5,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $m="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($m));function Ok(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],y=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var P=p.length-1;0<=P;P--){var q=p[P],re=q.instance,Ee=q.currentTarget;if(q=q.listener,re!==N&&y.isPropagationStopped())break e;N=q,y.currentTarget=Ee;try{N(y)}catch(Fe){u0(Fe)}y.currentTarget=null,N=re}else for(P=0;P<p.length;P++){if(q=p[P],re=q.instance,Ee=q.currentTarget,q=q.listener,re!==N&&y.isPropagationStopped())break e;N=q,y.currentTarget=Ee;try{N(y)}catch(Fe){u0(Fe)}y.currentTarget=null,N=re}}}}function Lt(i,o){var d=o[at];d===void 0&&(d=o[at]=new Set);var p=i+"__bubble";d.has(p)||(Pk(o,i,2,!1),d.add(p))}function Ay(i,o,d){var p=0;o&&(p|=4),Pk(d,i,p,o)}var Z0="_reactListening"+Math.random().toString(36).slice(2);function Ey(i){if(!i[Z0]){i[Z0]=!0,ls.forEach(function(d){d!=="selectionchange"&&(Iz.has(d)||Ay(d,!1,i),Ay(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Z0]||(o[Z0]=!0,Ay("selectionchange",!1,o))}}function Pk(i,o,d,p){switch(lC(o)){case 2:var y=mB;break;case 8:y=hB;break;default:y=Hy}d=y.bind(null,o,d,i),y=void 0,!Wb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(o,d,{capture:!0,passive:y}):i.addEventListener(o,d,!0):y!==void 0?i.addEventListener(o,d,{passive:y}):i.addEventListener(o,d,!1)}function Ty(i,o,d,p,y){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var q=p.stateNode.containerInfo;if(q===y)break;if(P===4)for(P=p.return;P!==null;){var re=P.tag;if((re===3||re===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;q!==null;){if(P=_t(q),P===null)return;if(re=P.tag,re===5||re===6||re===26||re===27){p=N=P;continue e}q=q.parentNode}}p=p.return}$_(function(){var Ee=N,Fe=Kb(d),Ke=[];e:{var Me=u5.get(i);if(Me!==void 0){var Re=o0,ot=i;switch(i){case"keypress":if(i0(d)===0)break e;case"keydown":case"keyup":Re=OI;break;case"focusin":ot="focus",Re=Qb;break;case"focusout":ot="blur",Re=Qb;break;case"beforeblur":case"afterblur":Re=Qb;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=B_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=vI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=DI;break;case l5:case o5:case c5:Re=wI;break;case d5:Re=RI;break;case"scroll":case"scrollend":Re=gI;break;case"wheel":Re=II;break;case"copy":case"cut":case"paste":Re=SI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=F_;break;case"toggle":case"beforetoggle":Re=BI}var bt=(o&4)!==0,sa=!bt&&(i==="scroll"||i==="scrollend"),Ne=bt?Me!==null?Me+"Capture":null:Me;bt=[];for(var pe=Ee,Ae;pe!==null;){var Ge=pe;if(Ae=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Ae===null||Ne===null||(Ge=rm(pe,Ne),Ge!=null&&bt.push(Im(pe,Ge,Ae))),sa)break;pe=pe.return}0<bt.length&&(Me=new Re(Me,ot,null,d,Fe),Ke.push({event:Me,listeners:bt}))}}if((o&7)===0){e:{if(Me=i==="mouseover"||i==="pointerover",Re=i==="mouseout"||i==="pointerout",Me&&d!==Gb&&(ot=d.relatedTarget||d.fromElement)&&(_t(ot)||ot[je]))break e;if((Re||Me)&&(Me=Fe.window===Fe?Fe:(Me=Fe.ownerDocument)?Me.defaultView||Me.parentWindow:window,Re?(ot=d.relatedTarget||d.toElement,Re=Ee,ot=ot?_t(ot):null,ot!==null&&(sa=l(ot),bt=ot.tag,ot!==sa||bt!==5&&bt!==27&&bt!==6)&&(ot=null)):(Re=null,ot=Ee),Re!==ot)){if(bt=B_,Ge="onMouseLeave",Ne="onMouseEnter",pe="mouse",(i==="pointerout"||i==="pointerover")&&(bt=F_,Ge="onPointerLeave",Ne="onPointerEnter",pe="pointer"),sa=Re==null?Me:Ht(Re),Ae=ot==null?Me:Ht(ot),Me=new bt(Ge,pe+"leave",Re,d,Fe),Me.target=sa,Me.relatedTarget=Ae,Ge=null,_t(Fe)===Ee&&(bt=new bt(Ne,pe+"enter",ot,d,Fe),bt.target=Ae,bt.relatedTarget=sa,Ge=bt),sa=Ge,Re&&ot)t:{for(bt=zz,Ne=Re,pe=ot,Ae=0,Ge=Ne;Ge;Ge=bt(Ge))Ae++;Ge=0;for(var ft=pe;ft;ft=bt(ft))Ge++;for(;0<Ae-Ge;)Ne=bt(Ne),Ae--;for(;0<Ge-Ae;)pe=bt(pe),Ge--;for(;Ae--;){if(Ne===pe||pe!==null&&Ne===pe.alternate){bt=Ne;break t}Ne=bt(Ne),pe=bt(pe)}bt=null}else bt=null;Re!==null&&Mk(Ke,Me,Re,bt,!1),ot!==null&&sa!==null&&Mk(Ke,sa,ot,bt,!0)}}e:{if(Me=Ee?Ht(Ee):window,Re=Me.nodeName&&Me.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Me.type==="file")var Gt=X_;else if(Y_(Me))if(Z_)Gt=XI;else{Gt=YI;var dt=KI}else Re=Me.nodeName,!Re||Re.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?Ee&&qb(Ee.elementType)&&(Gt=X_):Gt=WI;if(Gt&&(Gt=Gt(i,Ee))){W_(Ke,Gt,d,Fe);break e}dt&&dt(i,Me,Ee),i==="focusout"&&Ee&&Me.type==="number"&&Ee.memoizedProps.value!=null&&Hb(Me,"number",Me.value)}switch(dt=Ee?Ht(Ee):window,i){case"focusin":(Y_(dt)||dt.contentEditable==="true")&&(Zc=dt,rv=Ee,hm=null);break;case"focusout":hm=rv=Zc=null;break;case"mousedown":iv=!0;break;case"contextmenu":case"mouseup":case"dragend":iv=!1,r5(Ke,d,Fe);break;case"selectionchange":if(JI)break;case"keydown":case"keyup":r5(Ke,d,Fe)}var Tt;if(tv)e:{switch(i){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Xc?G_(i,d)&&($t="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&($t="onCompositionStart");$t&&(V_&&d.locale!=="ko"&&(Xc||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Xc&&(Tt=I_()):(El=Fe,Xb="value"in El?El.value:El.textContent,Xc=!0)),dt=J0(Ee,$t),0<dt.length&&($t=new U_($t,i,null,d,Fe),Ke.push({event:$t,listeners:dt}),Tt?$t.data=Tt:(Tt=K_(d),Tt!==null&&($t.data=Tt)))),(Tt=FI?VI(i,d):HI(i,d))&&($t=J0(Ee,"onBeforeInput"),0<$t.length&&(dt=new U_("onBeforeInput","beforeinput",null,d,Fe),Ke.push({event:dt,listeners:$t}),dt.data=Tt)),Lz(Ke,i,Ee,d,Fe)}Ok(Ke,o)})}function Im(i,o,d){return{instance:i,listener:o,currentTarget:d}}function J0(i,o){for(var d=o+"Capture",p=[];i!==null;){var y=i,N=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||N===null||(y=rm(i,d),y!=null&&p.unshift(Im(i,y,N)),y=rm(i,o),y!=null&&p.push(Im(i,y,N))),i.tag===3)return p;i=i.return}return[]}function zz(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Mk(i,o,d,p,y){for(var N=o._reactName,P=[];d!==null&&d!==p;){var q=d,re=q.alternate,Ee=q.stateNode;if(q=q.tag,re!==null&&re===p)break;q!==5&&q!==26&&q!==27||Ee===null||(re=Ee,y?(Ee=rm(d,N),Ee!=null&&P.unshift(Im(d,Ee,re))):y||(Ee=rm(d,N),Ee!=null&&P.push(Im(d,Ee,re)))),d=d.return}P.length!==0&&i.push({event:o,listeners:P})}var Bz=/\r\n?/g,Uz=/\u0000|\uFFFD/g;function Dk(i){return(typeof i=="string"?i:""+i).replace(Bz,`
`).replace(Uz,"")}function Lk(i,o){return o=Dk(o),Dk(i)===o}function aa(i,o,d,p,y,N){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Kc(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Kc(i,""+p);break;case"className":st(i,"class",p);break;case"tabIndex":st(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":st(i,d,p);break;case"style":L_(i,p,N);break;case"data":if(o!=="object"){st(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=n0(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&aa(i,o,"name",y.name,y,null),aa(i,o,"formEncType",y.formEncType,y,null),aa(i,o,"formMethod",y.formMethod,y,null),aa(i,o,"formTarget",y.formTarget,y,null)):(aa(i,o,"encType",y.encType,y,null),aa(i,o,"method",y.method,y,null),aa(i,o,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=n0(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=Pi);break;case"onScroll":p!=null&&Lt("scroll",i);break;case"onScrollEnd":p!=null&&Lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=n0(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":Lt("beforetoggle",i),Lt("toggle",i),tt(i,"popover",p);break;case"xlinkActuate":it(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":it(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":it(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":it(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":it(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":it(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":it(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":it(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":it(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":tt(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=xI.get(d)||d,tt(i,d,p))}}function Oy(i,o,d,p,y,N){switch(d){case"style":L_(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Kc(i,p):(typeof p=="number"||typeof p=="bigint")&&Kc(i,""+p);break;case"onScroll":p!=null&&Lt("scroll",i);break;case"onScrollEnd":p!=null&&Lt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ri.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),o=d.slice(2,y?d.length-7:void 0),N=i[Q]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(o,N,y),typeof p=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,y);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):tt(i,d,p)}}}function Ms(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",i),Lt("load",i);var p=!1,y=!1,N;for(N in d)if(d.hasOwnProperty(N)){var P=d[N];if(P!=null)switch(N){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:aa(i,o,N,P,d,null)}}y&&aa(i,o,"srcSet",d.srcSet,d,null),p&&aa(i,o,"src",d.src,d,null);return;case"input":Lt("invalid",i);var q=N=P=y=null,re=null,Ee=null;for(p in d)if(d.hasOwnProperty(p)){var Fe=d[p];if(Fe!=null)switch(p){case"name":y=Fe;break;case"type":P=Fe;break;case"checked":re=Fe;break;case"defaultChecked":Ee=Fe;break;case"value":N=Fe;break;case"defaultValue":q=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(n(137,o));break;default:aa(i,o,p,Fe,d,null)}}O_(i,N,q,re,Ee,P,y,!1);return;case"select":Lt("invalid",i),p=P=N=null;for(y in d)if(d.hasOwnProperty(y)&&(q=d[y],q!=null))switch(y){case"value":N=q;break;case"defaultValue":P=q;break;case"multiple":p=q;default:aa(i,o,y,q,d,null)}o=N,d=P,i.multiple=!!p,o!=null?Gc(i,!!p,o,!1):d!=null&&Gc(i,!!p,d,!0);return;case"textarea":Lt("invalid",i),N=y=p=null;for(P in d)if(d.hasOwnProperty(P)&&(q=d[P],q!=null))switch(P){case"value":p=q;break;case"defaultValue":y=q;break;case"children":N=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(91));break;default:aa(i,o,P,q,d,null)}M_(i,p,y,N);return;case"option":for(re in d)if(d.hasOwnProperty(re)&&(p=d[re],p!=null))switch(re){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:aa(i,o,re,p,d,null)}return;case"dialog":Lt("beforetoggle",i),Lt("toggle",i),Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":Lt("load",i);break;case"video":case"audio":for(p=0;p<$m.length;p++)Lt($m[p],i);break;case"image":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"embed":case"source":case"link":Lt("error",i),Lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in d)if(d.hasOwnProperty(Ee)&&(p=d[Ee],p!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:aa(i,o,Ee,p,d,null)}return;default:if(qb(o)){for(Fe in d)d.hasOwnProperty(Fe)&&(p=d[Fe],p!==void 0&&Oy(i,o,Fe,p,d,void 0));return}}for(q in d)d.hasOwnProperty(q)&&(p=d[q],p!=null&&aa(i,o,q,p,d,null))}function Fz(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,N=null,P=null,q=null,re=null,Ee=null,Fe=null;for(Re in d){var Ke=d[Re];if(d.hasOwnProperty(Re)&&Ke!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":re=Ke;default:p.hasOwnProperty(Re)||aa(i,o,Re,null,p,Ke)}}for(var Me in p){var Re=p[Me];if(Ke=d[Me],p.hasOwnProperty(Me)&&(Re!=null||Ke!=null))switch(Me){case"type":N=Re;break;case"name":y=Re;break;case"checked":Ee=Re;break;case"defaultChecked":Fe=Re;break;case"value":P=Re;break;case"defaultValue":q=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,o));break;default:Re!==Ke&&aa(i,o,Me,Re,p,Ke)}}Vb(i,P,q,re,Ee,Fe,N,y);return;case"select":Re=P=q=Me=null;for(N in d)if(re=d[N],d.hasOwnProperty(N)&&re!=null)switch(N){case"value":break;case"multiple":Re=re;default:p.hasOwnProperty(N)||aa(i,o,N,null,p,re)}for(y in p)if(N=p[y],re=d[y],p.hasOwnProperty(y)&&(N!=null||re!=null))switch(y){case"value":Me=N;break;case"defaultValue":q=N;break;case"multiple":P=N;default:N!==re&&aa(i,o,y,N,p,re)}o=q,d=P,p=Re,Me!=null?Gc(i,!!d,Me,!1):!!p!=!!d&&(o!=null?Gc(i,!!d,o,!0):Gc(i,!!d,d?[]:"",!1));return;case"textarea":Re=Me=null;for(q in d)if(y=d[q],d.hasOwnProperty(q)&&y!=null&&!p.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:aa(i,o,q,null,p,y)}for(P in p)if(y=p[P],N=d[P],p.hasOwnProperty(P)&&(y!=null||N!=null))switch(P){case"value":Me=y;break;case"defaultValue":Re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==N&&aa(i,o,P,y,p,N)}P_(i,Me,Re);return;case"option":for(var ot in d)if(Me=d[ot],d.hasOwnProperty(ot)&&Me!=null&&!p.hasOwnProperty(ot))switch(ot){case"selected":i.selected=!1;break;default:aa(i,o,ot,null,p,Me)}for(re in p)if(Me=p[re],Re=d[re],p.hasOwnProperty(re)&&Me!==Re&&(Me!=null||Re!=null))switch(re){case"selected":i.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:aa(i,o,re,Me,p,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in d)Me=d[bt],d.hasOwnProperty(bt)&&Me!=null&&!p.hasOwnProperty(bt)&&aa(i,o,bt,null,p,Me);for(Ee in p)if(Me=p[Ee],Re=d[Ee],p.hasOwnProperty(Ee)&&Me!==Re&&(Me!=null||Re!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(n(137,o));break;default:aa(i,o,Ee,Me,p,Re)}return;default:if(qb(o)){for(var sa in d)Me=d[sa],d.hasOwnProperty(sa)&&Me!==void 0&&!p.hasOwnProperty(sa)&&Oy(i,o,sa,void 0,p,Me);for(Fe in p)Me=p[Fe],Re=d[Fe],!p.hasOwnProperty(Fe)||Me===Re||Me===void 0&&Re===void 0||Oy(i,o,Fe,Me,p,Re);return}}for(var Ne in d)Me=d[Ne],d.hasOwnProperty(Ne)&&Me!=null&&!p.hasOwnProperty(Ne)&&aa(i,o,Ne,null,p,Me);for(Ke in p)Me=p[Ke],Re=d[Ke],!p.hasOwnProperty(Ke)||Me===Re||Me==null&&Re==null||aa(i,o,Ke,Me,p,Re)}function Rk(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vz(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var y=d[p],N=y.transferSize,P=y.initiatorType,q=y.duration;if(N&&q&&Rk(P)){for(P=0,q=y.responseEnd,p+=1;p<d.length;p++){var re=d[p],Ee=re.startTime;if(Ee>q)break;var Fe=re.transferSize,Ke=re.initiatorType;Fe&&Rk(Ke)&&(re=re.responseEnd,P+=Fe*(re<q?1:(q-Ee)/(re-Ee)))}if(--p,o+=8*(N+P)/(y.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Py=null,My=null;function Q0(i){return i.nodeType===9?i:i.ownerDocument}function $k(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ik(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Dy(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ly=null;function Hz(){var i=window.event;return i&&i.type==="popstate"?i===Ly?!1:(Ly=i,!0):(Ly=null,!1)}var zk=typeof setTimeout=="function"?setTimeout:void 0,qz=typeof clearTimeout=="function"?clearTimeout:void 0,Bk=typeof Promise=="function"?Promise:void 0,Gz=typeof queueMicrotask=="function"?queueMicrotask:typeof Bk<"u"?function(i){return Bk.resolve(null).then(i).catch(Kz)}:zk;function Kz(i){setTimeout(function(){throw i})}function Gl(i){return i==="head"}function Uk(i,o){var d=o,p=0;do{var y=d.nextSibling;if(i.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(y),Sd(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")zm(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,zm(d);for(var N=d.firstChild;N;){var P=N.nextSibling,q=N.nodeName;N[et]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=P}}else d==="body"&&zm(i.ownerDocument.body);d=y}while(d);Sd(o)}function Fk(i,o){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function Ry(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Ry(d),ut(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function Yz(i,o,d,p){for(;i.nodeType===1;){var y=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[et])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=ur(i.nextSibling),i===null)break}return null}function Wz(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=ur(i.nextSibling),i===null))return null;return i}function Vk(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ur(i.nextSibling),i===null))return null;return i}function $y(i){return i.data==="$?"||i.data==="$~"}function Iy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Xz(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function ur(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var zy=null;function Hk(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return ur(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function qk(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function Gk(i,o,d){switch(o=Q0(d),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function zm(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);ut(i)}var mr=new Map,Kk=new Set;function ex(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Yi=U.d;U.d={f:Zz,r:Jz,D:Qz,C:eB,L:tB,m:aB,X:nB,S:sB,M:rB};function Zz(){var i=Yi.f(),o=q0();return i||o}function Jz(i){var o=gt(i);o!==null&&o.tag===5&&o.type==="form"?d3(o):Yi.r(i)}var jd=typeof document>"u"?null:document;function Yk(i,o,d){var p=jd;if(p&&typeof o=="string"&&o){var y=nr(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),Kk.has(y)||(Kk.add(y),i={rel:i,crossOrigin:d,href:o},p.querySelector(y)===null&&(o=p.createElement("link"),Ms(o,"link",i),Mt(o),p.head.appendChild(o)))}}function Qz(i){Yi.D(i),Yk("dns-prefetch",i,null)}function eB(i,o){Yi.C(i,o),Yk("preconnect",i,o)}function tB(i,o,d){Yi.L(i,o,d);var p=jd;if(p&&i&&o){var y='link[rel="preload"][as="'+nr(o)+'"]';o==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+nr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+nr(d.imageSizes)+'"]')):y+='[href="'+nr(i)+'"]';var N=y;switch(o){case"style":N=wd(i);break;case"script":N=Nd(i)}mr.has(N)||(i=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),mr.set(N,i),p.querySelector(y)!==null||o==="style"&&p.querySelector(Bm(N))||o==="script"&&p.querySelector(Um(N))||(o=p.createElement("link"),Ms(o,"link",i),Mt(o),p.head.appendChild(o)))}}function aB(i,o){Yi.m(i,o);var d=jd;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+nr(p)+'"][href="'+nr(i)+'"]',N=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Nd(i)}if(!mr.has(N)&&(i=g({rel:"modulepreload",href:i},o),mr.set(N,i),d.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Um(N)))return}p=d.createElement("link"),Ms(p,"link",i),Mt(p),d.head.appendChild(p)}}}function sB(i,o,d){Yi.S(i,o,d);var p=jd;if(p&&i){var y=qt(p).hoistableStyles,N=wd(i);o=o||"default";var P=y.get(N);if(!P){var q={loading:0,preload:null};if(P=p.querySelector(Bm(N)))q.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},d),(d=mr.get(N))&&By(i,d);var re=P=p.createElement("link");Mt(re),Ms(re,"link",i),re._p=new Promise(function(Ee,Fe){re.onload=Ee,re.onerror=Fe}),re.addEventListener("load",function(){q.loading|=1}),re.addEventListener("error",function(){q.loading|=2}),q.loading|=4,tx(P,o,p)}P={type:"stylesheet",instance:P,count:1,state:q},y.set(N,P)}}}function nB(i,o){Yi.X(i,o);var d=jd;if(d&&i){var p=qt(d).hoistableScripts,y=Nd(i),N=p.get(y);N||(N=d.querySelector(Um(y)),N||(i=g({src:i,async:!0},o),(o=mr.get(y))&&Uy(i,o),N=d.createElement("script"),Mt(N),Ms(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function rB(i,o){Yi.M(i,o);var d=jd;if(d&&i){var p=qt(d).hoistableScripts,y=Nd(i),N=p.get(y);N||(N=d.querySelector(Um(y)),N||(i=g({src:i,async:!0,type:"module"},o),(o=mr.get(y))&&Uy(i,o),N=d.createElement("script"),Mt(N),Ms(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function Wk(i,o,d,p){var y=(y=be.current)?ex(y):null;if(!y)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=wd(d.href),d=qt(y).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=wd(d.href);var N=qt(y).hoistableStyles,P=N.get(i);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,P),(N=y.querySelector(Bm(i)))&&!N._p&&(P.instance=N,P.state.loading=5),mr.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},mr.set(i,d),N||iB(y,i,d,P.state))),o&&p===null)throw Error(n(528,""));return P}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Nd(d),d=qt(y).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function wd(i){return'href="'+nr(i)+'"'}function Bm(i){return'link[rel="stylesheet"]['+i+"]"}function Xk(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function iB(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Ms(o,"link",d),Mt(o),i.head.appendChild(o))}function Nd(i){return'[src="'+nr(i)+'"]'}function Um(i){return"script[async]"+i}function Zk(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+nr(d.href)+'"]');if(p)return o.instance=p,Mt(p),p;var y=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Mt(p),Ms(p,"style",y),tx(p,d.precedence,i),o.instance=p;case"stylesheet":y=wd(d.href);var N=i.querySelector(Bm(y));if(N)return o.state.loading|=4,o.instance=N,Mt(N),N;p=Xk(d),(y=mr.get(y))&&By(p,y),N=(i.ownerDocument||i).createElement("link"),Mt(N);var P=N;return P._p=new Promise(function(q,re){P.onload=q,P.onerror=re}),Ms(N,"link",p),o.state.loading|=4,tx(N,d.precedence,i),o.instance=N;case"script":return N=Nd(d.src),(y=i.querySelector(Um(N)))?(o.instance=y,Mt(y),y):(p=d,(y=mr.get(N))&&(p=g({},d),Uy(p,y)),i=i.ownerDocument||i,y=i.createElement("script"),Mt(y),Ms(y,"link",p),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,tx(p,d.precedence,i));return o.instance}function tx(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,N=y,P=0;P<p.length;P++){var q=p[P];if(q.dataset.precedence===o)N=q;else if(N!==y)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function By(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Uy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var ax=null;function Jk(i,o,d){if(ax===null){var p=new Map,y=ax=new Map;y.set(d,p)}else y=ax,p=y.get(d),p||(p=new Map,y.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),y=0;y<d.length;y++){var N=d[y];if(!(N[et]||N[ma]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var P=N.getAttribute(o)||"";P=i+P;var q=p.get(P);q?q.push(N):p.set(P,[N])}}return p}function Qk(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function lB(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function eC(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function oB(i,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var y=wd(p.href),N=o.querySelector(Bm(y));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=sx.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=N,Mt(N);return}N=o.ownerDocument||o,p=Xk(p),(y=mr.get(y))&&By(p,y),N=N.createElement("link"),Mt(N);var P=N;P._p=new Promise(function(q,re){P.onload=q,P.onerror=re}),Ms(N,"link",p),d.instance=N}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=sx.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var Fy=0;function cB(i,o){return i.stylesheets&&i.count===0&&rx(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&rx(i,i.stylesheets),i.unsuspend){var N=i.unsuspend;i.unsuspend=null,N()}},6e4+o);0<i.imgBytes&&Fy===0&&(Fy=62500*Vz());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rx(i,i.stylesheets),i.unsuspend)){var N=i.unsuspend;i.unsuspend=null,N()}},(i.imgBytes>Fy?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(y)}}:null}function sx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rx(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var nx=null;function rx(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,nx=new Map,o.forEach(dB,i),nx=null,sx.call(i))}function dB(i,o){if(!(o.state.loading&4)){var d=nx.get(i);if(d)var p=d.get(null);else{d=new Map,nx.set(i,d);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<y.length;N++){var P=y[N];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),p=P)}p&&d.set(null,p)}y=o.instance,P=y.getAttribute("data-precedence"),N=d.get(P)||p,N===p&&d.set(null,y),d.set(P,y),this.count++,p=sx.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),N?N.parentNode.insertBefore(y,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Fm={$$typeof:C,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function uB(i,o,d,p,y,N,P,q,re){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=At(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.hiddenUpdates=At(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=N,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function tC(i,o,d,p,y,N,P,q,re,Ee,Fe,Ke){return i=new uB(i,o,d,P,re,Ee,Fe,Ke,q),o=1,N===!0&&(o|=24),N=Ln(3,null,null,o),i.current=N,N.stateNode=i,o=jv(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:o},_v(N),i}function aC(i){return i?(i=ed,i):ed}function sC(i,o,d,p,y,N){y=aC(y),p.context===null?p.context=y:p.pendingContext=y,p=Ll(o),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=Rl(i,p,o),d!==null&&(_n(d,i,o),ym(d,i,o))}function nC(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function Vy(i,o){nC(i,o),(i=i.alternate)&&nC(i,o)}function rC(i){if(i.tag===13||i.tag===31){var o=Do(i,67108864);o!==null&&_n(o,i,67108864),Vy(i,67108864)}}function iC(i){if(i.tag===13||i.tag===31){var o=Bn();o=As(o);var d=Do(i,o);d!==null&&_n(d,i,o),Vy(i,o)}}var ix=!0;function mB(i,o,d,p){var y=A.T;A.T=null;var N=U.p;try{U.p=2,Hy(i,o,d,p)}finally{U.p=N,A.T=y}}function hB(i,o,d,p){var y=A.T;A.T=null;var N=U.p;try{U.p=8,Hy(i,o,d,p)}finally{U.p=N,A.T=y}}function Hy(i,o,d,p){if(ix){var y=qy(p);if(y===null)Ty(i,o,p,lx,d),oC(i,p);else if(xB(y,i,o,d,p))p.stopPropagation();else if(oC(i,p),o&4&&-1<fB.indexOf(i)){for(;y!==null;){var N=gt(y);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var P=Qe(N.pendingLanes);if(P!==0){var q=N;for(q.pendingLanes|=2,q.entangledLanes|=2;P;){var re=1<<31-We(P);q.entanglements[1]|=re,P&=~re}ci(N),(Wt&6)===0&&(V0=_e()+500,Rm(0))}}break;case 31:case 13:q=Do(N,2),q!==null&&_n(q,N,2),q0(),Vy(N,2)}if(N=qy(p),N===null&&Ty(i,o,p,lx,d),N===y)break;y=N}y!==null&&p.stopPropagation()}else Ty(i,o,p,null,d)}}function qy(i){return i=Kb(i),Gy(i)}var lx=null;function Gy(i){if(lx=null,i=_t(i),i!==null){var o=l(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return lx=i,null}function lC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case Y:return 2;case Se:return 8;case me:case X:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Ky=!1,Kl=null,Yl=null,Wl=null,Vm=new Map,Hm=new Map,Xl=[],fB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oC(i,o){switch(i){case"focusin":case"focusout":Kl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":Vm.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hm.delete(o.pointerId)}}function qm(i,o,d,p,y,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[y]},o!==null&&(o=gt(o),o!==null&&rC(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function xB(i,o,d,p,y){switch(o){case"focusin":return Kl=qm(Kl,i,o,d,p,y),!0;case"dragenter":return Yl=qm(Yl,i,o,d,p,y),!0;case"mouseover":return Wl=qm(Wl,i,o,d,p,y),!0;case"pointerover":var N=y.pointerId;return Vm.set(N,qm(Vm.get(N)||null,i,o,d,p,y)),!0;case"gotpointercapture":return N=y.pointerId,Hm.set(N,qm(Hm.get(N)||null,i,o,d,p,y)),!0}return!1}function cC(i){var o=_t(i.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,vn(i.priority,function(){iC(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,vn(i.priority,function(){iC(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ox(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=qy(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Gb=p,d.target.dispatchEvent(p),Gb=null}else return o=gt(d),o!==null&&rC(o),i.blockedOn=d,!1;o.shift()}return!0}function dC(i,o,d){ox(i)&&d.delete(o)}function pB(){Ky=!1,Kl!==null&&ox(Kl)&&(Kl=null),Yl!==null&&ox(Yl)&&(Yl=null),Wl!==null&&ox(Wl)&&(Wl=null),Vm.forEach(dC),Hm.forEach(dC)}function cx(i,o){i.blockedOn===o&&(i.blockedOn=null,Ky||(Ky=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pB)))}var dx=null;function uC(i){dx!==i&&(dx=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dx===i&&(dx=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],y=i[o+2];if(typeof p!="function"){if(Gy(p||d)===null)continue;break}var N=gt(d);N!==null&&(i.splice(o,3),o-=3,qv(N,{pending:!0,data:y,method:d.method,action:p},p,y))}}))}function Sd(i){function o(re){return cx(re,i)}Kl!==null&&cx(Kl,i),Yl!==null&&cx(Yl,i),Wl!==null&&cx(Wl,i),Vm.forEach(o),Hm.forEach(o);for(var d=0;d<Xl.length;d++){var p=Xl[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Xl.length&&(d=Xl[0],d.blockedOn===null);)cC(d),d.blockedOn===null&&Xl.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var y=d[p],N=d[p+1],P=y[Q]||null;if(typeof N=="function")P||uC(d);else if(P){var q=null;if(N&&N.hasAttribute("formAction")){if(y=N,P=N[Q]||null)q=P.formAction;else if(Gy(y)!==null)continue}else q=P.action;typeof q=="function"?d[p+1]=q:(d.splice(p,3),p-=3),uC(d)}}}function mC(){function i(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(P){return y=P})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Yy(i){this._internalRoot=i}ux.prototype.render=Yy.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=Bn();sC(d,p,i,o,null,null)},ux.prototype.unmount=Yy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;sC(i.current,2,null,i,null,null),q0(),o[je]=null}};function ux(i){this._internalRoot=i}ux.prototype.unstable_scheduleHydration=function(i){if(i){var o=Oi();i={blockedOn:null,target:i,priority:o};for(var d=0;d<Xl.length&&o!==0&&o<Xl[d].priority;d++);Xl.splice(d,0,i),d===0&&cC(i)}};var hC=a.version;if(hC!=="19.2.0")throw Error(n(527,hC,"19.2.0"));U.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var gB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mx.isDisabled&&mx.supportsFiber)try{rt=mx.inject(gB),nt=mx}catch{}}return Km.createRoot=function(i,o){if(!r(i))throw Error(n(299));var d=!1,p="",y=y3,N=j3,P=w3;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError)),o=tC(i,1,!1,null,null,d,p,null,y,N,P,mC),i[je]=o.current,Ey(i),new Yy(o)},Km.hydrateRoot=function(i,o,d){if(!r(i))throw Error(n(299));var p=!1,y="",N=y3,P=j3,q=w3,re=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(q=d.onRecoverableError),d.formState!==void 0&&(re=d.formState)),o=tC(i,1,!0,o,d??null,p,y,re,N,P,q,mC),o.context=aC(null),d=o.current,p=Bn(),p=As(p),y=Ll(p),y.callback=null,Rl(d,y,p),d=p,o.current.lanes=d,La(o,d),ci(o),i[je]=o.current,Ey(i),new ux(o)},Km.version="19.2.0",Km}var NC;function TB(){if(NC)return Jy.exports;NC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),Jy.exports=EB(),Jy.exports}var OB=TB();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SC="popstate";function PB(e={}){function a(n,r){let{pathname:l,search:c,hash:u}=n.location;return Kw("",{pathname:l,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function s(n,r){return typeof r=="string"?r:Qh(r)}return DB(a,s,null,e)}function _a(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function ti(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function MB(){return Math.random().toString(36).substring(2,10)}function _C(e,a){return{usr:e.state,key:e.key,idx:a}}function Kw(e,a,s=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?Iu(a):a,state:s,key:a&&a.key||n||MB()}}function Qh({pathname:e="/",search:a="",hash:s=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Iu(e){let a={};if(e){let s=e.indexOf("#");s>=0&&(a.hash=e.substring(s),e=e.substring(0,s));let n=e.indexOf("?");n>=0&&(a.search=e.substring(n),e=e.substring(0,n)),e&&(a.pathname=e)}return a}function DB(e,a,s,n={}){let{window:r=document.defaultView,v5Compat:l=!1}=n,c=r.history,u="POP",m=null,h=f();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function f(){return(c.state||{idx:null}).idx}function g(){u="POP";let S=f(),k=S==null?null:S-h;h=S,m&&m({action:u,location:j.location,delta:k})}function b(S,k){u="PUSH";let _=Kw(j.location,S,k);h=f()+1;let C=_C(_,h),T=j.createHref(_);try{c.pushState(C,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(T)}l&&m&&m({action:u,location:j.location,delta:1})}function v(S,k){u="REPLACE";let _=Kw(j.location,S,k);h=f();let C=_C(_,h),T=j.createHref(_);c.replaceState(C,"",T),l&&m&&m({action:u,location:j.location,delta:0})}function w(S){return LB(S)}let j={get action(){return u},get location(){return e(r,c)},listen(S){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(SC,g),m=S,()=>{r.removeEventListener(SC,g),m=null}},createHref(S){return a(r,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:v,go(S){return c.go(S)}};return j}function LB(e,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),_a(s,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Qh(e);return n=n.replace(/ $/,"%20"),!a&&n.startsWith("//")&&(n=s+n),new URL(n,s)}function $M(e,a,s="/"){return RB(e,a,s,!1)}function RB(e,a,s,n){let r=typeof a=="string"?Iu(a):a,l=ml(r.pathname||"/",s);if(l==null)return null;let c=IM(e);$B(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let h=YB(l);u=GB(c[m],h,n)}return u}function IM(e,a=[],s=[],n="",r=!1){let l=(c,u,m=r,h)=>{let f={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&m)return;_a(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let g=ol([n,f.relativePath]),b=s.concat(f);c.children&&c.children.length>0&&(_a(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),IM(c.children,a,b,g,m)),!(c.path==null&&!c.index)&&a.push({path:g,score:HB(g,c.index),routesMeta:b})};return e.forEach((c,u)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,u);else for(let h of zM(c.path))l(c,u,!0,h)}),a}function zM(e){let a=e.split("/");if(a.length===0)return[];let[s,...n]=a,r=s.endsWith("?"),l=s.replace(/\?$/,"");if(n.length===0)return r?[l,""]:[l];let c=zM(n.join("/")),u=[];return u.push(...c.map(m=>m===""?l:[l,m].join("/"))),r&&u.push(...c),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function $B(e){e.sort((a,s)=>a.score!==s.score?s.score-a.score:qB(a.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var IB=/^:[\w-]+$/,zB=3,BB=2,UB=1,FB=10,VB=-2,kC=e=>e==="*";function HB(e,a){let s=e.split("/"),n=s.length;return s.some(kC)&&(n+=VB),a&&(n+=BB),s.filter(r=>!kC(r)).reduce((r,l)=>r+(IB.test(l)?zB:l===""?UB:FB),n)}function qB(e,a){return e.length===a.length&&e.slice(0,-1).every((n,r)=>n===a[r])?e[e.length-1]-a[a.length-1]:0}function GB(e,a,s=!1){let{routesMeta:n}=e,r={},l="/",c=[];for(let u=0;u<n.length;++u){let m=n[u],h=u===n.length-1,f=l==="/"?a:a.slice(l.length)||"/",g=Lp({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},f),b=m.route;if(!g&&h&&s&&!n[n.length-1].route.index&&(g=Lp({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},f)),!g)return null;Object.assign(r,g.params),c.push({params:r,pathname:ol([l,g.pathname]),pathnameBase:JB(ol([l,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(l=ol([l,g.pathnameBase]))}return c}function Lp(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=KB(e.path,e.caseSensitive,e.end),r=a.match(s);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:g},b)=>{if(f==="*"){let w=u[b]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[b];return g&&!v?h[f]=void 0:h[f]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:e}}function KB(e,a=!1,s=!0){ti(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(n.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,a?void 0:"i"),n]}function YB(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ti(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function ml(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function WB(e,a="/"){let{pathname:s,search:n="",hash:r=""}=typeof e=="string"?Iu(e):e;return{pathname:s?s.startsWith("/")?s:XB(s,a):a,search:QB(n),hash:eU(r)}}function XB(e,a){let s=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function a1(e,a,s,n){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZB(e){return e.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function CN(e){let a=ZB(e);return a.map((s,n)=>n===a.length-1?s.pathname:s.pathnameBase)}function AN(e,a,s,n=!1){let r;typeof e=="string"?r=Iu(e):(r={...e},_a(!r.pathname||!r.pathname.includes("?"),a1("?","pathname","search",r)),_a(!r.pathname||!r.pathname.includes("#"),a1("#","pathname","hash",r)),_a(!r.search||!r.search.includes("#"),a1("#","search","hash",r)));let l=e===""||r.pathname==="",c=l?"/":r.pathname,u;if(c==null)u=s;else{let g=a.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;r.pathname=b.join("/")}u=g>=0?a[g]:"/"}let m=WB(r,u),h=c&&c!=="/"&&c.endsWith("/"),f=(l||c===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(h||f)&&(m.pathname+="/"),m}var ol=e=>e.join("/").replace(/\/\/+/g,"/"),JB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var BM=["POST","PUT","PATCH","DELETE"];new Set(BM);var aU=["GET",...BM];new Set(aU);var zu=x.createContext(null);zu.displayName="DataRouter";var Rg=x.createContext(null);Rg.displayName="DataRouterState";x.createContext(!1);var UM=x.createContext({isTransitioning:!1});UM.displayName="ViewTransition";var sU=x.createContext(new Map);sU.displayName="Fetchers";var nU=x.createContext(null);nU.displayName="Await";var si=x.createContext(null);si.displayName="Navigation";var _f=x.createContext(null);_f.displayName="Location";var Mr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var EN=x.createContext(null);EN.displayName="RouteError";function rU(e,{relative:a}={}){_a(Bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=x.useContext(si),{hash:r,pathname:l,search:c}=Cf(e,{relative:a}),u=l;return s!=="/"&&(u=l==="/"?s:ol([s,l])),n.createHref({pathname:u,search:c,hash:r})}function Bu(){return x.useContext(_f)!=null}function Ti(){return _a(Bu(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(_f).location}var FM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VM(e){x.useContext(si).static||x.useLayoutEffect(e)}function ba(){let{isDataRoute:e}=x.useContext(Mr);return e?yU():iU()}function iU(){_a(Bu(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(zu),{basename:a,navigator:s}=x.useContext(si),{matches:n}=x.useContext(Mr),{pathname:r}=Ti(),l=JSON.stringify(CN(n)),c=x.useRef(!1);return VM(()=>{c.current=!0}),x.useCallback((m,h={})=>{if(ti(c.current,FM),!c.current)return;if(typeof m=="number"){s.go(m);return}let f=AN(m,JSON.parse(l),r,h.relative==="path");e==null&&a!=="/"&&(f.pathname=f.pathname==="/"?a:ol([a,f.pathname])),(h.replace?s.replace:s.push)(f,h.state,h)},[a,s,l,r,e])}var lU=x.createContext(null);function oU(e){let a=x.useContext(Mr).outlet;return x.useMemo(()=>a&&x.createElement(lU.Provider,{value:e},a),[a,e])}function kf(){let{matches:e}=x.useContext(Mr),a=e[e.length-1];return a?a.params:{}}function Cf(e,{relative:a}={}){let{matches:s}=x.useContext(Mr),{pathname:n}=Ti(),r=JSON.stringify(CN(s));return x.useMemo(()=>AN(e,JSON.parse(r),n,a==="path"),[e,r,n,a])}function cU(e,a){return HM(e,a)}function HM(e,a,s,n,r){var _;_a(Bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(si),{matches:c}=x.useContext(Mr),u=c[c.length-1],m=u?u.params:{},h=u?u.pathname:"/",f=u?u.pathnameBase:"/",g=u&&u.route;{let C=g&&g.path||"";qM(h,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=Ti(),v;if(a){let C=typeof a=="string"?Iu(a):a;_a(f==="/"||((_=C.pathname)==null?void 0:_.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=b;let w=v.pathname||"/",j=w;if(f!=="/"){let C=f.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=$M(e,{pathname:j});ti(g||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ti(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=fU(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:ol([f,l.encodeLocation?l.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:ol([f,l.encodeLocation?l.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),c,s,n,r);return a&&k?x.createElement(_f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},k):k}function dU(){let e=vU(),a=tU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},a),s?x.createElement("pre",{style:r},s):null,c)}var uU=x.createElement(dU,null),mU=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){this.props.unstable_onError?this.props.unstable_onError(e,a):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Mr.Provider,{value:this.props.routeContext},x.createElement(EN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hU({routeContext:e,match:a,children:s}){let n=x.useContext(zu);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),x.createElement(Mr.Provider,{value:e},s)}function fU(e,a=[],s=null,n=null,r=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,c=s==null?void 0:s.errors;if(c!=null){let h=l.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);_a(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,m=-1;if(s)for(let h=0;h<l.length;h++){let f=l[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=h),f.route.id){let{loaderData:g,errors:b}=s,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!b||b[f.route.id]===void 0);if(f.route.lazy||v){u=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((h,f,g)=>{let b,v=!1,w=null,j=null;s&&(b=c&&f.route.id?c[f.route.id]:void 0,w=f.route.errorElement||uU,u&&(m<0&&g===0?(qM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,j=null):m===g&&(v=!0,j=f.route.hydrateFallbackElement||null)));let S=a.concat(l.slice(0,g+1)),k=()=>{let _;return b?_=w:v?_=j:f.route.Component?_=x.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,x.createElement(hU,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:s!=null},children:_})};return s&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?x.createElement(mU,{location:s.location,revalidation:s.revalidation,component:w,error:b,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):k()},null)}function TN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xU(e){let a=x.useContext(zu);return _a(a,TN(e)),a}function pU(e){let a=x.useContext(Rg);return _a(a,TN(e)),a}function gU(e){let a=x.useContext(Mr);return _a(a,TN(e)),a}function ON(e){let a=gU(e),s=a.matches[a.matches.length-1];return _a(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function bU(){return ON("useRouteId")}function vU(){var n;let e=x.useContext(EN),a=pU("useRouteError"),s=ON("useRouteError");return e!==void 0?e:(n=a.errors)==null?void 0:n[s]}function yU(){let{router:e}=xU("useNavigate"),a=ON("useNavigate"),s=x.useRef(!1);return VM(()=>{s.current=!0}),x.useCallback(async(r,l={})=>{ti(s.current,FM),s.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:a,...l}))},[e,a])}var CC={};function qM(e,a,s){!a&&!CC[e]&&(CC[e]=!0,ti(!1,s))}x.memo(jU);function jU({routes:e,future:a,state:s,unstable_onError:n}){return HM(e,void 0,s,n,a)}function wU({to:e,replace:a,state:s,relative:n}){_a(Bu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=x.useContext(si);ti(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(Mr),{pathname:c}=Ti(),u=ba(),m=AN(e,CN(l),c,n==="path"),h=JSON.stringify(m);return x.useEffect(()=>{u(JSON.parse(h),{replace:a,state:s,relative:n})},[u,h,n,a,s]),null}function GM(e){return oU(e.context)}function Nt(e){_a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NU({basename:e="/",children:a=null,location:s,navigationType:n="POP",navigator:r,static:l=!1}){_a(!Bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof s=="string"&&(s=Iu(s));let{pathname:m="/",search:h="",hash:f="",state:g=null,key:b="default"}=s,v=x.useMemo(()=>{let w=ml(m,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:g,key:b},navigationType:n}},[c,m,h,f,g,b,n]);return ti(v!=null,`<Router basename="${c}"> is not able to match the URL "${m}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(si.Provider,{value:u},x.createElement(_f.Provider,{children:a,value:v}))}function SU({children:e,location:a}){return cU(Yw(e),a)}function Yw(e,a=[]){let s=[];return x.Children.forEach(e,(n,r)=>{if(!x.isValidElement(n))return;let l=[...a,r];if(n.type===x.Fragment){s.push.apply(s,Yw(n.props.children,l));return}_a(n.type===Nt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_a(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Yw(n.props.children,l)),s.push(c)}),s}var jp="get",wp="application/x-www-form-urlencoded";function $g(e){return e!=null&&typeof e.tagName=="string"}function _U(e){return $g(e)&&e.tagName.toLowerCase()==="button"}function kU(e){return $g(e)&&e.tagName.toLowerCase()==="form"}function CU(e){return $g(e)&&e.tagName.toLowerCase()==="input"}function AU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EU(e,a){return e.button===0&&(!a||a==="_self")&&!AU(e)}var hx=null;function TU(){if(hx===null)try{new FormData(document.createElement("form"),0),hx=!1}catch{hx=!0}return hx}var OU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s1(e){return e!=null&&!OU.has(e)?(ti(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wp}"`),null):e}function PU(e,a){let s,n,r,l,c;if(kU(e)){let u=e.getAttribute("action");n=u?ml(u,a):null,s=e.getAttribute("method")||jp,r=s1(e.getAttribute("enctype"))||wp,l=new FormData(e)}else if(_U(e)||CU(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(n=m?ml(m,a):null,s=e.getAttribute("formmethod")||u.getAttribute("method")||jp,r=s1(e.getAttribute("formenctype"))||s1(u.getAttribute("enctype"))||wp,l=new FormData(u,e),!TU()){let{name:h,type:f,value:g}=e;if(f==="image"){let b=h?`${h}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else h&&l.append(h,g)}}else{if($g(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=jp,n=null,r=wp,c=e}return l&&r==="text/plain"&&(c=l,l=void 0),{action:n,method:s.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function PN(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function MU(e,a,s){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${s}`:a&&ml(n.pathname,a)==="/"?n.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}async function DU(e,a){if(e.id in a)return a[e.id];try{let s=await import(e.module);return a[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LU(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function RU(e,a,s){let n=await Promise.all(e.map(async r=>{let l=a.routes[r.route.id];if(l){let c=await DU(l,s);return c.links?c.links():[]}return[]}));return BU(n.flat(1).filter(LU).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function AC(e,a,s,n,r,l){let c=(m,h)=>s[h]?m.route.id!==s[h].route.id:!0,u=(m,h)=>{var f;return s[h].pathname!==m.pathname||((f=s[h].route.path)==null?void 0:f.endsWith("*"))&&s[h].params["*"]!==m.params["*"]};return l==="assets"?a.filter((m,h)=>c(m,h)||u(m,h)):l==="data"?a.filter((m,h)=>{var g;let f=n.routes[m.route.id];if(!f||!f.hasLoader)return!1;if(c(m,h)||u(m,h))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=s[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $U(e,a,{includeHydrateFallback:s}={}){return IU(e.map(n=>{let r=a.routes[n.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),s&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function IU(e){return[...new Set(e)]}function zU(e){let a={},s=Object.keys(e).sort();for(let n of s)a[n]=e[n];return a}function BU(e,a){let s=new Set;return new Set(a),e.reduce((n,r)=>{let l=JSON.stringify(zU(r));return s.has(l)||(s.add(l),n.push({key:l,link:r})),n},[])}function KM(){let e=x.useContext(zu);return PN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function UU(){let e=x.useContext(Rg);return PN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var MN=x.createContext(void 0);MN.displayName="FrameworkContext";function YM(){let e=x.useContext(MN);return PN(e,"You must render this element inside a <HydratedRouter> element"),e}function FU(e,a){let s=x.useContext(MN),[n,r]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:h,onMouseLeave:f,onTouchStart:g}=a,b=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=k=>{k.forEach(_=>{c(_.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),x.useEffect(()=>{if(n){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[n]);let v=()=>{r(!0)},w=()=>{r(!1),c(!1)};return s?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Ym(u,v),onBlur:Ym(m,w),onMouseEnter:Ym(h,v),onMouseLeave:Ym(f,w),onTouchStart:Ym(g,v)}]:[!1,b,{}]}function Ym(e,a){return s=>{e&&e(s),s.defaultPrevented||a(s)}}function VU({page:e,...a}){let{router:s}=KM(),n=x.useMemo(()=>$M(s.routes,e,s.basename),[s.routes,e,s.basename]);return n?x.createElement(qU,{page:e,matches:n,...a}):null}function HU(e){let{manifest:a,routeModules:s}=YM(),[n,r]=x.useState([]);return x.useEffect(()=>{let l=!1;return RU(e,a,s).then(c=>{l||r(c)}),()=>{l=!0}},[e,a,s]),n}function qU({page:e,matches:a,...s}){let n=Ti(),{manifest:r,routeModules:l}=YM(),{basename:c}=KM(),{loaderData:u,matches:m}=UU(),h=x.useMemo(()=>AC(e,a,m,r,n,"data"),[e,a,m,r,n]),f=x.useMemo(()=>AC(e,a,m,r,n,"assets"),[e,a,m,r,n]),g=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,j=!1;if(a.forEach(k=>{var C;let _=r.routes[k.route.id];!_||!_.hasLoader||(!h.some(T=>T.route.id===k.route.id)&&k.route.id in u&&((C=l[k.route.id])!=null&&C.shouldRevalidate)||_.hasClientLoader?j=!0:w.add(k.route.id))}),w.size===0)return[];let S=MU(e,c,"data");return j&&w.size>0&&S.searchParams.set("_routes",a.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[c,u,n,r,h,a,e,l]),b=x.useMemo(()=>$U(f,r),[f,r]),v=HU(f);return x.createElement(x.Fragment,null,g.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...s})),b.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...s})),v.map(({key:w,link:j})=>x.createElement("link",{key:w,nonce:s.nonce,...j})))}function GU(...e){return a=>{e.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var WM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WM&&(window.__reactRouterVersion="7.9.4")}catch{}function KU({basename:e,children:a,window:s}){let n=x.useRef();n.current==null&&(n.current=PB({window:s,v5Compat:!0}));let r=n.current,[l,c]=x.useState({action:r.action,location:r.location}),u=x.useCallback(m=>{x.startTransition(()=>c(m))},[c]);return x.useLayoutEffect(()=>r.listen(u),[r,u]),x.createElement(NU,{basename:e,children:a,location:l.location,navigationType:l.action,navigator:r})}var XM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZM=x.forwardRef(function({onClick:a,discover:s="render",prefetch:n="none",relative:r,reloadDocument:l,replace:c,state:u,target:m,to:h,preventScrollReset:f,viewTransition:g,...b},v){let{basename:w}=x.useContext(si),j=typeof h=="string"&&XM.test(h),S,k=!1;if(typeof h=="string"&&j&&(S=h,WM))try{let H=new URL(window.location.href),V=h.startsWith("//")?new URL(H.protocol+h):new URL(h),F=ml(V.pathname,w);V.origin===H.origin&&F!=null?h=F+V.search+V.hash:k=!0}catch{ti(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=rU(h,{relative:r}),[C,T,O]=FU(n,b),E=ZU(h,{replace:c,state:u,target:m,preventScrollReset:f,relative:r,viewTransition:g});function $(H){a&&a(H),H.defaultPrevented||E(H)}let M=x.createElement("a",{...b,...O,href:S||_,onClick:k||l?a:$,ref:GU(v,T),target:m,"data-discover":!j&&s==="render"?"true":void 0});return C&&!j?x.createElement(x.Fragment,null,M,x.createElement(VU,{page:_})):M});ZM.displayName="Link";var YU=x.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:n="",end:r=!1,style:l,to:c,viewTransition:u,children:m,...h},f){let g=Cf(c,{relative:h.relative}),b=Ti(),v=x.useContext(Rg),{navigator:w,basename:j}=x.useContext(si),S=v!=null&&aF(g)&&u===!0,k=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,_=b.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(_=_.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&j&&(C=ml(C,j)||C);const T=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=_===k||!r&&_.startsWith(k)&&_.charAt(T)==="/",E=C!=null&&(C===k||!r&&C.startsWith(k)&&C.charAt(k.length)==="/"),$={isActive:O,isPending:E,isTransitioning:S},M=O?a:void 0,H;typeof n=="function"?H=n($):H=[n,O?"active":null,E?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l($):l;return x.createElement(ZM,{...h,"aria-current":M,className:H,ref:f,style:V,to:c,viewTransition:u},typeof m=="function"?m($):m)});YU.displayName="NavLink";var WU=x.forwardRef(({discover:e="render",fetcherKey:a,navigate:s,reloadDocument:n,replace:r,state:l,method:c=jp,action:u,onSubmit:m,relative:h,preventScrollReset:f,viewTransition:g,...b},v)=>{let w=eF(),j=tF(u,{relative:h}),S=c.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&XM.test(u),_=C=>{if(m&&m(C),C.defaultPrevented)return;C.preventDefault();let T=C.nativeEvent.submitter,O=(T==null?void 0:T.getAttribute("formmethod"))||c;w(T||C.currentTarget,{fetcherKey:a,method:O,navigate:s,replace:r,state:l,relative:h,preventScrollReset:f,viewTransition:g})};return x.createElement("form",{ref:v,method:S,action:j,onSubmit:n?m:_,...b,"data-discover":!k&&e==="render"?"true":void 0})});WU.displayName="Form";function XU(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JM(e){let a=x.useContext(zu);return _a(a,XU(e)),a}function ZU(e,{target:a,replace:s,state:n,preventScrollReset:r,relative:l,viewTransition:c}={}){let u=ba(),m=Ti(),h=Cf(e,{relative:l});return x.useCallback(f=>{if(EU(f,a)){f.preventDefault();let g=s!==void 0?s:Qh(m)===Qh(h);u(e,{replace:g,state:n,preventScrollReset:r,relative:l,viewTransition:c})}},[m,u,h,s,n,a,e,r,l,c])}var JU=0,QU=()=>`__${String(++JU)}__`;function eF(){let{router:e}=JM("useSubmit"),{basename:a}=x.useContext(si),s=bU();return x.useCallback(async(n,r={})=>{let{action:l,method:c,encType:u,formData:m,body:h}=PU(n,a);if(r.navigate===!1){let f=r.fetcherKey||QU();await e.fetch(f,s,r.action||l,{preventScrollReset:r.preventScrollReset,formData:m,body:h,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await e.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:m,body:h,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:s,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,a,s])}function tF(e,{relative:a}={}){let{basename:s}=x.useContext(si),n=x.useContext(Mr);_a(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),l={...Cf(e||".",{relative:a})},c=Ti();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),m=u.getAll("index");if(m.some(f=>f==="")){u.delete("index"),m.filter(g=>g).forEach(g=>u.append("index",g));let f=u.toString();l.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:ol([s,l.pathname])),Qh(l)}function aF(e,{relative:a}={}){let s=x.useContext(UM);_a(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=JM("useViewTransitionState"),r=Cf(e,{relative:a});if(!s.isTransitioning)return!1;let l=ml(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=ml(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Lp(r.pathname,c)!=null||Lp(r.pathname,l)!=null}var QM=RM();function eD(e){var a,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(a=0;a<r;a++)e[a]&&(s=eD(e[a]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function Pt(){for(var e,a,s=0,n="",r=arguments.length;s<r;s++)(e=arguments[s])&&(a=eD(e))&&(n&&(n+=" "),n+=a);return n}function sF(e){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}sF(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Af=e=>typeof e=="number"&&!isNaN(e),Ec=e=>typeof e=="string",hl=e=>typeof e=="function",nF=e=>Ec(e)||Af(e),Ww=e=>Ec(e)||hl(e)?e:null,rF=(e,a)=>e===!1||Af(e)&&e>0?e:a,Xw=e=>x.isValidElement(e)||Ec(e)||hl(e)||Af(e);function iF(e,a,s=300){let{scrollHeight:n,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=n+"px",r.transition=`all ${s}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(a,s)})})}function lF({enter:e,exit:a,appendPosition:s=!1,collapse:n=!0,collapseDuration:r=300}){return function({children:l,position:c,preventExitTransition:u,done:m,nodeRef:h,isIn:f,playToast:g}){let b=s?`${e}--${c}`:e,v=s?`${a}--${c}`:a,w=x.useRef(0);return x.useLayoutEffect(()=>{let j=h.current,S=b.split(" "),k=_=>{_.target===h.current&&(g(),j.removeEventListener("animationend",k),j.removeEventListener("animationcancel",k),w.current===0&&_.type!=="animationcancel"&&j.classList.remove(...S))};j.classList.add(...S),j.addEventListener("animationend",k),j.addEventListener("animationcancel",k)},[]),x.useEffect(()=>{let j=h.current,S=()=>{j.removeEventListener("animationend",S),n?iF(j,m,r):m()};f||(u?S():(w.current=1,j.className+=` ${v}`,j.addEventListener("animationend",S)))},[f]),Ft.createElement(Ft.Fragment,null,l)}}function EC(e,a){return{content:tD(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:a}}function tD(e,a,s=!1){return x.isValidElement(e)&&!Ec(e.type)?x.cloneElement(e,{closeToast:a.closeToast,toastProps:a,data:a.data,isPaused:s}):hl(e)?e({closeToast:a.closeToast,toastProps:a,data:a.data,isPaused:s}):e}function oF({closeToast:e,theme:a,ariaLabel:s="close"}){return Ft.createElement("button",{className:`Toastify__close-button Toastify__close-button--${a}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":s},Ft.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ft.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function cF({delay:e,isRunning:a,closeToast:s,type:n="default",hide:r,className:l,controlledProgress:c,progress:u,rtl:m,isIn:h,theme:f}){let g=r||c&&u===0,b={animationDuration:`${e}ms`,animationPlayState:a?"running":"paused"};c&&(b.transform=`scaleX(${u})`);let v=Pt("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":m}),w=hl(l)?l({rtl:m,type:n,defaultClassName:v}):Pt(v,l),j={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&s()}};return Ft.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},Ft.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${n}`}),Ft.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:w,style:b,...j}))}var dF=1,aD=()=>`${dF++}`;function uF(e,a,s){let n=1,r=0,l=[],c=[],u=a,m=new Map,h=new Set,f=_=>(h.add(_),()=>h.delete(_)),g=()=>{c=Array.from(m.values()),h.forEach(_=>_())},b=({containerId:_,toastId:C,updateId:T})=>{let O=_?_!==e:e!==1,E=m.has(C)&&T==null;return O||E},v=(_,C)=>{m.forEach(T=>{var O;(C==null||C===T.props.toastId)&&((O=T.toggle)==null||O.call(T,_))})},w=_=>{var C,T;(T=(C=_.props)==null?void 0:C.onClose)==null||T.call(C,_.removalReason),_.isActive=!1},j=_=>{if(_==null)m.forEach(w);else{let C=m.get(_);C&&w(C)}g()},S=()=>{r-=l.length,l=[]},k=_=>{var C,T;let{toastId:O,updateId:E}=_.props,$=E==null;_.staleId&&m.delete(_.staleId),_.isActive=!0,m.set(O,_),g(),s(EC(_,$?"added":"updated")),$&&((T=(C=_.props).onOpen)==null||T.call(C))};return{id:e,props:u,observe:f,toggle:v,removeToast:j,toasts:m,clearQueue:S,buildToast:(_,C)=>{if(b(C))return;let{toastId:T,updateId:O,data:E,staleId:$,delay:M}=C,H=O==null;H&&r++;let V={...u,style:u.toastStyle,key:n++,...Object.fromEntries(Object.entries(C).filter(([B,ee])=>ee!=null)),toastId:T,updateId:O,data:E,isIn:!1,className:Ww(C.className||u.toastClassName),progressClassName:Ww(C.progressClassName||u.progressClassName),autoClose:C.isLoading?!1:rF(C.autoClose,u.autoClose),closeToast(B){m.get(T).removalReason=B,j(T)},deleteToast(){let B=m.get(T);if(B!=null){if(s(EC(B,"removed")),m.delete(T),r--,r<0&&(r=0),l.length>0){k(l.shift());return}g()}}};V.closeButton=u.closeButton,C.closeButton===!1||Xw(C.closeButton)?V.closeButton=C.closeButton:C.closeButton===!0&&(V.closeButton=Xw(u.closeButton)?u.closeButton:!0);let F={content:_,props:V,staleId:$};u.limit&&u.limit>0&&r>u.limit&&H?l.push(F):Af(M)?setTimeout(()=>{k(F)},M):k(F)},setProps(_){u=_},setToggle:(_,C)=>{let T=m.get(_);T&&(T.toggle=C)},isToastActive:_=>{var C;return(C=m.get(_))==null?void 0:C.isActive},getSnapshot:()=>c}}var un=new Map,ef=[],Zw=new Set,mF=e=>Zw.forEach(a=>a(e)),sD=()=>un.size>0;function hF(){ef.forEach(e=>rD(e.content,e.options)),ef=[]}var fF=(e,{containerId:a})=>{var s;return(s=un.get(a||1))==null?void 0:s.toasts.get(e)};function nD(e,a){var s;if(a)return!!((s=un.get(a))!=null&&s.isToastActive(e));let n=!1;return un.forEach(r=>{r.isToastActive(e)&&(n=!0)}),n}function xF(e){if(!sD()){ef=ef.filter(a=>e!=null&&a.options.toastId!==e);return}if(e==null||nF(e))un.forEach(a=>{a.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let a=un.get(e.containerId);a?a.removeToast(e.id):un.forEach(s=>{s.removeToast(e.id)})}}var pF=(e={})=>{un.forEach(a=>{a.props.limit&&(!e.containerId||a.id===e.containerId)&&a.clearQueue()})};function rD(e,a){Xw(e)&&(sD()||ef.push({content:e,options:a}),un.forEach(s=>{s.buildToast(e,a)}))}function gF(e){var a;(a=un.get(e.containerId||1))==null||a.setToggle(e.id,e.fn)}function iD(e,a){un.forEach(s=>{(a==null||!(a!=null&&a.containerId)||(a==null?void 0:a.containerId)===s.id)&&s.toggle(e,a==null?void 0:a.id)})}function bF(e){let a=e.containerId||1;return{subscribe(s){let n=uF(a,e,mF);un.set(a,n);let r=n.observe(s);return hF(),()=>{r(),un.delete(a)}},setProps(s){var n;(n=un.get(a))==null||n.setProps(s)},getSnapshot(){var s;return(s=un.get(a))==null?void 0:s.getSnapshot()}}}function vF(e){return Zw.add(e),()=>{Zw.delete(e)}}function yF(e){return e&&(Ec(e.toastId)||Af(e.toastId))?e.toastId:aD()}function Ef(e,a){return rD(e,a),a.toastId}function Ig(e,a){return{...a,type:a&&a.type||e,toastId:yF(a)}}function zg(e){return(a,s)=>Ef(a,Ig(e,s))}function L(e,a){return Ef(e,Ig("default",a))}L.loading=(e,a)=>Ef(e,Ig("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...a}));function jF(e,{pending:a,error:s,success:n},r){let l;a&&(l=Ec(a)?L.loading(a,r):L.loading(a.render,{...r,...a}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,f,g)=>{if(f==null){L.dismiss(l);return}let b={type:h,...c,...r,data:g},v=Ec(f)?{render:f}:f;return l?L.update(l,{...b,...v}):L(v.render,{...b,...v}),g},m=hl(e)?e():e;return m.then(h=>u("success",n,h)).catch(h=>u("error",s,h)),m}L.promise=jF;L.success=zg("success");L.info=zg("info");L.error=zg("error");L.warning=zg("warning");L.warn=L.warning;L.dark=(e,a)=>Ef(e,Ig("default",{theme:"dark",...a}));function wF(e){xF(e)}L.dismiss=wF;L.clearWaitingQueue=pF;L.isActive=nD;L.update=(e,a={})=>{let s=fF(e,a);if(s){let{props:n,content:r}=s,l={delay:100,...n,...a,toastId:a.toastId||e,updateId:aD()};l.toastId!==e&&(l.staleId=e);let c=l.render||r;delete l.render,Ef(c,l)}};L.done=e=>{L.update(e,{progress:1})};L.onChange=vF;L.play=e=>iD(!0,e);L.pause=e=>iD(!1,e);function NF(e){var a;let{subscribe:s,getSnapshot:n,setProps:r}=x.useRef(bF(e)).current;r(e);let l=(a=x.useSyncExternalStore(s,n,n))==null?void 0:a.slice();function c(u){if(!l)return[];let m=new Map;return e.newestOnTop&&l.reverse(),l.forEach(h=>{let{position:f}=h.props;m.has(f)||m.set(f,[]),m.get(f).push(h)}),Array.from(m,h=>u(h[0],h[1]))}return{getToastToRender:c,isToastActive:nD,count:l==null?void 0:l.length}}function SF(e){let[a,s]=x.useState(!1),[n,r]=x.useState(!1),l=x.useRef(null),c=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:m,closeToast:h,onClick:f,closeOnClick:g}=e;gF({id:e.toastId,containerId:e.containerId,fn:s}),x.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{v()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||k(),window.addEventListener("focus",S),window.addEventListener("blur",k)}function v(){window.removeEventListener("focus",S),window.removeEventListener("blur",k)}function w($){if(e.draggable===!0||e.draggable===$.pointerType){_();let M=l.current;c.canCloseOnClick=!0,c.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(c.start=$.clientX,c.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(c.start=$.clientY,c.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function j($){let{top:M,bottom:H,left:V,right:F}=l.current.getBoundingClientRect();$.nativeEvent.type!=="touchend"&&e.pauseOnHover&&$.clientX>=V&&$.clientX<=F&&$.clientY>=M&&$.clientY<=H?k():S()}function S(){s(!0)}function k(){s(!1)}function _(){c.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",O)}function C(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",O)}function T($){let M=l.current;if(c.canDrag&&M){c.didMove=!0,a&&k(),e.draggableDirection==="x"?c.delta=$.clientX-c.start:c.delta=$.clientY-c.start,c.start!==$.clientX&&(c.canCloseOnClick=!1);let H=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;M.style.transform=`translate3d(${H},0)`,M.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function O(){C();let $=l.current;if(c.canDrag&&c.didMove&&$){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){r(!0),e.closeToast(!0),e.collapseAll();return}$.style.transition="transform 0.2s, opacity 0.2s",$.style.removeProperty("transform"),$.style.removeProperty("opacity")}}let E={onPointerDown:w,onPointerUp:j};return u&&m&&(E.onMouseEnter=k,e.stacked||(E.onMouseLeave=S)),g&&(E.onClick=$=>{f&&f($),c.canCloseOnClick&&h(!0)}),{playToast:S,pauseToast:k,isRunning:a,preventExitTransition:n,toastRef:l,eventHandlers:E}}var _F=typeof window<"u"?x.useLayoutEffect:x.useEffect,Bg=({theme:e,type:a,isLoading:s,...n})=>Ft.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${a})`,...n});function kF(e){return Ft.createElement(Bg,{...e},Ft.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CF(e){return Ft.createElement(Bg,{...e},Ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function AF(e){return Ft.createElement(Bg,{...e},Ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function EF(e){return Ft.createElement(Bg,{...e},Ft.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function TF(){return Ft.createElement("div",{className:"Toastify__spinner"})}var Jw={info:CF,warning:kF,success:AF,error:EF,spinner:TF},OF=e=>e in Jw;function PF({theme:e,type:a,isLoading:s,icon:n}){let r=null,l={theme:e,type:a};return n===!1||(hl(n)?r=n({...l,isLoading:s}):x.isValidElement(n)?r=x.cloneElement(n,l):s?r=Jw.spinner():OF(a)&&(r=Jw[a](l))),r}var MF=e=>{let{isRunning:a,preventExitTransition:s,toastRef:n,eventHandlers:r,playToast:l}=SF(e),{closeButton:c,children:u,autoClose:m,onClick:h,type:f,hideProgressBar:g,closeToast:b,transition:v,position:w,className:j,style:S,progressClassName:k,updateId:_,role:C,progress:T,rtl:O,toastId:E,deleteToast:$,isIn:M,isLoading:H,closeOnClick:V,theme:F,ariaLabel:B}=e,ee=Pt("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":V}),we=hl(j)?j({rtl:O,position:w,type:f,defaultClassName:ee}):Pt(ee,j),ne=PF(e),A=!!T||!m,U={closeToast:b,type:f,theme:F},K=null;return c===!1||(hl(c)?K=c(U):x.isValidElement(c)?K=x.cloneElement(c,U):K=oF(U)),Ft.createElement(v,{isIn:M,done:$,position:w,preventExitTransition:s,nodeRef:n,playToast:l},Ft.createElement("div",{id:E,tabIndex:0,onClick:h,"data-in":M,className:we,...r,style:S,ref:n,...M&&{role:C,"aria-label":B}},ne!=null&&Ft.createElement("div",{className:Pt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!H})},ne),tD(u,e,!a),K,!e.customProgressBar&&Ft.createElement(cF,{..._&&!A?{key:`p-${_}`}:{},rtl:O,theme:F,delay:m,isRunning:a,isIn:M,closeToast:b,hide:g,type:f,className:k,controlledProgress:A,progress:T||0})))},DF=(e,a=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:a}),LF=lF(DF("bounce",!0)),RF={position:"top-right",transition:LF,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function $F(e){let a={...RF,...e},s=e.stacked,[n,r]=x.useState(!0),l=x.useRef(null),{getToastToRender:c,isToastActive:u,count:m}=NF(a),{className:h,style:f,rtl:g,containerId:b,hotKeys:v}=a;function w(S){let k=Pt("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":g});return hl(h)?h({position:S,rtl:g,defaultClassName:k}):Pt(k,Ww(h))}function j(){s&&(r(!0),L.play())}return _F(()=>{var S;if(s){let k=l.current.querySelectorAll('[data-in="true"]'),_=12,C=(S=a.position)==null?void 0:S.includes("top"),T=0,O=0;Array.from(k).reverse().forEach((E,$)=>{let M=E;M.classList.add("Toastify__toast--stacked"),$>0&&(M.dataset.collapsed=`${n}`),M.dataset.pos||(M.dataset.pos=C?"top":"bot");let H=T*(n?.2:1)+(n?0:_*$);M.style.setProperty("--y",`${C?H:H*-1}px`),M.style.setProperty("--g",`${_}`),M.style.setProperty("--s",`${1-(n?O:0)}`),T+=M.offsetHeight,O+=.025})}},[n,m,s]),x.useEffect(()=>{function S(k){var _;let C=l.current;v(k)&&((_=C.querySelector('[tabIndex="0"]'))==null||_.focus(),r(!1),L.pause()),k.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(r(!0),L.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[v]),Ft.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{s&&(r(!1),L.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":a["aria-label"]},c((S,k)=>{let _=k.length?{...f}:{...f,pointerEvents:"none"};return Ft.createElement("div",{tabIndex:-1,className:w(S),"data-stacked":s,style:_,key:`c-${S}`},k.map(({content:C,props:T})=>Ft.createElement(MF,{...T,stacked:s,collapseAll:j,isIn:u(T.toastId,T.containerId),key:`t-${T.key}`},C)))}))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,s,n)=>n?n.toUpperCase():s.toLowerCase()),TC=e=>{const a=zF(e);return a.charAt(0).toUpperCase()+a.slice(1)},lD=(...e)=>e.filter((a,s,n)=>!!a&&a.trim()!==""&&n.indexOf(a)===s).join(" ").trim(),BF=e=>{for(const a in e)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=x.forwardRef(({color:e="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:r="",children:l,iconNode:c,...u},m)=>x.createElement("svg",{ref:m,...UF,width:a,height:a,stroke:e,strokeWidth:n?Number(s)*24/Number(a):s,className:lD("lucide",r),...!l&&!BF(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,f])=>x.createElement(h,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(e,a)=>{const s=x.forwardRef(({className:n,...r},l)=>x.createElement(FF,{ref:l,iconNode:a,className:lD(`lucide-${IF(TC(e))}`,`lucide-${e}`,n),...r}));return s.displayName=TC(e),s};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],OC=Le("activity",VF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]],qF=Le("alarm-clock",HF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],KF=Le("arrow-down-wide-narrow",GF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oD=Le("arrow-left",YF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Uu=Le("arrow-right",WF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],ZF=Le("arrow-up-narrow-wide",XF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]],QF=Le("badge-info",JF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tV=Le("ban",eV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],sV=Le("bell-ring",aV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rV=Le("bell",nV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ug=Le("bot",iV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],DN=Le("brain-circuit",lV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],n1=Le("bug",oV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],PC=Le("building-2",cV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],uV=Le("building",dV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Np=Le("calculator",mV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Sr=Le("calendar-clock",hV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],xV=Le("calendar-days",fV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],gV=Le("calendar-plus",pV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],r1=Le("calendar-range",bV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tn=Le("calendar",vV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],jV=Le("camera",yV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Rp=Le("chart-column",wV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cu=Le("check",NV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],LN=Le("chevron-down",SV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ss=Le("chevron-left",_V);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Aa=Le("chevron-right",kV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cD=Le("chevron-up",CV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mn=Le("circle-alert",AV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qw=Le("circle-check-big",EV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ra=Le("circle-check",TV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],PV=Le("circle-pause",OV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tf=Le("circle-play",MV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],LV=Le("circle-plus",DV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$V=Le("circle-question-mark",RV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mn=Le("circle-x",IV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],e2=Le("circle",zV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],UV=Le("clipboard-copy",BV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],VV=Le("clipboard-list",FV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t2=Le("clock-3",HV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],po=Le("clock",qV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],KV=Le("cloud-download",GV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],WV=Le("cloud-upload",YV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ZV=Le("code",XV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],QV=Le("coins",JV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],la=Le("copy",eH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],dD=Le("credit-card",tH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],MC=Le("crop",aH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],i1=Le("crown",sH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ho=Le("database",nH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],a2=Le("dollar-sign",rH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cl=Le("download",iH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DC=Le("earth",lH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],af=Le("external-link",oH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yu=Le("eye-off",cH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wa=Le("eye",dH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],LC=Le("facebook",uH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],uD=Le("file-code-2",mH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Th=Le("file-spreadsheet",hH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yr=Le("file-text",fH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_i=Le("funnel",xH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],gH=Le("gauge",pH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wi=Le("globe",bH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],yH=Le("hammer",vH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],RC=Le("hash",jH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],l1=Le("history",wH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],RN=Le("house",NH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],$C=Le("image-off",SH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kH=Le("image",_H);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],AH=Le("inbox",CH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ju=Le("info",EH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],mo=Le("key-round",TH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],PH=Le("key",OH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],mD=Le("layers",MH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],LH=Le("layout-grid",DH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],$H=Le("link-2",RH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Wr=Le("link",IH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],$N=Le("list-checks",zH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],UH=Le("list-ordered",BH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ma=Le("loader-circle",FH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ai=Le("lock",VH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],fx=Le("log-in",HH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$p=Le("log-out",qH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_s=Le("mail",GH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ki=Le("map-pin",KH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],WH=Le("maximize-2",YH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],s2=Le("message-square",XH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],JH=Le("messages-square",ZH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],eq=Le("minimize-2",QH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],aq=Le("notebook-text",tq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],nq=Le("pause",sq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],IC=Le("pen-line",rq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zC=Le("pencil",iq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Tc=Le("phone-call",lq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],St=Le("phone",oq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Fu=Le("play",cq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],Fg=Le("plug-zap",dq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hn=Le("plus",uq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],hq=Le("puzzle",mq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],IN=Le("radio",fq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]],hD=Le("receipt-text",xq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],gq=Le("refresh-ccw",pq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ze=Le("refresh-cw",bq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Vg=Le("rocket",vq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M16.466 7.5C15.643 4.237 13.952 2 12 2 9.239 2 7 6.477 7 12s2.239 10 5 10c.342 0 .677-.069 1-.2",key:"10n0gc"}],["path",{d:"m15.194 13.707 3.814 1.86-1.86 3.814",key:"16shm9"}],["path",{d:"M19 15.57c-1.804.885-4.274 1.43-7 1.43-5.523 0-10-2.239-10-5s4.477-5 10-5c4.838 0 8.873 1.718 9.8 4",key:"1lxi77"}]],jq=Le("rotate-3d",yq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Nq=Le("rotate-ccw",wq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],fD=Le("scale",Sq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Us=Le("search",_q);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Sp=Le("send",kq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],Aq=Le("server-cog",Cq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zN=Le("settings",Eq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],xD=Le("shield-alert",Tq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fl=Le("shield-check",Oq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Cr=Le("shield",Pq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],xx=Le("shopping-cart",Mq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Lq=Le("skip-forward",Dq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],$q=Le("sliders-horizontal",Rq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],BC=Le("smartphone",Iq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Fc=Le("sparkles",zq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UC=Le("square-check-big",Bq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],o1=Le("square-kanban",Uq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],du=Le("square-pen",Fq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],Hq=Le("square-terminal",Vq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],wu=Le("square",qq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],Kq=Le("sticky-note",Gq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],Wq=Le("test-tube-diagonal",Yq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],px=Le("timer",Xq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],c1=Le("toggle-left",Zq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],d1=Le("toggle-right",Jq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ka=Le("trash-2",Qq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tG=Le("trending-up",eG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Tf=Le("triangle-alert",aG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],nG=Le("unlink",sG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],iG=Le("user-check",rG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],BN=Le("user-round",lG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jc=Le("user",oG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Za=Le("users",cG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],UN=Le("volume-2",dG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]],mG=Le("wallet-minimal",uG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],pD=Le("wallet",hG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],xG=Le("wand-sparkles",fG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],gG=Le("wrench",pG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],js=Le("x",bG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yG=Le("zap",vG);function jG(){const[e,a]=x.useState({username:"",email:"",password:""}),[s,n]=x.useState(!1),[r,l]=x.useState({}),[c,u]=x.useState(!1),m=ba(),h="http://13.60.203.103",f=j=>{const{name:S,value:k}=j.target;a(_=>({..._,[S]:k})),r[S]&&l(_=>({..._,[S]:""}))},g=()=>{const j={};return e.username.trim()?e.username.length<3&&(j.username="Username must be at least 3 characters"):j.username="Username is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(j.email="Please enter a valid email address"):j.email="Email is required",e.password?e.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",l(j),Object.keys(j).length===0},b=async j=>{if(j.preventDefault(),!!g()){u(!0),l({});try{localStorage.setItem("name",e.username),localStorage.setItem("email",e.email)}catch{}try{const S=await fetch(`${h}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,email:e.email,password:e.password})}),k=await S.json();if(S.ok)L.success("Account created successfully! "),setTimeout(()=>{m(`/otp?email=${encodeURIComponent(e.email)}`)},1200);else{const _=k.message||k.detail||"Something went wrong. Please try again.";l({submit:_}),L.error(_)}}catch{const S="Network error. Please check your connection and try again.";l({submit:S}),L.error(S)}finally{u(!1)}}},v=e.password.length,w=v>=6?"bg-green-500 w-full":v>=4?"bg-blue-500 w-3/4":v>=2?"bg-yellow-500 w-1/2":v>0?"bg-red-500 w-1/4":"w-0";return t.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:t.jsx(jc,{className:"w-8 h-8 text-white"})})}),t.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),t.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",t.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign in here"})]})]}),t.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:t.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[t.jsxs("form",{className:"space-y-6",onSubmit:b,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(jc,{className:`h-5 w-5 ${e.username?"text-blue-500":"text-gray-400"}`})}),t.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:f,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${r.username?"border-red-300 focus:border-red-500 focus:ring-red-500":e.username?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username"}),e.username&&!r.username&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:t.jsx(Qw,{className:"h-5 w-5 text-green-500"})})]}),r.username&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(mn,{className:"h-4 w-4 mr-1"}),r.username]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(_s,{className:`h-5 w-5 ${e.email?"text-blue-500":"text-gray-400"}`})}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:f,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${r.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!r.email&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:t.jsx(Qw,{className:"h-5 w-5 text-green-500"})})]}),r.email&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(mn,{className:"h-4 w-4 mr-1"}),r.email]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ai,{className:`h-5 w-5 ${e.password?"text-blue-500":"text-gray-400"}`})}),t.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"new-password",value:e.password,onChange:f,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${r.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Create a password"}),t.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200",onClick:()=>n(!s),children:s?t.jsx(yu,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):t.jsx(wa,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),t.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[t.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${w}`})}),t.jsx("span",{className:"text-xs text-gray-500",children:"6+ characters"})]}),r.password&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(mn,{className:"h-4 w-4 mr-1"}),r.password]})]}),r.submit&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[t.jsx(mn,{className:"h-5 w-5 text-red-600 mr-3"}),t.jsx("p",{className:"text-sm text-red-700",children:r.submit})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Creating account..."]}):t.jsxs("div",{className:"flex items-center",children:["Create account",t.jsx(Uu,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]}),t.jsx("div",{className:"mt-6",children:t.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200",children:[t.jsx("div",{className:"absolute -inset-x-10 -top-10 h-24 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),t.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[t.jsx("div",{className:"text-sm text-slate-600",children:"By creating an account you agree to our"}),t.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[t.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms"}),t.jsx("span",{className:"text-slate-300",children:""}),t.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy"})]})]})]})})]})})]})}function wG(){const[e,a]=x.useState(30),s="/",n="/bg.gif";x.useEffect(()=>{const u=setInterval(()=>{a(m=>m<=1?(window.location.href=s,0):m-1)},1e3);return()=>clearInterval(u)},[]);const r=()=>window.location.href=s,l=()=>window.history.back(),c=()=>window.location.reload();return t.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[t.jsx("div",{className:"fixed inset-0 flex justify-center pointer-events-none",children:t.jsx("img",{src:n,alt:"Animated 404 background",className:`\r
      h-screen\r
      w-[68vw]              /*  your final locked width */\r
      max-w-[1280px]        /*  prevent over-expanding on ultra-wide */\r
      min-w-[320px]         /*  prevent too-narrow on small phones */\r
      object-cover\r
      translate-y-[8vh] sm:translate-y-[10vh] md:translate-y-[23vh]\r
    `,style:{objectPosition:"center 78%"},loading:"eager",decoding:"async",fetchPriority:"high"})}),t.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 py-10",children:t.jsxs("div",{className:`w-full max-w-4xl text-center\r
                     -translate-y-6 sm:-translate-y-10 md:-translate-y-74\r
                     transform-gpu`,children:[t.jsx("h1",{className:`\r
              text-[56px] sm:text-[80px] md:text-[110px]\r
              font-bold tracking-tight text-blue-900\r
              select-none\r
            `,style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"404"}),t.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-blue-900",style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"Looks like youre lost"}),t.jsx("p",{className:"mt-2 text-blue-800",children:"The page you are looking for is not available."}),t.jsxs("div",{className:"mt-6 space-y-3",children:[t.jsxs("button",{onClick:r,className:`\r
                w-full sm:w-auto inline-flex items-center justify-center\r
                rounded-lg px-5 py-3\r
                text-white bg-blue-600 hover:bg-blue-700\r
                transition-all duration-200 shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700\r
              `,children:[t.jsx(RN,{className:"mr-2 h-5 w-5"}),"Go to Home"]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-center",children:[t.jsxs("button",{onClick:l,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[t.jsx(oD,{className:"mr-2 h-4 w-4"}),"Go Back"]}),t.jsxs("button",{onClick:c,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),t.jsxs("div",{className:"mt-3 text-sm text-blue-900",children:[t.jsx("a",{href:"/login",className:"underline hover:opacity-80",children:"Login"}),t.jsx("span",{className:"mx-2",children:""}),t.jsx("a",{href:"/signup",className:"underline hover:opacity-80",children:"Sign Up"})]})]}),t.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-blue-50/90 px-4 py-2 text-blue-900 border border-blue-200",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),t.jsxs("p",{className:"text-sm",children:["Redirecting to homepage in"," ",t.jsx("span",{className:"font-semibold",children:e})," seconds"]})]})]})})]})}const FN=x.createContext({});function Of(e){const a=x.useRef(null);return a.current===null&&(a.current=e()),a.current}const VN=typeof window<"u",HN=VN?x.useLayoutEffect:x.useEffect,Hg=x.createContext(null);function qN(e,a){e.indexOf(a)===-1&&e.push(a)}function qg(e,a){const s=e.indexOf(a);s>-1&&e.splice(s,1)}const xl=(e,a,s)=>s>a?a:s<e?e:s;let GN=()=>{};const pl={},gD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function bD(e){return typeof e=="object"&&e!==null}const vD=e=>/^0[^.\s]+$/u.test(e);function KN(e){let a;return()=>(a===void 0&&(a=e()),a)}const Ar=e=>e,NG=(e,a)=>s=>a(e(s)),Pf=(...e)=>e.reduce(NG),Nu=(e,a,s)=>{const n=a-e;return n===0?1:(s-e)/n};class YN{constructor(){this.subscriptions=[]}add(a){return qN(this.subscriptions,a),()=>qg(this.subscriptions,a)}notify(a,s,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](a,s,n);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(a,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xr=e=>e*1e3,_r=e=>e/1e3;function yD(e,a){return a?e*(1e3/a):0}const SG=(e,a,s)=>{const n=a-e;return((s-e)%n+n)%n+e},jD=(e,a,s)=>(((1-3*s+3*a)*e+(3*s-6*a))*e+3*a)*e,_G=1e-7,kG=12;function CG(e,a,s,n,r){let l,c,u=0;do c=a+(s-a)/2,l=jD(c,n,r)-e,l>0?s=c:a=c;while(Math.abs(l)>_G&&++u<kG);return c}function Mf(e,a,s,n){if(e===a&&s===n)return Ar;const r=l=>CG(l,0,1,e,s);return l=>l===0||l===1?l:jD(r(l),a,n)}const wD=e=>a=>a<=.5?e(2*a)/2:(2-e(2*(1-a)))/2,ND=e=>a=>1-e(1-a),SD=Mf(.33,1.53,.69,.99),WN=ND(SD),_D=wD(WN),kD=e=>(e*=2)<1?.5*WN(e):.5*(2-Math.pow(2,-10*(e-1))),XN=e=>1-Math.sin(Math.acos(e)),CD=ND(XN),AD=wD(XN),AG=Mf(.42,0,1,1),EG=Mf(0,0,.58,1),ED=Mf(.42,0,.58,1),TD=e=>Array.isArray(e)&&typeof e[0]!="number";function OD(e,a){return TD(e)?e[SG(0,e.length,a)]:e}const PD=e=>Array.isArray(e)&&typeof e[0]=="number",TG={linear:Ar,easeIn:AG,easeInOut:ED,easeOut:EG,circIn:XN,circInOut:AD,circOut:CD,backIn:WN,backInOut:_D,backOut:SD,anticipate:kD},OG=e=>typeof e=="string",FC=e=>{if(PD(e)){GN(e.length===4);const[a,s,n,r]=e;return Mf(a,s,n,r)}else if(OG(e))return TG[e];return e},gx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function PG(e,a){let s=new Set,n=new Set,r=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(f){c.has(f)&&(h.schedule(f),e()),f(u)}const h={schedule:(f,g=!1,b=!1)=>{const w=b&&r?s:n;return g&&c.add(f),w.has(f)||w.add(f),f},cancel:f=>{n.delete(f),c.delete(f)},process:f=>{if(u=f,r){l=!0;return}r=!0,[s,n]=[n,s],s.forEach(m),s.clear(),r=!1,l&&(l=!1,h.process(f))}};return h}const MG=40;function MD(e,a){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>s=!0,c=gx.reduce((C,T)=>(C[T]=PG(l),C),{}),{setup:u,read:m,resolveKeyframes:h,preUpdate:f,update:g,preRender:b,render:v,postRender:w}=c,j=()=>{const C=pl.useManualTiming?r.timestamp:performance.now();s=!1,pl.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(C-r.timestamp,MG),1)),r.timestamp=C,r.isProcessing=!0,u.process(r),m.process(r),h.process(r),f.process(r),g.process(r),b.process(r),v.process(r),w.process(r),r.isProcessing=!1,s&&a&&(n=!1,e(j))},S=()=>{s=!0,n=!0,r.isProcessing||e(j)};return{schedule:gx.reduce((C,T)=>{const O=c[T];return C[T]=(E,$=!1,M=!1)=>(s||S(),O.schedule(E,$,M)),C},{}),cancel:C=>{for(let T=0;T<gx.length;T++)c[gx[T]].cancel(C)},state:r,steps:c}}const{schedule:ga,cancel:gl,state:zs,steps:u1}=MD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ar,!0);let _p;function DG(){_p=void 0}const On={now:()=>(_p===void 0&&On.set(zs.isProcessing||pl.useManualTiming?zs.timestamp:performance.now()),_p),set:e=>{_p=e,queueMicrotask(DG)}},DD=e=>a=>typeof a=="string"&&a.startsWith(e),ZN=DD("--"),LG=DD("var(--"),JN=e=>LG(e)?RG.test(e.split("/*")[0].trim()):!1,RG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},sf={...Vu,transform:e=>xl(0,1,e)},bx={...Vu,default:1},Ih=e=>Math.round(e*1e5)/1e5,QN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $G(e){return e==null}const IG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eS=(e,a)=>s=>!!(typeof s=="string"&&IG.test(s)&&s.startsWith(e)||a&&!$G(s)&&Object.prototype.hasOwnProperty.call(s,a)),LD=(e,a,s)=>n=>{if(typeof n!="string")return n;const[r,l,c,u]=n.match(QN);return{[e]:parseFloat(r),[a]:parseFloat(l),[s]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},zG=e=>xl(0,255,e),m1={...Vu,transform:e=>Math.round(zG(e))},pc={test:eS("rgb","red"),parse:LD("red","green","blue"),transform:({red:e,green:a,blue:s,alpha:n=1})=>"rgba("+m1.transform(e)+", "+m1.transform(a)+", "+m1.transform(s)+", "+Ih(sf.transform(n))+")"};function BG(e){let a="",s="",n="",r="";return e.length>5?(a=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(a=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),a+=a,s+=s,n+=n,r+=r),{red:parseInt(a,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const n2={test:eS("#"),parse:BG,transform:pc.transform},Df=e=>({test:a=>typeof a=="string"&&a.endsWith(e)&&a.split(" ").length===1,parse:parseFloat,transform:a=>`${a}${e}`}),lo=Df("deg"),Ni=Df("%"),yt=Df("px"),UG=Df("vh"),FG=Df("vw"),VC={...Ni,parse:e=>Ni.parse(e)/100,transform:e=>Ni.transform(e*100)},su={test:eS("hsl","hue"),parse:LD("hue","saturation","lightness"),transform:({hue:e,saturation:a,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ni.transform(Ih(a))+", "+Ni.transform(Ih(s))+", "+Ih(sf.transform(n))+")"},ss={test:e=>pc.test(e)||n2.test(e)||su.test(e),parse:e=>pc.test(e)?pc.parse(e):su.test(e)?su.parse(e):n2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?pc.transform(e):su.transform(e),getAnimatableNone:e=>{const a=ss.parse(e);return a.alpha=0,ss.transform(a)}},VG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HG(e){var a,s;return isNaN(e)&&typeof e=="string"&&(((a=e.match(QN))==null?void 0:a.length)||0)+(((s=e.match(VG))==null?void 0:s.length)||0)>0}const RD="number",$D="color",qG="var",GG="var(",HC="${}",KG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nf(e){const a=e.toString(),s=[],n={color:[],number:[],var:[]},r=[];let l=0;const u=a.replace(KG,m=>(ss.test(m)?(n.color.push(l),r.push($D),s.push(ss.parse(m))):m.startsWith(GG)?(n.var.push(l),r.push(qG),s.push(m)):(n.number.push(l),r.push(RD),s.push(parseFloat(m))),++l,HC)).split(HC);return{values:s,split:u,indexes:n,types:r}}function ID(e){return nf(e).values}function zD(e){const{split:a,types:s}=nf(e),n=a.length;return r=>{let l="";for(let c=0;c<n;c++)if(l+=a[c],r[c]!==void 0){const u=s[c];u===RD?l+=Ih(r[c]):u===$D?l+=ss.transform(r[c]):l+=r[c]}return l}}const YG=e=>typeof e=="number"?0:ss.test(e)?ss.getAnimatableNone(e):e;function WG(e){const a=ID(e);return zD(e)(a.map(YG))}const go={test:HG,parse:ID,createTransformer:zD,getAnimatableNone:WG};function h1(e,a,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(a-e)*6*s:s<1/2?a:s<2/3?e+(a-e)*(2/3-s)*6:e}function XG({hue:e,saturation:a,lightness:s,alpha:n}){e/=360,a/=100,s/=100;let r=0,l=0,c=0;if(!a)r=l=c=s;else{const u=s<.5?s*(1+a):s+a-s*a,m=2*s-u;r=h1(m,u,e+1/3),l=h1(m,u,e),c=h1(m,u,e-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function Ip(e,a){return s=>s>0?a:e}const Na=(e,a,s)=>e+(a-e)*s,f1=(e,a,s)=>{const n=e*e,r=s*(a*a-n)+n;return r<0?0:Math.sqrt(r)},ZG=[n2,pc,su],JG=e=>ZG.find(a=>a.test(e));function qC(e){const a=JG(e);if(!a)return!1;let s=a.parse(e);return a===su&&(s=XG(s)),s}const GC=(e,a)=>{const s=qC(e),n=qC(a);if(!s||!n)return Ip(e,a);const r={...s};return l=>(r.red=f1(s.red,n.red,l),r.green=f1(s.green,n.green,l),r.blue=f1(s.blue,n.blue,l),r.alpha=Na(s.alpha,n.alpha,l),pc.transform(r))},r2=new Set(["none","hidden"]);function QG(e,a){return r2.has(e)?s=>s<=0?e:a:s=>s>=1?a:e}function eK(e,a){return s=>Na(e,a,s)}function tS(e){return typeof e=="number"?eK:typeof e=="string"?JN(e)?Ip:ss.test(e)?GC:sK:Array.isArray(e)?BD:typeof e=="object"?ss.test(e)?GC:tK:Ip}function BD(e,a){const s=[...e],n=s.length,r=e.map((l,c)=>tS(l)(l,a[c]));return l=>{for(let c=0;c<n;c++)s[c]=r[c](l);return s}}function tK(e,a){const s={...e,...a},n={};for(const r in s)e[r]!==void 0&&a[r]!==void 0&&(n[r]=tS(e[r])(e[r],a[r]));return r=>{for(const l in n)s[l]=n[l](r);return s}}function aK(e,a){const s=[],n={color:0,var:0,number:0};for(let r=0;r<a.values.length;r++){const l=a.types[r],c=e.indexes[l][n[l]],u=e.values[c]??0;s[r]=u,n[l]++}return s}const sK=(e,a)=>{const s=go.createTransformer(a),n=nf(e),r=nf(a);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?r2.has(e)&&!r.values.length||r2.has(a)&&!n.values.length?QG(e,a):Pf(BD(aK(n,r),r.values),s):Ip(e,a)};function UD(e,a,s){return typeof e=="number"&&typeof a=="number"&&typeof s=="number"?Na(e,a,s):tS(e)(e,a)}const nK=e=>{const a=({timestamp:s})=>e(s);return{start:(s=!0)=>ga.update(a,s),stop:()=>gl(a),now:()=>zs.isProcessing?zs.timestamp:On.now()}},FD=(e,a,s=10)=>{let n="";const r=Math.max(Math.round(a/s),2);for(let l=0;l<r;l++)n+=Math.round(e(l/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},zp=2e4;function aS(e){let a=0;const s=50;let n=e.next(a);for(;!n.done&&a<zp;)a+=s,n=e.next(a);return a>=zp?1/0:a}function VD(e,a=100,s){const n=s({...e,keyframes:[0,a]}),r=Math.min(aS(n),zp);return{type:"keyframes",ease:l=>n.next(r*l).value/a,duration:_r(r)}}const rK=5;function HD(e,a,s){const n=Math.max(a-rK,0);return yD(s-e(n),a-n)}const Va={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},x1=.001;function iK({duration:e=Va.duration,bounce:a=Va.bounce,velocity:s=Va.velocity,mass:n=Va.mass}){let r,l,c=1-a;c=xl(Va.minDamping,Va.maxDamping,c),e=xl(Va.minDuration,Va.maxDuration,_r(e)),c<1?(r=h=>{const f=h*c,g=f*e,b=f-s,v=i2(h,c),w=Math.exp(-g);return x1-b/v*w},l=h=>{const g=h*c*e,b=g*s+s,v=Math.pow(c,2)*Math.pow(h,2)*e,w=Math.exp(-g),j=i2(Math.pow(h,2),c);return(-r(h)+x1>0?-1:1)*((b-v)*w)/j}):(r=h=>{const f=Math.exp(-h*e),g=(h-s)*e+1;return-x1+f*g},l=h=>{const f=Math.exp(-h*e),g=(s-h)*(e*e);return f*g});const u=5/e,m=oK(r,l,u);if(e=Xr(e),isNaN(m))return{stiffness:Va.stiffness,damping:Va.damping,duration:e};{const h=Math.pow(m,2)*n;return{stiffness:h,damping:c*2*Math.sqrt(n*h),duration:e}}}const lK=12;function oK(e,a,s){let n=s;for(let r=1;r<lK;r++)n=n-e(n)/a(n);return n}function i2(e,a){return e*Math.sqrt(1-a*a)}const cK=["duration","bounce"],dK=["stiffness","damping","mass"];function KC(e,a){return a.some(s=>e[s]!==void 0)}function uK(e){let a={velocity:Va.velocity,stiffness:Va.stiffness,damping:Va.damping,mass:Va.mass,isResolvedFromDuration:!1,...e};if(!KC(e,dK)&&KC(e,cK))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),r=n*n,l=2*xl(.05,1,1-(e.bounce||0))*Math.sqrt(r);a={...a,mass:Va.mass,stiffness:r,damping:l}}else{const s=iK(e);a={...a,...s,mass:Va.mass},a.isResolvedFromDuration=!0}return a}function rf(e=Va.visualDuration,a=Va.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:a}:e;let{restSpeed:n,restDelta:r}=s;const l=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],u={done:!1,value:l},{stiffness:m,damping:h,mass:f,duration:g,velocity:b,isResolvedFromDuration:v}=uK({...s,velocity:-_r(s.velocity||0)}),w=b||0,j=h/(2*Math.sqrt(m*f)),S=c-l,k=_r(Math.sqrt(m/f)),_=Math.abs(S)<5;n||(n=_?Va.restSpeed.granular:Va.restSpeed.default),r||(r=_?Va.restDelta.granular:Va.restDelta.default);let C;if(j<1){const O=i2(k,j);C=E=>{const $=Math.exp(-j*k*E);return c-$*((w+j*k*S)/O*Math.sin(O*E)+S*Math.cos(O*E))}}else if(j===1)C=O=>c-Math.exp(-k*O)*(S+(w+k*S)*O);else{const O=k*Math.sqrt(j*j-1);C=E=>{const $=Math.exp(-j*k*E),M=Math.min(O*E,300);return c-$*((w+j*k*S)*Math.sinh(M)+O*S*Math.cosh(M))/O}}const T={calculatedDuration:v&&g||null,next:O=>{const E=C(O);if(v)u.done=O>=g;else{let $=O===0?w:0;j<1&&($=O===0?Xr(w):HD(C,O,E));const M=Math.abs($)<=n,H=Math.abs(c-E)<=r;u.done=M&&H}return u.value=u.done?c:E,u},toString:()=>{const O=Math.min(aS(T),zp),E=FD($=>T.next(O*$).value,O,30);return O+"ms "+E},toTransition:()=>{}};return T}rf.applyToOptions=e=>{const a=VD(e,100,rf);return e.ease=a.ease,e.duration=Xr(a.duration),e.type="keyframes",e};function l2({keyframes:e,velocity:a=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:m,restDelta:h=.5,restSpeed:f}){const g=e[0],b={done:!1,value:g},v=M=>u!==void 0&&M<u||m!==void 0&&M>m,w=M=>u===void 0?m:m===void 0||Math.abs(u-M)<Math.abs(m-M)?u:m;let j=s*a;const S=g+j,k=c===void 0?S:c(S);k!==S&&(j=k-g);const _=M=>-j*Math.exp(-M/n),C=M=>k+_(M),T=M=>{const H=_(M),V=C(M);b.done=Math.abs(H)<=h,b.value=b.done?k:V};let O,E;const $=M=>{v(b.value)&&(O=M,E=rf({keyframes:[b.value,w(b.value)],velocity:HD(C,M,b.value),damping:r,stiffness:l,restDelta:h,restSpeed:f}))};return $(0),{calculatedDuration:null,next:M=>{let H=!1;return!E&&O===void 0&&(H=!0,T(M),$(M)),O!==void 0&&M>=O?E.next(M-O):(!H&&T(M),b)}}}function mK(e,a,s){const n=[],r=s||pl.mix||UD,l=e.length-1;for(let c=0;c<l;c++){let u=r(e[c],e[c+1]);if(a){const m=Array.isArray(a)?a[c]||Ar:a;u=Pf(m,u)}n.push(u)}return n}function qD(e,a,{clamp:s=!0,ease:n,mixer:r}={}){const l=e.length;if(GN(l===a.length),l===1)return()=>a[0];if(l===2&&a[0]===a[1])return()=>a[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),a=[...a].reverse());const u=mK(a,n,r),m=u.length,h=f=>{if(c&&f<e[0])return a[0];let g=0;if(m>1)for(;g<e.length-2&&!(f<e[g+1]);g++);const b=Nu(e[g],e[g+1],f);return u[g](b)};return s?f=>h(xl(e[0],e[l-1],f)):h}function GD(e,a){const s=e[e.length-1];for(let n=1;n<=a;n++){const r=Nu(0,a,n);e.push(Na(s,1,r))}}function KD(e){const a=[0];return GD(a,e.length-1),a}function hK(e,a){return e.map(s=>s*a)}function fK(e,a){return e.map(()=>a||ED).splice(0,e.length-1)}function zh({duration:e=300,keyframes:a,times:s,ease:n="easeInOut"}){const r=TD(n)?n.map(FC):FC(n),l={done:!1,value:a[0]},c=hK(s&&s.length===a.length?s:KD(a),e),u=qD(c,a,{ease:Array.isArray(r)?r:fK(a,r)});return{calculatedDuration:e,next:m=>(l.value=u(m),l.done=m>=e,l)}}const xK=e=>e!==null;function sS(e,{repeat:a,repeatType:s="loop"},n,r=1){const l=e.filter(xK),u=r<0||a&&s!=="loop"&&a%2===1?0:l.length-1;return!u||n===void 0?l[u]:n}const pK={decay:l2,inertia:l2,tween:zh,keyframes:zh,spring:rf};function YD(e){typeof e.type=="string"&&(e.type=pK[e.type])}class nS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(a=>{this.resolve=a})}notifyFinished(){this.resolve()}then(a,s){return this.finished.then(a,s)}}const gK=e=>e/100;class rS extends nS{constructor(a){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==On.now()&&this.tick(On.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=a,this.initAnimation(),this.play(),a.autoplay===!1&&this.pause()}initAnimation(){const{options:a}=this;YD(a);const{type:s=zh,repeat:n=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=a;let{keyframes:u}=a;const m=s||zh;m!==zh&&typeof u[0]!="number"&&(this.mixKeyframes=Pf(gK,UD(u[0],u[1])),u=[0,100]);const h=m({...a,keyframes:u});l==="mirror"&&(this.mirroredGenerator=m({...a,keyframes:[...u].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=aS(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=h}updateTime(a){const s=Math.round(a-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(a,s=!1){const{generator:n,totalDuration:r,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:f,repeat:g,repeatType:b,repeatDelay:v,type:w,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-r/this.speed,this.startTime)),s?this.currentTime=a:this.updateTime(a);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?k<0:k>r;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,T=n;if(g){const M=Math.min(this.currentTime,r)/u;let H=Math.floor(M),V=M%1;!V&&M>=1&&(V=1),V===1&&H--,H=Math.min(H,g+1),!!(H%2)&&(b==="reverse"?(V=1-V,v&&(V-=v/u)):b==="mirror"&&(T=c)),C=xl(0,1,V)*u}const O=_?{done:!1,value:f[0]}:T.next(C);l&&(O.value=l(O.value));let{done:E}=O;!_&&m!==null&&(E=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return $&&w!==l2&&(O.value=sS(f,this.options,S,this.speed)),j&&j(O.value),$&&this.finish(),O}then(a,s){return this.finished.then(a,s)}get duration(){return _r(this.calculatedDuration)}get iterationDuration(){const{delay:a=0}=this.options||{};return this.duration+_r(a)}get time(){return _r(this.currentTime)}set time(a){var s;a=Xr(a),this.currentTime=a,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(a){this.updateTime(On.now());const s=this.playbackSpeed!==a;this.playbackSpeed=a,s&&(this.time=_r(this.currentTime))}play(){var r,l;if(this.isStopped)return;const{driver:a=nK,startTime:s}=this.options;this.driver||(this.driver=a(c=>this.tick(c))),(l=(r=this.options).onPlay)==null||l.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(On.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var a,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(a=this.options).onComplete)==null||s.call(a)}cancel(){var a,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(a=this.options).onCancel)==null||s.call(a)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}attachTimeline(a){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),a.observe(this)}}function bK(e){for(let a=1;a<e.length;a++)e[a]??(e[a]=e[a-1])}const gc=e=>e*180/Math.PI,o2=e=>{const a=gc(Math.atan2(e[1],e[0]));return c2(a)},vK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:o2,rotateZ:o2,skewX:e=>gc(Math.atan(e[1])),skewY:e=>gc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},c2=e=>(e=e%360,e<0&&(e+=360),e),YC=o2,WC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),XC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),yK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WC,scaleY:XC,scale:e=>(WC(e)+XC(e))/2,rotateX:e=>c2(gc(Math.atan2(e[6],e[5]))),rotateY:e=>c2(gc(Math.atan2(-e[2],e[0]))),rotateZ:YC,rotate:YC,skewX:e=>gc(Math.atan(e[4])),skewY:e=>gc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function d2(e){return e.includes("scale")?1:0}function u2(e,a){if(!e||e==="none")return d2(a);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(s)n=yK,r=s;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=vK,r=u}if(!r)return d2(a);const l=n[a],c=r[1].split(",").map(wK);return typeof l=="function"?l(c):c[l]}const jK=(e,a)=>{const{transform:s="none"}=getComputedStyle(e);return u2(s,a)};function wK(e){return parseFloat(e.trim())}const Hu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qu=new Set(Hu),ZC=e=>e===Vu||e===yt,NK=new Set(["x","y","z"]),SK=Hu.filter(e=>!NK.has(e));function _K(e){const a=[];return SK.forEach(s=>{const n=e.getValue(s);n!==void 0&&(a.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),a}const wc={width:({x:e},{paddingLeft:a="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(a)-parseFloat(s),height:({y:e},{paddingTop:a="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(a)-parseFloat(s),top:(e,{top:a})=>parseFloat(a),left:(e,{left:a})=>parseFloat(a),bottom:({y:e},{top:a})=>parseFloat(a)+(e.max-e.min),right:({x:e},{left:a})=>parseFloat(a)+(e.max-e.min),x:(e,{transform:a})=>u2(a,"x"),y:(e,{transform:a})=>u2(a,"y")};wc.translateX=wc.x;wc.translateY=wc.y;const Nc=new Set;let m2=!1,h2=!1,f2=!1;function WD(){if(h2){const e=Array.from(Nc).filter(n=>n.needsMeasurement),a=new Set(e.map(n=>n.element)),s=new Map;a.forEach(n=>{const r=_K(n);r.length&&(s.set(n,r),n.render())}),e.forEach(n=>n.measureInitialState()),a.forEach(n=>{n.render();const r=s.get(n);r&&r.forEach(([l,c])=>{var u;(u=n.getValue(l))==null||u.set(c)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}h2=!1,m2=!1,Nc.forEach(e=>e.complete(f2)),Nc.clear()}function XD(){Nc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(h2=!0)})}function kK(){f2=!0,XD(),WD(),f2=!1}class iS{constructor(a,s,n,r,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...a],this.onComplete=s,this.name=n,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Nc.add(this),m2||(m2=!0,ga.read(XD),ga.resolveKeyframes(WD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:a,name:s,element:n,motionValue:r}=this;if(a[0]===null){const l=r==null?void 0:r.get(),c=a[a.length-1];if(l!==void 0)a[0]=l;else if(n&&s){const u=n.readValue(s,c);u!=null&&(a[0]=u)}a[0]===void 0&&(a[0]=c),r&&l===void 0&&r.set(a[0])}bK(a)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(a=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,a),Nc.delete(this)}cancel(){this.state==="scheduled"&&(Nc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CK=e=>e.startsWith("--");function AK(e,a,s){CK(a)?e.style.setProperty(a,s):e.style[a]=s}const EK=KN(()=>window.ScrollTimeline!==void 0),TK={};function OK(e,a){const s=KN(e);return()=>TK[a]??s()}const ZD=OK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Oh=([e,a,s,n])=>`cubic-bezier(${e}, ${a}, ${s}, ${n})`,JC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oh([0,.65,.55,1]),circOut:Oh([.55,0,1,.45]),backIn:Oh([.31,.01,.66,-.59]),backOut:Oh([.33,1.53,.69,.99])};function JD(e,a){if(e)return typeof e=="function"?ZD()?FD(e,a):"ease-out":PD(e)?Oh(e):Array.isArray(e)?e.map(s=>JD(s,a)||JC.easeOut):JC[e]}function PK(e,a,s,{delay:n=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:m}={},h=void 0){const f={[a]:s};m&&(f.offset=m);const g=JD(u,r);Array.isArray(g)&&(f.easing=g);const b={delay:n,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),e.animate(f,b)}function lS(e){return typeof e=="function"&&"applyToOptions"in e}function MK({type:e,...a}){return lS(e)&&ZD()?e.applyToOptions(a):(a.duration??(a.duration=300),a.ease??(a.ease="easeOut"),a)}class DK extends nS{constructor(a){if(super(),this.finishedTime=null,this.isStopped=!1,!a)return;const{element:s,name:n,keyframes:r,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:m}=a;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=a,GN(typeof a.type!="string");const h=MK(a);this.animation=PK(s,n,r,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const f=sS(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(f):AK(s,n,f),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var a,s;(s=(a=this.animation).finish)==null||s.call(a)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:a}=this;a==="idle"||a==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var a,s;this.isPseudoElement||(s=(a=this.animation).commitStyles)==null||s.call(a)}get duration(){var s,n;const a=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return _r(Number(a))}get iterationDuration(){const{delay:a=0}=this.options||{};return this.duration+_r(a)}get time(){return _r(Number(this.animation.currentTime)||0)}set time(a){this.finishedTime=null,this.animation.currentTime=Xr(a)}get speed(){return this.animation.playbackRate}set speed(a){a<0&&(this.finishedTime=null),this.animation.playbackRate=a}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(a){this.animation.startTime=a}attachTimeline({timeline:a,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,a&&EK()?(this.animation.timeline=a,Ar):s(this)}}const QD={anticipate:kD,backInOut:_D,circInOut:AD};function LK(e){return e in QD}function RK(e){typeof e.ease=="string"&&LK(e.ease)&&(e.ease=QD[e.ease])}const QC=10;class $K extends DK{constructor(a){RK(a),YD(a),super(a),a.startTime&&(this.startTime=a.startTime),this.options=a}updateMotionValue(a){const{motionValue:s,onUpdate:n,onComplete:r,element:l,...c}=this.options;if(!s)return;if(a!==void 0){s.set(a);return}const u=new rS({...c,autoplay:!1}),m=Xr(this.finishedTime??this.time);s.setWithVelocity(u.sample(m-QC).value,u.sample(m).value,QC),u.stop()}}const e6=(e,a)=>a==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(go.test(e)||e==="0")&&!e.startsWith("url("));function IK(e){const a=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==a)return!0}function zK(e,a,s,n){const r=e[0];if(r===null)return!1;if(a==="display"||a==="visibility")return!0;const l=e[e.length-1],c=e6(r,a),u=e6(l,a);return!c||!u?!1:IK(e)||(s==="spring"||lS(s))&&n}function x2(e){e.duration=0,e.type="keyframes"}const BK=new Set(["opacity","clipPath","filter","transform"]),UK=KN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FK(e){var f;const{motionValue:a,name:s,repeatDelay:n,repeatType:r,damping:l,type:c}=e;if(!(((f=a==null?void 0:a.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:h}=a.owner.getProps();return UK()&&s&&BK.has(s)&&(s!=="transform"||!h)&&!m&&!n&&r!=="mirror"&&l!==0&&c!=="inertia"}const VK=40;class HK extends nS{constructor({autoplay:a=!0,delay:s=0,type:n="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:m,motionValue:h,element:f,...g}){var w;super(),this.stop=()=>{var j,S;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=On.now();const b={autoplay:a,delay:s,type:n,repeat:r,repeatDelay:l,repeatType:c,name:m,motionValue:h,element:f,...g},v=(f==null?void 0:f.KeyframeResolver)||iS;this.keyframeResolver=new v(u,(j,S,k)=>this.onKeyframesResolved(j,S,b,!k),m,h,f),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(a,s,n,r){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:m,isHandoff:h,onUpdate:f}=n;this.resolvedAt=On.now(),zK(a,l,c,u)||((pl.instantAnimations||!m)&&(f==null||f(sS(a,n,s))),a[0]=a[a.length-1],x2(n),n.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>VK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:a},v=!h&&FK(b)?new $K({...b,element:b.motionValue.owner.current}):new rS(b);v.finished.then(()=>this.notifyFinished()).catch(Ar),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(a,s){return this.finished.finally(a).then(()=>{})}get animation(){var a;return this._animation||((a=this.keyframeResolver)==null||a.resume(),kK()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(a){this.animation.time=a}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(a){this.animation.speed=a}get startTime(){return this.animation.startTime}attachTimeline(a){return this._animation?this.stopTimeline=this.animation.attachTimeline(a):this.pendingTimeline=a,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var a;this._animation&&this.animation.cancel(),(a=this.keyframeResolver)==null||a.cancel()}}class qK{constructor(a){this.stop=()=>this.runAll("stop"),this.animations=a.filter(Boolean)}get finished(){return Promise.all(this.animations.map(a=>a.finished))}getAll(a){return this.animations[0][a]}setAll(a,s){for(let n=0;n<this.animations.length;n++)this.animations[n][a]=s}attachTimeline(a){const s=this.animations.map(n=>n.attachTimeline(a));return()=>{s.forEach((n,r)=>{n&&n(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(a){this.setAll("time",a)}get speed(){return this.getAll("speed")}set speed(a){this.setAll("speed",a)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return t6(this.animations,"duration")}get iterationDuration(){return t6(this.animations,"iterationDuration")}runAll(a){this.animations.forEach(s=>s[a]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function t6(e,a){let s=0;for(let n=0;n<e.length;n++){const r=e[n][a];r!==null&&r>s&&(s=r)}return s}class GK extends qK{then(a,s){return this.finished.finally(a).then(()=>{})}}const KK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YK(e){const a=KK.exec(e);if(!a)return[,];const[,s,n,r]=a;return[`--${s??n}`,r]}function e8(e,a,s=1){const[n,r]=YK(e);if(!n)return;const l=window.getComputedStyle(a).getPropertyValue(n);if(l){const c=l.trim();return gD(c)?parseFloat(c):c}return JN(r)?e8(r,a,s+1):r}function oS(e,a){return(e==null?void 0:e[a])??(e==null?void 0:e.default)??e}const t8=new Set(["width","height","top","left","right","bottom",...Hu]),WK={test:e=>e==="auto",parse:e=>e},a8=e=>a=>a.test(e),s8=[Vu,yt,Ni,lo,FG,UG,WK],a6=e=>s8.find(a8(e));function XK(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vD(e):!0}const ZK=new Set(["brightness","contrast","saturate","opacity"]);function JK(e){const[a,s]=e.slice(0,-1).split("(");if(a==="drop-shadow")return e;const[n]=s.match(QN)||[];if(!n)return e;const r=s.replace(n,"");let l=ZK.has(a)?1:0;return n!==s&&(l*=100),a+"("+l+r+")"}const QK=/\b([a-z-]*)\(.*?\)/gu,p2={...go,getAnimatableNone:e=>{const a=e.match(QK);return a?a.map(JK).join(" "):e}},s6={...Vu,transform:Math.round},eY={rotate:lo,rotateX:lo,rotateY:lo,rotateZ:lo,scale:bx,scaleX:bx,scaleY:bx,scaleZ:bx,skew:lo,skewX:lo,skewY:lo,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:sf,originX:VC,originY:VC,originZ:yt},cS={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,backgroundPositionX:yt,backgroundPositionY:yt,...eY,zIndex:s6,fillOpacity:sf,strokeOpacity:sf,numOctaves:s6},tY={...cS,color:ss,backgroundColor:ss,outlineColor:ss,fill:ss,stroke:ss,borderColor:ss,borderTopColor:ss,borderRightColor:ss,borderBottomColor:ss,borderLeftColor:ss,filter:p2,WebkitFilter:p2},n8=e=>tY[e];function r8(e,a){let s=n8(e);return s!==p2&&(s=go),s.getAnimatableNone?s.getAnimatableNone(a):void 0}const aY=new Set(["auto","none","0"]);function sY(e,a,s){let n=0,r;for(;n<e.length&&!r;){const l=e[n];typeof l=="string"&&!aY.has(l)&&nf(l).values.length&&(r=e[n]),n++}if(r&&s)for(const l of a)e[l]=r8(s,r)}class nY extends iS{constructor(a,s,n,r,l){super(a,s,n,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:a,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<a.length;m++){let h=a[m];if(typeof h=="string"&&(h=h.trim(),JN(h))){const f=e8(h,s.current);f!==void 0&&(a[m]=f),m===a.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!t8.has(n)||a.length!==2)return;const[r,l]=a,c=a6(r),u=a6(l);if(c!==u)if(ZC(c)&&ZC(u))for(let m=0;m<a.length;m++){const h=a[m];typeof h=="string"&&(a[m]=parseFloat(h))}else wc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:a,name:s}=this,n=[];for(let r=0;r<a.length;r++)(a[r]===null||XK(a[r]))&&n.push(r);n.length&&sY(a,n,s)}measureInitialState(){const{element:a,unresolvedKeyframes:s,name:n}=this;if(!a||!a.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wc[n](a.measureViewportBox(),window.getComputedStyle(a.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&a.getValue(n,r).jump(r,!1)}measureEndState(){var u;const{element:a,name:s,unresolvedKeyframes:n}=this;if(!a||!a.current)return;const r=a.getValue(s);r&&r.jump(this.measuredOrigin,!1);const l=n.length-1,c=n[l];n[l]=wc[s](a.measureViewportBox(),window.getComputedStyle(a.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,h])=>{a.getValue(m).set(h)}),this.resolveNoneKeyframes()}}function i8(e,a,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const r=(s==null?void 0:s[e])??n.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const l8=(e,a)=>a&&typeof e=="number"?a.transform(e):e;function o8(e){return bD(e)&&"offsetHeight"in e}const n6=30,rY=e=>!isNaN(parseFloat(e)),Bh={current:void 0};class iY{constructor(a,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var l;const r=On.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(a),this.owner=s.owner}setCurrent(a){this.current=a,this.updatedAt=On.now(),this.canTrackVelocity===null&&a!==void 0&&(this.canTrackVelocity=rY(this.current))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,s){this.events[a]||(this.events[a]=new YN);const n=this.events[a].add(s);return a==="change"?()=>{n(),ga.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const a in this.events)this.events[a].clear()}attach(a,s){this.passiveEffect=a,this.stopPassiveEffect=s}set(a){this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a)}setWithVelocity(a,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-n}jump(a,s=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var a;(a=this.events.change)==null||a.notify(this.current)}addDependent(a){this.dependents||(this.dependents=new Set),this.dependents.add(a)}removeDependent(a){this.dependents&&this.dependents.delete(a)}get(){return Bh.current&&Bh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const a=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||a-this.updatedAt>n6)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,n6);return yD(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(a){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=a(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var a,s;(a=this.dependents)==null||a.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oc(e,a){return new iY(e,a)}const{schedule:dS}=MD(queueMicrotask,!1),Hr={x:!1,y:!1};function c8(){return Hr.x||Hr.y}function lY(e){return e==="x"||e==="y"?Hr[e]?null:(Hr[e]=!0,()=>{Hr[e]=!1}):Hr.x||Hr.y?null:(Hr.x=Hr.y=!0,()=>{Hr.x=Hr.y=!1})}function d8(e,a){const s=i8(e),n=new AbortController,r={passive:!0,...a,signal:n.signal};return[s,r,()=>n.abort()]}function r6(e){return!(e.pointerType==="touch"||c8())}function oY(e,a,s={}){const[n,r,l]=d8(e,s),c=u=>{if(!r6(u))return;const{target:m}=u,h=a(m,u);if(typeof h!="function"||!m)return;const f=g=>{r6(g)&&(h(g),m.removeEventListener("pointerleave",f))};m.addEventListener("pointerleave",f,r)};return n.forEach(u=>{u.addEventListener("pointerenter",c,r)}),l}const u8=(e,a)=>a?e===a?!0:u8(e,a.parentElement):!1,uS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,cY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dY(e){return cY.has(e.tagName)||e.tabIndex!==-1}const kp=new WeakSet;function i6(e){return a=>{a.key==="Enter"&&e(a)}}function p1(e,a){e.dispatchEvent(new PointerEvent("pointer"+a,{isPrimary:!0,bubbles:!0}))}const uY=(e,a)=>{const s=e.currentTarget;if(!s)return;const n=i6(()=>{if(kp.has(s))return;p1(s,"down");const r=i6(()=>{p1(s,"up")}),l=()=>p1(s,"cancel");s.addEventListener("keyup",r,a),s.addEventListener("blur",l,a)});s.addEventListener("keydown",n,a),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),a)};function l6(e){return uS(e)&&!c8()}function mY(e,a,s={}){const[n,r,l]=d8(e,s),c=u=>{const m=u.currentTarget;if(!l6(u))return;kp.add(m);const h=a(m,u),f=(v,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),kp.has(m)&&kp.delete(m),l6(v)&&typeof h=="function"&&h(v,{success:w})},g=v=>{f(v,m===window||m===document||s.useGlobalTarget||u8(m,v.target))},b=v=>{f(v,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",b,r)};return n.forEach(u=>{(s.useGlobalTarget?window:u).addEventListener("pointerdown",c,r),o8(u)&&(u.addEventListener("focus",h=>uY(h,r)),!dY(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function mS(e){return bD(e)&&"ownerSVGElement"in e}function m8(e){return mS(e)&&e.tagName==="svg"}function hY(...e){const a=!Array.isArray(e[0]),s=a?0:-1,n=e[0+s],r=e[1+s],l=e[2+s],c=e[3+s],u=qD(r,l,c);return a?u(n):u}const ws=e=>!!(e&&e.getVelocity),fY=[...s8,ss,go],xY=e=>fY.find(a8(e)),Gg=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function o6(e,a){if(typeof e=="function")return e(a);e!=null&&(e.current=a)}function pY(...e){return a=>{let s=!1;const n=e.map(r=>{const l=o6(r,a);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let r=0;r<n.length;r++){const l=n[r];typeof l=="function"?l():o6(e[r],null)}}}}function gY(...e){return x.useCallback(pY(...e),e)}class bY extends x.Component{getSnapshotBeforeUpdate(a){const s=this.props.childRef.current;if(s&&a.isPresent&&!this.props.isPresent){const n=s.offsetParent,r=o8(n)&&n.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=r-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vY({children:e,isPresent:a,anchorX:s,root:n}){const r=x.useId(),l=x.useRef(null),c=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=x.useContext(Gg),m=gY(l,e==null?void 0:e.ref);return x.useInsertionEffect(()=>{const{width:h,height:f,top:g,left:b,right:v}=c.current;if(a||!l.current||!h||!f)return;const w=s==="left"?`left: ${b}`:`right: ${v}`;l.current.dataset.motionPopId=r;const j=document.createElement("style");u&&(j.nonce=u);const S=n??document.head;return S.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(j)&&S.removeChild(j)}},[a]),t.jsx(bY,{isPresent:a,childRef:l,sizeRef:c,children:x.cloneElement(e,{ref:m})})}const yY=({children:e,initial:a,isPresent:s,onExitComplete:n,custom:r,presenceAffectsLayout:l,mode:c,anchorX:u,root:m})=>{const h=Of(jY),f=x.useId();let g=!0,b=x.useMemo(()=>(g=!1,{id:f,initial:a,isPresent:s,custom:r,onExitComplete:v=>{h.set(v,!0);for(const w of h.values())if(!w)return;n&&n()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[s,h,n]);return l&&g&&(b={...b}),x.useMemo(()=>{h.forEach((v,w)=>h.set(w,!1))},[s]),x.useEffect(()=>{!s&&!h.size&&n&&n()},[s]),c==="popLayout"&&(e=t.jsx(vY,{isPresent:s,anchorX:u,root:m,children:e})),t.jsx(Hg.Provider,{value:b,children:e})};function jY(){return new Map}function h8(e=!0){const a=x.useContext(Hg);if(a===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:r}=a,l=x.useId();x.useEffect(()=>{if(e)return r(l)},[e]);const c=x.useCallback(()=>e&&n&&n(l),[l,n,e]);return!s&&n?[!1,c]:[!0]}const vx=e=>e.key||"";function c6(e){const a=[];return x.Children.forEach(e,s=>{x.isValidElement(s)&&a.push(s)}),a}const jt=({children:e,custom:a,initial:s=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:l="sync",propagate:c=!1,anchorX:u="left",root:m})=>{const[h,f]=h8(c),g=x.useMemo(()=>c6(e),[e]),b=c&&!h?[]:g.map(vx),v=x.useRef(!0),w=x.useRef(g),j=Of(()=>new Map),[S,k]=x.useState(g),[_,C]=x.useState(g);HN(()=>{v.current=!1,w.current=g;for(let E=0;E<_.length;E++){const $=vx(_[E]);b.includes($)?j.delete($):j.get($)!==!0&&j.set($,!1)}},[_,b.length,b.join("-")]);const T=[];if(g!==S){let E=[...g];for(let $=0;$<_.length;$++){const M=_[$],H=vx(M);b.includes(H)||(E.splice($,0,M),T.push(M))}return l==="wait"&&T.length&&(E=T),C(c6(E)),k(g),null}const{forceRender:O}=x.useContext(FN);return t.jsx(t.Fragment,{children:_.map(E=>{const $=vx(E),M=c&&!h?!1:g===_||b.includes($),H=()=>{if(j.has($))j.set($,!0);else return;let V=!0;j.forEach(F=>{F||(V=!1)}),V&&(O==null||O(),C(w.current),c&&(f==null||f()),n&&n())};return t.jsx(yY,{isPresent:M,initial:!v.current||s?void 0:!1,custom:a,presenceAffectsLayout:r,mode:l,root:m,onExitComplete:M?void 0:H,anchorX:u,children:E},$)})})},f8=x.createContext({strict:!1}),d6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Su={};for(const e in d6)Su[e]={isEnabled:a=>d6[e].some(s=>!!a[s])};function wY(e){for(const a in e)Su[a]={...Su[a],...e[a]}}const NY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NY.has(e)}let x8=e=>!Bp(e);function SY(e){typeof e=="function"&&(x8=a=>a.startsWith("on")?!Bp(a):e(a))}try{SY(require("@emotion/is-prop-valid").default)}catch{}function _Y(e,a,s){const n={};for(const r in e)r==="values"&&typeof e.values=="object"||(x8(r)||s===!0&&Bp(r)||!a&&!Bp(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}const Kg=x.createContext({});function Yg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function lf(e){return typeof e=="string"||Array.isArray(e)}const hS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fS=["initial",...hS];function Wg(e){return Yg(e.animate)||fS.some(a=>lf(e[a]))}function p8(e){return!!(Wg(e)||e.variants)}function kY(e,a){if(Wg(e)){const{initial:s,animate:n}=e;return{initial:s===!1||lf(s)?s:void 0,animate:lf(n)?n:void 0}}return e.inherit!==!1?a:{}}function CY(e){const{initial:a,animate:s}=kY(e,x.useContext(Kg));return x.useMemo(()=>({initial:a,animate:s}),[u6(a),u6(s)])}function u6(e){return Array.isArray(e)?e.join(" "):e}const of={};function AY(e){for(const a in e)of[a]=e[a],ZN(a)&&(of[a].isCSSVariable=!0)}function g8(e,{layout:a,layoutId:s}){return qu.has(e)||e.startsWith("origin")||(a||s!==void 0)&&(!!of[e]||e==="opacity")}const EY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TY=Hu.length;function OY(e,a,s){let n="",r=!0;for(let l=0;l<TY;l++){const c=Hu[l],u=e[c];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(c.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||s){const h=l8(u,cS[c]);if(!m){r=!1;const f=EY[c]||c;n+=`${f}(${h}) `}s&&(a[c]=h)}}return n=n.trim(),s?n=s(a,r?"":n):r&&(n="none"),n}function xS(e,a,s){const{style:n,vars:r,transformOrigin:l}=e;let c=!1,u=!1;for(const m in a){const h=a[m];if(qu.has(m)){c=!0;continue}else if(ZN(m)){r[m]=h;continue}else{const f=l8(h,cS[m]);m.startsWith("origin")?(u=!0,l[m]=f):n[m]=f}}if(a.transform||(c||s?n.transform=OY(a,e.transform,s):n.transform&&(n.transform="none")),u){const{originX:m="50%",originY:h="50%",originZ:f=0}=l;n.transformOrigin=`${m} ${h} ${f}`}}const pS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function b8(e,a,s){for(const n in a)!ws(a[n])&&!g8(n,s)&&(e[n]=a[n])}function PY({transformTemplate:e},a){return x.useMemo(()=>{const s=pS();return xS(s,a,e),Object.assign({},s.vars,s.style)},[a])}function MY(e,a){const s=e.style||{},n={};return b8(n,s,e),Object.assign(n,PY(e,a)),n}function DY(e,a){const s={},n=MY(e,a);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const LY={offset:"stroke-dashoffset",array:"stroke-dasharray"},RY={offset:"strokeDashoffset",array:"strokeDasharray"};function $Y(e,a,s=1,n=0,r=!0){e.pathLength=1;const l=r?LY:RY;e[l.offset]=yt.transform(-n);const c=yt.transform(a),u=yt.transform(s);e[l.array]=`${c} ${u}`}function v8(e,{attrX:a,attrY:s,attrScale:n,pathLength:r,pathSpacing:l=1,pathOffset:c=0,...u},m,h,f){if(xS(e,u,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b}=e;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete g.transformBox),a!==void 0&&(g.x=a),s!==void 0&&(g.y=s),n!==void 0&&(g.scale=n),r!==void 0&&$Y(g,r,l,c,!1)}const y8=()=>({...pS(),attrs:{}}),j8=e=>typeof e=="string"&&e.toLowerCase()==="svg";function IY(e,a,s,n){const r=x.useMemo(()=>{const l=y8();return v8(l,a,j8(n),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[a]);if(e.style){const l={};b8(l,e.style,e),r.style={...l,...r.style}}return r}const zY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gS(e){return typeof e!="string"||e.includes("-")?!1:!!(zY.indexOf(e)>-1||/[A-Z]/u.test(e))}function BY(e,a,s,{latestValues:n},r,l=!1){const u=(gS(e)?IY:DY)(a,n,r,e),m=_Y(a,typeof e=="string",l),h=e!==x.Fragment?{...m,...u,ref:s}:{},{children:f}=a,g=x.useMemo(()=>ws(f)?f.get():f,[f]);return x.createElement(e,{...h,children:g})}function m6(e){const a=[{},{}];return e==null||e.values.forEach((s,n)=>{a[0][n]=s.get(),a[1][n]=s.getVelocity()}),a}function bS(e,a,s,n){if(typeof a=="function"){const[r,l]=m6(n);a=a(s!==void 0?s:e.custom,r,l)}if(typeof a=="string"&&(a=e.variants&&e.variants[a]),typeof a=="function"){const[r,l]=m6(n);a=a(s!==void 0?s:e.custom,r,l)}return a}function Cp(e){return ws(e)?e.get():e}function UY({scrapeMotionValuesFromProps:e,createRenderState:a},s,n,r){return{latestValues:FY(s,n,r,e),renderState:a()}}function FY(e,a,s,n){const r={},l=n(e,{});for(const b in l)r[b]=Cp(l[b]);let{initial:c,animate:u}=e;const m=Wg(e),h=p8(e);a&&h&&!m&&e.inherit!==!1&&(c===void 0&&(c=a.initial),u===void 0&&(u=a.animate));let f=s?s.initial===!1:!1;f=f||c===!1;const g=f?u:c;if(g&&typeof g!="boolean"&&!Yg(g)){const b=Array.isArray(g)?g:[g];for(let v=0;v<b.length;v++){const w=bS(e,b[v]);if(w){const{transitionEnd:j,transition:S,...k}=w;for(const _ in k){let C=k[_];if(Array.isArray(C)){const T=f?C.length-1:0;C=C[T]}C!==null&&(r[_]=C)}for(const _ in j)r[_]=j[_]}}}return r}const w8=e=>(a,s)=>{const n=x.useContext(Kg),r=x.useContext(Hg),l=()=>UY(e,a,n,r);return s?l():Of(l)};function vS(e,a,s){var l;const{style:n}=e,r={};for(const c in n)(ws(n[c])||a.style&&ws(a.style[c])||g8(c,e)||((l=s==null?void 0:s.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(r[c]=n[c]);return r}const VY=w8({scrapeMotionValuesFromProps:vS,createRenderState:pS});function N8(e,a,s){const n=vS(e,a,s);for(const r in e)if(ws(e[r])||ws(a[r])){const l=Hu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[l]=e[r]}return n}const HY=w8({scrapeMotionValuesFromProps:N8,createRenderState:y8}),qY=Symbol.for("motionComponentSymbol");function nu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function GY(e,a,s){return x.useCallback(n=>{n&&e.onMount&&e.onMount(n),a&&(n?a.mount(n):a.unmount()),s&&(typeof s=="function"?s(n):nu(s)&&(s.current=n))},[a])}const yS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KY="framerAppearId",S8="data-"+yS(KY),_8=x.createContext({});function YY(e,a,s,n,r){var j,S;const{visualElement:l}=x.useContext(Kg),c=x.useContext(f8),u=x.useContext(Hg),m=x.useContext(Gg).reducedMotion,h=x.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:a,parent:l,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const f=h.current,g=x.useContext(_8);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&WY(h.current,s,r,g);const b=x.useRef(!1);x.useInsertionEffect(()=>{f&&b.current&&f.update(s,u)});const v=s[S8],w=x.useRef(!!v&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,v))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,v)));return HN(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),x.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,v)}),w.current=!1),f.enteringChildren=void 0)}),f}function WY(e,a,s,n){const{layoutId:r,layout:l,drag:c,dragConstraints:u,layoutScroll:m,layoutRoot:h,layoutCrossfade:f}=a;e.projection=new s(e.latestValues,a["data-framer-portal-id"]?void 0:k8(e.parent)),e.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||u&&nu(u),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:m,layoutRoot:h})}function k8(e){if(e)return e.options.allowProjection!==!1?e.projection:k8(e.parent)}function g1(e,{forwardMotionProps:a=!1}={},s,n){s&&wY(s);const r=gS(e)?HY:VY;function l(u,m){let h;const f={...x.useContext(Gg),...u,layoutId:XY(u)},{isStatic:g}=f,b=CY(u),v=r(u,g);if(!g&&VN){ZY();const w=JY(f);h=w.MeasureLayout,b.visualElement=YY(e,v,f,n,w.ProjectionNode)}return t.jsxs(Kg.Provider,{value:b,children:[h&&b.visualElement?t.jsx(h,{visualElement:b.visualElement,...f}):null,BY(e,u,GY(v,b.visualElement,m),v,g,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=x.forwardRef(l);return c[qY]=e,c}function XY({layoutId:e}){const a=x.useContext(FN).id;return a&&e!==void 0?a+"-"+e:e}function ZY(e,a){x.useContext(f8).strict}function JY(e){const{drag:a,layout:s}=Su;if(!a&&!s)return{};const n={...a,...s};return{MeasureLayout:a!=null&&a.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function QY(e,a){if(typeof Proxy>"u")return g1;const s=new Map,n=(l,c)=>g1(l,c,e,a),r=(l,c)=>n(l,c);return new Proxy(r,{get:(l,c)=>c==="create"?n:(s.has(c)||s.set(c,g1(c,void 0,e,a)),s.get(c))})}function C8({top:e,left:a,right:s,bottom:n}){return{x:{min:a,max:s},y:{min:e,max:n}}}function eW({x:e,y:a}){return{top:a.min,right:e.max,bottom:a.max,left:e.min}}function tW(e,a){if(!a)return e;const s=a({x:e.left,y:e.top}),n=a({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function b1(e){return e===void 0||e===1}function g2({scale:e,scaleX:a,scaleY:s}){return!b1(e)||!b1(a)||!b1(s)}function ic(e){return g2(e)||A8(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function A8(e){return h6(e.x)||h6(e.y)}function h6(e){return e&&e!=="0%"}function Up(e,a,s){const n=e-s,r=a*n;return s+r}function f6(e,a,s,n,r){return r!==void 0&&(e=Up(e,r,n)),Up(e,s,n)+a}function b2(e,a=0,s=1,n,r){e.min=f6(e.min,a,s,n,r),e.max=f6(e.max,a,s,n,r)}function E8(e,{x:a,y:s}){b2(e.x,a.translate,a.scale,a.originPoint),b2(e.y,s.translate,s.scale,s.originPoint)}const x6=.999999999999,p6=1.0000000000001;function aW(e,a,s,n=!1){const r=s.length;if(!r)return;a.x=a.y=1;let l,c;for(let u=0;u<r;u++){l=s[u],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&iu(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(a.x*=c.x.scale,a.y*=c.y.scale,E8(e,c)),n&&ic(l.latestValues)&&iu(e,l.latestValues))}a.x<p6&&a.x>x6&&(a.x=1),a.y<p6&&a.y>x6&&(a.y=1)}function ru(e,a){e.min=e.min+a,e.max=e.max+a}function g6(e,a,s,n,r=.5){const l=Na(e.min,e.max,r);b2(e,a,s,l,n)}function iu(e,a){g6(e.x,a.x,a.scaleX,a.scale,a.originX),g6(e.y,a.y,a.scaleY,a.scale,a.originY)}function T8(e,a){return C8(tW(e.getBoundingClientRect(),a))}function sW(e,a,s){const n=T8(e,s),{scroll:r}=a;return r&&(ru(n.x,r.offset.x),ru(n.y,r.offset.y)),n}const b6=()=>({translate:0,scale:1,origin:0,originPoint:0}),lu=()=>({x:b6(),y:b6()}),v6=()=>({min:0,max:0}),Fa=()=>({x:v6(),y:v6()}),v2={current:null},O8={current:!1};function nW(){if(O8.current=!0,!!VN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),a=()=>v2.current=e.matches;e.addEventListener("change",a),a()}else v2.current=!1}const cf=new WeakMap;function rW(e,a,s){for(const n in a){const r=a[n],l=s[n];if(ws(r))e.addValue(n,r);else if(ws(l))e.addValue(n,Oc(r,{owner:e}));else if(l!==r)if(e.hasValue(n)){const c=e.getValue(n);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=e.getStaticValue(n);e.addValue(n,Oc(c!==void 0?c:r,{owner:e}))}}for(const n in s)a[n]===void 0&&e.removeValue(n);return a}const y6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class P8{scrapeMotionValuesFromProps(a,s,n){return{}}constructor({parent:a,props:s,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=On.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ga.render(this.render,!1,!0))};const{latestValues:m,renderState:h}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=h,this.parent=a,this.props=s,this.presenceContext=n,this.depth=a?a.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=Wg(s),this.isVariantNode=p8(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in g){const v=g[b];m[b]!==void 0&&ws(v)&&v.set(m[b])}}mount(a){var s;this.current=a,cf.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),O8.current||nW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v2.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var a;this.projection&&this.projection.unmount(),gl(this.notifyUpdate),gl(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(a=this.parent)==null||a.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const n=this.features[s];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(a){this.children.add(a),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(a)}removeChild(a){this.children.delete(a),this.enteringChildren&&this.enteringChildren.delete(a)}bindToMotionValue(a,s){this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();const n=qu.has(a);n&&this.onBindTransform&&this.onBindTransform();const r=s.on("change",c=>{this.latestValues[a]=c,this.props.onUpdate&&ga.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,a,s)),this.valueSubscriptions.set(a,()=>{r(),l&&l(),s.owner&&s.stop()})}sortNodePosition(a){return!this.current||!this.sortInstanceNodePosition||this.type!==a.type?0:this.sortInstanceNodePosition(this.current,a.current)}updateFeatures(){let a="animation";for(a in Su){const s=Su[a];if(!s)continue;const{isEnabled:n,Feature:r}=s;if(!this.features[a]&&r&&n(this.props)&&(this.features[a]=new r(this)),this.features[a]){const l=this.features[a];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fa()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,s){this.latestValues[a]=s}update(a,s){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<y6.length;n++){const r=y6[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=a[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=rW(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(a),()=>s.variantChildren.delete(a)}addValue(a,s){const n=this.values.get(a);s!==n&&(n&&this.removeValue(a),this.bindToMotionValue(a,s),this.values.set(a,s),this.latestValues[a]=s.get())}removeValue(a){this.values.delete(a);const s=this.valueSubscriptions.get(a);s&&(s(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,s){if(this.props.values&&this.props.values[a])return this.props.values[a];let n=this.values.get(a);return n===void 0&&s!==void 0&&(n=Oc(s===null?void 0:s,{owner:this}),this.addValue(a,n)),n}readValue(a,s){let n=this.latestValues[a]!==void 0||!this.current?this.latestValues[a]:this.getBaseTargetFromProps(this.props,a)??this.readValueFromInstance(this.current,a,this.options);return n!=null&&(typeof n=="string"&&(gD(n)||vD(n))?n=parseFloat(n):!xY(n)&&go.test(s)&&(n=r8(a,s)),this.setBaseTarget(a,ws(n)?n.get():n)),ws(n)?n.get():n}setBaseTarget(a,s){this.baseTarget[a]=s}getBaseTarget(a){var l;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const c=bS(this.props,s,(l=this.presenceContext)==null?void 0:l.custom);c&&(n=c[a])}if(s&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,a);return r!==void 0&&!ws(r)?r:this.initialValues[a]!==void 0&&n===void 0?void 0:this.baseTarget[a]}on(a,s){return this.events[a]||(this.events[a]=new YN),this.events[a].add(s)}notify(a,...s){this.events[a]&&this.events[a].notify(...s)}scheduleRenderMicrotask(){dS.render(this.render)}}class M8 extends P8{constructor(){super(...arguments),this.KeyframeResolver=nY}sortInstanceNodePosition(a,s){return a.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(a,s){return a.style?a.style[s]:void 0}removeValueFromRenderState(a,{vars:s,style:n}){delete s[a],delete n[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:a}=this.props;ws(a)&&(this.childSubscription=a.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function D8(e,{style:a,vars:s},n,r){const l=e.style;let c;for(c in a)l[c]=a[c];r==null||r.applyProjectionStyles(l,n);for(c in s)l.setProperty(c,s[c])}function iW(e){return window.getComputedStyle(e)}class L8 extends M8{constructor(){super(...arguments),this.type="html",this.renderInstance=D8}readValueFromInstance(a,s){var n;if(qu.has(s))return(n=this.projection)!=null&&n.isProjecting?d2(s):jK(a,s);{const r=iW(a),l=(ZN(s)?r.getPropertyValue(s):r[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(a,{transformPagePoint:s}){return T8(a,s)}build(a,s,n){xS(a,s,n.transformTemplate)}scrapeMotionValuesFromProps(a,s,n){return vS(a,s,n)}}const R8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lW(e,a,s,n){D8(e,a,void 0,n);for(const r in a.attrs)e.setAttribute(R8.has(r)?r:yS(r),a.attrs[r])}class $8 extends M8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fa}getBaseTargetFromProps(a,s){return a[s]}readValueFromInstance(a,s){if(qu.has(s)){const n=n8(s);return n&&n.default||0}return s=R8.has(s)?s:yS(s),a.getAttribute(s)}scrapeMotionValuesFromProps(a,s,n){return N8(a,s,n)}build(a,s,n){v8(a,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(a,s,n,r){lW(a,s,n,r)}mount(a){this.isSVGTag=j8(a.tagName),super.mount(a)}}const oW=(e,a)=>gS(e)?new $8(a):new L8(a,{allowProjection:e!==x.Fragment});function uu(e,a,s){const n=e.getProps();return bS(n,a,s!==void 0?s:n.custom,e)}const y2=e=>Array.isArray(e);function cW(e,a,s){e.hasValue(a)?e.getValue(a).set(s):e.addValue(a,Oc(s))}function dW(e){return y2(e)?e[e.length-1]||0:e}function uW(e,a){const s=uu(e,a);let{transitionEnd:n={},transition:r={},...l}=s||{};l={...l,...n};for(const c in l){const u=dW(l[c]);cW(e,c,u)}}function mW(e){return!!(ws(e)&&e.add)}function j2(e,a){const s=e.getValue("willChange");if(mW(s))return s.add(a);if(!s&&pl.WillChange){const n=new pl.WillChange("auto");e.addValue("willChange",n),n.add(a)}}function I8(e){return e.props[S8]}const hW=e=>e!==null;function fW(e,{repeat:a,repeatType:s="loop"},n){const r=e.filter(hW),l=a&&s!=="loop"&&a%2===1?0:r.length-1;return r[l]}const xW={type:"spring",stiffness:500,damping:25,restSpeed:10},pW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gW={type:"keyframes",duration:.8},bW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vW=(e,{keyframes:a})=>a.length>2?gW:qu.has(e)?e.startsWith("scale")?pW(a[1]):xW:bW;function yW({when:e,delay:a,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:u,from:m,elapsed:h,...f}){return!!Object.keys(f).length}const jS=(e,a,s,n={},r,l)=>c=>{const u=oS(n,e)||{},m=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-Xr(m);const f={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:a.getVelocity(),...u,delay:-h,onUpdate:b=>{a.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:a,element:l?void 0:r};yW(u)||Object.assign(f,vW(e,f)),f.duration&&(f.duration=Xr(f.duration)),f.repeatDelay&&(f.repeatDelay=Xr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(x2(f),f.delay===0&&(g=!0)),(pl.instantAnimations||pl.skipAnimations)&&(g=!0,x2(f),f.delay=0),f.allowFlatten=!u.type&&!u.ease,g&&!l&&a.get()!==void 0){const b=fW(f.keyframes,u);if(b!==void 0){ga.update(()=>{f.onUpdate(b),f.onComplete()});return}}return u.isSync?new rS(f):new HK(f)};function jW({protectedKeys:e,needsAnimating:a},s){const n=e.hasOwnProperty(s)&&a[s]!==!0;return a[s]=!1,n}function wS(e,a,{delay:s=0,transitionOverride:n,type:r}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...u}=a;n&&(l=n);const m=[],h=r&&e.animationState&&e.animationState.getState()[r];for(const f in u){const g=e.getValue(f,e.latestValues[f]??null),b=u[f];if(b===void 0||h&&jW(h,f))continue;const v={delay:s,...oS(l||{},f)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===w&&!v.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const k=I8(e);if(k){const _=window.MotionHandoffAnimation(k,f,ga);_!==null&&(v.startTime=_,j=!0)}}j2(e,f),g.start(jS(f,g,b,e.shouldReduceMotion&&t8.has(f)?{type:!1}:v,e,j));const S=g.animation;S&&m.push(S)}return c&&Promise.all(m).then(()=>{ga.update(()=>{c&&uW(e,c)})}),m}function z8(e,a,s,n=0,r=1){const l=Array.from(e).sort((h,f)=>h.sortNodePosition(f)).indexOf(a),c=e.size,u=(c-1)*n;return typeof s=="function"?s(l,c):r===1?l*n:u-l*n}function w2(e,a,s={}){var m;const n=uu(e,a,s.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(r=s.transitionOverride);const l=n?()=>Promise.all(wS(e,n,s)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:b}=r;return wW(e,a,h,f,g,b,s)}:()=>Promise.resolve(),{when:u}=r;if(u){const[h,f]=u==="beforeChildren"?[l,c]:[c,l];return h().then(()=>f())}else return Promise.all([l(),c(s.delay)])}function wW(e,a,s=0,n=0,r=0,l=1,c){const u=[];for(const m of e.variantChildren)m.notify("AnimationStart",a),u.push(w2(m,a,{...c,delay:s+(typeof n=="function"?0:n)+z8(e.variantChildren,m,n,r,l)}).then(()=>m.notify("AnimationComplete",a)));return Promise.all(u)}function NW(e,a,s={}){e.notify("AnimationStart",a);let n;if(Array.isArray(a)){const r=a.map(l=>w2(e,l,s));n=Promise.all(r)}else if(typeof a=="string")n=w2(e,a,s);else{const r=typeof a=="function"?uu(e,a,s.custom):a;n=Promise.all(wS(e,r,s))}return n.then(()=>{e.notify("AnimationComplete",a)})}function B8(e,a){if(!Array.isArray(a))return!1;const s=a.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(a[n]!==e[n])return!1;return!0}const SW=fS.length;function U8(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?U8(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const a={};for(let s=0;s<SW;s++){const n=fS[s],r=e.props[n];(lf(r)||r===!1)&&(a[n]=r)}return a}const _W=[...hS].reverse(),kW=hS.length;function CW(e){return a=>Promise.all(a.map(({animation:s,options:n})=>NW(e,s,n)))}function AW(e){let a=CW(e),s=j6(),n=!0;const r=m=>(h,f)=>{var b;const g=uu(e,f,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:v,transitionEnd:w,...j}=g;h={...h,...j,...w}}return h};function l(m){a=m(e)}function c(m){const{props:h}=e,f=U8(e.parent)||{},g=[],b=new Set;let v={},w=1/0;for(let S=0;S<kW;S++){const k=_W[S],_=s[k],C=h[k]!==void 0?h[k]:f[k],T=lf(C),O=k===m?_.isActive:null;O===!1&&(w=S);let E=C===f[k]&&C!==h[k]&&T;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...v},!_.isActive&&O===null||!C&&!_.prevProp||Yg(C)||typeof C=="boolean")continue;const $=EW(_.prevProp,C);let M=$||k===m&&_.isActive&&!E&&T||S>w&&T,H=!1;const V=Array.isArray(C)?C:[C];let F=V.reduce(r(k),{});O===!1&&(F={});const{prevResolvedValues:B={}}=_,ee={...B,...F},we=U=>{M=!0,b.has(U)&&(H=!0,b.delete(U)),_.needsAnimating[U]=!0;const K=e.getValue(U);K&&(K.liveStyle=!1)};for(const U in ee){const K=F[U],z=B[U];if(v.hasOwnProperty(U))continue;let I=!1;y2(K)&&y2(z)?I=!B8(K,z):I=K!==z,I?K!=null?we(U):b.add(U):K!==void 0&&b.has(U)?we(U):_.protectedKeys[U]=!0}_.prevProp=C,_.prevResolvedValues=F,_.isActive&&(v={...v,...F}),n&&e.blockInitialAnimation&&(M=!1);const ne=E&&$;M&&(!ne||H)&&g.push(...V.map(U=>{const K={type:k};if(typeof U=="string"&&n&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:z}=e,I=uu(z,U);if(z.enteringChildren&&I){const{delayChildren:D}=I.transition||{};K.delay=z8(z.enteringChildren,e,D)}}return{animation:U,options:K}}))}if(b.size){const S={};if(typeof h.initial!="boolean"){const k=uu(e,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(S.transition=k.transition)}b.forEach(k=>{const _=e.getBaseTarget(k),C=e.getValue(k);C&&(C.liveStyle=!0),S[k]=_??null}),g.push({animation:S})}let j=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(j=!1),n=!1,j?a(g):Promise.resolve()}function u(m,h){var g;if(s[m].isActive===h)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(b=>{var v;return(v=b.animationState)==null?void 0:v.setActive(m,h)}),s[m].isActive=h;const f=c(m);for(const b in s)s[b].protectedKeys={};return f}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>s,reset:()=>{s=j6()}}}function EW(e,a){return typeof a=="string"?a!==e:Array.isArray(a)?!B8(a,e):!1}function Ko(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function j6(){return{animate:Ko(!0),whileInView:Ko(),whileHover:Ko(),whileTap:Ko(),whileDrag:Ko(),whileFocus:Ko(),exit:Ko()}}class So{constructor(a){this.isMounted=!1,this.node=a}update(){}}class TW extends So{constructor(a){super(a),a.animationState||(a.animationState=AW(a))}updateAnimationControlsSubscription(){const{animate:a}=this.node.getProps();Yg(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:a}=this.node.getProps(),{animate:s}=this.node.prevProps||{};a!==s&&this.updateAnimationControlsSubscription()}unmount(){var a;this.node.animationState.reset(),(a=this.unmountControls)==null||a.call(this)}}let OW=0;class PW extends So{constructor(){super(...arguments),this.id=OW++}update(){if(!this.node.presenceContext)return;const{isPresent:a,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===n)return;const r=this.node.animationState.setActive("exit",!a);s&&!a&&r.then(()=>{s(this.id)})}mount(){const{register:a,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),a&&(this.unmount=a(this.id))}unmount(){}}const MW={animation:{Feature:TW},exit:{Feature:PW}};function df(e,a,s,n={passive:!0}){return e.addEventListener(a,s,n),()=>e.removeEventListener(a,s)}function Lf(e){return{point:{x:e.pageX,y:e.pageY}}}const DW=e=>a=>uS(a)&&e(a,Lf(a));function Uh(e,a,s,n){return df(e,a,DW(s),n)}const F8=1e-4,LW=1-F8,RW=1+F8,V8=.01,$W=0-V8,IW=0+V8;function fn(e){return e.max-e.min}function zW(e,a,s){return Math.abs(e-a)<=s}function w6(e,a,s,n=.5){e.origin=n,e.originPoint=Na(a.min,a.max,e.origin),e.scale=fn(s)/fn(a),e.translate=Na(s.min,s.max,e.origin)-e.originPoint,(e.scale>=LW&&e.scale<=RW||isNaN(e.scale))&&(e.scale=1),(e.translate>=$W&&e.translate<=IW||isNaN(e.translate))&&(e.translate=0)}function Fh(e,a,s,n){w6(e.x,a.x,s.x,n?n.originX:void 0),w6(e.y,a.y,s.y,n?n.originY:void 0)}function N6(e,a,s){e.min=s.min+a.min,e.max=e.min+fn(a)}function BW(e,a,s){N6(e.x,a.x,s.x),N6(e.y,a.y,s.y)}function S6(e,a,s){e.min=a.min-s.min,e.max=e.min+fn(a)}function Vh(e,a,s){S6(e.x,a.x,s.x),S6(e.y,a.y,s.y)}function jr(e){return[e("x"),e("y")]}const H8=({current:e})=>e?e.ownerDocument.defaultView:null,_6=(e,a)=>Math.abs(e-a);function UW(e,a){const s=_6(e.x,a.x),n=_6(e.y,a.y);return Math.sqrt(s**2+n**2)}class q8{constructor(a,s,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=y1(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=UW(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:j}=b,{timestamp:S}=zs;this.history.push({...j,timestamp:S});const{onStart:k,onMove:_}=this.handlers;v||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,b)},this.handlePointerMove=(b,v)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=v1(v,this.transformPagePoint),ga.update(this.updatePoint,!0)},this.handlePointerUp=(b,v)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=y1(b.type==="pointercancel"?this.lastMoveEventInfo:v1(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(b,k),j&&j(b,k)},!uS(a))return;this.dragSnapToOrigin=l,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=c,this.contextWindow=r||window;const u=Lf(a),m=v1(u,this.transformPagePoint),{point:h}=m,{timestamp:f}=zs;this.history=[{...h,timestamp:f}];const{onSessionStart:g}=s;g&&g(a,y1(m,this.history)),this.removeListeners=Pf(Uh(this.contextWindow,"pointermove",this.handlePointerMove),Uh(this.contextWindow,"pointerup",this.handlePointerUp),Uh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),gl(this.updatePoint)}}function v1(e,a){return a?{point:a(e.point)}:e}function k6(e,a){return{x:e.x-a.x,y:e.y-a.y}}function y1({point:e},a){return{point:e,delta:k6(e,G8(a)),offset:k6(e,FW(a)),velocity:VW(a,.1)}}function FW(e){return e[0]}function G8(e){return e[e.length-1]}function VW(e,a){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const r=G8(e);for(;s>=0&&(n=e[s],!(r.timestamp-n.timestamp>Xr(a)));)s--;if(!n)return{x:0,y:0};const l=_r(r.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-n.x)/l,y:(r.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function HW(e,{min:a,max:s},n){return a!==void 0&&e<a?e=n?Na(a,e,n.min):Math.max(e,a):s!==void 0&&e>s&&(e=n?Na(s,e,n.max):Math.min(e,s)),e}function C6(e,a,s){return{min:a!==void 0?e.min+a:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function qW(e,{top:a,left:s,bottom:n,right:r}){return{x:C6(e.x,s,r),y:C6(e.y,a,n)}}function A6(e,a){let s=a.min-e.min,n=a.max-e.max;return a.max-a.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function GW(e,a){return{x:A6(e.x,a.x),y:A6(e.y,a.y)}}function KW(e,a){let s=.5;const n=fn(e),r=fn(a);return r>n?s=Nu(a.min,a.max-n,e.min):n>r&&(s=Nu(e.min,e.max-r,a.min)),xl(0,1,s)}function YW(e,a){const s={};return a.min!==void 0&&(s.min=a.min-e.min),a.max!==void 0&&(s.max=a.max-e.min),s}const N2=.35;function WW(e=N2){return e===!1?e=0:e===!0&&(e=N2),{x:E6(e,"left","right"),y:E6(e,"top","bottom")}}function E6(e,a,s){return{min:T6(e,a),max:T6(e,s)}}function T6(e,a){return typeof e=="number"?e:e[a]||0}const XW=new WeakMap;class ZW{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=a}start(a,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Lf(g).point)},c=(g,b)=>{const{drag:v,dragPropagation:w,onDragStart:j}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lY(v),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jr(k=>{let _=this.getAxisMotionValue(k).get()||0;if(Ni.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const T=C.layout.layoutBox[k];T&&(_=fn(T)*(parseFloat(_)/100))}}this.originPoint[k]=_}),j&&ga.postRender(()=>j(g,b)),j2(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:j,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:k}=b;if(w&&this.currentDirection===null){this.currentDirection=JW(k),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),S&&S(g,b)},m=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>jr(g=>{var b;return this.getAnimationState(g)==="paused"&&((b=this.getAxisMotionValue(g).animation)==null?void 0:b.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new q8(a,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:m,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:H8(this.visualElement)})}stop(a,s){const n=a||this.latestPointerEvent,r=s||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!n)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&ga.postRender(()=>u(n,r))}cancel(){this.isDragging=!1;const{projection:a,animationState:s}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(a,s,n){const{drag:r}=this.getProps();if(!n||!yx(a,r,this.currentDirection))return;const l=this.getAxisMotionValue(a);let c=this.originPoint[a]+n[a];this.constraints&&this.constraints[a]&&(c=HW(c,this.constraints[a],this.elastic[a])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:a,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,r=this.constraints;a&&nu(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&n?this.constraints=qW(n.layoutBox,a):this.constraints=!1,this.elastic=WW(s),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&jr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=YW(n.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:a,onMeasureDragConstraints:s}=this.getProps();if(!a||!nu(a))return!1;const n=a.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=sW(n,r.root,this.visualElement.getTransformPagePoint());let c=GW(r.layout.layoutBox,l);if(s){const u=s(eW(c));this.hasMutatedConstraints=!!u,u&&(c=C8(u))}return c}startAnimation(a){const{drag:s,dragMomentum:n,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},h=jr(f=>{if(!yx(f,s,this.currentDirection))return;let g=m&&m[f]||{};c&&(g={min:0,max:0});const b=r?200:1e6,v=r?40:1e7,w={type:"inertia",velocity:n?a[f]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(f,w)});return Promise.all(h).then(u)}startAxisValueAnimation(a,s){const n=this.getAxisMotionValue(a);return j2(this.visualElement,a),n.start(jS(a,n,0,s,this.visualElement,!1))}stopAnimation(){jr(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){jr(a=>{var s;return(s=this.getAxisMotionValue(a).animation)==null?void 0:s.pause()})}getAnimationState(a){var s;return(s=this.getAxisMotionValue(a).animation)==null?void 0:s.state}getAxisMotionValue(a){const s=`_drag${a.toUpperCase()}`,n=this.visualElement.getProps(),r=n[s];return r||this.visualElement.getValue(a,(n.initial?n.initial[a]:void 0)||0)}snapToCursor(a){jr(s=>{const{drag:n}=this.getProps();if(!yx(s,n,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(s);if(r&&r.layout){const{min:c,max:u}=r.layout.layoutBox[s];l.set(a[s]-Na(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:a,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!nu(s)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};jr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const m=u.get();r[c]=KW({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),jr(c=>{if(!yx(c,a,null))return;const u=this.getAxisMotionValue(c),{min:m,max:h}=this.constraints[c];u.set(Na(m,h,r[c]))})}addListeners(){if(!this.visualElement.current)return;XW.set(this.visualElement,this);const a=this.visualElement.current,s=Uh(a,"pointerdown",m=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(m)}),n=()=>{const{dragConstraints:m}=this.getProps();nu(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ga.read(n);const c=df(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:h})=>{this.isDragging&&h&&(jr(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=m[f].translate,g.set(g.get()+m[f].translate))}),this.visualElement.render())}));return()=>{c(),s(),l(),u&&u()}}getProps(){const a=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=N2,dragMomentum:u=!0}=a;return{...a,drag:s,dragDirectionLock:n,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function yx(e,a,s){return(a===!0||a===e)&&(s===null||s===e)}function JW(e,a=10){let s=null;return Math.abs(e.y)>a?s="y":Math.abs(e.x)>a&&(s="x"),s}class QW extends So{constructor(a){super(a),this.removeGroupControls=Ar,this.removeListeners=Ar,this.controls=new ZW(a)}mount(){const{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const O6=e=>(a,s)=>{e&&ga.postRender(()=>e(a,s))};class eX extends So{constructor(){super(...arguments),this.removePointerDownListener=Ar}onPointerDown(a){this.session=new q8(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:H8(this.node)})}createPanHandlers(){const{onPanSessionStart:a,onPanStart:s,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:O6(a),onStart:O6(s),onMove:n,onEnd:(l,c)=>{delete this.session,r&&ga.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=Uh(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ap={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function P6(e,a){return a.max===a.min?0:e/(a.max-a.min)*100}const Wm={correct:(e,a)=>{if(!a.target)return e;if(typeof e=="string")if(yt.test(e))e=parseFloat(e);else return e;const s=P6(e,a.target.x),n=P6(e,a.target.y);return`${s}% ${n}%`}},tX={correct:(e,{treeScale:a,projectionDelta:s})=>{const n=e,r=go.parse(e);if(r.length>5)return n;const l=go.createTransformer(e),c=typeof r[0]!="number"?1:0,u=s.x.scale*a.x,m=s.y.scale*a.y;r[0+c]/=u,r[1+c]/=m;const h=Na(u,m,.5);return typeof r[2+c]=="number"&&(r[2+c]/=h),typeof r[3+c]=="number"&&(r[3+c]/=h),l(r)}};let j1=!1;class aX extends x.Component{componentDidMount(){const{visualElement:a,layoutGroup:s,switchLayoutGroup:n,layoutId:r}=this.props,{projection:l}=a;AY(sX),l&&(s.group&&s.group.add(l),n&&n.register&&r&&n.register(l),j1&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ap.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){const{layoutDependency:s,visualElement:n,drag:r,isPresent:l}=this.props,{projection:c}=n;return c&&(c.isPresent=l,j1=!0,r||a.layoutDependency!==s||s===void 0||a.isPresent!==l?c.willUpdate():this.safeToRemove(),a.isPresent!==l&&(l?c.promote():c.relegate()||ga.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),dS.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:a,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:r}=a;j1=!0,r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:a}=this.props;a&&a()}render(){return null}}function K8(e){const[a,s]=h8(),n=x.useContext(FN);return t.jsx(aX,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(_8),isPresent:a,safeToRemove:s})}const sX={borderRadius:{...Wm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wm,borderTopRightRadius:Wm,borderBottomLeftRadius:Wm,borderBottomRightRadius:Wm,boxShadow:tX};function Y8(e,a,s){const n=ws(e)?e:Oc(e);return n.start(jS("",n,a,s)),n.animation}const nX=(e,a)=>e.depth-a.depth;class rX{constructor(){this.children=[],this.isDirty=!1}add(a){qN(this.children,a),this.isDirty=!0}remove(a){qg(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(nX),this.isDirty=!1,this.children.forEach(a)}}function iX(e,a){const s=On.now(),n=({timestamp:r})=>{const l=r-s;l>=a&&(gl(n),e(l-a))};return ga.setup(n,!0),()=>gl(n)}const W8=["TopLeft","TopRight","BottomLeft","BottomRight"],lX=W8.length,M6=e=>typeof e=="string"?parseFloat(e):e,D6=e=>typeof e=="number"||yt.test(e);function oX(e,a,s,n,r,l){r?(e.opacity=Na(0,s.opacity??1,cX(n)),e.opacityExit=Na(a.opacity??1,0,dX(n))):l&&(e.opacity=Na(a.opacity??1,s.opacity??1,n));for(let c=0;c<lX;c++){const u=`border${W8[c]}Radius`;let m=L6(a,u),h=L6(s,u);if(m===void 0&&h===void 0)continue;m||(m=0),h||(h=0),m===0||h===0||D6(m)===D6(h)?(e[u]=Math.max(Na(M6(m),M6(h),n),0),(Ni.test(h)||Ni.test(m))&&(e[u]+="%")):e[u]=h}(a.rotate||s.rotate)&&(e.rotate=Na(a.rotate||0,s.rotate||0,n))}function L6(e,a){return e[a]!==void 0?e[a]:e.borderRadius}const cX=X8(0,.5,CD),dX=X8(.5,.95,Ar);function X8(e,a,s){return n=>n<e?0:n>a?1:s(Nu(e,a,n))}function R6(e,a){e.min=a.min,e.max=a.max}function hr(e,a){R6(e.x,a.x),R6(e.y,a.y)}function $6(e,a){e.translate=a.translate,e.scale=a.scale,e.originPoint=a.originPoint,e.origin=a.origin}function I6(e,a,s,n,r){return e-=a,e=Up(e,1/s,n),r!==void 0&&(e=Up(e,1/r,n)),e}function uX(e,a=0,s=1,n=.5,r,l=e,c=e){if(Ni.test(a)&&(a=parseFloat(a),a=Na(c.min,c.max,a/100)-c.min),typeof a!="number")return;let u=Na(l.min,l.max,n);e===l&&(u-=a),e.min=I6(e.min,a,s,u,r),e.max=I6(e.max,a,s,u,r)}function z6(e,a,[s,n,r],l,c){uX(e,a[s],a[n],a[r],a.scale,l,c)}const mX=["x","scaleX","originX"],hX=["y","scaleY","originY"];function B6(e,a,s,n){z6(e.x,a,mX,s?s.x:void 0,n?n.x:void 0),z6(e.y,a,hX,s?s.y:void 0,n?n.y:void 0)}function U6(e){return e.translate===0&&e.scale===1}function Z8(e){return U6(e.x)&&U6(e.y)}function F6(e,a){return e.min===a.min&&e.max===a.max}function fX(e,a){return F6(e.x,a.x)&&F6(e.y,a.y)}function V6(e,a){return Math.round(e.min)===Math.round(a.min)&&Math.round(e.max)===Math.round(a.max)}function J8(e,a){return V6(e.x,a.x)&&V6(e.y,a.y)}function H6(e){return fn(e.x)/fn(e.y)}function q6(e,a){return e.translate===a.translate&&e.scale===a.scale&&e.originPoint===a.originPoint}class xX{constructor(){this.members=[]}add(a){qN(this.members,a),a.scheduleRender()}remove(a){if(qg(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(a){const s=this.members.findIndex(r=>a===r);if(s===0)return!1;let n;for(let r=s;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(a,s){const n=this.lead;if(a!==n&&(this.prevLead=n,this.lead=a,a.show(),n)){n.instance&&n.scheduleRender(),a.scheduleRender(),a.resumeFrom=n,s&&(a.resumeFrom.preserveOpacity=!0),n.snapshot&&(a.snapshot=n.snapshot,a.snapshot.latestValues=n.animationValues||n.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);const{crossfade:r}=a.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(a=>{const{options:s,resumingFrom:n}=a;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pX(e,a,s){let n="";const r=e.x.translate/a.x,l=e.y.translate/a.y,c=(s==null?void 0:s.z)||0;if((r||l||c)&&(n=`translate3d(${r}px, ${l}px, ${c}px) `),(a.x!==1||a.y!==1)&&(n+=`scale(${1/a.x}, ${1/a.y}) `),s){const{transformPerspective:h,rotate:f,rotateX:g,rotateY:b,skewX:v,skewY:w}=s;h&&(n=`perspective(${h}px) ${n}`),f&&(n+=`rotate(${f}deg) `),g&&(n+=`rotateX(${g}deg) `),b&&(n+=`rotateY(${b}deg) `),v&&(n+=`skewX(${v}deg) `),w&&(n+=`skewY(${w}deg) `)}const u=e.x.scale*a.x,m=e.y.scale*a.y;return(u!==1||m!==1)&&(n+=`scale(${u}, ${m})`),n||"none"}const w1=["","X","Y","Z"],gX=1e3;let bX=0;function N1(e,a,s,n){const{latestValues:r}=a;r[e]&&(s[e]=r[e],a.setStaticValue(e,0),n&&(n[e]=0))}function Q8(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:a}=e.options;if(!a)return;const s=I8(a);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",ga,!(r||l))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Q8(n)}function eL({attachResizeListener:e,defaultParent:a,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(c={},u=a==null?void 0:a()){this.id=bX++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jX),this.nodes.forEach(_X),this.nodes.forEach(kX),this.nodes.forEach(wX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new rX)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new YN),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const m=this.eventHandlers.get(c);m&&m.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=mS(c)&&!m8(c),this.instance=c;const{layoutId:u,layout:m,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),e){let f,g=0;const b=()=>this.root.updateBlockedByResize=!1;ga.read(()=>{g=window.innerWidth}),e(c,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,f&&f(),f=iX(b,250),Ap.hasAnimatedSinceResize&&(Ap.hasAnimatedSinceResize=!1,this.nodes.forEach(Y6)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||m)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||OX,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=h.getProps(),k=!this.targetLayout||!J8(this.targetLayout,v),_=!g&&b;if(this.options.layoutRoot||this.resumeFrom||_||g&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...oS(w,"layout"),onPlay:j,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(f,_)}else g||Y6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CX),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(SX),this.nodes.forEach(vX),this.nodes.forEach(yX)):this.nodes.forEach(K6),this.clearAllSnapshots();const u=On.now();zs.delta=xl(0,1e3/60,u-zs.timestamp),zs.timestamp=u,zs.isProcessing=!0,u1.update.process(zs),u1.preRender.process(zs),u1.render.process(zs),zs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NX),this.sharedNodes.forEach(AX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ga.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ga.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const m=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Z8(this.projectionDelta),m=this.getTransformTemplate(),h=m?m(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;c&&this.instance&&(u||ic(this.latestValues)||f)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return c&&(m=this.removeTransform(m)),PX(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return Fa();const u=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(MX))){const{scroll:f}=this.root;f&&(ru(u.x,f.offset.x),ru(u.y,f.offset.y))}return u}removeElementScroll(c){var m;const u=Fa();if(hr(u,c),(m=this.scroll)!=null&&m.wasRoot)return u;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:g,options:b}=f;f!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&hr(u,c),ru(u.x,g.offset.x),ru(u.y,g.offset.y))}return u}applyTransform(c,u=!1){const m=Fa();hr(m,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&iu(m,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ic(f.latestValues)&&iu(m,f.latestValues)}return ic(this.latestValues)&&iu(m,this.latestValues),m}removeTransform(c){const u=Fa();hr(u,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];if(!h.instance||!ic(h.latestValues))continue;g2(h.latestValues)&&h.updateSnapshot();const f=Fa(),g=h.measurePageBox();hr(f,g),B6(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return ic(this.latestValues)&&B6(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=zs.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fa(),this.relativeTargetOrigin=Fa(),Vh(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fa(),this.targetWithTransforms=Fa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),E8(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fa(),this.relativeTargetOrigin=Fa(),Vh(this.relativeTargetOrigin,this.target,v.target),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||g2(this.parent.latestValues)||A8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===zs.timestamp&&(m=!1),m)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;hr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;aW(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Fa());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($6(this.prevProjectionDelta.x,this.projectionDelta.x),$6(this.prevProjectionDelta.y,this.projectionDelta.y)),Fh(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!q6(this.projectionDelta.x,this.prevProjectionDelta.x)||!q6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lu(),this.projectionDelta=lu(),this.projectionDeltaWithTransform=lu()}setAnimationOrigin(c,u=!1){const m=this.snapshot,h=m?m.latestValues:{},f={...this.latestValues},g=lu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Fa(),v=m?m.source:void 0,w=this.layout?this.layout.source:void 0,j=v!==w,S=this.getStack(),k=!S||S.members.length<=1,_=!!(j&&!k&&this.options.crossfade===!0&&!this.path.some(TX));this.animationProgress=0;let C;this.mixTargetDelta=T=>{const O=T/1e3;W6(g.x,c.x,O),W6(g.y,c.y,O),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vh(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EX(this.relativeTarget,this.relativeTargetOrigin,b,O),C&&fX(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Fa()),hr(C,this.relativeTarget)),j&&(this.animationValues=f,oX(f,h,this.latestValues,O,_,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,m,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(h=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||h.stop(),this.pendingAnimation&&(gl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ga.update(()=>{Ap.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oc(0)),this.currentAnimation=Y8(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:m,layout:h,latestValues:f}=c;if(!(!u||!m||!h)){if(this!==c&&this.layout&&h&&tL(this.options.animationType,this.layout.layoutBox,h.layoutBox)){m=this.target||Fa();const g=fn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+g;const b=fn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}hr(u,m),iu(u,f),Fh(this.projectionDeltaWithTransform,this.layoutCorrected,u,f)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new xX),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:m}={}){const h=this.getStack();h&&h.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const h={};m.z&&N1("z",c,h,this.animationValues);for(let f=0;f<w1.length;f++)N1(`rotate${w1[f]}`,c,h,this.animationValues),N1(`skew${w1[f]}`,c,h,this.animationValues);c.render();for(const f in h)c.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Cp(u==null?void 0:u.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Cp(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ic(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=pX(this.projectionDeltaWithTransform,this.treeScale,f);m&&(g=m(f,g)),c.transform=g;const{x:b,y:v}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in of){if(f[w]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:k}=of[w],_=g==="none"?f[w]:j(f[w],h);if(S){const C=S.length;for(let T=0;T<C;T++)c[S[T]]=_}else k?this.options.visualElement.renderState.vars[w]=_:c[w]=_}this.options.layoutId&&(c.pointerEvents=h===this?Cp(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(G6),this.root.sharedNodes.clear()}}}function vX(e){e.updateLayout()}function yX(e){var s;const a=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:l}=e.options,c=a.source!==e.layout.source;l==="size"?jr(g=>{const b=c?a.measuredBox[g]:a.layoutBox[g],v=fn(b);b.min=n[g].min,b.max=b.min+v}):tL(l,a.layoutBox,n)&&jr(g=>{const b=c?a.measuredBox[g]:a.layoutBox[g],v=fn(n[g]);b.max=b.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+v)});const u=lu();Fh(u,n,a.layoutBox);const m=lu();c?Fh(m,e.applyTransform(r,!0),a.measuredBox):Fh(m,n,a.layoutBox);const h=!Z8(u);let f=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:v}=g;if(b&&v){const w=Fa();Vh(w,a.layoutBox,b.layoutBox);const j=Fa();Vh(j,n,v.layoutBox),J8(w,j)||(f=!0),g.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=w,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:a,delta:m,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function jX(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wX(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function NX(e){e.clearSnapshot()}function G6(e){e.clearMeasurements()}function K6(e){e.isLayoutDirty=!1}function SX(e){const{visualElement:a}=e.options;a&&a.getProps().onBeforeLayoutMeasure&&a.notify("BeforeLayoutMeasure"),e.resetTransform()}function Y6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _X(e){e.resolveTargetDelta()}function kX(e){e.calcProjection()}function CX(e){e.resetSkewAndRotation()}function AX(e){e.removeLeadSnapshot()}function W6(e,a,s){e.translate=Na(a.translate,0,s),e.scale=Na(a.scale,1,s),e.origin=a.origin,e.originPoint=a.originPoint}function X6(e,a,s,n){e.min=Na(a.min,s.min,n),e.max=Na(a.max,s.max,n)}function EX(e,a,s,n){X6(e.x,a.x,s.x,n),X6(e.y,a.y,s.y,n)}function TX(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const OX={duration:.45,ease:[.4,0,.1,1]},Z6=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),J6=Z6("applewebkit/")&&!Z6("chrome/")?Math.round:Ar;function Q6(e){e.min=J6(e.min),e.max=J6(e.max)}function PX(e){Q6(e.x),Q6(e.y)}function tL(e,a,s){return e==="position"||e==="preserve-aspect"&&!zW(H6(a),H6(s),.2)}function MX(e){var a;return e!==e.root&&((a=e.scroll)==null?void 0:a.wasRoot)}const DX=eL({attachResizeListener:(e,a)=>df(e,"resize",a),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),S1={current:void 0},aL=eL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!S1.current){const e=new DX({});e.mount(window),e.setOptions({layoutScroll:!0}),S1.current=e}return S1.current},resetTransform:(e,a)=>{e.style.transform=a!==void 0?a:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LX={pan:{Feature:eX},drag:{Feature:QW,ProjectionNode:aL,MeasureLayout:K8}};function eA(e,a,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,l=n[r];l&&ga.postRender(()=>l(a,Lf(a)))}class RX extends So{mount(){const{current:a}=this.node;a&&(this.unmount=oY(a,(s,n)=>(eA(this.node,n,"Start"),r=>eA(this.node,r,"End"))))}unmount(){}}class $X extends So{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch{a=!0}!a||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pf(df(this.node.current,"focus",()=>this.onFocus()),df(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tA(e,a,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),l=n[r];l&&ga.postRender(()=>l(a,Lf(a)))}class IX extends So{mount(){const{current:a}=this.node;a&&(this.unmount=mY(a,(s,n)=>(tA(this.node,n,"Start"),(r,{success:l})=>tA(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const S2=new WeakMap,_1=new WeakMap,zX=e=>{const a=S2.get(e.target);a&&a(e)},BX=e=>{e.forEach(zX)};function UX({root:e,...a}){const s=e||document;_1.has(s)||_1.set(s,{});const n=_1.get(s),r=JSON.stringify(a);return n[r]||(n[r]=new IntersectionObserver(BX,{root:e,...a})),n[r]}function FX(e,a,s){const n=UX(a);return S2.set(e,s),n.observe(e),()=>{S2.delete(e),n.unobserve(e)}}const VX={some:0,all:1};class HX extends So{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:a={}}=this.node.getProps(),{root:s,margin:n,amount:r="some",once:l}=a,c={root:s?s.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:VX[r]},u=m=>{const{isIntersecting:h}=m;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),b=h?f:g;b&&b(m)};return FX(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:a,prevProps:s}=this.node;["amount","margin","root"].some(qX(a,s))&&this.startObserver()}unmount(){}}function qX({viewport:e={}},{viewport:a={}}={}){return s=>e[s]!==a[s]}const GX={inView:{Feature:HX},tap:{Feature:IX},focus:{Feature:$X},hover:{Feature:RX}},KX={layout:{ProjectionNode:aL,MeasureLayout:K8}},YX={...MW,...GX,...LX,...KX},he=QY(YX,oW);function bo(e){const a=Of(()=>Oc(e)),{isStatic:s}=x.useContext(Gg);if(s){const[,n]=x.useState(e);x.useEffect(()=>a.on("change",n),[])}return a}function sL(e,a){const s=bo(a()),n=()=>s.set(a());return n(),HN(()=>{const r=()=>ga.preRender(n,!1,!0),l=e.map(c=>c.on("change",r));return()=>{l.forEach(c=>c()),gl(n)}}),s}function WX(e){Bh.current=[],e();const a=sL(Bh.current,e);return Bh.current=void 0,a}function _u(e,a,s,n){if(typeof e=="function")return WX(e);const r=typeof a=="function"?a:hY(a,s,n);return Array.isArray(e)?aA(e,r):aA([e],([l])=>r(l))}function aA(e,a){const s=Of(()=>[]);return sL(e,()=>{s.length=0;const n=e.length;for(let r=0;r<n;r++)s[r]=e[r].get();return a(s)})}function NS(e){return typeof e=="object"&&!Array.isArray(e)}function nL(e,a,s,n){return typeof e=="string"&&NS(a)?i8(e,s,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function XX(e,a,s){return e*(a+1)}function sA(e,a,s,n){return typeof a=="number"?a:a.startsWith("-")||a.startsWith("+")?Math.max(0,e+parseFloat(a)):a==="<"?s:a.startsWith("<")?Math.max(0,s+parseFloat(a.slice(1))):n.get(a)??e}function ZX(e,a,s){for(let n=0;n<e.length;n++){const r=e[n];r.at>a&&r.at<s&&(qg(e,r),n--)}}function JX(e,a,s,n,r,l){ZX(e,r,l);for(let c=0;c<a.length;c++)e.push({value:a[c],at:Na(r,l,n[c]),easing:OD(s,c)})}function QX(e,a){for(let s=0;s<e.length;s++)e[s]=e[s]/(a+1)}function eZ(e,a){return e.at===a.at?e.value===null?1:a.value===null?-1:0:e.at-a.at}const tZ="easeInOut";function aZ(e,{defaultTransition:a={},...s}={},n,r){const l=a.duration||.3,c=new Map,u=new Map,m={},h=new Map;let f=0,g=0,b=0;for(let v=0;v<e.length;v++){const w=e[v];if(typeof w=="string"){h.set(w,g);continue}else if(!Array.isArray(w)){h.set(w.name,sA(g,w.at,f,h));continue}let[j,S,k={}]=w;k.at!==void 0&&(g=sA(g,k.at,f,h));let _=0;const C=(T,O,E,$=0,M=0)=>{const H=sZ(T),{delay:V=0,times:F=KD(H),type:B="keyframes",repeat:ee,repeatType:we,repeatDelay:ne=0,...A}=O;let{ease:U=a.ease||"easeOut",duration:K}=O;const z=typeof V=="function"?V($,M):V,I=H.length,D=lS(B)?B:r==null?void 0:r[B||"keyframes"];if(I<=2&&D){let le=100;if(I===2&&iZ(H)){const xe=H[1]-H[0];le=Math.abs(xe)}const be={...A};K!==void 0&&(be.duration=Xr(K));const Ue=VD(be,le,D);U=Ue.ease,K=Ue.duration}K??(K=l);const R=g+z;F.length===1&&F[0]===0&&(F[1]=1);const Z=F.length-H.length;if(Z>0&&GD(F,Z),H.length===1&&H.unshift(null),ee){K=XX(K,ee);const le=[...H],be=[...F];U=Array.isArray(U)?[...U]:[U];const Ue=[...U];for(let xe=0;xe<ee;xe++){H.push(...le);for(let ve=0;ve<le.length;ve++)F.push(be[ve]+(xe+1)),U.push(ve===0?"linear":OD(Ue,ve-1))}QX(F,ee)}const de=R+K;JX(E,H,U,F,R,de),_=Math.max(z+K,_),b=Math.max(de,b)};if(ws(j)){const T=nA(j,u);C(S,k,rA("default",T))}else{const T=nL(j,S,n,m),O=T.length;for(let E=0;E<O;E++){S=S,k=k;const $=T[E],M=nA($,u);for(const H in S)C(S[H],nZ(k,H),rA(H,M),E,O)}}f=g,g+=_}return u.forEach((v,w)=>{for(const j in v){const S=v[j];S.sort(eZ);const k=[],_=[],C=[];for(let O=0;O<S.length;O++){const{at:E,value:$,easing:M}=S[O];k.push($),_.push(Nu(0,b,E)),C.push(M||"easeOut")}_[0]!==0&&(_.unshift(0),k.unshift(k[0]),C.unshift(tZ)),_[_.length-1]!==1&&(_.push(1),k.push(null)),c.has(w)||c.set(w,{keyframes:{},transition:{}});const T=c.get(w);T.keyframes[j]=k,T.transition[j]={...a,duration:b,ease:C,times:_,...s}}}),c}function nA(e,a){return!a.has(e)&&a.set(e,{}),a.get(e)}function rA(e,a){return a[e]||(a[e]=[]),a[e]}function sZ(e){return Array.isArray(e)?e:[e]}function nZ(e,a){return e&&e[a]?{...e,...e[a]}:{...e}}const rZ=e=>typeof e=="number",iZ=e=>e.every(rZ);function lZ(e,a){return e in a}class oZ extends P8{constructor(){super(...arguments),this.type="object"}readValueFromInstance(a,s){if(lZ(s,a)){const n=a[s];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(a,s){delete s.output[a]}measureInstanceViewportBox(){return Fa()}build(a,s){Object.assign(a.output,s)}renderInstance(a,{output:s}){Object.assign(a,s)}sortInstanceNodePosition(){return 0}}function cZ(e){const a={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},s=mS(e)&&!m8(e)?new $8(a):new L8(a);s.mount(e),cf.set(e,s)}function dZ(e){const a={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},s=new oZ(a);s.mount(e),cf.set(e,s)}function uZ(e,a){return ws(e)||typeof e=="number"||typeof e=="string"&&!NS(a)}function rL(e,a,s,n){const r=[];if(uZ(e,a))r.push(Y8(e,NS(a)&&a.default||a,s&&(s.default||s)));else{const l=nL(e,a,n),c=l.length;for(let u=0;u<c;u++){const m=l[u],h=m instanceof Element?cZ:dZ;cf.has(m)||h(m);const f=cf.get(m),g={...s};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(u,c)),r.push(...wS(f,{...a,transition:g},{}))}}return r}function mZ(e,a,s){const n=[];return aZ(e,a,s,{spring:rf}).forEach(({keyframes:l,transition:c},u)=>{n.push(...rL(u,l,c))}),n}function hZ(e){return Array.isArray(e)&&e.some(Array.isArray)}function fZ(e){function a(s,n,r){let l=[],c;if(hZ(s))l=mZ(s,n,e);else{const{onComplete:m,...h}=r||{};typeof m=="function"&&(c=m),l=rL(s,n,h,e)}const u=new GK(l);return c&&u.finished.then(c),u}return a}const xZ=fZ(),pZ="http://13.60.203.103";function gZ({isOpen:e,onSuccess:a}){const[s,n]=x.useState(""),[r,l]=x.useState(""),[c,u]=x.useState(!1),[m,h]=x.useState(!1),[f,g]=x.useState(!0),[b,v]=x.useState(!1);if(!e)return null;const w=async j=>{if(j.preventDefault(),!s.trim()||!r.trim()){L.error("Please enter both Account SID and Auth Token.");return}const S=localStorage.getItem("token");if(!S){L.error("You must be logged in."),window.location.href="/login";return}v(!0);try{const k=await fetch(`${pZ}/api/twilio/credentials`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({account_sid:s.trim(),auth_token:r.trim(),validate:f})}),_=await k.json().catch(()=>({}));if(k.ok)L.success("Twilio credentials saved "),a==null||a();else{const C=(_==null?void 0:_.detail)||(_==null?void 0:_.message)||(typeof _=="string"?_:"Failed to save Twilio credentials.");L.error(C)}}catch{L.error("Network error. Please try again.")}finally{v(!1)}};return t.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm"}),t.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-50",children:t.jsx(Cr,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Connect Twilio"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Enter your Twilio Account SID and Auth Token to continue."})]})]}),t.jsxs("form",{onSubmit:w,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Account SID"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:c?"text":"password",autoComplete:"off",value:s,onChange:j=>n(j.target.value),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),t.jsx("button",{type:"button",onClick:()=>u(j=>!j),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":c?"Hide SID":"Show SID",children:c?t.jsx(yu,{className:"h-5 w-5"}):t.jsx(wa,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Auth Token"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:m?"text":"password",autoComplete:"off",value:r,onChange:j=>l(j.target.value),placeholder:"",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),t.jsx("button",{type:"button",onClick:()=>h(j=>!j),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":m?"Hide Token":"Show Token",children:m?t.jsx(yu,{className:"h-5 w-5"}):t.jsx(wa,{className:"h-5 w-5"})})]})]}),t.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-blue-600",checked:f,onChange:j=>g(j.target.checked)}),t.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]}),t.jsx("button",{type:"submit",disabled:b,className:"group relative flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 py-3 font-semibold text-white shadow-lg transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60",children:b?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Saving"]}):t.jsxs(t.Fragment,{children:["Save & Continue",t.jsx(mo,{className:"h-4 w-4 transition group-hover:translate-x-0.5"})]})}),t.jsx("p",{className:"text-xs text-slate-500",children:"We store your credentials on your user record and use them only to manage your Twilio numbers on your behalf."})]})]})]})}const iA="http://13.60.203.103";function bZ(){const[e,a]=x.useState(["","","",""]),[s,n]=x.useState(""),[r,l]=x.useState(!1),[c,u]=x.useState(0),[m,h]=x.useState(!1),f=[x.useRef(null),x.useRef(null),x.useRef(null),x.useRef(null)],g=ba();x.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("email");C&&n(decodeURIComponent(C)),setTimeout(()=>{var T;return(T=f[0].current)==null?void 0:T.focus()},50)},[]),x.useEffect(()=>{if(c>0){const _=setTimeout(()=>u(C=>C-1),1e3);return()=>clearTimeout(_)}},[c]);const b=(_,C)=>{var E;const T=C.replace(/\D/g,"");if(T.length>1)return;const O=[...e];O[_]=T,a(O),T&&_<3&&((E=f[_+1].current)==null||E.focus()),O.every($=>$!=="")&&O.join("").length===4&&j(O.join(""))},v=(_,C)=>{var T,O,E;C.key==="Backspace"&&!e[_]&&_>0&&((T=f[_-1].current)==null||T.focus()),C.key==="Enter"&&j(e.join("")),C.key==="ArrowLeft"&&_>0&&((O=f[_-1].current)==null||O.focus()),C.key==="ArrowRight"&&_<3&&((E=f[_+1].current)==null||E.focus())},w=_=>{var E,$;_.preventDefault();const C=_.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(!C)return;const T=["","","",""];for(let M=0;M<C.length;M++)T[M]=C[M];a(T);const O=T.findIndex(M=>M==="");O!==-1?(E=f[O].current)==null||E.focus():($=f[3].current)==null||$.focus(),T.every(M=>M!=="")&&j(T.join(""))},j=async(_=null)=>{var T,O,E;const C=_||e.join("");if(C.length!==4){L.error("Please enter all 4 digits");return}if(!s){L.error("Email is required for verification");return}l(!0);try{const $=await fetch(`${iA}/api/account-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:C,email:s})}),M=await $.json().catch(()=>({}));$.ok?(M.token&&localStorage.setItem("token",M.token),(T=M.user)!=null&&T.role&&localStorage.setItem("role",M.user.role),L.success("Account verified successfully! "),h(!0)):(L.error("Invalid OTP. Please try again."),a(["","","",""]),(O=f[0].current)==null||O.focus())}catch{L.error("Network error. Please check your connection and try again."),a(["","","",""]),(E=f[0].current)==null||E.focus()}finally{l(!1)}},S=async()=>{var _;if(!(c>0||!s)){l(!0);try{(await fetch(`${iA}/api/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})})).ok?(L.success("New verification code sent to your email."),u(60),a(["","","",""]),(_=f[0].current)==null||_.focus()):L.error("Failed to resend code. Please try again.")}catch{L.error("Network error. Please try again.")}finally{l(!1)}}},k="shadow-[0_0_30px_rgba(37,99,235,0.35)]";return t.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[t.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[t.jsx(he.div,{className:"absolute -top-40 -left-40 h-[32rem] w-[32rem] rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(closest-side, #93c5fd, transparent)"},animate:{y:[0,20,0],x:[0,12,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),t.jsx(he.div,{className:"absolute -bottom-48 -right-48 h-[36rem] w-[36rem] rounded-full blur-3xl opacity-70",style:{background:"radial-gradient(closest-side, #a5f3fc, transparent)"},animate:{y:[0,-16,0],x:[0,-10,0]},transition:{duration:9,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),t.jsx(he.div,{className:"absolute inset-0",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.12), rgba(6,182,212,0.12), rgba(59,130,246,0.12))"},animate:{rotate:360},transition:{duration:24,repeat:1/0,ease:"linear"},"aria-hidden":!0})]}),t.jsxs("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[t.jsx("div",{className:"flex justify-center",children:t.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},className:`relative h-16 w-16 rounded-2xl bg-white border border-blue-200/70 ${k} flex items-center justify-center`,children:[t.jsx(he.div,{className:"absolute inset-0 rounded-2xl",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.25), rgba(6,182,212,0.25), rgba(59,130,246,0.25))"},animate:{rotate:-360},transition:{duration:12,repeat:1/0,ease:"linear"},"aria-hidden":!0}),t.jsx("div",{className:"absolute inset-[3px] rounded-2xl bg-white"}),t.jsx(_s,{className:"relative w-7 h-7 text-blue-600"})]})}),t.jsx(he.h2,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-slate-900",children:"Verify your account"}),t.jsxs(he.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-2 text-center text-sm text-slate-600",children:["We sent a 4-digit code to",t.jsx("br",{}),t.jsx("span",{className:"font-medium text-blue-600",children:s||"your email"})]})]}),t.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:t.jsx(he.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:`bg-white/90 backdrop-blur-sm py-8 px-6 sm:px-10 border border-slate-200 rounded-2xl shadow-xl ${k}`,children:t.jsxs("form",{onSubmit:_=>{_.preventDefault(),j()},children:[t.jsx("label",{className:"mb-4 block text-center text-sm font-medium text-slate-700",children:"Enter verification code"}),t.jsx("div",{className:"mb-6 flex justify-center gap-3 sm:gap-4",children:e.map((_,C)=>t.jsx(he.input,{ref:f[C],type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:_,onFocus:T=>T.target.select(),onChange:T=>b(C,T.target.value),onKeyDown:T=>v(C,T),onPaste:w,"aria-label":`OTP digit ${C+1}`,disabled:r,className:`h-16 w-14 text-center text-2xl font-bold sm:h-18 sm:w-16 sm:text-3xl
                      rounded-xl border-2 bg-white/90 text-slate-900 placeholder-slate-400 outline-none transition
                      ${_?"border-blue-400":"border-slate-200 focus:border-blue-400"}
                      focus:ring-2 focus:ring-blue-300`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*C}},C))}),t.jsxs(he.button,{type:"submit",disabled:r||e.join("").length!==4,className:`group relative w-full overflow-hidden rounded-xl py-3 px-4 text-sm font-semibold text-white shadow-lg transition
                  ${r||e.join("").length!==4?"bg-blue-500/80":"bg-blue-600 hover:bg-blue-700"}
                  focus:outline-none focus:ring-2 focus:ring-blue-500`,whileTap:{scale:.98},children:[t.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-40",children:t.jsx("span",{className:"absolute -inset-12 h-[200%] w-2/3 -translate-x-[150%] rotate-12 bg-gradient-to-r from-transparent via-white/50 to-transparent transition-transform duration-700 group-hover:translate-x-[120%]"})}),r?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("span",{className:"mr-3 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Verifying"]}):t.jsxs("div",{className:"flex items-center justify-center",children:["Verify Account",t.jsx(Uu,{className:"ml-2 h-4 w-4 transition-transform duration-200 group-hover:translate-x-1"})]})]}),t.jsxs("div",{className:"mt-5 text-center",children:[t.jsx("p",{className:"mb-2 text-sm text-slate-600",children:"Didn't receive the code?"}),t.jsxs("button",{type:"button",onClick:S,disabled:c>0||r||!s,className:"inline-flex items-center text-sm font-medium text-blue-600 transition-colors hover:text-blue-700 disabled:cursor-not-allowed disabled:text-slate-400",children:[t.jsx(Ze,{className:"mr-1 h-4 w-4"}),c>0?`Resend in ${c}s`:"Resend Code"]})]})]})})})]}),t.jsx(gZ,{isOpen:m,onSuccess:()=>{h(!1),setTimeout(()=>g("/profile"),300)}})]})}function vZ(){const[e,a]=x.useState({email:"",password:""}),[s,n]=x.useState(!1),[r,l]=x.useState({}),[c,u]=x.useState(!1),m=ba(),h="http://13.60.203.103",f=v=>{const{name:w,value:j}=v.target;a(S=>({...S,[w]:j})),r[w]&&l(S=>({...S,[w]:""}))},g=()=>{const v={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(v.email="Please enter a valid email address"):v.email="Email is required",e.password?e.password.length<6&&(v.password="Password must be at least 6 characters"):v.password="Password is required",l(v),Object.keys(v).length===0},b=async v=>{var w,j,S;if(v.preventDefault(),!!g()){u(!0),l({});try{const k=await fetch(`${h}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),_=await k.json();if(k.ok)_.token&&localStorage.setItem("token",_.token),(w=_.user)!=null&&w.role&&localStorage.setItem("role",_.user.role),(j=_.user)!=null&&j.name&&localStorage.setItem("name",_.user.name),(S=_.user)!=null&&S.email&&localStorage.setItem("email",_.user.email),L.success("Login successful! "),setTimeout(()=>{var T,O,E;const C=((E=(O=(T=_.user)==null?void 0:T.role)==null?void 0:O.toLowerCase)==null?void 0:E.call(O))||"";m(C==="user"?"/user/dashboard":C==="admin"?"/admin/dashboard":"/dashboard")},1200);else{const C=_.message||_.detail||"Invalid email or password. Please try again.";L.error(C),l({submit:C})}}catch{const k="Network error. Please check your connection and try again.";L.error(k),l({submit:k})}finally{u(!1)}}};return t.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:t.jsx(jc,{className:"w-8 h-8 text-white"})})}),t.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),t.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",t.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign up here"})]})]}),t.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:t.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[r.submit&&t.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[t.jsx(mn,{className:"h-5 w-5 text-red-600 mr-3"}),t.jsx("p",{className:"text-sm text-red-700",children:r.submit})]}),t.jsxs("form",{className:"space-y-6",onSubmit:b,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(_s,{className:`h-5 w-5 transition-colors duration-200 ${e.email?"text-blue-500":"text-gray-400"}`})}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:f,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${r.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!r.email&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:t.jsx(Qw,{className:"h-5 w-5 text-green-500"})})]}),r.email&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(mn,{className:"h-4 w-4 mr-1"}),r.email]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ai,{className:`h-5 w-5 transition-colors duration-200 ${e.password?"text-blue-500":"text-gray-400"}`})}),t.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",value:e.password,onChange:f,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${r.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your password"}),t.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200 cursor-pointer",onClick:()=>n(!s),children:s?t.jsx(yu,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):t.jsx(wa,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),t.jsx("div",{className:"mt-2 flex justify-end",children:t.jsx("a",{href:"/forget_password",className:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Forgot password?"})}),r.password&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(mn,{className:"h-4 w-4 mr-1"}),r.password]})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 cursor-pointer",children:c?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Signing in..."]}):t.jsxs("div",{className:"flex items-center",children:["Sign in",t.jsx(Uu,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]}),t.jsx("div",{className:"mt-6",children:t.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200",children:[t.jsx("div",{className:"absolute -inset-x-10 -top-10 h-24 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),t.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[t.jsx("div",{className:"text-sm text-slate-600",children:"By signing in you agree to our"}),t.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[t.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms"}),t.jsx("span",{className:"text-slate-300",children:""}),t.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy"})]})]})]})})]})})]})}function yZ({length:e=4,value:a,onChange:s}){const n=x.useRef([]),r=m=>{const h=n.current[m];h&&h.focus()},l=(m,h)=>{const f=h.replace(/\D/g,"").slice(0,1),g=(a||"").split("");g[m]=f;const b=g.join("");s(b),f&&m<e-1&&r(m+1)},c=(m,h)=>{const f=(a||"")[m]||"";if(h.key==="Backspace"){if(!f&&m>0){h.preventDefault();const g=(a||"").split("");g[m-1]="",s(g.join("")),r(m-1)}}else h.key==="ArrowLeft"&&m>0?(h.preventDefault(),r(m-1)):h.key==="ArrowRight"&&m<e-1&&(h.preventDefault(),r(m+1))},u=m=>{m.preventDefault();const h=(m.clipboardData.getData("text")||"").replace(/\D/g,"");if(!h)return;const f=(a||"").split("");for(let b=0;b<e;b++)f[b]=h[b]||"";s(f.join(""));const g=Math.min(h.length,e)-1;r(g>=0?g:0)};return t.jsx("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:Array.from({length:e}).map((m,h)=>{const f=(a||"")[h]||"";return t.jsx("input",{ref:g=>n.current[h]=g,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:f,onChange:g=>l(h,g.target.value),onKeyDown:g=>c(h,g),onPaste:h===0?u:void 0,className:`w-11 h-11 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-semibold\r
                       rounded-2xl border bg-white/80 backdrop-blur\r
                       border-gray-200 shadow-sm hover:shadow transition-all\r
                       focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500\r
                       focus:shadow-[0_6px_24px_rgba(59,130,246,0.18)] focus:scale-105\r
                       caret-transparent select-none`,"aria-label":`OTP digit ${h+1}`},h)})})}function jZ(){const[e,a]=x.useState(1),[s,n]=x.useState(""),[r,l]=x.useState(""),[c,u]=x.useState(""),[m,h]=x.useState(!1),[f,g]=x.useState({}),[b,v]=x.useState(!1),w=ba(),j="http://13.60.203.103",S=()=>{const T={};return s.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||(T.email="Please enter a valid email address"):T.email="Email is required",g(T),Object.keys(T).length===0},k=()=>{const T={};return(!r||r.length!==4)&&(T.code="Enter the 4-digit OTP"),c.trim()?c.length<6&&(T.password="Password must be at least 6 characters"):T.password="Password is required",g(T),Object.keys(T).length===0},_=async T=>{if(T.preventDefault(),!!S()){v(!0);try{const O=await fetch(`${j}/api/password-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}),E=await O.json();O.ok?(L.success("Password reset OTP sent to your email! "),a(2)):L.error(E.detail||"Something went wrong.")}catch{L.error("Network error. Please try again.")}finally{v(!1)}}},C=async T=>{if(T.preventDefault(),!!k()){v(!0);try{const O=await fetch(`${j}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,code:r,password:c})}),E=await O.json();O.ok?(L.success("Password changed successfully! "),w("/user")):L.error(E.detail||"Failed to reset password.")}catch{L.error("Network error. Please try again.")}finally{v(!1)}}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:t.jsx(PH,{className:"w-8 h-8 text-white"})})}),t.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e===1?"Reset your password":"Enter OTP & New Password"}),e===2&&t.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Weve sent a 4-digit code to"," ",t.jsx("span",{className:"font-medium",children:s})]})]}),t.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:t.jsxs("div",{className:"bg-white/90 backdrop-blur py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&t.jsxs("form",{className:"space-y-6",onSubmit:_,children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),t.jsxs("div",{className:"relative",children:[t.jsx(_s,{className:`h-5 w-5 absolute left-3 top-3 ${s?"text-blue-500":"text-gray-400"}`}),t.jsx("input",{type:"email",value:s,onChange:T=>n(T.target.value),className:"pl-10 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter your email",autoComplete:"email",autoFocus:!0})]}),f.email&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(mn,{className:"h-4 w-4 mr-1"}),f.email]})]}),t.jsx("button",{type:"submit",disabled:b,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:b?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending"]}):t.jsxs("div",{className:"flex items-center",children:["Send OTP",t.jsx(Uu,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e===2&&t.jsxs("form",{className:"space-y-6",onSubmit:C,children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-baseline justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),t.jsx("span",{className:"text-xs text-gray-500",children:"4 digits"})]}),t.jsx(yZ,{length:4,value:r,onChange:l}),f.code&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(mn,{className:"h-4 w-4 mr-1"}),f.code]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(ai,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:m?"text":"password",value:c,onChange:T=>u(T.target.value),className:"pl-10 pr-12 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter new password",autoComplete:"new-password"}),t.jsx("button",{type:"button",onClick:()=>h(T=>!T),className:"absolute right-3 top-2.5 p-1.5 rounded-lg hover:bg-gray-100 text-gray-500","aria-label":m?"Hide password":"Show password",children:m?t.jsx(yu,{className:"h-5 w-5"}):t.jsx(wa,{className:"h-5 w-5"})})]}),f.password&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(mn,{className:"h-4 w-4 mr-1"}),f.password]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use at least 6 characters."})]}),t.jsx("button",{type:"submit",disabled:b||!(r.length===4&&c.length>=6),className:"w-full py-3 rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Resetting":"Reset Password"}),t.jsx("div",{className:"text-center",children:t.jsxs("button",{type:"button",onClick:()=>a(1),className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:[t.jsx(oD,{className:"mr-1 h-4 w-4"}),"Change email"]})})]}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["Remember your password?"," ",t.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in here"})]})})]})})]})}var _2=function(e,a){return _2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,n){s.__proto__=n}||function(s,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])},_2(e,a)};function wZ(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");_2(e,a);function s(){this.constructor=e}e.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}var vs=function(){return vs=Object.assign||function(a){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l])}return a},vs.apply(this,arguments)};var k1,lA;function NZ(){if(lA)return k1;lA=1;var e=!1,a,s,n,r,l,c,u,m,h,f,g,b,v,w,j;function S(){if(!e){e=!0;var _=navigator.userAgent,C=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(_),T=/(Mac OS X)|(Windows)|(Linux)/.exec(_);if(b=/\b(iPhone|iP[ao]d)/.exec(_),v=/\b(iP[ao]d)/.exec(_),f=/Android/i.exec(_),w=/FBAN\/\w+;/i.exec(_),j=/Mobile/i.exec(_),g=!!/Win64/.exec(_),C){a=C[1]?parseFloat(C[1]):C[5]?parseFloat(C[5]):NaN,a&&document&&document.documentMode&&(a=document.documentMode);var O=/(?:Trident\/(\d+.\d+))/.exec(_);c=O?parseFloat(O[1])+4:a,s=C[2]?parseFloat(C[2]):NaN,n=C[3]?parseFloat(C[3]):NaN,r=C[4]?parseFloat(C[4]):NaN,r?(C=/(?:Chrome\/(\d+\.\d+))/.exec(_),l=C&&C[1]?parseFloat(C[1]):NaN):l=NaN}else a=s=n=l=r=NaN;if(T){if(T[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(_);u=E?parseFloat(E[1].replace("_",".")):!0}else u=!1;m=!!T[2],h=!!T[3]}else u=m=h=!1}}var k={ie:function(){return S()||a},ieCompatibilityMode:function(){return S()||c>a},ie64:function(){return k.ie()&&g},firefox:function(){return S()||s},opera:function(){return S()||n},webkit:function(){return S()||r},safari:function(){return k.webkit()},chrome:function(){return S()||l},windows:function(){return S()||m},osx:function(){return S()||u},linux:function(){return S()||h},iphone:function(){return S()||b},mobile:function(){return S()||b||v||f||j},nativeApp:function(){return S()||w},android:function(){return S()||f},ipad:function(){return S()||v}};return k1=k,k1}var C1,oA;function SZ(){if(oA)return C1;oA=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),a={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return C1=a,C1}var A1,cA;function _Z(){if(cA)return A1;cA=1;var e=SZ(),a;e.canUseDOM&&(a=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function s(n,r){if(!e.canUseDOM||r&&!("addEventListener"in document))return!1;var l="on"+n,c=l in document;if(!c){var u=document.createElement("div");u.setAttribute(l,"return;"),c=typeof u[l]=="function"}return!c&&a&&n==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return A1=s,A1}var E1,dA;function kZ(){if(dA)return E1;dA=1;var e=NZ(),a=_Z(),s=10,n=40,r=800;function l(c){var u=0,m=0,h=0,f=0;return"detail"in c&&(m=c.detail),"wheelDelta"in c&&(m=-c.wheelDelta/120),"wheelDeltaY"in c&&(m=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(u=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(u=m,m=0),h=u*s,f=m*s,"deltaY"in c&&(f=c.deltaY),"deltaX"in c&&(h=c.deltaX),(h||f)&&c.deltaMode&&(c.deltaMode==1?(h*=n,f*=n):(h*=r,f*=r)),h&&!u&&(u=h<1?-1:1),f&&!m&&(m=f<1?-1:1),{spinX:u,spinY:m,pixelX:h,pixelY:f}}return l.getEventType=function(){return e.firefox()?"DOMMouseScroll":a("wheel")?"wheel":"mousewheel"},E1=l,E1}var T1,uA;function CZ(){return uA||(uA=1,T1=kZ()),T1}var AZ=CZ();const EZ=Ei(AZ);function TZ(e,a,s,n,r,l){l===void 0&&(l=0);var c=ku(e,a,l),u=c.width,m=c.height,h=Math.min(u,s),f=Math.min(m,n);return h>f*r?{width:f*r,height:f}:{width:h,height:h/r}}function OZ(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Xm(e,a,s,n,r){r===void 0&&(r=0);var l=ku(a.width,a.height,r),c=l.width,u=l.height;return{x:mA(e.x,c,s.width,n),y:mA(e.y,u,s.height,n)}}function mA(e,a,s,n){var r=a*n/2-s/2;return Xg(e,-r,r)}function hA(e,a){return Math.sqrt(Math.pow(e.y-a.y,2)+Math.pow(e.x-a.x,2))}function fA(e,a){return Math.atan2(a.y-e.y,a.x-e.x)*180/Math.PI}function PZ(e,a,s,n,r,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var u=c?MZ:DZ,m=ku(a.width,a.height,l),h=ku(a.naturalWidth,a.naturalHeight,l),f={x:u(100,((m.width-s.width/r)/2-e.x/r)/m.width*100),y:u(100,((m.height-s.height/r)/2-e.y/r)/m.height*100),width:u(100,s.width/m.width*100/r),height:u(100,s.height/m.height*100/r)},g=Math.round(u(h.width,f.width*h.width/100)),b=Math.round(u(h.height,f.height*h.height/100)),v=h.width>=h.height*n,w=v?{width:Math.round(b*n),height:b}:{width:g,height:Math.round(g/n)},j=vs(vs({},w),{x:Math.round(u(h.width-w.width,f.x*h.width/100)),y:Math.round(u(h.height-w.height,f.y*h.height/100))});return{croppedAreaPercentages:f,croppedAreaPixels:j}}function MZ(e,a){return Math.min(e,Math.max(0,a))}function DZ(e,a){return a}function LZ(e,a,s,n,r,l){var c=ku(a.width,a.height,s),u=Xg(n.width/c.width*(100/e.width),r,l),m={x:u*c.width/2-n.width/2-c.width*u*(e.x/100),y:u*c.height/2-n.height/2-c.height*u*(e.y/100)};return{crop:m,zoom:u}}function RZ(e,a,s){var n=OZ(a);return s.height>s.width?s.height/(e.height*n):s.width/(e.width*n)}function $Z(e,a,s,n,r,l){s===void 0&&(s=0);var c=ku(a.naturalWidth,a.naturalHeight,s),u=Xg(RZ(e,a,n),r,l),m=n.height>n.width?n.height/e.height:n.width/e.width,h={x:((c.width-e.width)/2-e.x)*m,y:((c.height-e.height)/2-e.y)*m};return{crop:h,zoom:u}}function xA(e,a){return{x:(a.x+e.x)/2,y:(a.y+e.y)/2}}function IZ(e){return e*Math.PI/180}function ku(e,a,s){var n=IZ(s);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*a),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*a)}}function Xg(e,a,s){return Math.min(Math.max(e,a),s)}function jx(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return e.filter(function(s){return typeof s=="string"&&s.length>0}).join(" ").trim()}var zZ=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,BZ=1,UZ=3,FZ=1,VZ=(function(e){wZ(a,e);function a(){var s=e!==null&&e.apply(this,arguments)||this;return s.cropperRef=x.createRef(),s.imageRef=x.createRef(),s.videoRef=x.createRef(),s.containerPosition={x:0,y:0},s.containerRef=null,s.styleRef=null,s.containerRect=null,s.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},s.dragStartPosition={x:0,y:0},s.dragStartCrop={x:0,y:0},s.gestureZoomStart=0,s.gestureRotationStart=0,s.isTouching=!1,s.lastPinchDistance=0,s.lastPinchRotation=0,s.rafDragTimeout=null,s.rafPinchTimeout=null,s.wheelTimer=null,s.currentDoc=typeof document<"u"?document:null,s.currentWindow=typeof window<"u"?window:null,s.resizeObserver=null,s.previousCropSize=null,s.isInitialized=!1,s.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},s.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!s.containerRef)){var n=!0;s.resizeObserver=new window.ResizeObserver(function(r){if(n){n=!1;return}s.computeSizes()}),s.resizeObserver.observe(s.containerRef)}},s.preventZoomSafari=function(n){return n.preventDefault()},s.cleanEvents=function(){s.currentDoc&&(s.currentDoc.removeEventListener("mousemove",s.onMouseMove),s.currentDoc.removeEventListener("mouseup",s.onDragStopped),s.currentDoc.removeEventListener("touchmove",s.onTouchMove),s.currentDoc.removeEventListener("touchend",s.onDragStopped),s.currentDoc.removeEventListener("gesturechange",s.onGestureChange),s.currentDoc.removeEventListener("gestureend",s.onGestureEnd),s.currentDoc.removeEventListener("scroll",s.onScroll))},s.clearScrollEvent=function(){s.containerRef&&s.containerRef.removeEventListener("wheel",s.onWheel),s.wheelTimer&&clearTimeout(s.wheelTimer)},s.onMediaLoad=function(){var n=s.computeSizes();n&&(s.previousCropSize=n,s.emitCropData(),s.setInitialCrop(n),s.isInitialized=!0),s.props.onMediaLoaded&&s.props.onMediaLoaded(s.mediaSize)},s.setInitialCrop=function(n){if(s.props.initialCroppedAreaPercentages){var r=LZ(s.props.initialCroppedAreaPercentages,s.mediaSize,s.props.rotation,n,s.props.minZoom,s.props.maxZoom),l=r.crop,c=r.zoom;s.props.onCropChange(l),s.props.onZoomChange&&s.props.onZoomChange(c)}else if(s.props.initialCroppedAreaPixels){var u=$Z(s.props.initialCroppedAreaPixels,s.mediaSize,s.props.rotation,n,s.props.minZoom,s.props.maxZoom),l=u.crop,c=u.zoom;s.props.onCropChange(l),s.props.onZoomChange&&s.props.onZoomChange(c)}},s.computeSizes=function(){var n,r,l,c,u,m,h=s.imageRef.current||s.videoRef.current;if(h&&s.containerRef){s.containerRect=s.containerRef.getBoundingClientRect(),s.saveContainerPosition();var f=s.containerRect.width/s.containerRect.height,g=((n=s.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=s.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,b=((l=s.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=s.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,v=h.offsetWidth<g||h.offsetHeight<b,w=g/b,j=void 0;if(v)switch(s.state.mediaObjectFit){default:case"contain":j=f>w?{width:s.containerRect.height*w,height:s.containerRect.height}:{width:s.containerRect.width,height:s.containerRect.width/w};break;case"horizontal-cover":j={width:s.containerRect.width,height:s.containerRect.width/w};break;case"vertical-cover":j={width:s.containerRect.height*w,height:s.containerRect.height};break}else j={width:h.offsetWidth,height:h.offsetHeight};s.mediaSize=vs(vs({},j),{naturalWidth:g,naturalHeight:b}),s.props.setMediaSize&&s.props.setMediaSize(s.mediaSize);var S=s.props.cropSize?s.props.cropSize:TZ(s.mediaSize.width,s.mediaSize.height,s.containerRect.width,s.containerRect.height,s.props.aspect,s.props.rotation);return(((u=s.state.cropSize)===null||u===void 0?void 0:u.height)!==S.height||((m=s.state.cropSize)===null||m===void 0?void 0:m.width)!==S.width)&&s.props.onCropSizeChange&&s.props.onCropSizeChange(S),s.setState({cropSize:S},s.recomputeCropPosition),s.props.setCropSize&&s.props.setCropSize(S),S}},s.saveContainerPosition=function(){if(s.containerRef){var n=s.containerRef.getBoundingClientRect();s.containerPosition={x:n.left,y:n.top}}},s.onMouseDown=function(n){s.currentDoc&&(n.preventDefault(),s.currentDoc.addEventListener("mousemove",s.onMouseMove),s.currentDoc.addEventListener("mouseup",s.onDragStopped),s.saveContainerPosition(),s.onDragStart(a.getMousePoint(n)))},s.onMouseMove=function(n){return s.onDrag(a.getMousePoint(n))},s.onScroll=function(n){s.currentDoc&&(n.preventDefault(),s.saveContainerPosition())},s.onTouchStart=function(n){s.currentDoc&&(s.isTouching=!0,!(s.props.onTouchRequest&&!s.props.onTouchRequest(n))&&(s.currentDoc.addEventListener("touchmove",s.onTouchMove,{passive:!1}),s.currentDoc.addEventListener("touchend",s.onDragStopped),s.saveContainerPosition(),n.touches.length===2?s.onPinchStart(n):n.touches.length===1&&s.onDragStart(a.getTouchPoint(n.touches[0]))))},s.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?s.onPinchMove(n):n.touches.length===1&&s.onDrag(a.getTouchPoint(n.touches[0]))},s.onGestureStart=function(n){s.currentDoc&&(n.preventDefault(),s.currentDoc.addEventListener("gesturechange",s.onGestureChange),s.currentDoc.addEventListener("gestureend",s.onGestureEnd),s.gestureZoomStart=s.props.zoom,s.gestureRotationStart=s.props.rotation)},s.onGestureChange=function(n){if(n.preventDefault(),!s.isTouching){var r=a.getMousePoint(n),l=s.gestureZoomStart-1+n.scale;if(s.setNewZoom(l,r,{shouldUpdatePosition:!0}),s.props.onRotationChange){var c=s.gestureRotationStart+n.rotation;s.props.onRotationChange(c)}}},s.onGestureEnd=function(n){s.cleanEvents()},s.onDragStart=function(n){var r,l,c=n.x,u=n.y;s.dragStartPosition={x:c,y:u},s.dragStartCrop=vs({},s.props.crop),(l=(r=s.props).onInteractionStart)===null||l===void 0||l.call(r)},s.onDrag=function(n){var r=n.x,l=n.y;s.currentWindow&&(s.rafDragTimeout&&s.currentWindow.cancelAnimationFrame(s.rafDragTimeout),s.rafDragTimeout=s.currentWindow.requestAnimationFrame(function(){if(s.state.cropSize&&!(r===void 0||l===void 0)){var c=r-s.dragStartPosition.x,u=l-s.dragStartPosition.y,m={x:s.dragStartCrop.x+c,y:s.dragStartCrop.y+u},h=s.props.restrictPosition?Xm(m,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):m;s.props.onCropChange(h)}}))},s.onDragStopped=function(){var n,r;s.isTouching=!1,s.cleanEvents(),s.emitCropData(),(r=(n=s.props).onInteractionEnd)===null||r===void 0||r.call(n)},s.onWheel=function(n){if(s.currentWindow&&!(s.props.onWheelRequest&&!s.props.onWheelRequest(n))){n.preventDefault();var r=a.getMousePoint(n),l=EZ(n).pixelY,c=s.props.zoom-l*s.props.zoomSpeed/200;s.setNewZoom(c,r,{shouldUpdatePosition:!0}),s.state.hasWheelJustStarted||s.setState({hasWheelJustStarted:!0},function(){var u,m;return(m=(u=s.props).onInteractionStart)===null||m===void 0?void 0:m.call(u)}),s.wheelTimer&&clearTimeout(s.wheelTimer),s.wheelTimer=s.currentWindow.setTimeout(function(){return s.setState({hasWheelJustStarted:!1},function(){var u,m;return(m=(u=s.props).onInteractionEnd)===null||m===void 0?void 0:m.call(u)})},250)}},s.getPointOnContainer=function(n,r){var l=n.x,c=n.y;if(!s.containerRect)throw new Error("The Cropper is not mounted");return{x:s.containerRect.width/2-(l-r.x),y:s.containerRect.height/2-(c-r.y)}},s.getPointOnMedia=function(n){var r=n.x,l=n.y,c=s.props,u=c.crop,m=c.zoom;return{x:(r+u.x)/m,y:(l+u.y)/m}},s.setNewZoom=function(n,r,l){var c=l===void 0?{}:l,u=c.shouldUpdatePosition,m=u===void 0?!0:u;if(!(!s.state.cropSize||!s.props.onZoomChange)){var h=Xg(n,s.props.minZoom,s.props.maxZoom);if(m){var f=s.getPointOnContainer(r,s.containerPosition),g=s.getPointOnMedia(f),b={x:g.x*h-f.x,y:g.y*h-f.y},v=s.props.restrictPosition?Xm(b,s.mediaSize,s.state.cropSize,h,s.props.rotation):b;s.props.onCropChange(v)}s.props.onZoomChange(h)}},s.getCropData=function(){if(!s.state.cropSize)return null;var n=s.props.restrictPosition?Xm(s.props.crop,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):s.props.crop;return PZ(n,s.mediaSize,s.state.cropSize,s.getAspect(),s.props.zoom,s.props.rotation,s.props.restrictPosition)},s.emitCropData=function(){var n=s.getCropData();if(n){var r=n.croppedAreaPercentages,l=n.croppedAreaPixels;s.props.onCropComplete&&s.props.onCropComplete(r,l),s.props.onCropAreaChange&&s.props.onCropAreaChange(r,l)}},s.emitCropAreaChange=function(){var n=s.getCropData();if(n){var r=n.croppedAreaPercentages,l=n.croppedAreaPixels;s.props.onCropAreaChange&&s.props.onCropAreaChange(r,l)}},s.recomputeCropPosition=function(){if(s.state.cropSize){var n=s.props.crop;if(s.isInitialized&&s.previousCropSize){var r=Math.abs(s.previousCropSize.width-s.state.cropSize.width)>1e-6||Math.abs(s.previousCropSize.height-s.state.cropSize.height)>1e-6;if(r){var l=s.state.cropSize.width/s.previousCropSize.width,c=s.state.cropSize.height/s.previousCropSize.height;n={x:s.props.crop.x*l,y:s.props.crop.y*c}}}var u=s.props.restrictPosition?Xm(n,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):n;s.previousCropSize=s.state.cropSize,s.props.onCropChange(u),s.emitCropData()}},s.onKeyDown=function(n){var r,l,c=s.props,u=c.crop,m=c.onCropChange,h=c.keyboardStep,f=c.zoom,g=c.rotation,b=h;if(s.state.cropSize){n.shiftKey&&(b*=.2);var v=vs({},u);switch(n.key){case"ArrowUp":v.y-=b,n.preventDefault();break;case"ArrowDown":v.y+=b,n.preventDefault();break;case"ArrowLeft":v.x-=b,n.preventDefault();break;case"ArrowRight":v.x+=b,n.preventDefault();break;default:return}s.props.restrictPosition&&(v=Xm(v,s.mediaSize,s.state.cropSize,f,g)),n.repeat||(l=(r=s.props).onInteractionStart)===null||l===void 0||l.call(r),m(v)}},s.onKeyUp=function(n){var r,l;switch(n.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault();break;default:return}s.emitCropData(),(l=(r=s.props).onInteractionEnd)===null||l===void 0||l.call(r)},s}return a.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=zZ,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},a.prototype.componentWillUnmount=function(){var s,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(s=this.resizeObserver)===null||s===void 0||s.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},a.prototype.componentDidUpdate=function(s){var n,r,l,c,u,m,h,f,g;s.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):s.aspect!==this.props.aspect?this.computeSizes():s.objectFit!==this.props.objectFit?this.computeSizes():s.zoom!==this.props.zoom?this.recomputeCropPosition():((n=s.cropSize)===null||n===void 0?void 0:n.height)!==((r=this.props.cropSize)===null||r===void 0?void 0:r.height)||((l=s.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((u=s.crop)===null||u===void 0?void 0:u.x)!==((m=this.props.crop)===null||m===void 0?void 0:m.x)||((h=s.crop)===null||h===void 0?void 0:h.y)!==((f=this.props.crop)===null||f===void 0?void 0:f.y))&&this.emitCropAreaChange(),s.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),s.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},a.prototype.getAspect=function(){var s=this.props,n=s.cropSize,r=s.aspect;return n?n.width/n.height:r},a.prototype.getObjectFit=function(){var s,n,r,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,m=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,h=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,f=m/h;return f<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},a.prototype.onPinchStart=function(s){var n=a.getTouchPoint(s.touches[0]),r=a.getTouchPoint(s.touches[1]);this.lastPinchDistance=hA(n,r),this.lastPinchRotation=fA(n,r),this.onDragStart(xA(n,r))},a.prototype.onPinchMove=function(s){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var r=a.getTouchPoint(s.touches[0]),l=a.getTouchPoint(s.touches[1]),c=xA(r,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=hA(r,l),m=n.props.zoom*(u/n.lastPinchDistance);n.setNewZoom(m,c,{shouldUpdatePosition:!1}),n.lastPinchDistance=u;var h=fA(r,l),f=n.props.rotation+(h-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(f),n.lastPinchRotation=h})}},a.prototype.render=function(){var s=this,n,r=this.props,l=r.image,c=r.video,u=r.mediaProps,m=r.cropperProps,h=r.transform,f=r.crop,g=f.x,b=f.y,v=r.rotation,w=r.zoom,j=r.cropShape,S=r.showGrid,k=r.roundCropAreaPixels,_=r.style,C=_.containerStyle,T=_.cropAreaStyle,O=_.mediaStyle,E=r.classes,$=E.containerClassName,M=E.cropAreaClassName,H=E.mediaClassName,V=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return x.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(B){return s.containerRef=B},"data-testid":"container",style:C,className:jx("reactEasyCrop_Container",$)},l?x.createElement("img",vs({alt:"",className:jx("reactEasyCrop_Image",V==="contain"&&"reactEasyCrop_Contain",V==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",V==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",H)},u,{src:l,ref:this.imageRef,style:vs(vs({},O),{transform:h||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(v,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):c&&x.createElement("video",vs({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:jx("reactEasyCrop_Video",V==="contain"&&"reactEasyCrop_Contain",V==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",V==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",H)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:vs(vs({},O),{transform:h||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(v,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(F){return x.createElement("source",vs({key:F.src},F))})),this.state.cropSize&&x.createElement("div",vs({ref:this.cropperRef,style:vs(vs({},T),{width:k?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:k?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:jx("reactEasyCrop_CropArea",j==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",M)},m)))},a.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:UZ,minZoom:BZ,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:FZ},a.getMousePoint=function(s){return{x:Number(s.clientX),y:Number(s.clientY)}},a.getTouchPoint=function(s){return{x:Number(s.clientX),y:Number(s.clientY)}},a})(x.Component);const HZ="http://13.60.203.103".replace(/\/+$/,""),qZ=`${HZ}/api`,pA=["image/png","image/jpeg","image/webp"],GZ=5*1024*1024;function Zm(...e){return e.filter(Boolean).join(" ")}async function KZ(e,a,s=0){const r=await(k=>new Promise((_,C)=>{const T=new Image;T.onload=()=>_(T),T.onerror=O=>C(O),T.crossOrigin="anonymous",T.src=k}))(e),l=s*Math.PI/180,c=r.naturalWidth||r.width,u=r.naturalHeight||r.height,m=document.createElement("canvas"),h=m.getContext("2d"),f=Math.abs(Math.sin(l)),g=Math.abs(Math.cos(l)),b=Math.floor(c*g+u*f),v=Math.floor(c*f+u*g);m.width=b,m.height=v,h.translate(b/2,v/2),h.rotate(l),h.drawImage(r,-c/2,-u/2);const w=h.getImageData(Math.round(a.x),Math.round(a.y),Math.round(a.width),Math.round(a.height)),j=document.createElement("canvas");return j.width=Math.round(a.width),j.height=Math.round(a.height),j.getContext("2d").putImageData(w,0,0),new Promise((k,_)=>{j.toBlob(C=>{if(!C)return _(new Error("Failed to create image blob"));k(C)},"image/jpeg",.92)})}function YZ(){const e=ba(),[a,s]=x.useState(null),[n,r]=x.useState(null),[l,c]=x.useState(null),[u,m]=x.useState({init:!0,saving:!1,delete:!1,refresh:!1}),[h,f]=x.useState({name:"",email:"",role:""}),[g,b]=x.useState(!1),[v,w]=x.useState({x:0,y:0}),[j,S]=x.useState(1),[k,_]=x.useState(0),[C,T]=x.useState(null),[O,E]=x.useState(!1),[$,M]=x.useState(!1),[H,V]=x.useState(!1),[F,B]=x.useState(!1),[ee,we]=x.useState(!1),[ne,A]=x.useState(""),[U,K]=x.useState(!1),[z,I]=x.useState(!1),D=x.useRef(null),R=()=>localStorage.getItem("token")||"",Z=()=>R()?{Authorization:`Bearer ${R()}`}:{},de=()=>R()?!0:(L.error("Authentication required. Please login again."),e("/login"),!1),le=async(ye,Be={},{expectJson:_e=!0}={})=>{var Se;const te=`${qZ}${ye.startsWith("/")?ye:`/${ye}`}`,Y=await fetch(te,Be);if(Y.status===401||Y.status===403){const me=await Y.text().catch(()=>"");throw new Error(me||"Unauthorized")}if(!Y.ok){let me="";try{me=((Se=await Y.json())==null?void 0:Se.detail)||""}catch{}throw new Error(`HTTP ${Y.status}${me?`: ${me}`:""}`)}return _e?Y.json():Y},be=x.useMemo(()=>((h==null?void 0:h.name)||localStorage.getItem("name")||"User").trim().split(" ").map(Be=>Be[0]).join("").slice(0,2).toUpperCase(),[h==null?void 0:h.name]),Ue=x.useCallback(()=>{const ye=((h==null?void 0:h.role)||localStorage.getItem("role")||"").toLowerCase();return ye==="user"?e("/user/dashboard",{replace:!0}):ye==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})},[e,h==null?void 0:h.role]);x.useEffect(()=>{if(g||H){const ye=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=ye}}},[g,H]);const xe=async()=>{var ye,Be,_e,te;if(de())try{const Y=await le("/user-info",{headers:{...Z(),Accept:"application/json"}}),Se=((ye=Y==null?void 0:Y.data)==null?void 0:ye.email)||"",me=((Be=Y==null?void 0:Y.data)==null?void 0:Be.name)||"",X=(((_e=Y==null?void 0:Y.data)==null?void 0:_e.role)||"").toLowerCase();f({name:me,email:Se,role:X});const Te=((te=Y==null?void 0:Y.data)==null?void 0:te.profile_photo_url)||null,He=Te?Te+(Te.includes("?")?"&":"?")+"t="+Date.now():null;s(He),He&&!n&&r(He),X==="user"&&await ve()}catch(Y){L.error(Y.message||"Could not load profile info")}},ve=async()=>{try{const ye=await le("/consent",{headers:{...Z(),Accept:"application/json"}}),Be=!!(ye!=null&&ye.needs_action),_e=!!(ye!=null&&ye.has_consent);I(Be),K(!Be),we(_e),A((ye==null?void 0:ye.note)||""),Be&&V(!0)}catch{I(!0),K(!1),we(!1),A(""),V(!0)}};x.useEffect(()=>((async()=>(m(ye=>({...ye,init:!0})),await xe(),m(ye=>({...ye,init:!1}))))(),()=>{n&&n.startsWith("blob:")&&URL.revokeObjectURL(n)}),[]);const Ie=ye=>{if(!ye)return;if(!pA.includes(ye.type)){L.error("Only PNG, JPEG or WEBP images are allowed.");return}if(ye.size>GZ){L.error("Image too large. Max allowed is 5 MB.");return}n&&n.startsWith("blob:")&&URL.revokeObjectURL(n),c(ye);const Be=URL.createObjectURL(ye);r(Be),b(!1)},Ye=ye=>{var _e;const Be=(_e=ye.target.files)==null?void 0:_e[0];Ie(Be)},ke=ye=>{var _e;ye.preventDefault(),ye.stopPropagation();const Be=(_e=ye.dataTransfer.files)==null?void 0:_e[0];Ie(Be)},Je=ye=>{ye.preventDefault(),ye.stopPropagation()},Xe=x.useCallback((ye,Be)=>{T(Be),E(!0)},[]),ue=async()=>{try{const ye=n||a;if(!ye){L.info("Choose an image first.");return}if(!O||!C){L.info("Adjust the crop a tiny bit, then save.");return}m(Te=>({...Te,saving:!0}));const Be=await KZ(ye,C,k),_e=URL.createObjectURL(Be);n&&n.startsWith("blob:")&&URL.revokeObjectURL(n),r(_e);const te=new FormData,Y=`avatar_${Date.now()}.jpg`;te.append("file",Be,Y);const Se=await le("/profile-photo",{method:"POST",headers:{...Z()},body:te}),me=Se==null?void 0:Se.photo_url,X=me?me+(me.includes("?")?"&":"?")+"t="+Date.now():null;s(X),b(!1),c(null),E(!1),M(!0),setTimeout(()=>M(!1),1400),L.success("Profile photo saved!")}catch(ye){L.error(ye.message||"Could not save the cropped photo")}finally{m(ye=>({...ye,saving:!1}))}},ie=async()=>{if(!a){L.info("No profile photo to delete.");return}try{m(ye=>({...ye,delete:!0})),await le("/profile-photo",{method:"DELETE",headers:{...Z(),Accept:"application/json"}}),n&&n.startsWith("blob:")&&URL.revokeObjectURL(n),s(null),r(null),c(null),L.success("Profile photo deleted.")}catch(ye){L.error(ye.message||"Delete error")}finally{m(ye=>({...ye,delete:!1}))}},De=async()=>{m(ye=>({...ye,refresh:!0})),await xe(),m(ye=>({...ye,refresh:!1}))},G=async()=>{if(!ee){L.error("Please confirm you have consent to call these leads.");return}try{B(!0);const ye=await le("/consent",{method:"POST",headers:{...Z(),"Content-Type":"application/json"},body:JSON.stringify({has_consent:!0,note:ne||null})}),Be=!!(ye!=null&&ye.needs_action);I(Be),K(!Be),Be?V(!0):(V(!1),L.success("Consent saved. You can now continue."))}catch(ye){L.error(ye.message||"Failed to save consent")}finally{B(!1)}},ce=(ye=!1)=>{if(((h==null?void 0:h.role)||"").toLowerCase()==="user"&&!ye&&(!U||z)){V(!0),L.info("Please confirm consent to call leads to continue.");return}const _e=((h==null?void 0:h.email)||"").toLowerCase();_e&&localStorage.setItem(`profileComplete:${_e}`,"1"),Ue()},$e={hidden:{opacity:0},show:{opacity:1},exit:{opacity:0}},qe={hidden:{opacity:0,y:16,scale:.98},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:22}},exit:{opacity:0,y:16,scale:.98}};return t.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-white relative",children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-44",style:{background:"linear-gradient(180deg, rgba(59,130,246,0.18) 0%, rgba(255,255,255,0) 100%)"}}),t.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 tracking-tight",children:"Profile Photo"}),t.jsx("p",{className:"text-slate-500",children:"Click the ring to upload/replace. Use the Crop button to fine-tune your avatar."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:De,disabled:u.refresh||u.init,className:Zm("inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border transition","border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-50"),children:[u.refresh?t.jsx(Ma,{className:"h-4 w-4 animate-spin"}):t.jsx(gq,{className:"h-4 w-4"}),"Refresh"]}),t.jsxs("button",{onClick:()=>ce(!1),className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 shadow-sm",children:[t.jsx(cu,{className:"h-4 w-4"}),"Confirm"]}),t.jsxs("button",{onClick:()=>ce(!1),className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[t.jsx(Lq,{className:"h-4 w-4"}),"Skip for now"]})]})]}),t.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 backdrop-blur-sm shadow-[0_8px_30px_rgb(0,0,0,0.06)] p-6 md:p-8",children:t.jsxs("div",{className:"relative flex flex-col items-center",children:[t.jsx("div",{className:"pointer-events-none absolute -top-6 h-24 w-48 rounded-full blur-2xl opacity-50",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(59,130,246,0.25) 0%, rgba(34,211,238,0.18) 60%, transparent 100%)"}}),t.jsxs("div",{className:Zm("group relative h-40 w-40 rounded-full p-[3px] cursor-pointer select-none transition-transform duration-200",$?"animate-pulse":"hover:scale-[1.02]"),onClick:()=>{var ye;return(ye=D.current)==null?void 0:ye.click()},onDrop:ke,onDragOver:Je,style:{background:"conic-gradient(rgba(59,130,246,0.9), rgba(34,211,238,0.9), rgba(59,130,246,0.9))"},title:"Click to upload/replace",children:[t.jsx("div",{className:"rounded-full h-full w-full bg-white grid place-items-center",children:t.jsxs("div",{className:"relative rounded-full h-[148px] w-[148px] overflow-hidden ring-2 ring-blue-500/30 shadow-md bg-slate-50 flex items-center justify-center",children:[u.init?t.jsx(Ma,{className:"h-6 w-6 animate-spin text-slate-400"}):n||a?t.jsx("img",{src:(n||a)??"",alt:"Profile",className:"h-full w-full object-cover",onError:()=>{s(null),n&&n.startsWith("blob:")&&URL.revokeObjectURL(n),r(null)}}):t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx(BN,{className:"h-10 w-10 text-slate-400"}),t.jsx("span",{className:"mt-1 text-sm font-semibold text-slate-600",children:be})]}),t.jsxs("div",{className:"absolute inset-0 bg-black/35 opacity-0 group-hover:opacity-100 transition-opacity grid place-items-center",children:[t.jsx("div",{className:"rounded-full bg-white/90 p-2 shadow-md",children:t.jsx(jV,{className:"h-5 w-5 text-blue-600"})}),t.jsx("span",{className:"absolute bottom-2 text-xs text-white/90",children:"Change photo"})]})]})}),t.jsx("input",{ref:D,type:"file",accept:pA.join(","),className:"hidden",onChange:Ye})]}),t.jsxs("div",{className:"mt-3 bg-white border border-slate-200 px-2 py-1 rounded-full text-[11px] text-slate-600 shadow-sm flex items-center gap-1",children:[t.jsx(ra,{className:"h-3.5 w-3.5 text-emerald-500"}),a?"Photo set":"No photo yet"]}),t.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>{if(!n&&!a){L.info("Select or upload an image first.");return}_(0),S(1),E(!1),b(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold text-white transition shadow-sm bg-blue-600 hover:bg-blue-700",children:[t.jsx(MC,{className:"h-4 w-4"}),"Crop"]}),t.jsx("button",{type:"button",onClick:ie,disabled:u.delete||!a,className:Zm("inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold border transition",a?"border-rose-200 text-rose-600 hover:bg-rose-50":"border-slate-200 text-slate-400 cursor-not-allowed"),children:u.delete?t.jsxs(t.Fragment,{children:[t.jsx(Ma,{className:"h-4 w-4 animate-spin"})," Deleting"]}):t.jsxs(t.Fragment,{children:[t.jsx(ka,{className:"h-4 w-4"})," Delete Photo"]})})]})]})})]}),t.jsx(jt,{children:g&&(n||a)&&t.jsxs(he.div,{className:"fixed inset-0 z-[10000] flex items-center justify-center",initial:"hidden",animate:"show",exit:"exit",children:[t.jsx(he.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",variants:$e,onClick:()=>b(!1)}),t.jsxs(he.div,{variants:qe,className:"relative z-[10001] w-full max-w-lg mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(MC,{className:"h-4 w-4 text-blue-600"}),t.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Crop your photo"})]}),t.jsx("button",{onClick:()=>b(!1),className:"p-1 rounded-md hover:bg-slate-100",children:t.jsx(js,{className:"h-4 w-4 text-slate-500"})})]}),t.jsxs("div",{className:"bg-slate-900",children:[t.jsx("div",{className:"relative h-[360px] overflow-hidden",children:t.jsx(VZ,{image:(n||a)??"",crop:v,zoom:j,rotation:k,aspect:1,cropShape:"round",showGrid:!1,objectFit:"contain",onCropChange:w,onRotationChange:_,onZoomChange:S,onCropComplete:Xe})}),t.jsxs("div",{className:"relative border-t border-white/10 bg-slate-900/70 p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-xs text-white/80 w-16",children:"Zoom"}),t.jsx("input",{type:"range",min:1,max:3,step:.01,value:j,onChange:ye=>S(parseFloat(ye.target.value)),className:"w-full accent-blue-500"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-xs text-white/80 w-16",children:"Rotate"}),t.jsx("input",{type:"range",min:-180,max:180,step:1,value:k,onChange:ye=>_(parseFloat(ye.target.value)),className:"w-full accent-blue-500"}),t.jsxs("button",{type:"button",onClick:()=>_(0),className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs text-white bg-white/10 hover:bg-white/20",children:[t.jsx(Nq,{className:"h-3.5 w-3.5"}),"Reset"]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 bg-white",children:[t.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Cancel"}),t.jsx("button",{type:"button",onClick:ue,disabled:u.saving||!O,className:Zm("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",O?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:u.saving?t.jsxs(t.Fragment,{children:[t.jsx(Ma,{className:"h-4 w-4 animate-spin"})," Saving"]}):t.jsxs(t.Fragment,{children:[t.jsx(cu,{className:"h-4 w-4"})," Crop & Save"]})})]})]})]})}),t.jsx(jt,{children:H&&((h==null?void 0:h.role)||"").toLowerCase()==="user"&&t.jsxs(he.div,{className:"fixed inset-0 z-[10000] flex items-center justify-center",initial:"hidden",animate:"show",exit:"exit",children:[t.jsx(he.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",variants:$e}),t.jsxs(he.div,{variants:qe,className:"relative z-[10001] w-full max-w-xl mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",role:"dialog","aria-modal":"true","aria-labelledby":"consent-title",children:[t.jsx("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fl,{className:"h-5 w-5 text-blue-600"}),t.jsx("h3",{id:"consent-title",className:"text-sm sm:text-base font-extrabold text-slate-900",children:"Consent to Call Confirmation"})]})}),t.jsxs("div",{className:"px-5 pt-4 pb-3",children:[t.jsx("p",{className:"text-sm text-slate-700",children:"To proceed, please confirm you have consent to call the leads you upload/connect. This helps us comply with communication laws and platform policies."}),t.jsxs("label",{className:"mt-4 flex items-start gap-3 rounded-xl border border-slate-200 p-3 bg-slate-50",children:[t.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 accent-blue-600",checked:ee,onChange:ye=>we(ye.target.checked)}),t.jsx("span",{className:"text-sm text-slate-800",children:"I confirm that I have valid consent to contact these leads using the phone numbers provided."})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500",children:"Optional Note"}),t.jsx("textarea",{rows:3,value:ne,onChange:ye=>A(ye.target.value),placeholder:"Describe how consent was obtained (e.g., web form opt-in, CRM tag, import source)",className:"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),!ee&&t.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-[13px] text-amber-700 bg-amber-50 border border-amber-200 px-2.5 py-1.5 rounded-lg",children:[t.jsx(mn,{className:"h-4 w-4"}),"Please check the box to continue to your dashboard."]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 border-t border-slate-200 bg-white",children:[t.jsx("button",{type:"button",onClick:()=>{},className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-400 cursor-not-allowed",title:"Consent required to continue",children:"Close"}),t.jsx("button",{type:"button",onClick:G,disabled:F||!ee,className:Zm("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",ee?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:F?t.jsxs(t.Fragment,{children:[t.jsx(Ma,{className:"h-4 w-4 animate-spin"})," Saving"]}):t.jsxs(t.Fragment,{children:[t.jsx(cu,{className:"h-4 w-4"})," Save & Continue"]})})]})]})]})})]})}function WZ(...e){return e.filter(Boolean).join(" ")}const gA="http://13.60.203.103";function XZ({onClick:e}){const a=s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),e==null||e())};return t.jsxs("button",{type:"button",onClick:e,onKeyDown:a,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[t.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),t.jsxs(he.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),t.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),t.jsxs("filter",{id:"glow",children:[t.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsx(he.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),t.jsx(he.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),t.jsx(he.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function SS({className:e="",onMenuToggle:a,profilePath:s="/user/settings"}){const[n,r]=x.useState(""),[l,c]=x.useState(null),[u,m]=x.useState(!1),h=ba();x.useEffect(()=>{r(localStorage.getItem("name")||"User")},[]),x.useEffect(()=>{const v=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${gA}/api/profile-photo`,{headers:v?{Authorization:`Bearer ${v}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){m(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${gA}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),m(!1)}else m(!0)}catch{m(!0)}}return j(),()=>w.abort()},[]);const f=v=>v.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),g=({size:v=40})=>{const w=v;return t.jsxs("button",{type:"button",onClick:()=>h(s),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[t.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!u?t.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>m(!1),onError:()=>m(!0)}):t.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:f(n)})}),t.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),t.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},b=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof a=="function"&&a()};return t.jsxs("header",{className:WZ("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[t.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:t.jsxs("div",{className:"flex items-center justify-between h-full",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[t.jsx(XZ,{onClick:b}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"hidden lg:block",children:[t.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),t.jsxs("div",{className:"relative",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Convert interest into booked meetings  automatically"}),t.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),t.jsxs("div",{className:"hidden sm:block lg:hidden",children:[t.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),t.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Smart lead capture & scheduling"})]}),t.jsxs("div",{className:"sm:hidden relative",children:[t.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),t.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[t.jsxs(he.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[t.jsx("div",{className:"relative",children:t.jsx(g,{size:40})}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome back!"}),t.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:n})]})]}),t.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[t.jsx(g,{size:32}),t.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:n})]}),t.jsx("div",{className:"sm:hidden",children:t.jsx(g,{size:36})}),t.jsxs(he.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[t.jsx($p,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),t.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),t.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function ZZ(){return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[t.jsx(SS,{}),t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",children:t.jsx("div",{className:"h-16 sm:h-20 md:h-24 lg:h-28 bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600"})}),t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-2 pb-3",children:t.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 border border-white/15 grid place-content-center backdrop-blur-sm",children:t.jsx(Cr,{className:"w-6 h-6"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900",children:"Privacy Policy"}),t.jsxs("p",{className:"text-sm sm:text-base text-slate-700",children:["Effective date: ",new Date().toLocaleDateString()]})]})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/60 to-transparent"})]}),t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 sm:p-8",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(Yr,{className:"w-5 h-5 text-blue-600"})}),t.jsx("div",{className:"min-w-0",children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our SaaS-based AI calling assistant platform. The platform enables users to upload CSV files of leads, configure AI assistants for outbound and inbound calls, and automate reminders to help generate qualified leads, book appointments, and drive sales outcomes. By using the platform, you agree to the practices described here."})})]})}),t.jsxs(Ir,{title:"Information We Collect",icon:ho,children:[t.jsx(zr,{title:"Account and Profile",children:"- Name, email, and authentication tokens necessary to create and secure your account."}),t.jsx(zr,{title:"Lead and Contact Data",children:"- Lead details uploaded via CSV (e.g., name, phone number, email, consent flags, timezone)."}),t.jsx(zr,{title:"Communication Records",children:"- AI call logs, recordings (if enabled), call outcomes, SMS/email reminder history, and scheduling activity."}),t.jsx(zr,{title:"Usage and Device Data",children:"- IP address, browser type, device identifiers, and product usage metrics to improve reliability and performance."})]}),t.jsx(Ir,{title:"How We Use Your Information",icon:ra,children:t.jsxs(O1,{children:[t.jsx("li",{children:"Provide and operate the AI calling, texting, scheduling, and reminder features you configure."}),t.jsx("li",{children:"Maintain compliance settings, including consent flags, DNC suppression, opt-out handling, and legal calling hours per timezone."}),t.jsx("li",{children:"Deliver usage analytics, call/text/booking history, and reporting for your account."}),t.jsx("li",{children:"Integrate with calendars and supported CRMs to sync leads, calls, and appointments as requested by you."}),t.jsx("li",{children:"Monitor platform reliability, rate-limit traffic, and prevent telecom carrier flagging."}),t.jsx("li",{children:"Communicate product updates, security notices, and critical service alerts."})]})}),t.jsxs(Ir,{title:"Legal Bases for Processing",icon:wi,children:[t.jsx(zr,{title:"Consent",children:"Where you provide consent (e.g., uploading leads with consent flags, enabling recordings)."}),t.jsx(zr,{title:"Contract",children:"To deliver the services under our Terms of Service."}),t.jsx(zr,{title:"Legitimate Interests",children:"To secure, maintain, and improve the platform."}),t.jsx(zr,{title:"Compliance with Laws",children:"To meet telecom, privacy, and consumer protection obligations."})]}),t.jsxs(Ir,{title:"How We Share Information",icon:iG,children:[t.jsx(zr,{title:"Service Providers",children:"Telecom, email, and SMS providers; hosting and analytics vendors who support platform operation."}),t.jsx(zr,{title:"CRM Integrations",children:"At your direction, we sync lead and appointment data to supported CRMs."}),t.jsx(zr,{title:"Legal and Safety",children:"We may disclose information to comply with law, enforce our terms, or protect rights, safety, and security."}),t.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"We do not sell your personal information."})]}),t.jsx(Ir,{title:"Compliance and Messaging Controls",icon:ai,children:t.jsxs(O1,{children:[t.jsx("li",{children:"Consent per lead: CSV uploads must include a consent flag where applicable."}),t.jsx("li",{children:"DNC suppression: Upload and maintain Do Not Call lists; calls and texts to DNC numbers are blocked."}),t.jsx("li",{children:'Opt-out handling: SMS replies like "STOP" automatically unsubscribe the recipient.'}),t.jsx("li",{children:"Local time enforcement: Calls/texts are limited to legal hours in the leads timezone (e.g., 8am9pm)."}),t.jsx("li",{children:"Rate-limiting: Calls and messages may be batched or limited to avoid carrier flagging and ensure deliverability."})]})}),t.jsx(Ir,{title:"Data Retention",icon:po,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We retain account, lead, and communication data for as long as your account is active or as needed to provide services and comply with legal obligations. You may request deletion of certain data at any time, subject to legal or operational limitations."})}),t.jsx(Ir,{title:"Your Privacy Choices",icon:Cr,children:t.jsxs(O1,{children:[t.jsx("li",{children:"Access, correct, or delete your account information."}),t.jsx("li",{children:"Manage consent flags and DNC lists for your leads."}),t.jsx("li",{children:"Disable recordings or integrations you no longer wish to use."}),t.jsx("li",{children:"Unsubscribe from non-essential communications via provided controls."})]})}),t.jsx(Ir,{title:"Security",icon:ai,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We use industry-standard safeguards to protect information in transit and at rest. No method of transmission or storage is 100% secure. We continuously improve our technical and organizational measures to protect your data."})}),t.jsx(Ir,{title:"International Data Transfers",icon:wi,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Your information may be processed in regions where we or our service providers operate. We implement appropriate safeguards when transferring information across borders, consistent with applicable law."})}),t.jsx(Ir,{title:"Childrens Privacy",icon:Tf,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Our services are not directed to children. We do not knowingly collect personal information from children. If you believe a child has provided information, contact us to request deletion."})}),t.jsx(Ir,{title:"Contact Us",icon:_s,children:t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[t.jsx(_s,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{children:"muhammad.faridoon@digitalbusinesstransformation.co.uk"})]}),t.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[t.jsx(St,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{children:"+447465884867"})]})]})}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(bA,{icon:rV,title:"Messaging Preferences",text:"Manage reminder templates, opt-out keywords, and quiet hours.",href:"#"}),t.jsx(bA,{icon:ka,title:"Data Deletion Request",text:"Request deletion of recordings, logs, or lead data as allowed.",href:"#"})]}),t.jsx("p",{className:"mt-10 text-xs text-slate-500 text-center",children:"This Privacy Policy may be updated to reflect changes to our practices. We will notify you of significant updates as required by law."})]})]})}function Ir({title:e,icon:a,children:s}){return t.jsxs("section",{className:"mt-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-9 h-9 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(a,{className:"w-5 h-5 text-blue-600"})}),t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:e})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6",children:s})]})}function zr({title:e,children:a}){return t.jsxs("div",{className:"flex items-start gap-3 py-2",children:[t.jsx("div",{className:"mt-1 w-2 h-2 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-slate-900",children:e}),t.jsx("div",{className:"text-slate-700 leading-relaxed text-sm",children:a})]})]})}function O1({children:e}){return t.jsx("ol",{className:"list-decimal ml-5 space-y-2 text-slate-700",children:e})}function bA({icon:e,title:a,text:s,href:n}){return t.jsx("a",{href:n,className:"group block border border-slate-200 rounded-2xl p-5 hover:border-blue-200 hover:bg-blue-50/30 transition-colors",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(e,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold text-slate-900 truncate",children:a}),t.jsx("div",{className:"text-sm text-slate-600 truncate",children:s})]}),t.jsx(Aa,{className:"ml-auto w-5 h-5 text-slate-400 group-hover:text-blue-600"})]})})}function JZ(){return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[t.jsx(SS,{}),t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",children:t.jsx("div",{className:"h-16 sm:h-20 md:h-24 lg:h-28 bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600"})}),t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-2 pb-3",children:t.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 border border-white/15 grid place-content-center backdrop-blur-sm",children:t.jsx(fD,{className:"w-6 h-6"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900",children:"Terms of Service"}),t.jsxs("p",{className:"text-sm sm:text-base text-slate-700",children:["Effective date: ",new Date().toLocaleDateString()]})]})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/60 to-transparent"})]}),t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[t.jsx(QZ,{}),t.jsx(Ys,{title:"1) Acceptance of Terms",icon:VV,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"By accessing or using our SaaS-based AI calling assistant platform (the Service), you agree to be bound by these Terms of Service (Terms). If you do not agree, do not use the Service. If you are using the Service on behalf of an organization, you represent that you have authority to bind that organization."})}),t.jsx(Ys,{title:"2) Accounts & Eligibility",icon:jc,children:t.jsxs(_d,{children:[t.jsx("li",{children:"You must provide accurate registration information."}),t.jsx("li",{children:"You are responsible for safeguarding your credentials and for all activities under your account."}),t.jsx("li",{children:"You must be at least the age of majority in your jurisdiction to use the Service."})]})}),t.jsx(Ys,{title:"3) Use of Service & AI Communications",icon:ra,children:t.jsxs(_d,{children:[t.jsx("li",{children:"The Service provides AI-assisted outbound and inbound calling, messaging, scheduling, and reminder capabilities that you configure."}),t.jsx("li",{children:"You control the content and recipients of communications and are responsible for ensuring that your campaign settings comply with applicable laws."}),t.jsx("li",{children:"We may apply rate limits, concurrency limits, or other controls to maintain platform reliability and reduce carrier flagging."})]})}),t.jsx(Ys,{title:"4) Lead Data, Consent & Compliance",icon:fl,children:t.jsxs(_d,{children:[t.jsx("li",{children:"You represent and warrant you have obtained all necessary permissions, consents, and legal bases to upload leads and to initiate calls or messages to those leads."}),t.jsx("li",{children:"You will respect Do Not Call (DNC) lists, honor opt-out requests, and comply with local time-of-day restrictions (e.g., 8am9pm in the leads timezone)."}),t.jsx("li",{children:"If you enable recordings, you are responsible for compliance with one-party or two-party consent rules as applicable."})]})}),t.jsx(Ys,{title:"5) Prohibited Activities",icon:tV,children:t.jsxs(_d,{children:[t.jsx("li",{children:"Sending spam or unlawful, deceptive, or abusive content."}),t.jsx("li",{children:"Engaging in harassment, discrimination, or any illegal activity."}),t.jsx("li",{children:"Attempting to compromise the Service, bypass security controls, or misuse APIs."}),t.jsx("li",{children:"Using the Service to contact individuals without a lawful basis or in violation of telecom/consumer protection laws."})]})}),t.jsx(Ys,{title:"6) Billing, Trials & Cancellations",icon:dD,children:t.jsxs(_d,{children:[t.jsx("li",{children:"Fees are charged per the plan you select. Taxes may apply. You authorize us (and our payment processor) to charge your payment method for all applicable fees."}),t.jsx("li",{children:"Trials (if offered) are for evaluation only and may be modified or terminated at any time."}),t.jsx("li",{children:"You can cancel at any time; cancellations take effect at the end of the current billing period. We generally do not provide refunds except where required by law."})]})}),t.jsx(Ys,{title:"7) Availability & Support",icon:po,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We strive for high availability but do not guarantee uninterrupted Service. We may temporarily suspend access for maintenance, updates, or to address security or reliability issues."})}),t.jsx(Ys,{title:"8) Intellectual Property",icon:ju,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"The Service, including all software, design assets, and related materials, is owned by us or our licensors and is protected by intellectual property laws. These Terms grant you a limited, non-exclusive, non-transferable right to use the Service for your internal business purposes."})}),t.jsx(Ys,{title:"9) Privacy",icon:ai,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Your use of the Service is also governed by our Privacy Policy, which describes how we collect, use, and safeguard information. Where there is a conflict between these Terms and the Privacy Policy, these Terms control to the extent of the conflict regarding Service usage obligations."})}),t.jsx(Ys,{title:"10) Warranties & Disclaimers",icon:Tf,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"THE SERVICE IS PROVIDED AS IS AND AS AVAILABLE. TO THE MAXIMUM EXTENT PERMITTED BY LAW, WE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT. WE DO NOT WARRANT THAT THE SERVICE WILL BE ERROR-FREE OR UNINTERRUPTED."})}),t.jsx(Ys,{title:"11) Limitation of Liability",icon:yH,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, WE SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, PUNITIVE, OR EXEMPLARY DAMAGES, OR FOR ANY LOSS OF PROFITS, REVENUE, DATA, OR GOODWILL. OUR AGGREGATE LIABILITY FOR ALL CLAIMS RELATING TO THE SERVICE SHALL NOT EXCEED THE AMOUNT PAID BY YOU TO US IN THE TWELVE (12) MONTHS PRECEDING THE EVENT GIVING RISE TO THE CLAIM."})}),t.jsx(Ys,{title:"12) Indemnification",icon:Tc,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"You agree to indemnify and hold us harmless from any claims, damages, liabilities, and expenses (including reasonable legal fees) arising from your use of the Service, your content, or your breach of these Terms or applicable laws."})}),t.jsx(Ys,{title:"13) Termination",icon:Ze,children:t.jsxs(_d,{children:[t.jsx("li",{children:"You may stop using the Service at any time. We may suspend or terminate your access for violations of these Terms or misuse of the Service."}),t.jsx("li",{children:"Upon termination, your right to use the Service ceases. Certain provisions (e.g., IP ownership, indemnification, limitations of liability) survive termination."})]})}),t.jsx(Ys,{title:"14) Governing Law & Dispute Resolution",icon:wi,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"These Terms are governed by the laws applicable to our principal place of business, without regard to conflict-of-law principles. Disputes will be resolved in the courts of that jurisdiction unless otherwise agreed in writing."})}),t.jsx(Ys,{title:"15) Changes to Terms",icon:s2,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We may update these Terms from time to time. Material changes will be communicated through the Service or via email. Continued use of the Service after changes become effective constitutes acceptance of the updated Terms."})}),t.jsx(Ys,{title:"Contact Us",icon:_s,children:t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[t.jsx(_s,{className:"w-5 h-5"}),t.jsx("span",{children:"muhammad.faridoon@digitalbusinesstransformation.co.uk"})]}),t.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[t.jsx(St,{className:"w-5 h-5"}),t.jsx("span",{children:"+447465884867"})]})]})}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(vA,{icon:s2,title:"Acceptable Use Guidelines",text:"Review examples of compliant campaigns and message templates.",href:"#"}),t.jsx(vA,{icon:fl,title:"Compliance Checklist",text:"Consent flags, DNC lists, quiet hours, and opt-out handling.",href:"#"})]}),t.jsx("p",{className:"mt-10 text-xs text-slate-500 text-center",children:"These Terms of Service may be updated from time to time. Please review them periodically."})]})]})}function QZ(){return t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 sm:p-8",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(fD,{className:"w-5 h-5 text-blue-600"})}),t.jsx("div",{className:"min-w-0",children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"These Terms of Service govern your use of our AI calling assistant platform, including outbound/inbound calls, messaging, reminders, scheduling, and integrations. Please read them carefully. By using the Service, you acknowledge and agree to these Terms."})})]})})}function Ys({title:e,icon:a,children:s}){return t.jsxs("section",{className:"mt-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-9 h-9 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(a,{className:"w-5 h-5 text-blue-600"})}),t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:e})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6",children:s})]})}function _d({children:e}){return t.jsx("ol",{className:"list-decimal ml-5 space-y-2 text-slate-700",children:e})}function vA({icon:e,title:a,text:s,href:n}){return t.jsx("a",{href:n,className:"group block border border-slate-200 rounded-2xl p-5 hover:border-blue-200 hover:bg-blue-50/30 transition-colors",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(e,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold text-slate-900 truncate",children:a}),t.jsx("div",{className:"text-sm text-slate-600 truncate",children:s})]}),t.jsx(Aa,{className:"ml-auto w-5 h-5 text-slate-400 group-hover:text-blue-600"})]})})}var iL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yA=Ft.createContext&&Ft.createContext(iL),eJ=["attr","size","title"];function tJ(e,a){if(e==null)return{};var s=aJ(e,a),n,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function aJ(e,a){if(e==null)return{};var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(a.indexOf(n)>=0)continue;s[n]=e[n]}return s}function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Fp.apply(this,arguments)}function jA(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Vp(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?jA(Object(s),!0).forEach(function(n){sJ(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jA(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function sJ(e,a,s){return a=nJ(a),a in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function nJ(e){var a=rJ(e,"string");return typeof a=="symbol"?a:a+""}function rJ(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function lL(e){return e&&e.map((a,s)=>Ft.createElement(a.tag,Vp({key:s},a.attr),lL(a.child)))}function Zt(e){return a=>Ft.createElement(iJ,Fp({attr:Vp({},e.attr)},a),lL(e.child))}function iJ(e){var a=s=>{var{attr:n,size:r,title:l}=e,c=tJ(e,eJ),u=r||s.size||"1em",m;return s.className&&(m=s.className),e.className&&(m=(m?m+" ":"")+e.className),Ft.createElement("svg",Fp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,c,{className:m,style:Vp(Vp({color:e.color||s.color},s.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&Ft.createElement("title",null,l),e.children)};return yA!==void 0?Ft.createElement(yA.Consumer,null,s=>a(s)):a(iL)}function lJ(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function oL(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function cL(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function oJ(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function dL(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function cJ(e){return Zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function dJ(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function _S(e){return Zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function uJ(e){return Zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function uL(e){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function mJ({compact:e=!1}){const a=x.useMemo(()=>[{text:"Make Calls",Icon:St,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Tn,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:_S,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:Za,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Tn,from:"#22D3EE",to:"#2563EB"}],[]),[s,n]=x.useState(0),[r,l]=x.useState(""),[c,u]=x.useState(!1);x.useEffect(()=>{const g=a[s].text,b=40,v=28,w=1100;let j;return!c&&r.length<g.length?j=setTimeout(()=>l(g.slice(0,r.length+1)),b):!c&&r.length===g.length?j=setTimeout(()=>u(!0),w):c&&r.length>0?j=setTimeout(()=>l(g.slice(0,r.length-1)),v):c&&r.length===0&&(u(!1),n(S=>(S+1)%a.length)),()=>clearTimeout(j)},[r,c,s,a]);const{Icon:m,from:h,to:f}=a[s];return t.jsxs("div",{className:["relative flex items-center",e?"justify-center p-3 sm:p-4":"p-4 sm:p-6",e?"":"gap-4 sm:gap-6"].join(" "),children:[t.jsxs("div",{className:"relative shrink-0",children:[t.jsx(he.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${h}, ${f})`,boxShadow:`0 0 24px 6px ${f}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:t.jsx(m,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),t.jsx(he.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${f}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[t.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${h}, ${f})`},children:r}),t.jsx(he.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),t.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function hJ(){const[e,a]=x.useState(!1),[s,n]=x.useState(!1),[r,l]=x.useState(!1),[c,u]=x.useState({}),m=Ti(),h=ba();x.useEffect(()=>{const v=()=>{const w=window.innerWidth;l(w<768),a(w<1024)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{n(!1)},[m.pathname]),x.useEffect(()=>{const v=()=>{r?n(w=>!w):a(w=>!w)};return window.addEventListener("app:toggle-sidebar",v),()=>window.removeEventListener("app:toggle-sidebar",v)},[r]);const f=v=>m.pathname===v,g=[{id:"dashboard",label:"Dashboard",icon:RN,href:"/user/dashboard",color:"text-blue-600"},{id:"phoneCalls",label:"Phone Numbers",icon:St,href:"/user/callhistory",color:"text-orange-600"},{id:"assistants",label:"Assistants",icon:_S,color:"text-green-600",type:"group",children:[{id:"callassistant",label:"Call Assistant",icon:St,href:"/user/callassistent",color:"text-green-600"},{id:"textassistant",label:"Text Assistant",icon:Yr,href:"/user/TextAssistants",color:"text-indigo-600"}]},{id:"Lists",label:"Lists",icon:Za,href:"/user/lists",color:"text-purple-600"},{id:"Leads",label:"Leads",icon:Za,href:"/user/AllLeads",color:"text-purple-600"},{id:"Campain",label:"Campaigns",icon:Tn,href:"/user/campain",color:"text-blue-600"},{id:"settings",label:"Settings",icon:zN,href:"/user/settings",color:"text-gray-600"},{id:"CRM",label:"CRMS",icon:dJ,href:"/user/CRM",color:"text-orange-600"},{id:"Appointments",label:"Appointments",icon:r1,href:"/user/Appointments",color:"text-purple-600"},{id:"CallLogs",label:"Call Logs",icon:St,href:"/user/calllogs",color:"text-purple-600"},{id:"formconnection",label:"Form Connections",icon:Wr,color:"text-cyan-600",type:"group",children:[{id:"CustomForms",label:"CustomForms",icon:uD,href:"/user/CustomForms",color:"text-pink-600"},{id:"MetaForms",label:"MetaForms",icon:lJ,href:"/user/FacebookForms",color:"text-blue-600"}]},{id:"Calender",label:"Events",icon:r1,href:"/user/Calender",color:"text-purple-600"},{id:"PricingSection",label:"PricingSection",icon:r1,href:"/user/PricingSection",color:"text-purple-600"}];x.useEffect(()=>{const v=g.filter(j=>j.type==="group"),w={};v.forEach(j=>{var S;(S=j.children)!=null&&S.some(k=>f(k.href))&&(w[j.id]=!0)}),Object.keys(w).length>0&&u(j=>({...j,...w}))},[m.pathname]);const b=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:t.jsx(mJ,{compact:e&&!r})}),t.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:g.map(v=>{var _;if(v.type==="group"){const C=v.icon,T=(_=v.children)==null?void 0:_.some($=>f($.href)),O=c[v.id]===!0,E=()=>{e&&!r?(a(!1),u($=>({...$,[v.id]:!0}))):u($=>({...$,[v.id]:!$[v.id]}))};return t.jsxs("div",{className:"group",children:[t.jsxs("button",{type:"button",onClick:E,className:`relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                    ${T?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                    ${e&&!r?"justify-center p-2 sm:p-3":"p-3 sm:p-3"}
                    ${r?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!r?v.label:"",children:[T&&!e&&t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),t.jsx("div",{className:"relative z-10",children:t.jsx(C,{className:`flex-shrink-0 transition-all duration-200
                      ${e&&!r?"w-6 h-6":"w-5 h-5"}
                      ${T?v.color:"text-slate-500 group-hover:text-slate-700"}
                      ${T?"scale-110":"group-hover:scale-105"}`})}),(!e||r)&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:v.label}),t.jsx("span",{className:"ml-auto text-slate-500",children:O?t.jsx(cD,{className:"w-4 h-4"}):t.jsx(LN,{className:"w-4 h-4"})})]})]}),t.jsx(jt,{initial:!1,children:O&&t.jsx(he.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:`${e&&!r?"px-2":"pl-9 pr-2"} mt-1 space-y-1`,children:v.children.map($=>{const M=$.icon,H=f($.href);return t.jsxs("button",{type:"button",onClick:()=>h($.href),className:`w-full text-left flex items-center gap-3 rounded-lg transition-colors
                              ${H?"bg-blue-50/70 text-blue-700 border border-blue-200":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                              p-2`,title:$.label,children:[t.jsx(M,{className:`w-4 h-4 ${H?$.color:"text-slate-400 group-hover:text-slate-600"}`}),t.jsx("span",{className:"text-sm",children:$.label}),H&&t.jsx("span",{className:"ml-auto w-2 h-2 bg-blue-600 rounded-full animate-pulse"})]},$.id)})},`${v.id}-children`)})]},v.id)}const w=v.icon,j=f(v.href),S=j&&(!e||r)?r?"pl-5":"pl-4":"",k=e&&!r?"gap-0":r?"gap-4":"gap-3";return t.jsxs("button",{type:"button",onClick:()=>h(v.href),className:`group relative w-full text-left flex items-center ${k} rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                ${j?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                ${e&&!r?"justify-center p-2 sm:p-3":`p-3 sm:p-3 ${S}`}
                ${r?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!r?v.label:"",children:[j&&!e&&t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),t.jsx("div",{className:"relative z-10",children:t.jsx(w,{className:`flex-shrink-0 transition-all duration-200
                    ${e&&!r?"w-6 h-6":"w-5 h-5"}
                    ${j?v.color:"text-slate-500 group-hover:text-slate-700"}
                    ${j?"scale-110":"group-hover:scale-105"}`})}),(!e||r)&&t.jsx("span",{className:"font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:v.label}),j&&(!e||r)&&t.jsx("div",{className:"ml-auto flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},v.id)})}),!r&&t.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:t.jsx("button",{onClick:()=>a(v=>!v),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?t.jsx(Aa,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):t.jsxs(t.Fragment,{children:[t.jsx(Ss,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),t.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return t.jsxs(t.Fragment,{children:[!r&&t.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:t.jsx("div",{className:"flex flex-col h-full",children:t.jsx(b,{})})}),r&&t.jsxs("div",{className:"md:hidden",children:[s&&t.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>n(!1),"aria-hidden":"true"}),t.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:t.jsx("div",{className:"flex flex-col h-full",children:t.jsx(b,{})})})]})]})}function fJ(){return t.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[t.jsx(hJ,{}),t.jsxs("div",{className:"flex flex-1 flex-col",children:[t.jsx(SS,{className:"h-16 border-b"}),t.jsx("main",{className:"flex-1 p-6",children:t.jsx(GM,{})})]})]})}var xJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kS(e){if(typeof e!="string")return!1;var a=xJ;return a.includes(e)}var pJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function mL(e){if(typeof e!="string")return!1;var a=pJ;return a.includes(e)}function hL(e){return typeof e=="string"&&e.startsWith("data-")}function tr(e){var a=Object.entries(e).filter(s=>{var[n]=s;return mL(n)||hL(n)});return Object.fromEntries(a)}function Pc(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var a=e.props;return tr(a)}return typeof e=="object"&&!Array.isArray(e)?tr(e):null}function pn(e){var a=Object.entries(e).filter(s=>{var[n]=s;return mL(n)||hL(n)||kS(n)});return Object.fromEntries(a)}function gJ(e){return e==null?null:x.isValidElement(e)?pn(e.props):typeof e=="object"&&!Array.isArray(e)?pn(e):null}var bJ=["children","width","height","viewBox","className","style","title","desc"];function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},k2.apply(null,arguments)}function vJ(e,a){if(e==null)return{};var s,n,r=yJ(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function yJ(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var CS=x.forwardRef((e,a)=>{var{children:s,width:n,height:r,viewBox:l,className:c,style:u,title:m,desc:h}=e,f=vJ(e,bJ),g=l||{width:n,height:r,x:0,y:0},b=Pt("recharts-surface",c);return x.createElement("svg",k2({},pn(f),{className:b,width:n,height:r,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:a}),x.createElement("title",null,m),x.createElement("desc",null,h),s)}),jJ=["children","className"];function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},C2.apply(null,arguments)}function wJ(e,a){if(e==null)return{};var s,n,r=NJ(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function NJ(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var Fs=x.forwardRef((e,a)=>{var{children:s,className:n}=e,r=wJ(e,jJ),l=Pt("recharts-layer",n);return x.createElement("g",C2({className:l},pn(r),{ref:a}),s)}),fL=x.createContext(null),SJ=()=>x.useContext(fL);function da(e){return function(){return e}}const xL=Math.cos,Hp=Math.sin,ni=Math.sqrt,qp=Math.PI,Zg=2*qp,A2=Math.PI,E2=2*A2,lc=1e-6,_J=E2-lc;function pL(e){this._+=e[0];for(let a=1,s=e.length;a<s;++a)this._+=arguments[a]+e[a]}function kJ(e){let a=Math.floor(e);if(!(a>=0))throw new Error(`invalid digits: ${e}`);if(a>15)return pL;const s=10**a;return function(n){this._+=n[0];for(let r=1,l=n.length;r<l;++r)this._+=Math.round(arguments[r]*s)/s+n[r]}}class CJ{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=a==null?pL:kJ(a)}moveTo(a,s){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,s){this._append`L${this._x1=+a},${this._y1=+s}`}quadraticCurveTo(a,s,n,r){this._append`Q${+a},${+s},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(a,s,n,r,l,c){this._append`C${+a},${+s},${+n},${+r},${this._x1=+l},${this._y1=+c}`}arcTo(a,s,n,r,l){if(a=+a,s=+s,n=+n,r=+r,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,m=n-a,h=r-s,f=c-a,g=u-s,b=f*f+g*g;if(this._x1===null)this._append`M${this._x1=a},${this._y1=s}`;else if(b>lc)if(!(Math.abs(g*m-h*f)>lc)||!l)this._append`L${this._x1=a},${this._y1=s}`;else{let v=n-c,w=r-u,j=m*m+h*h,S=v*v+w*w,k=Math.sqrt(j),_=Math.sqrt(b),C=l*Math.tan((A2-Math.acos((j+b-S)/(2*k*_)))/2),T=C/_,O=C/k;Math.abs(T-1)>lc&&this._append`L${a+T*f},${s+T*g}`,this._append`A${l},${l},0,0,${+(g*v>f*w)},${this._x1=a+O*m},${this._y1=s+O*h}`}}arc(a,s,n,r,l,c){if(a=+a,s=+s,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(r),m=n*Math.sin(r),h=a+u,f=s+m,g=1^c,b=c?r-l:l-r;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>lc||Math.abs(this._y1-f)>lc)&&this._append`L${h},${f}`,n&&(b<0&&(b=b%E2+E2),b>_J?this._append`A${n},${n},0,1,${g},${a-u},${s-m}A${n},${n},0,1,${g},${this._x1=h},${this._y1=f}`:b>lc&&this._append`A${n},${n},0,${+(b>=A2)},${g},${this._x1=a+n*Math.cos(l)},${this._y1=s+n*Math.sin(l)}`)}rect(a,s,n,r){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+s}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function AS(e){let a=3;return e.digits=function(s){if(!arguments.length)return a;if(s==null)a=null;else{const n=Math.floor(s);if(!(n>=0))throw new RangeError(`invalid digits: ${s}`);a=n}return e},()=>new CJ(a)}function ES(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gL(e){this._context=e}gL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;default:this._context.lineTo(e,a);break}}};function Jg(e){return new gL(e)}function bL(e){return e[0]}function vL(e){return e[1]}function yL(e,a){var s=da(!0),n=null,r=Jg,l=null,c=AS(u);e=typeof e=="function"?e:e===void 0?bL:da(e),a=typeof a=="function"?a:a===void 0?vL:da(a);function u(m){var h,f=(m=ES(m)).length,g,b=!1,v;for(n==null&&(l=r(v=c())),h=0;h<=f;++h)!(h<f&&s(g=m[h],h,m))===b&&((b=!b)?l.lineStart():l.lineEnd()),b&&l.point(+e(g,h,m),+a(g,h,m));if(v)return l=null,v+""||null}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:da(+m),u):e},u.y=function(m){return arguments.length?(a=typeof m=="function"?m:da(+m),u):a},u.defined=function(m){return arguments.length?(s=typeof m=="function"?m:da(!!m),u):s},u.curve=function(m){return arguments.length?(r=m,n!=null&&(l=r(n)),u):r},u.context=function(m){return arguments.length?(m==null?n=l=null:l=r(n=m),u):n},u}function wx(e,a,s){var n=null,r=da(!0),l=null,c=Jg,u=null,m=AS(h);e=typeof e=="function"?e:e===void 0?bL:da(+e),a=typeof a=="function"?a:da(a===void 0?0:+a),s=typeof s=="function"?s:s===void 0?vL:da(+s);function h(g){var b,v,w,j=(g=ES(g)).length,S,k=!1,_,C=new Array(j),T=new Array(j);for(l==null&&(u=c(_=m())),b=0;b<=j;++b){if(!(b<j&&r(S=g[b],b,g))===k)if(k=!k)v=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=b-1;w>=v;--w)u.point(C[w],T[w]);u.lineEnd(),u.areaEnd()}k&&(C[b]=+e(S,b,g),T[b]=+a(S,b,g),u.point(n?+n(S,b,g):C[b],s?+s(S,b,g):T[b]))}if(_)return u=null,_+""||null}function f(){return yL().defined(r).curve(c).context(l)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:da(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:da(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:da(+g),h):n},h.y=function(g){return arguments.length?(a=typeof g=="function"?g:da(+g),s=null,h):a},h.y0=function(g){return arguments.length?(a=typeof g=="function"?g:da(+g),h):a},h.y1=function(g){return arguments.length?(s=g==null?null:typeof g=="function"?g:da(+g),h):s},h.lineX0=h.lineY0=function(){return f().x(e).y(a)},h.lineY1=function(){return f().x(e).y(s)},h.lineX1=function(){return f().x(n).y(a)},h.defined=function(g){return arguments.length?(r=typeof g=="function"?g:da(!!g),h):r},h.curve=function(g){return arguments.length?(c=g,l!=null&&(u=c(l)),h):c},h.context=function(g){return arguments.length?(g==null?l=u=null:u=c(l=g),h):l},h}class jL{constructor(a,s){this._context=a,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(a,s){switch(a=+a,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(a,s):this._context.moveTo(a,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,s,a,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,a,this._y0,a,s);break}}this._x0=a,this._y0=s}}function AJ(e){return new jL(e,!0)}function EJ(e){return new jL(e,!1)}const TS={draw(e,a){const s=ni(a/qp);e.moveTo(s,0),e.arc(0,0,s,0,Zg)}},TJ={draw(e,a){const s=ni(a/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},wL=ni(1/3),OJ=wL*2,PJ={draw(e,a){const s=ni(a/OJ),n=s*wL;e.moveTo(0,-s),e.lineTo(n,0),e.lineTo(0,s),e.lineTo(-n,0),e.closePath()}},MJ={draw(e,a){const s=ni(a),n=-s/2;e.rect(n,n,s,s)}},DJ=.8908130915292852,NL=Hp(qp/10)/Hp(7*qp/10),LJ=Hp(Zg/10)*NL,RJ=-xL(Zg/10)*NL,$J={draw(e,a){const s=ni(a*DJ),n=LJ*s,r=RJ*s;e.moveTo(0,-s),e.lineTo(n,r);for(let l=1;l<5;++l){const c=Zg*l/5,u=xL(c),m=Hp(c);e.lineTo(m*s,-u*s),e.lineTo(u*n-m*r,m*n+u*r)}e.closePath()}},P1=ni(3),IJ={draw(e,a){const s=-ni(a/(P1*3));e.moveTo(0,s*2),e.lineTo(-P1*s,-s),e.lineTo(P1*s,-s),e.closePath()}},fr=-.5,xr=ni(3)/2,T2=1/ni(12),zJ=(T2/2+1)*3,BJ={draw(e,a){const s=ni(a/zJ),n=s/2,r=s*T2,l=n,c=s*T2+s,u=-l,m=c;e.moveTo(n,r),e.lineTo(l,c),e.lineTo(u,m),e.lineTo(fr*n-xr*r,xr*n+fr*r),e.lineTo(fr*l-xr*c,xr*l+fr*c),e.lineTo(fr*u-xr*m,xr*u+fr*m),e.lineTo(fr*n+xr*r,fr*r-xr*n),e.lineTo(fr*l+xr*c,fr*c-xr*l),e.lineTo(fr*u+xr*m,fr*m-xr*u),e.closePath()}};function UJ(e,a){let s=null,n=AS(r);e=typeof e=="function"?e:da(e||TS),a=typeof a=="function"?a:da(a===void 0?64:+a);function r(){let l;if(s||(s=l=n()),e.apply(this,arguments).draw(s,+a.apply(this,arguments)),l)return s=null,l+""||null}return r.type=function(l){return arguments.length?(e=typeof l=="function"?l:da(l),r):e},r.size=function(l){return arguments.length?(a=typeof l=="function"?l:da(+l),r):a},r.context=function(l){return arguments.length?(s=l??null,r):s},r}function Gp(){}function Kp(e,a,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+a)/6,(e._y0+4*e._y1+s)/6)}function SL(e){this._context=e}SL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kp(this,e,a);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=a}};function FJ(e){return new SL(e)}function _L(e){this._context=e}_L.prototype={areaStart:Gp,areaEnd:Gp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._x2=e,this._y2=a;break;case 1:this._point=2,this._x3=e,this._y3=a;break;case 2:this._point=3,this._x4=e,this._y4=a,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+a)/6);break;default:Kp(this,e,a);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=a}};function VJ(e){return new _L(e)}function kL(e){this._context=e}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+a)/6;this._line?this._context.lineTo(s,n):this._context.moveTo(s,n);break;case 3:this._point=4;default:Kp(this,e,a);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=a}};function HJ(e){return new kL(e)}function CL(e){this._context=e}CL.prototype={areaStart:Gp,areaEnd:Gp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,a){e=+e,a=+a,this._point?this._context.lineTo(e,a):(this._point=1,this._context.moveTo(e,a))}};function qJ(e){return new CL(e)}function wA(e){return e<0?-1:1}function NA(e,a,s){var n=e._x1-e._x0,r=a-e._x1,l=(e._y1-e._y0)/(n||r<0&&-0),c=(s-e._y1)/(r||n<0&&-0),u=(l*r+c*n)/(n+r);return(wA(l)+wA(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function SA(e,a){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-a)/2:a}function M1(e,a,s){var n=e._x0,r=e._y0,l=e._x1,c=e._y1,u=(l-n)/3;e._context.bezierCurveTo(n+u,r+u*a,l-u,c-u*s,l,c)}function Yp(e){this._context=e}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M1(this,this._t0,SA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){var s=NaN;if(e=+e,a=+a,!(e===this._x1&&a===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;break;case 2:this._point=3,M1(this,SA(this,s=NA(this,e,a)),s);break;default:M1(this,this._t0,s=NA(this,e,a));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=a,this._t0=s}}};function AL(e){this._context=new EL(e)}(AL.prototype=Object.create(Yp.prototype)).point=function(e,a){Yp.prototype.point.call(this,a,e)};function EL(e){this._context=e}EL.prototype={moveTo:function(e,a){this._context.moveTo(a,e)},closePath:function(){this._context.closePath()},lineTo:function(e,a){this._context.lineTo(a,e)},bezierCurveTo:function(e,a,s,n,r,l){this._context.bezierCurveTo(a,e,n,s,l,r)}};function GJ(e){return new Yp(e)}function KJ(e){return new AL(e)}function TL(e){this._context=e}TL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,a=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],a[0]):this._context.moveTo(e[0],a[0]),s===2)this._context.lineTo(e[1],a[1]);else for(var n=_A(e),r=_A(a),l=0,c=1;c<s;++l,++c)this._context.bezierCurveTo(n[0][l],r[0][l],n[1][l],r[1][l],e[c],a[c]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,a){this._x.push(+e),this._y.push(+a)}};function _A(e){var a,s=e.length-1,n,r=new Array(s),l=new Array(s),c=new Array(s);for(r[0]=0,l[0]=2,c[0]=e[0]+2*e[1],a=1;a<s-1;++a)r[a]=1,l[a]=4,c[a]=4*e[a]+2*e[a+1];for(r[s-1]=2,l[s-1]=7,c[s-1]=8*e[s-1]+e[s],a=1;a<s;++a)n=r[a]/l[a-1],l[a]-=n,c[a]-=n*c[a-1];for(r[s-1]=c[s-1]/l[s-1],a=s-2;a>=0;--a)r[a]=(c[a]-r[a+1])/l[a];for(l[s-1]=(e[s]+r[s-1])/2,a=0;a<s-1;++a)l[a]=2*e[a+1]-r[a+1];return[r,l]}function YJ(e){return new TL(e)}function Qg(e,a){this._context=e,this._t=a}Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,a),this._context.lineTo(e,a);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,a)}break}}this._x=e,this._y=a}};function WJ(e){return new Qg(e,.5)}function XJ(e){return new Qg(e,0)}function ZJ(e){return new Qg(e,1)}function Cu(e,a){if((c=e.length)>1)for(var s=1,n,r,l=e[a[0]],c,u=l.length;s<c;++s)for(r=l,l=e[a[s]],n=0;n<u;++n)l[n][1]+=l[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function O2(e){for(var a=e.length,s=new Array(a);--a>=0;)s[a]=a;return s}function JJ(e,a){return e[a]}function QJ(e){const a=[];return a.key=e,a}function eQ(){var e=da([]),a=O2,s=Cu,n=JJ;function r(l){var c=Array.from(e.apply(this,arguments),QJ),u,m=c.length,h=-1,f;for(const g of l)for(u=0,++h;u<m;++u)(c[u][h]=[0,+n(g,c[u].key,h,l)]).data=g;for(u=0,f=ES(a(c));u<m;++u)c[f[u]].index=u;return s(c,f),c}return r.keys=function(l){return arguments.length?(e=typeof l=="function"?l:da(Array.from(l)),r):e},r.value=function(l){return arguments.length?(n=typeof l=="function"?l:da(+l),r):n},r.order=function(l){return arguments.length?(a=l==null?O2:typeof l=="function"?l:da(Array.from(l)),r):a},r.offset=function(l){return arguments.length?(s=l??Cu,r):s},r}function tQ(e,a){if((n=e.length)>0){for(var s,n,r=0,l=e[0].length,c;r<l;++r){for(c=s=0;s<n;++s)c+=e[s][r][1]||0;if(c)for(s=0;s<n;++s)e[s][r][1]/=c}Cu(e,a)}}function aQ(e,a){if((r=e.length)>0){for(var s=0,n=e[a[0]],r,l=n.length;s<l;++s){for(var c=0,u=0;c<r;++c)u+=e[c][s][1]||0;n[s][1]+=n[s][0]=-u/2}Cu(e,a)}}function sQ(e,a){if(!(!((c=e.length)>0)||!((l=(r=e[a[0]]).length)>0))){for(var s=0,n=1,r,l,c;n<l;++n){for(var u=0,m=0,h=0;u<c;++u){for(var f=e[a[u]],g=f[n][1]||0,b=f[n-1][1]||0,v=(g-b)/2,w=0;w<u;++w){var j=e[a[w]],S=j[n][1]||0,k=j[n-1][1]||0;v+=S-k}m+=g,h+=v*g}r[n-1][1]+=r[n-1][0]=s,m&&(s-=h/m)}r[n-1][1]+=r[n-1][0]=s,Cu(e,a)}}var D1={},L1={},kA;function nQ(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return s==="__proto__"}e.isUnsafeProperty=a})(L1)),L1}var R1={},CA;function OL(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=a})(R1)),R1}var $1={},AA;function OS(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){var n;return typeof s=="string"||typeof s=="symbol"?s:Object.is((n=s==null?void 0:s.valueOf)==null?void 0:n.call(s),-0)?"-0":String(s)}e.toKey=a})($1)),$1}var I1={},z1={},EA;function rQ(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){if(s==null)return"";if(typeof s=="string")return s;if(Array.isArray(s))return s.map(a).join(",");const n=String(s);return n==="0"&&Object.is(Number(s),-0)?"-0":n}e.toString=a})(z1)),z1}var TA;function PS(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=rQ(),s=OS();function n(r){if(Array.isArray(r))return r.map(s.toKey);if(typeof r=="symbol")return[r];r=a.toString(r);const l=[],c=r.length;if(c===0)return l;let u=0,m="",h="",f=!1;for(r.charCodeAt(0)===46&&(l.push(""),u++);u<c;){const g=r[u];h?g==="\\"&&u+1<c?(u++,m+=r[u]):g===h?h="":m+=g:f?g==='"'||g==="'"?h=g:g==="]"?(f=!1,l.push(m),m=""):m+=g:g==="["?(f=!0,m&&(l.push(m),m="")):g==="."?m&&(l.push(m),m=""):m+=g,u++}return m&&l.push(m),l}e.toPath=n})(I1)),I1}var OA;function MS(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=nQ(),s=OL(),n=OS(),r=PS();function l(u,m,h){if(u==null)return h;switch(typeof m){case"string":{if(a.isUnsafeProperty(m))return h;const f=u[m];return f===void 0?s.isDeepKey(m)?l(u,r.toPath(m),h):h:f}case"number":case"symbol":{typeof m=="number"&&(m=n.toKey(m));const f=u[m];return f===void 0?h:f}default:{if(Array.isArray(m))return c(u,m,h);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),a.isUnsafeProperty(m))return h;const f=u[m];return f===void 0?h:f}}}function c(u,m,h){if(m.length===0)return h;let f=u;for(let g=0;g<m.length;g++){if(f==null||a.isUnsafeProperty(m[g]))return h;f=f[m[g]]}return f===void 0?h:f}e.get=l})(D1)),D1}var B1,PA;function iQ(){return PA||(PA=1,B1=MS().get),B1}var lQ=iQ();const Mc=Ei(lQ);var Ns=e=>e===0?0:e>0?1:-1,Tr=e=>typeof e=="number"&&e!=+e,bl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,mt=e=>(typeof e=="number"||e instanceof Number)&&!Tr(e),Ci=e=>mt(e)||typeof e=="string",oQ=0,uf=e=>{var a=++oQ;return"".concat(e||"").concat(a)},an=function(a,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mt(a)&&typeof a!="string")return n;var l;if(bl(a)){if(s==null)return n;var c=a.indexOf("%");l=s*parseFloat(a.slice(0,c))/100}else l=+a;return Tr(l)&&(l=n),r&&s!=null&&l>s&&(l=s),l},PL=e=>{if(!Array.isArray(e))return!1;for(var a=e.length,s={},n=0;n<a;n++)if(!s[e[n]])s[e[n]]=!0;else return!0;return!1};function Ha(e,a,s){return mt(e)&&mt(a)?e+s*(a-e):a}function ML(e,a,s){if(!(!e||!e.length))return e.find(n=>n&&(typeof a=="function"?a(n):Mc(n,a))===s)}var Ca=e=>e===null||typeof e>"u",Rf=e=>Ca(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),cQ=["type","size","sizeType"];function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},P2.apply(null,arguments)}function MA(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function DA(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?MA(Object(s),!0).forEach(function(n){dQ(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):MA(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function dQ(e,a,s){return(a=uQ(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function uQ(e){var a=mQ(e,"string");return typeof a=="symbol"?a:a+""}function mQ(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function hQ(e,a){if(e==null)return{};var s,n,r=fQ(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function fQ(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var DL={symbolCircle:TS,symbolCross:TJ,symbolDiamond:PJ,symbolSquare:MJ,symbolStar:$J,symbolTriangle:IJ,symbolWye:BJ},xQ=Math.PI/180,pQ=e=>{var a="symbol".concat(Rf(e));return DL[a]||TS},gQ=(e,a,s)=>{if(a==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*xQ;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bQ=(e,a)=>{DL["symbol".concat(Rf(e))]=a},DS=e=>{var{type:a="circle",size:s=64,sizeType:n="area"}=e,r=hQ(e,cQ),l=DA(DA({},r),{},{type:a,size:s,sizeType:n}),c="circle";typeof a=="string"&&(c=a);var u=()=>{var b=pQ(c),v=UJ().type(b).size(gQ(s,n,c)),w=v();if(w!==null)return w},{className:m,cx:h,cy:f}=l,g=pn(l);return h===+h&&f===+f&&s===+s?x.createElement("path",P2({},g,{className:Pt("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(f,")"),d:u()})):null};DS.registerSymbol=bQ;var LS=(e,a)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(x.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var n={};return Object.keys(s).forEach(r=>{kS(r)&&(n[r]=(l=>s[r](s,l)))}),n},vQ=(e,a,s)=>n=>(e(a,s,n),null),$f=(e,a,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(r=>{var l=e[r];kS(r)&&typeof l=="function"&&(n||(n={}),n[r]=vQ(l,a,s))}),n};function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},M2.apply(null,arguments)}function LA(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function yQ(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?LA(Object(s),!0).forEach(function(n){RS(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):LA(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function RS(e,a,s){return(a=jQ(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function jQ(e){var a=wQ(e,"string");return typeof a=="symbol"?a:a+""}function wQ(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var pr=32;class $S extends x.PureComponent{renderIcon(a,s){var{inactiveColor:n}=this.props,r=pr/2,l=pr/6,c=pr/3,u=a.inactive?n:a.color,m=s??a.type;if(m==="none")return null;if(m==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:r,x2:pr,y2:r,className:"recharts-legend-icon"});if(m==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(r,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(r,`
            H`).concat(pr,"M").concat(2*c,",").concat(r,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(r),className:"recharts-legend-icon"});if(m==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(pr/8,"h").concat(pr,"v").concat(pr*3/4,"h").concat(-pr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(a.legendIcon)){var h=yQ({},a);return delete h.legendIcon,x.cloneElement(a.legendIcon,h)}return x.createElement(DS,{fill:u,cx:r,cy:r,size:pr,sizeType:"diameter",type:m})}renderItems(){var{payload:a,iconSize:s,layout:n,formatter:r,inactiveColor:l,iconType:c}=this.props,u={x:0,y:0,width:pr,height:pr},m={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map((f,g)=>{var b=f.formatter||r,v=Pt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:f.inactive});if(f.type==="none")return null;var w=f.inactive?l:f.color,j=b?b(f.value,f,g):f.value;return x.createElement("li",M2({className:v,style:m,key:"legend-item-".concat(g)},$f(this.props,f,g)),x.createElement(CS,{width:s,height:s,viewBox:u,style:h,"aria-label":"".concat(j," legend icon")},this.renderIcon(f,c)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},j))})}render(){var{payload:a,layout:s,align:n}=this.props;if(!a||!a.length)return null;var r={padding:0,margin:0,textAlign:s==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}RS($S,"displayName","Legend");RS($S,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var U1={},F1={},RA;function NQ(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s,n){const r=new Map;for(let l=0;l<s.length;l++){const c=s[l],u=n(c);r.has(u)||r.set(u,c)}return Array.from(r.values())}e.uniqBy=a})(F1)),F1}var V1={},$A;function LL(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return s}e.identity=a})(V1)),V1}var H1={},q1={},G1={},IA;function SQ(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=a})(G1)),G1}var zA;function IS(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=SQ();function s(n){return n!=null&&typeof n!="function"&&a.isLength(n.length)}e.isArrayLike=s})(q1)),q1}var K1={},BA;function _Q(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return typeof s=="object"&&s!==null}e.isObjectLike=a})(K1)),K1}var UA;function kQ(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=IS(),s=_Q();function n(r){return s.isObjectLike(r)&&a.isArrayLike(r)}e.isArrayLikeObject=n})(H1)),H1}var Y1={},W1={},FA;function CQ(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=MS();function s(n){return function(r){return a.get(r,n)}}e.property=s})(W1)),W1}var X1={},Z1={},J1={},Q1={},VA;function RL(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=a})(Q1)),Q1}var ej={},HA;function $L(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=a})(ej)),ej}var tj={},qA;function IL(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s,n){return s===n||Number.isNaN(s)&&Number.isNaN(n)}e.eq=a})(tj)),tj}var GA;function AQ(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=zS(),s=RL(),n=$L(),r=IL();function l(g,b,v){return typeof v!="function"?a.isMatch(g,b):c(g,b,function w(j,S,k,_,C,T){const O=v(j,S,k,_,C,T);return O!==void 0?!!O:c(j,S,w,T)},new Map)}function c(g,b,v,w){if(b===g)return!0;switch(typeof b){case"object":return u(g,b,v,w);case"function":return Object.keys(b).length>0?c(g,{...b},v,w):r.eq(g,b);default:return s.isObject(g)?typeof b=="string"?b==="":!0:r.eq(g,b)}}function u(g,b,v,w){if(b==null)return!0;if(Array.isArray(b))return h(g,b,v,w);if(b instanceof Map)return m(g,b,v,w);if(b instanceof Set)return f(g,b,v,w);const j=Object.keys(b);if(g==null)return j.length===0;if(j.length===0)return!0;if(w&&w.has(b))return w.get(b)===g;w&&w.set(b,g);try{for(let S=0;S<j.length;S++){const k=j[S];if(!n.isPrimitive(g)&&!(k in g)||b[k]===void 0&&g[k]!==void 0||b[k]===null&&g[k]!==null||!v(g[k],b[k],k,g,b,w))return!1}return!0}finally{w&&w.delete(b)}}function m(g,b,v,w){if(b.size===0)return!0;if(!(g instanceof Map))return!1;for(const[j,S]of b.entries()){const k=g.get(j);if(v(k,S,j,g,b,w)===!1)return!1}return!0}function h(g,b,v,w){if(b.length===0)return!0;if(!Array.isArray(g))return!1;const j=new Set;for(let S=0;S<b.length;S++){const k=b[S];let _=!1;for(let C=0;C<g.length;C++){if(j.has(C))continue;const T=g[C];let O=!1;if(v(T,k,S,g,b,w)&&(O=!0),O){j.add(C),_=!0;break}}if(!_)return!1}return!0}function f(g,b,v,w){return b.size===0?!0:g instanceof Set?h([...g],[...b],v,w):!1}e.isMatchWith=l,e.isSetMatch=f})(J1)),J1}var KA;function zS(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=AQ();function s(n,r){return a.isMatchWith(n,r,()=>{})}e.isMatch=s})(Z1)),Z1}var aj={},sj={},nj={},YA;function EQ(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return Object.getOwnPropertySymbols(s).filter(n=>Object.prototype.propertyIsEnumerable.call(s,n))}e.getSymbols=a})(nj)),nj}var rj={},WA;function zL(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=a})(rj)),rj}var ij={},XA;function BL(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a="[object RegExp]",s="[object String]",n="[object Number]",r="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",m="[object Map]",h="[object Set]",f="[object Array]",g="[object Function]",b="[object ArrayBuffer]",v="[object Object]",w="[object Error]",j="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",C="[object Uint32Array]",T="[object BigUint64Array]",O="[object Int8Array]",E="[object Int16Array]",$="[object Int32Array]",M="[object BigInt64Array]",H="[object Float32Array]",V="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=b,e.arrayTag=f,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=T,e.booleanTag=r,e.dataViewTag=j,e.dateTag=u,e.errorTag=w,e.float32ArrayTag=H,e.float64ArrayTag=V,e.functionTag=g,e.int16ArrayTag=E,e.int32ArrayTag=$,e.int8ArrayTag=O,e.mapTag=m,e.numberTag=n,e.objectTag=v,e.regexpTag=a,e.setTag=h,e.stringTag=s,e.symbolTag=c,e.uint16ArrayTag=_,e.uint32ArrayTag=C,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=k})(ij)),ij}var lj={},ZA;function TQ(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=a})(lj)),lj}var JA;function UL(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=EQ(),s=zL(),n=BL(),r=$L(),l=TQ();function c(f,g){return u(f,void 0,f,new Map,g)}function u(f,g,b,v=new Map,w=void 0){const j=w==null?void 0:w(f,g,b,v);if(j!==void 0)return j;if(r.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const S=new Array(f.length);v.set(f,S);for(let k=0;k<f.length;k++)S[k]=u(f[k],k,b,v,w);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;v.set(f,S);for(const[k,_]of f)S.set(k,u(_,k,b,v,w));return S}if(f instanceof Set){const S=new Set;v.set(f,S);for(const k of f)S.add(u(k,void 0,b,v,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(l.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,S);for(let k=0;k<f.length;k++)S[k]=u(f[k],k,b,v,w);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,S),m(S,f,b,v,w),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return v.set(f,S),m(S,f,b,v,w),S}if(typeof Blob<"u"&&f instanceof Blob){const S=new Blob([f],{type:f.type});return v.set(f,S),m(S,f,b,v,w),S}if(f instanceof Error){const S=new f.constructor;return v.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,m(S,f,b,v,w),S}if(f instanceof Boolean){const S=new Boolean(f.valueOf());return v.set(f,S),m(S,f,b,v,w),S}if(f instanceof Number){const S=new Number(f.valueOf());return v.set(f,S),m(S,f,b,v,w),S}if(f instanceof String){const S=new String(f.valueOf());return v.set(f,S),m(S,f,b,v,w),S}if(typeof f=="object"&&h(f)){const S=Object.create(Object.getPrototypeOf(f));return v.set(f,S),m(S,f,b,v,w),S}return f}function m(f,g,b=f,v,w){const j=[...Object.keys(g),...a.getSymbols(g)];for(let S=0;S<j.length;S++){const k=j[S],_=Object.getOwnPropertyDescriptor(f,k);(_==null||_.writable)&&(f[k]=u(g[k],k,b,v,w))}}function h(f){switch(s.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=m})(sj)),sj}var QA;function OQ(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=UL();function s(n){return a.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=s})(aj)),aj}var eE;function PQ(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=zS(),s=OQ();function n(r){return r=s.cloneDeep(r),l=>a.isMatch(l,r)}e.matches=n})(X1)),X1}var oj={},cj={},dj={},tE;function MQ(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=UL(),s=BL();function n(r,l){return a.cloneDeepWith(r,(c,u,m,h)=>{const f=l==null?void 0:l(c,u,m,h);if(f!==void 0)return f;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case s.numberTag:case s.stringTag:case s.booleanTag:{const g=new r.constructor(r==null?void 0:r.valueOf());return a.copyProperties(g,r),g}case s.argumentsTag:{const g={};return a.copyProperties(g,r),g.length=r.length,g[Symbol.iterator]=r[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(dj)),dj}var aE;function DQ(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=MQ();function s(n){return a.cloneDeepWith(n)}e.cloneDeep=s})(cj)),cj}var uj={},mj={},sE;function FL(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=/^(?:0|[1-9]\d*)$/;function s(n,r=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<r;case"symbol":return!1;case"string":return a.test(n)}}e.isIndex=s})(mj)),mj}var hj={},nE;function LQ(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=zL();function s(n){return n!==null&&typeof n=="object"&&a.getTag(n)==="[object Arguments]"}e.isArguments=s})(hj)),hj}var rE;function RQ(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=OL(),s=FL(),n=LQ(),r=PS();function l(c,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&a.isDeepKey(u)&&(c==null?void 0:c[u])==null?m=r.toPath(u):m=[u],m.length===0)return!1;let h=c;for(let f=0;f<m.length;f++){const g=m[f];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&s.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=l})(uj)),uj}var iE;function $Q(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=zS(),s=OS(),n=DQ(),r=MS(),l=RQ();function c(u,m){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=s.toKey(u);break}}return m=n.cloneDeep(m),function(h){const f=r.get(h,u);return f===void 0?l.has(h,u):m===void 0?f===void 0:a.isMatch(f,m)}}e.matchesProperty=c})(oj)),oj}var lE;function IQ(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=LL(),s=CQ(),n=PQ(),r=$Q();function l(c){if(c==null)return a.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?r.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return s.property(c)}}e.iteratee=l})(Y1)),Y1}var oE;function zQ(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=NQ(),s=LL(),n=kQ(),r=IQ();function l(c,u=s.identity){return n.isArrayLikeObject(c)?a.uniqBy(Array.from(c),r.iteratee(u)):[]}e.uniqBy=l})(U1)),U1}var fj,cE;function BQ(){return cE||(cE=1,fj=zQ().uniqBy),fj}var UQ=BQ();const dE=Ei(UQ);function VL(e,a,s){return a===!0?dE(e,s):typeof a=="function"?dE(e,a):e}var xj={exports:{}},pj={},gj={exports:{}},bj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function FQ(){if(uE)return bj;uE=1;var e=$u();function a(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var s=typeof Object.is=="function"?Object.is:a,n=e.useState,r=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,b){var v=b(),w=n({inst:{value:v,getSnapshot:b}}),j=w[0].inst,S=w[1];return l(function(){j.value=v,j.getSnapshot=b,m(j)&&S({inst:j})},[g,v,b]),r(function(){return m(j)&&S({inst:j}),g(function(){m(j)&&S({inst:j})})},[g]),c(v),v}function m(g){var b=g.getSnapshot;g=g.value;try{var v=b();return!s(g,v)}catch{return!0}}function h(g,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return bj.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,bj}var mE;function VQ(){return mE||(mE=1,gj.exports=FQ()),gj.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function HQ(){if(hE)return pj;hE=1;var e=$u(),a=VQ();function s(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:s,r=a.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,m=e.useDebugValue;return pj.useSyncExternalStoreWithSelector=function(h,f,g,b,v){var w=l(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=u(function(){function k(E){if(!_){if(_=!0,C=E,E=b(E),v!==void 0&&j.hasValue){var $=j.value;if(v($,E))return T=$}return T=E}if($=T,n(C,E))return $;var M=b(E);return v!==void 0&&v($,M)?(C=E,$):(C=E,T=M)}var _=!1,C,T,O=g===void 0?null:g;return[function(){return k(f())},O===null?void 0:function(){return k(O())}]},[f,g,b,v]);var S=r(h,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=S},[S]),m(S),S},pj}var fE;function qQ(){return fE||(fE=1,xj.exports=HQ()),xj.exports}var GQ=qQ(),BS=x.createContext(null),KQ=e=>e,Ea=()=>{var e=x.useContext(BS);return e?e.store.dispatch:KQ},Ep=()=>{},YQ=()=>Ep,WQ=(e,a)=>e===a;function ct(e){var a=x.useContext(BS);return GQ.useSyncExternalStoreWithSelector(a?a.subscription.addNestedSub:YQ,a?a.store.getState:Ep,a?a.store.getState:Ep,a?e:Ep,WQ)}function XQ(e,a=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(a)}function ZQ(e,a=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(a)}function JQ(e,a="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${a}[${s}]`)}}var xE=e=>Array.isArray(e)?e:[e];function QQ(e){const a=Array.isArray(e[0])?e[0]:e;return JQ(a,"createSelector expects all input-selectors to be functions, but received the following types: "),a}function eee(e,a){const s=[],{length:n}=e;for(let r=0;r<n;r++)s.push(e[r].apply(null,a));return s}var tee=class{constructor(e){this.value=e}deref(){return this.value}},aee=typeof WeakRef<"u"?WeakRef:tee,see=0,pE=1;function Nx(){return{s:see,v:void 0,o:null,p:null}}function HL(e,a={}){let s=Nx();const{resultEqualityCheck:n}=a;let r,l=0;function c(){var g;let u=s;const{length:m}=arguments;for(let b=0,v=m;b<v;b++){const w=arguments[b];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=u.o;j===null&&(u.o=j=new WeakMap);const S=j.get(w);S===void 0?(u=Nx(),j.set(w,u)):u=S}else{let j=u.p;j===null&&(u.p=j=new Map);const S=j.get(w);S===void 0?(u=Nx(),j.set(w,u)):u=S}}const h=u;let f;if(u.s===pE)f=u.v;else if(f=e.apply(null,arguments),l++,n){const b=((g=r==null?void 0:r.deref)==null?void 0:g.call(r))??r;b!=null&&n(b,f)&&(f=b,l!==0&&l--),r=typeof f=="object"&&f!==null||typeof f=="function"?new aee(f):f}return h.s=pE,h.v=f,f}return c.clearCache=()=>{s=Nx(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function nee(e,...a){const s=typeof e=="function"?{memoize:e,memoizeOptions:a}:e,n=(...r)=>{let l=0,c=0,u,m={},h=r.pop();typeof h=="object"&&(m=h,h=r.pop()),XQ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...s,...m},{memoize:g,memoizeOptions:b=[],argsMemoize:v=HL,argsMemoizeOptions:w=[]}=f,j=xE(b),S=xE(w),k=QQ(r),_=g(function(){return l++,h.apply(null,arguments)},...j),C=v(function(){c++;const O=eee(k,arguments);return u=_.apply(null,O),u},...S);return Object.assign(C,{resultFunc:h,memoizedResultFunc:_,dependencies:k,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var Pe=nee(HL),ree=Object.assign((e,a=Pe)=>{ZQ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),n=s.map(l=>e[l]);return a(n,(...l)=>l.reduce((c,u,m)=>(c[s[m]]=u,c),{}))},{withTypes:()=>ree}),vj={},yj={},jj={},gE;function iee(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const s=(n,r,l)=>{if(n!==r){const c=a(n),u=a(r);if(c===u&&c===0){if(n<r)return l==="desc"?1:-1;if(n>r)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=s})(jj)),jj}var wj={},Nj={},bE;function qL(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=a})(Nj)),Nj}var vE;function lee(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=qL(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function r(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||a.isSymbol(l)?!0:typeof l=="string"&&(n.test(l)||!s.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=r})(wj)),wj}var yE;function oee(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=iee(),s=lee(),n=PS();function r(l,c,u,m){if(l==null)return[];u=m?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const h=(v,w)=>{let j=v;for(let S=0;S<w.length&&j!=null;++S)j=j[w[S]];return j},f=(v,w)=>w==null||v==null?w:typeof v=="object"&&"key"in v?Object.hasOwn(w,v.key)?w[v.key]:h(w,v.path):typeof v=="function"?v(w):Array.isArray(v)?h(w,v):typeof w=="object"?w[v]:w,g=c.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||s.isKey(v)?v:{key:v,path:n.toPath(v)}));return l.map(v=>({original:v,criteria:g.map(w=>f(w,v))})).slice().sort((v,w)=>{for(let j=0;j<g.length;j++){const S=a.compareValues(v.criteria[j],w.criteria[j],u[j]);if(S!==0)return S}return 0}).map(v=>v.original)}e.orderBy=r})(yj)),yj}var Sj={},jE;function cee(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s,n=1){const r=[],l=Math.floor(n),c=(u,m)=>{for(let h=0;h<u.length;h++){const f=u[h];Array.isArray(f)&&m<l?c(f,m+1):r.push(f)}};return c(s,0),r}e.flatten=a})(Sj)),Sj}var _j={},wE;function GL(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=FL(),s=IS(),n=RL(),r=IL();function l(c,u,m){return n.isObject(m)&&(typeof u=="number"&&s.isArrayLike(m)&&a.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?r.eq(m[u],c):!1}e.isIterateeCall=l})(_j)),_j}var NE;function dee(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=oee(),s=cee(),n=GL();function r(l,...c){const u=c.length;return u>1&&n.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),a.orderBy(l,s.flatten(c),["asc"])}e.sortBy=r})(vj)),vj}var kj,SE;function uee(){return SE||(SE=1,kj=dee().sortBy),kj}var mee=uee();const eb=Ei(mee);var KL=e=>e.legend.settings,hee=e=>e.legend.size,fee=e=>e.legend.payload,xee=Pe([fee,KL],(e,a)=>{var{itemSorter:s}=a,n=e.flat(1);return s?eb(n,s):n});function pee(){return ct(xee)}var Sx=1;function YL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[a,s]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(r=>{if(r!=null){var l=r.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-a.height)>Sx||Math.abs(c.left-a.left)>Sx||Math.abs(c.top-a.top)>Sx||Math.abs(c.width-a.width)>Sx)&&s({height:c.height,left:c.left,top:c.top,width:c.width})}},[a.width,a.height,a.top,a.left,...e]);return[a,n]}function Is(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gee=typeof Symbol=="function"&&Symbol.observable||"@@observable",_E=gee,Cj=()=>Math.random().toString(36).substring(7).split("").join("."),bee={INIT:`@@redux/INIT${Cj()}`,REPLACE:`@@redux/REPLACE${Cj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cj()}`},Wp=bee;function US(e){if(typeof e!="object"||e===null)return!1;let a=e;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(e)===a||Object.getPrototypeOf(e)===null}function WL(e,a,s){if(typeof e!="function")throw new Error(Is(2));if(typeof a=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Is(0));if(typeof a=="function"&&typeof s>"u"&&(s=a,a=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Is(1));return s(WL)(e,a)}let n=e,r=a,l=new Map,c=l,u=0,m=!1;function h(){c===l&&(c=new Map,l.forEach((S,k)=>{c.set(k,S)}))}function f(){if(m)throw new Error(Is(3));return r}function g(S){if(typeof S!="function")throw new Error(Is(4));if(m)throw new Error(Is(5));let k=!0;h();const _=u++;return c.set(_,S),function(){if(k){if(m)throw new Error(Is(6));k=!1,h(),c.delete(_),l=null}}}function b(S){if(!US(S))throw new Error(Is(7));if(typeof S.type>"u")throw new Error(Is(8));if(typeof S.type!="string")throw new Error(Is(17));if(m)throw new Error(Is(9));try{m=!0,r=n(r,S)}finally{m=!1}return(l=c).forEach(_=>{_()}),S}function v(S){if(typeof S!="function")throw new Error(Is(10));n=S,b({type:Wp.REPLACE})}function w(){const S=g;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Is(11));function _(){const T=k;T.next&&T.next(f())}return _(),{unsubscribe:S(_)}},[_E](){return this}}}return b({type:Wp.INIT}),{dispatch:b,subscribe:g,getState:f,replaceReducer:v,[_E]:w}}function vee(e){Object.keys(e).forEach(a=>{const s=e[a];if(typeof s(void 0,{type:Wp.INIT})>"u")throw new Error(Is(12));if(typeof s(void 0,{type:Wp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Is(13))})}function XL(e){const a=Object.keys(e),s={};for(let l=0;l<a.length;l++){const c=a[l];typeof e[c]=="function"&&(s[c]=e[c])}const n=Object.keys(s);let r;try{vee(s)}catch(l){r=l}return function(c={},u){if(r)throw r;let m=!1;const h={};for(let f=0;f<n.length;f++){const g=n[f],b=s[g],v=c[g],w=b(v,u);if(typeof w>"u")throw u&&u.type,new Error(Is(14));h[g]=w,m=m||w!==v}return m=m||n.length!==Object.keys(c).length,m?h:c}}function Xp(...e){return e.length===0?a=>a:e.length===1?e[0]:e.reduce((a,s)=>(...n)=>a(s(...n)))}function yee(...e){return a=>(s,n)=>{const r=a(s,n);let l=()=>{throw new Error(Is(15))};const c={getState:r.getState,dispatch:(m,...h)=>l(m,...h)},u=e.map(m=>m(c));return l=Xp(...u)(r.dispatch),{...r,dispatch:l}}}function ZL(e){return US(e)&&"type"in e&&typeof e.type=="string"}var JL=Symbol.for("immer-nothing"),kE=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function Gr(e,...a){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Au=Object.getPrototypeOf;function Dc(e){return!!e&&!!e[ar]}function vl(e){var a;return e?QL(e)||Array.isArray(e)||!!e[kE]||!!((a=e.constructor)!=null&&a[kE])||If(e)||ab(e):!1}var jee=Object.prototype.constructor.toString();function QL(e){if(!e||typeof e!="object")return!1;const a=Au(e);if(a===null)return!0;const s=Object.hasOwnProperty.call(a,"constructor")&&a.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===jee}function Zp(e,a){tb(e)===0?Reflect.ownKeys(e).forEach(s=>{a(s,e[s],e)}):e.forEach((s,n)=>a(n,s,e))}function tb(e){const a=e[ar];return a?a.type_:Array.isArray(e)?1:If(e)?2:ab(e)?3:0}function D2(e,a){return tb(e)===2?e.has(a):Object.prototype.hasOwnProperty.call(e,a)}function eR(e,a,s){const n=tb(e);n===2?e.set(a,s):n===3?e.add(s):e[a]=s}function wee(e,a){return e===a?e!==0||1/e===1/a:e!==e&&a!==a}function If(e){return e instanceof Map}function ab(e){return e instanceof Set}function oc(e){return e.copy_||e.base_}function L2(e,a){if(If(e))return new Map(e);if(ab(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=QL(e);if(a===!0||a==="class_only"&&!s){const n=Object.getOwnPropertyDescriptors(e);delete n[ar];let r=Reflect.ownKeys(n);for(let l=0;l<r.length;l++){const c=r[l],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(Au(e),n)}else{const n=Au(e);if(n!==null&&s)return{...e};const r=Object.create(n);return Object.assign(r,e)}}function FS(e,a=!1){return sb(e)||Dc(e)||!vl(e)||(tb(e)>1&&Object.defineProperties(e,{set:{value:_x},add:{value:_x},clear:{value:_x},delete:{value:_x}}),Object.freeze(e),a&&Object.values(e).forEach(s=>FS(s,!0))),e}function _x(){Gr(2)}function sb(e){return Object.isFrozen(e)}var Nee={};function Lc(e){const a=Nee[e];return a||Gr(0,e),a}var mf;function tR(){return mf}function See(e,a){return{drafts_:[],parent_:e,immer_:a,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CE(e,a){a&&(Lc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=a)}function R2(e){$2(e),e.drafts_.forEach(_ee),e.drafts_=null}function $2(e){e===mf&&(mf=e.parent_)}function AE(e){return mf=See(mf,e)}function _ee(e){const a=e[ar];a.type_===0||a.type_===1?a.revoke_():a.revoked_=!0}function EE(e,a){a.unfinalizedDrafts_=a.drafts_.length;const s=a.drafts_[0];return e!==void 0&&e!==s?(s[ar].modified_&&(R2(a),Gr(4)),vl(e)&&(e=Jp(a,e),a.parent_||Qp(a,e)),a.patches_&&Lc("Patches").generateReplacementPatches_(s[ar].base_,e,a.patches_,a.inversePatches_)):e=Jp(a,s,[]),R2(a),a.patches_&&a.patchListener_(a.patches_,a.inversePatches_),e!==JL?e:void 0}function Jp(e,a,s){if(sb(a))return a;const n=a[ar];if(!n)return Zp(a,(r,l)=>TE(e,n,a,r,l,s)),a;if(n.scope_!==e)return a;if(!n.modified_)return Qp(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const r=n.copy_;let l=r,c=!1;n.type_===3&&(l=new Set(r),r.clear(),c=!0),Zp(l,(u,m)=>TE(e,n,r,u,m,s,c)),Qp(e,r,!1),s&&e.patches_&&Lc("Patches").generatePatches_(n,s,e.patches_,e.inversePatches_)}return n.copy_}function TE(e,a,s,n,r,l,c){if(Dc(r)){const u=l&&a&&a.type_!==3&&!D2(a.assigned_,n)?l.concat(n):void 0,m=Jp(e,r,u);if(eR(s,n,m),Dc(m))e.canAutoFreeze_=!1;else return}else c&&s.add(r);if(vl(r)&&!sb(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Jp(e,r),(!a||!a.scope_.parent_)&&typeof n!="symbol"&&(If(s)?s.has(n):Object.prototype.propertyIsEnumerable.call(s,n))&&Qp(e,r)}}function Qp(e,a,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&FS(a,s)}function kee(e,a){const s=Array.isArray(e),n={type_:s?1:0,scope_:a?a.scope_:tR(),modified_:!1,finalized_:!1,assigned_:{},parent_:a,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,l=VS;s&&(r=[n],l=hf);const{revoke:c,proxy:u}=Proxy.revocable(r,l);return n.draft_=u,n.revoke_=c,u}var VS={get(e,a){if(a===ar)return e;const s=oc(e);if(!D2(s,a))return Cee(e,s,a);const n=s[a];return e.finalized_||!vl(n)?n:n===Aj(e.base_,a)?(Ej(e),e.copy_[a]=z2(n,e)):n},has(e,a){return a in oc(e)},ownKeys(e){return Reflect.ownKeys(oc(e))},set(e,a,s){const n=aR(oc(e),a);if(n!=null&&n.set)return n.set.call(e.draft_,s),!0;if(!e.modified_){const r=Aj(oc(e),a),l=r==null?void 0:r[ar];if(l&&l.base_===s)return e.copy_[a]=s,e.assigned_[a]=!1,!0;if(wee(s,r)&&(s!==void 0||D2(e.base_,a)))return!0;Ej(e),I2(e)}return e.copy_[a]===s&&(s!==void 0||a in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[a])||(e.copy_[a]=s,e.assigned_[a]=!0),!0},deleteProperty(e,a){return Aj(e.base_,a)!==void 0||a in e.base_?(e.assigned_[a]=!1,Ej(e),I2(e)):delete e.assigned_[a],e.copy_&&delete e.copy_[a],!0},getOwnPropertyDescriptor(e,a){const s=oc(e),n=Reflect.getOwnPropertyDescriptor(s,a);return n&&{writable:!0,configurable:e.type_!==1||a!=="length",enumerable:n.enumerable,value:s[a]}},defineProperty(){Gr(11)},getPrototypeOf(e){return Au(e.base_)},setPrototypeOf(){Gr(12)}},hf={};Zp(VS,(e,a)=>{hf[e]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}});hf.deleteProperty=function(e,a){return hf.set.call(this,e,a,void 0)};hf.set=function(e,a,s){return VS.set.call(this,e[0],a,s,e[0])};function Aj(e,a){const s=e[ar];return(s?oc(s):e)[a]}function Cee(e,a,s){var r;const n=aR(a,s);return n?"value"in n?n.value:(r=n.get)==null?void 0:r.call(e.draft_):void 0}function aR(e,a){if(!(a in e))return;let s=Au(e);for(;s;){const n=Object.getOwnPropertyDescriptor(s,a);if(n)return n;s=Au(s)}}function I2(e){e.modified_||(e.modified_=!0,e.parent_&&I2(e.parent_))}function Ej(e){e.copy_||(e.copy_=L2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Aee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(a,s,n)=>{if(typeof a=="function"&&typeof s!="function"){const l=s;s=a;const c=this;return function(m=l,...h){return c.produce(m,f=>s.call(this,f,...h))}}typeof s!="function"&&Gr(6),n!==void 0&&typeof n!="function"&&Gr(7);let r;if(vl(a)){const l=AE(this),c=z2(a,void 0);let u=!0;try{r=s(c),u=!1}finally{u?R2(l):$2(l)}return CE(l,n),EE(r,l)}else if(!a||typeof a!="object"){if(r=s(a),r===void 0&&(r=a),r===JL&&(r=void 0),this.autoFreeze_&&FS(r,!0),n){const l=[],c=[];Lc("Patches").generateReplacementPatches_(a,r,l,c),n(l,c)}return r}else Gr(1,a)},this.produceWithPatches=(a,s)=>{if(typeof a=="function")return(c,...u)=>this.produceWithPatches(c,m=>a(m,...u));let n,r;return[this.produce(a,s,(c,u)=>{n=c,r=u}),n,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){vl(e)||Gr(8),Dc(e)&&(e=dl(e));const a=AE(this),s=z2(e,void 0);return s[ar].isManual_=!0,$2(a),s}finishDraft(e,a){const s=e&&e[ar];(!s||!s.isManual_)&&Gr(9);const{scope_:n}=s;return CE(n,a),EE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,a){let s;for(s=a.length-1;s>=0;s--){const r=a[s];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}s>-1&&(a=a.slice(s+1));const n=Lc("Patches").applyPatches_;return Dc(e)?n(e,a):this.produce(e,r=>n(r,a))}};function z2(e,a){const s=If(e)?Lc("MapSet").proxyMap_(e,a):ab(e)?Lc("MapSet").proxySet_(e,a):kee(e,a);return(a?a.scope_:tR()).drafts_.push(s),s}function dl(e){return Dc(e)||Gr(10,e),sR(e)}function sR(e){if(!vl(e)||sb(e))return e;const a=e[ar];let s;if(a){if(!a.modified_)return a.base_;a.finalized_=!0,s=L2(e,a.scope_.immer_.useStrictShallowCopy_)}else s=L2(e,!0);return Zp(s,(n,r)=>{eR(s,n,sR(r))}),a&&(a.finalized_=!1),s}var Eee=new Aee,nR=Eee.produce;function rR(e){return({dispatch:s,getState:n})=>r=>l=>typeof l=="function"?l(s,n,e):r(l)}var Tee=rR(),Oee=rR,Pee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xp:Xp.apply(null,arguments)};function Or(e,a){function s(...n){if(a){let r=a(...n);if(!r)throw new Error(er(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=n=>ZL(n)&&n.type===e,s}var iR=class Ph extends Array{constructor(...a){super(...a),Object.setPrototypeOf(this,Ph.prototype)}static get[Symbol.species](){return Ph}concat(...a){return super.concat.apply(this,a)}prepend(...a){return a.length===1&&Array.isArray(a[0])?new Ph(...a[0].concat(this)):new Ph(...a.concat(this))}};function OE(e){return vl(e)?nR(e,()=>{}):e}function kx(e,a,s){return e.has(a)?e.get(a):e.set(a,s(a)).get(a)}function Mee(e){return typeof e=="boolean"}var Dee=()=>function(a){const{thunk:s=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:l=!0}=a??{};let c=new iR;return s&&(Mee(s)?c.push(Tee):c.push(Oee(s.extraArgument))),c},lR="RTK_autoBatch",cn=()=>e=>({payload:e,meta:{[lR]:!0}}),PE=e=>a=>{setTimeout(a,e)},oR=(e={type:"raf"})=>a=>(...s)=>{const n=a(...s);let r=!0,l=!1,c=!1;const u=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PE(10):e.type==="callback"?e.queueNotification:PE(e.timeout),h=()=>{c=!1,l&&(l=!1,u.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const g=()=>r&&f(),b=n.subscribe(g);return u.add(f),()=>{b(),u.delete(f)}},dispatch(f){var g;try{return r=!((g=f==null?void 0:f.meta)!=null&&g[lR]),l=!r,l&&(c||(c=!0,m(h))),n.dispatch(f)}finally{r=!0}}})},Lee=e=>function(s){const{autoBatch:n=!0}=s??{};let r=new iR(e);return n&&r.push(oR(typeof n=="object"?n:void 0)),r};function Ree(e){const a=Dee(),{reducer:s=void 0,middleware:n,devTools:r=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof s=="function")u=s;else if(US(s))u=XL(s);else throw new Error(er(1));let m;typeof n=="function"?m=n(a):m=a();let h=Xp;r&&(h=Pee({trace:!1,...typeof r=="object"&&r}));const f=yee(...m),g=Lee(f);let b=typeof c=="function"?c(g):g();const v=h(...b);return WL(u,l,v)}function cR(e){const a={},s=[];let n;const r={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(er(28));if(u in a)throw new Error(er(29));return a[u]=c,r},addAsyncThunk(l,c){return c.pending&&(a[l.pending.type]=c.pending),c.rejected&&(a[l.rejected.type]=c.rejected),c.fulfilled&&(a[l.fulfilled.type]=c.fulfilled),c.settled&&s.push({matcher:l.settled,reducer:c.settled}),r},addMatcher(l,c){return s.push({matcher:l,reducer:c}),r},addDefaultCase(l){return n=l,r}};return e(r),[a,s,n]}function $ee(e){return typeof e=="function"}function Iee(e,a){let[s,n,r]=cR(a),l;if($ee(e))l=()=>OE(e());else{const u=OE(e);l=()=>u}function c(u=l(),m){let h=[s[m.type],...n.filter(({matcher:f})=>f(m)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[r]),h.reduce((f,g)=>{if(g)if(Dc(f)){const v=g(f,m);return v===void 0?f:v}else{if(vl(f))return nR(f,b=>g(b,m));{const b=g(f,m);if(b===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return f},u)}return c.getInitialState=l,c}var zee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Bee=(e=21)=>{let a="",s=e;for(;s--;)a+=zee[Math.random()*64|0];return a},Uee=Symbol.for("rtk-slice-createasyncthunk");function Fee(e,a){return`${e}/${a}`}function Vee({creators:e}={}){var s;const a=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[Uee];return function(r){const{name:l,reducerPath:c=l}=r;if(!l)throw new Error(er(11));const u=(typeof r.reducers=="function"?r.reducers(qee()):r.reducers)||{},m=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(T,O){const E=typeof T=="string"?T:T.type;if(!E)throw new Error(er(12));if(E in h.sliceCaseReducersByType)throw new Error(er(13));return h.sliceCaseReducersByType[E]=O,f},addMatcher(T,O){return h.sliceMatchers.push({matcher:T,reducer:O}),f},exposeAction(T,O){return h.actionCreators[T]=O,f},exposeCaseReducer(T,O){return h.sliceCaseReducersByName[T]=O,f}};m.forEach(T=>{const O=u[T],E={reducerName:T,type:Fee(l,T),createNotation:typeof r.reducers=="function"};Kee(O)?Wee(E,O,f,a):Gee(E,O,f)});function g(){const[T={},O=[],E=void 0]=typeof r.extraReducers=="function"?cR(r.extraReducers):[r.extraReducers],$={...T,...h.sliceCaseReducersByType};return Iee(r.initialState,M=>{for(let H in $)M.addCase(H,$[H]);for(let H of h.sliceMatchers)M.addMatcher(H.matcher,H.reducer);for(let H of O)M.addMatcher(H.matcher,H.reducer);E&&M.addDefaultCase(E)})}const b=T=>T,v=new Map,w=new WeakMap;let j;function S(T,O){return j||(j=g()),j(T,O)}function k(){return j||(j=g()),j.getInitialState()}function _(T,O=!1){function E(M){let H=M[T];return typeof H>"u"&&O&&(H=kx(w,E,k)),H}function $(M=b){const H=kx(v,O,()=>new WeakMap);return kx(H,M,()=>{const V={};for(const[F,B]of Object.entries(r.selectors??{}))V[F]=Hee(B,M,()=>kx(w,M,k),O);return V})}return{reducerPath:T,getSelectors:$,get selectors(){return $(E)},selectSlice:E}}const C={name:l,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:k,..._(c),injectInto(T,{reducerPath:O,...E}={}){const $=O??c;return T.inject({reducerPath:$,reducer:S},E),{...C,..._($,!0)}}};return C}}function Hee(e,a,s,n){function r(l,...c){let u=a(l);return typeof u>"u"&&n&&(u=s()),e(u,...c)}return r.unwrapped=e,r}var sr=Vee();function qee(){function e(a,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:a,...s}}return e.withTypes=()=>e,{reducer(a){return Object.assign({[a.name](...s){return a(...s)}}[a.name],{_reducerDefinitionType:"reducer"})},preparedReducer(a,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:a,reducer:s}},asyncThunk:e}}function Gee({type:e,reducerName:a,createNotation:s},n,r){let l,c;if("reducer"in n){if(s&&!Yee(n))throw new Error(er(17));l=n.reducer,c=n.prepare}else l=n;r.addCase(e,l).exposeCaseReducer(a,l).exposeAction(a,c?Or(e,c):Or(e))}function Kee(e){return e._reducerDefinitionType==="asyncThunk"}function Yee(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Wee({type:e,reducerName:a},s,n,r){if(!r)throw new Error(er(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:m,settled:h,options:f}=s,g=r(e,l,f);n.exposeAction(a,g),c&&n.addCase(g.fulfilled,c),u&&n.addCase(g.pending,u),m&&n.addCase(g.rejected,m),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(a,{fulfilled:c||Cx,pending:u||Cx,rejected:m||Cx,settled:h||Cx})}function Cx(){}var Xee="task",dR="listener",uR="completed",HS="cancelled",Zee=`task-${HS}`,Jee=`task-${uR}`,B2=`${dR}-${HS}`,Qee=`${dR}-${uR}`,nb=class{constructor(e){Wy(this,"name","TaskAbortError");Wy(this,"message");this.code=e,this.message=`${Xee} ${HS} (reason: ${e})`}},qS=(e,a)=>{if(typeof e!="function")throw new TypeError(er(32))},eg=()=>{},mR=(e,a=eg)=>(e.catch(a),e),hR=(e,a)=>(e.addEventListener("abort",a,{once:!0}),()=>e.removeEventListener("abort",a)),Sc=(e,a)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:a,configurable:!0,writable:!0}),e.abort(a))},_c=e=>{if(e.aborted){const{reason:a}=e;throw new nb(a)}};function fR(e,a){let s=eg;return new Promise((n,r)=>{const l=()=>r(new nb(e.reason));if(e.aborted){l();return}s=hR(e,l),a.finally(()=>s()).then(n,r)}).finally(()=>{s=eg})}var ete=async(e,a)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof nb?"cancelled":"rejected",error:s}}finally{a==null||a()}},tg=e=>a=>mR(fR(e,a).then(s=>(_c(e),s))),xR=e=>{const a=tg(e);return s=>a(new Promise(n=>setTimeout(n,s)))},{assign:mu}=Object,ME={},rb="listenerMiddleware",tte=(e,a)=>{const s=n=>hR(e,()=>Sc(n,e.reason));return(n,r)=>{qS(n);const l=new AbortController;s(l);const c=ete(async()=>{_c(e),_c(l.signal);const u=await n({pause:tg(l.signal),delay:xR(l.signal),signal:l.signal});return _c(l.signal),u},()=>Sc(l,Jee));return r!=null&&r.autoJoin&&a.push(c.catch(eg)),{result:tg(e)(c),cancel(){Sc(l,Zee)}}}},ate=(e,a)=>{const s=async(n,r)=>{_c(a);let l=()=>{};const u=[new Promise((m,h)=>{let f=e({predicate:n,effect:(g,b)=>{b.unsubscribe(),m([g,b.getState(),b.getOriginalState()])}});l=()=>{f(),h()}})];r!=null&&u.push(new Promise(m=>setTimeout(m,r,null)));try{const m=await fR(a,Promise.race(u));return _c(a),m}finally{l()}};return(n,r)=>mR(s(n,r))},pR=e=>{let{type:a,actionCreator:s,matcher:n,predicate:r,effect:l}=e;if(a)r=Or(a).match;else if(s)a=s.type,r=s.match;else if(n)r=n;else if(!r)throw new Error(er(21));return qS(l),{predicate:r,type:a,effect:l}},gR=mu(e=>{const{type:a,predicate:s,effect:n}=pR(e);return{id:Bee(),effect:n,type:a,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(er(22))}}},{withTypes:()=>gR}),DE=(e,a)=>{const{type:s,effect:n,predicate:r}=pR(a);return Array.from(e.values()).find(l=>(typeof s=="string"?l.type===s:l.predicate===r)&&l.effect===n)},U2=e=>{e.pending.forEach(a=>{Sc(a,B2)})},ste=(e,a)=>()=>{for(const s of a.keys())U2(s);e.clear()},LE=(e,a,s)=>{try{e(a,s)}catch(n){setTimeout(()=>{throw n},0)}},bR=mu(Or(`${rb}/add`),{withTypes:()=>bR}),nte=Or(`${rb}/removeAll`),vR=mu(Or(`${rb}/remove`),{withTypes:()=>vR}),rte=(...e)=>{console.error(`${rb}/error`,...e)},zf=(e={})=>{const a=new Map,s=new Map,n=v=>{const w=s.get(v)??0;s.set(v,w+1)},r=v=>{const w=s.get(v)??1;w===1?s.delete(v):s.set(v,w-1)},{extra:l,onError:c=rte}=e;qS(c);const u=v=>(v.unsubscribe=()=>a.delete(v.id),a.set(v.id,v),w=>{v.unsubscribe(),w!=null&&w.cancelActive&&U2(v)}),m=v=>{const w=DE(a,v)??gR(v);return u(w)};mu(m,{withTypes:()=>m});const h=v=>{const w=DE(a,v);return w&&(w.unsubscribe(),v.cancelActive&&U2(w)),!!w};mu(h,{withTypes:()=>h});const f=async(v,w,j,S)=>{const k=new AbortController,_=ate(m,k.signal),C=[];try{v.pending.add(k),n(v),await Promise.resolve(v.effect(w,mu({},j,{getOriginalState:S,condition:(T,O)=>_(T,O).then(Boolean),take:_,delay:xR(k.signal),pause:tg(k.signal),extra:l,signal:k.signal,fork:tte(k.signal,C),unsubscribe:v.unsubscribe,subscribe:()=>{a.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((T,O,E)=>{T!==k&&(Sc(T,B2),E.delete(T))})},cancel:()=>{Sc(k,B2),v.pending.delete(k)},throwIfCancelled:()=>{_c(k.signal)}})))}catch(T){T instanceof nb||LE(c,T,{raisedBy:"effect"})}finally{await Promise.all(C),Sc(k,Qee),r(v),v.pending.delete(k)}},g=ste(a,s);return{middleware:v=>w=>j=>{if(!ZL(j))return w(j);if(bR.match(j))return m(j.payload);if(nte.match(j)){g();return}if(vR.match(j))return h(j.payload);let S=v.getState();const k=()=>{if(S===ME)throw new Error(er(23));return S};let _;try{if(_=w(j),a.size>0){const C=v.getState(),T=Array.from(a.values());for(const O of T){let E=!1;try{E=O.predicate(j,C,S)}catch($){E=!1,LE(c,$,{raisedBy:"predicate"})}E&&f(O,j,v,k)}}}finally{S=ME}return _},startListening:m,stopListening:h,clearListeners:g}};function er(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ite={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},yR=sr({name:"chartLayout",initialState:ite,reducers:{setLayout(e,a){e.layoutType=a.payload},setChartSize(e,a){e.width=a.payload.width,e.height=a.payload.height},setMargin(e,a){var s,n,r,l;e.margin.top=(s=a.payload.top)!==null&&s!==void 0?s:0,e.margin.right=(n=a.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(r=a.payload.bottom)!==null&&r!==void 0?r:0,e.margin.left=(l=a.payload.left)!==null&&l!==void 0?l:0},setScale(e,a){e.scale=a.payload}}}),{setMargin:lte,setLayout:ote,setChartSize:cte,setScale:dte}=yR.actions,ute=yR.reducer;function RE(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function $E(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?RE(Object(s),!0).forEach(function(n){mte(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RE(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function mte(e,a,s){return(a=hte(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function hte(e){var a=fte(e,"string");return typeof a=="symbol"?a:a+""}function fte(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var ag=Math.PI/180,xte=e=>e*180/Math.PI,rs=(e,a,s,n)=>({x:e+Math.cos(-ag*n)*s,y:a+Math.sin(-ag*n)*s}),jR=function(a,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(a-(n.left||0)-(n.right||0)),Math.abs(s-(n.top||0)-(n.bottom||0)))/2},pte=(e,a)=>{var{x:s,y:n}=e,{x:r,y:l}=a;return Math.sqrt((s-r)**2+(n-l)**2)},gte=(e,a)=>{var{x:s,y:n}=e,{cx:r,cy:l}=a,c=pte({x:s,y:n},{x:r,y:l});if(c<=0)return{radius:c,angle:0};var u=(s-r)/c,m=Math.acos(u);return n>l&&(m=2*Math.PI-m),{radius:c,angle:xte(m),angleInRadian:m}},bte=e=>{var{startAngle:a,endAngle:s}=e,n=Math.floor(a/360),r=Math.floor(s/360),l=Math.min(n,r);return{startAngle:a-l*360,endAngle:s-l*360}},vte=(e,a)=>{var{startAngle:s,endAngle:n}=a,r=Math.floor(s/360),l=Math.floor(n/360),c=Math.min(r,l);return e+c*360},yte=(e,a)=>{var{x:s,y:n}=e,{radius:r,angle:l}=gte({x:s,y:n},a),{innerRadius:c,outerRadius:u}=a;if(r<c||r>u||r===0)return null;var{startAngle:m,endAngle:h}=bte(a),f=l,g;if(m<=h){for(;f>h;)f-=360;for(;f<m;)f+=360;g=f>=m&&f<=h}else{for(;f>m;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=m}return g?$E($E({},a),{},{radius:r,angle:vte(f,a)}):null};function wR(e,a,s){return Array.isArray(e)&&e&&a+s!==0?e.slice(a,s+1):e}function IE(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function wr(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?IE(Object(s),!0).forEach(function(n){jte(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):IE(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function jte(e,a,s){return(a=wte(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function wte(e){var a=Nte(e,"string");return typeof a=="symbol"?a:a+""}function Nte(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function ua(e,a,s){return Ca(e)||Ca(a)?s:Ci(a)?Mc(e,a,s):typeof a=="function"?a(e):s}var Ste=(e,a,s,n,r)=>{var l,c=-1,u=(l=a==null?void 0:a.length)!==null&&l!==void 0?l:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var m=0;m<u;m++){var h=m>0?s[m-1].coordinate:s[u-1].coordinate,f=s[m].coordinate,g=m>=u-1?s[0].coordinate:s[m+1].coordinate,b=void 0;if(Ns(f-h)!==Ns(g-f)){var v=[];if(Ns(g-f)===Ns(r[1]-r[0])){b=g;var w=f+r[1]-r[0];v[0]=Math.min(w,(w+h)/2),v[1]=Math.max(w,(w+h)/2)}else{b=h;var j=g+r[1]-r[0];v[0]=Math.min(f,(j+f)/2),v[1]=Math.max(f,(j+f)/2)}var S=[Math.min(f,(b+f)/2),Math.max(f,(b+f)/2)];if(e>S[0]&&e<=S[1]||e>=v[0]&&e<=v[1]){({index:c}=s[m]);break}}else{var k=Math.min(h,g),_=Math.max(h,g);if(e>(k+f)/2&&e<=(_+f)/2){({index:c}=s[m]);break}}}else if(a){for(var C=0;C<u;C++)if(C===0&&e<=(a[C].coordinate+a[C+1].coordinate)/2||C>0&&C<u-1&&e>(a[C].coordinate+a[C-1].coordinate)/2&&e<=(a[C].coordinate+a[C+1].coordinate)/2||C===u-1&&e>(a[C].coordinate+a[C-1].coordinate)/2){({index:c}=a[C]);break}}return c},_te=(e,a,s)=>{if(a&&s){var{width:n,height:r}=s,{align:l,verticalAlign:c,layout:u}=a;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&mt(e[l]))return wr(wr({},e),{},{[l]:e[l]+(n||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&mt(e[c]))return wr(wr({},e),{},{[c]:e[c]+(r||0)})}return e},_o=(e,a)=>e==="horizontal"&&a==="xAxis"||e==="vertical"&&a==="yAxis"||e==="centric"&&a==="angleAxis"||e==="radial"&&a==="radiusAxis",NR=(e,a,s,n)=>{if(n)return e.map(u=>u.coordinate);var r,l,c=e.map(u=>(u.coordinate===a&&(r=!0),u.coordinate===s&&(l=!0),u.coordinate));return r||c.push(a),l||c.push(s),c},SR=(e,a,s)=>{if(!e)return null;var{duplicateDomain:n,type:r,range:l,scale:c,realScaleType:u,isCategorical:m,categoricalDomain:h,tickCount:f,ticks:g,niceTicks:b,axisType:v}=e;if(!c)return null;var w=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=r==="category"&&c.bandwidth?c.bandwidth()/w:0;if(j=v==="angleAxis"&&l&&l.length>=2?Ns(l[0]-l[1])*2*j:j,g||b){var S=(g||b||[]).map((k,_)=>{var C=n?n.indexOf(k):k;return{coordinate:c(C)+j,value:k,offset:j,index:_}});return S.filter(k=>!Tr(k.coordinate))}return m&&h?h.map((k,_)=>({coordinate:c(k)+j,value:k,index:_,offset:j})):c.ticks&&f!=null?c.ticks(f).map((k,_)=>({coordinate:c(k)+j,value:k,offset:j,index:_})):c.domain().map((k,_)=>({coordinate:c(k)+j,value:n?n[k]:k,index:_,offset:j}))},zE=1e-4,kte=e=>{var a=e.domain();if(!(!a||a.length<=2)){var s=a.length,n=e.range(),r=Math.min(n[0],n[1])-zE,l=Math.max(n[0],n[1])+zE,c=e(a[0]),u=e(a[s-1]);(c<r||c>l||u<r||u>l)&&e.domain([a[0],a[s-1]])}},Cte=(e,a)=>{if(!a||a.length!==2||!mt(a[0])||!mt(a[1]))return e;var s=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]),r=[e[0],e[1]];return(!mt(e[0])||e[0]<s)&&(r[0]=s),(!mt(e[1])||e[1]>n)&&(r[1]=n),r[0]>n&&(r[0]=n),r[1]<s&&(r[1]=s),r},Ate=e=>{var a=e.length;if(!(a<=0))for(var s=0,n=e[0].length;s<n;++s)for(var r=0,l=0,c=0;c<a;++c){var u=Tr(e[c][s][1])?e[c][s][0]:e[c][s][1];u>=0?(e[c][s][0]=r,e[c][s][1]=r+u,r=e[c][s][1]):(e[c][s][0]=l,e[c][s][1]=l+u,l=e[c][s][1])}},Ete=e=>{var a=e.length;if(!(a<=0))for(var s=0,n=e[0].length;s<n;++s)for(var r=0,l=0;l<a;++l){var c=Tr(e[l][s][1])?e[l][s][0]:e[l][s][1];c>=0?(e[l][s][0]=r,e[l][s][1]=r+c,r=e[l][s][1]):(e[l][s][0]=0,e[l][s][1]=0)}},Tte={sign:Ate,expand:tQ,none:Cu,silhouette:aQ,wiggle:sQ,positive:Ete},Ote=(e,a,s)=>{var n=Tte[s],r=eQ().keys(a).value((l,c)=>+ua(l,c,0)).order(O2).offset(n);return r(e)};function Pte(e){return e==null?void 0:String(e)}function BE(e){var{axis:a,ticks:s,bandSize:n,entry:r,index:l,dataKey:c}=e;if(a.type==="category"){if(!a.allowDuplicatedCategory&&a.dataKey&&!Ca(r[a.dataKey])){var u=ML(s,"value",r[a.dataKey]);if(u)return u.coordinate+n/2}return s[l]?s[l].coordinate+n/2:null}var m=ua(r,Ca(c)?a.dataKey:c);return Ca(m)?null:a.scale(m)}var UE=e=>{var{axis:a,ticks:s,offset:n,bandSize:r,entry:l,index:c}=e;if(a.type==="category")return s[c]?s[c].coordinate+n:null;var u=ua(l,a.dataKey,a.scale.domain()[c]);return Ca(u)?null:a.scale(u)-r/2+n},Mte=e=>{var{numericAxis:a}=e,s=a.scale.domain();if(a.type==="number"){var n=Math.min(s[0],s[1]),r=Math.max(s[0],s[1]);return n<=0&&r>=0?0:r<0?r:n}return s[0]},Dte=e=>{var a=e.flat(2).filter(mt);return[Math.min(...a),Math.max(...a)]},Lte=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Rte=(e,a,s)=>{if(e!=null)return Lte(Object.keys(e).reduce((n,r)=>{var l=e[r],{stackedData:c}=l,u=c.reduce((m,h)=>{var f=wR(h,a,s),g=Dte(f);return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},FE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ff=(e,a,s)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!s||n>0)return n}if(e&&a&&a.length>=2){for(var r=eb(a,f=>f.coordinate),l=1/0,c=1,u=r.length;c<u;c++){var m=r[c],h=r[c-1];l=Math.min((m.coordinate||0)-(h.coordinate||0),l)}return l===1/0?0:l}return s?void 0:0};function HE(e){var{tooltipEntrySettings:a,dataKey:s,payload:n,value:r,name:l}=e;return wr(wr({},a),{},{dataKey:s,payload:n,value:r,name:l})}function Gu(e,a){if(e)return String(e);if(typeof a=="string")return a}function $te(e,a,s,n,r){if(s==="horizontal"||s==="vertical"){var l=e>=r.left&&e<=r.left+r.width&&a>=r.top&&a<=r.top+r.height;return l?{x:e,y:a}:null}return n?yte({x:e,y:a},n):null}var Ite=(e,a,s,n)=>{var r=a.find(h=>h&&h.index===s);if(r){if(e==="horizontal")return{x:r.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:r.coordinate};if(e==="centric"){var l=r.coordinate,{radius:c}=n;return wr(wr(wr({},n),rs(n.cx,n.cy,c,l)),{},{angle:l,radius:c})}var u=r.coordinate,{angle:m}=n;return wr(wr(wr({},n),rs(n.cx,n.cy,u,m)),{},{angle:m,radius:u})}return{x:0,y:0}},zte=(e,a)=>a==="horizontal"?e.x:a==="vertical"?e.y:a==="centric"?e.angle:e.radius,Nl=e=>e.layout.width,Sl=e=>e.layout.height,Bte=e=>e.layout.scale,_R=e=>e.layout.margin,ib=Pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),lb=Pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),kR="data-recharts-item-index",CR="data-recharts-item-data-key",Bf=60;function qE(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Ax(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?qE(Object(s),!0).forEach(function(n){Ute(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qE(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Ute(e,a,s){return(a=Fte(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Fte(e){var a=Vte(e,"string");return typeof a=="symbol"?a:a+""}function Vte(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Hte=e=>e.brush.height;function qte(e){var a=lb(e);return a.reduce((s,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var r=typeof n.width=="number"?n.width:Bf;return s+r}return s},0)}function Gte(e){var a=lb(e);return a.reduce((s,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var r=typeof n.width=="number"?n.width:Bf;return s+r}return s},0)}function Kte(e){var a=ib(e);return a.reduce((s,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?s+n.height:s,0)}function Yte(e){var a=ib(e);return a.reduce((s,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?s+n.height:s,0)}var us=Pe([Nl,Sl,_R,Hte,qte,Gte,Kte,Yte,KL,hee],(e,a,s,n,r,l,c,u,m,h)=>{var f={left:(s.left||0)+r,right:(s.right||0)+l},g={top:(s.top||0)+c,bottom:(s.bottom||0)+u},b=Ax(Ax({},g),f),v=b.bottom;b.bottom+=n,b=_te(b,m,h);var w=e-b.left-b.right,j=a-b.top-b.bottom;return Ax(Ax({brushBottom:v},b),{},{width:Math.max(w,0),height:Math.max(j,0)})}),Wte=Pe(us,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),GS=Pe(Nl,Sl,(e,a)=>({x:0,y:0,width:e,height:a})),Xte=x.createContext(null),gn=()=>x.useContext(Xte)!=null,ob=e=>e.brush,cb=Pe([ob,us,_R],(e,a,s)=>({height:e.height,x:mt(e.x)?e.x:a.left,y:mt(e.y)?e.y:a.top+a.height+a.brushBottom-((s==null?void 0:s.bottom)||0),width:mt(e.width)?e.width:a.width})),Tj={},Oj={},Pj={},GE;function Zte(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s,n,{signal:r,edges:l}={}){let c,u=null;const m=l!=null&&l.includes("leading"),h=l==null||l.includes("trailing"),f=()=>{u!==null&&(s.apply(c,u),c=void 0,u=null)},g=()=>{h&&f(),j()};let b=null;const v=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},n)},w=()=>{b!==null&&(clearTimeout(b),b=null)},j=()=>{w(),c=void 0,u=null},S=()=>{f()},k=function(..._){if(r!=null&&r.aborted)return;c=this,u=_;const C=b==null;v(),m&&C&&f()};return k.schedule=v,k.cancel=j,k.flush=S,r==null||r.addEventListener("abort",j,{once:!0}),k}e.debounce=a})(Pj)),Pj}var KE;function Jte(){return KE||(KE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=Zte();function s(n,r=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:m}=l,h=Array(2);c&&(h[0]="leading"),u&&(h[1]="trailing");let f,g=null;const b=a.debounce(function(...j){f=n.apply(this,j),g=null},r,{edges:h}),v=function(...j){return m!=null&&(g===null&&(g=Date.now()),Date.now()-g>=m)?(f=n.apply(this,j),g=Date.now(),b.cancel(),b.schedule(),f):(b.apply(this,j),f)},w=()=>(b.flush(),f);return v.cancel=b.cancel,v.flush=w,v}e.debounce=s})(Oj)),Oj}var YE;function Qte(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=Jte();function s(n,r=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return a.debounce(n,r,{leading:c,maxWait:r,trailing:u})}e.throttle=s})(Tj)),Tj}var Mj,WE;function eae(){return WE||(WE=1,Mj=Qte().throttle),Mj}var tae=eae();const aae=Ei(tae);var sg=function(a,s){for(var n=arguments.length,r=new Array(n>2?n-2:0),l=2;l<n;l++)r[l-2]=arguments[l]},AR=(e,a,s)=>{var{width:n="100%",height:r="100%",aspect:l,maxHeight:c}=s,u=bl(n)?e:Number(n),m=bl(r)?a:Number(r);return l&&l>0&&(u?m=u/l:m&&(u=m*l),c&&m>c&&(m=c)),{calculatedWidth:u,calculatedHeight:m}},sae={width:0,height:0,overflow:"visible"},nae={width:0,overflowX:"visible"},rae={height:0,overflowY:"visible"},iae={},lae=e=>{var{width:a,height:s}=e,n=bl(a),r=bl(s);return n&&r?sae:n?nae:r?rae:iae};function oae(e){var{width:a,height:s,aspect:n}=e,r=a,l=s;return r===void 0&&l===void 0?(r="100%",l="100%"):r===void 0?r=n&&n>0?void 0:"100%":l===void 0&&(l=n&&n>0?void 0:"100%"),{width:r,height:l}}function sn(e){return Number.isFinite(e)}function Eu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},F2.apply(null,arguments)}function XE(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function ZE(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?XE(Object(s),!0).forEach(function(n){cae(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):XE(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function cae(e,a,s){return(a=dae(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function dae(e){var a=uae(e,"string");return typeof a=="symbol"?a:a+""}function uae(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var ER=x.createContext({width:-1,height:-1});function TR(e){var{children:a,width:s,height:n}=e,r=x.useMemo(()=>({width:s,height:n}),[s,n]);return s<=0||n<=0?null:x.createElement(ER.Provider,{value:r},a)}var KS=()=>x.useContext(ER),mae=x.forwardRef((e,a)=>{var{aspect:s,initialDimension:n={width:-1,height:-1},width:r,height:l,minWidth:c=0,minHeight:u,maxHeight:m,children:h,debounce:f=0,id:g,className:b,onResize:v,style:w={}}=e,j=x.useRef(null),S=x.useRef();S.current=v,x.useImperativeHandle(a,()=>j.current);var[k,_]=x.useState({containerWidth:n.width,containerHeight:n.height}),C=x.useCallback((M,H)=>{_(V=>{var F=Math.round(M),B=Math.round(H);return V.containerWidth===F&&V.containerHeight===B?V:{containerWidth:F,containerHeight:B}})},[]);x.useEffect(()=>{var M=B=>{var ee,{width:we,height:ne}=B[0].contentRect;C(we,ne),(ee=S.current)===null||ee===void 0||ee.call(S,we,ne)};f>0&&(M=aae(M,f,{trailing:!0,leading:!1}));var H=new ResizeObserver(M),{width:V,height:F}=j.current.getBoundingClientRect();return C(V,F),H.observe(j.current),()=>{H.disconnect()}},[C,f]);var{containerWidth:T,containerHeight:O}=k;sg(!s||s>0,"The aspect(%s) must be greater than zero.",s);var{calculatedWidth:E,calculatedHeight:$}=AR(T,O,{width:r,height:l,aspect:s,maxHeight:m});return sg(E>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,$,r,l,c,u,s),x.createElement("div",{id:g?"".concat(g):void 0,className:Pt("recharts-responsive-container",b),style:ZE(ZE({},w),{},{width:r,height:l,minWidth:c,minHeight:u,maxHeight:m}),ref:j},x.createElement("div",{style:lae({width:r,height:l})},x.createElement(TR,{width:E,height:$},h)))}),Zn=x.forwardRef((e,a)=>{var s=KS();if(Eu(s.width)&&Eu(s.height))return e.children;var{width:n,height:r}=oae({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=AR(void 0,void 0,{width:n,height:r,aspect:e.aspect,maxHeight:e.maxHeight});return mt(l)&&mt(c)?x.createElement(TR,{width:l,height:c},e.children):x.createElement(mae,F2({},e,{width:n,height:r,ref:a}))}),db=()=>{var e,a=gn(),s=ct(Wte),n=ct(cb),r=(e=ct(ob))===null||e===void 0?void 0:e.padding;return!a||!n||!r?s:{width:n.width-r.left-r.right,height:n.height-r.top-r.bottom,x:r.left,y:r.top}},hae={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},OR=()=>{var e;return(e=ct(us))!==null&&e!==void 0?e:hae},YS=()=>ct(Nl),WS=()=>ct(Sl),fae=()=>ct(e=>e.layout.margin),Bt=e=>e.layout.layoutType,ub=()=>ct(Bt),mb=e=>{var a=Ea(),s=gn(),{width:n,height:r}=e,l=KS(),c=n,u=r;return l&&(c=l.width>0?l.width:n,u=l.height>0?l.height:r),x.useEffect(()=>{!s&&Eu(c)&&Eu(u)&&a(cte({width:c,height:u}))},[a,s,c,u]),null},xae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},PR=sr({name:"legend",initialState:xae,reducers:{setLegendSize(e,a){e.size.width=a.payload.width,e.size.height=a.payload.height},setLegendSettings(e,a){e.settings.align=a.payload.align,e.settings.layout=a.payload.layout,e.settings.verticalAlign=a.payload.verticalAlign,e.settings.itemSorter=a.payload.itemSorter},addLegendPayload:{reducer(e,a){e.payload.push(a.payload)},prepare:cn()},removeLegendPayload:{reducer(e,a){var s=dl(e).payload.indexOf(a.payload);s>-1&&e.payload.splice(s,1)},prepare:cn()}}}),{setLegendSize:JE,setLegendSettings:pae,addLegendPayload:MR,removeLegendPayload:DR}=PR.actions,gae=PR.reducer,bae=["contextPayload"];function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},V2.apply(null,arguments)}function QE(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Tu(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?QE(Object(s),!0).forEach(function(n){XS(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):QE(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function XS(e,a,s){return(a=vae(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function vae(e){var a=yae(e,"string");return typeof a=="symbol"?a:a+""}function yae(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function jae(e,a){if(e==null)return{};var s,n,r=wae(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function wae(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function Nae(e){return e.value}function Sae(e){var{contextPayload:a}=e,s=jae(e,bae),n=VL(a,e.payloadUniqBy,Nae),r=Tu(Tu({},s),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,r):typeof e.content=="function"?x.createElement(e.content,r):x.createElement($S,r)}function _ae(e,a,s,n,r,l){var{layout:c,align:u,verticalAlign:m}=a,h,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&c==="vertical"?h={left:((n||0)-l.width)/2}:h=u==="right"?{right:s&&s.right||0}:{left:s&&s.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?f={top:((r||0)-l.height)/2}:f=m==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Tu(Tu({},h),f)}function kae(e){var a=Ea();return x.useEffect(()=>{a(pae(e))},[a,e]),null}function Cae(e){var a=Ea();return x.useEffect(()=>(a(JE(e)),()=>{a(JE({width:0,height:0}))}),[a,e]),null}function Aae(e){var a=pee(),s=SJ(),n=fae(),{width:r,height:l,wrapperStyle:c,portal:u}=e,[m,h]=YL([a]),f=YS(),g=WS();if(f==null||g==null)return null;var b=f-(n.left||0)-(n.right||0),v=hb.getWidthOrHeight(e.layout,l,r,b),w=u?c:Tu(Tu({position:"absolute",width:(v==null?void 0:v.width)||r||"auto",height:(v==null?void 0:v.height)||l||"auto"},_ae(c,e,n,f,g,m)),c),j=u??s;if(j==null)return null;var S=x.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},x.createElement(kae,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(Cae,{width:m.width,height:m.height}),x.createElement(Sae,V2({},e,v,{margin:n,chartWidth:f,chartHeight:g,contextPayload:a})));return QM.createPortal(S,j)}class hb extends x.PureComponent{static getWidthOrHeight(a,s,n,r){return a==="vertical"&&mt(s)?{height:s}:a==="horizontal"?{width:n||r}:null}render(){return x.createElement(Aae,this.props)}}XS(hb,"displayName","Legend");XS(hb,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},H2.apply(null,arguments)}function eT(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Dj(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?eT(Object(s),!0).forEach(function(n){Eae(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eT(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Eae(e,a,s){return(a=Tae(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Tae(e){var a=Oae(e,"string");return typeof a=="symbol"?a:a+""}function Oae(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Pae(e){return Array.isArray(e)&&Ci(e[0])&&Ci(e[1])?e.join(" ~ "):e}var Mae=e=>{var{separator:a=" : ",contentStyle:s={},itemStyle:n={},labelStyle:r={},payload:l,formatter:c,itemSorter:u,wrapperClassName:m,labelClassName:h,label:f,labelFormatter:g,accessibilityLayer:b=!1}=e,v=()=>{if(l&&l.length){var O={padding:0,margin:0},E=(u?eb(l,u):l).map(($,M)=>{if($.type==="none")return null;var H=$.formatter||c||Pae,{value:V,name:F}=$,B=V,ee=F;if(H){var we=H(V,F,$,M,l);if(Array.isArray(we))[B,ee]=we;else if(we!=null)B=we;else return null}var ne=Dj({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ne},Ci(ee)?x.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Ci(ee)?x.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,x.createElement("span",{className:"recharts-tooltip-item-value"},B),x.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},E)}return null},w=Dj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=Dj({margin:0},r),S=!Ca(f),k=S?f:"",_=Pt("recharts-default-tooltip",m),C=Pt("recharts-tooltip-label",h);S&&g&&l!==void 0&&l!==null&&(k=g(f,l));var T=b?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",H2({className:_,style:w},T),x.createElement("p",{className:C,style:j},x.isValidElement(k)?k:"".concat(k)),v())},Jm="recharts-tooltip-wrapper",Dae={visibility:"hidden"};function Lae(e){var{coordinate:a,translateX:s,translateY:n}=e;return Pt(Jm,{["".concat(Jm,"-right")]:mt(s)&&a&&mt(a.x)&&s>=a.x,["".concat(Jm,"-left")]:mt(s)&&a&&mt(a.x)&&s<a.x,["".concat(Jm,"-bottom")]:mt(n)&&a&&mt(a.y)&&n>=a.y,["".concat(Jm,"-top")]:mt(n)&&a&&mt(a.y)&&n<a.y})}function tT(e){var{allowEscapeViewBox:a,coordinate:s,key:n,offsetTopLeft:r,position:l,reverseDirection:c,tooltipDimension:u,viewBox:m,viewBoxDimension:h}=e;if(l&&mt(l[n]))return l[n];var f=s[n]-u-(r>0?r:0),g=s[n]+r;if(a[n])return c[n]?f:g;var b=m[n];if(b==null)return 0;if(c[n]){var v=f,w=b;return v<w?Math.max(g,b):Math.max(f,b)}if(h==null)return 0;var j=g+u,S=b+h;return j>S?Math.max(f,b):Math.max(g,b)}function Rae(e){var{translateX:a,translateY:s,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(a,"px, ").concat(s,"px, 0)"):"translate(".concat(a,"px, ").concat(s,"px)")}}function $ae(e){var{allowEscapeViewBox:a,coordinate:s,offsetTopLeft:n,position:r,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:m}=e,h,f,g;return c.height>0&&c.width>0&&s?(f=tT({allowEscapeViewBox:a,coordinate:s,key:"x",offsetTopLeft:n,position:r,reverseDirection:l,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),g=tT({allowEscapeViewBox:a,coordinate:s,key:"y",offsetTopLeft:n,position:r,reverseDirection:l,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),h=Rae({translateX:f,translateY:g,useTranslate3d:u})):h=Dae,{cssProperties:h,cssClasses:Lae({translateX:f,translateY:g,coordinate:s})}}function aT(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Ex(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?aT(Object(s),!0).forEach(function(n){q2(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):aT(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function q2(e,a,s){return(a=Iae(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Iae(e){var a=zae(e,"string");return typeof a=="symbol"?a:a+""}function zae(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}class Bae extends x.PureComponent{constructor(){super(...arguments),q2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),q2(this,"handleKeyDown",a=>{if(a.key==="Escape"){var s,n,r,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&s!==void 0?s:0,y:(r=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var a,s;this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:a,allowEscapeViewBox:s,animationDuration:n,animationEasing:r,children:l,coordinate:c,hasPayload:u,isAnimationActive:m,offset:h,position:f,reverseDirection:g,useTranslate3d:b,viewBox:v,wrapperStyle:w,lastBoundingBox:j,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:_,cssProperties:C}=$ae({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:h,position:f,reverseDirection:g,tooltipBox:{height:j.height,width:j.width},useTranslate3d:b,viewBox:v}),T=k?{}:Ex(Ex({transition:m&&a?"transform ".concat(n,"ms ").concat(r):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=Ex(Ex({},T),{},{visibility:!this.state.dismissed&&a&&u?"visible":"hidden"},w);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:O,ref:S},l)}}var Uae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ko={devToolsEnabled:!1,isSsr:Uae()},LR=()=>ct(e=>e.rootProps.accessibilityLayer);function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},G2.apply(null,arguments)}function sT(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function nT(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?sT(Object(s),!0).forEach(function(n){Fae(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sT(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Fae(e,a,s){return(a=Vae(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Vae(e){var a=Hae(e,"string");return typeof a=="symbol"?a:a+""}function Hae(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var rT={curveBasisClosed:VJ,curveBasisOpen:HJ,curveBasis:FJ,curveBumpX:AJ,curveBumpY:EJ,curveLinearClosed:qJ,curveLinear:Jg,curveMonotoneX:GJ,curveMonotoneY:KJ,curveNatural:YJ,curveStep:WJ,curveStepAfter:ZJ,curveStepBefore:XJ},Tx=e=>sn(e.x)&&sn(e.y),Qm=e=>e.x,eh=e=>e.y,qae=(e,a)=>{if(typeof e=="function")return e;var s="curve".concat(Rf(e));return(s==="curveMonotone"||s==="curveBump")&&a?rT["".concat(s).concat(a==="vertical"?"Y":"X")]:rT[s]||Jg},Gae=e=>{var{type:a="linear",points:s=[],baseLine:n,layout:r,connectNulls:l=!1}=e,c=qae(a,r),u=l?s.filter(Tx):s,m;if(Array.isArray(n)){var h=l?n.filter(g=>Tx(g)):n,f=u.map((g,b)=>nT(nT({},g),{},{base:h[b]}));return r==="vertical"?m=wx().y(eh).x1(Qm).x0(g=>g.base.x):m=wx().x(Qm).y1(eh).y0(g=>g.base.y),m.defined(Tx).curve(c),m(f)}return r==="vertical"&&mt(n)?m=wx().y(eh).x1(Qm).x0(n):mt(n)?m=wx().x(Qm).y1(eh).y0(n):m=yL().x(Qm).y(eh),m.defined(Tx).curve(c),m(u)},ZS=e=>{var{className:a,points:s,path:n,pathRef:r}=e;if((!s||!s.length)&&!n)return null;var l=s&&s.length?Gae(e):n;return x.createElement("path",G2({},tr(e),LS(e),{className:Pt("recharts-curve",a),d:l===null?void 0:l,ref:r}))},Kae=["x","y","top","left","width","height","className"];function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},K2.apply(null,arguments)}function iT(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Yae(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?iT(Object(s),!0).forEach(function(n){Wae(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):iT(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Wae(e,a,s){return(a=Xae(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Xae(e){var a=Zae(e,"string");return typeof a=="symbol"?a:a+""}function Zae(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Jae(e,a){if(e==null)return{};var s,n,r=Qae(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Qae(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var ese=(e,a,s,n,r,l)=>"M".concat(e,",").concat(r,"v").concat(n,"M").concat(l,",").concat(a,"h").concat(s),tse=e=>{var{x:a=0,y:s=0,top:n=0,left:r=0,width:l=0,height:c=0,className:u}=e,m=Jae(e,Kae),h=Yae({x:a,y:s,top:n,left:r,width:l,height:c},m);return!mt(a)||!mt(s)||!mt(l)||!mt(c)||!mt(n)||!mt(r)?null:x.createElement("path",K2({},pn(h),{className:Pt("recharts-cross",u),d:ese(a,s,l,c,n,r)}))};function ase(e,a,s,n){var r=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?a.x-r:s.left+.5,y:e==="horizontal"?s.top+.5:a.y-r,width:e==="horizontal"?n:s.width-1,height:e==="horizontal"?s.height-1:n}}function lT(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function sse(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?lT(Object(s),!0).forEach(function(n){nse(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lT(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function nse(e,a,s){return(a=rse(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function rse(e){var a=ise(e,"string");return typeof a=="symbol"?a:a+""}function ise(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Vs(e,a){var s=sse({},e),n=a,r=Object.keys(a),l=r.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),s);return l}function lse(){}function ose(e){return e!=null}function oT(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function cT(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?oT(Object(s),!0).forEach(function(n){cse(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oT(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function cse(e,a,s){return(a=dse(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function dse(e){var a=use(e,"string");return typeof a=="symbol"?a:a+""}function use(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var mse=e=>e.replace(/([A-Z])/g,a=>"-".concat(a.toLowerCase())),RR=(e,a,s)=>e.map(n=>"".concat(mse(n)," ").concat(a,"ms ").concat(s)).join(","),hse=(e,a)=>[Object.keys(e),Object.keys(a)].reduce((s,n)=>s.filter(r=>n.includes(r))),xf=(e,a)=>Object.keys(a).reduce((s,n)=>cT(cT({},s),{},{[n]:e(n,a[n])}),{});function dT(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Bs(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?dT(Object(s),!0).forEach(function(n){fse(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dT(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function fse(e,a,s){return(a=xse(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function xse(e){var a=pse(e,"string");return typeof a=="symbol"?a:a+""}function pse(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var ng=(e,a,s)=>e+(a-e)*s,Y2=e=>{var{from:a,to:s}=e;return a!==s},$R=(e,a,s)=>{var n=xf((r,l)=>{if(Y2(l)){var[c,u]=e(l.from,l.to,l.velocity);return Bs(Bs({},l),{},{from:c,velocity:u})}return l},a);return s<1?xf((r,l)=>Y2(l)?Bs(Bs({},l),{},{velocity:ng(l.velocity,n[r].velocity,s),from:ng(l.from,n[r].from,s)}):l,a):$R(e,n,s-1)};function gse(e,a,s,n,r,l){var c,u=n.reduce((b,v)=>Bs(Bs({},b),{},{[v]:{from:e[v],velocity:0,to:a[v]}}),{}),m=()=>xf((b,v)=>v.from,u),h=()=>!Object.values(u).filter(Y2).length,f=null,g=b=>{c||(c=b);var v=b-c,w=v/s.dt;u=$R(s,u,w),r(Bs(Bs(Bs({},e),a),m())),c=b,h()||(f=l.setTimeout(g))};return()=>(f=l.setTimeout(g),()=>{f()})}function bse(e,a,s,n,r,l,c){var u=null,m=r.reduce((g,b)=>Bs(Bs({},g),{},{[b]:[e[b],a[b]]}),{}),h,f=g=>{h||(h=g);var b=(g-h)/n,v=xf((j,S)=>ng(...S,s(b)),m);if(l(Bs(Bs(Bs({},e),a),v)),b<1)u=c.setTimeout(f);else{var w=xf((j,S)=>ng(...S,s(1)),m);l(Bs(Bs(Bs({},e),a),w))}};return()=>(u=c.setTimeout(f),()=>{u()})}const vse=(e,a,s,n,r,l)=>{var c=hse(e,a);return s.isStepper===!0?gse(e,a,s,c,r,l):bse(e,a,s,n,c,r,l)};var rg=1e-4,IR=(e,a)=>[0,3*e,3*a-6*e,3*e-3*a+1],zR=(e,a)=>e.map((s,n)=>s*a**n).reduce((s,n)=>s+n),uT=(e,a)=>s=>{var n=IR(e,a);return zR(n,s)},yse=(e,a)=>s=>{var n=IR(e,a),r=[...n.map((l,c)=>l*c).slice(1),0];return zR(r,s)},mT=function(){for(var a,s,n,r,l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];if(c.length===1)switch(c[0]){case"linear":[a,n,s,r]=[0,0,1,1];break;case"ease":[a,n,s,r]=[.25,.1,.25,1];break;case"ease-in":[a,n,s,r]=[.42,0,1,1];break;case"ease-out":[a,n,s,r]=[.42,0,.58,1];break;case"ease-in-out":[a,n,s,r]=[0,0,.58,1];break;default:{var m=c[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([a,n,s,r]=m[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else c.length===4&&([a,n,s,r]=c);var h=uT(a,s),f=uT(n,r),g=yse(a,s),b=w=>w>1?1:w<0?0:w,v=w=>{for(var j=w>1?1:w,S=j,k=0;k<8;++k){var _=h(S)-j,C=g(S);if(Math.abs(_-j)<rg||C<rg)return f(S);S=b(S-_/C)}return f(S)};return v.isStepper=!1,v},jse=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:n=8,dt:r=17}=a,l=(c,u,m)=>{var h=-(c-u)*s,f=m*n,g=m+(h-f)*r/1e3,b=m*r/1e3+c;return Math.abs(b-u)<rg&&Math.abs(g)<rg?[u,0]:[b,g]};return l.isStepper=!0,l.dt=r,l},wse=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mT(e);case"spring":return jse();default:if(e.split("(")[0]==="cubic-bezier")return mT(e)}return typeof e=="function"?e:null};function Nse(e){var a,s=()=>null,n=!1,r=null,l=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[m,...h]=u;if(typeof m=="number"){r=e.setTimeout(l.bind(null,h),m);return}l(m),r=e.setTimeout(l.bind(null,h));return}typeof c=="string"&&(a=c,s(a)),typeof c=="object"&&(a=c,s(a)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,r&&(r(),r=null),l(c)},subscribe:c=>(s=c,()=>{s=()=>null}),getTimeoutController:()=>e}}class Sse{setTimeout(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),r=null,l=c=>{c-n>=s?a(c):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(l))};return r=requestAnimationFrame(l),()=>{cancelAnimationFrame(r)}}}function _se(){return Nse(new Sse)}var kse=x.createContext(_se);function Cse(e,a){var s=x.useContext(kse);return x.useMemo(()=>a??s(e),[e,a,s])}var Ase={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hT={t:0},Lj={t:1};function Uf(e){var a=Vs(e,Ase),{isActive:s,canBegin:n,duration:r,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:m,children:h}=a,f=Cse(a.animationId,a.animationManager),[g,b]=x.useState(s?hT:Lj),v=x.useRef(null);return x.useEffect(()=>{s||b(Lj)},[s]),x.useEffect(()=>{if(!s||!n)return lse;var w=vse(hT,Lj,wse(l),r,b,f.getTimeoutController()),j=()=>{v.current=w()};return f.start([m,c,j,r,u]),()=>{f.stop(),v.current&&v.current(),u()}},[s,n,r,l,c,m,u,f]),h(g.t)}function Ff(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=x.useRef(uf(a)),n=x.useRef(e);return n.current!==e&&(s.current=uf(a),n.current=e),s.current}var Ese=["radius"],Tse=["radius"];function fT(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function xT(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?fT(Object(s),!0).forEach(function(n){Ose(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fT(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Ose(e,a,s){return(a=Pse(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Pse(e){var a=Mse(e,"string");return typeof a=="symbol"?a:a+""}function Mse(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ig.apply(null,arguments)}function pT(e,a){if(e==null)return{};var s,n,r=Dse(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Dse(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var gT=(e,a,s,n,r)=>{var l=Math.min(Math.abs(s)/2,Math.abs(n)/2),c=n>=0?1:-1,u=s>=0?1:-1,m=n>=0&&s>=0||n<0&&s<0?1:0,h;if(l>0&&r instanceof Array){for(var f=[0,0,0,0],g=0,b=4;g<b;g++)f[g]=r[g]>l?l:r[g];h="M".concat(e,",").concat(a+c*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(m,",").concat(e+u*f[0],",").concat(a)),h+="L ".concat(e+s-u*f[1],",").concat(a),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(m,`,
        `).concat(e+s,",").concat(a+c*f[1])),h+="L ".concat(e+s,",").concat(a+n-c*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(m,`,
        `).concat(e+s-u*f[2],",").concat(a+n)),h+="L ".concat(e+u*f[3],",").concat(a+n),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(a+n-c*f[3])),h+="Z"}else if(l>0&&r===+r&&r>0){var v=Math.min(l,r);h="M ".concat(e,",").concat(a+c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e+u*v,",").concat(a,`
            L `).concat(e+s-u*v,",").concat(a,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e+s,",").concat(a+c*v,`
            L `).concat(e+s,",").concat(a+n-c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e+s-u*v,",").concat(a+n,`
            L `).concat(e+u*v,",").concat(a+n,`
            A `).concat(v,",").concat(v,",0,0,").concat(m,",").concat(e,",").concat(a+n-c*v," Z")}else h="M ".concat(e,",").concat(a," h ").concat(s," v ").concat(n," h ").concat(-s," Z");return h},Lse={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BR=e=>{var a=Vs(e,Lse),s=x.useRef(null),[n,r]=x.useState(-1);x.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var U=s.current.getTotalLength();U&&r(U)}catch{}},[]);var{x:l,y:c,width:u,height:m,radius:h,className:f}=a,{animationEasing:g,animationDuration:b,animationBegin:v,isAnimationActive:w,isUpdateAnimationActive:j}=a,S=x.useRef(u),k=x.useRef(m),_=x.useRef(l),C=x.useRef(c),T=x.useMemo(()=>({x:l,y:c,width:u,height:m,radius:h}),[l,c,u,m,h]),O=Ff(T,"rectangle-");if(l!==+l||c!==+c||u!==+u||m!==+m||u===0||m===0)return null;var E=Pt("recharts-rectangle",f);if(!j){var $=pn(a),{radius:M}=$,H=pT($,Ese);return x.createElement("path",ig({},H,{radius:typeof h=="number"?h:void 0,className:E,d:gT(l,c,u,m,h)}))}var V=S.current,F=k.current,B=_.current,ee=C.current,we="0px ".concat(n===-1?1:n,"px"),ne="".concat(n,"px 0px"),A=RR(["strokeDasharray"],b,typeof g=="string"?g:void 0);return x.createElement(Uf,{animationId:O,key:O,canBegin:n>0,duration:b,easing:g,isActive:j,begin:v},U=>{var K=Ha(V,u,U),z=Ha(F,m,U),I=Ha(B,l,U),D=Ha(ee,c,U);s.current&&(S.current=K,k.current=z,_.current=I,C.current=D);var R;w?U>0?R={transition:A,strokeDasharray:ne}:R={strokeDasharray:we}:R={strokeDasharray:ne};var Z=pn(a),{radius:de}=Z,le=pT(Z,Tse);return x.createElement("path",ig({},le,{radius:typeof h=="number"?h:void 0,className:E,d:gT(I,D,K,z,h),ref:s,style:xT(xT({},R),a.style)}))})};function UR(e){var{cx:a,cy:s,radius:n,startAngle:r,endAngle:l}=e,c=rs(a,s,n,r),u=rs(a,s,n,l);return{points:[c,u],cx:a,cy:s,radius:n,startAngle:r,endAngle:l}}function W2(){return W2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},W2.apply(null,arguments)}var Rse=(e,a)=>{var s=Ns(a-e),n=Math.min(Math.abs(a-e),359.999);return s*n},Ox=e=>{var{cx:a,cy:s,radius:n,angle:r,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:m}=e,h=u*(c?1:-1)+n,f=Math.asin(u/h)/ag,g=m?r:r+l*f,b=rs(a,s,h,g),v=rs(a,s,n,g),w=m?r-l*f:r,j=rs(a,s,h*Math.cos(f*ag),w);return{center:b,circleTangency:v,lineTangency:j,theta:f}},FR=e=>{var{cx:a,cy:s,innerRadius:n,outerRadius:r,startAngle:l,endAngle:c}=e,u=Rse(l,c),m=l+u,h=rs(a,s,r,l),f=rs(a,s,r,m),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(l>m),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var b=rs(a,s,n,l),v=rs(a,s,n,m);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(l<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(a,",").concat(s," Z");return g},$se=e=>{var{cx:a,cy:s,innerRadius:n,outerRadius:r,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:h}=e,f=Ns(h-m),{circleTangency:g,lineTangency:b,theta:v}=Ox({cx:a,cy:s,radius:r,angle:m,sign:f,cornerRadius:l,cornerIsExternal:u}),{circleTangency:w,lineTangency:j,theta:S}=Ox({cx:a,cy:s,radius:r,angle:h,sign:-f,cornerRadius:l,cornerIsExternal:u}),k=u?Math.abs(m-h):Math.abs(m-h)-v-S;if(k<0)return c?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):FR({cx:a,cy:s,innerRadius:n,outerRadius:r,startAngle:m,endAngle:h});var _="M ".concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:T,theta:O}=Ox({cx:a,cy:s,radius:n,angle:m,sign:f,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:E,lineTangency:$,theta:M}=Ox({cx:a,cy:s,radius:n,angle:h,sign:-f,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),H=u?Math.abs(m-h):Math.abs(m-h)-O-M;if(H<0&&l===0)return"".concat(_,"L").concat(a,",").concat(s,"Z");_+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else _+="L".concat(a,",").concat(s,"Z");return _},Ise={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JS=e=>{var a=Vs(e,Ise),{cx:s,cy:n,innerRadius:r,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:m,startAngle:h,endAngle:f,className:g}=a;if(l<r||h===f)return null;var b=Pt("recharts-sector",g),v=l-r,w=an(c,v,0,!0),j;return w>0&&Math.abs(h-f)<360?j=$se({cx:s,cy:n,innerRadius:r,outerRadius:l,cornerRadius:Math.min(w,v/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:h,endAngle:f}):j=FR({cx:s,cy:n,innerRadius:r,outerRadius:l,startAngle:h,endAngle:f}),x.createElement("path",W2({},pn(a),{className:b,d:j}))};function zse(e,a,s){var n,r,l,c;if(e==="horizontal")n=a.x,l=n,r=s.top,c=s.top+s.height;else if(e==="vertical")r=a.y,c=r,n=s.left,l=s.left+s.width;else if(a.cx!=null&&a.cy!=null)if(e==="centric"){var{cx:u,cy:m,innerRadius:h,outerRadius:f,angle:g}=a,b=rs(u,m,h,g),v=rs(u,m,f,g);n=b.x,r=b.y,l=v.x,c=v.y}else return UR(a);return[{x:n,y:r},{x:l,y:c}]}var Rj={},$j={},Ij={},bT;function Bse(){return bT||(bT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=qL();function s(n){return a.isSymbol(n)?NaN:Number(n)}e.toNumber=s})(Ij)),Ij}var vT;function Use(){return vT||(vT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=Bse();function s(n){return n?(n=a.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=s})($j)),$j}var yT;function Fse(){return yT||(yT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=GL(),s=Use();function n(r,l,c){c&&typeof c!="number"&&a.isIterateeCall(r,l,c)&&(l=c=void 0),r=s.toFinite(r),l===void 0?(l=r,r=0):l=s.toFinite(l),c=c===void 0?r<l?1:-1:s.toFinite(c);const u=Math.max(Math.ceil((l-r)/(c||1)),0),m=new Array(u);for(let h=0;h<u;h++)m[h]=r,r+=c;return m}e.range=n})(Rj)),Rj}var zj,jT;function Vse(){return jT||(jT=1,zj=Fse().range),zj}var Hse=Vse();const VR=Ei(Hse);function fo(e,a){return e==null||a==null?NaN:e<a?-1:e>a?1:e>=a?0:NaN}function qse(e,a){return e==null||a==null?NaN:a<e?-1:a>e?1:a>=e?0:NaN}function QS(e){let a,s,n;e.length!==2?(a=fo,s=(u,m)=>fo(e(u),m),n=(u,m)=>e(u)-m):(a=e===fo||e===qse?e:Gse,s=e,n=e);function r(u,m,h=0,f=u.length){if(h<f){if(a(m,m)!==0)return f;do{const g=h+f>>>1;s(u[g],m)<0?h=g+1:f=g}while(h<f)}return h}function l(u,m,h=0,f=u.length){if(h<f){if(a(m,m)!==0)return f;do{const g=h+f>>>1;s(u[g],m)<=0?h=g+1:f=g}while(h<f)}return h}function c(u,m,h=0,f=u.length){const g=r(u,m,h,f-1);return g>h&&n(u[g-1],m)>-n(u[g],m)?g-1:g}return{left:r,center:c,right:l}}function Gse(){return 0}function HR(e){return e===null?NaN:+e}function*Kse(e,a){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const Yse=QS(fo),Vf=Yse.right;QS(HR).center;class wT extends Map{constructor(a,s=Zse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),a!=null)for(const[n,r]of a)this.set(n,r)}get(a){return super.get(NT(this,a))}has(a){return super.has(NT(this,a))}set(a,s){return super.set(Wse(this,a),s)}delete(a){return super.delete(Xse(this,a))}}function NT({_intern:e,_key:a},s){const n=a(s);return e.has(n)?e.get(n):s}function Wse({_intern:e,_key:a},s){const n=a(s);return e.has(n)?e.get(n):(e.set(n,s),s)}function Xse({_intern:e,_key:a},s){const n=a(s);return e.has(n)&&(s=e.get(n),e.delete(n)),s}function Zse(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Jse(e=fo){if(e===fo)return qR;if(typeof e!="function")throw new TypeError("compare is not a function");return(a,s)=>{const n=e(a,s);return n||n===0?n:(e(s,s)===0)-(e(a,a)===0)}}function qR(e,a){return(e==null||!(e>=e))-(a==null||!(a>=a))||(e<a?-1:e>a?1:0)}const Qse=Math.sqrt(50),ene=Math.sqrt(10),tne=Math.sqrt(2);function lg(e,a,s){const n=(a-e)/Math.max(0,s),r=Math.floor(Math.log10(n)),l=n/Math.pow(10,r),c=l>=Qse?10:l>=ene?5:l>=tne?2:1;let u,m,h;return r<0?(h=Math.pow(10,-r)/c,u=Math.round(e*h),m=Math.round(a*h),u/h<e&&++u,m/h>a&&--m,h=-h):(h=Math.pow(10,r)*c,u=Math.round(e/h),m=Math.round(a/h),u*h<e&&++u,m*h>a&&--m),m<u&&.5<=s&&s<2?lg(e,a,s*2):[u,m,h]}function X2(e,a,s){if(a=+a,e=+e,s=+s,!(s>0))return[];if(e===a)return[e];const n=a<e,[r,l,c]=n?lg(a,e,s):lg(e,a,s);if(!(l>=r))return[];const u=l-r+1,m=new Array(u);if(n)if(c<0)for(let h=0;h<u;++h)m[h]=(l-h)/-c;else for(let h=0;h<u;++h)m[h]=(l-h)*c;else if(c<0)for(let h=0;h<u;++h)m[h]=(r+h)/-c;else for(let h=0;h<u;++h)m[h]=(r+h)*c;return m}function Z2(e,a,s){return a=+a,e=+e,s=+s,lg(e,a,s)[2]}function J2(e,a,s){a=+a,e=+e,s=+s;const n=a<e,r=n?Z2(a,e,s):Z2(e,a,s);return(n?-1:1)*(r<0?1/-r:r)}function ST(e,a){let s;for(const n of e)n!=null&&(s<n||s===void 0&&n>=n)&&(s=n);return s}function _T(e,a){let s;for(const n of e)n!=null&&(s>n||s===void 0&&n>=n)&&(s=n);return s}function GR(e,a,s=0,n=1/0,r){if(a=Math.floor(a),s=Math.floor(Math.max(0,s)),n=Math.floor(Math.min(e.length-1,n)),!(s<=a&&a<=n))return e;for(r=r===void 0?qR:Jse(r);n>s;){if(n-s>600){const m=n-s+1,h=a-s+1,f=Math.log(m),g=.5*Math.exp(2*f/3),b=.5*Math.sqrt(f*g*(m-g)/m)*(h-m/2<0?-1:1),v=Math.max(s,Math.floor(a-h*g/m+b)),w=Math.min(n,Math.floor(a+(m-h)*g/m+b));GR(e,a,v,w,r)}const l=e[a];let c=s,u=n;for(th(e,s,a),r(e[n],l)>0&&th(e,s,n);c<u;){for(th(e,c,u),++c,--u;r(e[c],l)<0;)++c;for(;r(e[u],l)>0;)--u}r(e[s],l)===0?th(e,s,u):(++u,th(e,u,n)),u<=a&&(s=u+1),a<=u&&(n=u-1)}return e}function th(e,a,s){const n=e[a];e[a]=e[s],e[s]=n}function ane(e,a,s){if(e=Float64Array.from(Kse(e)),!(!(n=e.length)||isNaN(a=+a))){if(a<=0||n<2)return _T(e);if(a>=1)return ST(e);var n,r=(n-1)*a,l=Math.floor(r),c=ST(GR(e,l).subarray(0,l+1)),u=_T(e.subarray(l+1));return c+(u-c)*(r-l)}}function sne(e,a,s=HR){if(!(!(n=e.length)||isNaN(a=+a))){if(a<=0||n<2)return+s(e[0],0,e);if(a>=1)return+s(e[n-1],n-1,e);var n,r=(n-1)*a,l=Math.floor(r),c=+s(e[l],l,e),u=+s(e[l+1],l+1,e);return c+(u-c)*(r-l)}}function nne(e,a,s){e=+e,a=+a,s=(r=arguments.length)<2?(a=e,e=0,1):r<3?1:+s;for(var n=-1,r=Math.max(0,Math.ceil((a-e)/s))|0,l=new Array(r);++n<r;)l[n]=e+n*s;return l}function Dr(e,a){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(a).domain(e);break}return this}function _l(e,a){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof a=="function"?this.interpolator(a):this.range(a);break}}return this}const Q2=Symbol("implicit");function e4(){var e=new wT,a=[],s=[],n=Q2;function r(l){let c=e.get(l);if(c===void 0){if(n!==Q2)return n;e.set(l,c=a.push(l)-1)}return s[c%s.length]}return r.domain=function(l){if(!arguments.length)return a.slice();a=[],e=new wT;for(const c of l)e.has(c)||e.set(c,a.push(c)-1);return r},r.range=function(l){return arguments.length?(s=Array.from(l),r):s.slice()},r.unknown=function(l){return arguments.length?(n=l,r):n},r.copy=function(){return e4(a,s).unknown(n)},Dr.apply(r,arguments),r}function t4(){var e=e4().unknown(void 0),a=e.domain,s=e.range,n=0,r=1,l,c,u=!1,m=0,h=0,f=.5;delete e.unknown;function g(){var b=a().length,v=r<n,w=v?r:n,j=v?n:r;l=(j-w)/Math.max(1,b-m+h*2),u&&(l=Math.floor(l)),w+=(j-w-l*(b-m))*f,c=l*(1-m),u&&(w=Math.round(w),c=Math.round(c));var S=nne(b).map(function(k){return w+l*k});return s(v?S.reverse():S)}return e.domain=function(b){return arguments.length?(a(b),g()):a()},e.range=function(b){return arguments.length?([n,r]=b,n=+n,r=+r,g()):[n,r]},e.rangeRound=function(b){return[n,r]=b,n=+n,r=+r,u=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(b){return arguments.length?(u=!!b,g()):u},e.padding=function(b){return arguments.length?(m=Math.min(1,h=+b),g()):m},e.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),g()):m},e.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},e.align=function(b){return arguments.length?(f=Math.max(0,Math.min(1,b)),g()):f},e.copy=function(){return t4(a(),[n,r]).round(u).paddingInner(m).paddingOuter(h).align(f)},Dr.apply(g(),arguments)}function KR(e){var a=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KR(a())},e}function rne(){return KR(t4.apply(null,arguments).paddingInner(1))}function a4(e,a,s){e.prototype=a.prototype=s,s.constructor=e}function YR(e,a){var s=Object.create(e.prototype);for(var n in a)s[n]=a[n];return s}function Hf(){}var pf=.7,og=1/pf,hu="\\s*([+-]?\\d+)\\s*",gf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ine=/^#([0-9a-f]{3,8})$/,lne=new RegExp(`^rgb\\(${hu},${hu},${hu}\\)$`),one=new RegExp(`^rgb\\(${Si},${Si},${Si}\\)$`),cne=new RegExp(`^rgba\\(${hu},${hu},${hu},${gf}\\)$`),dne=new RegExp(`^rgba\\(${Si},${Si},${Si},${gf}\\)$`),une=new RegExp(`^hsl\\(${gf},${Si},${Si}\\)$`),mne=new RegExp(`^hsla\\(${gf},${Si},${Si},${gf}\\)$`),kT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a4(Hf,bf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CT,formatHex:CT,formatHex8:hne,formatHsl:fne,formatRgb:AT,toString:AT});function CT(){return this.rgb().formatHex()}function hne(){return this.rgb().formatHex8()}function fne(){return WR(this).formatHsl()}function AT(){return this.rgb().formatRgb()}function bf(e){var a,s;return e=(e+"").trim().toLowerCase(),(a=ine.exec(e))?(s=a[1].length,a=parseInt(a[1],16),s===6?ET(a):s===3?new Pn(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):s===8?Px(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):s===4?Px(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=lne.exec(e))?new Pn(a[1],a[2],a[3],1):(a=one.exec(e))?new Pn(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=cne.exec(e))?Px(a[1],a[2],a[3],a[4]):(a=dne.exec(e))?Px(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=une.exec(e))?PT(a[1],a[2]/100,a[3]/100,1):(a=mne.exec(e))?PT(a[1],a[2]/100,a[3]/100,a[4]):kT.hasOwnProperty(e)?ET(kT[e]):e==="transparent"?new Pn(NaN,NaN,NaN,0):null}function ET(e){return new Pn(e>>16&255,e>>8&255,e&255,1)}function Px(e,a,s,n){return n<=0&&(e=a=s=NaN),new Pn(e,a,s,n)}function xne(e){return e instanceof Hf||(e=bf(e)),e?(e=e.rgb(),new Pn(e.r,e.g,e.b,e.opacity)):new Pn}function eN(e,a,s,n){return arguments.length===1?xne(e):new Pn(e,a,s,n??1)}function Pn(e,a,s,n){this.r=+e,this.g=+a,this.b=+s,this.opacity=+n}a4(Pn,eN,YR(Hf,{brighter(e){return e=e==null?og:Math.pow(og,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pf:Math.pow(pf,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pn(kc(this.r),kc(this.g),kc(this.b),cg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TT,formatHex:TT,formatHex8:pne,formatRgb:OT,toString:OT}));function TT(){return`#${bc(this.r)}${bc(this.g)}${bc(this.b)}`}function pne(){return`#${bc(this.r)}${bc(this.g)}${bc(this.b)}${bc((isNaN(this.opacity)?1:this.opacity)*255)}`}function OT(){const e=cg(this.opacity);return`${e===1?"rgb(":"rgba("}${kc(this.r)}, ${kc(this.g)}, ${kc(this.b)}${e===1?")":`, ${e})`}`}function cg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bc(e){return e=kc(e),(e<16?"0":"")+e.toString(16)}function PT(e,a,s,n){return n<=0?e=a=s=NaN:s<=0||s>=1?e=a=NaN:a<=0&&(e=NaN),new Kr(e,a,s,n)}function WR(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof Hf||(e=bf(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var a=e.r/255,s=e.g/255,n=e.b/255,r=Math.min(a,s,n),l=Math.max(a,s,n),c=NaN,u=l-r,m=(l+r)/2;return u?(a===l?c=(s-n)/u+(s<n)*6:s===l?c=(n-a)/u+2:c=(a-s)/u+4,u/=m<.5?l+r:2-l-r,c*=60):u=m>0&&m<1?0:c,new Kr(c,u,m,e.opacity)}function gne(e,a,s,n){return arguments.length===1?WR(e):new Kr(e,a,s,n??1)}function Kr(e,a,s,n){this.h=+e,this.s=+a,this.l=+s,this.opacity=+n}a4(Kr,gne,YR(Hf,{brighter(e){return e=e==null?og:Math.pow(og,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pf:Math.pow(pf,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,a=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,n=s+(s<.5?s:1-s)*a,r=2*s-n;return new Pn(Bj(e>=240?e-240:e+120,r,n),Bj(e,r,n),Bj(e<120?e+240:e-120,r,n),this.opacity)},clamp(){return new Kr(MT(this.h),Mx(this.s),Mx(this.l),cg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cg(this.opacity);return`${e===1?"hsl(":"hsla("}${MT(this.h)}, ${Mx(this.s)*100}%, ${Mx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MT(e){return e=(e||0)%360,e<0?e+360:e}function Mx(e){return Math.max(0,Math.min(1,e||0))}function Bj(e,a,s){return(e<60?a+(s-a)*e/60:e<180?s:e<240?a+(s-a)*(240-e)/60:a)*255}const s4=e=>()=>e;function bne(e,a){return function(s){return e+s*a}}function vne(e,a,s){return e=Math.pow(e,s),a=Math.pow(a,s)-e,s=1/s,function(n){return Math.pow(e+n*a,s)}}function yne(e){return(e=+e)==1?XR:function(a,s){return s-a?vne(a,s,e):s4(isNaN(a)?s:a)}}function XR(e,a){var s=a-e;return s?bne(e,s):s4(isNaN(e)?a:e)}const DT=(function e(a){var s=yne(a);function n(r,l){var c=s((r=eN(r)).r,(l=eN(l)).r),u=s(r.g,l.g),m=s(r.b,l.b),h=XR(r.opacity,l.opacity);return function(f){return r.r=c(f),r.g=u(f),r.b=m(f),r.opacity=h(f),r+""}}return n.gamma=e,n})(1);function jne(e,a){a||(a=[]);var s=e?Math.min(a.length,e.length):0,n=a.slice(),r;return function(l){for(r=0;r<s;++r)n[r]=e[r]*(1-l)+a[r]*l;return n}}function wne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nne(e,a){var s=a?a.length:0,n=e?Math.min(s,e.length):0,r=new Array(n),l=new Array(s),c;for(c=0;c<n;++c)r[c]=Ku(e[c],a[c]);for(;c<s;++c)l[c]=a[c];return function(u){for(c=0;c<n;++c)l[c]=r[c](u);return l}}function Sne(e,a){var s=new Date;return e=+e,a=+a,function(n){return s.setTime(e*(1-n)+a*n),s}}function dg(e,a){return e=+e,a=+a,function(s){return e*(1-s)+a*s}}function _ne(e,a){var s={},n={},r;(e===null||typeof e!="object")&&(e={}),(a===null||typeof a!="object")&&(a={});for(r in a)r in e?s[r]=Ku(e[r],a[r]):n[r]=a[r];return function(l){for(r in s)n[r]=s[r](l);return n}}var tN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uj=new RegExp(tN.source,"g");function kne(e){return function(){return e}}function Cne(e){return function(a){return e(a)+""}}function Ane(e,a){var s=tN.lastIndex=Uj.lastIndex=0,n,r,l,c=-1,u=[],m=[];for(e=e+"",a=a+"";(n=tN.exec(e))&&(r=Uj.exec(a));)(l=r.index)>s&&(l=a.slice(s,l),u[c]?u[c]+=l:u[++c]=l),(n=n[0])===(r=r[0])?u[c]?u[c]+=r:u[++c]=r:(u[++c]=null,m.push({i:c,x:dg(n,r)})),s=Uj.lastIndex;return s<a.length&&(l=a.slice(s),u[c]?u[c]+=l:u[++c]=l),u.length<2?m[0]?Cne(m[0].x):kne(a):(a=m.length,function(h){for(var f=0,g;f<a;++f)u[(g=m[f]).i]=g.x(h);return u.join("")})}function Ku(e,a){var s=typeof a,n;return a==null||s==="boolean"?s4(a):(s==="number"?dg:s==="string"?(n=bf(a))?(a=n,DT):Ane:a instanceof bf?DT:a instanceof Date?Sne:wne(a)?jne:Array.isArray(a)?Nne:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?_ne:dg)(e,a)}function n4(e,a){return e=+e,a=+a,function(s){return Math.round(e*(1-s)+a*s)}}function Ene(e,a){a===void 0&&(a=e,e=Ku);for(var s=0,n=a.length-1,r=a[0],l=new Array(n<0?0:n);s<n;)l[s]=e(r,r=a[++s]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return l[u](c-u)}}function Tne(e){return function(){return e}}function ug(e){return+e}var LT=[0,1];function xn(e){return e}function aN(e,a){return(a-=e=+e)?function(s){return(s-e)/a}:Tne(isNaN(a)?NaN:.5)}function One(e,a){var s;return e>a&&(s=e,e=a,a=s),function(n){return Math.max(e,Math.min(a,n))}}function Pne(e,a,s){var n=e[0],r=e[1],l=a[0],c=a[1];return r<n?(n=aN(r,n),l=s(c,l)):(n=aN(n,r),l=s(l,c)),function(u){return l(n(u))}}function Mne(e,a,s){var n=Math.min(e.length,a.length)-1,r=new Array(n),l=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),a=a.slice().reverse());++c<n;)r[c]=aN(e[c],e[c+1]),l[c]=s(a[c],a[c+1]);return function(u){var m=Vf(e,u,1,n)-1;return l[m](r[m](u))}}function qf(e,a){return a.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fb(){var e=LT,a=LT,s=Ku,n,r,l,c=xn,u,m,h;function f(){var b=Math.min(e.length,a.length);return c!==xn&&(c=One(e[0],e[b-1])),u=b>2?Mne:Pne,m=h=null,g}function g(b){return b==null||isNaN(b=+b)?l:(m||(m=u(e.map(n),a,s)))(n(c(b)))}return g.invert=function(b){return c(r((h||(h=u(a,e.map(n),dg)))(b)))},g.domain=function(b){return arguments.length?(e=Array.from(b,ug),f()):e.slice()},g.range=function(b){return arguments.length?(a=Array.from(b),f()):a.slice()},g.rangeRound=function(b){return a=Array.from(b),s=n4,f()},g.clamp=function(b){return arguments.length?(c=b?!0:xn,f()):c!==xn},g.interpolate=function(b){return arguments.length?(s=b,f()):s},g.unknown=function(b){return arguments.length?(l=b,g):l},function(b,v){return n=b,r=v,f()}}function r4(){return fb()(xn,xn)}function Dne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mg(e,a){if((s=(e=a?e.toExponential(a-1):e.toExponential()).indexOf("e"))<0)return null;var s,n=e.slice(0,s);return[n.length>1?n[0]+n.slice(2):n,+e.slice(s+1)]}function Ou(e){return e=mg(Math.abs(e)),e?e[1]:NaN}function Lne(e,a){return function(s,n){for(var r=s.length,l=[],c=0,u=e[0],m=0;r>0&&u>0&&(m+u+1>n&&(u=Math.max(1,n-m)),l.push(s.substring(r-=u,r+u)),!((m+=u+1)>n));)u=e[c=(c+1)%e.length];return l.reverse().join(a)}}function Rne(e){return function(a){return a.replace(/[0-9]/g,function(s){return e[+s]})}}var $ne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vf(e){if(!(a=$ne.exec(e)))throw new Error("invalid format: "+e);var a;return new i4({fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:a[6],comma:a[7],precision:a[8]&&a[8].slice(1),trim:a[9],type:a[10]})}vf.prototype=i4.prototype;function i4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}i4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ine(e){e:for(var a=e.length,s=1,n=-1,r;s<a;++s)switch(e[s]){case".":n=r=s;break;case"0":n===0&&(n=s),r=s;break;default:if(!+e[s])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(r+1):e}var ZR;function zne(e,a){var s=mg(e,a);if(!s)return e+"";var n=s[0],r=s[1],l=r-(ZR=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,c=n.length;return l===c?n:l>c?n+new Array(l-c+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+mg(e,Math.max(0,a+l-1))[0]}function RT(e,a){var s=mg(e,a);if(!s)return e+"";var n=s[0],r=s[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}const $T={"%":(e,a)=>(e*100).toFixed(a),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Dne,e:(e,a)=>e.toExponential(a),f:(e,a)=>e.toFixed(a),g:(e,a)=>e.toPrecision(a),o:e=>Math.round(e).toString(8),p:(e,a)=>RT(e*100,a),r:RT,s:zne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IT(e){return e}var zT=Array.prototype.map,BT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bne(e){var a=e.grouping===void 0||e.thousands===void 0?IT:Lne(zT.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?IT:Rne(zT.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function h(g){g=vf(g);var b=g.fill,v=g.align,w=g.sign,j=g.symbol,S=g.zero,k=g.width,_=g.comma,C=g.precision,T=g.trim,O=g.type;O==="n"?(_=!0,O="g"):$T[O]||(C===void 0&&(C=12),T=!0,O="g"),(S||b==="0"&&v==="=")&&(S=!0,b="0",v="=");var E=j==="$"?s:j==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",$=j==="$"?n:/[%p]/.test(O)?c:"",M=$T[O],H=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function V(F){var B=E,ee=$,we,ne,A;if(O==="c")ee=M(F)+ee,F="";else{F=+F;var U=F<0||1/F<0;if(F=isNaN(F)?m:M(Math.abs(F),C),T&&(F=Ine(F)),U&&+F==0&&w!=="+"&&(U=!1),B=(U?w==="("?w:u:w==="-"||w==="("?"":w)+B,ee=(O==="s"?BT[8+ZR/3]:"")+ee+(U&&w==="("?")":""),H){for(we=-1,ne=F.length;++we<ne;)if(A=F.charCodeAt(we),48>A||A>57){ee=(A===46?r+F.slice(we+1):F.slice(we))+ee,F=F.slice(0,we);break}}}_&&!S&&(F=a(F,1/0));var K=B.length+F.length+ee.length,z=K<k?new Array(k-K+1).join(b):"";switch(_&&S&&(F=a(z+F,z.length?k-ee.length:1/0),z=""),v){case"<":F=B+F+ee+z;break;case"=":F=B+z+F+ee;break;case"^":F=z.slice(0,K=z.length>>1)+B+F+ee+z.slice(K);break;default:F=z+B+F+ee;break}return l(F)}return V.toString=function(){return g+""},V}function f(g,b){var v=h((g=vf(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(Ou(b)/3)))*3,j=Math.pow(10,-w),S=BT[8+w/3];return function(k){return v(j*k)+S}}return{format:h,formatPrefix:f}}var Dx,l4,JR;Une({thousands:",",grouping:[3],currency:["$",""]});function Une(e){return Dx=Bne(e),l4=Dx.format,JR=Dx.formatPrefix,Dx}function Fne(e){return Math.max(0,-Ou(Math.abs(e)))}function Vne(e,a){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ou(a)/3)))*3-Ou(Math.abs(e)))}function Hne(e,a){return e=Math.abs(e),a=Math.abs(a)-e,Math.max(0,Ou(a)-Ou(e))+1}function QR(e,a,s,n){var r=J2(e,a,s),l;switch(n=vf(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(a));return n.precision==null&&!isNaN(l=Vne(r,c))&&(n.precision=l),JR(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=Hne(r,Math.max(Math.abs(e),Math.abs(a))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=Fne(r))&&(n.precision=l-(n.type==="%")*2);break}}return l4(n)}function Co(e){var a=e.domain;return e.ticks=function(s){var n=a();return X2(n[0],n[n.length-1],s??10)},e.tickFormat=function(s,n){var r=a();return QR(r[0],r[r.length-1],s??10,n)},e.nice=function(s){s==null&&(s=10);var n=a(),r=0,l=n.length-1,c=n[r],u=n[l],m,h,f=10;for(u<c&&(h=c,c=u,u=h,h=r,r=l,l=h);f-- >0;){if(h=Z2(c,u,s),h===m)return n[r]=c,n[l]=u,a(n);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;m=h}return e},e}function e$(){var e=r4();return e.copy=function(){return qf(e,e$())},Dr.apply(e,arguments),Co(e)}function t$(e){var a;function s(n){return n==null||isNaN(n=+n)?a:n}return s.invert=s,s.domain=s.range=function(n){return arguments.length?(e=Array.from(n,ug),s):e.slice()},s.unknown=function(n){return arguments.length?(a=n,s):a},s.copy=function(){return t$(e).unknown(a)},e=arguments.length?Array.from(e,ug):[0,1],Co(s)}function a$(e,a){e=e.slice();var s=0,n=e.length-1,r=e[s],l=e[n],c;return l<r&&(c=s,s=n,n=c,c=r,r=l,l=c),e[s]=a.floor(r),e[n]=a.ceil(l),e}function UT(e){return Math.log(e)}function FT(e){return Math.exp(e)}function qne(e){return-Math.log(-e)}function Gne(e){return-Math.exp(-e)}function Kne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Yne(e){return e===10?Kne:e===Math.E?Math.exp:a=>Math.pow(e,a)}function Wne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),a=>Math.log(a)/e)}function VT(e){return(a,s)=>-e(-a,s)}function o4(e){const a=e(UT,FT),s=a.domain;let n=10,r,l;function c(){return r=Wne(n),l=Yne(n),s()[0]<0?(r=VT(r),l=VT(l),e(qne,Gne)):e(UT,FT),a}return a.base=function(u){return arguments.length?(n=+u,c()):n},a.domain=function(u){return arguments.length?(s(u),c()):s()},a.ticks=u=>{const m=s();let h=m[0],f=m[m.length-1];const g=f<h;g&&([h,f]=[f,h]);let b=r(h),v=r(f),w,j;const S=u==null?10:+u;let k=[];if(!(n%1)&&v-b<S){if(b=Math.floor(b),v=Math.ceil(v),h>0){for(;b<=v;++b)for(w=1;w<n;++w)if(j=b<0?w/l(-b):w*l(b),!(j<h)){if(j>f)break;k.push(j)}}else for(;b<=v;++b)for(w=n-1;w>=1;--w)if(j=b>0?w/l(-b):w*l(b),!(j<h)){if(j>f)break;k.push(j)}k.length*2<S&&(k=X2(h,f,S))}else k=X2(b,v,Math.min(v-b,S)).map(l);return g?k.reverse():k},a.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=n===10?"s":","),typeof m!="function"&&(!(n%1)&&(m=vf(m)).precision==null&&(m.trim=!0),m=l4(m)),u===1/0)return m;const h=Math.max(1,n*u/a.ticks().length);return f=>{let g=f/l(Math.round(r(f)));return g*n<n-.5&&(g*=n),g<=h?m(f):""}},a.nice=()=>s(a$(s(),{floor:u=>l(Math.floor(r(u))),ceil:u=>l(Math.ceil(r(u)))})),a}function s$(){const e=o4(fb()).domain([1,10]);return e.copy=()=>qf(e,s$()).base(e.base()),Dr.apply(e,arguments),e}function HT(e){return function(a){return Math.sign(a)*Math.log1p(Math.abs(a/e))}}function qT(e){return function(a){return Math.sign(a)*Math.expm1(Math.abs(a))*e}}function c4(e){var a=1,s=e(HT(a),qT(a));return s.constant=function(n){return arguments.length?e(HT(a=+n),qT(a)):a},Co(s)}function n$(){var e=c4(fb());return e.copy=function(){return qf(e,n$()).constant(e.constant())},Dr.apply(e,arguments)}function GT(e){return function(a){return a<0?-Math.pow(-a,e):Math.pow(a,e)}}function Xne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zne(e){return e<0?-e*e:e*e}function d4(e){var a=e(xn,xn),s=1;function n(){return s===1?e(xn,xn):s===.5?e(Xne,Zne):e(GT(s),GT(1/s))}return a.exponent=function(r){return arguments.length?(s=+r,n()):s},Co(a)}function u4(){var e=d4(fb());return e.copy=function(){return qf(e,u4()).exponent(e.exponent())},Dr.apply(e,arguments),e}function Jne(){return u4.apply(null,arguments).exponent(.5)}function KT(e){return Math.sign(e)*e*e}function Qne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function r$(){var e=r4(),a=[0,1],s=!1,n;function r(l){var c=Qne(e(l));return isNaN(c)?n:s?Math.round(c):c}return r.invert=function(l){return e.invert(KT(l))},r.domain=function(l){return arguments.length?(e.domain(l),r):e.domain()},r.range=function(l){return arguments.length?(e.range((a=Array.from(l,ug)).map(KT)),r):a.slice()},r.rangeRound=function(l){return r.range(l).round(!0)},r.round=function(l){return arguments.length?(s=!!l,r):s},r.clamp=function(l){return arguments.length?(e.clamp(l),r):e.clamp()},r.unknown=function(l){return arguments.length?(n=l,r):n},r.copy=function(){return r$(e.domain(),a).round(s).clamp(e.clamp()).unknown(n)},Dr.apply(r,arguments),Co(r)}function i$(){var e=[],a=[],s=[],n;function r(){var c=0,u=Math.max(1,a.length);for(s=new Array(u-1);++c<u;)s[c-1]=sne(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?n:a[Vf(s,c)]}return l.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:[u>0?s[u-1]:e[0],u<s.length?s[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(fo),r()},l.range=function(c){return arguments.length?(a=Array.from(c),r()):a.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.quantiles=function(){return s.slice()},l.copy=function(){return i$().domain(e).range(a).unknown(n)},Dr.apply(l,arguments)}function l$(){var e=0,a=1,s=1,n=[.5],r=[0,1],l;function c(m){return m!=null&&m<=m?r[Vf(n,m,0,s)]:l}function u(){var m=-1;for(n=new Array(s);++m<s;)n[m]=((m+1)*a-(m-s)*e)/(s+1);return c}return c.domain=function(m){return arguments.length?([e,a]=m,e=+e,a=+a,u()):[e,a]},c.range=function(m){return arguments.length?(s=(r=Array.from(m)).length-1,u()):r.slice()},c.invertExtent=function(m){var h=r.indexOf(m);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=s?[n[s-1],a]:[n[h-1],n[h]]},c.unknown=function(m){return arguments.length&&(l=m),c},c.thresholds=function(){return n.slice()},c.copy=function(){return l$().domain([e,a]).range(r).unknown(l)},Dr.apply(Co(c),arguments)}function o$(){var e=[.5],a=[0,1],s,n=1;function r(l){return l!=null&&l<=l?a[Vf(e,l,0,n)]:s}return r.domain=function(l){return arguments.length?(e=Array.from(l),n=Math.min(e.length,a.length-1),r):e.slice()},r.range=function(l){return arguments.length?(a=Array.from(l),n=Math.min(e.length,a.length-1),r):a.slice()},r.invertExtent=function(l){var c=a.indexOf(l);return[e[c-1],e[c]]},r.unknown=function(l){return arguments.length?(s=l,r):s},r.copy=function(){return o$().domain(e).range(a).unknown(s)},Dr.apply(r,arguments)}const Fj=new Date,Vj=new Date;function ms(e,a,s,n){function r(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return r.floor=l=>(e(l=new Date(+l)),l),r.ceil=l=>(e(l=new Date(l-1)),a(l,1),e(l),l),r.round=l=>{const c=r(l),u=r.ceil(l);return l-c<u-l?c:u},r.offset=(l,c)=>(a(l=new Date(+l),c==null?1:Math.floor(c)),l),r.range=(l,c,u)=>{const m=[];if(l=r.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return m;let h;do m.push(h=new Date(+l)),a(l,u),e(l);while(h<l&&l<c);return m},r.filter=l=>ms(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;a(c,-1),!l(c););else for(;--u>=0;)for(;a(c,1),!l(c););}),s&&(r.count=(l,c)=>(Fj.setTime(+l),Vj.setTime(+c),e(Fj),e(Vj),Math.floor(s(Fj,Vj))),r.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?r.filter(n?c=>n(c)%l===0:c=>r.count(0,c)%l===0):r)),r}const hg=ms(()=>{},(e,a)=>{e.setTime(+e+a)},(e,a)=>a-e);hg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ms(a=>{a.setTime(Math.floor(a/e)*e)},(a,s)=>{a.setTime(+a+s*e)},(a,s)=>(s-a)/e):hg);hg.range;const rl=1e3,kr=rl*60,il=kr*60,yl=il*24,m4=yl*7,YT=yl*30,Hj=yl*365,vc=ms(e=>{e.setTime(e-e.getMilliseconds())},(e,a)=>{e.setTime(+e+a*rl)},(e,a)=>(a-e)/rl,e=>e.getUTCSeconds());vc.range;const h4=ms(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rl)},(e,a)=>{e.setTime(+e+a*kr)},(e,a)=>(a-e)/kr,e=>e.getMinutes());h4.range;const f4=ms(e=>{e.setUTCSeconds(0,0)},(e,a)=>{e.setTime(+e+a*kr)},(e,a)=>(a-e)/kr,e=>e.getUTCMinutes());f4.range;const x4=ms(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rl-e.getMinutes()*kr)},(e,a)=>{e.setTime(+e+a*il)},(e,a)=>(a-e)/il,e=>e.getHours());x4.range;const p4=ms(e=>{e.setUTCMinutes(0,0,0)},(e,a)=>{e.setTime(+e+a*il)},(e,a)=>(a-e)/il,e=>e.getUTCHours());p4.range;const Gf=ms(e=>e.setHours(0,0,0,0),(e,a)=>e.setDate(e.getDate()+a),(e,a)=>(a-e-(a.getTimezoneOffset()-e.getTimezoneOffset())*kr)/yl,e=>e.getDate()-1);Gf.range;const xb=ms(e=>{e.setUTCHours(0,0,0,0)},(e,a)=>{e.setUTCDate(e.getUTCDate()+a)},(e,a)=>(a-e)/yl,e=>e.getUTCDate()-1);xb.range;const c$=ms(e=>{e.setUTCHours(0,0,0,0)},(e,a)=>{e.setUTCDate(e.getUTCDate()+a)},(e,a)=>(a-e)/yl,e=>Math.floor(e/yl));c$.range;function Vc(e){return ms(a=>{a.setDate(a.getDate()-(a.getDay()+7-e)%7),a.setHours(0,0,0,0)},(a,s)=>{a.setDate(a.getDate()+s*7)},(a,s)=>(s-a-(s.getTimezoneOffset()-a.getTimezoneOffset())*kr)/m4)}const pb=Vc(0),fg=Vc(1),ere=Vc(2),tre=Vc(3),Pu=Vc(4),are=Vc(5),sre=Vc(6);pb.range;fg.range;ere.range;tre.range;Pu.range;are.range;sre.range;function Hc(e){return ms(a=>{a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-e)%7),a.setUTCHours(0,0,0,0)},(a,s)=>{a.setUTCDate(a.getUTCDate()+s*7)},(a,s)=>(s-a)/m4)}const gb=Hc(0),xg=Hc(1),nre=Hc(2),rre=Hc(3),Mu=Hc(4),ire=Hc(5),lre=Hc(6);gb.range;xg.range;nre.range;rre.range;Mu.range;ire.range;lre.range;const g4=ms(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,a)=>{e.setMonth(e.getMonth()+a)},(e,a)=>a.getMonth()-e.getMonth()+(a.getFullYear()-e.getFullYear())*12,e=>e.getMonth());g4.range;const b4=ms(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,a)=>{e.setUTCMonth(e.getUTCMonth()+a)},(e,a)=>a.getUTCMonth()-e.getUTCMonth()+(a.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());b4.range;const jl=ms(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,a)=>{e.setFullYear(e.getFullYear()+a)},(e,a)=>a.getFullYear()-e.getFullYear(),e=>e.getFullYear());jl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ms(a=>{a.setFullYear(Math.floor(a.getFullYear()/e)*e),a.setMonth(0,1),a.setHours(0,0,0,0)},(a,s)=>{a.setFullYear(a.getFullYear()+s*e)});jl.range;const wl=ms(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,a)=>{e.setUTCFullYear(e.getUTCFullYear()+a)},(e,a)=>a.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ms(a=>{a.setUTCFullYear(Math.floor(a.getUTCFullYear()/e)*e),a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,s)=>{a.setUTCFullYear(a.getUTCFullYear()+s*e)});wl.range;function d$(e,a,s,n,r,l){const c=[[vc,1,rl],[vc,5,5*rl],[vc,15,15*rl],[vc,30,30*rl],[l,1,kr],[l,5,5*kr],[l,15,15*kr],[l,30,30*kr],[r,1,il],[r,3,3*il],[r,6,6*il],[r,12,12*il],[n,1,yl],[n,2,2*yl],[s,1,m4],[a,1,YT],[a,3,3*YT],[e,1,Hj]];function u(h,f,g){const b=f<h;b&&([h,f]=[f,h]);const v=g&&typeof g.range=="function"?g:m(h,f,g),w=v?v.range(h,+f+1):[];return b?w.reverse():w}function m(h,f,g){const b=Math.abs(f-h)/g,v=QS(([,,S])=>S).right(c,b);if(v===c.length)return e.every(J2(h/Hj,f/Hj,g));if(v===0)return hg.every(Math.max(J2(h,f,g),1));const[w,j]=c[b/c[v-1][2]<c[v][2]/b?v-1:v];return w.every(j)}return[u,m]}const[ore,cre]=d$(wl,b4,gb,c$,p4,f4),[dre,ure]=d$(jl,g4,pb,Gf,x4,h4);function qj(e){if(0<=e.y&&e.y<100){var a=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return a.setFullYear(e.y),a}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gj(e){if(0<=e.y&&e.y<100){var a=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return a.setUTCFullYear(e.y),a}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ah(e,a,s){return{y:e,m:a,d:s,H:0,M:0,S:0,L:0}}function mre(e){var a=e.dateTime,s=e.date,n=e.time,r=e.periods,l=e.days,c=e.shortDays,u=e.months,m=e.shortMonths,h=sh(r),f=nh(r),g=sh(l),b=nh(l),v=sh(c),w=nh(c),j=sh(u),S=nh(u),k=sh(m),_=nh(m),C={a:U,A:K,b:z,B:I,c:null,d:eO,e:eO,f:Lre,g:qre,G:Kre,H:Pre,I:Mre,j:Dre,L:u$,m:Rre,M:$re,p:D,q:R,Q:sO,s:nO,S:Ire,u:zre,U:Bre,V:Ure,w:Fre,W:Vre,x:null,X:null,y:Hre,Y:Gre,Z:Yre,"%":aO},T={a:Z,A:de,b:le,B:be,c:null,d:tO,e:tO,f:Jre,g:oie,G:die,H:Wre,I:Xre,j:Zre,L:h$,m:Qre,M:eie,p:Ue,q:xe,Q:sO,s:nO,S:tie,u:aie,U:sie,V:nie,w:rie,W:iie,x:null,X:null,y:lie,Y:cie,Z:uie,"%":aO},O={a:V,A:F,b:B,B:ee,c:we,d:JT,e:JT,f:Are,g:ZT,G:XT,H:QT,I:QT,j:Sre,L:Cre,m:Nre,M:_re,p:H,q:wre,Q:Tre,s:Ore,S:kre,u:gre,U:bre,V:vre,w:pre,W:yre,x:ne,X:A,y:ZT,Y:XT,Z:jre,"%":Ere};C.x=E(s,C),C.X=E(n,C),C.c=E(a,C),T.x=E(s,T),T.X=E(n,T),T.c=E(a,T);function E(ve,Ie){return function(Ye){var ke=[],Je=-1,Xe=0,ue=ve.length,ie,De,G;for(Ye instanceof Date||(Ye=new Date(+Ye));++Je<ue;)ve.charCodeAt(Je)===37&&(ke.push(ve.slice(Xe,Je)),(De=WT[ie=ve.charAt(++Je)])!=null?ie=ve.charAt(++Je):De=ie==="e"?" ":"0",(G=Ie[ie])&&(ie=G(Ye,De)),ke.push(ie),Xe=Je+1);return ke.push(ve.slice(Xe,Je)),ke.join("")}}function $(ve,Ie){return function(Ye){var ke=ah(1900,void 0,1),Je=M(ke,ve,Ye+="",0),Xe,ue;if(Je!=Ye.length)return null;if("Q"in ke)return new Date(ke.Q);if("s"in ke)return new Date(ke.s*1e3+("L"in ke?ke.L:0));if(Ie&&!("Z"in ke)&&(ke.Z=0),"p"in ke&&(ke.H=ke.H%12+ke.p*12),ke.m===void 0&&(ke.m="q"in ke?ke.q:0),"V"in ke){if(ke.V<1||ke.V>53)return null;"w"in ke||(ke.w=1),"Z"in ke?(Xe=Gj(ah(ke.y,0,1)),ue=Xe.getUTCDay(),Xe=ue>4||ue===0?xg.ceil(Xe):xg(Xe),Xe=xb.offset(Xe,(ke.V-1)*7),ke.y=Xe.getUTCFullYear(),ke.m=Xe.getUTCMonth(),ke.d=Xe.getUTCDate()+(ke.w+6)%7):(Xe=qj(ah(ke.y,0,1)),ue=Xe.getDay(),Xe=ue>4||ue===0?fg.ceil(Xe):fg(Xe),Xe=Gf.offset(Xe,(ke.V-1)*7),ke.y=Xe.getFullYear(),ke.m=Xe.getMonth(),ke.d=Xe.getDate()+(ke.w+6)%7)}else("W"in ke||"U"in ke)&&("w"in ke||(ke.w="u"in ke?ke.u%7:"W"in ke?1:0),ue="Z"in ke?Gj(ah(ke.y,0,1)).getUTCDay():qj(ah(ke.y,0,1)).getDay(),ke.m=0,ke.d="W"in ke?(ke.w+6)%7+ke.W*7-(ue+5)%7:ke.w+ke.U*7-(ue+6)%7);return"Z"in ke?(ke.H+=ke.Z/100|0,ke.M+=ke.Z%100,Gj(ke)):qj(ke)}}function M(ve,Ie,Ye,ke){for(var Je=0,Xe=Ie.length,ue=Ye.length,ie,De;Je<Xe;){if(ke>=ue)return-1;if(ie=Ie.charCodeAt(Je++),ie===37){if(ie=Ie.charAt(Je++),De=O[ie in WT?Ie.charAt(Je++):ie],!De||(ke=De(ve,Ye,ke))<0)return-1}else if(ie!=Ye.charCodeAt(ke++))return-1}return ke}function H(ve,Ie,Ye){var ke=h.exec(Ie.slice(Ye));return ke?(ve.p=f.get(ke[0].toLowerCase()),Ye+ke[0].length):-1}function V(ve,Ie,Ye){var ke=v.exec(Ie.slice(Ye));return ke?(ve.w=w.get(ke[0].toLowerCase()),Ye+ke[0].length):-1}function F(ve,Ie,Ye){var ke=g.exec(Ie.slice(Ye));return ke?(ve.w=b.get(ke[0].toLowerCase()),Ye+ke[0].length):-1}function B(ve,Ie,Ye){var ke=k.exec(Ie.slice(Ye));return ke?(ve.m=_.get(ke[0].toLowerCase()),Ye+ke[0].length):-1}function ee(ve,Ie,Ye){var ke=j.exec(Ie.slice(Ye));return ke?(ve.m=S.get(ke[0].toLowerCase()),Ye+ke[0].length):-1}function we(ve,Ie,Ye){return M(ve,a,Ie,Ye)}function ne(ve,Ie,Ye){return M(ve,s,Ie,Ye)}function A(ve,Ie,Ye){return M(ve,n,Ie,Ye)}function U(ve){return c[ve.getDay()]}function K(ve){return l[ve.getDay()]}function z(ve){return m[ve.getMonth()]}function I(ve){return u[ve.getMonth()]}function D(ve){return r[+(ve.getHours()>=12)]}function R(ve){return 1+~~(ve.getMonth()/3)}function Z(ve){return c[ve.getUTCDay()]}function de(ve){return l[ve.getUTCDay()]}function le(ve){return m[ve.getUTCMonth()]}function be(ve){return u[ve.getUTCMonth()]}function Ue(ve){return r[+(ve.getUTCHours()>=12)]}function xe(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var Ie=E(ve+="",C);return Ie.toString=function(){return ve},Ie},parse:function(ve){var Ie=$(ve+="",!1);return Ie.toString=function(){return ve},Ie},utcFormat:function(ve){var Ie=E(ve+="",T);return Ie.toString=function(){return ve},Ie},utcParse:function(ve){var Ie=$(ve+="",!0);return Ie.toString=function(){return ve},Ie}}}var WT={"-":"",_:" ",0:"0"},ks=/^\s*\d+/,hre=/^%/,fre=/[\\^$*+?|[\]().{}]/g;function Yt(e,a,s){var n=e<0?"-":"",r=(n?-e:e)+"",l=r.length;return n+(l<s?new Array(s-l+1).join(a)+r:r)}function xre(e){return e.replace(fre,"\\$&")}function sh(e){return new RegExp("^(?:"+e.map(xre).join("|")+")","i")}function nh(e){return new Map(e.map((a,s)=>[a.toLowerCase(),s]))}function pre(e,a,s){var n=ks.exec(a.slice(s,s+1));return n?(e.w=+n[0],s+n[0].length):-1}function gre(e,a,s){var n=ks.exec(a.slice(s,s+1));return n?(e.u=+n[0],s+n[0].length):-1}function bre(e,a,s){var n=ks.exec(a.slice(s,s+2));return n?(e.U=+n[0],s+n[0].length):-1}function vre(e,a,s){var n=ks.exec(a.slice(s,s+2));return n?(e.V=+n[0],s+n[0].length):-1}function yre(e,a,s){var n=ks.exec(a.slice(s,s+2));return n?(e.W=+n[0],s+n[0].length):-1}function XT(e,a,s){var n=ks.exec(a.slice(s,s+4));return n?(e.y=+n[0],s+n[0].length):-1}function ZT(e,a,s){var n=ks.exec(a.slice(s,s+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),s+n[0].length):-1}function jre(e,a,s){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(a.slice(s,s+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),s+n[0].length):-1}function wre(e,a,s){var n=ks.exec(a.slice(s,s+1));return n?(e.q=n[0]*3-3,s+n[0].length):-1}function Nre(e,a,s){var n=ks.exec(a.slice(s,s+2));return n?(e.m=n[0]-1,s+n[0].length):-1}function JT(e,a,s){var n=ks.exec(a.slice(s,s+2));return n?(e.d=+n[0],s+n[0].length):-1}function Sre(e,a,s){var n=ks.exec(a.slice(s,s+3));return n?(e.m=0,e.d=+n[0],s+n[0].length):-1}function QT(e,a,s){var n=ks.exec(a.slice(s,s+2));return n?(e.H=+n[0],s+n[0].length):-1}function _re(e,a,s){var n=ks.exec(a.slice(s,s+2));return n?(e.M=+n[0],s+n[0].length):-1}function kre(e,a,s){var n=ks.exec(a.slice(s,s+2));return n?(e.S=+n[0],s+n[0].length):-1}function Cre(e,a,s){var n=ks.exec(a.slice(s,s+3));return n?(e.L=+n[0],s+n[0].length):-1}function Are(e,a,s){var n=ks.exec(a.slice(s,s+6));return n?(e.L=Math.floor(n[0]/1e3),s+n[0].length):-1}function Ere(e,a,s){var n=hre.exec(a.slice(s,s+1));return n?s+n[0].length:-1}function Tre(e,a,s){var n=ks.exec(a.slice(s));return n?(e.Q=+n[0],s+n[0].length):-1}function Ore(e,a,s){var n=ks.exec(a.slice(s));return n?(e.s=+n[0],s+n[0].length):-1}function eO(e,a){return Yt(e.getDate(),a,2)}function Pre(e,a){return Yt(e.getHours(),a,2)}function Mre(e,a){return Yt(e.getHours()%12||12,a,2)}function Dre(e,a){return Yt(1+Gf.count(jl(e),e),a,3)}function u$(e,a){return Yt(e.getMilliseconds(),a,3)}function Lre(e,a){return u$(e,a)+"000"}function Rre(e,a){return Yt(e.getMonth()+1,a,2)}function $re(e,a){return Yt(e.getMinutes(),a,2)}function Ire(e,a){return Yt(e.getSeconds(),a,2)}function zre(e){var a=e.getDay();return a===0?7:a}function Bre(e,a){return Yt(pb.count(jl(e)-1,e),a,2)}function m$(e){var a=e.getDay();return a>=4||a===0?Pu(e):Pu.ceil(e)}function Ure(e,a){return e=m$(e),Yt(Pu.count(jl(e),e)+(jl(e).getDay()===4),a,2)}function Fre(e){return e.getDay()}function Vre(e,a){return Yt(fg.count(jl(e)-1,e),a,2)}function Hre(e,a){return Yt(e.getFullYear()%100,a,2)}function qre(e,a){return e=m$(e),Yt(e.getFullYear()%100,a,2)}function Gre(e,a){return Yt(e.getFullYear()%1e4,a,4)}function Kre(e,a){var s=e.getDay();return e=s>=4||s===0?Pu(e):Pu.ceil(e),Yt(e.getFullYear()%1e4,a,4)}function Yre(e){var a=e.getTimezoneOffset();return(a>0?"-":(a*=-1,"+"))+Yt(a/60|0,"0",2)+Yt(a%60,"0",2)}function tO(e,a){return Yt(e.getUTCDate(),a,2)}function Wre(e,a){return Yt(e.getUTCHours(),a,2)}function Xre(e,a){return Yt(e.getUTCHours()%12||12,a,2)}function Zre(e,a){return Yt(1+xb.count(wl(e),e),a,3)}function h$(e,a){return Yt(e.getUTCMilliseconds(),a,3)}function Jre(e,a){return h$(e,a)+"000"}function Qre(e,a){return Yt(e.getUTCMonth()+1,a,2)}function eie(e,a){return Yt(e.getUTCMinutes(),a,2)}function tie(e,a){return Yt(e.getUTCSeconds(),a,2)}function aie(e){var a=e.getUTCDay();return a===0?7:a}function sie(e,a){return Yt(gb.count(wl(e)-1,e),a,2)}function f$(e){var a=e.getUTCDay();return a>=4||a===0?Mu(e):Mu.ceil(e)}function nie(e,a){return e=f$(e),Yt(Mu.count(wl(e),e)+(wl(e).getUTCDay()===4),a,2)}function rie(e){return e.getUTCDay()}function iie(e,a){return Yt(xg.count(wl(e)-1,e),a,2)}function lie(e,a){return Yt(e.getUTCFullYear()%100,a,2)}function oie(e,a){return e=f$(e),Yt(e.getUTCFullYear()%100,a,2)}function cie(e,a){return Yt(e.getUTCFullYear()%1e4,a,4)}function die(e,a){var s=e.getUTCDay();return e=s>=4||s===0?Mu(e):Mu.ceil(e),Yt(e.getUTCFullYear()%1e4,a,4)}function uie(){return"+0000"}function aO(){return"%"}function sO(e){return+e}function nO(e){return Math.floor(+e/1e3)}var kd,x$,p$;mie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mie(e){return kd=mre(e),x$=kd.format,kd.parse,p$=kd.utcFormat,kd.utcParse,kd}function hie(e){return new Date(e)}function fie(e){return e instanceof Date?+e:+new Date(+e)}function v4(e,a,s,n,r,l,c,u,m,h){var f=r4(),g=f.invert,b=f.domain,v=h(".%L"),w=h(":%S"),j=h("%I:%M"),S=h("%I %p"),k=h("%a %d"),_=h("%b %d"),C=h("%B"),T=h("%Y");function O(E){return(m(E)<E?v:u(E)<E?w:c(E)<E?j:l(E)<E?S:n(E)<E?r(E)<E?k:_:s(E)<E?C:T)(E)}return f.invert=function(E){return new Date(g(E))},f.domain=function(E){return arguments.length?b(Array.from(E,fie)):b().map(hie)},f.ticks=function(E){var $=b();return e($[0],$[$.length-1],E??10)},f.tickFormat=function(E,$){return $==null?O:h($)},f.nice=function(E){var $=b();return(!E||typeof E.range!="function")&&(E=a($[0],$[$.length-1],E??10)),E?b(a$($,E)):f},f.copy=function(){return qf(f,v4(e,a,s,n,r,l,c,u,m,h))},f}function xie(){return Dr.apply(v4(dre,ure,jl,g4,pb,Gf,x4,h4,vc,x$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pie(){return Dr.apply(v4(ore,cre,wl,b4,gb,xb,p4,f4,vc,p$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bb(){var e=0,a=1,s,n,r,l,c=xn,u=!1,m;function h(g){return g==null||isNaN(g=+g)?m:c(r===0?.5:(g=(l(g)-s)*r,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,a]=g,s=l(e=+e),n=l(a=+a),r=s===n?0:1/(n-s),h):[e,a]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(c=g,h):c};function f(g){return function(b){var v,w;return arguments.length?([v,w]=b,c=g(v,w),h):[c(0),c(1)]}}return h.range=f(Ku),h.rangeRound=f(n4),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return l=g,s=g(e),n=g(a),r=s===n?0:1/(n-s),h}}function Ao(e,a){return a.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function g$(){var e=Co(bb()(xn));return e.copy=function(){return Ao(e,g$())},_l.apply(e,arguments)}function b$(){var e=o4(bb()).domain([1,10]);return e.copy=function(){return Ao(e,b$()).base(e.base())},_l.apply(e,arguments)}function v$(){var e=c4(bb());return e.copy=function(){return Ao(e,v$()).constant(e.constant())},_l.apply(e,arguments)}function y4(){var e=d4(bb());return e.copy=function(){return Ao(e,y4()).exponent(e.exponent())},_l.apply(e,arguments)}function gie(){return y4.apply(null,arguments).exponent(.5)}function y$(){var e=[],a=xn;function s(n){if(n!=null&&!isNaN(n=+n))return a((Vf(e,n,1)-1)/(e.length-1))}return s.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let r of n)r!=null&&!isNaN(r=+r)&&e.push(r);return e.sort(fo),s},s.interpolator=function(n){return arguments.length?(a=n,s):a},s.range=function(){return e.map((n,r)=>a(r/(e.length-1)))},s.quantiles=function(n){return Array.from({length:n+1},(r,l)=>ane(e,l/n))},s.copy=function(){return y$(a).domain(e)},_l.apply(s,arguments)}function vb(){var e=0,a=.5,s=1,n=1,r,l,c,u,m,h=xn,f,g=!1,b;function v(j){return isNaN(j=+j)?b:(j=.5+((j=+f(j))-l)*(n*j<n*l?u:m),h(g?Math.max(0,Math.min(1,j)):j))}v.domain=function(j){return arguments.length?([e,a,s]=j,r=f(e=+e),l=f(a=+a),c=f(s=+s),u=r===l?0:.5/(l-r),m=l===c?0:.5/(c-l),n=l<r?-1:1,v):[e,a,s]},v.clamp=function(j){return arguments.length?(g=!!j,v):g},v.interpolator=function(j){return arguments.length?(h=j,v):h};function w(j){return function(S){var k,_,C;return arguments.length?([k,_,C]=S,h=Ene(j,[k,_,C]),v):[h(0),h(.5),h(1)]}}return v.range=w(Ku),v.rangeRound=w(n4),v.unknown=function(j){return arguments.length?(b=j,v):b},function(j){return f=j,r=j(e),l=j(a),c=j(s),u=r===l?0:.5/(l-r),m=l===c?0:.5/(c-l),n=l<r?-1:1,v}}function j$(){var e=Co(vb()(xn));return e.copy=function(){return Ao(e,j$())},_l.apply(e,arguments)}function w$(){var e=o4(vb()).domain([.1,1,10]);return e.copy=function(){return Ao(e,w$()).base(e.base())},_l.apply(e,arguments)}function N$(){var e=c4(vb());return e.copy=function(){return Ao(e,N$()).constant(e.constant())},_l.apply(e,arguments)}function j4(){var e=d4(vb());return e.copy=function(){return Ao(e,j4()).exponent(e.exponent())},_l.apply(e,arguments)}function bie(){return j4.apply(null,arguments).exponent(.5)}const Mh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:t4,scaleDiverging:j$,scaleDivergingLog:w$,scaleDivergingPow:j4,scaleDivergingSqrt:bie,scaleDivergingSymlog:N$,scaleIdentity:t$,scaleImplicit:Q2,scaleLinear:e$,scaleLog:s$,scaleOrdinal:e4,scalePoint:rne,scalePow:u4,scaleQuantile:i$,scaleQuantize:l$,scaleRadial:r$,scaleSequential:g$,scaleSequentialLog:b$,scaleSequentialPow:y4,scaleSequentialQuantile:y$,scaleSequentialSqrt:gie,scaleSequentialSymlog:v$,scaleSqrt:Jne,scaleSymlog:n$,scaleThreshold:o$,scaleTime:xie,scaleUtc:pie,tickFormat:QR},Symbol.toStringTag,{value:"Module"}));var Eo=e=>e.chartData,w4=Pe([Eo],e=>{var a=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:a,dataStartIndex:0}}),yb=(e,a,s,n)=>n?w4(e):Eo(e);function Rc(e){if(Array.isArray(e)&&e.length===2){var[a,s]=e;if(sn(a)&&sn(s))return!0}return!1}function rO(e,a,s){return s?e:[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}function S$(e,a){if(a&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,n]=e,r,l;if(sn(s))r=s;else if(typeof s=="function")return;if(sn(n))l=n;else if(typeof n=="function")return;var c=[r,l];if(Rc(c))return c}}function vie(e,a,s){if(!(!s&&a==null)){if(typeof e=="function"&&a!=null)try{var n=e(a,s);if(Rc(n))return rO(n,a,s)}catch{}if(Array.isArray(e)&&e.length===2){var[r,l]=e,c,u;if(r==="auto")a!=null&&(c=Math.min(...a));else if(mt(r))c=r;else if(typeof r=="function")try{a!=null&&(c=r(a==null?void 0:a[0]))}catch{}else if(typeof r=="string"&&FE.test(r)){var m=FE.exec(r);if(m==null||a==null)c=void 0;else{var h=+m[1];c=a[0]-h}}else c=a==null?void 0:a[0];if(l==="auto")a!=null&&(u=Math.max(...a));else if(mt(l))u=l;else if(typeof l=="function")try{a!=null&&(u=l(a==null?void 0:a[1]))}catch{}else if(typeof l=="string"&&VE.test(l)){var f=VE.exec(l);if(f==null||a==null)u=void 0;else{var g=+f[1];u=a[1]+g}}else u=a==null?void 0:a[1];var b=[c,u];if(Rc(b))return a==null?b:rO(b,a,s)}}}var Yu=1e9,yie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},S4,Sa=!0,Pr="[DecimalError] ",Cc=Pr+"Invalid argument: ",N4=Pr+"Exponent out of range: ",Wu=Math.floor,cc=Math.pow,jie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,ys=1e7,pa=7,_$=9007199254740991,pg=Wu(_$/pa),lt={};lt.absoluteValue=lt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};lt.comparedTo=lt.cmp=function(e){var a,s,n,r,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(n=l.d.length,r=e.d.length,a=0,s=n<r?n:r;a<s;++a)if(l.d[a]!==e.d[a])return l.d[a]>e.d[a]^l.s<0?1:-1;return n===r?0:n>r^l.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var e=this,a=e.d.length-1,s=(a-e.e)*pa;if(a=e.d[a],a)for(;a%10==0;a/=10)s--;return s<0?0:s};lt.dividedBy=lt.div=function(e){return ul(this,new this.constructor(e))};lt.dividedToIntegerBy=lt.idiv=function(e){var a=this,s=a.constructor;return oa(ul(a,new s(e),0,1),s.precision)};lt.equals=lt.eq=function(e){return!this.cmp(e)};lt.exponent=function(){return is(this)};lt.greaterThan=lt.gt=function(e){return this.cmp(e)>0};lt.greaterThanOrEqualTo=lt.gte=function(e){return this.cmp(e)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(e){return this.cmp(e)<0};lt.lessThanOrEqualTo=lt.lte=function(e){return this.cmp(e)<1};lt.logarithm=lt.log=function(e){var a,s=this,n=s.constructor,r=n.precision,l=r+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jn))throw Error(Pr+"NaN");if(s.s<1)throw Error(Pr+(s.s?"NaN":"-Infinity"));return s.eq(Jn)?new n(0):(Sa=!1,a=ul(yf(s,l),yf(e,l),l),Sa=!0,oa(a,r))};lt.minus=lt.sub=function(e){var a=this;return e=new a.constructor(e),a.s==e.s?A$(a,e):k$(a,(e.s=-e.s,e))};lt.modulo=lt.mod=function(e){var a,s=this,n=s.constructor,r=n.precision;if(e=new n(e),!e.s)throw Error(Pr+"NaN");return s.s?(Sa=!1,a=ul(s,e,0,1).times(e),Sa=!0,s.minus(a)):oa(new n(s),r)};lt.naturalExponential=lt.exp=function(){return C$(this)};lt.naturalLogarithm=lt.ln=function(){return yf(this)};lt.negated=lt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};lt.plus=lt.add=function(e){var a=this;return e=new a.constructor(e),a.s==e.s?k$(a,e):A$(a,(e.s=-e.s,e))};lt.precision=lt.sd=function(e){var a,s,n,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Cc+e);if(a=is(r)+1,n=r.d.length-1,s=n*pa+1,n=r.d[n],n){for(;n%10==0;n/=10)s--;for(n=r.d[0];n>=10;n/=10)s++}return e&&a>s?a:s};lt.squareRoot=lt.sqrt=function(){var e,a,s,n,r,l,c,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(Pr+"NaN")}for(e=is(u),Sa=!1,r=Math.sqrt(+u),r==0||r==1/0?(a=ji(u.d),(a.length+e)%2==0&&(a+="0"),r=Math.sqrt(a),e=Wu((e+1)/2)-(e<0||e%2),r==1/0?a="5e"+e:(a=r.toExponential(),a=a.slice(0,a.indexOf("e")+1)+e),n=new m(a)):n=new m(r.toString()),s=m.precision,r=c=s+3;;)if(l=n,n=l.plus(ul(u,l,c+2)).times(.5),ji(l.d).slice(0,c)===(a=ji(n.d)).slice(0,c)){if(a=a.slice(c-3,c+1),r==c&&a=="4999"){if(oa(l,s+1,0),l.times(l).eq(u)){n=l;break}}else if(a!="9999")break;c+=4}return Sa=!0,oa(n,s)};lt.times=lt.mul=function(e){var a,s,n,r,l,c,u,m,h,f=this,g=f.constructor,b=f.d,v=(e=new g(e)).d;if(!f.s||!e.s)return new g(0);for(e.s*=f.s,s=f.e+e.e,m=b.length,h=v.length,m<h&&(l=b,b=v,v=l,c=m,m=h,h=c),l=[],c=m+h,n=c;n--;)l.push(0);for(n=h;--n>=0;){for(a=0,r=m+n;r>n;)u=l[r]+v[n]*b[r-n-1]+a,l[r--]=u%ys|0,a=u/ys|0;l[r]=(l[r]+a)%ys|0}for(;!l[--c];)l.pop();return a?++s:l.shift(),e.d=l,e.e=s,Sa?oa(e,g.precision):e};lt.toDecimalPlaces=lt.todp=function(e,a){var s=this,n=s.constructor;return s=new n(s),e===void 0?s:(Ai(e,0,Yu),a===void 0?a=n.rounding:Ai(a,0,8),oa(s,e+is(s)+1,a))};lt.toExponential=function(e,a){var s,n=this,r=n.constructor;return e===void 0?s=$c(n,!0):(Ai(e,0,Yu),a===void 0?a=r.rounding:Ai(a,0,8),n=oa(new r(n),e+1,a),s=$c(n,!0,e+1)),s};lt.toFixed=function(e,a){var s,n,r=this,l=r.constructor;return e===void 0?$c(r):(Ai(e,0,Yu),a===void 0?a=l.rounding:Ai(a,0,8),n=oa(new l(r),e+is(r)+1,a),s=$c(n.abs(),!1,e+is(n)+1),r.isneg()&&!r.isZero()?"-"+s:s)};lt.toInteger=lt.toint=function(){var e=this,a=e.constructor;return oa(new a(e),is(e)+1,a.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(e){var a,s,n,r,l,c,u=this,m=u.constructor,h=12,f=+(e=new m(e));if(!e.s)return new m(Jn);if(u=new m(u),!u.s){if(e.s<1)throw Error(Pr+"Infinity");return u}if(u.eq(Jn))return u;if(n=m.precision,e.eq(Jn))return oa(u,n);if(a=e.e,s=e.d.length-1,c=a>=s,l=u.s,c){if((s=f<0?-f:f)<=_$){for(r=new m(Jn),a=Math.ceil(n/pa+4),Sa=!1;s%2&&(r=r.times(u),lO(r.d,a)),s=Wu(s/2),s!==0;)u=u.times(u),lO(u.d,a);return Sa=!0,e.s<0?new m(Jn).div(r):oa(r,n)}}else if(l<0)throw Error(Pr+"NaN");return l=l<0&&e.d[Math.max(a,s)]&1?-1:1,u.s=1,Sa=!1,r=e.times(yf(u,n+h)),Sa=!0,r=C$(r),r.s=l,r};lt.toPrecision=function(e,a){var s,n,r=this,l=r.constructor;return e===void 0?(s=is(r),n=$c(r,s<=l.toExpNeg||s>=l.toExpPos)):(Ai(e,1,Yu),a===void 0?a=l.rounding:Ai(a,0,8),r=oa(new l(r),e,a),s=is(r),n=$c(r,e<=s||s<=l.toExpNeg,e)),n};lt.toSignificantDigits=lt.tosd=function(e,a){var s=this,n=s.constructor;return e===void 0?(e=n.precision,a=n.rounding):(Ai(e,1,Yu),a===void 0?a=n.rounding:Ai(a,0,8)),oa(new n(s),e,a)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,a=is(e),s=e.constructor;return $c(e,a<=s.toExpNeg||a>=s.toExpPos)};function k$(e,a){var s,n,r,l,c,u,m,h,f=e.constructor,g=f.precision;if(!e.s||!a.s)return a.s||(a=new f(e)),Sa?oa(a,g):a;if(m=e.d,h=a.d,c=e.e,r=a.e,m=m.slice(),l=c-r,l){for(l<0?(n=m,l=-l,u=h.length):(n=h,r=c,u=m.length),c=Math.ceil(g/pa),u=c>u?c+1:u+1,l>u&&(l=u,n.length=1),n.reverse();l--;)n.push(0);n.reverse()}for(u=m.length,l=h.length,u-l<0&&(l=u,n=h,h=m,m=n),s=0;l;)s=(m[--l]=m[l]+h[l]+s)/ys|0,m[l]%=ys;for(s&&(m.unshift(s),++r),u=m.length;m[--u]==0;)m.pop();return a.d=m,a.e=r,Sa?oa(a,g):a}function Ai(e,a,s){if(e!==~~e||e<a||e>s)throw Error(Cc+e)}function ji(e){var a,s,n,r=e.length-1,l="",c=e[0];if(r>0){for(l+=c,a=1;a<r;a++)n=e[a]+"",s=pa-n.length,s&&(l+=oo(s)),l+=n;c=e[a],n=c+"",s=pa-n.length,s&&(l+=oo(s))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var ul=(function(){function e(n,r){var l,c=0,u=n.length;for(n=n.slice();u--;)l=n[u]*r+c,n[u]=l%ys|0,c=l/ys|0;return c&&n.unshift(c),n}function a(n,r,l,c){var u,m;if(l!=c)m=l>c?1:-1;else for(u=m=0;u<l;u++)if(n[u]!=r[u]){m=n[u]>r[u]?1:-1;break}return m}function s(n,r,l){for(var c=0;l--;)n[l]-=c,c=n[l]<r[l]?1:0,n[l]=c*ys+n[l]-r[l];for(;!n[0]&&n.length>1;)n.shift()}return function(n,r,l,c){var u,m,h,f,g,b,v,w,j,S,k,_,C,T,O,E,$,M,H=n.constructor,V=n.s==r.s?1:-1,F=n.d,B=r.d;if(!n.s)return new H(n);if(!r.s)throw Error(Pr+"Division by zero");for(m=n.e-r.e,$=B.length,O=F.length,v=new H(V),w=v.d=[],h=0;B[h]==(F[h]||0);)++h;if(B[h]>(F[h]||0)&&--m,l==null?_=l=H.precision:c?_=l+(is(n)-is(r))+1:_=l,_<0)return new H(0);if(_=_/pa+2|0,h=0,$==1)for(f=0,B=B[0],_++;(h<O||f)&&_--;h++)C=f*ys+(F[h]||0),w[h]=C/B|0,f=C%B|0;else{for(f=ys/(B[0]+1)|0,f>1&&(B=e(B,f),F=e(F,f),$=B.length,O=F.length),T=$,j=F.slice(0,$),S=j.length;S<$;)j[S++]=0;M=B.slice(),M.unshift(0),E=B[0],B[1]>=ys/2&&++E;do f=0,u=a(B,j,$,S),u<0?(k=j[0],$!=S&&(k=k*ys+(j[1]||0)),f=k/E|0,f>1?(f>=ys&&(f=ys-1),g=e(B,f),b=g.length,S=j.length,u=a(g,j,b,S),u==1&&(f--,s(g,$<b?M:B,b))):(f==0&&(u=f=1),g=B.slice()),b=g.length,b<S&&g.unshift(0),s(j,g,S),u==-1&&(S=j.length,u=a(B,j,$,S),u<1&&(f++,s(j,$<S?M:B,S))),S=j.length):u===0&&(f++,j=[0]),w[h++]=f,u&&j[0]?j[S++]=F[T]||0:(j=[F[T]],S=1);while((T++<O||j[0]!==void 0)&&_--)}return w[0]||w.shift(),v.e=m,oa(v,c?l+is(v)+1:l)}})();function C$(e,a){var s,n,r,l,c,u,m=0,h=0,f=e.constructor,g=f.precision;if(is(e)>16)throw Error(N4+is(e));if(!e.s)return new f(Jn);for(Sa=!1,u=g,c=new f(.03125);e.abs().gte(.1);)e=e.times(c),h+=5;for(n=Math.log(cc(2,h))/Math.LN10*2+5|0,u+=n,s=r=l=new f(Jn),f.precision=u;;){if(r=oa(r.times(e),u),s=s.times(++m),c=l.plus(ul(r,s,u)),ji(c.d).slice(0,u)===ji(l.d).slice(0,u)){for(;h--;)l=oa(l.times(l),u);return f.precision=g,a==null?(Sa=!0,oa(l,g)):l}l=c}}function is(e){for(var a=e.e*pa,s=e.d[0];s>=10;s/=10)a++;return a}function Kj(e,a,s){if(a>e.LN10.sd())throw Sa=!0,s&&(e.precision=s),Error(Pr+"LN10 precision limit exceeded");return oa(new e(e.LN10),a)}function oo(e){for(var a="";e--;)a+="0";return a}function yf(e,a){var s,n,r,l,c,u,m,h,f,g=1,b=10,v=e,w=v.d,j=v.constructor,S=j.precision;if(v.s<1)throw Error(Pr+(v.s?"NaN":"-Infinity"));if(v.eq(Jn))return new j(0);if(a==null?(Sa=!1,h=S):h=a,v.eq(10))return a==null&&(Sa=!0),Kj(j,h);if(h+=b,j.precision=h,s=ji(w),n=s.charAt(0),l=is(v),Math.abs(l)<15e14){for(;n<7&&n!=1||n==1&&s.charAt(1)>3;)v=v.times(e),s=ji(v.d),n=s.charAt(0),g++;l=is(v),n>1?(v=new j("0."+s),l++):v=new j(n+"."+s.slice(1))}else return m=Kj(j,h+2,S).times(l+""),v=yf(new j(n+"."+s.slice(1)),h-b).plus(m),j.precision=S,a==null?(Sa=!0,oa(v,S)):v;for(u=c=v=ul(v.minus(Jn),v.plus(Jn),h),f=oa(v.times(v),h),r=3;;){if(c=oa(c.times(f),h),m=u.plus(ul(c,new j(r),h)),ji(m.d).slice(0,h)===ji(u.d).slice(0,h))return u=u.times(2),l!==0&&(u=u.plus(Kj(j,h+2,S).times(l+""))),u=ul(u,new j(g),h),j.precision=S,a==null?(Sa=!0,oa(u,S)):u;u=m,r+=2}}function iO(e,a){var s,n,r;for((s=a.indexOf("."))>-1&&(a=a.replace(".","")),(n=a.search(/e/i))>0?(s<0&&(s=n),s+=+a.slice(n+1),a=a.substring(0,n)):s<0&&(s=a.length),n=0;a.charCodeAt(n)===48;)++n;for(r=a.length;a.charCodeAt(r-1)===48;)--r;if(a=a.slice(n,r),a){if(r-=n,s=s-n-1,e.e=Wu(s/pa),e.d=[],n=(s+1)%pa,s<0&&(n+=pa),n<r){for(n&&e.d.push(+a.slice(0,n)),r-=pa;n<r;)e.d.push(+a.slice(n,n+=pa));a=a.slice(n),n=pa-a.length}else n-=r;for(;n--;)a+="0";if(e.d.push(+a),Sa&&(e.e>pg||e.e<-pg))throw Error(N4+s)}else e.s=0,e.e=0,e.d=[0];return e}function oa(e,a,s){var n,r,l,c,u,m,h,f,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(n=a-c,n<0)n+=pa,r=a,h=g[f=0];else{if(f=Math.ceil((n+1)/pa),l=g.length,f>=l)return e;for(h=l=g[f],c=1;l>=10;l/=10)c++;n%=pa,r=n-pa+c}if(s!==void 0&&(l=cc(10,c-r-1),u=h/l%10|0,m=a<0||g[f+1]!==void 0||h%l,m=s<4?(u||m)&&(s==0||s==(e.s<0?3:2)):u>5||u==5&&(s==4||m||s==6&&(n>0?r>0?h/cc(10,c-r):0:g[f-1])%10&1||s==(e.s<0?8:7))),a<1||!g[0])return m?(l=is(e),g.length=1,a=a-l-1,g[0]=cc(10,(pa-a%pa)%pa),e.e=Wu(-a/pa)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=f,l=1,f--):(g.length=f+1,l=cc(10,pa-n),g[f]=r>0?(h/cc(10,c-r)%cc(10,r)|0)*l:0),m)for(;;)if(f==0){(g[0]+=l)==ys&&(g[0]=1,++e.e);break}else{if(g[f]+=l,g[f]!=ys)break;g[f--]=0,l=1}for(n=g.length;g[--n]===0;)g.pop();if(Sa&&(e.e>pg||e.e<-pg))throw Error(N4+is(e));return e}function A$(e,a){var s,n,r,l,c,u,m,h,f,g,b=e.constructor,v=b.precision;if(!e.s||!a.s)return a.s?a.s=-a.s:a=new b(e),Sa?oa(a,v):a;if(m=e.d,g=a.d,n=a.e,h=e.e,m=m.slice(),c=h-n,c){for(f=c<0,f?(s=m,c=-c,u=g.length):(s=g,n=h,u=m.length),r=Math.max(Math.ceil(v/pa),u)+2,c>r&&(c=r,s.length=1),s.reverse(),r=c;r--;)s.push(0);s.reverse()}else{for(r=m.length,u=g.length,f=r<u,f&&(u=r),r=0;r<u;r++)if(m[r]!=g[r]){f=m[r]<g[r];break}c=0}for(f&&(s=m,m=g,g=s,a.s=-a.s),u=m.length,r=g.length-u;r>0;--r)m[u++]=0;for(r=g.length;r>c;){if(m[--r]<g[r]){for(l=r;l&&m[--l]===0;)m[l]=ys-1;--m[l],m[r]+=ys}m[r]-=g[r]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--n;return m[0]?(a.d=m,a.e=n,Sa?oa(a,v):a):new b(0)}function $c(e,a,s){var n,r=is(e),l=ji(e.d),c=l.length;return a?(s&&(n=s-c)>0?l=l.charAt(0)+"."+l.slice(1)+oo(n):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(r<0?"e":"e+")+r):r<0?(l="0."+oo(-r-1)+l,s&&(n=s-c)>0&&(l+=oo(n))):r>=c?(l+=oo(r+1-c),s&&(n=s-r-1)>0&&(l=l+"."+oo(n))):((n=r+1)<c&&(l=l.slice(0,n)+"."+l.slice(n)),s&&(n=s-c)>0&&(r+1===c&&(l+="."),l+=oo(n))),e.s<0?"-"+l:l}function lO(e,a){if(e.length>a)return e.length=a,!0}function E$(e){var a,s,n;function r(l){var c=this;if(!(c instanceof r))return new r(l);if(c.constructor=r,l instanceof r){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Cc+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return iO(c,l.toString())}else if(typeof l!="string")throw Error(Cc+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,jie.test(l))iO(c,l);else throw Error(Cc+l)}if(r.prototype=lt,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=E$,r.config=r.set=wie,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],a=0;a<n.length;)e.hasOwnProperty(s=n[a++])||(e[s]=this[s]);return r.config(e),r}function wie(e){if(!e||typeof e!="object")throw Error(Pr+"Object expected");var a,s,n,r=["precision",1,Yu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(a=0;a<r.length;a+=3)if((n=e[s=r[a]])!==void 0)if(Wu(n)===n&&n>=r[a+1]&&n<=r[a+2])this[s]=n;else throw Error(Cc+s+": "+n);if((n=e[s="LN10"])!==void 0)if(n==Math.LN10)this[s]=new this(n);else throw Error(Cc+s+": "+n);return this}var S4=E$(yie);Jn=new S4(1);const ea=S4;var Nie=e=>e,T$={},O$=e=>e===T$,oO=e=>function a(){return arguments.length===0||arguments.length===1&&O$(arguments.length<=0?void 0:arguments[0])?a:e(...arguments)},P$=(e,a)=>e===1?a:oO(function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];var l=n.filter(c=>c!==T$).length;return l>=e?a(...n):P$(e-l,oO(function(){for(var c=arguments.length,u=new Array(c),m=0;m<c;m++)u[m]=arguments[m];var h=n.map(f=>O$(f)?u.shift():f);return a(...h,...u)}))}),jb=e=>P$(e.length,e),sN=(e,a)=>{for(var s=[],n=e;n<a;++n)s[n-e]=n;return s},Sie=jb((e,a)=>Array.isArray(a)?a.map(e):Object.keys(a).map(s=>a[s]).map(e)),_ie=function(){for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];if(!s.length)return Nie;var r=s.reverse(),l=r[0],c=r.slice(1);return function(){return c.reduce((u,m)=>m(u),l(...arguments))}},nN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),M$=e=>{var a=null,s=null;return function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a&&r.every((c,u)=>{var m;return c===((m=a)===null||m===void 0?void 0:m[u])})||(a=r,s=e(...r)),s}};function D$(e){var a;return e===0?a=1:a=Math.floor(new ea(e).abs().log(10).toNumber())+1,a}function L$(e,a,s){for(var n=new ea(e),r=0,l=[];n.lt(a)&&r<1e5;)l.push(n.toNumber()),n=n.add(s),r++;return l}jb((e,a,s)=>{var n=+e,r=+a;return n+s*(r-n)});jb((e,a,s)=>{var n=a-+e;return n=n||1/0,(s-e)/n});jb((e,a,s)=>{var n=a-+e;return n=n||1/0,Math.max(0,Math.min(1,(s-e)/n))});var R$=e=>{var[a,s]=e,[n,r]=[a,s];return a>s&&([n,r]=[s,a]),[n,r]},$$=(e,a,s)=>{if(e.lte(0))return new ea(0);var n=D$(e.toNumber()),r=new ea(10).pow(n),l=e.div(r),c=n!==1?.05:.1,u=new ea(Math.ceil(l.div(c).toNumber())).add(s).mul(c),m=u.mul(r);return a?new ea(m.toNumber()):new ea(Math.ceil(m.toNumber()))},kie=(e,a,s)=>{var n=new ea(1),r=new ea(e);if(!r.isint()&&s){var l=Math.abs(e);l<1?(n=new ea(10).pow(D$(e)-1),r=new ea(Math.floor(r.div(n).toNumber())).mul(n)):l>1&&(r=new ea(Math.floor(e)))}else e===0?r=new ea(Math.floor((a-1)/2)):s||(r=new ea(Math.floor(e)));var c=Math.floor((a-1)/2),u=_ie(Sie(m=>r.add(new ea(m-c).mul(n)).toNumber()),sN);return u(0,a)},I$=function(a,s,n,r){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-a)/(n-1)))return{step:new ea(0),tickMin:new ea(0),tickMax:new ea(0)};var c=$$(new ea(s).sub(a).div(n-1),r,l),u;a<=0&&s>=0?u=new ea(0):(u=new ea(a).add(s).div(2),u=u.sub(new ea(u).mod(c)));var m=Math.ceil(u.sub(a).div(c).toNumber()),h=Math.ceil(new ea(s).sub(u).div(c).toNumber()),f=m+h+1;return f>n?I$(a,s,n,r,l+1):(f<n&&(h=s>0?h+(n-f):h,m=s>0?m:m+(n-f)),{step:c,tickMin:u.sub(new ea(m).mul(c)),tickMax:u.add(new ea(h).mul(c))})};function Cie(e){var[a,s]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(n,2),[c,u]=R$([a,s]);if(c===-1/0||u===1/0){var m=u===1/0?[c,...sN(0,n-1).map(()=>1/0)]:[...sN(0,n-1).map(()=>-1/0),u];return a>s?nN(m):m}if(c===u)return kie(c,n,r);var{step:h,tickMin:f,tickMax:g}=I$(c,u,l,r,0),b=L$(f,g.add(new ea(.1).mul(h)),h);return a>s?nN(b):b}function Aie(e,a){var[s,n]=e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=R$([s,n]);if(l===-1/0||c===1/0)return[s,n];if(l===c)return[l];var u=Math.max(a,2),m=$$(new ea(c).sub(l).div(u-1),r,0),h=[...L$(new ea(l),new ea(c),m),c];return r===!1&&(h=h.map(f=>Math.round(f))),s>n?nN(h):h}var Eie=M$(Cie),Tie=M$(Aie),z$=e=>e.rootProps.maxBarSize,Oie=e=>e.rootProps.barGap,B$=e=>e.rootProps.barCategoryGap,Pie=e=>e.rootProps.barSize,Kf=e=>e.rootProps.stackOffset,_4=e=>e.options.chartName,k4=e=>e.rootProps.syncId,U$=e=>e.rootProps.syncMethod,C4=e=>e.options.eventEmitter,sl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},wb=(e,a)=>{if(!(!e||!a))return e!=null&&e.reversed?[a[1],a[0]]:a},Mie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:sl.angleAxisId,includeHidden:!1,name:void 0,reversed:sl.reversed,scale:sl.scale,tick:sl.tick,tickCount:void 0,ticks:void 0,type:sl.type,unit:void 0},Die={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,ticks:void 0,type:Wn.type,unit:void 0},Lie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:sl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sl.scale,tick:sl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Rie={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,ticks:void 0,type:"category",unit:void 0},A4=(e,a)=>e.polarAxis.angleAxis[a]!=null?e.polarAxis.angleAxis[a]:e.layout.layoutType==="radial"?Lie:Mie,E4=(e,a)=>e.polarAxis.radiusAxis[a]!=null?e.polarAxis.radiusAxis[a]:e.layout.layoutType==="radial"?Rie:Die,Nb=e=>e.polarOptions,T4=Pe([Nl,Sl,us],jR),F$=Pe([Nb,T4],(e,a)=>{if(e!=null)return an(e.innerRadius,a,0)}),V$=Pe([Nb,T4],(e,a)=>{if(e!=null)return an(e.outerRadius,a,a*.8)}),$ie=e=>{if(e==null)return[0,0];var{startAngle:a,endAngle:s}=e;return[a,s]},H$=Pe([Nb],$ie);Pe([A4,H$],wb);var q$=Pe([T4,F$,V$],(e,a,s)=>{if(!(e==null||a==null||s==null))return[a,s]});Pe([E4,q$],wb);var G$=Pe([Bt,Nb,F$,V$,Nl,Sl],(e,a,s,n,r,l)=>{if(!(e!=="centric"&&e!=="radial"||a==null||s==null||n==null)){var{cx:c,cy:u,startAngle:m,endAngle:h}=a;return{cx:an(c,r,r/2),cy:an(u,l,l/2),innerRadius:s,outerRadius:n,startAngle:m,endAngle:h,clockWise:!1}}}),Ta=(e,a)=>a,Yf=(e,a,s)=>s;function O4(e){return e==null?void 0:e.id}var hs=e=>{var a=Bt(e);return a==="horizontal"?"xAxis":a==="vertical"?"yAxis":a==="centric"?"angleAxis":"radiusAxis"},Xu=e=>e.tooltip.settings.axisId,fs=e=>{var a=hs(e),s=Xu(e);return Wf(e,a,s)},K$=Pe([fs],e=>e==null?void 0:e.dataKey);function Y$(e,a,s){var{chartData:n=[]}=a,{allowDuplicatedCategory:r,dataKey:l}=s,c=new Map;return e.forEach(u=>{var m,h=(m=u.data)!==null&&m!==void 0?m:n;if(!(h==null||h.length===0)){var f=O4(u);h.forEach((g,b)=>{var v=l==null||r?b:String(ua(g,l,null)),w=ua(g,u.dataKey,0),j;c.has(v)?j=c.get(v):j={},Object.assign(j,{[f]:w}),c.set(v,j)})}}),Array.from(c.values())}function Sb(e){return e.stackId!=null&&e.dataKey!=null}var _b=(e,a)=>e===a?!0:e==null||a==null?!1:e[0]===a[0]&&e[1]===a[1];function kb(e,a){return Array.isArray(e)&&Array.isArray(a)&&e.length===0&&a.length===0?!0:e===a}function cO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function gg(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?cO(Object(s),!0).forEach(function(n){Iie(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Iie(e,a,s){return(a=zie(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function zie(e){var a=Bie(e,"string");return typeof a=="symbol"?a:a+""}function Bie(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var rN=[0,"auto"],Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},W$=(e,a)=>e.cartesianAxis.xAxis[a],kl=(e,a)=>{var s=W$(e,a);return s??Gn},Kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Bf},X$=(e,a)=>e.cartesianAxis.yAxis[a],Cl=(e,a)=>{var s=X$(e,a);return s??Kn},Uie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},P4=(e,a)=>{var s=e.cartesianAxis.zAxis[a];return s??Uie},Da=(e,a,s)=>{switch(a){case"xAxis":return kl(e,s);case"yAxis":return Cl(e,s);case"zAxis":return P4(e,s);case"angleAxis":return A4(e,s);case"radiusAxis":return E4(e,s);default:throw new Error("Unexpected axis type: ".concat(a))}},Fie=(e,a,s)=>{switch(a){case"xAxis":return kl(e,s);case"yAxis":return Cl(e,s);default:throw new Error("Unexpected axis type: ".concat(a))}},Wf=(e,a,s)=>{switch(a){case"xAxis":return kl(e,s);case"yAxis":return Cl(e,s);case"angleAxis":return A4(e,s);case"radiusAxis":return E4(e,s);default:throw new Error("Unexpected axis type: ".concat(a))}},Z$=e=>e.graphicalItems.cartesianItems.some(a=>a.type==="bar")||e.graphicalItems.polarItems.some(a=>a.type==="radialBar");function M4(e,a){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===a;case"yAxis":return"yAxisId"in s&&s.yAxisId===a;case"zAxis":return"zAxisId"in s&&s.zAxisId===a;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===a;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===a;default:return!1}}}var Cb=e=>e.graphicalItems.cartesianItems,Vie=Pe([Ta,Yf],M4),D4=(e,a,s)=>e.filter(s).filter(n=>(a==null?void 0:a.includeHidden)===!0?!0:!n.hide),Xf=Pe([Cb,Da,Vie],D4,{memoizeOptions:{resultEqualityCheck:kb}}),J$=Pe([Xf],e=>e.filter(a=>a.type==="area"||a.type==="bar").filter(Sb)),Q$=e=>e.filter(a=>!("stackId"in a)||a.stackId===void 0),Hie=Pe([Xf],Q$),L4=e=>e.map(a=>a.data).filter(Boolean).flat(1),qie=Pe([Xf],L4,{memoizeOptions:{resultEqualityCheck:kb}}),R4=(e,a)=>{var{chartData:s=[],dataStartIndex:n,dataEndIndex:r}=a;return e.length>0?e:s.slice(n,r+1)},$4=Pe([qie,yb],R4),I4=(e,a,s)=>(a==null?void 0:a.dataKey)!=null?e.map(n=>({value:ua(n,a.dataKey)})):s.length>0?s.map(n=>n.dataKey).flatMap(n=>e.map(r=>({value:ua(r,n)}))):e.map(n=>({value:n})),Ab=Pe([$4,Da,Xf],I4);function e7(e,a){switch(e){case"xAxis":return a.direction==="x";case"yAxis":return a.direction==="y";default:return!1}}function Tp(e){if(Ci(e)||e instanceof Date){var a=Number(e);if(sn(a))return a}}function dO(e){if(Array.isArray(e)){var a=[Tp(e[0]),Tp(e[1])];return Rc(a)?a:void 0}var s=Tp(e);if(s!=null)return[s,s]}function Zu(e){return e.map(Tp).filter(ose)}function Gie(e,a,s){return!s||typeof a!="number"||Tr(a)?[]:s.length?Zu(s.flatMap(n=>{var r=ua(e,n.dataKey),l,c;if(Array.isArray(r)?[l,c]=r:l=c=r,!(!sn(l)||!sn(c)))return[a-l,a+c]})):[]}var Kie=Pe([J$,yb,fs],Y$),t7=(e,a,s)=>{var n={},r=a.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),n);return Object.fromEntries(Object.entries(r).map(l=>{var[c,u]=l,m=u.map(O4);return[c,{stackedData:Ote(e,m,s),graphicalItems:u}]}))},iN=Pe([Kie,J$,Kf],t7),a7=(e,a,s,n)=>{var{dataStartIndex:r,dataEndIndex:l}=a;if(n==null&&s!=="zAxis"){var c=Rte(e,r,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Yie=Pe([Da],e=>e.allowDataOverflow),z4=e=>{var a;if(e==null||!("domain"in e))return rN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var s=Zu(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(a=e==null?void 0:e.domain)!==null&&a!==void 0?a:rN},B4=Pe([Da],z4),U4=Pe([B4,Yie],S$),Wie=Pe([iN,Eo,Ta,U4],a7,{memoizeOptions:{resultEqualityCheck:_b}}),Eb=e=>e.errorBars,Xie=(e,a,s)=>e.flatMap(n=>a[n.id]).filter(Boolean).filter(n=>e7(s,n)),bg=function(){for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];var r=s.filter(Boolean);if(r.length!==0){var l=r.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},F4=(e,a,s,n,r)=>{var l,c;if(s.length>0&&e.forEach(u=>{s.forEach(m=>{var h,f,g=(h=n[m.id])===null||h===void 0?void 0:h.filter(k=>e7(r,k)),b=ua(u,(f=a.dataKey)!==null&&f!==void 0?f:m.dataKey),v=Gie(u,b,g);if(v.length>=2){var w=Math.min(...v),j=Math.max(...v);(l==null||w<l)&&(l=w),(c==null||j>c)&&(c=j)}var S=dO(b);S!=null&&(l=l==null?S[0]:Math.min(l,S[0]),c=c==null?S[1]:Math.max(c,S[1]))})}),(a==null?void 0:a.dataKey)!=null&&e.forEach(u=>{var m=dO(ua(u,a.dataKey));m!=null&&(l=l==null?m[0]:Math.min(l,m[0]),c=c==null?m[1]:Math.max(c,m[1]))}),sn(l)&&sn(c))return[l,c]},Zie=Pe([$4,Da,Hie,Eb,Ta],F4,{memoizeOptions:{resultEqualityCheck:_b}});function Jie(e){var{value:a}=e;if(Ci(a)||a instanceof Date)return a}var Qie=(e,a,s)=>{var n=e.map(Jie).filter(r=>r!=null);return s&&(a.dataKey==null||a.allowDuplicatedCategory&&PL(n))?VR(0,e.length):a.allowDuplicatedCategory?n:Array.from(new Set(n))},s7=e=>e.referenceElements.dots,Ju=(e,a,s)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>a==="xAxis"?n.xAxisId===s:n.yAxisId===s),ele=Pe([s7,Ta,Yf],Ju),n7=e=>e.referenceElements.areas,tle=Pe([n7,Ta,Yf],Ju),r7=e=>e.referenceElements.lines,ale=Pe([r7,Ta,Yf],Ju),i7=(e,a)=>{var s=Zu(e.map(n=>a==="xAxis"?n.x:n.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},sle=Pe(ele,Ta,i7),l7=(e,a)=>{var s=Zu(e.flatMap(n=>[a==="xAxis"?n.x1:n.y1,a==="xAxis"?n.x2:n.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},nle=Pe([tle,Ta],l7),o7=(e,a)=>{var s=Zu(e.map(n=>a==="xAxis"?n.x:n.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},rle=Pe(ale,Ta,o7),ile=Pe(sle,rle,nle,(e,a,s)=>bg(e,s,a)),V4=(e,a,s,n,r,l,c,u)=>{if(s!=null)return s;var m=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",h=m?bg(n,l,r):bg(l,r);return vie(a,h,e.allowDataOverflow)},lle=Pe([Da,B4,U4,Wie,Zie,ile,Bt,Ta],V4,{memoizeOptions:{resultEqualityCheck:_b}}),ole=[0,1],H4=(e,a,s,n,r,l,c)=>{if(!((e==null||s==null||s.length===0)&&c===void 0)){var{dataKey:u,type:m}=e,h=_o(a,l);return h&&u==null?VR(0,s.length):m==="category"?Qie(n,e,h):r==="expand"?ole:c}},q4=Pe([Da,Bt,$4,Ab,Kf,Ta,lle],H4),c7=(e,a,s,n,r)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return a==="radial"&&r==="radiusAxis"?"band":a==="radial"&&r==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var u="scale".concat(Rf(l));return u in Mh?u:"point"}}},Qu=Pe([Da,Bt,Z$,_4,Ta],c7);function cle(e){if(e!=null){if(e in Mh)return Mh[e]();var a="scale".concat(Rf(e));if(a in Mh)return Mh[a]()}}function G4(e,a,s,n){if(!(s==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(n);var r=cle(a);if(r!=null){var l=r.domain(s).range(n);return kte(l),l}}}var K4=(e,a,s)=>{var n=z4(a);if(!(s!=="auto"&&s!=="linear")){if(a!=null&&a.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Rc(e))return Eie(e,a.tickCount,a.allowDecimals);if(a!=null&&a.tickCount&&a.type==="number"&&Rc(e))return Tie(e,a.tickCount,a.allowDecimals)}},Y4=Pe([q4,Wf,Qu],K4),W4=(e,a,s,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Rc(a)&&Array.isArray(s)&&s.length>0){var r=a[0],l=s[0],c=a[1],u=s[s.length-1];return[Math.min(r,l),Math.max(c,u)]}return a},dle=Pe([Da,q4,Y4,Ta],W4),ule=Pe(Ab,Da,(e,a)=>{if(!(!a||a.type!=="number")){var s=1/0,n=Array.from(Zu(e.map(u=>u.value))).sort((u,m)=>u-m);if(n.length<2)return 1/0;var r=n[n.length-1]-n[0];if(r===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l+1]-n[l];s=Math.min(s,c)}return s/r}}),d7=Pe(ule,Bt,B$,us,(e,a,s,n)=>n,(e,a,s,n,r)=>{if(!sn(e))return 0;var l=a==="vertical"?n.height:n.width;if(r==="gap")return e*l/2;if(r==="no-gap"){var c=an(s,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),mle=(e,a)=>{var s=kl(e,a);return s==null||typeof s.padding!="string"?0:d7(e,"xAxis",a,s.padding)},hle=(e,a)=>{var s=Cl(e,a);return s==null||typeof s.padding!="string"?0:d7(e,"yAxis",a,s.padding)},fle=Pe(kl,mle,(e,a)=>{var s,n;if(e==null)return{left:0,right:0};var{padding:r}=e;return typeof r=="string"?{left:a,right:a}:{left:((s=r.left)!==null&&s!==void 0?s:0)+a,right:((n=r.right)!==null&&n!==void 0?n:0)+a}}),xle=Pe(Cl,hle,(e,a)=>{var s,n;if(e==null)return{top:0,bottom:0};var{padding:r}=e;return typeof r=="string"?{top:a,bottom:a}:{top:((s=r.top)!==null&&s!==void 0?s:0)+a,bottom:((n=r.bottom)!==null&&n!==void 0?n:0)+a}}),ple=Pe([us,fle,cb,ob,(e,a,s)=>s],(e,a,s,n,r)=>{var{padding:l}=n;return r?[l.left,s.width-l.right]:[e.left+a.left,e.left+e.width-a.right]}),gle=Pe([us,Bt,xle,cb,ob,(e,a,s)=>s],(e,a,s,n,r,l)=>{var{padding:c}=r;return l?[n.height-c.bottom,c.top]:a==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),Zf=(e,a,s,n)=>{var r;switch(a){case"xAxis":return ple(e,s,n);case"yAxis":return gle(e,s,n);case"zAxis":return(r=P4(e,s))===null||r===void 0?void 0:r.range;case"angleAxis":return H$(e);case"radiusAxis":return q$(e,s);default:return}},u7=Pe([Da,Zf],wb),em=Pe([Da,Qu,dle,u7],G4);Pe([Xf,Eb,Ta],Xie);function m7(e,a){return e.id<a.id?-1:e.id>a.id?1:0}var Tb=(e,a)=>a,Ob=(e,a,s)=>s,ble=Pe(ib,Tb,Ob,(e,a,s)=>e.filter(n=>n.orientation===a).filter(n=>n.mirror===s).sort(m7)),vle=Pe(lb,Tb,Ob,(e,a,s)=>e.filter(n=>n.orientation===a).filter(n=>n.mirror===s).sort(m7)),h7=(e,a)=>({width:e.width,height:a.height}),yle=(e,a)=>{var s=typeof a.width=="number"?a.width:Bf;return{width:s,height:e.height}},f7=Pe(us,kl,h7),jle=(e,a,s)=>{switch(a){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},wle=(e,a,s)=>{switch(a){case"left":return e.left;case"right":return s-e.right;default:return 0}},Nle=Pe(Sl,us,ble,Tb,Ob,(e,a,s,n,r)=>{var l={},c;return s.forEach(u=>{var m=h7(a,u);c==null&&(c=jle(a,n,e));var h=n==="top"&&!r||n==="bottom"&&r;l[u.id]=c-Number(h)*m.height,c+=(h?-1:1)*m.height}),l}),Sle=Pe(Nl,us,vle,Tb,Ob,(e,a,s,n,r)=>{var l={},c;return s.forEach(u=>{var m=yle(a,u);c==null&&(c=wle(a,n,e));var h=n==="left"&&!r||n==="right"&&r;l[u.id]=c-Number(h)*m.width,c+=(h?-1:1)*m.width}),l}),_le=(e,a)=>{var s=kl(e,a);if(s!=null)return Nle(e,s.orientation,s.mirror)},kle=Pe([us,kl,_le,(e,a)=>a],(e,a,s,n)=>{if(a!=null){var r=s==null?void 0:s[n];return r==null?{x:e.left,y:0}:{x:e.left,y:r}}}),Cle=(e,a)=>{var s=Cl(e,a);if(s!=null)return Sle(e,s.orientation,s.mirror)},Ale=Pe([us,Cl,Cle,(e,a)=>a],(e,a,s,n)=>{if(a!=null){var r=s==null?void 0:s[n];return r==null?{x:0,y:e.top}:{x:r,y:e.top}}}),x7=Pe(us,Cl,(e,a)=>{var s=typeof a.width=="number"?a.width:Bf;return{width:s,height:e.height}}),uO=(e,a,s)=>{switch(a){case"xAxis":return f7(e,s).width;case"yAxis":return x7(e,s).height;default:return}},p7=(e,a,s,n)=>{if(s!=null){var{allowDuplicatedCategory:r,type:l,dataKey:c}=s,u=_o(e,n),m=a.map(h=>h.value);if(c&&u&&l==="category"&&r&&PL(m))return m}},X4=Pe([Bt,Ab,Da,Ta],p7),g7=(e,a,s,n)=>{if(!(s==null||s.dataKey==null)){var{type:r,scale:l}=s,c=_o(e,n);if(c&&(r==="number"||l!=="auto"))return a.map(u=>u.value)}},Z4=Pe([Bt,Ab,Wf,Ta],g7),mO=Pe([Bt,Fie,Qu,em,X4,Z4,Zf,Y4,Ta],(e,a,s,n,r,l,c,u,m)=>{if(a==null)return null;var h=_o(e,m);return{angle:a.angle,interval:a.interval,minTickGap:a.minTickGap,orientation:a.orientation,tick:a.tick,tickCount:a.tickCount,tickFormatter:a.tickFormatter,ticks:a.ticks,type:a.type,unit:a.unit,axisType:m,categoricalDomain:l,duplicateDomain:r,isCategorical:h,niceTicks:u,range:c,realScaleType:s,scale:n}}),Ele=(e,a,s,n,r,l,c,u,m)=>{if(!(a==null||n==null)){var h=_o(e,m),{type:f,ticks:g,tickCount:b}=a,v=s==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=f==="category"&&n.bandwidth?n.bandwidth()/v:0;w=m==="angleAxis"&&l!=null&&l.length>=2?Ns(l[0]-l[1])*2*w:w;var j=g||r;if(j){var S=j.map((k,_)=>{var C=c?c.indexOf(k):k;return{index:_,coordinate:n(C)+w,value:k,offset:w}});return S.filter(k=>!Tr(k.coordinate))}return h&&u?u.map((k,_)=>({coordinate:n(k)+w,value:k,index:_,offset:w})):n.ticks?n.ticks(b).map(k=>({coordinate:n(k)+w,value:k,offset:w})):n.domain().map((k,_)=>({coordinate:n(k)+w,value:c?c[k]:k,index:_,offset:w}))}},b7=Pe([Bt,Wf,Qu,em,Y4,Zf,X4,Z4,Ta],Ele),Tle=(e,a,s,n,r,l,c)=>{if(!(a==null||s==null||n==null||n[0]===n[1])){var u=_o(e,c),{tickCount:m}=a,h=0;return h=c==="angleAxis"&&(n==null?void 0:n.length)>=2?Ns(n[0]-n[1])*2*h:h,u&&l?l.map((f,g)=>({coordinate:s(f)+h,value:f,index:g,offset:h})):s.ticks?s.ticks(m).map(f=>({coordinate:s(f)+h,value:f,offset:h})):s.domain().map((f,g)=>({coordinate:s(f)+h,value:r?r[f]:f,index:g,offset:h}))}},vo=Pe([Bt,Wf,em,Zf,X4,Z4,Ta],Tle),yo=Pe(Da,em,(e,a)=>{if(!(e==null||a==null))return gg(gg({},e),{},{scale:a})}),Ole=Pe([Da,Qu,q4,u7],G4);Pe((e,a,s)=>P4(e,s),Ole,(e,a)=>{if(!(e==null||a==null))return gg(gg({},e),{},{scale:a})});var Ple=Pe([Bt,ib,lb],(e,a,s)=>{switch(e){case"horizontal":return a.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),v7=e=>e.options.defaultTooltipEventType,y7=e=>e.options.validateTooltipEventTypes;function j7(e,a,s){if(e==null)return a;var n=e?"axis":"item";return s==null?a:s.includes(n)?n:a}function J4(e,a){var s=v7(e),n=y7(e);return j7(a,s,n)}function Mle(e){return ct(a=>J4(a,e))}var w7=(e,a)=>{var s,n=Number(a);if(!(Tr(n)||a==null))return n>=0?e==null||(s=e[n])===null||s===void 0?void 0:s.value:void 0},Dle=e=>e.tooltip.settings,uo={active:!1,index:null,dataKey:void 0,coordinate:void 0},Lle={itemInteraction:{click:uo,hover:uo},axisInteraction:{click:uo,hover:uo},keyboardInteraction:uo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},N7=sr({name:"tooltip",initialState:Lle,reducers:{addTooltipEntrySettings:{reducer(e,a){e.tooltipItemPayloads.push(a.payload)},prepare:cn()},removeTooltipEntrySettings:{reducer(e,a){var s=dl(e).tooltipItemPayloads.indexOf(a.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},prepare:cn()},setTooltipSettingsState(e,a){e.settings=a.payload},setActiveMouseOverItemIndex(e,a){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=a.payload.activeIndex,e.itemInteraction.hover.dataKey=a.payload.activeDataKey,e.itemInteraction.hover.coordinate=a.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,a){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=a.payload.activeIndex,e.itemInteraction.click.dataKey=a.payload.activeDataKey,e.itemInteraction.click.coordinate=a.payload.activeCoordinate},setMouseOverAxisIndex(e,a){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=a.payload.activeIndex,e.axisInteraction.hover.dataKey=a.payload.activeDataKey,e.axisInteraction.hover.coordinate=a.payload.activeCoordinate},setMouseClickAxisIndex(e,a){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=a.payload.activeIndex,e.axisInteraction.click.dataKey=a.payload.activeDataKey,e.axisInteraction.click.coordinate=a.payload.activeCoordinate},setSyncInteraction(e,a){e.syncInteraction=a.payload},setKeyboardInteraction(e,a){e.keyboardInteraction.active=a.payload.active,e.keyboardInteraction.index=a.payload.activeIndex,e.keyboardInteraction.coordinate=a.payload.activeCoordinate,e.keyboardInteraction.dataKey=a.payload.activeDataKey}}}),{addTooltipEntrySettings:Rle,removeTooltipEntrySettings:$le,setTooltipSettingsState:Ile,setActiveMouseOverItemIndex:S7,mouseLeaveItem:zle,mouseLeaveChart:_7,setActiveClickItemIndex:Ble,setMouseOverAxisIndex:k7,setMouseClickAxisIndex:Ule,setSyncInteraction:lN,setKeyboardInteraction:oN}=N7.actions,Fle=N7.reducer;function hO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Lx(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?hO(Object(s),!0).forEach(function(n){Vle(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Vle(e,a,s){return(a=Hle(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Hle(e){var a=qle(e,"string");return typeof a=="symbol"?a:a+""}function qle(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Gle(e,a,s){return a==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Kle(e){return e.index!=null}var C7=(e,a,s,n)=>{if(a==null)return uo;var r=Gle(e,a,s);if(r==null)return uo;if(r.active)return r;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(Kle(r)){if(l)return Lx(Lx({},r),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Lx(Lx({},uo),{},{coordinate:r.coordinate})},Q4=(e,a)=>{var s=e==null?void 0:e.index;if(s==null)return null;var n=Number(s);if(!sn(n))return s;var r=0,l=1/0;return a.length>0&&(l=a.length-1),String(Math.max(r,Math.min(n,l)))},A7=(e,a,s,n,r,l,c,u)=>{if(!(l==null||u==null)){var m=c[0],h=m==null?void 0:u(m.positions,l);if(h!=null)return h;var f=r==null?void 0:r[Number(l)];if(f)switch(s){case"horizontal":return{x:f.coordinate,y:(n.top+a)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},E7=(e,a,s,n)=>{if(a==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var r;return s==="hover"?r=e.itemInteraction.hover.dataKey:r=e.itemInteraction.click.dataKey,r==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===r})},Jf=e=>e.options.tooltipPayloadSearcher,tm=e=>e.tooltip;function fO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function xO(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?fO(Object(s),!0).forEach(function(n){Yle(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Yle(e,a,s){return(a=Wle(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Wle(e){var a=Xle(e,"string");return typeof a=="symbol"?a:a+""}function Xle(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Zle(e,a){return e??a}var T7=(e,a,s,n,r,l,c)=>{if(!(a==null||l==null)){var{chartData:u,computedData:m,dataStartIndex:h,dataEndIndex:f}=s,g=[];return e.reduce((b,v)=>{var w,{dataDefinedOnItem:j,settings:S}=v,k=Zle(j,u),_=Array.isArray(k)?wR(k,h,f):k,C=(w=S==null?void 0:S.dataKey)!==null&&w!==void 0?w:n,T=S==null?void 0:S.nameKey,O;if(n&&Array.isArray(_)&&!Array.isArray(_[0])&&c==="axis"?O=ML(_,n,r):O=l(_,a,m,T),Array.isArray(O))O.forEach($=>{var M=xO(xO({},S),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});b.push(HE({tooltipEntrySettings:M,dataKey:$.dataKey,payload:$.payload,value:ua($.payload,$.dataKey),name:$.name}))});else{var E;b.push(HE({tooltipEntrySettings:S,dataKey:C,payload:O,value:ua(O,C),name:(E=ua(O,T))!==null&&E!==void 0?E:S==null?void 0:S.name}))}return b},g)}},e_=Pe([fs,Bt,Z$,_4,hs],c7),Jle=Pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,a)=>[...e,...a]),Qle=Pe([hs,Xu],M4),Qf=Pe([Jle,fs,Qle],D4,{memoizeOptions:{resultEqualityCheck:kb}}),eoe=Pe([Qf],e=>e.filter(Sb)),toe=Pe([Qf],L4,{memoizeOptions:{resultEqualityCheck:kb}}),am=Pe([toe,Eo],R4),aoe=Pe([eoe,Eo,fs],Y$),t_=Pe([am,fs,Qf],I4),O7=Pe([fs],z4),soe=Pe([fs],e=>e.allowDataOverflow),P7=Pe([O7,soe],S$),noe=Pe([Qf],e=>e.filter(Sb)),roe=Pe([aoe,noe,Kf],t7),ioe=Pe([roe,Eo,hs,P7],a7),loe=Pe([Qf],Q$),ooe=Pe([am,fs,loe,Eb,hs],F4,{memoizeOptions:{resultEqualityCheck:_b}}),coe=Pe([s7,hs,Xu],Ju),doe=Pe([coe,hs],i7),uoe=Pe([n7,hs,Xu],Ju),moe=Pe([uoe,hs],l7),hoe=Pe([r7,hs,Xu],Ju),foe=Pe([hoe,hs],o7),xoe=Pe([doe,foe,moe],bg),poe=Pe([fs,O7,P7,ioe,ooe,xoe,Bt,hs],V4),M7=Pe([fs,Bt,am,t_,Kf,hs,poe],H4),goe=Pe([M7,fs,e_],K4),boe=Pe([fs,M7,goe,hs],W4),D7=e=>{var a=hs(e),s=Xu(e),n=!1;return Zf(e,a,s,n)},L7=Pe([fs,D7],wb),R7=Pe([fs,e_,boe,L7],G4),voe=Pe([Bt,t_,fs,hs],p7),yoe=Pe([Bt,t_,fs,hs],g7),joe=(e,a,s,n,r,l,c,u)=>{if(a){var{type:m}=a,h=_o(e,u);if(n){var f=s==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=m==="category"&&n.bandwidth?n.bandwidth()/f:0;return g=u==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?Ns(r[0]-r[1])*2*g:g,h&&c?c.map((b,v)=>({coordinate:n(b)+g,value:b,index:v,offset:g})):n.domain().map((b,v)=>({coordinate:n(b)+g,value:l?l[b]:b,index:v,offset:g}))}}},Al=Pe([Bt,fs,e_,R7,D7,voe,yoe,hs],joe),a_=Pe([v7,y7,Dle],(e,a,s)=>j7(s.shared,e,a)),$7=e=>e.tooltip.settings.trigger,s_=e=>e.tooltip.settings.defaultIndex,Pb=Pe([tm,a_,$7,s_],C7),jo=Pe([Pb,am],Q4),I7=Pe([Al,jo],w7),z7=Pe([Pb],e=>{if(e)return e.dataKey}),B7=Pe([tm,a_,$7,s_],E7),woe=Pe([Nl,Sl,Bt,us,Al,s_,B7,Jf],A7),Noe=Pe([Pb,woe],(e,a)=>e!=null&&e.coordinate?e.coordinate:a),Soe=Pe([Pb],e=>e.active),_oe=Pe([B7,jo,Eo,K$,I7,Jf,a_],T7),koe=Pe([_oe],e=>{if(e!=null){var a=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(a))}});function pO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function gO(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?pO(Object(s),!0).forEach(function(n){Coe(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Coe(e,a,s){return(a=Aoe(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Aoe(e){var a=Eoe(e,"string");return typeof a=="symbol"?a:a+""}function Eoe(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Toe=()=>ct(fs),Ooe=()=>{var e=Toe(),a=ct(Al),s=ct(R7);return ff(gO(gO({},e),{},{scale:s}),a)},Poe=()=>ct(_4),n_=(e,a)=>a,U7=(e,a,s)=>s,r_=(e,a,s,n)=>n,Moe=Pe(Al,e=>eb(e,a=>a.coordinate)),i_=Pe([tm,n_,U7,r_],C7),F7=Pe([i_,am],Q4),Doe=(e,a,s)=>{if(a!=null){var n=tm(e);return a==="axis"?s==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:s==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},V7=Pe([tm,n_,U7,r_],E7),vg=Pe([Nl,Sl,Bt,us,Al,r_,V7,Jf],A7),Loe=Pe([i_,vg],(e,a)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:a}),H7=Pe(Al,F7,w7),Roe=Pe([V7,F7,Eo,K$,H7,Jf,n_],T7),$oe=Pe([i_],e=>({isActive:e.active,activeIndex:e.index})),Ioe=(e,a,s,n,r,l,c,u)=>{if(!(!e||!a||!n||!r||!l)){var m=$te(e.chartX,e.chartY,a,s,u);if(m){var h=zte(m,a),f=Ste(h,c,l,n,r),g=Ite(a,l,f,m);return{activeIndex:String(f),activeCoordinate:g}}}};function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},cN.apply(null,arguments)}function bO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Rx(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?bO(Object(s),!0).forEach(function(n){zoe(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function zoe(e,a,s){return(a=Boe(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Boe(e){var a=Uoe(e,"string");return typeof a=="symbol"?a:a+""}function Uoe(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Foe(e){var{coordinate:a,payload:s,index:n,offset:r,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:m,chartName:h}=e,f=a,g=s,b=n;if(!u||!f||h!=="ScatterChart"&&m!=="axis")return null;var v,w;if(h==="ScatterChart")v=f,w=tse;else if(h==="BarChart")v=ase(c,f,r,l),w=BR;else if(c==="radial"){var{cx:j,cy:S,radius:k,startAngle:_,endAngle:C}=UR(f);v={cx:j,cy:S,startAngle:_,endAngle:C,innerRadius:k,outerRadius:k},w=JS}else v={points:zse(c,f,r)},w=ZS;var T=typeof u=="object"&&"className"in u?u.className:void 0,O=Rx(Rx(Rx(Rx({stroke:"#ccc",pointerEvents:"none"},r),v),Pc(u)),{},{payload:g,payloadIndex:b,className:Pt("recharts-tooltip-cursor",T)});return x.isValidElement(u)?x.cloneElement(u,O):x.createElement(w,O)}function Voe(e){var a=Ooe(),s=OR(),n=ub(),r=Poe();return x.createElement(Foe,cN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:s,layout:n,tooltipAxisBandSize:a,chartName:r}))}var q7=x.createContext(null),Hoe=()=>x.useContext(q7),Yj={exports:{}},vO;function qoe(){return vO||(vO=1,(function(e){var a=Object.prototype.hasOwnProperty,s="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(s=!1));function r(m,h,f){this.fn=m,this.context=h,this.once=f||!1}function l(m,h,f,g,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new r(f,g||m,b),w=s?s+h:h;return m._events[w]?m._events[w].fn?m._events[w]=[m._events[w],v]:m._events[w].push(v):(m._events[w]=v,m._eventsCount++),m}function c(m,h){--m._eventsCount===0?m._events=new n:delete m._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],f,g;if(this._eventsCount===0)return h;for(g in f=this._events)a.call(f,g)&&h.push(s?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},u.prototype.listeners=function(h){var f=s?s+h:h,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,v=g.length,w=new Array(v);b<v;b++)w[b]=g[b].fn;return w},u.prototype.listenerCount=function(h){var f=s?s+h:h,g=this._events[f];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,f,g,b,v,w){var j=s?s+h:h;if(!this._events[j])return!1;var S=this._events[j],k=arguments.length,_,C;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,g),!0;case 4:return S.fn.call(S.context,f,g,b),!0;case 5:return S.fn.call(S.context,f,g,b,v),!0;case 6:return S.fn.call(S.context,f,g,b,v,w),!0}for(C=1,_=new Array(k-1);C<k;C++)_[C-1]=arguments[C];S.fn.apply(S.context,_)}else{var T=S.length,O;for(C=0;C<T;C++)switch(S[C].once&&this.removeListener(h,S[C].fn,void 0,!0),k){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,f);break;case 3:S[C].fn.call(S[C].context,f,g);break;case 4:S[C].fn.call(S[C].context,f,g,b);break;default:if(!_)for(O=1,_=new Array(k-1);O<k;O++)_[O-1]=arguments[O];S[C].fn.apply(S[C].context,_)}}return!0},u.prototype.on=function(h,f,g){return l(this,h,f,g,!1)},u.prototype.once=function(h,f,g){return l(this,h,f,g,!0)},u.prototype.removeListener=function(h,f,g,b){var v=s?s+h:h;if(!this._events[v])return this;if(!f)return c(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!b||w.once)&&(!g||w.context===g)&&c(this,v);else{for(var j=0,S=[],k=w.length;j<k;j++)(w[j].fn!==f||b&&!w[j].once||g&&w[j].context!==g)&&S.push(w[j]);S.length?this._events[v]=S.length===1?S[0]:S:c(this,v)}return this},u.prototype.removeAllListeners=function(h){var f;return h?(f=s?s+h:h,this._events[f]&&c(this,f)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=s,u.EventEmitter=u,e.exports=u})(Yj)),Yj.exports}var Goe=qoe();const Koe=Ei(Goe);var jf=new Koe,dN="recharts.syncEvent.tooltip",yO="recharts.syncEvent.brush";function l_(e,a){if(a){var s=Number.parseInt(a,10);if(!Tr(s))return e==null?void 0:e[s]}}var Yoe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},G7=sr({name:"options",initialState:Yoe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Woe=G7.reducer,{createEventEmitter:Xoe}=G7.actions;function Zoe(e){return e.tooltip.syncInteraction}var Joe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},K7=sr({name:"chartData",initialState:Joe,reducers:{setChartData(e,a){if(e.chartData=a.payload,a.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}a.payload.length>0&&e.dataEndIndex!==a.payload.length-1&&(e.dataEndIndex=a.payload.length-1)},setComputedData(e,a){e.computedData=a.payload},setDataStartEndIndexes(e,a){var{startIndex:s,endIndex:n}=a.payload;s!=null&&(e.dataStartIndex=s),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:jO,setDataStartEndIndexes:Qoe,setComputedData:Qbe}=K7.actions,ece=K7.reducer,tce=["x","y"];function wO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Cd(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?wO(Object(s),!0).forEach(function(n){ace(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function ace(e,a,s){return(a=sce(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function sce(e){var a=nce(e,"string");return typeof a=="symbol"?a:a+""}function nce(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function rce(e,a){if(e==null)return{};var s,n,r=ice(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function ice(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var Y7=()=>{};function lce(){var e=ct(k4),a=ct(C4),s=Ea(),n=ct(U$),r=ct(Al),l=ub(),c=db(),u=ct(m=>m.rootProps.className);x.useEffect(()=>{if(e==null)return Y7;var m=(h,f,g)=>{if(a!==g&&e===h){if(n==="index"){var b;if(c&&f!==null&&f!==void 0&&(b=f.payload)!==null&&b!==void 0&&b.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:w,y:j}=v,S=rce(v,tce),{x:k,y:_,width:C,height:T}=f.payload.sourceViewBox,O=Cd(Cd({},S),{},{x:c.x+(C?(w-k)/C:0)*c.width,y:c.y+(T?(j-_)/T:0)*c.height});s(Cd(Cd({},f),{},{payload:Cd(Cd({},f.payload),{},{coordinate:O})}))}else s(f);return}if(r!=null){var E;if(typeof n=="function"){var $={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},M=n(r,$);E=r[M]}else n==="value"&&(E=r.find(A=>String(A.value)===f.payload.label));var{coordinate:H}=f.payload;if(E==null||f.payload.active===!1||H==null||c==null){s(lN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:V,y:F}=H,B=Math.min(V,c.x+c.width),ee=Math.min(F,c.y+c.height),we={x:l==="horizontal"?E.coordinate:B,y:l==="horizontal"?ee:E.coordinate},ne=lN({active:f.payload.active,coordinate:we,dataKey:f.payload.dataKey,index:String(E.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox});s(ne)}}};return jf.on(dN,m),()=>{jf.off(dN,m)}},[u,s,a,e,n,r,l,c])}function oce(){var e=ct(k4),a=ct(C4),s=Ea();x.useEffect(()=>{if(e==null)return Y7;var n=(r,l,c)=>{a!==c&&e===r&&s(Qoe(l))};return jf.on(yO,n),()=>{jf.off(yO,n)}},[s,a,e])}function cce(){var e=Ea();x.useEffect(()=>{e(Xoe())},[e]),lce(),oce()}function dce(e,a,s,n,r,l){var c=ct(v=>Doe(v,e,a)),u=ct(C4),m=ct(k4),h=ct(U$),f=ct(Zoe),g=f==null?void 0:f.active,b=db();x.useEffect(()=>{if(!g&&m!=null&&u!=null){var v=lN({active:l,coordinate:s,dataKey:c,index:r,label:typeof n=="number"?String(n):n,sourceViewBox:b});jf.emit(dN,m,v,u)}},[g,s,c,r,n,u,m,h,l,b])}function NO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function SO(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?NO(Object(s),!0).forEach(function(n){uce(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):NO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function uce(e,a,s){return(a=mce(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function mce(e){var a=hce(e,"string");return typeof a=="symbol"?a:a+""}function hce(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function fce(e){return e.dataKey}function xce(e,a){return x.isValidElement(e)?x.cloneElement(e,a):typeof e=="function"?x.createElement(e,a):x.createElement(Mae,a)}var _O=[],pce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ko.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Qn(e){var a=Vs(e,pce),{active:s,allowEscapeViewBox:n,animationDuration:r,animationEasing:l,content:c,filterNull:u,isAnimationActive:m,offset:h,payloadUniqBy:f,position:g,reverseDirection:b,useTranslate3d:v,wrapperStyle:w,cursor:j,shared:S,trigger:k,defaultIndex:_,portal:C,axisId:T}=a,O=Ea(),E=typeof _=="number"?String(_):_;x.useEffect(()=>{O(Ile({shared:S,trigger:k,axisId:T,active:s,defaultIndex:E}))},[O,S,k,T,s,E]);var $=db(),M=LR(),H=Mle(S),{activeIndex:V,isActive:F}=ct(le=>$oe(le,H,k,E)),B=ct(le=>Roe(le,H,k,E)),ee=ct(le=>H7(le,H,k,E)),we=ct(le=>Loe(le,H,k,E)),ne=B,A=Hoe(),U=s??F,[K,z]=YL([ne,U]),I=H==="axis"?ee:void 0;dce(H,k,we,I,V,U);var D=C??A;if(D==null)return null;var R=ne??_O;U||(R=_O),u&&R.length&&(R=VL(ne.filter(le=>le.value!=null&&(le.hide!==!0||a.includeHidden)),f,fce));var Z=R.length>0,de=x.createElement(Bae,{allowEscapeViewBox:n,animationDuration:r,animationEasing:l,isAnimationActive:m,active:U,coordinate:we,hasPayload:Z,offset:h,position:g,reverseDirection:b,useTranslate3d:v,viewBox:$,wrapperStyle:w,lastBoundingBox:K,innerRef:z,hasPortalFromProps:!!C},xce(c,SO(SO({},a),{},{payload:R,label:I,active:U,coordinate:we,accessibilityLayer:M})));return x.createElement(x.Fragment,null,QM.createPortal(de,D),U&&x.createElement(Voe,{cursor:j,tooltipEventType:H,coordinate:we,payload:ne,index:V}))}var ll=e=>null;ll.displayName="Cell";function gce(e,a,s){return(a=bce(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function bce(e){var a=vce(e,"string");return typeof a=="symbol"?a:a+""}function vce(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}class yce{constructor(a){gce(this,"cache",new Map),this.maxSize=a}get(a){var s=this.cache.get(a);return s!==void 0&&(this.cache.delete(a),this.cache.set(a,s)),s}set(a,s){if(this.cache.has(a))this.cache.delete(a);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(a,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function kO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function jce(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?kO(Object(s),!0).forEach(function(n){wce(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function wce(e,a,s){return(a=Nce(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Nce(e){var a=Sce(e,"string");return typeof a=="symbol"?a:a+""}function Sce(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var _ce={cacheSize:2e3,enableCache:!0},W7=jce({},_ce),CO=new yce(W7.cacheSize),kce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AO="recharts_measurement_span";function Cce(e,a){var s=a.fontSize||"",n=a.fontFamily||"",r=a.fontWeight||"",l=a.fontStyle||"",c=a.letterSpacing||"",u=a.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(n,"|").concat(r,"|").concat(l,"|").concat(c,"|").concat(u)}var EO=(e,a)=>{try{var s=document.getElementById(AO);s||(s=document.createElement("span"),s.setAttribute("id",AO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,kce,a),s.textContent="".concat(e);var n=s.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Hh=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a==null||ko.isSsr)return{width:0,height:0};if(!W7.enableCache)return EO(a,s);var n=Cce(a,s),r=CO.get(n);if(r)return r;var l=EO(a,s);return CO.set(n,l),l},TO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ace=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ece=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,X7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Tce=Object.keys(X7),ou="NaN";function Oce(e,a){return e*X7[a]}class An{static parse(a){var s,[,n,r]=(s=Ece.exec(a))!==null&&s!==void 0?s:[];return new An(parseFloat(n),r??"")}constructor(a,s){this.num=a,this.unit=s,this.num=a,this.unit=s,Tr(a)&&(this.unit=""),s!==""&&!Ace.test(s)&&(this.num=NaN,this.unit=""),Tce.includes(s)&&(this.num=Oce(a,s),this.unit="px")}add(a){return this.unit!==a.unit?new An(NaN,""):new An(this.num+a.num,this.unit)}subtract(a){return this.unit!==a.unit?new An(NaN,""):new An(this.num-a.num,this.unit)}multiply(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new An(NaN,""):new An(this.num*a.num,this.unit||a.unit)}divide(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new An(NaN,""):new An(this.num/a.num,this.unit||a.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Tr(this.num)}}function Z7(e){if(e.includes(ou))return ou;for(var a=e;a.includes("*")||a.includes("/");){var s,[,n,r,l]=(s=TO.exec(a))!==null&&s!==void 0?s:[],c=An.parse(n??""),u=An.parse(l??""),m=r==="*"?c.multiply(u):c.divide(u);if(m.isNaN())return ou;a=a.replace(TO,m.toString())}for(;a.includes("+")||/.-\d+(?:\.\d+)?/.test(a);){var h,[,f,g,b]=(h=OO.exec(a))!==null&&h!==void 0?h:[],v=An.parse(f??""),w=An.parse(b??""),j=g==="+"?v.add(w):v.subtract(w);if(j.isNaN())return ou;a=a.replace(OO,j.toString())}return a}var PO=/\(([^()]*)\)/;function Pce(e){for(var a=e,s;(s=PO.exec(a))!=null;){var[,n]=s;a=a.replace(PO,Z7(n))}return a}function Mce(e){var a=e.replace(/\s+/g,"");return a=Pce(a),a=Z7(a),a}function Dce(e){try{return Mce(e)}catch{return ou}}function Wj(e){var a=Dce(e.slice(5,-1));return a===ou?"":a}var Lce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Rce=["dx","dy","angle","className","breakAll"];function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},uN.apply(null,arguments)}function MO(e,a){if(e==null)return{};var s,n,r=$ce(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function $ce(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var J7=/[ \f\n\r\t\v\u2028\u2029]+/,Q7=e=>{var{children:a,breakAll:s,style:n}=e;try{var r=[];Ca(a)||(s?r=a.toString().split(""):r=a.toString().split(J7));var l=r.map(u=>({word:u,width:Hh(u,n).width})),c=s?0:Hh("",n).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},Ice=(e,a,s,n,r)=>{var{maxLines:l,children:c,style:u,breakAll:m}=e,h=mt(l),f=c,g=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((B,ee)=>{var{word:we,width:ne}=ee,A=B[B.length-1];if(A&&(n==null||r||A.width+ne+s<Number(n)))A.words.push(we),A.width+=ne+s;else{var U={words:[we],width:ne};B.push(U)}return B},[])},b=g(a),v=V=>V.reduce((F,B)=>F.width>B.width?F:B);if(!h||r)return b;var w=b.length>l||v(b).width>Number(n);if(!w)return b;for(var j="",S=V=>{var F=f.slice(0,V),B=Q7({breakAll:m,style:u,children:F+j}).wordsWithComputedWidth,ee=g(B),we=ee.length>l||v(ee).width>Number(n);return[we,ee]},k=0,_=f.length-1,C=0,T;k<=_&&C<=f.length-1;){var O=Math.floor((k+_)/2),E=O-1,[$,M]=S(E),[H]=S(O);if(!$&&!H&&(k=O+1),$&&H&&(_=O-1),!$&&H){T=M;break}C++}return T||b},DO=e=>{var a=Ca(e)?[]:e.toString().split(J7);return[{words:a}]},zce=e=>{var{width:a,scaleToFit:s,children:n,style:r,breakAll:l,maxLines:c}=e;if((a||s)&&!ko.isSsr){var u,m,h=Q7({breakAll:l,children:n,style:r});if(h){var{wordsWithComputedWidth:f,spaceWidth:g}=h;u=f,m=g}else return DO(n);return Ice({breakAll:l,children:n,maxLines:c,style:r},u,m,a,s)}return DO(n)},LO="#808080",Mb=x.forwardRef((e,a)=>{var{x:s=0,y:n=0,lineHeight:r="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:u="start",verticalAnchor:m="end",fill:h=LO}=e,f=MO(e,Lce),g=x.useMemo(()=>zce({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:b,dy:v,angle:w,className:j,breakAll:S}=f,k=MO(f,Rce);if(!Ci(s)||!Ci(n)||g.length===0)return null;var _=s+(mt(b)?b:0),C=n+(mt(v)?v:0),T;switch(m){case"start":T=Wj("calc(".concat(l,")"));break;case"middle":T=Wj("calc(".concat((g.length-1)/2," * -").concat(r," + (").concat(l," / 2))"));break;default:T=Wj("calc(".concat(g.length-1," * -").concat(r,")"));break}var O=[];if(c){var E=g[0].width,{width:$}=f;O.push("scale(".concat(mt($)?$/E:1,")"))}return w&&O.push("rotate(".concat(w,", ").concat(_,", ").concat(C,")")),O.length&&(k.transform=O.join(" ")),x.createElement("text",uN({},pn(k),{ref:a,x:_,y:C,className:Pt("recharts-text",j),textAnchor:u,fill:h.includes("url")?LO:h}),g.map((M,H)=>{var V=M.words.join(S?"":" ");return x.createElement("tspan",{x:_,dy:H===0?T:r,key:"".concat(V,"-").concat(H)},V)}))});Mb.displayName="Text";var Bce=["labelRef"];function Uce(e,a){if(e==null)return{};var s,n,r=Fce(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Fce(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function RO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Xa(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?RO(Object(s),!0).forEach(function(n){Vce(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Vce(e,a,s){return(a=Hce(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Hce(e){var a=qce(e,"string");return typeof a=="symbol"?a:a+""}function qce(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},nl.apply(null,arguments)}var e9=x.createContext(null),Gce=e=>{var{x:a,y:s,width:n,height:r,children:l}=e,c=x.useMemo(()=>({x:a,y:s,width:n,height:r}),[a,s,n,r]);return x.createElement(e9.Provider,{value:c},l)},t9=()=>{var e=x.useContext(e9),a=db();return e||a},Kce=x.createContext(null),Yce=()=>{var e=x.useContext(Kce),a=ct(G$);return e||a},Wce=e=>{var{value:a,formatter:s}=e,n=Ca(e.children)?a:e.children;return typeof s=="function"?s(n):n},o_=e=>e!=null&&typeof e=="function",Xce=(e,a)=>{var s=Ns(a-e),n=Math.min(Math.abs(a-e),360);return s*n},Zce=(e,a,s,n,r)=>{var{offset:l,className:c}=e,{cx:u,cy:m,innerRadius:h,outerRadius:f,startAngle:g,endAngle:b,clockWise:v}=r,w=(h+f)/2,j=Xce(g,b),S=j>=0?1:-1,k,_;switch(a){case"insideStart":k=g+S*l,_=v;break;case"insideEnd":k=b-S*l,_=!v;break;case"end":k=b+S*l,_=v;break;default:throw new Error("Unsupported position ".concat(a))}_=j<=0?_:!_;var C=rs(u,m,w,k),T=rs(u,m,w,k+(_?1:-1)*359),O="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(_?0:1,`,
    `).concat(T.x,",").concat(T.y),E=Ca(e.id)?uf("recharts-radial-line-"):e.id;return x.createElement("text",nl({},n,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",c)}),x.createElement("defs",null,x.createElement("path",{id:E,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(E)},s))},Jce=(e,a,s)=>{var{cx:n,cy:r,innerRadius:l,outerRadius:c,startAngle:u,endAngle:m}=e,h=(u+m)/2;if(s==="outside"){var{x:f,y:g}=rs(n,r,c+a,h);return{x:f,y:g,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:n,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:n,y:r,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:n,y:r,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,{x:v,y:w}=rs(n,r,b,h);return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},a9=e=>"cx"in e&&mt(e.cx),Qce=(e,a)=>{var{parentViewBox:s,offset:n,position:r}=e,l;s!=null&&!a9(s)&&(l=s);var{x:c,y:u,width:m,height:h}=a,f=h>=0?1:-1,g=f*n,b=f>0?"end":"start",v=f>0?"start":"end",w=m>=0?1:-1,j=w*n,S=w>0?"end":"start",k=w>0?"start":"end";if(r==="top"){var _={x:c+m/2,y:u-f*n,textAnchor:"middle",verticalAnchor:b};return Xa(Xa({},_),l?{height:Math.max(u-l.y,0),width:m}:{})}if(r==="bottom"){var C={x:c+m/2,y:u+h+g,textAnchor:"middle",verticalAnchor:v};return Xa(Xa({},C),l?{height:Math.max(l.y+l.height-(u+h),0),width:m}:{})}if(r==="left"){var T={x:c-j,y:u+h/2,textAnchor:S,verticalAnchor:"middle"};return Xa(Xa({},T),l?{width:Math.max(T.x-l.x,0),height:h}:{})}if(r==="right"){var O={x:c+m+j,y:u+h/2,textAnchor:k,verticalAnchor:"middle"};return Xa(Xa({},O),l?{width:Math.max(l.x+l.width-O.x,0),height:h}:{})}var E=l?{width:m,height:h}:{};return r==="insideLeft"?Xa({x:c+j,y:u+h/2,textAnchor:k,verticalAnchor:"middle"},E):r==="insideRight"?Xa({x:c+m-j,y:u+h/2,textAnchor:S,verticalAnchor:"middle"},E):r==="insideTop"?Xa({x:c+m/2,y:u+g,textAnchor:"middle",verticalAnchor:v},E):r==="insideBottom"?Xa({x:c+m/2,y:u+h-g,textAnchor:"middle",verticalAnchor:b},E):r==="insideTopLeft"?Xa({x:c+j,y:u+g,textAnchor:k,verticalAnchor:v},E):r==="insideTopRight"?Xa({x:c+m-j,y:u+g,textAnchor:S,verticalAnchor:v},E):r==="insideBottomLeft"?Xa({x:c+j,y:u+h-g,textAnchor:k,verticalAnchor:b},E):r==="insideBottomRight"?Xa({x:c+m-j,y:u+h-g,textAnchor:S,verticalAnchor:b},E):r&&typeof r=="object"&&(mt(r.x)||bl(r.x))&&(mt(r.y)||bl(r.y))?Xa({x:c+an(r.x,m),y:u+an(r.y,h),textAnchor:"end",verticalAnchor:"end"},E):Xa({x:c+m/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},E)},ede={offset:5};function co(e){var a=Vs(e,ede),{viewBox:s,position:n,value:r,children:l,content:c,className:u="",textBreakAll:m,labelRef:h}=a,f=Yce(),g=t9(),b=n==="center"?g:f??g,v=s||b;if(!v||Ca(r)&&Ca(l)&&!x.isValidElement(c)&&typeof c!="function")return null;var w=Xa(Xa({},a),{},{viewBox:v});if(x.isValidElement(c)){var{labelRef:j}=w,S=Uce(w,Bce);return x.cloneElement(c,S)}var k;if(typeof c=="function"){if(k=x.createElement(c,w),x.isValidElement(k))return k}else k=Wce(a);var _=a9(v),C=pn(a);if(_&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Zce(a,n,k,C,v);var T=_?Jce(v,a.offset,a.position):Qce(a,v);return x.createElement(Mb,nl({ref:h,className:Pt("recharts-label",u)},C,T,{breakAll:m}),k)}co.displayName="Label";var tde=(e,a,s)=>{if(!e)return null;var n={viewBox:a,labelRef:s};return e===!0?x.createElement(co,nl({key:"label-implicit"},n)):Ci(e)?x.createElement(co,nl({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===co?x.cloneElement(e,Xa({key:"label-implicit"},n)):x.createElement(co,nl({key:"label-implicit",content:e},n)):o_(e)?x.createElement(co,nl({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(co,nl({},e,{key:"label-implicit"},n)):null};function ade(e){var{label:a,labelRef:s}=e,n=t9();return tde(a,n,s)||null}var Xj={},Zj={},$O;function sde(){return $O||($O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return s[s.length-1]}e.last=a})(Zj)),Zj}var Jj={},IO;function nde(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=a})(Jj)),Jj}var zO;function rde(){return zO||(zO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=sde(),s=nde(),n=IS();function r(l){if(n.isArrayLike(l))return a.last(s.toArray(l))}e.last=r})(Xj)),Xj}var Qj,BO;function ide(){return BO||(BO=1,Qj=rde().last),Qj}var lde=ide();const ode=Ei(lde);var cde=["valueAccessor"],dde=["dataKey","clockWise","id","textBreakAll"];function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},yg.apply(null,arguments)}function UO(e,a){if(e==null)return{};var s,n,r=ude(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function ude(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var mde=e=>Array.isArray(e.value)?ode(e.value):e.value,s9=x.createContext(void 0),n9=s9.Provider,r9=x.createContext(void 0),hde=r9.Provider;function fde(){return x.useContext(s9)}function xde(){return x.useContext(r9)}function Op(e){var{valueAccessor:a=mde}=e,s=UO(e,cde),{dataKey:n,clockWise:r,id:l,textBreakAll:c}=s,u=UO(s,dde),m=fde(),h=xde(),f=m||h;return!f||!f.length?null:x.createElement(Fs,{className:"recharts-label-list"},f.map((g,b)=>{var v,w=Ca(n)?a(g,b):ua(g&&g.payload,n),j=Ca(l)?{}:{id:"".concat(l,"-").concat(b)};return x.createElement(co,yg({key:"label-".concat(b)},pn(g),u,j,{fill:(v=s.fill)!==null&&v!==void 0?v:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:c,viewBox:g.viewBox,index:b}))}))}Op.displayName="LabelList";function c_(e){var{label:a}=e;return a?a===!0?x.createElement(Op,{key:"labelList-implicit"}):x.isValidElement(a)||o_(a)?x.createElement(Op,{key:"labelList-implicit",content:a}):typeof a=="object"?x.createElement(Op,yg({key:"labelList-implicit"},a,{type:String(a.type)})):null:null}function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},mN.apply(null,arguments)}var i9=e=>{var{cx:a,cy:s,r:n,className:r}=e,l=Pt("recharts-dot",r);return a===+a&&s===+s&&n===+n?x.createElement("circle",mN({},tr(e),LS(e),{className:l,cx:a,cy:s,r:n})):null},l9=e=>e.graphicalItems.polarItems,pde=Pe([Ta,Yf],M4),Db=Pe([l9,Da,pde],D4),gde=Pe([Db],L4),Lb=Pe([gde,w4],R4),bde=Pe([Lb,Da,Db],I4);Pe([Lb,Da,Db],(e,a,s)=>s.length>0?e.flatMap(n=>s.flatMap(r=>{var l,c=ua(n,(l=a.dataKey)!==null&&l!==void 0?l:r.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(a==null?void 0:a.dataKey)!=null?e.map(n=>({value:ua(n,a.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var FO=()=>{},vde=Pe([Lb,Da,Db,Eb,Ta],F4),yde=Pe([Da,B4,U4,FO,vde,FO,Bt,Ta],V4),o9=Pe([Da,Bt,Lb,bde,Kf,Ta,yde],H4),jde=Pe([o9,Da,Qu],K4);Pe([Da,o9,jde,Ta],W4);var wde={radiusAxis:{},angleAxis:{}},c9=sr({name:"polarAxis",initialState:wde,reducers:{addRadiusAxis(e,a){e.radiusAxis[a.payload.id]=a.payload},removeRadiusAxis(e,a){delete e.radiusAxis[a.payload.id]},addAngleAxis(e,a){e.angleAxis[a.payload.id]=a.payload},removeAngleAxis(e,a){delete e.angleAxis[a.payload.id]}}}),{addRadiusAxis:eve,removeRadiusAxis:tve,addAngleAxis:ave,removeAngleAxis:sve}=c9.actions,Nde=c9.reducer;function VO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function HO(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?VO(Object(s),!0).forEach(function(n){Sde(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):VO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Sde(e,a,s){return(a=_de(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function _de(e){var a=kde(e,"string");return typeof a=="symbol"?a:a+""}function kde(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Cde=(e,a)=>a,d_=Pe([l9,Cde],(e,a)=>e.filter(s=>s.type==="pie").find(s=>s.id===a)),Ade=[],u_=(e,a,s)=>(s==null?void 0:s.length)===0?Ade:s,d9=Pe([w4,d_,u_],(e,a,s)=>{var{chartData:n}=e;if(a!=null){var r;if((a==null?void 0:a.data)!=null&&a.data.length>0?r=a.data:r=n,(!r||!r.length)&&s!=null&&(r=s.map(l=>HO(HO({},a.presentationProps),l.props))),r!=null)return r}}),Ede=Pe([d9,d_,u_],(e,a,s)=>{if(!(e==null||a==null))return e.map((n,r)=>{var l,c=ua(n,a.nameKey,a.name),u;return s!=null&&(l=s[r])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=s[r].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=a.fill,{value:Gu(c,a.dataKey),color:u,payload:n,type:a.legendType}})}),Tde=Pe([d9,d_,u_,us],(e,a,s,n)=>{if(!(a==null||e==null))return Tue({offset:n,pieSettings:a,displayedData:e,cells:s})}),ew={exports:{}},na={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO;function Ode(){if(qO)return na;qO=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case s:case r:case n:case m:case h:case b:return j;default:switch(j=j&&j.$$typeof,j){case c:case u:case g:case f:return j;case l:return j;default:return S}}case a:return S}}}return na.ContextConsumer=l,na.ContextProvider=c,na.Element=e,na.ForwardRef=u,na.Fragment=s,na.Lazy=g,na.Memo=f,na.Portal=a,na.Profiler=r,na.StrictMode=n,na.Suspense=m,na.SuspenseList=h,na.isContextConsumer=function(j){return w(j)===l},na.isContextProvider=function(j){return w(j)===c},na.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},na.isForwardRef=function(j){return w(j)===u},na.isFragment=function(j){return w(j)===s},na.isLazy=function(j){return w(j)===g},na.isMemo=function(j){return w(j)===f},na.isPortal=function(j){return w(j)===a},na.isProfiler=function(j){return w(j)===r},na.isStrictMode=function(j){return w(j)===n},na.isSuspense=function(j){return w(j)===m},na.isSuspenseList=function(j){return w(j)===h},na.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===s||j===r||j===n||j===m||j===h||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===f||j.$$typeof===c||j.$$typeof===l||j.$$typeof===u||j.$$typeof===v||j.getModuleId!==void 0)},na.typeOf=w,na}var GO;function Pde(){return GO||(GO=1,ew.exports=Ode()),ew.exports}var Mde=Pde(),KO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",YO=null,tw=null,u9=e=>{if(e===YO&&Array.isArray(tw))return tw;var a=[];return x.Children.forEach(e,s=>{Ca(s)||(Mde.isFragment(s)?a=a.concat(u9(s.props.children)):a.push(s))}),tw=a,YO=e,a};function m_(e,a){var s=[],n=[];return Array.isArray(a)?n=a.map(r=>KO(r)):n=[KO(a)],u9(e).forEach(r=>{var l=Mc(r,"type.displayName")||Mc(r,"type.name");n.indexOf(l)!==-1&&s.push(r)}),s}var m9=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,aw={},WO;function Dde(){return WO||(WO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){var r;if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const l=s[Symbol.toStringTag];return l==null||!((r=Object.getOwnPropertyDescriptor(s,Symbol.toStringTag))!=null&&r.writable)?!1:s.toString()===`[object ${l}]`}let n=s;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(s)===n}e.isPlainObject=a})(aw)),aw}var sw,XO;function Lde(){return XO||(XO=1,sw=Dde().isPlainObject),sw}var Rde=Lde();const $de=Ei(Rde);function ZO(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function JO(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?ZO(Object(s),!0).forEach(function(n){Ide(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ZO(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Ide(e,a,s){return(a=zde(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function zde(e){var a=Bde(e,"string");return typeof a=="symbol"?a:a+""}function Bde(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},jg.apply(null,arguments)}var QO=(e,a,s,n,r)=>{var l=s-n,c;return c="M ".concat(e,",").concat(a),c+="L ".concat(e+s,",").concat(a),c+="L ".concat(e+s-l/2,",").concat(a+r),c+="L ".concat(e+s-l/2-n,",").concat(a+r),c+="L ".concat(e,",").concat(a," Z"),c},Ude={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fde=e=>{var a=Vs(e,Ude),{x:s,y:n,upperWidth:r,lowerWidth:l,height:c,className:u}=a,{animationEasing:m,animationDuration:h,animationBegin:f,isUpdateAnimationActive:g}=a,b=x.useRef(null),[v,w]=x.useState(-1),j=x.useRef(r),S=x.useRef(l),k=x.useRef(c),_=x.useRef(s),C=x.useRef(n),T=Ff(e,"trapezoid-");if(x.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var we=b.current.getTotalLength();we&&w(we)}catch{}},[]),s!==+s||n!==+n||r!==+r||l!==+l||c!==+c||r===0&&l===0||c===0)return null;var O=Pt("recharts-trapezoid",u);if(!g)return x.createElement("g",null,x.createElement("path",jg({},pn(a),{className:O,d:QO(s,n,r,l,c)})));var E=j.current,$=S.current,M=k.current,H=_.current,V=C.current,F="0px ".concat(v===-1?1:v,"px"),B="".concat(v,"px 0px"),ee=RR(["strokeDasharray"],h,m);return x.createElement(Uf,{animationId:T,key:T,canBegin:v>0,duration:h,easing:m,isActive:g,begin:f},we=>{var ne=Ha(E,r,we),A=Ha($,l,we),U=Ha(M,c,we),K=Ha(H,s,we),z=Ha(V,n,we);b.current&&(j.current=ne,S.current=A,k.current=U,_.current=K,C.current=z);var I=we>0?{transition:ee,strokeDasharray:B}:{strokeDasharray:F};return x.createElement("path",jg({},pn(a),{className:O,d:QO(K,z,ne,A,U),ref:b,style:JO(JO({},I),a.style)}))})},Vde=["option","shapeType","propTransformer","activeClassName","isActive"];function Hde(e,a){if(e==null)return{};var s,n,r=qde(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function qde(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function eP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function wg(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?eP(Object(s),!0).forEach(function(n){Gde(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Gde(e,a,s){return(a=Kde(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Kde(e){var a=Yde(e,"string");return typeof a=="symbol"?a:a+""}function Yde(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Wde(e,a){return wg(wg({},a),e)}function Xde(e,a){return e==="symbols"}function tP(e){var{shapeType:a,elementProps:s}=e;switch(a){case"rectangle":return x.createElement(BR,s);case"trapezoid":return x.createElement(Fde,s);case"sector":return x.createElement(JS,s);case"symbols":if(Xde(a))return x.createElement(DS,s);break;default:return null}}function Zde(e){return x.isValidElement(e)?e.props:e}function h9(e){var{option:a,shapeType:s,propTransformer:n=Wde,activeClassName:r="recharts-active-shape",isActive:l}=e,c=Hde(e,Vde),u;if(x.isValidElement(a))u=x.cloneElement(a,wg(wg({},c),Zde(a)));else if(typeof a=="function")u=a(c);else if($de(a)&&typeof a!="boolean"){var m=n(a,c);u=x.createElement(tP,{shapeType:s,elementProps:m})}else{var h=c;u=x.createElement(tP,{shapeType:s,elementProps:h})}return l?x.createElement(Fs,{className:r},u):u}var h_=(e,a)=>{var s=Ea();return(n,r)=>l=>{e==null||e(n,r,l),s(S7({activeIndex:String(r),activeDataKey:a,activeCoordinate:n.tooltipPosition}))}},f_=e=>{var a=Ea();return(s,n)=>r=>{e==null||e(s,n,r),a(zle())}},x_=(e,a)=>{var s=Ea();return(n,r)=>l=>{e==null||e(n,r,l),s(Ble({activeIndex:String(r),activeDataKey:a,activeCoordinate:n.tooltipPosition}))}};function p_(e){var{fn:a,args:s}=e,n=Ea(),r=gn();return x.useLayoutEffect(()=>{if(!r){var l=a(s);return n(Rle(l)),()=>{n($le(l))}}},[a,s,n,r]),null}var f9=()=>{};function x9(e){var{legendPayload:a}=e,s=Ea(),n=gn();return x.useLayoutEffect(()=>n?f9:(s(MR(a)),()=>{s(DR(a))}),[s,n,a]),null}function Jde(e){var{legendPayload:a}=e,s=Ea(),n=ct(Bt);return x.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?f9:(s(MR(a)),()=>{s(DR(a))}),[s,n,a]),null}var nw,Qde=()=>{var[e]=x.useState(()=>uf("uid-"));return e},eue=(nw=_B.useId)!==null&&nw!==void 0?nw:Qde;function tue(e,a){var s=eue();return a||(e?"".concat(e,"-").concat(s):s)}var aue=x.createContext(void 0),g_=e=>{var{id:a,type:s,children:n}=e,r=tue("recharts-".concat(s),a);return x.createElement(aue.Provider,{value:r},n(r))},sue={cartesianItems:[],polarItems:[]},p9=sr({name:"graphicalItems",initialState:sue,reducers:{addCartesianGraphicalItem:{reducer(e,a){e.cartesianItems.push(a.payload)},prepare:cn()},replaceCartesianGraphicalItem:{reducer(e,a){var{prev:s,next:n}=a.payload,r=dl(e).cartesianItems.indexOf(s);r>-1&&(e.cartesianItems[r]=n)},prepare:cn()},removeCartesianGraphicalItem:{reducer(e,a){var s=dl(e).cartesianItems.indexOf(a.payload);s>-1&&e.cartesianItems.splice(s,1)},prepare:cn()},addPolarGraphicalItem:{reducer(e,a){e.polarItems.push(a.payload)},prepare:cn()},removePolarGraphicalItem:{reducer(e,a){var s=dl(e).polarItems.indexOf(a.payload);s>-1&&e.polarItems.splice(s,1)},prepare:cn()}}}),{addCartesianGraphicalItem:nue,replaceCartesianGraphicalItem:rue,removeCartesianGraphicalItem:iue,addPolarGraphicalItem:lue,removePolarGraphicalItem:oue}=p9.actions,cue=p9.reducer;function g9(e){var a=Ea(),s=x.useRef(null);return x.useLayoutEffect(()=>{s.current===null?a(nue(e)):s.current!==e&&a(rue({prev:s.current,next:e})),s.current=e},[a,e]),x.useLayoutEffect(()=>()=>{s.current&&(a(iue(s.current)),s.current=null)},[a]),null}function due(e){var a=Ea();return x.useLayoutEffect(()=>(a(lue(e)),()=>{a(oue(e))}),[a,e]),null}var uue=["onMouseEnter","onClick","onMouseLeave"],mue=["id"],hue=["id"];function b_(e,a){if(e==null)return{};var s,n,r=fue(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function fue(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function aP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function ja(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?aP(Object(s),!0).forEach(function(n){xue(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):aP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function xue(e,a,s){return(a=pue(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function pue(e){var a=gue(e,"string");return typeof a=="symbol"?a:a+""}function gue(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},wo.apply(null,arguments)}function bue(e){var a=x.useMemo(()=>m_(e.children,ll),[e.children]),s=ct(n=>Ede(n,e.id,a));return s==null?null:x.createElement(Jde,{legendPayload:s})}function vue(e){var{dataKey:a,nameKey:s,sectors:n,stroke:r,strokeWidth:l,fill:c,name:u,hide:m,tooltipType:h}=e;return{dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:r,strokeWidth:l,fill:c,dataKey:a,nameKey:s,name:Gu(u,a),hide:m,type:h,color:c,unit:""}}}var yue=(e,a)=>e>a?"start":e<a?"end":"middle",jue=(e,a,s)=>an(typeof a=="function"?a(e):a,s,s*.8),wue=(e,a,s)=>{var{top:n,left:r,width:l,height:c}=a,u=jR(l,c),m=r+an(e.cx,l,l/2),h=n+an(e.cy,c,c/2),f=an(e.innerRadius,u,0),g=jue(s,e.outerRadius,u),b=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:m,cy:h,innerRadius:f,outerRadius:g,maxRadius:b}},Nue=(e,a)=>{var s=Ns(a-e),n=Math.min(Math.abs(a-e),360);return s*n};function Sue(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var _ue=(e,a)=>{if(x.isValidElement(e))return x.cloneElement(e,a);if(typeof e=="function")return e(a);var s=Pt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(ZS,wo({},a,{type:"linear",className:s}))},kue=(e,a,s)=>{if(x.isValidElement(e))return x.cloneElement(e,a);var n=s;if(typeof e=="function"&&(n=e(a),x.isValidElement(n)))return n;var r=Pt("recharts-pie-label-text",Sue(e));return x.createElement(Mb,wo({},a,{alignmentBaseline:"middle",className:r}),n)};function Cue(e){var{sectors:a,props:s,showLabels:n}=e,{label:r,labelLine:l,dataKey:c}=s;if(!n||!r||!a)return null;var u=tr(s),m=Pc(r),h=Pc(l),f=typeof r=="object"&&"offsetRadius"in r&&typeof r.offsetRadius=="number"&&r.offsetRadius||20,g=a.map((b,v)=>{var w=(b.startAngle+b.endAngle)/2,j=rs(b.cx,b.cy,b.outerRadius+f,w),S=ja(ja(ja(ja({},u),b),{},{stroke:"none"},m),{},{index:v,textAnchor:yue(j.x,b.cx)},j),k=ja(ja(ja(ja({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:v,points:[rs(b.cx,b.cy,b.outerRadius,w),j],key:"line"});return x.createElement(Fs,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(v)},l&&_ue(l,k),kue(r,S,ua(b,c)))});return x.createElement(Fs,{className:"recharts-pie-labels"},g)}function Aue(e){var{sectors:a,props:s,showLabels:n}=e,{label:r}=s;return typeof r=="object"&&r!=null&&"position"in r?x.createElement(c_,{label:r}):x.createElement(Cue,{sectors:a,props:s,showLabels:n})}function Eue(e){var{sectors:a,activeShape:s,inactiveShape:n,allOtherPieProps:r}=e,l=ct(jo),{onMouseEnter:c,onClick:u,onMouseLeave:m}=r,h=b_(r,uue),f=h_(c,r.dataKey),g=f_(m),b=x_(u,r.dataKey);return a==null||a.length===0?null:x.createElement(x.Fragment,null,a.map((v,w)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&a.length!==1)return null;var j=s&&String(w)===l,S=l?n:null,k=j?s:S,_=ja(ja({},v),{},{stroke:v.stroke,tabIndex:-1,[kR]:w,[CR]:r.dataKey});return x.createElement(Fs,wo({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},$f(h,v,w),{onMouseEnter:f(v,w),onMouseLeave:g(v,w),onClick:b(v,w)}),x.createElement(h9,wo({option:k,isActive:j,shapeType:"sector"},_)))}))}function Tue(e){var a,{pieSettings:s,displayedData:n,cells:r,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:m,dataKey:h,nameKey:f,tooltipType:g}=s,b=Math.abs(s.minAngle),v=Nue(u,m),w=Math.abs(v),j=n.length<=1?0:(a=s.paddingAngle)!==null&&a!==void 0?a:0,S=n.filter(E=>ua(E,h,0)!==0).length,k=(w>=360?S:S-1)*j,_=w-S*b-k,C=n.reduce((E,$)=>{var M=ua($,h,0);return E+(mt(M)?M:0)},0),T;if(C>0){var O;T=n.map((E,$)=>{var M=ua(E,h,0),H=ua(E,f,$),V=wue(s,l,E),F=(mt(M)?M:0)/C,B,ee=ja(ja({},E),r&&r[$]&&r[$].props);$?B=O.endAngle+Ns(v)*j*(M!==0?1:0):B=u;var we=B+Ns(v)*((M!==0?b:0)+F*_),ne=(B+we)/2,A=(V.innerRadius+V.outerRadius)/2,U=[{name:H,value:M,payload:ee,dataKey:h,type:g}],K=rs(V.cx,V.cy,A,ne);return O=ja(ja(ja(ja({},s.presentationProps),{},{percent:F,cornerRadius:c,name:H,tooltipPayload:U,midAngle:ne,middleRadius:A,tooltipPosition:K},ee),V),{},{value:M,startAngle:B,endAngle:we,payload:ee,paddingAngle:Ns(v)*j}),O})}return T}function Oue(e){var{showLabels:a,sectors:s,children:n}=e,r=x.useMemo(()=>!a||!s?[]:s.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[s,a]);return x.createElement(hde,{value:a?r:void 0},n)}function Pue(e){var{props:a,previousSectorsRef:s}=e,{sectors:n,isAnimationActive:r,animationBegin:l,animationDuration:c,animationEasing:u,activeShape:m,inactiveShape:h,onAnimationStart:f,onAnimationEnd:g}=a,b=Ff(a,"recharts-pie-"),v=s.current,[w,j]=x.useState(!1),S=x.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),k=x.useCallback(()=>{typeof f=="function"&&f(),j(!0)},[f]);return x.createElement(Oue,{showLabels:!w,sectors:n},x.createElement(Uf,{animationId:b,begin:l,duration:c,isActive:r,easing:u,onAnimationStart:k,onAnimationEnd:S,key:b},_=>{var C=[],T=n&&n[0],O=T==null?void 0:T.startAngle;return n==null||n.forEach((E,$)=>{var M=v&&v[$],H=$>0?Mc(E,"paddingAngle",0):0;if(M){var V=Ha(M.endAngle-M.startAngle,E.endAngle-E.startAngle,_),F=ja(ja({},E),{},{startAngle:O+H,endAngle:O+V+H});C.push(F),O=F.endAngle}else{var{endAngle:B,startAngle:ee}=E,we=Ha(0,B-ee,_),ne=ja(ja({},E),{},{startAngle:O+H,endAngle:O+we+H});C.push(ne),O=ne.endAngle}}),s.current=C,x.createElement(Fs,null,x.createElement(Eue,{sectors:C,activeShape:m,inactiveShape:h,allOtherPieProps:a}))}),x.createElement(Aue,{showLabels:!w,sectors:n,props:a}),a.children)}var Mue={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ko.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Due(e){var{id:a}=e,s=b_(e,mue),{hide:n,className:r,rootTabIndex:l}=e,c=x.useMemo(()=>m_(e.children,ll),[e.children]),u=ct(f=>Tde(f,a,c)),m=x.useRef(null),h=Pt("recharts-pie",r);return n||u==null?(m.current=null,x.createElement(Fs,{tabIndex:l,className:h})):x.createElement(x.Fragment,null,x.createElement(p_,{fn:vue,args:ja(ja({},e),{},{sectors:u})}),x.createElement(Fs,{tabIndex:l,className:h},x.createElement(Pue,{props:ja(ja({},s),{},{sectors:u}),previousSectorsRef:m})))}function wf(e){var a=Vs(e,Mue),{id:s}=a,n=b_(a,hue),r=tr(n);return x.createElement(g_,{id:s,type:"pie"},l=>x.createElement(x.Fragment,null,x.createElement(due,{type:"pie",id:l,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:r,maxRadius:a.maxRadius}),x.createElement(bue,wo({},n,{id:l})),x.createElement(Due,wo({},n,{id:l}))))}wf.displayName="Pie";function sP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function nP(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?sP(Object(s),!0).forEach(function(n){Lue(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Lue(e,a,s){return(a=Rue(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Rue(e){var a=$ue(e,"string");return typeof a=="symbol"?a:a+""}function $ue(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Iue={xAxis:{},yAxis:{},zAxis:{}},b9=sr({name:"cartesianAxis",initialState:Iue,reducers:{addXAxis:{reducer(e,a){e.xAxis[a.payload.id]=a.payload},prepare:cn()},removeXAxis:{reducer(e,a){delete e.xAxis[a.payload.id]},prepare:cn()},addYAxis:{reducer(e,a){e.yAxis[a.payload.id]=a.payload},prepare:cn()},removeYAxis:{reducer(e,a){delete e.yAxis[a.payload.id]},prepare:cn()},addZAxis:{reducer(e,a){e.zAxis[a.payload.id]=a.payload},prepare:cn()},removeZAxis:{reducer(e,a){delete e.zAxis[a.payload.id]},prepare:cn()},updateYAxisWidth(e,a){var{id:s,width:n}=a.payload,r=e.yAxis[s];if(r){var l=r.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==r.width&&Math.abs(n-l[0])<=1)return;var c=[...l,n].slice(-3);e.yAxis[s]=nP(nP({},e.yAxis[s]),{},{width:n,widthHistory:c})}}}}),{addXAxis:zue,removeXAxis:Bue,addYAxis:Uue,removeYAxis:Fue,addZAxis:nve,removeZAxis:rve,updateYAxisWidth:Vue}=b9.actions,Hue=b9.reducer,que=Pe([us],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Gue=Pe([que,Nl,Sl],(e,a,s)=>{if(!(!e||a==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,a-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),v_=()=>ct(Gue),Kue=()=>ct(koe);function rP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function iP(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?rP(Object(s),!0).forEach(function(n){Yue(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):rP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Yue(e,a,s){return(a=Wue(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Wue(e){var a=Xue(e,"string");return typeof a=="symbol"?a:a+""}function Xue(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Zue=e=>{var{point:a,childIndex:s,mainColor:n,activeDot:r,dataKey:l}=e;if(r===!1||a.x==null||a.y==null)return null;var c=iP(iP({index:s,dataKey:l,cx:a.x,cy:a.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},Pc(r)),LS(r)),u;return x.isValidElement(r)?u=x.cloneElement(r,c):typeof r=="function"?u=r(c):u=x.createElement(i9,c),x.createElement(Fs,{className:"recharts-active-dot"},u)};function Jue(e){var{points:a,mainColor:s,activeDot:n,itemDataKey:r}=e,l=ct(jo),c=Kue();if(a==null||c==null)return null;var u=a.find(m=>c.includes(m.payload));return Ca(u)?null:Zue({point:u,childIndex:Number(l),mainColor:s,dataKey:r,activeDot:n})}var Que="Invariant failed";function eme(e,a){throw new Error(Que)}var tme=["x","y"];function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},hN.apply(null,arguments)}function lP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function rh(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?lP(Object(s),!0).forEach(function(n){ame(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function ame(e,a,s){return(a=sme(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function sme(e){var a=nme(e,"string");return typeof a=="symbol"?a:a+""}function nme(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function rme(e,a){if(e==null)return{};var s,n,r=ime(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function ime(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function lme(e,a){var{x:s,y:n}=e,r=rme(e,tme),l="".concat(s),c=parseInt(l,10),u="".concat(n),m=parseInt(u,10),h="".concat(a.height||r.height),f=parseInt(h,10),g="".concat(a.width||r.width),b=parseInt(g,10);return rh(rh(rh(rh(rh({},a),r),c?{x:c}:{}),m?{y:m}:{}),{},{height:f,width:b,name:a.name,radius:a.radius})}function y_(e){return x.createElement(h9,hN({shapeType:"rectangle",propTransformer:lme,activeClassName:"recharts-active-bar"},e))}var ome=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,r)=>{if(mt(a))return a;var l=mt(n)||Ca(n);return l?a(n,r):(l||eme(),s)}},cme={},v9=sr({name:"errorBars",initialState:cme,reducers:{addErrorBar:(e,a)=>{var{itemId:s,errorBar:n}=a.payload;e[s]||(e[s]=[]),e[s].push(n)},replaceErrorBar:(e,a)=>{var{itemId:s,prev:n,next:r}=a.payload;e[s]&&(e[s]=e[s].map(l=>l.dataKey===n.dataKey&&l.direction===n.direction?r:l))},removeErrorBar:(e,a)=>{var{itemId:s,errorBar:n}=a.payload;e[s]&&(e[s]=e[s].filter(r=>r.dataKey!==n.dataKey||r.direction!==n.direction))}}}),{addErrorBar:ive,replaceErrorBar:lve,removeErrorBar:ove}=v9.actions,dme=v9.reducer,ume=["children"];function mme(e,a){if(e==null)return{};var s,n,r=hme(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function hme(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var fme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xme=x.createContext(fme);function y9(e){var{children:a}=e,s=mme(e,ume);return x.createElement(xme.Provider,{value:s},a)}function j_(e,a){var s,n,r=ct(h=>kl(h,e)),l=ct(h=>Cl(h,a)),c=(s=r==null?void 0:r.allowDataOverflow)!==null&&s!==void 0?s:Gn.allowDataOverflow,u=(n=l==null?void 0:l.allowDataOverflow)!==null&&n!==void 0?n:Kn.allowDataOverflow,m=c||u;return{needClip:m,needClipX:c,needClipY:u}}function j9(e){var{xAxisId:a,yAxisId:s,clipPathId:n}=e,r=v_(),{needClipX:l,needClipY:c,needClip:u}=j_(a,s);if(!u)return null;var{x:m,y:h,width:f,height:g}=r;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:l?m:m-f/2,y:c?h:h-g/2,width:l?f:f*2,height:c?g:g*2}))}var pme=["onMouseEnter","onMouseLeave","onClick"],gme=["value","background","tooltipPosition"],bme=["id"],vme=["onMouseEnter","onClick","onMouseLeave"];function No(){return No=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},No.apply(null,arguments)}function oP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function dn(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?oP(Object(s),!0).forEach(function(n){yme(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function yme(e,a,s){return(a=jme(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function jme(e){var a=wme(e,"string");return typeof a=="symbol"?a:a+""}function wme(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ng(e,a){if(e==null)return{};var s,n,r=Nme(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Nme(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var Sme=e=>{var{dataKey:a,name:s,fill:n,legendType:r,hide:l}=e;return[{inactive:l,dataKey:a,type:r,color:n,value:Gu(s,a),payload:e}]};function _me(e){var{dataKey:a,stroke:s,strokeWidth:n,fill:r,name:l,hide:c,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:n,fill:r,dataKey:a,nameKey:void 0,name:Gu(l,a),hide:c,type:e.tooltipType,color:e.fill,unit:u}}}function kme(e){var a=ct(jo),{data:s,dataKey:n,background:r,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:u,onClick:m}=l,h=Ng(l,pme),f=h_(c,n),g=f_(u),b=x_(m,n);if(!r||s==null)return null;var v=Pc(r);return x.createElement(x.Fragment,null,s.map((w,j)=>{var{value:S,background:k,tooltipPosition:_}=w,C=Ng(w,gme);if(!k)return null;var T=f(w,j),O=g(w,j),E=b(w,j),$=dn(dn(dn(dn(dn({option:r,isActive:String(j)===a},C),{},{fill:"#eee"},k),v),$f(h,w,j)),{},{onMouseEnter:T,onMouseLeave:O,onClick:E,dataKey:n,index:j,className:"recharts-bar-background-rectangle"});return x.createElement(y_,No({key:"background-bar-".concat(j)},$))}))}function Cme(e){var{showLabels:a,children:s,rects:n}=e,r=n==null?void 0:n.map(l=>{var c={x:l.x,y:l.y,width:l.width,height:l.height};return dn(dn({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return x.createElement(n9,{value:a?r:void 0},s)}function Ame(e){var{shape:a,activeBar:s,baseProps:n,entry:r,index:l,dataKey:c}=e,u=ct(jo),m=ct(z7),h=s&&String(l)===u&&(m==null||c===m),f=h?s:a;return x.createElement(y_,No({},n,{name:String(n.name)},r,{isActive:h,option:f,index:l,dataKey:c}))}function Eme(e){var{shape:a,baseProps:s,entry:n,index:r,dataKey:l}=e;return x.createElement(y_,No({},s,{name:String(s.name)},n,{isActive:!1,option:a,index:r,dataKey:l}))}function Tme(e){var{data:a,props:s}=e,n=tr(s),{id:r}=n,l=Ng(n,bme),{shape:c,dataKey:u,activeBar:m}=s,{onMouseEnter:h,onClick:f,onMouseLeave:g}=s,b=Ng(s,vme),v=h_(h,u),w=f_(g),j=x_(f,u);return a?x.createElement(x.Fragment,null,a.map((S,k)=>x.createElement(Fs,No({key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(k),className:"recharts-bar-rectangle"},$f(b,S,k),{onMouseEnter:v(S,k),onMouseLeave:w(S,k),onClick:j(S,k)}),m?x.createElement(Ame,{shape:c,activeBar:m,baseProps:l,entry:S,index:k,dataKey:u}):x.createElement(Eme,{shape:c,baseProps:l,entry:S,index:k,dataKey:u})))):null}function Ome(e){var{props:a,previousRectanglesRef:s}=e,{data:n,layout:r,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:m,onAnimationEnd:h,onAnimationStart:f}=a,g=s.current,b=Ff(a,"recharts-bar-"),[v,w]=x.useState(!1),j=!v,S=x.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),k=x.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return x.createElement(Cme,{showLabels:j,rects:n},x.createElement(Uf,{animationId:b,begin:c,duration:u,isActive:l,easing:m,onAnimationEnd:S,onAnimationStart:k,key:b},_=>{var C=_===1?n:n==null?void 0:n.map((T,O)=>{var E=g&&g[O];if(E)return dn(dn({},T),{},{x:Ha(E.x,T.x,_),y:Ha(E.y,T.y,_),width:Ha(E.width,T.width,_),height:Ha(E.height,T.height,_)});if(r==="horizontal"){var $=Ha(0,T.height,_);return dn(dn({},T),{},{y:T.y+T.height-$,height:$})}var M=Ha(0,T.width,_);return dn(dn({},T),{},{width:M})});return _>0&&(s.current=C??null),C==null?null:x.createElement(Fs,null,x.createElement(Tme,{props:a,data:C}))}),x.createElement(c_,{label:a.label}),a.children)}function Pme(e){var a=x.useRef(null);return x.createElement(Ome,{previousRectanglesRef:a,props:e})}var w9=0,Mme=(e,a)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:ua(e,a)}};class Dme extends x.PureComponent{render(){var{hide:a,data:s,dataKey:n,className:r,xAxisId:l,yAxisId:c,needClip:u,background:m,id:h}=this.props;if(a||s==null)return null;var f=Pt("recharts-bar",r),g=h;return x.createElement(Fs,{className:f,id:h},u&&x.createElement("defs",null,x.createElement(j9,{clipPathId:g,xAxisId:l,yAxisId:c})),x.createElement(Fs,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},x.createElement(kme,{data:s,dataKey:n,background:m,allOtherBarProps:this.props}),x.createElement(Pme,this.props)))}}var Lme={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ko.isSsr,legendType:"rect",minPointSize:w9,xAxisId:0,yAxisId:0};function Rme(e){var{xAxisId:a,yAxisId:s,hide:n,legendType:r,minPointSize:l,activeBar:c,animationBegin:u,animationDuration:m,animationEasing:h,isAnimationActive:f}=e,{needClip:g}=j_(a,s),b=ub(),v=gn(),w=m_(e.children,ll),j=ct(_=>dhe(_,a,s,v,e.id,w));if(b!=="vertical"&&b!=="horizontal")return null;var S,k=j==null?void 0:j[0];return k==null||k.height==null||k.width==null?S=0:S=b==="vertical"?k.height/2:k.width/2,x.createElement(y9,{xAxisId:a,yAxisId:s,data:j,dataPointFormatter:Mme,errorBarOffset:S},x.createElement(Dme,No({},e,{layout:b,needClip:g,data:j,xAxisId:a,yAxisId:s,hide:n,legendType:r,minPointSize:l,activeBar:c,animationBegin:u,animationDuration:m,animationEasing:h,isAnimationActive:f})))}function $me(e){var{layout:a,barSettings:{dataKey:s,minPointSize:n},pos:r,bandSize:l,xAxis:c,yAxis:u,xAxisTicks:m,yAxisTicks:h,stackedData:f,displayedData:g,offset:b,cells:v,parentViewBox:w}=e,j=a==="horizontal"?u:c,S=f?j.scale.domain():null,k=Mte({numericAxis:j});return g.map((_,C)=>{var T,O,E,$,M,H;f?T=Cte(f[C],S):(T=ua(_,s),Array.isArray(T)||(T=[k,T]));var V=ome(n,w9)(T[1],C);if(a==="horizontal"){var F,[B,ee]=[u.scale(T[0]),u.scale(T[1])];O=UE({axis:c,ticks:m,bandSize:l,offset:r.offset,entry:_,index:C}),E=(F=ee??B)!==null&&F!==void 0?F:void 0,$=r.size;var we=B-ee;if(M=Tr(we)?0:we,H={x:O,y:b.top,width:$,height:b.height},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var ne=Ns(M||V)*(Math.abs(V)-Math.abs(M));E-=ne,M+=ne}}else{var[A,U]=[c.scale(T[0]),c.scale(T[1])];if(O=A,E=UE({axis:u,ticks:h,bandSize:l,offset:r.offset,entry:_,index:C}),$=U-A,M=r.size,H={x:b.left,y:E,width:b.width,height:M},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var K=Ns($||V)*(Math.abs(V)-Math.abs($));$+=K}}if(O==null||E==null||$==null||M==null)return null;var z=dn(dn({},_),{},{x:O,y:E,width:$,height:M,value:f?T:T[1],payload:_,background:H,tooltipPosition:{x:O+$/2,y:E+M/2},parentViewBox:w},v&&v[C]&&v[C].props);return z}).filter(Boolean)}function Ime(e){var a=Vs(e,Lme),s=gn();return x.createElement(g_,{id:a.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(x9,{legendPayload:Sme(a)}),x.createElement(p_,{fn:_me,args:a}),x.createElement(g9,{type:"bar",id:n,data:void 0,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,stackId:Pte(a.stackId),hide:a.hide,barSize:a.barSize,minPointSize:a.minPointSize,maxBarSize:a.maxBarSize,isPanorama:s}),x.createElement(Rme,No({},a,{id:n}))))}var fu=x.memo(Ime);fu.displayName="Bar";function cP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function $x(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?cP(Object(s),!0).forEach(function(n){zme(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function zme(e,a,s){return(a=Bme(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Bme(e){var a=Ume(e,"string");return typeof a=="symbol"?a:a+""}function Ume(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Fme=(e,a)=>a,Vme=(e,a,s)=>s,Hme=(e,a,s,n)=>n,qme=(e,a,s,n,r)=>r,e0=Pe([Cb,qme],(e,a)=>e.filter(s=>s.type==="bar").find(s=>s.id===a)),Gme=Pe([e0],e=>e==null?void 0:e.maxBarSize),Kme=(e,a,s,n,r,l)=>l,dP=(e,a,s)=>{var n=s??e;if(!Ca(n))return an(n,a,0)},Yme=Pe([Bt,Cb,Fme,Vme,Hme],(e,a,s,n,r)=>a.filter(l=>e==="horizontal"?l.xAxisId===s:l.yAxisId===n).filter(l=>l.isPanorama===r).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),Wme=(e,a,s,n)=>{var r=Bt(e);return r==="horizontal"?iN(e,"yAxis",s,n):iN(e,"xAxis",a,n)},Xme=(e,a,s)=>{var n=Bt(e);return n==="horizontal"?uO(e,"xAxis",a):uO(e,"yAxis",s)},Zme=(e,a,s)=>{var n={},r=e.filter(Sb),l=e.filter(h=>h.stackId==null),c=r.reduce((h,f)=>(h[f.stackId]||(h[f.stackId]=[]),h[f.stackId].push(f),h),n),u=Object.entries(c).map(h=>{var[f,g]=h,b=g.map(w=>w.dataKey),v=dP(a,s,g[0].barSize);return{stackId:f,dataKeys:b,barSize:v}}),m=l.map(h=>{var f=[h.dataKey].filter(b=>b!=null),g=dP(a,s,h.barSize);return{stackId:void 0,dataKeys:f,barSize:g}});return[...u,...m]},Jme=Pe([Yme,Pie,Xme],Zme),Qme=(e,a,s,n,r)=>{var l,c,u=e0(e,a,s,n,r);if(u!=null){var m=Bt(e),h=z$(e),{maxBarSize:f}=u,g=Ca(f)?h:f,b,v;return m==="horizontal"?(b=yo(e,"xAxis",a,n),v=vo(e,"xAxis",a,n)):(b=yo(e,"yAxis",s,n),v=vo(e,"yAxis",s,n)),(l=(c=ff(b,v,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},N9=(e,a,s,n)=>{var r=Bt(e),l,c;return r==="horizontal"?(l=yo(e,"xAxis",a,n),c=vo(e,"xAxis",a,n)):(l=yo(e,"yAxis",s,n),c=vo(e,"yAxis",s,n)),ff(l,c)};function ehe(e,a,s,n,r){var l=n.length;if(!(l<1)){var c=an(e,s,0,!0),u,m=[];if(sn(n[0].barSize)){var h=!1,f=s/l,g=n.reduce((k,_)=>k+(_.barSize||0),0);g+=(l-1)*c,g>=s&&(g-=(l-1)*c,c=0),g>=s&&f>0&&(h=!0,f*=.9,g=l*f);var b=(s-g)/2>>0,v={offset:b-c,size:0};u=n.reduce((k,_)=>{var C,T={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:v.offset+v.size+c,size:h?f:(C=_.barSize)!==null&&C!==void 0?C:0}},O=[...k,T];return v=O[O.length-1].position,O},m)}else{var w=an(a,s,0,!0);s-2*w-(l-1)*c<=0&&(c=0);var j=(s-2*w-(l-1)*c)/l;j>1&&(j>>=0);var S=sn(r)?Math.min(j,r):j;u=n.reduce((k,_,C)=>[...k,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:w+(j+c)*C+(j-S)/2,size:S}}],m)}return u}}var the=(e,a,s,n,r,l,c)=>{var u=Ca(c)?a:c,m=ehe(s,n,r!==l?r:l,e,u);return r!==l&&m!=null&&(m=m.map(h=>$x($x({},h),{},{position:$x($x({},h.position),{},{offset:h.position.offset-r/2})}))),m},ahe=Pe([Jme,z$,Oie,B$,Qme,N9,Gme],the),she=(e,a,s,n)=>yo(e,"xAxis",a,n),nhe=(e,a,s,n)=>yo(e,"yAxis",s,n),rhe=(e,a,s,n)=>vo(e,"xAxis",a,n),ihe=(e,a,s,n)=>vo(e,"yAxis",s,n),lhe=Pe([ahe,e0],(e,a)=>{if(!(e==null||a==null)){var s=e.find(n=>n.stackId===a.stackId&&a.dataKey!=null&&n.dataKeys.includes(a.dataKey));if(s!=null)return s.position}}),ohe=(e,a)=>{var s=O4(a);if(!(!e||s==null||a==null)){var{stackId:n}=a;if(n!=null){var r=e[n];if(r){var{stackedData:l}=r;if(l)return l.find(c=>c.key===s)}}}},che=Pe([Wme,e0],ohe),dhe=Pe([us,GS,she,nhe,rhe,ihe,lhe,Bt,yb,N9,che,e0,Kme],(e,a,s,n,r,l,c,u,m,h,f,g,b)=>{var{chartData:v,dataStartIndex:w,dataEndIndex:j}=m;if(!(g==null||c==null||a==null||u!=="horizontal"&&u!=="vertical"||s==null||n==null||r==null||l==null||h==null)){var{data:S}=g,k;if(S!=null&&S.length>0?k=S:k=v==null?void 0:v.slice(w,j+1),k!=null)return $me({layout:u,barSettings:g,pos:c,parentViewBox:a,bandSize:h,xAxis:s,yAxis:n,xAxisTicks:r,yAxisTicks:l,stackedData:f,displayedData:k,offset:e,cells:b})}}),S9=e=>{var{chartData:a}=e,s=Ea(),n=gn();return x.useEffect(()=>n?()=>{}:(s(jO(a)),()=>{s(jO(void 0))}),[a,s,n]),null},uP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_9=sr({name:"brush",initialState:uP,reducers:{setBrushSettings(e,a){return a.payload==null?uP:a.payload}}}),{setBrushSettings:cve}=_9.actions,uhe=_9.reducer;function mhe(e,a,s){return(a=hhe(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function hhe(e){var a=fhe(e,"string");return typeof a=="symbol"?a:a+""}function fhe(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}class w_{static create(a){return new w_(a)}constructor(a){this.scale=a}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(a){var{bandAware:s,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a!==void 0){if(n)switch(n){case"start":return this.scale(a);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+r}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(a)+l}default:return this.scale(a)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+c}return this.scale(a)}}isInRange(a){var s=this.range(),n=s[0],r=s[s.length-1];return n<=r?a>=n&&a<=r:a>=r&&a<=n}}mhe(w_,"EPS",1e-4);function xhe(e){return(e%180+180)%180}var phe=function(a){var{width:s,height:n}=a,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=xhe(r),c=l*Math.PI/180,u=Math.atan(n/s),m=c>u&&c<Math.PI-u?n/Math.sin(c):s/Math.cos(c);return Math.abs(m)},ghe={dots:[],areas:[],lines:[]},k9=sr({name:"referenceElements",initialState:ghe,reducers:{addDot:(e,a)=>{e.dots.push(a.payload)},removeDot:(e,a)=>{var s=dl(e).dots.findIndex(n=>n===a.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,a)=>{e.areas.push(a.payload)},removeArea:(e,a)=>{var s=dl(e).areas.findIndex(n=>n===a.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,a)=>{e.lines.push(a.payload)},removeLine:(e,a)=>{var s=dl(e).lines.findIndex(n=>n===a.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:dve,removeDot:uve,addArea:mve,removeArea:hve,addLine:fve,removeLine:xve}=k9.actions,bhe=k9.reducer,vhe=x.createContext(void 0),yhe=e=>{var{children:a}=e,[s]=x.useState("".concat(uf("recharts"),"-clip")),n=v_();if(n==null)return null;var{x:r,y:l,width:c,height:u}=n;return x.createElement(vhe.Provider,{value:s},x.createElement("defs",null,x.createElement("clipPath",{id:s},x.createElement("rect",{x:r,y:l,height:u,width:c}))),a)};function Du(e,a){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(a,s)||e[s]!==a[s]))return!1;for(var n in a)if({}.hasOwnProperty.call(a,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function C9(e,a,s){if(a<1)return[];if(a===1&&s===void 0)return e;for(var n=[],r=0;r<e.length;r+=a)n.push(e[r]);return n}function jhe(e,a,s){var n={width:e.width+a.width,height:e.height+a.height};return phe(n,s)}function whe(e,a,s){var n=s==="width",{x:r,y:l,width:c,height:u}=e;return a===1?{start:n?r:l,end:n?r+c:l+u}:{start:n?r+c:l+u,end:n?r:l}}function Sg(e,a,s,n,r){if(e*a<e*n||e*a>e*r)return!1;var l=s();return e*(a-e*l/2-n)>=0&&e*(a+e*l/2-r)<=0}function Nhe(e,a){return C9(e,a+1)}function She(e,a,s,n,r){for(var l=(n||[]).slice(),{start:c,end:u}=a,m=0,h=1,f=c,g=function(){var w=n==null?void 0:n[m];if(w===void 0)return{v:C9(n,h)};var j=m,S,k=()=>(S===void 0&&(S=s(w,j)),S),_=w.coordinate,C=m===0||Sg(e,_,k,f,u);C||(m=0,f=c,h+=1),C&&(f=_+e*(k()/2+r),m+=h)},b;h<=l.length;)if(b=g(),b)return b.v;return[]}function mP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function en(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?mP(Object(s),!0).forEach(function(n){_he(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function _he(e,a,s){return(a=khe(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function khe(e){var a=Che(e,"string");return typeof a=="symbol"?a:a+""}function Che(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ahe(e,a,s,n,r){for(var l=(n||[]).slice(),c=l.length,{start:u}=a,{end:m}=a,h=function(b){var v=l[b],w,j=()=>(w===void 0&&(w=s(v,b)),w);if(b===c-1){var S=e*(v.coordinate+e*j()/2-m);l[b]=v=en(en({},v),{},{tickCoord:S>0?v.coordinate-S*e:v.coordinate})}else l[b]=v=en(en({},v),{},{tickCoord:v.coordinate});var k=Sg(e,v.tickCoord,j,u,m);k&&(m=v.tickCoord-e*(j()/2+r),l[b]=en(en({},v),{},{isShow:!0}))},f=c-1;f>=0;f--)h(f);return l}function Ehe(e,a,s,n,r,l){var c=(n||[]).slice(),u=c.length,{start:m,end:h}=a;if(l){var f=n[u-1],g=s(f,u-1),b=e*(f.coordinate+e*g/2-h);c[u-1]=f=en(en({},f),{},{tickCoord:b>0?f.coordinate-b*e:f.coordinate});var v=Sg(e,f.tickCoord,()=>g,m,h);v&&(h=f.tickCoord-e*(g/2+r),c[u-1]=en(en({},f),{},{isShow:!0}))}for(var w=l?u-1:u,j=function(_){var C=c[_],T,O=()=>(T===void 0&&(T=s(C,_)),T);if(_===0){var E=e*(C.coordinate-e*O()/2-m);c[_]=C=en(en({},C),{},{tickCoord:E<0?C.coordinate-E*e:C.coordinate})}else c[_]=C=en(en({},C),{},{tickCoord:C.coordinate});var $=Sg(e,C.tickCoord,O,m,h);$&&(m=C.tickCoord+e*(O()/2+r),c[_]=en(en({},C),{},{isShow:!0}))},S=0;S<w;S++)j(S);return c}function N_(e,a,s){var{tick:n,ticks:r,viewBox:l,minTickGap:c,orientation:u,interval:m,tickFormatter:h,unit:f,angle:g}=e;if(!r||!r.length||!n)return[];if(mt(m)||ko.isSsr){var b;return(b=Nhe(r,mt(m)?m:0))!==null&&b!==void 0?b:[]}var v=[],w=u==="top"||u==="bottom"?"width":"height",j=f&&w==="width"?Hh(f,{fontSize:a,letterSpacing:s}):{width:0,height:0},S=(C,T)=>{var O=typeof h=="function"?h(C.value,T):C.value;return w==="width"?jhe(Hh(O,{fontSize:a,letterSpacing:s}),j,g):Hh(O,{fontSize:a,letterSpacing:s})[w]},k=r.length>=2?Ns(r[1].coordinate-r[0].coordinate):1,_=whe(l,k,w);return m==="equidistantPreserveStart"?She(k,_,S,r,c):(m==="preserveStart"||m==="preserveStartEnd"?v=Ehe(k,_,S,r,c,m==="preserveStartEnd"):v=Ahe(k,_,S,r,c),v.filter(C=>C.isShow))}var The=e=>{var{ticks:a,label:s,labelGapWithTick:n=5,tickSize:r=0,tickMargin:l=0}=e,c=0;if(a){Array.from(a).forEach(f=>{if(f){var g=f.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=s?s.getBoundingClientRect().width:0,m=r+l,h=c+m+u+(s?n:0);return Math.round(h)}return 0},Ohe=["axisLine","width","height","className","hide","ticks"],Phe=["viewBox"],Mhe=["viewBox"];function fN(e,a){if(e==null)return{};var s,n,r=Dhe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Dhe(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ic.apply(null,arguments)}function hP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function ds(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?hP(Object(s),!0).forEach(function(n){Lhe(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Lhe(e,a,s){return(a=Rhe(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Rhe(e){var a=$he(e,"string");return typeof a=="symbol"?a:a+""}function $he(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var S_={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Ihe(e){var{x:a,y:s,width:n,height:r,orientation:l,mirror:c,axisLine:u,otherSvgProps:m}=e;if(!u)return null;var h=ds(ds(ds({},m),tr(u)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);h=ds(ds({},h),{},{x1:a,y1:s+f*r,x2:a+n,y2:s+f*r})}else{var g=+(l==="left"&&!c||l==="right"&&c);h=ds(ds({},h),{},{x1:a+g*n,y1:s,x2:a+g*n,y2:s+r})}return x.createElement("line",Ic({},h,{className:Pt("recharts-cartesian-axis-line",Mc(u,"className"))}))}function zhe(e,a,s,n,r,l,c,u,m){var h,f,g,b,v,w,j=u?-1:1,S=e.tickSize||c,k=mt(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":h=f=e.coordinate,b=s+ +!u*r,g=b-j*S,w=g-j*m,v=k;break;case"left":g=b=e.coordinate,f=a+ +!u*n,h=f-j*S,v=h-j*m,w=k;break;case"right":g=b=e.coordinate,f=a+ +u*n,h=f+j*S,v=h+j*m,w=k;break;default:h=f=e.coordinate,b=s+ +u*r,g=b+j*S,w=g+j*m,v=k;break}return{line:{x1:h,y1:g,x2:f,y2:b},tick:{x:v,y:w}}}function Bhe(e,a){switch(e){case"left":return a?"start":"end";case"right":return a?"end":"start";default:return"middle"}}function Uhe(e,a){switch(e){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}function Fhe(e){var{option:a,tickProps:s,value:n}=e,r,l=Pt(s.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(a))r=x.cloneElement(a,ds(ds({},s),{},{className:l}));else if(typeof a=="function")r=a(ds(ds({},s),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof a!="boolean"&&(c=Pt(c,a==null?void 0:a.className)),r=x.createElement(Mb,Ic({},s,{className:c}),n)}return r}function Vhe(e){var{ticks:a=[],tick:s,tickLine:n,stroke:r,tickFormatter:l,unit:c,padding:u,tickTextProps:m,orientation:h,mirror:f,x:g,y:b,width:v,height:w,tickSize:j,tickMargin:S,fontSize:k,letterSpacing:_,getTicksConfig:C,events:T}=e,O=N_(ds(ds({},C),{},{ticks:a}),k,_),E=Bhe(h,f),$=Uhe(h,f),M=tr(C),H=Pc(s),V={};typeof n=="object"&&(V=n);var F=ds(ds({},M),{},{fill:"none"},V),B=O.map((ee,we)=>{var{line:ne,tick:A}=zhe(ee,g,b,v,w,h,j,f,S),U=ds(ds(ds(ds({textAnchor:E,verticalAnchor:$},M),{},{stroke:"none",fill:r},H),A),{},{index:we,payload:ee,visibleTicksCount:O.length,tickFormatter:l,padding:u},m);return x.createElement(Fs,Ic({className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},$f(T,ee,we)),n&&x.createElement("line",Ic({},F,ne,{className:Pt("recharts-cartesian-axis-tick-line",Mc(n,"className"))})),s&&x.createElement(Fhe,{option:s,tickProps:U,value:"".concat(typeof l=="function"?l(ee.value,we):ee.value).concat(c||"")}))});return B.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},B):null}var Hhe=x.forwardRef((e,a)=>{var{axisLine:s,width:n,height:r,className:l,hide:c,ticks:u}=e,m=fN(e,Ohe),[h,f]=x.useState(""),[g,b]=x.useState(""),v=x.useRef(null);x.useImperativeHandle(a,()=>({getCalculatedWidth:()=>{var j;return The({ticks:v.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=x.useCallback(j=>{if(j){var S=j.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=S;var k=S[0];if(k){var _=window.getComputedStyle(k),C=_.fontSize,T=_.letterSpacing;(C!==h||T!==g)&&(f(C),b(T))}}},[h,g]);return c||n!=null&&n<=0||r!=null&&r<=0?null:x.createElement(Fs,{className:Pt("recharts-cartesian-axis",l),ref:w},x.createElement(Ihe,{x:e.x,y:e.y,width:n,height:r,orientation:e.orientation,mirror:e.mirror,axisLine:s,otherSvgProps:tr(e)}),x.createElement(Vhe,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:g,getTicksConfig:e,events:m}),x.createElement(Gce,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(ade,{label:e.label,labelRef:e.labelRef}),e.children))}),qhe=x.memo(Hhe,(e,a)=>{var{viewBox:s}=e,n=fN(e,Phe),{viewBox:r}=a,l=fN(a,Mhe);return Du(s,r)&&Du(n,l)}),__=x.forwardRef((e,a)=>{var s=Vs(e,S_);return x.createElement(qhe,Ic({},s,{ref:a}))});__.displayName="CartesianAxis";var Ghe=["x1","y1","x2","y2","key"],Khe=["offset"],Yhe=["xAxisId","yAxisId"],Whe=["xAxisId","yAxisId"];function fP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function tn(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?fP(Object(s),!0).forEach(function(n){Xhe(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Xhe(e,a,s){return(a=Zhe(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Zhe(e){var a=Jhe(e,"string");return typeof a=="symbol"?a:a+""}function Jhe(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},yc.apply(null,arguments)}function _g(e,a){if(e==null)return{};var s,n,r=Qhe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Qhe(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var efe=e=>{var{fill:a}=e;if(!a||a==="none")return null;var{fillOpacity:s,x:n,y:r,width:l,height:c,ry:u}=e;return x.createElement("rect",{x:n,y:r,ry:u,width:l,height:c,stroke:"none",fill:a,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function A9(e,a){var s;if(x.isValidElement(e))s=x.cloneElement(e,a);else if(typeof e=="function")s=e(a);else{var{x1:n,y1:r,x2:l,y2:c,key:u}=a,m=_g(a,Ghe),h=tr(m),{offset:f}=h,g=_g(h,Khe);s=x.createElement("line",yc({},g,{x1:n,y1:r,x2:l,y2:c,fill:"none",key:u}))}return s}function tfe(e){var{x:a,width:s,horizontal:n=!0,horizontalPoints:r}=e;if(!n||!r||!r.length)return null;var{xAxisId:l,yAxisId:c}=e,u=_g(e,Yhe),m=r.map((h,f)=>{var g=tn(tn({},u),{},{x1:a,y1:h,x2:a+s,y2:h,key:"line-".concat(f),index:f});return A9(n,g)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function afe(e){var{y:a,height:s,vertical:n=!0,verticalPoints:r}=e;if(!n||!r||!r.length)return null;var{xAxisId:l,yAxisId:c}=e,u=_g(e,Whe),m=r.map((h,f)=>{var g=tn(tn({},u),{},{x1:h,y1:a,x2:h,y2:a+s,key:"line-".concat(f),index:f});return A9(n,g)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function sfe(e){var{horizontalFill:a,fillOpacity:s,x:n,y:r,width:l,height:c,horizontalPoints:u,horizontal:m=!0}=e;if(!m||!a||!a.length)return null;var h=u.map(g=>Math.round(g+r-r)).sort((g,b)=>g-b);r!==h[0]&&h.unshift(0);var f=h.map((g,b)=>{var v=!h[b+1],w=v?r+c-g:h[b+1]-g;if(w<=0)return null;var j=b%a.length;return x.createElement("rect",{key:"react-".concat(b),y:g,x:n,height:w,width:l,stroke:"none",fill:a[j],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function nfe(e){var{vertical:a=!0,verticalFill:s,fillOpacity:n,x:r,y:l,width:c,height:u,verticalPoints:m}=e;if(!a||!s||!s.length)return null;var h=m.map(g=>Math.round(g+r-r)).sort((g,b)=>g-b);r!==h[0]&&h.unshift(0);var f=h.map((g,b)=>{var v=!h[b+1],w=v?r+c-g:h[b+1]-g;if(w<=0)return null;var j=b%s.length;return x.createElement("rect",{key:"react-".concat(b),x:g,y:l,width:w,height:u,stroke:"none",fill:s[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rfe=(e,a)=>{var{xAxis:s,width:n,height:r,offset:l}=e;return NR(N_(tn(tn(tn({},S_),s),{},{ticks:SR(s),viewBox:{x:0,y:0,width:n,height:r}})),l.left,l.left+l.width,a)},ife=(e,a)=>{var{yAxis:s,width:n,height:r,offset:l}=e;return NR(N_(tn(tn(tn({},S_),s),{},{ticks:SR(s),viewBox:{x:0,y:0,width:n,height:r}})),l.top,l.top+l.height,a)},lfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Zr(e){var a=YS(),s=WS(),n=OR(),r=tn(tn({},Vs(e,lfe)),{},{x:mt(e.x)?e.x:n.left,y:mt(e.y)?e.y:n.top,width:mt(e.width)?e.width:n.width,height:mt(e.height)?e.height:n.height}),{xAxisId:l,yAxisId:c,x:u,y:m,width:h,height:f,syncWithTicks:g,horizontalValues:b,verticalValues:v}=r,w=gn(),j=ct(H=>mO(H,"xAxis",l,w)),S=ct(H=>mO(H,"yAxis",c,w));if(!mt(h)||h<=0||!mt(f)||f<=0||!mt(u)||u!==+u||!mt(m)||m!==+m)return null;var k=r.verticalCoordinatesGenerator||rfe,_=r.horizontalCoordinatesGenerator||ife,{horizontalPoints:C,verticalPoints:T}=r;if((!C||!C.length)&&typeof _=="function"){var O=b&&b.length,E=_({yAxis:S?tn(tn({},S),{},{ticks:O?b:S.ticks}):void 0,width:a,height:s,offset:n},O?!0:g);sg(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(C=E)}if((!T||!T.length)&&typeof k=="function"){var $=v&&v.length,M=k({xAxis:j?tn(tn({},j),{},{ticks:$?v:j.ticks}):void 0,width:a,height:s,offset:n},$?!0:g);sg(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(T=M)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(efe,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),x.createElement(sfe,yc({},r,{horizontalPoints:C})),x.createElement(nfe,yc({},r,{verticalPoints:T})),x.createElement(tfe,yc({},r,{offset:n,horizontalPoints:C,xAxis:j,yAxis:S})),x.createElement(afe,yc({},r,{offset:n,verticalPoints:T,xAxis:j,yAxis:S})))}Zr.displayName="CartesianGrid";var E9=(e,a,s,n)=>yo(e,"xAxis",a,n),T9=(e,a,s,n)=>vo(e,"xAxis",a,n),O9=(e,a,s,n)=>yo(e,"yAxis",s,n),P9=(e,a,s,n)=>vo(e,"yAxis",s,n),ofe=Pe([Bt,E9,O9,T9,P9],(e,a,s,n,r)=>_o(e,"xAxis")?ff(a,n,!1):ff(s,r,!1)),cfe=(e,a,s,n,r)=>r;function dfe(e){return e.type==="line"}var ufe=Pe([Cb,cfe],(e,a)=>e.filter(dfe).find(s=>s.id===a)),mfe=Pe([Bt,E9,O9,T9,P9,ufe,ofe,yb],(e,a,s,n,r,l,c,u)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:f}=u;if(!(l==null||a==null||s==null||n==null||r==null||n.length===0||r.length===0||c==null)){var{dataKey:g,data:b}=l,v;if(b!=null&&b.length>0?v=b:v=m==null?void 0:m.slice(h,f+1),v!=null)return Lfe({layout:e,xAxis:a,yAxis:s,xAxisTicks:n,yAxisTicks:r,dataKey:g,bandSize:c,displayedData:v})}});function hfe(e){var a=Pc(e),s=3,n=2;if(a!=null){var{r,strokeWidth:l}=a,c=Number(r),u=Number(l);return(Number.isNaN(c)||c<0)&&(c=s),(Number.isNaN(u)||u<0)&&(u=n),{r:c,strokeWidth:u}}return{r:s,strokeWidth:n}}var ffe=["id"],xfe=["type","layout","connectNulls","needClip"],pfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function xP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Xn(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?xP(Object(s),!0).forEach(function(n){gfe(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function gfe(e,a,s){return(a=bfe(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function bfe(e){var a=vfe(e,"string");return typeof a=="symbol"?a:a+""}function vfe(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function k_(e,a){if(e==null)return{};var s,n,r=yfe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function yfe(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},zc.apply(null,arguments)}var jfe=e=>{var{dataKey:a,name:s,stroke:n,legendType:r,hide:l}=e;return[{inactive:l,dataKey:a,type:r,color:n,value:Gu(s,a),payload:e}]};function wfe(e){var{dataKey:a,data:s,stroke:n,strokeWidth:r,fill:l,name:c,hide:u,unit:m}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:l,dataKey:a,nameKey:void 0,name:Gu(c,a),hide:u,type:e.tooltipType,color:e.stroke,unit:m}}}var M9=(e,a)=>"".concat(a,"px ").concat(e-a,"px");function Nfe(e,a){for(var s=e.length%2!==0?[...e,0]:e,n=[],r=0;r<a;++r)n=[...n,...s];return n}var Sfe=(e,a,s)=>{var n=s.reduce((g,b)=>g+b);if(!n)return M9(a,e);for(var r=Math.floor(e/n),l=e%n,c=a-e,u=[],m=0,h=0;m<s.length;h+=s[m],++m)if(h+s[m]>l){u=[...s.slice(0,m),l-h];break}var f=u.length%2===0?[0,c]:[c];return[...Nfe(s,r),...u,...f].map(g=>"".concat(g,"px")).join(", ")};function _fe(e,a){var s;if(x.isValidElement(e))s=x.cloneElement(e,a);else if(typeof e=="function")s=e(a);else{var n=Pt("recharts-line-dot",typeof e!="boolean"?e.className:"");s=x.createElement(i9,zc({},a,{className:n}))}return s}function kfe(e,a){return e==null?!1:a?!0:e.length===1}function Cfe(e){var{clipPathId:a,points:s,props:n}=e,{dot:r,dataKey:l,needClip:c}=n;if(!kfe(s,r))return null;var{id:u}=n,m=k_(n,ffe),h=m9(r),f=tr(m),g=gJ(r),b=s.map((w,j)=>{var S=Xn(Xn(Xn({key:"dot-".concat(j),r:3},f),g),{},{index:j,cx:w.x,cy:w.y,dataKey:l,value:w.value,payload:w.payload,points:s});return _fe(r,S)}),v={clipPath:c?"url(#clipPath-".concat(h?"":"dots-").concat(a,")"):void 0};return x.createElement(Fs,zc({className:"recharts-line-dots",key:"dots"},v),b)}function Afe(e){var{showLabels:a,children:s,points:n}=e,r=x.useMemo(()=>n==null?void 0:n.map(l=>{var c={x:l.x,y:l.y,width:0,height:0};return Xn(Xn({},c),{},{value:l.value,payload:l.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(n9,{value:a?r:null},s)}function pP(e){var{clipPathId:a,pathRef:s,points:n,strokeDasharray:r,props:l}=e,{type:c,layout:u,connectNulls:m,needClip:h}=l,f=k_(l,xfe),g=Xn(Xn({},pn(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(a,")"):void 0,points:n,type:c,layout:u,connectNulls:m,strokeDasharray:r??l.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(ZS,zc({},g,{pathRef:s})),x.createElement(Cfe,{points:n,clipPathId:a,props:l}))}function Efe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Tfe(e){var{clipPathId:a,props:s,pathRef:n,previousPointsRef:r,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:u,isAnimationActive:m,animationBegin:h,animationDuration:f,animationEasing:g,animateNewValues:b,width:v,height:w,onAnimationEnd:j,onAnimationStart:S}=s,k=r.current,_=Ff(s,"recharts-line-"),[C,T]=x.useState(!1),O=!C,E=x.useCallback(()=>{typeof j=="function"&&j(),T(!1)},[j]),$=x.useCallback(()=>{typeof S=="function"&&S(),T(!0)},[S]),M=Efe(n.current),H=l.current;return x.createElement(Afe,{points:c,showLabels:O},s.children,x.createElement(Uf,{animationId:_,begin:h,duration:f,isActive:m,easing:g,onAnimationEnd:E,onAnimationStart:$,key:_},V=>{var F=Ha(H,M+H,V),B=Math.min(F,M),ee;if(m)if(u){var we="".concat(u).split(/[,\s]+/gim).map(U=>parseFloat(U));ee=Sfe(B,M,we)}else ee=M9(M,B);else ee=u==null?void 0:String(u);if(k){var ne=k.length/c.length,A=V===1?c:c.map((U,K)=>{var z=Math.floor(K*ne);if(k[z]){var I=k[z];return Xn(Xn({},U),{},{x:Ha(I.x,U.x,V),y:Ha(I.y,U.y,V)})}return b?Xn(Xn({},U),{},{x:Ha(v*2,U.x,V),y:Ha(w/2,U.y,V)}):Xn(Xn({},U),{},{x:U.x,y:U.y})});return r.current=A,x.createElement(pP,{props:s,points:A,clipPathId:a,pathRef:n,strokeDasharray:ee})}return V>0&&M>0&&(r.current=c,l.current=B),x.createElement(pP,{props:s,points:c,clipPathId:a,pathRef:n,strokeDasharray:ee})}),x.createElement(c_,{label:s.label}))}function Ofe(e){var{clipPathId:a,props:s}=e,n=x.useRef(null),r=x.useRef(0),l=x.useRef(null);return x.createElement(Tfe,{props:s,clipPathId:a,previousPointsRef:n,longestAnimatedLengthRef:r,pathRef:l})}var Pfe=(e,a)=>({x:e.x,y:e.y,value:e.value,errorVal:ua(e.payload,a)});class Mfe extends x.Component{render(){var{hide:a,dot:s,points:n,className:r,xAxisId:l,yAxisId:c,top:u,left:m,width:h,height:f,id:g,needClip:b}=this.props;if(a)return null;var v=Pt("recharts-line",r),w=g,{r:j,strokeWidth:S}=hfe(s),k=m9(s),_=j*2+S;return x.createElement(x.Fragment,null,x.createElement(Fs,{className:v},b&&x.createElement("defs",null,x.createElement(j9,{clipPathId:w,xAxisId:l,yAxisId:c}),!k&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:m-_/2,y:u-_/2,width:h+_,height:f+_}))),x.createElement(y9,{xAxisId:l,yAxisId:c,data:n,dataPointFormatter:Pfe,errorBarOffset:0},x.createElement(Ofe,{props:this.props,clipPathId:w}))),x.createElement(Jue,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var D9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ko.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Dfe(e){var a=Vs(e,D9),{activeDot:s,animateNewValues:n,animationBegin:r,animationDuration:l,animationEasing:c,connectNulls:u,dot:m,hide:h,isAnimationActive:f,label:g,legendType:b,xAxisId:v,yAxisId:w,id:j}=a,S=k_(a,pfe),{needClip:k}=j_(v,w),_=v_(),C=ub(),T=gn(),O=ct(V=>mfe(V,v,w,T,j));if(C!=="horizontal"&&C!=="vertical"||O==null||_==null)return null;var{height:E,width:$,x:M,y:H}=_;return x.createElement(Mfe,zc({},S,{id:j,connectNulls:u,dot:m,activeDot:s,animateNewValues:n,animationBegin:r,animationDuration:l,animationEasing:c,isAnimationActive:f,hide:h,label:g,legendType:b,xAxisId:v,yAxisId:w,points:O,layout:C,height:E,width:$,left:M,top:H,needClip:k}))}function Lfe(e){var{layout:a,xAxis:s,yAxis:n,xAxisTicks:r,yAxisTicks:l,dataKey:c,bandSize:u,displayedData:m}=e;return m.map((h,f)=>{var g=ua(h,c);if(a==="horizontal"){var b=BE({axis:s,ticks:r,bandSize:u,entry:h,index:f}),v=Ca(g)?null:n.scale(g);return{x:b,y:v,value:g,payload:h}}var w=Ca(g)?null:s.scale(g),j=BE({axis:n,ticks:l,bandSize:u,entry:h,index:f});return w==null||j==null?null:{x:w,y:j,value:g,payload:h}}).filter(Boolean)}function Rfe(e){var a=Vs(e,D9),s=gn();return x.createElement(g_,{id:a.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(x9,{legendPayload:jfe(a)}),x.createElement(p_,{fn:wfe,args:a}),x.createElement(g9,{type:"line",id:n,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,hide:a.hide,isPanorama:s}),x.createElement(Dfe,zc({},a,{id:n}))))}var sm=x.memo(Rfe);sm.displayName="Line";var $fe=["dangerouslySetInnerHTML","ticks"],Ife=["id"],zfe=["domain"],Bfe=["domain"];function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},xN.apply(null,arguments)}function kg(e,a){if(e==null)return{};var s,n,r=Ufe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Ufe(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function Ffe(e){var a=Ea();return x.useLayoutEffect(()=>(a(zue(e)),()=>{a(Bue(e))}),[e,a]),null}var Vfe=e=>{var{xAxisId:a,className:s}=e,n=ct(GS),r=gn(),l="xAxis",c=ct(S=>em(S,l,a,r)),u=ct(S=>b7(S,l,a,r)),m=ct(S=>f7(S,a)),h=ct(S=>kle(S,a)),f=ct(S=>W$(S,a));if(m==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:g,ticks:b}=e,v=kg(e,$fe),{id:w}=f,j=kg(f,Ife);return x.createElement(__,xN({},v,j,{scale:c,x:h.x,y:h.y,width:m.width,height:m.height,className:Pt("recharts-".concat(l," ").concat(l),s),viewBox:n,ticks:u}))},Hfe={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,height:Gn.height,hide:!1,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tickCount:Gn.tickCount,type:Gn.type,xAxisId:0},qfe=e=>{var a,s,n,r,l,c=Vs(e,Hfe);return x.createElement(x.Fragment,null,x.createElement(Ffe,{interval:(a=c.interval)!==null&&a!==void 0?a:"preserveEnd",id:c.xAxisId,scale:c.scale,type:c.type,padding:c.padding,allowDataOverflow:c.allowDataOverflow,domain:c.domain,dataKey:c.dataKey,allowDuplicatedCategory:c.allowDuplicatedCategory,allowDecimals:c.allowDecimals,tickCount:c.tickCount,includeHidden:(s=c.includeHidden)!==null&&s!==void 0?s:!1,reversed:c.reversed,ticks:c.ticks,height:c.height,orientation:c.orientation,mirror:c.mirror,hide:c.hide,unit:c.unit,name:c.name,angle:(n=c.angle)!==null&&n!==void 0?n:0,minTickGap:(r=c.minTickGap)!==null&&r!==void 0?r:5,tick:(l=c.tick)!==null&&l!==void 0?l:!0,tickFormatter:c.tickFormatter}),x.createElement(Vfe,c))},Gfe=(e,a)=>{var{domain:s}=e,n=kg(e,zfe),{domain:r}=a,l=kg(a,Bfe);return Du(n,l)?Array.isArray(s)&&s.length===2&&Array.isArray(r)&&r.length===2?s[0]===r[0]&&s[1]===r[1]:Du({domain:s},{domain:r}):!1},Jr=x.memo(qfe,Gfe);Jr.displayName="XAxis";var Kfe=["dangerouslySetInnerHTML","ticks"],Yfe=["id"],Wfe=["domain"],Xfe=["domain"];function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},pN.apply(null,arguments)}function Cg(e,a){if(e==null)return{};var s,n,r=Zfe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Zfe(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function Jfe(e){var a=Ea();return x.useLayoutEffect(()=>(a(Uue(e)),()=>{a(Fue(e))}),[e,a]),null}var Qfe=e=>{var{yAxisId:a,className:s,width:n,label:r}=e,l=x.useRef(null),c=x.useRef(null),u=ct(GS),m=gn(),h=Ea(),f="yAxis",g=ct(O=>em(O,f,a,m)),b=ct(O=>x7(O,a)),v=ct(O=>Ale(O,a)),w=ct(O=>b7(O,f,a,m)),j=ct(O=>X$(O,a));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!b||o_(r)||x.isValidElement(r)||j==null)){var O=l.current;if(O){var E=O.getCalculatedWidth();Math.round(b.width)!==Math.round(E)&&h(Vue({id:a,width:E}))}}},[w,b,h,r,a,n,j]),b==null||v==null||j==null)return null;var{dangerouslySetInnerHTML:S,ticks:k}=e,_=Cg(e,Kfe),{id:C}=j,T=Cg(j,Yfe);return x.createElement(__,pN({},_,T,{ref:l,labelRef:c,scale:g,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:b.width,height:b.height,className:Pt("recharts-".concat(f," ").concat(f),s),viewBox:u,ticks:w}))},e0e={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:Kn.allowDecimals,allowDuplicatedCategory:Kn.allowDuplicatedCategory,hide:!1,mirror:Kn.mirror,orientation:Kn.orientation,padding:Kn.padding,reversed:Kn.reversed,scale:Kn.scale,tickCount:Kn.tickCount,type:Kn.type,width:Kn.width,yAxisId:0},t0e=e=>{var a,s,n,r,l,c=Vs(e,e0e);return x.createElement(x.Fragment,null,x.createElement(Jfe,{interval:(a=c.interval)!==null&&a!==void 0?a:"preserveEnd",id:c.yAxisId,scale:c.scale,type:c.type,domain:c.domain,allowDataOverflow:c.allowDataOverflow,dataKey:c.dataKey,allowDuplicatedCategory:c.allowDuplicatedCategory,allowDecimals:c.allowDecimals,tickCount:c.tickCount,padding:c.padding,includeHidden:(s=c.includeHidden)!==null&&s!==void 0?s:!1,reversed:c.reversed,ticks:c.ticks,width:c.width,orientation:c.orientation,mirror:c.mirror,hide:c.hide,unit:c.unit,name:c.name,angle:(n=c.angle)!==null&&n!==void 0?n:0,minTickGap:(r=c.minTickGap)!==null&&r!==void 0?r:5,tick:(l=c.tick)!==null&&l!==void 0?l:!0,tickFormatter:c.tickFormatter}),x.createElement(Qfe,c))},a0e=(e,a)=>{var{domain:s}=e,n=Cg(e,Wfe),{domain:r}=a,l=Cg(a,Xfe);return Du(n,l)?Array.isArray(s)&&s.length===2&&Array.isArray(r)&&r.length===2?s[0]===r[0]&&s[1]===r[1]:Du({domain:s},{domain:r}):!1},Qr=x.memo(t0e,a0e);Qr.displayName="YAxis";var rw={exports:{}},iw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP;function s0e(){if(gP)return iw;gP=1;var e=$u();function a(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var s=typeof Object.is=="function"?Object.is:a,n=e.useSyncExternalStore,r=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return iw.useSyncExternalStoreWithSelector=function(m,h,f,g,b){var v=r(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=c(function(){function S(O){if(!k){if(k=!0,_=O,O=g(O),b!==void 0&&w.hasValue){var E=w.value;if(b(E,O))return C=E}return C=O}if(E=C,s(_,O))return E;var $=g(O);return b!==void 0&&b(E,$)?(_=O,E):(_=O,C=$)}var k=!1,_,C,T=f===void 0?null:f;return[function(){return S(h())},T===null?void 0:function(){return S(T())}]},[h,f,g,b]);var j=n(m,v[0],v[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),u(j),j},iw}var bP;function n0e(){return bP||(bP=1,rw.exports=s0e()),rw.exports}n0e();function r0e(e){e()}function i0e(){let e=null,a=null;return{clear(){e=null,a=null},notify(){r0e(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let n=e;for(;n;)s.push(n),n=n.next;return s},subscribe(s){let n=!0;const r=a={callback:s,next:null,prev:a};return r.prev?r.prev.next=r:e=r,function(){!n||e===null||(n=!1,r.next?r.next.prev=r.prev:a=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var vP={notify(){},get:()=>[]};function l0e(e,a){let s,n=vP,r=0,l=!1;function c(j){f();const S=n.subscribe(j);let k=!1;return()=>{k||(k=!0,S(),g())}}function u(){n.notify()}function m(){w.onStateChange&&w.onStateChange()}function h(){return l}function f(){r++,s||(s=e.subscribe(m),n=i0e())}function g(){r--,s&&r===0&&(s(),s=void 0,n.clear(),n=vP)}function b(){l||(l=!0,f())}function v(){l&&(l=!1,g())}const w={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:h,trySubscribe:b,tryUnsubscribe:v,getListeners:()=>n};return w}var o0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",c0e=o0e(),d0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",u0e=d0e(),m0e=()=>c0e||u0e?x.useLayoutEffect:x.useEffect,h0e=m0e(),lw=Symbol.for("react-redux-context"),ow=typeof globalThis<"u"?globalThis:{};function f0e(){if(!x.createContext)return{};const e=ow[lw]??(ow[lw]=new Map);let a=e.get(x.createContext);return a||(a=x.createContext(null),e.set(x.createContext,a)),a}var x0e=f0e();function p0e(e){const{children:a,context:s,serverState:n,store:r}=e,l=x.useMemo(()=>{const m=l0e(r);return{store:r,subscription:m,getServerState:n?()=>n:void 0}},[r,n]),c=x.useMemo(()=>r.getState(),[r]);h0e(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==r.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const u=s||x0e;return x.createElement(u.Provider,{value:l},a)}var g0e=p0e,b0e=(e,a)=>a,C_=Pe([b0e,Bt,G$,hs,L7,Al,Moe,us],Ioe),A_=e=>{var a=e.currentTarget.getBoundingClientRect(),s=a.width/e.currentTarget.offsetWidth,n=a.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-a.left)/s),chartY:Math.round((e.clientY-a.top)/n)}},L9=Or("mouseClick"),R9=zf();R9.startListening({actionCreator:L9,effect:(e,a)=>{var s=e.payload,n=C_(a.getState(),A_(s));(n==null?void 0:n.activeIndex)!=null&&a.dispatch(Ule({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var gN=Or("mouseMove"),$9=zf();$9.startListening({actionCreator:gN,effect:(e,a)=>{var s=e.payload,n=a.getState(),r=J4(n,n.tooltip.settings.shared),l=C_(n,A_(s));r==="axis"&&((l==null?void 0:l.activeIndex)!=null?a.dispatch(k7({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):a.dispatch(_7()))}});var yP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},I9=sr({name:"rootProps",initialState:yP,reducers:{updateOptions:(e,a)=>{var s;e.accessibilityLayer=a.payload.accessibilityLayer,e.barCategoryGap=a.payload.barCategoryGap,e.barGap=(s=a.payload.barGap)!==null&&s!==void 0?s:yP.barGap,e.barSize=a.payload.barSize,e.maxBarSize=a.payload.maxBarSize,e.stackOffset=a.payload.stackOffset,e.syncId=a.payload.syncId,e.syncMethod=a.payload.syncMethod,e.className=a.payload.className}}}),v0e=I9.reducer,{updateOptions:y0e}=I9.actions,z9=sr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,a)=>a.payload}}),{updatePolarOptions:j0e}=z9.actions,w0e=z9.reducer,B9=Or("keyDown"),U9=Or("focus"),E_=zf();E_.startListening({actionCreator:B9,effect:(e,a)=>{var s=a.getState(),n=s.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:r}=s.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(Q4(r,am(s))),u=Al(s);if(l==="Enter"){var m=vg(s,"axis","hover",String(r.index));a.dispatch(oN({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:m}));return}var h=Ple(s),f=h==="left-to-right"?1:-1,g=l==="ArrowRight"?1:-1,b=c+g*f;if(!(u==null||b>=u.length||b<0)){var v=vg(s,"axis","hover",String(b));a.dispatch(oN({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});E_.startListening({actionCreator:U9,effect:(e,a)=>{var s=a.getState(),n=s.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:r}=s.tooltip;if(!r.active&&r.index==null){var l="0",c=vg(s,"axis","hover",String(l));a.dispatch(oN({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var yr=Or("externalEvent"),F9=zf();F9.startListening({actionCreator:yr,effect:(e,a)=>{if(e.payload.handler!=null){var s=a.getState(),n={activeCoordinate:Noe(s),activeDataKey:z7(s),activeIndex:jo(s),activeLabel:I7(s),activeTooltipIndex:jo(s),isTooltipActive:Soe(s)};e.payload.handler(n,e.payload.reactEvent)}}});var N0e=Pe([tm],e=>e.tooltipItemPayloads),S0e=Pe([N0e,Jf,(e,a,s)=>a,(e,a,s)=>s],(e,a,s,n)=>{var r=e.find(u=>u.settings.dataKey===n);if(r!=null){var{positions:l}=r;if(l!=null){var c=a(l,s);return c}}}),V9=Or("touchMove"),H9=zf();H9.startListening({actionCreator:V9,effect:(e,a)=>{var s=e.payload,n=a.getState(),r=J4(n,n.tooltip.settings.shared);if(r==="axis"){var l=C_(n,A_({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&a.dispatch(k7({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(r==="item"){var c,u=s.touches[0],m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(kR),f=(c=m.getAttribute(CR))!==null&&c!==void 0?c:void 0,g=S0e(a.getState(),h,f);a.dispatch(S7({activeDataKey:f,activeIndex:h,activeCoordinate:g}))}}});var _0e=XL({brush:uhe,cartesianAxis:Hue,chartData:ece,errorBars:dme,graphicalItems:cue,layout:ute,legend:gae,options:Woe,polarAxis:Nde,polarOptions:w0e,referenceElements:bhe,rootProps:v0e,tooltip:Fle}),k0e=function(a){return Ree({reducer:_0e,preloadedState:a,middleware:s=>s({serializableCheck:!1}).concat([R9.middleware,$9.middleware,E_.middleware,F9.middleware,H9.middleware]),enhancers:s=>{var n=s;return typeof s=="function"&&(n=s()),n.concat(oR({type:"raf"}))},devTools:ko.devToolsEnabled})};function q9(e){var{preloadedState:a,children:s,reduxStoreName:n}=e,r=gn(),l=x.useRef(null);if(r)return s;l.current==null&&(l.current=k0e(a));var c=BS;return x.createElement(g0e,{context:c,store:l.current},s)}function G9(e){var{layout:a,margin:s}=e,n=Ea(),r=gn();return x.useEffect(()=>{r||(n(ote(a)),n(lte(s)))},[n,r,a,s]),null}function K9(e){var a=Ea();return x.useEffect(()=>{a(y0e(e))},[a,e]),null}var C0e=["children"];function A0e(e,a){if(e==null)return{};var s,n,r=E0e(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function E0e(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ag.apply(null,arguments)}var T0e={width:"100%",height:"100%",display:"block"},O0e=x.forwardRef((e,a)=>{var s=YS(),n=WS(),r=LR();if(!Eu(s)||!Eu(n))return null;var{children:l,otherAttributes:c,title:u,desc:m}=e,h,f;return typeof c.tabIndex=="number"?h=c.tabIndex:h=r?0:void 0,typeof c.role=="string"?f=c.role:f=r?"application":void 0,x.createElement(CS,Ag({},c,{title:u,desc:m,role:f,tabIndex:h,width:s,height:n,style:T0e,ref:a}),l)}),P0e=e=>{var{children:a}=e,s=ct(cb);if(!s)return null;var{width:n,height:r,y:l,x:c}=s;return x.createElement(CS,{width:n,height:r,x:c,y:l},a)},jP=x.forwardRef((e,a)=>{var{children:s}=e,n=A0e(e,C0e),r=gn();return r?x.createElement(P0e,null,s):x.createElement(O0e,Ag({ref:a},n),s)});function M0e(){var e=Ea(),[a,s]=x.useState(null),n=ct(Bte);return x.useEffect(()=>{if(a!=null){var r=a.getBoundingClientRect(),l=r.width/a.offsetWidth;sn(l)&&l!==n&&e(dte(l))}},[a,e,n]),s}function wP(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function D0e(e){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?wP(Object(s),!0).forEach(function(n){L0e(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wP(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function L0e(e,a,s){return(a=R0e(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function R0e(e){var a=$0e(e,"string");return typeof a=="symbol"?a:a+""}function $0e(e,a){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Bc.apply(null,arguments)}var I0e=()=>(cce(),null);function Eg(e){if(typeof e=="number")return e;if(typeof e=="string"){var a=parseFloat(e);if(!Number.isNaN(a))return a}return 0}var z0e=x.forwardRef((e,a)=>{var s,n,r=x.useRef(null),[l,c]=x.useState({containerWidth:Eg((s=e.style)===null||s===void 0?void 0:s.width),containerHeight:Eg((n=e.style)===null||n===void 0?void 0:n.height)}),u=x.useCallback((h,f)=>{c(g=>{var b=Math.round(h),v=Math.round(f);return g.containerWidth===b&&g.containerHeight===v?g:{containerWidth:b,containerHeight:v}})},[]),m=x.useCallback(h=>{if(typeof a=="function"&&a(h),h!=null){var{width:f,height:g}=h.getBoundingClientRect();u(f,g);var b=w=>{var{width:j,height:S}=w[0].contentRect;u(j,S)},v=new ResizeObserver(b);v.observe(h),r.current=v}},[a,u]);return x.useEffect(()=>()=>{var h=r.current;h!=null&&h.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(mb,{width:l.containerWidth,height:l.containerHeight}),x.createElement("div",Bc({ref:m},e)))}),B0e=x.forwardRef((e,a)=>{var{width:s,height:n}=e,[r,l]=x.useState({containerWidth:Eg(s),containerHeight:Eg(n)}),c=x.useCallback((m,h)=>{l(f=>{var g=Math.round(m),b=Math.round(h);return f.containerWidth===g&&f.containerHeight===b?f:{containerWidth:g,containerHeight:b}})},[]),u=x.useCallback(m=>{if(typeof a=="function"&&a(m),m!=null){var{width:h,height:f}=m.getBoundingClientRect();c(h,f)}},[a,c]);return x.createElement(x.Fragment,null,x.createElement(mb,{width:r.containerWidth,height:r.containerHeight}),x.createElement("div",Bc({ref:u},e)))}),U0e=x.forwardRef((e,a)=>{var{width:s,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(mb,{width:s,height:n}),x.createElement("div",Bc({ref:a},e)))}),F0e=x.forwardRef((e,a)=>{var{width:s,height:n}=e;return bl(s)||bl(n)?x.createElement(B0e,Bc({},e,{ref:a})):x.createElement(U0e,Bc({},e,{ref:a}))});function V0e(e){return e===!0?z0e:F0e}var H0e=x.forwardRef((e,a)=>{var{children:s,className:n,height:r,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:m,onMouseEnter:h,onMouseLeave:f,onMouseMove:g,onMouseUp:b,onTouchEnd:v,onTouchMove:w,onTouchStart:j,style:S,width:k,responsive:_,dispatchTouchEvents:C=!0}=e,T=x.useRef(null),O=Ea(),[E,$]=x.useState(null),[M,H]=x.useState(null),V=M0e(),F=KS(),B=(F==null?void 0:F.width)>0?F.width:k,ee=(F==null?void 0:F.height)>0?F.height:r,we=x.useCallback(ve=>{V(ve),typeof a=="function"&&a(ve),$(ve),H(ve),ve!=null&&(T.current=ve)},[V,a,$,H]),ne=x.useCallback(ve=>{O(L9(ve)),O(yr({handler:l,reactEvent:ve}))},[O,l]),A=x.useCallback(ve=>{O(gN(ve)),O(yr({handler:h,reactEvent:ve}))},[O,h]),U=x.useCallback(ve=>{O(_7()),O(yr({handler:f,reactEvent:ve}))},[O,f]),K=x.useCallback(ve=>{O(gN(ve)),O(yr({handler:g,reactEvent:ve}))},[O,g]),z=x.useCallback(()=>{O(U9())},[O]),I=x.useCallback(ve=>{O(B9(ve.key))},[O]),D=x.useCallback(ve=>{O(yr({handler:c,reactEvent:ve}))},[O,c]),R=x.useCallback(ve=>{O(yr({handler:u,reactEvent:ve}))},[O,u]),Z=x.useCallback(ve=>{O(yr({handler:m,reactEvent:ve}))},[O,m]),de=x.useCallback(ve=>{O(yr({handler:b,reactEvent:ve}))},[O,b]),le=x.useCallback(ve=>{O(yr({handler:j,reactEvent:ve}))},[O,j]),be=x.useCallback(ve=>{C&&O(V9(ve)),O(yr({handler:w,reactEvent:ve}))},[O,C,w]),Ue=x.useCallback(ve=>{O(yr({handler:v,reactEvent:ve}))},[O,v]),xe=V0e(_);return x.createElement(q7.Provider,{value:E},x.createElement(fL.Provider,{value:M},x.createElement(xe,{width:B??(S==null?void 0:S.width),height:ee??(S==null?void 0:S.height),className:Pt("recharts-wrapper",n),style:D0e({position:"relative",cursor:"default",width:B,height:ee},S),onClick:ne,onContextMenu:D,onDoubleClick:R,onFocus:z,onKeyDown:I,onMouseDown:Z,onMouseEnter:A,onMouseLeave:U,onMouseMove:K,onMouseUp:de,onTouchEnd:Ue,onTouchMove:be,onTouchStart:le,ref:we},x.createElement(I0e,null),s)))}),q0e=["width","height","responsive","children","className","style","compact","title","desc"];function G0e(e,a){if(e==null)return{};var s,n,r=K0e(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function K0e(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var Y9=x.forwardRef((e,a)=>{var{width:s,height:n,responsive:r,children:l,className:c,style:u,compact:m,title:h,desc:f}=e,g=G0e(e,q0e),b=tr(g);return m?x.createElement(x.Fragment,null,x.createElement(mb,{width:s,height:n}),x.createElement(jP,{otherAttributes:b,title:h,desc:f},l)):x.createElement(H0e,{className:c,style:u,width:s,height:n,responsive:r,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(jP,{otherAttributes:b,title:h,desc:f,ref:a},x.createElement(yhe,null,l)))});function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},bN.apply(null,arguments)}var Y0e={top:5,right:5,bottom:5,left:5},W0e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Y0e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},W9=x.forwardRef(function(a,s){var n,r=Vs(a.categoricalChartProps,W0e),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:h}=a,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return x.createElement(q9,{preloadedState:{options:f},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},x.createElement(S9,{chartData:h.data}),x.createElement(G9,{layout:r.layout,margin:r.margin}),x.createElement(K9,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),x.createElement(Y9,bN({},r,{ref:s})))}),X0e=["axis"],t0=x.forwardRef((e,a)=>x.createElement(W9,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:X0e,tooltipPayloadSearcher:l_,categoricalChartProps:e,ref:a})),Z0e=["axis","item"],qh=x.forwardRef((e,a)=>x.createElement(W9,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Z0e,tooltipPayloadSearcher:l_,categoricalChartProps:e,ref:a}));function J0e(e){var a=Ea();return x.useEffect(()=>{a(j0e(e))},[a,e]),null}var Q0e=["layout"];function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},vN.apply(null,arguments)}function exe(e,a){if(e==null)return{};var s,n,r=txe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)s=l[n],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function txe(e,a){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(a.indexOf(n)!==-1)continue;s[n]=e[n]}return s}var axe={top:5,right:5,bottom:5,left:5},sxe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:axe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},nxe=x.forwardRef(function(a,s){var n,r=Vs(a.categoricalChartProps,sxe),{layout:l}=r,c=exe(r,Q0e),{chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:f}=a,g={chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(q9,{preloadedState:{options:g},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:u},x.createElement(S9,{chartData:r.data}),x.createElement(G9,{layout:l,margin:r.margin}),x.createElement(K9,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),x.createElement(J0e,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),x.createElement(Y9,vN({},c,{ref:s})))}),rxe=["item"],ixe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Tg=x.forwardRef((e,a)=>{var s=Vs(e,ixe);return x.createElement(nxe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:rxe,tooltipPayloadSearcher:l_,categoricalChartProps:s,ref:a})});function lxe(){const[e,a]=x.useState({leads:0,files:0,assistants:0,phone_numbers:0,knowledge_base:0}),[s,n]=x.useState(!0),[r,l]=x.useState(""),c="http://13.60.203.103",{width:u}=oxe(),m=(u||0)>=1024,h=!m;x.useEffect(()=>{let j=!0;return(async()=>{try{n(!0),l("");const S=localStorage.getItem("token"),k=`${c}/api/statistics`,_=await fetch(k,{method:"GET",headers:{Accept:"application/json",...S?{Authorization:`Bearer ${S}`}:{}},mode:"cors"});if(!_.ok){const T=await _.text();throw new Error(`HTTP ${_.status}${T?`  ${T}`:""}`)}const C=await _.json();if(!j)return;a({leads:Number((C==null?void 0:C.leads)??0),files:Number((C==null?void 0:C.files)??0),assistants:Number((C==null?void 0:C.assistants)??0),phone_numbers:Number((C==null?void 0:C.phone_numbers)??0),knowledge_base:Number((C==null?void 0:C.knowledge_base)??0)})}catch(S){if(!j)return;const k=S&&S.message||"Failed to load stats",_=k.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(k+_)}finally{j&&n(!1)}})(),()=>{j=!1}},[c]);const f={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4"},g=j=>{const k=Math.max(0,Number(j)||0),_=Array.from({length:12},(C,T)=>{const O=T/11,E=Math.sin(O*Math.PI)*.4,$=(Math.random()-.5)*.12,M=Math.max(0,Math.round(k*(.6+E+$)));return{label:`P${T+1}`,value:M}});return _.length&&(_[_.length-1].value=k),_},b=x.useMemo(()=>[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}],[e]),v=x.useMemo(()=>{const j=Math.max(1,e.leads+e.files+e.assistants+e.phone_numbers+e.knowledge_base);return[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}].map(S=>({...S,percent:S.value/j*100}))},[e]),w=x.useMemo(()=>[{key:"leads",label:"Leads",value:e.leads,icon:Za,series:g(e.leads),color:f.blue},{key:"files",label:"Files",value:e.files,icon:Yr,series:g(e.files),color:f.sky},{key:"assistants",label:"Assistants",value:e.assistants,icon:Ug,series:g(e.assistants),color:f.cyan},{key:"phone_numbers",label:"Phone Numbers",value:e.phone_numbers,icon:St,series:g(e.phone_numbers),color:f.sky},{key:"knowledge_base",label:"Knowledge Base",value:e.knowledge_base,icon:ho,series:g(e.knowledge_base),color:f.blue}],[e]);return t.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[r&&t.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:r}),t.jsx(cxe,{}),t.jsxs("header",{className:"w-full px-4 md:px-8 pt-10 pb-6 relative",children:[t.jsx(he.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"User Dashboard"}),t.jsxs(he.a,{href:"/user/AdvancedStatistics",initial:{opacity:0,y:-6,scale:.98},animate:{opacity:1,y:0,scale:1},whileHover:{y:-1,scale:1.015},whileTap:{scale:.985},transition:{duration:.4},className:`absolute right-4 top-10 md:right-8 inline-flex items-center gap-2 rounded-full px-4 py-2 text-white shadow-xl ring-1 ring-white/30\r
                     bg-gradient-to-r from-cyan-500 via-sky-500 to-blue-600\r
                     hover:shadow-2xl hover:brightness-110`,style:{backdropFilter:"blur(6px)"},"aria-label":"Open Advanced Statistics",children:[t.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Advanced"}),t.jsx(Uu,{className:"h-4 w-4"})]}),t.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Live stats  Animated charts  Arrow labels"})]}),t.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[t.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-5",children:w.map(j=>t.jsx(uxe,{...j,loading:s},j.key))}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsx(cw,{title:"Leads Trend (Synthetic)",children:t.jsx("div",{className:"h-72 w-full",children:t.jsx(Zn,{children:t.jsxs(t0,{data:w[0].series,margin:{top:12,right:20,left:-10,bottom:0},children:[t.jsxs("defs",{children:[t.jsxs("filter",{id:"glowLineMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"blur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),t.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),t.jsx(Zr,{strokeDasharray:"3 3",strokeOpacity:.2}),t.jsx(Jr,{dataKey:"label",tick:{fontSize:12}}),t.jsx(Qr,{tick:{fontSize:12}}),t.jsx(Qn,{contentStyle:{borderRadius:12}}),t.jsx(sm,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3.5,dot:!1,activeDot:{r:6},style:{filter:"url(#glowLineMain)"},isAnimationActive:!0,animationBegin:120,animationDuration:900,animationEasing:"ease"})]})})})}),t.jsx(cw,{title:"Overview by Metric",children:t.jsx("div",{className:"h-72 w-full",children:t.jsx(Zn,{children:t.jsxs(qh,{data:b,margin:{top:10,right:20,left:h?0:-10,bottom:0},children:[t.jsxs("defs",{children:[t.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"blur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),t.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})]}),t.jsx(Zr,{strokeDasharray:"3 3",strokeOpacity:.2}),t.jsx(Jr,{dataKey:"name",tick:{fontSize:12},hide:h}),t.jsx(Qr,{tick:{fontSize:12}}),t.jsx(Qn,{contentStyle:{borderRadius:12}}),t.jsx(fu,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},isAnimationActive:!0,animationBegin:140,animationDuration:800,animationEasing:"ease-out"})]})})})}),t.jsx(cw,{title:"Share by Metric",className:"lg:col-span-2",children:t.jsx("div",{className:"h-80 w-full",children:t.jsx(Zn,{children:t.jsx(pxe,{data:v,mode:m?"desktop":"compact"})})})})]}),t.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon (white/blue) dashboard."]})]})]})}function oxe(){const[e,a]=x.useState({width:null,height:null});return x.useEffect(()=>{function s(){a({width:window.innerWidth,height:window.innerHeight})}return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),e}function cxe(){return t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),t.jsx(he.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function cw({title:e,children:a,className:s=""}){return t.jsxs(he.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${s}`,children:[t.jsx(dxe,{}),t.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),a]})}function dxe(){return t.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[t.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),t.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function uxe({label:e,value:a,icon:s,series:n,color:r,loading:l}){const c=bo(0),u=bo(0),m=_u(u,[-50,50],[8,-8]),h=_u(c,[-50,50],[-8,8]),f=x.useRef(null);return t.jsxs(he.div,{ref:f,onMouseMove:g=>{var v;const b=(v=f.current)==null?void 0:v.getBoundingClientRect();b&&(c.set(g.clientX-b.left-b.width/2),u.set(g.clientY-b.top-b.height/2))},onMouseLeave:()=>{c.set(0),u.set(0)},style:{rotateX:m,rotateY:h},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${r}66, #ffffff00)`}}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:t.jsx(s,{className:"h-6 w-6",style:{color:r}})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("h3",{className:"text-2xl font-black text-slate-900",children:l?t.jsx(hxe,{}):t.jsx(mxe,{value:a})}),t.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:"Live"})]})]})]}),t.jsx("div",{className:"mt-3 h-20",children:l?t.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):t.jsx(Zn,{children:t.jsxs(t0,{data:n,margin:{top:2,right:8,left:-10,bottom:0},children:[t.jsx("defs",{children:t.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"blur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),t.jsx(Zr,{strokeDasharray:"3 3",strokeOpacity:.12}),t.jsx(Jr,{dataKey:"label",hide:!0}),t.jsx(Qr,{hide:!0,domain:[0,"dataMax+"]}),t.jsx(Qn,{contentStyle:{borderRadius:12}}),t.jsx(sm,{type:"monotone",dataKey:"value",stroke:r,strokeWidth:2.5,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"},isAnimationActive:!0,animationBegin:120,animationDuration:700})]})})})]})]})}function mxe({value:e,duration:a=800}){const[s,n]=x.useState(0);return x.useEffect(()=>{let r;const l=s,c=Number(e)||0,u=performance.now(),m=f=>1-Math.pow(1-f,3);function h(f){const g=Math.min(1,(f-u)/a);n(Math.round(l+(c-l)*m(g))),g<1&&(r=requestAnimationFrame(h))}return r=requestAnimationFrame(h),()=>cancelAnimationFrame(r)},[e]),t.jsx("span",{children:(s||0).toLocaleString()})}function hxe(){return t.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function fxe(e){const{cx:a,cy:s,midAngle:n,outerRadius:r,name:l,value:c,percent:u,laneSlot:m,sideRight:h,laneGap:f=24,fixedTy:g}=e,b=Math.PI/180,v=-n*b,w=r+6,j=a+Math.cos(v)*w,S=s+Math.sin(v)*w,k=r+22,_=a+Math.cos(v)*k,C=s+Math.sin(v)*k,T=!!h;let O=T?_+36:_-36,E=typeof g=="number"?g:s+m*f;const $=34,M=a+r+$,H=a-r-$;T?O=Math.max(O,M+12):O=Math.min(O,H-12);const F=(typeof m=="number"?m:0)*18,B=T?_+16:_-16,ee=C+F*.25,we=T?O-22:O+22,ne=E+F*.75,A=typeof u=="number"?Math.round(u*100):0,U=`${l}`,K=`${c}  ${A}%`,z=Math.max(136,U.length*8+K.length*4.2),I=T?0:-z,D=T?"start":"end";return t.jsxs(he.g,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.42},whileHover:{scale:1.02,transition:{duration:.15}},pointerEvents:"none",children:[t.jsx("path",{d:`M ${j},${S} C ${B},${ee} ${we},${ne} ${O},${E}`,stroke:"url(#neonStroke)",strokeWidth:"6",strokeOpacity:"0.22",fill:"none",filter:"url(#neonGlow)"}),t.jsxs("path",{d:`M ${j},${S} C ${B},${ee} ${we},${ne} ${O},${E}`,stroke:"url(#neonStroke)",strokeWidth:"2.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",markerEnd:"url(#arrowheadGrad)",children:[t.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;40,200;0,200",dur:"3s",repeatCount:"indefinite"}),t.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-60;0",dur:"3s",repeatCount:"indefinite"})]}),t.jsxs("g",{transform:`translate(${O}, ${E})`,children:[t.jsx("rect",{x:I-6,y:-22,rx:"14",ry:"14",width:z+12,height:40,fill:"url(#pillGlow)",opacity:"0.55",filter:"url(#pillBlur)"}),t.jsx("rect",{x:I,y:-18,rx:"12",ry:"12",width:z,height:32,fill:"url(#pillGrad)",stroke:"url(#pillStroke)",strokeWidth:"1"}),t.jsx("text",{x:I+(T?14:z-14),y:-2,textAnchor:D,fill:"url(#labelTextGrad)",style:{fontSize:12.5,fontWeight:800,letterSpacing:.2},children:U}),t.jsx("text",{x:I+(T?14:z-14),y:12,textAnchor:D,className:"fill-slate-700",style:{fontSize:11.2,fontWeight:600,opacity:.85},children:K})]})]})}function xxe(e){const a=Math.PI/180,{cx:s,cy:n,midAngle:r,innerRadius:l,outerRadius:c,name:u,value:m,percent:h}=e,f=l+(c-l)*.58,g=s+Math.cos(-r*a)*f,b=n+Math.sin(-r*a)*f,v=Math.round((h||0)*100);return v<7?null:t.jsxs("g",{children:[t.jsx("text",{x:g,y:b-6,textAnchor:"middle",className:"fill-slate-800",style:{fontSize:11.5,fontWeight:800},children:u}),t.jsxs("text",{x:g,y:b+10,textAnchor:"middle",className:"fill-slate-600",style:{fontSize:10.5,fontWeight:700},children:[m,"  ",v,"%"]})]})}function pxe({data:e,mode:a="desktop",width:s,height:n}){const u=Math.PI/180,m=e.reduce((F,B)=>F+(Number(B.value)||0),0),h=(s||0)*.5,f=(n||0)*.5,g=a==="desktop";if(m===0)return t.jsxs(Tg,{width:s,height:n,children:[t.jsx(wf,{data:[{name:"No data",value:1}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:110,innerRadius:70,fill:"#e5e7eb",stroke:"#cbd5e1",isAnimationActive:!0}),t.jsx("text",{x:h,y:f,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-500",style:{fontSize:12},children:"No data"})]});const b=-90,w=270-b;let j=b;const k=e.map((F,B)=>({index:B,value:Number(F.value)||0})).filter(F=>F.value>0).map(F=>{const B=m?F.value/m*w:0,ee=j+B/2;j+=B;const we=-ee*u,ne=Math.cos(we)>=0,A=f+Math.sin(we)*110;return{index:F.index,ang:we,right:ne,ty0:A,mid:ee}}),_=k.filter(F=>!F.right).sort((F,B)=>F.ty0-B.ty0),C=k.filter(F=>F.right).sort((F,B)=>F.ty0-B.ty0),T=28,O=40,E=f-(110+O),$=f+(110+O),M=F=>{if(!F.length)return[];const B=F.length,ee=$-E,we=Math.min(Math.max(T,B>1?ee/(B-1):T),36),ne=new Array(B);ne[0]=Math.max(F[0].ty0,E);for(let U=1;U<B;U++)ne[U]=Math.max(F[U].ty0,ne[U-1]+we);const A=ne[B-1]-$;if(A>0){for(let U=0;U<B;U++)ne[U]-=A;if(ne[0]<E){const U=E-ne[0];for(let K=0;K<B;K++)ne[K]+=U}}return ne},H=M(_),V=M(C);return t.jsxs(Tg,{width:s,height:n,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),t.jsx("stop",{offset:"50%",stopColor:"#60a5fa"}),t.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),t.jsxs("marker",{id:"arrowheadGrad",markerWidth:"12",markerHeight:"8",refX:"10",refY:"4",orient:"auto",children:[t.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"url(#neonStroke)"}),t.jsxs("filter",{id:"arrowGlow",children:[t.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.8",result:"b"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"b"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsxs("filter",{id:"neonGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),t.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.2  0 0 0 0 0.6  0 0 0 0 1  0 0 0 1 0"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("linearGradient",{id:"pillGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),t.jsx("stop",{offset:"100%",stopColor:"#eff6ff"})]}),t.jsxs("linearGradient",{id:"pillStroke",x1:"0",y1:"0",x2:"1",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:"#a5f3fc"}),t.jsx("stop",{offset:"100%",stopColor:"#93c5fd"})]}),t.jsxs("radialGradient",{id:"pillGlow",cx:"50%",cy:"50%",r:"60%",children:[t.jsx("stop",{offset:"0%",stopColor:"#67e8f9",stopOpacity:"0.6"}),t.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),t.jsx("filter",{id:"pillBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:t.jsx("feGaussianBlur",{stdDeviation:"8"})}),t.jsxs("linearGradient",{id:"labelTextGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),t.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),t.jsxs("linearGradient",{id:"pieGradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),t.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),t.jsx(Qn,{contentStyle:{borderRadius:12}}),t.jsx(wf,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",startAngle:-90,endAngle:270,outerRadius:110,innerRadius:70,paddingAngle:2,isAnimationActive:!0,animationBegin:140,animationDuration:900,animationEasing:"ease-out",label:g?F=>{if(!(F&&F.value>0))return null;const B=Math.PI/180,ee=Math.cos(-F.midAngle*B)>=0,ne=(ee?C:_).findIndex(z=>z.index===F.index);if(ne===-1)return null;const A=ee?V:H,U=A[ne];if(typeof U!="number")return null;const K=ne-(A.length-1)/2;return t.jsx(fxe,{...F,laneSlot:K,sideRight:ee,fixedTy:U,laneGap:30})}:F=>t.jsx(xxe,{...F}),labelLine:!1,children:e.map((F,B)=>t.jsx(ll,{fill:B===0?"url(#pieGradBlue)":["#bfe9ff","#8ed8ff","#60cfff","#a3d8ff"][B-1]||"#bfe9ff",stroke:"#ffffff",strokeOpacity:.9},`cell-${B}`))})]})}const gxe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://13.60.203.103"};var NP={};const SP=typeof import.meta<"u"&&gxe&&"http://13.60.203.103"||typeof process<"u"&&NP&&NP.NEXT_PUBLIC_API_URL||"http://localhost:8000";function Ad(...e){return e.filter(Boolean).join(" ")}function _P({iso:e}){if(!e||typeof e!="string"||e.length!==2)return null;const a=[...e.toUpperCase()].map(s=>127397+s.charCodeAt(0));return t.jsx("span",{className:"mr-1","aria-hidden":!0,children:String.fromCodePoint(...a)})}function bxe({open:e,onClose:a,onConfirm:s,numbers:n=[]}){if(!e)return null;const r=n.slice(0,5),l=Math.max(0,n.length-r.length);return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[t.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:"Confirm Purchase"}),t.jsxs("p",{className:"mb-4 text-gray-700",children:["You are about to purchase"," ",t.jsx("span",{className:"font-semibold",children:n.length})," ","number",n.length>1?"s":"","."]}),t.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 max-h-48 overflow-auto border border-gray-100 mb-5",children:[r.map(c=>t.jsx("div",{className:"font-mono text-sm text-gray-800 py-0.5",children:c},c)),l>0&&t.jsxs("div",{className:"text-xs text-gray-500",children:["and ",l," more"]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition",children:"Cancel"}),t.jsx("button",{onClick:()=>s(n),className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Yes, Buy"})]})]})})}function vxe(){const[e,a]=x.useState("US"),[s,n]=x.useState([]),[r,l]=x.useState(!1),[c,u]=x.useState(!1),[m,h]=x.useState(""),[f,g]=x.useState(20),[b,v]=x.useState(1),[w,j]=x.useState(!1),[S,k]=x.useState([]),_=10,C=[{code:"US",name:"United States",flag:""},{code:"CA",name:"Canada",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],T=()=>{try{return localStorage.getItem("token")}catch{return null}},O=K=>K.split(/[,\s]+/).map(z=>z.trim()).filter(Boolean),[E,$]=x.useState(()=>new Set),M=K=>E.has(K),H=K=>{$(z=>{const I=new Set(z);return I.has(K)?I.delete(K):I.add(K),I})},V=()=>$(new Set),F=x.useMemo(()=>{const K=b*_,z=K-_;return s.slice(z,K)},[s,b]),B=Math.ceil(s.length/_)||1,ee=async()=>{const K=O(m);l(!0);try{const z=T(),I=await fetch(`${SP}/api/available_phone_numbers`,{method:"POST",headers:{"Content-Type":"application/json",...z?{Authorization:`Bearer ${z}`}:{}},body:JSON.stringify({country:e,area_codes:K.length?K:null,limit:f})}),D=await I.json();if(!I.ok){const Z=D&&D.detail&&(D.detail.error||D.detail)||(D==null?void 0:D.message)||"Failed to fetch phone numbers.";n([]),L.error(Z);return}const R=Array.isArray(D)?D:[];n(R),v(1),V(),R.length===0&&L.info("No numbers found for your query.")}catch(z){console.error(z),n([]),L.error("Network error while fetching numbers.")}finally{l(!1)}},we=async K=>{if(K!=null&&K.length){u(!0);try{const z=T(),I=await fetch(`${SP}/api/purchase_phone_number`,{method:"POST",headers:{"Content-Type":"application/json",...z?{Authorization:`Bearer ${z}`}:{}},body:JSON.stringify({phone_number:K})}),D=await I.json();if(!I.ok||!(D!=null&&D.success)){const R=D&&D.detail&&(D.detail.error||D.detail)||(D==null?void 0:D.message)||"Failed to purchase numbers.";L.error(R);return}n(R=>R.filter(Z=>!K.includes(Z.phone_number))),V(),L.success(` Purchased ${K.length} number${K.length>1?"s":""}.`)}catch(z){console.error(z),L.error("Network error while purchasing.")}finally{u(!1),j(!1),k([])}}},ne=K=>{if(!K)return"";if(e==="US"||e==="CA"){const I=K.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);if(I)return`+1 (${I[1]}) ${I[2]}-${I[3]}`}return K},A=async K=>{try{await navigator.clipboard.writeText(K),L.success("Copied!")}catch{L.error("Copy failed.")}},U=(()=>{const K=s.length===0?0:(b-1)*_+1,z=Math.min(b*_,s.length);return{start:K,end:z}})();return t.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_55%),linear-gradient(to_bottom,white,white)]",children:[t.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-blue-600 via-purple-600 to-fuchsia-500"}),t.jsx(bxe,{open:w,onClose:()=>j(!1),onConfirm:K=>we(K),numbers:S}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[t.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:t.jsx(St,{className:"w-8 h-8"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:"Premium Phone Numbers"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Search, select, and purchase numbers worldwide in seconds."})]})]}),t.jsx("div",{className:"grid grid-cols-3 gap-3 lg:ml-auto w-full lg:w-auto",children:[{label:"Available",value:s.length?`${s.length}+`:""},{label:"Uptime",value:"99.9%"},{label:"Support",value:"24/7"}].map((K,z)=>t.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50/60 px-4 py-3 text-center hover:shadow transition",children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:K.value}),t.jsx("div",{className:"text-xs text-gray-500",children:K.label})]},z))})]})}),t.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:t.jsx(Us,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Number"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"lg:col-span-1",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(wi,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Country"]}),t.jsx("select",{value:e,onChange:K=>a(K.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:C.map(K=>t.jsxs("option",{value:K.code,children:[K.flag," ",K.name]},K.code))})]}),t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(Us,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Area Codes (comma-separated, optional)"]}),t.jsx("input",{type:"text",value:m,onChange:K=>h(K.target.value),placeholder:"e.g., 212, 415",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),t.jsxs("div",{className:"lg:col-span-1",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(_i,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Results Limit"]}),t.jsxs("select",{value:f,onChange:K=>g(Number.parseInt(K.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:20,children:"20"}),t.jsx("option",{value:50,children:"50"}),t.jsx("option",{value:100,children:"100"})]})]}),t.jsx("div",{className:"lg:col-span-1 flex items-end",children:t.jsx("button",{onClick:ee,disabled:r,className:Ad("w-full px-6 py-3 rounded-xl font-semibold text-white transition shadow-sm",r?"bg-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"),children:r?t.jsxs("span",{className:"inline-flex items-center justify-center",children:[t.jsx(Ma,{className:"w-5 h-5 animate-spin mr-2"}),"Searching"]}):t.jsxs("span",{className:"inline-flex items-center justify-center",children:[t.jsx(Us,{className:"w-5 h-5 mr-2"}),"Search"]})})})]}),t.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Tip: leave area codes empty to search nationwide."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{const K=F.map(I=>I.phone_number),z=K.every(I=>E.has(I));$(I=>{const D=new Set(I);return z?K.forEach(R=>D.delete(R)):K.forEach(R=>D.add(R)),D})},className:"px-3 py-2 rounded-lg border text-sm hover:bg-gray-50 transition",children:F.every(K=>E.has(K.phone_number))?"Unselect Page":"Select Page"}),t.jsx("button",{onClick:()=>{if(E.size===0){L.info("Select numbers first.");return}const K=Array.from(E);k(K),j(!0)},disabled:E.size===0||c,className:Ad("px-4 py-2 rounded-lg font-semibold transition shadow-sm",E.size===0||c?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx(xx,{className:"w-4 h-4"}),"Buy Selected (",E.size,")"]})})]})]})]}),t.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[t.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(St,{className:"w-4 h-4 text-white"})}),t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:r?"Searching":`Available Numbers (${s.length})`})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",U.start,"  ",U.end," of"," ",s.length]})]})}),r?t.jsx("div",{className:"p-6 sm:p-8",children:t.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((K,z)=>t.jsx("div",{className:"h-16 rounded-xl bg-gray-100 animate-pulse"},z))})}):s.length===0?t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsxs("div",{className:"text-center max-w-sm",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(St,{className:"w-10 h-10 text-gray-400"})}),t.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No numbers available"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Try different area codes or another country."}),t.jsx("button",{onClick:ee,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden lg:block overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Select"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Phone Number"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Region"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Capabilities"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:F.map((K,z)=>{var D,R,Z;const I=M(K.phone_number);return t.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>H(K.phone_number),className:"text-gray-700 hover:scale-105 transition","aria-label":I?"Unselect":"Select",children:I?t.jsx(UC,{className:"w-5 h-5 text-blue-600"}):t.jsx(wu,{className:"w-5 h-5"})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:t.jsx(St,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ne(K.phone_number)}),t.jsx("button",{onClick:()=>A(K.phone_number),className:"p-1 rounded hover:bg-gray-100 transition",title:"Copy",children:t.jsx(la,{className:"w-4 h-4 text-gray-500"})})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[t.jsx(ki,{className:"w-4 h-4 text-gray-500 mr-2"}),t.jsx(_P,{iso:K.iso_country}),K.region||"N/A"]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[((D=K.capabilities)==null?void 0:D.SMS)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((R=K.capabilities)==null?void 0:R.MMS)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((Z=K.capabilities)==null?void 0:Z.voice)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>{k([K.phone_number]),j(!0)},disabled:c,className:Ad("px-5 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?t.jsxs("span",{className:"inline-flex items-center",children:[t.jsx(Ma,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):t.jsxs("span",{className:"inline-flex items-center",children:[t.jsx(xx,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})})]},z)})})]})}),t.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:F.map((K,z)=>{var D,R,Z;const I=M(K.phone_number);return t.jsxs("div",{className:"p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("button",{onClick:()=>H(K.phone_number),className:"text-gray-700 mr-3","aria-label":I?"Unselect":"Select",children:I?t.jsx(UC,{className:"w-5 h-5 text-blue-600"}):t.jsx(wu,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:t.jsx(St,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ne(K.phone_number)}),t.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-700",children:[t.jsx(ki,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx(_P,{iso:K.iso_country}),K.region||"N/A"]}),t.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[((D=K.capabilities)==null?void 0:D.SMS)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((R=K.capabilities)==null?void 0:R.MMS)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((Z=K.capabilities)==null?void 0:Z.voice)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})]})]}),t.jsx("button",{onClick:()=>A(K.phone_number),className:"p-1 rounded hover:bg-gray-100 ml-3",title:"Copy",children:t.jsx(la,{className:"w-4 h-4 text-gray-500"})})]}),t.jsx("button",{onClick:()=>{k([K.phone_number]),j(!0)},disabled:c,className:Ad("mt-4 w-full px-4 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?t.jsxs("span",{className:"inline-flex items-center",children:[t.jsx(Ma,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):t.jsxs("span",{className:"inline-flex items-center",children:[t.jsx(xx,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},z)})})]}),s.length>_&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[t.jsxs("div",{className:"text-sm text-gray-700 mb-3 sm:mb-0",children:["Showing ",U.start," to ",U.end," of ",s.length," results"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>v(K=>Math.max(1,K-1)),disabled:b===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,B)},(K,z)=>{let I;return B<=5||b<=3?I=z+1:b>=B-2?I=B-4+z:I=b-2+z,t.jsx("button",{onClick:()=>v(I),className:Ad("px-3 py-2 text-sm font-medium rounded-lg transition",b===I?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:I},I)})}),t.jsx("button",{onClick:()=>v(K=>Math.min(B,K+1)),disabled:b>=B,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]}),E.size>0&&t.jsx("div",{className:"fixed bottom-4 inset-x-0 px-4 sm:px-6 lg:px-8 z-40",children:t.jsxs("div",{className:"max-w-7xl mx-auto rounded-2xl bg-white/90 backdrop-blur border border-gray-200 shadow-lg p-3 sm:p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm sm:text-base",children:[t.jsx("span",{className:"font-semibold",children:E.size})," selected"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:V,className:"px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 transition text-sm",children:"Clear"}),t.jsx("button",{onClick:()=>{const K=Array.from(E);k(K),j(!0)},disabled:c,className:Ad("px-4 py-2 rounded-lg font-semibold text-white transition text-sm",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx(xx,{className:"w-4 h-4"}),"Buy Selected"]})})]})]})})]})}function yxe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const jxe=x.forwardRef(yxe);function wxe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const yN=x.forwardRef(wxe);function Nxe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const X9=x.forwardRef(Nxe);function Sxe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Gh=x.forwardRef(Sxe);function _xe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Dh=x.forwardRef(_xe);function kxe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Lh=x.forwardRef(kxe);function Cxe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const kP=x.forwardRef(Cxe);function Axe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Z9=x.forwardRef(Axe);function Exe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Txe=x.forwardRef(Exe);function Oxe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Og=x.forwardRef(Oxe);function Pxe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const jN=x.forwardRef(Pxe);function Mxe({title:e,titleId:a,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},s),e?x.createElement("title",{id:a},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const xu=x.forwardRef(Mxe),Dxe="http://13.60.203.103",Lxe=[`${Dxe}/api`];function Rxe(){var _e,te,Y,Se,me;const e=ba(),[a,s]=x.useState({name:"",email:""}),[n,r]=x.useState(!1),[l,c]=x.useState(null),[u,m]=x.useState(!1),[h,f]=x.useState(!1),g=x.useRef(null),[b,v]=x.useState(!1),[w,j]=x.useState({old:!1,next:!1}),[S,k]=x.useState({old_password:"",new_password:""}),[_,C]=x.useState(!1),[T,O]=x.useState({sid:"",token:"",validate:!0}),[E,$]=x.useState(null),[M,H]=x.useState(!1),[V,F]=x.useState({sid:!1,token:!1}),[B,ee]=x.useState(!1),[we,ne]=x.useState(!1),[A,U]=x.useState(!1),[K,z]=x.useState(!1),[I,D]=x.useState(""),[R,Z]=x.useState(!1),[de,le]=x.useState(!1),[be,Ue]=x.useState(!1),[xe,ve]=x.useState(!1),Ie=()=>localStorage.getItem("token")||"",Ye=()=>Ie()?{Authorization:`Bearer ${Ie()}`}:{},ke=()=>Ie()?!0:(L.error("Authentication required. Please login again."),e("/login"),!1),Je=async(X,Te={},{expectJson:He=!0}={})=>{const Ve=[];for(const nt of Lxe)try{const Oe=await fetch(`${nt}${X}`,Te);if(Oe.status===401||Oe.status===403){const pt=await Oe.text().catch(()=>"");throw new Error(pt||"Unauthorized")}if(Oe.ok)return He?await Oe.json():Oe;if(Oe.status===404){Ve.push({base:nt,status:404});continue}const We=await Oe.json().catch(()=>({}));throw new Error((We==null?void 0:We.detail)||`Request failed (${Oe.status})`)}catch(Oe){if(Ve.push({base:nt,err:Oe==null?void 0:Oe.message}),(Oe==null?void 0:Oe.message)==="Unauthorized")throw Oe}const rt=Ve!=null&&Ve.length?`Request failed on all bases: ${Ve.map(nt=>`${nt.base}${nt.status||nt.err}`).join(" | ")}`:"Network error";throw new Error(rt)};x.useEffect(()=>{(async()=>{var X,Te,He;if(ke())try{const Ve=await Je("/user-info",{headers:{...Ye(),Accept:"application/json"}});s({name:((X=Ve==null?void 0:Ve.data)==null?void 0:X.name)||"",email:((Te=Ve==null?void 0:Ve.data)==null?void 0:Te.email)||""});const rt=(He=Ve==null?void 0:Ve.data)==null?void 0:He.profile_photo_url;if(rt)c(rt+(rt.includes("?")?"&":"?")+"t="+Date.now());else try{const nt=await Je("/profile-photo?redirect=false",{headers:{...Ye(),Accept:"application/json"}}),Oe=nt==null?void 0:nt.photo_url;Oe&&c(Oe+(Oe.includes("?")?"&":"?")+"t="+Date.now())}catch{}}catch{L.error("Unable to load profile")}finally{r(!0)}})()},[]),x.useEffect(()=>{(async()=>{if(ke())try{const X=await Je("/twilio/credentials",{headers:{...Ye(),Accept:"application/json"}});$(X)}catch{}})()},[]),x.useEffect(()=>{(async()=>{if(ke())try{const X=await Je("/consent",{headers:{...Ye(),Accept:"application/json"}});z(!!(X!=null&&X.has_consent)),D((X==null?void 0:X.note)||""),Z(!!(X!=null&&X.needs_action))}catch{z(!1),D(""),Z(!0)}finally{le(!0)}})()},[]);const Xe=async X=>{var Te;if((Te=X==null?void 0:X.preventDefault)==null||Te.call(X),!!ke()){if(!a.name.trim())return L.error("Name is required");if(!a.email.trim())return L.error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email))return L.error("Please enter a valid email");U(!0);try{await Je("/update-profile",{method:"POST",headers:{"Content-Type":"application/json",...Ye(),Accept:"application/json"},body:JSON.stringify({name:a.name,email:a.email})}),localStorage.setItem("name",a.name),L.success("Profile updated")}catch(He){L.error(He.message||"Update failed")}finally{U(!1)}}},ue=async X=>{var Te;if((Te=X==null?void 0:X.preventDefault)==null||Te.call(X),!!ke()){if(!S.old_password||!S.new_password)return L.error("Please fill both password fields");if(S.new_password.length<8)return L.error("New password must be at least 8 characters");C(!0);try{await Je("/change-password",{method:"POST",headers:{"Content-Type":"application/json",...Ye(),Accept:"application/json"},body:JSON.stringify(S)}),L.success("Password changed successfully"),k({old_password:"",new_password:""})}catch(He){L.error(He.message||"Password change failed")}finally{C(!1)}}},ie=async X=>{var Ve;if((Ve=X==null?void 0:X.preventDefault)==null||Ve.call(X),!ke())return;const Te=T.sid.trim(),He=T.token.trim();if(!Te||!He)return L.error("Please enter both Account SID and Auth Token");if(!Te.startsWith("AC")||Te.length<20)return L.error("Account SID should start with AC");if(He.length<10)return L.error("Auth Token looks too short");H(!0);try{const rt=await Je("/twilio/credentials",{method:"PUT",headers:{"Content-Type":"application/json",...Ye(),Accept:"application/json"},body:JSON.stringify({account_sid:Te,auth_token:He,validate:!!T.validate})});$((rt==null?void 0:rt.masked)||null),O({sid:"",token:"",validate:!0}),L.success("Twilio credentials saved")}catch(rt){L.error(rt.message||"Failed to save Twilio credentials")}finally{H(!1)}},De=async()=>{if(ke()){if(!K)return L.error("Please confirm you have consent to call these leads.");Ue(!0);try{const X=await Je("/consent",{method:"POST",headers:{"Content-Type":"application/json",...Ye(),Accept:"application/json"},body:JSON.stringify({has_consent:!0,note:I||null})});Z(!!(X!=null&&X.needs_action)),X!=null&&X.needs_action?L.info("Action still required to finalize consent."):L.success("Consent saved.")}catch(X){L.error(X.message||"Failed to save consent")}finally{Ue(!1)}}},G=async()=>{if(ke()){ve(!0);try{await Je("/consent",{method:"DELETE",headers:{...Ye(),Accept:"application/json"}}),z(!1),D(""),Z(!0),L.success("Consent reset.")}catch(X){L.error(X.message||"Failed to reset consent")}finally{ve(!1)}}},ce=async X=>{if(!X||!ke())return;if(!["image/png","image/jpeg","image/webp"].includes(X.type))return L.error("Please upload PNG, JPG or WebP");if(X.size>5*1024*1024)return L.error("Max file size is 5MB");m(!0);try{const He=new FormData;He.append("file",X);const Ve=await Je("/profile-photo",{method:"POST",headers:{...Ye()},body:He}),rt=Ve==null?void 0:Ve.photo_url;if(!rt)throw new Error("Upload returned no URL");c(rt+(rt.includes("?")?"&":"?")+"t="+Date.now()),L.success("Profile photo updated")}catch(He){L.error(He.message||"Upload failed")}finally{m(!1)}},$e=async()=>{if(ke()){f(!0);try{await Je("/profile-photo",{method:"DELETE",headers:{...Ye(),Accept:"application/json"}}),c(null),L.success("Profile photo removed")}catch(X){L.error(X.message||"Delete failed")}finally{f(!1)}}},qe=X=>{X.preventDefault(),v(!1);const Te=X.dataTransfer.files&&X.dataTransfer.files[0]||void 0;ce(Te)},ye=X=>{X.preventDefault(),v(!0)},Be=X=>{X.preventDefault(),v(!1)};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[t.jsx("div",{className:"border-b border-slate-200 bg-white/70 backdrop-blur",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs(he.div,{className:"flex items-center gap-3 py-6",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-600 grid place-items-center shadow-md",children:t.jsx(xu,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Account Settings"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your profile, security and preferences"})]})]})})}),t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[t.jsx(he.section,{className:"lg:col-span-4 lg:order-10 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(Txe,{className:"w-5 h-5 text-blue-600"}),"Profile Photo"]}),t.jsxs("div",{className:"mt-5 flex items-center gap-4",children:[t.jsxs("div",{className:"relative shrink-0",children:[t.jsx("div",{className:"rounded-full p-[6px] bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 shadow-[0_8px_24px_rgba(59,130,246,0.25)]",children:t.jsx("div",{className:"rounded-full bg-white p-1",children:t.jsx("div",{className:"rounded-full overflow-hidden w-24 h-24",children:t.jsx(jt,{mode:"wait",children:l?t.jsx(he.img,{src:l,alt:"Profile",className:"w-full h-full object-cover",onError:()=>c(null),initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2}},l):t.jsx(he.div,{className:"w-full h-full bg-gradient-to-br from-blue-600 to-cyan-500 grid place-items-center text-white text-2xl font-bold",initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:((me=(Se=(Y=(te=(_e=a.name)==null?void 0:_e.split(" "))==null?void 0:te.map(X=>X[0]))==null?void 0:Y.join(""))==null?void 0:Se.toUpperCase())==null?void 0:me.slice(0,2))||"U"},"initials")})})})}),t.jsx("span",{className:"absolute -right-1 -bottom-1 h-4 w-4 rounded-full bg-emerald-400 ring-2 ring-white"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-slate-900 font-semibold leading-tight truncate",children:a.name||"User"}),t.jsx("p",{className:"text-slate-600 text-sm break-all",children:a.email||"-"})]})]}),t.jsxs("div",{className:`mt-5 rounded-xl border-2 ${b?"border-blue-400 bg-blue-50/60":"border-dashed border-slate-300"} p-4 transition-colors`,onDrop:qe,onDragOver:ye,onDragLeave:Be,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600/90 grid place-items-center text-white shrink-0",children:t.jsx(jxe,{className:"w-5 h-5"})}),t.jsxs("div",{className:"text-sm",children:[t.jsxs("p",{className:"font-semibold text-slate-900",children:["Drag & drop a photo here, or"," ",t.jsx("button",{type:"button",onClick:()=>{var X;return(X=g.current)==null?void 0:X.click()},className:"text-blue-600 underline underline-offset-2 hover:opacity-80",children:"choose file"})]}),t.jsx("p",{className:"text-slate-600",children:"PNG, JPG, or WebP up to 5MB. Square images look best."})]})]}),t.jsx("input",{ref:g,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:X=>{var Te;return ce((Te=X.target.files)==null?void 0:Te[0])}})]}),t.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{var X;return(X=g.current)==null?void 0:X.click()},disabled:u,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50",children:u?"Uploading...":"Upload New"}),t.jsx("button",{type:"button",onClick:$e,disabled:h||!l,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:h?"Removing...":"Remove"})]})]})}),t.jsx(he.section,{className:"lg:col-span-8 lg:order-20 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.05},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"h-9 w-9 rounded-lg bg-blue-600 grid place-items-center",children:t.jsx(xu,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Profile Information"})]}),t.jsxs("form",{onSubmit:Xe,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[t.jsx(xu,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),t.jsx("input",{type:"text",value:a.name,onChange:X=>s({...a,name:X.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:!n||A,required:!0})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[t.jsx(X9,{className:"w-4 h-4 inline mr-2 text-emerald-500"}),"Email Address"]}),t.jsx("input",{type:"email",value:a.email,onChange:X=>s({...a,email:X.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",disabled:!n||A,required:!0})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsx("button",{type:"submit",disabled:!n||A,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:A?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),t.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(yN,{className:"w-4 h-4"}),"Save Changes"]})})})]})]})}),t.jsx(he.section,{className:"lg:col-span-8 lg:order-30 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.08},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-600 grid place-items-center",children:t.jsx(Og,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Consent to Call"})]}),de?R?t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-amber-50 text-amber-700 border border-amber-200",children:"Action Required"}):K?t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-200",children:"Confirmed"}):t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-slate-100 text-slate-700 border border-slate-200",children:"Not Set"}):null]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-start gap-3 rounded-xl border border-slate-200 p-3 bg-slate-50",children:[t.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 accent-emerald-600",checked:!!K,onChange:X=>z(X.target.checked),disabled:!de||be}),t.jsx("span",{className:"text-sm text-slate-800",children:"I confirm that I have valid consent to contact these leads using the phone numbers provided."})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500",children:"Optional Note"}),t.jsx("textarea",{rows:3,value:I,onChange:X=>D(X.target.value),placeholder:"Describe how consent was obtained (e.g., web form opt-in, CRM tag, import source)",className:"mt-1 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400",disabled:!de||be})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("button",{type:"button",onClick:De,disabled:!de||be||!K,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700 disabled:opacity-50",children:be?"Saving":"Save Consent"}),t.jsx("button",{type:"button",onClick:G,disabled:!de||xe,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:xe?"Resetting":"Reset Consent"})]}),R&&t.jsxs("div",{className:"inline-flex items-center gap-2 text-[13px] text-amber-700 bg-amber-50 border border-amber-200 px-2.5 py-1.5 rounded-lg",children:[t.jsx(Gh,{className:"w-4 h-4"}),"Please confirm consent to enable calling features."]})]})]})}),t.jsx(he.section,{className:"lg:col-span-4 lg:order-40 rounded-2xl border border-red-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.1},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-600 grid place-items-center",children:t.jsx(Gh,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Danger Zone"})]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[t.jsx("p",{className:"text-red-900 font-semibold mb-1",children:"Delete Account"}),t.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),t.jsxs("button",{onClick:()=>ee(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:[t.jsx(jN,{className:"w-4 h-4"}),"Delete Account"]})]})]})}),t.jsx(he.section,{className:"lg:col-span-12 lg:order-45 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.09},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-600 grid place-items-center",children:t.jsx(kP,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Twilio Credentials"})]}),E?t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-200",children:"Connected"}):t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-slate-100 text-slate-700 border border-slate-200",children:"Not Connected"})]}),E&&t.jsxs("div",{className:"mb-4 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-900 break-words",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Account SID:"})," ",E.account_sid]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Auth Token:"})," ",E.auth_token]})]}),t.jsxs("form",{onSubmit:ie,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Account SID"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:V.sid?"text":"password",value:T.sid,onChange:X=>O(Te=>({...Te,sid:X.target.value})),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),t.jsx("button",{type:"button",onClick:()=>F(X=>({...X,sid:!X.sid})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":V.sid?"Hide SID":"Show SID",children:V.sid?t.jsx(Dh,{className:"w-5 h-5"}):t.jsx(Lh,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Auth Token"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:V.token?"text":"password",value:T.token,onChange:X=>O(Te=>({...Te,token:X.target.value})),placeholder:"",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),t.jsx("button",{type:"button",onClick:()=>F(X=>({...X,token:!X.token})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":V.token?"Hide Token":"Show Token",children:V.token?t.jsx(Dh,{className:"w-5 h-5"}):t.jsx(Lh,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"We store your credentials on your user record and only use them to manage Twilio on your behalf."})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-cyan-600",checked:T.validate,onChange:X=>O(Te=>({...Te,validate:X.target.checked}))}),t.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]})}),t.jsx("div",{className:"md:col-span-2",children:t.jsx("button",{type:"submit",disabled:M,className:"w-full sm:w-auto inline-flex items-center gap-2 bg-cyan-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:opacity-50",children:M?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),t.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving"]}):t.jsxs(t.Fragment,{children:[t.jsx(kP,{className:"w-4 h-4"}),"Save Twilio Credentials"]})})})]})]})}),t.jsx(he.section,{className:"lg:col-span-12 lg:order-50 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.12},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"h-9 w-9 rounded-lg bg-purple-600 grid place-items-center",children:t.jsx(Z9,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Change Password"})]}),t.jsxs("form",{onSubmit:ue,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:w.old?"text":"password",value:S.old_password,onChange:X=>k({...S,old_password:X.target.value}),placeholder:"Enter current password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:1}),t.jsx("button",{type:"button",onClick:()=>j(X=>({...X,old:!X.old})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.old?t.jsx(Dh,{className:"w-5 h-5"}):t.jsx(Lh,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:w.next?"text":"password",value:S.new_password,onChange:X=>k({...S,new_password:X.target.value}),placeholder:"Enter new password (min 8 chars)",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:8}),t.jsx("button",{type:"button",onClick:()=>j(X=>({...X,next:!X.next})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.next?t.jsx(Dh,{className:"w-5 h-5"}):t.jsx(Lh,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsx("button",{type:"submit",disabled:_,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:_?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),t.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Og,{className:"w-4 h-4"}),"Update Password"]})})})]})]})})]})}),t.jsx(jt,{children:B&&t.jsx(he.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.jsxs(he.div,{className:"w-full max-w-md rounded-2xl bg-white shadow-xl border border-slate-200 p-6",initial:{y:20,opacity:.9},animate:{y:0,opacity:1},exit:{y:12,opacity:0},transition:{type:"spring",stiffness:260,damping:22},children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-600 grid place-items-center",children:t.jsx(Gh,{className:"w-5 h-5 text-white"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Delete"})]}),t.jsx("p",{className:"text-slate-600",children:"Are you sure you want to delete your account? This action cannot be undone."}),t.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[t.jsx("button",{onClick:()=>ee(!1),disabled:we,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-800 text-white font-medium",children:"Cancel"}),t.jsx("button",{onClick:async()=>{if(ke()){ne(!0);try{await Je("/delete-account",{method:"DELETE",headers:{...Ye(),Accept:"application/json"}}),L.success("Account deleted"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(X){L.error(X.message||"Delete failed")}finally{ne(!1),ee(!1)}}},disabled:we,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:we?"Deleting...":"Delete Forever"})]})]})})}),t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-10",children:t.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[t.jsx("div",{className:"absolute -inset-x-20 -top-14 h-28 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),t.jsxs("div",{className:"relative p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[t.jsx("p",{className:"text-sm text-slate-600 text-center sm:text-left",children:"By using this app you agree to our Terms of Service and Privacy Policy"}),t.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[t.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms of Service"}),t.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),t.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})})]})}const CP="http://13.60.203.103";function $xe(){var M,H;const[e,a]=x.useState([]),[s,n]=x.useState(!1),[r,l]=x.useState(1),[c,u]=x.useState({open:!1,number:null}),[m,h]=x.useState(!1),f=10,g=ba(),b=V=>Array.isArray(V)?V:V&&Array.isArray(V.purchased_numbers)?V.purchased_numbers:[],v=V=>{if(!V)return"N/A";const B=String(V).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return B?`+1 (${B[1]}) ${B[2]}-${B[3]}`:V},w=V=>{if(!V)return"N/A";const F=new Date(V);return isNaN(F.getTime())?"N/A":F.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},j=async()=>{n(!0);try{const V=localStorage.getItem("token");if(!V){console.error("No token found in localStorage"),a([]);return}const F=await fetch(`${CP}/api/purchased_numbers`,{headers:{Authorization:`Bearer ${V}`}});let B;try{B=await F.json()}catch{B=[]}if(!F.ok){console.error("Failed to fetch purchased numbers:",(B==null?void 0:B.message)||(B==null?void 0:B.detail)||"Unknown error"),a([]);return}a(b(B))}catch(V){console.error("Error fetching purchased numbers:",V),a([])}finally{n(!1)}},S=async()=>{var V;if((V=c.number)!=null&&V.phone_number){h(!0);try{const F=localStorage.getItem("token");if(!F)throw new Error("No token found in localStorage");const B=await fetch(`${CP}/api/remove-phone-number`,{method:"POST",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:c.number.phone_number})});let ee;try{ee=await B.json()}catch{ee=null}if(!B.ok||(ee==null?void 0:ee.success)===!1)throw new Error((ee==null?void 0:ee.detail)||(ee==null?void 0:ee.error)||"Failed to remove phone number");a(we=>we.filter(ne=>ne.phone_number!==c.number.phone_number)),u({open:!1,number:null})}catch(F){alert("Failed to delete number: "+F.message)}finally{h(!1)}}};x.useEffect(()=>{j()},[]);const k=Math.ceil(e.length/f)||1,_=Math.min(r*f,e.length),C=Math.max(0,_-f),T=e.slice(C,_),O=()=>r<k&&l(V=>V+1),E=()=>r>1&&l(V=>V-1),$=V=>V>=1&&V<=k&&l(V);return x.useEffect(()=>{r>k&&l(1)},[e]),t.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:[c.open&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>!m&&u({open:!1,number:null})}),t.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(ka,{className:"w-6 h-6 text-red-500"}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Number"})]}),t.jsxs("div",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete this number?",t.jsx("div",{className:"mt-2 text-gray-900 font-semibold",children:v((M=c.number)==null?void 0:M.phone_number)}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",w((H=c.number)==null?void 0:H.date_purchased)]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors",onClick:()=>!m&&u({open:!1,number:null}),disabled:m,children:"Cancel"}),t.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",onClick:S,disabled:m,children:m?"Deleting...":"Delete"})]})]})]}),t.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(St,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Purchased Numbers"}),t.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1 sm:mt-2",children:"View your purchased phone numbers"})]})]}),t.jsx("button",{onClick:()=>g("/user/phonecalls"),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(St,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Buy Numbers"}),t.jsx("span",{className:"sm:hidden",children:"Buy"})]})})]})}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 text-center",children:[t.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600",children:e.length}),t.jsx("div",{className:"text-sm sm:text-base text-gray-600 font-medium mt-2",children:"Total Purchased Numbers"})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(St,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),t.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Purchased Numbers (",e.length,")"]})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[t.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full"}),t.jsx("span",{className:"font-semibold",children:"Live Data"})]})]})}),s?t.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx(St,{className:"w-8 h-8 sm:w-12 sm:h-12 animate-pulse text-blue-500 mx-auto mb-4"}),t.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"Loading purchased numbers..."}),t.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Please wait while we fetch your data"})]})}):e.length===0?t.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(St,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),t.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No purchased numbers found"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Your purchased numbers will appear here"}),t.jsx("button",{onClick:()=>g("/user/phonecalls"),className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:"Buy Numbers"})]})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden lg:block overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Phone Number"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Friendly Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date Purchased"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Attached Assistant"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map((V,F)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:t.jsx(St,{className:"w-5 h-5 text-blue-600"})}),t.jsx("div",{className:"text-lg font-bold text-gray-900",children:v(V.phone_number)})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(ki,{className:"w-4 h-4 text-gray-500 mr-2"}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.friendly_name||""})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"text-xs font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:w(V.date_purchased)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"text-sm text-gray-700",children:V.attached_assistant??""})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>u({open:!0,number:V}),children:[t.jsx(ka,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},V.phone_number||F))})]})}),t.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:T.map((V,F)=>t.jsx("div",{className:"p-4 sm:p-6",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(St,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-lg font-bold text-gray-900 mb-2",children:v(V.phone_number)}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ki,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("span",{className:"text-sm text-gray-600",children:V.friendly_name||""})]}),t.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded inline-block mb-2",children:w(V.date_purchased)}),t.jsxs("div",{className:"text-sm text-gray-700 mb-3",children:["Assistant: ",V.attached_assistant??""]}),t.jsx("div",{children:t.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>u({open:!0,number:V}),children:[t.jsx(ka,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]})},V.phone_number||F))})]})]}),e.length>f&&t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[t.jsxs("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",e.length===0?0:C+1," to ",_," of ",e.length," results"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:E,disabled:r===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:"Previous"}),t.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const V=[];let F=1,B=k;k>5&&(r<=3?(F=1,B=5):r>=k-2?(F=k-4,B=k):(F=r-2,B=r+2));for(let ee=F;ee<=B;ee++)V.push(t.jsx("button",{onClick:()=>$(ee),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${r===ee?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,"aria-current":r===ee?"page":void 0,children:ee},ee));return V})()}),t.jsx("button",{onClick:O,disabled:r>=k,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:"Next"})]})]})})]})]})}function ei(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function Rb(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function J9(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function Q9(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function eI(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Pg(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function tI(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function Ixe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function aI(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function $b(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Ib(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function zxe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function Nf(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function xo(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function zb(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function sI(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function nI(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Bxe(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function Ac(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Lu(e){return Zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const Ed="http://13.60.203.103",Yo={ASSISTANTS:`${Ed}/api/get-assistants`,DELETE_ASSISTANT:e=>`${Ed}/api/assistants/${e}`,START_CALL:(e,a)=>`${Ed}/api/phone-call/${encodeURIComponent(e)}/${encodeURIComponent(a)}`,WALLET:`${Ed}/api/billing/wallet`,CAN_CALL:e=>`${Ed}/api/billing/wallet/can-call?seconds=${Math.max(1,Number(e)||1)}`,CALL_COUNTS:`${Ed}/api/user/call-counts`};function Uxe(){const e=ba(),a=x.useMemo(()=>localStorage.getItem("token"),[]),[s,n]=x.useState([]),[r,l]=x.useState(null),[c,u]=x.useState(null),[m,h]=x.useState(!0),[f,g]=x.useState(!1),[b,v]=x.useState(!0),[w,j]=x.useState(""),[S,k]=x.useState("all"),[_,C]=x.useState("all"),[T,O]=x.useState("created_at"),[E,$]=x.useState("desc"),[M,H]=x.useState(!1),[V,F]=x.useState(null),[B,ee]=x.useState([]),[we,ne]=x.useState(!1),[A,U]=x.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[K,z]=x.useState(120),[I,D]=x.useState(null),R=x.useRef(null),[Z,de]=x.useState(1),le=10,be=async()=>{try{g(!0);const[Y,Se,me]=await Promise.all([fetch(Yo.ASSISTANTS,{headers:{Accept:"application/json",Authorization:a?`Bearer ${a}`:""}}),a?fetch(Yo.WALLET,{headers:{Accept:"application/json",Authorization:`Bearer ${a}`}}):Promise.resolve(null),a?fetch(Yo.CALL_COUNTS,{headers:{Accept:"application/json",Authorization:`Bearer ${a}`}}):Promise.resolve(null)]);if(!Y.ok)throw new Error(`Assistants HTTP ${Y.status}`);const X=await Y.json(),Te=Array.isArray(X)?X:Array.isArray(X==null?void 0:X.assistants)?X.assistants:[];n(Te),Se&&(Se.ok?l(await Se.json()):l(null)),me&&(me.ok?u(await me.json()):u(null))}catch(Y){console.error(Y),L.error("Failed to fetch assistants")}finally{h(!1),g(!1)}},Ue=async Y=>{if(!a){D(null);return}try{const me=await(await fetch(Yo.CAN_CALL(Y),{headers:{Accept:"application/json",Authorization:`Bearer ${a}`}})).json();D(me||null)}catch{D(null)}};x.useEffect(()=>{be()},[]),x.useEffect(()=>{if(!b)return;const Y=setInterval(be,15e3);return()=>clearInterval(Y)},[b]),x.useEffect(()=>{if(we)return clearTimeout(R.current),R.current=setTimeout(()=>Ue(K),300),()=>clearTimeout(R.current)},[K,we]);const xe=x.useMemo(()=>{let Y=[...s];S!=="all"&&(Y=Y.filter(me=>((me==null?void 0:me.provider)||"").toLowerCase()===S)),_!=="all"&&(Y=Y.filter(me=>((me==null?void 0:me.category)||"").toLowerCase()===_));const Se=w.trim().toLowerCase();return Se&&(Y=Y.filter(me=>[me==null?void 0:me.name,me==null?void 0:me.model,me==null?void 0:me.voice,me==null?void 0:me.category,me==null?void 0:me.attached_Number,me==null?void 0:me.vapi_assistant_id].filter(Boolean).map(String).map(Te=>Te.toLowerCase()).some(Te=>Te.includes(Se)))),Y.sort((me,X)=>{if(T==="created_at"){const Ve=me!=null&&me.created_at?new Date(me.created_at).getTime():0,rt=X!=null&&X.created_at?new Date(X.created_at).getTime():0;return E==="asc"?Ve-rt:rt-Ve}const Te=((me==null?void 0:me[T])??"").toString().toLowerCase(),He=((X==null?void 0:X[T])??"").toString().toLowerCase();return Te<He?E==="asc"?-1:1:Te>He?E==="asc"?1:-1:0}),Y},[s,w,S,_,T,E]),ve=x.useMemo(()=>{const Y=new Set((s||[]).map(Se=>((Se==null?void 0:Se.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(Y)]},[s]),Ie=x.useMemo(()=>{const Y=new Set((s||[]).map(Se=>((Se==null?void 0:Se.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(Y)]},[s]),Ye=Math.max(1,Math.ceil(xe.length/le)),ke=Math.min(Z,Ye),Je=xe.slice((ke-1)*le,ke*le),Xe=x.useMemo(()=>xe.length?xe.reduce((Y,Se)=>{const me=Y!=null&&Y.created_at?new Date(Y.created_at):null,X=Se!=null&&Se.created_at?new Date(Se.created_at):null;return!me&&X?Se:!X&&me||!me&&!X?Y:X>me?Se:Y},xe[0]):null,[xe]),ue=Y=>{T===Y?$(Se=>Se==="asc"?"desc":"asc"):(O(Y),$("asc"))},ie=Y=>{F(Y),H(!0)},De=async()=>{if(V)try{const Y=await fetch(Yo.DELETE_ASSISTANT(V),{method:"DELETE",headers:{Accept:"application/json",Authorization:a?`Bearer ${a}`:""}});if(!Y.ok){let Se=`HTTP ${Y.status}`;try{const me=await Y.json();me!=null&&me.detail&&(Se=me.detail)}catch{}throw new Error(Se)}L.success("Assistant deleted"),ee(Se=>Se.filter(me=>me!==V)),be()}catch(Y){console.error(Y),L.error((Y==null?void 0:Y.message)||"Delete failed")}finally{H(!1),F(null)}},G=Y=>{const Se=Y==null?void 0:Y.knowledge_base;if(Array.isArray(Se)&&Se.length){const me=Se.filter(X=>typeof X=="string"&&/^https?:\/\//i.test(X));if(me.length){me.forEach(X=>window.open(X,"_blank","noopener"));return}}L.info("No file URLs available for this assistant.")},ce=Y=>{if(!(Y!=null&&Y.vapi_assistant_id)){L.error("Missing VAPI Assistant ID");return}U({vapi_assistant_id:Y.vapi_assistant_id,number:(Y==null?void 0:Y.attached_Number)||"",first_name:"",last_name:"",email:""}),z(120),ne(!0),Ue(120)},$e=async Y=>{Y.preventDefault();const{vapi_assistant_id:Se,number:me,first_name:X,last_name:Te,email:He}=A;if(!me)return L.error("Enter the customer's phone number (E.164 preferred)");if(I&&I.ok===!1){const Ve=((I.shortfall_cents||0)/100).toFixed(2);L.error(`Insufficient balance. Shortfall $${Ve}. Top up first.`),setTimeout(()=>e("/user/PricingSection"),350);return}try{const Ve=Yo.START_CALL(Se,me),rt={first_name:X||"Caller",last_name:Te||"",email:He||"caller@example.com",add_date:new Date().toISOString(),mobile_no:me,custom_field_01:null,custom_field_02:null},nt=await fetch(Ve,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a?`Bearer ${a}`:""},body:JSON.stringify(rt)}),Oe=await nt.json().catch(()=>({}));if(!nt.ok||(Oe==null?void 0:Oe.success)===!1)throw new Error((Oe==null?void 0:Oe.detail)||`HTTP ${nt.status}`);L.success("Call initiated"),ne(!1)}catch(Ve){console.error(Ve),L.error((Ve==null?void 0:Ve.message)||"Failed to initiate call")}},qe=Y=>B.includes(Y),ye=Y=>{ee(Se=>Se.includes(Y)?Se.filter(me=>me!==Y):[...Se,Y])},Be=()=>{const Y=Je.map(me=>me.id).filter(Boolean),Se=Y.every(me=>B.includes(me));ee(me=>Se?me.filter(X=>!Y.includes(X)):Array.from(new Set([...me,...Y])))},_e=async()=>{if(!B.length)return L.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const Y of B)await fetch(Yo.DELETE_ASSISTANT(Y),{method:"DELETE",headers:{Accept:"application/json",Authorization:a?`Bearer ${a}`:""}});L.success("Bulk delete complete"),ee([]),be()}catch(Y){console.error(Y),L.error("Bulk delete encountered an error")}},te=()=>{const Y=["Name","Model","Voice","Attached Number","Category","Created","Assistant ID"],Se=xe.map(Ve=>[(Ve==null?void 0:Ve.name)??"",(Ve==null?void 0:Ve.model)??"",(Ve==null?void 0:Ve.voice)??"",(Ve==null?void 0:Ve.attached_Number)??"",(Ve==null?void 0:Ve.category)??"",Ve!=null&&Ve.created_at?new Date(Ve.created_at).toLocaleString():"",(Ve==null?void 0:Ve.vapi_assistant_id)??""]),me=[Y,...Se].map(Ve=>Ve.map(rt=>`"${String(rt).replace(/"/g,'""')}"`).join(",")).join(`
`),X=new Blob([me],{type:"text/csv;charset=utf-8;"}),Te=URL.createObjectURL(X),He=document.createElement("a");He.href=Te,He.download="assistants.csv",He.click(),URL.revokeObjectURL(Te)};return m?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:t.jsx("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[t.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),t.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),t.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((Y,Se)=>t.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[t.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),t.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},Se))}),t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[t.jsx("div",{className:"border-b border-gray-100 p-6",children:t.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((Y,Se)=>t.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),t.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),t.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((me,X)=>t.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},X))})]})},Se))]})]})})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),t.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),t.jsxs("div",{className:"relative mx-auto w-full max-w-[1600px] px-6 py-12",children:[t.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"text-white",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:t.jsx(Lu,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),t.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-blue-100",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),t.jsxs("span",{children:[xe.length," Active"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Pg,{className:"h-4 w-4"}),t.jsxs("span",{children:["Auto-refresh ",b?"enabled":"disabled"]})]}),r&&t.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-white/15 px-3 py-1.5",children:[t.jsx(Ixe,{className:"h-4 w-4"}),t.jsxs("span",{className:"font-semibold",children:["Balance $",(((r.balance_cents||0)+(r.bonus_cents||0))/100).toFixed(2)]}),t.jsx("button",{onClick:()=>e("/user/PricingSection"),className:"ml-2 rounded-lg bg-white/20 px-2 py-1 text-xs font-medium hover:bg-white/30",children:"Top up"})]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsxs("button",{onClick:()=>v(Y=>!Y),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${b?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${b?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),t.jsxs("button",{onClick:be,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[t.jsx(sI,{className:`h-4 w-4 transition-transform ${f?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),t.jsxs("button",{onClick:te,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[t.jsx(aI,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),t.jsxs("button",{onClick:()=>e("/user/assistant/create"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[t.jsx(zb,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(nI,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),t.jsx("input",{value:w,onChange:Y=>j(Y.target.value),placeholder:"Search assistants, models, voices, phone, ID",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx(AP,{label:"Provider",value:S,onChange:k,options:ve}),t.jsx(AP,{label:"Category",value:_,onChange:C,options:Ie})]})]})]})]}),t.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(Ix,{title:"Total Assistants",value:xe.length,icon:t.jsx(Lu,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),t.jsx(Ix,{title:"Todays Calls",value:(c==null?void 0:c.today_calls)??0,icon:t.jsx(xo,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),t.jsx(Ix,{title:"Total Calls",value:(c==null?void 0:c.total_calls)??0,icon:t.jsx(ei,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),t.jsx(Ix,{title:"Last Created",value:Xe!=null&&Xe.name?Xe.name.length>12?`${Xe.name.slice(0,12)}`:Xe.name:"",icon:t.jsx(Pg,{className:"h-6 w-6 text-cyan-600"}),subtitle:Xe!=null&&Xe.created_at?new Date(Xe.created_at).toLocaleDateString():""})]}),B.length>0&&t.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:t.jsx(ei,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-blue-900",children:[B.length," assistants selected"]}),t.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:Be,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),t.jsx("button",{onClick:_e,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),xe.length===0?t.jsx(qxe,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.jsx(Bxe,{className:"h-4 w-4"}),t.jsx("span",{children:"Calls require sufficient wallet balance"})]})]}),t.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[t.jsx("thead",{className:"bg-gray-50/60",children:t.jsxs("tr",{children:[t.jsx(Fxe,{className:"w-12 text-center",checked:Je.every(Y=>B.includes(Y.id))&&Je.length>0,onChange:Be}),t.jsx(Td,{className:"w-[26%]",align:"center",label:"Assistant",sortKey:"name",sortDir:T==="name"?E:null,onSort:ue}),t.jsx(Td,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:T==="model"?E:null,onSort:ue}),t.jsx(Td,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:T==="voice"?E:null,onSort:ue}),t.jsx(Td,{className:"w-[18%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:T==="attached_Number"?E:null,onSort:ue}),t.jsx(Td,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:T==="category"?E:null,onSort:ue}),t.jsx(Td,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:T==="created_at"?E:null,onSort:ue}),t.jsx("th",{className:"w-[14%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:Je.map(Y=>t.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${qe(Y.id)?"bg-blue-50/50":""}`,children:[t.jsx(Vxe,{className:"w-12 text-center",checked:qe(Y.id),onChange:()=>ye(Y.id)}),t.jsx("td",{className:"w-[26%] px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:t.jsx(Nf,{className:"h-5 w-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"max-w-[40ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:Y.name||""}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.jsxs("span",{children:[Array.isArray(Y.knowledge_base)?Y.knowledge_base.length:0," KB items"]}),(Y==null?void 0:Y.vapi_assistant_id)&&t.jsxs("button",{className:"rounded-lg px-1.5 py-0.5 text-[11px] hover:bg-gray-100",onClick:()=>wN(Y.vapi_assistant_id),title:"Copy Assistant ID",children:["ID: ",Y.vapi_assistant_id.slice(0,8),""]})]})]})]})}),t.jsx("td",{className:"w-[12%] px-6 py-4",children:t.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:t.jsx(pu,{variant:"secondary",children:Y.model||""})})}),t.jsx("td",{className:"w-[12%] px-6 py-4",children:t.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:t.jsx(pu,{variant:"accent",children:Y.voice||""})})}),t.jsx("td",{className:"w-[18%] px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("span",{className:"break-all font-mono text-sm text-gray-700",children:Y.attached_Number||""}),Y.attached_Number&&t.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>wN(Y.attached_Number),children:t.jsx(tI,{className:"h-4 w-4"})})]})}),t.jsx("td",{className:"w-[10%] px-6 py-4",children:t.jsx("div",{className:"text-center",children:Y.category?t.jsx(pu,{variant:"primary",children:Y.category}):t.jsx("span",{className:"text-gray-400",children:""})})}),t.jsx("td",{className:"w-[8%] px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:Y.created_at?new Date(Y.created_at).toLocaleDateString():""}),t.jsx("td",{className:"w-[14%] px-6 py-4",children:t.jsxs("div",{className:"mx-auto flex w-full min-w-[240px] items-center justify-center gap-2 whitespace-nowrap",children:[t.jsx(zx,{title:"Edit Assistant",onClick:()=>e(`/user/edit-assistant/${Y.id}`),variant:"primary",children:t.jsx($b,{className:"h-4 w-4"})}),t.jsx(zx,{title:"View Files",onClick:()=>G(Y),variant:"success",children:t.jsx(Ib,{className:"h-4 w-4"})}),t.jsx(zx,{title:"Start Call",onClick:()=>ce(Y),variant:"secondary",children:t.jsx(xo,{className:"h-4 w-4"})}),t.jsx(zx,{title:"Delete",onClick:()=>ie(Y.id),variant:"danger",children:t.jsx(Ac,{className:"h-4 w-4"})})]})})]},Y.id??Y.name))})]})]}),t.jsx("div",{className:"space-y-4 xl:hidden",children:Je.map(Y=>t.jsx(Hxe,{assistant:Y,isSelected:qe(Y.id),onToggleSelect:()=>ye(Y.id),onEdit:()=>e(`/user/edit-assistant/${Y.id}`),onViewFiles:()=>G(Y),onCall:()=>ce(Y),onDelete:()=>ie(Y.id)},Y.id??Y.name))}),t.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(ke-1)*le+1," to ",Math.min(ke*le,xe.length)," of"," ",xe.length," assistants"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(EP,{disabled:ke<=1,onClick:()=>de(Y=>Math.max(1,Y-1)),children:[t.jsx(J9,{className:"h-4 w-4"}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Ye)},(Y,Se)=>{const me=Se+1;return t.jsx("button",{onClick:()=>de(me),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${me===ke?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:me},me)})}),t.jsxs(EP,{disabled:ke>=Ye,onClick:()=>de(Y=>Math.min(Ye,Y+1)),children:["Next",t.jsx(Q9,{className:"h-4 w-4"})]})]})]})]})]}),M&&t.jsx(TP,{onClose:()=>H(!1),children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:t.jsx(Ac,{className:"h-8 w-8 text-red-600"})}),t.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),t.jsxs("div",{className:"flex justify-center gap-3",children:[t.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>H(!1),children:"Cancel"}),t.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:De,children:"Delete Assistant"})]})]})}),we&&t.jsxs(TP,{onClose:()=>ne(!1),children:[t.jsxs("div",{className:"mb-6 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:t.jsx(xo,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),t.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),t.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[t.jsx(ih,{label:"Customer Phone Number",value:A.number,onChange:Y=>U(Se=>({...Se,number:Y})),placeholder:"+1 (555) 123-4567",required:!0}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[t.jsx(ih,{label:"First Name",value:A.first_name,onChange:Y=>U(Se=>({...Se,first_name:Y})),placeholder:"John"}),t.jsx(ih,{label:"Last Name",value:A.last_name,onChange:Y=>U(Se=>({...Se,last_name:Y})),placeholder:"Doe"})]}),t.jsx(ih,{label:"Email Address",value:A.email,onChange:Y=>U(Se=>({...Se,email:Y})),placeholder:"john@example.com",type:"email"}),t.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[t.jsx(ih,{label:"Planned Duration (seconds)",value:K,onChange:Y=>z(Math.max(1,Number(Y||1))),placeholder:"e.g. 120",type:"number",required:!0}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Estimated charge"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",(((I==null?void 0:I.needed_cents)||0)/100).toFixed(2)]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Your balance"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",((((r==null?void 0:r.balance_cents)||0)+((r==null?void 0:r.bonus_cents)||0))/100).toFixed(2)]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[I!=null&&I.ok?t.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-emerald-700",children:[t.jsx(ei,{className:"h-4 w-4"})," Youre good to go"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-red-700",children:[t.jsx(Ac,{className:"h-4 w-4"}),"Insufficient balance. Shortfall $",(((I==null?void 0:I.shortfall_cents)||0)/100).toFixed(2)]}),!(I!=null&&I.ok)&&t.jsx("button",{type:"button",onClick:()=>e("/user/PricingSection"),className:"ml-auto rounded-lg border border-blue-200 bg-white px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-50",children:"Top up wallet"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>ne(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function Ix({title:e,value:a,icon:s,trend:n,trendUp:r,subtitle:l}){return t.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),s]}),t.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:a}),l&&t.jsx("div",{className:"text-sm text-gray-500",children:l}),n&&t.jsxs("div",{className:`text-sm font-medium ${r?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})]})}function AP({label:e,value:a,onChange:s,options:n}){return t.jsxs("div",{className:"relative",children:[t.jsx("select",{value:a,onChange:r=>s(r.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:n.map(r=>t.jsx("option",{value:r,className:"bg-gray-800 text-white",children:r==="all"?`All ${e}s`:r},r))}),t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:t.jsx(Rb,{className:"h-4 w-4 text-white/70"})})]})}function pu({children:e,variant:a="default"}){const s={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return t.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${s[a]}`,children:e})}function zx({title:e,onClick:a,children:s,variant:n="default"}){const r={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return t.jsx("button",{title:e,onClick:a,className:`rounded-xl p-2.5 transition-all duration-200 ${r[n]}`,children:s})}function Td({label:e,sortKey:a,sortDir:s,onSort:n,className:r="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return t.jsx("th",{className:`px-6 py-4 ${c} ${r}`,children:t.jsxs("button",{onClick:()=>n(a),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,t.jsxs("div",{className:"flex flex-col",children:[t.jsx(eI,{className:`h-3 w-3 transition-colors ${s==="asc"?"text-blue-600":"text-gray-400"}`}),t.jsx(Rb,{className:`-mt-1 h-3 w-3 transition-colors ${s==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Fxe({checked:e,onChange:a,className:s=""}){return t.jsx("th",{className:`px-6 py-4 ${s}`,children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("button",{onClick:a,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&t.jsx(ei,{className:"h-3 w-3"})})})})}function Vxe({checked:e,onChange:a,className:s=""}){return t.jsx("td",{className:`px-6 py-4 ${s}`,children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("button",{onClick:a,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&t.jsx(ei,{className:"h-3 w-3"})})})})}function Hxe({assistant:e,isSelected:a,onToggleSelect:s,onEdit:n,onViewFiles:r,onCall:l,onDelete:c}){return t.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${a?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[t.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:s,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${a?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:a&&t.jsx(ei,{className:"h-4 w-4"})}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:t.jsx(Nf,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),t.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]}),(e==null?void 0:e.vapi_assistant_id)&&t.jsxs("button",{onClick:()=>wN(e.vapi_assistant_id),className:"mt-1 text-xs text-blue-600 underline",title:"Copy Assistant ID",children:["ID: ",e.vapi_assistant_id.slice(0,8),""]})]})]}),t.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),t.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),t.jsx(pu,{variant:"secondary",children:e.model||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),t.jsx(pu,{variant:"accent",children:e.voice||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),t.jsx("div",{className:"break-all font-mono text-sm",children:e.attached_Number||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?t.jsx(pu,{variant:"primary",children:e.category}):t.jsx("span",{className:"text-gray-400",children:""})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[t.jsx($b,{className:"h-4 w-4"}),"Edit"]}),t.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[t.jsx(Ib,{className:"h-4 w-4"}),"Files"]}),t.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[t.jsx(xo,{className:"h-4 w-4"}),"Call"]}),t.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[t.jsx(Ac,{className:"h-4 w-4"}),"Delete"]})]})]})}function EP({disabled:e,onClick:a,children:s}){return t.jsx("button",{disabled:e,onClick:a,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:s})}function TP({children:e,onClose:a}){return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:a}),t.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[t.jsx("button",{onClick:a,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function ih({label:e,value:a,onChange:s,placeholder:n,required:r,type:l="text"}){return t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",r&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:l,value:a,onChange:c=>s(c.target.value),placeholder:n,required:r,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function qxe(){return t.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[t.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:t.jsx(Lu,{className:"h-10 w-10 text-blue-600"})}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),t.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),t.jsxs("a",{href:"/user/assistant/create",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[t.jsx(zb,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function wN(e){e&&navigator.clipboard.writeText(e).then(()=>L.success("Copied to clipboard")).catch(()=>L.info(e))}const qc=[{showName:"Asteria",name:"asteria",voice:"aura-asteria-en",gender:"female",audioSr:"/Audios/output_Asteria.wav",provider:"deepgram"},{showName:"Luna",name:"luna",voice:"aura-luna-en",gender:"female",audioSr:"/Audios/output_Luna.wav",provider:"deepgram"},{showName:"Stella",name:"stella",voice:"aura-stella-en",gender:"female",audioSr:"/Audios/output_Stella.wav",provider:"deepgram"},{showName:"Athena",name:"athena",voice:"aura-athena-en",gender:"female",audioSr:"/Audios/output_Athena.wav",provider:"deepgram"},{showName:"Hera",name:"hera",voice:"aura-hera-en",gender:"female",audioSr:"/Audios/output_Hera.wav",provider:"deepgram"},{showName:"Orion",name:"orion",voice:"aura-orion-en",gender:"male",audioSr:"/Audios/output_Orion.wav",provider:"deepgram"},{showName:"Arcas",name:"arcas",voice:"aura-arcas-en",gender:"male",audioSr:"/Audios/output_Arcas.wav",provider:"deepgram"},{showName:"Perseus",name:"perseus",voice:"aura-perseus-en",gender:"male",audioSr:"/Audios/output_Perseus.wav",provider:"deepgram"},{showName:"Angus",name:"angus",voice:"aura-angus-en",gender:"male",audioSr:"/Audios/output_Angus.wav",provider:"deepgram"},{showName:"Orpheus",name:"orpheus",voice:"aura-orpheus-en",gender:"male",audioSr:"/Audios/output_Orpheus.wav",provider:"deepgram"},{showName:"Helios",name:"helios",voice:"aura-helios-en",gender:"male",audioSr:"/Audios/output_Helios.wav",provider:"deepgram"},{showName:"Zeus",name:"zeus",voice:"aura-zeus-en",gender:"male",audioSr:"/Audios/output_Zeus.wav",provider:"deepgram"}],nm=[{showName:"nova",name:"nova",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/nova.mp3",provider:"openai"},{showName:"onyx",name:"onyx",voice:"gpt-4o-mini-tts",gender:"male",audioSr:"/Audios/onyx.mp3",provider:"openai"},{showName:"alloy",name:"alloy",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/alloy.mp3",provider:"openai"}];[...qc,...nm];qc.filter(e=>e.gender==="female");const dw=qc.filter(e=>e.gender==="male"),uw=qc;nm.filter(e=>e.gender==="female");nm.filter(e=>e.gender==="male");const Ot={danger:"#EF4444",text:"#0F172A",lightText:"#64748B",border:"#E2E8F0",background:"#F8FAFC",card:"#FFFFFF"},OP=/^\+\d{7,15}$/,PP=[{id:1,label:"Core & Transcription",Icon:DN},{id:2,label:"Voice",Icon:UN},{id:3,label:"Review & Save",Icon:Fc}],Gxe=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Kxe=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Yxe(){const{assistantId:e}=kf(),a=ba(),s="http://13.60.203.103",[n,r]=x.useState(1),[l,c]=x.useState(!0),[u,m]=x.useState(!1),[h,f]=x.useState(!1),g=x.useRef(null),[b,v]=x.useState(!1),[w,j]=x.useState([]),[S,k]=x.useState(!1),[_,C]=x.useState(""),[T,O]=x.useState("all"),[E,$]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],voice_provider:"deepgram",voice_model:"",voice:"",speed:.8,stability:.5,similarityBoost:.75,draft:!1,assistant_toggle:!0}),[M,H]=x.useState({}),V=x.useMemo(()=>{const I=E.voice_provider==="openai"?nm:qc;return(T==="all"?I:I.filter(R=>R.gender===T)).slice().sort((R,Z)=>((R==null?void 0:R.showName)||"").localeCompare((Z==null?void 0:Z.showName)||""))},[E.voice_provider,T]);x.useEffect(()=>{if(!E.voice)return;const I=V.find(D=>(D==null?void 0:D.name)===E.voice);I!=null&&I.voice&&($(D=>({...D,voice_model:I.voice})),H(D=>({...D,voice_model:""})))},[E.voice,V]),x.useEffect(()=>{if(!E.voice)return v(!1);V.some(D=>D.name===E.voice)||v(!1)},[V,E.voice]);const F=async()=>{k(!0),C("");try{const I=localStorage.getItem("token"),D=await fetch(`${s}/api/purchased_numbers`,{headers:{Accept:"application/json",...I?{Authorization:`Bearer ${I}`}:{}}});if(!D.ok)throw new Error(`HTTP ${D.status}`);const R=await D.json(),de=(Array.isArray(R)?R:(R==null?void 0:R.purchased_numbers)||[]).filter(Boolean).map(le=>({phone_number:(le==null?void 0:le.phone_number)||"",friendly_name:(le==null?void 0:le.friendly_name)||"",attached_assistant:(le==null?void 0:le.attached_assistant)??null})).filter(le=>le.phone_number);j(de)}catch(I){console.error(I),C("Failed to load your purchased numbers"),j([])}finally{k(!1)}};x.useEffect(()=>{(async()=>{try{const D=localStorage.getItem("token");if(!D){L.error("No authentication token found. Please log in."),a("/login");return}const R=await fetch(`${s}/api/get-assistants`,{headers:{Authorization:`Bearer ${D}`,Accept:"application/json"}});if(!R.ok)throw new Error(`HTTP ${R.status}`);const Z=await R.json(),de=Number(e),le=Z.find(ve=>Number(ve.id)===de);if(!le)throw new Error("Assistant not found");const be=le.voice_provider==="openai"||le.voice_provider==="deepgram"?le.voice_provider:"deepgram",Ue={name:le.name||"",provider:le.provider||"openai",model:le.model||"gpt-4o-mini",temperature:le.temperature??.7,maxTokens:le.max_tokens??le.maxTokens??250,systemPrompt:le.system_prompt||le.systemPrompt||"",first_message:le.first_message||"",transcribe_provider:le.transcribe_provider||"google",transcribe_language:le.transcribe_language||"English",transcribe_model:le.transcribe_model||"gemini-2.0-flash",forwardingPhoneNumber:le.forwardingPhoneNumber||"",attached_Number:le.attached_Number||"",category:le.category||"",knowledgeBase:le.knowledge_base||le.knowledgeBase||[],leadsfile:le.leadsfile||[],languages:le.languages||[],endCallPhrases:le.endCallPhrases||[],voice_provider:be,voice_model:le.voice_model||"",voice:le.voice||"",speed:le.speed??.8,stability:le.stability??.5,similarityBoost:le.similarityBoost??.75,draft:!!le.draft,assistant_toggle:!!(le.assistant_toggle??!0)};$(ve=>({...ve,...Ue}));const xe=Ue.voice&&Ue.voice_model&&(Ue.voice_provider==="deepgram"||Ue.voice_provider==="openai");v(!!xe),F(),c(!1)}catch(D){console.error("Error loading assistant:",D),L.error((D==null?void 0:D.message)||"Failed to load assistant"),a("/")}})()},[e]);const B=I=>{const{id:D,value:R,type:Z,checked:de}=I.target,le=Z==="checkbox"?de:R;$(be=>({...be,[D]:le})),H(be=>({...be,[D]:""}))},ee=I=>{try{g.current&&(g.current.pause(),g.current=null);const D=new Audio(I);g.current=D,f(!0),D.play().catch(()=>{L.error("Failed to play voice preview"),f(!1),g.current=null}),D.onended=()=>{f(!1),g.current=null}}catch{L.error("Failed to play voice preview"),f(!1)}},we=()=>{g.current&&(g.current.pause(),g.current=null,f(!1))},ne=I=>{if(I!==n){if(I===3&&(!E.voice||!b)){H(D=>({...D,voice:"Select a voice and press Next to continue"})),L.error("Please select a voice and press Next to continue.");return}we(),r(I)}},A=()=>{if(n===1)return r(2);if(n===2){if(!E.voice){H(I=>({...I,voice:"Please select a voice"})),L.error("Select a voice to continue.");return}if(!b){H(I=>({...I,voice:"Click a voice card to confirm your choice"})),L.info("Click a voice card to confirm your choice.");return}return r(3)}},U=I=>{we();const D=I.target.value;$(R=>({...R,voice_provider:D,voice:"",voice_model:""})),v(!1),H(R=>({...R,voice:"",voice_model:""}))},K=()=>{const I=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],D={};let R=!0;return I.forEach(Z=>{const de=E[Z];(de==null||de===""||Number.isNaN(de))&&(D[Z]="Required",R=!1)}),(E.temperature<0||E.temperature>2)&&(D.temperature="Temperature must be between 0 and 2",R=!1),Number(E.maxTokens)<1&&(D.maxTokens="maxTokens must be a positive integer",R=!1),E.forwardingPhoneNumber&&!OP.test(E.forwardingPhoneNumber)&&(D.forwardingPhoneNumber="Must be E.164 (+123...)",R=!1),E.attached_Number&&!OP.test(E.attached_Number)&&(D.attached_Number="Invalid number format",R=!1),H(D),R||((le=>le.some(be=>D[be]))(["name","systemPrompt","first_message","forwardingPhoneNumber","attached_Number","category"])?r(1):r(2)),R},z=async I=>{if(I.preventDefault(),!u){if(n!==3){L.error("Please complete the steps first.");return}if(!K()){L.error("Fix the highlighted fields.");return}m(!0),we();try{const D=localStorage.getItem("token");if(!D)throw new Error("No authentication token found. Please log in.");const R={name:E.name,provider:E.provider,first_message:E.first_message||null,model:E.model,systemPrompt:E.systemPrompt||null,knowledgeBase:E.knowledgeBase,leadsfile:E.leadsfile,temperature:Number(E.temperature),maxTokens:Number(E.maxTokens),transcribe_provider:E.transcribe_provider,transcribe_language:E.transcribe_language,transcribe_model:E.transcribe_model,languages:E.languages,forwardingPhoneNumber:E.forwardingPhoneNumber||null,endCallPhrases:E.endCallPhrases,voice_provider:E.voice_provider,voice:E.voice,voice_model:E.voice_model,attached_Number:E.attached_Number||null,draft:!!E.draft,assistant_toggle:!!E.assistant_toggle,category:E.category||null,speed:Number(E.speed),stability:Number(E.stability),similarityBoost:Number(E.similarityBoost)},Z=await fetch(`${s}/api/update_assistant/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify(R)});if(!Z.ok){let de=`HTTP ${Z.status}`;try{const le=await Z.json();le!=null&&le.detail&&(de=le.detail)}catch{const le=await Z.text();le&&(de=`${de}  ${le}`)}throw new Error(de)}L.success("Assistant updated successfully!"),a("/user/callassistent")}catch(D){console.error("Update error",D),L.error((D==null?void 0:D.message)||"Failed to update assistant")}finally{m(!1)}}};return l?t.jsx("div",{className:"min-h-screen grid place-items-center",style:{background:Ot.background},children:t.jsxs("div",{className:"flex items-center gap-3 text-lg",style:{color:Ot.text},children:[t.jsx(Ma,{className:"h-6 w-6 animate-spin"}),"Loading assistant"]})}):t.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Ot.background},children:[t.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:t.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(99,102,241,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(16,185,129,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(59,130,246,0.12) 0%, transparent 60%)"}})}),t.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),t.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[t.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Ot.border,backgroundColor:Ot.card},children:t.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[t.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-indigo-300/30 blur-2xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-emerald-300/30 blur-2xl"}),t.jsxs("div",{className:"relative p-6 text-center",children:[t.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold",style:{color:Ot.text},children:[t.jsx(Fc,{className:"h-7 w-7 text-indigo-600"})," Edit Assistant"]}),t.jsx("p",{className:"mt-2 text-sm",style:{color:Ot.lightText},children:"Minimal UI  Voice required  Create-aligned defaults"})]})]})}),t.jsx(Wxe,{currentStep:n,onChange:ne}),t.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Ot.card,borderColor:Ot.border},children:t.jsxs("form",{onSubmit:z,noValidate:!0,children:[t.jsxs(jt,{mode:"wait",children:[n===1&&t.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsx(Bx,{id:"name",label:"Assistant Name",value:E.name,onChange:B,error:M.name,placeholder:"SupportBot"}),t.jsx(Bx,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:E.forwardingPhoneNumber,onChange:B,error:M.forwardingPhoneNumber,placeholder:"+12345678901"}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Kh,{children:"Attach Purchased Number (optional)"}),t.jsxs("button",{type:"button",onClick:F,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1 text-sm font-medium hover:bg-slate-50",style:{borderColor:Ot.border,color:Ot.text,backgroundColor:Ot.card},disabled:S,title:"Refresh list",children:[t.jsx(Ze,{className:S?"h-4 w-4 animate-spin":"h-4 w-4"}),S?"Loading":"Refresh"]})]}),t.jsxs("select",{id:"attached_Number",value:E.attached_Number,onChange:B,disabled:S,className:"w-full rounded-xl border p-3 outline-none transition disabled:opacity-60 focus:border-indigo-500",style:{borderColor:Ot.border,color:Ot.text,backgroundColor:Ot.card},children:[t.jsx("option",{value:"",children:w.length?"Do not change":"No purchased numbers found"}),w.map(I=>t.jsx("option",{value:I.phone_number,children:I.friendly_name?`${I.friendly_name}  ${I.phone_number}`:I.phone_number},I.phone_number))]}),_&&t.jsx(mc,{children:_}),M.attached_Number&&t.jsx(mc,{children:M.attached_Number})]}),t.jsx(Bx,{id:"category",label:"Category (optional)",value:E.category,onChange:B}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Kh,{children:"System Prompt"}),t.jsx(LP,{id:"systemPrompt",value:E.systemPrompt,onChange:B,placeholder:"Write your system prompt",rows:4}),M.systemPrompt&&t.jsx(mc,{children:M.systemPrompt})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Kh,{children:"First Message"}),t.jsx(LP,{id:"first_message",value:E.first_message,onChange:B,placeholder:"Hello! ",rows:3}),M.first_message&&t.jsx(mc,{children:M.first_message})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[t.jsx(RP,{id:"draft",label:"Save as Draft",checked:E.draft,onChange:B}),t.jsx(RP,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:E.assistant_toggle,onChange:B})]})]},"step1"),n===2&&t.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsx(DP,{id:"voice_provider",label:"Voice Provider",value:E.voice_provider,onChange:U,options:Gxe,error:M.voice_provider}),t.jsx(DP,{id:"genderFilter",label:"Gender",value:T,onChange:I=>{we(),O(I.target.value)},options:Kxe}),t.jsx(Bx,{id:"voice_model",label:"Voice Model",value:E.voice_model,onChange:()=>{},error:M.voice_model,placeholder:E.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!b&&t.jsxs("p",{className:"text-sm",style:{color:Ot.lightText},children:["Tip: ",t.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press ",t.jsx("span",{className:"font-medium",children:"Next"}),"."]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"text-sm",style:{color:Ot.lightText},children:["Showing ",t.jsx("span",{className:"font-medium",children:V.length})," voices"]})}),t.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:V.map(I=>t.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:E.voice===I.name?"#93c5fd":Ot.border,backgroundColor:E.voice===I.name?"#eff6ff":Ot.card},onClick:()=>{$(D=>({...D,voice:I.name,voice_model:I.voice,voice_provider:I.provider||E.voice_provider})),v(!0),H(D=>({...D,voice:"",voice_model:""}))},children:[t.jsx("div",{className:"absolute left-3 top-3",children:t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${E.voice===I.name?"border-indigo-500 bg-indigo-500":"border-slate-400 bg-transparent"}`})}),t.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold",style:{color:Ot.text},children:I.showName||I.name}),t.jsxs("div",{className:"text-sm capitalize",style:{color:Ot.lightText},children:[I.gender||"unknown","  ",I.provider]}),t.jsx("div",{className:"mt-1 text-xs",style:{color:Ot.lightText},children:I.voice})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(Xxe,{isActive:h&&E.voice===I.name,onPlay:()=>ee(I.audioSr||""),onStop:we})})]})]},`${I.provider}-${I.name}`))}),M.voice&&t.jsx(mc,{children:M.voice})]},"step2"),n===3&&t.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:t.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Ot.border},children:[t.jsx("h3",{className:"mb-3 text-lg font-semibold",style:{color:Ot.text},children:"Review"}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx(Wo,{label:"Name",value:E.name||""}),t.jsx(Wo,{label:"Model",value:`${E.provider}  ${E.model}`}),t.jsx(Wo,{label:"Voice Provider",value:E.voice_provider}),t.jsx(Wo,{label:"Voice",value:E.voice||""}),t.jsx(Wo,{label:"Voice Model",value:E.voice_model||""}),t.jsx(Wo,{label:"Forwarding Number",value:E.forwardingPhoneNumber||""}),t.jsx(Wo,{label:"Attach Number",value:E.attached_Number||""})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[t.jsx(mw,{onClick:()=>r(2),children:"Edit Voice"}),t.jsx(mw,{onClick:()=>r(1),children:"Edit Core"})]})]})},"step3")]}),t.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[n>1?t.jsx(mw,{onClick:()=>ne(n-1),children:"Back"}):t.jsx("span",{}),n<3?t.jsxs(MP,{onClick:A,children:["Next ",t.jsx(Aa,{className:"ml-1 h-4 w-4"})]}):t.jsx(MP,{type:"submit",disabled:u,children:u?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Ma,{className:"h-4 w-4 animate-spin"})," Updating"]}):"Update Assistant"})]})]})})]})]})}function Wxe({currentStep:e,onChange:a}){const s=PP;return t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:s.map(({id:n,label:r,Icon:l})=>{const c=e===n;return t.jsxs(he.button,{onClick:()=>a(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${c?"border-indigo-500/40 bg-indigo-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[t.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${c?"bg-indigo-100":"bg-slate-100"}`,children:t.jsx(l,{className:`h-5 w-5 ${c?"text-indigo-600":"text-slate-600"}`})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:`text-sm font-semibold ${c?"text-slate-900":"text-slate-700"}`,children:r}),t.jsx("div",{className:`text-xs ${c?"text-indigo-600":"text-slate-500"}`,children:c?"Active":"Click to open"})]})]},n)})}),t.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-4xl rounded-full bg-slate-200",children:t.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-indigo-600 to-emerald-500",style:{width:`${e/PP.length*100}%`}})})]})}function MP({children:e,onClick:a,type:s="button",disabled:n}){return t.jsx("button",{type:s,onClick:a,disabled:n,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-indigo-200 transition ${n?"bg-indigo-400/60":"bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600"}`,children:e})}function mw({children:e,onClick:a}){return t.jsx("button",{type:"button",onClick:a,className:"rounded-xl border px-4 py-2 font-semibold hover:bg-slate-50",style:{borderColor:Ot.border,color:Ot.text,backgroundColor:Ot.card},children:e})}function Kh({children:e}){return t.jsx("label",{className:"mb-2 block text-sm font-semibold",style:{color:Ot.text},children:e})}function mc({children:e}){return t.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm",style:{color:Ot.danger},children:e})}function Bx({id:e,label:a,value:s,onChange:n,error:r,placeholder:l,readOnly:c=!1}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(Kh,{children:a}),t.jsx("input",{id:e,type:"text",value:s,onChange:n,placeholder:l,readOnly:c,className:`w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500 ${c?"bg-slate-50":""}`,style:{borderColor:Ot.border,color:Ot.text,backgroundColor:Ot.card}}),r&&t.jsx(mc,{children:r})]})}function DP({id:e,label:a,value:s,onChange:n,options:r,error:l}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(Kh,{children:a}),t.jsx("select",{id:e,value:s,onChange:n,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:Ot.border,color:Ot.text,backgroundColor:Ot.card},children:r.map(c=>t.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&t.jsx(mc,{children:l})]})}function LP({id:e,value:a,onChange:s,placeholder:n,rows:r=4}){return t.jsx("textarea",{id:e,value:a,onChange:s,placeholder:n,rows:r,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:Ot.border,color:Ot.text,backgroundColor:Ot.card}})}function RP({id:e,label:a,checked:s,onChange:n}){return t.jsxs("label",{className:"flex cursor-pointer items-center gap-2",style:{color:Ot.text},children:[t.jsx("input",{id:e,type:"checkbox",checked:s,onChange:n,className:"accent-indigo-600"}),t.jsx("span",{children:a})]})}function Wo({label:e,value:a}){return t.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Ot.border},children:[t.jsx("div",{className:"text-slate-500",children:e}),t.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:a})]})}function Xxe({isActive:e,onPlay:a,onStop:s}){return t.jsx("div",{className:"flex items-center gap-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((n,r)=>t.jsx("div",{className:"w-1.5 rounded-sm bg-indigo-500",style:{animation:`eqbar 0.9s ${n}ms ease-in-out infinite`}},r))}),t.jsx("button",{type:"button",onClick:s,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-rose-200 transition hover:brightness-110 bg-gradient-to-br from-rose-500 to-red-500",title:"Stop",children:t.jsx(wu,{className:"h-5 w-5"})})]}):t.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-indigo-200 transition hover:brightness-110 bg-gradient-to-br from-indigo-600 to-blue-500",title:"Play preview",children:t.jsx(Fu,{className:"h-5 w-5"})})})}const gi={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},Zxe=`
You are a professional and friendly assistant. Always speak in a natural, conversational way that feels human, polite, and approachable. Your goal is to sound like a helpful representative who is confident and enthusiastic . Keep your replies brief and natural, as if you were speaking in real conversation, without sounding robotic or scripted.

Stay focused only on the system prompt you are give and be the agent just for that prompt . If someone asks about something unrelated, politely guide them back by saying something like, I can only answer questions related to our company, could you please ask me something in that area? Always remain polite and respectful when doing so. If the customer wants to end the call, acknowledge them warmly and end it immediately.

You must only communicate in English. If someone speaks in another language, respond politely by saying, I can only communicate in English, lets continue in English please. Throughout every interaction, keep your answers short, clear, and professional, Donot make pause or delay after the first message . Reply as fast as you can while still sounding human, friendly, and approachable.
`.trim(),$P=/^\+\d{7,15}$/,IP=[{id:1,key:"core",label:"Core & Transcription",Icon:DN},{id:2,key:"voice",label:"Voice",Icon:UN},{id:3,key:"review",label:"Review & Create",Icon:Fc}],Jxe=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Qxe=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function epe(){const e=ba(),[a,s]=x.useState(1),[n,r]=x.useState(!1),[l,c]=x.useState(!1),u=x.useRef(null),[m,h]=x.useState(!1),[f,g]=x.useState("all"),[b,v]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.6,maxTokens:200,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=x.useState({}),[S,k]=x.useState([]),[_,C]=x.useState(!1),[T,O]=x.useState(""),E=x.useMemo(()=>{const A=b.voice_provider==="openai"?nm:qc;return(f==="all"?A:A.filter(K=>K.gender===f)).slice().sort((K,z)=>((K==null?void 0:K.showName)||"").localeCompare((z==null?void 0:z.showName)||""))},[b.voice_provider,f]);x.useEffect(()=>{if(!b.voice)return;const A=E.find(U=>(U==null?void 0:U.name)===b.voice);A!=null&&A.voice&&(v(U=>({...U,voice_model:A.voice})),j(U=>({...U,voice_model:""})))},[b.voice,E]);const $="http://13.60.203.103",M=A=>{const{id:U,value:K,type:z,checked:I}=A.target,D=z==="checkbox"?I:K;v(R=>({...R,[U]:D})),j(R=>({...R,[U]:""}))},H=A=>{try{u.current&&(u.current.pause(),u.current=null);const U=new Audio(A||"");u.current=U,c(!0),U.play().catch(()=>{L.error("Failed to play voice preview"),c(!1),u.current=null}),U.onended=()=>{c(!1),u.current=null}}catch{L.error("Failed to play voice preview"),c(!1)}},V=()=>{u.current&&(u.current.pause(),u.current=null,c(!1))},F=A=>{if(A!==a){if(A===3&&(!b.voice||!m)){j(U=>({...U,voice:"Select a voice and press Next to continue"})),L.error("Please select a voice and press Next to continue.");return}V(),s(A)}},B=()=>{if(a===1)return s(2);if(a===2){if(!b.voice){j(A=>({...A,voice:"Please select a voice"})),L.error("Select a voice to continue.");return}if(!m){j(A=>({...A,voice:"Click a voice card to confirm your choice"})),L.info("Click a voice card to confirm your choice.");return}s(3)}},ee=async()=>{C(!0),O("");try{const A=localStorage.getItem("token"),U=await fetch(`${$}/api/purchased_numbers`,{headers:{Accept:"application/json",...A?{Authorization:`Bearer ${A}`}:{}}});if(!U.ok)throw new Error(`HTTP ${U.status}`);const K=await U.json(),I=(Array.isArray(K)?K:(K==null?void 0:K.purchased_numbers)||[]).filter(Boolean).map(D=>({phone_number:(D==null?void 0:D.phone_number)||"",friendly_name:(D==null?void 0:D.friendly_name)||"",attached_assistant:(D==null?void 0:D.attached_assistant)??null})).filter(D=>D.phone_number);k(I)}catch(A){console.error(A),O("Failed to load your purchased numbers"),k([])}finally{C(!1)}};x.useEffect(()=>{ee()},[]);const we=()=>{const A=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],U={};let K=!0;if(A.forEach(z=>{const I=b[z];(I==null||I===""||Number.isNaN(I))&&(U[z]="Required",K=!1)}),(b.temperature<0||b.temperature>2)&&(U.temperature="Temperature must be between 0 and 2",K=!1),b.maxTokens<1&&(U.maxTokens="maxTokens must be a positive integer",K=!1),b.forwardingPhoneNumber&&!$P.test(b.forwardingPhoneNumber)&&(U.forwardingPhoneNumber="Must be E.164 (+123...)",K=!1),b.attached_Number&&!$P.test(b.attached_Number)&&(U.attached_Number="Invalid number format",K=!1),j(U),!K){const z=R=>R.some(Z=>U[Z]),I=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],D=["voice_provider","voice_model","voice"];z(I)?s(1):z(D)&&s(2)}return K},ne=async A=>{if(A.preventDefault(),!n){if(a!==3){L.error("Please complete the steps first.");return}if(we()){r(!0),V();try{const U=localStorage.getItem("token"),K=`${$}/api/assistants`,z=[Zxe,(b.systemPrompt||"").trim()].filter(Boolean).join(`

`),I={name:b.name,provider:b.provider,first_message:b.first_message||null,model:b.model,systemPrompt:z,knowledgeBase:b.knowledgeBase,leadsfile:b.leadsfile,temperature:Number(b.temperature),maxTokens:Number(b.maxTokens),transcribe_provider:b.transcribe_provider,transcribe_language:b.transcribe_language,transcribe_model:b.transcribe_model,languages:b.languages,forwardingPhoneNumber:b.forwardingPhoneNumber||null,endCallPhrases:b.endCallPhrases,voice_provider:b.voice_provider,voice:b.voice,voice_model:b.voice_model,attached_Number:b.attached_Number||null,draft:!!b.draft,assistant_toggle:!!b.assistant_toggle,category:b.category||null,speed:Number(b.speed),stability:Number(b.stability),similarityBoost:Number(b.similarityBoost)},D=await fetch(K,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...U?{Authorization:`Bearer ${U}`}:{}},body:JSON.stringify(I)});if(!D.ok){let R=`HTTP ${D.status}`;try{const Z=await D.json();Z!=null&&Z.detail&&(R=Z.detail)}catch{const Z=await D.text();Z&&(R=`${R}  ${Z}`)}throw new Error(R)}L.success("Assistant created successfully!"),e("/user/callassistent")}catch(U){L.error((U==null?void 0:U.message)||"Failed to create assistant")}finally{r(!1)}}}};return x.useEffect(()=>{h(!1),v(A=>({...A,voice:"",voice_model:""}))},[b.voice_provider]),t.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:gi.background},children:[t.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:t.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),t.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),t.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[t.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:gi.border,backgroundColor:gi.card},children:t.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[t.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),t.jsxs("div",{className:"relative p-6 text-center",children:[t.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[t.jsx(Fc,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),t.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),t.jsx(tpe,{currentStep:a,onChange:F}),t.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:gi.card,borderColor:gi.border},children:t.jsxs("form",{onSubmit:ne,noValidate:!0,children:[t.jsxs(jt,{mode:"wait",children:[a===1&&t.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsx(Ux,{id:"name",label:"Assistant Name",value:b.name,onChange:M,error:w.name,placeholder:"SupportBot"}),t.jsx(Ux,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:b.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Yh,{children:"Attach Purchased Number (optional)"}),t.jsx("button",{type:"button",onClick:ee,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),t.jsxs("select",{id:"attached_Number",value:b.attached_Number,onChange:M,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[t.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(A=>t.jsx("option",{value:A.phone_number,className:"bg-white",children:A.friendly_name?`${A.friendly_name}  ${A.phone_number}`:A.phone_number},A.phone_number))]}),T&&t.jsx(hc,{children:T}),w.attached_Number&&t.jsx(hc,{children:w.attached_Number})]}),t.jsx(Ux,{id:"category",label:"Category (optional)",value:b.category,onChange:M}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Yh,{children:"System Prompt"}),t.jsx(UP,{id:"systemPrompt",value:b.systemPrompt,onChange:M,placeholder:"Add any custom instructions for your Carsaz agent",rows:4}),w.systemPrompt&&t.jsx(hc,{children:w.systemPrompt})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Yh,{children:"First Message"}),t.jsx(UP,{id:"first_message",value:b.first_message,onChange:M,placeholder:"Hello! Thanks for calling Carsazhow can I help you today?",rows:3}),w.first_message&&t.jsx(hc,{children:w.first_message})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[t.jsx(FP,{id:"draft",label:"Save as Draft",checked:b.draft,onChange:M}),t.jsx(FP,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:b.assistant_toggle,onChange:M})]})]},"step1"),a===2&&t.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsx(BP,{id:"voice_provider",label:"Voice Provider",value:b.voice_provider,onChange:A=>{V();const U=A.target.value;v(K=>({...K,voice_provider:U,voice:"",voice_model:""})),h(!1),j(K=>({...K,voice:"",voice_model:""}))},options:Jxe,error:w.voice_provider}),t.jsx(BP,{id:"genderFilter",label:"Gender",value:f,onChange:A=>{V(),g(A.target.value),h(!1)},options:Qxe}),t.jsx(Ux,{id:"voice_model",label:"Voice Model",value:b.voice_model,onChange:()=>{},error:w.voice_model,placeholder:b.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!m&&t.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",t.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",t.jsx("span",{className:"font-medium",children:"Next"}),"."]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&t.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:gi.border},children:"No voices match this filter."}),E.map(A=>t.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:b.voice===A.name?"#93c5fd":gi.border,backgroundColor:b.voice===A.name?"#eff6ff":gi.card},onClick:()=>{v(U=>({...U,voice:A.name,voice_model:A.voice,voice_provider:A.provider||b.voice_provider})),h(!0),j(U=>({...U,voice:"",voice_model:""}))},children:[t.jsx("div",{className:"absolute left-3 top-3",children:t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${b.voice===A.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),t.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold text-slate-900",children:A.showName||A.name}),t.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[A.gender||"unknown","  ",A.provider]}),t.jsx("div",{className:"mt-1 text-xs text-slate-500",children:A.voice})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(ape,{isActive:l&&b.voice===A.name,onPlay:()=>H(A.audioSr||""),onStop:V})})]})]},`${A.provider}-${A.name}`))]}),w.voice&&t.jsx(hc,{children:w.voice})]},"step2"),a===3&&t.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:t.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:gi.border},children:[t.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx(Xo,{label:"Name",value:b.name||""}),t.jsx(Xo,{label:"Model",value:`${b.provider}  ${b.model}`}),t.jsx(Xo,{label:"Voice Provider",value:b.voice_provider}),t.jsx(Xo,{label:"Voice",value:b.voice||""}),t.jsx(Xo,{label:"Voice Model",value:b.voice_model||""}),t.jsx(Xo,{label:"Forwarding Number",value:b.forwardingPhoneNumber||""}),t.jsx(Xo,{label:"Attach Number",value:b.attached_Number||""})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[t.jsx(hw,{onClick:()=>s(2),children:"Edit Voice"}),t.jsx(hw,{onClick:()=>s(1),children:"Edit Core"})]})]})},"step3")]}),t.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[a>1?t.jsx(hw,{onClick:()=>F(a-1),children:"Back"}):t.jsx("span",{}),a<3?t.jsxs(zP,{onClick:B,children:["Next ",t.jsx(Aa,{className:"ml-1 h-4 w-4"})]}):t.jsx(zP,{type:"submit",disabled:n,children:n?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Ma,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function tpe({currentStep:e,onChange:a}){return t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:IP.map(({id:s,label:n,Icon:r})=>{const l=e===s;return t.jsxs(he.button,{onClick:()=>a(s),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[t.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:t.jsx(r,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:n}),t.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},s)})}),t.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:t.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/IP.length*100}%`}})})]})}function zP({children:e,onClick:a,type:s="button",disabled:n}){return t.jsx("button",{type:s,onClick:a,disabled:n,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${n?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function hw({children:e,onClick:a}){return t.jsx("button",{type:"button",onClick:a,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Yh({children:e}){return t.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function hc({children:e}){return t.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function Ux({id:e,label:a,value:s,onChange:n,error:r,placeholder:l,readOnly:c=!1,disabled:u=!1}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(Yh,{children:a}),t.jsx("input",{id:e,type:"text",value:s,onChange:n,placeholder:l,readOnly:c,disabled:u,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${u?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),r&&t.jsx(hc,{children:r})]})}function BP({id:e,label:a,value:s,onChange:n,options:r,error:l}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(Yh,{children:a}),t.jsx("select",{id:e,value:s,onChange:n,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:r.map(c=>t.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&t.jsx(hc,{children:l})]})}function UP({id:e,value:a,onChange:s,placeholder:n,rows:r=4}){return t.jsx("textarea",{id:e,value:a,onChange:s,placeholder:n,rows:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function FP({id:e,label:a,checked:s,onChange:n}){return t.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[t.jsx("input",{id:e,type:"checkbox",checked:s,onChange:n,className:"accent-blue-600"}),t.jsx("span",{children:a})]})}function Xo({label:e,value:a}){return t.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:gi.border},children:[t.jsx("div",{className:"text-slate-500",children:e}),t.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:a})]})}function ape({isActive:e,onPlay:a,onStop:s}){return t.jsx("div",{className:"flex items-center gap-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((n,r)=>t.jsx("div",{className:"w-1.5 rounded-sm",style:{backgroundColor:"#3B82F6",animation:`eqbar 0.9s ${n}ms ease-in-out infinite`}},r))}),t.jsx("button",{type:"button",onClick:s,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:t.jsx(wu,{className:"h-5 w-5"})})]}):t.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:t.jsx(Fu,{className:"h-5 w-5"})})})}const Zo="http://13.60.203.103",Jl={FILES:`${Zo}/api/files`,FILE:e=>`${Zo}/api/files/${e}`,SYNC:{HUBSPOT:`${Zo}/api/crm/ingest/hubspot`,GHL:`${Zo}/api/crm/ingest/ghl`,MONDAY:`${Zo}/api/crm/ingest/monday`},CAMPAIGNS:`${Zo}/api/campaigns/campaigns`,ADD_FILES_TO_CAMPAIGN:e=>`${Zo}/api/campaigns/${e}/add-files`},spe=["CSV","HubSpot CRM","GHL CRM","Monday CRM"],npe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Pp(...e){return e.filter(Boolean).join(" ")}function Wa({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[n]} ${u[s]} ${a}`,children:e})}function fw({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a}),t.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(Wa,{onClick:a,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:t.jsx(js,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Fx({label:e,value:a,tone:s="blue"}){const n=s==="blue"?"ring-blue-200/60":"ring-cyan-200/60",r=s==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${r} text-white shadow-inner ring-1 ${n}`,children:t.jsx(Th,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function lh({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function oh({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function VP({id:e}){const[a,s]=x.useState(!1);return t.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(String(e||"")),s(!0),setTimeout(()=>s(!1),1e3)}catch{}},className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-600 hover:bg-slate-100 max-w-full",title:"Copy alphanumeric id",children:[a?t.jsx(cu,{className:"h-3.5 w-3.5"}):t.jsx(la,{className:"h-3.5 w-3.5"}),t.jsx("span",{className:"truncate max-w-[9rem]",children:e})]})}function rpe(){const e=ba(),[a,s]=x.useState([]),[n,r]=x.useState(!1),[l,c]=x.useState(""),[u,m]=x.useState(""),[h,f]=x.useState("created_at"),[g,b]=x.useState("desc"),[v,w]=x.useState(!1),[j,S]=x.useState("New List"),[k,_]=x.useState(null),[C,T]=x.useState(!1),[O,E]=x.useState(!1),$=x.useRef(null),[M,H]=x.useState({open:!1,id:null,name:""}),[V,F]=x.useState(!1),[B,ee]=x.useState(new Set),[we,ne]=x.useState(!1),[A,U]=x.useState(!1),[K,z]=x.useState([]),[I,D]=x.useState(""),[R,Z]=x.useState(!1),[de,le]=x.useState([]),[be,Ue]=x.useState(!1),xe=()=>localStorage.getItem("token"),ve=x.useCallback(async()=>{const X=xe();if(!X){s([]),c("No auth token found."),L.error("No authentication token found.");return}try{r(!0),c("");const Te=await fetch(Jl.FILES,{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}});if(!Te.ok)throw new Error(`HTTP ${Te.status}`);const He=await Te.json();s(Array.isArray(He)?He:[])}catch(Te){c((Te==null?void 0:Te.message)||"Failed to load lists"),L.error((Te==null?void 0:Te.message)||"Failed to load lists")}finally{r(!1)}},[]);x.useEffect(()=>{ve()},[ve]);const Ie=x.useMemo(()=>{const X=u.trim().toLowerCase();return[...X?a.filter(Ve=>[Ve.name,Ve.alphanumeric_id,Ve.created_at].filter(Boolean).some(rt=>String(rt).toLowerCase().includes(X))):a].sort((Ve,rt)=>{let nt=Ve[h],Oe=rt[h];return h==="created_at"&&(nt=new Date(Ve.created_at).getTime(),Oe=new Date(rt.created_at).getTime()),nt<Oe?g==="asc"?-1:1:nt>Oe?g==="asc"?1:-1:0})},[a,u,h,g]),Ye=a.length,ke=a.reduce((X,Te)=>X+(Number(Te.leads_count)||0),0),Je=a[0]||null,Xe=X=>{h===X?b(Te=>Te==="asc"?"desc":"asc"):(f(X),b("desc"))},ue=X=>e(`/user/lead/${X.id}`);async function ie(X){const Te=xe();if(!Te)return L.error("No authentication token found.");try{const He=await fetch(Jl.FILE(X),{method:"DELETE",headers:{Authorization:`Bearer ${Te}`,Accept:"application/json"}});if(!He.ok)throw new Error(`HTTP ${He.status}`);L.success(" List deleted"),H({open:!1,id:null,name:""}),s(Ve=>Ve.filter(rt=>rt.id!==X)),ee(Ve=>{const rt=new Set(Ve);return rt.delete(X),rt})}catch(He){L.error((He==null?void 0:He.message)||"Delete failed")}}async function De(){const X=xe();if(!X)return L.error("No authentication token found.");if(!k)return L.info("Choose a CSV file");if(!j.trim())return L.info("Enter a name");T(!0);try{const Te=new FormData;Te.append("file",k),Te.append("name",j.trim());const He=await fetch(Jl.FILES,{method:"POST",headers:{Authorization:`Bearer ${X}`},body:Te});if(!He.ok){const Ve=await He.text();throw new Error(Ve||`HTTP ${He.status}`)}L.success(" List created"),w(!1),_(null),S("New List"),ve()}catch(Te){L.error((Te==null?void 0:Te.message)||"Upload failed")}finally{T(!1)}}async function G(){const X=xe();if(!X)return L.error("No authentication token found.");const Te=async Ve=>{const rt=await fetch(Ve,{method:"POST",headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}});let nt={};try{nt=await rt.json()}catch{}if(!rt.ok){const Oe=(nt==null?void 0:nt.detail)||(nt==null?void 0:nt.error)||(nt==null?void 0:nt.message)||`HTTP ${rt.status}`;throw new Error(Oe)}return nt},He=[{name:"HubSpot",url:Jl.SYNC.HUBSPOT},{name:"GHL",url:Jl.SYNC.GHL},{name:"monday.com",url:Jl.SYNC.MONDAY}];try{F(!0);const Ve=await Promise.allSettled(He.map(pt=>Te(pt.url)));let rt=0,nt=0,Oe=0,We=0;Ve.forEach((pt,Oa)=>{var J,se,fe;const oe=He[Oa].name;if(pt.status==="fulfilled"){We++;const Qe=Array.isArray((J=pt.value)==null?void 0:J.details)?pt.value.details[0]:((se=pt.value)==null?void 0:se.details)||{};rt+=Number((Qe==null?void 0:Qe.created_leads)||0),nt+=Number((Qe==null?void 0:Qe.updated_leads)||0),Oe+=Number((Qe==null?void 0:Qe.fetched_contacts)||0),L.success(`${oe}:  ${(Qe==null?void 0:Qe.created_leads)||0} new, ${(Qe==null?void 0:Qe.updated_leads)||0} updated`,{autoClose:2500})}else{const Qe=String(((fe=pt.reason)==null?void 0:fe.message)||pt.reason||"error");L.info(`${oe}: ${Qe.includes("Not connected")?"Not connected":` ${Qe}`}`,{autoClose:3e3})}}),L.success(`Sync complete: ${We}/${He.length} OK  fetched ${Oe}, created ${rt}, updated ${nt}.`),setTimeout(ve,1200)}catch(Ve){L.error((Ve==null?void 0:Ve.message)||"Sync failed")}finally{F(!1)}}const ce=X=>{ee(Te=>{const He=new Set(Te);return He.has(X)?He.delete(X):He.add(X),He})},$e=()=>{ee(X=>{const Te=Ie.map(rt=>rt.id);if(Te.every(rt=>X.has(rt)))return new Set([...X].filter(rt=>!Te.includes(rt)));const Ve=new Set(X);return Te.forEach(rt=>Ve.add(rt)),Ve}),ne(X=>!X)},qe=()=>{ee(new Set),ne(!1)},ye=x.useCallback(async()=>{const X=xe();if(!X)return L.error("No authentication token found.");try{const Te=await fetch(Jl.CAMPAIGNS,{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}});if(!Te.ok)throw new Error(await Te.text());const He=await Te.json();z(Array.isArray(He)?He:[])}catch{L.error("Failed to load campaigns")}},[]),Be=async(X=[])=>{const Te=X.length?new Set(X):B;if(Te.size===0)return L.error("Select at least one list first.");ee(Te),await ye(),U(!0)},_e=async()=>{if(!I)return L.error("Please select a campaign");const X=xe();if(!X)return L.error("No authentication token found.");Ue(!0);try{const Te={file_ids:Array.from(B),include_dnc:R,origins:de.length?de:null},He=await fetch(Jl.ADD_FILES_TO_CAMPAIGN(I),{method:"POST",headers:{Authorization:`Bearer ${X}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Te)}),Ve=await He.json().catch(()=>({}));if(!He.ok)throw new Error((Ve==null?void 0:Ve.detail)||`HTTP ${He.status}`);L.success((Ve==null?void 0:Ve.detail)||"Queued leads from selected files."),U(!1),qe()}catch(Te){L.error((Te==null?void 0:Te.message)||"Failed to push files to campaign")}finally{Ue(!1)}};function te(X){X.preventDefault(),E(!0)}function Y(X){X.preventDefault(),E(!1)}function Se(X){var He;X.preventDefault(),E(!1);const Te=(He=X.dataTransfer.files)==null?void 0:He[0];if(Te){if(!me(Te))return L.info("Please drop a .csv file");_(Te)}}function me(X){const Te=/\.csv$/i.test(X.name),He=X.type==="text/csv"||X.type==="application/vnd.ms-excel"||X.type==="";return Te||He}return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Th,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${npe}`,children:"Lists"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create and manage your CSV lists. Sync leads from connected CRMs (HubSpot, GHL, monday.com)."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(Wa,{onClick:()=>w(!0),variant:"primary",children:[t.jsx(hn,{className:"mr-2 h-4 w-4"})," New List"]}),t.jsx(Wa,{onClick:ve,disabled:n,children:n?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})}),t.jsxs(Wa,{onClick:()=>Be(),className:Pp("border-emerald-300 text-emerald-700 hover:bg-emerald-50",B.size?"animate-pulse":""),disabled:B.size===0,children:[t.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Push to Campaign"]}),t.jsx(Wa,{onClick:G,disabled:V,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:V?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):t.jsx(t.Fragment,{children:"SYNC LEADS"})})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(Fx,{label:"Total Lists",value:Ye}),t.jsx(Fx,{label:"Total Leads",value:ke,tone:"cyan"}),t.jsx(Fx,{label:"Last Created",value:Je&&Je.name||""}),t.jsx(Fx,{label:"Newest Date",value:Je?Vx(Je.created_at):"",tone:"cyan"})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Us,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:u,onChange:X=>m(X.target.value),placeholder:"Search by name, ID, date",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsx("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0 text-xs font-medium",children:"Sort"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(xw,{label:"Name",active:h==="name",dir:g,onClick:()=>Xe("name")}),t.jsx(xw,{label:"Leads",active:h==="leads_count",dir:g,onClick:()=>Xe("leads_count")}),t.jsx(xw,{label:"Created",active:h==="created_at",dir:g,onClick:()=>Xe("created_at")})]})]})}),t.jsx(jt,{children:B.size>0&&t.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},exit:{y:8,opacity:0},className:"mt-4 flex items-center justify-between gap-3 rounded-2xl border border-blue-200 bg-blue-50 px-4 py-3 shadow-sm",children:[t.jsxs("div",{className:"text-sm font-semibold text-blue-800",children:[B.size," list",B.size>1?"s":""," selected"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Wa,{onClick:()=>Be(),variant:"primary",className:"animate-pulse",children:[t.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Push to Campaign"]}),t.jsx(Wa,{onClick:qe,variant:"subtle",children:"Clear"})]})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:["All Lists (",Ie.length,")"]}),t.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[t.jsxs("label",{className:"inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:Ie.length>0&&Ie.every(X=>B.has(X.id)),onChange:$e,title:"Select all on page"}),"Select all on page"]}),t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),n?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading lists"})]}):l?t.jsx("div",{className:"grid place-content-center py-16 px-4 text-center text-sm text-red-600",children:l}):Ie.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(Th,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try searching or upload a CSV"}),t.jsx("div",{className:"mt-3",children:t.jsxs(Wa,{onClick:()=>w(!0),variant:"primary",children:[t.jsx(hn,{className:"h-4 w-4 mr-2"})," New List"]})})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block w-full",children:t.jsxs("table",{className:"w-full table-fixed",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(lh,{}),t.jsx(lh,{children:"Name"}),t.jsx(lh,{children:"Leads"}),t.jsx(lh,{children:"Created"}),t.jsx(lh,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:Ie.map(X=>t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(oh,{children:t.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:B.has(X.id),onChange:()=>ce(X.id),title:"Select list"})}),t.jsxs(oh,{children:[t.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-2 min-w-0",children:[t.jsx("span",{className:"truncate max-w-[22rem]",children:X.name}),t.jsx(VP,{id:X.alphanumeric_id})]}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["#",X.id]})]}),t.jsx(oh,{children:t.jsx("span",{className:"text-sm font-semibold text-slate-800",children:X.leads_count??0})}),t.jsx(oh,{children:t.jsx("span",{className:"text-sm text-slate-800",children:Vx(X.created_at)})}),t.jsx(oh,{children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(Wa,{onClick:()=>ue(X),size:"sm",title:"View",children:t.jsx(wa,{className:"h-4 w-4"})}),t.jsx(Wa,{onClick:()=>H({open:!0,id:X.id,name:X.name}),variant:"danger",size:"sm",title:"Delete",children:t.jsx(ka,{className:"h-4 w-4"})}),t.jsxs(Wa,{onClick:()=>Be([X.id]),size:"sm",className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",title:"Push this list to a campaign",children:[t.jsx(Sr,{className:"h-4 w-4 mr-1"})," Push"]})]})})]},X.id))})]})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Ie.map(X=>t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-4 relative",children:[t.jsx("div",{className:"absolute top-3 right-3",children:t.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:B.has(X.id),onChange:()=>ce(X.id),title:"Select list"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 truncate",title:X.name,children:X.name}),t.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-600",children:[t.jsx(VP,{id:X.alphanumeric_id}),t.jsxs("span",{className:"text-[11px] text-slate-500",children:["ID #",X.id]})]}),t.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Leads"}),t.jsx("div",{className:"font-semibold text-slate-900",children:X.leads_count??0})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Created"}),t.jsx("div",{className:"font-semibold text-slate-900 truncate",title:Vx(X.created_at),children:Vx(X.created_at)})]})]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsxs(Wa,{onClick:()=>ue(X),size:"sm",className:"grow sm:grow-0",children:[t.jsx(wa,{className:"h-4 w-4 mr-1"})," View"]}),t.jsxs(Wa,{onClick:()=>H({open:!0,id:X.id,name:X.name}),variant:"danger",size:"sm",className:"grow sm:grow-0",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Delete"]}),t.jsxs(Wa,{onClick:()=>Be([X.id]),size:"sm",className:"grow sm:grow-0 border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:[t.jsx(Sr,{className:"h-4 w-4 mr-1"})," Push"]})]})]},X.id))})})]})]})]}),t.jsx(jt,{children:v&&t.jsx(fw,{onClose:()=>w(!1),title:"Create New List",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"List name"}),t.jsx("input",{value:j,onChange:X=>S(X.target.value),placeholder:"e.g., July Prospects",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsxs("div",{onDragOver:te,onDragLeave:Y,onDrop:Se,className:Pp("relative grid place-items-center rounded-2xl border-2 border-dashed px-4 py-10 transition",O?"border-blue-500 bg-blue-50/60":"border-slate-300 bg-slate-50/60 hover:bg-slate-50"),children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"mb-2 rounded-xl bg-white p-3 shadow",children:t.jsx(Th,{className:"h-6 w-6 text-slate-700"})}),t.jsx("p",{className:"text-sm text-slate-700",children:"Drag & drop your CSV here, or"}),t.jsxs(Wa,{type:"button",onClick:()=>{var X;return(X=$.current)==null?void 0:X.click()},variant:"primary",className:"mt-2",children:[t.jsx(WV,{className:"h-4 w-4 mr-2"})," Browse Files"]}),t.jsx("input",{ref:$,type:"file",accept:".csv,text/csv",onChange:X=>{var He;const Te=((He=X.target.files)==null?void 0:He[0])||null;if(!Te)return _(null);if(!me(Te)){L.info("Please choose a .csv file"),X.target.value="";return}_(Te)},className:"hidden"}),t.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Only .csv files are supported."})]}),k&&t.jsxs("div",{className:"absolute left-4 bottom-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow",children:[t.jsx(Th,{className:"h-4 w-4"}),t.jsx("span",{className:"truncate max-w-[14rem]",children:k.name}),t.jsxs("span",{className:"opacity-70",children:[" ",ipe(k.size)]}),t.jsx("button",{onClick:()=>_(null),className:"ml-1 rounded-full p-1 hover:bg-slate-100",title:"Remove file",children:t.jsx(js,{className:"h-3.5 w-3.5"})})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[t.jsx(Wa,{onClick:()=>w(!1),variant:"subtle",children:"Cancel"}),t.jsx(Wa,{onClick:De,disabled:C,variant:"primary",children:C?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"})," Uploading"]}):t.jsxs(t.Fragment,{children:[t.jsx(hn,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})}),t.jsx(jt,{children:A&&t.jsx(fw,{onClose:()=>U(!1),title:"Push Lists to Campaign",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-sm text-slate-700",children:[B.size," list",B.size>1?"s":""," selected."]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Select campaign"}),t.jsxs("select",{value:I,onChange:X=>D(X.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:" Choose campaign "}),K.map(X=>t.jsxs("option",{value:X.id,children:[X.name,"  ",X.status]},X.id))]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 bg-slate-50",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-800 mb-2",children:"Options"}),t.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:R,onChange:X=>Z(X.target.checked)}),"Include DNC (not recommended)"]}),t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-600 mb-1",children:"Origin filter (optional)"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[spe.map(X=>{const Te=de.includes(X);return t.jsx("button",{type:"button",onClick:()=>le(He=>He.includes(X)?He.filter(Ve=>Ve!==X):[...He,X]),className:Pp("rounded-full px-3 py-1 text-xs border",Te?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"),children:X},X)}),de.length>0&&t.jsx("button",{type:"button",onClick:()=>le([]),className:"rounded-full px-3 py-1 text-xs border border-slate-300 bg-white text-slate-700 hover:bg-slate-50",title:"Clear origin filter",children:"Clear"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[t.jsx(Wa,{onClick:()=>U(!1),variant:"subtle",children:"Cancel"}),t.jsx(Wa,{onClick:_e,disabled:be||!I,variant:"primary",children:be?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"})," Pushing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Sr,{className:"h-4 w-4 mr-2"})," Push"]})})]})]})})}),t.jsx(jt,{children:M.open&&t.jsxs(fw,{onClose:()=>H({open:!1,id:null,name:""}),title:"Delete List?",children:[t.jsxs("p",{className:"text-slate-700 mb-4",children:["This will permanently remove ",t.jsx("b",{className:"text-slate-900 break-words",children:M.name})," and all its leads."]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Wa,{onClick:()=>H({open:!1,id:null,name:""}),variant:"subtle",children:"Cancel"}),t.jsxs(Wa,{onClick:()=>ie(M.id),variant:"danger",children:[t.jsx(ka,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]})}function Vx(e){try{const a=new Date(e);return isNaN(a.getTime())?String(e||""):a.toLocaleString()}catch{return String(e||"")}}function ipe(e){if(!Number.isFinite(e))return"0 B";const a=["B","KB","MB","GB"];let s=0;for(;e>=1024&&s<a.length-1;)e/=1024,s++;return`${e.toFixed(e>=10||s===0?0:1)} ${a[s]}`}function xw({label:e,active:a,dir:s,onClick:n}){const r=s==="asc"?cD:LN;return t.jsxs("button",{onClick:n,className:Pp("inline-flex items-center gap-1 rounded-xl border px-3 py-2",a?"border-blue-300 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[e," ",a&&t.jsx(r,{className:"h-4 w-4"})]})}const Ql="http://13.60.203.103",lpe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function ope(e,a=250){const[s,n]=x.useState(e);return x.useEffect(()=>{const r=setTimeout(()=>n(e),a);return()=>clearTimeout(r)},[e,a]),s}function cpe(){const e=ba(),{id:a}=kf(),s=Number(a),[n,r]=x.useState([]),[l,c]=x.useState([]),[u,m]=x.useState([]),[h,f]=x.useState(!0),[g,b]=x.useState(!1),[v,w]=x.useState(""),[j,S]=x.useState(""),k=ope(j,250),[_,C]=x.useState(""),[T,O]=x.useState("add_date"),[E,$]=x.useState("desc"),[M,H]=x.useState(1),[V,F]=x.useState(10),[B,ee]=x.useState(!1),[we,ne]=x.useState(!1),[A,U]=x.useState(!1),[K,z]=x.useState(!1),[I,D]=x.useState(null),[R,Z]=x.useState(null),[de,le]=x.useState(!1),[be,Ue]=x.useState(!1),[xe,ve]=x.useState(!1),[Ie,Ye]=x.useState(null),ke=x.useRef(localStorage.getItem("token")||null),[Je,Xe]=x.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[ue,ie]=x.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[De,G]=x.useState({vapi_assistant_id:"",assistant_id:"",number:"",first_name:"",last_name:"",email:"",lead_id:null}),ce=x.useCallback(async()=>{const J=ke.current;if(!J){f(!1),w("No auth token found"),L.error("No authentication token found.");return}try{f(!0),w("");const se=await fetch(`${Ql}/api/leads${s?`?file_id=${s}`:""}`,{headers:{Authorization:`Bearer ${J}`,Accept:"application/json"}});if(!se.ok)throw new Error(`HTTP ${se.status}`);const fe=await se.json();r(Array.isArray(fe)?fe:[])}catch(se){w((se==null?void 0:se.message)||"Failed to load leads"),L.error((se==null?void 0:se.message)||"Failed to load leads")}finally{f(!1)}},[s]),$e=x.useCallback(async()=>{const J=ke.current;if(!J||!s){c([]);return}try{const se=await fetch(`${Ql}/api/files/${s}/dynamic-columns`,{headers:{Authorization:`Bearer ${J}`,Accept:"application/json"}});if(!se.ok)throw new Error(`HTTP ${se.status}`);const fe=await se.json();c(Array.isArray(fe==null?void 0:fe.columns)?fe.columns:[])}catch(se){c([]),console.warn("Dynamic columns fetch failed:",se)}},[s]),qe=x.useCallback(async()=>{const J=ke.current;try{const se=await fetch(`${Ql}/api/get-assistants`,{headers:{Authorization:J?`Bearer ${J}`:"",Accept:"application/json"}});if(!se.ok)throw new Error(`HTTP ${se.status}`);const fe=await se.json(),ht=(Array.isArray(fe)?fe:Array.isArray(fe==null?void 0:fe.assistants)?fe.assistants:[]).filter(Ct=>Ct==null?void 0:Ct.vapi_assistant_id);m(ht)}catch(se){console.error(se),L.error("Failed to load assistants"),m([])}},[]);x.useEffect(()=>{ce(),$e(),qe()},[a]);const ye=x.useMemo(()=>{const J=new Set;return n.forEach(se=>(se==null?void 0:se.state)&&J.add(se.state)),Array.from(J).sort((se,fe)=>se.localeCompare(fe))},[n]),Be=x.useMemo(()=>{const J=k.trim().toLowerCase();return n.filter(fe=>{var ht,Ct;return _&&(fe.state||"")!==_?!1:J?[fe.first_name,fe.last_name,fe.email,fe.mobile,fe.salesforce_id,(ht=fe==null?void 0:fe.other_data)==null?void 0:ht.Custom_0,(Ct=fe==null?void 0:fe.other_data)==null?void 0:Ct.Custom_1].concat(Object.values((fe==null?void 0:fe.other_data)||{})).filter(Boolean).map(wt=>String(wt).toLowerCase()).some(wt=>wt.includes(J)):!0})},[n,k,_]),_e=x.useMemo(()=>{const J=[...Be],se=E==="asc"?1:-1;return J.sort((fe,Qe)=>{const ht=`${fe.first_name||""} ${fe.last_name||""}`.trim(),Ct=`${Qe.first_name||""} ${Qe.last_name||""}`.trim();let wt,Vt;switch(T){case"name":wt=ht.toLowerCase(),Vt=Ct.toLowerCase();break;case"email":wt=(fe.email||"").toLowerCase(),Vt=(Qe.email||"").toLowerCase();break;case"mobile":wt=(fe.mobile||"").toLowerCase(),Vt=(Qe.mobile||"").toLowerCase();break;case"add_date":default:wt=new Date(fe.add_date||0).getTime(),Vt=new Date(Qe.add_date||0).getTime()}return wt<Vt?-1*se:wt>Vt?1*se:0}),J},[Be,T,E]),te=_e.length,Y=Math.max(1,Math.ceil(te/V));x.useEffect(()=>{M>Y&&H(Y)},[M,Y]);const Se=(M-1)*V,me=_e.slice(Se,Se+V),X=n[n.length-1]||null,Te=J=>{var se,fe;D(J.id),ie({first_name:J.first_name||"",last_name:J.last_name||"",email:J.email||"",mobile:J.mobile||"",salesforce_id:J.salesforce_id||"",custom0:((se=J==null?void 0:J.other_data)==null?void 0:se.Custom_0)||"",custom1:((fe=J==null?void 0:J.other_data)==null?void 0:fe.Custom_1)||"",add_date:J.add_date||new Date().toISOString()}),U(!0)},He=async()=>{const J=ke.current;if(!(!J||!I))try{z(!0);const se={first_name:ue.first_name.trim(),last_name:ue.last_name.trim(),email:ue.email.trim(),mobile:ue.mobile.trim(),salesforce_id:ue.salesforce_id.trim(),add_date:ue.add_date,other_data:{Custom_0:ue.custom0||"",Custom_1:ue.custom1||""}},fe=await fetch(`${Ql}/api/leads/${I}`,{method:"PUT",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify(se)}),Qe=await fe.json();if(!fe.ok||(Qe==null?void 0:Qe.success)===!1)throw new Error((Qe==null?void 0:Qe.detail)||`HTTP ${fe.status}`);L.success((Qe==null?void 0:Qe.detail)||"Lead updated"),U(!1),D(null),ce()}catch(se){L.error((se==null?void 0:se.message)||"Update failed")}finally{z(!1)}},Ve=async()=>{const J=ke.current;if(!J)return L.error("Missing token");if(!Je.first_name||!Je.last_name||!Je.email||!Je.mobile)return L.info("Please fill first, last, email and mobile.");try{ne(!0);const se={first_name:Je.first_name.trim(),last_name:Je.last_name.trim(),email:Je.email.trim(),add_date:Je.add_date,mobile:Je.mobile.trim(),file_id:s||null,salesforce_id:Je.salesforce_id.trim(),other_data:{Custom_0:Je.custom0||"",Custom_1:Je.custom1||""}},fe=await fetch(`${Ql}/api/add_manually_lead`,{method:"POST",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify(se)});if(!fe.ok)throw new Error(`HTTP ${fe.status}`);await fe.json(),L.success("Lead added"),ee(!1),Xe({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),ce()}catch(se){L.error((se==null?void 0:se.message)||"Failed to add lead")}finally{ne(!1)}},rt=async()=>{const J=ke.current;if(!(!J||!R))try{const se=await fetch(`${Ql}/api/leads`,{method:"DELETE",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify({ids:[R]})});if(!se.ok)throw new Error(`HTTP ${se.status}`);await se.json(),L.success("Lead deleted"),Z(null),xe&&ve(!1),ce()}catch(se){L.error((se==null?void 0:se.message)||"Delete failed")}},nt=async()=>{const J=ke.current;if(!J)return L.error("Missing token");try{b(!0);const se=await fetch(`${Ql}/api/crm/ingest/hubspot`,{method:"POST",headers:{Authorization:`Bearer ${J}`,Accept:"application/json"}}),fe=await se.json().catch(()=>({}));if(!se.ok||(fe==null?void 0:fe.success)===!1)throw new Error((fe==null?void 0:fe.detail)||`HTTP ${se.status}`);L.success(`Synced HubSpot: ${(fe==null?void 0:fe.created)||0} created, ${(fe==null?void 0:fe.updated)||0} updated`),ce()}catch(se){L.error((se==null?void 0:se.message)||"HubSpot sync failed")}finally{b(!1)}},Oe=J=>{if(!J)return"";const se=String(J).trim();return se.startsWith("+")?"+"+se.slice(1).replace(/\D+/g,""):se.replace(/\D+/g,"")},We=J=>{var Qe,ht,Ct,wt,Vt,At,La,Cs,qa,Ra;const fe=[J==null?void 0:J.mobile,J==null?void 0:J.phone,(Qe=J==null?void 0:J.other_data)==null?void 0:Qe.phone,(ht=J==null?void 0:J.other_data)==null?void 0:ht.Phone,(Ct=J==null?void 0:J.other_data)==null?void 0:Ct.mobile,(wt=J==null?void 0:J.other_data)==null?void 0:wt.Mobile,(Vt=J==null?void 0:J.other_data)==null?void 0:Vt.telephone,(At=J==null?void 0:J.other_data)==null?void 0:At.Telephone,(La=J==null?void 0:J.other_data)==null?void 0:La.cell,(Cs=J==null?void 0:J.other_data)==null?void 0:Cs.Cell,(qa=J==null?void 0:J.other_data)==null?void 0:qa.Custom_0,(Ra=J==null?void 0:J.other_data)==null?void 0:Ra.Custom_1].filter(Boolean).find(Boolean);return Oe(fe||"")},pt=J=>{const se=We(J);se||L.info("No phone number on this lead  you can still enter one to call.");const fe=localStorage.getItem("lastAssistantId")||"",Qe=u.find(ht=>String(ht.id)===String(fe)&&(ht==null?void 0:ht.vapi_assistant_id))||u.find(ht=>ht==null?void 0:ht.vapi_assistant_id)||null;G({vapi_assistant_id:(Qe==null?void 0:Qe.vapi_assistant_id)||"",assistant_id:(Qe==null?void 0:Qe.id)||"",number:se,first_name:J.first_name||"",last_name:J.last_name||"",email:J.email||"",lead_id:J.id}),le(!0)},Oa=async J=>{if(J.preventDefault(),be)return;const se=ke.current,{vapi_assistant_id:fe,number:Qe,first_name:ht,last_name:Ct,email:wt}=De;if(!fe)return L.error("Select an assistant first");if(!Qe)return L.error("Enter a phone number");const Vt=Oe(Qe);if(!Vt)return L.error("Invalid phone number");try{Ue(!0);const At=`${Ql}/api/phone-call/${encodeURIComponent(fe)}/${encodeURIComponent(Vt)}`,La={first_name:ht||"Caller",last_name:Ct||"",email:wt||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Vt,custom_field_01:null,custom_field_02:null},Cs=await fetch(At,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:se?`Bearer ${se}`:""},body:JSON.stringify(La)}),qa=await Cs.json().catch(()=>({}));if(!Cs.ok||(qa==null?void 0:qa.success)===!1)throw new Error((qa==null?void 0:qa.detail)||`HTTP ${Cs.status}`);De.assistant_id&&localStorage.setItem("lastAssistantId",String(De.assistant_id)),L.success("Call initiated"),le(!1)}catch(At){L.error((At==null?void 0:At.message)||"Failed to initiate call")}finally{Ue(!1)}},oe=()=>{if(_e.length===0)return L.info("Nothing to export.");const J=["id","first_name","last_name","email","mobile","salesforce_id","state","add_date"],se=Array.from(new Set(["Custom_0","Custom_1",...l])),fe=[...J,...se],Qe=_e.map(At=>{const La=[At.id??"",eo(At.first_name),eo(At.last_name),eo(At.email),eo(At.mobile),eo(At.salesforce_id),eo(At.state),eo(At.add_date)],Cs=se.map(qa=>{var Ra;return eo((Ra=At==null?void 0:At.other_data)==null?void 0:Ra[qa])});return[...La,...Cs]}),ht=[fe,...Qe].map(At=>At.join(",")).join(`
`),Ct=new Blob([ht],{type:"text/csv;charset=utf-8;"}),wt=URL.createObjectURL(Ct),Vt=document.createElement("a");Vt.href=wt,Vt.download=`leads_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Vt),Vt.click(),document.body.removeChild(Vt),URL.revokeObjectURL(wt)};return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(wa,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${lpe}`,children:"Leads"})}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["File: ",t.jsx("b",{children:s||""})]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(ca,{onClick:()=>ee(!0),variant:"primary",children:[t.jsx(hn,{className:"mr-2 h-4 w-4"})," New Lead"]}),t.jsx(ca,{onClick:nt,disabled:g,children:g?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Sync HubSpot"]})}),t.jsx(ca,{onClick:()=>e("/user/upload-csv"),children:"Upload CSV"}),t.jsxs(ca,{onClick:oe,children:[t.jsx(cl,{className:"mr-2 h-4 w-4"}),"Export"]}),t.jsxs(ca,{onClick:ce,children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[t.jsx(pw,{label:"Total Leads",value:te}),t.jsx(pw,{label:"Selected File",value:s||""}),t.jsx(pw,{label:"Last Created",value:X&&`${X.first_name||""} ${X.last_name||""}`.trim()||"",sub:X!=null&&X.add_date?HP(X.add_date):X?"Just now":"No leads yet"})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Us,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:j,onChange:J=>{S(J.target.value),H(1)},placeholder:"Search name, email, phone, Salesforce ID",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[t.jsx(_i,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("select",{value:_,onChange:J=>{C(J.target.value),H(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"All states"}),ye.map(J=>t.jsx("option",{value:J,children:J},J))]}),t.jsx("select",{value:`${T}:${E}`,onChange:J=>{const[se,fe]=J.target.value.split(":");O(se),$(fe)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[["add_date","desc","Newest"],["add_date","asc","Oldest"],["name","asc","Name AZ"],["name","desc","Name ZA"],["email","asc","Email AZ"],["email","desc","Email ZA"]].map(([J,se,fe])=>t.jsx("option",{value:`${J}:${se}`,children:fe},`${J}:${se}`))}),t.jsx("select",{value:V,onChange:J=>{F(Number(J.target.value)),H(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(J=>t.jsxs("option",{value:J,children:[J," / page"]},J))})]})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(wa,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Leads (",_e.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),h?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading leads"})]}):_e.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(wa,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or add a new lead"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Hx,{children:"Name"}),t.jsx(Hx,{children:"Email"}),t.jsx(Hx,{children:"Phone"}),t.jsx(Hx,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:me.map(J=>{const se=`${J.first_name||""} ${J.last_name||""}`.trim()||"",fe=J.mobile||We(J)||"";return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(qx,{children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:se}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",J.id,"  ",J.salesforce_id||"No Ext ID"]})]})}),t.jsx(qx,{children:t.jsx("div",{className:"text-xs font-medium text-slate-700 break-words",children:J.email||""})}),t.jsx(qx,{children:t.jsx("div",{className:"text-xs font-medium text-slate-700 break-all",children:fe})}),t.jsx(qx,{children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(ca,{onClick:()=>pt(J),size:"sm",children:[t.jsx(St,{className:"h-4 w-4 mr-1"}),"Call"]}),t.jsxs(ca,{onClick:()=>Te(J),size:"sm",children:[t.jsx(du,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(ca,{onClick:()=>{Ye(J),ve(!0)},size:"sm",children:[t.jsx(wa,{className:"h-4 w-4 mr-1"}),"More"]})]})})]},J.id)})})]})})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:me.map((J,se)=>{const fe=`${J.first_name||""} ${J.last_name||""}`.trim()||"",Qe=J.mobile||We(J)||"";return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[se===0&&t.jsx(dpe,{}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:fe}),t.jsx("div",{className:"mt-1 text-sm text-slate-600 break-words",children:J.email||""}),t.jsx("div",{className:"text-xs text-slate-500 break-all",children:Qe})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsxs(ca,{onClick:()=>pt(J),size:"sm",className:"grow sm:grow-0",children:[t.jsx(St,{className:"h-4 w-4 mr-1"}),"Call"]}),t.jsxs(ca,{onClick:()=>Te(J),size:"sm",className:"grow sm:grow-0",children:[t.jsx(du,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(ca,{onClick:()=>{Ye(J),ve(!0)},size:"sm",className:"grow sm:grow-0",children:[t.jsx(wa,{className:"h-4 w-4 mr-1"}),"More"]})]}),t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",J.id,"  ",J.salesforce_id||"No Ext ID"]})]},J.id)})})}),_e.length>V&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("b",{children:Se+1}),"",t.jsx("b",{children:Math.min(Se+V,_e.length)})," of ",t.jsx("b",{children:_e.length})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(ca,{onClick:()=>H(J=>Math.max(1,J-1)),disabled:M===1,children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Prev"]}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Y)},(J,se)=>{let fe;if(Y<=5||M<=3?fe=se+1:M>=Y-2?fe=Y-4+se:fe=M-2+se,fe<1||fe>Y)return null;const Qe=M===fe;return t.jsx("button",{onClick:()=>H(fe),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Qe?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:fe},fe)})}),t.jsxs(ca,{onClick:()=>H(J=>Math.min(Y,J+1)),disabled:M>=Y,children:["Next",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(jt,{children:B&&t.jsxs(Gx,{onClose:()=>ee(!1),title:"Create Lead",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(as,{label:"First name",children:t.jsx("input",{value:Je.first_name,onChange:J=>Xe(se=>({...se,first_name:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Last name",children:t.jsx("input",{value:Je.last_name,onChange:J=>Xe(se=>({...se,last_name:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Email",children:t.jsx("input",{type:"email",value:Je.email,onChange:J=>Xe(se=>({...se,email:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Mobile (digits only)",children:t.jsx("input",{value:Je.mobile,onChange:J=>Xe(se=>({...se,mobile:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"External ID",children:t.jsx("input",{value:Je.salesforce_id,onChange:J=>Xe(se=>({...se,salesforce_id:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Add date (ISO)",children:t.jsx("input",{value:Je.add_date,onChange:J=>Xe(se=>({...se,add_date:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"2025-08-13T10:00:00.000Z"})}),t.jsx(as,{label:"Custom_0",children:t.jsx("input",{value:Je.custom0,onChange:J=>Xe(se=>({...se,custom0:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Custom_1",children:t.jsx("input",{value:Je.custom1,onChange:J=>Xe(se=>({...se,custom1:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[t.jsx(ca,{onClick:()=>ee(!1),variant:"subtle",children:"Cancel"}),t.jsx(ca,{onClick:Ve,disabled:we||!Je.first_name||!Je.last_name||!Je.email||!Je.mobile,variant:"primary",children:we?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):t.jsxs(t.Fragment,{children:[t.jsx(ra,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),t.jsx(jt,{children:A&&t.jsxs(Gx,{onClose:()=>U(!1),title:"Edit Lead",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(as,{label:"First name",children:t.jsx("input",{value:ue.first_name,onChange:J=>ie(se=>({...se,first_name:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Last name",children:t.jsx("input",{value:ue.last_name,onChange:J=>ie(se=>({...se,last_name:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Email",children:t.jsx("input",{type:"email",value:ue.email,onChange:J=>ie(se=>({...se,email:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Mobile (digits only)",children:t.jsx("input",{value:ue.mobile,onChange:J=>ie(se=>({...se,mobile:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"External ID",children:t.jsx("input",{value:ue.salesforce_id,onChange:J=>ie(se=>({...se,salesforce_id:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Add date (ISO)",children:t.jsx("input",{value:ue.add_date,onChange:J=>ie(se=>({...se,add_date:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Custom_0",children:t.jsx("input",{value:ue.custom0,onChange:J=>ie(se=>({...se,custom0:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Custom_1",children:t.jsx("input",{value:ue.custom1,onChange:J=>ie(se=>({...se,custom1:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[t.jsx(ca,{onClick:()=>U(!1),variant:"subtle",children:"Cancel"}),t.jsx(ca,{onClick:He,disabled:K,variant:"primary",children:K?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),t.jsx(jt,{children:de&&t.jsx(Gx,{onClose:()=>le(!1),title:"Start Phone Call",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Assistant"}),t.jsxs("select",{value:De.assistant_id,onChange:J=>{const se=u.find(fe=>String(fe.id)===String(J.target.value));G(fe=>({...fe,assistant_id:J.target.value,vapi_assistant_id:(se==null?void 0:se.vapi_assistant_id)||""}))},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Select assistant"}),u.map(J=>t.jsx("option",{value:J.id,children:J.name||`Assistant ${J.id}`},J.id))]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(as,{label:"Phone Number",children:t.jsx("input",{value:De.number,onChange:J=>G(se=>({...se,number:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})}),t.jsx(as,{label:"Email",children:t.jsx("input",{type:"email",value:De.email,onChange:J=>G(se=>({...se,email:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"First name",children:t.jsx("input",{value:De.first_name,onChange:J=>G(se=>({...se,first_name:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(as,{label:"Last name",children:t.jsx("input",{value:De.last_name,onChange:J=>G(se=>({...se,last_name:J.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(ca,{onClick:()=>le(!1),variant:"subtle",children:"Cancel"}),t.jsx(ca,{onClick:Oa,disabled:be,variant:"primary",children:be?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Calling"]}):t.jsxs(t.Fragment,{children:[t.jsx(St,{className:"h-4 w-4 mr-1"}),"Start Call"]})})]})]})})}),t.jsx(jt,{children:R&&t.jsxs(Gx,{onClose:()=>Z(null),title:"Delete Lead?",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"rounded-xl bg-rose-50 p-2 text-rose-600",children:t.jsx(xD,{className:"h-5 w-5"})}),t.jsx("div",{className:"text-slate-800",children:"This will permanently delete this lead. This action cannot be undone."})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[t.jsx(ca,{onClick:()=>Z(null),variant:"subtle",children:"Cancel"}),t.jsxs(ca,{onClick:rt,variant:"danger",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),t.jsx(jt,{children:xe&&Ie&&t.jsx(upe,{onClose:()=>ve(!1),title:"Lead Details",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-bold text-slate-900 truncate",children:`${Ie.first_name||""} ${Ie.last_name||""}`.trim()||""}),t.jsx("div",{className:"text-sm text-slate-600 break-words",children:Ie.email||""}),t.jsx("div",{className:"text-xs text-slate-500 break-all",children:Ie.mobile||We(Ie)||""}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID #",Ie.id,"  ",Ie.salesforce_id||"No Ext ID"]})]})}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[t.jsx(gw,{label:"State",value:Ie.state||""}),t.jsx(gw,{label:"Timezone",value:Ie.timezone||""}),t.jsx(gw,{label:"Added",value:HP(Ie.add_date)||""})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Basic Fields"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(Od,{label:"First name",value:Ie.first_name||""}),t.jsx(Od,{label:"Last name",value:Ie.last_name||""}),t.jsx(Od,{label:"Email",value:Ie.email||""}),t.jsx(Od,{label:"Mobile",value:Ie.mobile||We(Ie)||""}),t.jsx(Od,{label:"External ID",value:Ie.salesforce_id||""})]})]}),l&&l.length>0&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Extra Fields"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(J=>{var se;return t.jsx(Od,{label:J,value:((se=Ie==null?void 0:Ie.other_data)==null?void 0:se[J])??""},J)})})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(ca,{onClick:()=>pt(Ie),children:[t.jsx(St,{className:"h-4 w-4 mr-1"}),"Call"]}),t.jsxs(ca,{onClick:()=>Te(Ie),children:[t.jsx(du,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(ca,{onClick:()=>Z(Ie.id),variant:"danger",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})})]})}function ca({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[n]} ${u[s]} ${a}`,children:e})}function pw({label:e,value:a,sub:s}){return t.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a}),s&&t.jsx("div",{className:"text-sm text-slate-500 mt-1",children:s})]})]})}function dpe(){return t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Hx({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function qx({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function as({label:e,children:a}){return t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a]})}function gw({label:e,value:a}){return t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-xs text-slate-500",children:e}),t.jsx("div",{className:"text-lg font-extrabold text-slate-900 break-all",children:a})]})}function Od({label:e,value:a}){return t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),t.jsx("div",{className:"text-sm font-semibold text-slate-800 break-words",children:String(a??"")})]})}function Gx({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(ca,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(js,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function upe({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a}),t.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(ca,{onClick:a,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:t.jsx(js,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function HP(e){try{const a=new Date(e);return isNaN(a.getTime())?String(e||""):a.toLocaleString()}catch{return String(e||"")}}function eo(e){if(e==null)return"";const a=String(e);return/[",\n]/.test(a)?`"${a.replace(/"/g,'""')}"`:a}const mpe=()=>{const[e,a]=x.useState(null),[s,n]=x.useState(!1),[r,l]=x.useState(!1),[c,u]=x.useState(""),[m,h]=x.useState(!0),[f,g]=x.useState(0),[b,v]=x.useState(""),w=x.useRef(null),{id:j}=kf(),S=5*1024*1024,k="http://13.60.203.103",_=()=>localStorage.getItem("token"),C=V=>{V&&V.type==="text/csv"?V.size>S?M("File size exceeds 5MB limit.",!1):a(V):M("Please upload a valid CSV file.",!1)},T=V=>{const F=V.target.files[0];C(F)},O=()=>w.current.click(),E=()=>{const V=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,F=new Blob([V],{type:"text/csv"}),B=window.URL.createObjectURL(F),ee=document.createElement("a");ee.href=B,ee.download="sample_users.csv",ee.click(),window.URL.revokeObjectURL(B)},$=async()=>{if(!e)return M("No file selected.",!1);if(!b.trim())return M("Please provide a list name.",!1);const V=_();if(!V)return M("Please log in first.",!1);const F=new FormData;F.append("file",e),F.append("name",b);try{n(!0),g(50);const B=await fetch(`${k}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${V}`},body:F});if(g(100),B.ok)M("CSV file uploaded successfully!",!0),a(null),v(""),w.current&&(w.current.value="");else{const ee=await B.json();throw new Error(ee.detail||`HTTP ${B.status}`)}}catch(B){console.error(B),M("Upload failed. Please try again.",!1)}finally{n(!1),g(0)}},M=(V,F)=>{u(V),h(F),l(!0)},H=V=>V<1024?`${V} B`:V<1024*1024?`${(V/1024).toFixed(2)} KB`:`${(V/(1024*1024)).toFixed(2)} MB`;return t.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[t.jsx("div",{className:"w-full max-w-3xl bg-white p-10 rounded-2xl shadow-lg border border-gray-200 transition-all hover:shadow-xl",children:t.jsxs("div",{className:"text-center",children:[t.jsx(uL,{className:"mx-auto text-5xl text-blue-400 mb-6 animate-pulse"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Upload Your CSV File"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Drag & drop a CSV file or click to select. Max size: 5MB."}),t.jsx("input",{type:"text",placeholder:"Enter list name",value:b,onChange:V=>v(V.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none"}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[t.jsx("input",{type:"file",accept:".csv",onChange:T,ref:w,className:"hidden"}),t.jsx("button",{onClick:O,className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600 transition",children:"Choose File"}),t.jsxs("button",{onClick:E,className:"bg-white text-blue-600 border border-blue-300 px-6 py-3 rounded-xl shadow-sm hover:bg-blue-50 transition flex items-center gap-2",children:[t.jsx(cL,{})," Sample CSV"]})]}),e&&t.jsxs("div",{className:"mt-6 text-gray-600 bg-blue-50 p-4 rounded-xl border border-blue-200 text-left",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"File:"})," ",e.name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Size:"})," ",H(e.size)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),t.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[t.jsx("button",{onClick:$,disabled:s||!e,className:`w-full bg-blue-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition 
            ${s||!e?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:s?"Uploading...":"Upload CSV"}),s&&t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${f}%`}})})]}),r&&t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m?t.jsx(oL,{className:"text-green-500 text-2xl"}):t.jsx(dL,{className:"text-red-500 text-2xl"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload Status"})]}),t.jsx("p",{className:"text-gray-600 mb-6",children:c}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:()=>l(!1),className:"bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600 transition",children:"Okay"})})]})})]})},bw={},Wh="http://13.60.203.103",Xh=(bw==null?void 0:bw.VITE_API_PREFIX)||"/api",Un=`${Wh}${Xh}/campaigns/campaigns`,kn={LIST:Un,CREATE:Un,DETAIL:e=>`${Un}/${e}`,STATS:e=>`${Un}/${e}/stats`,SCHEDULE:e=>`${Un}/${e}/schedule`,RETRY:e=>`${Un}/${e}/retry-policy`,PAUSE:e=>`${Un}/${e}/pause`,RESUME:e=>`${Un}/${e}/resume`,STOP:e=>`${Un}/${e}/stop`,RUN_NOW:e=>`${Un}/${e}/run-now`,ICS:e=>`${Un}/${e}/calendar.ics`,DELETE:e=>`${Un}/${e}`,REFRESH_LEADS:e=>`${Un}/${e}/refresh-leads`,ADD_FILES:e=>`${Wh}${Xh}/campaigns/${e}/add-files`},vw={FILES:`${Wh}${Xh}/files`,ASSISTANTS:`${Wh}${Xh}/get-assistants`,LEADS:e=>`${Wh}${Xh}/leads${e?`?file_id=${e}`:""}`},hpe=["CSV","HubSpot CRM","GHL CRM","Monday CRM"];function Er(...e){return e.filter(Boolean).join(" ")}const Rh=e=>{if(e==null)return"Unknown";const a=String(e).trim();return a===""||a.toLowerCase()==="null"||a.toLowerCase()==="undefined"?"Unknown":a};function fpe(e,a=250){const[s,n]=x.useState(e);return x.useEffect(()=>{const r=setTimeout(()=>n(e),a);return()=>clearTimeout(r)},[e,a]),s}function Kx(e){try{const a=new Date(e);return isNaN(a.getTime())?"Unknown":a.toLocaleString()}catch{return"Unknown"}}function xpe(e){try{const a=new Date(e);return isNaN(a.getTime())?"":a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function Yx(e){if(!e)return"";const a=new Date(e);if(isNaN(a.getTime()))return"";const s=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0"),l=String(a.getHours()).padStart(2,"0"),c=String(a.getMinutes()).padStart(2,"0");return`${s}-${n}-${r}T${l}:${c}`}function Wx(e){if(!e)return null;const a=new Date(e);return isNaN(a.getTime())?null:a.toISOString()}function ppe(e){if(!e)return"";const a=new Date(e).getTime();if(Number.isNaN(a))return"";const s=Math.max(0,a-Date.now()),n=Math.floor(s/1e3),r=Math.floor(n/60),l=n%60;return r>0?`${r}m ${l}s`:`${l}s`}const gr={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},yw={show:{transition:{staggerChildren:.05}}},jw={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}},qP={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:30,duration:.4}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},GP={hidden:{opacity:0,scale:.8,y:50},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,duration:.5}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.3}}},gpe={hidden:{opacity:0,x:20},show:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2}}};function qr({children:e,tone:a="slate"}){const s={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200",orange:"bg-orange-100 text-orange-700 ring-orange-200",purple:"bg-purple-100 text-purple-700 ring-purple-200",amber:"bg-amber-100 text-amber-700 ring-amber-200",indigo:"bg-indigo-100 text-indigo-700 ring-indigo-200"};return t.jsx(he.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},className:Er("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",s[a]||s.slate),children:e})}function ww({label:e,value:a,Icon:s,tone:n="blue"}){const r=n==="blue"?"ring-blue-200/60":n==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=n==="blue"?"from-blue-600 to-cyan-500":n==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return t.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(s,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})})}function Xx({status:e}){const a=String(e||"").toLowerCase();return a==="scheduled"?t.jsx(qr,{tone:"blue",children:"Scheduled"}):a==="running"?t.jsx(qr,{tone:"green",children:"Running"}):a==="paused"?t.jsx(qr,{tone:"orange",children:"Paused"}):a==="stopped"?t.jsx(qr,{tone:"red",children:"Stopped"}):a==="completed"?t.jsx(qr,{tone:"purple",children:"Completed"}):a==="draft"?t.jsx(qr,{tone:"slate",children:"Draft"}):t.jsx(qr,{tone:"slate",children:Rh(e)})}const rI=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York"},{value:"America/Chicago",label:"America/Chicago"},{value:"America/Denver",label:"America/Denver"},{value:"America/Los_Angeles",label:"America/Los_Angeles"},{value:"America/Phoenix",label:"America/Phoenix"},{value:"Europe/London",label:"Europe/London"},{value:"Europe/Berlin",label:"Europe/Berlin"},{value:"Europe/Paris",label:"Europe/Paris"},{value:"Asia/Karachi",label:"Asia/Karachi"},{value:"Asia/Kolkata",label:"Asia/Kolkata"},{value:"Asia/Singapore",label:"Asia/Singapore"},{value:"Asia/Tokyo",label:"Asia/Tokyo"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Australia/Sydney",label:"Australia/Sydney"}];function iI(e,a){const s=Number(e)||0,n=Number(a)||0;if(n<=0)return 0;const r=Math.round(s/n*100);return Math.min(100,Math.max(0,r))}function lI({active:e=!1}){return e?t.jsxs("span",{className:"relative inline-flex h-2.5 w-2.5",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}):null}function KP({done:e,total:a,status:s}){const n=iI(e,a),r=["scheduled","running"].includes(String(s||"").toLowerCase());return t.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[t.jsx("div",{className:"relative h-2 w-36 rounded-full bg-slate-200 overflow-hidden",children:t.jsx(he.div,{className:Er("h-full bg-gradient-to-r from-blue-500 to-cyan-500",r&&"shadow-[0_0_0_2px_rgba(59,130,246,0.15)]"),initial:{width:0},animate:{width:`${n}%`},transition:{type:"spring",stiffness:160,damping:20}})}),t.jsxs("div",{className:"text-xs font-medium text-slate-700 tabular-nums",children:[Number(e)||0,"/",Number(a)||0]}),t.jsx(lI,{active:r})]})}function bpe({totals:e}){const a=(e==null?void 0:e.total)||0,s=(e==null?void 0:e.done)||0,n=(e==null?void 0:e.calling)||0,r=(e==null?void 0:e.retry)||0,l=(e==null?void 0:e.pending)||0,c=u=>a>0?`${u/a*100}%`:"0%";return t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"h-3 w-full rounded-full bg-slate-200 overflow-hidden ring-1 ring-white/60 relative",children:[t.jsx(he.div,{className:"h-full bg-emerald-500 absolute left-0 top-0",style:{width:c(s)},initial:{width:0},animate:{width:c(s)}}),t.jsx(he.div,{className:"h-full bg-indigo-500 absolute left-0 top-0",style:{width:c(s+n)},initial:{width:0},animate:{width:c(s+n)}}),t.jsx(he.div,{className:"h-full bg-amber-500 absolute left-0 top-0",style:{width:c(s+n+r)},initial:{width:0},animate:{width:c(s+n+r)}})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-700",children:[t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 rounded bg-emerald-500"}),"Done ",s]}),t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 rounded bg-indigo-500"}),"Calling ",n]}),t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 rounded bg-amber-500"}),"Retry ",r]}),t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 rounded bg-slate-400"}),"Pending ",l]}),t.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[iI(s,a),"%"]})]})]})}function YP(){var ma,Q,je,at,W,ae,Ce,et,ut,_t,gt,Ht,qt,Mt,ls,ri,qs,Gs,xs,To;const e=x.useRef(localStorage.getItem("token")||null),[a,s]=x.useState([]),[n,r]=x.useState(!0),[l,c]=x.useState(!1),[u,m]=x.useState([]),[h,f]=x.useState([]),[g,b]=x.useState([]),[v,w]=x.useState(!1),[j,S]=x.useState(""),k=fpe(j,250),[_,C]=x.useState("created_at"),[T,O]=x.useState("desc"),[E,$]=x.useState(1),[M,H]=x.useState(10),[V,F]=x.useState(!1),[B,ee]=x.useState(1),[we,ne]=x.useState(!1),[A,U]=x.useState({name:"",file_id:"",assistant_id:"",selection_mode:"ALL",include_lead_ids:[],exclude_lead_ids:[],timezone:"America/Los_Angeles",days_of_week:[0,1,2,3,4],daily_start:"09:00",daily_end:"18:00",start_at:"",end_at:"",calls_per_minute:10,parallel_calls:2,retry_on_busy:!0,busy_retry_delay_minutes:15,max_attempts:3,description:""}),[K,z]=x.useState(""),[I,D]=x.useState(!1),[R,Z]=x.useState(null),[de,le]=x.useState(!1),[be,Ue]=x.useState(null),[xe,ve]=x.useState(null),[Ie,Ye]=x.useState(!1),[ke,Je]=x.useState(""),[Xe,ue]=x.useState(new Set),[ie,De]=x.useState(!1),[G,ce]=x.useState([]),[$e,qe]=x.useState(!1);x.useEffect(()=>{if(!I||!(R!=null&&R.id))return;J(R.id),se(R.id);const ge=setInterval(()=>{J(R.id),se(R.id),_e()},4e3);return()=>clearInterval(ge)},[I,R==null?void 0:R.id]),x.useEffect(()=>{if(!e.current){r(!1),L.error("No auth token found. Please log in.");return}ye()},[]);async function ye(){r(!0);try{await Promise.all([_e(),te(),Y()])}finally{r(!1)}}async function Be(ge,ze={}){if(!e.current)throw L.error("No auth token found. Please log in."),new Error("No token");return await fetch(ge,{...ze,headers:{...ze.headers||{},Authorization:`Bearer ${e.current}`}})}async function _e(){try{const ge=await Be(kn.LIST);if(!ge.ok)throw new Error(`HTTP ${ge.status}`);const ze=await ge.json();s(Array.isArray(ze)?ze:[])}catch(ge){console.error(ge),L.error("Failed to fetch campaigns"),s([])}}async function te(){try{const ge=await Be(vw.FILES);if(!ge.ok)throw new Error(`HTTP ${ge.status}`);const ze=await ge.json();m(Array.isArray(ze)?ze:(ze==null?void 0:ze.items)||[])}catch(ge){console.warn("Files fetch failed:",ge.message),m([])}}async function Y(){try{const ge=await Be(vw.ASSISTANTS);if(!ge.ok)throw new Error(`HTTP ${ge.status}`);const ze=await ge.json(),st=(Array.isArray(ze)&&ze||(ze==null?void 0:ze.items)||(ze==null?void 0:ze.assistants)||(ze==null?void 0:ze.data)||[]).filter(it=>it&&it.id!==void 0&&it.id!==null);f(st)}catch(ge){console.warn("Assistants fetch failed:",ge.message),f([])}}async function Se(ge){if(!ge){b([]);return}try{w(!0);const ze=await Be(vw.LEADS(ge));if(!ze.ok)throw new Error(`HTTP ${ze.status}`);const tt=await ze.json(),st=Array.isArray(tt)?tt:(tt==null?void 0:tt.leads)||(tt==null?void 0:tt.items)||[];b(st)}catch(ze){console.warn("Leads fetch failed:",ze.message),b([])}finally{w(!1)}}async function me(){c(!0);try{await _e()}finally{c(!1)}}const X=x.useMemo(()=>{const ge=k.trim().toLowerCase(),ze=a.filter(st=>ge?[(st.name||"").toLowerCase(),(st.status||"").toLowerCase(),String(st.id||""),String(st.file_id||""),String(st.assistant_id||"")].some(vt=>vt.includes(ge)):!0),tt=T==="asc"?1:-1;return ze.sort((st,it)=>{let vt,nn;switch(_){case"name":vt=(st.name||"").toLowerCase(),nn=(it.name||"").toLowerCase();break;case"status":vt=(st.status||"").toLowerCase(),nn=(it.status||"").toLowerCase();break;case"calls_per_minute":vt=st.calls_per_minute||0,nn=it.calls_per_minute||0;break;case"created_at":default:vt=new Date(st.created_at||0).getTime(),nn=new Date(it.created_at||0).getTime()}return vt<nn?-1*tt:vt>nn?1*tt:0}),ze},[a,k,_,T]),Te=X.length,He=Math.max(1,Math.ceil(Te/M));x.useEffect(()=>{E>He&&$(He)},[E,He]);const Ve=(E-1)*M,rt=Ve+M,nt=X.slice(Ve,rt),Oe=x.useMemo(()=>{const ge=X.length,ze=X.filter(st=>(st.status||"").toLowerCase()==="running").length,tt=X.filter(st=>(st.status||"").toLowerCase()==="paused").length;return{total:ge,running:ze,paused:tt}},[X]);function We(ge){const{name:ze,value:tt,type:st,checked:it}=ge.target;U(vt=>{const nn={...vt,[ze]:st==="checkbox"?it:tt};if(ze==="file_id"){const a0=Number(tt)||"";a0?Se(a0):b([]),nn.include_lead_ids=[],nn.exclude_lead_ids=[]}return ze==="selection_mode"&&(nn.include_lead_ids=[],nn.exclude_lead_ids=[]),nn})}function pt(ge){U(ze=>{const st=ze.days_of_week.includes(ge)?ze.days_of_week.filter(it=>it!==ge):[...ze.days_of_week,ge];return st.sort((it,vt)=>it-vt),{...ze,days_of_week:st}})}async function Oa(){var ze,tt;if(!A.name||!A.file_id||!A.assistant_id){L.error("Name, File and Assistant are required.");return}if(A.selection_mode!=="ALL"&&A.file_id&&g.length===0){L.error("No leads available for the selected file.");return}const ge={name:String(A.name).trim(),file_id:Number(A.file_id),assistant_id:Number(A.assistant_id),selection_mode:A.selection_mode,include_lead_ids:A.selection_mode==="ONLY"&&((ze=A.include_lead_ids)!=null&&ze.length)?A.include_lead_ids:null,exclude_lead_ids:A.selection_mode==="SKIP"&&((tt=A.exclude_lead_ids)!=null&&tt.length)?A.exclude_lead_ids:null,timezone:A.timezone||"America/Los_Angeles",days_of_week:A.days_of_week,daily_start:A.daily_start||"09:00",daily_end:A.daily_end||"18:00",start_at:Wx(A.start_at),end_at:Wx(A.end_at),calls_per_minute:Number(A.calls_per_minute)||10,parallel_calls:Number(A.parallel_calls)||2,retry_on_busy:!!A.retry_on_busy,busy_retry_delay_minutes:Number(A.busy_retry_delay_minutes)||15,max_attempts:Number(A.max_attempts)||3};try{ne(!0);const st=await Be(kn.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)}),it=await st.json().catch(()=>({}));if(!st.ok||(it==null?void 0:it.success)===!1)throw new Error((it==null?void 0:it.detail)||`HTTP ${st.status}`);L.success((it==null?void 0:it.detail)||"Campaign created."),F(!1),ee(1),U(vt=>({...vt,name:"",include_lead_ids:[],exclude_lead_ids:[]})),await _e()}catch(st){console.error(st),L.error((st==null?void 0:st.message)||"Create failed")}finally{ne(!1)}}async function oe(ge){Z(ge),D(!0),await Promise.all([J(ge.id),se(ge.id)])}async function J(ge){if(ge)try{le(!0);const ze=await Be(kn.DETAIL(ge));if(!ze.ok)throw new Error(`HTTP ${ze.status}`);const tt=await ze.json();Ue(tt)}catch(ze){console.error(ze),L.error("Failed to load campaign details"),Ue(null)}finally{le(!1)}}async function se(ge){if(ge)try{const ze=await Be(kn.STATS(ge));if(!ze.ok)throw new Error(`HTTP ${ze.status}`);const tt=await ze.json();ve(tt)}catch(ze){console.error(ze)}}async function fe(ge,ze,tt){try{const st=await Be(ge(ze),{method:"POST"}),it=await st.json().catch(()=>({}));if(!st.ok||(it==null?void 0:it.success)===!1)throw new Error((it==null?void 0:it.detail)||`HTTP ${st.status}`);L.success((it==null?void 0:it.detail)||tt),await _e(),R&&R.id===ze&&(await J(ze),await se(ze))}catch(st){console.error(st),L.error((st==null?void 0:st.message)||"Action failed")}}const Qe=ge=>fe(kn.PAUSE,ge,"Paused"),ht=ge=>fe(kn.RESUME,ge,"Resumed"),Ct=ge=>fe(kn.STOP,ge,"Stopped"),wt=ge=>fe(kn.REFRESH_LEADS,ge,"Leads synced");async function Vt(ge){if(confirm("Delete this campaign and its progress rows?"))try{const ze=await Be(kn.DELETE(ge),{method:"DELETE"}),tt=await ze.json().catch(()=>({}));if(!ze.ok||(tt==null?void 0:tt.success)===!1)throw new Error((tt==null?void 0:tt.detail)||`HTTP ${ze.status}`);L.success((tt==null?void 0:tt.detail)||"Deleted"),D(!1),Z(null),await _e()}catch(ze){console.error(ze),L.error((ze==null?void 0:ze.message)||"Delete failed")}}async function At(ge,ze){try{const tt=await Be(kn.RUN_NOW(ge),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch_size:Number(ze)||5})}),st=await tt.json().catch(()=>({}));if(!tt.ok||(st==null?void 0:st.success)===!1)throw new Error((st==null?void 0:st.detail)||`HTTP ${tt.status}`);L.success((st==null?void 0:st.detail)||"Triggered."),await se(ge)}catch(tt){console.error(tt),L.error((tt==null?void 0:tt.message)||"Run-now failed")}}async function La(ge,ze){var st;const tt={timezone:ze.timezone||void 0,days_of_week:(st=ze.days_of_week)!=null&&st.length?ze.days_of_week:void 0,daily_start:ze.daily_start||void 0,daily_end:ze.daily_end||void 0,start_at:Wx(ze.start_at),end_at:Wx(ze.end_at)};try{const it=await Be(kn.SCHEDULE(ge),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(tt)}),vt=await it.json().catch(()=>({}));if(!it.ok||(vt==null?void 0:vt.success)===!1)throw new Error((vt==null?void 0:vt.detail)||`HTTP ${it.status}`);L.success((vt==null?void 0:vt.detail)||"Schedule updated"),await _e(),await J(ge),await se(ge)}catch(it){console.error(it),L.error((it==null?void 0:it.message)||"Update failed")}}async function Cs(ge,ze){const tt={retry_on_busy:!!ze.retry_on_busy,busy_retry_delay_minutes:Number(ze.busy_retry_delay_minutes)||15,max_attempts:Number(ze.max_attempts)||3};try{const st=await Be(kn.RETRY(ge),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(tt)}),it=await st.json().catch(()=>({}));if(!st.ok||(it==null?void 0:it.success)===!1)throw new Error((it==null?void 0:it.detail)||`HTTP ${st.status}`);L.success((it==null?void 0:it.detail)||"Retry policy updated"),await J(ge),await se(ge)}catch(st){console.error(st),L.error((st==null?void 0:st.message)||"Update failed")}}async function qa(ge,ze="campaign"){try{const tt=await Be(kn.ICS(ge));if(!tt.ok)throw new Error(`HTTP ${tt.status}`);const st=await tt.blob(),it=URL.createObjectURL(st),vt=document.createElement("a");vt.href=it,vt.download=`${ze||"campaign"}.ics`,document.body.appendChild(vt),vt.click(),vt.remove(),URL.revokeObjectURL(it)}catch(tt){console.error(tt),L.error("ICS download failed")}}function Ra(){ue(new Set),De(!1),ce([]),Je(""),Ye(!0)}async function Hs(){const ge=Array.from(Xe);if(ge.length===0)return L.error("Select at least one file.");if(!(R!=null&&R.id))return L.error("No campaign selected.");try{qe(!0);const ze=await Be(kn.ADD_FILES(R.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_ids:ge,include_dnc:!!ie,origins:G.length?G:null})}),tt=await ze.json().catch(()=>({}));if(!ze.ok||(tt==null?void 0:tt.success)===!1)throw new Error((tt==null?void 0:tt.detail)||`HTTP ${ze.status}`);L.success((tt==null?void 0:tt.detail)||`Queued ${ge.length} file(s).`),Ye(!1),await J(R.id),await se(R.id)}catch(ze){console.error(ze),L.error((ze==null?void 0:ze.message)||"Failed to add files")}finally{qe(!1)}}const As=()=>{F(!0),ee(1)},bn=()=>{F(!1),ee(1),U(ge=>({...ge,name:"",include_lead_ids:[],exclude_lead_ids:[]}))},Oi=()=>{ee(ge=>Math.min(6,ge+1))},vn=()=>{ee(ge=>Math.max(1,ge-1))};return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsxs("main",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[t.jsxs(he.div,{initial:"hidden",animate:"show",variants:gr,className:"mb-6 sm:mb-8 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:"Campaigns"}),t.jsx("p",{className:"mt-1 text-sm sm:text-base text-slate-600",children:"Manage your calling campaigns and schedules."})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.jsx(di,{onClick:me,disabled:l,icon:l?t.jsx(Ma,{className:"h-4 w-4 animate-spin"}):t.jsx(Ze,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Refresh"})}),t.jsxs(al,{onClick:As,icon:t.jsx(hn,{className:"h-4 w-4"}),children:[t.jsx("span",{className:"hidden sm:inline",children:"Create Campaign"}),t.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),t.jsxs(he.div,{initial:"hidden",animate:"show",variants:qP,className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{className:"relative sm:col-span-1 lg:col-span-2",children:[t.jsx(Us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),t.jsx("input",{value:j,onChange:ge=>{S(ge.target.value),$(1)},placeholder:"Search name, status, IDs",className:"w-full rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 pl-9 sm:pl-10 pr-3 py-2 sm:py-2.5 text-sm sm:text-base text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search campaigns"})]}),t.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[t.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 hidden sm:block",children:["Total: ",t.jsx("span",{className:"font-semibold text-slate-900",children:Te})]}),t.jsx("select",{value:M,onChange:ge=>{H(Number(ge.target.value)),$(1)},className:"rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[10,20,40,80].map(ge=>t.jsxs("option",{value:ge,children:[ge," / page"]},ge))})]})]}),t.jsxs(he.div,{initial:"hidden",animate:"show",variants:yw,className:"mt-4 sm:mt-6 grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[t.jsx(he.div,{variants:gr,children:t.jsx(ww,{label:"Total Campaigns",value:Oe.total,Icon:Za,tone:"blue"})}),t.jsx(he.div,{variants:gr,children:t.jsx(ww,{label:"Running",value:Oe.running,Icon:ra,tone:"cyan"})}),t.jsx(he.div,{variants:gr,className:"sm:col-span-2 lg:col-span-1",children:t.jsx(ww,{label:"Paused",value:Oe.paused,Icon:Mn,tone:"blue"})})]}),t.jsx(he.div,{initial:"hidden",animate:"show",variants:qP,className:"mt-4 sm:mt-6 overflow-x-auto rounded-2xl sm:rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:t.jsxs("div",{className:"min-w-full",children:[t.jsx("div",{className:"block sm:hidden",children:n?t.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3}).map((ge,ze)=>t.jsx("div",{className:"animate-pulse bg-slate-100 rounded-xl p-4 h-24"},ze))}):t.jsx("div",{className:"divide-y divide-slate-200",children:nt.map((ge,ze)=>{var it,vt;const tt=((it=ge.counts)==null?void 0:it.total)||0,st=((vt=ge.counts)==null?void 0:vt.completed_or_failed)||0;return t.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ze*.05},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>oe(ge),children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:Rh(ge.name)}),t.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",ge.id]})]}),t.jsx(Xx,{status:ge.status})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[t.jsx("span",{children:Kx(ge.created_at)}),t.jsxs("span",{children:[tt," leads"]})]}),t.jsx(KP,{done:st,total:tt,status:ge.status})]},ge.id)})})}),t.jsxs("table",{className:"hidden sm:table min-w-full text-left",children:[t.jsx("thead",{className:"bg-slate-50/50 backdrop-blur",children:t.jsxs("tr",{children:[t.jsx(_w,{sortKey:"name",sortBy:_,sortDir:T,onSort:ge=>Sw(ge,C,O),children:"Name"}),t.jsx(_w,{sortKey:"status",sortBy:_,sortDir:T,onSort:ge=>Sw(ge,C,O),children:"Status"}),t.jsx("th",{className:"px-5 py-3 font-semibold",children:"File"}),t.jsx("th",{className:"px-5 py-3 font-semibold",children:"Assistant"}),t.jsx(_w,{sortKey:"calls_per_minute",sortBy:_,sortDir:T,onSort:ge=>Sw(ge,C,O),children:"Pacing"}),t.jsx("th",{className:"px-5 py-3 font-semibold",children:"Created"}),t.jsx("th",{className:"px-5 py-3 font-semibold",children:"Leads"}),t.jsx("th",{className:"px-5 py-3 font-semibold",children:"Progress"}),t.jsx("th",{})]})}),t.jsx("tbody",{children:n?t.jsx(Npe,{rows:M,cols:9}):nt.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"px-5 py-4 text-center text-sm text-slate-500",children:"No campaigns found."})}):nt.map(ge=>{var st,it;const ze=((st=ge.counts)==null?void 0:st.total)||0,tt=((it=ge.counts)==null?void 0:it.completed_or_failed)||0;return t.jsxs("tr",{className:"group/row hover:bg-slate-50/50 transition-colors",children:[t.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:t.jsx("button",{onClick:()=>oe(ge),className:"group/cell flex items-center gap-2 text-left",children:Rh(ge.name)})}),t.jsx("td",{className:"px-5 py-3",children:t.jsx(Xx,{status:ge.status})}),t.jsx("td",{className:"px-5 py-3 text-slate-700",children:ge.file_id}),t.jsx("td",{className:"px-5 py-3 text-slate-700",children:ge.assistant_id}),t.jsx("td",{className:"px-5 py-3 text-slate-700",children:ge.calls_per_minute}),t.jsx("td",{className:"px-5 py-3 text-slate-600",children:Kx(ge.created_at)}),t.jsx("td",{className:"px-5 py-3 text-slate-700",children:ze}),t.jsx("td",{className:"px-5 py-3",children:t.jsx(KP,{done:tt,total:ze,status:ge.status})}),t.jsx("td",{className:"px-5 py-3 text-right",children:t.jsxs("div",{className:"invisible group-hover/row:visible flex items-center justify-end gap-2",children:[t.jsx(di,{onClick:()=>qa(ge.id,ge==null?void 0:ge.name),icon:t.jsx(cl,{className:"h-4 w-4"}),children:"ICS"}),t.jsx(di,{onClick:()=>oe(ge),icon:t.jsx(wa,{className:"h-4 w-4"}),children:"Details"})]})})]},ge.id)})})]})]})}),t.jsxs(he.div,{initial:"hidden",animate:"show",variants:gr,className:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 order-2 sm:order-1",children:["Showing ",Te===0?0:(E-1)*M+1,"",Math.min(E*M,Te)," of ",Te]}),t.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[t.jsxs(Mg,{disabled:E<=1,onClick:()=>$(E-1),children:[t.jsx(Ss,{className:"h-3 w-3 sm:h-4 sm:w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),t.jsxs("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-slate-700",children:[E," of ",He]}),t.jsxs(Mg,{disabled:E>=He,onClick:()=>$(E+1),children:[t.jsx("span",{className:"hidden sm:inline",children:"Next"}),t.jsx(Aa,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]}),t.jsx(jt,{children:V&&t.jsxs(t.Fragment,{children:[t.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:jw,initial:"hidden",animate:"show",exit:"exit",onClick:bn}),t.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:GP,initial:"hidden",animate:"show",exit:"exit",children:t.jsxs("div",{className:"w-full max-w-xs sm:max-w-md lg:max-w-2xl xl:max-w-4xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[t.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:t.jsx(hn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Create Campaign"}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Step ",B," of 6"]})]})]}),t.jsx("button",{onClick:bn,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl border border-slate-200 hover:bg-slate-50 flex items-center justify-center transition-colors","aria-label":"Close",children:t.jsx(js,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),t.jsxs("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-50/50",children:[t.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:[1,2,3,4,5,6].map(ge=>t.jsx(he.div,{className:Er("flex-1 h-1.5 sm:h-2 rounded-full transition-colors duration-300",ge<=B?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-slate-200"),initial:{scaleX:0},animate:{scaleX:ge<=B?1:0},transition:{duration:.3,delay:ge*.05}},ge))}),t.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[t.jsx("span",{className:"hidden sm:inline",children:"Details"}),t.jsx("span",{className:"hidden sm:inline",children:"Files"}),t.jsx("span",{className:"hidden sm:inline",children:"Leads"}),t.jsx("span",{className:"hidden sm:inline",children:"Schedule"}),t.jsx("span",{className:"hidden sm:inline",children:"Pacing"}),t.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsx(jt,{mode:"wait",children:t.jsxs(he.div,{variants:gpe,initial:"hidden",animate:"show",exit:"exit",className:"p-4 sm:p-6 lg:p-8",children:[B===1&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Campaign Details"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Set up the basic information for your campaign."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Name"}),t.jsx("input",{value:A.name,onChange:We,name:"name",placeholder:"Enter campaign name",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assistant"}),t.jsxs("select",{value:A.assistant_id,onChange:We,name:"assistant_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[t.jsx("option",{value:"",children:"Select assistant"}),h.map(ge=>t.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (optional)"}),t.jsx("textarea",{value:A.description,onChange:We,name:"description",placeholder:"Describe your campaign...",rows:3,className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition resize-none"})]})]}),B===2&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select File"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Choose the file containing the leads for your campaign."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File"}),t.jsxs("select",{value:A.file_id,onChange:We,name:"file_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[t.jsx("option",{value:"",children:"Select file"}),u.map(ge=>t.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]})]}),B===3&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select Leads"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Choose which leads to include in your campaign."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selection Mode"}),t.jsxs("select",{value:A.selection_mode,onChange:We,name:"selection_mode",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[t.jsx("option",{value:"ALL",children:"All Leads"}),t.jsx("option",{value:"ONLY",children:"Only These Leads"}),t.jsx("option",{value:"SKIP",children:"Skip These Leads"})]})]}),A.selection_mode!=="ALL"&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),t.jsx("input",{value:K,onChange:ge=>z(ge.target.value),placeholder:"Search leads",className:"w-full rounded-xl border border-slate-200 px-9 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),v?t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center text-sm text-slate-600",children:[t.jsx(Ma,{className:"h-5 w-5 animate-spin mx-auto mb-3"})," Loading leads"]}):t.jsx(wpe,{leads:g,mode:A.selection_mode,search:K,selectedIds:A.selection_mode==="ONLY"?A.include_lead_ids:A.exclude_lead_ids,onChange:ge=>{A.selection_mode==="ONLY"?U(ze=>({...ze,include_lead_ids:ge})):U(ze=>({...ze,exclude_lead_ids:ge}))}})]})]}),B===4&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Schedule"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Set up the schedule for your campaign."})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("label",{className:"block",children:[t.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),t.jsx("select",{name:"timezone",value:A.timezone,onChange:We,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:rI.map(ge=>t.jsx("option",{value:ge.value,children:ge.label},ge.value))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(ge=>t.jsx("button",{type:"button",onClick:()=>pt(ge),className:Er("px-3 py-1.5 rounded-xl border text-sm",A.days_of_week.includes(ge)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][ge]},ge))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(En,{label:"Daily start",name:"daily_start",value:A.daily_start,onChange:We,placeholder:"HH:MM"}),t.jsx(En,{label:"Daily end",name:"daily_end",value:A.daily_end,onChange:We,placeholder:"HH:MM"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(En,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:A.start_at,onChange:We}),t.jsx(En,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:A.end_at,onChange:We})]})]})]}),B===5&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Pacing"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Set up the pacing for your campaign."})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsx(En,{label:"Calls per minute",name:"calls_per_minute",value:A.calls_per_minute,onChange:We}),t.jsx(En,{label:"Parallel calls",name:"parallel_calls",value:A.parallel_calls,onChange:We}),t.jsxs("label",{className:"inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!A.retry_on_busy,onChange:We}),t.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),t.jsx(En,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:A.busy_retry_delay_minutes,onChange:We}),t.jsx(En,{label:"Max attempts",name:"max_attempts",value:A.max_attempts,onChange:We})]})]}),B===6&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Review"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Review your campaign details before creating."})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Name"}),t.jsx("div",{className:"text-sm text-slate-600",children:A.name||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"File"}),t.jsx("div",{className:"text-sm text-slate-600",children:((ma=u.find(ge=>String(ge.id)===String(A.file_id)))==null?void 0:ma.name)||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Assistant"}),t.jsx("div",{className:"text-sm text-slate-600",children:((Q=h.find(ge=>String(ge.id)===String(A.assistant_id)))==null?void 0:Q.name)||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Schedule"}),t.jsxs("div",{className:"text-sm text-slate-600",children:[Nw(A.days_of_week),"  ",A.daily_start,"",A.daily_end," (",A.timezone,")"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Pacing"}),t.jsxs("div",{className:"text-sm text-slate-600",children:[A.calls_per_minute," CPM  ",A.parallel_calls," parallel"]})]})]})]})]},B)})}),t.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[t.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:B>1&&t.jsxs(di,{onClick:vn,icon:t.jsx(Ss,{className:"h-4 w-4"}),children:[t.jsx("span",{className:"hidden sm:inline",children:"Previous"}),t.jsx("span",{className:"sm:hidden",children:"Back"})]})}),t.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:B<6?t.jsxs(al,{onClick:Oi,icon:t.jsx(Aa,{className:"h-4 w-4"}),children:[t.jsx("span",{className:"hidden sm:inline",children:"Next Step"}),t.jsx("span",{className:"sm:hidden",children:"Next"})]}):t.jsx(al,{onClick:Oa,disabled:we,icon:we?t.jsx(Ma,{className:"h-4 w-4 animate-spin"}):t.jsx(cu,{className:"h-4 w-4"}),children:we?"Creating...":"Create Campaign"})})]})]})})]})}),t.jsx(jt,{children:I&&t.jsxs(t.Fragment,{children:[t.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:jw,initial:"hidden",animate:"show",exit:"exit",onClick:()=>D(!1)}),t.jsxs(he.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[90vw] md:w-[620px] lg:w-[880px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Campaign details",children:[t.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-3 sm:p-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[t.jsx("button",{onClick:()=>D(!1),className:"grid h-8 w-8 sm:h-9 sm:w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50 flex-shrink-0","aria-label":"Close",children:t.jsx(js,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight truncate",children:["Campaign #",R==null?void 0:R.id]}),t.jsx("p",{className:"text-xs text-slate-600 truncate",children:Rh(R==null?void 0:R.name)})]})]}),t.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:t.jsx(di,{onClick:()=>qa(R.id,R==null?void 0:R.name),icon:t.jsx(cl,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"ICS"})})})]}),t.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xx,{status:(xe==null?void 0:xe.status)||(be==null?void 0:be.status)||(R==null?void 0:R.status)}),t.jsx(lI,{active:!!(xe!=null&&xe.active_now)}),xe!=null&&xe.active_now?t.jsx(qr,{tone:"green",children:"Active now"}):t.jsx(qr,{tone:"amber",children:"Idle"})]}),t.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-xs sm:text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(t2,{className:"h-4 w-4 text-slate-500"}),t.jsxs("div",{className:"truncate",children:[t.jsx("span",{className:"text-slate-500",children:"Local:"})," ",t.jsx("span",{className:"font-medium text-slate-800",children:Kx((je=xe==null?void 0:xe.now)==null?void 0:je.local)||""})]})]}),t.jsxs("div",{className:"truncate",children:[t.jsx("span",{className:"text-slate-500",children:"Window: "}),t.jsxs("span",{className:"font-medium text-slate-800",children:[Nw(((at=xe==null?void 0:xe.window)==null?void 0:at.days_of_week)??(be==null?void 0:be.days_of_week)??(R==null?void 0:R.days_of_week))," "," ",((W=xe==null?void 0:xe.window)==null?void 0:W.daily_start)||(be==null?void 0:be.daily_start)||(R==null?void 0:R.daily_start)||"09:00","",((ae=xe==null?void 0:xe.window)==null?void 0:ae.daily_end)||(be==null?void 0:be.daily_end)||(R==null?void 0:R.daily_end)||"18:00"," ","(",(xe==null?void 0:xe.timezone)||(be==null?void 0:be.timezone)||(R==null?void 0:R.timezone)||"Local",")"]})]}),t.jsxs("div",{className:"truncate",children:[t.jsx("span",{className:"text-slate-500",children:"Next tick:"})," ",t.jsx("span",{className:"font-medium text-slate-800",children:xe!=null&&xe.next_tick_at?`${xpe(xe.next_tick_at)}  in ${ppe(xe.next_tick_at)}`:""})]})]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(bpe,{totals:(xe==null?void 0:xe.totals)||(be==null?void 0:be.totals)})})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[t.jsxs(he.div,{initial:"hidden",animate:"show",variants:yw,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[t.jsxs(he.div,{variants:gr,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Status"}),t.jsx(Xx,{status:(xe==null?void 0:xe.status)||(be==null?void 0:be.status)||(R==null?void 0:R.status)})]}),t.jsxs(he.div,{variants:gr,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Window"}),t.jsxs("div",{className:"text-sm text-slate-800",children:[t.jsx("div",{className:"truncate",children:Nw(((Ce=xe==null?void 0:xe.window)==null?void 0:Ce.days_of_week)??(be==null?void 0:be.days_of_week)??(R==null?void 0:R.days_of_week))}),t.jsx("div",{className:"text-xs sm:text-sm",children:(((et=xe==null?void 0:xe.window)==null?void 0:et.daily_start)||(be==null?void 0:be.daily_start)||(R==null?void 0:R.daily_start)||"09:00")+""+(((ut=xe==null?void 0:xe.window)==null?void 0:ut.daily_end)||(be==null?void 0:be.daily_end)||(R==null?void 0:R.daily_end)||"18:00")}),t.jsx("div",{className:"text-xs text-slate-500 truncate",children:(xe==null?void 0:xe.timezone)||(be==null?void 0:be.timezone)||(R==null?void 0:R.timezone)||"Local"})]})]}),t.jsxs(he.div,{variants:gr,className:"rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 sm:col-span-2 lg:col-span-1",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Counts"}),t.jsxs("div",{className:"text-sm text-slate-800 grid grid-cols-2 gap-y-1",children:[t.jsxs("div",{children:["Total: ",((_t=xe==null?void 0:xe.totals)==null?void 0:_t.total)??((gt=be==null?void 0:be.totals)==null?void 0:gt.total)??((Ht=R==null?void 0:R.counts)==null?void 0:Ht.total)??""]}),t.jsxs("div",{children:["Done: ",((qt=xe==null?void 0:xe.totals)==null?void 0:qt.done)??((Mt=be==null?void 0:be.totals)==null?void 0:Mt.done)??((ls=R==null?void 0:R.counts)==null?void 0:ls.completed_or_failed)??""]}),t.jsxs("div",{children:["Calling: ",((ri=xe==null?void 0:xe.totals)==null?void 0:ri.calling)??""]}),t.jsxs("div",{children:["Retry: ",((qs=xe==null?void 0:xe.totals)==null?void 0:qs.retry)??""]})]})]})]}),t.jsxs(he.div,{initial:"hidden",animate:"show",variants:gr,className:"mt-4 flex flex-wrap items-center gap-2",children:[String((xe==null?void 0:xe.status)||(be==null?void 0:be.status)||(R==null?void 0:R.status)).toLowerCase()==="paused"?t.jsx(al,{onClick:()=>ht(R.id),icon:t.jsx(Fu,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Resume"})}):t.jsx(al,{onClick:()=>Qe(R.id),icon:t.jsx(nq,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Pause"})}),t.jsx(di,{onClick:()=>Ct(R.id),icon:t.jsx(wu,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Stop"})}),t.jsx(di,{onClick:()=>wt(R.id),icon:t.jsx(Ze,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Sync Leads"})}),t.jsx(di,{onClick:()=>Ra(),icon:t.jsx(hn,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Add Files"})}),t.jsx(di,{onClick:()=>Vt(R.id),icon:t.jsx(ka,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]}),t.jsxs(he.div,{initial:"hidden",animate:"show",variants:yw,className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[t.jsx(he.div,{variants:gr,children:t.jsx(ype,{details:xe!=null&&xe.window?{...be,...xe,days_of_week:(Gs=xe.window)==null?void 0:Gs.days_of_week,daily_start:(xs=xe.window)==null?void 0:xs.daily_start,daily_end:(To=xe.window)==null?void 0:To.daily_end,timezone:xe.timezone}:be,onSubmit:ge=>La(R.id,ge),loading:de})}),t.jsx(he.div,{variants:gr,children:t.jsx(jpe,{details:be,onSubmit:ge=>Cs(R.id,ge),loading:de})})]}),t.jsx(he.div,{initial:"hidden",animate:"show",variants:gr,children:t.jsx(vpe,{onRun:ge=>At(R.id,ge)})})]})]})]})}),t.jsx(jt,{children:Ie&&t.jsxs(t.Fragment,{children:[t.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:jw,initial:"hidden",animate:"show",exit:"exit",onClick:()=>Ye(!1)}),t.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:GP,initial:"hidden",animate:"show",exit:"exit",children:t.jsxs("div",{className:"w-full max-w-xl sm:max-w-2xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[t.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-5 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-9 w-9 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 grid place-items-center",children:t.jsx(hn,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-base sm:text-lg font-bold text-slate-900",children:"Add Files to Campaign"}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Campaign #",R==null?void 0:R.id,"  ",Rh(R==null?void 0:R.name)]})]})]}),t.jsx("button",{onClick:()=>Ye(!1),className:"h-8 w-8 rounded-xl border border-slate-200 hover:bg-slate-50 grid place-items-center","aria-label":"Close",children:t.jsx(js,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-5 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),t.jsx("input",{value:ke,onChange:ge=>Je(ge.target.value),placeholder:"Search files by name or id",className:"w-full rounded-xl border border-slate-200 pl-9 pr-3 py-2 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Origin filter (optional)"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[hpe.map(ge=>{const ze=G.includes(ge);return t.jsx("button",{type:"button",onClick:()=>ce(tt=>tt.includes(ge)?tt.filter(st=>st!==ge):[...tt,ge]),className:Er("rounded-full px-3 py-1 text-xs border",ze?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"),children:ge},ge)}),G.length>0&&t.jsx("button",{type:"button",onClick:()=>ce([]),className:"rounded-full px-3 py-1 text-xs border border-slate-300 bg-white text-slate-700 hover:bg-slate-50",children:"Clear"})]})]}),t.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-800",children:[t.jsx("input",{type:"checkbox",checked:ie,onChange:ge=>De(ge.target.checked)}),"Include DNC (not recommended)"]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:[t.jsxs("div",{className:"bg-slate-50/60 px-3 py-2 text-xs text-slate-600 flex items-center justify-between",children:[t.jsxs("span",{children:["Select files (",Xe.size," selected)"]}),t.jsx("button",{className:"text-blue-700 hover:underline",onClick:()=>{const ge=Es.map(tt=>tt.id),ze=ge.every(tt=>Xe.has(tt));ue(ze?new Set:new Set(ge))},children:"Toggle all on page"})]}),t.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:Es.length===0?t.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No files match your search/filter."}):Es.map(ge=>{const ze=Xe.has(ge.id);return t.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:ze,onChange:()=>ue(tt=>{const st=new Set(tt);return st.has(ge.id)?st.delete(ge.id):st.add(ge.id),st})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-medium text-slate-900 text-sm truncate",children:ge.name}),t.jsxs("div",{className:"text-xs text-slate-600",children:["#",ge.id,"  ",ge.leads_count??0," leads"]})]}),t.jsx("div",{className:"ml-auto text-xs text-slate-600",children:ge.created_at?Kx(ge.created_at):""})]},ge.id)})})]})]}),t.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-5 flex items-center justify-end gap-2",children:[t.jsx(di,{onClick:()=>Ye(!1),icon:t.jsx(js,{className:"h-4 w-4"}),children:"Cancel"}),t.jsx(al,{onClick:Hs,disabled:$e||Xe.size===0,icon:$e?t.jsx(Ma,{className:"h-4 w-4 animate-spin"}):t.jsx(cu,{className:"h-4 w-4"}),children:$e?"Queuing":"Queue Leads"})]})]})})]})})]});function Es(){const ge=ke.trim().toLowerCase();return u.filter(tt=>{const st=G.length===0||G.includes(tt.origin||"CSV");if(!ge)return st;const it=[tt.name,tt.alphanumeric_id,String(tt.id)].filter(Boolean).map(vt=>String(vt).toLowerCase());return st&&it.some(vt=>vt.includes(ge))})}}function vpe({onRun:e}){const[a,s]=x.useState(5);return t.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[t.jsx(Vg,{className:"h-4 w-4"})," Run Now"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",min:1,className:"w-24 rounded-xl border border-slate-200 px-3 py-2 text-sm",value:a,onChange:n=>s(Number(n.target.value)||5)}),t.jsx(al,{onClick:()=>e(a),icon:t.jsx(Fu,{className:"h-4 w-4"}),children:"Trigger"})]})]}),t.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Immediately place a small batch of calls (ignores schedule window)."})]})}function ype({details:e,onSubmit:a,loading:s}){const[n,r]=x.useState({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:Yx(e==null?void 0:e.start_at),end_at:Yx(e==null?void 0:e.end_at)});x.useEffect(()=>{r({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:Yx(e==null?void 0:e.start_at),end_at:Yx(e==null?void 0:e.end_at)})},[e]);function l(u){const{name:m,value:h}=u.target;r(f=>({...f,[m]:h}))}function c(u){r(m=>{const f=m.days_of_week.includes(u)?m.days_of_week.filter(g=>g!==u):[...m.days_of_week,u];return f.sort((g,b)=>g-b),{...m,days_of_week:f}})}return t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[t.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[t.jsx(zN,{className:"h-4 w-4"})," Schedule"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("label",{className:"block",children:[t.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),t.jsx("select",{name:"timezone",value:n.timezone,onChange:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:rI.map(u=>t.jsx("option",{value:u.value,children:u.label},u.value))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(u=>t.jsx("button",{type:"button",onClick:()=>c(u),className:Er("px-3 py-1.5 rounded-xl border text-sm",n.days_of_week.includes(u)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][u]},u))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(En,{label:"Daily start",name:"daily_start",value:n.daily_start,onChange:l,placeholder:"HH:MM"}),t.jsx(En,{label:"Daily end",name:"daily_end",value:n.daily_end,onChange:l,placeholder:"HH:MM"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(En,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:n.start_at,onChange:l}),t.jsx(En,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:n.end_at,onChange:l})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(al,{onClick:()=>a(n),disabled:s,children:"Save Schedule"})})]})]})}function jpe({details:e,onSubmit:a,loading:s}){const[n,r]=x.useState({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3});x.useEffect(()=>{r({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3})},[e]);function l(c){const{name:u,value:m,type:h,checked:f}=c.target;r(g=>({...g,[u]:h==="checkbox"?f:m}))}return t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[t.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[t.jsx(Vg,{className:"h-4 w-4"})," Retry Policy"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("label",{className:"inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!n.retry_on_busy,onChange:l}),t.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),t.jsx(En,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:n.busy_retry_delay_minutes,onChange:l}),t.jsx(En,{label:"Max attempts",name:"max_attempts",value:n.max_attempts,onChange:l}),t.jsx("div",{className:"flex justify-end",children:t.jsx(al,{onClick:()=>a(n),disabled:s,children:"Save Retry Policy"})})]})]})}function wpe({leads:e,mode:a,search:s,selectedIds:n,onChange:r}){const[l,c]=x.useState(1),u=12,m=x.useMemo(()=>{const w=(s||"").toLowerCase().trim();return w?e.filter(j=>`${j.first_name||""} ${j.last_name||""}`.toLowerCase().includes(w)||(j.email||"").toLowerCase().includes(w)||(j.mobile||"").toLowerCase().includes(w)):e},[e,s]),h=Math.max(1,Math.ceil(m.length/u));x.useEffect(()=>{l>h&&c(h)},[l,h]);const f=(l-1)*u,g=f+u,b=m.slice(f,g);function v(w){const j=n.includes(w);r(j?n.filter(S=>S!==w):[...n,w])}return t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[t.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:b.length===0?t.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No leads match your search."}):b.map(w=>{const j=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unknown";return t.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.includes(w.id),onChange:()=>v(w.id)}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-medium text-slate-900 text-sm",children:j}),t.jsx("div",{className:"text-xs text-slate-600 break-all",children:(w.email||"")+"  "+(w.mobile||"")})]}),w.dnc?t.jsx(qr,{tone:"red",children:"DNC"}):t.jsx(qr,{tone:"green",children:"OK"})]},w.id)})}),m.length>u&&t.jsxs("div",{className:"flex items-center justify-between p-2",children:[t.jsxs("span",{className:"text-xs text-slate-600",children:["Showing ",Math.min(g,m.length)," of ",m.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Mg,{disabled:l<=1,onClick:()=>c(w=>Math.max(1,w-1)),children:[t.jsx(Ss,{className:"h-3.5 w-3.5"})," Prev"]}),t.jsxs("span",{className:"text-xs text-slate-700",children:[l,"/",h]}),t.jsxs(Mg,{disabled:l>=h,onClick:()=>c(w=>Math.min(h,w+1)),children:["Next ",t.jsx(Aa,{className:"h-3.5 w-3.5"})]})]})]}),t.jsxs("div",{className:"p-3 border-t border-slate-200 text-xs text-slate-700",children:["Mode: ",t.jsx("strong",{children:a}),"  Selected: ",t.jsx("strong",{children:n.length})]})]})}function Nw(e){const a=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=new Set(Array.isArray(e)?e:[]);return s.size===5&&[0,1,2,3,4].every(n=>s.has(n))?"MonFri":s.size===7?"Every day":Array.from(s).sort((n,r)=>n-r).map(n=>a[n]||"?").join(", ")}function Sw(e,a,s){a(n=>n===e?(s(r=>r==="asc"?"desc":"asc"),n):(s(e==="created_at"?"desc":"asc"),e))}function al({children:e,onClick:a,disabled:s,icon:n,type:r="button"}){return t.jsxs(he.button,{whileHover:s?void 0:{scale:1.02},whileTap:s?void 0:{scale:.98},type:r,onClick:a,disabled:s,className:Er("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-semibold text-white transition-all duration-200","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)] hover:shadow-[0_12px_32px_-12px_rgba(37,99,235,0.65)]","disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[n,t.jsx("span",{className:"whitespace-nowrap",children:e})]})}function di({children:e,onClick:a,icon:s,type:n="button",disabled:r}){return t.jsxs(he.button,{whileHover:r?void 0:{scale:1.02},whileTap:r?void 0:{scale:.98},type:n,onClick:a,disabled:r,className:Er("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl border border-slate-200 bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-medium text-slate-800 ring-1 ring-white/70 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm",r&&"opacity-60 cursor-not-allowed"),children:[s,t.jsx("span",{className:"whitespace-nowrap",children:e})]})}function Mg({children:e,disabled:a,onClick:s}){return t.jsx(he.button,{whileHover:a?void 0:{scale:1.02},whileTap:a?void 0:{scale:.98},disabled:a,onClick:s,className:Er("inline-flex items-center gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border px-2.5 sm:px-3.5 py-1.5 sm:py-2 text-xs sm:text-sm transition-all duration-200",a?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50 hover:shadow-sm"),children:e})}function _w({children:e,sortKey:a,sortBy:s,sortDir:n,onSort:r}){const l=s===a;return t.jsx("th",{className:Er("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>r(a),title:"Sort",children:t.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,t.jsx("span",{className:Er("text-xs",l?"opacity-100":"opacity-20"),children:l?n==="asc"?"":"":""})]})})}function Npe({rows:e=6,cols:a=6}){return t.jsx(t.Fragment,{children:Array.from({length:e}).map((s,n)=>t.jsx("tr",{className:"animate-pulse",children:Array.from({length:a}).map((r,l)=>t.jsx("td",{className:"px-5 py-3",children:t.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},n))})}function En({label:e,name:a,value:s,onChange:n,type:r="text",placeholder:l,className:c}){return t.jsxs("label",{className:Er("block",c),children:[t.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),t.jsx("input",{type:r,name:a,value:s??"",onChange:n,placeholder:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}const kw={};var gu={};const ui=typeof import.meta<"u"&&"http://13.60.203.103"||typeof process<"u"&&(gu==null?void 0:gu.NEXT_PUBLIC_API_URL)||"http://localhost:8000",mi=typeof import.meta<"u"&&(kw==null?void 0:kw.VITE_API_PREFIX)||typeof process<"u"&&(gu==null?void 0:gu.NEXT_PUBLIC_API_PREFIX)||"/api",Zx=typeof window<"u"?window.location.origin:"",Spe="/integrations",Cw=["hubspot","ghl","monday"],hi={PROVIDERS:`${ui}${mi}/crm/providers`,ACCOUNTS:`${ui}${mi}/crm/accounts`,CONNECT:e=>`${ui}${mi}/crm/connect/${e}`,DISCONNECT:e=>`${ui}${mi}/crm/disconnect/${e}`,ENSURE_FRESH:e=>`${ui}${mi}/crm/ensure-fresh/${e}`,CONTACTS:e=>`${ui}${mi}/crm/${e}/contacts`,MONDAY_LIST_BOARDS:`${ui}${mi}/crm/monday/boards`,MONDAY_GET_BOARD:`${ui}${mi}/crm/monday/board`,MONDAY_SET_BOARD:`${ui}${mi}/crm/monday/board`,MONDAY_CLEAR_BOARD:`${ui}${mi}/crm/monday/board`},_pe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function NN(...e){return e.filter(Boolean).join(" ")}function kpe(e){if(e)return e.properties&&typeof e.properties=="object"?e.properties.company||e.properties.company_name||e.properties.companyname:e.company||e.organization||e.companyName||e.account||void 0}function on({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[n]} ${u[s]} ${a}`,children:e})}function Cpe({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function Ape({rows:e=6,cols:a=5}){return t.jsx(t.Fragment,{children:Array.from({length:e}).map((s,n)=>t.jsx("tr",{className:"animate-pulse",children:Array.from({length:a}).map((r,l)=>t.jsx("td",{className:"px-4 py-4",children:t.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},n))})}function Epe({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(on,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(js,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function SN({size:e=24}){return t.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[t.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"2"}),t.jsx("circle",{cx:"12",cy:"12",r:"3.6",fill:"#2563eb"})]})}function Tpe({size:e=24}){return t.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",stroke:"#0ea5e9",strokeWidth:"2"}),t.jsx("path",{d:"M7 12h10",stroke:"#0ea5e9",strokeWidth:"2"}),t.jsx("path",{d:"M12 7v10",stroke:"#0ea5e9",strokeWidth:"2"})]})}function Ope({size:e=24}){return t.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[t.jsx("circle",{cx:"8.5",cy:"12",r:"3.3",fill:"#f43f5e"}),t.jsx("circle",{cx:"14.5",cy:"12",r:"3.3",fill:"#f59e0b"}),t.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"1.5",opacity:"0.25"})]})}const Pd={hubspot:{label:"HubSpot",Mark:SN},ghl:{label:"GHL",Mark:Tpe},monday:{label:"monday.com",Mark:Ope}};function Jx({label:e,value:a,Icon:s,tone:n="blue",valueClassName:r=""}){const l=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl pointer-events-none",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0",children:[t.jsx("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${c} text-white shadow-inner ring-1 ${l} shrink-0`,children:t.jsx(s,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:NN("text-base sm:text-xl font-extrabold text-slate-900 truncate","min-w-0 max-w-full break-words",r),title:typeof a=="string"?a:void 0,children:a})]})]})]})}function WP({name:e="",size:a=38}){const s=(e||"?").split(" ").filter(Boolean).map(n=>n[0]).join("").slice(0,2).toUpperCase();return t.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:a,height:a},children:t.jsx("span",{style:{fontSize:a<40?12:13},children:s||"?"})})}function Ppe(){var ye,Be,_e;const e=x.useRef(typeof window<"u"&&window.localStorage.getItem("token")||null),[a,s]=x.useState([]),[n,r]=x.useState([]),[l,c]=x.useState(!0),[u,m]=x.useState(!1),[h,f]=x.useState("hubspot"),[g,b]=x.useState(25),[v,w]=x.useState([]),[j,S]=x.useState(null),[k,_]=x.useState({}),[C,T]=x.useState(""),[O,E]=x.useState(!1),[$,M]=x.useState(!1),[H,V]=x.useState(!1),[F,B]=x.useState([]),[ee,we]=x.useState(""),[ne,A]=x.useState(null),[U,K]=x.useState(null),[z,I]=x.useState(null),D=x.useMemo(()=>{const te={};for(const Y of n)te[Y.crm]=Y;return te},[n]),R=!!D[h],Z=D[h],de=!!D.monday,le=de&&z&&typeof z.board_id<"u"&&z.board_id!==null,be=x.useCallback(async(te,Y={})=>{if(!e.current)throw new Error("No token");const Se={Accept:"application/json",...Y.headers||{},Authorization:`Bearer ${e.current}`};return Y.body&&!Se["Content-Type"]&&(Se["Content-Type"]="application/json"),await fetch(te,{...Y,headers:Se})},[]),Ue=x.useCallback(async()=>{try{const Y=await(await be(hi.PROVIDERS)).json(),me=(Array.isArray(Y)?Y:[]).filter(X=>Cw.includes(X==null?void 0:X.name));s(me),!me.find(X=>X.name===h)&&me[0]&&f(me[0].name)}catch(te){console.error(te),s([]),L.error("Failed to fetch providers")}},[be,h]),xe=x.useCallback(async()=>{var te;try{const Se=await(await be(hi.ACCOUNTS)).json(),me=Array.isArray(Se)?Se:[];r(me.filter(Te=>Cw.includes(Te==null?void 0:Te.crm)));const X=me.find(Te=>Te.crm==="monday");if((te=X==null?void 0:X.metadata)!=null&&te.monday){const Te=X.metadata.monday;Te.board_id?(I({board_id:Te.board_id,board_name:Te.board_name}),A(Te.board_id),K(Te.board_name||null)):I({board_id:null,board_name:null})}else X||I(null)}catch(Y){console.error(Y),r([]),L.error("Failed to fetch accounts")}},[be]);async function ve(){var te;if(de)try{const Se=await(await be(hi.MONDAY_GET_BOARD)).json(),me=(Se==null?void 0:Se.selected)??null,X=((te=Se==null?void 0:Se.meta)==null?void 0:te.board_name)??null;I(me?{board_id:me,board_name:X}:{board_id:null,board_name:null}),me&&(A(me),K(X))}catch(Y){console.error("Fetch selected board failed",Y)}}x.useEffect(()=>{(async()=>{if(!e.current){L.error("No auth token found. Please log in."),c(!1);return}try{await Promise.all([Ue(),xe()])}finally{c(!1)}})()},[Ue,xe]),x.useEffect(()=>{const te=new URLSearchParams(window.location.search),Y=te.get("status"),Se=te.get("crm");if(Y&&window.opener){try{window.opener.postMessage({type:"crm-oauth",status:Y,crm:Se},Zx)}catch{}window.close()}},[]),x.useEffect(()=>{function te(Y){var me;if(Y.origin!==Zx)return;const Se=Y.data||{};if(Se.type==="crm-oauth"){const X=Se.crm||h;Se.status==="success"?(L.success(`${(((me=Pd[X])==null?void 0:me.label)||X).toUpperCase()} connected`),X==="monday"?xe().then(ve):xe()):(L.error(`OAuth error: ${Se.status||"unknown"}`),xe()),m(!1)}}return window.addEventListener("message",te),()=>window.removeEventListener("message",te)},[xe,h]),x.useEffect(()=>{h==="monday"&&de&&ve()},[h,de]);async function Ie(te){try{m(!0);const Y={redirect_to:`${Zx}${Spe}`},Se=await be(hi.CONNECT(te),{method:"POST",body:JSON.stringify(Y)}),me=await Se.json();if(!Se.ok||!(me!=null&&me.auth_url))throw new Error((me==null?void 0:me.detail)||"Failed to start OAuth");const X=me.auth_url,Te=680,He=760,Ve=window.screenX+Math.max(0,(window.outerWidth-Te)/2),rt=window.screenY+Math.max(0,(window.outerHeight-He)/2),nt=window.open(X,"crm-oauth",`width=${Te},height=${He},left=${Ve},top=${rt}`);if(!nt){window.location.href=X;return}const Oe=Date.now(),We=setInterval(async()=>{(nt.closed||Date.now()-Oe>12e4)&&(clearInterval(We),await xe(),m(!1))},2e3)}catch(Y){console.error(Y),L.error((Y==null?void 0:Y.message)||"OAuth failed to start"),m(!1)}}async function Ye(te){try{const Y=await be(hi.ENSURE_FRESH(te),{method:"POST"}),Se=await Y.json().catch(()=>({}));if(!Y.ok||(Se==null?void 0:Se.success)===!1)throw new Error((Se==null?void 0:Se.detail)||`HTTP ${Y.status}`);L.success("Token refreshed"),await xe()}catch(Y){console.error(Y),L.error((Y==null?void 0:Y.message)||"Refresh failed")}}async function ke(te){var Y;if(confirm(`Disconnect ${((Y=Pd[te])==null?void 0:Y.label)||te}?`))try{const Se=await be(hi.DISCONNECT(te),{method:"DELETE"}),me=await Se.json().catch(()=>({}));if(!Se.ok||(me==null?void 0:me.success)===!1)throw new Error((me==null?void 0:me.detail)||`HTTP ${Se.status}`);L.success((me==null?void 0:me.message)||"Disconnected"),await xe(),te==="monday"&&(I(null),B([]),A(null),K(null)),te===h&&(w([]),S(null),_({}))}catch(Se){console.error(Se),L.error((Se==null?void 0:Se.message)||"Disconnect failed")}}async function Je(){if(!de){L.info("Connect monday.com first");return}M(!0),await Xe(ee)}async function Xe(te){try{V(!0);const Y=te?`?search=${encodeURIComponent(te)}`:"",me=await(await be(`${hi.MONDAY_LIST_BOARDS}${Y}`)).json(),X=Array.isArray(me==null?void 0:me.items)?me.items:[];B(X);const Te=(me==null?void 0:me.selected_board_id)||(me==null?void 0:me.selected)||null;if(Te){A(Te);const He=X.find(Ve=>String(Ve.id)===String(Te));K((He==null?void 0:He.name)||null)}}catch(Y){console.error(Y),L.error("Failed to load boards")}finally{V(!1)}}async function ue(){var te,Y;if(!ne){L.info("Please select a board");return}try{const Se={board_id:Number(ne),board_name:U||void 0},me=await be(hi.MONDAY_SET_BOARD,{method:"POST",body:JSON.stringify(Se)}),X=await me.json();if(!me.ok||(X==null?void 0:X.success)===!1)throw new Error((X==null?void 0:X.detail)||`HTTP ${me.status}`);I({board_id:((te=X.selected)==null?void 0:te.board_id)??Number(ne),board_name:((Y=X.selected)==null?void 0:Y.board_name)??U??null}),L.success("Board selected"),M(!1),await xe(),h==="monday"&&await De(!0)}catch(Se){console.error(Se),L.error((Se==null?void 0:Se.message)||"Failed to save board")}}async function ie(){try{const te=await be(hi.MONDAY_CLEAR_BOARD,{method:"DELETE"}),Y=await te.json();if(!te.ok||(Y==null?void 0:Y.success)===!1)throw new Error((Y==null?void 0:Y.detail)||`HTTP ${te.status}`);I({board_id:null,board_name:null}),A(null),K(null),L.success("Board cleared"),w([]),S(null),_({})}catch(te){console.error(te),L.error((te==null?void 0:te.message)||"Failed to clear board")}}async function De(te=!1){var Y,Se;if(!R){L.info(`Connect ${((Y=Pd[h])==null?void 0:Y.label)||h} first`);return}try{E(!0);const me=new URLSearchParams({limit:String(g||25)});let X=`${hi.CONTACTS(h)}?${me.toString()}`;!te&&j&&(X+=`&cursor=${encodeURIComponent(j)}`);const Te=await be(X),He=await Te.json();if(h==="monday"&&Te.status===409&&((Se=He==null?void 0:He.detail)!=null&&Se.needs_board_selection)){L.info("Please choose your Monday board"),M(!0),await Xe(ee),E(!1);return}if(!Te.ok)throw new Error((He==null?void 0:He.detail)||`HTTP ${Te.status}`);const Ve=((He==null?void 0:He.items)||[]).map(nt=>({...nt,company:nt.company||kpe(nt.raw)})),rt=(He==null?void 0:He.next_cursor)||null;w(nt=>te?Ve:[...nt,...Ve]),S(rt),_((He==null?void 0:He.raw_paging)||{})}catch(me){console.error(me);const X=String((me==null?void 0:me.message)||"");X.includes("Invalid paging token")?(L.error("Invalid/expired cursor; starting over."),S(null)):L.error(X||"Fetch failed")}finally{E(!1)}}const G=x.useMemo(()=>{const te=C.trim().toLowerCase();return te?v.filter(Y=>{const Se=(Y.name||"").toLowerCase(),me=(Y.email||"").toLowerCase(),X=(Y.phone||"").toLowerCase(),Te=(Y.company||"").toLowerCase();return Se.includes(te)||me.includes(te)||X.includes(te)||Te.includes(te)}):v},[v,C]),ce=((ye=Pd[h])==null?void 0:ye.Mark)||SN,$e=((Be=Pd[h])==null?void 0:Be.label)||h,qe=h==="monday"&&R&&!le;return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-5 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(ce,{size:24})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight leading-tight truncate",children:t.jsxs("span",{className:`bg-clip-text text-transparent ${_pe}`,children:["CRM Integrations  ",$e]})}),t.jsx("p",{className:"text-[11px] sm:text-xs md:text-sm text-slate-600",children:"Connect your CRM and browse Contacts directly in your app."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[R?t.jsxs(t.Fragment,{children:[t.jsxs(on,{onClick:()=>Ye(h),size:"sm",children:[t.jsx(fl,{className:"mr-2 h-4 w-4"}),"Ensure Fresh"]}),h==="monday"&&t.jsxs(on,{onClick:Je,size:"sm",variant:"subtle",children:[t.jsx(o1,{className:"mr-2 h-4 w-4"}),le?"Change Board":"Choose Board"]}),t.jsxs(on,{onClick:()=>ke(h),variant:"danger",size:"sm",children:[t.jsx(nG,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):t.jsx(on,{onClick:()=>Ie(h),variant:"primary",disabled:u,size:"sm",children:u?t.jsxs(t.Fragment,{children:[t.jsx(Ma,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting"]}):t.jsxs(t.Fragment,{children:[t.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Connect"]})}),t.jsxs(on,{onClick:()=>{Ue(),xe()},size:"sm",children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),t.jsx("div",{className:"relative z-10 mt-4 flex flex-wrap gap-2",children:a.filter(te=>Cw.includes(te.name)).map(te=>{var me;const Y=((me=Pd[te.name])==null?void 0:me.Mark)||SN,Se=!!D[te.name];return t.jsxs("button",{onClick:()=>{f(te.name),w([]),S(null),_({})},className:NN("flex items-center gap-2 rounded-xl border px-3 py-1.5 text-xs font-semibold focus:outline-none","transition-colors",te.name===h?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),title:te.name,children:[t.jsx(Y,{size:16}),t.jsx("span",{className:"capitalize",children:te.name}),Se?t.jsx("span",{className:"ml-1 text-emerald-600",children:""}):t.jsx("span",{className:"ml-1 text-slate-300",children:""})]},te.name)})}),!R&&(((_e=a.find(te=>te.name===h))==null?void 0:_e.type)||"oauth")==="oauth"&&t.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 text-[11px] sm:text-[12px] text-slate-500",children:[t.jsx(mn,{className:"h-4 w-4 mt-0.5 text-slate-400 shrink-0"}),t.jsxs("span",{className:"min-w-0",children:["Ensure backend env ",t.jsx("code",{children:"ALLOWED_REDIRECT_ORIGINS"})," includes"," ",t.jsx("code",{className:"break-all",children:Zx}),"."]})]}),qe&&t.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2",children:[t.jsx(o1,{className:"h-4 w-4 text-amber-600 mt-0.5"}),t.jsxs("div",{className:"text-[12px] sm:text-sm text-amber-800",children:["Select a Monday board to view your leads.",t.jsx(on,{onClick:Je,size:"sm",className:"ml-2",variant:"outline",children:"Choose Board"})]})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(Jx,{label:"Connection",value:R?"Connected":"Not connected",Icon:R?ra:Mn,tone:R?"blue":"cyan"}),t.jsx(Jx,{label:"Contacts Loaded",value:v.length,Icon:Za,tone:"cyan"}),t.jsx(Jx,{label:"Next Cursor",value:j?String(j).slice(0,10)+"":"",Icon:ho,tone:"blue"}),t.jsx(Jx,{label:h==="monday"?"Monday Board":"Account",value:h==="monday"?(z==null?void 0:z.board_name)||(le?`#${z.board_id}`:"Not selected"):(Z==null?void 0:Z.external_account_name)||"",Icon:h==="monday"?o1:Cr,tone:"cyan",valueClassName:"truncate break-all max-w-[14ch] sm:max-w-[24ch] md:max-w-[28ch] xl:max-w-[32ch]"})]}),t.jsxs("div",{className:"mt-5 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-3 sm:px-5 py-3 border-b border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Us,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:C,onChange:te=>T(te.target.value),placeholder:"Search by name, email, phone, company",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[t.jsx(ho,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Data"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("select",{value:g,onChange:te=>b(Number(te.target.value)||25),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(te=>t.jsxs("option",{value:te,children:[te," / page"]},te))}),t.jsxs(on,{onClick:()=>De(!0),disabled:!R||h==="monday"&&!le,variant:"primary",size:"sm",children:[t.jsx(Fg,{className:"mr-2 h-4 w-4"}),"Fetch"]}),t.jsxs(on,{onClick:()=>De(!1),disabled:!R||!j,size:"sm",children:[t.jsx(Aa,{className:"mr-2 h-4 w-4"}),"Load more"]})]})]}),O?t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(fi,{children:"Name"}),t.jsx(fi,{children:"Email"}),t.jsx(fi,{children:"Phone"}),t.jsx(fi,{children:"Company"}),t.jsx(fi,{children:"ID"})]})}),t.jsx("tbody",{children:t.jsx(Ape,{rows:6,cols:5})})]})})}):G.length===0?t.jsxs("div",{className:"grid place-content-center py-14 px-4",children:[t.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-slate-100 mb-3",children:t.jsx(ho,{className:"h-8 w-8 text-slate-400"})}),t.jsx("div",{className:"text-sm sm:text-base font-semibold text-slate-700",children:"No data"}),t.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Click ",t.jsx("b",{children:"Fetch"})," to load contacts."]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(fi,{children:"Name"}),t.jsx(fi,{children:"Email"}),t.jsx(fi,{children:"Phone"}),t.jsx(fi,{children:"Company"}),t.jsx(fi,{children:"ID"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:G.map(te=>t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(ch,{children:t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx(WP,{name:te.name}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:te.name||""}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID ",te.id]})]})]})}),t.jsx(ch,{children:t.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[t.jsx(_s,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),t.jsx("span",{className:"text-xs font-medium break-words",children:te.email||""})]})}),t.jsx(ch,{children:t.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[t.jsx(St,{className:"h-3.5 w-3.5 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium",children:te.phone||""})]})}),t.jsx(ch,{children:t.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[t.jsx(PC,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),t.jsx("span",{className:"text-xs font-medium truncate max-w-[240px]",children:te.company||""})]})}),t.jsx(ch,{children:t.jsx("code",{className:"text-[11px] text-slate-500 break-all",children:te.id})})]},`${te.id}-${te.email||te.name||"row"}`))})]})})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:G.map((te,Y)=>t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Y===0&&t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),t.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[t.jsx(WP,{name:te.name,size:44}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:te.name||""}),t.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-[12px] sm:text-sm text-slate-600 min-w-0",children:[t.jsx(_s,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("span",{className:"truncate break-words",children:te.email||""})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-slate-700",children:[t.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px]",children:[t.jsx(St,{className:"h-3.5 w-3.5 text-slate-500"}),te.phone||""]}),t.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] min-w-0",children:[t.jsx(PC,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),t.jsx("span",{className:"truncate max-w-[160px] sm:max-w-[200px]",children:te.company||""})]})]})]})]}),t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID ",te.id]})]},`${te.id}-${te.email||te.name||"card"}`))})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-3 sm:px-5 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 min-w-0",children:["Next cursor:"," ",t.jsx("b",{className:"font-mono break-all",children:String(j||"")})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(on,{onClick:()=>De(!0),disabled:!R||h==="monday"&&!le,size:"sm",children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Reset"]}),t.jsxs(on,{onClick:()=>De(!1),disabled:!R||!j,variant:"primary",size:"sm",children:["Load more ",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]}),Object.keys(k||{}).length>0&&t.jsx("div",{className:"hidden sm:block px-4 sm:px-6 py-4",children:t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Provider paging (raw)"}),t.jsx("div",{className:"max-w-full overflow-x-auto",children:t.jsx("pre",{className:"text-[11px] text-slate-600 min-w-0",children:JSON.stringify(k,null,2)})})]})})]})]}),t.jsx(jt,{children:$&&t.jsx(Epe,{title:"Select your Monday Board",onClose:()=>M(!1),children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"text-[12px] text-slate-600",children:["Pick a board to use as your ",t.jsx("b",{children:"Leads"})," source. Youll only see items you own (via People/Owner column) or created, based on backend config."]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Us,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:ee,onChange:te=>we(te.target.value),placeholder:"Search boards by name",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",onKeyDown:te=>{te.key==="Enter"&&Xe(ee)}})]}),t.jsxs(on,{onClick:()=>Xe(ee),size:"sm",children:[t.jsx(Ze,{className:"h-4 w-4 mr-1"}),"Search"]})]}),t.jsx("div",{className:"rounded-2xl border border-slate-200",children:t.jsx("div",{className:"max-h-[46vh] overflow-y-auto p-2",children:H?t.jsxs("div",{className:"flex items-center justify-center py-8 text-slate-500",children:[t.jsx(Ma,{className:"h-5 w-5 animate-spin mr-2"}),"Loading boards"]}):F.length===0?t.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No boards found."}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:F.map(te=>{const Y=String(ne)===String(te.id);return t.jsxs("button",{onClick:()=>{A(te.id),K(te.name||null)},className:NN("text-left rounded-xl border px-3 py-2 transition-colors",Y?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"),children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:te.name||`Board ${te.id}`}),Y&&t.jsx(Cpe,{className:"bg-blue-600 text-white",children:"Selected"})]}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID: ",t.jsx("code",{className:"font-mono",children:te.id})]})]},te.id)})})})}),t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[t.jsxs("div",{className:"text-[12px] text-slate-500",children:["Current:"," ",t.jsx("b",{children:z!=null&&z.board_name?z.board_name:z!=null&&z.board_id?`#${z.board_id}`:"None"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(on,{onClick:()=>M(!1),size:"sm",children:"Cancel"}),t.jsx(on,{onClick:ie,size:"sm",variant:"subtle",children:"Clear"}),t.jsx(on,{onClick:ue,size:"sm",variant:"primary",children:"Save"})]})]})]})})})]})}function fi({children:e}){return t.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function ch({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}const Md="http://13.60.203.103",Dd={LIST:(e={})=>{const{page:a,page_size:s,status:n,q:r,date_from:l,date_to:c}=e||{},u=new URL(`${Md}/api/me/appointments`);return a&&u.searchParams.set("page",String(a)),s&&u.searchParams.set("page_size",String(s)),n&&n!=="all"&&u.searchParams.set("status",n),r&&u.searchParams.set("q",r),l&&u.searchParams.set("date_from",l),c&&u.searchParams.set("date_to",c),u.toString()},DETAIL:e=>`${Md}/api/me/appointments/${e}`,UPDATE:e=>`${Md}/api/me/appointments/${e}`,DELETE:e=>`${Md}/api/me/appointments/${e}`,FROM_CALL:(e,a)=>{const s=new URL(`${Md}/api/me/appointments/from-call/${encodeURIComponent(e)}`);return a&&s.searchParams.set("default_timezone",a),s.toString()},EXTRACT_BATCH:(e,a,s)=>{const n=new URL(`${Md}/api/me/appointments/extract-batch`);return e&&n.searchParams.set("limit",String(e)),a&&n.searchParams.set("status_filter",a),s&&n.searchParams.set("default_timezone",s),n.toString()}},Mpe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function ns({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[n]} ${u[s]} ${a}`,children:e})}function Nr({className:e="",...a}){return t.jsx("input",{...a,className:`w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 ${e}`})}function Yn({children:e}){return t.jsx("label",{className:"text-xs font-medium text-slate-600",children:e})}function Dpe({className:e="",...a}){return t.jsx("textarea",{...a,className:`w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 ${e}`})}function Dg({className:e="",...a}){return t.jsx("select",{...a,className:`rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 ${e}`})}function XP({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function Ld({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Rd({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Bb({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(ns,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(Mn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}const Lpe=["Booked","Follow-up Needed"],Lg=e=>{switch(String(e||"").toLowerCase()){case"booked":return{badge:"border-blue-200 bg-blue-50 text-blue-700",icon:ra};case"follow-up needed":case"follow up needed":return{badge:"border-amber-200 bg-amber-50 text-amber-700",icon:e2};default:return{badge:"border-slate-200 bg-slate-50 text-slate-700",icon:e2}}};function Zh(e){try{const a=new Date(e);return Number.isNaN(a.getTime())?e:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(a)}catch{return e}}async function $d(e,a,s,n){const r=await fetch(a,{method:e,headers:{Accept:"application/json",...s?{"Content-Type":"application/json"}:{},...n?{Authorization:`Bearer ${n}`}:{}},mode:"cors",...s?{body:JSON.stringify(s)}:{}});if(!r.ok){const c=await r.text();throw new Error(`HTTP ${r.status}${c?`  ${c}`:""}`)}return(r.headers.get("content-type")||"").includes("application/json")?r.json():r.text()}function Rpe(){const[e,a]=x.useState([]),[s,n]=x.useState(!1),[r,l]=x.useState(""),[c,u]=x.useState(""),[m,h]=x.useState("all"),[f,g]=x.useState(""),[b,v]=x.useState(""),[w,j]=x.useState(10),[S,k]=x.useState(1),_=typeof window<"u"?localStorage.getItem("token"):null,[C,T]=x.useState(0),[O,E]=x.useState(null),[$,M]=x.useState(!1),[H,V]=x.useState(!1),[F,B]=x.useState(!1),[ee,we]=x.useState(null),ne=x.useCallback(async()=>{try{n(!0),l("");const z=Dd.LIST({page:S,page_size:w,status:m,q:c.trim()||void 0,date_from:f||void 0,date_to:b||void 0}),I=await $d("GET",z,null,_),D=((I==null?void 0:I.items)||[]).map(R=>({id:R.id,title:R.title,notes:R.notes,location:R.location,phone:R.phone,timezone:R.timezone,start_at:R.start_at,end_at:R.end_at,status:R.status,created_at:R.created_at,updated_at:R.updated_at}));a(D),T(typeof(I==null?void 0:I.total)=="number"?I.total:D.length)}catch(z){l((z==null?void 0:z.message)||"Failed to load appointments"),L.error((z==null?void 0:z.message)||"Failed to load appointments")}finally{n(!1)}},[_,S,w,m,c,f,b]);x.useEffect(()=>{ne()},[ne]),x.useEffect(()=>{k(1)},[m,c,f,b,w]);const A=x.useMemo(()=>{const z=C||e.length,I=e.filter(R=>String(R.status).toLowerCase()==="booked").length,D=e.filter(R=>String(R.status).toLowerCase().startsWith("follow")).length;return{total:z,booked:I,followup:D}},[e,C]);async function U(z,I){try{E(z);const D=await $d("PATCH",Dd.UPDATE(z),{status:I},_);L.success(`Status set to ${I}`),a(R=>R.map(Z=>Z.id===z?{...Z,status:D.status}:Z))}catch(D){L.error((D==null?void 0:D.message)||"Failed to update status")}finally{E(null)}}async function K(z){if(confirm("Delete this appointment? This cannot be undone."))try{E(z),await $d("DELETE",Dd.DELETE(z),null,_),L.success("Appointment deleted"),a(I=>I.filter(D=>D.id!==z)),ne()}catch(I){L.error((I==null?void 0:I.message)||"Failed to delete appointment")}finally{E(null)}}return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":"true"}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Tn,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${Mpe}`,children:"Appointments"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"List, update, create-from-call, and batch-extract."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(ns,{onClick:()=>M(!0),variant:"primary",children:[t.jsx(LV,{className:"h-4 w-4 mr-1"})," From Call"]}),t.jsxs(ns,{onClick:()=>V(!0),children:[t.jsx($N,{className:"h-4 w-4 mr-1"})," Extract Batch"]}),t.jsx(ns,{onClick:ne,children:s?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[t.jsx(Aw,{label:"Total (server)",value:A.total,Icon:Tn,tone:"blue"}),t.jsx(Aw,{label:"Booked (page)",value:A.booked,Icon:ra,tone:"cyan"}),t.jsx(Aw,{label:"Follow-up (page)",value:A.followup,Icon:e2,tone:"blue"})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsx("div",{className:"relative flex-1 min-w-0",children:t.jsx($pe,{value:c,onChange:u})}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[t.jsx(_i,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(Dg,{value:m,onChange:z=>h(z.target.value),children:[t.jsx("option",{value:"all",children:"All statuses"}),t.jsx("option",{value:"Booked",children:"Booked"}),t.jsx("option",{value:"Follow-up Needed",children:"Follow-up Needed"})]}),t.jsx(Nr,{type:"date",value:f,onChange:z=>g(z.target.value)}),t.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),t.jsx(Nr,{type:"date",value:b,onChange:z=>v(z.target.value)}),c||m!=="all"||f||b?t.jsx(ns,{onClick:()=>{u(""),h("all"),g(""),v(""),k(1)},className:"text-slate-700",children:"Clear"}):null,t.jsx(Dg,{value:String(w),onChange:z=>j(Number(z.target.value)),title:"Page size",children:[10,25,50,100,200].map(z=>t.jsxs("option",{value:z,children:[z," / page"]},z))})]})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(Tn,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Appointments (",e.length,")"]})]}),s&&t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin"}),"Loading"]})]}),r?t.jsx("div",{className:"p-6 text-sm text-red-600",children:r}):e.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(Tn,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No appointments"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try changing filters."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Ld,{children:"Title"}),t.jsx(Ld,{children:"When"}),t.jsx(Ld,{children:"Location"}),t.jsx(Ld,{children:"Phone"}),t.jsx(Ld,{children:"Status"}),t.jsx(Ld,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(z=>{const I=Lg(z.status),D=I.icon;return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(Rd,{children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:z.title}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",z.id]})]})}),t.jsxs(Rd,{children:[t.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[t.jsx(po,{className:"h-4 w-4 text-slate-500"})," ",Zh(z.start_at)]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["TZ: ",z.timezone]})]}),t.jsx(Rd,{children:t.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[t.jsx(ki,{className:"h-4 w-4 text-slate-500"})," ",z.location||""]})}),t.jsx(Rd,{children:t.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[t.jsx(St,{className:"h-4 w-4 text-slate-500"})," ",z.phone]})}),t.jsx(Rd,{children:t.jsxs(XP,{className:`border ${I.badge}`,children:[t.jsx(D,{className:"mr-1 h-3.5 w-3.5"})," ",String(z.status)]})}),t.jsx(Rd,{children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(ZP,{current:z.status,onChange:R=>U(z.id,R),busy:O===z.id}),t.jsxs(ns,{size:"sm",onClick:()=>{we(z),B(!0)},children:[t.jsx(zC,{className:"h-4 w-4 mr-1"})," Edit"]}),t.jsx(JP,{a:z}),t.jsxs(ns,{onClick:()=>K(z.id),size:"sm",variant:"danger",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Delete"]})]})})]},z.id)})})]})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:e.map(z=>{const I=Lg(z.status),D=I.icon;return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:z.title}),t.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[t.jsx(po,{className:"h-4 w-4 text-slate-500"})," ",Zh(z.start_at)]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["TZ: ",z.timezone]}),t.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[t.jsx(ki,{className:"h-4 w-4 text-slate-500"})," ",z.location||""]}),t.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[t.jsx(St,{className:"h-4 w-4 text-slate-500"})," ",z.phone]})]}),t.jsxs(XP,{className:`border ${I.badge} shrink-0`,children:[t.jsx(D,{className:"mr-1 h-3.5 w-3.5"})," ",String(z.status)]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsx(ZP,{current:z.status,onChange:R=>U(z.id,R),busy:O===z.id}),t.jsxs(ns,{size:"sm",onClick:()=>{we(z),B(!0)},children:[t.jsx(zC,{className:"h-4 w-4 mr-1"})," Edit"]}),t.jsx(JP,{a:z}),t.jsxs(ns,{onClick:()=>K(z.id),size:"sm",variant:"danger",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Delete"]})]}),t.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 break-all",children:["ID #",z.id]})]},z.id)})})}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",t.jsx("b",{children:S}),"  Showing ",e.length," of ",C]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(ns,{onClick:()=>k(z=>Math.max(1,z-1)),disabled:S===1,children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"})," Prev"]}),t.jsxs(ns,{onClick:()=>k(z=>z+1),disabled:e.length<w,children:["Next ",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(jt,{children:$&&t.jsx(Ipe,{onClose:()=>M(!1),onCreate:async(z,I)=>{try{const D=await $d("POST",Dd.FROM_CALL(z,I),null,_);L.success("Appointment created from call"),M(!1),ne()}catch(D){L.error((D==null?void 0:D.message)||"Failed to create from call")}}})}),t.jsx(jt,{children:H&&t.jsx(zpe,{onClose:()=>V(!1),onRun:async(z,I,D)=>{try{const R=await $d("POST",Dd.EXTRACT_BATCH(z,I||null,D||null),null,_);L.success(`Batch done: created ${(R==null?void 0:R.created)??0}, skipped ${(R==null?void 0:R.skipped)??0}`),V(!1),ne()}catch(R){L.error((R==null?void 0:R.message)||"Batch extract failed")}}})}),t.jsx(jt,{children:F&&ee&&t.jsx(Bpe,{a:ee,onClose:()=>B(!1),onSave:async z=>{try{const I=await $d("PATCH",Dd.UPDATE(ee.id),z,_);L.success("Appointment updated"),a(D=>D.map(R=>R.id===ee.id?{...R,...I}:R)),B(!1)}catch(I){L.error((I==null?void 0:I.message)||"Failed to update")}}})})]})}function Aw({label:e,value:a,Icon:s,tone:n="blue"}){const r=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(s,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function ZP({current:e,onChange:a,busy:s}){const[n,r]=x.useState(!1),l=[{k:"Booked",label:"Mark Booked"},{k:"Follow-up Needed",label:"Mark Follow-up Needed"}],u=Lg(e).icon;return t.jsxs("div",{className:"relative",children:[t.jsxs(ns,{onClick:()=>r(m=>!m),size:"sm",className:"min-w-[170px] justify-between",children:[t.jsxs("span",{className:"flex items-center gap-2 text-slate-800",children:[t.jsx(u,{className:"h-4 w-4"})," ",String(e)]}),s?t.jsx(Ze,{className:"h-4 w-4 animate-spin"}):t.jsx(LN,{className:"h-4 w-4 opacity-60"})]}),t.jsx(jt,{children:n&&t.jsx(he.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"absolute z-20 mt-2 w-64 rounded-xl border border-slate-200 bg-white shadow-xl",children:l.map(m=>{const h=Lg(m.k).icon;return t.jsxs("button",{onClick:()=>{r(!1),m.k!==e&&a(m.k)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-slate-50",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(h,{className:"h-4 w-4"})," ",m.label]}),String(e)===m.k&&t.jsx(ra,{className:"h-4 w-4 text-emerald-500"})]},m.k)})})})]})}function JP({a:e}){const[a,s]=x.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsxs(ns,{onClick:()=>s(!0),size:"sm",children:[t.jsx(wa,{className:"h-4 w-4 mr-1"})," Details"]}),t.jsx(jt,{children:a&&t.jsxs(Bb,{title:"Appointment Details",onClose:()=>s(!1),children:[t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Tn,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"Title:"})," ",e.title]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(po,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"When:"})," ",Zh(e.start_at)]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ki,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"Location:"})," ",e.location||""]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(St,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.phone]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kq,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"Notes:"})," ",e.notes||""]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Timezone: ",e.timezone]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",e.id]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Created: ",Zh(e.created_at)]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Updated: ",Zh(e.updated_at)]})]}),t.jsx("div",{className:"mt-5 text-right",children:t.jsx(ns,{onClick:()=>s(!1),variant:"primary",children:"Close"})})]})})]})}function $pe({value:e,onChange:a}){return t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsxs("svg",{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),t.jsx("input",{value:e,onChange:s=>a(s.target.value),placeholder:"Search title, phone, location, notes",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}function Ipe({onClose:e,onCreate:a}){const[s,n]=x.useState(""),[r,l]=x.useState(""),[c,u]=x.useState(!1);return t.jsxs(Bb,{title:"Create From Call",onClose:e,children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Call ID"}),t.jsx(Nr,{value:s,onChange:m=>n(m.target.value),placeholder:"e.g. 01HY or your call id"})]}),t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Default Timezone (optional)"}),t.jsx(Nr,{value:r,onChange:m=>l(m.target.value),placeholder:"e.g. America/New_York or +05:00"})]})]}),t.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[t.jsx(ns,{onClick:e,children:"Cancel"}),t.jsxs(ns,{variant:"primary",disabled:!s||c,onClick:async()=>{try{u(!0),await a(s.trim(),r.trim()||null)}finally{u(!1)}},children:[c?t.jsx(Ze,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Create"]})]})]})}function zpe({onClose:e,onRun:a}){const[s,n]=x.useState(25),[r,l]=x.useState(""),[c,u]=x.useState(""),[m,h]=x.useState(!1);return t.jsxs(Bb,{title:"Extract Batch From Recent Calls",onClose:e,children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Limit"}),t.jsx(Nr,{type:"number",min:1,max:200,value:s,onChange:f=>n(Number(f.target.value||1))})]}),t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Status Filter (optional)"}),t.jsxs(Dg,{value:r,onChange:f=>l(f.target.value),children:[t.jsx("option",{value:"",children:"All"}),t.jsx("option",{value:"Booked",children:"Booked"}),t.jsx("option",{value:"Follow-up Needed",children:"Follow-up Needed"})]})]}),t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Default Timezone (optional)"}),t.jsx(Nr,{value:c,onChange:f=>u(f.target.value),placeholder:"e.g. UTC or Europe/London"})]})]}),t.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[t.jsx(ns,{onClick:e,children:"Cancel"}),t.jsxs(ns,{variant:"primary",disabled:m,onClick:async()=>{try{h(!0),await a(s,r||null,c.trim()||null)}finally{h(!1)}},children:[m?t.jsx(Ze,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Run"]})]})]})}function Bpe({a:e,onClose:a,onSave:s}){const n=new Date(e.start_at),[r,l]=x.useState(e.title||""),[c,u]=x.useState(e.notes||""),[m,h]=x.useState(e.phone||""),[f,g]=x.useState(e.location||""),[b,v]=x.useState(e.status||"Booked"),[w,j]=x.useState(isNaN(n.getTime())?"":n.toISOString().slice(0,10)),[S,k]=x.useState(isNaN(n.getTime())?"":`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`),[_,C]=x.useState(e.timezone||"UTC"),[T,O]=x.useState(!1),E={};return r!==e.title&&(E.title=r),(c||"")!==(e.notes||"")&&(E.notes=c),(m||"")!==(e.phone||"")&&(E.phone=m),(f||"")!==(e.location||"")&&(E.location=f),(b||"")!==(e.status||"")&&(E.status=b),w&&w!==new Date(e.start_at).toISOString().slice(0,10)&&(E.date=w),S&&(E.time=S),(_||"")!==(e.timezone||"")&&(E.timezone=_),t.jsxs(Bb,{title:"Edit Appointment",onClose:a,children:[t.jsxs("div",{className:"grid gap-3",children:[t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Title"}),t.jsx(Nr,{value:r,onChange:$=>l($.target.value)})]}),t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Notes"}),t.jsx(Dpe,{rows:3,value:c,onChange:$=>u($.target.value)})]}),t.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Phone"}),t.jsx(Nr,{value:m,onChange:$=>h($.target.value)})]}),t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Location"}),t.jsx(Nr,{value:f,onChange:$=>g($.target.value)})]})]}),t.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Date"}),t.jsx(Nr,{type:"date",value:w,onChange:$=>j($.target.value)})]}),t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Time (24h)"}),t.jsx(Nr,{type:"time",value:S,onChange:$=>k($.target.value)})]}),t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Timezone"}),t.jsx(Nr,{value:_,onChange:$=>C($.target.value),placeholder:"IANA or +05:00"})]})]}),t.jsxs("div",{className:"grid gap-1.5",children:[t.jsx(Yn,{children:"Status"}),t.jsx(Dg,{value:b,onChange:$=>v($.target.value),children:Lpe.map($=>t.jsx("option",{value:$,children:$},$))})]})]}),t.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[t.jsx(ns,{onClick:a,children:"Cancel"}),t.jsxs(ns,{variant:"primary",disabled:T,onClick:async()=>{try{O(!0),await s(E)}finally{O(!1)}},children:[T?t.jsx(Ze,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Save"]})]})]})}const Wi="http://13.60.203.103",Xi={FORM_COPY_TOKEN:`${Wi}/api/form/copy-token`,FORM_COPY_WEBHOOK:`${Wi}/api/form/copy-webhook-url`,FORM_COPY_SCRIPT:`${Wi}/api/form/copy-script`,FORM_COPY_WP:`${Wi}/api/form/copy-wordpress-plugin`,INTAKE_SCAN:`${Wi}/api/intake/scan`,INTAKE_SUBMISSIONS:`${Wi}/api/intake/submissions`,INTAKE_SUBMISSION_DETAIL:e=>`${Wi}/api/intake/submissions/${encodeURIComponent(e)}`,INTAKE_PROGRESS:`${Wi}/api/intake/progress`,INTAKE_ANALYTICS:`${Wi}/api/intake/analytics`},Upe="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4";async function Zi(e){const a=e.headers.get("content-type")||"",s=await e.text();if(!e.ok){const n=(s==null?void 0:s.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${n}`)}if(!s)return{};if(/application\/json/i.test(a))try{return JSON.parse(s)}catch(n){throw new Error(`Invalid JSON: ${(n==null?void 0:n.message)||""}`)}try{return JSON.parse(s)}catch{throw new Error(`Expected JSON but got '${a||"unknown"}'. Body: ${s.slice(0,300)}`)}}function to(e,a="Copied!"){try{navigator.clipboard.writeText(String(e??"")),L.success(a)}catch{L.error("Copy failed")}}function Ds({children:e,className:a="",variant:s="outline",size:n="md",type:r="button",onClick:l,disabled:c=!1,title:u}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",h={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},f={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${h[n]||h.md} ${f[s]||f.outline} ${a}`;return t.jsx("button",{type:r,className:g,onClick:l,disabled:c,title:u,children:e})}function Id({label:e,hint:a,children:s}){return t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),s,a?t.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:a}):null]})}function bi({children:e,className:a=""}){return t.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${a}`,children:e})}function Jo({code:e="",lang:a="text",filename:s="",className:n="",maxHeight:r="max-h-[420px]"}){const l=x.useMemo(()=>e.split(`
`),[e]);return t.jsxs("div",{className:["w-full","bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950","border border-slate-200 dark:border-slate-800","rounded-xl",n].join(" "),children:[t.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 dark:bg-slate-900/70 rounded-t-xl",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),t.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 font-mono truncate",children:s||(a?`snippet.${a}`:"snippet.txt")})]}),t.jsxs("div",{className:["relative border-t border-slate-200 dark:border-slate-800","font-mono text-[11px] sm:text-xs md:text-sm","overflow-auto code-scroll","leading-relaxed","px-3 py-2",r].join(" "),style:{scrollbarWidth:"thin"},children:[t.jsx("div",{className:"md:absolute md:inset-y-0 md:left-0 md:w-8 md:border-r md:border-slate-200 md:dark:border-slate-800 md:flex md:flex-col md:items-end md:pt-2 md:px-1 hidden select-none",children:l.map((c,u)=>t.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 leading-relaxed",children:u+1},u))}),t.jsx("pre",{className:"m-0 p-0 md:pl-10 whitespace-pre min-w-full",children:t.jsx("code",{className:"text-slate-800 dark:text-slate-100",children:e})})]}),t.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 dark:border-slate-800 text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 flex justify-between rounded-b-xl",children:[t.jsx("span",{children:"UTF-8"}),t.jsx("span",{className:"capitalize",children:a||"text"}),t.jsxs("span",{children:["Ln ",l.length]})]})]})}function Fpe({url:e}){return t.jsxs(bi,{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Tutorial"}),t.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open video in a new tab",children:[t.jsx(af,{className:"h-3.5 w-3.5"}),"Open in new tab"]})]}),t.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 overflow-hidden bg-slate-100",children:t.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:t.jsx("video",{controls:!0,playsInline:!0,preload:"metadata",className:"absolute inset-0 h-full w-full object-cover",src:e})})}),t.jsx("p",{className:"mt-2 text-[11px] text-slate-500",children:"Watch inline or open in a new tab. The player scales to the available space and never overflows its card."})]})}function Vpe({value:e=0,label:a="",className:s=""}){const n=Math.max(0,Math.min(100,Number(e)||0));return t.jsxs("div",{className:`w-full ${s}`,children:[t.jsxs("div",{className:"flex items-center justify-between text-[11px] mb-1",children:[t.jsx("span",{className:"text-slate-600",children:a}),t.jsxs("span",{className:"font-semibold text-slate-700",children:[n.toFixed(0),"%"]})]}),t.jsx("div",{className:"h-2.5 w-full rounded-full bg-slate-200 overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-blue-600 rounded-full transition-all",style:{width:`${n}%`}})})]})}function Qx({label:e,value:a,tone:s="slate"}){const n={slate:"bg-slate-100 text-slate-800 border-slate-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-800 border-amber-200"};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg border text-xs ${n[s]}`,children:[t.jsx("span",{className:"font-semibold",children:a??0}),t.jsx("span",{className:"opacity-80",children:e})]})}function Hpe({dataObj:e}){const a=Object.keys(e||{}).sort(),s=a.map(r=>{var l;return((l=e[r])==null?void 0:l.total)||0}),n=Math.max(1,...s);return t.jsx("div",{className:"w-full overflow-x-auto",children:t.jsx("div",{className:"flex items-end gap-1 h-28",children:a.map(r=>{var u;const l=((u=e[r])==null?void 0:u.total)||0,c=l/n*100;return t.jsxs("div",{className:"flex flex-col items-center w-6",children:[t.jsx("div",{className:"w-4 rounded-t-md bg-blue-500/80",style:{height:`${c}%`},title:`${r}: ${l}`}),t.jsx("div",{className:"text-[9px] text-slate-500 mt-1 truncate w-full text-center",children:r.slice(5)})]},r)})})})}const QP=e=>e?e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase():"",qpe=e=>{switch(e){case"booked":return"bg-emerald-50 text-emerald-800 border-emerald-200";case"cancelled":return"bg-red-50 text-red-800 border-red-200";default:return"bg-amber-50 text-amber-800 border-amber-200"}};function Gpe(){const[e,a]=x.useState(!1),[s,n]=x.useState(""),[r,l]=x.useState(""),[c,u]=x.useState(""),[m,h]=x.useState(""),[f,g]=x.useState(!0),[b,v]=x.useState("John"),[w,j]=x.useState("Doe"),[S,k]=x.useState("john@example.com"),[_,C]=x.useState("+15551234567"),[T,O]=x.useState(()=>new Date().toISOString().slice(0,10)),[E,$]=x.useState("14:30"),[M,H]=x.useState(!1),[V,F]=x.useState(null),[B,ee]=x.useState(!1),[we,ne]=x.useState(null),[A,U]=x.useState({total:0,booked:0,cancelled:0,unbooked:0,completion_rate:0}),[K,z]=x.useState(!1),[I,D]=x.useState({}),[R,Z]=x.useState(!1),[de,le]=x.useState(!1),[be,Ue]=x.useState([]),[xe,ve]=x.useState(0),[Ie,Ye]=x.useState(""),[ke,Je]=x.useState(0),Xe=10,[ue,ie]=x.useState(null),[De,G]=x.useState(!1),ce=x.useMemo(()=>s?f?s.length<=12?"":`${s.slice(0,6)}${s.slice(-4)}`:s:"",[s,f]),$e=x.useCallback(()=>{const Oe=localStorage.getItem("token");if(!Oe)throw L.error("No authentication token found."),new Error("Missing auth token");return{Authorization:`Bearer ${Oe}`,Accept:"application/json"}},[]),qe=x.useCallback(async()=>{a(!0);try{{const Oe=await fetch(Xi.FORM_COPY_TOKEN,{headers:$e(),mode:"cors"}),We=await Zi(Oe);if(!(We!=null&&We.success))throw new Error((We==null?void 0:We.detail)||"Failed to fetch token");n(We.token||"")}{const Oe=await fetch(Xi.FORM_COPY_WEBHOOK,{headers:$e(),mode:"cors"}),We=await Zi(Oe);if(!(We!=null&&We.success))throw new Error((We==null?void 0:We.detail)||"Failed to fetch webhook URL");l(We.webhook_url||"")}{const Oe=await fetch(Xi.FORM_COPY_SCRIPT,{headers:$e(),mode:"cors"}),We=await Zi(Oe);if(!(We!=null&&We.success))throw new Error((We==null?void 0:We.detail)||"Failed to fetch script");u(We.script||"")}{const Oe=await fetch(Xi.FORM_COPY_WP,{headers:$e(),mode:"cors"}),We=await Zi(Oe);if(!(We!=null&&We.success))throw new Error((We==null?void 0:We.detail)||"Failed to fetch plugin");h(We.wordpress_plugin||"")}}catch(Oe){L.error((Oe==null?void 0:Oe.message)||"Failed to load")}finally{a(!1)}},[$e]),ye=x.useCallback(async()=>{z(!0);try{const Oe=await fetch(Xi.INTAKE_PROGRESS,{headers:$e(),mode:"cors"}),We=await Zi(Oe);We!=null&&We.ok&&U(We.progress||{})}catch(Oe){L.error((Oe==null?void 0:Oe.message)||"Failed to load progress")}finally{z(!1)}},[$e]),Be=x.useCallback(async()=>{Z(!0);try{const Oe=await fetch(Xi.INTAKE_ANALYTICS,{headers:$e(),mode:"cors"}),We=await Zi(Oe);We!=null&&We.ok&&D(We.analytics||{})}catch(Oe){L.error((Oe==null?void 0:Oe.message)||"Failed to load analytics")}finally{Z(!1)}},[$e]),_e=x.useCallback(async()=>{le(!0);try{const Oe=new URL(Xi.INTAKE_SUBMISSIONS);Ie&&Oe.searchParams.set("status",Ie),Oe.searchParams.set("limit",String(Xe)),Oe.searchParams.set("offset",String(ke*Xe));const We=await fetch(Oe.toString(),{headers:$e(),mode:"cors"}),pt=await Zi(We);pt!=null&&pt.ok&&(Ue(pt.items||[]),ve(pt.total||0))}catch(Oe){L.error((Oe==null?void 0:Oe.message)||"Failed to load submissions")}finally{le(!1)}},[$e,Ie,ke]),te=x.useCallback(async Oe=>{G(!0);try{const We=await fetch(Xi.INTAKE_SUBMISSION_DETAIL(Oe),{headers:$e(),mode:"cors"}),pt=await Zi(We);pt!=null&&pt.ok&&ie(pt.submission||null)}catch(We){L.error((We==null?void 0:We.message)||"Failed to load detail")}finally{G(!1)}},[$e]);x.useEffect(()=>{qe().catch(()=>{})},[qe]),x.useEffect(()=>{ye().catch(()=>{}),Be().catch(()=>{})},[ye,Be]),x.useEffect(()=>{_e().catch(()=>{})},[_e]);const Y=x.useMemo(()=>({form:{first_name:b,last_name:w,email:S,phone:_,date:T,time:E},meta:{source:"FormConnection-Test",sent_at:new Date().toISOString()}}),[b,w,S,_,T,E]),Se=async()=>{if(!r)return L.error("Webhook URL not loaded yet.");H(!0),F(null);try{const Oe=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),We=await Oe.text();let pt;try{pt=JSON.parse(We)}catch{pt={raw:We}}F(pt),Oe.ok?L.success(" Test submitted to webhook"):L.error(`Webhook responded with HTTP ${Oe.status}`)}catch(Oe){L.error((Oe==null?void 0:Oe.message)||"Test submit failed")}finally{H(!1)}},me=async()=>{ee(!0),ne(null);try{const Oe=await fetch(Xi.INTAKE_SCAN,{method:"POST",headers:{...$e(),"Content-Type":"application/json"}}),We=await Zi(Oe);ne(We),L.success(" Intake scan kicked off");let pt=0;const Oa=setInterval(async()=>{pt+=1,await ye(),pt>=6&&clearInterval(Oa)},2e3);_e().catch(()=>{})}catch(Oe){L.error((Oe==null?void 0:Oe.message)||"Scan failed")}finally{ee(!1)}},X=x.useMemo(()=>`curl -X POST \\
  -H "Content-Type: application/json" \\
  -d "${JSON.stringify(Y,null,2).replace(/"/g,'\\"')}" \\
  "${r||"https://your-api.example.com/api/form/webhook?token=YOUR_TOKEN"}"`,[Y,r]),Te=x.useMemo(()=>{const Oe={form_response:{answers:[{type:"text",text:`${b}`},{type:"text",text:`${w}`},{type:"email",email:`${S}`},{type:"phone_number",phone_number:`${_}`},{type:"date",date:`${T}`}]}};return JSON.stringify(Oe,null,2)},[b,w,S,_,T]),He="<?php // not loaded ?>",Ve=Math.ceil(xe/Xe),rt=ke>0,nt=ke+1<Ve;return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[t.jsxs(bi,{className:"relative overflow-hidden p-4 sm:p-5",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(fl,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Custom Form Connection"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Connect forms to your unified webhook. Well parse, normalize and store as Appointments."})]})]}),t.jsx(Ds,{onClick:qe,disabled:e,children:e?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"})," Refresh"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 mr-2"})," Refresh"]})})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-3",children:[t.jsxs(bi,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kpe,{}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Your Webhook Token"}),t.jsx("div",{className:"text-xs text-slate-500",children:"Tenant-scoped auth for /api/form/webhook"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 self-start",children:[t.jsxs(Ds,{size:"sm",variant:"subtle",className:"border-amber-200 text-amber-700 hover:bg-amber-50",onClick:()=>g(Oe=>!Oe),children:[f?t.jsx(wa,{className:"h-4 w-4 mr-1"}):t.jsx(yu,{className:"h-4 w-4 mr-1"}),f?"Show":"Hide"]}),t.jsxs(Ds,{size:"sm",onClick:()=>to(s,"Token copied!"),disabled:!s,children:[t.jsx(la,{className:"h-4 w-4 mr-1"})," Copy"]})]})]}),t.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:ce||""}),t.jsx("div",{className:"mt-3 text-[11px] text-slate-500",children:"Keep this secret. Anyone with the URL containing your token can submit data to your account."})]}),t.jsxs(bi,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wr,{className:"h-5 w-5 text-blue-600 shrink-0"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Webhook URL"}),t.jsx("div",{className:"text-xs text-slate-500",children:"Drop into any platform that can POST"})]})]}),t.jsxs(Ds,{size:"sm",onClick:()=>to(r,"Webhook URL copied!"),disabled:!r,children:[t.jsx(la,{className:"h-4 w-4 mr-1"})," Copy"]})]}),t.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:r||""}),t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Accepts ",t.jsx("b",{children:"JSON"}),", ",t.jsx("b",{children:"x-www-form-urlencoded"})," and"," ",t.jsx("b",{children:"multipart/form-data"}),". Files are ignored."]})]}),t.jsxs(bi,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vg,{className:"h-5 w-5 text-cyan-600 shrink-0"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Start"})]}),t.jsxs("p",{className:"mt-3 text-sm text-slate-700",children:["Paste this snippet before ",t.jsx("code",{className:"font-mono",children:"</body>"}),"."]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsxs(Ds,{size:"sm",onClick:()=>to(c,"Script copied!"),disabled:!c,children:[t.jsx(ZV,{className:"h-4 w-4 mr-1"})," Copy Script"]}),t.jsxs(Ds,{size:"sm",onClick:()=>to(m,"Plugin code copied!"),disabled:!m,children:[t.jsx(hq,{className:"h-4 w-4 mr-1"})," WP Plugin"]})]})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 xl:grid-cols-2",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsxs(bi,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xG,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send a Test Submission"})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(Id,{label:"First name",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_s,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("input",{value:b,onChange:Oe=>v(Oe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"John"})]})}),t.jsx(Id,{label:"Last name",children:t.jsx("input",{value:w,onChange:Oe=>j(Oe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Doe"})}),t.jsx(Id,{label:"Email",children:t.jsx("input",{type:"email",value:S,onChange:Oe=>k(Oe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),t.jsx(Id,{label:"Phone",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(St,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("input",{value:_,onChange:Oe=>C(Oe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+15551234567"})]})}),t.jsx(Id,{label:"Date",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Tn,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("input",{type:"date",value:T,onChange:Oe=>O(Oe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),t.jsx(Id,{label:"Time",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(po,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("input",{type:"time",value:E,onChange:Oe=>$(Oe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[t.jsx(Ds,{onClick:Se,variant:"primary",disabled:M||!r,children:M?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"})," ","Sending"]}):t.jsxs(t.Fragment,{children:[t.jsx(Sp,{className:"h-4 w-4 mr-2"})," Send Test"]})}),V?t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-emerald-700",children:[t.jsx(ra,{className:"h-4 w-4"}),"Response captured"]}):null]}),V?t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last response"}),t.jsx(Jo,{code:JSON.stringify(V,null,2),lang:"json",filename:"response.json",maxHeight:"max-h-[360px]"})]}):null,t.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800 flex gap-2",children:[t.jsx(Tf,{className:"h-4 w-4 shrink-0 mt-[1px]"}),t.jsx("div",{className:"leading-relaxed",children:"Tests are processed by your AI structurer in the background (via the background task and/or periodic scanner) and will create/merge an Appointment automatically once parsed."})]})]}),t.jsx(Fpe,{url:Upe})]}),t.jsxs(bi,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Hq,{className:"h-5 w-5 text-cyan-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Examples"})]}),t.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"cURL"}),t.jsxs(Ds,{size:"sm",onClick:()=>to(X,"cURL copied!"),children:[t.jsx(la,{className:"h-4 w-4 mr-1"})," Copy"]})]}),t.jsx("div",{className:"mt-2",children:t.jsx(Jo,{code:X,lang:"bash",filename:"embed.sh",maxHeight:"max-h-[280px]"})}),t.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Typeform Payload"}),t.jsxs(Ds,{size:"sm",onClick:()=>to(Te,"JSON copied!"),children:[t.jsx(la,{className:"h-4 w-4 mr-1"})," Copy"]})]}),t.jsx("div",{className:"mt-2",children:t.jsx(Jo,{code:Te,lang:"json",filename:"typeform.json",maxHeight:"max-h-[320px]"})})]})]}),t.jsx("div",{className:"mt-5 grid grid-cols-1 gap-4",children:t.jsxs(bi,{children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gG,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Intake Tools"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ds,{variant:"primary",size:"sm",onClick:me,disabled:B,title:"POST /api/intake/scan",children:B?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-1"}),"Scanning"]}):t.jsxs(t.Fragment,{children:[t.jsx(tf,{className:"h-4 w-4 mr-1"}),"Scan Now"]})}),t.jsxs(Ds,{size:"sm",onClick:()=>{ye(),_e(),Be()},title:"Refresh intake data",children:[t.jsx(Ze,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rp,{className:"h-5 w-5 text-emerald-600"}),t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Processing Progress"})]}),t.jsx("div",{className:"mt-3",children:t.jsx(Vpe,{value:(A==null?void 0:A.completion_rate)||0,label:"Completion rate"})}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsx(Qx,{label:"Total",value:A==null?void 0:A.total}),t.jsx(Qx,{label:"Booked",value:A==null?void 0:A.booked,tone:"emerald"}),t.jsx(Qx,{label:"Unbooked",value:A==null?void 0:A.unbooked,tone:"amber"}),t.jsx(Qx,{label:"Cancelled",value:A==null?void 0:A.cancelled,tone:"red"})]}),K?t.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 flex items-center gap-1",children:[t.jsx(Ze,{className:"h-3.5 w-3.5 animate-spin"}),"Updating"]}):null]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rp,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Daily Submissions"})]}),R?t.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[t.jsx(Ze,{className:"h-3.5 w-3.5 animate-spin"}),"Loading"]}):t.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[t.jsx(ju,{className:"h-3.5 w-3.5"}),"Totals per day"]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(Hpe,{dataObj:I})})]})]}),t.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Submissions"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:Ie,onChange:Oe=>{Je(0),Ye(Oe.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"All statuses"}),t.jsx("option",{value:"booked",children:"Booked"}),t.jsx("option",{value:"unbooked",children:"Unbooked"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:[xe," total"]})]})]}),t.jsx("div",{className:"mt-3 overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[t.jsx("th",{className:"py-2 pr-3",children:"ID"}),t.jsx("th",{className:"py-2 pr-3",children:"Created"}),t.jsx("th",{className:"py-2 pr-3",children:"Name"}),t.jsx("th",{className:"py-2 pr-3",children:"Email"}),t.jsx("th",{className:"py-2 pr-3",children:"Status"}),t.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),t.jsx("tbody",{children:de?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"Loading"})}):be.length===0?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"No submissions yet."})}):be.map(Oe=>t.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[t.jsx("td",{className:"py-2 pr-3 font-mono text-xs",children:Oe.id}),t.jsx("td",{className:"py-2 pr-3",children:Oe.created_at?new Date(Oe.created_at).toLocaleString():""}),t.jsx("td",{className:"py-2 pr-3",children:(Oe.first_name||"-")+" "+(Oe.last_name||"")}),t.jsx("td",{className:"py-2 pr-3",children:Oe.email||"-"}),t.jsx("td",{className:"py-2 pr-3",children:t.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs border ${qpe(Oe.status)}`,children:QP(Oe.status||"")||""})}),t.jsx("td",{className:"py-2 pr-3",children:t.jsx(Ds,{size:"sm",onClick:()=>te(Oe.id),children:"View"})})]},Oe.id))})]})}),t.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"text-slate-500",children:["Page ",Ve?ke+1:0," of ",Ve]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Ds,{size:"sm",onClick:()=>Je(Oe=>Math.max(0,Oe-1)),disabled:!rt,title:"Previous page",children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Prev"]}),t.jsxs(Ds,{size:"sm",onClick:()=>Je(Oe=>nt?Oe+1:Oe),disabled:!nt,title:"Next page",children:["Next",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]}),ue?t.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3 bg-slate-50",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:["Submission #",ue.id]}),t.jsx(Ds,{size:"sm",onClick:()=>ie(null),children:"Close"})]}),De?t.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Loading"}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Name"}),t.jsx("div",{className:"font-medium",children:(ue.first_name||"-")+" "+(ue.last_name||"")})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Email"}),t.jsx("div",{className:"font-medium",children:ue.email||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Phone"}),t.jsx("div",{className:"font-medium",children:ue.phone||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Status"}),t.jsx("div",{className:"font-medium",children:QP(ue.status)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Created At"}),t.jsx("div",{className:"font-medium",children:ue.created_at?new Date(ue.created_at).toLocaleString():""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Meta / Source"}),t.jsx("div",{className:"font-medium",children:(ue==null?void 0:ue.source)||""})]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(Jo,{code:JSON.stringify(ue,null,2),lang:"json",filename:"submission.json",maxHeight:"max-h-[300px]"})})]})]}):null]}),we?t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last scan response"}),t.jsx(Jo,{code:JSON.stringify(we,null,2),lang:"json",filename:"scan.json",maxHeight:"max-h-[280px]"})]}):null]})}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[t.jsxs(bi,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(uD,{className:"h-5 w-5 text-blue-600 shrink-0"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Embed Script"})]}),t.jsxs(Ds,{size:"sm",onClick:()=>to(c,"Script copied!"),disabled:!c,children:[t.jsx(la,{className:"h-4 w-4 mr-1"})," Copy"]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(Jo,{code:c||"<script>/* not loaded */<\/script>",lang:"html",filename:"embed.html",maxHeight:"max-h-[420px]"})})]}),t.jsxs(bi,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(wi,{className:"h-5 w-5 text-cyan-600 shrink-0"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"WordPress Plugin"})]}),t.jsxs(Ds,{size:"sm",onClick:()=>to(m,"Plugin code copied!"),disabled:!m,children:[t.jsx(la,{className:"h-4 w-4 mr-1"})," Copy"]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(Jo,{code:m||He,lang:"php",filename:"plugin.php",maxHeight:"max-h-[420px]"})})]})]})]})]})}function Kpe(){return t.jsx("span",{className:"inline-grid h-9 w-9 place-content-center rounded-xl bg-blue-600 text-white","aria-hidden":"true",children:""})}const Ype={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://13.60.203.103"},Wpe=Ype&&"http://13.60.203.103"||"http://localhost:8000",$h=typeof window<"u"?window.location.origin:"http://localhost:8000",zd=`${Wpe}/api`,cs={CONNECT:`${zd}/facebook/connect`,PAGES:`${zd}/facebook/pages`,LINK:`${zd}/facebook/pages/link`,SUBSCRIBE:`${zd}/facebook/pages/subscribe`,DELETION:`${zd}/facebook/deletion`,DELETION_STATUS:`${$h}/facebook/deletion-status`,DELETION_MANUAL:`${zd}/facebook/deletion/manual`,WEBHOOK:`${$h}/facebook/webhook`,OAUTH_CALLBACK:`${$h}/facebook/oauth/callback`,PRIVACY_POLICY:`${$h}/privacypolicy`};async function dh(e){const a=e.headers.get("content-type")||"",s=await e.text();if(!e.ok){const n=(s==null?void 0:s.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${n}`)}if(!s)return{};if(/application\/json/i.test(a))try{return JSON.parse(s)}catch{throw new Error("Invalid JSON from server")}try{return JSON.parse(s)}catch{return{raw:s}}}function Bd(e,a="Copied!"){try{navigator.clipboard.writeText(String(e??"")),L.success(a)}catch{L.error("Copy failed")}}function Xpe(){return x.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw L.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}function Ud({children:e,className:a=""}){return t.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${a}`,children:e})}function gs({children:e,className:a="",variant:s="outline",size:n="md",type:r="button",onClick:l,disabled:c=!1,title:u}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",h={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},f={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${h[n]||h.md} ${f[s]||f.outline} ${a}`;return t.jsx("button",{type:r,className:g,onClick:l,disabled:c,title:u,children:e})}function Ew({icon:e,label:a,value:s,tone:n="slate"}){const r={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return t.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${r[n]}`,children:[e?t.jsx(e,{className:"h-4 w-4 opacity-80"}):null,t.jsxs("div",{className:"text-xs",children:[t.jsx("div",{className:"font-semibold",children:s}),t.jsx("div",{className:"opacity-80",children:a})]})]})}function Tw({code:e="",lang:a="text",filename:s="snippet.txt",maxHeight:n="max-h-[300px]"}){const r=x.useMemo(()=>String(e).split(`
`),[e]);return t.jsxs("div",{className:"w-full rounded-xl border border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 rounded-t-xl",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),t.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 font-mono truncate",children:s})]}),t.jsx("div",{className:`relative border-t border-slate-200 font-mono text-[11px] sm:text-xs overflow-auto code-scroll leading-relaxed px-3 py-2 ${n}`,style:{scrollbarWidth:"thin"},children:t.jsx("pre",{className:"m-0 p-0 whitespace-pre-wrap",children:t.jsx("code",{className:"text-slate-800",children:e})})}),t.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 text-[10px] sm:text-xs text-slate-600 flex justify-between rounded-b-xl",children:[t.jsx("span",{children:"UTF-8"}),t.jsx("span",{className:"capitalize",children:a}),t.jsxs("span",{children:["Ln ",r.length]})]})]})}function Zpe(){const e=Xpe(),[a,s]=x.useState(!1),[n,r]=x.useState(!1),[l,c]=x.useState(null),[u,m]=x.useState(!1),[h,f]=x.useState([]),[g,b]=x.useState("all"),[v,w]=x.useState(0),j=10,[S,k]=x.useState(""),[_,C]=x.useState(!1),T=x.useMemo(()=>{const A=h.length,U=h.filter(z=>z.connected).length,K=h.filter(z=>z.subscribed).length;return{total:A,linked:U,subscribed:K}},[h]),O=x.useMemo(()=>{switch(g){case"linked":return h.filter(A=>A.connected);case"unlinked":return h.filter(A=>!A.connected);case"subscribed":return h.filter(A=>A.subscribed);case"unsubscribed":return h.filter(A=>!A.subscribed);default:return h}},[h,g]),E=Math.ceil(O.length/j),$=v>0,M=v+1<E,H=O.slice(v*j,v*j+j),V=x.useCallback(async()=>{r(!0);try{const A=await fetch(cs.PAGES,{headers:e(),mode:"cors"}),U=await dh(A);m(!0),f(Array.isArray(U==null?void 0:U.pages)?U.pages:[])}catch{m(!1),f([])}finally{r(!1)}},[e]),F=x.useCallback(async()=>{s(!0);try{const A=await fetch(cs.CONNECT,{headers:e(),mode:"cors"}),U=await dh(A);c(U),U!=null&&U.auth_url?(window.open(U.auth_url,"_blank","noopener,noreferrer"),L.success("Opening Facebook Login in a new tab")):L.error("No auth_url from server")}catch(A){L.error((A==null?void 0:A.message)||"Failed to start OAuth")}finally{s(!1)}},[e]),B=x.useCallback(async A=>{try{const U=await fetch(cs.LINK,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:A}),mode:"cors"});await dh(U),L.success("Page linked"),V()}catch(U){L.error((U==null?void 0:U.message)||"Link failed")}},[e,V]),ee=x.useCallback(async A=>{try{const U=await fetch(cs.SUBSCRIBE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:A}),mode:"cors"});await dh(U),L.success("Subscribed to leadgen webhooks"),V()}catch(U){L.error((U==null?void 0:U.message)||"Subscribe failed")}},[e,V]),we=x.useCallback(async()=>{if(!S.trim()){L.error("Enter a Facebook user_id first");return}C(!0);try{const A=await fetch(cs.DELETION_MANUAL,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({fb_user_id:S.trim()}),mode:"cors"}),U=await dh(A);L.success(`Deleted ${(U==null?void 0:U.deleted_records)??0} records`),U!=null&&U.status_url&&window.open(U.status_url,"_blank","noopener,noreferrer")}catch(A){L.error((A==null?void 0:A.message)||"Manual deletion failed")}finally{C(!1)}},[e,S]);x.useEffect(()=>{V().catch(()=>{})},[V]);const ne=(l==null?void 0:l.redirect_uri)||`${cs.OAUTH_CALLBACK}`;return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx(he.div,{initial:{opacity:.08,scale:.95},animate:{opacity:.14,scale:1},transition:{duration:1.2},className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx(he.div,{initial:{opacity:.08,scale:.95},animate:{opacity:.14,scale:1},transition:{duration:1.2,delay:.15},className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[t.jsxs(Ud,{className:"relative overflow-hidden p-4 sm:p-5",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(LC,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Facebook Lead Ads"})}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Connect a Page, subscribe to ",t.jsx("code",{className:"font-mono",children:"leadgen"})," webhooks, and stream leads into your CRM for AI follow-up."]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gs,{onClick:V,disabled:n,children:n?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Refresh"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Refresh"]})}),t.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${u?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[t.jsx(IN,{className:`h-3.5 w-3.5 ${u?"text-emerald-600":"text-amber-600"}`}),u?"Connected":"Not connected"]})]})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(Ew,{icon:$N,label:"Total Pages",value:T.total,tone:"slate"}),t.jsx(Ew,{icon:Fg,label:"Linked Pages",value:T.linked,tone:"blue"}),t.jsx(Ew,{icon:sV,label:"Webhook Subscribed",value:T.subscribed,tone:"emerald"})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs(Ud,{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fl,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 1  Connect Facebook"})]}),t.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Click connect to start OAuth. Approve Page permissions. The login opens in a new tab; once finished, come back and click ",t.jsx("b",{children:"Refresh"}),"."]}),t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[t.jsx(gs,{variant:"primary",onClick:F,disabled:a,children:a?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Opening"]}):t.jsxs(t.Fragment,{children:[t.jsx(LC,{className:"h-4 w-4 mr-2"}),"Connect Facebook"]})}),l!=null&&l.auth_url?t.jsxs(gs,{size:"sm",onClick:()=>Bd(l.auth_url,"Auth URL copied!"),title:"Copy the exact OAuth URL",children:[t.jsx(la,{className:"h-4 w-4 mr-1"}),"Copy Auth URL"]}):null,t.jsxs(gs,{size:"sm",onClick:V,disabled:n,title:"Check connection now",children:[t.jsx(Ze,{className:"h-4 w-4 mr-1"}),"I finished login  Refresh"]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Valid Redirect URI"}),t.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:ne}),t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsxs(gs,{size:"sm",onClick:()=>Bd(ne,"Redirect URI copied!"),children:[t.jsx(la,{className:"h-4 w-4 mr-1"}),"Copy"]}),t.jsxs("a",{href:"https://developers.facebook.com/apps/",target:"_blank",rel:"noreferrer",className:"text-xs inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open Facebook Developers  App  Facebook Login  Settings",children:[t.jsx(af,{className:"h-3.5 w-3.5"}),"Open FB Devs"]})]}),t.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Add this under ",t.jsx("b",{children:"Facebook Login  Settings  Valid OAuth Redirect URIs"}),"."]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Webhook Callback (server)"}),t.jsxs("div",{className:"text-[11px] text-slate-600",children:["In your app dashboard add product ",t.jsx("b",{children:"Webhooks (Page)"})," and set callback to:"]}),t.jsx("div",{className:"mt-1 font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:cs.WEBHOOK}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-600",children:["Verify token = your ",t.jsx("code",{className:"font-mono",children:"META_APP_VERIFY_TOKEN"}),"."]})]})]})]}),t.jsxs(Ud,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mo,{className:"h-5 w-5 text-emerald-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Checks"})]}),t.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-slate-700",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(ai,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Facebook Login product is enabled (Web)."]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(wi,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Site URL set to ",t.jsx("code",{className:"font-mono",children:$h}),"."]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx($V,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"If Cant load URL, add the redirect URI exactly in Facebook Login settings."]})]})]})]}),t.jsx("div",{className:"mt-5 grid grid-cols-1",children:t.jsxs(Ud,{children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wr,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 2  Link a Page  Step 3  Subscribe"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:g,onChange:A=>{w(0),b(A.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"Show: All"}),t.jsx("option",{value:"linked",children:"Linked"}),t.jsx("option",{value:"unlinked",children:"Unlinked"}),t.jsx("option",{value:"subscribed",children:"Subscribed"}),t.jsx("option",{value:"unsubscribed",children:"Unsubscribed"})]}),t.jsxs(gs,{size:"sm",onClick:V,disabled:n,children:[t.jsx(Ze,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),t.jsx("div",{className:"mt-3 overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[t.jsx("th",{className:"py-2 pr-3",children:"Page"}),t.jsx("th",{className:"py-2 pr-3",children:"Linked"}),t.jsx("th",{className:"py-2 pr-3",children:"Subscribed"}),t.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),t.jsx("tbody",{children:n?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):H.length===0?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:u?"No pages found for this account.":"Not connected. Click 'Connect Facebook' above and then refresh."})}):H.map(A=>t.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[t.jsxs("td",{className:"py-2 pr-3",children:[t.jsx("div",{className:"font-medium",children:A.name||A.page_id}),t.jsx("div",{className:"text-[11px] text-slate-500",children:A.page_id})]}),t.jsx("td",{className:"py-2 pr-3",children:A.connected?t.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-blue-50 text-blue-800 border-blue-200",children:"Linked"}):t.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-slate-50 text-slate-800 border-slate-200",children:"Not linked"})}),t.jsx("td",{className:"py-2 pr-3",children:A.subscribed?t.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-emerald-50 text-emerald-800 border-emerald-200",children:"Subscribed"}):t.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-amber-50 text-amber-800 border-amber-200",children:"Not subscribed"})}),t.jsx("td",{className:"py-2 pr-3",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[A.connected?t.jsxs(gs,{size:"sm",variant:"subtle",disabled:!0,children:["Linked ",t.jsx(ra,{className:"h-4 w-4 ml-1 text-emerald-600"})]}):t.jsx(gs,{size:"sm",onClick:()=>B(A.page_id),children:"Link"}),A.subscribed?t.jsxs(gs,{size:"sm",variant:"success",disabled:!0,children:["Subscribed ",t.jsx(ra,{className:"h-4 w-4 ml-1"})]}):t.jsx(gs,{size:"sm",variant:"primary",onClick:()=>ee(A.page_id),children:"Subscribe"})]})})]},A.page_id))})]})}),t.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"text-slate-500",children:["Page ",E?v+1:0," of ",E||0]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(gs,{size:"sm",onClick:()=>w(A=>Math.max(0,A-1)),disabled:!$,title:"Previous page",children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Prev"]}),t.jsxs(gs,{size:"sm",onClick:()=>w(A=>M?A+1:A),disabled:!M,title:"Next page",children:["Next",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]})]})}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 xl:grid-cols-3 gap-4",children:[t.jsxs(Ud,{className:"xl:col-span-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wq,{className:"h-5 w-5 text-cyan-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 4  Send a Test Lead"})]}),t.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Use the ",t.jsx("b",{children:"Lead Ads Testing Tool"})," to send a test submission for your linked & subscribed Page. Our webhook will fetch the full lead with ",t.jsx("code",{className:"font-mono",children:"leadgen_id"})," and create/merge a CRM lead."]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsxs("a",{href:"https://developers.facebook.com/tools/lead-ads-testing",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[t.jsx(af,{className:"h-3.5 w-3.5"}),"Open Lead Ads Testing Tool"]}),t.jsx(gs,{size:"sm",onClick:()=>L.info("Create a test lead for the Page you linked; then come back and check your Leads table."),children:"How it works"})]}),t.jsxs("div",{className:"mt-4 text-xs text-slate-600",children:["Every FB lead is tagged with"," ",t.jsx("code",{className:"font-mono",children:'additional_details.source = "facebook_lead_ads"'}),"."]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"Debug: Quick Connect Call"}),t.jsx(Tw,{filename:"connect.sh",lang:"bash",code:`curl -s -H "Authorization: Bearer <YOUR_TOKEN>" \\
  "${cs.CONNECT}" | jq .`,maxHeight:"max-h-[220px]"})]})]}),t.jsxs(Ud,{className:"xl:col-span-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Cr,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Compliance & App Setup"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-3",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[t.jsx(Yr,{className:"h-3.5 w-3.5"})," Privacy Policy URL"]}),t.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:cs.PRIVACY_POLICY}),t.jsx("div",{className:"mt-2 flex gap-2",children:t.jsxs(gs,{size:"sm",onClick:()=>Bd(cs.PRIVACY_POLICY,"Privacy Policy URL copied!"),children:[t.jsx(la,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[t.jsx(ka,{className:"h-3.5 w-3.5"})," Data Deletion Callback URL"]}),t.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:cs.DELETION}),t.jsx("div",{className:"mt-2 flex gap-2",children:t.jsxs(gs,{size:"sm",onClick:()=>Bd(cs.DELETION,"Deletion Callback URL copied!"),children:[t.jsx(la,{className:"h-4 w-4 mr-1"}),"Copy"]})}),t.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Meta will ",t.jsx("b",{children:"POST"})," a ",t.jsx("code",{children:"signed_request"})," to this URL when users request deletion."]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[t.jsx(ju,{className:"h-3.5 w-3.5"})," Deletion Status URL"]}),t.jsxs("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:[cs.DELETION_STATUS,"?code=EXAMPLE_CODE"]}),t.jsx("div",{className:"mt-2 flex gap-2",children:t.jsxs(gs,{size:"sm",onClick:()=>Bd(`${cs.DELETION_STATUS}?code=EXAMPLE_CODE`,"Status URL copied!"),children:[t.jsx(la,{className:"h-4 w-4 mr-1"}),"Copy"]})}),t.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["We return this URL + ",t.jsx("code",{children:"confirmation_code"})," in the deletion callback response."]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Webhook (Page  leadgen)"}),t.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:cs.WEBHOOK}),t.jsx("div",{className:"mt-2 flex gap-2",children:t.jsxs(gs,{size:"sm",onClick:()=>Bd(cs.WEBHOOK,"Webhook URL copied!"),children:[t.jsx(la,{className:"h-4 w-4 mr-1"}),"Copy"]})})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-4",children:[t.jsx(Tw,{filename:"deletion.manual.sh",lang:"bash",code:`curl -X POST \\
  -H "Authorization: Bearer <YOUR_TOKEN>" \\
  -H "Content-Type: application/json" \\
  -d '{"fb_user_id":"<FB_USER_ID>"}' \\
  "${cs.DELETION_MANUAL}" | jq .`}),t.jsx(Tw,{filename:"deletion.status.txt",lang:"text",code:`After Meta calls ${cs.DELETION} with a signed_request,
we return JSON like:

{
  "url": "${cs.DELETION_STATUS}?code=fbdel_<id>_<hash>",
  "confirmation_code": "fbdel_<id>_<hash>"
}

Open that URL to show the human-readable status page.`})]}),t.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"text-sm font-bold text-slate-900 mb-2 flex items-center gap-2",children:[t.jsx(ka,{className:"h-4 w-4 text-red-600"}),"Manual Deletion (Support)"]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsx("input",{type:"text",placeholder:"Enter Facebook user_id",value:S,onChange:A=>k(A.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.jsx(gs,{variant:"danger",onClick:we,disabled:_,children:_?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):t.jsxs(t.Fragment,{children:[t.jsx(ka,{className:"h-4 w-4 mr-2"}),"Delete Now"]})})]}),t.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Calls ",t.jsx("code",{className:"font-mono",children:"POST /facebook/deletion/manual"}),", then opens the returned status URL."]})]})]})]})]})]})}const Jpe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://13.60.203.103"},Ls=Jpe&&"http://13.60.203.103"||"http://localhost:8000",Qs={ASSISTANTS:`${Ls}/api/text-assistants`,CREATE_ASSISTANT:`${Ls}/api/text-assistants`,TOGGLE_ASSISTANT_URL:(e,a)=>`${Ls}/api/toggle-text-assistant/${e}?assistant_toggle=${a}`,ATTACH_ASSISTANT:`${Ls}/api/text/attach-assistant`,NUMBERS:`${Ls}/api/purchased_numbers`,SEND_SINGLE:`${Ls}/api/send-text-message`,MESSAGE_SCHEDULED:`${Ls}/api/text/message-scheduled`,MESSAGE_UNSCHEDULED:`${Ls}/api/text/message-unscheduled`,MESSAGES:`${Ls}/api/text/messages`,THREADS:`${Ls}/api/text/threads`,JOBS:`${Ls}/api/text/message-jobs`,JOB:e=>`${Ls}/api/text/message-job/${e}`,PROGRESS_SSE:(e,a,s)=>{const n=`${Ls}/api/text/message-progress-sse?job_id=${encodeURIComponent(e)}`;return a?`${n}&sse=${encodeURIComponent(a)}`:s?`${n}&token=${encodeURIComponent(s)}`:n},DEBUG_SCHEDULED:`${Ls}/api/text/debug/scheduled-selection`,DAEMON_STATE:e=>`${Ls}/api/text/daemon/state?kind=${encodeURIComponent(e)}`,DAEMON_CONFIG:`${Ls}/api/text/daemon/config`,DAEMON_SSE:(e,a,s)=>{const n=`${Ls}/api/text/daemon-progress-sse?kind=${encodeURIComponent(e)}`;return a?`${n}&sse=${encodeURIComponent(a)}`:s?`${n}&token=${encodeURIComponent(s)}`:n}};function Qpe(){return x.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw L.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}async function Fn(e){const a=e.headers.get("content-type")||"",s=await e.text(),n=/application\/json/i.test(a);let r=null;if(n&&s)try{r=JSON.parse(s)}catch{}if(e.ok)return r??(s?{raw:s}:{});let l=`HTTP ${e.status}`;if(r!=null&&r.detail)if(typeof r.detail=="string")l+=`  ${r.detail}`;else if(r.detail.twilio_error){const u=r.detail.twilio_error||{};l+=`  ${u.message||"Twilio error"}`,u.code&&(l+=` (code ${u.code})`)}else l+=`  ${JSON.stringify(r.detail).slice(0,240)}`;else s&&(l+=`  ${s.slice(0,240)}`);const c=new Error(l);throw c.payload=r,c}function Ow(e,a="Copied!"){try{navigator.clipboard.writeText(String(e??"")),L.success(a)}catch{L.error("Copy failed")}}function Fd(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}const ege=/^\+\d{8,15}$/;function Br({children:e,className:a=""}){return t.jsx(he.div,{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${a}`,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},children:e})}function za({children:e,className:a="",variant:s="outline",size:n="md",type:r="button",onClick:l,disabled:c=!1,title:u}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",h={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},f={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${h[n]||h.md} ${f[s]||f.outline} ${a}`;return t.jsx("button",{type:r,className:g,onClick:l,disabled:c,title:u,children:e})}function ao({icon:e,label:a,value:s,tone:n="sapphire"}){const r={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200",red:"bg-red-50 text-red-800 border-red-200"},l=n==="sapphire"?"bg-slate-50 text-slate-800 border-slate-200":r[n]||r.slate;return t.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${l}`,children:[e?t.jsx(e,{className:"h-4 w-4 opacity-80"}):null,t.jsxs("div",{className:"text-xs",children:[t.jsx("div",{className:"font-semibold",children:s}),t.jsx("div",{className:"opacity-80",children:a})]})]})}function Pa({value:e,onChange:a,placeholder:s,className:n="",type:r="text"}){return t.jsx("input",{value:e,onChange:l=>a==null?void 0:a(l.target.value),placeholder:s,type:r,className:`w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400 ${n}`})}function eM({value:e,onChange:a,placeholder:s,rows:n=5}){return t.jsx("textarea",{value:e,onChange:r=>a==null?void 0:a(r.target.value),placeholder:s,rows:n,className:"w-full rounded-lg border border-slate-300 px-2.5 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400"})}function br({children:e,tone:a="slate"}){const s={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return t.jsx("span",{className:`px-2 py-0.5 rounded-md text-[11px] border ${s[a]}`,children:e})}function tge({total:e=0,sent:a=0,failed:s=0}){const n=a+s,r=e?Math.min(100,Math.round(n/e*100)):0;return t.jsxs("div",{className:"w-full rounded-xl border border-slate-200 p-2",children:[t.jsx("div",{className:"h-2 w-full rounded bg-slate-100 overflow-hidden",children:t.jsx("div",{className:"h-2 rounded bg-blue-600 transition-all",style:{width:`${r}%`}})}),t.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:[a," sent  ",s," failed  ",e," total"]})]})}function age(e,a,s){const[n,r]=x.useState(null),l=x.useRef(null);return x.useEffect(()=>{if(!e)return;const c=localStorage.getItem("token")||"",u=Qs.PROGRESS_SSE(e,a,c),m=new EventSource(u,{withCredentials:!1});l.current=m,m.onmessage=f=>{try{const g=JSON.parse(f.data);r(g)}catch{}};const h=()=>{m.close(),s==null||s()};return m.addEventListener("done",h),m.onerror=()=>{},()=>m.close()},[e,a,s]),n}function tM(e,a){const[s,n]=x.useState(null);return x.useEffect(()=>{if(!e||!a)return;const r=localStorage.getItem("token")||"",l=Qs.DAEMON_SSE(e,a,r),c=new EventSource(l,{withCredentials:!1});return c.onmessage=u=>{try{const m=JSON.parse(u.data);n(m)}catch{}},c.onerror=()=>{},()=>c.close()},[e,a]),s}function sge(){var bn,Oi,vn,Es,ma;const e=Qpe(),[a,s]=x.useState([]),[n,r]=x.useState(!1),[l,c]=x.useState(!1),[u,m]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",voice_provider:"",voice:"",system_prompt:"You are a helpful SMS assistant. Keep replies short and useful.",language:"",forwardingPhoneNumber:"",assistant_toggle:!0}),[h,f]=x.useState([]),[g,b]=x.useState(!1),[v,w]=x.useState(""),[j,S]=x.useState(""),[k,_]=x.useState(!1),[C,T]=x.useState({assistant_id:"",from_number:"",limit:"",background:!0,showAdvanced:!1,messages_per_recipient:1,retry_count:0,retry_delay_seconds:60,per_message_delay_seconds:0,include_unowned:!0,repeat_backoff_hours:7}),[O,E]=x.useState({assistant_id:"",from_number:"",limit:"",background:!0,showAdvanced:!1,messages_per_recipient:1,retry_count:0,retry_delay_seconds:60,per_message_delay_seconds:0,unscheduled_backoff_hours:7}),[$,M]=x.useState(""),[H,V]=x.useState(""),F=age($,H,()=>pt()),[B,ee]=x.useState({to_number:"",from_number:"",body:""}),[we,ne]=x.useState(!1),[A,U]=x.useState([]),[K,z]=x.useState(!1),[I,D]=x.useState(""),[R,Z]=x.useState(!1),[de,le]=x.useState([]),[be,Ue]=x.useState(0),[xe,ve]=x.useState({peer_number:"",success:"all",to_like:"",from_like:"",start:"",end:"",assistant_id:""}),[Ie,Ye]=x.useState(0),ke=50,[Je,Xe]=x.useState([]),[ue,ie]=x.useState(!1),[De,G]=x.useState(!1),[ce,$e]=x.useState(null),[qe,ye]=x.useState(!1),[Be,_e]=x.useState(null),[te,Y]=x.useState(null),[Se,me]=x.useState({scheduled:!1,unscheduled:!1}),X=tM("scheduled",(Be==null?void 0:Be.sse_token)||""),Te=tM("unscheduled",(te==null?void 0:te.sse_token)||""),He=x.useMemo(()=>{const Q=a.length||0,je=a.filter(ae=>ae.assistant_toggle).length,at=h.length||0,W=h.filter(ae=>ae.attached_assistant).length;return{totalAssistants:Q,enabled:je,totalNumbers:at,withAssistant:W}},[a,h]),Ve=h.length>0,rt=x.useCallback(async()=>{r(!0);try{const Q=await fetch(Qs.ASSISTANTS,{headers:e(),mode:"cors"}),je=await Fn(Q),at=Array.isArray(je)?je:[];s(at.map(W=>({...W,system_prompt:W.system_prompt??W.systemPrompt??""})))}catch(Q){L.error((Q==null?void 0:Q.message)||"Failed to load assistants"),s([])}finally{r(!1)}},[e]),nt=x.useCallback(async()=>{b(!0);try{const Q=await fetch(Qs.NUMBERS,{headers:e(),mode:"cors"}),je=await Fn(Q),at=Array.isArray(je==null?void 0:je.items)?je.items:Array.isArray(je)?je:[];f(at.map(W=>({phone_number:W.phone_number||W.number||(W==null?void 0:W.phone)||"",attached_assistant:W.attached_assistant??W.assistant_id??null})))}catch{f([])}finally{b(!1)}},[e]),Oe=x.useCallback(async()=>{z(!0);try{const Q=await fetch(Qs.THREADS,{headers:e(),mode:"cors"}),je=await Fn(Q);U(Array.isArray(je==null?void 0:je.items)?je.items:[])}catch(Q){L.error((Q==null?void 0:Q.message)||"Failed to load threads"),U([])}finally{z(!1)}},[e]),We=x.useCallback(async()=>{Z(!0);try{const Q=new URLSearchParams;Q.set("limit",String(ke)),Q.set("offset",String(Ie*ke)),xe.peer_number&&Q.set("peer_number",xe.peer_number),xe.to_like&&Q.set("to_like",xe.to_like),xe.from_like&&Q.set("from_like",xe.from_like),xe.start&&Q.set("start",xe.start),xe.end&&Q.set("end",xe.end),xe.assistant_id&&Q.set("assistant_id",xe.assistant_id),xe.success==="true"&&Q.set("success","true"),xe.success==="false"&&Q.set("success","false");const je=await fetch(`${Qs.MESSAGES}?${Q.toString()}`,{headers:e(),mode:"cors"}),at=await Fn(je);le(Array.isArray(at==null?void 0:at.items)?at.items:[]),Ue(Number((at==null?void 0:at.total)||0))}catch(Q){L.error((Q==null?void 0:Q.message)||"Failed to load messages"),le([]),Ue(0)}finally{Z(!1)}},[e,Ie,xe]),pt=x.useCallback(async()=>{ie(!0);try{const Q=await fetch(Qs.JOBS,{headers:e(),mode:"cors"}),je=await Fn(Q);Xe(Array.isArray(je==null?void 0:je.items)?je.items:[])}catch{Xe([])}finally{ie(!1)}},[e]),Oa=x.useCallback(async Q=>{try{const je=await fetch(Qs.DAEMON_STATE(Q),{headers:e(),mode:"cors"}),at=await Fn(je);Q==="scheduled"?_e(at):Y(at)}catch(je){L.error((je==null?void 0:je.message)||`Failed to load ${Q} daemon state`)}},[e]),oe=x.useCallback(async(Q,je)=>{me(at=>({...at,[Q]:!0}));try{const at=await fetch(Qs.DAEMON_CONFIG,{method:"PUT",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({kind:Q,...je}),mode:"cors"}),W=await Fn(at);Q==="scheduled"?_e((W==null?void 0:W.state)||W):Y((W==null?void 0:W.state)||W),L.success(`${Q} daemon updated`)}catch(at){L.error((at==null?void 0:at.message)||`Failed to update ${Q} daemon`)}finally{me(at=>({...at,[Q]:!1}))}},[e]),J=x.useCallback(async(Q,je)=>{ye(!0);try{const at=new URLSearchParams;at.set("include_unowned",String(!!Q)),je!=null&&je!==""&&at.set("repeat_backoff_hours",String(je));const W=await fetch(`${Qs.DEBUG_SCHEDULED}?${at.toString()}`,{headers:e(),mode:"cors"}),ae=await Fn(W);$e(ae),G(!0)}catch(at){L.error((at==null?void 0:at.message)||"Debug fetch failed")}finally{ye(!1)}},[e]),se=x.useCallback(async()=>{try{if(!u.name.trim())return L.error("Assistant name is required");const Q=await fetch(Qs.CREATE_ASSISTANT,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({name:u.name,provider:u.provider,model:u.model,voice_provider:u.voice_provider||null,voice:u.voice||null,system_prompt:u.system_prompt,language:u.language||null,forwardingPhoneNumber:u.forwardingPhoneNumber||null,assistant_toggle:!!u.assistant_toggle}),mode:"cors"});await Fn(Q),L.success("Assistant created"),c(!1),rt()}catch(Q){L.error((Q==null?void 0:Q.message)||"Create failed")}},[e,u,rt]),fe=x.useCallback(async(Q,je)=>{try{const at=await fetch(Qs.TOGGLE_ASSISTANT_URL(Q,je),{method:"PUT",headers:{...e()},mode:"cors"});await Fn(at),L.success(`Assistant ${je?"enabled":"disabled"}`),rt()}catch(at){L.error((at==null?void 0:at.message)||"Toggle failed")}},[e,rt]),Qe=x.useCallback(async()=>{if(!v)return L.error("Select a number");try{const Q={phone_number:v,assistant_id:j?Number(j):null,kind:null},je=await fetch(Qs.ATTACH_ASSISTANT,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify(Q),mode:"cors"});await Fn(je),L.success("Attachment updated"),nt()}catch(Q){L.error((Q==null?void 0:Q.message)||"Attach failed")}},[e,v,j,nt]),ht=x.useCallback(async Q=>{_(!0);try{const je=Q==="scheduled"?C:O,at=Q==="scheduled"?Qs.MESSAGE_SCHEDULED:Qs.MESSAGE_UNSCHEDULED,W={assistant_id:je.assistant_id?Number(je.assistant_id):null,from_number:je.from_number||null,limit:je.limit?Number(je.limit):null,background:!0,messages_per_recipient:Number(je.messages_per_recipient||1),retry_count:Number(je.retry_count||0),retry_delay_seconds:Number(je.retry_delay_seconds||60),per_message_delay_seconds:Number(je.per_message_delay_seconds||0)};Q==="scheduled"?(W.include_unowned=!!je.include_unowned,je.repeat_backoff_hours!==""&&je.repeat_backoff_hours!==null&&je.repeat_backoff_hours!==void 0&&(W.repeat_backoff_hours=Number(je.repeat_backoff_hours))):je.unscheduled_backoff_hours!==""&&je.unscheduled_backoff_hours!==null&&je.unscheduled_backoff_hours!==void 0&&(W.unscheduled_backoff_hours=Number(je.unscheduled_backoff_hours));const ae=await fetch(at,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify(W),mode:"cors"}),Ce=await Fn(ae);Ce!=null&&Ce.job_id?(M(Ce.job_id),V(Ce.sse_token||""),L.success(`Started ${Q} job`),pt()):(Ce!=null&&Ce.detail?L.info(Ce.detail):L.info("No appointments matched filters"),J(C.include_unowned,C.repeat_backoff_hours).catch(()=>{}))}catch(je){L.error((je==null?void 0:je.message)||"Bulk start failed")}finally{_(!1)}},[e,C,O,pt,J]),Ct=x.useCallback(async()=>{var Q,je;if(!B.to_number||!B.body)return L.error("Missing 'to' or 'body'");if(!ege.test(B.to_number))return L.error("Enter To number in E.164 format, e.g. +14155551234");ne(!0);try{const at=await fetch(Qs.SEND_SINGLE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({to_number:B.to_number,body:B.body,from_number:B.from_number||null}),mode:"cors"});await Fn(at),L.success("Sent"),ee(W=>({...W,body:""})),Oe(),I&&I===B.to_number&&We()}catch(at){const W=(je=(Q=at==null?void 0:at.payload)==null?void 0:Q.detail)==null?void 0:je.twilio_error;if(W){const ae=W.more_info?`  see docs: ${W.more_info}`:"";L.error(`Twilio ${W.code||""}: ${W.message||"Error"}${ae}`)}else L.error((at==null?void 0:at.message)||"Send failed")}finally{ne(!1)}},[e,B,I,Oe,We]);x.useEffect(()=>{rt().catch(()=>{}),nt().catch(()=>{}),Oe().catch(()=>{}),pt().catch(()=>{}),Oa("scheduled").catch(()=>{}),Oa("unscheduled").catch(()=>{})},[rt,nt,Oe,pt,Oa]),x.useEffect(()=>{We().catch(()=>{})},[We]),x.useEffect(()=>{I&&(ve(Q=>({...Q,peer_number:I})),Ye(0))},[I]),x.useEffect(()=>{var Q;if(h.length===1){const je=((Q=h[0])==null?void 0:Q.phone_number)||"";w(at=>at||je),T(at=>({...at,from_number:at.from_number||je})),E(at=>({...at,from_number:at.from_number||je})),ee(at=>({...at,from_number:at.from_number||je}))}},[h]),x.useEffect(()=>{var Q;if(a.length===1){const je=((Q=a[0])==null?void 0:Q.id)??"";S(at=>at||String(je)),T(at=>({...at,assistant_id:at.assistant_id||String(je)})),E(at=>({...at,assistant_id:at.assistant_id||String(je)}))}},[a]);const wt=Math.ceil(be/ke),Vt=Ie>0,At=Ie+1<wt,La=x.useMemo(()=>[{id:"",name:"Auto-pick (recommended)"},...a],[a]),Cs=x.useMemo(()=>[{phone_number:"",label:"Auto-pick"},...h.map(Q=>({...Q,label:Q.phone_number}))],[h]),qa=t.jsx("div",{className:"text-[11px] text-slate-500",children:"Tip: You can attach a specific assistant to a phone number, or let the system auto-pick the first enabled assistant."}),Ra=({params:Q,setParams:je,mode:at})=>{const W=at==="scheduled";return t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>je(ae=>({...ae,showAdvanced:!ae.showAdvanced})),className:"mt-2 inline-flex items-center gap-1 text-xs px-2 py-1 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[t.jsx($q,{className:"h-3.5 w-3.5"}),"Advanced"]}),Q.showAdvanced?t.jsxs("div",{className:"mt-3 space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Messages / recipient"}),t.jsx(Pa,{type:"number",value:Q.messages_per_recipient,onChange:ae=>je(Ce=>({...Ce,messages_per_recipient:Number(ae||1)}))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Retry count"}),t.jsx(Pa,{type:"number",value:Q.retry_count,onChange:ae=>je(Ce=>({...Ce,retry_count:Number(ae||0)}))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Retry delay (s)"}),t.jsx(Pa,{type:"number",value:Q.retry_delay_seconds,onChange:ae=>je(Ce=>({...Ce,retry_delay_seconds:Number(ae||60)}))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Per-msg gap (s)"}),t.jsx(Pa,{type:"number",value:Q.per_message_delay_seconds,onChange:ae=>je(Ce=>({...Ce,per_message_delay_seconds:Number(ae||0)}))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[W?t.jsxs("div",{children:[t.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[t.jsx(px,{className:"h-3.5 w-3.5"}),"Repeat backoff hours"]}),t.jsx(Pa,{type:"number",value:Q.repeat_backoff_hours,onChange:ae=>je(Ce=>({...Ce,repeat_backoff_hours:Number(ae||0)}))})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[t.jsx(px,{className:"h-3.5 w-3.5"}),"Unscheduled backoff hours"]}),t.jsx(Pa,{type:"number",value:Q.unscheduled_backoff_hours,onChange:ae=>je(Ce=>({...Ce,unscheduled_backoff_hours:Number(ae||0)}))})]}),t.jsx("div",{className:"rounded-lg border border-slate-200 p-2 text-[11px] text-slate-600 lg:col-span-2",children:W?"Scheduled = eligible by default; backoff prevents re-texting the same phone within N hours (default 7).":"Optional backoff protects against re-texting the same phone too soon (default 7h)."}),W?t.jsxs("label",{className:"flex items-center justify-between border border-slate-200 rounded-lg px-2.5 py-1.5",children:[t.jsxs("div",{className:"text-[11px] text-slate-700 flex items-center gap-1",children:[t.jsx(_i,{className:"h-3.5 w-3.5 text-slate-500"}),"Include unowned"]}),t.jsx(za,{size:"sm",variant:Q.include_unowned?"primary":"subtle",onClick:()=>je(ae=>({...ae,include_unowned:!ae.include_unowned})),children:Q.include_unowned?t.jsxs(t.Fragment,{children:[t.jsx(d1,{className:"h-4 w-4 mr-1"})," On"]}):t.jsxs(t.Fragment,{children:[t.jsx(c1,{className:"h-4 w-4 mr-1"})," Off"]})})]}):null]})]}):null]})},Hs=({st:Q})=>{const je=Q!=null&&Q.enabled?(Q==null?void 0:Q.status)==="running"?"bg-blue-500":(Q==null?void 0:Q.status)==="error"?"bg-red-500":"bg-emerald-500":"bg-slate-300";return t.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${je}`})},As=({kind:Q,state:je,sseState:at,onPatch:W,busy:ae})=>{const Ce=Q==="scheduled",[et,ut]=x.useState(!!(je!=null&&je.enabled)),[_t,gt]=x.useState((je==null?void 0:je.tick_interval_seconds)??120),[Ht,qt]=x.useState(!!(je!=null&&je.include_unowned)),[Mt,ls]=x.useState((je==null?void 0:je.repeat_backoff_hours)??7),[ri,qs]=x.useState((je==null?void 0:je.unscheduled_backoff_hours)??7);x.useEffect(()=>{ut(!!(je!=null&&je.enabled)),gt((je==null?void 0:je.tick_interval_seconds)??120),qt(!!(je!=null&&je.include_unowned)),ls((je==null?void 0:je.repeat_backoff_hours)??7),qs((je==null?void 0:je.unscheduled_backoff_hours)??7)},[je]);const xs={...je||{},...at||{}},To=()=>{const ze={enabled:et,tick_interval_seconds:Number(_t||120)};Ce?(ze.include_unowned=!!Ht,ze.repeat_backoff_hours=Number(Mt||0)):ze.unscheduled_backoff_hours=Number(ri||0),W(Q,ze)},ge=()=>W(Q,{enabled:!et});return t.jsxs(Br,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(OC,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:Ce?"Scheduled Daemon":"Unscheduled Daemon"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Hs,{st:xs}),t.jsx(br,{tone:xs.enabled?"emerald":"amber",children:xs.enabled?"enabled":"paused"})]})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Tick interval (s)"}),t.jsx(Pa,{type:"number",value:_t,onChange:ze=>gt(Number(ze||0))})]}),Ce?t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[t.jsx(px,{className:"h-3.5 w-3.5"}),"Repeat backoff hours"]}),t.jsx(Pa,{type:"number",value:Mt,onChange:ze=>ls(Number(ze||0))})]}),t.jsxs("label",{className:"flex items-center justify-between border border-slate-200 rounded-lg px-2.5 py-1.5",children:[t.jsxs("div",{className:"text-[11px] text-slate-700 flex items-center gap-1",children:[t.jsx(_i,{className:"h-3.5 w-3.5 text-slate-500"}),"Include unowned"]}),t.jsx(za,{size:"sm",variant:Ht?"primary":"subtle",onClick:()=>qt(ze=>!ze),children:Ht?t.jsxs(t.Fragment,{children:[t.jsx(d1,{className:"h-4 w-4 mr-1"})," On"]}):t.jsxs(t.Fragment,{children:[t.jsx(c1,{className:"h-4 w-4 mr-1"})," Off"]})})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[t.jsx(px,{className:"h-3.5 w-3.5"}),"Unscheduled backoff hours"]}),t.jsx(Pa,{type:"number",value:ri,onChange:ze=>qs(Number(ze||0))})]}),t.jsx("div",{className:"sm:col-span-2 rounded-lg border border-slate-200 p-2 text-[11px] text-slate-600",children:"Protects against re-texting the same phone too soon."})]})]}),t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[t.jsxs("div",{className:"text-[11px] text-slate-600",children:["Status: ",t.jsx("b",{children:xs.status||""}),"  Last tick:"," ",xs.last_tick_at?Fd(xs.last_tick_at):"","  Last queue:"," ",xs.last_queue_size??0,xs.last_error?t.jsxs(t.Fragment,{children:[" "," ",t.jsxs("span",{className:"text-red-600",children:["Error: ",xs.last_error]})]}):null]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(za,{size:"sm",variant:et?"subtle":"primary",onClick:ge,disabled:ae,children:et?t.jsxs(t.Fragment,{children:[t.jsx(PV,{className:"h-4 w-4 mr-1"})," Pause"]}):t.jsxs(t.Fragment,{children:[t.jsx(Fu,{className:"h-4 w-4 mr-1"})," Resume"]})}),t.jsxs(za,{size:"sm",variant:"primary",onClick:To,disabled:ae,children:[ae?t.jsx(Ma,{className:"h-4 w-4 mr-1 animate-spin"}):null,"Apply"]})]})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-4 gap-2",children:[t.jsx(ao,{icon:Sp,label:"Last sent",value:xs.last_sent??0,tone:"blue"}),t.jsx(ao,{icon:mn,label:"Last failed",value:xs.last_failed??0,tone:"amber"}),t.jsx(ao,{icon:Rp,label:"Total sent",value:xs.total_sent??0,tone:"emerald"}),t.jsx(ao,{icon:n1,label:"Total failed",value:xs.total_failed??0,tone:"red"})]}),je!=null&&je.sse_token?t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 flex items-center gap-2",children:["Live updates via SSE "," ",t.jsx(za,{size:"sm",onClick:()=>Ow(je.sse_token,"SSE token copied"),children:"Copy SSE Token"})]}):null]})};return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx(he.div,{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl",initial:{opacity:0},animate:{opacity:.5},transition:{duration:1}}),t.jsx(he.div,{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl",initial:{opacity:0},animate:{opacity:.5},transition:{duration:1.2}})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[t.jsxs(Br,{className:"relative overflow-hidden p-4 sm:p-5",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Ug,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Text Assistant"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create assistants, attach to numbers, bulk-message appointments, handle inbound SMS with AI, and manage always-on texting daemons."})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(za,{onClick:()=>{rt(),nt(),Oe(),pt(),Oa("scheduled"),Oa("unscheduled")},children:[t.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Refresh"]}),t.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${Ve?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[t.jsx(IN,{className:`h-3.5 w-3.5 ${Ve?"text-emerald-600":"text-amber-600"}`}),Ve?"Numbers Active":"No Numbers"]})]})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-2 sm:grid-cols-5 gap-4",children:[t.jsx(ao,{icon:$N,label:"Assistants",value:He.totalAssistants,tone:"slate"}),t.jsx(ao,{icon:Fg,label:"Enabled",value:He.enabled,tone:"blue"}),t.jsx(ao,{icon:St,label:"Numbers",value:He.totalNumbers,tone:"emerald"}),t.jsx(ao,{icon:Wr,label:"Attached",value:He.withAssistant,tone:"amber"}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600 flex items-center gap-2",children:[t.jsx(ju,{className:"h-4 w-4"}),"Set ",t.jsx("code",{className:"font-mono",children:"PUBLIC_BASE_URL"})," so Twilio can reach",t.jsx("code",{className:"font-mono ml-1",children:"/api/text/sms-status"}),"."]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs(Br,{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zN,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Assistants"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(za,{size:"sm",onClick:()=>c(Q=>!Q),children:[t.jsx(hn,{className:"h-4 w-4 mr-1"}),"New"]})})]}),t.jsx("div",{className:"mt-1",children:qa}),l&&t.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(Pa,{placeholder:"Name (e.g., Assistant A)",value:u.name,onChange:Q=>m(je=>({...je,name:Q}))}),t.jsx(Pa,{placeholder:"Provider (openai)",value:u.provider,onChange:Q=>m(je=>({...je,provider:Q}))}),t.jsx(Pa,{placeholder:"Model (gpt-4o-mini)",value:u.model,onChange:Q=>m(je=>({...je,model:Q}))}),t.jsx(Pa,{placeholder:"Language (optional)",value:u.language,onChange:Q=>m(je=>({...je,language:Q}))}),t.jsx(Pa,{placeholder:"Voice Provider (optional)",value:u.voice_provider,onChange:Q=>m(je=>({...je,voice_provider:Q}))}),t.jsx(Pa,{placeholder:"Voice (optional)",value:u.voice,onChange:Q=>m(je=>({...je,voice:Q}))})]}),t.jsx("div",{className:"mt-3",children:t.jsx(eM,{value:u.system_prompt,onChange:Q=>m(je=>({...je,system_prompt:Q})),placeholder:"System prompt for the assistant",rows:5})}),t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[t.jsxs("label",{className:"text-xs text-slate-700",children:[t.jsx("input",{type:"checkbox",className:"mr-2",checked:u.assistant_toggle,onChange:Q=>m(je=>({...je,assistant_toggle:Q.target.checked}))}),"Enabled on create"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(za,{size:"sm",onClick:se,children:[t.jsx(hn,{className:"h-4 w-4 mr-1"}),"Create"]}),t.jsx(za,{size:"sm",variant:"subtle",onClick:()=>c(!1),children:"Cancel"})]})]})]}),t.jsx("div",{className:"mt-3 overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[t.jsx("th",{className:"py-2 pr-3",children:"Assistant"}),t.jsx("th",{className:"py-2 pr-3",children:"Model"}),t.jsx("th",{className:"py-2 pr-3",children:"Enabled"}),t.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),t.jsx("tbody",{children:n?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):a.length===0?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"No assistants yet. Create one above."})}):a.map(Q=>t.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[t.jsxs("td",{className:"py-2 pr-3",children:[t.jsx("div",{className:"font-medium",children:Q.name}),t.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:(Q.system_prompt||"").slice(0,120)})]}),t.jsx("td",{className:"py-2 pr-3",children:t.jsx(br,{tone:"slate",children:Q.model})}),t.jsx("td",{className:"py-2 pr-3",children:Q.assistant_toggle?t.jsx(br,{tone:"emerald",children:"Enabled"}):t.jsx(br,{tone:"amber",children:"Disabled"})}),t.jsx("td",{className:"py-2 pr-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(za,{size:"sm",variant:Q.assistant_toggle?"subtle":"primary",onClick:()=>fe(Q.id,!Q.assistant_toggle),children:Q.assistant_toggle?t.jsxs(t.Fragment,{children:[t.jsx(c1,{className:"h-4 w-4 mr-1"}),"Disable"]}):t.jsxs(t.Fragment,{children:[t.jsx(d1,{className:"h-4 w-4 mr-1"}),"Enable"]})}),t.jsxs(za,{size:"sm",onClick:()=>{Ow(Q.system_prompt||"","System prompt copied!")},children:[t.jsx(UV,{className:"h-4 w-4 mr-1"}),"Copy Prompt"]})]})})]},Q.id))})]})})]}),t.jsxs(Br,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wr,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Attach Assistant to Number"})]}),t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Purchased Number"}),t.jsxs("select",{value:v,onChange:Q=>w(Q.target.value),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Select number"}),h.map(Q=>t.jsx("option",{value:Q.phone_number,children:Q.phone_number},Q.phone_number))]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),t.jsxs("select",{value:j,onChange:Q=>S(Q.target.value),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"No attachment (clear)"}),a.map(Q=>t.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-[11px] text-slate-500",children:"Incoming SMS to this number will use the attached assistant."}),t.jsx(za,{size:"sm",onClick:Qe,disabled:g||n,children:"Save"})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Numbers"}),g?t.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):h.length===0?t.jsx("div",{className:"text-xs text-slate-500",children:"No numbers found."}):t.jsx("ul",{className:"space-y-1",children:h.map(Q=>{const je=a.find(at=>at.id===Q.attached_assistant);return t.jsxs("li",{className:"text-xs flex items-center justify-between",children:[t.jsx("div",{className:"font-mono",children:Q.phone_number}),t.jsx("div",{className:"flex items-center gap-2",children:je?t.jsx(br,{tone:"blue",children:je.name}):t.jsx(br,{children:"No assistant"})})]},Q.phone_number)})})]})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsx(As,{kind:"scheduled",state:Be,sseState:X,onPatch:oe,busy:Se.scheduled}),t.jsx(As,{kind:"unscheduled",state:te,sseState:Te,onPatch:oe,busy:Se.unscheduled})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs(Br,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Sr,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Message Scheduled Appointments (one-off)"})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),t.jsx("select",{value:C.assistant_id,onChange:Q=>T(je=>({...je,assistant_id:Q.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:La.map(Q=>t.jsx("option",{value:Q.id??"",children:Q.name},Q.id??"auto"))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"From Number"}),t.jsx("select",{value:C.from_number,onChange:Q=>T(je=>({...je,from_number:Q.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:Cs.map(Q=>t.jsx("option",{value:Q.phone_number??"",children:Q.label},Q.phone_number??"auto"))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Limit"}),t.jsx(Pa,{type:"number",placeholder:"e.g. 50",value:C.limit,onChange:Q=>T(je=>({...je,limit:Q}))})]})]}),t.jsx(Ra,{params:C,setParams:T,mode:"scheduled"}),t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Sends all scheduled appointments, skipping numbers messaged successfully within the last"," ",t.jsx("b",{children:C.repeat_backoff_hours})," hours."]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(za,{variant:"subtle",onClick:()=>J(C.include_unowned,C.repeat_backoff_hours),disabled:qe,title:"See why nothing matches",children:[t.jsx(n1,{className:"h-4 w-4 mr-1"}),"Debug"]}),t.jsxs(za,{variant:"primary",onClick:()=>ht("scheduled"),disabled:k,children:[k?t.jsx(Ma,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(tf,{className:"h-4 w-4 mr-2"}),"Start"]})]})]}),De&&t.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsxs("div",{className:"text-xs font-semibold text-slate-700 flex items-center gap-2",children:[t.jsx(n1,{className:"h-4 w-4"}),"Scheduled Selection (debug)"]}),ce?t.jsxs("div",{className:"mt-2 text-xs text-slate-700 space-y-1",children:[t.jsxs("div",{children:[t.jsx("b",{children:"Eligible:"})," ",(bn=ce==null?void 0:ce.info)==null?void 0:bn.eligible," / ",(Oi=ce==null?void 0:ce.info)==null?void 0:Oi.total]}),t.jsxs("div",{children:[t.jsx("b",{children:"Include unowned:"})," ",String((vn=ce==null?void 0:ce.info)==null?void 0:vn.include_unowned)]}),t.jsxs("div",{children:[t.jsx("b",{children:"Repeat backoff hours:"})," ",String((Es=ce==null?void 0:ce.info)==null?void 0:Es.repeat_backoff_hours)]}),t.jsxs("div",{className:"text-slate-500",children:[t.jsx("b",{children:"Rule:"})," ",((ma=ce==null?void 0:ce.info)==null?void 0:ma.rule)||"-"]}),Array.isArray(ce==null?void 0:ce.samples)&&ce.samples.length>0?t.jsx("div",{className:"mt-2 max-h-44 overflow-auto code-scroll",children:t.jsxs("table",{className:"w-full text-[11px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-slate-500",children:[t.jsx("th",{className:"text-left pr-2",children:"Appt"}),t.jsx("th",{className:"text-left pr-2",children:"Phone"}),t.jsx("th",{className:"text-left pr-2",children:"TZ"}),t.jsx("th",{className:"text-left pr-2",children:"Start"}),t.jsx("th",{className:"text-left pr-2",children:"Now"}),t.jsx("th",{className:"text-left pr-2",children:"Backoff OK"}),t.jsx("th",{className:"text-left",children:"Eligible"})]})}),t.jsx("tbody",{children:ce.samples.map(Q=>t.jsxs("tr",{className:"border-t border-slate-200",children:[t.jsx("td",{className:"pr-2",children:Q.id}),t.jsx("td",{className:"pr-2",children:Q.phone}),t.jsx("td",{className:"pr-2",children:Q.tz||"-"}),t.jsx("td",{className:"pr-2",children:Fd(Q.start_at)}),t.jsx("td",{className:"pr-2",children:Fd(Q.now)}),t.jsx("td",{className:"pr-2",children:String(Q.backoff_ok)}),t.jsx("td",{children:String(Q.eligible)})]},Q.id))})]})}):null]}):t.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"No data yet."})]})]}),t.jsxs(Br,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(JH,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Message Unscheduled Appointments (one-off)"})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),t.jsx("select",{value:O.assistant_id,onChange:Q=>E(je=>({...je,assistant_id:Q.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:La.map(Q=>t.jsx("option",{value:Q.id??"",children:Q.name},Q.id??"auto"))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"From Number"}),t.jsx("select",{value:O.from_number,onChange:Q=>E(je=>({...je,from_number:Q.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:Cs.map(Q=>t.jsx("option",{value:Q.phone_number??"",children:Q.label},Q.phone_number??"auto"))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Limit"}),t.jsx(Pa,{type:"number",placeholder:"e.g. 50",value:O.limit,onChange:Q=>E(je=>({...je,limit:Q}))})]})]}),t.jsx(Ra,{params:O,setParams:E,mode:"unscheduled"}),t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[t.jsx("div",{className:"text-[11px] text-slate-500",children:"Optional backoff protects against re-texting the same phone too soon."}),t.jsxs(za,{variant:"primary",onClick:()=>ht("unscheduled"),disabled:k,children:[k?t.jsx(Ma,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(tf,{className:"h-4 w-4 mr-2"}),"Start"]})]})]})]}),$?t.jsx("div",{className:"mt-4",children:t.jsxs(Br,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(OC,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Live Progress"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(br,{tone:"blue",children:["Job #",String($).slice(0,8)]}),H?t.jsx(za,{size:"sm",onClick:()=>Ow(H,"SSE token copied"),children:"Copy SSE Token"}):null]})]}),t.jsxs("div",{className:"mt-3",children:[t.jsx(tge,{total:(F==null?void 0:F.total)||0,sent:(F==null?void 0:F.sent)||0,failed:(F==null?void 0:F.failed)||0}),t.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:["Status: ",t.jsx("b",{children:(F==null?void 0:F.status)||"connecting"}),"  From:"," ",t.jsx("span",{className:"font-mono",children:(F==null?void 0:F.from_number)||"-"})]})]})]})}):null,t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs(Br,{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Sp,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send Single SMS"})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsx(Pa,{placeholder:"To number (+1)",value:B.to_number,onChange:Q=>ee(je=>({...je,to_number:Q}))}),t.jsxs("select",{value:B.from_number,onChange:Q=>ee(je=>({...je,from_number:Q.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Auto-pick"}),h.map(Q=>t.jsx("option",{value:Q.phone_number,children:Q.phone_number},Q.phone_number))]}),t.jsx("div",{className:"flex items-center",children:t.jsxs(za,{variant:"primary",onClick:Ct,disabled:we,className:"w-full",children:[we?t.jsx(Ma,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Sp,{className:"h-4 w-4 mr-2"}),"Send"]})})]}),t.jsxs("div",{className:"mt-3",children:[t.jsx(eM,{value:B.body,onChange:Q=>{Q.length>1e3||ee(je=>({...je,body:Q}))},placeholder:"Write your message here",rows:4}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 flex items-center gap-2",children:[t.jsx(mn,{className:"h-3.5 w-3.5"}),"Keep it concise. Backend truncates to 1000 chars.",t.jsxs("span",{className:"ml-auto",children:[B.body.length,"/1000"]})]})]})]}),t.jsxs(Br,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rp,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Recent Jobs"})]}),t.jsx("div",{className:"mt-3",children:ue?t.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):Je.length===0?t.jsx("div",{className:"text-xs text-slate-500",children:"No jobs yet."}):t.jsx("ul",{className:"space-y-2",children:Je.slice(0,6).map(Q=>t.jsxs("li",{className:"text-xs flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"font-mono",children:["#",String(Q.id).slice(0,8)]}),t.jsx("div",{className:"text-[11px] text-slate-500",children:Fd(Q.created_at)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(br,{tone:Q.status==="completed"?"emerald":"blue",children:Q.status}),t.jsx(za,{size:"sm",onClick:()=>{M(Q.id),V(""),L.info("Streaming progress")},children:"View"})]})]},Q.id))})})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs(Br,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(AH,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Threads"})]}),t.jsxs(za,{size:"sm",onClick:Oe,disabled:K,children:[t.jsx(Ze,{className:"h-4 w-4 mr-1"}),"Refresh"]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(Pa,{placeholder:"Search by number",value:xe.peer_number,onChange:Q=>ve(je=>({...je,peer_number:Q}))})}),t.jsx("div",{className:"mt-3 max-h-[360px] overflow-auto",children:K?t.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):A.length===0?t.jsx("div",{className:"text-xs text-slate-500",children:"No threads yet."}):t.jsx("ul",{className:"space-y-1",children:A.filter(Q=>{var je;return!xe.peer_number||((je=Q.peer_number)==null?void 0:je.includes(xe.peer_number))}).map(Q=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>D(Q.peer_number),className:`w-full text-left rounded-lg border px-2 py-1.5 text-xs transition-colors ${I===Q.peer_number?"bg-blue-50 border-blue-200 text-blue-800":"bg-white border-slate-200 hover:bg-slate-50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-mono",children:Q.peer_number}),t.jsx(br,{tone:Q.last_direction==="inbound"?"amber":"slate",children:Q.last_direction})]}),t.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:Q.last_body}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:[Fd(Q.last_message_at),"  ",Q.count," msgs"]})]})},Q.peer_number))})})]}),t.jsxs(Br,{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(s2,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Messages"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(za,{size:"sm",onClick:()=>{Ye(0),We()},disabled:R,children:[t.jsx(Ze,{className:"h-4 w-4 mr-1"}),"Refresh"]})})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-6 gap-2",children:[t.jsx(Pa,{placeholder:"To like",value:xe.to_like,onChange:Q=>ve(je=>({...je,to_like:Q}))}),t.jsx(Pa,{placeholder:"From like",value:xe.from_like,onChange:Q=>ve(je=>({...je,from_like:Q}))}),t.jsx(Pa,{type:"datetime-local",value:xe.start,onChange:Q=>ve(je=>({...je,start:Q}))}),t.jsx(Pa,{type:"datetime-local",value:xe.end,onChange:Q=>ve(je=>({...je,end:Q}))}),t.jsxs("select",{value:xe.success,onChange:Q=>ve(je=>({...je,success:Q.target.value})),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"Success: All"}),t.jsx("option",{value:"true",children:"Success"}),t.jsx("option",{value:"false",children:"Failed"})]}),t.jsxs("select",{value:xe.assistant_id,onChange:Q=>ve(je=>({...je,assistant_id:Q.target.value})),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Assistant: All"}),a.map(Q=>t.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Showing ",de.length," of ",be]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(za,{size:"sm",onClick:()=>Ye(Q=>Math.max(0,Q-1)),disabled:!Vt||R,children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Prev"]}),t.jsxs(za,{size:"sm",onClick:()=>Ye(Q=>At?Q+1:Q),disabled:!At||R,children:["Next",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]}),t.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto",children:R?t.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):de.length===0?t.jsx("div",{className:"text-xs text-slate-500",children:"No messages for current filters."}):t.jsx("ul",{className:"space-y-2",children:de.map(Q=>t.jsxs("li",{className:`rounded-lg border px-3 py-2 text-xs ${Q.direction==="inbound"?"bg-amber-50 border-amber-200":"bg-slate-50 border-slate-200"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(br,{tone:Q.direction==="inbound"?"amber":"slate",children:Q.direction}),Q.success?t.jsx(br,{tone:"emerald",children:"ok"}):t.jsx(br,{tone:"red",children:Q.error||"fail"})]}),t.jsx("div",{className:"text-[11px] text-slate-500",children:Fd(Q.created_at)})]}),t.jsxs("div",{className:"mt-1 font-mono text-[11px] text-slate-600",children:[Q.from_number,"  ",Q.to_number]}),t.jsx("div",{className:"mt-1 text-slate-800",children:Q.body}),Q.appointment_id?t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Appointment: ",Q.appointment_id]}):null]},Q.id))})})]})]}),t.jsxs("div",{className:"mt-5 text-[11px] text-slate-500 flex items-center gap-2",children:[t.jsx(QF,{className:"h-3.5 w-3.5"}),"Delivery status updates via ",t.jsx("code",{className:"font-mono",children:"/api/text/sms-status"}),". Ensure your server is publicly reachable for Twilio callbacks."]})]})]})}const nge={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://13.60.203.103"},dc=nge&&"http://13.60.203.103"||"http://localhost:8000",Vd={CONFIG:`${dc}/api/config`,PRICING:`${dc}/api/pricing/current`,CALL_PREVIEW:e=>`${dc}/api/pricing/call/preview?seconds=${e}`,CHECKOUT:`${dc}/api/checkout`,BALANCE:`${dc}/api/me/balance`,TXNS:(e=10)=>`${dc}/api/me/transactions?limit=${e}`},rge="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Pw({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:brightness-110 active:brightness-95 border border-blue-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 active:bg-slate-100 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[n]} ${u[s]} ${a}`,children:t.jsx(he.span,{whileHover:{y:-.5},whileTap:{scale:.98},children:e})})}function ep({label:e,value:a,icon:s}){return t.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl hover:shadow-2xl transition-shadow",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-600 to-cyan-500 text-white shadow-inner ring-1 ring-blue-200/60",children:t.jsx(s,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})})}function uh({label:e,children:a}){return t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a]})}const Ub=(e="")=>(e||"").replace(/\D/g,""),ige=(e,a,s)=>{const n=Number((e||"").slice(0,3));return n>=Number(a)&&n<=Number(s)};function lge(e){const a=Ub(e);if(!a)return"UNKNOWN";if(a.startsWith("4"))return"VISA";const s=Number(a.slice(0,2)),n=Number(a.slice(0,4));return s>=51&&s<=55||n>=2221&&n<=2720?"MASTERCARD":a.startsWith("34")||a.startsWith("37")?"AMEX":a.startsWith("6011")||a.startsWith("65")||ige(a,"644","649")?"DISCOVER":"UNKNOWN"}function oge(e,a){const s=Ub(e).slice(0,a==="AMEX"?15:16);return a==="AMEX"?s.replace(/(\d{4})(\d{0,6})(\d{0,5})/,(n,r,l,c)=>[r,l,c].filter(Boolean).join(" ")).trim():s.replace(/(.{4})/g,"$1 ").trim()}function cge(e,a){const s=a==="AMEX"?15:16,n=Ub(e).padEnd(s,"");return a==="AMEX"?n.replace(/(\d{4})(\d{6})(\d{5})/,(r,l,c,u)=>[l,c,u].join(" ")):n.replace(/(.{4})/g,"$1 ").trim()}const oI=e=>e==="AMEX"?4:3;function aM({brand:e="UNKNOWN",className:a=""}){return e==="VISA"?t.jsx("div",{className:`text-[10px] font-black tracking-widest ${a}`,children:"VISA"}):e==="MASTERCARD"?t.jsxs("div",{className:`relative h-5 w-8 ${a}`,children:[t.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 h-4 w-4 rounded-full bg-amber-500 mix-blend-multiply"}),t.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 h-4 w-4 rounded-full bg-red-600 mix-blend-multiply"})]}):e==="AMEX"?t.jsxs("div",{className:`px-1.5 py-0.5 text-[9px] font-black rounded bg-cyan-500 text-white ${a}`,children:["AMERICAN",t.jsx("br",{}),"EXPRESS"]}):e==="DISCOVER"?t.jsxs("div",{className:`flex items-center gap-1 ${a}`,children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),t.jsx("span",{className:"text-[10px] font-black",children:"DISCOVER"})]}):t.jsx("div",{className:`text-[10px] font-bold opacity-70 ${a}`,children:"CARD"})}function sM(){return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-cyan-400 to-blue-500 blur opacity-25"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-70",style:{background:"radial-gradient(80% 120% at 0% 0%, rgba(14,165,233,0.35), transparent), radial-gradient(100% 120% at 100% 100%, rgba(37,99,235,0.35), #0f172a)"}})]})}function dge({name:e,number:a,expiry:s,cvc:n,brand:r,showBack:l=!1,onToggleSide:c}){const u=x.useRef(null),[m,h]=x.useState({x:0,y:0});function f(j){const S=u.current;if(!S)return;const k=S.getBoundingClientRect(),_=(j.clientX-k.left)/k.width,C=(j.clientY-k.top)/k.height;h({x:(.5-C)*10,y:(_-.5)*16})}const g=cge(oge(a,r),r),b=e||"JANE DOE",v=s||"MM/YY",w=(n||"").padEnd(oI(r),"");return t.jsx("div",{className:"w-full max-w-sm mx-auto select-none",children:t.jsxs("div",{ref:u,onMouseMove:f,onMouseLeave:()=>h({x:0,y:0}),className:"relative [perspective:1200px]",children:[t.jsxs(he.div,{className:"relative h-56 sm:h-64 rounded-3xl shadow-2xl cursor-pointer",style:{transformStyle:"preserve-3d"},animate:{rotateY:l?180:0,rotateX:m.x,rotateZ:0,translateZ:0},transition:{type:"spring",stiffness:140,damping:18},onClick:c,"aria-label":"Credit card",whileHover:{scale:1.01},children:[t.jsxs("div",{className:"absolute inset-0 rounded-3xl text-white p-5 sm:p-6",style:{backfaceVisibility:"hidden"},children:[t.jsx(sM,{}),t.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-[10px] uppercase tracking-widest opacity-85",children:"Debit"}),t.jsx(aM,{brand:r})]}),t.jsx("div",{className:"mt-8 text-lg sm:text-xl font-mono tracking-widest",children:g}),t.jsxs("div",{className:"mt-auto grid grid-cols-2 text-xs",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"opacity-75 uppercase",children:"Card Holder"}),t.jsx("div",{className:"font-semibold tracking-wide truncate",children:b})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"opacity-75 uppercase",children:"Expires"}),t.jsx("div",{className:"font-semibold tracking-wide",children:v})]})]})]})]}),t.jsxs("div",{className:"absolute inset-0 rounded-3xl text-white p-5 sm:p-6",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden"},children:[t.jsx(sM,{}),t.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[t.jsx("div",{className:"h-10 w-full rounded-md bg-black/70 mt-1"}),t.jsxs("div",{className:"mt-6",children:[t.jsx("div",{className:"text-[11px] uppercase opacity-80",children:"Authorized Signature"}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsx("div",{className:"h-8 flex-1 bg-white/90 rounded-md"}),t.jsx("div",{className:"h-8 w-16 bg-white/90 rounded-md text-slate-900 grid place-content-center font-mono text-sm",children:w})]})]}),t.jsxs("div",{className:"mt-auto flex items-center justify-between text-[11px] opacity-80",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ai,{className:"h-3.5 w-3.5"}),t.jsx("span",{children:"Securely processed by Stripe"})]}),t.jsx(aM,{brand:r})]})]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-slate-600",children:[t.jsxs("div",{className:"inline-flex items-center gap-1",children:[t.jsx(jq,{className:"h-3.5 w-3.5"}),"Click card or focus CVV to flip"]}),t.jsxs("div",{className:"inline-flex items-center gap-1",children:[t.jsx(yG,{className:"h-3.5 w-3.5"}),"Visual demo only"]})]})]})})}const Mw=e=>`$${(Number(e||0)/100).toFixed(2)}`;function uge(){const[e,a]=x.useState({publishable_key:"",mode:"test"}),[s,n]=x.useState(null),[r,l]=x.useState(185),[c,u]=x.useState(null),[m,h]=x.useState(!1),[f,g]=x.useState(null),[b,v]=x.useState([]),[w,j]=x.useState(!1),[S,k]=x.useState(!1),[_,C]=x.useState(25),[T,O]=x.useState("Jane Doe"),[E,$]=x.useState("4242424242424242"),[M,H]=x.useState("12/34"),[V,F]=x.useState(""),[B,ee]=x.useState(!1),we=x.useMemo(()=>lge(E),[E]),ne=x.useMemo(()=>{try{return localStorage.getItem("token")}catch{return null}},[]),A=x.useMemo(()=>ne?{Authorization:`Bearer ${ne}`}:{},[ne]);async function U(){k(!0);try{const[I,D]=await Promise.all([fetch(Vd.CONFIG),fetch(Vd.PRICING,{headers:A})]),R=await I.json().catch(()=>({}))||{};if(a(R),D.ok){const Z=await D.json();n(Z)}else n(null);if(ne){const[Z,de]=await Promise.all([fetch(Vd.BALANCE,{headers:A}),fetch(Vd.TXNS(10),{headers:A})]);Z.ok&&g(await Z.json()),de.ok&&v(await de.json())}}catch(I){L.error(I&&I.message||"Failed to load data")}finally{k(!1)}}async function K(I){try{h(!0);const D=await fetch(Vd.CALL_PREVIEW(I),{headers:A}),R=await D.json();if(!D.ok)throw new Error((R==null?void 0:R.detail)||(R==null?void 0:R.message)||`HTTP ${D.status}`);u((R==null?void 0:R.total_cents)??null)}catch(D){u(null),L.error(D&&D.message||"Failed to calculate preview")}finally{h(!1)}}x.useEffect(()=>{U()},[]),x.useEffect(()=>{const I=setTimeout(()=>{K(r)},200);return()=>clearTimeout(I)},[r]);const z=async I=>{if(!ne)return L.error("Please sign in first (token missing)");try{j(!0);const D=await fetch(Vd.CHECKOUT,{method:"POST",headers:{...A,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({amount_usd:I,purpose:"Wallet Top-up"})}),R=await D.json();if(!D.ok)throw new Error((R==null?void 0:R.detail)||(R==null?void 0:R.message)||`HTTP ${D.status}`);if(R!=null&&R.url)window.location.assign(R.url);else if(R!=null&&R.id)window.open(`https://checkout.stripe.com/c/pay/${R.id}`,"_self");else throw new Error("Invalid checkout response")}catch(D){L.error(D&&D.message||"Failed to create checkout")}finally{j(!1)}};return t.jsx("div",{className:"min-h-screen bg-slate-50",children:t.jsxs("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Fc,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${rge}`,children:"Pricing, Wallet & Top-up"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Server-driven pricing, per-second billing preview, and secure Stripe Checkout."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Pw,{onClick:U,disabled:S,children:S?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})}),t.jsxs("a",{className:"text-xs text-slate-500 inline-flex items-center gap-1",href:"https://stripe.com/docs/testing",target:"_blank",rel:"noreferrer",children:["Stripe testing docs ",t.jsx(af,{className:"h-3 w-3"})]})]})]})]}),!ne&&t.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 text-amber-800 px-4 py-3 text-sm flex items-center gap-2",children:[t.jsx(Tf,{className:"h-4 w-4"})," Youre not signed in. Add a JWT token in localStorage as ",t.jsx("code",{children:"token"}),"."]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(ep,{label:"Mode",value:(e.mode||"test").toUpperCase(),icon:fl}),t.jsx(ep,{label:"Publishable key",value:e.publishable_key?"Present":"Missing",icon:ai}),t.jsx(ep,{label:"Pricing loaded",value:s?"Yes":"No",icon:Np}),t.jsx(ep,{label:"Wallet balance",value:f?`${Mw(f.balance_cents)} (${f.balance_cents})`:"",icon:pD})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 xl:grid-cols-3 gap-5",children:[t.jsxs("div",{className:"xl:col-span-2 space-y-5",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsx("div",{className:"flex items-center justify-between gap-3",children:t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(Np,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Current Pricing"})]})}),s?t.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 hover:shadow-inner transition-shadow",children:[t.jsx("div",{className:"text-xs uppercase text-slate-500 mb-1",children:"Calls"}),t.jsxs("div",{className:"text-sm text-slate-700 space-y-0.5",children:[t.jsxs("div",{children:["Raw: ",t.jsx("b",{children:s.call_millicents_per_second})," m/sec"]}),t.jsx("div",{className:"text-[12px] text-slate-500",children:"Server is source of truth for rounding"})]})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 hover:shadow-inner transition-shadow",children:[t.jsx("div",{className:"text-xs uppercase text-slate-500 mb-1",children:"Texts"}),t.jsxs("div",{className:"text-sm text-slate-700 space-y-0.5",children:[t.jsxs("div",{children:["Raw: ",t.jsx("b",{children:s.text_cents_per_message})," /msg"]}),t.jsxs("div",{children:[" ",t.jsxs("b",{children:["$",(Number(s.text_cents_per_message||0)/100).toFixed(4)]})," / msg"]})]})]})]}):t.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Pricing not available yet."})]}),t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(dD,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Top up via Stripe"})]}),t.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[t.jsx(ai,{className:"h-3.5 w-3.5"})," Secure Checkout"]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(dge,{name:T,number:E,expiry:M,cvc:V,brand:we,showBack:B,onToggleSide:()=>ee(I=>!I)}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,10,25,50].map(I=>t.jsxs(Pw,{onClick:()=>z(I),className:"w-full",variant:"outline",children:["$",I]},I))}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsx(uh,{label:"Name on card (visual)",children:t.jsx("input",{value:T,onChange:I=>O(I.target.value.slice(0,24)),placeholder:"e.g. Jane Doe",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(uh,{label:"Expiry (visual)",children:t.jsx("input",{value:M,onChange:I=>H(I.target.value),placeholder:"MM/YY",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(uh,{label:"CVV (visual)",children:t.jsx("input",{value:V,onChange:I=>F(Ub(I.target.value).slice(0,oI(we))),onFocus:()=>ee(!0),onBlur:()=>ee(!1),placeholder:"34 digits",inputMode:"numeric",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsx(uh,{label:"Custom amount (USD)",children:t.jsx("input",{type:"number",min:1,value:_,onChange:I=>C(Math.max(1,Number(I.target.value||1))),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx("div",{className:"sm:col-span-2 flex items-end",children:t.jsx(Pw,{onClick:()=>z(_),variant:"primary",className:"w-full",disabled:w,children:w?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 mr-2 animate-spin"})," Opening secure checkout"]}):t.jsxs(t.Fragment,{children:["Continue to secure checkout ",t.jsx(Uu,{className:"h-4 w-4 ml-2"})]})})})]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Test card: ",t.jsx("code",{className:"px-1.5 py-0.5 rounded bg-slate-100 border border-slate-200",children:"4242 4242 4242 4242"}),"  any future date  any CVC  any ZIP"]})]})]})]})]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-cyan-600 text-white shrink-0",children:t.jsx(Np,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Call cost preview"})]}),s?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsx(uh,{label:"Duration (seconds)",children:t.jsx("input",{type:"number",min:1,value:r,onChange:I=>l(Math.max(1,Number(I.target.value||1))),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Rate"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:[s.call_millicents_per_second," m/sec"]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Estimated charge"}),t.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:m?"":c!=null?Mw(c):""})]})]}),t.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 text-emerald-700 text-sm",children:[t.jsx(ra,{className:"h-4 w-4"}),"Proration per second  ",t.jsx("b",{children:"Server-side"})," rounding up to nearest cent"]})]}):t.jsx("div",{className:"mt-4 text-sm text-slate-500",children:"Pricing not loaded yet."})]}),t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-violet-600 text-white shrink-0",children:t.jsx(UH,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Recent transactions"})]}),ne?t.jsx("div",{className:"mt-4 space-y-2",children:b&&b.length?b.map(I=>t.jsxs(he.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"rounded-xl border border-slate-200 bg-slate-50 p-3 flex items-center justify-between hover:bg-slate-100 transition-colors",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-semibold text-slate-800",children:I.kind||I.description||"Transaction"}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:[(I.currency||"USD").toUpperCase()," "," ",I.created_at?new Date(I.created_at).toLocaleString():""]})]}),t.jsxs("div",{className:`text-sm font-bold ${I.amount_cents>=0?"text-emerald-700":"text-rose-700"}`,children:[I.amount_cents>=0?"+":"-",Mw(Math.abs(I.amount_cents))]})]},I.id||`${I.created_at}-${I.amount_cents}`)):t.jsx("div",{className:"text-sm text-slate-500",children:"No transactions yet."})}):t.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Sign in to view your wallet transactions."})]}),t.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:t.jsxs("div",{className:"text-sm text-slate-600",children:["Webhook testing? Use Stripe CLI:",t.jsx("pre",{className:"mt-2 text-xs bg-slate-50 p-2 rounded border border-slate-200 overflow-auto",children:`stripe listen --forward-to ${dc}/api/webhook
stripe trigger payment_intent.succeeded`})]})})]})]})]})})}const Rs="http://13.60.203.103",$s={PROVIDERS:`${Rs}/api/calendar/providers`,ACCOUNTS:`${Rs}/api/calendar/accounts`,DISCONNECT:e=>`${Rs}/api/calendar/accounts/${e}`,CONNECT_GOOGLE:`${Rs}/api/calendar/connect/google`,GOOGLE_CALENDARS:e=>`${Rs}/api/calendar/google/calendars${e?`?account_id=${encodeURIComponent(e)}`:""}`,GOOGLE_IMPORT:`${Rs}/api/calendar/google/import`,CALCOM_CONNECT_TOKEN:`${Rs}/api/calendar/connect/calcom/token`,CALCOM_WEBHOOK_REGISTER:`${Rs}/api/calendar/calcom/webhook/register`,CALENDLY_CONNECT_TOKEN:`${Rs}/api/calendar/connect/calendly/token`,CALENDLY_WEBHOOK_REGISTER:`${Rs}/api/calendar/calendly/webhook/register`,EVENTS:`${Rs}/api/calendar/events`,EVENT_DETAIL:e=>`${Rs}/api/calendar/events/${e}`,CREATE_EVENT:`${Rs}/api/calendar/events`,UPDATE_EVENT:e=>`${Rs}/api/calendar/events/${e}`,DELETE_EVENT:e=>`${Rs}/api/calendar/events/${e}`,SYNC:`${Rs}/api/calendar/sync`,FREEBUSY:`${Rs}/api/calendar/freebusy`},mge="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Ws(){const e=localStorage.getItem("token");return e?{Authorization:`Bearer ${e}`,Accept:"application/json","Content-Type":"application/json"}:{Accept:"application/json","Content-Type":"application/json"}}function Vn(){return localStorage.getItem("token")?!0:(L.error("No authentication token found. Please sign in."),!1)}function Hd(e,a){if(!e||!a)return null;const s=new Date(`${e}T${a}:00`);return isNaN(s.valueOf())?null:s.toISOString()}function hge(e){try{return new Date(e).toLocaleDateString()}catch{return e}}function Ji(e){try{return new Date(e).toLocaleString()}catch{return e}}function fge({start:e,end:a,busyBlocks:s,minutes:n=30}){const r=n*60*1e3,l=new Date(e),c=new Date(a),u=[...s].sort((h,f)=>new Date(h.start)-new Date(f.start)),m=[{start:l,end:l},...u.map(h=>({start:new Date(h.start),end:new Date(h.end)})),{start:c,end:c}];for(let h=0;h<m.length-1;h++){const f=new Date(Math.max(m[h].end.getTime(),l.getTime()));if(new Date(Math.min(m[h+1].start.getTime(),c.getTime()))-f>=r)return{start:f.toISOString(),end:new Date(f.getTime()+r).toISOString()}}return null}function xge(e){return new Date(e.getFullYear(),e.getMonth(),1)}function pge(e){return new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999)}const gge=1;function cI(e){const s=(e.getDay()-gge+7)%7;return new Date(e.getFullYear(),e.getMonth(),e.getDate()-s)}function bge(e){const a=cI(e);return new Date(a.getFullYear(),a.getMonth(),a.getDate()+6,23,59,59,999)}function nM(e,a){return new Date(e.getFullYear(),e.getMonth()+a,1)}function vge(e,a){return e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth()&&e.getDate()===a.getDate()}function fc(e){return e.toISOString().slice(0,10)}function _N(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function kN(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}const rM=["Asia/Karachi","UTC","Asia/Dubai","Asia/Kolkata","Europe/London","Europe/Paris","America/New_York","America/Los_Angeles"];function yi({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function iM(){return t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function zt({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[n]} ${u[s]} ${a}`,children:e})}function tp({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function ap({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Xt({label:e,children:a,hint:s}){return t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a,s&&t.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:s})]})}function mh({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(he.div,{className:"relative z-10 w-full max-w-2xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:12,scale:.99,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:8,scale:.99,opacity:0},transition:{duration:.25},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(zt,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(js,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function lM({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a}),t.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.25},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(zt,{onClick:a,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:t.jsx(js,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function yge(){var at;const[e,a]=x.useState(!1),[s,n]=x.useState([]),[r,l]=x.useState([]),[c,u]=x.useState(""),m=x.useMemo(()=>r.find(W=>W.id===c),[r,c]),[h,f]=x.useState("google"),[g,b]=x.useState([]),[v,w]=x.useState(!1),[j,S]=x.useState(""),[k,_]=x.useState(()=>new Date),[C,T]=x.useState({}),[O,E]=x.useState(!0),[$,M]=x.useState(null),[H,V]=x.useState(!1),[F,B]=x.useState([]),[ee,we]=x.useState(!1),[ne,A]=x.useState(!1),[U,K]=x.useState(!1),[z,I]=x.useState(null),[D,R]=x.useState(!1),[Z,de]=x.useState(!1),[le,be]=x.useState(null),[Ue,xe]=x.useState(!1),[ve,Ie]=x.useState(!1),[Ye,ke]=x.useState(null),[Je,Xe]=x.useState(!1),[ue,ie]=x.useState(null),[De,G]=x.useState(null),[ce,$e]=x.useState(""),[qe,ye]=x.useState(!1),[Be,_e]=x.useState(!1),[te,Y]=x.useState("organization"),[Se,me]=x.useState(["invitee.created","invitee.canceled"]),[X,Te]=x.useState(""),He=x.useCallback(async()=>{try{const W=await fetch($s.PROVIDERS,{headers:Ws()});if(!W.ok)throw new Error(`HTTP ${W.status}`);const ae=await W.json();n((ae==null?void 0:ae.providers)||[])}catch(W){L.error((W==null?void 0:W.message)||"Failed to load providers")}},[]),Ve=x.useCallback(async()=>{if(Vn())try{a(!0);const W=await fetch($s.ACCOUNTS,{headers:Ws()});if(!W.ok)throw new Error(`HTTP ${W.status}`);const ae=await W.json();l(Array.isArray(ae)?ae:[]);const Ce=(Array.isArray(ae)?ae:[]).find(et=>et.provider==="google");Ce?(u(et=>et||Ce.id),f("google")):ae!=null&&ae[0]&&(u(et=>et||ae[0].id),f(ae[0].provider))}catch(W){L.error((W==null?void 0:W.message)||"Failed to load accounts")}finally{a(!1)}},[]);x.useEffect(()=>{He(),Ve()},[He,Ve]);const rt=async()=>{try{const W=await fetch($s.CONNECT_GOOGLE,{headers:Ws()});if(!W.ok){const et=await W.text();throw new Error(et||`HTTP ${W.status}`)}const ae=await W.json(),Ce=ae==null?void 0:ae.auth_url;if(!Ce)throw new Error("No auth_url returned");window.location.assign(Ce)}catch(W){L.error((W==null?void 0:W.message)||"Failed to initiate Google connect")}},nt=W=>{$e(""),G({provider:W})},Oe=async()=>{if(Vn())try{const W=(De==null?void 0:De.provider)==="calcom"?$s.CALCOM_CONNECT_TOKEN:$s.CALENDLY_CONNECT_TOKEN,ae=await fetch(W,{method:"POST",headers:Ws(),body:JSON.stringify({api_key:ce})}),Ce=await ae.json();if(!ae.ok||!(Ce!=null&&Ce.ok))throw new Error((Ce==null?void 0:Ce.detail)||`HTTP ${ae.status}`);L.success(`${De.provider==="calcom"?"Cal.com":"Calendly"} connected`),G(null),$e(""),Ve()}catch(W){L.error((W==null?void 0:W.message)||"Token connect failed")}},We=async W=>{if(Vn())try{const ae=await fetch($s.DISCONNECT(W),{method:"DELETE",headers:Ws()}),Ce=await ae.json().catch(()=>({}));if(!ae.ok)throw new Error((Ce==null?void 0:Ce.detail)||`HTTP ${ae.status}`);L.success("Disconnected"),await Ve(),b([]),c===W&&(u(""),B([]))}catch(ae){L.error((ae==null?void 0:ae.message)||"Failed to disconnect")}},pt=async()=>{if(!c)return L.error("Select an account first");const W=r.find(ae=>ae.id===c);if(!W||W.provider!=="google")return L.info("Calendars are only for Google accounts");try{w(!0);const ae=await fetch($s.GOOGLE_CALENDARS(c),{headers:Ws()}),Ce=await ae.json();if(!ae.ok)throw new Error((Ce==null?void 0:Ce.detail)||`HTTP ${ae.status}`);const et=Array.isArray(Ce==null?void 0:Ce.items)?Ce.items:[];b(et),S(ut=>{var _t,gt;return ut||((_t=et.find(Ht=>Ht.primary))==null?void 0:_t.id)||((gt=et[0])==null?void 0:gt.id)||""}),L.success(`Loaded ${et.length} calendars`)}catch(ae){L.error((ae==null?void 0:ae.message)||"Failed to load calendars")}finally{w(!1)}},Oa=x.useMemo(()=>{if(!X.trim())return g;const W=X.toLowerCase();return g.filter(ae=>String(ae.summary||"").toLowerCase().includes(W)||String(ae.id||"").toLowerCase().includes(W))},[g,X]),[oe,J]=x.useState({account_id:"",provider:"google",title:"",date:"",startTime:"",endTime:"",timezone:"Asia/Karachi",phone:"",location:"",notes:"",calendar_id:"",event_type:"",attendee_name:"",attendee_email:""}),se=()=>{if(!r.length)return L.error("Connect an account first");const W=m||r[0],ae=(W==null?void 0:W.provider)||"google";J(Ce=>({...Ce,account_id:(W==null?void 0:W.id)||"",provider:ae,calendar_id:ae==="google"?j||Ce.calendar_id:"",title:Ce.title||(ae==="calcom"?"Cal.com Booking":"Meeting")})),ae==="google"&&g.length===0&&pt(),A(!0)},fe=async()=>{if(!Vn())return;const W=r.find(gt=>gt.id===oe.account_id);if(!W)return L.error("Choose an account");const ae=W.provider,Ce=Hd(oe.date,oe.startTime),et=Hd(oe.date,oe.endTime);if(!oe.title||!Ce||!et)return L.error("Title, date, start & end time are required.");const ut={title:oe.title,start_at:Ce,end_at:et,timezone:oe.timezone,notes:oe.notes||"",account_id:oe.account_id};let _t=ut;if(ae==="google"){if(!oe.calendar_id)return L.error("Please choose a Google calendar.");_t={...ut,phone:oe.phone||"unknown",location:oe.location||"",calendar_id:oe.calendar_id}}else if(ae==="calcom"){if(!oe.event_type||!oe.attendee_email||!oe.attendee_name)return L.error("Cal.com requires: event type, attendee name & email.");_t={...ut,phone:oe.phone||"unknown",location:oe.location||"",event_type:oe.event_type,attendee_name:oe.attendee_name,attendee_email:oe.attendee_email}}else if(ae==="calendly")return L.info("Calendly API creation is limited. Use Scheduling links; webhooks will sync bookings.");try{K(!0);const gt=await fetch($s.CREATE_EVENT,{method:"POST",headers:Ws(),body:JSON.stringify(_t)}),Ht=await gt.json();if(!gt.ok||!(Ht!=null&&Ht.ok))throw new Error((Ht==null?void 0:Ht.detail)||`HTTP ${gt.status}`);L.success(` Event created on ${ae==="google"?"Google Calendar":"Cal.com"}`),A(!1),J(qt=>({...qt,title:"",phone:"",notes:""})),await As(),Hs()}catch(gt){L.error((gt==null?void 0:gt.message)||"Create failed")}finally{K(!1)}},Qe=W=>{var ae,Ce;I({appointment_id:W.id,_date:W.start_at.slice(0,10),_start:new Date(W.start_at).toISOString().slice(11,16),_end:new Date(W.end_at).toISOString().slice(11,16),_title:W.title||"",_location:W.location||"",_notes:W.notes||"",_timezone:W.timezone||"Asia/Karachi",_phone:W.phone||"unknown",_calendar:((Ce=(ae=W.links)==null?void 0:ae[0])==null?void 0:Ce.external_calendar_id)||oe.calendar_id||""})},ht=async()=>{if(!Vn()||!(z!=null&&z.appointment_id))return;const W=z._date&&z._start?Hd(z._date,z._start):void 0,ae=z._date&&z._end?Hd(z._date,z._end):void 0,Ce={title:z._title||void 0,start_at:W,end_at:ae,phone:z._phone||void 0,timezone:z._timezone||void 0,location:z._location||void 0,notes:z._notes||void 0,calendar_id:z._calendar||void 0};try{R(!0);const et=await fetch($s.UPDATE_EVENT(z.appointment_id),{method:"PATCH",headers:Ws(),body:JSON.stringify(Ce)}),ut=await et.json().catch(()=>({}));if(!et.ok||(ut==null?void 0:ut.ok)===!1)throw new Error((ut==null?void 0:ut.detail)||`HTTP ${et.status}`);L.success(" Event updated"),I(null),await As(),Hs()}catch(et){L.error((et==null?void 0:et.message)||"Update failed")}finally{R(!1)}},Ct=async W=>{if(Vn())try{const ae=await fetch($s.DELETE_EVENT(W),{method:"DELETE",headers:Ws()}),Ce=await ae.json().catch(()=>({}));if(!ae.ok||(Ce==null?void 0:Ce.ok)===!1)throw new Error((Ce==null?void 0:Ce.detail)||`HTTP ${ae.status}`);L.success(" Event cancelled"),await As(),Hs()}catch(ae){L.error((ae==null?void 0:ae.message)||"Cancel failed")}},wt=async()=>{if(Vn())try{de(!0);const W=await fetch($s.SYNC,{method:"POST",headers:Ws(),body:JSON.stringify({account_ids:c?[c]:void 0})}),ae=await W.json();if(!W.ok)throw new Error((ae==null?void 0:ae.detail)||`HTTP ${W.status}`);be(ae),L.success(`Synced: ${ae.synced}, Created: ${ae.created}, Updated: ${ae.updated}`),await As(),Hs()}catch(W){L.error((W==null?void 0:W.message)||"Sync failed")}finally{de(!1)}},Vt=async()=>{if(!Vn())return;if(!c||!j)return L.error("Pick an account & calendar first");const{start:W,end:ae}=Ra;try{xe(!0);const Ce=await fetch($s.GOOGLE_IMPORT,{method:"POST",headers:Ws(),body:JSON.stringify({account_id:c,start_at:W.toISOString(),end_at:ae.toISOString(),calendar_ids:[j]})}),et=await Ce.json();if(!Ce.ok||(et==null?void 0:et.ok)===!1)throw new Error((et==null?void 0:et.detail)||`HTTP ${Ce.status}`);L.success(`Imported from Google  Synced: ${et.synced}, Created: ${et.created}, Updated: ${et.updated}`),await As(),Hs()}catch(Ce){L.error((Ce==null?void 0:Ce.message)||"Import failed")}finally{xe(!1)}},[At,La]=x.useState({date:"",startTime:"09:00",endTime:"18:00",calendar_ids:[]}),Cs=()=>{if(!c)return L.error("Select an account first");const W=r.find(ae=>ae.id===c);if(!W||W.provider!=="google")return L.info("Free/Busy is only supported for Google right now.");g.length===0&&pt(),Ie(!0)},qa=async()=>{var et,ut;if(!Vn())return;const W=Hd(At.date,At.startTime),ae=Hd(At.date,At.endTime);if(!W||!ae)return L.error("Select date, start and end time");const Ce=(At.calendar_ids.length?At.calendar_ids:[((et=g.find(_t=>_t.primary))==null?void 0:et.id)||((ut=g[0])==null?void 0:ut.id)]).filter(Boolean);try{Xe(!0);const _t=await fetch($s.FREEBUSY,{method:"POST",headers:Ws(),body:JSON.stringify({start_at:W,end_at:ae,account_id:c,calendar_ids:Ce})}),gt=await _t.json();if(!_t.ok||(gt==null?void 0:gt.ok)===!1)throw new Error((gt==null?void 0:gt.detail)||`HTTP ${_t.status}`);ke(gt);const Ht=gt.freebusy||{},qt=Object.values(Ht).flatMap(ls=>(ls==null?void 0:ls.busy)||[]).map(ls=>({start:ls.start,end:ls.end})),Mt=fge({start:W,end:ae,busyBlocks:qt,minutes:30});ie(Mt),Mt&&L.info(`Next free ~30 min: ${Ji(Mt.start)}`)}catch(_t){L.error((_t==null?void 0:_t.message)||"Free/Busy failed")}finally{Xe(!1)}},Ra=x.useMemo(()=>{const W=cI(xge(k)),ae=bge(pge(k));return{start:W,end:ae}},[k]),Hs=x.useCallback(async()=>{var Ce,et;if(!Vn())return;if(h!=="google"){T({});return}if(!c||!j)return;const W=Ra.start.toISOString(),ae=Ra.end.toISOString();try{V(!0);const ut=await fetch($s.FREEBUSY,{method:"POST",headers:Ws(),body:JSON.stringify({start_at:W,end_at:ae,account_id:c,calendar_ids:[j]})}),_t=await ut.json();if(!ut.ok||(_t==null?void 0:_t.ok)===!1)throw new Error((_t==null?void 0:_t.detail)||`HTTP ${ut.status}`);const gt=(((et=(Ce=_t.freebusy)==null?void 0:Ce[j])==null?void 0:et.busy)||[]).map(({start:Mt,end:ls})=>({start:new Date(Mt),end:new Date(ls)})),Ht={},qt=new Date(Ra.start);for(;qt<=Ra.end;){const Mt=fc(qt),ls=_N(qt),ri=kN(qt),qs=gt.filter(Gs=>!(Gs.end<ls||Gs.start>ri));Ht[Mt]={count:qs.length,blocks:qs.map(Gs=>({start:Gs.start.toISOString(),end:Gs.end.toISOString()}))},qt.setDate(qt.getDate()+1)}T(Ht)}catch(ut){console.warn(ut)}finally{V(!1)}},[c,j,Ra,h]),As=x.useCallback(async()=>{if(!Vn())return;const{start:W,end:ae}=Ra,Ce=new URL($s.EVENTS);Ce.searchParams.set("start_at",W.toISOString()),Ce.searchParams.set("end_at",ae.toISOString()),Ce.searchParams.set("limit","500"),h&&h!=="all"&&Ce.searchParams.set("provider",h),c&&Ce.searchParams.set("account_id",c),h==="google"&&j&&Ce.searchParams.set("calendar_id",j);try{we(!0);const et=await fetch(Ce.toString(),{headers:Ws()}),ut=await et.json();if(!et.ok)throw new Error((ut==null?void 0:ut.detail)||`HTTP ${et.status}`);const _t=Array.isArray(ut==null?void 0:ut.items)?ut.items:[],gt=new Set,Ht=[];for(const qt of _t){const Mt=[new Date(qt.start_at).toISOString(),new Date(qt.end_at).toISOString(),(qt.title||"").trim().toLowerCase(),(qt.location||"").trim().toLowerCase()].join("|");gt.has(Mt)||(gt.add(Mt),Ht.push(qt))}B(Ht)}catch(et){L.error((et==null?void 0:et.message)||"Failed to load events")}finally{we(!1)}},[c,j,Ra,h]);x.useEffect(()=>{c&&(Hs(),As())},[c,j,k,h]),x.useEffect(()=>{if(!c)return;const W=setInterval(()=>{Hs(),As()},3e4);return()=>clearInterval(W)},[c,Hs,As]),x.useEffect(()=>{var W,ae;g.length&&!j&&S(((W=g.find(Ce=>Ce.primary))==null?void 0:W.id)||((ae=g[0])==null?void 0:ae.id)||"")},[g,j]);const bn={accounts:r.length,calendars:g.length,lastSynced:(le==null?void 0:le.synced)??0,events:F.length},Oi=async()=>{if(!Vn())return;if(!r.find(ae=>ae.id===c&&ae.provider==="calcom"))return L.info("Select a Cal.com account first.");try{const ae=await fetch($s.CALCOM_WEBHOOK_REGISTER,{method:"POST",headers:Ws(),body:JSON.stringify({account_id:c})}),Ce=await ae.json();if(!ae.ok||!(Ce!=null&&Ce.ok))throw new Error((Ce==null?void 0:Ce.detail)||`HTTP ${ae.status}`);ye(!0),L.success("Cal.com webhook secret generated"),Es(Ce)}catch(ae){L.error((ae==null?void 0:ae.message)||"Cal.com webhook setup failed")}},[vn,Es]=x.useState(null),ma=async()=>{if(!Vn())return;if(!r.find(ae=>ae.id===c&&ae.provider==="calendly"))return L.info("Select a Calendly account first.");try{const ae=await fetch($s.CALENDLY_WEBHOOK_REGISTER,{method:"POST",headers:Ws(),body:JSON.stringify({account_id:c,scope:te,events:Se})}),Ce=await ae.json();if(!ae.ok||!(Ce!=null&&Ce.ok))throw new Error((Ce==null?void 0:Ce.detail)||`HTTP ${ae.status}`);_e(!0),je(Ce),L.success("Calendly webhook registered")}catch(ae){L.error((ae==null?void 0:ae.message)||"Calendly webhook setup failed")}},[Q,je]=x.useState(null);return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 xl:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 lg:gap-6 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Tn,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${mge}`,children:"Calendar Manager"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Connect Google / Cal.com / Calendly, sync bookings, and manage events with a clean month view."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(zt,{onClick:Ve,children:e?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})}),t.jsxs(zt,{onClick:rt,variant:"primary",children:[t.jsx(Fg,{className:"mr-2 h-4 w-4"})," Connect Google"]}),t.jsxs(zt,{onClick:()=>nt("calcom"),children:[t.jsx(mo,{className:"mr-2 h-4 w-4"})," Connect Cal.com (Token)"]}),t.jsxs(zt,{onClick:()=>nt("calendly"),children:[t.jsx(mo,{className:"mr-2 h-4 w-4"})," Connect Calendly (Token)"]})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[t.jsx(sp,{label:"Accounts",value:bn.accounts,Icon:Cr,tone:"blue"}),t.jsx(sp,{label:"Calendars (Google)",value:bn.calendars,Icon:mD,tone:"cyan"}),t.jsx(sp,{label:"Events (range)",value:bn.events,Icon:Sr,tone:"blue"}),t.jsx(sp,{label:"Synced (last)",value:bn.lastSynced,Icon:Ze,tone:"cyan"})]}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsx("div",{className:"flex items-center gap-2 min-w-0 w-full",children:t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Us,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:X,onChange:W=>Te(W.target.value),placeholder:"Search calendars by name or ID (Google only)",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("select",{value:c,onChange:W=>{const ae=W.target.value;u(ae);const Ce=r.find(et=>et.id===ae);Ce&&f(Ce.provider)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Select account"}),r.map(W=>t.jsxs("option",{value:W.id,children:[W.provider.toUpperCase(),"  ",W.external_email||W.external_account_id]},W.id))]}),t.jsxs("select",{value:h,onChange:W=>f(W.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"google",children:"Google"}),t.jsx("option",{value:"calcom",children:"Cal.com"}),t.jsx("option",{value:"calendly",children:"Calendly"}),t.jsx("option",{value:"all",children:"All (DB)"})]}),t.jsx(zt,{onClick:pt,disabled:!c||(m==null?void 0:m.provider)!=="google"||v,children:v?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Loading"]}):t.jsx(t.Fragment,{children:"Load Calendars"})}),t.jsxs(zt,{onClick:se,variant:"primary",disabled:!r.length,children:[t.jsx(gV,{className:"mr-2 h-4 w-4"})," Create"]}),t.jsxs(zt,{onClick:Cs,disabled:!c,children:[t.jsx(qF,{className:"mr-2 h-4 w-4"})," Free/Busy"]}),t.jsx(zt,{onClick:wt,disabled:!c||Z,children:Z?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):t.jsx(t.Fragment,{children:"Sync"})}),t.jsx(zt,{onClick:Vt,disabled:!c||(m==null?void 0:m.provider)!=="google"||!j||Ue,children:Ue?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Import"]}):t.jsxs(t.Fragment,{children:[t.jsx(KV,{className:"mr-2 h-4 w-4"})," Import Month"]})})]})]}),t.jsxs("div",{className:"mt-4 rounded-2xl border border-slate-200 overflow-hidden",children:[t.jsxs("div",{className:"bg-slate-50 px-4 sm:px-6 py-3 border-b border-slate-200 flex flex-wrap gap-2 items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx($H,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:"Connected Accounts"})]}),t.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2 flex-wrap",children:[t.jsx(fl,{className:"h-4 w-4 text-emerald-600"}),"Google / Cal.com / Calendly"]})]}),r.length===0?t.jsx("div",{className:"p-6 text-sm text-slate-600",children:"No accounts connected yet. Use the buttons above to connect."}):t.jsx("div",{className:"divide-y divide-slate-100",children:r.map((W,ae)=>t.jsxs("div",{className:"p-4 sm:p-5 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"font-semibold text-slate-900 break-words",children:[W.provider.toUpperCase(),"  ",W.external_email||W.external_account_id]}),t.jsx("div",{className:"text-xs text-slate-500 break-words",children:W.provider==="google"?t.jsxs(t.Fragment,{children:["Primary calendar: ",t.jsx("b",{children:W.primary_calendar_id||""})]}):t.jsx(t.Fragment,{children:"Connected via token"})})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx(zt,{variant:"subtle",onClick:()=>{u(W.id),f(W.provider),L.info("Selected this account")},children:"Select"}),W.provider==="calcom"&&t.jsxs(zt,{onClick:Oi,children:[t.jsx(Cr,{className:"h-4 w-4 mr-1"})," Webhook"]}),W.provider==="calendly"&&t.jsxs(zt,{onClick:()=>_e(!0),children:[t.jsx(Cr,{className:"h-4 w-4 mr-1"})," Webhook"]}),t.jsxs(zt,{variant:"danger",onClick:()=>We(W.id),children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Disconnect"]})]}),ae===0&&t.jsx(iM,{})]},W.id))})]})]}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(Tn,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["Calendars (Google)  ",Oa.length]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx(LH,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{children:"Pick one for the month board"})]})]}),Oa.length===0?t.jsxs("div",{className:"grid place-content-center py-12 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(Tn,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No calendars"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Load calendars after selecting a Google account"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(tp,{children:"Name"}),t.jsx(tp,{children:"Calendar ID"}),t.jsx(tp,{children:"Access"}),t.jsx(tp,{children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:Oa.map(W=>t.jsxs("tr",{className:"hover:bg-slate-50/60",children:[t.jsx(ap,{children:t.jsx("div",{className:"font-semibold text-slate-900 break-words",children:W.summary||""})}),t.jsx(ap,{children:t.jsx("div",{className:"text-xs text-slate-700 break-all",children:W.id})}),t.jsx(ap,{children:t.jsx(yi,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:W.accessRole||"reader"})}),t.jsx(ap,{children:W.primary?t.jsxs(yi,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ra,{className:"mr-1 h-3.5 w-3.5"})," Primary"]}):t.jsx(yi,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:"Secondary"})})]},W.id))})]})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Oa.map((W,ae)=>t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5",children:[ae===0&&t.jsx(iM,{}),t.jsx("div",{className:"font-bold text-slate-900 break-words",children:W.summary||""}),t.jsx("div",{className:"mt-1 text-xs text-slate-600 break-all",children:W.id}),t.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[t.jsx(yi,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:W.accessRole||"reader"}),W.primary?t.jsxs(yi,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ra,{className:"mr-1 h-3.5 w-3.5"})," Primary"]}):t.jsx(yi,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:"Secondary"})]})]},W.id))})})]})]}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx(zt,{onClick:()=>_(W=>nM(W,-1)),title:"Previous month",children:t.jsx(Ss,{className:"h-4 w-4"})}),t.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 min-w-[10ch] text-center",children:k.toLocaleString(void 0,{month:"long",year:"numeric"})}),t.jsx(zt,{onClick:()=>_(new Date),title:"Jump to today",children:"Today"}),t.jsx(zt,{onClick:()=>_(W=>nM(W,1)),title:"Next month",children:t.jsx(Aa,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h==="google"&&t.jsxs("select",{value:j,onChange:W=>S(W.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Pick calendar"}),g.map(W=>t.jsxs("option",{value:W.id,children:[W.summary||W.id," ",W.primary?"(primary)":""]},W.id))]}),t.jsx(zt,{onClick:()=>E(W=>!W),title:"Toggle compact",children:O?t.jsxs(t.Fragment,{children:[t.jsx(WH,{className:"mr-2 h-4 w-4"})," Relaxed"]}):t.jsxs(t.Fragment,{children:[t.jsx(eq,{className:"mr-2 h-4 w-4"})," Compact"]})}),t.jsx(zt,{onClick:Hs,disabled:h!=="google"||!c||H,children:H?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Live"]}):t.jsx(t.Fragment,{children:"Refresh"})})]})]}),t.jsx(jge,{date:k,compact:O,busyMap:C,events:F,eventsLoading:ee,onDayClick:W=>{if(!r.length)return;const ae=fc(W),Ce=m||r[0],et=(Ce==null?void 0:Ce.provider)||"google";J(ut=>({...ut,provider:et,account_id:(Ce==null?void 0:Ce.id)||"",date:ae,startTime:"10:00",endTime:"10:30",calendar_id:et==="google"?j||ut.calendar_id:"",title:ut.title||(et==="calcom"?"Cal.com Booking":"Meeting")})),A(!0)},onOpenDay:W=>M(W)})]})]}),t.jsx(jt,{children:De&&t.jsx(mh,{onClose:()=>G(null),title:`Connect ${De.provider==="calcom"?"Cal.com":"Calendly"} (Personal Access Token)`,children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(Xt,{label:"Personal Access Token",hint:De.provider==="calcom"?"Cal.com  Settings  API (or Developers)  Create token":"Calendly  Integrations & apps  API & Webhooks  Personal access tokens  Generate token",children:t.jsx("input",{value:ce,onChange:W=>$e(W.target.value),placeholder:"paste token",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(zt,{onClick:()=>G(null),variant:"subtle",children:"Close"}),t.jsx(zt,{onClick:Oe,variant:"primary",disabled:!ce.trim(),children:"Connect"})]})]})})}),t.jsx(jt,{children:qe&&t.jsx(mh,{onClose:()=>ye(!1),title:"Cal.com Webhook",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"text-sm text-slate-700",children:"Add this webhook in your Cal.com dashboard (Bookings  Webhooks) and paste the secret below:"}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs break-all",children:[t.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"Webhook URL"}),t.jsx("div",{children:(vn==null?void 0:vn.webhook_url)||""})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs break-all",children:[t.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"Secret"}),t.jsx("div",{children:(vn==null?void 0:vn.secret)||""})]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Well verify requests via ",t.jsx("code",{children:"x-cal-signature-256"}),"."]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(zt,{onClick:()=>ye(!1),children:"Done"})})]})})}),t.jsx(jt,{children:Be&&t.jsx(mh,{onClose:()=>_e(!1),title:"Calendly Webhook",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"text-sm text-slate-700",children:"We can auto-register a webhook on Calendly for your account."}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsx(Xt,{label:"Scope",hint:"Organization scope mirrors team bookings; user scope mirrors just your link.",children:t.jsxs("select",{value:te,onChange:W=>Y(W.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"organization",children:"organization"}),t.jsx("option",{value:"user",children:"user"})]})}),t.jsx(Xt,{label:"Events",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:["invitee.created","invitee.canceled"].map(W=>{const ae=Se.includes(W);return t.jsxs("label",{className:"text-sm rounded-xl border border-slate-200 px-3 py-1.5 flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:ae,onChange:Ce=>{me(et=>{const ut=new Set(et);return Ce.target.checked?ut.add(W):ut.delete(W),Array.from(ut)})}}),W]},W)})})})]}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(zt,{onClick:()=>_e(!1),variant:"subtle",children:"Close"}),t.jsx(zt,{onClick:ma,variant:"primary",children:"Register"})]}),Q&&t.jsxs("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 p-3 text-xs text-emerald-900 break-words",children:[t.jsx("div",{className:"font-semibold mb-1",children:"Registered"}),t.jsxs("div",{children:["Webhook ID: ",Q.webhook_id||""]}),t.jsx("div",{children:"Signing key stored on server "})]})]})})}),t.jsx(jt,{children:ne&&t.jsxs(mh,{onClose:()=>A(!1),title:"Create Event",children:[t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsx(Xt,{label:"Provider / Account",children:t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("select",{value:oe.account_id,onChange:W=>{const ae=W.target.value,Ce=r.find(et=>et.id===ae);J(et=>({...et,account_id:ae,provider:(Ce==null?void 0:Ce.provider)||"google",calendar_id:(Ce==null?void 0:Ce.provider)==="google"?et.calendar_id:""})),(Ce==null?void 0:Ce.provider)==="google"&&g.length===0&&pt()},className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Choose account"}),r.map(W=>t.jsxs("option",{value:W.id,children:[W.provider.toUpperCase(),"  ",W.external_email||W.external_account_id]},W.id))]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Selected: ",t.jsx("b",{children:oe.provider})]})]})}),t.jsx(Xt,{label:"Title",children:t.jsx("input",{value:oe.title,onChange:W=>J(ae=>({...ae,title:W.target.value})),placeholder:"e.g. Discovery Call",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"Date",children:t.jsx("input",{type:"date",value:oe.date,onChange:W=>J(ae=>({...ae,date:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(Xt,{label:"Start",children:t.jsx("input",{type:"time",value:oe.startTime,onChange:W=>J(ae=>({...ae,startTime:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"End",children:t.jsx("input",{type:"time",value:oe.endTime,onChange:W=>J(ae=>({...ae,endTime:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsx(Xt,{label:"Timezone",children:t.jsx("select",{value:oe.timezone,onChange:W=>J(ae=>({...ae,timezone:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:rM.map(W=>t.jsx("option",{value:W,children:W},W))})}),oe.provider==="google"&&t.jsxs(t.Fragment,{children:[t.jsx(Xt,{label:"Calendar",children:t.jsxs("select",{value:oe.calendar_id,onChange:W=>J(ae=>({...ae,calendar_id:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Select"}),g.map(W=>t.jsxs("option",{value:W.id,children:[W.summary||W.id," ",W.primary?" (primary)":""]},W.id))]})}),t.jsx(Xt,{label:"Phone (optional)",hint:"Stored in appointments table only",children:t.jsxs("div",{className:"relative",children:[t.jsx(St,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:oe.phone,onChange:W=>J(ae=>({...ae,phone:W.target.value})),placeholder:"+92",className:"pl-9 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),t.jsx(Xt,{label:"Location (optional)",children:t.jsxs("div",{className:"relative",children:[t.jsx(ki,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:oe.location,onChange:W=>J(ae=>({...ae,location:W.target.value})),placeholder:"e.g. Google Meet",className:"pl-9 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),t.jsx(Xt,{label:"Notes (optional)",children:t.jsxs("div",{className:"relative",children:[t.jsx(aq,{className:"pointer-events-none absolute left-3 top-2 h-4 w-4 text-slate-400"}),t.jsx("textarea",{rows:3,value:oe.notes,onChange:W=>J(ae=>({...ae,notes:W.target.value})),placeholder:"Agenda, context, etc.",className:"pl-9 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})})]}),oe.provider==="calcom"&&t.jsxs(t.Fragment,{children:[t.jsx(Xt,{label:"Event Type (slug or ID)",children:t.jsx("input",{value:oe.event_type,onChange:W=>J(ae=>({...ae,event_type:W.target.value})),placeholder:"e.g. 30min",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"Attendee Name",children:t.jsx("input",{value:oe.attendee_name,onChange:W=>J(ae=>({...ae,attendee_name:W.target.value})),placeholder:"Guest name",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"Attendee Email",children:t.jsx("input",{value:oe.attendee_email,onChange:W=>J(ae=>({...ae,attendee_email:W.target.value})),placeholder:"guest@example.com",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"Location (optional)",children:t.jsx("input",{value:oe.location,onChange:W=>J(ae=>({...ae,location:W.target.value})),placeholder:"Zoom / Meet link",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"Notes (optional)",children:t.jsx("textarea",{rows:3,value:oe.notes,onChange:W=>J(ae=>({...ae,notes:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),oe.provider==="calendly"&&t.jsx("div",{className:"sm:col-span-2 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Calendly API bookings are limited. Create via your scheduling linkour webhook will mirror it into your DB."})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-between gap-2",children:[t.jsx(zt,{onClick:()=>{const W=new Date,ae=W.toISOString().slice(0,10),Ce=gt=>String(gt).padStart(2,"0"),et=gt=>new Date(W.getTime()+gt*6e4),ut=et(15),_t=et(45);J(gt=>{var Ht,qt;return{...gt,date:ae,startTime:`${Ce(ut.getHours())}:${Ce(ut.getMinutes())}`,endTime:`${Ce(_t.getHours())}:${Ce(_t.getMinutes())}`,title:gt.title||(gt.provider==="calcom"?"Cal.com Booking":"Test Meeting"),calendar_id:gt.provider==="google"&&(gt.calendar_id||((Ht=g.find(Mt=>Mt.primary))==null?void 0:Ht.id)||((qt=g[0])==null?void 0:qt.id))||""}})},className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:"Quick Fill Test Slot"}),t.jsxs("div",{className:"ml-auto flex gap-2",children:[t.jsx(zt,{onClick:()=>A(!1),variant:"subtle",children:"Close"}),t.jsx(zt,{onClick:fe,variant:"primary",disabled:U||!oe.title||!oe.date||!oe.startTime||!oe.endTime||!oe.account_id||oe.provider==="google"&&!oe.calendar_id||oe.provider==="calcom"&&(!oe.event_type||!oe.attendee_email||!oe.attendee_name),children:U?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):t.jsxs(t.Fragment,{children:[t.jsx(hn,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})]})}),t.jsx(jt,{children:z&&t.jsxs(mh,{onClose:()=>I(null),title:"Update Event (Google)",children:[t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsx(Xt,{label:"Title",children:t.jsx("input",{value:z._title,onChange:W=>I(ae=>({...ae,_title:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"Calendar",children:t.jsxs("select",{value:z._calendar,onChange:W=>I(ae=>({...ae,_calendar:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"(no change)"}),g.map(W=>t.jsxs("option",{value:W.id,children:[W.summary||W.id," ",W.primary?" (primary)":""]},W.id))]})}),t.jsx(Xt,{label:"Date",children:t.jsx("input",{type:"date",value:z._date,onChange:W=>I(ae=>({...ae,_date:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(Xt,{label:"Start",children:t.jsx("input",{type:"time",value:z._start,onChange:W=>I(ae=>({...ae,_start:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"End",children:t.jsx("input",{type:"time",value:z._end,onChange:W=>I(ae=>({...ae,_end:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsx(Xt,{label:"Timezone",children:t.jsx("select",{value:z._timezone,onChange:W=>I(ae=>({...ae,_timezone:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:rM.map(W=>t.jsx("option",{value:W,children:W},W))})}),t.jsx(Xt,{label:"Location",children:t.jsx("input",{value:z._location,onChange:W=>I(ae=>({...ae,_location:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"Phone",children:t.jsx("input",{value:z._phone,onChange:W=>I(ae=>({...ae,_phone:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"Notes",children:t.jsx("textarea",{rows:3,value:z._notes,onChange:W=>I(ae=>({...ae,_notes:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(zt,{onClick:()=>I(null),variant:"subtle",children:"Close"}),t.jsx(zt,{onClick:ht,variant:"primary",disabled:D,children:D?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Save"})]})]})}),t.jsx(jt,{children:ve&&t.jsx(lM,{onClose:()=>Ie(!1),title:"Google Free/Busy",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(Xt,{label:"Calendars to check",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(W=>{const ae=At.calendar_ids.includes(W.id);return t.jsxs("label",{className:"flex items-center gap-2 text-sm rounded-xl border border-slate-200 px-3 py-1.5",children:[t.jsx("input",{type:"checkbox",checked:ae,onChange:Ce=>{La(et=>{const ut=new Set(et.calendar_ids);return Ce.target.checked?ut.add(W.id):ut.delete(W.id),{...et,calendar_ids:Array.from(ut)}})}}),t.jsx("span",{className:"text-slate-700",children:W.summary||W.id}),W.primary&&t.jsx(yi,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Primary"})]},W.id)})})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsx(Xt,{label:"Date",children:t.jsx("input",{type:"date",value:At.date,onChange:W=>La(ae=>({...ae,date:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"Start",children:t.jsx("input",{type:"time",value:At.startTime,onChange:W=>La(ae=>({...ae,startTime:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Xt,{label:"End",children:t.jsx("input",{type:"time",value:At.endTime,onChange:W=>La(ae=>({...ae,endTime:W.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.jsx(zt,{onClick:qa,disabled:Je,variant:"primary",children:Je?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Checking"]}):t.jsxs(t.Fragment,{children:[t.jsx(wa,{className:"h-4 w-4 mr-2"})," Show Busy Blocks"]})}),ue&&t.jsxs(zt,{onClick:()=>{const W=new Date(ue.start),ae=new Date(ue.end),Ce=et=>String(et).padStart(2,"0");J(et=>{var ut,_t;return{...et,provider:"google",account_id:c,date:W.toISOString().slice(0,10),startTime:`${Ce(W.getHours())}:${Ce(W.getMinutes())}`,endTime:`${Ce(ae.getHours())}:${Ce(ae.getMinutes())}`,title:et.title||"Suggested Slot",calendar_id:et.calendar_id||((ut=g.find(gt=>gt.primary))==null?void 0:ut.id)||((_t=g[0])==null?void 0:_t.id)||""}}),A(!0),L.success("Applied suggested free slot to Create form")},className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[t.jsx(hn,{className:"h-4 w-4 mr-1"}),"Use Suggested Slot"]})]}),Ye&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Busy blocks"}),t.jsx("div",{className:"space-y-3",children:Object.entries(Ye.freebusy||{}).map(([W,ae])=>t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 overflow-hidden",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 break-all mb-2",children:W}),(ae.busy||[]).length===0?t.jsx("div",{className:"text-xs text-emerald-700",children:"No busy blocks "}):t.jsx("div",{className:"grid gap-1",children:ae.busy.map((Ce,et)=>t.jsxs("div",{className:"text-xs text-slate-700",children:[" ",Ji(Ce.start),"  ",Ji(Ce.end)]},et))})]},W))}),ue&&t.jsxs("div",{className:"mt-4 rounded-xl border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800",children:[t.jsx("b",{children:"Suggestion:"})," ",Ji(ue.start),"  ",Ji(ue.end)," (30 min)"]})]})]})})}),t.jsx(jt,{children:$&&t.jsx(lM,{onClose:()=>M(null),title:`Details  ${$.toLocaleDateString()}`,children:t.jsxs("div",{className:"space-y-4",children:[h==="google"&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Busy (live)"}),t.jsx("div",{className:"mt-2 space-y-1",children:(((at=C[fc($)])==null?void 0:at.blocks)||[]).length===0?t.jsx("div",{className:"text-xs text-emerald-700",children:"No busy blocks "}):C[fc($)].blocks.map((W,ae)=>t.jsxs("div",{className:"text-xs text-slate-700",children:[" ",Ji(W.start),"  ",Ji(W.end)]},ae))})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Events"}),t.jsx("div",{className:"mt-2 space-y-2",children:F.filter(W=>{const ae=new Date(W.start_at),Ce=_N($),et=kN($);return!(new Date(W.end_at)<Ce||ae>et)}).sort((W,ae)=>new Date(W.start_at)-new Date(ae.start_at)).map(W=>{var ae,Ce,et;return t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 break-words",children:W.title}),t.jsxs("div",{className:"text-xs text-slate-600 break-words",children:[Ji(W.start_at),"  ",Ji(W.end_at),W.location?t.jsxs(t.Fragment,{children:["  ",t.jsx("b",{children:W.location})]}):null,(Ce=(ae=W.links)==null?void 0:ae[0])!=null&&Ce.provider?t.jsxs(t.Fragment,{children:["  ",t.jsx("i",{children:W.links[0].provider})]}):null]}),t.jsx("div",{className:"mt-2 flex gap-2 flex-wrap",children:(et=W.links)!=null&&et.some(ut=>ut.provider==="google")?t.jsxs(t.Fragment,{children:[t.jsxs(zt,{size:"sm",onClick:()=>Qe(W),children:[t.jsx(du,{className:"h-4 w-4 mr-1"})," Edit"]}),t.jsxs(zt,{size:"sm",variant:"danger",onClick:()=>Ct(W.id),children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Cancel"]})]}):t.jsx("div",{className:"text-[11px] text-slate-500",children:"Edit/cancel here is available for Google-created events."})})]},W.id)})}),t.jsx("div",{className:"mt-4",children:t.jsxs(zt,{onClick:()=>{const W=fc($),ae=m||r[0];ae&&(J(Ce=>({...Ce,provider:ae.provider,account_id:ae.id,date:W,startTime:"09:00",endTime:"09:30",calendar_id:ae.provider==="google"?j||Ce.calendar_id:"",title:Ce.title||(ae.provider==="calcom"?"Cal.com Booking":"New meeting")})),A(!0))},variant:"primary",children:[t.jsx(hn,{className:"h-4 w-4 mr-1"})," Create on ",hge($)]})})]})]})})})]})}function jge({date:e,compact:a,busyMap:s,events:n,eventsLoading:r,onDayClick:l,onOpenDay:c}){const u=e.getFullYear(),m=e.getMonth(),h=new Date(u,m+1,0).getDate(),f=x.useMemo(()=>Array.from({length:h},(b,v)=>new Date(u,m,v+1)),[u,m,h]),g=x.useMemo(()=>{const b={},v=w=>[new Date(w.start_at).toISOString(),new Date(w.end_at).toISOString(),(w.title||"").trim().toLowerCase(),(w.location||"").trim().toLowerCase()].join("|");return(n||[]).forEach(w=>{const j=new Date(w.start_at),S=new Date(w.end_at),k=new Date(u,m,1),_=new Date(u,m,h,23,59,59,999);if(S<k||j>_)return;const C=new Date(Math.max(_N(j),k)),T=new Date(Math.min(kN(S),_));for(;C<=T;){const O=fc(C);b[O]||(b[O]=[]);const E=v(w);b[O].some($=>v($)===E)||b[O].push(w),C.setDate(C.getDate()+1)}}),Object.values(b).forEach(w=>w.sort((j,S)=>new Date(j.start_at)-new Date(S.start_at))),b},[n,u,m,h]);return t.jsxs("div",{className:"p-2 sm:p-4 w-full overflow-x-hidden",children:[t.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 w-full",children:f.map((b,v)=>{var O;const j=vge(b,new Date),S=fc(b),k=((O=s==null?void 0:s[S])==null?void 0:O.count)||0,_=g[S]||[],C=a?"min-h-[72px] sm:min-h-[88px]":"min-h-[110px] sm:min-h-[130px]",T=b.toLocaleString(void 0,{weekday:"short"});return t.jsxs(he.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.2},className:`${C} relative rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden group cursor-pointer ${j?"ring-2 ring-blue-500":""} min-w-0`,onClick:()=>l&&l(b),children:[t.jsxs("div",{className:"flex items-center justify-between px-2.5 pt-1.5",children:[t.jsx("div",{className:"flex items-center gap-1.5",children:k>0?t.jsxs(yi,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[k," busy"]}):t.jsx(yi,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Free"})}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"hidden xs:inline text-[10px] text-slate-400",children:T}),t.jsx("button",{className:"hidden sm:inline-flex rounded-lg p-1 text-slate-500 hover:bg-slate-100",title:"Open day details",onClick:E=>{E.stopPropagation(),c&&c(b)},children:t.jsx(wa,{className:"h-3.5 w-3.5"})}),t.jsx("div",{className:`h-6 w-6 grid place-content-center rounded-md text-[11px] font-bold ${j?"bg-blue-600 text-white":"text-slate-700 bg-slate-100"}`,children:b.getDate()})]})]}),t.jsx("div",{className:`px-2.5 pb-2 ${a?"mt-1":"mt-2"}`,children:_.length===0?t.jsx("div",{className:"text-[11px] text-slate-400 italic",children:"No events"}):t.jsx(t.Fragment,{children:(()=>{const E=a?3:5,$=_.slice(0,E);return t.jsxs(t.Fragment,{children:[$.map(M=>{var ee,we;const H=new Date(M.start_at),V=new Date(M.end_at),F=`${H.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}${V.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}`,B=((we=(ee=M.links)==null?void 0:ee[0])==null?void 0:we.provider)||M.provider||M.links&&M.links[0]&&M.links[0].provider||"";return t.jsxs("div",{className:"mb-1.5 last:mb-0 rounded-lg border border-slate-200 bg-slate-50 px-2 py-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 min-w-0",children:[t.jsx("div",{className:"text-[11px] font-semibold text-slate-800 truncate",children:M.title||"Untitled"}),B?t.jsx(yi,{className:"border bg-white text-slate-700 border-slate-200 capitalize",children:B}):null]}),t.jsxs("div",{className:"mt-0.5 text-[11px] text-slate-600 truncate",children:[F,M.location?t.jsxs(t.Fragment,{children:["  ",t.jsx("span",{className:"font-medium",children:M.location})]}):null]})]},`${M.id||M.title}-${M.start_at}`)}),_.length>E&&t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["+",_.length-E," more"]})]})})()})}),t.jsxs("button",{className:"absolute bottom-1 right-1 inline-flex sm:hidden items-center gap-1 rounded-lg bg-white/70 backdrop-blur px-2 py-1 text-[10px] text-slate-700 border border-slate-200",onClick:E=>{E.stopPropagation(),c&&c(b)},children:[t.jsx(wa,{className:"h-3.5 w-3.5"}),"Details"]})]},S)})}),r&&t.jsx("div",{className:"mt-3 text-center text-xs text-slate-500",children:"Loading events"})]})}function sp({label:e,value:a,Icon:s,tone:n="blue"}){const r=n==="cyan"?"text-cyan-600":"text-blue-600",l=n==="cyan"?"ring-cyan-200":"ring-blue-200";return t.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`grid h-10 w-10 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ${l} shadow-inner`,children:s?t.jsx(s,{className:`h-5 w-5 ${r}`}):null}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-semibold text-slate-500",children:e}),t.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-slate-900",children:a})]})]})})}const wge="modulepreload",Nge=function(e){return"/"+e},oM={},Sge=function(a,s,n){let r=Promise.resolve();if(s&&s.length>0){let c=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=c(s.map(h=>{if(h=Nge(h),h in oM)return;oM[h]=!0;const f=h.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":wge,f||(b.as="script"),b.crossOrigin="",b.href=h,m&&b.setAttribute("nonce",m),document.head.appendChild(b),f)return new Promise((v,w)=>{b.addEventListener("load",v),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return r.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return a().catch(l)})},_ge={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://13.60.203.103"},np=import.meta&&_ge&&"http://13.60.203.103"||"http://localhost:8000",rp={LOCAL:`${np}/api/me/call-logs`,LOCAL_EXPORT:`${np}/api/me/call-logs/export.csv`,VAPI_ONE:e=>`${np}/api/me/vapi-call-logs/${encodeURIComponent(e)}`,VAPI_LIST:`${np}/api/me/vapi-call-logs`},kge="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function bu(e){return e==null||typeof e=="string"&&e.trim()===""}function Xs(e,a="Unknown"){return bu(e)?a:e}function qd(e){if(bu(e))return"Unknown";try{const a=new Date(e);return Number.isNaN(a.getTime())?"Unknown":new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}).format(a)}catch{return"Unknown"}}function hh(e){const a=Number(e);if(Number.isNaN(a))return"Unknown";const s=Math.max(0,Math.floor(a)),n=Math.floor(s/3600),r=Math.floor(s%3600/60),l=s%60,c=u=>u<10?`0${u}`:`${u}`;return n>0?`${n}:${c(r)}:${c(l)}`:`${r}:${c(l)}`}function Ru(...e){return e.filter(Boolean).join(" ")}async function ip(e){try{await navigator.clipboard.writeText(e),L.success("Copied")}catch{L.error("Copy failed")}}function Cge(e){if(!e)return null;let a=e.successEvaluation;if(a==null)return null;if(typeof a=="boolean")return a;if(typeof a=="string"){const s=a.trim().toLowerCase();if(s==="true")return!0;if(s==="false")return!1}return null}function Dw(e,a){var l,c,u;const s=e==null?void 0:e.status,n=(e==null?void 0:e.call_id)&&((l=a[e.call_id])==null?void 0:l.status)||(e==null?void 0:e.callId)&&((c=a[e.callId])==null?void 0:c.status),r=(e==null?void 0:e.id)&&((u=a[e.id])==null?void 0:u.status);return s||n||r||null}function Age(e){const a=String(e||"").toLowerCase();return{booked:"bg-emerald-100 text-emerald-700 border-emerald-200","follow-up needed":"bg-amber-100 text-amber-700 border-amber-200","not interested":"bg-slate-200 text-slate-700 border-slate-300","no answer":"bg-orange-100 text-orange-700 border-orange-200","voice mail":"bg-violet-100 text-violet-700 border-violet-200","failed to call":"bg-rose-100 text-rose-700 border-rose-200","transferred to human":"bg-cyan-100 text-cyan-700 border-cyan-200"}[a]||"bg-slate-100 text-slate-700 border-slate-200"}function Lw(){const e=new Date,a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${a}-${s}-${n}`}function Ege(){const e=new Date,a=e.getDay(),s=(a===0?-6:1)-a;e.setDate(e.getDate()+s);const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${l}`}function Tge(){const e=new Date,a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0");return`${a}-${s}-01`}function bs({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:Ru(l,c[n],u[s],"shrink-0",a),children:e})}function cM({children:e,className:a=""}){return t.jsx("span",{className:Ru("inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold border",a),children:e})}function Gd({children:e}){return t.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Kd({children:e}){return t.jsx("td",{className:"px-4 py-3 align-middle",children:e})}function Oge({name:e="?",size:a=34}){const s=(e||"?").split(" ").map(n=>n.charAt(0)).join("").toUpperCase().slice(0,2);return t.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:a,height:a},title:e,children:t.jsx("span",{style:{fontSize:a<40?12:13},children:s})})}function ln({label:e,value:a,mono:s=!1}){return t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),t.jsx("div",{className:Ru("mt-0.5 text-sm text-slate-800 break-words",s&&"font-mono"),children:bu(a)?"Unknown":a})]})}function Pge({open:e,onClose:a,title:s,children:n}){return t.jsx(jt,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a}),t.jsxs(he.aside,{className:"fixed right-0 top-0 bottom-0 z-50 w-full max-w-[40rem] bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:260,damping:26},children:[t.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(bs,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:""})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-3 sm:px-5 py-4",children:n})]})]})})}function Mge({src:e}){const a=x.useRef(null),s=x.useRef(null),[n,r]=x.useState(!1),[l,c]=x.useState(!1);x.useEffect(()=>{let m,h=!1;async function f(){try{const g=(await Sge(async()=>{const{default:b}=await import("./wavesurfer.esm-CqRJ-EAx.js");return{default:b}},[])).default;if(h)return;m=g.create({container:a.current,waveColor:"#93c5fd",progressColor:"#2563eb",cursorColor:"#64748b",height:64,barWidth:2,responsive:!0}),s.current=m,m.on("ready",()=>r(!0)),m.on("finish",()=>c(!1)),m.load(e)}catch{}}return f(),()=>{h=!0;try{m&&m.destroy()}catch{}s.current=null}},[e]);const u=()=>{s.current&&(s.current.playPause(),c(s.current.isPlaying()))};return t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[t.jsx("div",{ref:a,className:"w-full"}),!n&&t.jsx("div",{className:"mt-2",children:t.jsx("audio",{controls:!0,className:"w-full",children:t.jsx("source",{src:e})})}),n&&t.jsx("div",{className:"mt-2",children:t.jsxs(bs,{onClick:u,size:"sm",variant:"primary",children:[t.jsx(tf,{className:"h-4 w-4 mr-1"}),l?"Pause":"Play"]})})]})}function lp({label:e,value:a,Icon:s,tone:n="blue",className:r=""}){const l=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:250,damping:22},className:Ru("relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",r),children:[t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:Ru("flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br text-white shadow-inner ring-1",c,l),children:t.jsx(s,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function Dge(){var ie,De;const[e,a]=x.useState([]),[s,n]=x.useState(0),[r,l]=x.useState(1),[c,u]=x.useState(25),[m,h]=x.useState(!1),[f,g]=x.useState(""),[b,v]=x.useState("all"),[w,j]=x.useState("all"),[S,k]=x.useState(""),[_,C]=x.useState(""),[T,O]=x.useState("all"),[E,$]=x.useState(""),[M,H]=x.useState(""),[V,F]=x.useState("latest"),[B,ee]=x.useState("started"),[we,ne]=x.useState(!1),[A,U]=x.useState(null),[K,z]=x.useState(!1),[I,D]=x.useState({}),R=x.useMemo(()=>{if(typeof window>"u")return null;try{return localStorage.getItem("token")}catch{return null}},[]),Z=x.useMemo(()=>({Authorization:R?`Bearer ${R}`:"",Accept:"application/json"}),[R]),de=x.useCallback(async()=>{var G;if(!R){a([]),n(0),L.error("No authentication token found.");return}try{h(!0);const ce=new URLSearchParams;ce.set("page",String(r)),ce.set("page_size",String(c)),ce.set("sort",V),ce.set("sort_by",B),f.trim()&&ce.set("q",f.trim()),b!=="all"&&ce.set("status",b),w!=="all"&&ce.set("transferred",String(w==="transferred")),S&&ce.set("date_from",S),_&&ce.set("date_to",_),T!=="all"&&ce.set("has_recording",String(T==="yes")),E&&ce.set("min_duration",E),M&&ce.set("max_duration",M);const $e=await fetch(`${rp.LOCAL}?${ce.toString()}`,{headers:Z}),qe=await $e.json();if(!$e.ok||!(qe!=null&&qe.success))throw new Error((qe==null?void 0:qe.detail)||(qe==null?void 0:qe.message)||`HTTP ${$e.status}`);a(Array.isArray(qe.logs)?qe.logs:[]),n(((G=qe==null?void 0:qe.pagination)==null?void 0:G.total)??0);try{const ye=new URLSearchParams;S&&ye.set("date_from",S),_&&ye.set("date_to",_),ye.set("page","1"),ye.set("page_size","200");const Be=await fetch(`${rp.VAPI_LIST}?${ye.toString()}`,{headers:Z}),_e=await Be.json();if(Be.ok&&(_e!=null&&_e.success)&&Array.isArray(_e.logs)){const te={};for(const Y of _e.logs)Y!=null&&Y.id&&(te[Y.id]=Y);D(te)}else D({})}catch{D({})}}catch(ce){L.error((ce==null?void 0:ce.message)||"Failed to load call logs"),a([]),n(0),D({})}finally{h(!1)}},[R,Z,r,c,f,b,w,S,_,T,E,M,V,B]);x.useEffect(()=>{de()},[de]),x.useEffect(()=>{l(1)},[f,b,w,S,_,T,E,M,V,B]);const le=x.useMemo(()=>{const G=new Set([...(e||[]).map(ce=>(ce.status||"").trim()).filter(Boolean),...Object.values(I).map(ce=>((ce==null?void 0:ce.status)||"").trim()).filter(Boolean)]);return["all",...Array.from(G).sort()]},[e,I]),be=x.useMemo(()=>{const G=e.length,ce=e.filter(ye=>ye.is_transferred).length,$e=G-ce,qe=(()=>{if(!G)return"Unknown";let ye=0,Be=0;for(const _e of e){const te=(_e==null?void 0:_e.call_duration)??(_e==null?void 0:_e.duration);Number.isNaN(Number(te))||(ye+=Number(te),Be++)}return Be?hh(ye/Be):"Unknown"})();return{count:G,transferredCount:ce,notTransferred:$e,avgDur:qe}},[e]),Ue=x.useCallback(async G=>{U(G),ne(!0);const ce=(G==null?void 0:G.call_id)||(G==null?void 0:G.callId);if(ce)try{z(!0);const $e=await fetch(rp.VAPI_ONE(ce),{headers:Z});if(!$e.ok){z(!1);return}const qe=await $e.json();U(ye=>{const Be={...ye},_e=[["status","status"],["duration","duration"],["started_at","startedAt"],["ended_at","endedAt"],["ended_reason","endedReason"],["assistant_id","assistantId"],["phone_number_id","phoneNumberId"],["customer_name","customerName"],["customer_number","customerNumber"],["recordingUrl","recordingUrl"],["summary","summary"],["transcript","transcript"],["analysis","analysis"],["call_id","callId"]];for(const[te,Y]of _e){const Se=Be[te]!==void 0&&Be[te]!==null&&Be[te]!=="",me=qe[Y];!Se&&me!==void 0&&(Be[te]=me)}return qe.startedAt&&!Be.started_at&&(Be.started_at=qe.startedAt),qe.endedAt&&!Be.ended_at&&(Be.ended_at=qe.endedAt),Be.recording_url=Be.recording_url||Be.recordingUrl||qe.recordingUrl||null,Be.recordingUrl=Be.recording_url,Be})}catch{}finally{z(!1)}},[Z]),xe=async()=>{try{if(!R)return L.error("No authentication token found.");const G=new URLSearchParams;f.trim()&&G.set("q",f.trim()),b!=="all"&&G.set("status",b),w!=="all"&&G.set("transferred",String(w==="transferred")),S&&G.set("date_from",S),_&&G.set("date_to",_),T!=="all"&&G.set("has_recording",String(T==="yes")),E&&G.set("min_duration",E),M&&G.set("max_duration",M);const ce=await fetch(`${rp.LOCAL_EXPORT}?${G.toString()}`,{headers:Z});if(!ce.ok)throw new Error(`HTTP ${ce.status}`);const $e=await ce.blob(),qe=window.URL.createObjectURL($e),ye=document.createElement("a");ye.href=qe,ye.download="my_call_logs.csv",document.body.appendChild(ye),ye.click(),ye.remove(),window.URL.revokeObjectURL(qe)}catch(G){L.error((G==null?void 0:G.message)||"Export failed")}},ve=()=>{const G=Lw();k(G),C(G)},Ie=()=>{k(Ege()),C(Lw())},Ye=()=>{k(Tge()),C(Lw())},ke=()=>{k(""),C("")},Je=G=>{const ce=Xs(G);return t.jsxs(cM,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:[t.jsx(mn,{className:"mr-1 h-3.5 w-3.5"}),ce]})},Xe=G=>{const ce=Xs(G),$e=Age(G);return t.jsx(cM,{className:Ru($e),children:ce})},ue=t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(St,{className:"h-6 w-6 sm:h-7 w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${kge}`,children:"My Calls"})}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Minimal list with CallOutcome. Click ",t.jsx("b",{children:"View"})," to see details, recording, transcript, analysis."]})]})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:t.jsx(bs,{onClick:de,title:"Refresh",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]});return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w_full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[ue,t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[t.jsx(Us,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:f,onChange:G=>g(G.target.value),placeholder:"Search name, number, call id",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500",children:[t.jsx(_i,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("select",{value:b,onChange:G=>v(G.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:le.map(G=>t.jsx("option",{value:G,children:G==="all"?"All statuses":G},G))}),t.jsxs("select",{value:w,onChange:G=>j(G.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"All transfer states"}),t.jsx("option",{value:"transferred",children:"Transferred"}),t.jsx("option",{value:"not_transferred",children:"Not transferred"})]}),t.jsxs("select",{value:T,onChange:G=>O(G.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"Has recording",children:[t.jsx("option",{value:"all",children:"Recording: Any"}),t.jsx("option",{value:"yes",children:"Recording: Yes"}),t.jsx("option",{value:"no",children:"Recording: No"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-xs font-semibold uppercase",children:[t.jsx(Sr,{className:"h-4 w-4"}),"Quick Filters"]}),t.jsx(bs,{onClick:ve,size:"sm",children:"Today"}),t.jsx(bs,{onClick:Ie,size:"sm",children:"This Week"}),t.jsx(bs,{onClick:Ye,size:"sm",children:"This Month"}),t.jsx(bs,{onClick:ke,size:"sm",variant:"subtle",children:"Clear"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"date",value:S,onChange:G=>k(G.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"From"}),t.jsx("span",{className:"text-slate-500 text-xs",children:"to"}),t.jsx("input",{type:"date",value:_,onChange:G=>C(G.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"To"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",inputMode:"decimal",step:"0.1",min:"0",placeholder:"Min sec",value:E,onChange:G=>$(G.target.value),className:"w-24 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"Min duration (sec)"}),t.jsx("input",{type:"number",inputMode:"decimal",step:"0.1",min:"0",placeholder:"Max sec",value:M,onChange:G=>H(G.target.value),className:"w-24 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"Max duration (sec)"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:B,onChange:G=>ee(G.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"Sort by",children:[t.jsx("option",{value:"started",children:"Sort by: Started"}),t.jsx("option",{value:"duration",children:"Sort by: Duration"})]}),t.jsx(bs,{onClick:()=>F(G=>G==="latest"?"oldest":"latest"),title:`Order: ${V}`,children:V==="latest"?t.jsxs(t.Fragment,{children:[t.jsx(KF,{className:"h-4 w-4 mr-1"})," NewOld"]}):t.jsxs(t.Fragment,{children:[t.jsx(ZF,{className:"h-4 w-4 mr-1"})," OldNew"]})})]}),t.jsxs(bs,{onClick:xe,variant:"primary",title:"Export CSV",children:[t.jsx(cl,{className:"h-4 w-4 mr-2"})," Export"]}),(f||b!=="all"||w!=="all"||T!=="all"||S||_||E||M)&&t.jsx(bs,{onClick:()=>{g(""),v("all"),j("all"),O("all"),k(""),C(""),$(""),H("")},className:"text-slate-700",children:"Clear All"})]})]})}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(lp,{label:"Rows (page)",value:be.count,Icon:Yr,tone:"blue"}),t.jsx(lp,{label:"Transferred (page)",value:be.transferredCount,Icon:ra,tone:"cyan"}),t.jsx(lp,{label:"Not Transferred (page)",value:be.notTransferred,Icon:Mn,tone:"blue"}),t.jsx(lp,{label:"Avg Duration (page)",value:be.avgDur,Icon:t2,tone:"cyan"})]}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(Yr,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["Local Call Logs (",s,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"DB (user-scoped)"]})]}),m?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading"})]}):e.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(Yr,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try adjusting filters"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden lg:block",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full min-w-[900px]",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Gd,{children:"Customer"}),t.jsx(Gd,{children:"Number"}),t.jsx(Gd,{children:"CallOutcome"}),t.jsx(Gd,{children:"Duration"}),t.jsx(Gd,{children:"Started"}),t.jsx(Gd,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(G=>{const ce=Dw(G,I);return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(Kd,{children:t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx(Oge,{name:Xs(G.customer_name,"Customer")}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate max-w-[280px]",children:Xs(G.customer_name)}),t.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:Xs(G.call_id)})]})]})}),t.jsx(Kd,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 break-all",children:Xs(G.customer_number)}),!bu(G.customer_number)&&t.jsx(bs,{size:"sm",onClick:()=>ip(String(G.customer_number)),title:"Copy number",children:t.jsx(la,{className:"h-3.5 w-3.5"})})]})}),t.jsx(Kd,{children:Xe(ce)}),t.jsx(Kd,{children:t.jsx("div",{className:"text-xs font-semibold text-slate-800",children:hh(G.call_duration??G.duration)})}),t.jsx(Kd,{children:t.jsx("div",{className:"text-xs text-slate-700",children:qd(G.call_started_at)})}),t.jsx(Kd,{children:t.jsx("div",{className:"flex flex-wrap gap-2",children:t.jsxs(bs,{onClick:()=>Ue(G),size:"sm",title:"View details",children:[t.jsx(wa,{className:"h-4 w-4 mr-1"})," View"]})})})]},G.id)})})]})})}),t.jsx("div",{className:"lg:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:e.map(G=>{const ce=Dw(G,I);return t.jsx("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:Xs(G.customer_name)}),t.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:Xs(G.call_id)}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0 col-span-2",children:[t.jsx(BN,{className:"h-4 w-4 text-slate-500"}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"truncate font-semibold flex items-center gap-2",children:[Xs(G.customer_number),!bu(G.customer_number)&&t.jsx("button",{onClick:()=>ip(String(G.customer_number)),className:"inline-flex rounded-lg border border-slate-300 px-2 py-1 text-[11px] hover:bg-slate-50",title:"Copy number",children:t.jsx(la,{className:"h-3.5 w-3.5"})})]}),t.jsx("div",{className:"text-xs text-slate-500 truncate",children:qd(G.call_started_at)})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(t2,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium",children:hh(G.call_duration??G.duration)})]}),t.jsx("div",{className:"flex items-center gap-2",children:Xe(ce)})]}),t.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.jsxs(bs,{onClick:()=>Ue(G),size:"sm",className:"grow sm:grow-0",children:[t.jsx(wa,{className:"h-4 w-4 mr-1"})," View"]})})]})},G.id)})})}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",t.jsx("b",{children:r})," of ",t.jsx("b",{children:Math.max(1,Math.ceil(s/c))}),"  Total ",t.jsx("b",{children:s})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-slate-500",children:"Rows per page"}),t.jsx("select",{value:c,onChange:G=>{u(Number(G.target.value)),l(1)},className:"rounded-xl border border-slate-200 bg-white px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100,200].map(G=>t.jsx("option",{value:G,children:G},G))})]})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(bs,{onClick:()=>l(G=>Math.max(1,G-1)),disabled:r===1,children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"})," Prev"]}),t.jsxs(bs,{onClick:()=>l(G=>Math.min(Math.max(1,Math.ceil(s/c)),G+1)),disabled:r>=Math.max(1,Math.ceil(s/c)),children:["Next ",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(Pge,{open:we,onClose:()=>{ne(!1),U(null),z(!1)},title:"Call View",children:A?t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"rounded-2xl border border-slate-200 p-3 bg-white",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Call"}),K&&t.jsxs("div",{className:"text-xs text-slate-500 inline-flex items-center gap-1",children:[t.jsx(Ze,{className:"h-3.5 w-3.5 animate-spin"}),"Fetching VAPI details"]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsx(ln,{label:"Customer Name",value:Xs(A.customer_name||A.customerName)}),t.jsx(ln,{label:"Customer Number",value:t.jsxs("span",{className:"inline-flex items-center gap-2 break-all",children:[Xs(A.customer_number||A.customerNumber),!bu(A.customer_number||A.customerNumber)&&t.jsx("button",{onClick:()=>ip(String(A.customer_number||A.customerNumber)),className:"inline-flex rounded-lg border border-slate-300 px-2 py-1 text-[11px] hover:bg-slate-50",title:"Copy number",children:t.jsx(la,{className:"h-3.5 w-3.5"})})]})}),t.jsx(ln,{label:"Call ID",value:Xs(A.call_id||A.callId),mono:!0}),t.jsx(ln,{label:"Status",value:Xe(Dw(A,I))}),t.jsx(ln,{label:"Duration (local)",value:hh(A.call_duration)}),t.jsx(ln,{label:"Duration (VAPI)",value:hh(A.duration)}),t.jsx(ln,{label:"Started (local)",value:qd(A.call_started_at)}),t.jsx(ln,{label:"Ended (local)",value:qd(A.call_ended_at)}),t.jsx(ln,{label:"Started (VAPI)",value:qd(A.started_at||A.startedAt)}),t.jsx(ln,{label:"Ended (VAPI)",value:qd(A.ended_at||A.endedAt)}),t.jsx(ln,{label:"Ended Reason",value:Je(A.ended_reason||A.call_ended_reason||((ie=I[A==null?void 0:A.call_id])==null?void 0:ie.endedReason)||((De=I[A==null?void 0:A.callId])==null?void 0:De.endedReason)||null)}),t.jsx(ln,{label:"Transferred",value:A.is_transferred||A.isTransferred?"Yes":"No"}),t.jsx(ln,{label:"Assistant ID",value:Xs(A.assistant_id||A.assistantId),mono:!0}),t.jsx(ln,{label:"Phone Number ID",value:Xs(A.phone_number_id||A.phoneNumberId),mono:!0}),t.jsx(ln,{label:"Success Evaluation",value:(()=>{const G=I[A==null?void 0:A.call_id]||I[A==null?void 0:A.callId]||I[A==null?void 0:A.id],ce=Cge(A.analysis||(G==null?void 0:G.analysis));return ce===!0?"Interested":ce===!1?"Not Interested":"Unknown"})()})]}),(A.recording_url||A.recordingUrl)&&t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-slate-800 font-semibold mb-2",children:[t.jsx(tf,{className:"h-5 w-5 text-blue-600"}),"Recording"]}),t.jsx(Mge,{src:A.recording_url||A.recordingUrl}),t.jsx("div",{className:"mt-2 flex gap-2",children:(A.call_id||A.callId)&&t.jsxs(bs,{size:"sm",onClick:()=>ip(String(A.call_id||A.callId)),children:[t.jsx(la,{className:"h-4 w-4 mr-1"})," Copy Call ID"]})})]}),A.summary&&t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-slate-800 font-semibold",children:"Summary"}),t.jsxs(bs,{size:"sm",onClick:()=>{const G=typeof A.summary=="string"?A.summary:JSON.stringify(A.summary,null,2),ce=new Blob([G],{type:"text/plain;charset=utf-8"}),$e=URL.createObjectURL(ce),qe=document.createElement("a");qe.href=$e,qe.download=`summary_${Xs(A.call_id||A.callId,"call")}.txt`,qe.click(),URL.revokeObjectURL($e)},children:[t.jsx(cl,{className:"h-4 w-4 mr-1"})," Download .txt"]})]}),t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-slate-700 max-h-72 overflow-auto",children:typeof A.summary=="string"?A.summary:JSON.stringify(A.summary,null,2)})]}),A.transcript&&t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-slate-800 font-semibold",children:"Transcript"}),t.jsxs(bs,{size:"sm",onClick:()=>{const G=typeof A.transcript=="string"?A.transcript:JSON.stringify(A.transcript,null,2),ce=new Blob([G],{type:"text/plain;charset=utf-8"}),$e=URL.createObjectURL(ce),qe=document.createElement("a");qe.href=$e,qe.download=`transcript_${Xs(A.call_id||A.callId,"call")}.txt`,qe.click(),URL.revokeObjectURL($e)},children:[t.jsx(cl,{className:"h-4 w-4 mr-1"})," Download .txt"]})]}),t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-slate-700 max-h-72 overflow-auto",children:typeof A.transcript=="string"?A.transcript:JSON.stringify(A.transcript,null,2)})]}),A.analysis&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 mt-3",children:[t.jsx("div",{className:"text-slate-800 font-semibold mb-1",children:"Analysis"}),t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-slate-700 max-h-72 overflow-auto",children:typeof A.analysis=="string"?A.analysis:JSON.stringify(A.analysis,null,2)})]})]})}):t.jsx("div",{className:"text-sm text-slate-600",children:"No call selected."})})]})}const Lge="http://13.60.203.103",Ua={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",green:"#10b981",red:"#ef4444",amber:"#f59e0b"},dI="bg-gradient-to-r from-cyan-500 to-blue-600",Qi=(e=0)=>`$${(Number(e||0)/100).toFixed(2)}`,Ur=(e=0)=>Number(e||0).toLocaleString(),Qo=(e={},a=n=>n,s=n=>n)=>Object.entries(e).map(([n,r])=>({label:a(n),value:s(r)})),so=(e={},a="label",s="value")=>Object.entries(e).map(([n,r])=>({[a]:n,[s]:Number(r||0)}));function Rge(){const[e,a]=x.useState({width:null,height:null});return x.useEffect(()=>{function s(){a({width:window.innerWidth,height:window.innerHeight})}return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),e}function $ge(){var de,le,be,Ue,xe,ve,Ie,Ye,ke,Je,Xe,ue,ie,De,G,ce,$e,qe,ye,Be;const[e,a]=x.useState(null),[s,n]=x.useState(30),[r,l]=x.useState(90),[c,u]=x.useState(!0),[m,h]=x.useState(""),{width:f}=Rge(),b=!((f||0)>=1024),v=async()=>{try{u(!0),h("");const _e=localStorage.getItem("token"),te=`${Lge}/api/advanced-statistics?days=${s}&days_long=${r}&recent_limit=10`,Y=await fetch(te,{headers:{Accept:"application/json",..._e?{Authorization:`Bearer ${_e}`}:{}}});if(!Y.ok){const me=await Y.text();throw new Error(`HTTP ${Y.status}${me?`  ${me}`:""}`)}const Se=await Y.json();a(Se)}catch(_e){const te=_e&&_e.message||"Failed to load advanced stats";h(te)}finally{u(!1)}};x.useEffect(()=>{v()},[s,r]);const w=(e==null?void 0:e.totals)||{},j=(e==null?void 0:e.calls)||{},S=(e==null?void 0:e.wallet)||{},k=(e==null?void 0:e.messages)||{},_=(e==null?void 0:e.appointments)||{},C=(e==null?void 0:e.campaigns)||{},T=(e==null?void 0:e.files_and_leads)||{},O=(e==null?void 0:e.numbers_and_calendar)||{},E=(e==null?void 0:e.forms)||{},$=(e==null?void 0:e.derived_kpis)||{},M=Qo(((de=j==null?void 0:j.timeseries)==null?void 0:de.per_day_count)||{}),H=Qo(((le=j==null?void 0:j.timeseries)==null?void 0:le.per_day_duration_seconds)||{}),V=Qo(((be=j==null?void 0:j.timeseries)==null?void 0:be.per_day_cost)||{}),F=Qo(((Ue=S==null?void 0:S[`timeseries_${r}d`])==null?void 0:Ue.credit_per_day_cents)||{}),B=Qo(((xe=S==null?void 0:S[`timeseries_${r}d`])==null?void 0:xe.spend_per_day_cents)||{}),ee=Qo(((ve=T==null?void 0:T.leads_timeseries)==null?void 0:ve.per_day_count)||{}),we=Qo(((Ie=k==null?void 0:k.timeseries)==null?void 0:Ie.per_day_count)||{}),ne=so(((Ye=j==null?void 0:j.lifetime)==null?void 0:Ye.status_breakdown)||{},"name","value"),A=so(((ke=j==null?void 0:j.lifetime)==null?void 0:ke.ended_reason_breakdown)||{},"name","value");so((S==null?void 0:S.kinds_breakdown_cents)||{},"name","value");const U=so((C==null?void 0:C.by_status)||{},"name","value"),K=so(((Je=C==null?void 0:C.lead_progress)==null?void 0:Je.status_breakdown)||{},"name","value"),z=so((O==null?void 0:O.numbers_by_country)||{},"name","value"),I=so((O==null?void 0:O.calendar_by_provider)||{},"name","value"),D=so((E==null?void 0:E.by_status)||{},"name","value"),R=x.useMemo(()=>[{key:"files",label:"Files",value:w.files||0,icon:Yr,color:Ua.sky},{key:"leads",label:"Leads",value:w.leads||0,icon:Za,color:Ua.blue},{key:"assistants",label:"Assistants",value:w.assistants||0,icon:Ug,color:Ua.cyan},{key:"numbers",label:"Phone Numbers",value:w.phone_numbers||0,icon:St,color:Ua.sky},{key:"kb",label:"Knowledge Base",value:w.knowledge_base_docs||0,icon:ho,color:Ua.blue},{key:"balance",label:"Wallet Balance",value:Qi(w.balance_cents||0),icon:mG,color:Ua.green,isMoney:!0},{key:"bonus",label:"Bonus",value:Qi(w.bonus_cents||0),icon:QV,color:Ua.amber,isMoney:!0}],[w]),Z=[{label:"Avg Daily Calls",value:$.avg_daily_calls||0,icon:gH,color:Ua.sky},{label:"Avg Call Cost",value:`$${Number($.avg_call_cost||0).toFixed(4)}`,icon:hD,color:Ua.blue},{label:"Completed Calls",value:$.completed_calls||0,icon:Tc,color:Ua.cyan}];return t.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[m&&t.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:m}),t.jsx(Ige,{}),t.jsx("header",{className:"w-full px-4 md:px-8 pt-10 pb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx(he.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-blue-700",children:"Advanced Analytics"}),t.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Deep insights for calls, wallet, messages, campaigns, and more."})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(dM,{label:"Days",value:s,onChange:n,options:[7,14,30,60,90]}),t.jsx(dM,{label:"Long Window",value:r,onChange:l,options:[30,60,90,180,365]}),t.jsx("button",{onClick:v,className:"h-10 rounded-xl border border-slate-300 bg-white px-3 text-sm font-semibold hover:bg-slate-50",children:"Refresh"})]})]})}),t.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[t.jsx("section",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-7",children:R.map(_e=>t.jsx(Bge,{label:_e.label,value:_e.value,icon:_e.icon,color:_e.color,loading:c},_e.key))}),t.jsx("section",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:Z.map(_e=>t.jsx(Uge,{..._e,loading:c},_e.label))}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsx(Ya,{title:"Calls per Day",children:t.jsx(fh,{data:M,compact:b})}),t.jsx(Ya,{title:"Call Duration per Day (sec)",children:t.jsx(fh,{data:H,compact:b})}),t.jsx(Ya,{title:"Call Cost per Day (USD)",children:t.jsx(fh,{data:V.map(_e=>({..._e,value:Number(_e.value||0)})),compact:b,formatter:_e=>`$${Number(_e||0).toFixed(2)}`})}),t.jsx(Ya,{title:"Call Status Breakdown",className:"xl:col-span-2",children:t.jsx(ec,{data:ne,color:Ua.blue,compact:b})}),t.jsx(Ya,{title:"End Reason Breakdown",children:t.jsx(ec,{data:A,color:Ua.sky,compact:b})}),t.jsx(Ya,{title:"Recent Calls",className:"xl:col-span-3",children:t.jsx(xh,{emptyText:"No calls yet.",headers:["Started","Number","Name","Status","Duration (s)","Cost ($)","Ended Reason","Transferred"],rows:((j==null?void 0:j.recent)||[]).map(_e=>[ph(_e.call_started_at),_e.customer_number||"-",_e.customer_name||"-",_e.status||"-",Number(_e.call_duration||0).toFixed(0),Number(_e.cost||0).toFixed(2),_e.call_ended_reason||"-",_e.is_transferred?"Yes":"No"]),loading:c})})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsx(Ya,{title:`Wallet (${r}d)  Credits vs Spend`,className:"xl:col-span-2",children:t.jsx(Fge,{series:[{name:"Credit",color:Ua.green,data:F},{name:"Spend",color:Ua.red,data:B}],compact:b,formatter:_e=>Qi(_e)})}),t.jsx(Ya,{title:"Wallet Totals & Averages",children:t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[t.jsx(Fr,{label:"Lifetime Credited",value:Qi((Xe=S==null?void 0:S.lifetime)==null?void 0:Xe.credited_cents)}),t.jsx(Fr,{label:"Lifetime Debited",value:Qi((ue=S==null?void 0:S.lifetime)==null?void 0:ue.debited_cents)}),t.jsx(Fr,{label:"Lifetime Net",value:Qi((ie=S==null?void 0:S.lifetime)==null?void 0:ie.net_cents)}),t.jsx(Fr,{label:"Avg Daily Spend",value:Qi((De=S==null?void 0:S.derived)==null?void 0:De.avg_daily_spend_cents)}),t.jsx(Fr,{label:"Avg Daily Credit",value:Qi((G=S==null?void 0:S.derived)==null?void 0:G.avg_daily_credit_cents)})]})}),t.jsx(Ya,{title:"Recent Transactions",className:"xl:col-span-3",children:t.jsx(xh,{emptyText:"No transactions yet.",headers:["Time","Kind","Description","Amount","Currency"],rows:((S==null?void 0:S.recent_activity)||[]).map(_e=>[ph(_e.created_at),_e.kind||"-",_e.description||"-",(Number(_e.amount_cents||0)>=0?"+":"-")+Qi(Math.abs(Number(_e.amount_cents||0))),_e.currency||"USD"]),loading:c})})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsx(Ya,{title:"Messages per Day",children:t.jsx(fh,{data:we,compact:b})}),t.jsx(Ya,{title:"Messaging Summary",children:t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[t.jsx(Fr,{label:"Total",value:Ur((ce=k==null?void 0:k.lifetime)==null?void 0:ce.total)}),t.jsx(Fr,{label:"Success",value:Ur(($e=k==null?void 0:k.lifetime)==null?void 0:$e.success)}),t.jsx(Fr,{label:"Failed",value:Ur((qe=k==null?void 0:k.lifetime)==null?void 0:qe.failed)}),t.jsx(Fr,{label:"Success Rate",value:`${Number(((ye=k==null?void 0:k.lifetime)==null?void 0:ye.success_rate_pct)||0).toFixed(2)}%`})]})}),t.jsx(Ya,{title:"Appointments Summary",children:t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[t.jsx(Fr,{label:"Total",value:Ur(_==null?void 0:_.total)}),Object.entries((_==null?void 0:_.status_breakdown)||{}).map(([_e,te])=>t.jsx(Fr,{label:_e,value:Ur(te)},_e))]})}),t.jsx(Ya,{title:"Upcoming Appointments",className:"xl:col-span-2",children:t.jsx(xh,{emptyText:"No upcoming appointments.",headers:["Start","Title","Phone","Location","Status"],rows:((_==null?void 0:_.upcoming)||[]).map(_e=>[ph(_e.start_at),_e.title||"-",_e.phone||"-",_e.location||"-",_e.status||"-"]),loading:c})}),t.jsx(Ya,{title:"Recently Completed (7d)",children:t.jsx(xh,{emptyText:"No recent completions.",headers:["End","Title","Phone","Location","Status"],rows:((_==null?void 0:_.recently_completed)||[]).map(_e=>[ph(_e.end_at),_e.title||"-",_e.phone||"-",_e.location||"-",_e.status||"-"]),loading:c})})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsx(Ya,{title:"Campaigns by Status",className:"xl:col-span-2",children:t.jsx(ec,{data:U,color:Ua.blue,compact:b})}),t.jsxs(Ya,{title:"Lead Progress",children:[t.jsx(ec,{data:K,color:Ua.cyan,compact:b}),t.jsxs("div",{className:"mt-4 text-sm text-slate-600",children:["Attempts total:"," ",t.jsx("span",{className:"font-bold",children:Ur(((Be=C==null?void 0:C.lead_progress)==null?void 0:Be.attempts_sum)||0)})]})]})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsx(Ya,{title:"Top Files by Leads",className:"xl:col-span-2",children:t.jsx(xh,{emptyText:"No files yet.",headers:["Created","File","Public ID","Leads"],rows:((T==null?void 0:T.top_files_by_leads)||[]).map(_e=>[ph(_e.created_at),_e.name||"-",_e.alphanumeric_id||"-",Ur(_e.lead_count||0)]),loading:c})}),t.jsx(Ya,{title:"Leads per Day",children:t.jsx(fh,{data:ee,compact:b})})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsxs(Ya,{title:"Purchased Numbers by Country",children:[t.jsx(ec,{data:z,color:Ua.sky,compact:b}),t.jsxs("div",{className:"mt-3 text-sm text-slate-600",children:["Total numbers:"," ",t.jsx("span",{className:"font-bold",children:Ur((O==null?void 0:O.purchased_numbers_total)||0)})]})]}),t.jsxs(Ya,{title:"Calendar Accounts by Provider",children:[t.jsx(ec,{data:I,color:Ua.blue,compact:b}),t.jsxs("div",{className:"mt-3 text-sm text-slate-600",children:["Total calendar accounts:"," ",t.jsx("span",{className:"font-bold",children:Ur((O==null?void 0:O.calendar_accounts_total)||0)})]})]}),t.jsxs(Ya,{title:"Forms Summary",children:[t.jsx(ec,{data:D,color:Ua.cyan,compact:b}),t.jsxs("div",{className:"mt-3 text-sm text-slate-600",children:["Submissions (total):"," ",t.jsx("span",{className:"font-bold",children:Ur((E==null?void 0:E.total_submissions)||0)}),t.jsx("br",{}),"Booked (last ",s,"d):"," ",t.jsx("span",{className:"font-bold",children:Ur((E==null?void 0:E[`booked_last_${s}d`])||0)})]})]})]}),t.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Advanced analytics (white/blue neon)."]})]})]})}function Ige(){return t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),t.jsx(he.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function Ya({title:e,children:a,className:s=""}){return t.jsxs(he.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${s}`,children:[t.jsx(zge,{}),t.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),a]})}function zge(){return t.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[t.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),t.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function Bge({label:e,value:a,icon:s,color:n,loading:r}){const l=bo(0),c=bo(0),u=_u(c,[-50,50],[8,-8]),m=_u(l,[-50,50],[-8,8]),h=x.useRef(null);return t.jsxs(he.div,{ref:h,onMouseMove:f=>{var b;const g=(b=h.current)==null?void 0:b.getBoundingClientRect();g&&(l.set(f.clientX-g.left-g.width/2),c.set(f.clientY-g.top-g.height/2))},onMouseLeave:()=>{l.set(0),c.set(0)},style:{rotateX:u,rotateY:m},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${n}66, #ffffff00)`}}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:t.jsx(s,{className:"h-6 w-6",style:{color:n}})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("h3",{className:"text-2xl font-black text-slate-900",children:r?t.jsx(uI,{}):t.jsx("span",{children:String(a)})}),t.jsx("span",{className:`rounded-full ${dI} px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm`,children:"Live"})]})]})]})})]})}function Uge({label:e,value:a,icon:s,color:n,loading:r}){return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white p-4 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-2xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${n}66, #ffffff00)`}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:t.jsx(s,{className:"h-5 w-5",style:{color:n}})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-xl font-black text-slate-900",children:r?t.jsx(uI,{}):t.jsx("span",{children:String(a)})})]})]})]})}function uI(){return t.jsx("span",{className:"inline-block h-6 w-14 animate-pulse rounded bg-slate-200 align-middle"})}function Fr({label:e,value:a}){return t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx("div",{className:"text-[11px] text-slate-500",children:e}),t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:a??"-"})]})}function dM({label:e,value:a,onChange:s,options:n=[]}){return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-slate-600",children:e}),t.jsx("div",{className:"flex items-center gap-1 rounded-xl border border-slate-200 bg-white p-1",children:n.map(r=>{const l=Number(a)===Number(r);return t.jsx("button",{onClick:()=>s(r),className:`h-8 min-w-[3rem] rounded-lg px-3 text-xs font-semibold ${l?"text-white "+dI:"text-slate-700 hover:bg-slate-50"}`,children:r},r)})})]})}function fh({data:e=[],compact:a=!1,formatter:s}){const n=(e||[]).map(r=>({label:r.label,value:Number(r.value||0)}));return t.jsx("div",{className:"h-64 w-full",children:t.jsx(Zn,{children:t.jsxs(t0,{data:n,margin:{top:10,right:20,left:a?0:-10,bottom:0},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:Ua.cyan}),t.jsx("stop",{offset:"100%",stopColor:Ua.blue})]})}),t.jsx(Zr,{strokeDasharray:"3 3",strokeOpacity:.15}),t.jsx(Jr,{dataKey:"label",tick:{fontSize:12},hide:a}),t.jsx(Qr,{tick:{fontSize:12},tickFormatter:s}),t.jsx(Qn,{contentStyle:{borderRadius:12},formatter:r=>s?s(r):r}),t.jsx(sm,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3,dot:!1,activeDot:{r:5},isAnimationActive:!0,animationBegin:120,animationDuration:800,animationEasing:"ease"})]})})})}function Fge({series:e=[],compact:a=!1,formatter:s}){const r=[...new Set(e.flatMap(l=>(l.data||[]).map(c=>c.label)))].sort().map(l=>{const c={label:l};return e.forEach(u=>{var h;const m=(h=u.data)==null?void 0:h.find(f=>f.label===l);c[u.name]=Number((m==null?void 0:m.value)||0)}),c});return t.jsx("div",{className:"h-64 w-full",children:t.jsx(Zn,{children:t.jsxs(t0,{data:r,margin:{top:10,right:20,left:a?0:-10,bottom:0},children:[t.jsx(Zr,{strokeDasharray:"3 3",strokeOpacity:.15}),t.jsx(Jr,{dataKey:"label",tick:{fontSize:12},hide:a}),t.jsx(Qr,{tick:{fontSize:12},tickFormatter:s}),t.jsx(Qn,{contentStyle:{borderRadius:12},formatter:l=>s?s(l):l}),t.jsx(hb,{}),e.map(l=>t.jsx(sm,{type:"monotone",dataKey:l.name,stroke:l.color,strokeWidth:3,dot:!1,activeDot:{r:4},isAnimationActive:!0,animationBegin:120,animationDuration:800},l.name))]})})})}function ec({data:e=[],color:a=Ua.blue,compact:s=!1}){const n=(e||[]).map(r=>({name:String(r.name||"-"),value:Number(r.value||0)}));return t.jsx("div",{className:"h-72 w-full",children:t.jsx(Zn,{children:t.jsxs(qh,{data:n,margin:{top:10,right:20,left:s?0:-10,bottom:0},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:a}),t.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})}),t.jsx(Zr,{strokeDasharray:"3 3",strokeOpacity:.2}),t.jsx(Jr,{dataKey:"name",tick:{fontSize:12},hide:s}),t.jsx(Qr,{tick:{fontSize:12}}),t.jsx(Qn,{contentStyle:{borderRadius:12}}),t.jsx(fu,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],isAnimationActive:!0,animationBegin:140,animationDuration:800})]})})})}function xh({headers:e=[],rows:a=[],emptyText:s="No data.",loading:n}){return n?t.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[t.jsx("div",{className:"h-8 w-40 animate-pulse rounded bg-slate-200 mb-2"}),t.jsx("div",{className:"h-32 w-full animate-pulse rounded bg-slate-100"})]}):a!=null&&a.length?t.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-slate-50 text-slate-700",children:t.jsx("tr",{children:e.map(r=>t.jsx("th",{className:"px-3 py-2 text-left font-semibold border-b border-slate-200",children:r},r))})}),t.jsx("tbody",{children:a.map((r,l)=>t.jsx("tr",{className:"even:bg-slate-50/40",children:r.map((c,u)=>t.jsx("td",{className:"px-3 py-2 border-b border-slate-100",children:c},u))},l))})]})}):t.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-6 text-sm text-slate-600",children:s})}function ph(e){if(!e)return"-";try{const a=new Date(e);return Number.isNaN(a.getTime())?String(e):a.toLocaleString()}catch{return String(e)}}const Vge={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://13.60.203.103"},Rw=import.meta&&Vge&&"http://13.60.203.103"||"http://localhost:8000",$w={LEADS:`${Rw}/api/leads/all/full`,CAMPAIGNS:`${Rw}/api/campaigns/campaigns`,ADD_LEADS_TO_CAMPAIGN:e=>`${Rw}/api/campaigns/${e}/add-leads`},Hge="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Sf(...e){return e.filter(Boolean).join(" ")}function gh(e){if(!e)return"";try{const a=new Date(e);return Number.isNaN(a.getTime())?String(e):new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}).format(a)}catch{return String(e)}}async function Yd(e){try{await navigator.clipboard.writeText(e),L.success("Copied")}catch{L.error("Copy failed")}}function qge(e){try{return JSON.stringify(e??{},null,2)}catch{return String(e)}}function Zs({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:Sf(l,c[n],u[s],"shrink-0",a),children:e})}function Wd({children:e,className:a=""}){return t.jsx("span",{className:Sf("inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold",a),children:e})}function Xd({children:e}){return t.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Zd({children:e}){return t.jsx("td",{className:"px-4 py-3 align-middle",children:e})}function Gge({name:e="?",size:a=34}){const s=(e||"?").split(" ").map(n=>n.charAt(0)).join("").toUpperCase().slice(0,2);return t.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:a,height:a},title:e,children:t.jsx("span",{style:{fontSize:a<40?12:13},children:s})})}function ya({label:e,value:a,mono:s=!1}){return t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),t.jsx("div",{className:Sf("mt-0.5 text-sm text-slate-800 break-words",s&&"font-mono"),children:a})]})}function Kge({open:e,onClose:a,title:s,children:n}){return t.jsx(jt,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a}),t.jsxs(he.aside,{className:"fixed right-0 top-0 bottom-0 z-50 w-full max-w-[42rem] bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:260,damping:26},children:[t.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(Zs,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:""})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-3 sm:px-5 py-4",children:n})]})]})})}function op({label:e,value:a,Icon:s,tone:n="blue",className:r=""}){const l=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:250,damping:22},className:Sf("relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",r),children:[t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:Sf("flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br text-white shadow-inner ring-1",c,l),children:t.jsx(s,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function Yge(){const[e,a]=x.useState([]),[s,n]=x.useState(0),[r,l]=x.useState(25),[c,u]=x.useState(1),[m,h]=x.useState(!1),[f,g]=x.useState("all"),[b,v]=x.useState(""),[w,j]=x.useState(!1),[S,k]=x.useState(!1),[_,C]=x.useState(null),[T,O]=x.useState(new Set),[E,$]=x.useState(!1),[M,H]=x.useState(!1),[V,F]=x.useState([]),[B,ee]=x.useState(""),[we,ne]=x.useState(!1),[A,U]=x.useState(!1),K=x.useMemo(()=>{if(typeof window>"u")return null;try{return localStorage.getItem("token")}catch{return null}},[]),z=x.useMemo(()=>({Authorization:K?`Bearer ${K}`:"",Accept:"application/json"}),[K]),I=r,D=(c-1)*r,R=x.useCallback(async()=>{if(!K){a([]),n(0),L.error("No authentication token found.");return}try{j(!0);const ue=new URLSearchParams;ue.set("include_dnc",String(m)),f&&f!=="all"&&ue.set("origin",f),ue.set("limit",String(I)),ue.set("offset",String(D));const ie=await fetch(`${$w.LEADS}?${ue.toString()}`,{headers:z});if(!ie.ok){const ce=await ie.text();throw new Error(ce||`HTTP ${ie.status}`)}const De=await ie.json(),G=Array.isArray(De==null?void 0:De.items)?De.items:[];a(G),n((De==null?void 0:De.total)??G.length)}catch(ue){console.error(ue),L.error((ue==null?void 0:ue.message)||"Failed to load leads"),a([]),n(0)}finally{j(!1)}},[K,z,m,f,I,D]),Z=x.useCallback(async()=>{try{const ue=await fetch($w.CAMPAIGNS,{headers:z});if(!ue.ok)throw new Error(await ue.text());const ie=await ue.json();F(Array.isArray(ie)?ie:[])}catch{L.error("Failed to load campaigns")}},[z]);x.useEffect(()=>{R()},[R]),x.useEffect(()=>{u(1),Ye()},[m,f]);const de=x.useMemo(()=>{const ue=b.trim().toLowerCase();return ue?e.filter(ie=>{const De=(ie.first_name||"").toLowerCase(),G=(ie.last_name||"").toLowerCase(),ce=(ie.email||"").toLowerCase(),$e=(ie.mobile||"").toLowerCase(),qe=`${De} ${G}`.trim();return De.includes(ue)||G.includes(ue)||qe.includes(ue)||ce.includes(ue)||$e.includes(ue)}):e},[e,b]),le=x.useMemo(()=>{const ue=new Set((e||[]).map(ce=>ce.origin).filter(Boolean)),ie=["CSV","HubSpot CRM","GHL CRM","Monday CRM"],De=ie.filter(ce=>ue.has(ce)),G=Array.from(ue).filter(ce=>!ie.includes(ce));return["all",...De,...G]},[e]),be=ue=>{C(ue),k(!0)},Ue=()=>{try{if(!de.length){L.error("No rows to export.");return}const ue=["id","first_name","last_name","email","mobile","origin"],ie=ue.join(","),De=de.map(ye=>ue.map(Be=>{const _e=(ye==null?void 0:ye[Be])??"";return`"${String(_e).replace(/"/g,'""')}"`}).join(",")),G=[ie,...De].join(`
`),ce=new Blob([G],{type:"text/csv;charset=utf-8"}),$e=window.URL.createObjectURL(ce),qe=document.createElement("a");qe.href=$e,qe.download="leads_page.csv",document.body.appendChild(qe),qe.click(),qe.remove(),window.URL.revokeObjectURL($e)}catch{L.error("Export failed")}},xe=x.useMemo(()=>{const ue=de.length,ie=de.filter(ce=>ce.dnc===!0).length,De=ue-ie,G=new Set(de.map(ce=>{var $e;return($e=ce==null?void 0:ce.file)==null?void 0:$e.id}).filter(Boolean)).size;return{count:ue,dncCount:ie,nonDnc:De,uniqueFiles:G}},[de]),ve=ue=>{O(ie=>{const De=new Set(ie);return De.has(ue)?De.delete(ue):De.add(ue),De})},Ie=()=>{O(ue=>{const ie=de.map(ce=>ce.id);if(ie.every(ce=>ue.has(ce)))return new Set([...ue].filter(ce=>!ie.includes(ce)));const G=new Set(ue);return ie.forEach(ce=>G.add(ce)),G}),$(ue=>!ue)},Ye=()=>{O(new Set),$(!1)},ke=async()=>{if(T.size===0){L.error("Select at least one lead first.");return}await Z(),H(!0)},Je=async()=>{if(!B){L.error("Please select a campaign");return}U(!0);try{const ue=await fetch($w.ADD_LEADS_TO_CAMPAIGN(B),{method:"POST",headers:{...z,"Content-Type":"application/json"},body:JSON.stringify({lead_ids:Array.from(T),include_dnc:we})}),ie=await ue.json().catch(()=>({}));if(!ue.ok)throw new Error((ie==null?void 0:ie.detail)||`HTTP ${ue.status}`);L.success((ie==null?void 0:ie.detail)||"Leads queued for campaign"),H(!1),Ye()}catch(ue){L.error((ue==null?void 0:ue.message)||"Failed to push leads")}finally{U(!1)}},Xe=t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsx("div",{className:"flex items-center gap-4 min-w-0",children:t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Za,{className:"h-6 w-6 sm:h-7 w-7 text-blue-600"})})}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-1 md:flex-row md:items-center md:justify-between w-full",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${Hge}`,children:"All Leads"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Aggregated across all files. Use View to open the drawer with full details."})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Zs,{onClick:R,title:"Refresh",children:w?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})}),t.jsxs(Zs,{onClick:Ue,variant:"primary",title:"Export current page CSV",children:[t.jsx(cl,{className:"h-4 w-4 mr-2"})," Export"]})]})]})]})]});return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w_full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[Xe,t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[t.jsx(Us,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:b,onChange:ue=>v(ue.target.value),placeholder:"Quick search name, email, phone (client-side)",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500",children:[t.jsx(_i,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("select",{value:f,onChange:ue=>g(ue.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"Origin",children:le.map(ue=>t.jsx("option",{value:ue,children:ue==="all"?"All origins":ue},ue))}),t.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700 bg-slate-50 border border-slate-200 rounded-xl px-3 py-2",children:[t.jsx("input",{type:"checkbox",checked:m,onChange:ue=>h(ue.target.checked),className:"h-4 w-4"}),"Include DNC"]}),t.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[t.jsx("span",{className:"text-xs text-slate-500",children:"Rows per page"}),t.jsx("select",{value:r,onChange:ue=>{l(Number(ue.target.value)),u(1)},className:"rounded-xl border border-slate-200 bg-white px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100,200].map(ue=>t.jsx("option",{value:ue,children:ue},ue))})]})]})]})}),t.jsx(jt,{children:T.size>0&&t.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},exit:{y:8,opacity:0},className:"mt-4 flex items-center justify-between gap-3 rounded-2xl border border-blue-200 bg-blue-50 px-4 py-3 shadow-sm",children:[t.jsxs("div",{className:"text-sm font-semibold text-blue-800",children:[T.size," lead",T.size>1?"s":""," selected"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Zs,{onClick:ke,variant:"primary",className:"animate-pulse",children:[t.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Push to Campaign"]}),t.jsx(Zs,{onClick:Ye,variant:"subtle",children:"Clear"})]})]})}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(op,{label:"Rows (page)",value:de.length,Icon:Yr,tone:"blue"}),t.jsx(op,{label:"DNC (page)",value:xe.dncCount,Icon:xD,tone:"cyan"}),t.jsx(op,{label:"Non-DNC (page)",value:xe.nonDnc,Icon:ra,tone:"blue"}),t.jsx(op,{label:"Files (page)",value:xe.uniqueFiles,Icon:mD,tone:"cyan"})]}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(Za,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["Leads (",s,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"DB (user-scoped)"]})]}),w?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading"})]}):de.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(Yr,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try adjusting filters"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden lg:block",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full min-w-[1040px]",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Xd,{children:t.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:de.length>0&&de.every(ue=>T.has(ue.id)),onChange:Ie,title:"Select all on page"})}),t.jsx(Xd,{children:"Name"}),t.jsx(Xd,{children:"Email"}),t.jsx(Xd,{children:"Phone"}),t.jsx(Xd,{children:"Origin"}),t.jsx(Xd,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:de.map(ue=>{const ie=`${ue.first_name||""} ${ue.last_name||""}`.trim()||"";return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(Zd,{children:t.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:T.has(ue.id),onChange:()=>ve(ue.id),title:"Select lead"})}),t.jsx(Zd,{children:t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx(Gge,{name:ie}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate max-w-[280px]",children:ie}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["#",ue.id]})]})]})}),t.jsx(Zd,{children:t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx(_s,{className:"h-4 w-4 text-slate-400 shrink-0"}),t.jsx("div",{className:"text-xs font-semibold text-slate-800 truncate max-w-[260px]",children:ue.email||""}),ue.email&&t.jsx(Zs,{size:"sm",onClick:()=>Yd(String(ue.email)),title:"Copy email",children:t.jsx(la,{className:"h-3.5 w-3.5"})})]})}),t.jsx(Zd,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(St,{className:"h-4 w-4 text-slate-400 shrink-0"}),t.jsx("div",{className:"text-xs font-semibold text-slate-800 break-all",children:ue.mobile||""}),ue.mobile&&t.jsx(Zs,{size:"sm",onClick:()=>Yd(String(ue.mobile)),title:"Copy phone",children:t.jsx(la,{className:"h-3.5 w-3.5"})})]})}),t.jsx(Zd,{children:t.jsxs(Wd,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:[t.jsx(DC,{className:"mr-1 h-3.5 w-3.5"}),ue.origin||"CSV"]})}),t.jsx(Zd,{children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(Zs,{onClick:()=>be(ue),size:"sm",title:"View details",children:[t.jsx(ju,{className:"h-4 w-4 mr-1"})," View"]}),t.jsxs(Zs,{onClick:()=>{O(new Set([ue.id])),ke()},size:"sm",variant:"subtle",title:"Push just this lead",children:[t.jsx(Sr,{className:"h-4 w-4 mr-1"})," Push"]})]})})]},ue.id)})})]})})}),t.jsx("div",{className:"lg:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:de.map(ue=>{const ie=`${ue.first_name||""} ${ue.last_name||""}`.trim()||"";return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[t.jsx("div",{className:"absolute top-3 right-3",children:t.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:T.has(ue.id),onChange:()=>ve(ue.id),title:"Select lead"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:ie}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["#",ue.id]}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0 col-span-2",children:[t.jsx(_s,{className:"h-4 w-4 text-slate-500"}),t.jsx("div",{className:"min-w-0",children:t.jsxs("div",{className:"truncate font-semibold flex items-center gap-2",children:[ue.email||"",ue.email&&t.jsx("button",{onClick:()=>Yd(String(ue.email)),className:"inline-flex rounded-lg border border-slate-300 px-2 py-1 text-[11px] hover:bg-slate-50",title:"Copy email",children:t.jsx(la,{className:"h-3.5 w-3.5"})})]})})]}),t.jsxs("div",{className:"flex items-center gap-2 min-w-0 col-span-2",children:[t.jsx(St,{className:"h-4 w-4 text-slate-500"}),t.jsx("div",{className:"min-w-0",children:t.jsxs("div",{className:"truncate font-semibold flex items-center gap-2",children:[ue.mobile||"",ue.mobile&&t.jsx("button",{onClick:()=>Yd(String(ue.mobile)),className:"inline-flex rounded-lg border border-slate-300 px-2 py-1 text-[11px] hover:bg-slate-50",title:"Copy phone",children:t.jsx(la,{className:"h-3.5 w-3.5"})})]})})]}),t.jsxs("div",{className:"col-span-2 flex flex-wrap gap-2",children:[t.jsxs(Wd,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:[t.jsx(DC,{className:"mr-1 h-3.5 w-3.5"}),ue.origin||"CSV"]}),ue.dnc?t.jsxs(Wd,{className:"border bg-rose-100 text-rose-700 border-rose-200",children:[t.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"})," DNC"]}):t.jsxs(Wd,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ra,{className:"mr-1 h-3.5 w-3.5"})," Active"]})]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsxs(Zs,{onClick:()=>be(ue),size:"sm",className:"grow sm:grow-0",children:[t.jsx(ju,{className:"h-4 w-4 mr-1"})," View"]}),t.jsxs(Zs,{onClick:()=>{O(new Set([ue.id])),ke()},size:"sm",variant:"subtle",className:"grow sm:grow-0",children:[t.jsx(Sr,{className:"h-4 w-4 mr-1"})," Push"]})]})]})]},ue.id)})})}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",t.jsx("b",{children:c})," of ",t.jsx("b",{children:Math.max(1,Math.ceil(s/r))}),"  Total ",t.jsx("b",{children:s})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(Zs,{onClick:()=>u(ue=>Math.max(1,ue-1)),disabled:c===1,children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"})," Prev"]}),t.jsxs(Zs,{onClick:()=>u(ue=>Math.min(Math.max(1,Math.ceil(s/r)),ue+1)),disabled:c>=Math.max(1,Math.ceil(s/r)),children:["Next ",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(jt,{children:M&&t.jsxs(t.Fragment,{children:[t.jsx(he.div,{className:"fixed inset-0 z-[60] bg-black/40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>H(!1)}),t.jsxs(he.div,{className:"fixed inset-x-0 top-[15%] z-[70] mx-auto w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-5 shadow-2xl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"text-lg font-bold text-slate-900",children:"Push to Campaign"}),t.jsx(Zs,{variant:"ghost",onClick:()=>H(!1),children:""})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:[T.size," lead",T.size>1?"s":""," selected."]}),t.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Select campaign"}),t.jsxs("select",{value:B,onChange:ue=>ee(ue.target.value),className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:" Choose campaign "}),V.map(ue=>t.jsxs("option",{value:ue.id,children:[ue.name,"  ",ue.status]},ue.id))]}),t.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:we,onChange:ue=>ne(ue.target.checked)}),"Include DNC (not recommended)"]})]}),t.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[t.jsx(Zs,{onClick:()=>H(!1),variant:"subtle",children:"Cancel"}),t.jsx(Zs,{onClick:Je,variant:"primary",disabled:A||!B,children:A?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 mr-2 animate-spin"})," Pushing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Sr,{className:"h-4 w-4 mr-2"})," Push"]})})]})]})]})}),t.jsx(Kge,{open:S,onClose:()=>{k(!1),C(null)},title:"Lead Details",children:_?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-200 p-3 bg-white",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Identity"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsx(ya,{label:"First Name",value:_.first_name||""}),t.jsx(ya,{label:"Last Name",value:_.last_name||""}),t.jsx(ya,{label:"Email",value:t.jsxs("span",{className:"inline-flex items-center gap-2 break-all",children:[_.email||"",_.email&&t.jsx("button",{onClick:()=>Yd(String(_.email)),className:"inline-flex rounded-lg border border-slate-300 px-2 py-1 text-[11px] hover:bg-slate-50",title:"Copy email",children:t.jsx(la,{className:"h-3.5 w-3.5"})})]})}),t.jsx(ya,{label:"Phone",value:t.jsxs("span",{className:"inline-flex items-center gap-2 break-all",children:[_.mobile||"",_.mobile&&t.jsx("button",{onClick:()=>Yd(String(_.mobile)),className:"inline-flex rounded-lg border border-slate-300 px-2 py-1 text-[11px] hover:bg-slate-50",title:"Copy phone",children:t.jsx(la,{className:"h-3.5 w-3.5"})})]})}),t.jsx(ya,{label:"State",value:_.state||""}),t.jsx(ya,{label:"Timezone",value:_.timezone||""})]})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-200 p-3 bg-white",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Status"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsx(ya,{label:"DNC",value:_.dnc?t.jsxs(Wd,{className:"border bg-rose-100 text-rose-700 border-rose-200 inline-flex",children:[t.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"}),"Yes"]}):t.jsxs(Wd,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200 inline-flex",children:[t.jsx(ra,{className:"mr-1 h-3.5 w-3.5"}),"No"]})}),t.jsx(ya,{label:"Submit For Approval",value:String(_.submit_for_approval??!1)}),t.jsx(ya,{label:"Call Count",value:String(_.call_count??0)}),t.jsx(ya,{label:"Last Called At",value:gh(_.last_called_at)}),t.jsx(ya,{label:"Add Date",value:gh(_.add_date)})]})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-200 p-3 bg-white",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Provenance"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsx(ya,{label:"Origin",value:_.origin||"CSV"}),t.jsx(ya,{label:"Origin Meta",value:_.origin_meta||""}),t.jsx(ya,{label:"Salesforce/External ID",value:_.salesforce_id||"",mono:!0}),t.jsx(ya,{label:"Created At",value:gh(_.created_at)}),t.jsx(ya,{label:"Updated At",value:gh(_.updated_at)})]})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-200 p-3 bg-white",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"File"}),_.file?t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsx(ya,{label:"File ID",value:String(_.file.id),mono:!0}),t.jsx(ya,{label:"File Name",value:_.file.name||""}),t.jsx(ya,{label:"Alphanumeric ID",value:_.file.alphanumeric_id||"",mono:!0}),t.jsx(ya,{label:"File Created",value:gh(_.file.created_at)}),t.jsx(ya,{label:"Owner (User ID)",value:String(_.file.user_id||""),mono:!0}),t.jsx(ya,{label:"Sync Enable",value:String(_.file.sync_enable??"")}),t.jsx(ya,{label:"Sync Frequency",value:String(_.file.sync_frequency??"")}),t.jsx(ya,{label:"Is Syncing",value:String(_.file.is_syncing??"")})]}):t.jsx("div",{className:"text-sm text-slate-600",children:"No file object on this lead."})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-200 p-3 bg-white",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Other Data"}),t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-slate-700 max-h-80 overflow-auto",children:qge(_.other_data)})]})]}):t.jsx("div",{className:"text-sm text-slate-600",children:"No lead selected."})})]})}function Wge(...e){return e.filter(Boolean).join(" ")}const uM="http://13.60.203.103";function Xge({onClick:e}){const a=s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),e==null||e())};return t.jsxs("button",{type:"button",onClick:e,onKeyDown:a,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[t.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),t.jsxs(he.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),t.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),t.jsxs("filter",{id:"glow",children:[t.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsx(he.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),t.jsx(he.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),t.jsx(he.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function Zge({className:e="",onMenuToggle:a,profilePath:s="/admin/settings"}){const[n,r]=x.useState(""),[l,c]=x.useState(null),[u,m]=x.useState(!1),h=ba();x.useEffect(()=>{r(localStorage.getItem("name")||"User")},[]),x.useEffect(()=>{const v=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${uM}/api/profile-photo`,{headers:v?{Authorization:`Bearer ${v}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){m(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${uM}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),m(!1)}else m(!0)}catch{m(!0)}}return j(),()=>w.abort()},[]);const f=v=>v.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),g=({size:v=40})=>{const w=v;return t.jsxs("button",{type:"button",onClick:()=>h(s),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[t.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!u?t.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>m(!1),onError:()=>m(!0)}):t.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:f(n)})}),t.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),t.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},b=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof a=="function"&&a()};return t.jsxs("header",{className:Wge("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[t.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:t.jsxs("div",{className:"flex items-center justify-between h-full",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[t.jsx(Xge,{onClick:b}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"hidden lg:block",children:[t.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),t.jsxs("div",{className:"relative",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Control center for users, leads & calls"}),t.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),t.jsxs("div",{className:"hidden sm:block lg:hidden",children:[t.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),t.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Insights & controls"})]}),t.jsxs("div",{className:"sm:hidden relative",children:[t.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),t.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[t.jsxs(he.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[t.jsx("div",{className:"relative",children:t.jsx(g,{size:40})}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome!"}),t.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:n})]})]}),t.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[t.jsx(g,{size:32}),t.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:n})]}),t.jsx("div",{className:"sm:hidden",children:t.jsx(g,{size:36})}),t.jsxs(he.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[t.jsx($p,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),t.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),t.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function Jge({compact:e=!1}){const a=x.useMemo(()=>[{text:"Make Calls",Icon:St,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Tn,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:_S,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:Za,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Tn,from:"#22D3EE",to:"#2563EB"}],[]),[s,n]=x.useState(0),[r,l]=x.useState(""),[c,u]=x.useState(!1);x.useEffect(()=>{const g=a[s].text,b=40,v=28,w=1100;let j;return!c&&r.length<g.length?j=setTimeout(()=>l(g.slice(0,r.length+1)),b):!c&&r.length===g.length?j=setTimeout(()=>u(!0),w):c&&r.length>0?j=setTimeout(()=>l(g.slice(0,r.length-1)),v):c&&r.length===0&&(u(!1),n(S=>(S+1)%a.length)),()=>clearTimeout(j)},[r,c,s,a]);const{Icon:m,from:h,to:f}=a[s];return t.jsxs("div",{className:`relative flex items-center ${e?"justify-center p-3 sm:p-4":"p-4 sm:p-6"}`,children:[t.jsxs("div",{className:"relative mr-0 sm:mr-3",children:[t.jsx(he.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${h}, ${f})`,boxShadow:`0 0 24px 6px ${f}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:t.jsx(m,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),t.jsx(he.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${f}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[t.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${h}, ${f})`},children:r}),t.jsx(he.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),t.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function Qge(){const[e,a]=x.useState(!1),[s,n]=x.useState(!1),[r,l]=x.useState(!1),c=Ti(),u=ba();x.useEffect(()=>{const f=()=>{const g=window.innerWidth;l(g<768),a(g<1024)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),x.useEffect(()=>{n(!1)},[c.pathname]),x.useEffect(()=>{const f=()=>{r?n(g=>!g):a(g=>!g)};return window.addEventListener("app:toggle-sidebar",f),()=>window.removeEventListener("app:toggle-sidebar",f)},[r]);const m=[{id:"dashboard",label:"Dashboard",icon:RN,href:"/admin/dashboard",color:"text-blue-600"},{id:"users",label:"Users",icon:Za,href:"/admin/Users",color:"text-blue-600"},{id:"phoneNumbers",label:"Call Details",icon:St,href:"/admin/PhoneCalls",color:"text-orange-600"},{id:"leads",label:"Leads",icon:Za,href:"/admin/lead",color:"text-purple-600"},{id:"Phone Numbers",label:"Phone Numbers",icon:Za,href:"/admin/callhistory",color:"text-purple-600"},{id:"Phone Numbers",label:"Billing Plan",icon:Za,href:"/admin/BillingPlans",color:"text-purple-600"}],h=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:t.jsx(Jge,{compact:e&&!r})}),t.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:m.map(f=>{const g=f.icon,b=c.pathname===f.href;return t.jsxs("button",{type:"button",onClick:()=>u(f.href),className:`group relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation ${b?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"} ${e&&!r?"justify-center p-2 sm:p-3":"p-3 sm:p-3"} ${r?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!r?f.label:"",children:[b&&!e&&t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),t.jsx(g,{className:`flex-shrink-0 transition-all duration-200 ${e&&!r?"w-6 h-6":"w-5 h-5"} ${b?f.color:"text-slate-500 group-hover:text-slate-700"} ${b?"scale-110":"group-hover:scale-105"}`}),(!e||r)&&t.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base",children:f.label}),b&&(!e||r)&&t.jsx("div",{className:"ml-auto flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},f.id)})}),!r&&t.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:t.jsx("button",{onClick:()=>a(f=>!f),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?t.jsx(Aa,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):t.jsxs(t.Fragment,{children:[t.jsx(Ss,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),t.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return t.jsxs(t.Fragment,{children:[!r&&t.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:t.jsx("div",{className:"flex flex-col h-full",children:t.jsx(h,{})})}),r&&t.jsxs("div",{className:"md:hidden",children:[s&&t.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>n(!1),"aria-hidden":"true"}),t.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:t.jsx("div",{className:"flex flex-col h-full",children:t.jsx(h,{})})})]})]})}function ebe(){return t.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[t.jsx(Qge,{}),t.jsxs("div",{className:"flex flex-1 flex-col",children:[t.jsx(Zge,{className:"h-16 border-b"}),t.jsx("main",{className:"flex-1 p-6",children:t.jsx(GM,{})})]})]})}const Iw={},uc="http://13.60.203.103",tbe=(Iw==null?void 0:Iw.VITE_AFTER_IMPERSONATE_PATH)||"/",no={USERS:`${uc}/api/admin/users`,USER:e=>`${uc}/api/admin/users/${e}`,USER_DETAILS:e=>`${uc}/api/admin/users/${e}/details`,USER_PHOTO_DELETE:e=>`${uc}/api/admin/users/${e}/profile-photo`,RESET_PASSWORD:e=>`${uc}/api/admin/users/${e}/reset-password`,IMPERSONATE_LOGIN_AS:`${uc}/api/admin/impersonate/login-as`},abe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",cp=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const a=e.startsWith("/")?e:`/${e}`;return`${uc}${a}`},zw=e=>e==="admin"?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200";function bh({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function sbe(){return t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Ut({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[n]} ${u[s]} ${a}`,children:e})}function nbe(){var pt,Oa;const[e,a]=x.useState([]),[s,n]=x.useState({total:0,admins:0,verified:0,withPhoto:0}),[r,l]=x.useState(!1),[c,u]=x.useState(""),[m,h]=x.useState(null),[f,g]=x.useState(""),[b,v]=x.useState("all"),[w,j]=x.useState("all"),[S,k]=x.useState(1),_=10,[C,T]=x.useState(!1),[O,E]=x.useState(null),[$,M]=x.useState(!1),[H,V]=x.useState(null),[F,B]=x.useState(!1),[ee,we]=x.useState(!1),[ne,A]=x.useState(null),[U,K]=x.useState(!1),[z,I]=x.useState(!1),[D,R]=x.useState(null),[Z,de]=x.useState({name:"",email:"",role:"user",setPasswordManually:!1,password:""}),[le,be]=x.useState(null),[Ue,xe]=x.useState(!1),[ve,Ie]=x.useState(null),[Ye,ke]=x.useState(!1),[Je,Xe]=x.useState(""),[ue,ie]=x.useState(null),[De,G]=x.useState(null),[ce,$e]=x.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),qe=x.useCallback(async()=>{if(ce){a([]),n({total:0,admins:0,verified:0,withPhoto:0}),u("You're in impersonation mode. Exit impersonation to use admin tools.");return}const oe=localStorage.getItem("token");if(!oe){a([]),n({total:0,admins:0,verified:0,withPhoto:0}),u("No auth token found."),L.error("No authentication token found.");return}try{l(!0),u("");const J=await fetch(no.USERS,{headers:{Authorization:`Bearer ${oe}`,Accept:"application/json"},mode:"cors"});if(!J.ok){const wt=await J.text();throw new Error(`HTTP ${J.status}${wt?`  ${wt}`:""}`)}const se=await J.json();if(!(se!=null&&se.success)||!Array.isArray(se==null?void 0:se.users))throw new Error("Unexpected response shape.");const fe=(se.users||[]).map(wt=>({id:wt.id,name:wt.name||"",email:wt.email||"",email_verified:!!wt.email_verified,role:wt.role||"user",profile_photo_url:cp(wt.profile_photo_url||wt.profile_photo)}));fe.sort((wt,Vt)=>wt.name.localeCompare(Vt.name)),a(fe);const Qe=fe.filter(wt=>wt.role==="admin").length,ht=fe.filter(wt=>wt.email_verified).length,Ct=fe.filter(wt=>!!wt.profile_photo_url).length;n({total:se.total_users??fe.length,admins:Qe,verified:ht,withPhoto:Ct})}catch(J){u((J==null?void 0:J.message)||"Failed to load users"),L.error((J==null?void 0:J.message)||"Failed to load users")}finally{l(!1)}},[ce]);x.useEffect(()=>{qe()},[qe]);const ye=x.useMemo(()=>{let oe=[...e];if(f.trim()){const J=f.trim().toLowerCase();oe=oe.filter(se=>String(se.name||"").toLowerCase().includes(J)||String(se.email||"").toLowerCase().includes(J))}return b!=="all"&&(oe=oe.filter(J=>J.role===b)),w!=="all"&&(oe=oe.filter(J=>w==="verified"?J.email_verified:!J.email_verified)),oe},[e,f,b,w]),Be=Math.max(1,Math.ceil(ye.length/_)),_e=S*_,te=_e-_,Y=ye.slice(te,_e);x.useEffect(()=>{k(1)},[f,b,w]);const Se=oe=>{E({id:oe.id,name:oe.name,email:oe.email,role:oe.role}),T(!0)},me=async()=>{if(!O)return;const oe=localStorage.getItem("token");if(!oe)return L.error("No authentication token found.");const J={name:String(O.name||"").trim(),email:String(O.email||"").trim(),role:O.role==="admin"?"admin":"user"};try{M(!0);const se=await fetch(no.USER(O.id),{method:"PUT",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(J)}),fe=await se.json();if(!se.ok||!(fe!=null&&fe.success))throw new Error((fe==null?void 0:fe.detail)||(fe==null?void 0:fe.message)||`HTTP ${se.status}`);L.success(" User updated"),T(!1),E(null),a(Qe=>Qe.map(ht=>{var Ct;return ht.id===((Ct=fe.updated_user)==null?void 0:Ct.id)?{...ht,name:fe.updated_user.name,email:fe.updated_user.email,role:fe.updated_user.role,profile_photo_url:cp(fe.updated_user.profile_photo_url||fe.updated_user.profile_photo)}:ht})),qe()}catch(se){L.error((se==null?void 0:se.message)||"Update failed")}finally{M(!1)}},X=oe=>V(oe),Te=async()=>{const oe=H;if(!oe)return;const J=localStorage.getItem("token");if(!J)return L.error("No authentication token found.");try{h(oe);const se=await fetch(no.USER(oe),{method:"DELETE",headers:{Authorization:`Bearer ${J}`,Accept:"application/json"}}),fe=await se.json();if(!se.ok||!(fe!=null&&fe.success))throw new Error((fe==null?void 0:fe.detail)||(fe==null?void 0:fe.message)||`HTTP ${se.status}`);L.success(" User deleted"),a(Qe=>Qe.filter(ht=>ht.id!==oe)),n(Qe=>({...Qe,total:Math.max(0,Qe.total-1)})),V(null)}catch(se){L.error((se==null?void 0:se.message)||"Delete failed")}finally{h(null)}},He=async oe=>{const J=localStorage.getItem("token");if(!J){L.error("No authentication token found.");return}try{B(!0),we(!0),A(null);const se=await fetch(no.USER_DETAILS(oe.id),{headers:{Authorization:`Bearer ${J}`,Accept:"application/json"}}),fe=await se.json();if(!se.ok||!(fe!=null&&fe.success))throw new Error((fe==null?void 0:fe.detail)||(fe==null?void 0:fe.message)||`HTTP ${se.status}`);A(fe.details)}catch(se){L.error((se==null?void 0:se.message)||"Failed to load details")}finally{we(!1)}},Ve=async oe=>{const J=localStorage.getItem("token");if(!J)return L.error("No authentication token found.");try{ie(oe);const se=await fetch(no.USER_PHOTO_DELETE(oe),{method:"DELETE",headers:{Authorization:`Bearer ${J}`,Accept:"application/json"}}),fe=await se.json();if(!se.ok||!(fe!=null&&fe.success))throw new Error((fe==null?void 0:fe.detail)||(fe==null?void 0:fe.message)||`HTTP ${se.status}`);L.success(" Profile photo removed"),a(Qe=>Qe.map(ht=>ht.id===oe?{...ht,profile_photo_url:null}:ht)),n(Qe=>({...Qe,withPhoto:Math.max(0,Qe.withPhoto-1)}))}catch(se){L.error((se==null?void 0:se.message)||"Failed to remove photo")}finally{ie(null)}},rt=async()=>{const oe=localStorage.getItem("token");if(!oe)return L.error("No authentication token found.");const J={name:Z.name.trim(),email:Z.email.trim(),role:Z.role,password:Z.setPasswordManually?(Z.password||"").trim():null};if(!J.name||!J.email)return L.error("Name and email are required.");if(Z.setPasswordManually&&J.password.length<6)return L.error("Password must be at least 6 characters.");try{I(!0);const se=await fetch(no.USERS,{method:"POST",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(J)}),fe=await se.json();if(!se.ok||!(fe!=null&&fe.success))throw new Error((fe==null?void 0:fe.detail)||(fe==null?void 0:fe.message)||`HTTP ${se.status}`);const Qe=fe.created_user,ht={id:Qe.id,name:Qe.name,email:Qe.email,role:Qe.role||"user",email_verified:!!Qe.email_verified,profile_photo_url:cp(Qe.profile_photo_url||Qe.profile_photo)};a(Ct=>[ht,...Ct].sort((wt,Vt)=>wt.name.localeCompare(Vt.name))),n(Ct=>({...Ct,total:Ct.total+1,admins:Ct.admins+(ht.role==="admin"?1:0),verified:Ct.verified+(ht.email_verified?1:0),withPhoto:Ct.withPhoto+(ht.profile_photo_url?1:0)})),fe.initial_password?R(fe.initial_password):L.success(" User created"),K(!1),de({name:"",email:"",role:"user",setPasswordManually:!1,password:""})}catch(se){L.error((se==null?void 0:se.message)||"Create failed")}finally{I(!1)}},nt=async()=>{if(!le)return;const oe=localStorage.getItem("token");if(!oe)return L.error("No authentication token found.");const J=Ye&&Je?{new_password:Je}:{new_password:null};try{xe(!0);const se=await fetch(no.RESET_PASSWORD(le),{method:"POST",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(J)}),fe=await se.json();if(!se.ok||!(fe!=null&&fe.success))throw new Error((fe==null?void 0:fe.detail)||(fe==null?void 0:fe.message)||`HTTP ${se.status}`);fe.new_password?Ie(fe.new_password):(L.success(" Password updated"),be(null),Xe(""),ke(!1))}catch(se){L.error((se==null?void 0:se.message)||"Reset failed")}finally{xe(!1)}},Oe=async oe=>{const J=localStorage.getItem("token");if(!J)return L.error("No authentication token found.");try{G(oe.id);const se=await fetch(no.IMPERSONATE_LOGIN_AS,{method:"POST",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:oe.id,reason:"Admin impersonation from Users panel"})}),fe=await se.json();if(!se.ok||!(fe!=null&&fe.success))throw new Error((fe==null?void 0:fe.detail)||(fe==null?void 0:fe.message)||`HTTP ${se.status}`);const{token:Qe,acting_as:ht,impersonated_by:Ct}=fe;localStorage.setItem("admin_token_backup",J),localStorage.setItem("token",Qe),localStorage.setItem("impersonation_info",JSON.stringify({acting_as:ht,impersonated_by:Ct,started_at:Date.now()})),L.success(` Now impersonating ${(ht==null?void 0:ht.email)||"user"}`),window.location.assign(tbe)}catch(se){L.error((se==null?void 0:se.message)||"Impersonation failed")}finally{G(null)}},We=()=>{const oe=localStorage.getItem("admin_token_backup");if(!oe){L.error("No admin backup token found.");return}localStorage.setItem("token",oe),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),$e(null),L.success(" Exited impersonation"),window.location.reload()};return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[ce&&t.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:t.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[t.jsx(fx,{className:"h-4 w-4 shrink-0"}),t.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),t.jsxs("span",{className:"truncate",children:["Acting as ",t.jsx("b",{className:"break-all",children:(pt=ce.acting_as)==null?void 0:pt.email})]})]}),t.jsxs(Ut,{onClick:We,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[t.jsx($p,{className:"mr-2 h-4 w-4"}),"Exit"]})]})}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Za,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${abe}`,children:"User Management"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create users, manage roles, inspect assets, and impersonate users."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(Ut,{onClick:()=>K(!0),disabled:!!ce,variant:"primary",children:[t.jsx(hn,{className:"mr-2 h-4 w-4"}),"Add User"]}),t.jsx(Ut,{onClick:qe,disabled:r||!!ce,children:r?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(dp,{label:"Total Users",value:s.total,Icon:Za,tone:"blue"}),t.jsx(dp,{label:"Admins",value:s.admins,Icon:i1,tone:"cyan"}),t.jsx(dp,{label:"Verified",value:s.verified,Icon:ra,tone:"blue"}),t.jsx(dp,{label:"With Photo",value:s.withPhoto,Icon:kH,tone:"cyan"})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Us,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:f,onChange:oe=>g(oe.target.value),placeholder:"Search by name or email",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!ce})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[t.jsx(_i,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("select",{value:b,onChange:oe=>v(oe.target.value),disabled:!!ce,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"All roles"}),t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]}),t.jsxs("select",{value:w,onChange:oe=>j(oe.target.value),disabled:!!ce,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"All statuses"}),t.jsx("option",{value:"verified",children:"Verified"}),t.jsx("option",{value:"unverified",children:"Unverified"})]}),(f||b!=="all"||w!=="all")&&t.jsx(Ut,{onClick:()=>{g(""),v("all"),j("all")},className:"text-slate-700",disabled:!!ce,children:"Clear"})]})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(Za,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Users (",ye.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),ce?t.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:t.jsx(fx,{className:"h-9 w-9 text-amber-500"})}),t.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),t.jsx("div",{className:"mt-3",children:t.jsxs(Ut,{onClick:We,variant:"primary",children:[t.jsx($p,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):r?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading users"})]}):ye.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(Za,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(vh,{children:"User"}),t.jsx(vh,{children:"Email"}),t.jsx(vh,{children:"Role"}),t.jsx(vh,{children:"Status"}),t.jsx(vh,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:Y.map(oe=>t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(yh,{children:t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx(Bw,{url:oe.profile_photo_url,name:oe.name}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:oe.name}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",oe.id]})]})]})}),t.jsx(yh,{children:t.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[t.jsx(_s,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),t.jsx("span",{className:"text-xs font-medium break-words",children:oe.email})]})}),t.jsx(yh,{children:t.jsx(bh,{className:`border ${zw(oe.role)}`,children:oe.role==="admin"?t.jsxs(t.Fragment,{children:[t.jsx(i1,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):t.jsxs(t.Fragment,{children:[t.jsx(Cr,{className:"mr-1 h-3.5 w-3.5"})," User"]})})}),t.jsx(yh,{children:oe.email_verified?t.jsxs(bh,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ra,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):t.jsxs(bh,{className:"border bg-red-100 text-red-700 border-red-200",children:[t.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})}),t.jsx(yh,{children:t.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[t.jsx(Ut,{onClick:()=>He(oe),variant:"outline",size:"sm",title:"View details",children:t.jsx(wa,{className:"h-4 w-4"})}),t.jsx(Ut,{onClick:()=>Se(oe),variant:"outline",size:"sm",title:"Edit",children:t.jsx(du,{className:"h-4 w-4"})}),t.jsx(Ut,{onClick:()=>be(oe.id),variant:"subtle",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",title:"Reset password",children:t.jsx(mo,{className:"h-4 w-4"})}),t.jsx(Ut,{onClick:()=>Oe(oe),disabled:De===oe.id,variant:"subtle",size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50",title:"Login as this user",children:De===oe.id?t.jsx(Ze,{className:"h-4 w-4 animate-spin"}):t.jsx(fx,{className:"h-4 w-4"})}),t.jsx(Ut,{onClick:()=>X(oe.id),variant:"danger",size:"sm",title:"Delete",children:m===oe.id?t.jsx(Ze,{className:"h-4 w-4 animate-spin"}):t.jsx(ka,{className:"h-4 w-4"})}),oe.profile_photo_url?t.jsx(Ut,{onClick:()=>Ve(oe.id),disabled:ue===oe.id,variant:"subtle",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",title:"Remove profile photo",children:ue===oe.id?t.jsx(Ze,{className:"h-4 w-4 animate-spin"}):t.jsx($C,{className:"h-4 w-4"})}):null]})})]},oe.id))})]})})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Y.map((oe,J)=>t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[J===0&&t.jsx(sbe,{}),t.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[t.jsx(Bw,{size:48,url:oe.profile_photo_url,name:oe.name}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:oe.name}),t.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-slate-600 min-w-0",children:[t.jsx(_s,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("span",{className:"truncate break-words",children:oe.email})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border ${zw(oe.role)} text-[11px] font-semibold`,children:oe.role==="admin"?t.jsxs(t.Fragment,{children:[t.jsx(i1,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):t.jsxs(t.Fragment,{children:[t.jsx(Cr,{className:"mr-1 h-3.5 w-3.5"})," User"]})}),oe.email_verified?t.jsxs(bh,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ra,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):t.jsxs(bh,{className:"border bg-red-100 text-red-700 border-red-200",children:[t.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})]})]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsxs(Ut,{onClick:()=>He(oe),size:"sm",className:"grow sm:grow-0",children:[t.jsx(wa,{className:"h-4 w-4 mr-1"}),"View"]}),t.jsxs(Ut,{onClick:()=>Se(oe),size:"sm",className:"grow sm:grow-0",children:[t.jsx(du,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(Ut,{onClick:()=>be(oe.id),size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 grow sm:grow-0",children:[t.jsx(mo,{className:"h-4 w-4 mr-1"}),"Reset"]}),t.jsx(Ut,{onClick:()=>Oe(oe),disabled:De===oe.id,size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 grow sm:grow-0",title:"Login as this user",children:De===oe.id?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-1"})," Acting"]}):t.jsxs(t.Fragment,{children:[t.jsx(fx,{className:"h-4 w-4 mr-1"})," Login as"]})}),t.jsx(Ut,{onClick:()=>X(oe.id),variant:"danger",size:"sm",className:"grow sm:grow-0",children:m===oe.id?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):t.jsxs(t.Fragment,{children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Delete"]})}),oe.profile_photo_url&&t.jsx(Ut,{onClick:()=>Ve(oe.id),disabled:ue===oe.id,className:"w-full border-amber-200 text-amber-700 hover:bg-amber-50",children:ue===oe.id?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Removing photo"]}):t.jsxs(t.Fragment,{children:[t.jsx($C,{className:"h-4 w-4 mr-2"}),"Remove photo"]})})]}),t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",oe.id]})]},oe.id))})}),ye.length>_&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("b",{children:te+1}),"",t.jsx("b",{children:Math.min(_e,ye.length)})," of"," ",t.jsx("b",{children:ye.length})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(Ut,{onClick:()=>k(oe=>Math.max(1,oe-1)),disabled:S===1,children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Prev"]}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Be)},(oe,J)=>{let se;if(Be<=5||S<=3?se=J+1:S>=Be-2?se=Be-4+J:se=S-2+J,se<1||se>Be)return null;const fe=S===se;return t.jsx("button",{onClick:()=>k(se),className:`px-3 py-2 text-sm font-semibold rounded-xl ${fe?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:se},se)})}),t.jsxs(Ut,{onClick:()=>k(oe=>Math.min(Be,oe+1)),disabled:S>=Be,children:["Next ",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(jt,{children:U&&t.jsxs(Nh,{onClose:()=>K(!1),title:"Add User",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(Jd,{label:"Name",children:t.jsx("input",{value:Z.name,onChange:oe=>de(J=>({...J,name:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter full name"})}),t.jsx(Jd,{label:"Email",children:t.jsx("input",{type:"email",value:Z.email,onChange:oe=>de(J=>({...J,email:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),t.jsx(Jd,{label:"Role",children:t.jsxs("select",{value:Z.role,onChange:oe=>de(J=>({...J,role:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:Z.setPasswordManually,onChange:oe=>de(J=>({...J,setPasswordManually:oe.target.checked,password:oe.target.checked?J.password:""}))}),t.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),Z.setPasswordManually&&t.jsx("div",{className:"mt-3",children:t.jsx("input",{type:"text",value:Z.password,onChange:oe=>de(J=>({...J,password:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter initial password"})})]})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(Ut,{onClick:()=>K(!1),variant:"subtle",children:"Cancel"}),t.jsx(Ut,{onClick:rt,disabled:z||!Z.name.trim()||!Z.email.trim()||Z.setPasswordManually&&Z.password.trim().length<6,variant:"primary",children:z?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):t.jsxs(t.Fragment,{children:[t.jsx(hn,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),t.jsx(jt,{children:D&&t.jsxs(Nh,{onClose:()=>R(null),title:"Initial Password",children:[t.jsx("div",{className:"text-sm text-slate-700",children:"This user was created with an auto-generated password. Copy it now and share securely."}),t.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx(mo,{className:"h-4 w-4 text-slate-600"}),t.jsx("code",{className:"font-mono text-slate-900 break-all",children:D}),t.jsxs(Ut,{onClick:()=>{navigator.clipboard.writeText(D),L.success("Copied!")},className:"ml-auto",children:[t.jsx(la,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx(Ut,{onClick:()=>R(null),variant:"primary",children:"Got it"})})]})}),t.jsx(jt,{children:C&&O&&t.jsxs(Nh,{onClose:()=>T(!1),title:"Edit User",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(Jd,{label:"Name",children:t.jsx("input",{value:O.name,onChange:oe=>E(J=>({...J,name:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})}),t.jsx(Jd,{label:"Email",children:t.jsx("input",{type:"email",value:O.email,onChange:oe=>E(J=>({...J,email:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email"})}),t.jsx(Jd,{label:"Role",children:t.jsxs("select",{value:O.role,onChange:oe=>E(J=>({...J,role:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(Ut,{onClick:()=>T(!1),variant:"subtle",children:"Cancel"}),t.jsx(Ut,{onClick:me,disabled:$||!O.name||!O.email,variant:"primary",children:$?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),t.jsx(jt,{children:H&&t.jsxs(Nh,{onClose:()=>V(null),title:"Confirm Delete",children:[t.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete"," ",t.jsx("b",{className:"break-words",children:((Oa=e.find(oe=>oe.id===H))==null?void 0:Oa.name)||"this user"}),"? This action cannot be undone."]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(Ut,{onClick:()=>V(null),variant:"subtle",children:"Cancel"}),t.jsx(Ut,{onClick:Te,disabled:m===H,variant:"danger",children:m===H?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):"Delete"})]})]})}),t.jsx(jt,{children:le&&t.jsx(Nh,{onClose:()=>{be(null),Ie(null),ke(!1),Xe("")},title:"Reset Password",children:ve?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-sm text-slate-700",children:"Auto-generated password. Copy it now and share securely."}),t.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx(mo,{className:"h-4 w-4 text-slate-600"}),t.jsx("code",{className:"font-mono text-slate-900 break-all",children:ve}),t.jsxs(Ut,{onClick:()=>{navigator.clipboard.writeText(ve),L.success("Copied!")},className:"ml-auto",children:[t.jsx(la,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx(Ut,{onClick:()=>{be(null),Ie(null)},variant:"primary",children:"Done"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:Ye,onChange:oe=>ke(oe.target.checked)}),t.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),Ye&&t.jsx("input",{type:"text",value:Je,onChange:oe=>Xe(oe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter new password"})]}),t.jsxs("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[t.jsx(Ut,{onClick:()=>{be(null),ke(!1),Xe("")},variant:"subtle",children:"Cancel"}),t.jsx(Ut,{onClick:nt,disabled:Ue||Ye&&Je.trim().length<6,variant:"primary",children:Ue?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Reset"})]})]})})}),t.jsx(jt,{children:F&&t.jsx(rbe,{onClose:()=>B(!1),title:"User Details",children:ee?t.jsxs("div",{className:"grid place-content-center h-48",children:[t.jsx(Ze,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-2"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading details"})]}):ne?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx(Bw,{url:cp(ne.user.profile_photo_url||ne.user.profile_photo),name:ne.user.name,size:48}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-bold text-slate-900 truncate",children:ne.user.name}),t.jsx("div",{className:"text-sm text-slate-600 break-words",children:ne.user.email}),t.jsx("div",{className:"mt-1",children:t.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border text-xs font-semibold ${zw(ne.user.role)}`,children:ne.user.role})})]})]})}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[t.jsx(jh,{label:"Phone Numbers",value:ne.counts.purchased_numbers}),t.jsx(jh,{label:"Assistants",value:ne.counts.assistants}),t.jsx(jh,{label:"Call Logs",value:ne.counts.call_logs}),t.jsx(jh,{label:"Documents",value:ne.counts.documents}),t.jsx(jh,{label:"Leads",value:ne.counts.leads})]}),t.jsx(wh,{title:"Phone Numbers",items:(ne.purchased_numbers||[]).map(oe=>({k:oe.id,primary:oe.phone_number,secondary:oe.iso_country||oe.region||"",badge:oe.friendly_name}))}),t.jsx(wh,{title:"Assistants",items:(ne.assistants||[]).map(oe=>({k:oe.id,primary:oe.name||oe.vapi_assistant_id,secondary:oe.provider||oe.model||"",badge:oe.category}))}),t.jsx(wh,{title:"Documents",items:(ne.documents||[]).map(oe=>({k:oe.id,primary:oe.file_name,secondary:oe.vapi_file_id}))}),t.jsx(wh,{title:"Leads",items:(ne.leads||[]).map(oe=>({k:oe.id,primary:`${oe.first_name||""} ${oe.last_name||""}`.trim()||oe.email,secondary:(oe.email||oe.mobile||"").toString(),badge:oe.state||oe.timezone}))}),t.jsx(wh,{title:"Call Logs",items:(ne.call_logs||[]).map(oe=>({k:oe.id,primary:oe.customer_name||oe.customer_number||oe.call_id,secondary:`${oe.status||""}  ${oe.call_duration||0}s`}))})]}):t.jsx("div",{className:"text-sm text-slate-600",children:"No details."})})})]})}function dp({label:e,value:a,Icon:s,tone:n="blue"}){const r=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(s,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function Bw({url:e,name:a,size:s=38}){const[n,r]=x.useState(!1),l=(a||"?").split(" ").map(u=>u.charAt(0)).join("").toUpperCase().slice(0,2),c=n||!e;return t.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:s,height:s},children:c?t.jsx("span",{style:{fontSize:s<40?12:13},children:l}):t.jsx("img",{src:e,alt:a,width:s,height:s,className:"h-full w-full object-cover max-w-full",onError:()=>r(!0)})})}function vh({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function yh({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Jd({label:e,children:a}){return t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a]})}function jh({label:e,value:a}){return t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-xs text-slate-500",children:e}),t.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:a})]})}function wh({title:e,items:a}){const s=(a||[]).slice(0,5);return s.length===0?null:t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:e}),t.jsx("div",{className:"space-y-2",children:s.map(n=>t.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold text-slate-800 truncate",children:n.primary}),t.jsx("div",{className:"text-xs text-slate-500 break-words",children:n.secondary})]}),n.badge&&t.jsx("span",{className:"ml-3 shrink-0 rounded-full border border-slate-300 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:n.badge})]},n.k))})]})}function Nh({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(Ut,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(js,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function rbe({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a}),t.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(Ut,{onClick:a,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:t.jsx(js,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const Sh="http://13.60.203.103",ibe=[`${Sh}/api/admin/basic-admin-stats`,`${Sh}/basic-admin-stats`,`${Sh}/api/basic-admin-stats`,`${Sh}/statistics`,`${Sh}/api/statistics`],Js={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",light:"#e6f6ff"},Mp="3 3";function lbe(){const[e,a]=x.useState({width:0,height:0});return x.useEffect(()=>{const s=()=>a({width:window.innerWidth,height:window.innerHeight});return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),e}function mI(e){const a=Number(e||0);return a>=1e6?(a/1e6).toFixed(1).replace(/\.0$/,"")+"M":a>=1e3?(a/1e3).toFixed(1).replace(/\.0$/,"")+"k":a.toLocaleString()}function mM(e={},a="name",s="value"){return Object.entries(e||{}).map(([n,r])=>({[a]:String(n),[s]:Number(r||0)}))}function tc(e){const s=Math.max(0,Number(e)||0),n=Array.from({length:12},(r,l)=>{const c=l/11,u=Math.sin(c*Math.PI)*.45,m=(Math.random()-.5)*.14,h=Math.max(0,Math.round(s*(.55+u+m)));return{label:`P${l+1}`,value:h}});return n.length&&(n[n.length-1].value=s),n}async function obe(){var s;const e=localStorage.getItem("token")||localStorage.getItem("auth_token");let a;for(const n of ibe)try{const r=await fetch(n,{headers:{Accept:"application/json",...e?{Authorization:`Bearer ${e}`}:{}},mode:"cors"});if(!r.ok){a=new Error(`HTTP ${r.status}`);continue}const l=await r.json();if(l!=null&&l.success&&((s=l==null?void 0:l.stats)!=null&&s.totals)||l)return l}catch(r){a=r}throw a||new Error("Failed to fetch stats")}function cbe({value:e,className:a}){const s=bo(0),[n,r]=x.useState(0);return x.useEffect(()=>{const l=xZ(s,Number(e||0),{duration:.5,ease:"easeOut"}),c=s.on("change",u=>r(Math.round(u)));return()=>{l.stop(),c()}},[e]),t.jsx("span",{className:a,children:mI(n)})}function dbe({points:e,width:a,height:s}){if(!e||!e[0])return null;const n=e[0].x;return t.jsxs("g",{children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),t.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),t.jsxs("filter",{id:"neonGlowLine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"2",result:"b"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"b"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsx("line",{x1:n,x2:n,y1:0,y2:s,stroke:"url(#neonStroke)",strokeWidth:2,opacity:.85,filter:"url(#neonGlowLine)"})]})}function Uw(e){const{x:a,y:s,width:n,height:r}=e;return t.jsxs("g",{children:[t.jsx("defs",{children:t.jsxs("filter",{id:"neonGlowRect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"b"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),t.jsx("rect",{x:a,y:s,width:n,height:r,fill:"rgba(34,211,238,0.18)",stroke:"rgba(37,99,235,0.6)",strokeWidth:1,rx:8,filter:"url(#neonGlowRect)"})]})}function hM(e){const{cx:a,cy:s,innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,fill:u}=e;return t.jsxs("g",{children:[t.jsx("defs",{children:t.jsxs("filter",{id:"neonGlowPie",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"b"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"b"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),t.jsx(JS,{cx:a,cy:s,innerRadius:n,outerRadius:r+6,startAngle:l,endAngle:c,fill:u,stroke:"#ffffff",strokeWidth:2,filter:"url(#neonGlowPie)"})]})}function Qd({title:e,right:a,children:s,className:n=""}){return t.jsxs("div",{className:`relative rounded-3xl border border-slate-200 bg-white p-5 sm:p-6 shadow-xl overflow-hidden ${n}`,children:[t.jsx(ube,{}),t.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[t.jsx("h2",{className:"text-sm sm:text-base font-semibold text-slate-700",children:e}),a]}),s]})}function ube(){return t.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[t.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:`linear-gradient(90deg, ${Js.cyan}33, transparent)`,filter:"blur(22px)",opacity:.6}}),t.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function mbe({label:e,value:a,icon:s,color:n,series:r,badge:l="Live",loading:c}){const u=bo(0),m=bo(0),h=_u(m,[-60,60],[10,-10]),f=_u(u,[-60,60],[-10,10]),g=x.useRef(null);return t.jsxs(he.div,{ref:g,onMouseMove:b=>{var w;const v=(w=g.current)==null?void 0:w.getBoundingClientRect();v&&(u.set(b.clientX-v.left-v.width/2),m.set(b.clientY-v.top-v.height/2))},onMouseLeave:()=>{u.set(0),m.set(0)},style:{rotateX:h,rotateY:f},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl transition-transform duration-300",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${n}66, #ffffff00)`}}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:t.jsx(s,{className:"h-6 w-6 sm:h-7 sm:w-7",style:{color:n}})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900",children:c?t.jsx(hbe,{}):t.jsx(cbe,{value:a})}),l&&t.jsx("span",{className:"hidden xs:inline-flex rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[9px] sm:text-[10px] font-semibold text-white shadow-sm",children:l})]})]})]}),t.jsx("div",{className:"mt-3 h-[110px] xs:h-[130px] sm:h-[140px] md:h-[160px]",children:c?t.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):t.jsx(Zn,{width:"100%",height:"100%",children:t.jsxs(t0,{data:r,margin:{top:2,right:8,left:-10,bottom:0},children:[t.jsx("defs",{children:t.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"blur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),t.jsx(Zr,{strokeDasharray:Mp,strokeOpacity:.12}),t.jsx(Jr,{dataKey:"label",hide:!0}),t.jsx(Qr,{hide:!0,domain:[0,"dataMax+"]}),t.jsx(Qn,{contentStyle:{borderRadius:12},cursor:t.jsx(dbe,{})}),t.jsx(sm,{type:"monotone",dataKey:"value",stroke:n,strokeWidth:2.2,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"}})]})})})]})]})}function hbe(){return t.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function fbe(){const{width:e}=lbe(),a=e<768,[s,n]=x.useState(!0),[r,l]=x.useState(""),[c,u]=x.useState(null),[m,h]=x.useState(null),[f,g]=x.useState(null),[b,v]=x.useState({users:0,leads:0,files:0,knowledge_base_documents:0,assistants:0,phone_numbers:0,call_logs:0}),[w,j]=x.useState({}),[S,k]=x.useState({attached_to_assistant:0,unattached:0}),[_,C]=x.useState({transferred:0,not_transferred:0,by_status:{}}),T=async()=>{try{n(!0),l("");const F=await obe(),B=(F==null?void 0:F.stats)||F||{},ee=(B==null?void 0:B.totals)||{};v({users:Number(ee.users||0),leads:Number(ee.leads||0),files:Number(ee.files||0),knowledge_base_documents:Number(ee.knowledge_base_documents||0),assistants:Number(ee.assistants||0),phone_numbers:Number(ee.phone_numbers||0),call_logs:Number(ee.call_logs||0)}),j((B==null?void 0:B.users_by_role)||{}),k((B==null?void 0:B.phone_numbers)||{attached_to_assistant:0,unattached:0}),C((B==null?void 0:B.call_logs)||{transferred:0,not_transferred:0,by_status:{}}),u((F==null?void 0:F.generated_at)||new Date().toISOString())}catch(F){const B=(F==null?void 0:F.message)||"Failed to load stats",ee=B.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(B+ee)}finally{n(!1)}};x.useEffect(()=>{T()},[]);const O=x.useMemo(()=>[{key:"users",label:"Users",value:b.users,icon:Za,color:Js.blue,series:tc(b.users)},{key:"leads",label:"Leads",value:b.leads,icon:Cr,color:Js.cyan,series:tc(b.leads)},{key:"files",label:"Files",value:b.files,icon:Yr,color:Js.sky,series:tc(b.files)},{key:"assistants",label:"Assistants",value:b.assistants,icon:Ug,color:Js.cyan,series:tc(b.assistants)},{key:"phone_numbers",label:"Phone Numbers",value:b.phone_numbers,icon:St,color:Js.sky,series:tc(b.phone_numbers)},{key:"knowledge_base_documents",label:"KB Docs",value:b.knowledge_base_documents,icon:ho,color:Js.blue,series:tc(b.knowledge_base_documents)},{key:"call_logs",label:"Call Logs",value:b.call_logs,icon:Tc,color:Js.cyan,series:tc(b.call_logs)}],[b]),E=x.useMemo(()=>mM(w,"name","value"),[w]),$=x.useMemo(()=>[{name:"Attached",value:Number(S.attached_to_assistant||0)},{name:"Unattached",value:Number(S.unattached||0)}],[S]),M=x.useMemo(()=>[{name:"Transferred",value:Number(_.transferred||0)},{name:"Not Transferred",value:Number(_.not_transferred||0)}],[_]),H=x.useMemo(()=>mM(_.by_status||{},"status","count"),[_]),V=x.useMemo(()=>[{name:"Users",value:b.users},{name:"Leads",value:b.leads},{name:"Files",value:b.files},{name:"Assistants",value:b.assistants},{name:"Phones",value:b.phone_numbers},{name:"KB",value:b.knowledge_base_documents},{name:"Calls",value:b.call_logs}],[b]);return t.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r&&t.jsx("div",{className:"w-full px-3 sm:px-4 pt-4 mb-6",children:t.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:r})}),t.jsx("header",{className:"w-full px-3 sm:px-4 pt-8 pb-6",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),t.jsx("p",{className:"mt-1 text-xs sm:text-sm md:text-base text-slate-600",children:"Neon-lite analytics  blue / cyan palette."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:T,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[t.jsx(Ze,{className:"h-4 w-4"}),"Refresh"]}),t.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500",children:c?`Updated: ${new Date(c).toLocaleString()}`:""})]})]})}),t.jsxs("main",{className:"w-full px-3 sm:px-4 pb-12",children:[t.jsx("section",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-5",children:O.map(F=>t.jsx(mbe,{label:F.label,value:F.value,icon:F.icon,color:F.color,series:F.series,loading:s},F.key))}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-2 gap-5 xl:gap-6",children:[t.jsx(Qd,{title:"Overview by Metric",right:t.jsx(_h,{text:"Bars"}),children:t.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:t.jsx(Zn,{width:"100%",height:"100%",children:t.jsxs(qh,{data:V,margin:{top:10,right:a?8:20,left:a?0:-10,bottom:4},barCategoryGap:a?30:20,children:[t.jsxs("defs",{children:[t.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"blur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:Js.sky}),t.jsx("stop",{offset:"100%",stopColor:Js.light})]})]}),t.jsx(Zr,{strokeDasharray:Mp,strokeOpacity:.2}),t.jsx(Jr,{dataKey:"name",tick:{fontSize:a?10:12},interval:a?0:"preserveEnd",tickMargin:8,height:a?28:36}),t.jsx(Qr,{tick:{fontSize:a?10:12},width:a?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),t.jsx(Qn,{contentStyle:{borderRadius:12},cursor:t.jsx(Uw,{})}),t.jsx(fu,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},maxBarSize:a?38:60})]})})})}),t.jsx(Qd,{title:"Users by Role",right:t.jsx(_h,{text:"Bars"}),children:t.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:t.jsx(Zn,{width:"100%",height:"100%",children:t.jsxs(qh,{data:E,margin:{top:10,right:a?8:20,left:a?0:-10,bottom:4},barCategoryGap:a?30:20,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"roleFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:Js.blue}),t.jsx("stop",{offset:"100%",stopColor:"#eaf2ff"})]})}),t.jsx(Zr,{strokeDasharray:Mp,strokeOpacity:.2}),t.jsx(Jr,{dataKey:"name",tick:{fontSize:a?10:12},interval:a?0:"preserveEnd",tickMargin:8,height:a?28:36}),t.jsx(Qr,{tick:{fontSize:a?10:12},width:a?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),t.jsx(Qn,{contentStyle:{borderRadius:12},cursor:t.jsx(Uw,{})}),t.jsx(fu,{dataKey:"value",fill:"url(#roleFill)",radius:[10,10,6,6],maxBarSize:a?38:60})]})})})})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-6",children:[t.jsx(Qd,{title:"Phone Numbers  Attached vs Unattached",right:t.jsx(_h,{text:"Donut"}),children:t.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:t.jsx(Zn,{width:"100%",height:"100%",children:t.jsxs(Tg,{children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"pieGradPhones",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:Js.cyan}),t.jsx("stop",{offset:"100%",stopColor:Js.blue})]})}),t.jsx(Qn,{contentStyle:{borderRadius:12}}),t.jsxs(wf,{data:$,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:a?90:110,innerRadius:a?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:m,onMouseEnter:(F,B)=>h(B),onMouseLeave:()=>h(null),activeShape:hM,label:a?({name:F,percent:B})=>B>=.18?F:"":!1,labelLine:!1,children:[t.jsx(ll,{fill:"url(#pieGradPhones)"}),t.jsx(ll,{fill:"#bfe9ff"})]})]})})})}),t.jsx(Qd,{title:"Calls  Transferred vs Not",right:t.jsx(_h,{text:"Donut"}),children:t.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:t.jsx(Zn,{width:"100%",height:"100%",children:t.jsxs(Tg,{children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"pieGradCalls",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:Js.sky}),t.jsx("stop",{offset:"100%",stopColor:Js.blue})]})}),t.jsx(Qn,{contentStyle:{borderRadius:12}}),t.jsxs(wf,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:a?90:110,innerRadius:a?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:f,onMouseEnter:(F,B)=>g(B),onMouseLeave:()=>g(null),activeShape:hM,label:a?({name:F,percent:B})=>B>=.18?F:"":!1,labelLine:!1,children:[t.jsx(ll,{fill:"url(#pieGradCalls)"}),t.jsx(ll,{fill:"#d7eeff"})]})]})})})}),t.jsx(Qd,{title:"Call Logs  by Status",right:t.jsx(_h,{text:"Bars"}),children:t.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:t.jsx(Zn,{width:"100%",height:"100%",children:t.jsxs(qh,{data:H,margin:{top:10,right:a?8:20,left:a?0:-10,bottom:4},barCategoryGap:a?30:20,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"statusFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:Js.cyan}),t.jsx("stop",{offset:"100%",stopColor:"#ecfbff"})]})}),t.jsx(Zr,{strokeDasharray:Mp,strokeOpacity:.2}),t.jsx(Jr,{dataKey:"status",tick:{fontSize:a?10:12},interval:a?0:"preserveEnd",tickMargin:8,height:a?28:36}),t.jsx(Qr,{tick:{fontSize:a?10:12},width:a?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),t.jsx(Qn,{contentStyle:{borderRadius:12},cursor:t.jsx(Uw,{})}),t.jsx(fu,{dataKey:"count",fill:"url(#statusFill)",radius:[10,10,6,6],maxBarSize:a?38:60})]})})})})]}),t.jsx("section",{className:"mt-8",children:t.jsx(Qd,{title:"Status Breakdown (Compact List)",children:s?t.jsx("div",{className:"h-24 w-full animate-pulse rounded-xl bg-slate-100"}):t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[H.length===0&&t.jsx("div",{className:"text-sm text-slate-500",children:"No call status data."}),H.map(F=>t.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[t.jsx("span",{className:"text-sm font-medium text-slate-700 truncate pr-3",children:F.status}),t.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:mI(F.count)})]},F.status))]})})}),t.jsxs("footer",{className:"mt-10 mb-2 w-full text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon dashboard."]})]})]})}function _h({text:e}){return t.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-1 text-[10px] font-semibold text-white shadow-sm",children:e})}function xbe(){const e=ba(),[a,s]=x.useState(!1),[n,r]=x.useState(!1),[l,c]=x.useState(["","","",""]),[u,m]=x.useState({name:"",email:"",password:""}),[h,f]=x.useState(!1),[g,b]=x.useState({profile:!1,update:!1,delete:!1,otp:!1}),v=x.useRef([]),w=x.useRef(null),j=async()=>{var $,M;b(H=>({...H,profile:!0}));try{const H=localStorage.getItem("token");if(!H){L.error("Authentication required. Please login again."),e("/login");return}const V=await fetch("http://localhost:8000/api/search-user",{headers:{Authorization:`Bearer ${H}`}});if(!V.ok){const B=await V.json();throw new Error(B.detail||"Failed to fetch user data")}const F=await V.json();m({name:(($=F.users)==null?void 0:$.name)||"",email:((M=F.users)==null?void 0:M.email)||"",password:""})}catch(H){L.error(H.message),H.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"))}finally{b(H=>({...H,profile:!1}))}};x.useEffect(()=>{j()},[]);const S=()=>u.name.trim()?u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)?u.password&&u.password.length<8?(L.error("Password must be at least 8 characters long"),!1):!0:(L.error("Please enter a valid email address"),!1):(L.error("Email is required"),!1):(L.error("Name is required"),!1),k=async $=>{if($.preventDefault(),!!S()){b(M=>({...M,update:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const H={name:u.name,email:u.email,...u.password&&{password:u.password}},V=await fetch("http://localhost:8000/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(H)});if(!V.ok){const B=await V.json();throw new Error(B.detail||"Failed to update profile")}const F=await V.json();F!=null&&F.otp_needed?(r(!0),setTimeout(()=>{var B;return(B=v.current[0])==null?void 0:B.focus()},0),L.info("Verification code sent to your email")):(localStorage.setItem("name",H.name),L.success("Profile updated successfully"),m(B=>({...B,password:""})))}catch(M){L.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,update:!1}))}}},_=async $=>{if($.preventDefault(),l.some(M=>!M)){L.error("Please enter the complete verification code");return}b(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const H=await fetch("http://localhost:8000/api/update-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:u.email,code:l.join(""),name:u.name,...u.password&&{password:u.password}})});if(!H.ok){const V=await H.json();throw new Error(V.detail||"Verification failed")}L.success("Account verified successfully"),r(!1),c(["","","",""]),localStorage.setItem("name",u.name),localStorage.setItem("email",u.email),m(V=>({...V,password:""}))}catch(M){L.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,otp:!1}))}},C=async()=>{b($=>({...$,delete:!0}));try{const $=localStorage.getItem("token");if(!$)throw new Error("Authentication required. Please login again.");const M=await fetch("http://localhost:8000/api/delete-account",{method:"DELETE",headers:{Authorization:`Bearer ${$}`}});if(!M.ok){const H=await M.json();throw new Error(H.detail||"Failed to delete account")}L.success("Account deleted successfully"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch($){L.error($.message),$.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b($=>({...$,delete:!1}))}},T=($,M)=>{var H;if(/^\d?$/.test(M)){const V=[...l];V[$]=M,c(V),M&&$<3&&((H=v.current[$+1])==null||H.focus())}},O=($,M)=>{var H;M.key==="Backspace"&&!l[$]&&$>0&&((H=v.current[$-1])==null||H.focus())},E=async()=>{var $;b(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const H=await fetch("http://localhost:8000/api/resend-otp-update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:u.email})});if(!H.ok){const V=await H.json();throw new Error(V.detail||"Failed to resend OTP")}c(["","","",""]),($=v.current[0])==null||$.focus(),L.success("OTP resent successfully")}catch(M){L.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,otp:!1}))}};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:t.jsxs("div",{className:"flex-1 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[(g.profile||g.update||g.delete||g.otp)&&t.jsx("div",{className:"flex justify-center items-center mb-4",children:t.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),n?t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(Og,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),t.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Email Verification"})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Og,{className:"w-5 h-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"font-semibold text-blue-900",children:"Verification Required"})]}),t.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["We've sent a 4-digit verification code to"," ",t.jsx("strong",{children:u.email}),". Please enter it below."]}),t.jsxs("form",{onSubmit:_,children:[t.jsx("div",{className:"flex justify-center gap-3 mb-4",children:l.map(($,M)=>t.jsx("input",{type:"text",maxLength:"1",value:$,onChange:H=>T(M,H.target.value),onKeyDown:H=>O(M,H),ref:H=>v.current[M]=H,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-xl font-bold text-gray-900 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0",disabled:g.otp},M))}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t.jsx("button",{type:"submit",disabled:l.some($=>!$)||g.otp,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g.otp?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(yN,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})}),t.jsx("button",{type:"button",onClick:E,disabled:g.otp,className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Resend OTP"})]})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:t.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[t.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(xu,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Account Settings"}),t.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"Manage your account information and preferences"})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(xu,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),t.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Profile Information"})]}),t.jsxs("form",{ref:w,onSubmit:k,children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[t.jsx(xu,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),t.jsx("input",{type:"text",value:u.name,onChange:$=>m({...u,name:$.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",disabled:g.profile||g.update,required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[t.jsx(X9,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Email Address"]}),t.jsx("input",{type:"email",value:u.email,onChange:$=>m({...u,email:$.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base",disabled:g.profile||g.update,required:!0})]}),t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[t.jsx(Z9,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Password (optional)"]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:a?"text":"password",value:u.password,onChange:$=>m({...u,password:$.target.value}),placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base",disabled:g.profile||g.update,minLength:8}),t.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:g.profile||g.update,children:a?t.jsx(Dh,{className:"w-5 h-5"}):t.jsx(Lh,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:u.password?"Password must be at least 8 characters":"Leave blank to keep current password"})]})]}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{type:"submit",disabled:g.profile||g.update,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g.update?t.jsxs("div",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Saving..."]}):t.jsxs("div",{className:"flex items-center",children:[t.jsx(yN,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 sm:p-6 lg:p-8",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center",children:t.jsx(Gh,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),t.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-900",children:"Danger Zone"})]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),t.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),t.jsx("button",{onClick:()=>f(!0),disabled:g.profile||g.update,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(jN,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})]}),h&&t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50  bg-opacity-50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:t.jsx(Gh,{className:"w-5 h-5 text-white"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete"})]}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>f(!1),disabled:g.delete,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>{f(!1),C()},disabled:g.delete,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:g.delete?t.jsxs("div",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):t.jsxs("div",{className:"flex items-center",children:[t.jsx(jN,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})})]}),t.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[t.jsx("div",{className:"absolute -inset-x-20 -top-14 h-28 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),t.jsxs("div",{className:"relative p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[t.jsx("p",{className:"text-sm text-slate-600 text-center sm:text-left",children:"By using this app you agree to our Terms of Service and Privacy Policy"}),t.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[t.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms of Service"}),t.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),t.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})]})})}const Dp="http://13.60.203.103",Fw={CALL_LOGS:`${Dp}/api/admin/call-logs`,VAPI_CALL_LOGS:`${Dp}/api/admin/vapi-call-logs`,CALL_LOG:e=>`${Dp}/api/admin/call-logs/${e}`},pbe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",fM=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const a=e.startsWith("/")?e:`/${e}`;return`${Dp}${a}`},xa=e=>{if(e==null)return"Unknown";const a=String(e).trim();return a===""||a.toLowerCase()==="null"||a.toLowerCase()==="undefined"?"Unknown":a},kh=e=>{if(!e)return"Unknown";try{const a=new Date(e);return Number.isNaN(a.getTime())?"Unknown":a.toLocaleString()}catch{return"Unknown"}},up=e=>{if(e==null||Number.isNaN(Number(e)))return"Unknown";const a=Number(e),s=Math.floor(a/60),n=Math.floor(a%60);return`${s}m ${n}s`},eu=e=>String(e??"").toLowerCase();function xM(e=[],a=[]){const s=[],n=new Map;for(const r of e){const l={_key:r.call_id?`local:${r.call_id}`:`local-id:${r.id}`,source:"local",id:r.id,call_id:r.call_id||null,started_at:r.call_started_at||null,ended_at:r.call_ended_at||null,duration:r.call_duration??null,cost:r.cost??null,status:r.status||"",ended_reason:r.call_ended_reason||"",transferred:!!r.is_transferred,criteria_satisfied:r.criteria_satisfied,customer_name:r.customer_name||"",customer_number:r.customer_number||"",user:r.user||null,assistant_id:null,phone_number_id:null,summary:null,transcript:null,analysis:null,recording_url:null,created_at:null,updated_at:null};s.push(l),l.call_id&&n.set(l.call_id,l)}for(const r of a){const l=r.call_id&&n.get(r.call_id),c={_key:r.call_id?`vapi:${r.call_id}`:`vapi-id:${r.id}`,source:"vapi",id:r.id,call_id:r.call_id||null,started_at:r.started_at||r.created_at||null,ended_at:r.ended_at||null,duration:r.duration??null,cost:r.cost??null,status:r.status||"",ended_reason:r.ended_reason||"",transferred:!!r.is_transferred,criteria_satisfied:r.criteria_satisfied,customer_name:r.customer_name||"",customer_number:r.customer_number||"",user:null,assistant_id:r.assistant_id||null,phone_number_id:r.phone_number_id||null,summary:r.summary||null,transcript:r.transcript||null,analysis:r.analysis||null,recording_url:r.recording_url||null,created_at:r.created_at||null,updated_at:r.updated_at||null};l?(l.assistant_id=l.assistant_id||c.assistant_id,l.phone_number_id=l.phone_number_id||c.phone_number_id,l.summary=c.summary??l.summary,l.transcript=c.transcript??l.transcript,l.analysis=c.analysis??l.analysis,l.recording_url=c.recording_url??l.recording_url,l.created_at=c.created_at??l.created_at,l.updated_at=c.updated_at??l.updated_at,l.source="both"):(s.push(c),c.call_id&&n.set(c.call_id,c))}return s.sort((r,l)=>new Date(l.started_at||0)-new Date(r.started_at||0)),s}function pM(e,a){const s=new Blob([a],{type:"text/plain;charset=utf-8"}),n=URL.createObjectURL(s),r=document.createElement("a");r.href=n,r.download=e,r.click(),URL.revokeObjectURL(n)}function gbe(e){var r,l,c;const a=["id","call_id","source","customer_name","customer_number","started_at","ended_at","duration","cost","status","ended_reason","transferred","criteria_satisfied","assistant_id","phone_number_id","user_id","user_name","user_email"],s=u=>{const m=u==null?"":String(u);return/[",\n]/.test(m)?`"${m.replaceAll('"','""')}"`:m},n=[a.join(",")];for(const u of e)n.push([u.id??"",u.call_id??"",u.source??"",u.customer_name??"",u.customer_number??"",u.started_at??"",u.ended_at??"",u.duration??"",u.cost??"",u.status??"",u.ended_reason??"",u.transferred??"",u.criteria_satisfied??"",u.assistant_id??"",u.phone_number_id??"",((r=u.user)==null?void 0:r.id)??"",((l=u.user)==null?void 0:l.name)??"",((c=u.user)==null?void 0:c.email)??""].map(s).join(","));return n.join(`
`)}function bbe(){var De;const[e,a]=x.useState([]),[s,n]=x.useState([]),[r,l]=x.useState([]),[c,u]=x.useState(!1),[m,h]=x.useState(""),[f,g]=x.useState(!0),[b,v]=x.useState(""),[w,j]=x.useState("all"),[S,k]=x.useState("all"),[_,C]=x.useState(""),[T,O]=x.useState(""),[E,$]=x.useState("started_at"),[M,H]=x.useState("desc"),[V,F]=x.useState(1),B=10,[ee,we]=x.useState(!1),[ne,A]=x.useState(null),[U,K]=x.useState(null),[z,I]=x.useState(null),[D,R]=x.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),Z=x.useCallback(async()=>{if(D){h("You're in impersonation mode. Exit impersonation to use admin tools."),a([]),n([]),l([]);return}const G=localStorage.getItem("token");if(!G){h("No auth token found."),L.error("No authentication token found."),a([]),n([]),l([]);return}try{u(!0),h("");const ce={Authorization:`Bearer ${G}`,Accept:"application/json"},[$e,qe]=await Promise.all([fetch(Fw.CALL_LOGS,{headers:ce,mode:"cors"}),f?fetch(Fw.VAPI_CALL_LOGS,{headers:ce,mode:"cors"}):Promise.resolve(null)]);if(!($e!=null&&$e.ok)){const te=await $e.text();throw new Error(`Call logs HTTP ${$e.status}${te?`  ${te}`:""}`)}const ye=await $e.json(),Be=Array.isArray(ye==null?void 0:ye.call_logs)?ye.call_logs:[];let _e=[];if(f&&qe){if(!qe.ok){const Y=await qe.text();throw new Error(`VAPI call logs HTTP ${qe.status}${Y?`  ${Y}`:""}`)}const te=await qe.json();_e=Array.isArray(te==null?void 0:te.call_logs)?te.call_logs:[]}a(Be),n(_e),l(xM(Be,_e))}catch(ce){h((ce==null?void 0:ce.message)||"Failed to load call logs"),L.error((ce==null?void 0:ce.message)||"Failed to load call logs")}finally{u(!1)}},[f,D]);x.useEffect(()=>{Z()},[Z]),x.useEffect(()=>{l(xM(e,f?s:[]))},[e,s,f]);const de=x.useMemo(()=>{const G=new Set(r.map(ce=>(ce.status||"").toLowerCase()).filter(Boolean));return["all",...Array.from(G)]},[r]),le=x.useMemo(()=>{let G=[...r];if(b.trim()){const ce=b.trim().toLowerCase();G=G.filter($e=>{var qe,ye;return eu($e.customer_name).includes(ce)||eu($e.customer_number).includes(ce)||eu($e.call_id).includes(ce)||eu((qe=$e.user)==null?void 0:qe.email).includes(ce)||eu((ye=$e.user)==null?void 0:ye.name).includes(ce)})}if(w!=="all"&&(G=G.filter(ce=>eu(ce.status)===w)),S!=="all"){const ce=S==="yes";G=G.filter($e=>!!$e.transferred===ce)}if(_){const ce=new Date(_).getTime();G=G.filter($e=>new Date($e.started_at||0).getTime()>=ce)}if(T){const ce=new Date(T).getTime();G=G.filter($e=>new Date($e.started_at||0).getTime()<=ce)}return G.sort((ce,$e)=>{const qe=M==="asc"?1:-1,ye=ce[E],Be=$e[E];return E.includes("date")||E.includes("started")?qe*(new Date(ye||0)-new Date(Be||0)):qe*((ye??0)-(Be??0))}),G},[r,b,w,S,_,T,E,M]),be=Math.max(1,Math.ceil(le.length/B)),Ue=V*B,xe=Ue-B,ve=le.slice(xe,Ue);x.useEffect(()=>{F(1)},[b,w,S,_,T,E,M]);const Ie=x.useMemo(()=>{const G=le.length,ce=le.filter(Be=>Be.transferred).length,$e=G-ce,qe=le.reduce((Be,_e)=>Be+(Number.isFinite(Number(_e.duration))?Number(_e.duration):0),0),ye=le.reduce((Be,_e)=>Be+(Number.isFinite(Number(_e.cost))?Number(_e.cost):0),0);return{total:G,transferred:ce,notTransferred:$e,totalDuration:qe,totalCost:ye}},[le]),Ye=G=>{A(G),we(!0)},ke=G=>K((G==null?void 0:G.id)||null),Je=async()=>{const G=U;if(!G)return;const ce=localStorage.getItem("token");if(!ce)return L.error("No authentication token found.");try{I(G);const $e=await fetch(Fw.CALL_LOG(G),{method:"DELETE",headers:{Authorization:`Bearer ${ce}`,Accept:"application/json"}}),qe=await $e.json();if(!$e.ok||!(qe!=null&&qe.success))throw new Error((qe==null?void 0:qe.detail)||(qe==null?void 0:qe.message)||`HTTP ${$e.status}`);L.success(" Call log deleted"),K(null),a(ye=>ye.filter(Be=>Be.id!==G))}catch($e){L.error(($e==null?void 0:$e.message)||"Delete failed")}finally{I(null)}},Xe=()=>{const G=gbe(le),ce=new Date().toISOString().replace(/[:.]/g,"-");pM(`call-history-${ce}.csv`,G)},ue=()=>{v(""),j("all"),k("all"),C(""),O(""),$("started_at"),H("desc")},ie=()=>{const G=localStorage.getItem("admin_token_backup");if(!G){L.error("No admin backup token found.");return}localStorage.setItem("token",G),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),R(null),L.success(" Exited impersonation"),window.location.reload()};return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[D&&t.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:t.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[t.jsx(l1,{className:"h-4 w-4 shrink-0"}),t.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),t.jsxs("span",{className:"truncate",children:["Acting as ",t.jsx("b",{className:"break-all",children:xa((De=D.acting_as)==null?void 0:De.email)})]})]}),t.jsx(Cn,{onClick:ie,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:"Exit"})]})}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Tc,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${pbe}`,children:"Call History"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View, filter, export, and manage call logs from local DB and VAPI."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"text-xs sm:text-sm flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx(IN,{className:"h-4 w-4"}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:f,onChange:G=>g(G.target.checked),disabled:!!D,"aria-label":"Include VAPI logs"}),"Include VAPI logs"]})]}),t.jsxs(Cn,{onClick:Xe,disabled:le.length===0||!!D,"aria-label":"Export CSV",children:[t.jsx(cl,{className:"mr-2 h-4 w-4"})," Export CSV"]}),t.jsx(Cn,{onClick:Z,disabled:c||!!D,"aria-label":"Refresh",children:c?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(Vw,{label:"Total Calls",value:Ie.total,Icon:l1,tone:"blue"}),t.jsx(Vw,{label:"Transferred",value:Ie.transferred,Icon:ra,tone:"cyan"}),t.jsx(Vw,{label:"Not Transferred",value:Ie.notTransferred,Icon:Mn,tone:"blue"}),t.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-inner ring-1 ring-cyan-200/60",children:t.jsx(a2,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:"Total Duration / Cost"}),t.jsxs("div",{className:"text-sm font-black text-slate-900",children:[up(Ie.totalDuration),"  $",Ie.totalCost.toFixed(2)]})]})]})})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-12 md:items-end",children:[t.jsxs("div",{className:"md:col-span-4",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Us,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:b,onChange:G=>v(G.target.value),placeholder:"Name, number, call id, user",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!D,"aria-label":"Search calls"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Status"}),t.jsx("select",{value:w,onChange:G=>j(G.target.value),disabled:!!D,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by status",children:de.map(G=>t.jsx("option",{value:G,children:G==="all"?"All statuses":G},G))})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Transferred"}),t.jsxs("select",{value:S,onChange:G=>k(G.target.value),disabled:!!D,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by transfer",children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"yes",children:"Yes"}),t.jsx("option",{value:"no",children:"No"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"From"}),t.jsx("input",{type:"datetime-local",value:_,onChange:G=>C(G.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"From date"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"To"}),t.jsx("input",{type:"datetime-local",value:T,onChange:G=>O(G.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"To date"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Sort"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:E,onChange:G=>$(G.target.value),className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort by",children:[t.jsx("option",{value:"started_at",children:"Start time"}),t.jsx("option",{value:"duration",children:"Duration"}),t.jsx("option",{value:"cost",children:"Cost"})]}),t.jsxs("select",{value:M,onChange:G=>H(G.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort order",children:[t.jsx("option",{value:"desc",children:"Desc"}),t.jsx("option",{value:"asc",children:"Asc"})]})]})]}),t.jsx("div",{className:"md:col-span-12 flex justify-end",children:(b||w!=="all"||S!=="all"||_||T||E!=="started_at"||M!=="desc")&&t.jsxs(Cn,{onClick:ue,className:"text-slate-700","aria-label":"Clear filters",children:[t.jsx(_i,{className:"h-4 w-4 mr-2"})," Clear Filters"]})})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(Tc,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Calls (",le.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),D?t.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:t.jsx(l1,{className:"h-9 w-9 text-amber-500"})}),t.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),t.jsx("div",{className:"mt-3",children:t.jsx(Cn,{onClick:ie,variant:"primary",children:"Exit Impersonation"})})]}):c?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading calls"})]}):le.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(St,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(el,{children:"Caller"}),t.jsx(el,{children:"User"}),t.jsx(el,{children:"Start"}),t.jsx(el,{children:"Duration"}),t.jsx(el,{children:"Status"}),t.jsx(el,{children:"Transferred"}),t.jsx(el,{children:"Cost"}),t.jsx(el,{children:"Source"}),t.jsx(el,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:ve.map(G=>{const ce=G.cost===null||G.cost===void 0||Number.isNaN(Number(G.cost))?"Unknown":Number(G.cost).toFixed(2);return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(tl,{children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:xa(G.customer_name)}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all flex items-center gap-1",children:[t.jsx(St,{className:"h-3.5 w-3.5"})," ",xa(G.customer_number)]}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["CID: ",xa(G.call_id)]})]})}),t.jsx(tl,{children:G.user?t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-xs font-semibold text-slate-800 truncate flex items-center gap-1",children:[t.jsx(jc,{className:"h-3.5 w-3.5"})," ",xa(G.user.name)]}),t.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:xa(G.user.email)})]}):t.jsx("span",{className:"text-xs text-slate-500",children:"Unknown"})}),t.jsxs(tl,{children:[t.jsx("div",{className:"text-xs text-slate-800",children:kh(G.started_at)}),t.jsx("div",{className:"text-[11px] text-slate-500",children:kh(G.ended_at)})]}),t.jsx(tl,{children:t.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[t.jsx(po,{className:"h-3.5 w-3.5"})," ",up(G.duration)]})}),t.jsxs(tl,{children:[t.jsx(ro,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:xa(G.status)}),t.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Reason: ",xa(G.ended_reason)]})]}),t.jsx(tl,{children:G.transferred?t.jsxs(ro,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ra,{className:"mr-1 h-3.5 w-3.5"})," Yes"]}):t.jsxs(ro,{className:"border bg-red-100 text-red-700 border-red-200",children:[t.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"})," No"]})}),t.jsx(tl,{children:t.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[t.jsx(a2,{className:"h-3.5 w-3.5"})," ",ce]})}),t.jsx(tl,{children:t.jsx(ro,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:xa(G.source)})}),t.jsx(tl,{children:t.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[t.jsx(Cn,{onClick:()=>Ye(G),variant:"outline",size:"sm",title:"View details","aria-label":"View details",children:t.jsx(wa,{className:"h-4 w-4"})}),G.source!=="vapi"&&t.jsx(Cn,{onClick:()=>ke(G),variant:"danger",size:"sm",title:"Delete","aria-label":"Delete",children:z===G.id?t.jsx(Ze,{className:"h-4 w-4 animate-spin"}):t.jsx(ka,{className:"h-4 w-4"})})]})})]},G._key)})})]})})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ve.map((G,ce)=>{const $e=G.cost===null||G.cost===void 0||Number.isNaN(Number(G.cost))?"Unknown":Number(G.cost).toFixed(2);return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[ce===0&&t.jsx(vbe,{}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-base font-bold text-slate-900 truncate flex items-center gap-2",children:[t.jsx(St,{className:"h-4 w-4 text-slate-500"})," ",xa(G.customer_name)]}),t.jsx("div",{className:"mt-0.5 text-sm text-slate-600 break-all",children:xa(G.customer_number)}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 break-all",children:["CID: ",xa(G.call_id)]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:kh(G.started_at)}),t.jsxs("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:[t.jsx(po,{className:"h-3.5 w-3.5 mr-1"})," ",up(G.duration)]}),t.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-blue-100 text-blue-700 text-[11px] font-semibold",children:xa(G.status)}),t.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:xa(G.source)})]}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Reason: ",xa(G.ended_reason)]}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Cost: ",$e]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsxs(Cn,{onClick:()=>Ye(G),size:"sm",className:"grow sm:grow-0","aria-label":"View",children:[t.jsx(wa,{className:"h-4 w-4 mr-1"})," View"]}),G.source!=="vapi"&&t.jsx(Cn,{onClick:()=>ke(G),variant:"danger",size:"sm",className:"grow sm:grow-0","aria-label":"Delete",children:z===G.id?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):t.jsxs(t.Fragment,{children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Delete"]})})]})]},G._key)})})}),le.length>B&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("b",{children:xe+1}),"",t.jsx("b",{children:Math.min(Ue,le.length)})," of ",t.jsx("b",{children:le.length})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(Cn,{onClick:()=>F(G=>Math.max(1,G-1)),disabled:V===1,children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"})," Prev"]}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,be)},(G,ce)=>{let $e;if(be<=5||V<=3?$e=ce+1:V>=be-2?$e=be-4+ce:$e=V-2+ce,$e<1||$e>be)return null;const qe=V===$e;return t.jsx("button",{onClick:()=>F($e),className:`px-3 py-2 text-sm font-semibold rounded-xl ${qe?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,"aria-label":`Page ${$e}`,children:$e},$e)})}),t.jsxs(Cn,{onClick:()=>F(G=>Math.min(be,G+1)),disabled:V>=be,children:["Next ",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(jt,{children:U&&t.jsxs(ybe,{onClose:()=>K(null),title:"Confirm Delete",children:[t.jsx("div",{className:"text-slate-800",children:"Are you sure you want to delete this call log? This action cannot be undone."}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(Cn,{onClick:()=>K(null),variant:"subtle",children:"Cancel"}),t.jsx(Cn,{onClick:Je,disabled:z===U,variant:"danger",children:z===U?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})}),t.jsx(jt,{children:ee&&ne&&t.jsx(jbe,{onClose:()=>we(!1),title:"Call Details",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3 min-w-0",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"font-bold text-slate-900 truncate flex items-center gap-2",children:[t.jsx(St,{className:"h-4 w-4 text-slate-500"})," ",xa(ne.customer_name)]}),t.jsx("div",{className:"text-sm text-slate-600 break-all",children:xa(ne.customer_number)}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all mt-1",children:["Call ID: ",xa(ne.call_id)]}),t.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[t.jsx(ro,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:xa(ne.source)}),t.jsx(ro,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:xa(ne.status)}),ne.transferred?t.jsx(ro,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Transferred"}):t.jsx(ro,{className:"border bg-red-100 text-red-700 border-red-200",children:"Not transferred"})]})]}),t.jsxs("div",{className:"text-right text-sm text-slate-700",children:[t.jsxs("div",{children:[t.jsx("b",{children:"Start:"})," ",kh(ne.started_at)]}),t.jsxs("div",{children:[t.jsx("b",{children:"End:"})," ",kh(ne.ended_at)]}),t.jsxs("div",{className:"mt-1",children:[t.jsx("b",{children:"Duration:"})," ",up(ne.duration)]}),t.jsxs("div",{children:[t.jsx("b",{children:"Cost:"})," ",ne.cost===null||ne.cost===void 0||Number.isNaN(Number(ne.cost))?"Unknown":`$${Number(ne.cost).toFixed(2)}`]})]})]}),ne.user?t.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(jc,{className:"h-3.5 w-3.5"}),t.jsx("span",{className:"font-semibold",children:"User:"})," ",xa(ne.user.name)]}),t.jsx("div",{className:"ml-5 break-all",children:xa(ne.user.email)})]}):t.jsx("div",{className:"mt-3 text-xs text-slate-600",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(jc,{className:"h-3.5 w-3.5"}),t.jsx("span",{className:"font-semibold",children:"User:"})," Unknown"]})}),(ne.assistant_id||ne.phone_number_id)&&t.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[t.jsxs("div",{children:[t.jsx("b",{children:"Assistant ID:"})," ",xa(ne.assistant_id)]}),t.jsxs("div",{children:[t.jsx("b",{children:"Phone Number ID:"})," ",xa(ne.phone_number_id)]})]}),t.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[t.jsx("b",{children:"End Reason:"})," ",xa(ne.ended_reason)]})]}),ne.recording_url&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Recording"}),t.jsx("audio",{controls:!0,className:"w-full",children:t.jsx("source",{src:fM(ne.recording_url)||ne.recording_url})}),t.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.jsxs("a",{href:fM(ne.recording_url)||ne.recording_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-xs inline-flex items-center gap-1",children:[t.jsx(Wr,{className:"h-3.5 w-3.5"})," Open recording URL"]})})]}),ne.summary&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Summary"}),t.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:ne.summary})]}),ne.transcript&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Transcript"}),t.jsxs(Cn,{onClick:()=>pM(`transcript-${ne.call_id||ne.id}.txt`,ne.transcript),size:"sm",children:[t.jsx(cl,{className:"h-4 w-4 mr-2"})," Save .txt"]})]}),t.jsx("div",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap max-h-72 overflow-auto",children:ne.transcript})]}),ne.analysis&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),t.jsx("pre",{className:"text-xs bg-slate-50 border border-slate-200 rounded-xl p-3 overflow-auto max-h-64",children:typeof ne.analysis=="string"?ne.analysis:JSON.stringify(ne.analysis,null,2)})]})]})})})]})}function Vw({label:e,value:a,Icon:s,tone:n="blue"}){const r=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(s,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})})}function ro({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function vbe(){return t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Cn({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[n]} ${u[s]} ${a}`,children:e})}function el({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function tl({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function ybe({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx("button",{onClick:a,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function jbe({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a}),t.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx("button",{onClick:a,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),t.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const vi={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},gM=/^\+\d{7,15}$/,bM=[{id:1,key:"core",label:"Core & Transcription",Icon:DN},{id:2,key:"voice",label:"Voice",Icon:UN},{id:3,key:"review",label:"Review & Create",Icon:Fc}],wbe=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Nbe=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Sbe(){const e=ba(),[a,s]=x.useState(1),[n,r]=x.useState(!1),[l,c]=x.useState(!1),u=x.useRef(null),[m,h]=x.useState(!1),[f,g]=x.useState("all"),[b,v]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=x.useState({}),[S,k]=x.useState([]),[_,C]=x.useState(!1),[T,O]=x.useState(""),E=x.useMemo(()=>{const A=b.voice_provider==="openai"?nm:qc;return(f==="all"?A:A.filter(K=>K.gender===f)).slice().sort((K,z)=>((K==null?void 0:K.showName)||"").localeCompare((z==null?void 0:z.showName)||""))},[b.voice_provider,f]);x.useEffect(()=>{if(!b.voice)return;const A=E.find(U=>(U==null?void 0:U.name)===b.voice);A!=null&&A.voice&&(v(U=>({...U,voice_model:A.voice})),j(U=>({...U,voice_model:""})))},[b.voice,E]);const $="http://13.60.203.103",M=A=>{const{id:U,value:K,type:z,checked:I}=A.target,D=z==="checkbox"?I:K;v(R=>({...R,[U]:D})),j(R=>({...R,[U]:""}))},H=A=>{try{u.current&&(u.current.pause(),u.current=null);const U=new Audio(A);u.current=U,c(!0),U.play().catch(()=>{L.error("Failed to play voice preview"),c(!1),u.current=null}),U.onended=()=>{c(!1),u.current=null}}catch{L.error("Failed to play voice preview"),c(!1)}},V=()=>{u.current&&(u.current.pause(),u.current=null,c(!1))},F=A=>{if(A!==a){if(A===3&&(!b.voice||!m)){j(U=>({...U,voice:"Select a voice and press Next to continue"})),L.error("Please select a voice and press Next to continue.");return}V(),s(A)}},B=()=>{if(a===1){s(2);return}if(a===2){if(!b.voice){j(A=>({...A,voice:"Please select a voice"})),L.error("Select a voice to continue.");return}if(!m){j(A=>({...A,voice:"Click a voice card to confirm your choice"})),L.info("Click a voice card to confirm your choice.");return}s(3)}},ee=async()=>{C(!0),O("");try{const A=localStorage.getItem("token"),U=await fetch(`${$}/api/purchased_numbers`,{headers:{Accept:"application/json",...A?{Authorization:`Bearer ${A}`}:{}}});if(!U.ok)throw new Error(`HTTP ${U.status}`);const K=await U.json(),I=(Array.isArray(K)?K:(K==null?void 0:K.purchased_numbers)||[]).filter(Boolean).map(D=>({phone_number:(D==null?void 0:D.phone_number)||"",friendly_name:(D==null?void 0:D.friendly_name)||"",attached_assistant:(D==null?void 0:D.attached_assistant)??null})).filter(D=>D.phone_number);k(I)}catch(A){console.error(A),O("Failed to load your purchased numbers"),k([])}finally{C(!1)}};x.useEffect(()=>{ee()},[]);const we=()=>{const A=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],U={};let K=!0;if(A.forEach(z=>{const I=b[z];(I==null||I===""||Number.isNaN(I))&&(U[z]="Required",K=!1)}),(b.temperature<0||b.temperature>2)&&(U.temperature="Temperature must be between 0 and 2",K=!1),b.maxTokens<1&&(U.maxTokens="maxTokens must be a positive integer",K=!1),b.forwardingPhoneNumber&&!gM.test(b.forwardingPhoneNumber)&&(U.forwardingPhoneNumber="Must be E.164 (+123...)",K=!1),b.attached_Number&&!gM.test(b.attached_Number)&&(U.attached_Number="Invalid number format",K=!1),j(U),!K){const z=R=>R.some(Z=>U[Z]),I=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],D=["voice_provider","voice_model","voice"];z(I)?s(1):z(D)&&s(2)}return K},ne=async A=>{if(A.preventDefault(),!n){if(a!==3){L.error("Please complete the steps first.");return}if(we()){r(!0),V();try{const U=localStorage.getItem("token"),K=`${$}/api/assistants`,z={name:b.name,provider:b.provider,first_message:b.first_message||null,model:b.model,systemPrompt:b.systemPrompt||null,knowledgeBase:b.knowledgeBase,leadsfile:b.leadsfile,temperature:Number(b.temperature),maxTokens:Number(b.maxTokens),transcribe_provider:b.transcribe_provider,transcribe_language:b.transcribe_language,transcribe_model:b.transcribe_model,languages:b.languages,forwardingPhoneNumber:b.forwardingPhoneNumber||null,endCallPhrases:b.endCallPhrases,voice_provider:b.voice_provider,voice:b.voice,voice_model:b.voice_model,attached_Number:b.attached_Number||null,draft:!!b.draft,assistant_toggle:!!b.assistant_toggle,category:b.category||null,speed:Number(b.speed),stability:Number(b.stability),similarityBoost:Number(b.similarityBoost)},I=await fetch(K,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...U?{Authorization:`Bearer ${U}`}:{}},body:JSON.stringify(z)});if(!I.ok){let D=`HTTP ${I.status}`;try{const R=await I.json();R!=null&&R.detail&&(D=R.detail)}catch{const R=await I.text();R&&(D=`${D}  ${R}`)}throw new Error(D)}L.success("Assistant created successfully!"),e("/user/callassistent")}catch(U){L.error((U==null?void 0:U.message)||"Failed to create assistant")}finally{r(!1)}}}};return x.useEffect(()=>{h(!1),v(A=>({...A,voice:"",voice_model:""}))},[b.voice_provider]),t.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:vi.background},children:[t.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:t.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),t.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),t.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[t.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:vi.border,backgroundColor:vi.card},children:t.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[t.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),t.jsxs("div",{className:"relative p-6 text-center",children:[t.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[t.jsx(Fc,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),t.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),t.jsx(_be,{currentStep:a,onChange:F}),t.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:vi.card,borderColor:vi.border},children:t.jsxs("form",{onSubmit:ne,noValidate:!0,children:[t.jsxs(jt,{mode:"wait",children:[a===1&&t.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsx(mp,{id:"name",label:"Assistant Name",value:b.name,onChange:M,error:w.name,placeholder:"SupportBot"}),t.jsx(mp,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:b.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Jh,{children:"Attach Purchased Number (optional)"}),t.jsx("button",{type:"button",onClick:ee,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),t.jsxs("select",{id:"attached_Number",value:b.attached_Number,onChange:M,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[t.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(A=>t.jsx("option",{value:A.phone_number,className:"bg-white",children:A.friendly_name?`${A.friendly_name}  ${A.phone_number}`:A.phone_number},A.phone_number))]}),T&&t.jsx(xc,{children:T}),w.attached_Number&&t.jsx(xc,{children:w.attached_Number})]}),t.jsx(mp,{id:"category",label:"Category (optional)",value:b.category,onChange:M}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Jh,{children:"System Prompt"}),t.jsx(jM,{id:"systemPrompt",value:b.systemPrompt,onChange:M,placeholder:"Write your system prompt",rows:4}),w.systemPrompt&&t.jsx(xc,{children:w.systemPrompt})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Jh,{children:"First Message"}),t.jsx(jM,{id:"first_message",value:b.first_message,onChange:M,placeholder:"Hello! ",rows:3}),w.first_message&&t.jsx(xc,{children:w.first_message})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[t.jsx(wM,{id:"draft",label:"Save as Draft",checked:b.draft,onChange:M}),t.jsx(wM,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:b.assistant_toggle,onChange:M})]})]},"step1"),a===2&&t.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsx(yM,{id:"voice_provider",label:"Voice Provider",value:b.voice_provider,onChange:A=>{V();const U=A.target.value;v(K=>({...K,voice_provider:U,voice:"",voice_model:""})),h(!1),j(K=>({...K,voice:"",voice_model:""}))},options:wbe,error:w.voice_provider}),t.jsx(yM,{id:"genderFilter",label:"Gender",value:f,onChange:A=>{V(),g(A.target.value),h(!1)},options:Nbe}),t.jsx(mp,{id:"voice_model",label:"Voice Model",value:b.voice_model,onChange:()=>{},error:w.voice_model,placeholder:b.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!m&&t.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",t.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",t.jsx("span",{className:"font-medium",children:"Next"}),"."]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&t.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:vi.border},children:"No voices match this filter."}),E.map(A=>t.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:b.voice===A.name?"#93c5fd":vi.border,backgroundColor:b.voice===A.name?"#eff6ff":vi.card},onClick:()=>{v(U=>({...U,voice:A.name,voice_model:A.voice,voice_provider:A.provider||b.voice_provider})),h(!0),j(U=>({...U,voice:"",voice_model:""}))},children:[t.jsx("div",{className:"absolute left-3 top-3",children:t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${b.voice===A.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),t.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold text-slate-900",children:A.showName||A.name}),t.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[A.gender||"unknown","  ",A.provider]}),t.jsx("div",{className:"mt-1 text-xs text-slate-500",children:A.voice})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(kbe,{isActive:l&&b.voice===A.name,onPlay:()=>H(A.audioSr||""),onStop:V})})]})]},`${A.provider}-${A.name}`))]}),w.voice&&t.jsx(xc,{children:w.voice})]},"step2"),a===3&&t.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:t.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:vi.border},children:[t.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx(ac,{label:"Name",value:b.name||""}),t.jsx(ac,{label:"Model",value:`${b.provider}  ${b.model}`}),t.jsx(ac,{label:"Voice Provider",value:b.voice_provider}),t.jsx(ac,{label:"Voice",value:b.voice||""}),t.jsx(ac,{label:"Voice Model",value:b.voice_model||""}),t.jsx(ac,{label:"Forwarding Number",value:b.forwardingPhoneNumber||""}),t.jsx(ac,{label:"Attach Number",value:b.attached_Number||""})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[t.jsx(Hw,{onClick:()=>s(2),children:"Edit Voice"}),t.jsx(Hw,{onClick:()=>s(1),children:"Edit Core"})]})]})},"step3")]}),t.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[a>1?t.jsx(Hw,{onClick:()=>F(a-1),children:"Back"}):t.jsx("span",{}),a<3?t.jsxs(vM,{onClick:B,children:["Next ",t.jsx(Aa,{className:"ml-1 h-4 w-4"})]}):t.jsx(vM,{type:"submit",disabled:n,children:n?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Ma,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function _be({currentStep:e,onChange:a}){return t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:bM.map(({id:s,label:n,Icon:r})=>{const l=e===s;return t.jsxs(he.button,{onClick:()=>a(s),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[t.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:t.jsx(r,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:n}),t.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},s)})}),t.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:t.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/bM.length*100}%`}})})]})}function vM({children:e,onClick:a,type:s="button",disabled:n}){return t.jsx("button",{type:s,onClick:a,disabled:n,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${n?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function Hw({children:e,onClick:a}){return t.jsx("button",{type:"button",onClick:a,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Jh({children:e}){return t.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function xc({children:e}){return t.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function mp({id:e,label:a,value:s,onChange:n,error:r,placeholder:l,readOnly:c=!1,disabled:u=!1}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(Jh,{children:a}),t.jsx("input",{id:e,type:"text",value:s,onChange:n,placeholder:l,readOnly:c,disabled:u,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${u?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),r&&t.jsx(xc,{children:r})]})}function yM({id:e,label:a,value:s,onChange:n,options:r,error:l}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(Jh,{children:a}),t.jsx("select",{id:e,value:s,onChange:n,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:r.map(c=>t.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&t.jsx(xc,{children:l})]})}function jM({id:e,value:a,onChange:s,placeholder:n,rows:r=4}){return t.jsx("textarea",{id:e,value:a,onChange:s,placeholder:n,rows:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function wM({id:e,label:a,checked:s,onChange:n}){return t.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[t.jsx("input",{id:e,type:"checkbox",checked:s,onChange:n,className:"accent-blue-600"}),t.jsx("span",{children:a})]})}function ac({label:e,value:a}){return t.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:vi.border},children:[t.jsx("div",{className:"text-slate-500",children:e}),t.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:a})]})}function kbe({isActive:e,onPlay:a,onStop:s}){return t.jsx("div",{className:"flex items-center gap-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((n,r)=>t.jsx("div",{className:"w-1.5 rounded-sm bg-blue-500",style:{animation:`eqbar 0.9s ${n}ms ease-in-out infinite`}},r))}),t.jsx("button",{type:"button",onClick:s,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:t.jsx(wu,{className:"h-5 w-5"})})]}):t.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:t.jsx(Fu,{className:"h-5 w-5"})})})}const xt={primary:"#4F46E5",secondary:"#10B981",danger:"#EF4444",text:"#374151",lightText:"#6B7280",border:"#E5E7EB",background:"#F9FAFB",card:"#FFFFFF",hover:"#F9FAFB",radioSelected:"#1F2937",radioBorder:"#374151"},Cbe=()=>{const{assistantId:e}=kf(),a=ba(),[s,n]=x.useState(!1),[r,l]=x.useState(!1),[c,u]=x.useState(1),[m,h]=x.useState({name:"",phone:"",system_prompt:"",first_message:"",files:null,existing_file_urls:[],voice:"",voiceSet:"all"}),[f,g]=x.useState({name:"",phone:"",system_prompt:"",first_message:"",files:"",voice:""}),[b,v]=x.useState(!0),w=x.useRef(null),j=[...dw,...uw].sort((M,H)=>M.showName.localeCompare(H.showName));x.useEffect(()=>{(async()=>{const H=localStorage.getItem("token");if(!H){L.error("No authentication token found. Please log in."),a("/login");return}try{const V=await fetch("http://localhost:8000/api/admin/getassistant",{method:"GET",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}});if(!V.ok){if(V.status===403)throw new Error("Access denied: Invalid or insufficient permissions");if(V.status===401)throw new Error("Unauthorized: Please log in again");{const ee=await V.text();throw new Error(`HTTP error! Status: ${V.status}`)}}const B=(await V.json()).assistants.find(ee=>ee.assistant_id===e);if(!B)throw new Error("Assistant not found");h({name:B.name||"",phone:B.phone||"",system_prompt:B.system_prompt||"",first_message:B.first_message||"",files:null,existing_file_urls:B.file_urls||[],voice:B.voice||"",voiceSet:"all"}),v(!1)}catch(V){console.error("Error fetching assistant:",V.message),L.error(V.message),a("/")}})()},[e,a]),x.useEffect(()=>{var M;if(c===2&&!m.voice){const H=j.filter(V=>m.voiceSet==="voiceset1"?dw.includes(V):m.voiceSet==="voiceset2"?uw.includes(V):!0);H.length>0&&((M=H[0])!=null&&M.name)&&(h(V=>({...V,voice:H[0].name})),g(V=>({...V,voice:""})))}},[m.voiceSet,c]);const S=M=>{const{id:H,value:V}=M.target;h(F=>({...F,[H]:V})),g(F=>({...F,[H]:""}))},k=M=>{h(H=>({...H,files:M.target.files})),g(H=>({...H,files:""}))},_=()=>{const M={...f};let H=!0;const V=/^\+\d{10,15}$/,F=["text/plain","application/pdf","text/csv"],B=5*1024*1024;if(m.name.trim()||(M.name="Please enter an assistant name",H=!1),m.phone?V.test(m.phone)||(M.phone="Phone number must be in international format (e.g., +1234567890)",H=!1):(M.phone="Please select a phone number",H=!1),m.system_prompt.trim()||(M.system_prompt="Please enter a system prompt",H=!1),m.first_message.trim()||(M.first_message="Please enter a first message",H=!1),m.files&&m.files.length>0)for(let ee=0;ee<m.files.length;ee++){if(!F.includes(m.files[ee].type)){M.files="Only .txt, .pdf, and .csv files are allowed",H=!1;break}if(m.files[ee].size>B){M.files="Each file must be under 5MB",H=!1;break}}return g(M),H},C=()=>{const M={...f};let H=!0;return m.voice||(M.voice="Please select a voice",H=!1),g(M),H},T=M=>{w.current&&(w.current.pause(),w.current=null,l(!1));const H=new Audio(M);w.current=H,l(!0),H.play().catch(V=>{console.error("Error playing audio:",V),L.error("Failed to play voice preview"),l(!1)}),H.onended=()=>{l(!1),w.current=null}},O=()=>{w.current&&(w.current.pause(),w.current=null,l(!1))},E=M=>{M!==c&&(u(M),O())},$=async M=>{if(M.preventDefault(),s)return;const H=_(),V=C();if(!H){u(1);return}if(!V){u(2);return}n(!0),O();try{const F=new FormData;if(F.append("assistantName",m.name),F.append("phone",m.phone),F.append("systemPrompt",m.system_prompt),F.append("firstMessage",m.first_message),F.append("voice",m.voice),m.files)for(let we=0;we<m.files.length;we++)F.append("files",m.files[we]);m.existing_file_urls.length>0&&F.append("file_urls",JSON.stringify(m.existing_file_urls));const B=localStorage.getItem("token");if(!B)throw new Error("No authentication token found. Please log in.");const ee=await fetch(`http://localhost:8000/api/admin/update/assistant/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${B}`},body:F});if(!ee.ok){const we=await ee.text();throw new Error(`HTTP error! Status: ${ee.status}`)}L.success("Assistant updated successfully!"),a("/admin/assistants")}catch(F){console.error("Error updating assistant:",F.message),L.error(F.message)}finally{n(!1)}};return b?t.jsx("div",{className:"min-h-screen flex justify-center items-center",style:{backgroundColor:xt.background},children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:xt.primary}})}):t.jsx("div",{className:"min-h-screen",style:{backgroundColor:xt.background},children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[t.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-sm border py-4 px-6 text-center",style:{borderColor:xt.border},children:t.jsx("h1",{className:"text-3xl font-bold",style:{color:xt.text},children:"Edit Assistant"})}),t.jsxs("div",{className:"mb-6 flex justify-center gap-4",children:[t.jsx("button",{type:"button",onClick:()=>E(1),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===1?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 1: Assistant Details"}),t.jsx("button",{type:"button",onClick:()=>E(2),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===2?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 2: Voice Selection"})]}),t.jsx("div",{className:"rounded-xl shadow-md border p-8 transition-transform hover:scale-[1.01]",style:{backgroundColor:xt.card,borderColor:xt.border},children:t.jsxs("form",{onSubmit:$,noValidate:!0,children:[c===1&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{htmlFor:"name",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:xt.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Assistant Name"]}),t.jsx("input",{type:"text",id:"name",value:m.name,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card},placeholder:"Enter assistant name (e.g., SupportBot)"}),f.name&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:xt.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.name]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:xt.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone Number"]}),t.jsxs("select",{id:"phone",value:m.phone,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card},children:[t.jsx("option",{value:"",children:"Select a phone number"}),t.jsx("option",{value:"+1234567890",children:"+1234567890 (Demo)"}),t.jsx("option",{value:"+1987654321",children:"+1987654321"}),t.jsx("option",{value:"+1123456789",children:"+1123456789"})]}),f.phone&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:xt.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.phone]})]}),t.jsxs("div",{className:"mb-6 md:col-span-2",children:[t.jsxs("label",{htmlFor:"system_prompt",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:xt.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"System Prompt"]}),t.jsx("textarea",{id:"system_prompt",value:m.system_prompt,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card},placeholder:"Enter system prompt",rows:"5"}),f.system_prompt&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:xt.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.system_prompt]})]}),t.jsxs("div",{className:"mb-6 md:col-span-2",children:[t.jsxs("label",{htmlFor:"first_message",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:xt.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"First Message"]}),t.jsx("textarea",{id:"first_message",value:m.first_message,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card},placeholder:"Enter the assistant's first message",rows:"3"}),f.first_message&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:xt.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.first_message]})]}),t.jsxs("div",{className:"mb-6 md:col-span-2",children:[t.jsxs("label",{htmlFor:"files",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:xt.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add New Files (Optional)"]}),t.jsx("input",{type:"file",id:"files",multiple:!0,accept:".txt,.pdf,.csv",onChange:k,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card}}),f.files&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:xt.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.files]}),t.jsx("p",{className:"text-sm mt-2",style:{color:xt.lightText},children:"Supported formats: .txt, .pdf, .csv (max 5MB per file)"}),m.existing_file_urls.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"font-medium",style:{color:xt.text},children:"Existing Files:"}),t.jsx("ul",{className:"list-disc pl-5",children:m.existing_file_urls.map((M,H)=>t.jsx("li",{children:t.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-sm",style:{color:xt.primary},children:M})},H))})]})]})]}),c===2&&t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"voice",className:"flex items-center gap-2 text-lg font-semibold mb-4",style:{color:xt.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),"Voice Selection"]}),t.jsx("div",{className:"mb-6",children:t.jsxs("select",{id:"voiceSet",value:m.voiceSet,onChange:M=>{h(H=>({...H,voiceSet:M.target.value,voice:""})),g(H=>({...H,voice:""})),O()},className:"w-full md:w-64 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card},children:[t.jsx("option",{value:"all",children:"All Voices"}),t.jsx("option",{value:"voiceset1",children:"Voice Set 1"}),t.jsx("option",{value:"voiceset2",children:"Voice Set 2"})]})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.filter(M=>m.voiceSet==="voiceset1"?dw.includes(M):m.voiceSet==="voiceset2"?uw.includes(M):!0).map(M=>M&&M.name?t.jsxs("div",{className:`relative p-6 rounded-xl border cursor-pointer transition-all duration-300 shadow-sm hover:shadow-md ${m.voice===M.name?"border-gray-800 bg-gray-50":"border-gray-300 hover:bg-gray-100"}`,style:{borderColor:m.voice===M.name?xt.radioBorder:xt.border,backgroundColor:m.voice===M.name?xt.hover:xt.card},onClick:()=>{console.log("Selected voice:",M),h(H=>({...H,voice:M.name})),g(H=>({...H,voice:""}))},children:[t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${m.voice===M.name?"border-gray-800 bg-gray-800":"border-gray-400"}`,style:{borderColor:m.voice===M.name?xt.radioBorder:xt.border,backgroundColor:m.voice===M.name?xt.radioSelected:"transparent"},children:m.voice===M.name&&t.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})}),t.jsxs("div",{className:"ml-8 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg",style:{color:xt.text},children:M.showName||"Unnamed Voice"}),t.jsx("p",{className:"text-sm",style:{color:xt.lightText},children:M.gender||"Unknown"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:H=>{H.stopPropagation(),T(M.audioSr||"")},disabled:r&&m.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-emerald-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:xt.secondary,color:"white"},title:r&&m.voice!==M.name?"Audio playing":"Play voice preview",children:r&&m.voice===M.name?t.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12a8 8 0 1116 0 8 8 0 01-16 0z"})}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.2A1 1 0 0010 9.8v4.4a1 1 0 001.555.832l3.197-2.2a1 1 0 000-1.664z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),t.jsx("button",{type:"button",onClick:H=>{H.stopPropagation(),O()},disabled:!r||m.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-red-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:xt.danger,color:"white"},title:"Stop voice preview",children:t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9z"})]})})]})]})]},M.name):null)}),f.voice&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:xt.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.voice]})]}),t.jsxs("div",{className:"flex justify-between mt-6",children:[c===2&&t.jsx("button",{type:"button",onClick:()=>E(1),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-gray-300",style:{backgroundColor:xt.border,color:xt.text},children:"Back"}),c===1&&t.jsx("button",{type:"button",onClick:()=>E(2),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 ml-auto",style:{backgroundColor:xt.primary,color:"white"},children:"Next"}),c===2&&t.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:xt.primary,color:"white"},children:s?"Updating...":"Update Assistant"})]})]})})]})})},hp="http://13.60.203.103";function Abe(){const e=ba(),[a,s]=x.useState([]),[n,r]=x.useState(!0),[l,c]=x.useState(!1),[u,m]=x.useState(!0),[h,f]=x.useState(""),[g,b]=x.useState("all"),[v,w]=x.useState("all"),[j,S]=x.useState("created_at"),[k,_]=x.useState("desc"),[C,T]=x.useState(!1),[O,E]=x.useState(null),[$,M]=x.useState([]),[H,V]=x.useState(!1),[F,B]=x.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[ee,we]=x.useState(1),ne=10,A=x.useMemo(()=>localStorage.getItem("token"),[]),U=async()=>{try{c(!0);const ie=await fetch(`${hp}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:A?`Bearer ${A}`:""}});if(!ie.ok)throw new Error(`HTTP ${ie.status}`);const De=await ie.json(),G=Array.isArray(De)?De:Array.isArray(De==null?void 0:De.assistants)?De.assistants:[];s(G)}catch(ie){console.error(ie),L.error("Failed to fetch assistants")}finally{r(!1),c(!1)}};x.useEffect(()=>{U()},[]),x.useEffect(()=>{if(!u)return;const ie=setInterval(U,15e3);return()=>clearInterval(ie)},[u]);const K=x.useMemo(()=>{let ie=[...a];g!=="all"&&(ie=ie.filter(G=>((G==null?void 0:G.provider)||"").toLowerCase()===g)),v!=="all"&&(ie=ie.filter(G=>((G==null?void 0:G.category)||"").toLowerCase()===v));const De=h.trim().toLowerCase();return De&&(ie=ie.filter(G=>[G==null?void 0:G.name,G==null?void 0:G.model,G==null?void 0:G.voice,G==null?void 0:G.category,G==null?void 0:G.attached_Number].filter(Boolean).map(String).map($e=>$e.toLowerCase()).some($e=>$e.includes(De)))),ie.sort((G,ce)=>{if(j==="created_at"){const ye=G!=null&&G.created_at?new Date(G.created_at).getTime():0,Be=ce!=null&&ce.created_at?new Date(ce.created_at).getTime():0;return k==="asc"?ye-Be:Be-ye}const $e=((G==null?void 0:G[j])??"").toString().toLowerCase(),qe=((ce==null?void 0:ce[j])??"").toString().toLowerCase();return $e<qe?k==="asc"?-1:1:$e>qe?k==="asc"?1:-1:0}),ie},[a,h,g,v,j,k]),z=x.useMemo(()=>{const ie=new Set((a||[]).map(De=>((De==null?void 0:De.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(ie)]},[a]),I=x.useMemo(()=>{const ie=new Set((a||[]).map(De=>((De==null?void 0:De.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(ie)]},[a]),D=Math.max(1,Math.ceil(K.length/ne)),R=Math.min(ee,D),Z=K.slice((R-1)*ne,R*ne),de=x.useMemo(()=>K.length?K.reduce((ie,De)=>{const G=ie!=null&&ie.created_at?new Date(ie.created_at):null,ce=De!=null&&De.created_at?new Date(De.created_at):null;return!G&&ce?De:!ce&&G||!G&&!ce?ie:ce>G?De:ie},K[0]):null,[K]),le=ie=>{j===ie?_(De=>De==="asc"?"desc":"asc"):(S(ie),_("asc"))},be=ie=>{E(ie),T(!0)},Ue=async()=>{if(O)try{const ie=await fetch(`${hp}/api/assistants/${O}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:A?`Bearer ${A}`:""}});if(!ie.ok){let De=`HTTP ${ie.status}`;try{const G=await ie.json();G!=null&&G.detail&&(De=G.detail)}catch{}throw new Error(De)}L.success("Assistant deleted"),M(De=>De.filter(G=>G!==O)),U()}catch(ie){console.error(ie),L.error((ie==null?void 0:ie.message)||"Delete failed")}finally{T(!1),E(null)}},xe=ie=>{const De=ie==null?void 0:ie.knowledge_base;if(Array.isArray(De)&&De.length){const G=De.filter(ce=>typeof ce=="string"&&/^https?:\/\//i.test(ce));if(G.length){G.forEach(ce=>window.open(ce,"_blank","noopener"));return}}L.info("No file URLs available for this assistant.")},ve=ie=>{if(!(ie!=null&&ie.vapi_assistant_id)){L.error("Missing VAPI Assistant ID");return}B({vapi_assistant_id:ie.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),V(!0)},Ie=async ie=>{ie.preventDefault();const{vapi_assistant_id:De,number:G,first_name:ce,last_name:$e,email:qe}=F;if(!G)return L.error("Enter the customer's phone number (E.164 preferred)");try{const ye=`${hp}/api/phone-call/${encodeURIComponent(De)}/${encodeURIComponent(G)}`,Be={first_name:ce||"Caller",last_name:$e||"",email:qe||"caller@example.com",add_date:new Date().toISOString(),mobile_no:G,custom_field_01:null,custom_field_02:null},_e=await fetch(ye,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:A?`Bearer ${A}`:""},body:JSON.stringify(Be)}),te=await _e.json().catch(()=>({}));if(!_e.ok||(te==null?void 0:te.success)===!1)throw new Error((te==null?void 0:te.detail)||`HTTP ${_e.status}`);L.success("Call initiated"),V(!1)}catch(ye){console.error(ye),L.error((ye==null?void 0:ye.message)||"Failed to initiate call")}},Ye=ie=>$.includes(ie),ke=ie=>{M(De=>De.includes(ie)?De.filter(G=>G!==ie):[...De,ie])},Je=()=>{const ie=Z.map(G=>G.id).filter(Boolean),De=ie.every(G=>$.includes(G));M(G=>De?G.filter(ce=>!ie.includes(ce)):Array.from(new Set([...G,...ie])))},Xe=async()=>{if(!$.length)return L.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const ie of $)await fetch(`${hp}/api/assistants/${ie}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:A?`Bearer ${A}`:""}});L.success("Bulk delete complete"),M([]),U()}catch(ie){console.error(ie),L.error("Bulk delete encountered an error")}},ue=()=>{const ie=["Name","Model","Voice","Attached Number","Category","Created"],De=K.map(ye=>[(ye==null?void 0:ye.name)??"",(ye==null?void 0:ye.model)??"",(ye==null?void 0:ye.voice)??"",(ye==null?void 0:ye.attached_Number)??"",(ye==null?void 0:ye.category)??"",ye!=null&&ye.created_at?new Date(ye.created_at).toLocaleString():""]),G=[ie,...De].map(ye=>ye.map(Be=>`"${String(Be).replace(/"/g,'""')}"`).join(",")).join(`
`),ce=new Blob([G],{type:"text/csv;charset=utf-8;"}),$e=URL.createObjectURL(ce),qe=document.createElement("a");qe.href=$e,qe.download="assistants.csv",qe.click(),URL.revokeObjectURL($e)};return n?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:t.jsx("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[t.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),t.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),t.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((ie,De)=>t.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[t.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),t.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},De))}),t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[t.jsx("div",{className:"border-b border-gray-100 p-6",children:t.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((ie,De)=>t.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),t.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),t.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((G,ce)=>t.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},ce))})]})},De))]})]})})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),t.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),t.jsxs("div",{className:"relative mx-auto w-full max-w-[1400px] px-6 py-12",children:[t.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"text-white",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:t.jsx(Lu,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),t.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),t.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),t.jsxs("span",{children:[K.length," Active"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Pg,{className:"h-4 w-4"}),t.jsxs("span",{children:["Auto-refresh ",u?"enabled":"disabled"]})]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsxs("button",{onClick:()=>m(ie=>!ie),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${u?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${u?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),t.jsxs("button",{onClick:U,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[t.jsx(sI,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),t.jsxs("button",{onClick:ue,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[t.jsx(aI,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),t.jsxs("button",{onClick:()=>e("/admin/addassistands"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[t.jsx(zb,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(nI,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),t.jsx("input",{value:h,onChange:ie=>f(ie.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx(NM,{label:"Provider",value:g,onChange:b,options:z,icon:t.jsx(zxe,{className:"h-4 w-4"})}),t.jsx(NM,{label:"Category",value:v,onChange:w,options:I,icon:t.jsx(Nf,{className:"h-4 w-4"})})]})]})]})]}),t.jsxs("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(fp,{title:"Total Assistants",value:K.length,icon:t.jsx(Lu,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),t.jsx(fp,{title:"Active Calls",value:"24",icon:t.jsx(xo,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),t.jsx(fp,{title:"Success Rate",value:"94.2%",icon:t.jsx(ei,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),t.jsx(fp,{title:"Last Created",value:de!=null&&de.name?de.name.length>12?`${de.name.slice(0,12)}`:de.name:"",icon:t.jsx(Pg,{className:"h-6 w-6 text-cyan-600"}),subtitle:de!=null&&de.created_at?new Date(de.created_at).toLocaleDateString():""})]}),$.length>0&&t.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:t.jsx(ei,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-blue-900",children:[$.length," assistants selected"]}),t.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:Je,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),t.jsx("button",{onClick:Xe,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),K.length===0?t.jsx(Pbe,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[t.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),t.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[t.jsx("thead",{className:"bg-gray-50/60",children:t.jsxs("tr",{children:[t.jsx(Ebe,{className:"w-12 text-center",checked:Z.every(ie=>$.includes(ie.id))&&Z.length>0,onChange:Je}),t.jsx(tu,{className:"w-[24%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?k:null,onSort:le}),t.jsx(tu,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?k:null,onSort:le}),t.jsx(tu,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?k:null,onSort:le}),t.jsx(tu,{className:"w-[16%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?k:null,onSort:le}),t.jsx(tu,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?k:null,onSort:le}),t.jsx(tu,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?k:null,onSort:le}),t.jsx("th",{className:"w-[18%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:Z.map(ie=>t.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Ye(ie.id)?"bg-blue-50/50":""}`,children:[t.jsx(Tbe,{className:"w-12 text-center",checked:Ye(ie.id),onChange:()=>ke(ie.id)}),t.jsx("td",{className:"w-[24%] px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:t.jsx(Nf,{className:"h-5 w-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"max-w-[32ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:ie.name||""}),t.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(ie.knowledge_base)?ie.knowledge_base.length:0," KB items"]})]})]})}),t.jsx("td",{className:"w-[12%] px-6 py-4",children:t.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:t.jsx(vu,{variant:"secondary",children:ie.model||""})})}),t.jsx("td",{className:"w-[12%] px-6 py-4",children:t.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:t.jsx(vu,{variant:"accent",children:ie.voice||""})})}),t.jsx("td",{className:"w-[16%] px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("span",{className:"font-mono text-sm text-gray-700 break-all",children:ie.attached_Number||""}),ie.attached_Number&&t.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>Mbe(ie.attached_Number),children:t.jsx(tI,{className:"h-4 w-4"})})]})}),t.jsx("td",{className:"w-[10%] px-6 py-4",children:t.jsx("div",{className:"text-center",children:ie.category?t.jsx(vu,{variant:"primary",children:ie.category}):t.jsx("span",{className:"text-gray-400",children:""})})}),t.jsx("td",{className:"w-[8%] px-6 py-4 text-center text-sm text-gray-600 whitespace-nowrap",children:ie.created_at?new Date(ie.created_at).toLocaleDateString():""}),t.jsx("td",{className:"w-[18%] px-6 py-4",children:t.jsxs("div",{className:"mx-auto flex w-full items-center justify-center gap-2 whitespace-nowrap",children:[t.jsx(xp,{title:"Edit Assistant",onClick:()=>e(`/admin/edit-assistants/${ie.id}`),variant:"primary",children:t.jsx($b,{className:"h-4 w-4"})}),t.jsx(xp,{title:"View Files",onClick:()=>xe(ie),variant:"success",children:t.jsx(Ib,{className:"h-4 w-4"})}),t.jsx(xp,{title:"Start Call",onClick:()=>ve(ie),variant:"secondary",children:t.jsx(xo,{className:"h-4 w-4"})}),t.jsx(xp,{title:"Delete",onClick:()=>be(ie.id),variant:"danger",children:t.jsx(Ac,{className:"h-4 w-4"})})]})})]},ie.id??ie.name))})]})]}),t.jsx("div",{className:"space-y-4 xl:hidden",children:Z.map(ie=>t.jsx(Obe,{assistant:ie,isSelected:Ye(ie.id),onToggleSelect:()=>ke(ie.id),onEdit:()=>e(`/admin/edit-assistants/${ie.id}`),onViewFiles:()=>xe(ie),onCall:()=>ve(ie),onDelete:()=>be(ie.id)},ie.id??ie.name))}),t.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(R-1)*ne+1," to ",Math.min(R*ne,K.length)," of"," ",K.length," assistants"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(SM,{disabled:R<=1,onClick:()=>we(ie=>Math.max(1,ie-1)),children:[t.jsx(J9,{className:"h-4 w-4"}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,D)},(ie,De)=>{const G=De+1;return t.jsx("button",{onClick:()=>we(G),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${G===R?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:G},G)})}),t.jsxs(SM,{disabled:R>=D,onClick:()=>we(ie=>Math.min(D,ie+1)),children:["Next",t.jsx(Q9,{className:"h-4 w-4"})]})]})]})]})]}),C&&t.jsx(_M,{onClose:()=>T(!1),children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:t.jsx(Ac,{className:"h-8 w-8 text-red-600"})}),t.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),t.jsxs("div",{className:"flex justify-center gap-3",children:[t.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>T(!1),children:"Cancel"}),t.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:Ue,children:"Delete Assistant"})]})]})}),H&&t.jsxs(_M,{onClose:()=>V(!1),children:[t.jsxs("div",{className:"mb-6 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:t.jsx(xo,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),t.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),t.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[t.jsx(pp,{label:"Customer Phone Number",value:F.number,onChange:ie=>B(De=>({...De,number:ie})),placeholder:"+1 (555) 123-4567",required:!0}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[t.jsx(pp,{label:"First Name",value:F.first_name,onChange:ie=>B(De=>({...De,first_name:ie})),placeholder:"John"}),t.jsx(pp,{label:"Last Name",value:F.last_name,onChange:ie=>B(De=>({...De,last_name:ie})),placeholder:"Doe"})]}),t.jsx(pp,{label:"Email Address",value:F.email,onChange:ie=>B(De=>({...De,email:ie})),placeholder:"john@example.com",type:"email"}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>V(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function fp({title:e,value:a,icon:s,trend:n,trendUp:r,subtitle:l}){return t.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),s]}),t.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:a}),l&&t.jsx("div",{className:"text-sm text-gray-500",children:l}),n&&t.jsxs("div",{className:`text-sm font-medium ${r?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})]})}function NM({label:e,value:a,onChange:s,options:n}){return t.jsxs("div",{className:"relative",children:[t.jsx("select",{value:a,onChange:r=>s(r.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:n.map(r=>t.jsx("option",{value:r,className:"bg-gray-800 text-white",children:r==="all"?`All ${e}s`:r},r))}),t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:t.jsx(Rb,{className:"h-4 w-4 text-white/70"})})]})}function vu({children:e,variant:a="default"}){const s={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return t.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${s[a]}`,children:e})}function xp({title:e,onClick:a,children:s,variant:n="default"}){const r={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return t.jsx("button",{title:e,onClick:a,className:`rounded-xl p-2.5 transition-all duration-200 ${r[n]}`,children:s})}function tu({label:e,sortKey:a,sortDir:s,onSort:n,className:r="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return t.jsx("th",{className:`px-6 py-4 ${c} ${r}`,children:t.jsxs("button",{onClick:()=>n(a),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,t.jsxs("div",{className:"flex flex-col",children:[t.jsx(eI,{className:`h-3 w-3 transition-colors ${s==="asc"?"text-blue-600":"text-gray-400"}`}),t.jsx(Rb,{className:`-mt-1 h-3 w-3 transition-colors ${s==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Ebe({checked:e,onChange:a,className:s=""}){return t.jsx("th",{className:`px-6 py-4 ${s}`,children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("button",{onClick:a,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&t.jsx(ei,{className:"h-3 w-3"})})})})}function Tbe({checked:e,onChange:a,className:s=""}){return t.jsx("td",{className:`px-6 py-4 ${s}`,children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("button",{onClick:a,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&t.jsx(ei,{className:"h-3 w-3"})})})})}function Obe({assistant:e,isSelected:a,onToggleSelect:s,onEdit:n,onViewFiles:r,onCall:l,onDelete:c}){return t.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${a?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[t.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:s,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${a?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:a&&t.jsx(ei,{className:"h-4 w-4"})}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:t.jsx(Nf,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),t.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),t.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),t.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),t.jsx(vu,{variant:"secondary",children:e.model||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),t.jsx(vu,{variant:"accent",children:e.voice||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),t.jsx("div",{className:"font-mono text-sm break-all",children:e.attached_Number||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?t.jsx(vu,{variant:"primary",children:e.category}):t.jsx("span",{className:"text-gray-400",children:""})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[t.jsx($b,{className:"h-4 w-4"}),"Edit"]}),t.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[t.jsx(Ib,{className:"h-4 w-4"}),"Files"]}),t.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[t.jsx(xo,{className:"h-4 w-4"}),"Call"]}),t.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[t.jsx(Ac,{className:"h-4 w-4"}),"Delete"]})]})]})}function SM({disabled:e,onClick:a,children:s}){return t.jsx("button",{disabled:e,onClick:a,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:s})}function _M({children:e,onClose:a}){return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:a}),t.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[t.jsx("button",{onClick:a,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function pp({label:e,value:a,onChange:s,placeholder:n,required:r,type:l="text"}){return t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",r&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:l,value:a,onChange:c=>s(c.target.value),placeholder:n,required:r,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Pbe(){return t.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[t.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:t.jsx(Lu,{className:"h-10 w-10 text-blue-600"})}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),t.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),t.jsxs("a",{href:"/admin/addassistands",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[t.jsx(zb,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function Mbe(e){e&&navigator.clipboard.writeText(e).then(()=>L.success("Copied to clipboard")).catch(()=>L.info(e))}const kM="http://13.60.203.103",CM={PHONE_NUMBERS:`${kM}/api/admin/phone-numbers`,PHONE_NUMBER:e=>`${kM}/api/admin/phone-numbers/${e}`},Dbe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function AM(e){if(e==null||isNaN(Number(e)))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(e))}catch{return`$${Number(e).toFixed(2)}`}}function Vr({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[n]} ${u[s]} ${a}`,children:e})}function gp({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function sc({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function nc({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Lbe(){return t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function bp({label:e,value:a,Icon:s,tone:n="blue"}){const r=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(s,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function Rbe({name:e="?",size:a=38,url:s=null}){const n=(e||"?").split(" ").map(r=>r.charAt(0)).join("").toUpperCase().slice(0,2);return t.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:a,height:a},title:e,children:t.jsx("span",{style:{fontSize:a<40?12:13},children:n})})}function $be({children:e,onClose:a,title:s}){return t.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:s}),t.jsx(Vr,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(js,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Ibe(){var U,K;const[e,a]=x.useState([]),[s,n]=x.useState({total:0,attached:0,unattached:0,countries:0}),[r,l]=x.useState(!1),[c,u]=x.useState(""),[m,h]=x.useState(null),[f,g]=x.useState(""),[b,v]=x.useState("all"),[w,j]=x.useState("all"),[S,k]=x.useState(1),_=10,[C,T]=x.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),[O,E]=x.useState(null),$=x.useCallback(async()=>{if(C){a([]),n({total:0,attached:0,unattached:0,countries:0}),u("You're in impersonation mode. Exit impersonation to use admin tools.");return}const z=localStorage.getItem("token");if(!z){a([]),n({total:0,attached:0,unattached:0,countries:0}),u("No auth token found."),L.error("No authentication token found.");return}try{l(!0),u("");const I=await fetch(CM.PHONE_NUMBERS,{headers:{Authorization:`Bearer ${z}`,Accept:"application/json"},mode:"cors"});if(!I.ok){const Ue=await I.text();throw new Error(`HTTP ${I.status}${Ue?`  ${Ue}`:""}`)}const D=await I.json();if(!(D!=null&&D.success)||!Array.isArray(D==null?void 0:D.phone_numbers))throw new Error("Unexpected response shape.");const R=(D.phone_numbers||[]).map(Ue=>({id:Ue.id,phone_number:Ue.phone_number,friendly_name:Ue.friendly_name||"",region:Ue.region||"",postal_code:Ue.postal_code||"",iso_country:(Ue.iso_country||"").toUpperCase(),last_month_payment:Ue.last_month_payment,created_at:Ue.created_at,updated_at:Ue.updated_at,attached_assistant:Ue.attached_assistant,vapi_phone_uuid:Ue.vapi_phone_uuid||null,owner:Ue.user||null}));R.sort((Ue,xe)=>new Date(xe.updated_at||xe.created_at||0)-new Date(Ue.updated_at||Ue.created_at||0)),a(R);const Z=R.filter(Ue=>Ue.attached_assistant!==null&&Ue.attached_assistant!==void 0).length,de=D.total_phone_numbers??R.length,le=Math.max(0,de-Z),be=new Set(R.map(Ue=>Ue.iso_country||"")).size;n({total:de,attached:Z,unattached:le,countries:be})}catch(I){u((I==null?void 0:I.message)||"Failed to load phone numbers"),L.error((I==null?void 0:I.message)||"Failed to load phone numbers")}finally{l(!1)}},[C]);x.useEffect(()=>{$()},[$]);const M=x.useMemo(()=>{const z=new Set(e.map(I=>I.iso_country).filter(Boolean));return["all",...Array.from(z).sort()]},[e]),H=x.useMemo(()=>{let z=[...e];if(f.trim()){const I=f.trim().toLowerCase();z=z.filter(D=>{var R,Z;return String(D.phone_number||"").toLowerCase().includes(I)||String(D.friendly_name||"").toLowerCase().includes(I)||String(D.region||"").toLowerCase().includes(I)||String(D.postal_code||"").toLowerCase().includes(I)||String(((R=D.owner)==null?void 0:R.name)||"").toLowerCase().includes(I)||String(((Z=D.owner)==null?void 0:Z.email)||"").toLowerCase().includes(I)})}return b!=="all"&&(z=z.filter(I=>b==="attached"?I.attached_assistant:!I.attached_assistant)),w!=="all"&&(z=z.filter(I=>(I.iso_country||"").toUpperCase()===w)),z},[e,f,b,w]),V=Math.max(1,Math.ceil(H.length/_)),F=S*_,B=F-_,ee=H.slice(B,F);x.useEffect(()=>{k(1)},[f,b,w]);const we=z=>E(z),ne=async()=>{const z=O;if(!z)return;const I=localStorage.getItem("token");if(!I)return L.error("No authentication token found.");const D=e.find(R=>R.id===z);if(D!=null&&D.attached_assistant)return L.error("This number is attached to an assistant. Detach it first from the Assistants page.");try{h(z);const R=await fetch(CM.PHONE_NUMBER(z),{method:"DELETE",headers:{Authorization:`Bearer ${I}`,Accept:"application/json"}}),Z=await R.json();if(!R.ok||!(Z!=null&&Z.success))throw new Error((Z==null?void 0:Z.detail)||(Z==null?void 0:Z.message)||`HTTP ${R.status}`);L.success(" Phone number deleted"),a(de=>de.filter(le=>le.id!==z)),n(de=>({...de,total:Math.max(0,de.total-1),unattached:Math.max(0,de.unattached-1)})),E(null)}catch(R){L.error((R==null?void 0:R.message)||"Delete failed")}finally{h(null)}},A=()=>{const z=localStorage.getItem("admin_token_backup");if(!z){L.error("No admin backup token found.");return}localStorage.setItem("token",z),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),T(null),L.success(" Exited impersonation"),window.location.reload()};return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[C&&t.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:t.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[t.jsx(Wr,{className:"h-4 w-4 shrink-0"}),t.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),t.jsxs("span",{className:"truncate",children:["Acting as ",t.jsx("b",{className:"break-all",children:(U=C.acting_as)==null?void 0:U.email})]})]}),t.jsxs(Vr,{onClick:A,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[t.jsx(js,{className:"mr-2 h-4 w-4"})," Exit"]})]})}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(St,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${Dbe}`,children:"Phone Numbers"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View and manage purchased phone numbers. Delete numbers that are not attached to an assistant."})]})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:t.jsx(Vr,{onClick:$,disabled:r||!!C,children:r?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(bp,{label:"Total Numbers",value:s.total,Icon:St,tone:"blue"}),t.jsx(bp,{label:"Attached",value:s.attached,Icon:Wr,tone:"cyan"}),t.jsx(bp,{label:"Unattached",value:s.unattached,Icon:Mn,tone:"blue"}),t.jsx(bp,{label:"Countries",value:s.countries,Icon:wi,tone:"cyan"})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Us,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:f,onChange:z=>g(z.target.value),placeholder:"Search number, name, region, or owner",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!C})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[t.jsx(_i,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("select",{value:b,onChange:z=>v(z.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"All statuses"}),t.jsx("option",{value:"attached",children:"Attached"}),t.jsx("option",{value:"unattached",children:"Unattached"})]}),t.jsx("select",{value:w,onChange:z=>j(z.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:M.map(z=>t.jsx("option",{value:z,children:z==="all"?"All countries":z},z))}),(f||b!=="all"||w!=="all")&&t.jsx(Vr,{onClick:()=>{g(""),v("all"),j("all")},className:"text-slate-700",disabled:!!C,children:"Clear"})]})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(St,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Phone Numbers (",H.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),C?t.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:t.jsx(Wr,{className:"h-9 w-9 text-amber-500"})}),t.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),t.jsx("div",{className:"mt-3",children:t.jsxs(Vr,{onClick:A,variant:"primary",children:[t.jsx(js,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):r?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading phone numbers"})]}):H.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(St,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(sc,{children:"Number"}),t.jsx(sc,{children:"Owner"}),t.jsx(sc,{children:"Region"}),t.jsx(sc,{children:"Country"}),t.jsx(sc,{children:"Status"}),t.jsx(sc,{children:"Last Month"}),t.jsx(sc,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:ee.map(z=>{const I=!!z.attached_assistant;return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(nc,{children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 break-all",children:z.phone_number}),t.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:z.friendly_name})]})}),t.jsx(nc,{children:z.owner?t.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-slate-700",children:[t.jsx(Rbe,{name:z.owner.name,size:34}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-xs font-semibold truncate",children:z.owner.name}),t.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-slate-500 min-w-0",children:[t.jsx(_s,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),t.jsx("span",{className:"truncate break-all",children:z.owner.email})]})]})]}):t.jsx("div",{className:"text-xs text-slate-500",children:""})}),t.jsx(nc,{children:t.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[t.jsx(ki,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium break-all",children:z.region})]})}),t.jsx(nc,{children:t.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[t.jsx(wi,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium",children:z.iso_country||""})]})}),t.jsx(nc,{children:I?t.jsxs(gp,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[t.jsx(ra,{className:"mr-1 h-3.5 w-3.5"}),"Attached"]}):t.jsxs(gp,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[t.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"}),"Unattached"]})}),t.jsx(nc,{children:t.jsx("div",{className:"text-xs font-semibold text-slate-800",children:AM(z.last_month_payment)})}),t.jsx(nc,{children:t.jsx("div",{className:"flex flex-wrap gap-2",children:t.jsx(Vr,{onClick:()=>we(z.id),variant:"danger",size:"sm",disabled:I,title:I?"Detach from assistant before deleting":"Delete number",children:m===z.id?t.jsx(Ze,{className:"h-4 w-4 animate-spin"}):t.jsx(ka,{className:"h-4 w-4"})})})})]},z.id)})})]})})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ee.map((z,I)=>{var R,Z;const D=!!z.attached_assistant;return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[I===0&&t.jsx(Lbe,{}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:z.phone_number}),t.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:z.friendly_name}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx(BN,{className:"h-4 w-4 text-slate-500"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"truncate font-semibold",children:((R=z.owner)==null?void 0:R.name)||""}),((Z=z.owner)==null?void 0:Z.email)&&t.jsx("div",{className:"text-xs text-slate-500 truncate",children:z.owner.email})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(wi,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium",children:z.iso_country||""})]}),t.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[t.jsx(ki,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium break-words",children:z.region})]}),t.jsx("div",{className:"col-span-2",children:D?t.jsxs(gp,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[t.jsx(ra,{className:"mr-1 h-3.5 w-3.5"})," Attached"]}):t.jsxs(gp,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[t.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"})," Unattached"]})})]}),t.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.jsx(Vr,{onClick:()=>we(z.id),variant:"danger",size:"sm",className:"grow sm:grow-0",disabled:D,children:m===z.id?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):t.jsxs(t.Fragment,{children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Delete"]})})}),t.jsx("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:AM(z.last_month_payment)})]})]},z.id)})})}),H.length>_&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("b",{children:B+1}),"",t.jsx("b",{children:Math.min(F,H.length)})," of ",t.jsx("b",{children:H.length})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(Vr,{onClick:()=>k(z=>Math.max(1,z-1)),disabled:S===1,children:[t.jsx(Ss,{className:"h-4 w-4 mr-1"})," Prev"]}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,V)},(z,I)=>{let D;if(V<=5||S<=3?D=I+1:S>=V-2?D=V-4+I:D=S-2+I,D<1||D>V)return null;const R=S===D;return t.jsx("button",{onClick:()=>k(D),className:`px-3 py-2 text-sm font-semibold rounded-xl ${R?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:D},D)})}),t.jsxs(Vr,{onClick:()=>k(z=>Math.min(V,z+1)),disabled:S>=V,children:["Next ",t.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(jt,{children:O&&t.jsxs($be,{onClose:()=>E(null),title:"Confirm Delete",children:[t.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete phone number"," ",t.jsx("b",{className:"break-words",children:((K=e.find(z=>z.id===O))==null?void 0:K.phone_number)||"this number"}),"?"," ","This action cannot be undone."]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(Vr,{onClick:()=>E(null),variant:"subtle",children:"Cancel"}),t.jsx(Vr,{onClick:ne,disabled:m===O,variant:"danger",children:m===O?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})})]})}const zbe=()=>{const[e,a]=x.useState([]),[s,n]=x.useState({name:"",id:null}),[r,l]=x.useState(!1),[c,u]=x.useState(!1),[m,h]=x.useState(!1),[f,g]=x.useState(null),b=ba();x.useEffect(()=>{v()},[]);const v=async()=>{try{const O=await fetch("http://localhost:8000/api/admin/get/use_leadid",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!O.ok)throw new Error("Failed to fetch leads");const E=await O.json();a(E)}catch(O){console.error("Error fetching leads:",O)}},w=async()=>{try{if(!(await fetch("http://localhost:8000/api/admin/use_leadid",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:s.name})})).ok)throw new Error("Failed to create lead");n({name:"",id:null}),l(!1),u(!1),v()}catch(O){console.error("Error creating lead:",O)}},j=O=>{n({name:O.name,id:O.id}),l(!0),u(!0)},S=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${s.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:s.name})})).ok)throw new Error("Failed to update lead");n({name:"",id:null}),l(!1),u(!1),v()}catch(O){console.error("Error updating lead:",O)}},k=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete lead");h(!1),g(null),v()}catch(O){console.error("Error deleting lead:",O)}},_=O=>{b(`/admin/lead/${O}`)},C=e.length,T=e.length>0?e[e.length-1]:null;return t.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 lg:px-[150px] lg:py-10 xl:px-[150px] xl:py-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"mb-6",children:t.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"List Dashboard"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[t.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Total List"}),t.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:C})]}),t.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[t.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Last Created"}),t.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 truncate",children:T?`${T.name} (${T.created_at})`:"No leads yet"})]})]}),t.jsx("div",{className:"flex justify-end mb-6",children:t.jsxs("button",{onClick:()=>{l(!r),u(!1),n({name:"",id:null})},className:"bg-blue-600 text-white px-4 sm:px-5 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-md text-sm sm:text-base",children:[r?"Cancel":"Create List",t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:r?"M6 18L18 6M6 6l12 12":"M12 4v16m8-8H4"})})]})}),r&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:t.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-md",children:[t.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-4",children:c?"Edit Lead":"Create Lead"}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("input",{type:"text",placeholder:"Lead Name",value:s.name,onChange:O=>n({...s,name:O.target.value}),className:"border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-200 w-full text-sm sm:text-base","aria-label":"Lead Name"}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),t.jsx("button",{onClick:c?S:w,className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200 text-sm sm:text-base",children:c?"Update":"Submit"})]})]})]})}),m&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:t.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-sm",children:[t.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-6",children:"Are you sure you want to delete this lead?"}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>h(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),t.jsx("button",{onClick:k,className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200 text-sm sm:text-base",children:"Confirm"})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[t.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700",children:"Lists"})}),t.jsxs("table",{className:"w-full text-sm sm:text-base",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{className:"hidden sm:table-row",children:[t.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[25%]",children:"ID"}),t.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Name"}),t.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Created At"}),t.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[15%]",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(O=>t.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200 block sm:table-row",children:[t.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[t.jsx("span",{className:"sm:hidden font-semibold",children:"ID: "}),O.id]}),t.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[t.jsx("span",{className:"sm:hidden font-semibold",children:"Name: "}),O.name]}),t.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell text-gray-600",children:[t.jsx("span",{className:"sm:hidden font-semibold",children:"Created At: "}),O.created_at]}),t.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[t.jsx("span",{className:"sm:hidden font-semibold",children:"Actions: "}),t.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[t.jsx("button",{onClick:()=>_(O.id),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"View lead",children:t.jsx(cJ,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),t.jsx("button",{onClick:()=>j(O),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"Edit lead",children:t.jsx(oJ,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),t.jsx("button",{onClick:()=>{g(O.id),h(!0)},className:"text-red-600 hover:text-red-700 transition duration-200 p-2","aria-label":"Delete lead",children:t.jsx(uJ,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},O.id))})]})]})]})})},EM="http://13.60.203.103",TM={LIST:`${EM}/api/admin/leadss`,UPDATE:e=>`${EM}/api/admin/leads/${e}`};function Uc(...e){return e.filter(Boolean).join(" ")}const Hn=e=>{if(e==null)return"Unknown";const a=String(e).trim();return a===""||a.toLowerCase()==="null"||a.toLowerCase()==="undefined"?"Unknown":a};function Bbe(e,a=250){const[s,n]=x.useState(e);return x.useEffect(()=>{const r=setTimeout(()=>n(e),a);return()=>clearTimeout(r)},[e,a]),s}function Ube(e){if(!e)return"";const a=new Date(e);if(isNaN(a.getTime()))return"";const s=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0");return`${s}-${n}-${r}`}function OM(e){try{const a=new Date(e);return isNaN(a.getTime())?"Unknown":a.toLocaleString()}catch{return"Unknown"}}const Fbe={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},PM={show:{transition:{staggerChildren:.05}}},Vbe={hidden:{opacity:0,scale:.98,y:12},show:{opacity:1,scale:1,y:0,transition:{duration:.25}},exit:{opacity:0,scale:.98,y:12,transition:{duration:.18}}},Hbe={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}};function au({children:e,tone:a="slate"}){const s={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200"};return t.jsx("span",{className:Uc("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",s[a]||s.slate),children:e})}function qw({label:e,value:a,Icon:s,tone:n="blue"}){const r=n==="blue"?"ring-blue-200/60":n==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=n==="blue"?"from-blue-600 to-cyan-500":n==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return t.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(s,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})})}function qbe(){const e=x.useRef(localStorage.getItem("token")||null),[a,s]=x.useState([]),[n,r]=x.useState(!0),[l,c]=x.useState(!1),[u,m]=x.useState(""),h=Bbe(u,250),[f,g]=x.useState("add_date"),[b,v]=x.useState("desc"),[w,j]=x.useState(1),[S,k]=x.useState(12),[_,C]=x.useState(!1),[T,O]=x.useState(!1),[E,$]=x.useState(null),[M,H]=x.useState({first_name:"",last_name:"",email:"",add_date:"",salesforce_id:"",mobile:"",state:""});async function V(){if(!e.current){r(!1),L.error("No auth token found. Please log in.");return}try{r(!0);const Z=await fetch(TM.LIST,{headers:{Authorization:`Bearer ${e.current}`}});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const de=await Z.json(),le=Array.isArray(de)?de:Array.isArray(de==null?void 0:de.leads)?de.leads:[];s(le)}catch(Z){console.error(Z),L.error("Failed to fetch leads"),s([])}finally{r(!1)}}x.useEffect(()=>{V()},[]);async function F(){c(!0),await V(),c(!1)}const B=x.useMemo(()=>{const Z=h.trim().toLowerCase();let de=a.filter(be=>Z?[`${be.first_name||""} ${be.last_name||""}`.toLowerCase(),(be.email||"").toLowerCase(),(be.mobile||"").toLowerCase(),(be.salesforce_id||"").toLowerCase(),(be.state||"").toLowerCase()].some(ve=>ve.includes(Z)):!0);const le=b==="asc"?1:-1;return de.sort((be,Ue)=>{const xe=`${be.first_name||""} ${be.last_name||""}`.trim().toLowerCase(),ve=`${Ue.first_name||""} ${Ue.last_name||""}`.trim().toLowerCase();let Ie,Ye;switch(f){case"name":Ie=xe,Ye=ve;break;case"email":Ie=(be.email||"").toLowerCase(),Ye=(Ue.email||"").toLowerCase();break;case"mobile":Ie=(be.mobile||"").toLowerCase(),Ye=(Ue.mobile||"").toLowerCase();break;case"state":Ie=(be.state||"").toLowerCase(),Ye=(Ue.state||"").toLowerCase();break;case"add_date":default:Ie=new Date(be.add_date||0).getTime(),Ye=new Date(Ue.add_date||0).getTime()}return Ie<Ye?-1*le:Ie>Ye?1*le:0}),de},[a,h,f,b]),ee=B.length,we=Math.max(1,Math.ceil(ee/S));x.useEffect(()=>{w>we&&j(we)},[w,we]);const ne=(w-1)*S,A=ne+S,U=B.slice(ne,A),K=x.useMemo(()=>{const Z=B.filter(le=>!le.dnc).length,de=B.filter(le=>!!le.dnc).length;return{total:B.length,callable:Z,dnc:de}},[B]);function z(Z){$(Z),H({first_name:Z.first_name||"",last_name:Z.last_name||"",email:Z.email||"",add_date:Ube(Z.add_date),salesforce_id:Z.salesforce_id||"",mobile:Z.mobile||"",state:Z.state||""}),C(!0)}function I(Z){const{name:de,value:le}=Z.target;H(be=>({...be,[de]:le}))}async function D(){if(!E)return;if(!e.current){L.error("No auth token found.");return}const Z={first_name:M.first_name||"",last_name:M.last_name||"",email:M.email||"",add_date:M.add_date||"",salesforce_id:M.salesforce_id||null,mobile:M.mobile||"",state:M.state||null};try{O(!0);const de=await fetch(TM.UPDATE(E.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.current}`},body:JSON.stringify(Z)}),le=await de.json().catch(()=>({}));if(!de.ok||(le==null?void 0:le.success)===!1)throw new Error((le==null?void 0:le.detail)||`HTTP ${de.status}`);const be=(le==null?void 0:le.updated_lead)||{...E,...Z};s(Ue=>Ue.map(xe=>xe.id===E.id?{...xe,...be}:xe)),L.success("Lead updated"),C(!1),$(null)}catch(de){console.error(de),L.error((de==null?void 0:de.message)||"Update failed")}finally{O(!1)}}function R(Z){g(de=>de===Z?(v(le=>le==="asc"?"desc":"asc"),de):(v(Z==="add_date"?"desc":"asc"),Z)),j(1)}return t.jsxs("div",{className:"min-h-screen w-full text-slate-900 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative",children:[t.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-400/15 blur-3xl"}),t.jsx("div",{className:"absolute top-1/3 -right-20 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-indigo-400/10 blur-3xl"})]}),t.jsx("header",{className:"relative z-0 border-b border-slate-200/70 bg-white/60 backdrop-blur after:absolute after:inset-x-0 after:-bottom-[1px] after:h-[2px] after:bg-gradient-to-r after:from-transparent after:via-cyan-400/70 after:to-transparent",children:t.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-5",children:[t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-black tracking-tight",children:t.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text text-transparent",children:"Leads"})}),t.jsx("p",{className:"text-sm text-slate-600",children:"View, search, and edit leads."})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(MM,{onClick:F,icon:t.jsx(Ze,{className:Uc("h-4 w-4",l&&"animate-spin")}),children:"Refresh"})})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[t.jsxs("div",{className:"relative sm:col-span-2",children:[t.jsx(Us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{value:u,onChange:Z=>{m(Z.target.value),j(1)},placeholder:"Search name, email, mobile, Salesforce ID, state",className:"w-full rounded-2xl border border-slate-200/70 bg-white/80 pl-10 pr-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search leads"})]}),t.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[t.jsxs("div",{className:"text-sm text-slate-600 hidden sm:block",children:["Total: ",t.jsx("span",{className:"font-semibold text-slate-900",children:ee})]}),t.jsx("select",{value:S,onChange:Z=>{k(Number(Z.target.value)),j(1)},className:"rounded-2xl border border-slate-200/70 bg-white/80 px-3 py-2 text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[12,24,48,96].map(Z=>t.jsxs("option",{value:Z,children:[Z," / page"]},Z))})]})]})]})}),t.jsx("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[t.jsx(qw,{label:"Total Leads",value:K.total,Icon:Za,tone:"blue"}),t.jsx(qw,{label:"Callable",value:K.callable,Icon:ra,tone:"cyan"}),t.jsx(qw,{label:"DNC",value:K.dnc,Icon:Mn,tone:"blue"})]})}),t.jsxs("main",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 pb-6",children:[t.jsx(he.div,{initial:"hidden",animate:"show",variants:PM,className:"hidden lg:block overflow-x-auto rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:t.jsxs("table",{className:"min-w-full text-left",children:[t.jsx("thead",{className:"bg-slate-50/80 text-slate-600 text-sm",children:t.jsxs("tr",{className:"[&>th]:px-5 [&>th]:py-3",children:[t.jsx(Ch,{sortKey:"add_date",sortBy:f,sortDir:b,onSort:R,children:"Added"}),t.jsx(Ch,{sortKey:"name",sortBy:f,sortDir:b,onSort:R,children:"Name"}),t.jsx(Ch,{sortKey:"email",sortBy:f,sortDir:b,onSort:R,children:"Email"}),t.jsx(Ch,{sortKey:"mobile",sortBy:f,sortDir:b,onSort:R,children:"Mobile"}),t.jsx(Ch,{sortKey:"state",sortBy:f,sortDir:b,onSort:R,children:"State"}),t.jsx("th",{className:"px-5 py-3",children:"SFDC"}),t.jsx("th",{className:"px-5 py-3",children:"Status"}),t.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:n?t.jsx(LM,{rows:8,cols:8}):U.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-5 py-12 text-center text-slate-600",children:"No leads found. Try searching something else."})}):U.map(Z=>{const de=`${Hn(Z.first_name)} ${Z.last_name?Hn(Z.last_name):""}`.trim();return t.jsxs(he.tr,{variants:Fbe,className:"hover:bg-slate-50/70 transition-colors",children:[t.jsx("td",{className:"px-5 py-3 text-sm text-slate-600 whitespace-nowrap",children:Z.add_date?t.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[t.jsx(xV,{className:"h-4 w-4 text-slate-400"}),OM(Z.add_date)]}):"Unknown"}),t.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:de}),t.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:t.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[t.jsx(_s,{className:"h-4 w-4 text-slate-400"}),Hn(Z.email)]})}),t.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:t.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[t.jsx(BC,{className:"h-4 w-4 text-slate-400"}),Hn(Z.mobile)]})}),t.jsx("td",{className:"px-5 py-3",children:Z.state?t.jsx(au,{tone:"blue",children:Hn(Z.state)}):"Unknown"}),t.jsx("td",{className:"px-5 py-3 text-slate-800",children:t.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[t.jsx(RC,{className:"h-4 w-4 text-slate-400"}),Hn(Z.salesforce_id)]})}),t.jsx("td",{className:"px-5 py-3",children:Z.dnc?t.jsx(au,{tone:"red",children:"DNC"}):t.jsx(au,{tone:"green",children:"Callable"})}),t.jsx("td",{className:"px-5 py-3",children:t.jsx("div",{className:"flex items-center justify-end",children:t.jsx(Gw,{onClick:()=>z(Z),icon:t.jsx(IC,{className:"h-4 w-4"}),children:"Edit"})})})]},Z.id)})})]})}),t.jsx("div",{className:"lg:hidden",children:n?t.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-4",children:t.jsx(LM,{rows:6,cols:1})}):U.length===0?t.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-8 text-center text-slate-600",children:"No leads found. Try searching something else."}):t.jsx(he.div,{initial:"hidden",animate:"show",variants:PM,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:U.map(Z=>{const de=`${Hn(Z.first_name)} ${Z.last_name?Hn(Z.last_name):""}`.trim();return t.jsxs(he.article,{variants:Vbe,className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/60 shadow hover:shadow-lg transition-shadow p-4",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("h3",{className:"text-base font-semibold text-slate-900 break-words",children:de}),t.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:Z.add_date?OM(Z.add_date):"Unknown"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[Z.state?t.jsx(au,{tone:"blue",children:Hn(Z.state)}):null,Z.dnc?t.jsx(au,{tone:"red",children:"DNC"}):t.jsx(au,{tone:"green",children:"Callable"})]})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[t.jsx(vp,{icon:t.jsx(_s,{className:"h-4 w-4"}),label:"Email",value:Hn(Z.email),copySafe:!0}),t.jsx(vp,{icon:t.jsx(BC,{className:"h-4 w-4"}),label:"Mobile",value:Hn(Z.mobile),copySafe:!0}),t.jsx(vp,{icon:t.jsx(RC,{className:"h-4 w-4"}),label:"SFDC",value:Hn(Z.salesforce_id)}),Z.timezone?t.jsx(vp,{icon:t.jsx(Cr,{className:"h-4 w-4"}),label:"Timezone",value:Hn(Z.timezone)}):null]}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx(Gw,{onClick:()=>z(Z),icon:t.jsx(IC,{className:"h-4 w-4"}),children:"Edit"})})]},Z.id)})})}),!n&&ee>0&&t.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row text-slate-700",children:[t.jsxs("div",{className:"text-sm",children:["Showing ",t.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(A,ee)})," of ",ee]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(DM,{disabled:w<=1,onClick:()=>j(Z=>Math.max(1,Z-1)),children:[t.jsx(Ss,{className:"h-4 w-4"})," Prev"]}),t.jsxs("div",{className:"text-sm",children:["Page ",t.jsx("span",{className:"font-semibold text-slate-900",children:w})," / ",we]}),t.jsxs(DM,{disabled:w>=we,onClick:()=>j(Z=>Math.min(we,Z+1)),children:["Next ",t.jsx(Aa,{className:"h-4 w-4"})]})]})]})]}),t.jsx(jt,{children:_&&t.jsxs(t.Fragment,{children:[t.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:Hbe,initial:"hidden",animate:"show",exit:"exit",onClick:()=>C(!1)}),t.jsxs(he.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[560px] md:w-[720px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Edit lead",children:[t.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>C(!1),className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50","aria-label":"Close",children:t.jsx(js,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold leading-tight",children:"Edit Lead"}),t.jsxs("p",{className:"text-xs text-slate-600",children:["Changes are saved to ",t.jsxs("span",{className:"font-medium",children:["#",E==null?void 0:E.id]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(MM,{onClick:()=>C(!1),children:"Cancel"}),t.jsx(Gw,{onClick:D,disabled:T,icon:T?t.jsx(Ma,{className:"h-4 w-4 animate-spin"}):void 0,children:T?"Saving":"Save"})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(rc,{label:"First name",name:"first_name",value:M.first_name,onChange:I}),t.jsx(rc,{label:"Last name",name:"last_name",value:M.last_name,onChange:I}),t.jsx(rc,{label:"Email",name:"email",value:M.email,onChange:I,type:"email"}),t.jsx(rc,{label:"Mobile",name:"mobile",value:M.mobile,onChange:I}),t.jsx(rc,{label:"Salesforce ID",name:"salesforce_id",value:M.salesforce_id,onChange:I}),t.jsx(rc,{label:"Add date",name:"add_date",value:M.add_date,onChange:I,type:"date"}),t.jsx(rc,{label:"State",name:"state",value:M.state,onChange:I})]}),t.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700",children:[t.jsx("div",{className:"font-semibold mb-2",children:"Quick Summary"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Name:"})," ",M.first_name||"Unknown"," ",M.last_name||""]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Email:"})," ",M.email||"Unknown"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Mobile:"})," ",M.mobile||"Unknown"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"State:"})," ",M.state||"Unknown"]})]})]})]})]})]})})]})}function Gw({children:e,onClick:a,disabled:s,icon:n,type:r="button"}){return t.jsxs(he.button,{whileTap:s?void 0:{scale:.98},type:r,onClick:a,disabled:s,className:Uc("inline-flex items-center gap-2 rounded-2xl px-3.5 py-2 font-semibold text-white transition","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)]","disabled:opacity-60 disabled:cursor-not-allowed"),children:[n,t.jsx("span",{className:"whitespace-nowrap",children:e})]})}function MM({children:e,onClick:a,icon:s,type:n="button"}){return t.jsxs(he.button,{whileTap:{scale:.98},type:n,onClick:a,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3.5 py-2 font-medium text-slate-800 ring-1 ring-white/70 transition hover:bg-slate-50",children:[s,t.jsx("span",{className:"whitespace-nowrap",children:e})]})}function DM({children:e,disabled:a,onClick:s}){return t.jsx(he.button,{whileTap:a?void 0:{scale:.98},disabled:a,onClick:s,className:Uc("inline-flex items-center gap-2 rounded-2xl border px-3.5 py-2 text-sm transition",a?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50"),children:e})}function Ch({children:e,sortKey:a,sortBy:s,sortDir:n,onSort:r}){const l=s===a;return t.jsx("th",{className:Uc("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>r(a),title:"Sort",children:t.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,t.jsx("span",{className:Uc("text-xs",l?"opacity-100":"opacity-20"),children:l?n==="asc"?"":"":""})]})})}function LM({rows:e=6,cols:a=6}){return t.jsx(t.Fragment,{children:Array.from({length:e}).map((s,n)=>t.jsx("tr",{className:"animate-pulse",children:Array.from({length:a}).map((r,l)=>t.jsx("td",{className:"px-5 py-3",children:t.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},n))})}function rc({label:e,name:a,value:s,onChange:n,type:r="text"}){return t.jsxs("label",{className:"block",children:[t.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),t.jsx("input",{type:r,name:a,value:s,onChange:n,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}function vp({label:e,value:a,copySafe:s=!1,icon:n}){return t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"mt-0.5 text-slate-400",children:n}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),t.jsx("div",{className:Uc("text-sm text-slate-800",s?"break-all":"break-words"),children:a})]})]})}const Gbe=()=>{const[e,a]=x.useState(null),[s,n]=x.useState(!1),[r,l]=x.useState(!1),[c,u]=x.useState(!1),[m,h]=x.useState(""),[f,g]=x.useState(!0),[b,v]=x.useState(0),w=x.useRef(null),j=x.useRef(null),{id:S}=kf(),k=5*1024*1024,_=()=>localStorage.getItem("token")||null;x.useEffect(()=>{const B=ee=>{c&&(ee.key==="Enter"||ee.key==="Escape")&&u(!1)};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[c]);const C=B=>{B.preventDefault(),B.stopPropagation(),n(!0)},T=B=>{B.preventDefault(),B.stopPropagation(),n(!1)},O=B=>{B.preventDefault(),B.stopPropagation()},E=B=>{B.preventDefault(),B.stopPropagation(),n(!1);const ee=B.dataTransfer.files[0];ee&&ee.type==="text/csv"?ee.size>k?(h("File size exceeds 5MB limit."),g(!1),u(!0)):a(ee):(h("Please upload a valid CSV file."),g(!1),u(!0))},$=B=>{const ee=B.target.files[0];ee&&ee.type==="text/csv"?ee.size>k?(h("File size exceeds 5MB limit."),g(!1),u(!0)):a(ee):(h("Please upload a valid CSV file."),g(!1),u(!0))},M=()=>{w.current.click()},H=()=>{const B=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,ee=new Blob([B],{type:"text/csv"}),we=window.URL.createObjectURL(ee),ne=document.createElement("a");ne.href=we,ne.download="sample_users.csv",document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(we)},V=async()=>{if(!e){h("No file selected. Please choose a CSV file."),g(!1),u(!0);return}const B=_();if(!B){console.error("No auth token found. Please log in."),h("Please log in to continue."),g(!1),u(!0);return}const ee=new FormData;ee.append("file",e);try{l(!0),v(0);const we=await fetch("http://localhost:8000/api/admin/user/upload-csv",{method:"POST",headers:{Authorization:`Bearer ${B}`},body:ee});if(v(100),we.ok){const ne=await we.json();console.log("File uploaded successfully:",ne),h("CSV file uploaded successfully!"),g(!0),u(!0),a(null),w.current&&(w.current.value="")}else{let ne=`HTTP error! status: ${we.status}`;try{const A=await we.json();A&&A.error&&(ne=A.error)}catch{}throw new Error(ne)}}catch(we){console.error("Error uploading file:",we),h("Failed to upload CSV file. Please try again."),g(!1),u(!0)}finally{l(!1),v(0)}},F=B=>B<1024?`${B} B`:B<1024*1024?`${(B/1024).toFixed(2)} KB`:`${(B/(1024*1024)).toFixed(2)} MB`;return t.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6 animate-fade-in",children:[t.jsx("div",{className:`w-full max-w-3xl bg-white p-10 rounded-xl shadow-lg border-2 ${s?"border-blue-400":"border-gray-200"} transition-colors duration-200`,onDragEnter:C,onDragOver:O,onDragLeave:T,onDrop:E,children:t.jsxs("div",{className:"text-center",children:[t.jsx(uL,{className:`mx-auto text-5xl ${s?"text-blue-400":"text-gray-300"} animate-pulse mb-6`}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upload Your CSV File"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop a CSV file here or click to select. Maximum file size: 5MB."}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsx("input",{type:"file",accept:".csv",onChange:$,ref:w,className:"hidden"}),t.jsx("button",{onClick:M,className:"bg-blue-400 text-white px-8 py-3 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm",children:"Choose File"}),t.jsxs("button",{onClick:H,className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-sm flex items-center gap-2",children:[t.jsx(cL,{}),"Download Sample CSV"]})]}),e&&t.jsxs("div",{className:"mt-6 text-gray-600 bg-gray-50 p-4 rounded-lg",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"File:"})," ",e.name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Size:"})," ",F(e.size)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),t.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[t.jsx("button",{onClick:V,disabled:r||!e,className:`w-full bg-blue-400 text-white px-6 py-4 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm flex items-center justify-center gap-2 ${r||!e?"opacity-50 cursor-not-allowed":""}`,children:r?"Uploading...":"Upload CSV"}),r&&t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]}),c&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center zoutdated-50 transition-opacity duration-200",children:t.jsxs("div",{ref:j,className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full animate-fade-in",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f?t.jsx(oL,{className:"text-green-400 text-2xl"}):t.jsx(dL,{className:"text-red-400 text-2xl"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Status"})]}),t.jsx("p",{className:"text-gray-500 mb-6",children:m}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:()=>u(!1),className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:"Confirm"})})]})})]})},Kbe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://13.60.203.103"},xi=Kbe&&"http://13.60.203.103"||"http://localhost:8000",pi={PRICING_GET:`${xi}/api/pricing`,PRICING_PUT:`${xi}/api/pricing`,PAYMENTS_DB:(e=50)=>`${xi}/api/payments?limit=${e}`,NOTIFS_DB:(e=50)=>`${xi}/api/notifications?limit=${e}`,USER_BALANCE_DB:e=>`${xi}/api/user/${e}/balance`,RECONCILE_TOPUPS:`${xi}/api/billing/reconcile-topups`,STRIPE_SUMMARY:`${xi}/api/billing/stripe/summary`,STRIPE_PAYMENTS:(e=20)=>`${xi}/api/billing/stripe/payments?limit=${e}`,STRIPE_LOGIN_LINK:`${xi}/api/billing/stripe/login`,VAPI_ACTUAL_COST:`${xi}/api/billing/vapi/actual-cost`},Ybe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function io({children:e,className:a="",variant:s="outline",size:n="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:brightness-110 active:brightness-95 border border-blue-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 active:bg-slate-100 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",danger:"bg-rose-600 text-white hover:brightness-110 active:brightness-95 border border-rose-600 shadow-sm",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[n]} ${u[s]} ${a}`,children:t.jsx(he.span,{whileHover:{y:-.5},whileTap:{scale:.98},children:e})})}function Ah({label:e,children:a,hint:s}){return t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a,s?t.jsx("div",{className:"text-[11px] text-slate-500 mt-1",children:s}):null]})}function Eh({label:e,value:a,icon:s,accent:n="from-blue-600 to-cyan-500"}){return t.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl hover:shadow-2xl transition-shadow",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${n} text-white shadow-inner ring-1 ring-blue-200/60`,children:t.jsx(s,{className:"h-7 w-7"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900 truncate",children:a})]})]})})}const qn=e=>`$${(Number(e||0)/100).toFixed(2)}`,yp=(e,a=0)=>Number.isFinite(Number(e))?Number(e):a;function Wbe(){var ue,ie,De,G,ce,$e,qe,ye,Be,_e;const e=x.useMemo(()=>{try{return localStorage.getItem("token")}catch{return null}},[]),a=x.useMemo(()=>e?{Authorization:`Bearer ${e}`}:{},[e]),[s,n]=x.useState(null),[r,l]=x.useState("USD"),[c,u]=x.useState(.00125),[m,h]=x.useState(.018),[f,g]=x.useState(!1),[b,v]=x.useState(null),[w,j]=x.useState(!1),[S,k]=x.useState(null),[_,C]=x.useState([]),[T,O]=x.useState(20),[E,$]=x.useState(!1),[M,H]=x.useState(!1),[V,F]=x.useState([]),[B,ee]=x.useState([]),[we,ne]=x.useState(25),[A,U]=x.useState(!1),[K,z]=x.useState(""),[I,D]=x.useState(null),[R,Z]=x.useState(!1),[de,le]=x.useState(!1);async function be(){var te,Y;try{const Se=await fetch(pi.PRICING_GET,{headers:{...a,Accept:"application/json"}}),me=await Se.json();if(!Se.ok)throw new Error((me==null?void 0:me.detail)||`HTTP ${Se.status}`);n(me),me!=null&&me.currency&&l(me.currency),((te=me==null?void 0:me.human_readable)==null?void 0:te.call_dollars_per_second)!=null&&u(me.human_readable.call_dollars_per_second),((Y=me==null?void 0:me.human_readable)==null?void 0:Y.text_dollars_per_message)!=null&&h(me.human_readable.text_dollars_per_message)}catch(Se){n(null),L.error((Se==null?void 0:Se.message)||"Failed to load pricing")}}async function Ue(){try{j(!0);const te=await fetch(pi.VAPI_ACTUAL_COST,{headers:{...a,Accept:"application/json"}}),Y=await te.json();if(!te.ok)throw new Error((Y==null?void 0:Y.detail)||`HTTP ${te.status}`);v(Y)}catch(te){v(null),L.error((te==null?void 0:te.message)||"Failed to load Vapi base price")}finally{j(!1)}}async function xe(){try{$(!0);const[te,Y]=await Promise.all([fetch(pi.STRIPE_SUMMARY,{headers:{...a,Accept:"application/json"}}),fetch(pi.STRIPE_PAYMENTS(T),{headers:{...a,Accept:"application/json"}})]),Se=await te.json();if(te.ok)k(Se);else throw new Error((Se==null?void 0:Se.detail)||`Summary HTTP ${te.status}`);const me=await Y.json();if(Y.ok)C((me==null?void 0:me.items)||[]);else throw new Error((me==null?void 0:me.detail)||`Payments HTTP ${Y.status}`)}catch(te){k(null),C([]),L.error((te==null?void 0:te.message)||"Failed to load Stripe live data")}finally{$(!1)}}async function ve(){try{const[te,Y]=await Promise.all([fetch(pi.PAYMENTS_DB(we),{headers:{...a,Accept:"application/json"}}),fetch(pi.NOTIFS_DB(we),{headers:{...a,Accept:"application/json"}})]),Se=await te.json();te.ok&&F(Se||[]);const me=await Y.json();Y.ok&&ee(me||[])}catch(te){L.error((te==null?void 0:te.message)||"Failed to load DB lists")}}async function Ie(){if(!e){L.warn("Admin token missing in localStorage (key `token`).");return}le(!0),await Promise.all([be(),Ue(),xe(),ve()]),le(!1)}async function Ye(){try{if(!e)return L.error("Missing admin token");g(!0);const te={currency:(r||"USD").toUpperCase(),call_dollars_per_second:Number(c||0),text_dollars_per_message:Number(m||0)},Y=await fetch(pi.PRICING_PUT,{method:"PUT",headers:{...a,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(te)}),Se=await Y.json();if(!Y.ok)throw new Error((Se==null?void 0:Se.detail)||`HTTP ${Y.status}`);L.success("Pricing updated"),be()}catch(te){L.error((te==null?void 0:te.message)||"Failed to update pricing")}finally{g(!1)}}async function ke(){try{H(!0);const te=await fetch(pi.STRIPE_LOGIN_LINK,{method:"POST",headers:{...a,Accept:"application/json"}}),Y=await te.json();if(!te.ok||!(Y!=null&&Y.ok))throw Y!=null&&Y.message?new Error(Y.message):new Error((Y==null?void 0:Y.detail)||`HTTP ${te.status}`);Y!=null&&Y.url&&window.open(Y.url,"_blank","noopener,noreferrer")}catch(te){L.error((te==null?void 0:te.message)||"Failed to create login link")}finally{H(!1)}}async function Je(){try{U(!0);const te=await fetch(pi.RECONCILE_TOPUPS,{method:"POST",headers:{...a,Accept:"application/json"}}),Y=await te.json();if(!te.ok)throw new Error((Y==null?void 0:Y.detail)||`HTTP ${te.status}`);L.success(`Reconciled: created ${(Y==null?void 0:Y.created_ledger_entries)||0} ledger entries`),ve()}catch(te){L.error((te==null?void 0:te.message)||"Failed to reconcile")}finally{U(!1)}}async function Xe(){const te=(K||"").trim();if(!te)return D(null);try{Z(!0);const Y=await fetch(pi.USER_BALANCE_DB(te),{headers:{...a,Accept:"application/json"}}),Se=await Y.json();if(!Y.ok)throw new Error((Se==null?void 0:Se.detail)||`HTTP ${Y.status}`);D(Se)}catch(Y){D(null),L.error((Y==null?void 0:Y.message)||"Lookup failed")}finally{Z(!1)}}return x.useEffect(()=>{Ie()},[]),x.useEffect(()=>{e&&xe()},[T]),x.useEffect(()=>{e&&ve()},[we]),t.jsx("div",{className:"min-h-screen bg-slate-50",children:t.jsxs("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Aq,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${Ybe}`,children:"Admin Billing & Stripe"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Real-time Stripe (Connect-aware), admin pricing, DB audits, and Vapi base price."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(io,{onClick:Ie,disabled:de,children:de?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})}),t.jsxs("a",{className:"text-xs text-slate-500 inline-flex items-center gap-1",href:"https://dashboard.stripe.com/test",target:"_blank",rel:"noreferrer",children:["Stripe Dashboard ",t.jsx(af,{className:"h-3 w-3"})]})]})]})]}),!e&&t.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 text-amber-800 px-4 py-3 text-sm flex items-center gap-2",children:[t.jsx(Tf,{className:"h-4 w-4"})," Admin JWT token missing in ",t.jsx("code",{children:"localStorage.token"}),"."]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-5",children:[t.jsx(Eh,{label:"Stripe Mode",value:((S==null?void 0:S.mode)||"test").toUpperCase(),icon:fl}),t.jsx(Eh,{label:"Account Scope",value:(S==null?void 0:S.stripe_account_scope)||"",icon:uV}),t.jsx(Eh,{label:"Available",value:S!=null&&S.balance?`${qn(Number(S.balance.available_cents))}`:"",icon:pD,accent:"from-emerald-600 to-teal-500"}),t.jsx(Eh,{label:"Pending",value:S!=null&&S.balance?`${qn(Number(S.balance.pending_cents))}`:"",icon:tG,accent:"from-violet-600 to-fuchsia-500"}),t.jsx(Eh,{label:"Vapi Base $/min",value:b?`$${yp(b.per_minute_dollars,.05).toFixed(3)}`:w?"":"",icon:Tc,accent:"from-sky-600 to-cyan-500"})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 2xl:grid-cols-3 gap-5",children:[t.jsxs("div",{className:"2xl:col-span-2 space-y-5",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(Np,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Admin Pricing"})]}),t.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[t.jsx(ai,{className:"h-3.5 w-3.5"})," Admin-only"]})]}),s?t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3",children:[t.jsx(Ah,{label:"Currency",children:t.jsx("input",{value:r,onChange:te=>l(te.target.value.toUpperCase().slice(0,8)),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"USD"})}),t.jsx(Ah,{label:"$ per SECOND (calls)",hint:"e.g. 0.00125 = 125 millicents/sec",children:t.jsx("input",{type:"number",step:"0.00001",value:c,onChange:te=>u(te.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ah,{label:"$ per MESSAGE (texts)",hint:"e.g. 0.018  1.8",children:t.jsx("input",{type:"number",step:"0.0001",value:m,onChange:te=>h(te.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx("div",{className:"flex items-end",children:t.jsx(io,{variant:"primary",className:"w-full",onClick:Ye,disabled:f,children:f?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 mr-2 animate-spin"})," Saving"]}):t.jsxs(t.Fragment,{children:[t.jsx(a2,{className:"h-4 w-4 mr-2"})," Save pricing"]})})})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Server raw"}),t.jsxs("div",{className:"font-extrabold text-slate-900",children:["Calls: ",s.call_millicents_per_second," m/sec  Texts: ",s.text_cents_per_message," /msg"]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Human readable"}),t.jsxs("div",{className:"font-extrabold text-slate-900",children:["Calls: $",(((ue=s.human_readable)==null?void 0:ue.call_dollars_per_second)||0).toFixed(5),"/sec  Texts: $",(((ie=s.human_readable)==null?void 0:ie.text_dollars_per_message)||0).toFixed(4),"/msg"]})]})]})]}):t.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Pricing not available."})]}),t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-sky-600 text-white shrink-0",children:t.jsx(Tc,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Vapi Base Platform Price"})]}),t.jsx(io,{variant:"outline",onClick:Ue,disabled:w,children:w?t.jsx(Ze,{className:"h-4 w-4 animate-spin"}):t.jsx(Ze,{className:"h-4 w-4"})})]}),b?t.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Per Minute"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",yp(b.per_minute_dollars,.05).toFixed(3)," / min"]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Per Second"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",yp(b.per_second_dollars,833e-6).toFixed(6)," / sec"]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Millicents (rounded)"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:[yp(b.per_second_millicents_rounded,83)," m/sec"]})]})]}):t.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"No data yet."}),t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Defaults to $0.05/min. Override on server via ",t.jsx("code",{children:"VAPI_RATE_PER_MIN_DOLLARS"}),"."]})]}),t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-violet-600 text-white shrink-0",children:t.jsx(ho,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Database Tools"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(io,{variant:"outline",onClick:()=>ve(),children:[t.jsx(Ze,{className:"h-4 w-4 mr-2"})," Reload"]}),t.jsx(io,{variant:"danger",onClick:Je,disabled:A,children:A?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 mr-2 animate-spin"})," Reconciling"]}):t.jsxs(t.Fragment,{children:[t.jsx(hD,{className:"h-4 w-4 mr-2"})," Reconcile top-ups"]})})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-3",children:[t.jsx(Ah,{label:"List size",children:t.jsx("input",{type:"number",min:1,max:200,value:we,onChange:te=>ne(Math.max(1,Math.min(200,Number(te.target.value||25)))),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ah,{label:"Lookup user balance (user id)",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{value:K,onChange:te=>z(te.target.value),placeholder:"e.g. 1",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.jsx(io,{onClick:Xe,disabled:R,children:R?t.jsx(Ze,{className:"h-4 w-4 animate-spin"}):t.jsx(Za,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Lookup Result"}),I?t.jsxs("div",{className:"text-sm",children:[t.jsxs("div",{children:["Balance: ",t.jsx("b",{children:qn(I.balance_cents)})]}),t.jsxs("div",{children:["Credits: ",qn(I.credits_cents)]}),t.jsxs("div",{children:["Debits: ",qn(I.debits_cents)]})]}):t.jsx("div",{className:"text-sm text-slate-500",children:""})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"min-h-[220px] max-h-[360px] overflow-auto rounded-2xl border border-slate-200 bg-white",children:[t.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur px-4 py-2 border-b border-slate-200 text-sm font-semibold text-slate-800",children:"Recent Payments (DB)"}),t.jsx("div",{className:"p-3",children:V&&V.length?V.map(te=>{var Y;return t.jsxs(he.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"rounded-xl border border-slate-200 bg-slate-50 p-3 flex items-center justify-between hover:bg-slate-100 transition-colors mb-2",children:[t.jsxs("div",{className:"text-sm",children:[t.jsxs("div",{className:"font-semibold text-slate-800",children:[te.currency,"  ",qn(te.amount_cents)]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:[te.status,"  ",(Y=te.stripe_payment_intent_id)==null?void 0:Y.slice(0,12),""]})]}),t.jsxs("div",{className:"text-xs text-slate-600",children:["net ",qn(te.net_cents)," ",t.jsx("span",{className:"opacity-60",children:"/"})," fee ",qn(te.fee_cents)]})]},te.id)}):t.jsx("div",{className:"text-sm text-slate-500",children:"No DB payments."})})]}),t.jsxs("div",{className:"min-h-[220px] max-h-[360px] overflow-auto rounded-2xl border border-slate-200 bg-white",children:[t.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur px-4 py-2 border-b border-slate-200 text-sm font-semibold text-slate-800",children:"Notifications (DB)"}),t.jsx("div",{className:"p-3",children:B&&B.length?B.map(te=>t.jsxs(he.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"rounded-xl border border-slate-200 bg-slate-50 p-3 hover:bg-slate-100 transition-colors mb-2",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-800",children:te.title||te.kind}),t.jsx("div",{className:"text-[12px] text-slate-600",children:te.body})]},te.id)):t.jsx("div",{className:"text-sm text-slate-500",children:"No notifications."})})]})]})]})]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-cyan-600 text-white shrink-0",children:t.jsx(wi,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Stripe  Live snapshot"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(io,{variant:"outline",onClick:()=>xe(),disabled:E,children:E?t.jsx(Ze,{className:"h-4 w-4 animate-spin"}):t.jsx(Ze,{className:"h-4 w-4"})}),t.jsx(io,{onClick:ke,disabled:M,children:M?t.jsxs(t.Fragment,{children:[t.jsx(Ze,{className:"h-4 w-4 mr-2 animate-spin"})," Working"]}):t.jsxs(t.Fragment,{children:[t.jsx(Wr,{className:"h-4 w-4 mr-2"})," Login link"]})})]})]}),S?t.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Account"}),t.jsxs("div",{className:"text-sm font-semibold text-slate-800",children:[(De=S.account)==null?void 0:De.id,"  ",(G=S.account)==null?void 0:G.country,"  ",((ce=S.account)==null?void 0:ce.business_type)||""]}),t.jsxs("div",{className:"text-[12px] text-slate-600 mt-1",children:["Charges: ",t.jsx("b",{children:String(($e=S.account)==null?void 0:$e.charges_enabled)}),"  Payouts:"," ",t.jsx("b",{children:String((qe=S.account)==null?void 0:qe.payouts_enabled)}),"  Submitted:"," ",t.jsx("b",{children:String((ye=S.account)==null?void 0:ye.details_submitted)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-emerald-50 p-3",children:[t.jsx("div",{className:"text-xs text-emerald-700",children:"Available"}),t.jsx("div",{className:"text-lg font-extrabold text-emerald-800",children:qn(Number(((Be=S.balance)==null?void 0:Be.available_cents)||0))})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-violet-50 p-3",children:[t.jsx("div",{className:"text-xs text-violet-700",children:"Pending"}),t.jsx("div",{className:"text-lg font-extrabold text-violet-800",children:qn(Number(((_e=S.balance)==null?void 0:_e.pending_cents)||0))})]})]})]}):t.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"No summary (or insufficient permissions)."}),t.jsxs("div",{className:"mt-5",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Latest PaymentIntents (live)"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",min:1,max:100,value:T,onChange:te=>O(Math.max(1,Math.min(100,Number(te.target.value||20)))),className:"w-20 rounded-xl border border-slate-300 px-2 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.jsx("span",{className:"text-xs text-slate-500",children:"limit"})]})]}),t.jsx("div",{className:"mt-2 min-h-[180px] max-h-[380px] overflow-auto",children:_&&_.length?_.map(te=>{var Y;return t.jsxs(he.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"rounded-xl border border-slate-200 bg-slate-50 p-3 flex items-center justify-between hover:bg-slate-100 transition-colors mb-2",children:[t.jsxs("div",{className:"text-sm min-w-0",children:[t.jsxs("div",{className:"font-semibold text-slate-800 truncate",children:[te.currency,"  ",qn(te.amount_cents)," ",t.jsxs("span",{className:"text-xs text-slate-500",children:["(",te.status,")"]})]}),t.jsxs("div",{className:"text-[11px] text-slate-500 truncate",children:[(Y=te.id)==null?void 0:Y.slice(0,14),"  ",te.customer_email||"no email"]})]}),t.jsxs("div",{className:"text-right shrink-0",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"net / fee"}),t.jsxs("div",{className:"text-sm font-bold text-slate-800",children:[te.net_cents!=null?qn(te.net_cents):""," ",t.jsx("span",{className:"opacity-60",children:"/"})," ",te.fee_cents!=null?qn(te.fee_cents):""]})]})]},te.id)}):t.jsx("div",{className:"text-sm text-slate-500",children:"No live PaymentIntents."})})]})]}),t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-amber-500 text-white shrink-0",children:t.jsx(Vg,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Tips"})]}),t.jsxs("div",{className:"mt-3 text-sm text-slate-600 space-y-2",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 text-emerald-700",children:[t.jsx(ra,{className:"h-4 w-4"})," Pricing writes to DB and sends a notification."]}),t.jsx("div",{children:"Use Reconcile top-ups to backfill ledger credits from historical payments.net."}),t.jsxs("div",{children:["The Login link works only if a ",t.jsx("code",{children:"STRIPE_ACCOUNT_ID"})," (Connect) is configured on the server."]}),t.jsxs("div",{className:"text-xs text-slate-500",children:["Endpoints are protected; ensure your admin JWT is present in ",t.jsx("code",{children:"localStorage.token"}),"."]})]})]})]})]})]})})}function Ba({children:e}){const a=ba(),[s,n]=x.useState(!1),[r,l]=x.useState(!0);return x.useEffect(()=>{const c=localStorage.getItem("token"),u=localStorage.getItem("role");if(!c||!u){L.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),a("/login",{replace:!0});return}u==="user"?n(!0):u==="admin"?(L.error("You are not authorized to access this page."),a("/admin",{replace:!0})):(L.error("Unknown user role. Please log in again."),localStorage.clear(),a("/login",{replace:!0})),l(!1)},[a]),r?t.jsx("div",{children:"Loading..."}):s?e:null}function vr({children:e}){const a=ba(),[s,n]=x.useState(!1);return x.useEffect(()=>{try{const r=localStorage.getItem("token"),l=localStorage.getItem("role");if(!r||!l){L.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),a("/login",{replace:!0});return}l==="admin"?n(!0):l==="user"?(L.error("You are not authorized to access this page."),a("/user",{replace:!0})):(L.error("Unknown user role. Please log in again."),localStorage.clear(),a("/login",{replace:!0}))}catch{L.error("An unexpected error occurred. Please log in again."),localStorage.clear(),a("/login",{replace:!0})}},[a]),s?e:null}function Xbe(){return t.jsxs(t.Fragment,{children:[t.jsx(KU,{children:t.jsxs(SU,{children:[t.jsx(Nt,{path:"/",element:t.jsx(wU,{to:"/signup"})}),t.jsx(Nt,{path:"/signup",element:t.jsx(jG,{})}),t.jsx(Nt,{path:"/login",element:t.jsx(vZ,{})}),t.jsx(Nt,{path:"/otp",element:t.jsx(bZ,{})}),t.jsx(Nt,{path:"/forget_password",element:t.jsx(jZ,{})}),t.jsx(Nt,{path:"/profile",element:t.jsx(YZ,{})}),t.jsx(Nt,{path:"/privacy-policy",element:t.jsx(ZZ,{})}),t.jsx(Nt,{path:"/terms",element:t.jsx(JZ,{})}),t.jsxs(Nt,{path:"/user",element:t.jsx(fJ,{}),children:[t.jsx(Nt,{path:"dashboard",element:t.jsx(Ba,{children:t.jsx(lxe,{})})}),t.jsx(Nt,{path:"Appointments",element:t.jsx(Ba,{children:t.jsx(Rpe,{})})}),t.jsx(Nt,{path:"Calllogs",element:t.jsx(Ba,{children:t.jsx(Dge,{})})}),t.jsx(Nt,{path:"AdvancedStatistics",element:t.jsx(Ba,{children:t.jsx($ge,{})})}),t.jsx(Nt,{path:"Calender",element:t.jsx(Ba,{children:t.jsx(yge,{})})}),t.jsx(Nt,{path:"AllLeads",element:t.jsx(Ba,{children:t.jsx(Yge,{})})}),t.jsx(Nt,{path:"PricingSection",element:t.jsx(Ba,{children:t.jsx(uge,{})})}),t.jsx(Nt,{path:"CustomForms",element:t.jsx(Ba,{children:t.jsx(Gpe,{})})}),t.jsx(Nt,{path:"FacebookForms",element:t.jsx(Ba,{children:t.jsx(Zpe,{})})}),t.jsx(Nt,{path:"TextAssistants",element:t.jsx(Ba,{children:t.jsx(sge,{})})}),t.jsx(Nt,{path:"PhoneCalls",element:t.jsx(Ba,{children:t.jsx(vxe,{})})}),t.jsx(Nt,{path:"callhistory",element:t.jsx(Ba,{children:t.jsx($xe,{})})}),t.jsx(Nt,{path:"settings",element:t.jsx(Ba,{children:t.jsx(Rxe,{})})}),t.jsx(Nt,{path:"CRM",element:t.jsx(Ba,{children:t.jsx(Ppe,{})})}),t.jsx(Nt,{path:"callassistent",element:t.jsx(Ba,{children:t.jsx(Uxe,{})})}),t.jsx(Nt,{path:"edit-assistant/:assistantId",element:t.jsx(Ba,{children:t.jsx(Yxe,{})})}),t.jsx(Nt,{path:"assistant/create",element:t.jsx(Ba,{children:t.jsx(epe,{})})}),t.jsx(Nt,{path:"Lists",element:t.jsx(Ba,{children:t.jsx(rpe,{})})}),t.jsx(Nt,{path:"lead/:id",element:t.jsx(Ba,{children:t.jsx(cpe,{})})}),t.jsx(Nt,{path:"upload-csv",element:t.jsx(Ba,{children:t.jsx(mpe,{})})}),t.jsx(Nt,{path:"campaigns",element:t.jsx(Ba,{children:t.jsx(YP,{})})}),t.jsx(Nt,{path:"campain",element:t.jsx(Ba,{children:t.jsx(YP,{})})})]}),t.jsxs(Nt,{path:"/admin",element:t.jsx(ebe,{}),children:[t.jsx(Nt,{path:"dashboard",element:t.jsx(vr,{children:t.jsx(fbe,{})})}),t.jsx(Nt,{path:"Users",element:t.jsx(vr,{children:t.jsx(nbe,{})})}),t.jsx(Nt,{path:"PhoneCalls",element:t.jsx(vr,{children:t.jsx(bbe,{})})}),t.jsx(Nt,{path:"BillingPlans",element:t.jsx(vr,{children:t.jsx(Wbe,{})})}),t.jsx(Nt,{path:"settings",element:t.jsx(vr,{children:t.jsx(xbe,{})})}),t.jsx(Nt,{path:"addassistands",element:t.jsx(vr,{children:t.jsx(Sbe,{})})}),t.jsx(Nt,{path:"edit-assistants/:assistantId",element:t.jsx(vr,{children:t.jsx(Cbe,{})})}),t.jsx(Nt,{path:"assistants",element:t.jsx(vr,{children:t.jsx(Abe,{})})}),t.jsx(Nt,{path:"callhistory",element:t.jsx(vr,{children:t.jsx(Ibe,{})})}),t.jsx(Nt,{path:"lead/:id",element:t.jsx(vr,{children:t.jsx(zbe,{})})}),t.jsx(Nt,{path:"lead",element:t.jsx(vr,{children:t.jsx(qbe,{})})}),t.jsx(Nt,{path:"upload-csv",element:t.jsx(vr,{children:t.jsx(Gbe,{})})})]}),t.jsx(Nt,{path:"*",element:t.jsx(wG,{})})]})}),t.jsx($F,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}OB.createRoot(document.getElementById("root")).render(t.jsx(x.StrictMode,{children:t.jsx(Xbe,{})}));
