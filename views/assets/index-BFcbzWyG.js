var _B=Object.defineProperty;var kB=(e,a,n)=>a in e?_B(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n;var ny=(e,a,n)=>kB(e,typeof a!="symbol"?a+"":a,n);function CB(e,a){for(var n=0;n<a.length;n++){const s=a[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const l=Object.getOwnPropertyDescriptor(s,r);l&&Object.defineProperty(e,r,l.get?l:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function Ur(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sy={exports:{}},km={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w3;function AB(){if(w3)return km;w3=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function n(s,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:e,type:s,key:c,ref:r!==void 0?r:null,props:l}}return km.Fragment=a,km.jsx=n,km.jsxs=n,km}var N3;function TB(){return N3||(N3=1,sy.exports=AB()),sy.exports}var t=TB(),ry={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3;function EB(){if(S3)return vt;S3=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function N(A,$,z){this.props=A,this.context=$,this.refs=w,this.updater=z||y}N.prototype.isReactComponent={},N.prototype.setState=function(A,$){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,$,"setState")},N.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=N.prototype;function _(A,$,z){this.props=A,this.context=$,this.refs=w,this.updater=z||y}var C=_.prototype=new k;C.constructor=_,j(C,N.prototype),C.isPureReactComponent=!0;var O=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function B(A,$,z,X,ge,te){return z=te.ref,{$$typeof:e,type:A,key:$,ref:z!==void 0?z:null,props:te}}function M(A,$){return B(A.type,$,void 0,void 0,void 0,A.props)}function V(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function G(A){var $={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(z){return $[z]})}var H=/\/+/g;function F(A,$){return typeof A=="object"&&A!==null&&A.key!=null?G(""+A.key):$.toString(36)}function ie(){}function _e(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ie,ie):(A.status="pending",A.then(function($){A.status==="pending"&&(A.status="fulfilled",A.value=$)},function($){A.status==="pending"&&(A.status="rejected",A.reason=$)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function ce(A,$,z,X,ge){var te=typeof A;(te==="undefined"||te==="boolean")&&(A=null);var J=!1;if(A===null)J=!0;else switch(te){case"bigint":case"string":case"number":J=!0;break;case"object":switch(A.$$typeof){case e:case a:J=!0;break;case f:return J=A._init,ce(J(A._payload),$,z,X,ge)}}if(J)return ge=ge(A),J=X===""?"."+F(A,0):X,O(ge)?(z="",J!=null&&(z=J.replace(H,"$&/")+"/"),ce(ge,$,z,"",function(Se){return Se})):ge!=null&&(V(ge)&&(ge=M(ge,z+(ge.key==null||A&&A.key===ge.key?"":(""+ge.key).replace(H,"$&/")+"/")+J)),$.push(ge)),1;J=0;var Ce=X===""?".":X+":";if(O(A))for(var se=0;se<A.length;se++)X=A[se],te=Ce+F(X,se),J+=ce(X,$,z,te,ge);else if(se=b(A),typeof se=="function")for(A=se.call(A),se=0;!(X=A.next()).done;)X=X.value,te=Ce+F(X,se++),J+=ce(X,$,z,te,ge);else if(te==="object"){if(typeof A.then=="function")return ce(_e(A),$,z,X,ge);throw $=String(A),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return J}function T(A,$,z){if(A==null)return A;var X=[],ge=0;return ce(A,X,"","",function(te){return $.call(z,te,ge++)}),X}function K(A){if(A._status===-1){var $=A._result;$=$(),$.then(function(z){(A._status===0||A._status===-1)&&(A._status=1,A._result=z)},function(z){(A._status===0||A._status===-1)&&(A._status=2,A._result=z)}),A._status===-1&&(A._status=0,A._result=$)}if(A._status===1)return A._result.default;throw A._result}var W=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function I(){}return vt.Children={map:T,forEach:function(A,$,z){T(A,function(){$.apply(this,arguments)},z)},count:function(A){var $=0;return T(A,function(){$++}),$},toArray:function(A){return T(A,function($){return $})||[]},only:function(A){if(!V(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},vt.Component=N,vt.Fragment=n,vt.Profiler=r,vt.PureComponent=_,vt.StrictMode=s,vt.Suspense=m,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,vt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return P.H.useMemoCache(A)}},vt.cache=function(A){return function(){return A.apply(null,arguments)}},vt.cloneElement=function(A,$,z){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=j({},A.props),ge=A.key,te=void 0;if($!=null)for(J in $.ref!==void 0&&(te=void 0),$.key!==void 0&&(ge=""+$.key),$)!E.call($,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&$.ref===void 0||(X[J]=$[J]);var J=arguments.length-2;if(J===1)X.children=z;else if(1<J){for(var Ce=Array(J),se=0;se<J;se++)Ce[se]=arguments[se+2];X.children=Ce}return B(A.type,ge,void 0,void 0,te,X)},vt.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},vt.createElement=function(A,$,z){var X,ge={},te=null;if($!=null)for(X in $.key!==void 0&&(te=""+$.key),$)E.call($,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ge[X]=$[X]);var J=arguments.length-2;if(J===1)ge.children=z;else if(1<J){for(var Ce=Array(J),se=0;se<J;se++)Ce[se]=arguments[se+2];ge.children=Ce}if(A&&A.defaultProps)for(X in J=A.defaultProps,J)ge[X]===void 0&&(ge[X]=J[X]);return B(A,te,void 0,void 0,null,ge)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(A){return{$$typeof:d,render:A}},vt.isValidElement=V,vt.lazy=function(A){return{$$typeof:f,_payload:{_status:-1,_result:A},_init:K}},vt.memo=function(A,$){return{$$typeof:h,type:A,compare:$===void 0?null:$}},vt.startTransition=function(A){var $=P.T,z={};P.T=z;try{var X=A(),ge=P.S;ge!==null&&ge(z,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(I,W)}catch(te){W(te)}finally{P.T=$}},vt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},vt.use=function(A){return P.H.use(A)},vt.useActionState=function(A,$,z){return P.H.useActionState(A,$,z)},vt.useCallback=function(A,$){return P.H.useCallback(A,$)},vt.useContext=function(A){return P.H.useContext(A)},vt.useDebugValue=function(){},vt.useDeferredValue=function(A,$){return P.H.useDeferredValue(A,$)},vt.useEffect=function(A,$,z){var X=P.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(A,$)},vt.useId=function(){return P.H.useId()},vt.useImperativeHandle=function(A,$,z){return P.H.useImperativeHandle(A,$,z)},vt.useInsertionEffect=function(A,$){return P.H.useInsertionEffect(A,$)},vt.useLayoutEffect=function(A,$){return P.H.useLayoutEffect(A,$)},vt.useMemo=function(A,$){return P.H.useMemo(A,$)},vt.useOptimistic=function(A,$){return P.H.useOptimistic(A,$)},vt.useReducer=function(A,$,z){return P.H.useReducer(A,$,z)},vt.useRef=function(A){return P.H.useRef(A)},vt.useState=function(A){return P.H.useState(A)},vt.useSyncExternalStore=function(A,$,z){return P.H.useSyncExternalStore(A,$,z)},vt.useTransition=function(){return P.H.useTransition()},vt.version="19.1.0",vt}var _3;function mu(){return _3||(_3=1,ry.exports=EB()),ry.exports}var p=mu();const It=Ur(p),PB=CB({__proto__:null,default:It},[p]);var iy={exports:{}},Cm={},ly={exports:{}},oy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3;function OB(){return k3||(k3=1,function(e){function a(T,K){var W=T.length;T.push(K);e:for(;0<W;){var I=W-1>>>1,A=T[I];if(0<r(A,K))T[I]=K,T[W]=A,W=I;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var K=T[0],W=T.pop();if(W!==K){T[0]=W;e:for(var I=0,A=T.length,$=A>>>1;I<$;){var z=2*(I+1)-1,X=T[z],ge=z+1,te=T[ge];if(0>r(X,W))ge<A&&0>r(te,X)?(T[I]=te,T[ge]=W,I=ge):(T[I]=X,T[z]=W,I=z);else if(ge<A&&0>r(te,W))T[I]=te,T[ge]=W,I=ge;else break e}}return K}function r(T,K){var W=T.sortIndex-K.sortIndex;return W!==0?W:T.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],h=[],f=1,g=null,b=3,y=!1,j=!1,w=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(T){for(var K=n(h);K!==null;){if(K.callback===null)s(h);else if(K.startTime<=T)s(h),K.sortIndex=K.expirationTime,a(m,K);else break;K=n(h)}}function P(T){if(w=!1,O(T),!j)if(n(m)!==null)j=!0,E||(E=!0,F());else{var K=n(h);K!==null&&ce(P,K.startTime-T)}}var E=!1,B=-1,M=5,V=-1;function G(){return N?!0:!(e.unstable_now()-V<M)}function H(){if(N=!1,E){var T=e.unstable_now();V=T;var K=!0;try{e:{j=!1,w&&(w=!1,_(B),B=-1),y=!0;var W=b;try{t:{for(O(T),g=n(m);g!==null&&!(g.expirationTime>T&&G());){var I=g.callback;if(typeof I=="function"){g.callback=null,b=g.priorityLevel;var A=I(g.expirationTime<=T);if(T=e.unstable_now(),typeof A=="function"){g.callback=A,O(T),K=!0;break t}g===n(m)&&s(m),O(T)}else s(m);g=n(m)}if(g!==null)K=!0;else{var $=n(h);$!==null&&ce(P,$.startTime-T),K=!1}}break e}finally{g=null,b=W,y=!1}K=void 0}}finally{K?F():E=!1}}}var F;if(typeof C=="function")F=function(){C(H)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,_e=ie.port2;ie.port1.onmessage=H,F=function(){_e.postMessage(null)}}else F=function(){k(H,0)};function ce(T,K){B=k(function(){T(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(T){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var W=b;b=K;try{return T()}finally{b=W}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(T,K){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var W=b;b=T;try{return K()}finally{b=W}},e.unstable_scheduleCallback=function(T,K,W){var I=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?I+W:I):W=I,T){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=W+A,T={id:f++,callback:K,priorityLevel:T,startTime:W,expirationTime:A,sortIndex:-1},W>I?(T.sortIndex=W,a(h,T),n(m)===null&&T===n(h)&&(w?(_(B),B=-1):w=!0,ce(P,W-I))):(T.sortIndex=A,a(m,T),j||y||(j=!0,E||(E=!0,F()))),T},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(T){var K=b;return function(){var W=b;b=K;try{return T.apply(this,arguments)}finally{b=W}}}}(oy)),oy}var C3;function MB(){return C3||(C3=1,ly.exports=OB()),ly.exports}var cy={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A3;function DB(){if(A3)return Pn;A3=1;var e=mu();function a(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(a(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(m,h,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:m,containerInfo:h,implementation:f}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Pn.createPortal=function(m,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(a(299));return l(m,h,null,f)},Pn.flushSync=function(m){var h=c.T,f=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=h,s.p=f,s.d.f()}},Pn.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(m,h))},Pn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Pn.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var f=h.as,g=d(f,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?s.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):f==="script"&&s.d.X(m,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Pn.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=d(h.as,h.crossOrigin);s.d.M(m,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(m)},Pn.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,g=d(f,h.crossOrigin);s.d.L(m,f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Pn.preloadModule=function(m,h){if(typeof m=="string")if(h){var f=d(h.as,h.crossOrigin);s.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(m)},Pn.requestFormReset=function(m){s.d.r(m)},Pn.unstable_batchedUpdates=function(m,h){return m(h)},Pn.useFormState=function(m,h,f){return c.H.useFormState(m,h,f)},Pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Pn.version="19.1.0",Pn}var T3;function qO(){if(T3)return cy.exports;T3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),cy.exports=DB(),cy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E3;function RB(){if(E3)return Cm;E3=1;var e=MB(),a=mu(),n=qO();function s(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(s(188));return o!==i?null:i}for(var u=i,x=o;;){var v=u.return;if(v===null)break;var S=v.alternate;if(S===null){if(x=v.return,x!==null){u=x;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===u)return d(v),i;if(S===x)return d(v),o;S=S.sibling}throw Error(s(188))}if(u.return!==x.return)u=v,x=S;else{for(var D=!1,q=v.child;q;){if(q===u){D=!0,u=v,x=S;break}if(q===x){D=!0,x=v,u=S;break}q=q.sibling}if(!D){for(q=S.child;q;){if(q===u){D=!0,u=S,x=v;break}if(q===x){D=!0,x=S,u=v;break}q=q.sibling}if(!D)throw Error(s(189))}}if(u.alternate!==x)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ie?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case E:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case C:return(i.displayName||"Context")+".Provider";case _:return(i._context.displayName||"Context")+".Consumer";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return o=i.displayName||null,o!==null?o:_e(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return _e(i(o))}catch{}}return null}var ce=Array.isArray,T=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},I=[],A=-1;function $(i){return{current:i}}function z(i){0>A||(i.current=I[A],I[A]=null,A--)}function X(i,o){A++,I[A]=i.current,i.current=o}var ge=$(null),te=$(null),J=$(null),Ce=$(null);function se(i,o){switch(X(J,o),X(te,i),X(ge,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Xk(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Xk(o),i=Zk(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}z(ge),X(ge,i)}function Se(){z(ge),z(te),z(J)}function De(i){i.memoizedState!==null&&X(Ce,i);var o=ge.current,u=Zk(o,i.type);o!==u&&(X(te,i),X(ge,u))}function Me(i){te.current===i&&(z(ge),z(te)),Ce.current===i&&(z(Ce),jm._currentValue=W)}var ye=Object.prototype.hasOwnProperty,Ye=e.unstable_scheduleCallback,Ke=e.unstable_cancelCallback,we=e.unstable_shouldYield,ue=e.unstable_requestPaint,Ae=e.unstable_now,U=e.unstable_getCurrentPriorityLevel,de=e.unstable_ImmediatePriority,ke=e.unstable_UserBlockingPriority,Le=e.unstable_NormalPriority,Ve=e.unstable_LowPriority,Xe=e.unstable_IdlePriority,$e=e.log,ne=e.unstable_setDisableYieldValue,Z=null,ve=null;function fe(i){if(typeof $e=="function"&&ne(i),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(Z,i)}catch{}}var Ue=Math.clz32?Math.clz32:tt,rt=Math.log,dt=Math.LN2;function tt(i){return i>>>=0,i===0?32:31-(rt(i)/dt|0)|0}var $t=256,Tt=4194304;function ze(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ze(i,o,u){var x=i.pendingLanes;if(x===0)return 0;var v=0,S=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var q=x&134217727;return q!==0?(x=q&~S,x!==0?v=ze(x):(D&=q,D!==0?v=ze(D):u||(u=q&~i,u!==0&&(v=ze(u))))):(q=x&~S,q!==0?v=ze(q):D!==0?v=ze(D):u||(u=x&~i,u!==0&&(v=ze(u)))),v===0?0:o!==0&&o!==v&&(o&S)===0&&(S=v&-v,u=o&-o,S>=u||S===32&&(u&4194048)!==0)?o:v}function pt(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Pa(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oe(){var i=$t;return $t<<=1,($t&4194048)===0&&($t=256),i}function Q(){var i=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),i}function le(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function he(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Je(i,o,u,x,v,S){var D=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var q=i.entanglements,re=i.expirationTimes,Ne=i.hiddenUpdates;for(u=D&~u;0<u;){var Be=31-Ue(u),He=1<<Be;q[Be]=0,re[Be]=-1;var Te=Ne[Be];if(Te!==null)for(Ne[Be]=null,Be=0;Be<Te.length;Be++){var Pe=Te[Be];Pe!==null&&(Pe.lane&=-536870913)}u&=~He}x!==0&&lt(i,x,0),S!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=S&~(D&~o))}function lt(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var x=31-Ue(o);i.entangledLanes|=o,i.entanglements[x]=i.entanglements[x]|1073741824|u&4194090}function yt(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var x=31-Ue(u),v=1<<x;v&o|i[x]&o&&(i[x]|=o),u&=~v}}function ut(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Mt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function bt(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:p3(i.type))}function Ka(i,o){var u=K.p;try{return K.p=i,o()}finally{K.p=u}}var ra=Math.random().toString(36).slice(2),Et="__reactFiber$"+ra,Pt="__reactProps$"+ra,Oa="__reactContainer$"+ra,tn="__reactEvents$"+ra,zs="__reactListeners$"+ra,xi="__reactHandles$"+ra,Hn="__reactResources$"+ra,ms="__reactMarker$"+ra;function xr(i){delete i[Et],delete i[Pt],delete i[tn],delete i[zs],delete i[xi]}function ee(i){var o=i[Et];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Oa]||u[Et]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=t3(i);i!==null;){if(u=i[Et])return u;i=t3(i)}return o}i=u,u=i.parentNode}return null}function xe(i){if(i=i[Et]||i[Oa]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function We(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(s(33))}function Y(i){var o=i[Hn];return o||(o=i[Hn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function L(i){i[ms]=!0}var ae=new Set,Ee={};function Ie(i,o){qe(i,o),qe(i+"Capture",o)}function qe(i,o){for(Ee[i]=o,i=0;i<o.length;i++)ae.add(o[i])}var Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wt={},Gt={};function xn(i){return ye.call(Gt,i)?!0:ye.call(wt,i)?!1:Qe.test(i)?Gt[i]=!0:(wt[i]=!0,!1)}function an(i,o,u){if(xn(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var x=o.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function pi(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function qn(i,o,u,x){if(x===null)i.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+x)}}var Hr,An;function hl(i){if(Hr===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Hr=o&&o[1]||"",An=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+i+An}var Mu=!1;function Tn(i,o){if(!i||Mu)return"";Mu=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(o){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Pe){var Te=Pe}Reflect.construct(i,[],He)}else{try{He.call()}catch(Pe){Te=Pe}i.call(He.prototype)}}else{try{throw Error()}catch(Pe){Te=Pe}(He=i())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Pe){if(Pe&&Te&&typeof Pe.stack=="string")return[Pe.stack,Te.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=x.DetermineComponentFrameRoot(),D=S[0],q=S[1];if(D&&q){var re=D.split(`
`),Ne=q.split(`
`);for(v=x=0;x<re.length&&!re[x].includes("DetermineComponentFrameRoot");)x++;for(;v<Ne.length&&!Ne[v].includes("DetermineComponentFrameRoot");)v++;if(x===re.length||v===Ne.length)for(x=re.length-1,v=Ne.length-1;1<=x&&0<=v&&re[x]!==Ne[v];)v--;for(;1<=x&&0<=v;x--,v--)if(re[x]!==Ne[v]){if(x!==1||v!==1)do if(x--,v--,0>v||re[x]!==Ne[v]){var Be=`
`+re[x].replace(" at new "," at ");return i.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",i.displayName)),Be}while(1<=x&&0<=v);break}}}finally{Mu=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?hl(u):""}function v9(i){switch(i.tag){case 26:case 27:case 5:return hl(i.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 15:return Tn(i.type,!1);case 11:return Tn(i.type.render,!1);case 1:return Tn(i.type,!0);case 31:return hl("Activity");default:return""}}function H4(i){try{var o="";do o+=v9(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Us(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function q4(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function y9(i){var o=q4(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),x=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,S=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(D){x=""+D,S.call(this,D)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return x},setValue:function(D){x=""+D},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function kf(i){i._valueTracker||(i._valueTracker=y9(i))}function K4(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),x="";return i&&(x=q4(i)?i.checked?"true":"false":i.value),i=x,i!==u?(o.setValue(i),!0):!1}function Cf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var j9=/[\n"\\]/g;function Fs(i){return i.replace(j9,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function eb(i,o,u,x,v,S,D,q){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),o!=null?D==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Us(o)):i.value!==""+Us(o)&&(i.value=""+Us(o)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),o!=null?tb(i,D,Us(o)):u!=null?tb(i,D,Us(u)):x!=null&&i.removeAttribute("value"),v==null&&S!=null&&(i.defaultChecked=!!S),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?i.name=""+Us(q):i.removeAttribute("name")}function G4(i,o,u,x,v,S,D,q){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||o!=null))return;u=u!=null?""+Us(u):"",o=o!=null?""+Us(o):u,q||o===i.value||(i.value=o),i.defaultValue=o}x=x??v,x=typeof x!="function"&&typeof x!="symbol"&&!!x,i.checked=q?i.checked:!!x,i.defaultChecked=!!x,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function tb(i,o,u){o==="number"&&Cf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Pc(i,o,u,x){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&x&&(i[u].defaultSelected=!0)}else{for(u=""+Us(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,x&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function Y4(i,o,u){if(o!=null&&(o=""+Us(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Us(u):""}function W4(i,o,u,x){if(o==null){if(x!=null){if(u!=null)throw Error(s(92));if(ce(x)){if(1<x.length)throw Error(s(93));x=x[0]}u=x}u==null&&(u=""),o=u}u=Us(o),i.defaultValue=u,x=i.textContent,x===u&&x!==""&&x!==null&&(i.value=x)}function Oc(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var w9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function X4(i,o,u){var x=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?x?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":x?i.setProperty(o,u):typeof u!="number"||u===0||w9.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Z4(i,o,u){if(o!=null&&typeof o!="object")throw Error(s(62));if(i=i.style,u!=null){for(var x in u)!u.hasOwnProperty(x)||o!=null&&o.hasOwnProperty(x)||(x.indexOf("--")===0?i.setProperty(x,""):x==="float"?i.cssFloat="":i[x]="");for(var v in o)x=o[v],o.hasOwnProperty(v)&&u[v]!==x&&X4(i,v,x)}else for(var S in o)o.hasOwnProperty(S)&&X4(i,S,o[S])}function ab(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Af(i){return S9.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var nb=null;function sb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mc=null,Dc=null;function Q4(i){var o=xe(i);if(o&&(i=o.stateNode)){var u=i[Pt]||null;e:switch(i=o.stateNode,o.type){case"input":if(eb(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Fs(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var x=u[o];if(x!==i&&x.form===i.form){var v=x[Pt]||null;if(!v)throw Error(s(90));eb(x,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)x=u[o],x.form===i.form&&K4(x)}break e;case"textarea":Y4(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Pc(i,!!u.multiple,o,!1)}}}var rb=!1;function J4(i,o,u){if(rb)return i(o,u);rb=!0;try{var x=i(o);return x}finally{if(rb=!1,(Mc!==null||Dc!==null)&&(h0(),Mc&&(o=Mc,i=Dc,Dc=Mc=null,Q4(o),i)))for(o=0;o<i.length;o++)Q4(i[o])}}function Du(i,o){var u=i.stateNode;if(u===null)return null;var x=u[Pt]||null;if(x===null)return null;u=x[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(s(231,o,typeof u));return u}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ib=!1;if(gi)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){ib=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{ib=!1}var fl=null,lb=null,Tf=null;function e_(){if(Tf)return Tf;var i,o=lb,u=o.length,x,v="value"in fl?fl.value:fl.textContent,S=v.length;for(i=0;i<u&&o[i]===v[i];i++);var D=u-i;for(x=1;x<=D&&o[u-x]===v[S-x];x++);return Tf=v.slice(i,1<x?1-x:void 0)}function Ef(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Pf(){return!0}function t_(){return!1}function Jn(i){function o(u,x,v,S,D){this._reactName=u,this._targetInst=v,this.type=x,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var q in i)i.hasOwnProperty(q)&&(u=i[q],this[q]=u?u(S):S[q]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Pf:t_,this.isPropagationStopped=t_,this}return f(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Pf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Pf)},persist:function(){},isPersistent:Pf}),o}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Of=Jn(bo),$u=f({},bo,{view:0,detail:0}),_9=Jn($u),ob,cb,Lu,Mf=f({},$u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ub,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Lu&&(Lu&&i.type==="mousemove"?(ob=i.screenX-Lu.screenX,cb=i.screenY-Lu.screenY):cb=ob=0,Lu=i),ob)},movementY:function(i){return"movementY"in i?i.movementY:cb}}),a_=Jn(Mf),k9=f({},Mf,{dataTransfer:0}),C9=Jn(k9),A9=f({},$u,{relatedTarget:0}),db=Jn(A9),T9=f({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),E9=Jn(T9),P9=f({},bo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),O9=Jn(P9),M9=f({},bo,{data:0}),n_=Jn(M9),D9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L9(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=$9[i])?!!o[i]:!1}function ub(){return L9}var I9=f({},$u,{key:function(i){if(i.key){var o=D9[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ef(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?R9[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ub,charCode:function(i){return i.type==="keypress"?Ef(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ef(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),B9=Jn(I9),z9=f({},Mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s_=Jn(z9),U9=f({},$u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ub}),F9=Jn(U9),V9=f({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),H9=Jn(V9),q9=f({},Mf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K9=Jn(q9),G9=f({},bo,{newState:0,oldState:0}),Y9=Jn(G9),W9=[9,13,27,32],mb=gi&&"CompositionEvent"in window,Iu=null;gi&&"documentMode"in document&&(Iu=document.documentMode);var X9=gi&&"TextEvent"in window&&!Iu,r_=gi&&(!mb||Iu&&8<Iu&&11>=Iu),i_=" ",l_=!1;function o_(i,o){switch(i){case"keyup":return W9.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c_(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Rc=!1;function Z9(i,o){switch(i){case"compositionend":return c_(o);case"keypress":return o.which!==32?null:(l_=!0,i_);case"textInput":return i=o.data,i===i_&&l_?null:i;default:return null}}function Q9(i,o){if(Rc)return i==="compositionend"||!mb&&o_(i,o)?(i=e_(),Tf=lb=fl=null,Rc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return r_&&o.locale!=="ko"?null:o.data;default:return null}}var J9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!J9[i.type]:o==="textarea"}function u_(i,o,u,x){Mc?Dc?Dc.push(x):Dc=[x]:Mc=x,o=v0(o,"onChange"),0<o.length&&(u=new Of("onChange","change",null,u,x),i.push({event:u,listeners:o}))}var Bu=null,zu=null;function eI(i){qk(i,0)}function Df(i){var o=We(i);if(K4(o))return i}function m_(i,o){if(i==="change")return o}var h_=!1;if(gi){var hb;if(gi){var fb="oninput"in document;if(!fb){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),fb=typeof f_.oninput=="function"}hb=fb}else hb=!1;h_=hb&&(!document.documentMode||9<document.documentMode)}function x_(){Bu&&(Bu.detachEvent("onpropertychange",p_),zu=Bu=null)}function p_(i){if(i.propertyName==="value"&&Df(zu)){var o=[];u_(o,zu,i,sb(i)),J4(eI,o)}}function tI(i,o,u){i==="focusin"?(x_(),Bu=o,zu=u,Bu.attachEvent("onpropertychange",p_)):i==="focusout"&&x_()}function aI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Df(zu)}function nI(i,o){if(i==="click")return Df(o)}function sI(i,o){if(i==="input"||i==="change")return Df(o)}function rI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var hs=typeof Object.is=="function"?Object.is:rI;function Uu(i,o){if(hs(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),x=Object.keys(o);if(u.length!==x.length)return!1;for(x=0;x<u.length;x++){var v=u[x];if(!ye.call(o,v)||!hs(i[v],o[v]))return!1}return!0}function g_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function b_(i,o){var u=g_(i);i=0;for(var x;u;){if(u.nodeType===3){if(x=i+u.textContent.length,i<=o&&x>=o)return{node:u,offset:o-i};i=x}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=g_(u)}}function v_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?v_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function y_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Cf(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Cf(i.document)}return o}function xb(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var iI=gi&&"documentMode"in document&&11>=document.documentMode,$c=null,pb=null,Fu=null,gb=!1;function j_(i,o,u){var x=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;gb||$c==null||$c!==Cf(x)||(x=$c,"selectionStart"in x&&xb(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Fu&&Uu(Fu,x)||(Fu=x,x=v0(pb,"onSelect"),0<x.length&&(o=new Of("onSelect","select",null,o,u),i.push({event:o,listeners:x}),o.target=$c)))}function vo(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Lc={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionrun:vo("Transition","TransitionRun"),transitionstart:vo("Transition","TransitionStart"),transitioncancel:vo("Transition","TransitionCancel"),transitionend:vo("Transition","TransitionEnd")},bb={},w_={};gi&&(w_=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function yo(i){if(bb[i])return bb[i];if(!Lc[i])return i;var o=Lc[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in w_)return bb[i]=o[u];return i}var N_=yo("animationend"),S_=yo("animationiteration"),__=yo("animationstart"),lI=yo("transitionrun"),oI=yo("transitionstart"),cI=yo("transitioncancel"),k_=yo("transitionend"),C_=new Map,vb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vb.push("scrollEnd");function pr(i,o){C_.set(i,o),Ie(o,[i])}var A_=new WeakMap;function Vs(i,o){if(typeof i=="object"&&i!==null){var u=A_.get(i);return u!==void 0?u:(o={value:i,source:o,stack:H4(o)},A_.set(i,o),o)}return{value:i,source:o,stack:H4(o)}}var Hs=[],Ic=0,yb=0;function Rf(){for(var i=Ic,o=yb=Ic=0;o<i;){var u=Hs[o];Hs[o++]=null;var x=Hs[o];Hs[o++]=null;var v=Hs[o];Hs[o++]=null;var S=Hs[o];if(Hs[o++]=null,x!==null&&v!==null){var D=x.pending;D===null?v.next=v:(v.next=D.next,D.next=v),x.pending=v}S!==0&&T_(u,v,S)}}function $f(i,o,u,x){Hs[Ic++]=i,Hs[Ic++]=o,Hs[Ic++]=u,Hs[Ic++]=x,yb|=x,i.lanes|=x,i=i.alternate,i!==null&&(i.lanes|=x)}function jb(i,o,u,x){return $f(i,o,u,x),Lf(i)}function Bc(i,o){return $f(i,null,null,o),Lf(i)}function T_(i,o,u){i.lanes|=u;var x=i.alternate;x!==null&&(x.lanes|=u);for(var v=!1,S=i.return;S!==null;)S.childLanes|=u,x=S.alternate,x!==null&&(x.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(v=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,v&&o!==null&&(v=31-Ue(u),i=S.hiddenUpdates,x=i[v],x===null?i[v]=[o]:x.push(o),o.lane=u|536870912),S):null}function Lf(i){if(50<hm)throw hm=0,Cv=null,Error(s(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var zc={};function dI(i,o,u,x){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(i,o,u,x){return new dI(i,o,u,x)}function wb(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bi(i,o){var u=i.alternate;return u===null?(u=fs(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function E_(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function If(i,o,u,x,v,S){var D=0;if(x=i,typeof i=="function")wb(i)&&(D=1);else if(typeof i=="string")D=mB(i,u,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=fs(31,u,o,v),i.elementType=V,i.lanes=S,i;case j:return jo(u.children,v,S,o);case w:D=8,v|=24;break;case N:return i=fs(12,u,o,v|2),i.elementType=N,i.lanes=S,i;case P:return i=fs(13,u,o,v),i.elementType=P,i.lanes=S,i;case E:return i=fs(19,u,o,v),i.elementType=E,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case C:D=10;break e;case _:D=9;break e;case O:D=11;break e;case B:D=14;break e;case M:D=16,x=null;break e}D=29,u=Error(s(130,i===null?"null":typeof i,"")),x=null}return o=fs(D,u,o,v),o.elementType=i,o.type=x,o.lanes=S,o}function jo(i,o,u,x){return i=fs(7,i,x,o),i.lanes=u,i}function Nb(i,o,u){return i=fs(6,i,null,o),i.lanes=u,i}function Sb(i,o,u){return o=fs(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Uc=[],Fc=0,Bf=null,zf=0,qs=[],Ks=0,wo=null,vi=1,yi="";function No(i,o){Uc[Fc++]=zf,Uc[Fc++]=Bf,Bf=i,zf=o}function P_(i,o,u){qs[Ks++]=vi,qs[Ks++]=yi,qs[Ks++]=wo,wo=i;var x=vi;i=yi;var v=32-Ue(x)-1;x&=~(1<<v),u+=1;var S=32-Ue(o)+v;if(30<S){var D=v-v%5;S=(x&(1<<D)-1).toString(32),x>>=D,v-=D,vi=1<<32-Ue(o)+v|u<<v|x,yi=S+i}else vi=1<<S|u<<v|x,yi=i}function _b(i){i.return!==null&&(No(i,1),P_(i,1,0))}function kb(i){for(;i===Bf;)Bf=Uc[--Fc],Uc[Fc]=null,zf=Uc[--Fc],Uc[Fc]=null;for(;i===wo;)wo=qs[--Ks],qs[Ks]=null,yi=qs[--Ks],qs[Ks]=null,vi=qs[--Ks],qs[Ks]=null}var Kn=null,ja=null,Ut=!1,So=null,qr=!1,Cb=Error(s(519));function _o(i){var o=Error(s(418,""));throw qu(Vs(o,i)),Cb}function O_(i){var o=i.stateNode,u=i.type,x=i.memoizedProps;switch(o[Et]=i,o[Pt]=x,u){case"dialog":At("cancel",o),At("close",o);break;case"iframe":case"object":case"embed":At("load",o);break;case"video":case"audio":for(u=0;u<xm.length;u++)At(xm[u],o);break;case"source":At("error",o);break;case"img":case"image":case"link":At("error",o),At("load",o);break;case"details":At("toggle",o);break;case"input":At("invalid",o),G4(o,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),kf(o);break;case"select":At("invalid",o);break;case"textarea":At("invalid",o),W4(o,x.value,x.defaultValue,x.children),kf(o)}u=x.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||x.suppressHydrationWarning===!0||Wk(o.textContent,u)?(x.popover!=null&&(At("beforetoggle",o),At("toggle",o)),x.onScroll!=null&&At("scroll",o),x.onScrollEnd!=null&&At("scrollend",o),x.onClick!=null&&(o.onclick=y0),o=!0):o=!1,o||_o(i)}function M_(i){for(Kn=i.return;Kn;)switch(Kn.tag){case 5:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:Kn=Kn.return}}function Vu(i){if(i!==Kn)return!1;if(!Ut)return M_(i),Ut=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Vv(i.type,i.memoizedProps)),u=!u),u&&ja&&_o(i),M_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){ja=br(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}ja=null}}else o===27?(o=ja,El(i.type)?(i=Gv,Gv=null,ja=i):ja=o):ja=Kn?br(i.stateNode.nextSibling):null;return!0}function Hu(){ja=Kn=null,Ut=!1}function D_(){var i=So;return i!==null&&(as===null?as=i:as.push.apply(as,i),So=null),i}function qu(i){So===null?So=[i]:So.push(i)}var Ab=$(null),ko=null,ji=null;function xl(i,o,u){X(Ab,o._currentValue),o._currentValue=u}function wi(i){i._currentValue=Ab.current,z(Ab)}function Tb(i,o,u){for(;i!==null;){var x=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,x!==null&&(x.childLanes|=o)):x!==null&&(x.childLanes&o)!==o&&(x.childLanes|=o),i===u)break;i=i.return}}function Eb(i,o,u,x){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var S=v.dependencies;if(S!==null){var D=v.child;S=S.firstContext;e:for(;S!==null;){var q=S;S=v;for(var re=0;re<o.length;re++)if(q.context===o[re]){S.lanes|=u,q=S.alternate,q!==null&&(q.lanes|=u),Tb(S.return,u,i),x||(D=null);break e}S=q.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(s(341));D.lanes|=u,S=D.alternate,S!==null&&(S.lanes|=u),Tb(D,u,i),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===i){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function Ku(i,o,u,x){i=null;for(var v=o,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(s(387));if(D=D.memoizedProps,D!==null){var q=v.type;hs(v.pendingProps.value,D.value)||(i!==null?i.push(q):i=[q])}}else if(v===Ce.current){if(D=v.alternate,D===null)throw Error(s(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(jm):i=[jm])}v=v.return}i!==null&&Eb(o,i,u,x),o.flags|=262144}function Uf(i){for(i=i.firstContext;i!==null;){if(!hs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Co(i){ko=i,ji=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function En(i){return R_(ko,i)}function Ff(i,o){return ko===null&&Co(i),R_(i,o)}function R_(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ji===null){if(i===null)throw Error(s(308));ji=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ji=ji.next=o;return u}var uI=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,x){i.push(x)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},mI=e.unstable_scheduleCallback,hI=e.unstable_NormalPriority,Ga={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pb(){return{controller:new uI,data:new Map,refCount:0}}function Gu(i){i.refCount--,i.refCount===0&&mI(hI,function(){i.controller.abort()})}var Yu=null,Ob=0,Vc=0,Hc=null;function fI(i,o){if(Yu===null){var u=Yu=[];Ob=0,Vc=Dv(),Hc={status:"pending",value:void 0,then:function(x){u.push(x)}}}return Ob++,o.then($_,$_),o}function $_(){if(--Ob===0&&Yu!==null){Hc!==null&&(Hc.status="fulfilled");var i=Yu;Yu=null,Vc=0,Hc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function xI(i,o){var u=[],x={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){x.status="fulfilled",x.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(x.status="rejected",x.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),x}var L_=T.S;T.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&fI(i,o),L_!==null&&L_(i,o)};var Ao=$(null);function Mb(){var i=Ao.current;return i!==null?i:aa.pooledCache}function Vf(i,o){o===null?X(Ao,Ao.current):X(Ao,o.pool)}function I_(){var i=Mb();return i===null?null:{parent:Ga._currentValue,pool:i}}var Wu=Error(s(460)),B_=Error(s(474)),Hf=Error(s(542)),Db={then:function(){}};function z_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qf(){}function U_(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(qf,qf),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,V_(i),i;default:if(typeof o.status=="string")o.then(qf,qf);else{if(i=aa,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=o,i.status="pending",i.then(function(x){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=x}},function(x){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=x}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,V_(i),i}throw Xu=o,Wu}}var Xu=null;function F_(){if(Xu===null)throw Error(s(459));var i=Xu;return Xu=null,i}function V_(i){if(i===Wu||i===Hf)throw Error(s(483))}var pl=!1;function Rb(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $b(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function gl(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bl(i,o,u){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(Ht&2)!==0){var v=x.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),x.pending=o,o=Lf(i),T_(i,null,u),o}return $f(i,x,o,u),Lf(i)}function Zu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var x=o.lanes;x&=i.pendingLanes,u|=x,o.lanes=u,yt(i,u)}}function Lb(i,o){var u=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,u===x)){var v=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var D={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?v=S=D:S=S.next=D,u=u.next}while(u!==null);S===null?v=S=o:S=S.next=o}else v=S=o;u={baseState:x.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:x.shared,callbacks:x.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Ib=!1;function Qu(){if(Ib){var i=Hc;if(i!==null)throw i}}function Ju(i,o,u,x){Ib=!1;var v=i.updateQueue;pl=!1;var S=v.firstBaseUpdate,D=v.lastBaseUpdate,q=v.shared.pending;if(q!==null){v.shared.pending=null;var re=q,Ne=re.next;re.next=null,D===null?S=Ne:D.next=Ne,D=re;var Be=i.alternate;Be!==null&&(Be=Be.updateQueue,q=Be.lastBaseUpdate,q!==D&&(q===null?Be.firstBaseUpdate=Ne:q.next=Ne,Be.lastBaseUpdate=re))}if(S!==null){var He=v.baseState;D=0,Be=Ne=re=null,q=S;do{var Te=q.lane&-536870913,Pe=Te!==q.lane;if(Pe?(Dt&Te)===Te:(x&Te)===Te){Te!==0&&Te===Vc&&(Ib=!0),Be!==null&&(Be=Be.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var ht=i,ct=q;Te=o;var Xt=u;switch(ct.tag){case 1:if(ht=ct.payload,typeof ht=="function"){He=ht.call(Xt,He,Te);break e}He=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ct.payload,Te=typeof ht=="function"?ht.call(Xt,He,Te):ht,Te==null)break e;He=f({},He,Te);break e;case 2:pl=!0}}Te=q.callback,Te!==null&&(i.flags|=64,Pe&&(i.flags|=8192),Pe=v.callbacks,Pe===null?v.callbacks=[Te]:Pe.push(Te))}else Pe={lane:Te,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Be===null?(Ne=Be=Pe,re=He):Be=Be.next=Pe,D|=Te;if(q=q.next,q===null){if(q=v.shared.pending,q===null)break;Pe=q,q=Pe.next,Pe.next=null,v.lastBaseUpdate=Pe,v.shared.pending=null}}while(!0);Be===null&&(re=He),v.baseState=re,v.firstBaseUpdate=Ne,v.lastBaseUpdate=Be,S===null&&(v.shared.lanes=0),kl|=D,i.lanes=D,i.memoizedState=He}}function H_(i,o){if(typeof i!="function")throw Error(s(191,i));i.call(o)}function q_(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)H_(u[i],o)}var qc=$(null),Kf=$(0);function K_(i,o){i=Ti,X(Kf,i),X(qc,o),Ti=i|o.baseLanes}function Bb(){X(Kf,Ti),X(qc,qc.current)}function zb(){Ti=Kf.current,z(qc),z(Kf)}var vl=0,Nt=null,Yt=null,za=null,Gf=!1,Kc=!1,To=!1,Yf=0,em=0,Gc=null,pI=0;function Ma(){throw Error(s(321))}function Ub(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!hs(i[u],o[u]))return!1;return!0}function Fb(i,o,u,x,v,S){return vl=S,Nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,T.H=i===null||i.memoizedState===null?T5:E5,To=!1,S=u(x,v),To=!1,Kc&&(S=Y_(o,u,x,v)),G_(i),S}function G_(i){T.H=e0;var o=Yt!==null&&Yt.next!==null;if(vl=0,za=Yt=Nt=null,Gf=!1,em=0,Gc=null,o)throw Error(s(300));i===null||nn||(i=i.dependencies,i!==null&&Uf(i)&&(nn=!0))}function Y_(i,o,u,x){Nt=i;var v=0;do{if(Kc&&(Gc=null),em=0,Kc=!1,25<=v)throw Error(s(301));if(v+=1,za=Yt=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}T.H=NI,S=o(u,x)}while(Kc);return S}function gI(){var i=T.H,o=i.useState()[0];return o=typeof o.then=="function"?tm(o):o,i=i.useState()[0],(Yt!==null?Yt.memoizedState:null)!==i&&(Nt.flags|=1024),o}function Vb(){var i=Yf!==0;return Yf=0,i}function Hb(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function qb(i){if(Gf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Gf=!1}vl=0,za=Yt=Nt=null,Kc=!1,em=Yf=0,Gc=null}function es(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return za===null?Nt.memoizedState=za=i:za=za.next=i,za}function Ua(){if(Yt===null){var i=Nt.alternate;i=i!==null?i.memoizedState:null}else i=Yt.next;var o=za===null?Nt.memoizedState:za.next;if(o!==null)za=o,Yt=i;else{if(i===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Yt=i,i={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},za===null?Nt.memoizedState=za=i:za=za.next=i}return za}function Kb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tm(i){var o=em;return em+=1,Gc===null&&(Gc=[]),i=U_(Gc,i,o),o=Nt,(za===null?o.memoizedState:za.next)===null&&(o=o.alternate,T.H=o===null||o.memoizedState===null?T5:E5),i}function Wf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tm(i);if(i.$$typeof===C)return En(i)}throw Error(s(438,String(i)))}function Gb(i){var o=null,u=Nt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var x=Nt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(o={data:x.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Kb(),Nt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),x=0;x<i;x++)u[x]=G;return o.index++,u}function Ni(i,o){return typeof o=="function"?o(i):o}function Xf(i){var o=Ua();return Yb(o,Yt,i)}function Yb(i,o,u){var x=i.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=u;var v=i.baseQueue,S=x.pending;if(S!==null){if(v!==null){var D=v.next;v.next=S.next,S.next=D}o.baseQueue=v=S,x.pending=null}if(S=i.baseState,v===null)i.memoizedState=S;else{o=v.next;var q=D=null,re=null,Ne=o,Be=!1;do{var He=Ne.lane&-536870913;if(He!==Ne.lane?(Dt&He)===He:(vl&He)===He){var Te=Ne.revertLane;if(Te===0)re!==null&&(re=re.next={lane:0,revertLane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),He===Vc&&(Be=!0);else if((vl&Te)===Te){Ne=Ne.next,Te===Vc&&(Be=!0);continue}else He={lane:0,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},re===null?(q=re=He,D=S):re=re.next=He,Nt.lanes|=Te,kl|=Te;He=Ne.action,To&&u(S,He),S=Ne.hasEagerState?Ne.eagerState:u(S,He)}else Te={lane:He,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},re===null?(q=re=Te,D=S):re=re.next=Te,Nt.lanes|=He,kl|=He;Ne=Ne.next}while(Ne!==null&&Ne!==o);if(re===null?D=S:re.next=q,!hs(S,i.memoizedState)&&(nn=!0,Be&&(u=Hc,u!==null)))throw u;i.memoizedState=S,i.baseState=D,i.baseQueue=re,x.lastRenderedState=S}return v===null&&(x.lanes=0),[i.memoizedState,x.dispatch]}function Wb(i){var o=Ua(),u=o.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=i;var x=u.dispatch,v=u.pending,S=o.memoizedState;if(v!==null){u.pending=null;var D=v=v.next;do S=i(S,D.action),D=D.next;while(D!==v);hs(S,o.memoizedState)||(nn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,x]}function W_(i,o,u){var x=Nt,v=Ua(),S=Ut;if(S){if(u===void 0)throw Error(s(407));u=u()}else u=o();var D=!hs((Yt||v).memoizedState,u);D&&(v.memoizedState=u,nn=!0),v=v.queue;var q=Q_.bind(null,x,v,i);if(am(2048,8,q,[i]),v.getSnapshot!==o||D||za!==null&&za.memoizedState.tag&1){if(x.flags|=2048,Yc(9,Zf(),Z_.bind(null,x,v,u,o),null),aa===null)throw Error(s(349));S||(vl&124)!==0||X_(x,o,u)}return u}function X_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Nt.updateQueue,o===null?(o=Kb(),Nt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Z_(i,o,u,x){o.value=u,o.getSnapshot=x,J_(o)&&e5(i)}function Q_(i,o,u){return u(function(){J_(o)&&e5(i)})}function J_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!hs(i,u)}catch{return!0}}function e5(i){var o=Bc(i,2);o!==null&&vs(o,i,2)}function Xb(i){var o=es();if(typeof i=="function"){var u=i;if(i=u(),To){fe(!0);try{u()}finally{fe(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:i},o}function t5(i,o,u,x){return i.baseState=u,Yb(i,Yt,typeof x=="function"?x:Ni)}function bI(i,o,u,x,v){if(Jf(i))throw Error(s(485));if(i=o.action,i!==null){var S={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){S.listeners.push(D)}};T.T!==null?u(!0):S.isTransition=!1,x(S),u=o.pending,u===null?(S.next=o.pending=S,a5(o,S)):(S.next=u.next,o.pending=u.next=S)}}function a5(i,o){var u=o.action,x=o.payload,v=i.state;if(o.isTransition){var S=T.T,D={};T.T=D;try{var q=u(v,x),re=T.S;re!==null&&re(D,q),n5(i,o,q)}catch(Ne){Zb(i,o,Ne)}finally{T.T=S}}else try{S=u(v,x),n5(i,o,S)}catch(Ne){Zb(i,o,Ne)}}function n5(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(x){s5(i,o,x)},function(x){return Zb(i,o,x)}):s5(i,o,u)}function s5(i,o,u){o.status="fulfilled",o.value=u,r5(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,a5(i,u)))}function Zb(i,o,u){var x=i.pending;if(i.pending=null,x!==null){x=x.next;do o.status="rejected",o.reason=u,r5(o),o=o.next;while(o!==x)}i.action=null}function r5(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function i5(i,o){return o}function l5(i,o){if(Ut){var u=aa.formState;if(u!==null){e:{var x=Nt;if(Ut){if(ja){t:{for(var v=ja,S=qr;v.nodeType!==8;){if(!S){v=null;break t}if(v=br(v.nextSibling),v===null){v=null;break t}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){ja=br(v.nextSibling),x=v.data==="F!";break e}}_o(x)}x=!1}x&&(o=u[0])}}return u=es(),u.memoizedState=u.baseState=o,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i5,lastRenderedState:o},u.queue=x,u=k5.bind(null,Nt,x),x.dispatch=u,x=Xb(!1),S=av.bind(null,Nt,!1,x.queue),x=es(),v={state:o,dispatch:null,action:i,pending:null},x.queue=v,u=bI.bind(null,Nt,v,S,u),v.dispatch=u,x.memoizedState=i,[o,u,!1]}function o5(i){var o=Ua();return c5(o,Yt,i)}function c5(i,o,u){if(o=Yb(i,o,i5)[0],i=Xf(Ni)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var x=tm(o)}catch(D){throw D===Wu?Hf:D}else x=o;o=Ua();var v=o.queue,S=v.dispatch;return u!==o.memoizedState&&(Nt.flags|=2048,Yc(9,Zf(),vI.bind(null,v,u),null)),[x,S,i]}function vI(i,o){i.action=o}function d5(i){var o=Ua(),u=Yt;if(u!==null)return c5(o,u,i);Ua(),o=o.memoizedState,u=Ua();var x=u.queue.dispatch;return u.memoizedState=i,[o,x,!1]}function Yc(i,o,u,x){return i={tag:i,create:u,deps:x,inst:o,next:null},o=Nt.updateQueue,o===null&&(o=Kb(),Nt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(x=u.next,u.next=i,i.next=x,o.lastEffect=i),i}function Zf(){return{destroy:void 0,resource:void 0}}function u5(){return Ua().memoizedState}function Qf(i,o,u,x){var v=es();x=x===void 0?null:x,Nt.flags|=i,v.memoizedState=Yc(1|o,Zf(),u,x)}function am(i,o,u,x){var v=Ua();x=x===void 0?null:x;var S=v.memoizedState.inst;Yt!==null&&x!==null&&Ub(x,Yt.memoizedState.deps)?v.memoizedState=Yc(o,S,u,x):(Nt.flags|=i,v.memoizedState=Yc(1|o,S,u,x))}function m5(i,o){Qf(8390656,8,i,o)}function h5(i,o){am(2048,8,i,o)}function f5(i,o){return am(4,2,i,o)}function x5(i,o){return am(4,4,i,o)}function p5(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function g5(i,o,u){u=u!=null?u.concat([i]):null,am(4,4,p5.bind(null,o,i),u)}function Qb(){}function b5(i,o){var u=Ua();o=o===void 0?null:o;var x=u.memoizedState;return o!==null&&Ub(o,x[1])?x[0]:(u.memoizedState=[i,o],i)}function v5(i,o){var u=Ua();o=o===void 0?null:o;var x=u.memoizedState;if(o!==null&&Ub(o,x[1]))return x[0];if(x=i(),To){fe(!0);try{i()}finally{fe(!1)}}return u.memoizedState=[x,o],x}function Jb(i,o,u){return u===void 0||(vl&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=wk(),Nt.lanes|=i,kl|=i,u)}function y5(i,o,u,x){return hs(u,o)?u:qc.current!==null?(i=Jb(i,u,x),hs(i,o)||(nn=!0),i):(vl&42)===0?(nn=!0,i.memoizedState=u):(i=wk(),Nt.lanes|=i,kl|=i,o)}function j5(i,o,u,x,v){var S=K.p;K.p=S!==0&&8>S?S:8;var D=T.T,q={};T.T=q,av(i,!1,o,u);try{var re=v(),Ne=T.S;if(Ne!==null&&Ne(q,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var Be=xI(re,x);nm(i,o,Be,bs(i))}else nm(i,o,x,bs(i))}catch(He){nm(i,o,{then:function(){},status:"rejected",reason:He},bs())}finally{K.p=S,T.T=D}}function yI(){}function ev(i,o,u,x){if(i.tag!==5)throw Error(s(476));var v=w5(i).queue;j5(i,v,o,W,u===null?yI:function(){return N5(i),u(x)})}function w5(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:W},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function N5(i){var o=w5(i).next.queue;nm(i,o,{},bs())}function tv(){return En(jm)}function S5(){return Ua().memoizedState}function _5(){return Ua().memoizedState}function jI(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=bs();i=gl(u);var x=bl(o,i,u);x!==null&&(vs(x,o,u),Zu(x,o,u)),o={cache:Pb()},i.payload=o;return}o=o.return}}function wI(i,o,u){var x=bs();u={lane:x,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Jf(i)?C5(o,u):(u=jb(i,o,u,x),u!==null&&(vs(u,i,x),A5(u,o,x)))}function k5(i,o,u){var x=bs();nm(i,o,u,x)}function nm(i,o,u,x){var v={lane:x,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Jf(i))C5(o,v);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var D=o.lastRenderedState,q=S(D,u);if(v.hasEagerState=!0,v.eagerState=q,hs(q,D))return $f(i,o,v,0),aa===null&&Rf(),!1}catch{}finally{}if(u=jb(i,o,v,x),u!==null)return vs(u,i,x),A5(u,o,x),!0}return!1}function av(i,o,u,x){if(x={lane:2,revertLane:Dv(),action:x,hasEagerState:!1,eagerState:null,next:null},Jf(i)){if(o)throw Error(s(479))}else o=jb(i,u,x,2),o!==null&&vs(o,i,2)}function Jf(i){var o=i.alternate;return i===Nt||o!==null&&o===Nt}function C5(i,o){Kc=Gf=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function A5(i,o,u){if((u&4194048)!==0){var x=o.lanes;x&=i.pendingLanes,u|=x,o.lanes=u,yt(i,u)}}var e0={readContext:En,use:Wf,useCallback:Ma,useContext:Ma,useEffect:Ma,useImperativeHandle:Ma,useLayoutEffect:Ma,useInsertionEffect:Ma,useMemo:Ma,useReducer:Ma,useRef:Ma,useState:Ma,useDebugValue:Ma,useDeferredValue:Ma,useTransition:Ma,useSyncExternalStore:Ma,useId:Ma,useHostTransitionStatus:Ma,useFormState:Ma,useActionState:Ma,useOptimistic:Ma,useMemoCache:Ma,useCacheRefresh:Ma},T5={readContext:En,use:Wf,useCallback:function(i,o){return es().memoizedState=[i,o===void 0?null:o],i},useContext:En,useEffect:m5,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Qf(4194308,4,p5.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Qf(4194308,4,i,o)},useInsertionEffect:function(i,o){Qf(4,2,i,o)},useMemo:function(i,o){var u=es();o=o===void 0?null:o;var x=i();if(To){fe(!0);try{i()}finally{fe(!1)}}return u.memoizedState=[x,o],x},useReducer:function(i,o,u){var x=es();if(u!==void 0){var v=u(o);if(To){fe(!0);try{u(o)}finally{fe(!1)}}}else v=o;return x.memoizedState=x.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},x.queue=i,i=i.dispatch=wI.bind(null,Nt,i),[x.memoizedState,i]},useRef:function(i){var o=es();return i={current:i},o.memoizedState=i},useState:function(i){i=Xb(i);var o=i.queue,u=k5.bind(null,Nt,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Qb,useDeferredValue:function(i,o){var u=es();return Jb(u,i,o)},useTransition:function(){var i=Xb(!1);return i=j5.bind(null,Nt,i.queue,!0,!1),es().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var x=Nt,v=es();if(Ut){if(u===void 0)throw Error(s(407));u=u()}else{if(u=o(),aa===null)throw Error(s(349));(Dt&124)!==0||X_(x,o,u)}v.memoizedState=u;var S={value:u,getSnapshot:o};return v.queue=S,m5(Q_.bind(null,x,S,i),[i]),x.flags|=2048,Yc(9,Zf(),Z_.bind(null,x,S,u,o),null),u},useId:function(){var i=es(),o=aa.identifierPrefix;if(Ut){var u=yi,x=vi;u=(x&~(1<<32-Ue(x)-1)).toString(32)+u,o=""+o+"R"+u,u=Yf++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=pI++,o=""+o+"r"+u.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:tv,useFormState:l5,useActionState:l5,useOptimistic:function(i){var o=es();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=av.bind(null,Nt,!0,u),u.dispatch=o,[i,o]},useMemoCache:Gb,useCacheRefresh:function(){return es().memoizedState=jI.bind(null,Nt)}},E5={readContext:En,use:Wf,useCallback:b5,useContext:En,useEffect:h5,useImperativeHandle:g5,useInsertionEffect:f5,useLayoutEffect:x5,useMemo:v5,useReducer:Xf,useRef:u5,useState:function(){return Xf(Ni)},useDebugValue:Qb,useDeferredValue:function(i,o){var u=Ua();return y5(u,Yt.memoizedState,i,o)},useTransition:function(){var i=Xf(Ni)[0],o=Ua().memoizedState;return[typeof i=="boolean"?i:tm(i),o]},useSyncExternalStore:W_,useId:S5,useHostTransitionStatus:tv,useFormState:o5,useActionState:o5,useOptimistic:function(i,o){var u=Ua();return t5(u,Yt,i,o)},useMemoCache:Gb,useCacheRefresh:_5},NI={readContext:En,use:Wf,useCallback:b5,useContext:En,useEffect:h5,useImperativeHandle:g5,useInsertionEffect:f5,useLayoutEffect:x5,useMemo:v5,useReducer:Wb,useRef:u5,useState:function(){return Wb(Ni)},useDebugValue:Qb,useDeferredValue:function(i,o){var u=Ua();return Yt===null?Jb(u,i,o):y5(u,Yt.memoizedState,i,o)},useTransition:function(){var i=Wb(Ni)[0],o=Ua().memoizedState;return[typeof i=="boolean"?i:tm(i),o]},useSyncExternalStore:W_,useId:S5,useHostTransitionStatus:tv,useFormState:d5,useActionState:d5,useOptimistic:function(i,o){var u=Ua();return Yt!==null?t5(u,Yt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Gb,useCacheRefresh:_5},Wc=null,sm=0;function t0(i){var o=sm;return sm+=1,Wc===null&&(Wc=[]),U_(Wc,i,o)}function rm(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function a0(i,o){throw o.$$typeof===g?Error(s(525)):(i=Object.prototype.toString.call(o),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function P5(i){var o=i._init;return o(i._payload)}function O5(i){function o(be,me){if(i){var je=be.deletions;je===null?(be.deletions=[me],be.flags|=16):je.push(me)}}function u(be,me){if(!i)return null;for(;me!==null;)o(be,me),me=me.sibling;return null}function x(be){for(var me=new Map;be!==null;)be.key!==null?me.set(be.key,be):me.set(be.index,be),be=be.sibling;return me}function v(be,me){return be=bi(be,me),be.index=0,be.sibling=null,be}function S(be,me,je){return be.index=je,i?(je=be.alternate,je!==null?(je=je.index,je<me?(be.flags|=67108866,me):je):(be.flags|=67108866,me)):(be.flags|=1048576,me)}function D(be){return i&&be.alternate===null&&(be.flags|=67108866),be}function q(be,me,je,Fe){return me===null||me.tag!==6?(me=Nb(je,be.mode,Fe),me.return=be,me):(me=v(me,je),me.return=be,me)}function re(be,me,je,Fe){var nt=je.type;return nt===j?Be(be,me,je.props.children,Fe,je.key):me!==null&&(me.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===M&&P5(nt)===me.type)?(me=v(me,je.props),rm(me,je),me.return=be,me):(me=If(je.type,je.key,je.props,null,be.mode,Fe),rm(me,je),me.return=be,me)}function Ne(be,me,je,Fe){return me===null||me.tag!==4||me.stateNode.containerInfo!==je.containerInfo||me.stateNode.implementation!==je.implementation?(me=Sb(je,be.mode,Fe),me.return=be,me):(me=v(me,je.children||[]),me.return=be,me)}function Be(be,me,je,Fe,nt){return me===null||me.tag!==7?(me=jo(je,be.mode,Fe,nt),me.return=be,me):(me=v(me,je),me.return=be,me)}function He(be,me,je){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=Nb(""+me,be.mode,je),me.return=be,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case b:return je=If(me.type,me.key,me.props,null,be.mode,je),rm(je,me),je.return=be,je;case y:return me=Sb(me,be.mode,je),me.return=be,me;case M:var Fe=me._init;return me=Fe(me._payload),He(be,me,je)}if(ce(me)||F(me))return me=jo(me,be.mode,je,null),me.return=be,me;if(typeof me.then=="function")return He(be,t0(me),je);if(me.$$typeof===C)return He(be,Ff(be,me),je);a0(be,me)}return null}function Te(be,me,je,Fe){var nt=me!==null?me.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return nt!==null?null:q(be,me,""+je,Fe);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case b:return je.key===nt?re(be,me,je,Fe):null;case y:return je.key===nt?Ne(be,me,je,Fe):null;case M:return nt=je._init,je=nt(je._payload),Te(be,me,je,Fe)}if(ce(je)||F(je))return nt!==null?null:Be(be,me,je,Fe,null);if(typeof je.then=="function")return Te(be,me,t0(je),Fe);if(je.$$typeof===C)return Te(be,me,Ff(be,je),Fe);a0(be,je)}return null}function Pe(be,me,je,Fe,nt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return be=be.get(je)||null,q(me,be,""+Fe,nt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case b:return be=be.get(Fe.key===null?je:Fe.key)||null,re(me,be,Fe,nt);case y:return be=be.get(Fe.key===null?je:Fe.key)||null,Ne(me,be,Fe,nt);case M:var _t=Fe._init;return Fe=_t(Fe._payload),Pe(be,me,je,Fe,nt)}if(ce(Fe)||F(Fe))return be=be.get(je)||null,Be(me,be,Fe,nt,null);if(typeof Fe.then=="function")return Pe(be,me,je,t0(Fe),nt);if(Fe.$$typeof===C)return Pe(be,me,je,Ff(me,Fe),nt);a0(me,Fe)}return null}function ht(be,me,je,Fe){for(var nt=null,_t=null,it=me,mt=me=0,rn=null;it!==null&&mt<je.length;mt++){it.index>mt?(rn=it,it=null):rn=it.sibling;var Bt=Te(be,it,je[mt],Fe);if(Bt===null){it===null&&(it=rn);break}i&&it&&Bt.alternate===null&&o(be,it),me=S(Bt,me,mt),_t===null?nt=Bt:_t.sibling=Bt,_t=Bt,it=rn}if(mt===je.length)return u(be,it),Ut&&No(be,mt),nt;if(it===null){for(;mt<je.length;mt++)it=He(be,je[mt],Fe),it!==null&&(me=S(it,me,mt),_t===null?nt=it:_t.sibling=it,_t=it);return Ut&&No(be,mt),nt}for(it=x(it);mt<je.length;mt++)rn=Pe(it,be,mt,je[mt],Fe),rn!==null&&(i&&rn.alternate!==null&&it.delete(rn.key===null?mt:rn.key),me=S(rn,me,mt),_t===null?nt=rn:_t.sibling=rn,_t=rn);return i&&it.forEach(function(Rl){return o(be,Rl)}),Ut&&No(be,mt),nt}function ct(be,me,je,Fe){if(je==null)throw Error(s(151));for(var nt=null,_t=null,it=me,mt=me=0,rn=null,Bt=je.next();it!==null&&!Bt.done;mt++,Bt=je.next()){it.index>mt?(rn=it,it=null):rn=it.sibling;var Rl=Te(be,it,Bt.value,Fe);if(Rl===null){it===null&&(it=rn);break}i&&it&&Rl.alternate===null&&o(be,it),me=S(Rl,me,mt),_t===null?nt=Rl:_t.sibling=Rl,_t=Rl,it=rn}if(Bt.done)return u(be,it),Ut&&No(be,mt),nt;if(it===null){for(;!Bt.done;mt++,Bt=je.next())Bt=He(be,Bt.value,Fe),Bt!==null&&(me=S(Bt,me,mt),_t===null?nt=Bt:_t.sibling=Bt,_t=Bt);return Ut&&No(be,mt),nt}for(it=x(it);!Bt.done;mt++,Bt=je.next())Bt=Pe(it,be,mt,Bt.value,Fe),Bt!==null&&(i&&Bt.alternate!==null&&it.delete(Bt.key===null?mt:Bt.key),me=S(Bt,me,mt),_t===null?nt=Bt:_t.sibling=Bt,_t=Bt);return i&&it.forEach(function(SB){return o(be,SB)}),Ut&&No(be,mt),nt}function Xt(be,me,je,Fe){if(typeof je=="object"&&je!==null&&je.type===j&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case b:e:{for(var nt=je.key;me!==null;){if(me.key===nt){if(nt=je.type,nt===j){if(me.tag===7){u(be,me.sibling),Fe=v(me,je.props.children),Fe.return=be,be=Fe;break e}}else if(me.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===M&&P5(nt)===me.type){u(be,me.sibling),Fe=v(me,je.props),rm(Fe,je),Fe.return=be,be=Fe;break e}u(be,me);break}else o(be,me);me=me.sibling}je.type===j?(Fe=jo(je.props.children,be.mode,Fe,je.key),Fe.return=be,be=Fe):(Fe=If(je.type,je.key,je.props,null,be.mode,Fe),rm(Fe,je),Fe.return=be,be=Fe)}return D(be);case y:e:{for(nt=je.key;me!==null;){if(me.key===nt)if(me.tag===4&&me.stateNode.containerInfo===je.containerInfo&&me.stateNode.implementation===je.implementation){u(be,me.sibling),Fe=v(me,je.children||[]),Fe.return=be,be=Fe;break e}else{u(be,me);break}else o(be,me);me=me.sibling}Fe=Sb(je,be.mode,Fe),Fe.return=be,be=Fe}return D(be);case M:return nt=je._init,je=nt(je._payload),Xt(be,me,je,Fe)}if(ce(je))return ht(be,me,je,Fe);if(F(je)){if(nt=F(je),typeof nt!="function")throw Error(s(150));return je=nt.call(je),ct(be,me,je,Fe)}if(typeof je.then=="function")return Xt(be,me,t0(je),Fe);if(je.$$typeof===C)return Xt(be,me,Ff(be,je),Fe);a0(be,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,me!==null&&me.tag===6?(u(be,me.sibling),Fe=v(me,je),Fe.return=be,be=Fe):(u(be,me),Fe=Nb(je,be.mode,Fe),Fe.return=be,be=Fe),D(be)):u(be,me)}return function(be,me,je,Fe){try{sm=0;var nt=Xt(be,me,je,Fe);return Wc=null,nt}catch(it){if(it===Wu||it===Hf)throw it;var _t=fs(29,it,null,be.mode);return _t.lanes=Fe,_t.return=be,_t}finally{}}}var Xc=O5(!0),M5=O5(!1),Gs=$(null),Kr=null;function yl(i){var o=i.alternate;X(Ya,Ya.current&1),X(Gs,i),Kr===null&&(o===null||qc.current!==null||o.memoizedState!==null)&&(Kr=i)}function D5(i){if(i.tag===22){if(X(Ya,Ya.current),X(Gs,i),Kr===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Kr=i)}}else jl()}function jl(){X(Ya,Ya.current),X(Gs,Gs.current)}function Si(i){z(Gs),Kr===i&&(Kr=null),z(Ya)}var Ya=$(0);function n0(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Kv(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function nv(i,o,u,x){o=i.memoizedState,u=u(x,o),u=u==null?o:f({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var sv={enqueueSetState:function(i,o,u){i=i._reactInternals;var x=bs(),v=gl(x);v.payload=o,u!=null&&(v.callback=u),o=bl(i,v,x),o!==null&&(vs(o,i,x),Zu(o,i,x))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var x=bs(),v=gl(x);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=bl(i,v,x),o!==null&&(vs(o,i,x),Zu(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=bs(),x=gl(u);x.tag=2,o!=null&&(x.callback=o),o=bl(i,x,u),o!==null&&(vs(o,i,u),Zu(o,i,u))}};function R5(i,o,u,x,v,S,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,S,D):o.prototype&&o.prototype.isPureReactComponent?!Uu(u,x)||!Uu(v,S):!0}function $5(i,o,u,x){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,x),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,x),o.state!==i&&sv.enqueueReplaceState(o,o.state,null)}function Eo(i,o){var u=o;if("ref"in o){u={};for(var x in o)x!=="ref"&&(u[x]=o[x])}if(i=i.defaultProps){u===o&&(u=f({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}var s0=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function L5(i){s0(i)}function I5(i){console.error(i)}function B5(i){s0(i)}function r0(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(x){setTimeout(function(){throw x})}}function z5(i,o,u){try{var x=i.onCaughtError;x(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function rv(i,o,u){return u=gl(u),u.tag=3,u.payload={element:null},u.callback=function(){r0(i,o)},u}function U5(i){return i=gl(i),i.tag=3,i}function F5(i,o,u,x){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var S=x.value;i.payload=function(){return v(S)},i.callback=function(){z5(o,u,x)}}var D=u.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){z5(o,u,x),typeof v!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var q=x.stack;this.componentDidCatch(x.value,{componentStack:q!==null?q:""})})}function SI(i,o,u,x,v){if(u.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(o=u.alternate,o!==null&&Ku(o,u,v,!0),u=Gs.current,u!==null){switch(u.tag){case 13:return Kr===null?Tv():u.alternate===null&&wa===0&&(wa=3),u.flags&=-257,u.flags|=65536,u.lanes=v,x===Db?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([x]):o.add(x),Pv(i,x,v)),!1;case 22:return u.flags|=65536,x===Db?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([x])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([x]):u.add(x)),Pv(i,x,v)),!1}throw Error(s(435,u.tag))}return Pv(i,x,v),Tv(),!1}if(Ut)return o=Gs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,x!==Cb&&(i=Error(s(422),{cause:x}),qu(Vs(i,u)))):(x!==Cb&&(o=Error(s(423),{cause:x}),qu(Vs(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,x=Vs(x,u),v=rv(i.stateNode,x,v),Lb(i,v),wa!==4&&(wa=2)),!1;var S=Error(s(520),{cause:x});if(S=Vs(S,u),mm===null?mm=[S]:mm.push(S),wa!==4&&(wa=2),o===null)return!0;x=Vs(x,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=rv(u.stateNode,x,i),Lb(u,i),!1;case 1:if(o=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Cl===null||!Cl.has(S))))return u.flags|=65536,v&=-v,u.lanes|=v,v=U5(v),F5(v,i,u,x),Lb(u,v),!1}u=u.return}while(u!==null);return!1}var V5=Error(s(461)),nn=!1;function pn(i,o,u,x){o.child=i===null?M5(o,null,u,x):Xc(o,i.child,u,x)}function H5(i,o,u,x,v){u=u.render;var S=o.ref;if("ref"in x){var D={};for(var q in x)q!=="ref"&&(D[q]=x[q])}else D=x;return Co(o),x=Fb(i,o,u,D,S,v),q=Vb(),i!==null&&!nn?(Hb(i,o,v),_i(i,o,v)):(Ut&&q&&_b(o),o.flags|=1,pn(i,o,x,v),o.child)}function q5(i,o,u,x,v){if(i===null){var S=u.type;return typeof S=="function"&&!wb(S)&&S.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=S,K5(i,o,S,x,v)):(i=If(u.type,null,x,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!hv(i,v)){var D=S.memoizedProps;if(u=u.compare,u=u!==null?u:Uu,u(D,x)&&i.ref===o.ref)return _i(i,o,v)}return o.flags|=1,i=bi(S,x),i.ref=o.ref,i.return=o,o.child=i}function K5(i,o,u,x,v){if(i!==null){var S=i.memoizedProps;if(Uu(S,x)&&i.ref===o.ref)if(nn=!1,o.pendingProps=x=S,hv(i,v))(i.flags&131072)!==0&&(nn=!0);else return o.lanes=i.lanes,_i(i,o,v)}return iv(i,o,u,x,v)}function G5(i,o,u){var x=o.pendingProps,v=x.children,S=i!==null?i.memoizedState:null;if(x.mode==="hidden"){if((o.flags&128)!==0){if(x=S!==null?S.baseLanes|u:u,i!==null){for(v=o.child=i.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;o.childLanes=S&~x}else o.childLanes=0,o.child=null;return Y5(i,o,x,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vf(o,S!==null?S.cachePool:null),S!==null?K_(o,S):Bb(),D5(o);else return o.lanes=o.childLanes=536870912,Y5(i,o,S!==null?S.baseLanes|u:u,u)}else S!==null?(Vf(o,S.cachePool),K_(o,S),jl(),o.memoizedState=null):(i!==null&&Vf(o,null),Bb(),jl());return pn(i,o,v,u),o.child}function Y5(i,o,u,x){var v=Mb();return v=v===null?null:{parent:Ga._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},i!==null&&Vf(o,null),Bb(),D5(o),i!==null&&Ku(i,o,x,!0),null}function i0(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function iv(i,o,u,x,v){return Co(o),u=Fb(i,o,u,x,void 0,v),x=Vb(),i!==null&&!nn?(Hb(i,o,v),_i(i,o,v)):(Ut&&x&&_b(o),o.flags|=1,pn(i,o,u,v),o.child)}function W5(i,o,u,x,v,S){return Co(o),o.updateQueue=null,u=Y_(o,x,u,v),G_(i),x=Vb(),i!==null&&!nn?(Hb(i,o,S),_i(i,o,S)):(Ut&&x&&_b(o),o.flags|=1,pn(i,o,u,S),o.child)}function X5(i,o,u,x,v){if(Co(o),o.stateNode===null){var S=zc,D=u.contextType;typeof D=="object"&&D!==null&&(S=En(D)),S=new u(x,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=sv,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=x,S.state=o.memoizedState,S.refs={},Rb(o),D=u.contextType,S.context=typeof D=="object"&&D!==null?En(D):zc,S.state=o.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(nv(o,u,D,x),S.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(D=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),D!==S.state&&sv.enqueueReplaceState(S,S.state,null),Ju(o,x,S,v),Qu(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!0}else if(i===null){S=o.stateNode;var q=o.memoizedProps,re=Eo(u,q);S.props=re;var Ne=S.context,Be=u.contextType;D=zc,typeof Be=="object"&&Be!==null&&(D=En(Be));var He=u.getDerivedStateFromProps;Be=typeof He=="function"||typeof S.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,Be||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(q||Ne!==D)&&$5(o,S,x,D),pl=!1;var Te=o.memoizedState;S.state=Te,Ju(o,x,S,v),Qu(),Ne=o.memoizedState,q||Te!==Ne||pl?(typeof He=="function"&&(nv(o,u,He,x),Ne=o.memoizedState),(re=pl||R5(o,u,re,x,Te,Ne,D))?(Be||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=x,o.memoizedState=Ne),S.props=x,S.state=Ne,S.context=D,x=re):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),x=!1)}else{S=o.stateNode,$b(i,o),D=o.memoizedProps,Be=Eo(u,D),S.props=Be,He=o.pendingProps,Te=S.context,Ne=u.contextType,re=zc,typeof Ne=="object"&&Ne!==null&&(re=En(Ne)),q=u.getDerivedStateFromProps,(Ne=typeof q=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==He||Te!==re)&&$5(o,S,x,re),pl=!1,Te=o.memoizedState,S.state=Te,Ju(o,x,S,v),Qu();var Pe=o.memoizedState;D!==He||Te!==Pe||pl||i!==null&&i.dependencies!==null&&Uf(i.dependencies)?(typeof q=="function"&&(nv(o,u,q,x),Pe=o.memoizedState),(Be=pl||R5(o,u,Be,x,Te,Pe,re)||i!==null&&i.dependencies!==null&&Uf(i.dependencies))?(Ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(x,Pe,re),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(x,Pe,re)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===i.memoizedProps&&Te===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&Te===i.memoizedState||(o.flags|=1024),o.memoizedProps=x,o.memoizedState=Pe),S.props=x,S.state=Pe,S.context=re,x=Be):(typeof S.componentDidUpdate!="function"||D===i.memoizedProps&&Te===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&Te===i.memoizedState||(o.flags|=1024),x=!1)}return S=x,i0(i,o),x=(o.flags&128)!==0,S||x?(S=o.stateNode,u=x&&typeof u.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&x?(o.child=Xc(o,i.child,null,v),o.child=Xc(o,null,u,v)):pn(i,o,u,v),o.memoizedState=S.state,i=o.child):i=_i(i,o,v),i}function Z5(i,o,u,x){return Hu(),o.flags|=256,pn(i,o,u,x),o.child}var lv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ov(i){return{baseLanes:i,cachePool:I_()}}function cv(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Ys),i}function Q5(i,o,u){var x=o.pendingProps,v=!1,S=(o.flags&128)!==0,D;if((D=S)||(D=i!==null&&i.memoizedState===null?!1:(Ya.current&2)!==0),D&&(v=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ut){if(v?yl(o):jl(),Ut){var q=ja,re;if(re=q){e:{for(re=q,q=qr;re.nodeType!==8;){if(!q){q=null;break e}if(re=br(re.nextSibling),re===null){q=null;break e}}q=re}q!==null?(o.memoizedState={dehydrated:q,treeContext:wo!==null?{id:vi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},re=fs(18,null,null,0),re.stateNode=q,re.return=o,o.child=re,Kn=o,ja=null,re=!0):re=!1}re||_o(o)}if(q=o.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return Kv(q)?o.lanes=32:o.lanes=536870912,null;Si(o)}return q=x.children,x=x.fallback,v?(jl(),v=o.mode,q=l0({mode:"hidden",children:q},v),x=jo(x,v,u,null),q.return=o,x.return=o,q.sibling=x,o.child=q,v=o.child,v.memoizedState=ov(u),v.childLanes=cv(i,D,u),o.memoizedState=lv,x):(yl(o),dv(o,q))}if(re=i.memoizedState,re!==null&&(q=re.dehydrated,q!==null)){if(S)o.flags&256?(yl(o),o.flags&=-257,o=uv(i,o,u)):o.memoizedState!==null?(jl(),o.child=i.child,o.flags|=128,o=null):(jl(),v=x.fallback,q=o.mode,x=l0({mode:"visible",children:x.children},q),v=jo(v,q,u,null),v.flags|=2,x.return=o,v.return=o,x.sibling=v,o.child=x,Xc(o,i.child,null,u),x=o.child,x.memoizedState=ov(u),x.childLanes=cv(i,D,u),o.memoizedState=lv,o=v);else if(yl(o),Kv(q)){if(D=q.nextSibling&&q.nextSibling.dataset,D)var Ne=D.dgst;D=Ne,x=Error(s(419)),x.stack="",x.digest=D,qu({value:x,source:null,stack:null}),o=uv(i,o,u)}else if(nn||Ku(i,o,u,!1),D=(u&i.childLanes)!==0,nn||D){if(D=aa,D!==null&&(x=u&-u,x=(x&42)!==0?1:ut(x),x=(x&(D.suspendedLanes|u))!==0?0:x,x!==0&&x!==re.retryLane))throw re.retryLane=x,Bc(i,x),vs(D,i,x),V5;q.data==="$?"||Tv(),o=uv(i,o,u)}else q.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=re.treeContext,ja=br(q.nextSibling),Kn=o,Ut=!0,So=null,qr=!1,i!==null&&(qs[Ks++]=vi,qs[Ks++]=yi,qs[Ks++]=wo,vi=i.id,yi=i.overflow,wo=o),o=dv(o,x.children),o.flags|=4096);return o}return v?(jl(),v=x.fallback,q=o.mode,re=i.child,Ne=re.sibling,x=bi(re,{mode:"hidden",children:x.children}),x.subtreeFlags=re.subtreeFlags&65011712,Ne!==null?v=bi(Ne,v):(v=jo(v,q,u,null),v.flags|=2),v.return=o,x.return=o,x.sibling=v,o.child=x,x=v,v=o.child,q=i.child.memoizedState,q===null?q=ov(u):(re=q.cachePool,re!==null?(Ne=Ga._currentValue,re=re.parent!==Ne?{parent:Ne,pool:Ne}:re):re=I_(),q={baseLanes:q.baseLanes|u,cachePool:re}),v.memoizedState=q,v.childLanes=cv(i,D,u),o.memoizedState=lv,x):(yl(o),u=i.child,i=u.sibling,u=bi(u,{mode:"visible",children:x.children}),u.return=o,u.sibling=null,i!==null&&(D=o.deletions,D===null?(o.deletions=[i],o.flags|=16):D.push(i)),o.child=u,o.memoizedState=null,u)}function dv(i,o){return o=l0({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function l0(i,o){return i=fs(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function uv(i,o,u){return Xc(o,i.child,null,u),i=dv(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function J5(i,o,u){i.lanes|=o;var x=i.alternate;x!==null&&(x.lanes|=o),Tb(i.return,o,u)}function mv(i,o,u,x,v){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:x,tail:u,tailMode:v}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=x,S.tail=u,S.tailMode=v)}function ek(i,o,u){var x=o.pendingProps,v=x.revealOrder,S=x.tail;if(pn(i,o,x.children,u),x=Ya.current,(x&2)!==0)x=x&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&J5(i,u,o);else if(i.tag===19)J5(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}x&=1}switch(X(Ya,x),v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&n0(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),mv(o,!1,v,u,S);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&n0(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}mv(o,!0,u,null,S);break;case"together":mv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function _i(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),kl|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Ku(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(s(153));if(o.child!==null){for(i=o.child,u=bi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=bi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function hv(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Uf(i)))}function _I(i,o,u){switch(o.tag){case 3:se(o,o.stateNode.containerInfo),xl(o,Ga,i.memoizedState.cache),Hu();break;case 27:case 5:De(o);break;case 4:se(o,o.stateNode.containerInfo);break;case 10:xl(o,o.type,o.memoizedProps.value);break;case 13:var x=o.memoizedState;if(x!==null)return x.dehydrated!==null?(yl(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Q5(i,o,u):(yl(o),i=_i(i,o,u),i!==null?i.sibling:null);yl(o);break;case 19:var v=(i.flags&128)!==0;if(x=(u&o.childLanes)!==0,x||(Ku(i,o,u,!1),x=(u&o.childLanes)!==0),v){if(x)return ek(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),X(Ya,Ya.current),x)break;return null;case 22:case 23:return o.lanes=0,G5(i,o,u);case 24:xl(o,Ga,i.memoizedState.cache)}return _i(i,o,u)}function tk(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)nn=!0;else{if(!hv(i,u)&&(o.flags&128)===0)return nn=!1,_I(i,o,u);nn=(i.flags&131072)!==0}else nn=!1,Ut&&(o.flags&1048576)!==0&&P_(o,zf,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var x=o.elementType,v=x._init;if(x=v(x._payload),o.type=x,typeof x=="function")wb(x)?(i=Eo(x,i),o.tag=1,o=X5(null,o,x,i,u)):(o.tag=0,o=iv(null,o,x,i,u));else{if(x!=null){if(v=x.$$typeof,v===O){o.tag=11,o=H5(null,o,x,i,u);break e}else if(v===B){o.tag=14,o=q5(null,o,x,i,u);break e}}throw o=_e(x)||x,Error(s(306,o,""))}}return o;case 0:return iv(i,o,o.type,o.pendingProps,u);case 1:return x=o.type,v=Eo(x,o.pendingProps),X5(i,o,x,v,u);case 3:e:{if(se(o,o.stateNode.containerInfo),i===null)throw Error(s(387));x=o.pendingProps;var S=o.memoizedState;v=S.element,$b(i,o),Ju(o,x,null,u);var D=o.memoizedState;if(x=D.cache,xl(o,Ga,x),x!==S.cache&&Eb(o,[Ga],u,!0),Qu(),x=D.element,S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=Z5(i,o,x,u);break e}else if(x!==v){v=Vs(Error(s(424)),o),qu(v),o=Z5(i,o,x,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ja=br(i.firstChild),Kn=o,Ut=!0,So=null,qr=!0,u=M5(o,null,x,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Hu(),x===v){o=_i(i,o,u);break e}pn(i,o,x,u)}o=o.child}return o;case 26:return i0(i,o),i===null?(u=r3(o.type,null,o.pendingProps,null))?o.memoizedState=u:Ut||(u=o.type,i=o.pendingProps,x=j0(J.current).createElement(u),x[Et]=o,x[Pt]=i,bn(x,u,i),L(x),o.stateNode=x):o.memoizedState=r3(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return De(o),i===null&&Ut&&(x=o.stateNode=a3(o.type,o.pendingProps,J.current),Kn=o,qr=!0,v=ja,El(o.type)?(Gv=v,ja=br(x.firstChild)):ja=v),pn(i,o,o.pendingProps.children,u),i0(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ut&&((v=x=ja)&&(x=JI(x,o.type,o.pendingProps,qr),x!==null?(o.stateNode=x,Kn=o,ja=br(x.firstChild),qr=!1,v=!0):v=!1),v||_o(o)),De(o),v=o.type,S=o.pendingProps,D=i!==null?i.memoizedProps:null,x=S.children,Vv(v,S)?x=null:D!==null&&Vv(v,D)&&(o.flags|=32),o.memoizedState!==null&&(v=Fb(i,o,gI,null,null,u),jm._currentValue=v),i0(i,o),pn(i,o,x,u),o.child;case 6:return i===null&&Ut&&((i=u=ja)&&(u=eB(u,o.pendingProps,qr),u!==null?(o.stateNode=u,Kn=o,ja=null,i=!0):i=!1),i||_o(o)),null;case 13:return Q5(i,o,u);case 4:return se(o,o.stateNode.containerInfo),x=o.pendingProps,i===null?o.child=Xc(o,null,x,u):pn(i,o,x,u),o.child;case 11:return H5(i,o,o.type,o.pendingProps,u);case 7:return pn(i,o,o.pendingProps,u),o.child;case 8:return pn(i,o,o.pendingProps.children,u),o.child;case 12:return pn(i,o,o.pendingProps.children,u),o.child;case 10:return x=o.pendingProps,xl(o,o.type,x.value),pn(i,o,x.children,u),o.child;case 9:return v=o.type._context,x=o.pendingProps.children,Co(o),v=En(v),x=x(v),o.flags|=1,pn(i,o,x,u),o.child;case 14:return q5(i,o,o.type,o.pendingProps,u);case 15:return K5(i,o,o.type,o.pendingProps,u);case 19:return ek(i,o,u);case 31:return x=o.pendingProps,u=o.mode,x={mode:x.mode,children:x.children},i===null?(u=l0(x,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=bi(i.child,x),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return G5(i,o,u);case 24:return Co(o),x=En(Ga),i===null?(v=Mb(),v===null&&(v=aa,S=Pb(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=u),v=S),o.memoizedState={parent:x,cache:v},Rb(o),xl(o,Ga,v)):((i.lanes&u)!==0&&($b(i,o),Ju(o,null,null,u),Qu()),v=i.memoizedState,S=o.memoizedState,v.parent!==x?(v={parent:x,cache:x},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),xl(o,Ga,x)):(x=S.cache,xl(o,Ga,x),x!==v.cache&&Eb(o,[Ga],u,!0))),pn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function ki(i){i.flags|=4}function ak(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!d3(o)){if(o=Gs.current,o!==null&&((Dt&4194048)===Dt?Kr!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||o!==Kr))throw Xu=Db,B_;i.flags|=8192}}function o0(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Q():536870912,i.lanes|=o,ed|=o)}function im(i,o){if(!Ut)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function ba(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,x=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,x|=v.subtreeFlags&65011712,x|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,x|=v.subtreeFlags,x|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=x,i.childLanes=u,o}function kI(i,o,u){var x=o.pendingProps;switch(kb(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ba(o),null;case 1:return ba(o),null;case 3:return u=o.stateNode,x=null,i!==null&&(x=i.memoizedState.cache),o.memoizedState.cache!==x&&(o.flags|=2048),wi(Ga),Se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Vu(o)?ki(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,D_())),ba(o),null;case 26:return u=o.memoizedState,i===null?(ki(o),u!==null?(ba(o),ak(o,u)):(ba(o),o.flags&=-16777217)):u?u!==i.memoizedState?(ki(o),ba(o),ak(o,u)):(ba(o),o.flags&=-16777217):(i.memoizedProps!==x&&ki(o),ba(o),o.flags&=-16777217),null;case 27:Me(o),u=J.current;var v=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==x&&ki(o);else{if(!x){if(o.stateNode===null)throw Error(s(166));return ba(o),null}i=ge.current,Vu(o)?O_(o):(i=a3(v,x,u),o.stateNode=i,ki(o))}return ba(o),null;case 5:if(Me(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&ki(o);else{if(!x){if(o.stateNode===null)throw Error(s(166));return ba(o),null}if(i=ge.current,Vu(o))O_(o);else{switch(v=j0(J.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof x.is=="string"?v.createElement("select",{is:x.is}):v.createElement("select"),x.multiple?i.multiple=!0:x.size&&(i.size=x.size);break;default:i=typeof x.is=="string"?v.createElement(u,{is:x.is}):v.createElement(u)}}i[Et]=o,i[Pt]=x;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=i;e:switch(bn(i,u,x),u){case"button":case"input":case"select":case"textarea":i=!!x.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ki(o)}}return ba(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==x&&ki(o);else{if(typeof x!="string"&&o.stateNode===null)throw Error(s(166));if(i=J.current,Vu(o)){if(i=o.stateNode,u=o.memoizedProps,x=null,v=Kn,v!==null)switch(v.tag){case 27:case 5:x=v.memoizedProps}i[Et]=o,i=!!(i.nodeValue===u||x!==null&&x.suppressHydrationWarning===!0||Wk(i.nodeValue,u)),i||_o(o)}else i=j0(i).createTextNode(x),i[Et]=o,o.stateNode=i}return ba(o),null;case 13:if(x=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Vu(o),x!==null&&x.dehydrated!==null){if(i===null){if(!v)throw Error(s(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[Et]=o}else Hu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ba(o),v=!1}else v=D_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Si(o),o):(Si(o),null)}if(Si(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=x!==null,i=i!==null&&i.memoizedState!==null,u){x=o.child,v=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(v=x.alternate.memoizedState.cachePool.pool);var S=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(S=x.memoizedState.cachePool.pool),S!==v&&(x.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),o0(o,o.updateQueue),ba(o),null;case 4:return Se(),i===null&&Iv(o.stateNode.containerInfo),ba(o),null;case 10:return wi(o.type),ba(o),null;case 19:if(z(Ya),v=o.memoizedState,v===null)return ba(o),null;if(x=(o.flags&128)!==0,S=v.rendering,S===null)if(x)im(v,!1);else{if(wa!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=n0(i),S!==null){for(o.flags|=128,im(v,!1),i=S.updateQueue,o.updateQueue=i,o0(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)E_(u,i),u=u.sibling;return X(Ya,Ya.current&1|2),o.child}i=i.sibling}v.tail!==null&&Ae()>u0&&(o.flags|=128,x=!0,im(v,!1),o.lanes=4194304)}else{if(!x)if(i=n0(S),i!==null){if(o.flags|=128,x=!0,i=i.updateQueue,o.updateQueue=i,o0(o,i),im(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Ut)return ba(o),null}else 2*Ae()-v.renderingStartTime>u0&&u!==536870912&&(o.flags|=128,x=!0,im(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(i=v.last,i!==null?i.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ae(),o.sibling=null,i=Ya.current,X(Ya,x?i&1|2:i&1),o):(ba(o),null);case 22:case 23:return Si(o),zb(),x=o.memoizedState!==null,i!==null?i.memoizedState!==null!==x&&(o.flags|=8192):x&&(o.flags|=8192),x?(u&536870912)!==0&&(o.flags&128)===0&&(ba(o),o.subtreeFlags&6&&(o.flags|=8192)):ba(o),u=o.updateQueue,u!==null&&o0(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),x=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),x!==u&&(o.flags|=2048),i!==null&&z(Ao),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),wi(Ga),ba(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function CI(i,o){switch(kb(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return wi(Ga),Se(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Me(o),null;case 13:if(Si(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Hu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return z(Ya),null;case 4:return Se(),null;case 10:return wi(o.type),null;case 22:case 23:return Si(o),zb(),i!==null&&z(Ao),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return wi(Ga),null;case 25:return null;default:return null}}function nk(i,o){switch(kb(o),o.tag){case 3:wi(Ga),Se();break;case 26:case 27:case 5:Me(o);break;case 4:Se();break;case 13:Si(o);break;case 19:z(Ya);break;case 10:wi(o.type);break;case 22:case 23:Si(o),zb(),i!==null&&z(Ao);break;case 24:wi(Ga)}}function lm(i,o){try{var u=o.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var v=x.next;u=v;do{if((u.tag&i)===i){x=void 0;var S=u.create,D=u.inst;x=S(),D.destroy=x}u=u.next}while(u!==v)}}catch(q){Qt(o,o.return,q)}}function wl(i,o,u){try{var x=o.updateQueue,v=x!==null?x.lastEffect:null;if(v!==null){var S=v.next;x=S;do{if((x.tag&i)===i){var D=x.inst,q=D.destroy;if(q!==void 0){D.destroy=void 0,v=o;var re=u,Ne=q;try{Ne()}catch(Be){Qt(v,re,Be)}}}x=x.next}while(x!==S)}}catch(Be){Qt(o,o.return,Be)}}function sk(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{q_(o,u)}catch(x){Qt(i,i.return,x)}}}function rk(i,o,u){u.props=Eo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(x){Qt(i,o,x)}}function om(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var x=i.stateNode;break;case 30:x=i.stateNode;break;default:x=i.stateNode}typeof u=="function"?i.refCleanup=u(x):u.current=x}}catch(v){Qt(i,o,v)}}function Gr(i,o){var u=i.ref,x=i.refCleanup;if(u!==null)if(typeof x=="function")try{x()}catch(v){Qt(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Qt(i,o,v)}else u.current=null}function ik(i){var o=i.type,u=i.memoizedProps,x=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&x.focus();break e;case"img":u.src?x.src=u.src:u.srcSet&&(x.srcset=u.srcSet)}}catch(v){Qt(i,i.return,v)}}function fv(i,o,u){try{var x=i.stateNode;YI(x,i.type,u,o),x[Pt]=o}catch(v){Qt(i,i.return,v)}}function lk(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&El(i.type)||i.tag===4}function xv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lk(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&El(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pv(i,o,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=y0));else if(x!==4&&(x===27&&El(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(pv(i,o,u),i=i.sibling;i!==null;)pv(i,o,u),i=i.sibling}function c0(i,o,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(x!==4&&(x===27&&El(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(c0(i,o,u),i=i.sibling;i!==null;)c0(i,o,u),i=i.sibling}function ok(i){var o=i.stateNode,u=i.memoizedProps;try{for(var x=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);bn(o,x,u),o[Et]=i,o[Pt]=u}catch(S){Qt(i,i.return,S)}}var Ci=!1,Da=!1,gv=!1,ck=typeof WeakSet=="function"?WeakSet:Set,sn=null;function AI(i,o){if(i=i.containerInfo,Uv=C0,i=y_(i),xb(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var x=u.getSelection&&u.getSelection();if(x&&x.rangeCount!==0){u=x.anchorNode;var v=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var D=0,q=-1,re=-1,Ne=0,Be=0,He=i,Te=null;t:for(;;){for(var Pe;He!==u||v!==0&&He.nodeType!==3||(q=D+v),He!==S||x!==0&&He.nodeType!==3||(re=D+x),He.nodeType===3&&(D+=He.nodeValue.length),(Pe=He.firstChild)!==null;)Te=He,He=Pe;for(;;){if(He===i)break t;if(Te===u&&++Ne===v&&(q=D),Te===S&&++Be===x&&(re=D),(Pe=He.nextSibling)!==null)break;He=Te,Te=He.parentNode}He=Pe}u=q===-1||re===-1?null:{start:q,end:re}}else u=null}u=u||{start:0,end:0}}else u=null;for(Fv={focusedElem:i,selectionRange:u},C0=!1,sn=o;sn!==null;)if(o=sn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,sn=i;else for(;sn!==null;){switch(o=sn,S=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=o,v=S.memoizedProps,S=S.memoizedState,x=u.stateNode;try{var ht=Eo(u.type,v,u.elementType===u.type);i=x.getSnapshotBeforeUpdate(ht,S),x.__reactInternalSnapshotBeforeUpdate=i}catch(ct){Qt(u,u.return,ct)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)qv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":qv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=o.sibling,i!==null){i.return=o.return,sn=i;break}sn=o.return}}function dk(i,o,u){var x=u.flags;switch(u.tag){case 0:case 11:case 15:Nl(i,u),x&4&&lm(5,u);break;case 1:if(Nl(i,u),x&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(D){Qt(u,u.return,D)}else{var v=Eo(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(D){Qt(u,u.return,D)}}x&64&&sk(u),x&512&&om(u,u.return);break;case 3:if(Nl(i,u),x&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{q_(i,o)}catch(D){Qt(u,u.return,D)}}break;case 27:o===null&&x&4&&ok(u);case 26:case 5:Nl(i,u),o===null&&x&4&&ik(u),x&512&&om(u,u.return);break;case 12:Nl(i,u);break;case 13:Nl(i,u),x&4&&hk(i,u),x&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=LI.bind(null,u),tB(i,u))));break;case 22:if(x=u.memoizedState!==null||Ci,!x){o=o!==null&&o.memoizedState!==null||Da,v=Ci;var S=Da;Ci=x,(Da=o)&&!S?Sl(i,u,(u.subtreeFlags&8772)!==0):Nl(i,u),Ci=v,Da=S}break;case 30:break;default:Nl(i,u)}}function uk(i){var o=i.alternate;o!==null&&(i.alternate=null,uk(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&xr(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ua=null,ts=!1;function Ai(i,o,u){for(u=u.child;u!==null;)mk(i,o,u),u=u.sibling}function mk(i,o,u){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(Z,u)}catch{}switch(u.tag){case 26:Da||Gr(u,o),Ai(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Da||Gr(u,o);var x=ua,v=ts;El(u.type)&&(ua=u.stateNode,ts=!1),Ai(i,o,u),gm(u.stateNode),ua=x,ts=v;break;case 5:Da||Gr(u,o);case 6:if(x=ua,v=ts,ua=null,Ai(i,o,u),ua=x,ts=v,ua!==null)if(ts)try{(ua.nodeType===9?ua.body:ua.nodeName==="HTML"?ua.ownerDocument.body:ua).removeChild(u.stateNode)}catch(S){Qt(u,o,S)}else try{ua.removeChild(u.stateNode)}catch(S){Qt(u,o,S)}break;case 18:ua!==null&&(ts?(i=ua,e3(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),_m(i)):e3(ua,u.stateNode));break;case 4:x=ua,v=ts,ua=u.stateNode.containerInfo,ts=!0,Ai(i,o,u),ua=x,ts=v;break;case 0:case 11:case 14:case 15:Da||wl(2,u,o),Da||wl(4,u,o),Ai(i,o,u);break;case 1:Da||(Gr(u,o),x=u.stateNode,typeof x.componentWillUnmount=="function"&&rk(u,o,x)),Ai(i,o,u);break;case 21:Ai(i,o,u);break;case 22:Da=(x=Da)||u.memoizedState!==null,Ai(i,o,u),Da=x;break;default:Ai(i,o,u)}}function hk(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{_m(i)}catch(u){Qt(o,o.return,u)}}function TI(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new ck),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new ck),o;default:throw Error(s(435,i.tag))}}function bv(i,o){var u=TI(i);o.forEach(function(x){var v=II.bind(null,i,x);u.has(x)||(u.add(x),x.then(v,v))})}function xs(i,o){var u=o.deletions;if(u!==null)for(var x=0;x<u.length;x++){var v=u[x],S=i,D=o,q=D;e:for(;q!==null;){switch(q.tag){case 27:if(El(q.type)){ua=q.stateNode,ts=!1;break e}break;case 5:ua=q.stateNode,ts=!1;break e;case 3:case 4:ua=q.stateNode.containerInfo,ts=!0;break e}q=q.return}if(ua===null)throw Error(s(160));mk(S,D,v),ua=null,ts=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)fk(o,i),o=o.sibling}var gr=null;function fk(i,o){var u=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:xs(o,i),ps(i),x&4&&(wl(3,i,i.return),lm(3,i),wl(5,i,i.return));break;case 1:xs(o,i),ps(i),x&512&&(Da||u===null||Gr(u,u.return)),x&64&&Ci&&(i=i.updateQueue,i!==null&&(x=i.callbacks,x!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?x:u.concat(x))));break;case 26:var v=gr;if(xs(o,i),ps(i),x&512&&(Da||u===null||Gr(u,u.return)),x&4){var S=u!==null?u.memoizedState:null;if(x=i.memoizedState,u===null)if(x===null)if(i.stateNode===null){e:{x=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(x){case"title":S=v.getElementsByTagName("title")[0],(!S||S[ms]||S[Et]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(x),v.head.insertBefore(S,v.querySelector("head > title"))),bn(S,x,u),S[Et]=i,L(S),x=S;break e;case"link":var D=o3("link","href",v).get(x+(u.href||""));if(D){for(var q=0;q<D.length;q++)if(S=D[q],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){D.splice(q,1);break t}}S=v.createElement(x),bn(S,x,u),v.head.appendChild(S);break;case"meta":if(D=o3("meta","content",v).get(x+(u.content||""))){for(q=0;q<D.length;q++)if(S=D[q],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){D.splice(q,1);break t}}S=v.createElement(x),bn(S,x,u),v.head.appendChild(S);break;default:throw Error(s(468,x))}S[Et]=i,L(S),x=S}i.stateNode=x}else c3(v,i.type,i.stateNode);else i.stateNode=l3(v,x,i.memoizedProps);else S!==x?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,x===null?c3(v,i.type,i.stateNode):l3(v,x,i.memoizedProps)):x===null&&i.stateNode!==null&&fv(i,i.memoizedProps,u.memoizedProps)}break;case 27:xs(o,i),ps(i),x&512&&(Da||u===null||Gr(u,u.return)),u!==null&&x&4&&fv(i,i.memoizedProps,u.memoizedProps);break;case 5:if(xs(o,i),ps(i),x&512&&(Da||u===null||Gr(u,u.return)),i.flags&32){v=i.stateNode;try{Oc(v,"")}catch(Pe){Qt(i,i.return,Pe)}}x&4&&i.stateNode!=null&&(v=i.memoizedProps,fv(i,v,u!==null?u.memoizedProps:v)),x&1024&&(gv=!0);break;case 6:if(xs(o,i),ps(i),x&4){if(i.stateNode===null)throw Error(s(162));x=i.memoizedProps,u=i.stateNode;try{u.nodeValue=x}catch(Pe){Qt(i,i.return,Pe)}}break;case 3:if(S0=null,v=gr,gr=w0(o.containerInfo),xs(o,i),gr=v,ps(i),x&4&&u!==null&&u.memoizedState.isDehydrated)try{_m(o.containerInfo)}catch(Pe){Qt(i,i.return,Pe)}gv&&(gv=!1,xk(i));break;case 4:x=gr,gr=w0(i.stateNode.containerInfo),xs(o,i),ps(i),gr=x;break;case 12:xs(o,i),ps(i);break;case 13:xs(o,i),ps(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Sv=Ae()),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,bv(i,x)));break;case 22:v=i.memoizedState!==null;var re=u!==null&&u.memoizedState!==null,Ne=Ci,Be=Da;if(Ci=Ne||v,Da=Be||re,xs(o,i),Da=Be,Ci=Ne,ps(i),x&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||re||Ci||Da||Po(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){re=u=o;try{if(S=re.stateNode,v)D=S.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{q=re.stateNode;var He=re.memoizedProps.style,Te=He!=null&&He.hasOwnProperty("display")?He.display:null;q.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Pe){Qt(re,re.return,Pe)}}}else if(o.tag===6){if(u===null){re=o;try{re.stateNode.nodeValue=v?"":re.memoizedProps}catch(Pe){Qt(re,re.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}x&4&&(x=i.updateQueue,x!==null&&(u=x.retryQueue,u!==null&&(x.retryQueue=null,bv(i,u))));break;case 19:xs(o,i),ps(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,bv(i,x)));break;case 30:break;case 21:break;default:xs(o,i),ps(i)}}function ps(i){var o=i.flags;if(o&2){try{for(var u,x=i.return;x!==null;){if(lk(x)){u=x;break}x=x.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var v=u.stateNode,S=xv(i);c0(i,S,v);break;case 5:var D=u.stateNode;u.flags&32&&(Oc(D,""),u.flags&=-33);var q=xv(i);c0(i,q,D);break;case 3:case 4:var re=u.stateNode.containerInfo,Ne=xv(i);pv(i,Ne,re);break;default:throw Error(s(161))}}catch(Be){Qt(i,i.return,Be)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function xk(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;xk(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Nl(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)dk(i,o.alternate,o),o=o.sibling}function Po(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:wl(4,o,o.return),Po(o);break;case 1:Gr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&rk(o,o.return,u),Po(o);break;case 27:gm(o.stateNode);case 26:case 5:Gr(o,o.return),Po(o);break;case 22:o.memoizedState===null&&Po(o);break;case 30:Po(o);break;default:Po(o)}i=i.sibling}}function Sl(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var x=o.alternate,v=i,S=o,D=S.flags;switch(S.tag){case 0:case 11:case 15:Sl(v,S,u),lm(4,S);break;case 1:if(Sl(v,S,u),x=S,v=x.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Ne){Qt(x,x.return,Ne)}if(x=S,v=x.updateQueue,v!==null){var q=x.stateNode;try{var re=v.shared.hiddenCallbacks;if(re!==null)for(v.shared.hiddenCallbacks=null,v=0;v<re.length;v++)H_(re[v],q)}catch(Ne){Qt(x,x.return,Ne)}}u&&D&64&&sk(S),om(S,S.return);break;case 27:ok(S);case 26:case 5:Sl(v,S,u),u&&x===null&&D&4&&ik(S),om(S,S.return);break;case 12:Sl(v,S,u);break;case 13:Sl(v,S,u),u&&D&4&&hk(v,S);break;case 22:S.memoizedState===null&&Sl(v,S,u),om(S,S.return);break;case 30:break;default:Sl(v,S,u)}o=o.sibling}}function vv(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Gu(u))}function yv(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Gu(i))}function Yr(i,o,u,x){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pk(i,o,u,x),o=o.sibling}function pk(i,o,u,x){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Yr(i,o,u,x),v&2048&&lm(9,o);break;case 1:Yr(i,o,u,x);break;case 3:Yr(i,o,u,x),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Gu(i)));break;case 12:if(v&2048){Yr(i,o,u,x),i=o.stateNode;try{var S=o.memoizedProps,D=S.id,q=S.onPostCommit;typeof q=="function"&&q(D,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(re){Qt(o,o.return,re)}}else Yr(i,o,u,x);break;case 13:Yr(i,o,u,x);break;case 23:break;case 22:S=o.stateNode,D=o.alternate,o.memoizedState!==null?S._visibility&2?Yr(i,o,u,x):cm(i,o):S._visibility&2?Yr(i,o,u,x):(S._visibility|=2,Zc(i,o,u,x,(o.subtreeFlags&10256)!==0)),v&2048&&vv(D,o);break;case 24:Yr(i,o,u,x),v&2048&&yv(o.alternate,o);break;default:Yr(i,o,u,x)}}function Zc(i,o,u,x,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var S=i,D=o,q=u,re=x,Ne=D.flags;switch(D.tag){case 0:case 11:case 15:Zc(S,D,q,re,v),lm(8,D);break;case 23:break;case 22:var Be=D.stateNode;D.memoizedState!==null?Be._visibility&2?Zc(S,D,q,re,v):cm(S,D):(Be._visibility|=2,Zc(S,D,q,re,v)),v&&Ne&2048&&vv(D.alternate,D);break;case 24:Zc(S,D,q,re,v),v&&Ne&2048&&yv(D.alternate,D);break;default:Zc(S,D,q,re,v)}o=o.sibling}}function cm(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,x=o,v=x.flags;switch(x.tag){case 22:cm(u,x),v&2048&&vv(x.alternate,x);break;case 24:cm(u,x),v&2048&&yv(x.alternate,x);break;default:cm(u,x)}o=o.sibling}}var dm=8192;function Qc(i){if(i.subtreeFlags&dm)for(i=i.child;i!==null;)gk(i),i=i.sibling}function gk(i){switch(i.tag){case 26:Qc(i),i.flags&dm&&i.memoizedState!==null&&fB(gr,i.memoizedState,i.memoizedProps);break;case 5:Qc(i);break;case 3:case 4:var o=gr;gr=w0(i.stateNode.containerInfo),Qc(i),gr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=dm,dm=16777216,Qc(i),dm=o):Qc(i));break;default:Qc(i)}}function bk(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function um(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var x=o[u];sn=x,yk(x,i)}bk(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vk(i),i=i.sibling}function vk(i){switch(i.tag){case 0:case 11:case 15:um(i),i.flags&2048&&wl(9,i,i.return);break;case 3:um(i);break;case 12:um(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,d0(i)):um(i);break;default:um(i)}}function d0(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var x=o[u];sn=x,yk(x,i)}bk(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:wl(8,o,o.return),d0(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,d0(o));break;default:d0(o)}i=i.sibling}}function yk(i,o){for(;sn!==null;){var u=sn;switch(u.tag){case 0:case 11:case 15:wl(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var x=u.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Gu(u.memoizedState.cache)}if(x=u.child,x!==null)x.return=u,sn=x;else e:for(u=i;sn!==null;){x=sn;var v=x.sibling,S=x.return;if(uk(x),x===u){sn=null;break e}if(v!==null){v.return=S,sn=v;break e}sn=S}}}var EI={getCacheForType:function(i){var o=En(Ga),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},PI=typeof WeakMap=="function"?WeakMap:Map,Ht=0,aa=null,Ct=null,Dt=0,qt=0,gs=null,_l=!1,Jc=!1,jv=!1,Ti=0,wa=0,kl=0,Oo=0,wv=0,Ys=0,ed=0,mm=null,as=null,Nv=!1,Sv=0,u0=1/0,m0=null,Cl=null,gn=0,Al=null,td=null,ad=0,_v=0,kv=null,jk=null,hm=0,Cv=null;function bs(){if((Ht&2)!==0&&Dt!==0)return Dt&-Dt;if(T.T!==null){var i=Vc;return i!==0?i:Dv()}return bt()}function wk(){Ys===0&&(Ys=(Dt&536870912)===0||Ut?oe():536870912);var i=Gs.current;return i!==null&&(i.flags|=32),Ys}function vs(i,o,u){(i===aa&&(qt===2||qt===9)||i.cancelPendingCommit!==null)&&(nd(i,0),Tl(i,Dt,Ys,!1)),he(i,u),((Ht&2)===0||i!==aa)&&(i===aa&&((Ht&2)===0&&(Oo|=u),wa===4&&Tl(i,Dt,Ys,!1)),Wr(i))}function Nk(i,o,u){if((Ht&6)!==0)throw Error(s(327));var x=!u&&(o&124)===0&&(o&i.expiredLanes)===0||pt(i,o),v=x?DI(i,o):Ev(i,o,!0),S=x;do{if(v===0){Jc&&!x&&Tl(i,o,0,!1);break}else{if(u=i.current.alternate,S&&!OI(u)){v=Ev(i,o,!1),S=!1;continue}if(v===2){if(S=o,i.errorRecoveryDisabledLanes&S)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;e:{var q=i;v=mm;var re=q.current.memoizedState.isDehydrated;if(re&&(nd(q,D).flags|=256),D=Ev(q,D,!1),D!==2){if(jv&&!re){q.errorRecoveryDisabledLanes|=S,Oo|=S,v=4;break e}S=as,as=v,S!==null&&(as===null?as=S:as.push.apply(as,S))}v=D}if(S=!1,v!==2)continue}}if(v===1){nd(i,0),Tl(i,o,0,!0);break}e:{switch(x=i,S=v,S){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Tl(x,o,Ys,!_l);break e;case 2:as=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(v=Sv+300-Ae(),10<v)){if(Tl(x,o,Ys,!_l),Ze(x,0,!0)!==0)break e;x.timeoutHandle=Qk(Sk.bind(null,x,u,as,m0,Nv,o,Ys,Oo,ed,_l,S,2,-0,0),v);break e}Sk(x,u,as,m0,Nv,o,Ys,Oo,ed,_l,S,0,-0,0)}}break}while(!0);Wr(i)}function Sk(i,o,u,x,v,S,D,q,re,Ne,Be,He,Te,Pe){if(i.timeoutHandle=-1,He=o.subtreeFlags,(He&8192||(He&16785408)===16785408)&&(ym={stylesheets:null,count:0,unsuspend:hB},gk(o),He=xB(),He!==null)){i.cancelPendingCommit=He(Pk.bind(null,i,o,S,u,x,v,D,q,re,Be,1,Te,Pe)),Tl(i,S,D,!Ne);return}Pk(i,o,S,u,x,v,D,q,re)}function OI(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var x=0;x<u.length;x++){var v=u[x],S=v.getSnapshot;v=v.value;try{if(!hs(S(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Tl(i,o,u,x){o&=~wv,o&=~Oo,i.suspendedLanes|=o,i.pingedLanes&=~o,x&&(i.warmLanes|=o),x=i.expirationTimes;for(var v=o;0<v;){var S=31-Ue(v),D=1<<S;x[S]=-1,v&=~D}u!==0&&lt(i,u,o)}function h0(){return(Ht&6)===0?(fm(0),!1):!0}function Av(){if(Ct!==null){if(qt===0)var i=Ct.return;else i=Ct,ji=ko=null,qb(i),Wc=null,sm=0,i=Ct;for(;i!==null;)nk(i.alternate,i),i=i.return;Ct=null}}function nd(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,XI(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Av(),aa=i,Ct=u=bi(i.current,null),Dt=o,qt=0,gs=null,_l=!1,Jc=pt(i,o),jv=!1,ed=Ys=wv=Oo=kl=wa=0,as=mm=null,Nv=!1,(o&8)!==0&&(o|=o&32);var x=i.entangledLanes;if(x!==0)for(i=i.entanglements,x&=o;0<x;){var v=31-Ue(x),S=1<<v;o|=i[v],x&=~S}return Ti=o,Rf(),u}function _k(i,o){Nt=null,T.H=e0,o===Wu||o===Hf?(o=F_(),qt=3):o===B_?(o=F_(),qt=4):qt=o===V5?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gs=o,Ct===null&&(wa=1,r0(i,Vs(o,i.current)))}function kk(){var i=T.H;return T.H=e0,i===null?e0:i}function Ck(){var i=T.A;return T.A=EI,i}function Tv(){wa=4,_l||(Dt&4194048)!==Dt&&Gs.current!==null||(Jc=!0),(kl&134217727)===0&&(Oo&134217727)===0||aa===null||Tl(aa,Dt,Ys,!1)}function Ev(i,o,u){var x=Ht;Ht|=2;var v=kk(),S=Ck();(aa!==i||Dt!==o)&&(m0=null,nd(i,o)),o=!1;var D=wa;e:do try{if(qt!==0&&Ct!==null){var q=Ct,re=gs;switch(qt){case 8:Av(),D=6;break e;case 3:case 2:case 9:case 6:Gs.current===null&&(o=!0);var Ne=qt;if(qt=0,gs=null,sd(i,q,re,Ne),u&&Jc){D=0;break e}break;default:Ne=qt,qt=0,gs=null,sd(i,q,re,Ne)}}MI(),D=wa;break}catch(Be){_k(i,Be)}while(!0);return o&&i.shellSuspendCounter++,ji=ko=null,Ht=x,T.H=v,T.A=S,Ct===null&&(aa=null,Dt=0,Rf()),D}function MI(){for(;Ct!==null;)Ak(Ct)}function DI(i,o){var u=Ht;Ht|=2;var x=kk(),v=Ck();aa!==i||Dt!==o?(m0=null,u0=Ae()+500,nd(i,o)):Jc=pt(i,o);e:do try{if(qt!==0&&Ct!==null){o=Ct;var S=gs;t:switch(qt){case 1:qt=0,gs=null,sd(i,o,S,1);break;case 2:case 9:if(z_(S)){qt=0,gs=null,Tk(o);break}o=function(){qt!==2&&qt!==9||aa!==i||(qt=7),Wr(i)},S.then(o,o);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:z_(S)?(qt=0,gs=null,Tk(o)):(qt=0,gs=null,sd(i,o,S,7));break;case 5:var D=null;switch(Ct.tag){case 26:D=Ct.memoizedState;case 5:case 27:var q=Ct;if(!D||d3(D)){qt=0,gs=null;var re=q.sibling;if(re!==null)Ct=re;else{var Ne=q.return;Ne!==null?(Ct=Ne,f0(Ne)):Ct=null}break t}}qt=0,gs=null,sd(i,o,S,5);break;case 6:qt=0,gs=null,sd(i,o,S,6);break;case 8:Av(),wa=6;break e;default:throw Error(s(462))}}RI();break}catch(Be){_k(i,Be)}while(!0);return ji=ko=null,T.H=x,T.A=v,Ht=u,Ct!==null?0:(aa=null,Dt=0,Rf(),wa)}function RI(){for(;Ct!==null&&!we();)Ak(Ct)}function Ak(i){var o=tk(i.alternate,i,Ti);i.memoizedProps=i.pendingProps,o===null?f0(i):Ct=o}function Tk(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=W5(u,o,o.pendingProps,o.type,void 0,Dt);break;case 11:o=W5(u,o,o.pendingProps,o.type.render,o.ref,Dt);break;case 5:qb(o);default:nk(u,o),o=Ct=E_(o,Ti),o=tk(u,o,Ti)}i.memoizedProps=i.pendingProps,o===null?f0(i):Ct=o}function sd(i,o,u,x){ji=ko=null,qb(o),Wc=null,sm=0;var v=o.return;try{if(SI(i,v,o,u,Dt)){wa=1,r0(i,Vs(u,i.current)),Ct=null;return}}catch(S){if(v!==null)throw Ct=v,S;wa=1,r0(i,Vs(u,i.current)),Ct=null;return}o.flags&32768?(Ut||x===1?i=!0:Jc||(Dt&536870912)!==0?i=!1:(_l=i=!0,(x===2||x===9||x===3||x===6)&&(x=Gs.current,x!==null&&x.tag===13&&(x.flags|=16384))),Ek(o,i)):f0(o)}function f0(i){var o=i;do{if((o.flags&32768)!==0){Ek(o,_l);return}i=o.return;var u=kI(o.alternate,o,Ti);if(u!==null){Ct=u;return}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=i}while(o!==null);wa===0&&(wa=5)}function Ek(i,o){do{var u=CI(i.alternate,i);if(u!==null){u.flags&=32767,Ct=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Ct=i;return}Ct=i=u}while(i!==null);wa=6,Ct=null}function Pk(i,o,u,x,v,S,D,q,re){i.cancelPendingCommit=null;do x0();while(gn!==0);if((Ht&6)!==0)throw Error(s(327));if(o!==null){if(o===i.current)throw Error(s(177));if(S=o.lanes|o.childLanes,S|=yb,Je(i,u,S,D,q,re),i===aa&&(Ct=aa=null,Dt=0),td=o,Al=i,ad=u,_v=S,kv=v,jk=x,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BI(Le,function(){return $k(),null})):(i.callbackNode=null,i.callbackPriority=0),x=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||x){x=T.T,T.T=null,v=K.p,K.p=2,D=Ht,Ht|=4;try{AI(i,o,u)}finally{Ht=D,K.p=v,T.T=x}}gn=1,Ok(),Mk(),Dk()}}function Ok(){if(gn===1){gn=0;var i=Al,o=td,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=T.T,T.T=null;var x=K.p;K.p=2;var v=Ht;Ht|=4;try{fk(o,i);var S=Fv,D=y_(i.containerInfo),q=S.focusedElem,re=S.selectionRange;if(D!==q&&q&&q.ownerDocument&&v_(q.ownerDocument.documentElement,q)){if(re!==null&&xb(q)){var Ne=re.start,Be=re.end;if(Be===void 0&&(Be=Ne),"selectionStart"in q)q.selectionStart=Ne,q.selectionEnd=Math.min(Be,q.value.length);else{var He=q.ownerDocument||document,Te=He&&He.defaultView||window;if(Te.getSelection){var Pe=Te.getSelection(),ht=q.textContent.length,ct=Math.min(re.start,ht),Xt=re.end===void 0?ct:Math.min(re.end,ht);!Pe.extend&&ct>Xt&&(D=Xt,Xt=ct,ct=D);var be=b_(q,ct),me=b_(q,Xt);if(be&&me&&(Pe.rangeCount!==1||Pe.anchorNode!==be.node||Pe.anchorOffset!==be.offset||Pe.focusNode!==me.node||Pe.focusOffset!==me.offset)){var je=He.createRange();je.setStart(be.node,be.offset),Pe.removeAllRanges(),ct>Xt?(Pe.addRange(je),Pe.extend(me.node,me.offset)):(je.setEnd(me.node,me.offset),Pe.addRange(je))}}}}for(He=[],Pe=q;Pe=Pe.parentNode;)Pe.nodeType===1&&He.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<He.length;q++){var Fe=He[q];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}C0=!!Uv,Fv=Uv=null}finally{Ht=v,K.p=x,T.T=u}}i.current=o,gn=2}}function Mk(){if(gn===2){gn=0;var i=Al,o=td,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=T.T,T.T=null;var x=K.p;K.p=2;var v=Ht;Ht|=4;try{dk(i,o.alternate,o)}finally{Ht=v,K.p=x,T.T=u}}gn=3}}function Dk(){if(gn===4||gn===3){gn=0,ue();var i=Al,o=td,u=ad,x=jk;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?gn=5:(gn=0,td=Al=null,Rk(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Cl=null),Mt(u),o=o.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(Z,o,void 0,(o.current.flags&128)===128)}catch{}if(x!==null){o=T.T,v=K.p,K.p=2,T.T=null;try{for(var S=i.onRecoverableError,D=0;D<x.length;D++){var q=x[D];S(q.value,{componentStack:q.stack})}}finally{T.T=o,K.p=v}}(ad&3)!==0&&x0(),Wr(i),v=i.pendingLanes,(u&4194090)!==0&&(v&42)!==0?i===Cv?hm++:(hm=0,Cv=i):hm=0,fm(0)}}function Rk(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Gu(o)))}function x0(i){return Ok(),Mk(),Dk(),$k()}function $k(){if(gn!==5)return!1;var i=Al,o=_v;_v=0;var u=Mt(ad),x=T.T,v=K.p;try{K.p=32>u?32:u,T.T=null,u=kv,kv=null;var S=Al,D=ad;if(gn=0,td=Al=null,ad=0,(Ht&6)!==0)throw Error(s(331));var q=Ht;if(Ht|=4,vk(S.current),pk(S,S.current,D,u),Ht=q,fm(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(Z,S)}catch{}return!0}finally{K.p=v,T.T=x,Rk(i,o)}}function Lk(i,o,u){o=Vs(u,o),o=rv(i.stateNode,o,2),i=bl(i,o,2),i!==null&&(he(i,2),Wr(i))}function Qt(i,o,u){if(i.tag===3)Lk(i,i,u);else for(;o!==null;){if(o.tag===3){Lk(o,i,u);break}else if(o.tag===1){var x=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Cl===null||!Cl.has(x))){i=Vs(u,i),u=U5(2),x=bl(o,u,2),x!==null&&(F5(u,x,o,i),he(x,2),Wr(x));break}}o=o.return}}function Pv(i,o,u){var x=i.pingCache;if(x===null){x=i.pingCache=new PI;var v=new Set;x.set(o,v)}else v=x.get(o),v===void 0&&(v=new Set,x.set(o,v));v.has(u)||(jv=!0,v.add(u),i=$I.bind(null,i,o,u),o.then(i,i))}function $I(i,o,u){var x=i.pingCache;x!==null&&x.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,aa===i&&(Dt&u)===u&&(wa===4||wa===3&&(Dt&62914560)===Dt&&300>Ae()-Sv?(Ht&2)===0&&nd(i,0):wv|=u,ed===Dt&&(ed=0)),Wr(i)}function Ik(i,o){o===0&&(o=Q()),i=Bc(i,o),i!==null&&(he(i,o),Wr(i))}function LI(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Ik(i,u)}function II(i,o){var u=0;switch(i.tag){case 13:var x=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:x=i.stateNode;break;case 22:x=i.stateNode._retryCache;break;default:throw Error(s(314))}x!==null&&x.delete(o),Ik(i,u)}function BI(i,o){return Ye(i,o)}var p0=null,rd=null,Ov=!1,g0=!1,Mv=!1,Mo=0;function Wr(i){i!==rd&&i.next===null&&(rd===null?p0=rd=i:rd=rd.next=i),g0=!0,Ov||(Ov=!0,UI())}function fm(i,o){if(!Mv&&g0){Mv=!0;do for(var u=!1,x=p0;x!==null;){if(i!==0){var v=x.pendingLanes;if(v===0)var S=0;else{var D=x.suspendedLanes,q=x.pingedLanes;S=(1<<31-Ue(42|i)+1)-1,S&=v&~(D&~q),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,Fk(x,S))}else S=Dt,S=Ze(x,x===aa?S:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(S&3)===0||pt(x,S)||(u=!0,Fk(x,S));x=x.next}while(u);Mv=!1}}function zI(){Bk()}function Bk(){g0=Ov=!1;var i=0;Mo!==0&&(WI()&&(i=Mo),Mo=0);for(var o=Ae(),u=null,x=p0;x!==null;){var v=x.next,S=zk(x,o);S===0?(x.next=null,u===null?p0=v:u.next=v,v===null&&(rd=u)):(u=x,(i!==0||(S&3)!==0)&&(g0=!0)),x=v}fm(i)}function zk(i,o){for(var u=i.suspendedLanes,x=i.pingedLanes,v=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var D=31-Ue(S),q=1<<D,re=v[D];re===-1?((q&u)===0||(q&x)!==0)&&(v[D]=Pa(q,o)):re<=o&&(i.expiredLanes|=q),S&=~q}if(o=aa,u=Dt,u=Ze(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x=i.callbackNode,u===0||i===o&&(qt===2||qt===9)||i.cancelPendingCommit!==null)return x!==null&&x!==null&&Ke(x),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||pt(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(x!==null&&Ke(x),Mt(u)){case 2:case 8:u=ke;break;case 32:u=Le;break;case 268435456:u=Xe;break;default:u=Le}return x=Uk.bind(null,i),u=Ye(u,x),i.callbackPriority=o,i.callbackNode=u,o}return x!==null&&x!==null&&Ke(x),i.callbackPriority=2,i.callbackNode=null,2}function Uk(i,o){if(gn!==0&&gn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(x0()&&i.callbackNode!==u)return null;var x=Dt;return x=Ze(i,i===aa?x:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x===0?null:(Nk(i,x,o),zk(i,Ae()),i.callbackNode!=null&&i.callbackNode===u?Uk.bind(null,i):null)}function Fk(i,o){if(x0())return null;Nk(i,o,!0)}function UI(){ZI(function(){(Ht&6)!==0?Ye(de,zI):Bk()})}function Dv(){return Mo===0&&(Mo=oe()),Mo}function Vk(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Af(""+i)}function Hk(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function FI(i,o,u,x,v){if(o==="submit"&&u&&u.stateNode===v){var S=Vk((v[Pt]||null).action),D=x.submitter;D&&(o=(o=D[Pt]||null)?Vk(o.formAction):D.getAttribute("formAction"),o!==null&&(S=o,D=null));var q=new Of("action","action",null,x,v);i.push({event:q,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Mo!==0){var re=D?Hk(v,D):new FormData(v);ev(u,{pending:!0,data:re,method:v.method,action:S},null,re)}}else typeof S=="function"&&(q.preventDefault(),re=D?Hk(v,D):new FormData(v),ev(u,{pending:!0,data:re,method:v.method,action:S},S,re))},currentTarget:v}]})}}for(var Rv=0;Rv<vb.length;Rv++){var $v=vb[Rv],VI=$v.toLowerCase(),HI=$v[0].toUpperCase()+$v.slice(1);pr(VI,"on"+HI)}pr(N_,"onAnimationEnd"),pr(S_,"onAnimationIteration"),pr(__,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(lI,"onTransitionRun"),pr(oI,"onTransitionStart"),pr(cI,"onTransitionCancel"),pr(k_,"onTransitionEnd"),qe("onMouseEnter",["mouseout","mouseover"]),qe("onMouseLeave",["mouseout","mouseover"]),qe("onPointerEnter",["pointerout","pointerover"]),qe("onPointerLeave",["pointerout","pointerover"]),Ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xm));function qk(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var x=i[u],v=x.event;x=x.listeners;e:{var S=void 0;if(o)for(var D=x.length-1;0<=D;D--){var q=x[D],re=q.instance,Ne=q.currentTarget;if(q=q.listener,re!==S&&v.isPropagationStopped())break e;S=q,v.currentTarget=Ne;try{S(v)}catch(Be){s0(Be)}v.currentTarget=null,S=re}else for(D=0;D<x.length;D++){if(q=x[D],re=q.instance,Ne=q.currentTarget,q=q.listener,re!==S&&v.isPropagationStopped())break e;S=q,v.currentTarget=Ne;try{S(v)}catch(Be){s0(Be)}v.currentTarget=null,S=re}}}}function At(i,o){var u=o[tn];u===void 0&&(u=o[tn]=new Set);var x=i+"__bubble";u.has(x)||(Kk(o,i,2,!1),u.add(x))}function Lv(i,o,u){var x=0;o&&(x|=4),Kk(u,i,x,o)}var b0="_reactListening"+Math.random().toString(36).slice(2);function Iv(i){if(!i[b0]){i[b0]=!0,ae.forEach(function(u){u!=="selectionchange"&&(qI.has(u)||Lv(u,!1,i),Lv(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[b0]||(o[b0]=!0,Lv("selectionchange",!1,o))}}function Kk(i,o,u,x){switch(p3(o)){case 2:var v=bB;break;case 8:v=vB;break;default:v=Qv}u=v.bind(null,o,u,i),v=void 0,!ib||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),x?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function Bv(i,o,u,x,v){var S=x;if((o&1)===0&&(o&2)===0&&x!==null)e:for(;;){if(x===null)return;var D=x.tag;if(D===3||D===4){var q=x.stateNode.containerInfo;if(q===v)break;if(D===4)for(D=x.return;D!==null;){var re=D.tag;if((re===3||re===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;q!==null;){if(D=ee(q),D===null)return;if(re=D.tag,re===5||re===6||re===26||re===27){x=S=D;continue e}q=q.parentNode}}x=x.return}J4(function(){var Ne=S,Be=sb(u),He=[];e:{var Te=C_.get(i);if(Te!==void 0){var Pe=Of,ht=i;switch(i){case"keypress":if(Ef(u)===0)break e;case"keydown":case"keyup":Pe=B9;break;case"focusin":ht="focus",Pe=db;break;case"focusout":ht="blur",Pe=db;break;case"beforeblur":case"afterblur":Pe=db;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=a_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=C9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=F9;break;case N_:case S_:case __:Pe=E9;break;case k_:Pe=H9;break;case"scroll":case"scrollend":Pe=_9;break;case"wheel":Pe=K9;break;case"copy":case"cut":case"paste":Pe=O9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=s_;break;case"toggle":case"beforetoggle":Pe=Y9}var ct=(o&4)!==0,Xt=!ct&&(i==="scroll"||i==="scrollend"),be=ct?Te!==null?Te+"Capture":null:Te;ct=[];for(var me=Ne,je;me!==null;){var Fe=me;if(je=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||je===null||be===null||(Fe=Du(me,be),Fe!=null&&ct.push(pm(me,Fe,je))),Xt)break;me=me.return}0<ct.length&&(Te=new Pe(Te,ht,null,u,Be),He.push({event:Te,listeners:ct}))}}if((o&7)===0){e:{if(Te=i==="mouseover"||i==="pointerover",Pe=i==="mouseout"||i==="pointerout",Te&&u!==nb&&(ht=u.relatedTarget||u.fromElement)&&(ee(ht)||ht[Oa]))break e;if((Pe||Te)&&(Te=Be.window===Be?Be:(Te=Be.ownerDocument)?Te.defaultView||Te.parentWindow:window,Pe?(ht=u.relatedTarget||u.toElement,Pe=Ne,ht=ht?ee(ht):null,ht!==null&&(Xt=l(ht),ct=ht.tag,ht!==Xt||ct!==5&&ct!==27&&ct!==6)&&(ht=null)):(Pe=null,ht=Ne),Pe!==ht)){if(ct=a_,Fe="onMouseLeave",be="onMouseEnter",me="mouse",(i==="pointerout"||i==="pointerover")&&(ct=s_,Fe="onPointerLeave",be="onPointerEnter",me="pointer"),Xt=Pe==null?Te:We(Pe),je=ht==null?Te:We(ht),Te=new ct(Fe,me+"leave",Pe,u,Be),Te.target=Xt,Te.relatedTarget=je,Fe=null,ee(Be)===Ne&&(ct=new ct(be,me+"enter",ht,u,Be),ct.target=je,ct.relatedTarget=Xt,Fe=ct),Xt=Fe,Pe&&ht)t:{for(ct=Pe,be=ht,me=0,je=ct;je;je=id(je))me++;for(je=0,Fe=be;Fe;Fe=id(Fe))je++;for(;0<me-je;)ct=id(ct),me--;for(;0<je-me;)be=id(be),je--;for(;me--;){if(ct===be||be!==null&&ct===be.alternate)break t;ct=id(ct),be=id(be)}ct=null}else ct=null;Pe!==null&&Gk(He,Te,Pe,ct,!1),ht!==null&&Xt!==null&&Gk(He,Xt,ht,ct,!0)}}e:{if(Te=Ne?We(Ne):window,Pe=Te.nodeName&&Te.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Te.type==="file")var nt=m_;else if(d_(Te))if(h_)nt=sI;else{nt=aI;var _t=tI}else Pe=Te.nodeName,!Pe||Pe.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?Ne&&ab(Ne.elementType)&&(nt=m_):nt=nI;if(nt&&(nt=nt(i,Ne))){u_(He,nt,u,Be);break e}_t&&_t(i,Te,Ne),i==="focusout"&&Ne&&Te.type==="number"&&Ne.memoizedProps.value!=null&&tb(Te,"number",Te.value)}switch(_t=Ne?We(Ne):window,i){case"focusin":(d_(_t)||_t.contentEditable==="true")&&($c=_t,pb=Ne,Fu=null);break;case"focusout":Fu=pb=$c=null;break;case"mousedown":gb=!0;break;case"contextmenu":case"mouseup":case"dragend":gb=!1,j_(He,u,Be);break;case"selectionchange":if(iI)break;case"keydown":case"keyup":j_(He,u,Be)}var it;if(mb)e:{switch(i){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Rc?o_(i,u)&&(mt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(mt="onCompositionStart");mt&&(r_&&u.locale!=="ko"&&(Rc||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Rc&&(it=e_()):(fl=Be,lb="value"in fl?fl.value:fl.textContent,Rc=!0)),_t=v0(Ne,mt),0<_t.length&&(mt=new n_(mt,i,null,u,Be),He.push({event:mt,listeners:_t}),it?mt.data=it:(it=c_(u),it!==null&&(mt.data=it)))),(it=X9?Z9(i,u):Q9(i,u))&&(mt=v0(Ne,"onBeforeInput"),0<mt.length&&(_t=new n_("onBeforeInput","beforeinput",null,u,Be),He.push({event:_t,listeners:mt}),_t.data=it)),FI(He,i,Ne,u,Be)}qk(He,o)})}function pm(i,o,u){return{instance:i,listener:o,currentTarget:u}}function v0(i,o){for(var u=o+"Capture",x=[];i!==null;){var v=i,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=Du(i,u),v!=null&&x.unshift(pm(i,v,S)),v=Du(i,o),v!=null&&x.push(pm(i,v,S))),i.tag===3)return x;i=i.return}return[]}function id(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Gk(i,o,u,x,v){for(var S=o._reactName,D=[];u!==null&&u!==x;){var q=u,re=q.alternate,Ne=q.stateNode;if(q=q.tag,re!==null&&re===x)break;q!==5&&q!==26&&q!==27||Ne===null||(re=Ne,v?(Ne=Du(u,S),Ne!=null&&D.unshift(pm(u,Ne,re))):v||(Ne=Du(u,S),Ne!=null&&D.push(pm(u,Ne,re)))),u=u.return}D.length!==0&&i.push({event:o,listeners:D})}var KI=/\r\n?/g,GI=/\u0000|\uFFFD/g;function Yk(i){return(typeof i=="string"?i:""+i).replace(KI,`
`).replace(GI,"")}function Wk(i,o){return o=Yk(o),Yk(i)===o}function y0(){}function Wt(i,o,u,x,v,S){switch(u){case"children":typeof x=="string"?o==="body"||o==="textarea"&&x===""||Oc(i,x):(typeof x=="number"||typeof x=="bigint")&&o!=="body"&&Oc(i,""+x);break;case"className":pi(i,"class",x);break;case"tabIndex":pi(i,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(i,u,x);break;case"style":Z4(i,x,S);break;case"data":if(o!=="object"){pi(i,"data",x);break}case"src":case"href":if(x===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=Af(""+x),i.setAttribute(u,x);break;case"action":case"formAction":if(typeof x=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(o!=="input"&&Wt(i,o,"name",v.name,v,null),Wt(i,o,"formEncType",v.formEncType,v,null),Wt(i,o,"formMethod",v.formMethod,v,null),Wt(i,o,"formTarget",v.formTarget,v,null)):(Wt(i,o,"encType",v.encType,v,null),Wt(i,o,"method",v.method,v,null),Wt(i,o,"target",v.target,v,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=Af(""+x),i.setAttribute(u,x);break;case"onClick":x!=null&&(i.onclick=y0);break;case"onScroll":x!=null&&At("scroll",i);break;case"onScrollEnd":x!=null&&At("scrollend",i);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(s(61));if(u=x.__html,u!=null){if(v.children!=null)throw Error(s(60));i.innerHTML=u}}break;case"multiple":i.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":i.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){i.removeAttribute("xlink:href");break}u=Af(""+x),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""+x):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":x===!0?i.setAttribute(u,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,x):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?i.setAttribute(u,x):i.removeAttribute(u);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?i.removeAttribute(u):i.setAttribute(u,x);break;case"popover":At("beforetoggle",i),At("toggle",i),an(i,"popover",x);break;case"xlinkActuate":qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":qn(i,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":qn(i,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":qn(i,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":qn(i,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":an(i,"is",x);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=N9.get(u)||u,an(i,u,x))}}function zv(i,o,u,x,v,S){switch(u){case"style":Z4(i,x,S);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(s(61));if(u=x.__html,u!=null){if(v.children!=null)throw Error(s(60));i.innerHTML=u}}break;case"children":typeof x=="string"?Oc(i,x):(typeof x=="number"||typeof x=="bigint")&&Oc(i,""+x);break;case"onScroll":x!=null&&At("scroll",i);break;case"onScrollEnd":x!=null&&At("scrollend",i);break;case"onClick":x!=null&&(i.onclick=y0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ee.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),S=i[Pt]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(o,S,v),typeof x=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,x,v);break e}u in i?i[u]=x:x===!0?i.setAttribute(u,""):an(i,u,x)}}}function bn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",i),At("load",i);var x=!1,v=!1,S;for(S in u)if(u.hasOwnProperty(S)){var D=u[S];if(D!=null)switch(S){case"src":x=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Wt(i,o,S,D,u,null)}}v&&Wt(i,o,"srcSet",u.srcSet,u,null),x&&Wt(i,o,"src",u.src,u,null);return;case"input":At("invalid",i);var q=S=D=v=null,re=null,Ne=null;for(x in u)if(u.hasOwnProperty(x)){var Be=u[x];if(Be!=null)switch(x){case"name":v=Be;break;case"type":D=Be;break;case"checked":re=Be;break;case"defaultChecked":Ne=Be;break;case"value":S=Be;break;case"defaultValue":q=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(s(137,o));break;default:Wt(i,o,x,Be,u,null)}}G4(i,S,q,re,Ne,D,v,!1),kf(i);return;case"select":At("invalid",i),x=D=S=null;for(v in u)if(u.hasOwnProperty(v)&&(q=u[v],q!=null))switch(v){case"value":S=q;break;case"defaultValue":D=q;break;case"multiple":x=q;default:Wt(i,o,v,q,u,null)}o=S,u=D,i.multiple=!!x,o!=null?Pc(i,!!x,o,!1):u!=null&&Pc(i,!!x,u,!0);return;case"textarea":At("invalid",i),S=v=x=null;for(D in u)if(u.hasOwnProperty(D)&&(q=u[D],q!=null))switch(D){case"value":x=q;break;case"defaultValue":v=q;break;case"children":S=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(91));break;default:Wt(i,o,D,q,u,null)}W4(i,x,v,S),kf(i);return;case"option":for(re in u)if(u.hasOwnProperty(re)&&(x=u[re],x!=null))switch(re){case"selected":i.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Wt(i,o,re,x,u,null)}return;case"dialog":At("beforetoggle",i),At("toggle",i),At("cancel",i),At("close",i);break;case"iframe":case"object":At("load",i);break;case"video":case"audio":for(x=0;x<xm.length;x++)At(xm[x],i);break;case"image":At("error",i),At("load",i);break;case"details":At("toggle",i);break;case"embed":case"source":case"link":At("error",i),At("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in u)if(u.hasOwnProperty(Ne)&&(x=u[Ne],x!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Wt(i,o,Ne,x,u,null)}return;default:if(ab(o)){for(Be in u)u.hasOwnProperty(Be)&&(x=u[Be],x!==void 0&&zv(i,o,Be,x,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(x=u[q],x!=null&&Wt(i,o,q,x,u,null))}function YI(i,o,u,x){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,D=null,q=null,re=null,Ne=null,Be=null;for(Pe in u){var He=u[Pe];if(u.hasOwnProperty(Pe)&&He!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":re=He;default:x.hasOwnProperty(Pe)||Wt(i,o,Pe,null,x,He)}}for(var Te in x){var Pe=x[Te];if(He=u[Te],x.hasOwnProperty(Te)&&(Pe!=null||He!=null))switch(Te){case"type":S=Pe;break;case"name":v=Pe;break;case"checked":Ne=Pe;break;case"defaultChecked":Be=Pe;break;case"value":D=Pe;break;case"defaultValue":q=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(s(137,o));break;default:Pe!==He&&Wt(i,o,Te,Pe,x,He)}}eb(i,D,q,re,Ne,Be,S,v);return;case"select":Pe=D=q=Te=null;for(S in u)if(re=u[S],u.hasOwnProperty(S)&&re!=null)switch(S){case"value":break;case"multiple":Pe=re;default:x.hasOwnProperty(S)||Wt(i,o,S,null,x,re)}for(v in x)if(S=x[v],re=u[v],x.hasOwnProperty(v)&&(S!=null||re!=null))switch(v){case"value":Te=S;break;case"defaultValue":q=S;break;case"multiple":D=S;default:S!==re&&Wt(i,o,v,S,x,re)}o=q,u=D,x=Pe,Te!=null?Pc(i,!!u,Te,!1):!!x!=!!u&&(o!=null?Pc(i,!!u,o,!0):Pc(i,!!u,u?[]:"",!1));return;case"textarea":Pe=Te=null;for(q in u)if(v=u[q],u.hasOwnProperty(q)&&v!=null&&!x.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Wt(i,o,q,null,x,v)}for(D in x)if(v=x[D],S=u[D],x.hasOwnProperty(D)&&(v!=null||S!=null))switch(D){case"value":Te=v;break;case"defaultValue":Pe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:v!==S&&Wt(i,o,D,v,x,S)}Y4(i,Te,Pe);return;case"option":for(var ht in u)if(Te=u[ht],u.hasOwnProperty(ht)&&Te!=null&&!x.hasOwnProperty(ht))switch(ht){case"selected":i.selected=!1;break;default:Wt(i,o,ht,null,x,Te)}for(re in x)if(Te=x[re],Pe=u[re],x.hasOwnProperty(re)&&Te!==Pe&&(Te!=null||Pe!=null))switch(re){case"selected":i.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:Wt(i,o,re,Te,x,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in u)Te=u[ct],u.hasOwnProperty(ct)&&Te!=null&&!x.hasOwnProperty(ct)&&Wt(i,o,ct,null,x,Te);for(Ne in x)if(Te=x[Ne],Pe=u[Ne],x.hasOwnProperty(Ne)&&Te!==Pe&&(Te!=null||Pe!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(s(137,o));break;default:Wt(i,o,Ne,Te,x,Pe)}return;default:if(ab(o)){for(var Xt in u)Te=u[Xt],u.hasOwnProperty(Xt)&&Te!==void 0&&!x.hasOwnProperty(Xt)&&zv(i,o,Xt,void 0,x,Te);for(Be in x)Te=x[Be],Pe=u[Be],!x.hasOwnProperty(Be)||Te===Pe||Te===void 0&&Pe===void 0||zv(i,o,Be,Te,x,Pe);return}}for(var be in u)Te=u[be],u.hasOwnProperty(be)&&Te!=null&&!x.hasOwnProperty(be)&&Wt(i,o,be,null,x,Te);for(He in x)Te=x[He],Pe=u[He],!x.hasOwnProperty(He)||Te===Pe||Te==null&&Pe==null||Wt(i,o,He,Te,x,Pe)}var Uv=null,Fv=null;function j0(i){return i.nodeType===9?i:i.ownerDocument}function Xk(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zk(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Vv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hv=null;function WI(){var i=window.event;return i&&i.type==="popstate"?i===Hv?!1:(Hv=i,!0):(Hv=null,!1)}var Qk=typeof setTimeout=="function"?setTimeout:void 0,XI=typeof clearTimeout=="function"?clearTimeout:void 0,Jk=typeof Promise=="function"?Promise:void 0,ZI=typeof queueMicrotask=="function"?queueMicrotask:typeof Jk<"u"?function(i){return Jk.resolve(null).then(i).catch(QI)}:Qk;function QI(i){setTimeout(function(){throw i})}function El(i){return i==="head"}function e3(i,o){var u=o,x=0,v=0;do{var S=u.nextSibling;if(i.removeChild(u),S&&S.nodeType===8)if(u=S.data,u==="/$"){if(0<x&&8>x){u=x;var D=i.ownerDocument;if(u&1&&gm(D.documentElement),u&2&&gm(D.body),u&4)for(u=D.head,gm(u),D=u.firstChild;D;){var q=D.nextSibling,re=D.nodeName;D[ms]||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&D.rel.toLowerCase()==="stylesheet"||u.removeChild(D),D=q}}if(v===0){i.removeChild(S),_m(o);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:x=u.charCodeAt(0)-48;else x=0;u=S}while(u);_m(o)}function qv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":qv(u),xr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function JI(i,o,u,x){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!x&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(x){if(!i[ms])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=br(i.nextSibling),i===null)break}return null}function eB(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=br(i.nextSibling),i===null))return null;return i}function Kv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function tB(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var x=function(){o(),u.removeEventListener("DOMContentLoaded",x)};u.addEventListener("DOMContentLoaded",x),i._reactRetry=x}}function br(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Gv=null;function t3(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function a3(i,o,u){switch(o=j0(u),i){case"html":if(i=o.documentElement,!i)throw Error(s(452));return i;case"head":if(i=o.head,!i)throw Error(s(453));return i;case"body":if(i=o.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function gm(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);xr(i)}var Ws=new Map,n3=new Set;function w0(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ei=K.d;K.d={f:aB,r:nB,D:sB,C:rB,L:iB,m:lB,X:cB,S:oB,M:dB};function aB(){var i=Ei.f(),o=h0();return i||o}function nB(i){var o=xe(i);o!==null&&o.tag===5&&o.type==="form"?N5(o):Ei.r(i)}var ld=typeof document>"u"?null:document;function s3(i,o,u){var x=ld;if(x&&typeof o=="string"&&o){var v=Fs(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),n3.has(v)||(n3.add(v),i={rel:i,crossOrigin:u,href:o},x.querySelector(v)===null&&(o=x.createElement("link"),bn(o,"link",i),L(o),x.head.appendChild(o)))}}function sB(i){Ei.D(i),s3("dns-prefetch",i,null)}function rB(i,o){Ei.C(i,o),s3("preconnect",i,o)}function iB(i,o,u){Ei.L(i,o,u);var x=ld;if(x&&i&&o){var v='link[rel="preload"][as="'+Fs(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Fs(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Fs(u.imageSizes)+'"]')):v+='[href="'+Fs(i)+'"]';var S=v;switch(o){case"style":S=od(i);break;case"script":S=cd(i)}Ws.has(S)||(i=f({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Ws.set(S,i),x.querySelector(v)!==null||o==="style"&&x.querySelector(bm(S))||o==="script"&&x.querySelector(vm(S))||(o=x.createElement("link"),bn(o,"link",i),L(o),x.head.appendChild(o)))}}function lB(i,o){Ei.m(i,o);var u=ld;if(u&&i){var x=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Fs(x)+'"][href="'+Fs(i)+'"]',S=v;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=cd(i)}if(!Ws.has(S)&&(i=f({rel:"modulepreload",href:i},o),Ws.set(S,i),u.querySelector(v)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(vm(S)))return}x=u.createElement("link"),bn(x,"link",i),L(x),u.head.appendChild(x)}}}function oB(i,o,u){Ei.S(i,o,u);var x=ld;if(x&&i){var v=Y(x).hoistableStyles,S=od(i);o=o||"default";var D=v.get(S);if(!D){var q={loading:0,preload:null};if(D=x.querySelector(bm(S)))q.loading=5;else{i=f({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Ws.get(S))&&Yv(i,u);var re=D=x.createElement("link");L(re),bn(re,"link",i),re._p=new Promise(function(Ne,Be){re.onload=Ne,re.onerror=Be}),re.addEventListener("load",function(){q.loading|=1}),re.addEventListener("error",function(){q.loading|=2}),q.loading|=4,N0(D,o,x)}D={type:"stylesheet",instance:D,count:1,state:q},v.set(S,D)}}}function cB(i,o){Ei.X(i,o);var u=ld;if(u&&i){var x=Y(u).hoistableScripts,v=cd(i),S=x.get(v);S||(S=u.querySelector(vm(v)),S||(i=f({src:i,async:!0},o),(o=Ws.get(v))&&Wv(i,o),S=u.createElement("script"),L(S),bn(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(v,S))}}function dB(i,o){Ei.M(i,o);var u=ld;if(u&&i){var x=Y(u).hoistableScripts,v=cd(i),S=x.get(v);S||(S=u.querySelector(vm(v)),S||(i=f({src:i,async:!0,type:"module"},o),(o=Ws.get(v))&&Wv(i,o),S=u.createElement("script"),L(S),bn(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(v,S))}}function r3(i,o,u,x){var v=(v=J.current)?w0(v):null;if(!v)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=od(u.href),u=Y(v).hoistableStyles,x=u.get(o),x||(x={type:"style",instance:null,count:0,state:null},u.set(o,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=od(u.href);var S=Y(v).hoistableStyles,D=S.get(i);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,D),(S=v.querySelector(bm(i)))&&!S._p&&(D.instance=S,D.state.loading=5),Ws.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ws.set(i,u),S||uB(v,i,u,D.state))),o&&x===null)throw Error(s(528,""));return D}if(o&&x!==null)throw Error(s(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cd(u),u=Y(v).hoistableScripts,x=u.get(o),x||(x={type:"script",instance:null,count:0,state:null},u.set(o,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function od(i){return'href="'+Fs(i)+'"'}function bm(i){return'link[rel="stylesheet"]['+i+"]"}function i3(i){return f({},i,{"data-precedence":i.precedence,precedence:null})}function uB(i,o,u,x){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?x.loading=1:(o=i.createElement("link"),x.preload=o,o.addEventListener("load",function(){return x.loading|=1}),o.addEventListener("error",function(){return x.loading|=2}),bn(o,"link",u),L(o),i.head.appendChild(o))}function cd(i){return'[src="'+Fs(i)+'"]'}function vm(i){return"script[async]"+i}function l3(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var x=i.querySelector('style[data-href~="'+Fs(u.href)+'"]');if(x)return o.instance=x,L(x),x;var v=f({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return x=(i.ownerDocument||i).createElement("style"),L(x),bn(x,"style",v),N0(x,u.precedence,i),o.instance=x;case"stylesheet":v=od(u.href);var S=i.querySelector(bm(v));if(S)return o.state.loading|=4,o.instance=S,L(S),S;x=i3(u),(v=Ws.get(v))&&Yv(x,v),S=(i.ownerDocument||i).createElement("link"),L(S);var D=S;return D._p=new Promise(function(q,re){D.onload=q,D.onerror=re}),bn(S,"link",x),o.state.loading|=4,N0(S,u.precedence,i),o.instance=S;case"script":return S=cd(u.src),(v=i.querySelector(vm(S)))?(o.instance=v,L(v),v):(x=u,(v=Ws.get(S))&&(x=f({},u),Wv(x,v)),i=i.ownerDocument||i,v=i.createElement("script"),L(v),bn(v,"link",x),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(x=o.instance,o.state.loading|=4,N0(x,u.precedence,i));return o.instance}function N0(i,o,u){for(var x=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=x.length?x[x.length-1]:null,S=v,D=0;D<x.length;D++){var q=x[D];if(q.dataset.precedence===o)S=q;else if(S!==v)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Yv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Wv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var S0=null;function o3(i,o,u){if(S0===null){var x=new Map,v=S0=new Map;v.set(u,x)}else v=S0,x=v.get(u),x||(x=new Map,v.set(u,x));if(x.has(i))return x;for(x.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var S=u[v];if(!(S[ms]||S[Et]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var D=S.getAttribute(o)||"";D=i+D;var q=x.get(D);q?q.push(S):x.set(D,[S])}}return x}function c3(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function mB(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function d3(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ym=null;function hB(){}function fB(i,o,u){if(ym===null)throw Error(s(475));var x=ym;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=od(u.href),S=i.querySelector(bm(v));if(S){i=S._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(x.count++,x=_0.bind(x),i.then(x,x)),o.state.loading|=4,o.instance=S,L(S);return}S=i.ownerDocument||i,u=i3(u),(v=Ws.get(v))&&Yv(u,v),S=S.createElement("link"),L(S);var D=S;D._p=new Promise(function(q,re){D.onload=q,D.onerror=re}),bn(S,"link",u),o.instance=S}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(x.count++,o=_0.bind(x),i.addEventListener("load",o),i.addEventListener("error",o))}}function xB(){if(ym===null)throw Error(s(475));var i=ym;return i.stylesheets&&i.count===0&&Xv(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&Xv(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function _0(){if(this.count--,this.count===0){if(this.stylesheets)Xv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var k0=null;function Xv(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,k0=new Map,o.forEach(pB,i),k0=null,_0.call(i))}function pB(i,o){if(!(o.state.loading&4)){var u=k0.get(i);if(u)var x=u.get(null);else{u=new Map,k0.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var D=v[S];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(u.set(D.dataset.precedence,D),x=D)}x&&u.set(null,x)}v=o.instance,D=v.getAttribute("data-precedence"),S=u.get(D)||x,S===x&&u.set(null,v),u.set(D,v),this.count++,x=_0.bind(this),v.addEventListener("load",x),v.addEventListener("error",x),S?S.parentNode.insertBefore(v,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var jm={$$typeof:C,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function gB(i,o,u,x,v,S,D,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=le(0),this.hiddenUpdates=le(null),this.identifierPrefix=x,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function u3(i,o,u,x,v,S,D,q,re,Ne,Be,He){return i=new gB(i,o,u,D,q,re,Ne,He),o=1,S===!0&&(o|=24),S=fs(3,null,null,o),i.current=S,S.stateNode=i,o=Pb(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:x,isDehydrated:u,cache:o},Rb(S),i}function m3(i){return i?(i=zc,i):zc}function h3(i,o,u,x,v,S){v=m3(v),x.context===null?x.context=v:x.pendingContext=v,x=gl(o),x.payload={element:u},S=S===void 0?null:S,S!==null&&(x.callback=S),u=bl(i,x,o),u!==null&&(vs(u,i,o),Zu(u,i,o))}function f3(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Zv(i,o){f3(i,o),(i=i.alternate)&&f3(i,o)}function x3(i){if(i.tag===13){var o=Bc(i,67108864);o!==null&&vs(o,i,67108864),Zv(i,67108864)}}var C0=!0;function bB(i,o,u,x){var v=T.T;T.T=null;var S=K.p;try{K.p=2,Qv(i,o,u,x)}finally{K.p=S,T.T=v}}function vB(i,o,u,x){var v=T.T;T.T=null;var S=K.p;try{K.p=8,Qv(i,o,u,x)}finally{K.p=S,T.T=v}}function Qv(i,o,u,x){if(C0){var v=Jv(x);if(v===null)Bv(i,o,x,A0,u),g3(i,x);else if(jB(v,i,o,u,x))x.stopPropagation();else if(g3(i,x),o&4&&-1<yB.indexOf(i)){for(;v!==null;){var S=xe(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var D=ze(S.pendingLanes);if(D!==0){var q=S;for(q.pendingLanes|=2,q.entangledLanes|=2;D;){var re=1<<31-Ue(D);q.entanglements[1]|=re,D&=~re}Wr(S),(Ht&6)===0&&(u0=Ae()+500,fm(0))}}break;case 13:q=Bc(S,2),q!==null&&vs(q,S,2),h0(),Zv(S,2)}if(S=Jv(x),S===null&&Bv(i,o,x,A0,u),S===v)break;v=S}v!==null&&x.stopPropagation()}else Bv(i,o,x,null,u)}}function Jv(i){return i=sb(i),ey(i)}var A0=null;function ey(i){if(A0=null,i=ee(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return A0=i,null}function p3(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(U()){case de:return 2;case ke:return 8;case Le:case Ve:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var ty=!1,Pl=null,Ol=null,Ml=null,wm=new Map,Nm=new Map,Dl=[],yB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g3(i,o){switch(i){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Ml=null;break;case"pointerover":case"pointerout":wm.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nm.delete(o.pointerId)}}function Sm(i,o,u,x,v,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:u,eventSystemFlags:x,nativeEvent:S,targetContainers:[v]},o!==null&&(o=xe(o),o!==null&&x3(o)),i):(i.eventSystemFlags|=x,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function jB(i,o,u,x,v){switch(o){case"focusin":return Pl=Sm(Pl,i,o,u,x,v),!0;case"dragenter":return Ol=Sm(Ol,i,o,u,x,v),!0;case"mouseover":return Ml=Sm(Ml,i,o,u,x,v),!0;case"pointerover":var S=v.pointerId;return wm.set(S,Sm(wm.get(S)||null,i,o,u,x,v)),!0;case"gotpointercapture":return S=v.pointerId,Nm.set(S,Sm(Nm.get(S)||null,i,o,u,x,v)),!0}return!1}function b3(i){var o=ee(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,Ka(i.priority,function(){if(u.tag===13){var x=bs();x=ut(x);var v=Bc(u,x);v!==null&&vs(v,u,x),Zv(u,x)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function T0(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Jv(i.nativeEvent);if(u===null){u=i.nativeEvent;var x=new u.constructor(u.type,u);nb=x,u.target.dispatchEvent(x),nb=null}else return o=xe(u),o!==null&&x3(o),i.blockedOn=u,!1;o.shift()}return!0}function v3(i,o,u){T0(i)&&u.delete(o)}function wB(){ty=!1,Pl!==null&&T0(Pl)&&(Pl=null),Ol!==null&&T0(Ol)&&(Ol=null),Ml!==null&&T0(Ml)&&(Ml=null),wm.forEach(v3),Nm.forEach(v3)}function E0(i,o){i.blockedOn===o&&(i.blockedOn=null,ty||(ty=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wB)))}var P0=null;function y3(i){P0!==i&&(P0=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){P0===i&&(P0=null);for(var o=0;o<i.length;o+=3){var u=i[o],x=i[o+1],v=i[o+2];if(typeof x!="function"){if(ey(x||u)===null)continue;break}var S=xe(u);S!==null&&(i.splice(o,3),o-=3,ev(S,{pending:!0,data:v,method:u.method,action:x},x,v))}}))}function _m(i){function o(re){return E0(re,i)}Pl!==null&&E0(Pl,i),Ol!==null&&E0(Ol,i),Ml!==null&&E0(Ml,i),wm.forEach(o),Nm.forEach(o);for(var u=0;u<Dl.length;u++){var x=Dl[u];x.blockedOn===i&&(x.blockedOn=null)}for(;0<Dl.length&&(u=Dl[0],u.blockedOn===null);)b3(u),u.blockedOn===null&&Dl.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(x=0;x<u.length;x+=3){var v=u[x],S=u[x+1],D=v[Pt]||null;if(typeof S=="function")D||y3(u);else if(D){var q=null;if(S&&S.hasAttribute("formAction")){if(v=S,D=S[Pt]||null)q=D.formAction;else if(ey(v)!==null)continue}else q=D.action;typeof q=="function"?u[x+1]=q:(u.splice(x,3),x-=3),y3(u)}}}function ay(i){this._internalRoot=i}O0.prototype.render=ay.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(s(409));var u=o.current,x=bs();h3(u,x,i,o,null,null)},O0.prototype.unmount=ay.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;h3(i.current,2,null,i,null,null),h0(),o[Oa]=null}};function O0(i){this._internalRoot=i}O0.prototype.unstable_scheduleHydration=function(i){if(i){var o=bt();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Dl.length&&o!==0&&o<Dl[u].priority;u++);Dl.splice(u,0,i),u===0&&b3(i)}};var j3=a.version;if(j3!=="19.1.0")throw Error(s(527,j3,"19.1.0"));K.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var NB={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M0.isDisabled&&M0.supportsFiber)try{Z=M0.inject(NB),ve=M0}catch{}}return Cm.createRoot=function(i,o){if(!r(i))throw Error(s(299));var u=!1,x="",v=L5,S=I5,D=B5,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(q=o.unstable_transitionCallbacks)),o=u3(i,1,!1,null,null,u,x,v,S,D,q,null),i[Oa]=o.current,Iv(i),new ay(o)},Cm.hydrateRoot=function(i,o,u){if(!r(i))throw Error(s(299));var x=!1,v="",S=L5,D=I5,q=B5,re=null,Ne=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(re=u.unstable_transitionCallbacks),u.formState!==void 0&&(Ne=u.formState)),o=u3(i,1,!0,o,u??null,x,v,S,D,q,re,Ne),o.context=m3(null),u=o.current,x=bs(),x=ut(x),v=gl(x),v.callback=null,bl(u,v,x),u=x,o.current.lanes=u,he(o,u),Wr(o),i[Oa]=o.current,Iv(i),new O0(o)},Cm.version="19.1.0",Cm}var P3;function $B(){if(P3)return iy.exports;P3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),iy.exports=RB(),iy.exports}var LB=$B();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O3="popstate";function IB(e={}){function a(s,r){let{pathname:l,search:c,hash:d}=s.location;return rw("",{pathname:l,search:c,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:kh(r)}return zB(a,n,null,e)}function xa(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Ir(e,a){if(!e){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function BB(){return Math.random().toString(36).substring(2,10)}function M3(e,a){return{usr:e.state,key:e.key,idx:a}}function rw(e,a,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof a=="string"?hu(a):a,state:n,key:a&&a.key||s||BB()}}function kh({pathname:e="/",search:a="",hash:n=""}){return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function hu(e){let a={};if(e){let n=e.indexOf("#");n>=0&&(a.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(a.search=e.substring(s),e=e.substring(0,s)),e&&(a.pathname=e)}return a}function zB(e,a,n,s={}){let{window:r=document.defaultView,v5Compat:l=!1}=s,c=r.history,d="POP",m=null,h=f();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function f(){return(c.state||{idx:null}).idx}function g(){d="POP";let N=f(),k=N==null?null:N-h;h=N,m&&m({action:d,location:w.location,delta:k})}function b(N,k){d="PUSH";let _=rw(w.location,N,k);h=f()+1;let C=M3(_,h),O=w.createHref(_);try{c.pushState(C,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(O)}l&&m&&m({action:d,location:w.location,delta:1})}function y(N,k){d="REPLACE";let _=rw(w.location,N,k);h=f();let C=M3(_,h),O=w.createHref(_);c.replaceState(C,"",O),l&&m&&m({action:d,location:w.location,delta:0})}function j(N){return UB(N)}let w={get action(){return d},get location(){return e(r,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(O3,g),m=N,()=>{r.removeEventListener(O3,g),m=null}},createHref(N){return a(r,N)},createURL:j,encodeLocation(N){let k=j(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:y,go(N){return c.go(N)}};return w}function UB(e,a=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xa(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:kh(e);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function KO(e,a,n="/"){return FB(e,a,n,!1)}function FB(e,a,n,s){let r=typeof a=="string"?hu(a):a,l=Yi(r.pathname||"/",n);if(l==null)return null;let c=GO(e);VB(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let h=ez(l);d=QB(c[m],h,s)}return d}function GO(e,a=[],n=[],s=""){let r=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(xa(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let h=qi([s,m.relativePath]),f=n.concat(m);l.children&&l.children.length>0&&(xa(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),GO(l.children,a,f,h)),!(l.path==null&&!l.index)&&a.push({path:h,score:XB(h,l.index),routesMeta:f})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))r(l,c);else for(let m of YO(l.path))r(l,c,m)}),a}function YO(e){let a=e.split("/");if(a.length===0)return[];let[n,...s]=a,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let c=YO(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),r&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function VB(e){e.sort((a,n)=>a.score!==n.score?n.score-a.score:ZB(a.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var HB=/^:[\w-]+$/,qB=3,KB=2,GB=1,YB=10,WB=-2,D3=e=>e==="*";function XB(e,a){let n=e.split("/"),s=n.length;return n.some(D3)&&(s+=WB),a&&(s+=KB),n.filter(r=>!D3(r)).reduce((r,l)=>r+(HB.test(l)?qB:l===""?GB:YB),s)}function ZB(e,a){return e.length===a.length&&e.slice(0,-1).every((s,r)=>s===a[r])?e[e.length-1]-a[a.length-1]:0}function QB(e,a,n=!1){let{routesMeta:s}=e,r={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],h=d===s.length-1,f=l==="/"?a:a.slice(l.length)||"/",g=np({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},f),b=m.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=np({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},f)),!g)return null;Object.assign(r,g.params),c.push({params:r,pathname:qi([l,g.pathname]),pathnameBase:sz(qi([l,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(l=qi([l,g.pathnameBase]))}return c}function np(e,a){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=JB(e.path,e.caseSensitive,e.end),r=a.match(n);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:s.reduce((h,{paramName:f,isOptional:g},b)=>{if(f==="*"){let j=d[b]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const y=d[b];return g&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:e}}function JB(e,a=!1,n=!0){Ir(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,a?void 0:"i"),s]}function ez(e){try{return e.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ir(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),e}}function Yi(e,a){if(a==="/")return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let n=a.endsWith("/")?a.length-1:a.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function tz(e,a="/"){let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?hu(e):e;return{pathname:n?n.startsWith("/")?n:az(n,a):a,search:rz(s),hash:iz(r)}}function az(e,a){let n=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function dy(e,a,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nz(e){return e.filter((a,n)=>n===0||a.route.path&&a.route.path.length>0)}function U2(e){let a=nz(e);return a.map((n,s)=>s===a.length-1?n.pathname:n.pathnameBase)}function F2(e,a,n,s=!1){let r;typeof e=="string"?r=hu(e):(r={...e},xa(!r.pathname||!r.pathname.includes("?"),dy("?","pathname","search",r)),xa(!r.pathname||!r.pathname.includes("#"),dy("#","pathname","hash",r)),xa(!r.search||!r.search.includes("#"),dy("#","search","hash",r)));let l=e===""||r.pathname==="",c=l?"/":r.pathname,d;if(c==null)d=n;else{let g=a.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;r.pathname=b.join("/")}d=g>=0?a[g]:"/"}let m=tz(r,d),h=c&&c!=="/"&&c.endsWith("/"),f=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(h||f)&&(m.pathname+="/"),m}var qi=e=>e.join("/").replace(/\/\/+/g,"/"),sz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var WO=["POST","PUT","PATCH","DELETE"];new Set(WO);var oz=["GET",...WO];new Set(oz);var fu=p.createContext(null);fu.displayName="DataRouter";var eg=p.createContext(null);eg.displayName="DataRouterState";p.createContext(!1);var XO=p.createContext({isTransitioning:!1});XO.displayName="ViewTransition";var cz=p.createContext(new Map);cz.displayName="Fetchers";var dz=p.createContext(null);dz.displayName="Await";var Fr=p.createContext(null);Fr.displayName="Navigation";var Zh=p.createContext(null);Zh.displayName="Location";var hr=p.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var V2=p.createContext(null);V2.displayName="RouteError";function uz(e,{relative:a}={}){xa(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=p.useContext(Fr),{hash:r,pathname:l,search:c}=Jh(e,{relative:a}),d=l;return n!=="/"&&(d=l==="/"?n:qi([n,l])),s.createHref({pathname:d,search:c,hash:r})}function xu(){return p.useContext(Zh)!=null}function fi(){return xa(xu(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(Zh).location}var ZO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QO(e){p.useContext(Fr).static||p.useLayoutEffect(e)}function da(){let{isDataRoute:e}=p.useContext(hr);return e?kz():mz()}function mz(){xa(xu(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(fu),{basename:a,navigator:n}=p.useContext(Fr),{matches:s}=p.useContext(hr),{pathname:r}=fi(),l=JSON.stringify(U2(s)),c=p.useRef(!1);return QO(()=>{c.current=!0}),p.useCallback((m,h={})=>{if(Ir(c.current,ZO),!c.current)return;if(typeof m=="number"){n.go(m);return}let f=F2(m,JSON.parse(l),r,h.relative==="path");e==null&&a!=="/"&&(f.pathname=f.pathname==="/"?a:qi([a,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[a,n,l,r,e])}var hz=p.createContext(null);function fz(e){let a=p.useContext(hr).outlet;return a&&p.createElement(hz.Provider,{value:e},a)}function Qh(){let{matches:e}=p.useContext(hr),a=e[e.length-1];return a?a.params:{}}function Jh(e,{relative:a}={}){let{matches:n}=p.useContext(hr),{pathname:s}=fi(),r=JSON.stringify(U2(n));return p.useMemo(()=>F2(e,JSON.parse(r),s,a==="path"),[e,r,s,a])}function xz(e,a){return JO(e,a)}function JO(e,a,n,s){var k;xa(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=p.useContext(Fr),{matches:l}=p.useContext(hr),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let _=f&&f.path||"";eM(m,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=fi(),b;if(a){let _=typeof a=="string"?hu(a):a;xa(h==="/"||((k=_.pathname)==null?void 0:k.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=g;let y=b.pathname||"/",j=y;if(h!=="/"){let _=h.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=KO(e,{pathname:j});Ir(f||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ir(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=yz(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:qi([h,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:qi([h,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,n,s);return a&&N?p.createElement(Zh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function pz(){let e=_z(),a=lz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:l},"ErrorBoundary")," or"," ",p.createElement("code",{style:l},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},a),n?p.createElement("pre",{style:r},n):null,c)}var gz=p.createElement(pz,null),bz=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){console.error("React Router caught the following error during render",e,a)}render(){return this.state.error!==void 0?p.createElement(hr.Provider,{value:this.props.routeContext},p.createElement(V2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vz({routeContext:e,match:a,children:n}){let s=p.useContext(fu);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),p.createElement(hr.Provider,{value:e},n)}function yz(e,a=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(a.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,l=n==null?void 0:n.errors;if(l!=null){let m=r.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);xa(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<r.length;m++){let h=r[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:f,errors:g}=n,b=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){c=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((m,h,f)=>{let g,b=!1,y=null,j=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||gz,c&&(d<0&&f===0?(eM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):d===f&&(b=!0,j=h.route.hydrateFallbackElement||null)));let w=a.concat(r.slice(0,f+1)),N=()=>{let k;return g?k=y:b?k=j:h.route.Component?k=p.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=m,p.createElement(vz,{match:h,routeContext:{outlet:m,matches:w,isDataRoute:n!=null},children:k})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(bz,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:N(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):N()},null)}function H2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jz(e){let a=p.useContext(fu);return xa(a,H2(e)),a}function wz(e){let a=p.useContext(eg);return xa(a,H2(e)),a}function Nz(e){let a=p.useContext(hr);return xa(a,H2(e)),a}function q2(e){let a=Nz(e),n=a.matches[a.matches.length-1];return xa(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Sz(){return q2("useRouteId")}function _z(){var s;let e=p.useContext(V2),a=wz("useRouteError"),n=q2("useRouteError");return e!==void 0?e:(s=a.errors)==null?void 0:s[n]}function kz(){let{router:e}=jz("useNavigate"),a=q2("useNavigate"),n=p.useRef(!1);return QO(()=>{n.current=!0}),p.useCallback(async(r,l={})=>{Ir(n.current,ZO),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:a,...l}))},[e,a])}var R3={};function eM(e,a,n){!a&&!R3[e]&&(R3[e]=!0,Ir(!1,n))}p.memo(Cz);function Cz({routes:e,future:a,state:n}){return JO(e,void 0,n,a)}function Az({to:e,replace:a,state:n,relative:s}){xa(xu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=p.useContext(Fr);Ir(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=p.useContext(hr),{pathname:c}=fi(),d=da(),m=F2(e,U2(l),c,s==="path"),h=JSON.stringify(m);return p.useEffect(()=>{d(JSON.parse(h),{replace:a,state:n,relative:s})},[d,h,s,a,n]),null}function tM(e){return fz(e.context)}function xt(e){xa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tz({basename:e="/",children:a=null,location:n,navigationType:s="POP",navigator:r,static:l=!1}){xa(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof n=="string"&&(n=hu(n));let{pathname:m="/",search:h="",hash:f="",state:g=null,key:b="default"}=n,y=p.useMemo(()=>{let j=Yi(m,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:g,key:b},navigationType:s}},[c,m,h,f,g,b,s]);return Ir(y!=null,`<Router basename="${c}"> is not able to match the URL "${m}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:p.createElement(Fr.Provider,{value:d},p.createElement(Zh.Provider,{children:a,value:y}))}function Ez({children:e,location:a}){return xz(iw(e),a)}function iw(e,a=[]){let n=[];return p.Children.forEach(e,(s,r)=>{if(!p.isValidElement(s))return;let l=[...a,r];if(s.type===p.Fragment){n.push.apply(n,iw(s.props.children,l));return}xa(s.type===xt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xa(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=iw(s.props.children,l)),n.push(c)}),n}var Vx="get",Hx="application/x-www-form-urlencoded";function tg(e){return e!=null&&typeof e.tagName=="string"}function Pz(e){return tg(e)&&e.tagName.toLowerCase()==="button"}function Oz(e){return tg(e)&&e.tagName.toLowerCase()==="form"}function Mz(e){return tg(e)&&e.tagName.toLowerCase()==="input"}function Dz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rz(e,a){return e.button===0&&(!a||a==="_self")&&!Dz(e)}var D0=null;function $z(){if(D0===null)try{new FormData(document.createElement("form"),0),D0=!1}catch{D0=!0}return D0}var Lz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uy(e){return e!=null&&!Lz.has(e)?(Ir(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hx}"`),null):e}function Iz(e,a){let n,s,r,l,c;if(Oz(e)){let d=e.getAttribute("action");s=d?Yi(d,a):null,n=e.getAttribute("method")||Vx,r=uy(e.getAttribute("enctype"))||Hx,l=new FormData(e)}else if(Pz(e)||Mz(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?Yi(m,a):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Vx,r=uy(e.getAttribute("formenctype"))||uy(d.getAttribute("enctype"))||Hx,l=new FormData(d,e),!$z()){let{name:h,type:f,value:g}=e;if(f==="image"){let b=h?`${h}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else h&&l.append(h,g)}}else{if(tg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vx,s=null,r=Hx,c=e}return l&&r==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function K2(e,a){if(e===!1||e===null||typeof e>"u")throw new Error(a)}function Bz(e,a,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:a&&Yi(s.pathname,a)==="/"?s.pathname=`${a.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function zz(e,a){if(e.id in a)return a[e.id];try{let n=await import(e.module);return a[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Uz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Fz(e,a,n){let s=await Promise.all(e.map(async r=>{let l=a.routes[r.route.id];if(l){let c=await zz(l,n);return c.links?c.links():[]}return[]}));return Kz(s.flat(1).filter(Uz).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function $3(e,a,n,s,r,l){let c=(m,h)=>n[h]?m.route.id!==n[h].route.id:!0,d=(m,h)=>{var f;return n[h].pathname!==m.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==m.params["*"]};return l==="assets"?a.filter((m,h)=>c(m,h)||d(m,h)):l==="data"?a.filter((m,h)=>{var g;let f=s.routes[m.route.id];if(!f||!f.hasLoader)return!1;if(c(m,h)||d(m,h))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Vz(e,a,{includeHydrateFallback:n}={}){return Hz(e.map(s=>{let r=a.routes[s.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function Hz(e){return[...new Set(e)]}function qz(e){let a={},n=Object.keys(e).sort();for(let s of n)a[s]=e[s];return a}function Kz(e,a){let n=new Set;return new Set(a),e.reduce((s,r)=>{let l=JSON.stringify(qz(r));return n.has(l)||(n.add(l),s.push({key:l,link:r})),s},[])}function aM(){let e=p.useContext(fu);return K2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Gz(){let e=p.useContext(eg);return K2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var G2=p.createContext(void 0);G2.displayName="FrameworkContext";function nM(){let e=p.useContext(G2);return K2(e,"You must render this element inside a <HydratedRouter> element"),e}function Yz(e,a){let n=p.useContext(G2),[s,r]=p.useState(!1),[l,c]=p.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:h,onMouseLeave:f,onTouchStart:g}=a,b=p.useRef(null);p.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=k=>{k.forEach(_=>{c(_.isIntersecting)})},N=new IntersectionObserver(w,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),p.useEffect(()=>{if(s){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[s]);let y=()=>{r(!0)},j=()=>{r(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Am(d,y),onBlur:Am(m,j),onMouseEnter:Am(h,y),onMouseLeave:Am(f,j),onTouchStart:Am(g,y)}]:[!1,b,{}]}function Am(e,a){return n=>{e&&e(n),n.defaultPrevented||a(n)}}function Wz({page:e,...a}){let{router:n}=aM(),s=p.useMemo(()=>KO(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?p.createElement(Zz,{page:e,matches:s,...a}):null}function Xz(e){let{manifest:a,routeModules:n}=nM(),[s,r]=p.useState([]);return p.useEffect(()=>{let l=!1;return Fz(e,a,n).then(c=>{l||r(c)}),()=>{l=!0}},[e,a,n]),s}function Zz({page:e,matches:a,...n}){let s=fi(),{manifest:r,routeModules:l}=nM(),{basename:c}=aM(),{loaderData:d,matches:m}=Gz(),h=p.useMemo(()=>$3(e,a,m,r,s,"data"),[e,a,m,r,s]),f=p.useMemo(()=>$3(e,a,m,r,s,"assets"),[e,a,m,r,s]),g=p.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let j=new Set,w=!1;if(a.forEach(k=>{var C;let _=r.routes[k.route.id];!_||!_.hasLoader||(!h.some(O=>O.route.id===k.route.id)&&k.route.id in d&&((C=l[k.route.id])!=null&&C.shouldRevalidate)||_.hasClientLoader?w=!0:j.add(k.route.id))}),j.size===0)return[];let N=Bz(e,c,"data");return w&&j.size>0&&N.searchParams.set("_routes",a.filter(k=>j.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[c,d,s,r,h,a,e,l]),b=p.useMemo(()=>Vz(f,r),[f,r]),y=Xz(f);return p.createElement(p.Fragment,null,g.map(j=>p.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),b.map(j=>p.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),y.map(({key:j,link:w})=>p.createElement("link",{key:j,...w})))}function Qz(...e){return a=>{e.forEach(n=>{typeof n=="function"?n(a):n!=null&&(n.current=a)})}}var sM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sM&&(window.__reactRouterVersion="7.7.1")}catch{}function Jz({basename:e,children:a,window:n}){let s=p.useRef();s.current==null&&(s.current=IB({window:n,v5Compat:!0}));let r=s.current,[l,c]=p.useState({action:r.action,location:r.location}),d=p.useCallback(m=>{p.startTransition(()=>c(m))},[c]);return p.useLayoutEffect(()=>r.listen(d),[r,d]),p.createElement(Tz,{basename:e,children:a,location:l.location,navigationType:l.action,navigator:r})}var rM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iM=p.forwardRef(function({onClick:a,discover:n="render",prefetch:s="none",relative:r,reloadDocument:l,replace:c,state:d,target:m,to:h,preventScrollReset:f,viewTransition:g,...b},y){let{basename:j}=p.useContext(Fr),w=typeof h=="string"&&rM.test(h),N,k=!1;if(typeof h=="string"&&w&&(N=h,sM))try{let V=new URL(window.location.href),G=h.startsWith("//")?new URL(V.protocol+h):new URL(h),H=Yi(G.pathname,j);G.origin===V.origin&&H!=null?h=H+G.search+G.hash:k=!0}catch{Ir(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=uz(h,{relative:r}),[C,O,P]=Yz(s,b),E=nU(h,{replace:c,state:d,target:m,preventScrollReset:f,relative:r,viewTransition:g});function B(V){a&&a(V),V.defaultPrevented||E(V)}let M=p.createElement("a",{...b,...P,href:N||_,onClick:k||l?a:B,ref:Qz(y,O),target:m,"data-discover":!w&&n==="render"?"true":void 0});return C&&!w?p.createElement(p.Fragment,null,M,p.createElement(Wz,{page:_})):M});iM.displayName="Link";var eU=p.forwardRef(function({"aria-current":a="page",caseSensitive:n=!1,className:s="",end:r=!1,style:l,to:c,viewTransition:d,children:m,...h},f){let g=Jh(c,{relative:h.relative}),b=fi(),y=p.useContext(eg),{navigator:j,basename:w}=p.useContext(Fr),N=y!=null&&oU(g)&&d===!0,k=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,_=b.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&w&&(C=Yi(C,w)||C);const O=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let P=_===k||!r&&_.startsWith(k)&&_.charAt(O)==="/",E=C!=null&&(C===k||!r&&C.startsWith(k)&&C.charAt(k.length)==="/"),B={isActive:P,isPending:E,isTransitioning:N},M=P?a:void 0,V;typeof s=="function"?V=s(B):V=[s,P?"active":null,E?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let G=typeof l=="function"?l(B):l;return p.createElement(iM,{...h,"aria-current":M,className:V,ref:f,style:G,to:c,viewTransition:d},typeof m=="function"?m(B):m)});eU.displayName="NavLink";var tU=p.forwardRef(({discover:e="render",fetcherKey:a,navigate:n,reloadDocument:s,replace:r,state:l,method:c=Vx,action:d,onSubmit:m,relative:h,preventScrollReset:f,viewTransition:g,...b},y)=>{let j=iU(),w=lU(d,{relative:h}),N=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&rM.test(d),_=C=>{if(m&&m(C),C.defaultPrevented)return;C.preventDefault();let O=C.nativeEvent.submitter,P=(O==null?void 0:O.getAttribute("formmethod"))||c;j(O||C.currentTarget,{fetcherKey:a,method:P,navigate:n,replace:r,state:l,relative:h,preventScrollReset:f,viewTransition:g})};return p.createElement("form",{ref:y,method:N,action:w,onSubmit:s?m:_,...b,"data-discover":!k&&e==="render"?"true":void 0})});tU.displayName="Form";function aU(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lM(e){let a=p.useContext(fu);return xa(a,aU(e)),a}function nU(e,{target:a,replace:n,state:s,preventScrollReset:r,relative:l,viewTransition:c}={}){let d=da(),m=fi(),h=Jh(e,{relative:l});return p.useCallback(f=>{if(Rz(f,a)){f.preventDefault();let g=n!==void 0?n:kh(m)===kh(h);d(e,{replace:g,state:s,preventScrollReset:r,relative:l,viewTransition:c})}},[m,d,h,n,s,a,e,r,l,c])}var sU=0,rU=()=>`__${String(++sU)}__`;function iU(){let{router:e}=lM("useSubmit"),{basename:a}=p.useContext(Fr),n=Sz();return p.useCallback(async(s,r={})=>{let{action:l,method:c,encType:d,formData:m,body:h}=Iz(s,a);if(r.navigate===!1){let f=r.fetcherKey||rU();await e.fetch(f,n,r.action||l,{preventScrollReset:r.preventScrollReset,formData:m,body:h,formMethod:r.method||c,formEncType:r.encType||d,flushSync:r.flushSync})}else await e.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:m,body:h,formMethod:r.method||c,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,a,n])}function lU(e,{relative:a}={}){let{basename:n}=p.useContext(Fr),s=p.useContext(hr);xa(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l={...Jh(e||".",{relative:a})},c=fi();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(f=>f==="")){d.delete("index"),m.filter(g=>g).forEach(g=>d.append("index",g));let f=d.toString();l.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qi([n,l.pathname])),kh(l)}function oU(e,{relative:a}={}){let n=p.useContext(XO);xa(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=lM("useViewTransitionState"),r=Jh(e,{relative:a});if(!n.isTransitioning)return!1;let l=Yi(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Yi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return np(r.pathname,c)!=null||np(r.pathname,l)!=null}var oM=qO();function cM(e){var a,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(a=0;a<r;a++)e[a]&&(n=cM(e[a]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function St(){for(var e,a,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(a=cM(e))&&(s&&(s+=" "),s+=a);return s}function cU(e){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}cU(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ef=e=>typeof e=="number"&&!isNaN(e),gc=e=>typeof e=="string",Wi=e=>typeof e=="function",dU=e=>gc(e)||ef(e),lw=e=>gc(e)||Wi(e)?e:null,uU=(e,a)=>e===!1||ef(e)&&e>0?e:a,ow=e=>p.isValidElement(e)||gc(e)||Wi(e)||ef(e);function mU(e,a,n=300){let{scrollHeight:s,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=s+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(a,n)})})}function hU({enter:e,exit:a,appendPosition:n=!1,collapse:s=!0,collapseDuration:r=300}){return function({children:l,position:c,preventExitTransition:d,done:m,nodeRef:h,isIn:f,playToast:g}){let b=n?`${e}--${c}`:e,y=n?`${a}--${c}`:a,j=p.useRef(0);return p.useLayoutEffect(()=>{let w=h.current,N=b.split(" "),k=_=>{_.target===h.current&&(g(),w.removeEventListener("animationend",k),w.removeEventListener("animationcancel",k),j.current===0&&_.type!=="animationcancel"&&w.classList.remove(...N))};w.classList.add(...N),w.addEventListener("animationend",k),w.addEventListener("animationcancel",k)},[]),p.useEffect(()=>{let w=h.current,N=()=>{w.removeEventListener("animationend",N),s?mU(w,m,r):m()};f||(d?N():(j.current=1,w.className+=` ${y}`,w.addEventListener("animationend",N)))},[f]),It.createElement(It.Fragment,null,l)}}function L3(e,a){return{content:dM(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:a}}function dM(e,a,n=!1){return p.isValidElement(e)&&!gc(e.type)?p.cloneElement(e,{closeToast:a.closeToast,toastProps:a,data:a.data,isPaused:n}):Wi(e)?e({closeToast:a.closeToast,toastProps:a,data:a.data,isPaused:n}):e}function fU({closeToast:e,theme:a,ariaLabel:n="close"}){return It.createElement("button",{className:`Toastify__close-button Toastify__close-button--${a}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":n},It.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},It.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function xU({delay:e,isRunning:a,closeToast:n,type:s="default",hide:r,className:l,controlledProgress:c,progress:d,rtl:m,isIn:h,theme:f}){let g=r||c&&d===0,b={animationDuration:`${e}ms`,animationPlayState:a?"running":"paused"};c&&(b.transform=`scaleX(${d})`);let y=St("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":m}),j=Wi(l)?l({rtl:m,type:s,defaultClassName:y}):St(y,l),w={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{h&&n()}};return It.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},It.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${s}`}),It.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:j,style:b,...w}))}var pU=1,uM=()=>`${pU++}`;function gU(e,a,n){let s=1,r=0,l=[],c=[],d=a,m=new Map,h=new Set,f=_=>(h.add(_),()=>h.delete(_)),g=()=>{c=Array.from(m.values()),h.forEach(_=>_())},b=({containerId:_,toastId:C,updateId:O})=>{let P=_?_!==e:e!==1,E=m.has(C)&&O==null;return P||E},y=(_,C)=>{m.forEach(O=>{var P;(C==null||C===O.props.toastId)&&((P=O.toggle)==null||P.call(O,_))})},j=_=>{var C,O;(O=(C=_.props)==null?void 0:C.onClose)==null||O.call(C,_.removalReason),_.isActive=!1},w=_=>{if(_==null)m.forEach(j);else{let C=m.get(_);C&&j(C)}g()},N=()=>{r-=l.length,l=[]},k=_=>{var C,O;let{toastId:P,updateId:E}=_.props,B=E==null;_.staleId&&m.delete(_.staleId),_.isActive=!0,m.set(P,_),g(),n(L3(_,B?"added":"updated")),B&&((O=(C=_.props).onOpen)==null||O.call(C))};return{id:e,props:d,observe:f,toggle:y,removeToast:w,toasts:m,clearQueue:N,buildToast:(_,C)=>{if(b(C))return;let{toastId:O,updateId:P,data:E,staleId:B,delay:M}=C,V=P==null;V&&r++;let G={...d,style:d.toastStyle,key:s++,...Object.fromEntries(Object.entries(C).filter(([F,ie])=>ie!=null)),toastId:O,updateId:P,data:E,isIn:!1,className:lw(C.className||d.toastClassName),progressClassName:lw(C.progressClassName||d.progressClassName),autoClose:C.isLoading?!1:uU(C.autoClose,d.autoClose),closeToast(F){m.get(O).removalReason=F,w(O)},deleteToast(){let F=m.get(O);if(F!=null){if(n(L3(F,"removed")),m.delete(O),r--,r<0&&(r=0),l.length>0){k(l.shift());return}g()}}};G.closeButton=d.closeButton,C.closeButton===!1||ow(C.closeButton)?G.closeButton=C.closeButton:C.closeButton===!0&&(G.closeButton=ow(d.closeButton)?d.closeButton:!0);let H={content:_,props:G,staleId:B};d.limit&&d.limit>0&&r>d.limit&&V?l.push(H):ef(M)?setTimeout(()=>{k(H)},M):k(H)},setProps(_){d=_},setToggle:(_,C)=>{let O=m.get(_);O&&(O.toggle=C)},isToastActive:_=>{var C;return(C=m.get(_))==null?void 0:C.isActive},getSnapshot:()=>c}}var Yn=new Map,Ch=[],cw=new Set,bU=e=>cw.forEach(a=>a(e)),mM=()=>Yn.size>0;function vU(){Ch.forEach(e=>fM(e.content,e.options)),Ch=[]}var yU=(e,{containerId:a})=>{var n;return(n=Yn.get(a||1))==null?void 0:n.toasts.get(e)};function hM(e,a){var n;if(a)return!!((n=Yn.get(a))!=null&&n.isToastActive(e));let s=!1;return Yn.forEach(r=>{r.isToastActive(e)&&(s=!0)}),s}function jU(e){if(!mM()){Ch=Ch.filter(a=>e!=null&&a.options.toastId!==e);return}if(e==null||dU(e))Yn.forEach(a=>{a.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let a=Yn.get(e.containerId);a?a.removeToast(e.id):Yn.forEach(n=>{n.removeToast(e.id)})}}var wU=(e={})=>{Yn.forEach(a=>{a.props.limit&&(!e.containerId||a.id===e.containerId)&&a.clearQueue()})};function fM(e,a){ow(e)&&(mM()||Ch.push({content:e,options:a}),Yn.forEach(n=>{n.buildToast(e,a)}))}function NU(e){var a;(a=Yn.get(e.containerId||1))==null||a.setToggle(e.id,e.fn)}function xM(e,a){Yn.forEach(n=>{(a==null||!(a!=null&&a.containerId)||(a==null?void 0:a.containerId)===n.id)&&n.toggle(e,a==null?void 0:a.id)})}function SU(e){let a=e.containerId||1;return{subscribe(n){let s=gU(a,e,bU);Yn.set(a,s);let r=s.observe(n);return vU(),()=>{r(),Yn.delete(a)}},setProps(n){var s;(s=Yn.get(a))==null||s.setProps(n)},getSnapshot(){var n;return(n=Yn.get(a))==null?void 0:n.getSnapshot()}}}function _U(e){return cw.add(e),()=>{cw.delete(e)}}function kU(e){return e&&(gc(e.toastId)||ef(e.toastId))?e.toastId:uM()}function tf(e,a){return fM(e,a),a.toastId}function ag(e,a){return{...a,type:a&&a.type||e,toastId:kU(a)}}function ng(e){return(a,n)=>tf(a,ag(e,n))}function R(e,a){return tf(e,ag("default",a))}R.loading=(e,a)=>tf(e,ag("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...a}));function CU(e,{pending:a,error:n,success:s},r){let l;a&&(l=gc(a)?R.loading(a,r):R.loading(a.render,{...r,...a}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(h,f,g)=>{if(f==null){R.dismiss(l);return}let b={type:h,...c,...r,data:g},y=gc(f)?{render:f}:f;return l?R.update(l,{...b,...y}):R(y.render,{...b,...y}),g},m=Wi(e)?e():e;return m.then(h=>d("success",s,h)).catch(h=>d("error",n,h)),m}R.promise=CU;R.success=ng("success");R.info=ng("info");R.error=ng("error");R.warning=ng("warning");R.warn=R.warning;R.dark=(e,a)=>tf(e,ag("default",{theme:"dark",...a}));function AU(e){jU(e)}R.dismiss=AU;R.clearWaitingQueue=wU;R.isActive=hM;R.update=(e,a={})=>{let n=yU(e,a);if(n){let{props:s,content:r}=n,l={delay:100,...s,...a,toastId:a.toastId||e,updateId:uM()};l.toastId!==e&&(l.staleId=e);let c=l.render||r;delete l.render,tf(c,l)}};R.done=e=>{R.update(e,{progress:1})};R.onChange=_U;R.play=e=>xM(!0,e);R.pause=e=>xM(!1,e);function TU(e){var a;let{subscribe:n,getSnapshot:s,setProps:r}=p.useRef(SU(e)).current;r(e);let l=(a=p.useSyncExternalStore(n,s,s))==null?void 0:a.slice();function c(d){if(!l)return[];let m=new Map;return e.newestOnTop&&l.reverse(),l.forEach(h=>{let{position:f}=h.props;m.has(f)||m.set(f,[]),m.get(f).push(h)}),Array.from(m,h=>d(h[0],h[1]))}return{getToastToRender:c,isToastActive:hM,count:l==null?void 0:l.length}}function EU(e){let[a,n]=p.useState(!1),[s,r]=p.useState(!1),l=p.useRef(null),c=p.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:h,onClick:f,closeOnClick:g}=e;NU({id:e.toastId,containerId:e.containerId,fn:n}),p.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{y()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||k(),window.addEventListener("focus",N),window.addEventListener("blur",k)}function y(){window.removeEventListener("focus",N),window.removeEventListener("blur",k)}function j(B){if(e.draggable===!0||e.draggable===B.pointerType){_();let M=l.current;c.canCloseOnClick=!0,c.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(c.start=B.clientX,c.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(c.start=B.clientY,c.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function w(B){let{top:M,bottom:V,left:G,right:H}=l.current.getBoundingClientRect();B.nativeEvent.type!=="touchend"&&e.pauseOnHover&&B.clientX>=G&&B.clientX<=H&&B.clientY>=M&&B.clientY<=V?k():N()}function N(){n(!0)}function k(){n(!1)}function _(){c.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",P)}function C(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",P)}function O(B){let M=l.current;if(c.canDrag&&M){c.didMove=!0,a&&k(),e.draggableDirection==="x"?c.delta=B.clientX-c.start:c.delta=B.clientY-c.start,c.start!==B.clientX&&(c.canCloseOnClick=!1);let V=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;M.style.transform=`translate3d(${V},0)`,M.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function P(){C();let B=l.current;if(c.canDrag&&c.didMove&&B){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){r(!0),e.closeToast(!0),e.collapseAll();return}B.style.transition="transform 0.2s, opacity 0.2s",B.style.removeProperty("transform"),B.style.removeProperty("opacity")}}let E={onPointerDown:j,onPointerUp:w};return d&&m&&(E.onMouseEnter=k,e.stacked||(E.onMouseLeave=N)),g&&(E.onClick=B=>{f&&f(B),c.canCloseOnClick&&h(!0)}),{playToast:N,pauseToast:k,isRunning:a,preventExitTransition:s,toastRef:l,eventHandlers:E}}var PU=typeof window<"u"?p.useLayoutEffect:p.useEffect,sg=({theme:e,type:a,isLoading:n,...s})=>It.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${a})`,...s});function OU(e){return It.createElement(sg,{...e},It.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function MU(e){return It.createElement(sg,{...e},It.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function DU(e){return It.createElement(sg,{...e},It.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function RU(e){return It.createElement(sg,{...e},It.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function $U(){return It.createElement("div",{className:"Toastify__spinner"})}var dw={info:MU,warning:OU,success:DU,error:RU,spinner:$U},LU=e=>e in dw;function IU({theme:e,type:a,isLoading:n,icon:s}){let r=null,l={theme:e,type:a};return s===!1||(Wi(s)?r=s({...l,isLoading:n}):p.isValidElement(s)?r=p.cloneElement(s,l):n?r=dw.spinner():LU(a)&&(r=dw[a](l))),r}var BU=e=>{let{isRunning:a,preventExitTransition:n,toastRef:s,eventHandlers:r,playToast:l}=EU(e),{closeButton:c,children:d,autoClose:m,onClick:h,type:f,hideProgressBar:g,closeToast:b,transition:y,position:j,className:w,style:N,progressClassName:k,updateId:_,role:C,progress:O,rtl:P,toastId:E,deleteToast:B,isIn:M,isLoading:V,closeOnClick:G,theme:H,ariaLabel:F}=e,ie=St("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":G}),_e=Wi(w)?w({rtl:P,position:j,type:f,defaultClassName:ie}):St(ie,w),ce=IU(e),T=!!O||!m,K={closeToast:b,type:f,theme:H},W=null;return c===!1||(Wi(c)?W=c(K):p.isValidElement(c)?W=p.cloneElement(c,K):W=fU(K)),It.createElement(y,{isIn:M,done:B,position:j,preventExitTransition:n,nodeRef:s,playToast:l},It.createElement("div",{id:E,tabIndex:0,onClick:h,"data-in":M,className:_e,...r,style:N,ref:s,...M&&{role:C,"aria-label":F}},ce!=null&&It.createElement("div",{className:St("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},ce),dM(d,e,!a),W,!e.customProgressBar&&It.createElement(xU,{..._&&!T?{key:`p-${_}`}:{},rtl:P,theme:H,delay:m,isRunning:a,isIn:M,closeToast:b,hide:g,type:f,className:k,controlledProgress:T,progress:O||0})))},zU=(e,a=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:a}),UU=hU(zU("bounce",!0)),FU={position:"top-right",transition:UU,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function VU(e){let a={...FU,...e},n=e.stacked,[s,r]=p.useState(!0),l=p.useRef(null),{getToastToRender:c,isToastActive:d,count:m}=TU(a),{className:h,style:f,rtl:g,containerId:b,hotKeys:y}=a;function j(N){let k=St("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":g});return Wi(h)?h({position:N,rtl:g,defaultClassName:k}):St(k,lw(h))}function w(){n&&(r(!0),R.play())}return PU(()=>{var N;if(n){let k=l.current.querySelectorAll('[data-in="true"]'),_=12,C=(N=a.position)==null?void 0:N.includes("top"),O=0,P=0;Array.from(k).reverse().forEach((E,B)=>{let M=E;M.classList.add("Toastify__toast--stacked"),B>0&&(M.dataset.collapsed=`${s}`),M.dataset.pos||(M.dataset.pos=C?"top":"bot");let V=O*(s?.2:1)+(s?0:_*B);M.style.setProperty("--y",`${C?V:V*-1}px`),M.style.setProperty("--g",`${_}`),M.style.setProperty("--s",`${1-(s?P:0)}`),O+=M.offsetHeight,P+=.025})}},[s,m,n]),p.useEffect(()=>{function N(k){var _;let C=l.current;y(k)&&((_=C.querySelector('[tabIndex="0"]'))==null||_.focus(),r(!1),R.pause()),k.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(r(!0),R.play())}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[y]),It.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{n&&(r(!1),R.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":a["aria-label"]},c((N,k)=>{let _=k.length?{...f}:{...f,pointerEvents:"none"};return It.createElement("div",{tabIndex:-1,className:j(N),"data-stacked":n,style:_,key:`c-${N}`},k.map(({content:C,props:O})=>It.createElement(BU,{...O,stacked:n,collapseAll:w,isIn:d(O.toastId,O.containerId),key:`t-${O.key}`},C)))}))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,n,s)=>s?s.toUpperCase():n.toLowerCase()),I3=e=>{const a=qU(e);return a.charAt(0).toUpperCase()+a.slice(1)},pM=(...e)=>e.filter((a,n,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===n).join(" ").trim(),KU=e=>{for(const a in e)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=p.forwardRef(({color:e="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:l,iconNode:c,...d},m)=>p.createElement("svg",{ref:m,...GU,width:a,height:a,stroke:e,strokeWidth:s?Number(n)*24/Number(a):n,className:pM("lucide",r),...!l&&!KU(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,f])=>p.createElement(h,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,a)=>{const n=p.forwardRef(({className:s,...r},l)=>p.createElement(YU,{ref:l,iconNode:a,className:pM(`lucide-${HU(I3(e))}`,`lucide-${e}`,s),...r}));return n.displayName=I3(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],B3=Re("activity",WU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]],ZU=Re("alarm-clock",XU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],JU=Re("arrow-down-wide-narrow",QU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gM=Re("arrow-left",eF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pu=Re("arrow-right",tF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],nF=Re("arrow-up-narrow-wide",aF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]],rF=Re("badge-info",sF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lF=Re("ban",iF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],cF=Re("bell-ring",oF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],uF=Re("bell",dF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],rg=Re("bot",mF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Y2=Re("brain-circuit",hF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],my=Re("bug",fF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],z3=Re("building-2",xF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],gF=Re("building",pF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],qx=Re("calculator",bF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],W2=Re("calendar-clock",vF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],jF=Re("calendar-days",yF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],NF=Re("calendar-plus",wF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],hy=Re("calendar-range",SF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ls=Re("calendar",_F);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],CF=Re("camera",kF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sp=Re("chart-column",AF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rp=Re("check",TF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bM=Re("chevron-down",EF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kn=Re("chevron-left",PF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pa=Re("chevron-right",OF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vM=Re("chevron-up",MF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],os=Re("circle-alert",DF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uw=Re("circle-check-big",RF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ta=Re("circle-check",$F);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],IF=Re("circle-pause",LF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ah=Re("circle-play",BF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],UF=Re("circle-question-mark",zF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zn=Re("circle-x",FF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mw=Re("circle",VF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],qF=Re("clipboard-copy",HF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],GF=Re("clipboard-list",KF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hw=Re("clock-3",YF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xi=Re("clock",WF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],ZF=Re("cloud-download",XF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],JF=Re("cloud-upload",QF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],tV=Re("code",eV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],nV=Re("coins",aV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],La=Re("copy",sV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],yM=Re("credit-card",rV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],U3=Re("crop",iV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],fy=Re("crown",lV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Jl=Re("database",oV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],fw=Re("dollar-sign",cV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eo=Re("download",dV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Th=Re("external-link",uV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xd=Re("eye-off",mV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ta=Re("eye",hV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],F3=Re("facebook",fV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],jM=Re("file-code-2",xV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],lh=Re("file-spreadsheet",pV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Pr=Re("file-text",gV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Zi=Re("funnel",bV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],yV=Re("gauge",vV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],li=Re("globe",jV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],NV=Re("hammer",wV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],V3=Re("hash",SV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xy=Re("history",_V);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],X2=Re("house",kV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],H3=Re("image-off",CV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],TV=Re("image",AV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],PV=Re("inbox",EV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ig=Re("info",OV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Ql=Re("key-round",MV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],RV=Re("key",DV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],LV=Re("layers",$V);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],BV=Re("layout-grid",IV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],UV=Re("link-2",zV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Dr=Re("link",FV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],wM=Re("list-checks",VV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],qV=Re("list-ordered",HV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ia=Re("loader-circle",KV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Br=Re("lock",GV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],R0=Re("log-in",YV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ip=Re("log-out",WV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Fn=Re("mail",XV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ui=Re("map-pin",ZV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],JV=Re("maximize-2",QV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xw=Re("message-square",eH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],aH=Re("messages-square",tH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],sH=Re("minimize-2",nH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],iH=Re("notebook-text",rH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],oH=Re("pause",lH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],q3=Re("pen-line",cH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],bc=Re("phone-call",dH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gt=Re("phone",uH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],gu=Re("play",mH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],lg=Re("plug-zap",hH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zn=Re("plus",fH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],pH=Re("puzzle",xH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Z2=Re("radio",gH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]],NM=Re("receipt-text",bH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],yH=Re("refresh-ccw",vH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ge=Re("refresh-cw",jH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],og=Re("rocket",wH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M16.466 7.5C15.643 4.237 13.952 2 12 2 9.239 2 7 6.477 7 12s2.239 10 5 10c.342 0 .677-.069 1-.2",key:"10n0gc"}],["path",{d:"m15.194 13.707 3.814 1.86-1.86 3.814",key:"16shm9"}],["path",{d:"M19 15.57c-1.804.885-4.274 1.43-7 1.43-5.523 0-10-2.239-10-5s4.477-5 10-5c4.838 0 8.873 1.718 9.8 4",key:"1lxi77"}]],SH=Re("rotate-3d",NH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kH=Re("rotate-ccw",_H);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],SM=Re("scale",CH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Un=Re("search",AH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Kx=Re("send",TH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],PH=Re("server-cog",EH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q2=Re("settings",OH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],DH=Re("shield-alert",MH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qi=Re("shield-check",RH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lr=Re("shield",$H);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],$0=Re("shopping-cart",LH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],BH=Re("skip-forward",IH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],UH=Re("sliders-horizontal",zH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],K3=Re("smartphone",FH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_c=Re("sparkles",VH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],G3=Re("square-check-big",HH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],py=Re("square-kanban",qH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ud=Re("square-pen",KH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],YH=Re("square-terminal",GH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Zd=Re("square",WH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],ZH=Re("sticky-note",XH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],JH=Re("test-tube-diagonal",QH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],L0=Re("timer",eq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],gy=Re("toggle-left",tq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],by=Re("toggle-right",aq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ea=Re("trash-2",nq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],rq=Re("trending-up",sq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],af=Re("triangle-alert",iq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],oq=Re("unlink",lq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dq=Re("user-check",cq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],J2=Re("user-round",uq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cc=Re("user",mq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],un=Re("users",hq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],eN=Re("volume-2",fq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]],pq=Re("wallet-minimal",xq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],_M=Re("wallet",gq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],vq=Re("wand-sparkles",bq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],jq=Re("wrench",yq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cn=Re("x",wq);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Sq=Re("zap",Nq);function _q(){const[e,a]=p.useState({username:"",email:"",password:""}),[n,s]=p.useState(!1),[r,l]=p.useState({}),[c,d]=p.useState(!1),m=da(),h="https://app.thedbt.ai",f=w=>{const{name:N,value:k}=w.target;a(_=>({..._,[N]:k})),r[N]&&l(_=>({..._,[N]:""}))},g=()=>{const w={};return e.username.trim()?e.username.length<3&&(w.username="Username must be at least 3 characters"):w.username="Username is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(w.email="Please enter a valid email address"):w.email="Email is required",e.password?e.password.length<6&&(w.password="Password must be at least 6 characters"):w.password="Password is required",l(w),Object.keys(w).length===0},b=async w=>{if(w.preventDefault(),!!g()){d(!0),l({});try{localStorage.setItem("name",e.username),localStorage.setItem("email",e.email)}catch{}try{const N=await fetch(`${h}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,email:e.email,password:e.password})}),k=await N.json();if(N.ok)R.success("Account created successfully! "),setTimeout(()=>{m(`/otp?email=${encodeURIComponent(e.email)}`)},1200);else{const _=k.message||k.detail||"Something went wrong. Please try again.";l({submit:_}),R.error(_)}}catch{const N="Network error. Please check your connection and try again.";l({submit:N}),R.error(N)}finally{d(!1)}}},y=e.password.length,j=y>=6?"bg-green-500 w-full":y>=4?"bg-blue-500 w-3/4":y>=2?"bg-yellow-500 w-1/2":y>0?"bg-red-500 w-1/4":"w-0";return t.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:t.jsx(cc,{className:"w-8 h-8 text-white"})})}),t.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),t.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",t.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign in here"})]})]}),t.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:t.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[t.jsxs("form",{className:"space-y-6",onSubmit:b,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(cc,{className:`h-5 w-5 ${e.username?"text-blue-500":"text-gray-400"}`})}),t.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:f,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${r.username?"border-red-300 focus:border-red-500 focus:ring-red-500":e.username?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username"}),e.username&&!r.username&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:t.jsx(uw,{className:"h-5 w-5 text-green-500"})})]}),r.username&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(os,{className:"h-4 w-4 mr-1"}),r.username]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(Fn,{className:`h-5 w-5 ${e.email?"text-blue-500":"text-gray-400"}`})}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:f,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${r.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!r.email&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:t.jsx(uw,{className:"h-5 w-5 text-green-500"})})]}),r.email&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(os,{className:"h-4 w-4 mr-1"}),r.email]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(Br,{className:`h-5 w-5 ${e.password?"text-blue-500":"text-gray-400"}`})}),t.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",value:e.password,onChange:f,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${r.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Create a password"}),t.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200",onClick:()=>s(!n),children:n?t.jsx(Xd,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):t.jsx(Ta,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),t.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[t.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${j}`})}),t.jsx("span",{className:"text-xs text-gray-500",children:"6+ characters"})]}),r.password&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(os,{className:"h-4 w-4 mr-1"}),r.password]})]}),r.submit&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[t.jsx(os,{className:"h-5 w-5 text-red-600 mr-3"}),t.jsx("p",{className:"text-sm text-red-700",children:r.submit})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Creating account..."]}):t.jsxs("div",{className:"flex items-center",children:["Create account",t.jsx(pu,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]}),t.jsx("div",{className:"mt-6",children:t.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200",children:[t.jsx("div",{className:"absolute -inset-x-10 -top-10 h-24 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),t.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[t.jsx("div",{className:"text-sm text-slate-600",children:"By creating an account you agree to our"}),t.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[t.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms"}),t.jsx("span",{className:"text-slate-300",children:""}),t.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy"})]})]})]})})]})})]})}function kq(){const[e,a]=p.useState(30),n="/",s="/bg.gif";p.useEffect(()=>{const d=setInterval(()=>{a(m=>m<=1?(window.location.href=n,0):m-1)},1e3);return()=>clearInterval(d)},[]);const r=()=>window.location.href=n,l=()=>window.history.back(),c=()=>window.location.reload();return t.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[t.jsx("div",{className:"fixed inset-0 flex justify-center pointer-events-none",children:t.jsx("img",{src:s,alt:"Animated 404 background",className:`\r
      h-screen\r
      w-[68vw]              /*  your final locked width */\r
      max-w-[1280px]        /*  prevent over-expanding on ultra-wide */\r
      min-w-[320px]         /*  prevent too-narrow on small phones */\r
      object-cover\r
      translate-y-[8vh] sm:translate-y-[10vh] md:translate-y-[23vh]\r
    `,style:{objectPosition:"center 78%"},loading:"eager",decoding:"async",fetchPriority:"high"})}),t.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 py-10",children:t.jsxs("div",{className:`w-full max-w-4xl text-center\r
                     -translate-y-6 sm:-translate-y-10 md:-translate-y-74\r
                     transform-gpu`,children:[t.jsx("h1",{className:`\r
              text-[56px] sm:text-[80px] md:text-[110px]\r
              font-bold tracking-tight text-blue-900\r
              select-none\r
            `,style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"404"}),t.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-blue-900",style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"Looks like youre lost"}),t.jsx("p",{className:"mt-2 text-blue-800",children:"The page you are looking for is not available."}),t.jsxs("div",{className:"mt-6 space-y-3",children:[t.jsxs("button",{onClick:r,className:`\r
                w-full sm:w-auto inline-flex items-center justify-center\r
                rounded-lg px-5 py-3\r
                text-white bg-blue-600 hover:bg-blue-700\r
                transition-all duration-200 shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700\r
              `,children:[t.jsx(X2,{className:"mr-2 h-5 w-5"}),"Go to Home"]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-center",children:[t.jsxs("button",{onClick:l,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[t.jsx(gM,{className:"mr-2 h-4 w-4"}),"Go Back"]}),t.jsxs("button",{onClick:c,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),t.jsxs("div",{className:"mt-3 text-sm text-blue-900",children:[t.jsx("a",{href:"/login",className:"underline hover:opacity-80",children:"Login"}),t.jsx("span",{className:"mx-2",children:""}),t.jsx("a",{href:"/signup",className:"underline hover:opacity-80",children:"Sign Up"})]})]}),t.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-blue-50/90 px-4 py-2 text-blue-900 border border-blue-200",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),t.jsxs("p",{className:"text-sm",children:["Redirecting to homepage in"," ",t.jsx("span",{className:"font-semibold",children:e})," seconds"]})]})]})})]})}const tN=p.createContext({});function nf(e){const a=p.useRef(null);return a.current===null&&(a.current=e()),a.current}const aN=typeof window<"u",nN=aN?p.useLayoutEffect:p.useEffect,cg=p.createContext(null);function sN(e,a){e.indexOf(a)===-1&&e.push(a)}function dg(e,a){const n=e.indexOf(a);n>-1&&e.splice(n,1)}const Ji=(e,a,n)=>n>a?a:n<e?e:n;let rN=()=>{};const el={},kM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function CM(e){return typeof e=="object"&&e!==null}const AM=e=>/^0[^.\s]+$/u.test(e);function iN(e){let a;return()=>(a===void 0&&(a=e()),a)}const or=e=>e,Cq=(e,a)=>n=>a(e(n)),sf=(...e)=>e.reduce(Cq),Qd=(e,a,n)=>{const s=a-e;return s===0?1:(n-e)/s};class lN{constructor(){this.subscriptions=[]}add(a){return sN(this.subscriptions,a),()=>dg(this.subscriptions,a)}notify(a,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](a,n,s);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(a,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rr=e=>e*1e3,oi=e=>e/1e3;function TM(e,a){return a?e*(1e3/a):0}const Aq=(e,a,n)=>{const s=a-e;return((n-e)%s+s)%s+e},EM=(e,a,n)=>(((1-3*n+3*a)*e+(3*n-6*a))*e+3*a)*e,Tq=1e-7,Eq=12;function Pq(e,a,n,s,r){let l,c,d=0;do c=a+(n-a)/2,l=EM(c,s,r)-e,l>0?n=c:a=c;while(Math.abs(l)>Tq&&++d<Eq);return c}function rf(e,a,n,s){if(e===a&&n===s)return or;const r=l=>Pq(l,0,1,e,n);return l=>l===0||l===1?l:EM(r(l),a,s)}const PM=e=>a=>a<=.5?e(2*a)/2:(2-e(2*(1-a)))/2,OM=e=>a=>1-e(1-a),MM=rf(.33,1.53,.69,.99),oN=OM(MM),DM=PM(oN),RM=e=>(e*=2)<1?.5*oN(e):.5*(2-Math.pow(2,-10*(e-1))),cN=e=>1-Math.sin(Math.acos(e)),$M=OM(cN),LM=PM(cN),Oq=rf(.42,0,1,1),Mq=rf(0,0,.58,1),IM=rf(.42,0,.58,1),BM=e=>Array.isArray(e)&&typeof e[0]!="number";function zM(e,a){return BM(e)?e[Aq(0,e.length,a)]:e}const UM=e=>Array.isArray(e)&&typeof e[0]=="number",Dq={linear:or,easeIn:Oq,easeInOut:IM,easeOut:Mq,circIn:cN,circInOut:LM,circOut:$M,backIn:oN,backInOut:DM,backOut:MM,anticipate:RM},Rq=e=>typeof e=="string",Y3=e=>{if(UM(e)){rN(e.length===4);const[a,n,s,r]=e;return rf(a,n,s,r)}else if(Rq(e))return Dq[e];return e},I0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $q(e,a){let n=new Set,s=new Set,r=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(f){c.has(f)&&(h.schedule(f),e()),f(d)}const h={schedule:(f,g=!1,b=!1)=>{const j=b&&r?n:s;return g&&c.add(f),j.has(f)||j.add(f),f},cancel:f=>{s.delete(f),c.delete(f)},process:f=>{if(d=f,r){l=!0;return}r=!0,[n,s]=[s,n],n.forEach(m),n.clear(),r=!1,l&&(l=!1,h.process(f))}};return h}const Lq=40;function FM(e,a){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=I0.reduce((C,O)=>(C[O]=$q(l),C),{}),{setup:d,read:m,resolveKeyframes:h,preUpdate:f,update:g,preRender:b,render:y,postRender:j}=c,w=()=>{const C=el.useManualTiming?r.timestamp:performance.now();n=!1,el.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(C-r.timestamp,Lq),1)),r.timestamp=C,r.isProcessing=!0,d.process(r),m.process(r),h.process(r),f.process(r),g.process(r),b.process(r),y.process(r),j.process(r),r.isProcessing=!1,n&&a&&(s=!1,e(w))},N=()=>{n=!0,s=!0,r.isProcessing||e(w)};return{schedule:I0.reduce((C,O)=>{const P=c[O];return C[O]=(E,B=!1,M=!1)=>(n||N(),P.schedule(E,B,M)),C},{}),cancel:C=>{for(let O=0;O<I0.length;O++)c[I0[O]].cancel(C)},state:r,steps:c}}const{schedule:oa,cancel:tl,state:Sn,steps:vy}=FM(typeof requestAnimationFrame<"u"?requestAnimationFrame:or,!0);let Gx;function Iq(){Gx=void 0}const cs={now:()=>(Gx===void 0&&cs.set(Sn.isProcessing||el.useManualTiming?Sn.timestamp:performance.now()),Gx),set:e=>{Gx=e,queueMicrotask(Iq)}},VM=e=>a=>typeof a=="string"&&a.startsWith(e),dN=VM("--"),Bq=VM("var(--"),uN=e=>Bq(e)?zq.test(e.split("/*")[0].trim()):!1,zq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Eh={...bu,transform:e=>Ji(0,1,e)},B0={...bu,default:1},fh=e=>Math.round(e*1e5)/1e5,mN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Uq(e){return e==null}const Fq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hN=(e,a)=>n=>!!(typeof n=="string"&&Fq.test(n)&&n.startsWith(e)||a&&!Uq(n)&&Object.prototype.hasOwnProperty.call(n,a)),HM=(e,a,n)=>s=>{if(typeof s!="string")return s;const[r,l,c,d]=s.match(mN);return{[e]:parseFloat(r),[a]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Vq=e=>Ji(0,255,e),yy={...bu,transform:e=>Math.round(Vq(e))},ac={test:hN("rgb","red"),parse:HM("red","green","blue"),transform:({red:e,green:a,blue:n,alpha:s=1})=>"rgba("+yy.transform(e)+", "+yy.transform(a)+", "+yy.transform(n)+", "+fh(Eh.transform(s))+")"};function Hq(e){let a="",n="",s="",r="";return e.length>5?(a=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(a=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),a+=a,n+=n,s+=s,r+=r),{red:parseInt(a,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const pw={test:hN("#"),parse:Hq,transform:ac.transform},lf=e=>({test:a=>typeof a=="string"&&a.endsWith(e)&&a.split(" ").length===1,parse:parseFloat,transform:a=>`${a}${e}`}),Yl=lf("deg"),ci=lf("%"),ft=lf("px"),qq=lf("vh"),Kq=lf("vw"),W3={...ci,parse:e=>ci.parse(e)/100,transform:e=>ci.transform(e*100)},Md={test:hN("hsl","hue"),parse:HM("hue","saturation","lightness"),transform:({hue:e,saturation:a,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+ci.transform(fh(a))+", "+ci.transform(fh(n))+", "+fh(Eh.transform(s))+")"},Va={test:e=>ac.test(e)||pw.test(e)||Md.test(e),parse:e=>ac.test(e)?ac.parse(e):Md.test(e)?Md.parse(e):pw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ac.transform(e):Md.transform(e),getAnimatableNone:e=>{const a=Va.parse(e);return a.alpha=0,Va.transform(a)}},Gq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yq(e){var a,n;return isNaN(e)&&typeof e=="string"&&(((a=e.match(mN))==null?void 0:a.length)||0)+(((n=e.match(Gq))==null?void 0:n.length)||0)>0}const qM="number",KM="color",Wq="var",Xq="var(",X3="${}",Zq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ph(e){const a=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let l=0;const d=a.replace(Zq,m=>(Va.test(m)?(s.color.push(l),r.push(KM),n.push(Va.parse(m))):m.startsWith(Xq)?(s.var.push(l),r.push(Wq),n.push(m)):(s.number.push(l),r.push(qM),n.push(parseFloat(m))),++l,X3)).split(X3);return{values:n,split:d,indexes:s,types:r}}function GM(e){return Ph(e).values}function YM(e){const{split:a,types:n}=Ph(e),s=a.length;return r=>{let l="";for(let c=0;c<s;c++)if(l+=a[c],r[c]!==void 0){const d=n[c];d===qM?l+=fh(r[c]):d===KM?l+=Va.transform(r[c]):l+=r[c]}return l}}const Qq=e=>typeof e=="number"?0:Va.test(e)?Va.getAnimatableNone(e):e;function Jq(e){const a=GM(e);return YM(e)(a.map(Qq))}const so={test:Yq,parse:GM,createTransformer:YM,getAnimatableNone:Jq};function jy(e,a,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(a-e)*6*n:n<1/2?a:n<2/3?e+(a-e)*(2/3-n)*6:e}function eK({hue:e,saturation:a,lightness:n,alpha:s}){e/=360,a/=100,n/=100;let r=0,l=0,c=0;if(!a)r=l=c=n;else{const d=n<.5?n*(1+a):n+a-n*a,m=2*n-d;r=jy(m,d,e+1/3),l=jy(m,d,e),c=jy(m,d,e-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function lp(e,a){return n=>n>0?a:e}const ma=(e,a,n)=>e+(a-e)*n,wy=(e,a,n)=>{const s=e*e,r=n*(a*a-s)+s;return r<0?0:Math.sqrt(r)},tK=[pw,ac,Md],aK=e=>tK.find(a=>a.test(e));function Z3(e){const a=aK(e);if(!a)return!1;let n=a.parse(e);return a===Md&&(n=eK(n)),n}const Q3=(e,a)=>{const n=Z3(e),s=Z3(a);if(!n||!s)return lp(e,a);const r={...n};return l=>(r.red=wy(n.red,s.red,l),r.green=wy(n.green,s.green,l),r.blue=wy(n.blue,s.blue,l),r.alpha=ma(n.alpha,s.alpha,l),ac.transform(r))},gw=new Set(["none","hidden"]);function nK(e,a){return gw.has(e)?n=>n<=0?e:a:n=>n>=1?a:e}function sK(e,a){return n=>ma(e,a,n)}function fN(e){return typeof e=="number"?sK:typeof e=="string"?uN(e)?lp:Va.test(e)?Q3:lK:Array.isArray(e)?WM:typeof e=="object"?Va.test(e)?Q3:rK:lp}function WM(e,a){const n=[...e],s=n.length,r=e.map((l,c)=>fN(l)(l,a[c]));return l=>{for(let c=0;c<s;c++)n[c]=r[c](l);return n}}function rK(e,a){const n={...e,...a},s={};for(const r in n)e[r]!==void 0&&a[r]!==void 0&&(s[r]=fN(e[r])(e[r],a[r]));return r=>{for(const l in s)n[l]=s[l](r);return n}}function iK(e,a){const n=[],s={color:0,var:0,number:0};for(let r=0;r<a.values.length;r++){const l=a.types[r],c=e.indexes[l][s[l]],d=e.values[c]??0;n[r]=d,s[l]++}return n}const lK=(e,a)=>{const n=so.createTransformer(a),s=Ph(e),r=Ph(a);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?gw.has(e)&&!r.values.length||gw.has(a)&&!s.values.length?nK(e,a):sf(WM(iK(s,r),r.values),n):lp(e,a)};function XM(e,a,n){return typeof e=="number"&&typeof a=="number"&&typeof n=="number"?ma(e,a,n):fN(e)(e,a)}const oK=e=>{const a=({timestamp:n})=>e(n);return{start:(n=!0)=>oa.update(a,n),stop:()=>tl(a),now:()=>Sn.isProcessing?Sn.timestamp:cs.now()}},ZM=(e,a,n=10)=>{let s="";const r=Math.max(Math.round(a/n),2);for(let l=0;l<r;l++)s+=Math.round(e(l/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},op=2e4;function xN(e){let a=0;const n=50;let s=e.next(a);for(;!s.done&&a<op;)a+=n,s=e.next(a);return a>=op?1/0:a}function QM(e,a=100,n){const s=n({...e,keyframes:[0,a]}),r=Math.min(xN(s),op);return{type:"keyframes",ease:l=>s.next(r*l).value/a,duration:oi(r)}}const cK=5;function JM(e,a,n){const s=Math.max(a-cK,0);return TM(n-e(s),a-s)}const Ca={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ny=.001;function dK({duration:e=Ca.duration,bounce:a=Ca.bounce,velocity:n=Ca.velocity,mass:s=Ca.mass}){let r,l,c=1-a;c=Ji(Ca.minDamping,Ca.maxDamping,c),e=Ji(Ca.minDuration,Ca.maxDuration,oi(e)),c<1?(r=h=>{const f=h*c,g=f*e,b=f-n,y=bw(h,c),j=Math.exp(-g);return Ny-b/y*j},l=h=>{const g=h*c*e,b=g*n+n,y=Math.pow(c,2)*Math.pow(h,2)*e,j=Math.exp(-g),w=bw(Math.pow(h,2),c);return(-r(h)+Ny>0?-1:1)*((b-y)*j)/w}):(r=h=>{const f=Math.exp(-h*e),g=(h-n)*e+1;return-Ny+f*g},l=h=>{const f=Math.exp(-h*e),g=(n-h)*(e*e);return f*g});const d=5/e,m=mK(r,l,d);if(e=Rr(e),isNaN(m))return{stiffness:Ca.stiffness,damping:Ca.damping,duration:e};{const h=Math.pow(m,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:e}}}const uK=12;function mK(e,a,n){let s=n;for(let r=1;r<uK;r++)s=s-e(s)/a(s);return s}function bw(e,a){return e*Math.sqrt(1-a*a)}const hK=["duration","bounce"],fK=["stiffness","damping","mass"];function J3(e,a){return a.some(n=>e[n]!==void 0)}function xK(e){let a={velocity:Ca.velocity,stiffness:Ca.stiffness,damping:Ca.damping,mass:Ca.mass,isResolvedFromDuration:!1,...e};if(!J3(e,fK)&&J3(e,hK))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,l=2*Ji(.05,1,1-(e.bounce||0))*Math.sqrt(r);a={...a,mass:Ca.mass,stiffness:r,damping:l}}else{const n=dK(e);a={...a,...n,mass:Ca.mass},a.isResolvedFromDuration=!0}return a}function Oh(e=Ca.visualDuration,a=Ca.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:a}:e;let{restSpeed:s,restDelta:r}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:h,mass:f,duration:g,velocity:b,isResolvedFromDuration:y}=xK({...n,velocity:-oi(n.velocity||0)}),j=b||0,w=h/(2*Math.sqrt(m*f)),N=c-l,k=oi(Math.sqrt(m/f)),_=Math.abs(N)<5;s||(s=_?Ca.restSpeed.granular:Ca.restSpeed.default),r||(r=_?Ca.restDelta.granular:Ca.restDelta.default);let C;if(w<1){const P=bw(k,w);C=E=>{const B=Math.exp(-w*k*E);return c-B*((j+w*k*N)/P*Math.sin(P*E)+N*Math.cos(P*E))}}else if(w===1)C=P=>c-Math.exp(-k*P)*(N+(j+k*N)*P);else{const P=k*Math.sqrt(w*w-1);C=E=>{const B=Math.exp(-w*k*E),M=Math.min(P*E,300);return c-B*((j+w*k*N)*Math.sinh(M)+P*N*Math.cosh(M))/P}}const O={calculatedDuration:y&&g||null,next:P=>{const E=C(P);if(y)d.done=P>=g;else{let B=P===0?j:0;w<1&&(B=P===0?Rr(j):JM(C,P,E));const M=Math.abs(B)<=s,V=Math.abs(c-E)<=r;d.done=M&&V}return d.value=d.done?c:E,d},toString:()=>{const P=Math.min(xN(O),op),E=ZM(B=>O.next(P*B).value,P,30);return P+"ms "+E},toTransition:()=>{}};return O}Oh.applyToOptions=e=>{const a=QM(e,100,Oh);return e.ease=a.ease,e.duration=Rr(a.duration),e.type="keyframes",e};function vw({keyframes:e,velocity:a=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:h=.5,restSpeed:f}){const g=e[0],b={done:!1,value:g},y=M=>d!==void 0&&M<d||m!==void 0&&M>m,j=M=>d===void 0?m:m===void 0||Math.abs(d-M)<Math.abs(m-M)?d:m;let w=n*a;const N=g+w,k=c===void 0?N:c(N);k!==N&&(w=k-g);const _=M=>-w*Math.exp(-M/s),C=M=>k+_(M),O=M=>{const V=_(M),G=C(M);b.done=Math.abs(V)<=h,b.value=b.done?k:G};let P,E;const B=M=>{y(b.value)&&(P=M,E=Oh({keyframes:[b.value,j(b.value)],velocity:JM(C,M,b.value),damping:r,stiffness:l,restDelta:h,restSpeed:f}))};return B(0),{calculatedDuration:null,next:M=>{let V=!1;return!E&&P===void 0&&(V=!0,O(M),B(M)),P!==void 0&&M>=P?E.next(M-P):(!V&&O(M),b)}}}function pK(e,a,n){const s=[],r=n||el.mix||XM,l=e.length-1;for(let c=0;c<l;c++){let d=r(e[c],e[c+1]);if(a){const m=Array.isArray(a)?a[c]||or:a;d=sf(m,d)}s.push(d)}return s}function eD(e,a,{clamp:n=!0,ease:s,mixer:r}={}){const l=e.length;if(rN(l===a.length),l===1)return()=>a[0];if(l===2&&a[0]===a[1])return()=>a[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),a=[...a].reverse());const d=pK(a,s,r),m=d.length,h=f=>{if(c&&f<e[0])return a[0];let g=0;if(m>1)for(;g<e.length-2&&!(f<e[g+1]);g++);const b=Qd(e[g],e[g+1],f);return d[g](b)};return n?f=>h(Ji(e[0],e[l-1],f)):h}function tD(e,a){const n=e[e.length-1];for(let s=1;s<=a;s++){const r=Qd(0,a,s);e.push(ma(n,1,r))}}function aD(e){const a=[0];return tD(a,e.length-1),a}function gK(e,a){return e.map(n=>n*a)}function bK(e,a){return e.map(()=>a||IM).splice(0,e.length-1)}function xh({duration:e=300,keyframes:a,times:n,ease:s="easeInOut"}){const r=BM(s)?s.map(Y3):Y3(s),l={done:!1,value:a[0]},c=gK(n&&n.length===a.length?n:aD(a),e),d=eD(c,a,{ease:Array.isArray(r)?r:bK(a,r)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const vK=e=>e!==null;function pN(e,{repeat:a,repeatType:n="loop"},s,r=1){const l=e.filter(vK),d=r<0||a&&n!=="loop"&&a%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const yK={decay:vw,inertia:vw,tween:xh,keyframes:xh,spring:Oh};function nD(e){typeof e.type=="string"&&(e.type=yK[e.type])}class gN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(a=>{this.resolve=a})}notifyFinished(){this.resolve()}then(a,n){return this.finished.then(a,n)}}const jK=e=>e/100;class bN extends gN{constructor(a){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==cs.now()&&this.tick(cs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=a,this.initAnimation(),this.play(),a.autoplay===!1&&this.pause()}initAnimation(){const{options:a}=this;nD(a);const{type:n=xh,repeat:s=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=a;let{keyframes:d}=a;const m=n||xh;m!==xh&&typeof d[0]!="number"&&(this.mixKeyframes=sf(jK,XM(d[0],d[1])),d=[0,100]);const h=m({...a,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...a,keyframes:[...d].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=xN(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=h}updateTime(a){const n=Math.round(a-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(a,n=!1){const{generator:s,totalDuration:r,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:f,repeat:g,repeatType:b,repeatDelay:y,type:j,onUpdate:w,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-r/this.speed,this.startTime)),n?this.currentTime=a:this.updateTime(a);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?k<0:k>r;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,O=s;if(g){const M=Math.min(this.currentTime,r)/d;let V=Math.floor(M),G=M%1;!G&&M>=1&&(G=1),G===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(b==="reverse"?(G=1-G,y&&(G-=y/d)):b==="mirror"&&(O=c)),C=Ji(0,1,G)*d}const P=_?{done:!1,value:f[0]}:O.next(C);l&&(P.value=l(P.value));let{done:E}=P;!_&&m!==null&&(E=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return B&&j!==vw&&(P.value=pN(f,this.options,N,this.speed)),w&&w(P.value),B&&this.finish(),P}then(a,n){return this.finished.then(a,n)}get duration(){return oi(this.calculatedDuration)}get time(){return oi(this.currentTime)}set time(a){var n;a=Rr(a),this.currentTime=a,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(a){this.updateTime(cs.now());const n=this.playbackSpeed!==a;this.playbackSpeed=a,n&&(this.time=oi(this.currentTime))}play(){var r,l;if(this.isStopped)return;const{driver:a=oK,startTime:n}=this.options;this.driver||(this.driver=a(c=>this.tick(c))),(l=(r=this.options).onPlay)==null||l.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var a,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(a=this.options).onComplete)==null||n.call(a)}cancel(){var a,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(a=this.options).onCancel)==null||n.call(a)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}attachTimeline(a){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),a.observe(this)}}function wK(e){for(let a=1;a<e.length;a++)e[a]??(e[a]=e[a-1])}const nc=e=>e*180/Math.PI,yw=e=>{const a=nc(Math.atan2(e[1],e[0]));return jw(a)},NK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:yw,rotateZ:yw,skewX:e=>nc(Math.atan(e[1])),skewY:e=>nc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},jw=e=>(e=e%360,e<0&&(e+=360),e),eC=yw,tC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),aC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),SK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tC,scaleY:aC,scale:e=>(tC(e)+aC(e))/2,rotateX:e=>jw(nc(Math.atan2(e[6],e[5]))),rotateY:e=>jw(nc(Math.atan2(-e[2],e[0]))),rotateZ:eC,rotate:eC,skewX:e=>nc(Math.atan(e[4])),skewY:e=>nc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ww(e){return e.includes("scale")?1:0}function Nw(e,a){if(!e||e==="none")return ww(a);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=SK,r=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=NK,r=d}if(!r)return ww(a);const l=s[a],c=r[1].split(",").map(kK);return typeof l=="function"?l(c):c[l]}const _K=(e,a)=>{const{transform:n="none"}=getComputedStyle(e);return Nw(n,a)};function kK(e){return parseFloat(e.trim())}const vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yu=new Set(vu),nC=e=>e===bu||e===ft,CK=new Set(["x","y","z"]),AK=vu.filter(e=>!CK.has(e));function TK(e){const a=[];return AK.forEach(n=>{const s=e.getValue(n);s!==void 0&&(a.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),a}const dc={width:({x:e},{paddingLeft:a="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(a)-parseFloat(n),height:({y:e},{paddingTop:a="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(a)-parseFloat(n),top:(e,{top:a})=>parseFloat(a),left:(e,{left:a})=>parseFloat(a),bottom:({y:e},{top:a})=>parseFloat(a)+(e.max-e.min),right:({x:e},{left:a})=>parseFloat(a)+(e.max-e.min),x:(e,{transform:a})=>Nw(a,"x"),y:(e,{transform:a})=>Nw(a,"y")};dc.translateX=dc.x;dc.translateY=dc.y;const uc=new Set;let Sw=!1,_w=!1,kw=!1;function sD(){if(_w){const e=Array.from(uc).filter(s=>s.needsMeasurement),a=new Set(e.map(s=>s.element)),n=new Map;a.forEach(s=>{const r=TK(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),a.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}_w=!1,Sw=!1,uc.forEach(e=>e.complete(kw)),uc.clear()}function rD(){uc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_w=!0)})}function EK(){kw=!0,rD(),sD(),kw=!1}class vN{constructor(a,n,s,r,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...a],this.onComplete=n,this.name=s,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(uc.add(this),Sw||(Sw=!0,oa.read(rD),oa.resolveKeyframes(sD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:a,name:n,element:s,motionValue:r}=this;if(a[0]===null){const l=r==null?void 0:r.get(),c=a[a.length-1];if(l!==void 0)a[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(a[0]=d)}a[0]===void 0&&(a[0]=c),r&&l===void 0&&r.set(a[0])}wK(a)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(a=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,a),uc.delete(this)}cancel(){this.state==="scheduled"&&(uc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const PK=e=>e.startsWith("--");function OK(e,a,n){PK(a)?e.style.setProperty(a,n):e.style[a]=n}const MK=iN(()=>window.ScrollTimeline!==void 0),DK={};function RK(e,a){const n=iN(e);return()=>DK[a]??n()}const iD=RK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oh=([e,a,n,s])=>`cubic-bezier(${e}, ${a}, ${n}, ${s})`,sC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oh([0,.65,.55,1]),circOut:oh([.55,0,1,.45]),backIn:oh([.31,.01,.66,-.59]),backOut:oh([.33,1.53,.69,.99])};function lD(e,a){if(e)return typeof e=="function"?iD()?ZM(e,a):"ease-out":UM(e)?oh(e):Array.isArray(e)?e.map(n=>lD(n,a)||sC.easeOut):sC[e]}function $K(e,a,n,{delay:s=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},h=void 0){const f={[a]:n};m&&(f.offset=m);const g=lD(d,r);Array.isArray(g)&&(f.easing=g);const b={delay:s,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),e.animate(f,b)}function yN(e){return typeof e=="function"&&"applyToOptions"in e}function LK({type:e,...a}){return yN(e)&&iD()?e.applyToOptions(a):(a.duration??(a.duration=300),a.ease??(a.ease="easeOut"),a)}class IK extends gN{constructor(a){if(super(),this.finishedTime=null,this.isStopped=!1,!a)return;const{element:n,name:s,keyframes:r,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=a;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=a,rN(typeof a.type!="string");const h=LK(a);this.animation=$K(n,s,r,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const f=pN(r,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(f):OK(n,s,f),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var a,n;(n=(a=this.animation).finish)==null||n.call(a)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:a}=this;a==="idle"||a==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var a,n;this.isPseudoElement||(n=(a=this.animation).commitStyles)==null||n.call(a)}get duration(){var n,s;const a=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return oi(Number(a))}get time(){return oi(Number(this.animation.currentTime)||0)}set time(a){this.finishedTime=null,this.animation.currentTime=Rr(a)}get speed(){return this.animation.playbackRate}set speed(a){a<0&&(this.finishedTime=null),this.animation.playbackRate=a}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(a){this.animation.startTime=a}attachTimeline({timeline:a,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,a&&MK()?(this.animation.timeline=a,or):n(this)}}const oD={anticipate:RM,backInOut:DM,circInOut:LM};function BK(e){return e in oD}function zK(e){typeof e.ease=="string"&&BK(e.ease)&&(e.ease=oD[e.ease])}const rC=10;class UK extends IK{constructor(a){zK(a),nD(a),super(a),a.startTime&&(this.startTime=a.startTime),this.options=a}updateMotionValue(a){const{motionValue:n,onUpdate:s,onComplete:r,element:l,...c}=this.options;if(!n)return;if(a!==void 0){n.set(a);return}const d=new bN({...c,autoplay:!1}),m=Rr(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-rC).value,d.sample(m).value,rC),d.stop()}}const iC=(e,a)=>a==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(so.test(e)||e==="0")&&!e.startsWith("url("));function FK(e){const a=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==a)return!0}function VK(e,a,n,s){const r=e[0];if(r===null)return!1;if(a==="display"||a==="visibility")return!0;const l=e[e.length-1],c=iC(r,a),d=iC(l,a);return!c||!d?!1:FK(e)||(n==="spring"||yN(n))&&s}function Cw(e){e.duration=0,e.type}const HK=new Set(["opacity","clipPath","filter","transform"]),qK=iN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KK(e){var f;const{motionValue:a,name:n,repeatDelay:s,repeatType:r,damping:l,type:c}=e;if(!(((f=a==null?void 0:a.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:h}=a.owner.getProps();return qK()&&n&&HK.has(n)&&(n!=="transform"||!h)&&!m&&!s&&r!=="mirror"&&l!==0&&c!=="inertia"}const GK=40;class YK extends gN{constructor({autoplay:a=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:h,element:f,...g}){var j;super(),this.stop=()=>{var w,N;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=cs.now();const b={autoplay:a,delay:n,type:s,repeat:r,repeatDelay:l,repeatType:c,name:m,motionValue:h,element:f,...g},y=(f==null?void 0:f.KeyframeResolver)||vN;this.keyframeResolver=new y(d,(w,N,k)=>this.onKeyframesResolved(w,N,b,!k),m,h,f),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(a,n,s,r){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:h,onUpdate:f}=s;this.resolvedAt=cs.now(),VK(a,l,c,d)||((el.instantAnimations||!m)&&(f==null||f(pN(a,s,n))),a[0]=a[a.length-1],Cw(s),s.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>GK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:a},y=!h&&KK(b)?new UK({...b,element:b.motionValue.owner.current}):new bN(b);y.finished.then(()=>this.notifyFinished()).catch(or),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(a,n){return this.finished.finally(a).then(()=>{})}get animation(){var a;return this._animation||((a=this.keyframeResolver)==null||a.resume(),EK()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(a){this.animation.time=a}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(a){this.animation.speed=a}get startTime(){return this.animation.startTime}attachTimeline(a){return this._animation?this.stopTimeline=this.animation.attachTimeline(a):this.pendingTimeline=a,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var a;this._animation&&this.animation.cancel(),(a=this.keyframeResolver)==null||a.cancel()}}class WK{constructor(a){this.stop=()=>this.runAll("stop"),this.animations=a.filter(Boolean)}get finished(){return Promise.all(this.animations.map(a=>a.finished))}getAll(a){return this.animations[0][a]}setAll(a,n){for(let s=0;s<this.animations.length;s++)this.animations[s][a]=n}attachTimeline(a){const n=this.animations.map(s=>s.attachTimeline(a));return()=>{n.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(a){this.setAll("time",a)}get speed(){return this.getAll("speed")}set speed(a){this.setAll("speed",a)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let a=0;for(let n=0;n<this.animations.length;n++)a=Math.max(a,this.animations[n].duration);return a}runAll(a){this.animations.forEach(n=>n[a]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class XK extends WK{then(a,n){return this.finished.finally(a).then(()=>{})}}const ZK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QK(e){const a=ZK.exec(e);if(!a)return[,];const[,n,s,r]=a;return[`--${n??s}`,r]}function cD(e,a,n=1){const[s,r]=QK(e);if(!s)return;const l=window.getComputedStyle(a).getPropertyValue(s);if(l){const c=l.trim();return kM(c)?parseFloat(c):c}return uN(r)?cD(r,a,n+1):r}function jN(e,a){return(e==null?void 0:e[a])??(e==null?void 0:e.default)??e}const dD=new Set(["width","height","top","left","right","bottom",...vu]),JK={test:e=>e==="auto",parse:e=>e},uD=e=>a=>a.test(e),mD=[bu,ft,ci,Yl,Kq,qq,JK],lC=e=>mD.find(uD(e));function eG(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||AM(e):!0}const tG=new Set(["brightness","contrast","saturate","opacity"]);function aG(e){const[a,n]=e.slice(0,-1).split("(");if(a==="drop-shadow")return e;const[s]=n.match(mN)||[];if(!s)return e;const r=n.replace(s,"");let l=tG.has(a)?1:0;return s!==n&&(l*=100),a+"("+l+r+")"}const nG=/\b([a-z-]*)\(.*?\)/gu,Aw={...so,getAnimatableNone:e=>{const a=e.match(nG);return a?a.map(aG).join(" "):e}},oC={...bu,transform:Math.round},sG={rotate:Yl,rotateX:Yl,rotateY:Yl,rotateZ:Yl,scale:B0,scaleX:B0,scaleY:B0,scaleZ:B0,skew:Yl,skewX:Yl,skewY:Yl,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:Eh,originX:W3,originY:W3,originZ:ft},wN={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,top:ft,right:ft,bottom:ft,left:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,backgroundPositionX:ft,backgroundPositionY:ft,...sG,zIndex:oC,fillOpacity:Eh,strokeOpacity:Eh,numOctaves:oC},rG={...wN,color:Va,backgroundColor:Va,outlineColor:Va,fill:Va,stroke:Va,borderColor:Va,borderTopColor:Va,borderRightColor:Va,borderBottomColor:Va,borderLeftColor:Va,filter:Aw,WebkitFilter:Aw},hD=e=>rG[e];function fD(e,a){let n=hD(e);return n!==Aw&&(n=so),n.getAnimatableNone?n.getAnimatableNone(a):void 0}const iG=new Set(["auto","none","0"]);function lG(e,a,n){let s=0,r;for(;s<e.length&&!r;){const l=e[s];typeof l=="string"&&!iG.has(l)&&Ph(l).values.length&&(r=e[s]),s++}if(r&&n)for(const l of a)e[l]=fD(n,r)}class oG extends vN{constructor(a,n,s,r,l){super(a,n,s,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:a,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<a.length;m++){let h=a[m];if(typeof h=="string"&&(h=h.trim(),uN(h))){const f=cD(h,n.current);f!==void 0&&(a[m]=f),m===a.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!dD.has(s)||a.length!==2)return;const[r,l]=a,c=lC(r),d=lC(l);if(c!==d)if(nC(c)&&nC(d))for(let m=0;m<a.length;m++){const h=a[m];typeof h=="string"&&(a[m]=parseFloat(h))}else dc[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:a,name:n}=this,s=[];for(let r=0;r<a.length;r++)(a[r]===null||eG(a[r]))&&s.push(r);s.length&&lG(a,s,n)}measureInitialState(){const{element:a,unresolvedKeyframes:n,name:s}=this;if(!a||!a.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dc[s](a.measureViewportBox(),window.getComputedStyle(a.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&a.getValue(s,r).jump(r,!1)}measureEndState(){var d;const{element:a,name:n,unresolvedKeyframes:s}=this;if(!a||!a.current)return;const r=a.getValue(n);r&&r.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=dc[n](a.measureViewportBox(),window.getComputedStyle(a.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,h])=>{a.getValue(m).set(h)}),this.resolveNoneKeyframes()}}function xD(e,a,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const r=(n==null?void 0:n[e])??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const pD=(e,a)=>a&&typeof e=="number"?a.transform(e):e;function gD(e){return CM(e)&&"offsetHeight"in e}const cC=30,cG=e=>!isNaN(parseFloat(e)),ph={current:void 0};class dG{constructor(a,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const r=cs.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(a),this.owner=n.owner}setCurrent(a){this.current=a,this.updatedAt=cs.now(),this.canTrackVelocity===null&&a!==void 0&&(this.canTrackVelocity=cG(this.current))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,n){this.events[a]||(this.events[a]=new lN);const s=this.events[a].add(n);return a==="change"?()=>{s(),oa.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const a in this.events)this.events[a].clear()}attach(a,n){this.passiveEffect=a,this.stopPassiveEffect=n}set(a){this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a)}setWithVelocity(a,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-s}jump(a,n=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var a;(a=this.events.change)==null||a.notify(this.current)}addDependent(a){this.dependents||(this.dependents=new Set),this.dependents.add(a)}removeDependent(a){this.dependents&&this.dependents.delete(a)}get(){return ph.current&&ph.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const a=cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||a-this.updatedAt>cC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cC);return TM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(a){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=a(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var a,n;(a=this.dependents)==null||a.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vc(e,a){return new dG(e,a)}const{schedule:NN}=FM(queueMicrotask,!1),kr={x:!1,y:!1};function bD(){return kr.x||kr.y}function uG(e){return e==="x"||e==="y"?kr[e]?null:(kr[e]=!0,()=>{kr[e]=!1}):kr.x||kr.y?null:(kr.x=kr.y=!0,()=>{kr.x=kr.y=!1})}function vD(e,a){const n=xD(e),s=new AbortController,r={passive:!0,...a,signal:s.signal};return[n,r,()=>s.abort()]}function dC(e){return!(e.pointerType==="touch"||bD())}function mG(e,a,n={}){const[s,r,l]=vD(e,n),c=d=>{if(!dC(d))return;const{target:m}=d,h=a(m,d);if(typeof h!="function"||!m)return;const f=g=>{dC(g)&&(h(g),m.removeEventListener("pointerleave",f))};m.addEventListener("pointerleave",f,r)};return s.forEach(d=>{d.addEventListener("pointerenter",c,r)}),l}const yD=(e,a)=>a?e===a?!0:yD(e,a.parentElement):!1,SN=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fG(e){return hG.has(e.tagName)||e.tabIndex!==-1}const Yx=new WeakSet;function uC(e){return a=>{a.key==="Enter"&&e(a)}}function Sy(e,a){e.dispatchEvent(new PointerEvent("pointer"+a,{isPrimary:!0,bubbles:!0}))}const xG=(e,a)=>{const n=e.currentTarget;if(!n)return;const s=uC(()=>{if(Yx.has(n))return;Sy(n,"down");const r=uC(()=>{Sy(n,"up")}),l=()=>Sy(n,"cancel");n.addEventListener("keyup",r,a),n.addEventListener("blur",l,a)});n.addEventListener("keydown",s,a),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),a)};function mC(e){return SN(e)&&!bD()}function pG(e,a,n={}){const[s,r,l]=vD(e,n),c=d=>{const m=d.currentTarget;if(!mC(d))return;Yx.add(m);const h=a(m,d),f=(y,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),Yx.has(m)&&Yx.delete(m),mC(y)&&typeof h=="function"&&h(y,{success:j})},g=y=>{f(y,m===window||m===document||n.useGlobalTarget||yD(m,y.target))},b=y=>{f(y,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",b,r)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,r),gD(d)&&(d.addEventListener("focus",h=>xG(h,r)),!fG(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function _N(e){return CM(e)&&"ownerSVGElement"in e}function jD(e){return _N(e)&&e.tagName==="svg"}function gG(...e){const a=!Array.isArray(e[0]),n=a?0:-1,s=e[0+n],r=e[1+n],l=e[2+n],c=e[3+n],d=eD(r,l,c);return a?d(s):d}const mn=e=>!!(e&&e.getVelocity),bG=[...mD,Va,so],vG=e=>bG.find(uD(e)),ug=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class yG extends p.Component{getSnapshotBeforeUpdate(a){const n=this.props.childRef.current;if(n&&a.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=gD(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=r-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jG({children:e,isPresent:a,anchorX:n,root:s}){const r=p.useId(),l=p.useRef(null),c=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=p.useContext(ug);return p.useInsertionEffect(()=>{const{width:m,height:h,top:f,left:g,right:b}=c.current;if(a||!l.current||!m||!h)return;const y=n==="left"?`left: ${g}`:`right: ${b}`;l.current.dataset.motionPopId=r;const j=document.createElement("style");d&&(j.nonce=d);const w=s??document.head;return w.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${h}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(j)&&w.removeChild(j)}},[a]),t.jsx(yG,{isPresent:a,childRef:l,sizeRef:c,children:p.cloneElement(e,{ref:l})})}const wG=({children:e,initial:a,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:l,mode:c,anchorX:d,root:m})=>{const h=nf(NG),f=p.useId();let g=!0,b=p.useMemo(()=>(g=!1,{id:f,initial:a,isPresent:n,custom:r,onExitComplete:y=>{h.set(y,!0);for(const j of h.values())if(!j)return;s&&s()},register:y=>(h.set(y,!1),()=>h.delete(y))}),[n,h,s]);return l&&g&&(b={...b}),p.useMemo(()=>{h.forEach((y,j)=>h.set(j,!1))},[n]),p.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(e=t.jsx(jG,{isPresent:n,anchorX:d,root:m,children:e})),t.jsx(cg.Provider,{value:b,children:e})};function NG(){return new Map}function wD(e=!0){const a=p.useContext(cg);if(a===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=a,l=p.useId();p.useEffect(()=>{if(e)return r(l)},[e]);const c=p.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const z0=e=>e.key||"";function hC(e){const a=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&a.push(n)}),a}const kt=({children:e,custom:a,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[h,f]=wD(c),g=p.useMemo(()=>hC(e),[e]),b=c&&!h?[]:g.map(z0),y=p.useRef(!0),j=p.useRef(g),w=nf(()=>new Map),[N,k]=p.useState(g),[_,C]=p.useState(g);nN(()=>{y.current=!1,j.current=g;for(let E=0;E<_.length;E++){const B=z0(_[E]);b.includes(B)?w.delete(B):w.get(B)!==!0&&w.set(B,!1)}},[_,b.length,b.join("-")]);const O=[];if(g!==N){let E=[...g];for(let B=0;B<_.length;B++){const M=_[B],V=z0(M);b.includes(V)||(E.splice(B,0,M),O.push(M))}return l==="wait"&&O.length&&(E=O),C(hC(E)),k(g),null}const{forceRender:P}=p.useContext(tN);return t.jsx(t.Fragment,{children:_.map(E=>{const B=z0(E),M=c&&!h?!1:g===_||b.includes(B),V=()=>{if(w.has(B))w.set(B,!0);else return;let G=!0;w.forEach(H=>{H||(G=!1)}),G&&(P==null||P(),C(j.current),c&&(f==null||f()),s&&s())};return t.jsx(wG,{isPresent:M,initial:!y.current||n?void 0:!1,custom:a,presenceAffectsLayout:r,mode:l,root:m,onExitComplete:M?void 0:V,anchorX:d,children:E},B)})})},ND=p.createContext({strict:!1}),fC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jd={};for(const e in fC)Jd[e]={isEnabled:a=>fC[e].some(n=>!!a[n])};function SG(e){for(const a in e)Jd[a]={...Jd[a],...e[a]}}const _G=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_G.has(e)}let SD=e=>!cp(e);function kG(e){typeof e=="function"&&(SD=a=>a.startsWith("on")?!cp(a):e(a))}try{kG(require("@emotion/is-prop-valid").default)}catch{}function CG(e,a,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(SD(r)||n===!0&&cp(r)||!a&&!cp(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}const mg=p.createContext({});function hg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Mh(e){return typeof e=="string"||Array.isArray(e)}const kN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CN=["initial",...kN];function fg(e){return hg(e.animate)||CN.some(a=>Mh(e[a]))}function _D(e){return!!(fg(e)||e.variants)}function AG(e,a){if(fg(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Mh(n)?n:void 0,animate:Mh(s)?s:void 0}}return e.inherit!==!1?a:{}}function TG(e){const{initial:a,animate:n}=AG(e,p.useContext(mg));return p.useMemo(()=>({initial:a,animate:n}),[xC(a),xC(n)])}function xC(e){return Array.isArray(e)?e.join(" "):e}const Dh={};function EG(e){for(const a in e)Dh[a]=e[a],dN(a)&&(Dh[a].isCSSVariable=!0)}function kD(e,{layout:a,layoutId:n}){return yu.has(e)||e.startsWith("origin")||(a||n!==void 0)&&(!!Dh[e]||e==="opacity")}const PG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OG=vu.length;function MG(e,a,n){let s="",r=!0;for(let l=0;l<OG;l++){const c=vu[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const h=pD(d,wN[c]);if(!m){r=!1;const f=PG[c]||c;s+=`${f}(${h}) `}n&&(a[c]=h)}}return s=s.trim(),n?s=n(a,r?"":s):r&&(s="none"),s}function AN(e,a,n){const{style:s,vars:r,transformOrigin:l}=e;let c=!1,d=!1;for(const m in a){const h=a[m];if(yu.has(m)){c=!0;continue}else if(dN(m)){r[m]=h;continue}else{const f=pD(h,wN[m]);m.startsWith("origin")?(d=!0,l[m]=f):s[m]=f}}if(a.transform||(c||n?s.transform=MG(a,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:h="50%",originZ:f=0}=l;s.transformOrigin=`${m} ${h} ${f}`}}const TN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CD(e,a,n){for(const s in a)!mn(a[s])&&!kD(s,n)&&(e[s]=a[s])}function DG({transformTemplate:e},a){return p.useMemo(()=>{const n=TN();return AN(n,a,e),Object.assign({},n.vars,n.style)},[a])}function RG(e,a){const n=e.style||{},s={};return CD(s,n,e),Object.assign(s,DG(e,a)),s}function $G(e,a){const n={},s=RG(e,a);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const LG={offset:"stroke-dashoffset",array:"stroke-dasharray"},IG={offset:"strokeDashoffset",array:"strokeDasharray"};function BG(e,a,n=1,s=0,r=!0){e.pathLength=1;const l=r?LG:IG;e[l.offset]=ft.transform(-s);const c=ft.transform(a),d=ft.transform(n);e[l.array]=`${c} ${d}`}function AD(e,{attrX:a,attrY:n,attrScale:s,pathLength:r,pathSpacing:l=1,pathOffset:c=0,...d},m,h,f){if(AN(e,d,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b}=e;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete g.transformBox),a!==void 0&&(g.x=a),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),r!==void 0&&BG(g,r,l,c,!1)}const TD=()=>({...TN(),attrs:{}}),ED=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zG(e,a,n,s){const r=p.useMemo(()=>{const l=TD();return AD(l,a,ED(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[a]);if(e.style){const l={};CD(l,e.style,e),r.style={...l,...r.style}}return r}const UG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function EN(e){return typeof e!="string"||e.includes("-")?!1:!!(UG.indexOf(e)>-1||/[A-Z]/u.test(e))}function FG(e,a,n,{latestValues:s},r,l=!1){const d=(EN(e)?zG:$G)(a,s,r,e),m=CG(a,typeof e=="string",l),h=e!==p.Fragment?{...m,...d,ref:n}:{},{children:f}=a,g=p.useMemo(()=>mn(f)?f.get():f,[f]);return p.createElement(e,{...h,children:g})}function pC(e){const a=[{},{}];return e==null||e.values.forEach((n,s)=>{a[0][s]=n.get(),a[1][s]=n.getVelocity()}),a}function PN(e,a,n,s){if(typeof a=="function"){const[r,l]=pC(s);a=a(n!==void 0?n:e.custom,r,l)}if(typeof a=="string"&&(a=e.variants&&e.variants[a]),typeof a=="function"){const[r,l]=pC(s);a=a(n!==void 0?n:e.custom,r,l)}return a}function Wx(e){return mn(e)?e.get():e}function VG({scrapeMotionValuesFromProps:e,createRenderState:a},n,s,r){return{latestValues:HG(n,s,r,e),renderState:a()}}function HG(e,a,n,s){const r={},l=s(e,{});for(const b in l)r[b]=Wx(l[b]);let{initial:c,animate:d}=e;const m=fg(e),h=_D(e);a&&h&&!m&&e.inherit!==!1&&(c===void 0&&(c=a.initial),d===void 0&&(d=a.animate));let f=n?n.initial===!1:!1;f=f||c===!1;const g=f?d:c;if(g&&typeof g!="boolean"&&!hg(g)){const b=Array.isArray(g)?g:[g];for(let y=0;y<b.length;y++){const j=PN(e,b[y]);if(j){const{transitionEnd:w,transition:N,...k}=j;for(const _ in k){let C=k[_];if(Array.isArray(C)){const O=f?C.length-1:0;C=C[O]}C!==null&&(r[_]=C)}for(const _ in w)r[_]=w[_]}}}return r}const PD=e=>(a,n)=>{const s=p.useContext(mg),r=p.useContext(cg),l=()=>VG(e,a,s,r);return n?l():nf(l)};function ON(e,a,n){var l;const{style:s}=e,r={};for(const c in s)(mn(s[c])||a.style&&mn(a.style[c])||kD(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(r[c]=s[c]);return r}const qG=PD({scrapeMotionValuesFromProps:ON,createRenderState:TN});function OD(e,a,n){const s=ON(e,a,n);for(const r in e)if(mn(e[r])||mn(a[r])){const l=vu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[l]=e[r]}return s}const KG=PD({scrapeMotionValuesFromProps:OD,createRenderState:TD}),GG=Symbol.for("motionComponentSymbol");function Dd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function YG(e,a,n){return p.useCallback(s=>{s&&e.onMount&&e.onMount(s),a&&(s?a.mount(s):a.unmount()),n&&(typeof n=="function"?n(s):Dd(n)&&(n.current=s))},[a])}const MN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WG="framerAppearId",MD="data-"+MN(WG),DD=p.createContext({});function XG(e,a,n,s,r){var w,N;const{visualElement:l}=p.useContext(mg),c=p.useContext(ND),d=p.useContext(cg),m=p.useContext(ug).reducedMotion,h=p.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(e,{visualState:a,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const f=h.current,g=p.useContext(DD);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&ZG(h.current,n,r,g);const b=p.useRef(!1);p.useInsertionEffect(()=>{f&&b.current&&f.update(n,d)});const y=n[MD],j=p.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,y)));return nN(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),j.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!j.current&&f.animationState&&f.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,y)}),j.current=!1),f.enteringChildren=void 0)}),f}function ZG(e,a,n,s){const{layoutId:r,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:h,layoutCrossfade:f}=a;e.projection=new n(e.latestValues,a["data-framer-portal-id"]?void 0:RD(e.parent)),e.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||d&&Dd(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:f,layoutScroll:m,layoutRoot:h})}function RD(e){if(e)return e.options.allowProjection!==!1?e.projection:RD(e.parent)}function _y(e,{forwardMotionProps:a=!1}={},n,s){n&&SG(n);const r=EN(e)?KG:qG;function l(d,m){let h;const f={...p.useContext(ug),...d,layoutId:QG(d)},{isStatic:g}=f,b=TG(d),y=r(d,g);if(!g&&aN){JG();const j=eY(f);h=j.MeasureLayout,b.visualElement=XG(e,y,f,s,j.ProjectionNode)}return t.jsxs(mg.Provider,{value:b,children:[h&&b.visualElement?t.jsx(h,{visualElement:b.visualElement,...f}):null,FG(e,d,YG(y,b.visualElement,m),y,g,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=p.forwardRef(l);return c[GG]=e,c}function QG({layoutId:e}){const a=p.useContext(tN).id;return a&&e!==void 0?a+"-"+e:e}function JG(e,a){p.useContext(ND).strict}function eY(e){const{drag:a,layout:n}=Jd;if(!a&&!n)return{};const s={...a,...n};return{MeasureLayout:a!=null&&a.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function tY(e,a){if(typeof Proxy>"u")return _y;const n=new Map,s=(l,c)=>_y(l,c,e,a),r=(l,c)=>s(l,c);return new Proxy(r,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,_y(c,void 0,e,a)),n.get(c))})}function $D({top:e,left:a,right:n,bottom:s}){return{x:{min:a,max:n},y:{min:e,max:s}}}function aY({x:e,y:a}){return{top:a.min,right:e.max,bottom:a.max,left:e.min}}function nY(e,a){if(!a)return e;const n=a({x:e.left,y:e.top}),s=a({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function ky(e){return e===void 0||e===1}function Tw({scale:e,scaleX:a,scaleY:n}){return!ky(e)||!ky(a)||!ky(n)}function Ko(e){return Tw(e)||LD(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function LD(e){return gC(e.x)||gC(e.y)}function gC(e){return e&&e!=="0%"}function dp(e,a,n){const s=e-n,r=a*s;return n+r}function bC(e,a,n,s,r){return r!==void 0&&(e=dp(e,r,s)),dp(e,n,s)+a}function Ew(e,a=0,n=1,s,r){e.min=bC(e.min,a,n,s,r),e.max=bC(e.max,a,n,s,r)}function ID(e,{x:a,y:n}){Ew(e.x,a.translate,a.scale,a.originPoint),Ew(e.y,n.translate,n.scale,n.originPoint)}const vC=.999999999999,yC=1.0000000000001;function sY(e,a,n,s=!1){const r=n.length;if(!r)return;a.x=a.y=1;let l,c;for(let d=0;d<r;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&$d(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(a.x*=c.x.scale,a.y*=c.y.scale,ID(e,c)),s&&Ko(l.latestValues)&&$d(e,l.latestValues))}a.x<yC&&a.x>vC&&(a.x=1),a.y<yC&&a.y>vC&&(a.y=1)}function Rd(e,a){e.min=e.min+a,e.max=e.max+a}function jC(e,a,n,s,r=.5){const l=ma(e.min,e.max,r);Ew(e,a,n,l,s)}function $d(e,a){jC(e.x,a.x,a.scaleX,a.scale,a.originX),jC(e.y,a.y,a.scaleY,a.scale,a.originY)}function BD(e,a){return $D(nY(e.getBoundingClientRect(),a))}function rY(e,a,n){const s=BD(e,n),{scroll:r}=a;return r&&(Rd(s.x,r.offset.x),Rd(s.y,r.offset.y)),s}const wC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ld=()=>({x:wC(),y:wC()}),NC=()=>({min:0,max:0}),ka=()=>({x:NC(),y:NC()}),Pw={current:null},zD={current:!1};function iY(){if(zD.current=!0,!!aN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),a=()=>Pw.current=e.matches;e.addEventListener("change",a),a()}else Pw.current=!1}const Rh=new WeakMap;function lY(e,a,n){for(const s in a){const r=a[s],l=n[s];if(mn(r))e.addValue(s,r);else if(mn(l))e.addValue(s,vc(r,{owner:e}));else if(l!==r)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=e.getStaticValue(s);e.addValue(s,vc(c!==void 0?c:r,{owner:e}))}}for(const s in n)a[s]===void 0&&e.removeValue(s);return a}const SC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UD{scrapeMotionValuesFromProps(a,n,s){return{}}constructor({parent:a,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=cs.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,oa.render(this.render,!1,!0))};const{latestValues:m,renderState:h}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=h,this.parent=a,this.props=n,this.presenceContext=s,this.depth=a?a.depth+1:0,this.reducedMotionConfig=r,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=fg(n),this.isVariantNode=_D(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in g){const y=g[b];m[b]!==void 0&&mn(y)&&y.set(m[b])}}mount(a){var n;this.current=a,Rh.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),zD.current||iY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var a;this.projection&&this.projection.unmount(),tl(this.notifyUpdate),tl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(a=this.parent)==null||a.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(a){this.children.add(a),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(a)}removeChild(a){this.children.delete(a),this.enteringChildren&&this.enteringChildren.delete(a)}bindToMotionValue(a,n){this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();const s=yu.has(a);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[a]=c,this.props.onUpdate&&oa.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,a,n)),this.valueSubscriptions.set(a,()=>{r(),l&&l(),n.owner&&n.stop()})}sortNodePosition(a){return!this.current||!this.sortInstanceNodePosition||this.type!==a.type?0:this.sortInstanceNodePosition(this.current,a.current)}updateFeatures(){let a="animation";for(a in Jd){const n=Jd[a];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[a]&&r&&s(this.props)&&(this.features[a]=new r(this)),this.features[a]){const l=this.features[a];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ka()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,n){this.latestValues[a]=n}update(a,n){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<SC.length;s++){const r=SC[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=a[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=lY(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(a),()=>n.variantChildren.delete(a)}addValue(a,n){const s=this.values.get(a);n!==s&&(s&&this.removeValue(a),this.bindToMotionValue(a,n),this.values.set(a,n),this.latestValues[a]=n.get())}removeValue(a){this.values.delete(a);const n=this.valueSubscriptions.get(a);n&&(n(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,n){if(this.props.values&&this.props.values[a])return this.props.values[a];let s=this.values.get(a);return s===void 0&&n!==void 0&&(s=vc(n===null?void 0:n,{owner:this}),this.addValue(a,s)),s}readValue(a,n){let s=this.latestValues[a]!==void 0||!this.current?this.latestValues[a]:this.getBaseTargetFromProps(this.props,a)??this.readValueFromInstance(this.current,a,this.options);return s!=null&&(typeof s=="string"&&(kM(s)||AM(s))?s=parseFloat(s):!vG(s)&&so.test(n)&&(s=fD(a,n)),this.setBaseTarget(a,mn(s)?s.get():s)),mn(s)?s.get():s}setBaseTarget(a,n){this.baseTarget[a]=n}getBaseTarget(a){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=PN(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[a])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,a);return r!==void 0&&!mn(r)?r:this.initialValues[a]!==void 0&&s===void 0?void 0:this.baseTarget[a]}on(a,n){return this.events[a]||(this.events[a]=new lN),this.events[a].add(n)}notify(a,...n){this.events[a]&&this.events[a].notify(...n)}scheduleRenderMicrotask(){NN.render(this.render)}}class FD extends UD{constructor(){super(...arguments),this.KeyframeResolver=oG}sortInstanceNodePosition(a,n){return a.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(a,n){return a.style?a.style[n]:void 0}removeValueFromRenderState(a,{vars:n,style:s}){delete n[a],delete s[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:a}=this.props;mn(a)&&(this.childSubscription=a.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function VD(e,{style:a,vars:n},s,r){const l=e.style;let c;for(c in a)l[c]=a[c];r==null||r.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function oY(e){return window.getComputedStyle(e)}class HD extends FD{constructor(){super(...arguments),this.type="html",this.renderInstance=VD}readValueFromInstance(a,n){var s;if(yu.has(n))return(s=this.projection)!=null&&s.isProjecting?ww(n):_K(a,n);{const r=oY(a),l=(dN(n)?r.getPropertyValue(n):r[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(a,{transformPagePoint:n}){return BD(a,n)}build(a,n,s){AN(a,n,s.transformTemplate)}scrapeMotionValuesFromProps(a,n,s){return ON(a,n,s)}}const qD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cY(e,a,n,s){VD(e,a,void 0,s);for(const r in a.attrs)e.setAttribute(qD.has(r)?r:MN(r),a.attrs[r])}class KD extends FD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ka}getBaseTargetFromProps(a,n){return a[n]}readValueFromInstance(a,n){if(yu.has(n)){const s=hD(n);return s&&s.default||0}return n=qD.has(n)?n:MN(n),a.getAttribute(n)}scrapeMotionValuesFromProps(a,n,s){return OD(a,n,s)}build(a,n,s){AD(a,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(a,n,s,r){cY(a,n,s,r)}mount(a){this.isSVGTag=ED(a.tagName),super.mount(a)}}const dY=(e,a)=>EN(e)?new KD(a):new HD(a,{allowProjection:e!==p.Fragment});function Fd(e,a,n){const s=e.getProps();return PN(s,a,n!==void 0?n:s.custom,e)}const Ow=e=>Array.isArray(e);function uY(e,a,n){e.hasValue(a)?e.getValue(a).set(n):e.addValue(a,vc(n))}function mY(e){return Ow(e)?e[e.length-1]||0:e}function hY(e,a){const n=Fd(e,a);let{transitionEnd:s={},transition:r={},...l}=n||{};l={...l,...s};for(const c in l){const d=mY(l[c]);uY(e,c,d)}}function fY(e){return!!(mn(e)&&e.add)}function Mw(e,a){const n=e.getValue("willChange");if(fY(n))return n.add(a);if(!n&&el.WillChange){const s=new el.WillChange("auto");e.addValue("willChange",s),s.add(a)}}function GD(e){return e.props[MD]}const xY=e=>e!==null;function pY(e,{repeat:a,repeatType:n="loop"},s){const r=e.filter(xY),l=a&&n!=="loop"&&a%2===1?0:r.length-1;return r[l]}const gY={type:"spring",stiffness:500,damping:25,restSpeed:10},bY=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vY={type:"keyframes",duration:.8},yY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jY=(e,{keyframes:a})=>a.length>2?vY:yu.has(e)?e.startsWith("scale")?bY(a[1]):gY:yY;function wY({when:e,delay:a,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:h,...f}){return!!Object.keys(f).length}const DN=(e,a,n,s={},r,l)=>c=>{const d=jN(s,e)||{},m=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Rr(m);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:a.getVelocity(),...d,delay:-h,onUpdate:b=>{a.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:a,element:l?void 0:r};wY(d)||Object.assign(f,jY(e,f)),f.duration&&(f.duration=Rr(f.duration)),f.repeatDelay&&(f.repeatDelay=Rr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Cw(f),f.delay===0&&(g=!0)),(el.instantAnimations||el.skipAnimations)&&(g=!0,Cw(f),f.delay=0),f.allowFlatten=!d.type&&!d.ease,g&&!l&&a.get()!==void 0){const b=pY(f.keyframes,d);if(b!==void 0){oa.update(()=>{f.onUpdate(b),f.onComplete()});return}}return d.isSync?new bN(f):new YK(f)};function NY({protectedKeys:e,needsAnimating:a},n){const s=e.hasOwnProperty(n)&&a[n]!==!0;return a[n]=!1,s}function RN(e,a,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=a;s&&(l=s);const m=[],h=r&&e.animationState&&e.animationState.getState()[r];for(const f in d){const g=e.getValue(f,e.latestValues[f]??null),b=d[f];if(b===void 0||h&&NY(h,f))continue;const y={delay:n,...jN(l||{},f)},j=g.get();if(j!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===j&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const k=GD(e);if(k){const _=window.MotionHandoffAnimation(k,f,oa);_!==null&&(y.startTime=_,w=!0)}}Mw(e,f),g.start(DN(f,g,b,e.shouldReduceMotion&&dD.has(f)?{type:!1}:y,e,w));const N=g.animation;N&&m.push(N)}return c&&Promise.all(m).then(()=>{oa.update(()=>{c&&hY(e,c)})}),m}function YD(e,a,n,s=0,r=1){const l=Array.from(e).sort((h,f)=>h.sortNodePosition(f)).indexOf(a),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):r===1?l*s:d-l*s}function Dw(e,a,n={}){var m;const s=Fd(e,a,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const l=s?()=>Promise.all(RN(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:b}=r;return SY(e,a,h,f,g,b,n)}:()=>Promise.resolve(),{when:d}=r;if(d){const[h,f]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>f())}else return Promise.all([l(),c(n.delay)])}function SY(e,a,n=0,s=0,r=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",a),d.push(Dw(m,a,{...c,delay:n+(typeof s=="function"?0:s)+YD(e.variantChildren,m,s,r,l)}).then(()=>m.notify("AnimationComplete",a)));return Promise.all(d)}function _Y(e,a,n={}){e.notify("AnimationStart",a);let s;if(Array.isArray(a)){const r=a.map(l=>Dw(e,l,n));s=Promise.all(r)}else if(typeof a=="string")s=Dw(e,a,n);else{const r=typeof a=="function"?Fd(e,a,n.custom):a;s=Promise.all(RN(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",a)})}function WD(e,a){if(!Array.isArray(a))return!1;const n=a.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(a[s]!==e[s])return!1;return!0}const kY=CN.length;function XD(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?XD(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const a={};for(let n=0;n<kY;n++){const s=CN[n],r=e.props[s];(Mh(r)||r===!1)&&(a[s]=r)}return a}const CY=[...kN].reverse(),AY=kN.length;function TY(e){return a=>Promise.all(a.map(({animation:n,options:s})=>_Y(e,n,s)))}function EY(e){let a=TY(e),n=_C(),s=!0;const r=m=>(h,f)=>{var b;const g=Fd(e,f,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:y,transitionEnd:j,...w}=g;h={...h,...w,...j}}return h};function l(m){a=m(e)}function c(m){const{props:h}=e,f=XD(e.parent)||{},g=[],b=new Set;let y={},j=1/0;for(let N=0;N<AY;N++){const k=CY[N],_=n[k],C=h[k]!==void 0?h[k]:f[k],O=Mh(C),P=k===m?_.isActive:null;P===!1&&(j=N);let E=C===f[k]&&C!==h[k]&&O;if(E&&s&&e.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...y},!_.isActive&&P===null||!C&&!_.prevProp||hg(C)||typeof C=="boolean")continue;const B=PY(_.prevProp,C);let M=B||k===m&&_.isActive&&!E&&O||N>j&&O,V=!1;const G=Array.isArray(C)?C:[C];let H=G.reduce(r(k),{});P===!1&&(H={});const{prevResolvedValues:F={}}=_,ie={...F,...H},_e=K=>{M=!0,b.has(K)&&(V=!0,b.delete(K)),_.needsAnimating[K]=!0;const W=e.getValue(K);W&&(W.liveStyle=!1)};for(const K in ie){const W=H[K],I=F[K];if(y.hasOwnProperty(K))continue;let A=!1;Ow(W)&&Ow(I)?A=!WD(W,I):A=W!==I,A?W!=null?_e(K):b.add(K):W!==void 0&&b.has(K)?_e(K):_.protectedKeys[K]=!0}_.prevProp=C,_.prevResolvedValues=H,_.isActive&&(y={...y,...H}),s&&e.blockInitialAnimation&&(M=!1);const ce=E&&B;M&&(!ce||V)&&g.push(...G.map(K=>{const W={type:k};if(typeof K=="string"&&s&&!ce&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,A=Fd(I,K);if(I.enteringChildren&&A){const{delayChildren:$}=A.transition||{};W.delay=YD(I.enteringChildren,e,$)}}return{animation:K,options:W}}))}if(b.size){const N={};if(typeof h.initial!="boolean"){const k=Fd(e,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(N.transition=k.transition)}b.forEach(k=>{const _=e.getBaseTarget(k),C=e.getValue(k);C&&(C.liveStyle=!0),N[k]=_??null}),g.push({animation:N})}let w=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(w=!1),s=!1,w?a(g):Promise.resolve()}function d(m,h){var g;if(n[m].isActive===h)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(b=>{var y;return(y=b.animationState)==null?void 0:y.setActive(m,h)}),n[m].isActive=h;const f=c(m);for(const b in n)n[b].protectedKeys={};return f}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=_C(),s=!0}}}function PY(e,a){return typeof a=="string"?a!==e:Array.isArray(a)?!WD(a,e):!1}function Do(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _C(){return{animate:Do(!0),whileInView:Do(),whileHover:Do(),whileTap:Do(),whileDrag:Do(),whileFocus:Do(),exit:Do()}}class uo{constructor(a){this.isMounted=!1,this.node=a}update(){}}class OY extends uo{constructor(a){super(a),a.animationState||(a.animationState=EY(a))}updateAnimationControlsSubscription(){const{animate:a}=this.node.getProps();hg(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:a}=this.node.getProps(),{animate:n}=this.node.prevProps||{};a!==n&&this.updateAnimationControlsSubscription()}unmount(){var a;this.node.animationState.reset(),(a=this.unmountControls)==null||a.call(this)}}let MY=0;class DY extends uo{constructor(){super(...arguments),this.id=MY++}update(){if(!this.node.presenceContext)return;const{isPresent:a,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===s)return;const r=this.node.animationState.setActive("exit",!a);n&&!a&&r.then(()=>{n(this.id)})}mount(){const{register:a,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),a&&(this.unmount=a(this.id))}unmount(){}}const RY={animation:{Feature:OY},exit:{Feature:DY}};function $h(e,a,n,s={passive:!0}){return e.addEventListener(a,n,s),()=>e.removeEventListener(a,n)}function of(e){return{point:{x:e.pageX,y:e.pageY}}}const $Y=e=>a=>SN(a)&&e(a,of(a));function gh(e,a,n,s){return $h(e,a,$Y(n),s)}const ZD=1e-4,LY=1-ZD,IY=1+ZD,QD=.01,BY=0-QD,zY=0+QD;function Wn(e){return e.max-e.min}function UY(e,a,n){return Math.abs(e-a)<=n}function kC(e,a,n,s=.5){e.origin=s,e.originPoint=ma(a.min,a.max,e.origin),e.scale=Wn(n)/Wn(a),e.translate=ma(n.min,n.max,e.origin)-e.originPoint,(e.scale>=LY&&e.scale<=IY||isNaN(e.scale))&&(e.scale=1),(e.translate>=BY&&e.translate<=zY||isNaN(e.translate))&&(e.translate=0)}function bh(e,a,n,s){kC(e.x,a.x,n.x,s?s.originX:void 0),kC(e.y,a.y,n.y,s?s.originY:void 0)}function CC(e,a,n){e.min=n.min+a.min,e.max=e.min+Wn(a)}function FY(e,a,n){CC(e.x,a.x,n.x),CC(e.y,a.y,n.y)}function AC(e,a,n){e.min=a.min-n.min,e.max=e.min+Wn(a)}function vh(e,a,n){AC(e.x,a.x,n.x),AC(e.y,a.y,n.y)}function sr(e){return[e("x"),e("y")]}const JD=({current:e})=>e?e.ownerDocument.defaultView:null,TC=(e,a)=>Math.abs(e-a);function VY(e,a){const n=TC(e.x,a.x),s=TC(e.y,a.y);return Math.sqrt(n**2+s**2)}class e8{constructor(a,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ay(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,j=VY(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!j)return;const{point:w}=b,{timestamp:N}=Sn;this.history.push({...w,timestamp:N});const{onStart:k,onMove:_}=this.handlers;y||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,b)},this.handlePointerMove=(b,y)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Cy(y,this.transformPagePoint),oa.update(this.updatePoint,!0)},this.handlePointerUp=(b,y)=>{this.end();const{onEnd:j,onSessionEnd:w,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Ay(b.type==="pointercancel"?this.lastMoveEventInfo:Cy(y,this.transformPagePoint),this.history);this.startEvent&&j&&j(b,k),w&&w(b,k)},!SN(a))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=r||window;const d=of(a),m=Cy(d,this.transformPagePoint),{point:h}=m,{timestamp:f}=Sn;this.history=[{...h,timestamp:f}];const{onSessionStart:g}=n;g&&g(a,Ay(m,this.history)),this.removeListeners=sf(gh(this.contextWindow,"pointermove",this.handlePointerMove),gh(this.contextWindow,"pointerup",this.handlePointerUp),gh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),tl(this.updatePoint)}}function Cy(e,a){return a?{point:a(e.point)}:e}function EC(e,a){return{x:e.x-a.x,y:e.y-a.y}}function Ay({point:e},a){return{point:e,delta:EC(e,t8(a)),offset:EC(e,HY(a)),velocity:qY(a,.1)}}function HY(e){return e[0]}function t8(e){return e[e.length-1]}function qY(e,a){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=t8(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>Rr(a)));)n--;if(!s)return{x:0,y:0};const l=oi(r.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-s.x)/l,y:(r.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function KY(e,{min:a,max:n},s){return a!==void 0&&e<a?e=s?ma(a,e,s.min):Math.max(e,a):n!==void 0&&e>n&&(e=s?ma(n,e,s.max):Math.min(e,n)),e}function PC(e,a,n){return{min:a!==void 0?e.min+a:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function GY(e,{top:a,left:n,bottom:s,right:r}){return{x:PC(e.x,n,r),y:PC(e.y,a,s)}}function OC(e,a){let n=a.min-e.min,s=a.max-e.max;return a.max-a.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function YY(e,a){return{x:OC(e.x,a.x),y:OC(e.y,a.y)}}function WY(e,a){let n=.5;const s=Wn(e),r=Wn(a);return r>s?n=Qd(a.min,a.max-s,e.min):s>r&&(n=Qd(e.min,e.max-r,a.min)),Ji(0,1,n)}function XY(e,a){const n={};return a.min!==void 0&&(n.min=a.min-e.min),a.max!==void 0&&(n.max=a.max-e.min),n}const Rw=.35;function ZY(e=Rw){return e===!1?e=0:e===!0&&(e=Rw),{x:MC(e,"left","right"),y:MC(e,"top","bottom")}}function MC(e,a,n){return{min:DC(e,a),max:DC(e,n)}}function DC(e,a){return typeof e=="number"?e:e[a]||0}const QY=new WeakMap;class JY{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ka(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=a}start(a,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(of(g).point)},c=(g,b)=>{const{drag:y,dragPropagation:j,onDragStart:w}=this.getProps();if(y&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uG(y),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(k=>{let _=this.getAxisMotionValue(k).get()||0;if(ci.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const O=C.layout.layoutBox[k];O&&(_=Wn(O)*(parseFloat(_)/100))}}this.originPoint[k]=_}),w&&oa.postRender(()=>w(g,b)),Mw(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:y,dragDirectionLock:j,onDirectionLock:w,onDrag:N}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:k}=b;if(j&&this.currentDirection===null){this.currentDirection=eW(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),N&&N(g,b)},m=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>sr(g=>{var b;return this.getAnimationState(g)==="paused"&&((b=this.getAxisMotionValue(g).animation)==null?void 0:b.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new e8(a,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:s,contextWindow:JD(this.visualElement)})}stop(a,n){const s=a||this.latestPointerEvent,r=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!s)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&oa.postRender(()=>d(s,r))}cancel(){this.isDragging=!1;const{projection:a,animationState:n}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(a,n,s){const{drag:r}=this.getProps();if(!s||!U0(a,r,this.currentDirection))return;const l=this.getAxisMotionValue(a);let c=this.originPoint[a]+s[a];this.constraints&&this.constraints[a]&&(c=KY(c,this.constraints[a],this.elastic[a])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:a,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,r=this.constraints;a&&Dd(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&s?this.constraints=GY(s.layoutBox,a):this.constraints=!1,this.elastic=ZY(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&sr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=XY(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:a,onMeasureDragConstraints:n}=this.getProps();if(!a||!Dd(a))return!1;const s=a.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=rY(s,r.root,this.visualElement.getTransformPagePoint());let c=YY(r.layout.layoutBox,l);if(n){const d=n(aY(c));this.hasMutatedConstraints=!!d,d&&(c=$D(d))}return c}startAnimation(a){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},h=sr(f=>{if(!U0(f,n,this.currentDirection))return;let g=m&&m[f]||{};c&&(g={min:0,max:0});const b=r?200:1e6,y=r?40:1e7,j={type:"inertia",velocity:s?a[f]:0,bounceStiffness:b,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(f,j)});return Promise.all(h).then(d)}startAxisValueAnimation(a,n){const s=this.getAxisMotionValue(a);return Mw(this.visualElement,a),s.start(DN(a,s,0,n,this.visualElement,!1))}stopAnimation(){sr(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){sr(a=>{var n;return(n=this.getAxisMotionValue(a).animation)==null?void 0:n.pause()})}getAnimationState(a){var n;return(n=this.getAxisMotionValue(a).animation)==null?void 0:n.state}getAxisMotionValue(a){const n=`_drag${a.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(a,(s.initial?s.initial[a]:void 0)||0)}snapToCursor(a){sr(n=>{const{drag:s}=this.getProps();if(!U0(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:d}=r.layout.layoutBox[n];l.set(a[n]-ma(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:a,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Dd(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};sr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();r[c]=WY({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),sr(c=>{if(!U0(c,a,null))return;const d=this.getAxisMotionValue(c),{min:m,max:h}=this.constraints[c];d.set(ma(m,h,r[c]))})}addListeners(){if(!this.visualElement.current)return;QY.set(this.visualElement,this);const a=this.visualElement.current,n=gh(a,"pointerdown",m=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Dd(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),oa.read(s);const c=$h(window,"resize",()=>this.scalePositionWithinConstraints()),d=r.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h})=>{this.isDragging&&h&&(sr(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=m[f].translate,g.set(g.get()+m[f].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const a=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=Rw,dragMomentum:d=!0}=a;return{...a,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function U0(e,a,n){return(a===!0||a===e)&&(n===null||n===e)}function eW(e,a=10){let n=null;return Math.abs(e.y)>a?n="y":Math.abs(e.x)>a&&(n="x"),n}class tW extends uo{constructor(a){super(a),this.removeGroupControls=or,this.removeListeners=or,this.controls=new JY(a)}mount(){const{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||or}unmount(){this.removeGroupControls(),this.removeListeners()}}const RC=e=>(a,n)=>{e&&oa.postRender(()=>e(a,n))};class aW extends uo{constructor(){super(...arguments),this.removePointerDownListener=or}onPointerDown(a){this.session=new e8(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JD(this.node)})}createPanHandlers(){const{onPanSessionStart:a,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:RC(a),onStart:RC(n),onMove:s,onEnd:(l,c)=>{delete this.session,r&&oa.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=gh(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $C(e,a){return a.max===a.min?0:e/(a.max-a.min)*100}const Tm={correct:(e,a)=>{if(!a.target)return e;if(typeof e=="string")if(ft.test(e))e=parseFloat(e);else return e;const n=$C(e,a.target.x),s=$C(e,a.target.y);return`${n}% ${s}%`}},nW={correct:(e,{treeScale:a,projectionDelta:n})=>{const s=e,r=so.parse(e);if(r.length>5)return s;const l=so.createTransformer(e),c=typeof r[0]!="number"?1:0,d=n.x.scale*a.x,m=n.y.scale*a.y;r[0+c]/=d,r[1+c]/=m;const h=ma(d,m,.5);return typeof r[2+c]=="number"&&(r[2+c]/=h),typeof r[3+c]=="number"&&(r[3+c]/=h),l(r)}};let Ty=!1;class sW extends p.Component{componentDidMount(){const{visualElement:a,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:l}=a;EG(rW),l&&(n.group&&n.group.add(l),s&&s.register&&r&&s.register(l),Ty&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Xx.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){const{layoutDependency:n,visualElement:s,drag:r,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Ty=!0,r||a.layoutDependency!==n||n===void 0||a.isPresent!==l?c.willUpdate():this.safeToRemove(),a.isPresent!==l&&(l?c.promote():c.relegate()||oa.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),NN.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:a,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=a;Ty=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:a}=this.props;a&&a()}render(){return null}}function a8(e){const[a,n]=wD(),s=p.useContext(tN);return t.jsx(sW,{...e,layoutGroup:s,switchLayoutGroup:p.useContext(DD),isPresent:a,safeToRemove:n})}const rW={borderRadius:{...Tm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tm,borderTopRightRadius:Tm,borderBottomLeftRadius:Tm,borderBottomRightRadius:Tm,boxShadow:nW};function n8(e,a,n){const s=mn(e)?e:vc(e);return s.start(DN("",s,a,n)),s.animation}const iW=(e,a)=>e.depth-a.depth;class lW{constructor(){this.children=[],this.isDirty=!1}add(a){sN(this.children,a),this.isDirty=!0}remove(a){dg(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(iW),this.isDirty=!1,this.children.forEach(a)}}function oW(e,a){const n=cs.now(),s=({timestamp:r})=>{const l=r-n;l>=a&&(tl(s),e(l-a))};return oa.setup(s,!0),()=>tl(s)}const s8=["TopLeft","TopRight","BottomLeft","BottomRight"],cW=s8.length,LC=e=>typeof e=="string"?parseFloat(e):e,IC=e=>typeof e=="number"||ft.test(e);function dW(e,a,n,s,r,l){r?(e.opacity=ma(0,n.opacity??1,uW(s)),e.opacityExit=ma(a.opacity??1,0,mW(s))):l&&(e.opacity=ma(a.opacity??1,n.opacity??1,s));for(let c=0;c<cW;c++){const d=`border${s8[c]}Radius`;let m=BC(a,d),h=BC(n,d);if(m===void 0&&h===void 0)continue;m||(m=0),h||(h=0),m===0||h===0||IC(m)===IC(h)?(e[d]=Math.max(ma(LC(m),LC(h),s),0),(ci.test(h)||ci.test(m))&&(e[d]+="%")):e[d]=h}(a.rotate||n.rotate)&&(e.rotate=ma(a.rotate||0,n.rotate||0,s))}function BC(e,a){return e[a]!==void 0?e[a]:e.borderRadius}const uW=r8(0,.5,$M),mW=r8(.5,.95,or);function r8(e,a,n){return s=>s<e?0:s>a?1:n(Qd(e,a,s))}function zC(e,a){e.min=a.min,e.max=a.max}function Xs(e,a){zC(e.x,a.x),zC(e.y,a.y)}function UC(e,a){e.translate=a.translate,e.scale=a.scale,e.originPoint=a.originPoint,e.origin=a.origin}function FC(e,a,n,s,r){return e-=a,e=dp(e,1/n,s),r!==void 0&&(e=dp(e,1/r,s)),e}function hW(e,a=0,n=1,s=.5,r,l=e,c=e){if(ci.test(a)&&(a=parseFloat(a),a=ma(c.min,c.max,a/100)-c.min),typeof a!="number")return;let d=ma(l.min,l.max,s);e===l&&(d-=a),e.min=FC(e.min,a,n,d,r),e.max=FC(e.max,a,n,d,r)}function VC(e,a,[n,s,r],l,c){hW(e,a[n],a[s],a[r],a.scale,l,c)}const fW=["x","scaleX","originX"],xW=["y","scaleY","originY"];function HC(e,a,n,s){VC(e.x,a,fW,n?n.x:void 0,s?s.x:void 0),VC(e.y,a,xW,n?n.y:void 0,s?s.y:void 0)}function qC(e){return e.translate===0&&e.scale===1}function i8(e){return qC(e.x)&&qC(e.y)}function KC(e,a){return e.min===a.min&&e.max===a.max}function pW(e,a){return KC(e.x,a.x)&&KC(e.y,a.y)}function GC(e,a){return Math.round(e.min)===Math.round(a.min)&&Math.round(e.max)===Math.round(a.max)}function l8(e,a){return GC(e.x,a.x)&&GC(e.y,a.y)}function YC(e){return Wn(e.x)/Wn(e.y)}function WC(e,a){return e.translate===a.translate&&e.scale===a.scale&&e.originPoint===a.originPoint}class gW{constructor(){this.members=[]}add(a){sN(this.members,a),a.scheduleRender()}remove(a){if(dg(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(a){const n=this.members.findIndex(r=>a===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(a,n){const s=this.lead;if(a!==s&&(this.prevLead=s,this.lead=a,a.show(),s)){s.instance&&s.scheduleRender(),a.scheduleRender(),a.resumeFrom=s,n&&(a.resumeFrom.preserveOpacity=!0),s.snapshot&&(a.snapshot=s.snapshot,a.snapshot.latestValues=s.animationValues||s.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);const{crossfade:r}=a.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(a=>{const{options:n,resumingFrom:s}=a;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bW(e,a,n){let s="";const r=e.x.translate/a.x,l=e.y.translate/a.y,c=(n==null?void 0:n.z)||0;if((r||l||c)&&(s=`translate3d(${r}px, ${l}px, ${c}px) `),(a.x!==1||a.y!==1)&&(s+=`scale(${1/a.x}, ${1/a.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:g,rotateY:b,skewX:y,skewY:j}=n;h&&(s=`perspective(${h}px) ${s}`),f&&(s+=`rotate(${f}deg) `),g&&(s+=`rotateX(${g}deg) `),b&&(s+=`rotateY(${b}deg) `),y&&(s+=`skewX(${y}deg) `),j&&(s+=`skewY(${j}deg) `)}const d=e.x.scale*a.x,m=e.y.scale*a.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Ey=["","X","Y","Z"],vW=1e3;let yW=0;function Py(e,a,n,s){const{latestValues:r}=a;r[e]&&(n[e]=r[e],a.setStaticValue(e,0),s&&(s[e]=0))}function o8(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:a}=e.options;if(!a)return;const n=GD(a);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",oa,!(r||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&o8(s)}function c8({attachResizeListener:e,defaultParent:a,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(c={},d=a==null?void 0:a()){this.id=yW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(NW),this.nodes.forEach(CW),this.nodes.forEach(AW),this.nodes.forEach(SW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new lW)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new lN),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=_N(c)&&!jD(c),this.instance=c;const{layoutId:d,layout:m,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let f,g=0;const b=()=>this.root.updateBlockedByResize=!1;oa.read(()=>{g=window.innerWidth}),e(c,()=>{const y=window.innerWidth;y!==g&&(g=y,this.root.updateBlockedByResize=!0,f&&f(),f=oW(b,250),Xx.hasAnimatedSinceResize&&(Xx.hasAnimatedSinceResize=!1,this.nodes.forEach(QC)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||m)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||h.getDefaultTransition()||MW,{onLayoutAnimationStart:w,onLayoutAnimationComplete:N}=h.getProps(),k=!this.targetLayout||!l8(this.targetLayout,y),_=!g&&b;if(this.options.layoutRoot||this.resumeFrom||_||g&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...jN(j,"layout"),onPlay:w,onComplete:N};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(f,_)}else g||QC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TW),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&o8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ZC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kW),this.nodes.forEach(jW),this.nodes.forEach(wW)):this.nodes.forEach(ZC),this.clearAllSnapshots();const d=cs.now();Sn.delta=Ji(0,1e3/60,d-Sn.timestamp),Sn.timestamp=d,Sn.isProcessing=!0,vy.update.process(Sn),vy.preRender.process(Sn),vy.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_W),this.sharedNodes.forEach(EW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wn(this.snapshot.measuredBox.x)&&!Wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ka(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!i8(this.projectionDelta),m=this.getTransformTemplate(),h=m?m(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ko(this.latestValues)||f)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),DW(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return ka();const d=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(RW))){const{scroll:f}=this.root;f&&(Rd(d.x,f.offset.x),Rd(d.y,f.offset.y))}return d}removeElementScroll(c){var m;const d=ka();if(Xs(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:g,options:b}=f;f!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&Xs(d,c),Rd(d.x,g.offset.x),Rd(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const m=ka();Xs(m,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];!d&&f.options.layoutScroll&&f.scroll&&f!==f.root&&$d(m,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ko(f.latestValues)&&$d(m,f.latestValues)}return Ko(this.latestValues)&&$d(m,this.latestValues),m}removeTransform(c){const d=ka();Xs(d,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];if(!h.instance||!Ko(h.latestValues))continue;Tw(h.latestValues)&&h.updateSnapshot();const f=ka(),g=h.measurePageBox();Xs(f,g),HC(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return Ko(this.latestValues)&&HC(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=Sn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ka(),this.relativeTargetOrigin=ka(),vh(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ka(),this.targetWithTransforms=ka()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xs(this.target,this.layout.layoutBox),ID(this.target,this.targetDelta)):Xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ka(),this.relativeTargetOrigin=ka(),vh(this.relativeTargetOrigin,this.target,y.target),Xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tw(this.parent.latestValues)||LD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(m=!1),m)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Xs(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;sY(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ka());const{target:y}=c;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UC(this.prevProjectionDelta.x,this.projectionDelta.x),UC(this.prevProjectionDelta.y,this.projectionDelta.y)),bh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!WC(this.projectionDelta.x,this.prevProjectionDelta.x)||!WC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ld(),this.projectionDelta=Ld(),this.projectionDeltaWithTransform=Ld()}setAnimationOrigin(c,d=!1){const m=this.snapshot,h=m?m.latestValues:{},f={...this.latestValues},g=Ld();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=ka(),y=m?m.source:void 0,j=this.layout?this.layout.source:void 0,w=y!==j,N=this.getStack(),k=!N||N.members.length<=1,_=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(OW));this.animationProgress=0;let C;this.mixTargetDelta=O=>{const P=O/1e3;JC(g.x,c.x,P),JC(g.y,c.y,P),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vh(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PW(this.relativeTarget,this.relativeTargetOrigin,b,P),C&&pW(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=ka()),Xs(C,this.relativeTarget)),w&&(this.animationValues=f,dW(f,h,this.latestValues,P,_,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,m,h;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(h=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||h.stop(),this.pendingAnimation&&(tl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oa.update(()=>{Xx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vc(0)),this.currentAnimation=n8(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:h,latestValues:f}=c;if(!(!d||!m||!h)){if(this!==c&&this.layout&&h&&d8(this.options.animationType,this.layout.layoutBox,h.layoutBox)){m=this.target||ka();const g=Wn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+g;const b=Wn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Xs(d,m),$d(d,f),bh(this.projectionDeltaWithTransform,this.layoutCorrected,d,f)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new gW),this.sharedNodes.get(c).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const h=this.getStack();h&&h.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const h={};m.z&&Py("z",c,h,this.animationValues);for(let f=0;f<Ey.length;f++)Py(`rotate${Ey[f]}`,c,h,this.animationValues),Py(`skew${Ey[f]}`,c,h,this.animationValues);c.render();for(const f in h)c.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Wx(d==null?void 0:d.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Wx(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ko(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=bW(this.projectionDeltaWithTransform,this.treeScale,f);m&&(g=m(f,g)),c.transform=g;const{x:b,y}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const j in Dh){if(f[j]===void 0)continue;const{correct:w,applyTo:N,isCSSVariable:k}=Dh[j],_=g==="none"?f[j]:w(f[j],h);if(N){const C=N.length;for(let O=0;O<C;O++)c[N[O]]=_}else k?this.options.visualElement.renderState.vars[j]=_:c[j]=_}this.options.layoutId&&(c.pointerEvents=h===this?Wx(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(XC),this.root.sharedNodes.clear()}}}function jW(e){e.updateLayout()}function wW(e){var n;const a=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:l}=e.options,c=a.source!==e.layout.source;l==="size"?sr(g=>{const b=c?a.measuredBox[g]:a.layoutBox[g],y=Wn(b);b.min=s[g].min,b.max=b.min+y}):d8(l,a.layoutBox,s)&&sr(g=>{const b=c?a.measuredBox[g]:a.layoutBox[g],y=Wn(s[g]);b.max=b.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+y)});const d=Ld();bh(d,s,a.layoutBox);const m=Ld();c?bh(m,e.applyTransform(r,!0),a.measuredBox):bh(m,s,a.layoutBox);const h=!i8(d);let f=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:y}=g;if(b&&y){const j=ka();vh(j,a.layoutBox,b.layoutBox);const w=ka();vh(w,s,y.layoutBox),l8(j,w)||(f=!0),g.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=j,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:a,delta:m,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function NW(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function SW(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _W(e){e.clearSnapshot()}function XC(e){e.clearMeasurements()}function ZC(e){e.isLayoutDirty=!1}function kW(e){const{visualElement:a}=e.options;a&&a.getProps().onBeforeLayoutMeasure&&a.notify("BeforeLayoutMeasure"),e.resetTransform()}function QC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function CW(e){e.resolveTargetDelta()}function AW(e){e.calcProjection()}function TW(e){e.resetSkewAndRotation()}function EW(e){e.removeLeadSnapshot()}function JC(e,a,n){e.translate=ma(a.translate,0,n),e.scale=ma(a.scale,1,n),e.origin=a.origin,e.originPoint=a.originPoint}function eA(e,a,n,s){e.min=ma(a.min,n.min,s),e.max=ma(a.max,n.max,s)}function PW(e,a,n,s){eA(e.x,a.x,n.x,s),eA(e.y,a.y,n.y,s)}function OW(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const MW={duration:.45,ease:[.4,0,.1,1]},tA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),aA=tA("applewebkit/")&&!tA("chrome/")?Math.round:or;function nA(e){e.min=aA(e.min),e.max=aA(e.max)}function DW(e){nA(e.x),nA(e.y)}function d8(e,a,n){return e==="position"||e==="preserve-aspect"&&!UY(YC(a),YC(n),.2)}function RW(e){var a;return e!==e.root&&((a=e.scroll)==null?void 0:a.wasRoot)}const $W=c8({attachResizeListener:(e,a)=>$h(e,"resize",a),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Oy={current:void 0},u8=c8({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Oy.current){const e=new $W({});e.mount(window),e.setOptions({layoutScroll:!0}),Oy.current=e}return Oy.current},resetTransform:(e,a)=>{e.style.transform=a!==void 0?a:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LW={pan:{Feature:aW},drag:{Feature:tW,ProjectionNode:u8,MeasureLayout:a8}};function sA(e,a,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,l=s[r];l&&oa.postRender(()=>l(a,of(a)))}class IW extends uo{mount(){const{current:a}=this.node;a&&(this.unmount=mG(a,(n,s)=>(sA(this.node,s,"Start"),r=>sA(this.node,r,"End"))))}unmount(){}}class BW extends uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch{a=!0}!a||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sf($h(this.node.current,"focus",()=>this.onFocus()),$h(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rA(e,a,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),l=s[r];l&&oa.postRender(()=>l(a,of(a)))}class zW extends uo{mount(){const{current:a}=this.node;a&&(this.unmount=pG(a,(n,s)=>(rA(this.node,s,"Start"),(r,{success:l})=>rA(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $w=new WeakMap,My=new WeakMap,UW=e=>{const a=$w.get(e.target);a&&a(e)},FW=e=>{e.forEach(UW)};function VW({root:e,...a}){const n=e||document;My.has(n)||My.set(n,{});const s=My.get(n),r=JSON.stringify(a);return s[r]||(s[r]=new IntersectionObserver(FW,{root:e,...a})),s[r]}function HW(e,a,n){const s=VW(a);return $w.set(e,n),s.observe(e),()=>{$w.delete(e),s.unobserve(e)}}const qW={some:0,all:1};class KW extends uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:a={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:l}=a,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:qW[r]},d=m=>{const{isIntersecting:h}=m;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),b=h?f:g;b&&b(m)};return HW(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:a,prevProps:n}=this.node;["amount","margin","root"].some(GW(a,n))&&this.startObserver()}unmount(){}}function GW({viewport:e={}},{viewport:a={}}={}){return n=>e[n]!==a[n]}const YW={inView:{Feature:KW},tap:{Feature:zW},focus:{Feature:BW},hover:{Feature:IW}},WW={layout:{ProjectionNode:u8,MeasureLayout:a8}},XW={...RY,...YW,...LW,...WW},pe=tY(XW,dY);function ro(e){const a=nf(()=>vc(e)),{isStatic:n}=p.useContext(ug);if(n){const[,s]=p.useState(e);p.useEffect(()=>a.on("change",s),[])}return a}function m8(e,a){const n=ro(a()),s=()=>n.set(a());return s(),nN(()=>{const r=()=>oa.preRender(s,!1,!0),l=e.map(c=>c.on("change",r));return()=>{l.forEach(c=>c()),tl(s)}}),n}function ZW(e){ph.current=[],e();const a=m8(ph.current,e);return ph.current=void 0,a}function eu(e,a,n,s){if(typeof e=="function")return ZW(e);const r=typeof a=="function"?a:gG(a,n,s);return Array.isArray(e)?iA(e,r):iA([e],([l])=>r(l))}function iA(e,a){const n=nf(()=>[]);return m8(e,()=>{n.length=0;const s=e.length;for(let r=0;r<s;r++)n[r]=e[r].get();return a(n)})}function $N(e){return typeof e=="object"&&!Array.isArray(e)}function h8(e,a,n,s){return typeof e=="string"&&$N(a)?xD(e,n,s):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function QW(e,a,n){return e*(a+1)}function lA(e,a,n,s){return typeof a=="number"?a:a.startsWith("-")||a.startsWith("+")?Math.max(0,e+parseFloat(a)):a==="<"?n:a.startsWith("<")?Math.max(0,n+parseFloat(a.slice(1))):s.get(a)??e}function JW(e,a,n){for(let s=0;s<e.length;s++){const r=e[s];r.at>a&&r.at<n&&(dg(e,r),s--)}}function eX(e,a,n,s,r,l){JW(e,r,l);for(let c=0;c<a.length;c++)e.push({value:a[c],at:ma(r,l,s[c]),easing:zM(n,c)})}function tX(e,a){for(let n=0;n<e.length;n++)e[n]=e[n]/(a+1)}function aX(e,a){return e.at===a.at?e.value===null?1:a.value===null?-1:0:e.at-a.at}const nX="easeInOut";function sX(e,{defaultTransition:a={},...n}={},s,r){const l=a.duration||.3,c=new Map,d=new Map,m={},h=new Map;let f=0,g=0,b=0;for(let y=0;y<e.length;y++){const j=e[y];if(typeof j=="string"){h.set(j,g);continue}else if(!Array.isArray(j)){h.set(j.name,lA(g,j.at,f,h));continue}let[w,N,k={}]=j;k.at!==void 0&&(g=lA(g,k.at,f,h));let _=0;const C=(O,P,E,B=0,M=0)=>{const V=rX(O),{delay:G=0,times:H=aD(V),type:F="keyframes",repeat:ie,repeatType:_e,repeatDelay:ce=0,...T}=P;let{ease:K=a.ease||"easeOut",duration:W}=P;const I=typeof G=="function"?G(B,M):G,A=V.length,$=yN(F)?F:r==null?void 0:r[F||"keyframes"];if(A<=2&&$){let te=100;if(A===2&&oX(V)){const se=V[1]-V[0];te=Math.abs(se)}const J={...T};W!==void 0&&(J.duration=Rr(W));const Ce=QM(J,te,$);K=Ce.ease,W=Ce.duration}W??(W=l);const z=g+I;H.length===1&&H[0]===0&&(H[1]=1);const X=H.length-V.length;if(X>0&&tD(H,X),V.length===1&&V.unshift(null),ie){W=QW(W,ie);const te=[...V],J=[...H];K=Array.isArray(K)?[...K]:[K];const Ce=[...K];for(let se=0;se<ie;se++){V.push(...te);for(let Se=0;Se<te.length;Se++)H.push(J[Se]+(se+1)),K.push(Se===0?"linear":zM(Ce,Se-1))}tX(H,ie)}const ge=z+W;eX(E,V,K,H,z,ge),_=Math.max(I+W,_),b=Math.max(ge,b)};if(mn(w)){const O=oA(w,d);C(N,k,cA("default",O))}else{const O=h8(w,N,s,m),P=O.length;for(let E=0;E<P;E++){N=N,k=k;const B=O[E],M=oA(B,d);for(const V in N)C(N[V],iX(k,V),cA(V,M),E,P)}}f=g,g+=_}return d.forEach((y,j)=>{for(const w in y){const N=y[w];N.sort(aX);const k=[],_=[],C=[];for(let P=0;P<N.length;P++){const{at:E,value:B,easing:M}=N[P];k.push(B),_.push(Qd(0,b,E)),C.push(M||"easeOut")}_[0]!==0&&(_.unshift(0),k.unshift(k[0]),C.unshift(nX)),_[_.length-1]!==1&&(_.push(1),k.push(null)),c.has(j)||c.set(j,{keyframes:{},transition:{}});const O=c.get(j);O.keyframes[w]=k,O.transition[w]={...a,duration:b,ease:C,times:_,...n}}}),c}function oA(e,a){return!a.has(e)&&a.set(e,{}),a.get(e)}function cA(e,a){return a[e]||(a[e]=[]),a[e]}function rX(e){return Array.isArray(e)?e:[e]}function iX(e,a){return e&&e[a]?{...e,...e[a]}:{...e}}const lX=e=>typeof e=="number",oX=e=>e.every(lX);function cX(e,a){return e in a}class dX extends UD{constructor(){super(...arguments),this.type="object"}readValueFromInstance(a,n){if(cX(n,a)){const s=a[n];if(typeof s=="string"||typeof s=="number")return s}}getBaseTargetFromProps(){}removeValueFromRenderState(a,n){delete n.output[a]}measureInstanceViewportBox(){return ka()}build(a,n){Object.assign(a.output,n)}renderInstance(a,{output:n}){Object.assign(a,n)}sortInstanceNodePosition(){return 0}}function uX(e){const a={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=_N(e)&&!jD(e)?new KD(a):new HD(a);n.mount(e),Rh.set(e,n)}function mX(e){const a={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new dX(a);n.mount(e),Rh.set(e,n)}function hX(e,a){return mn(e)||typeof e=="number"||typeof e=="string"&&!$N(a)}function f8(e,a,n,s){const r=[];if(hX(e,a))r.push(n8(e,$N(a)&&a.default||a,n&&(n.default||n)));else{const l=h8(e,a,s),c=l.length;for(let d=0;d<c;d++){const m=l[d],h=m instanceof Element?uX:mX;Rh.has(m)||h(m);const f=Rh.get(m),g={...n};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(d,c)),r.push(...RN(f,{...a,transition:g},{}))}}return r}function fX(e,a,n){const s=[];return sX(e,a,n,{spring:Oh}).forEach(({keyframes:l,transition:c},d)=>{s.push(...f8(d,l,c))}),s}function xX(e){return Array.isArray(e)&&e.some(Array.isArray)}function pX(e){function a(n,s,r){let l=[];return xX(n)?l=fX(n,s,e):l=f8(n,s,r,e),new XK(l)}return a}const gX=pX(),bX="https://app.thedbt.ai";function vX({isOpen:e,onSuccess:a}){const[n,s]=p.useState(""),[r,l]=p.useState(""),[c,d]=p.useState(!1),[m,h]=p.useState(!1),[f,g]=p.useState(!0),[b,y]=p.useState(!1);if(!e)return null;const j=async w=>{if(w.preventDefault(),!n.trim()||!r.trim()){R.error("Please enter both Account SID and Auth Token.");return}const N=localStorage.getItem("token");if(!N){R.error("You must be logged in."),window.location.href="/login";return}y(!0);try{const k=await fetch(`${bX}/api/twilio/credentials`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({account_sid:n.trim(),auth_token:r.trim(),validate:f})}),_=await k.json().catch(()=>({}));if(k.ok)R.success("Twilio credentials saved "),a==null||a();else{const C=(_==null?void 0:_.detail)||(_==null?void 0:_.message)||(typeof _=="string"?_:"Failed to save Twilio credentials.");R.error(C)}}catch{R.error("Network error. Please try again.")}finally{y(!1)}};return t.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm"}),t.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-50",children:t.jsx(lr,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Connect Twilio"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Enter your Twilio Account SID and Auth Token to continue."})]})]}),t.jsxs("form",{onSubmit:j,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Account SID"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:c?"text":"password",autoComplete:"off",value:n,onChange:w=>s(w.target.value),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),t.jsx("button",{type:"button",onClick:()=>d(w=>!w),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":c?"Hide SID":"Show SID",children:c?t.jsx(Xd,{className:"h-5 w-5"}):t.jsx(Ta,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Auth Token"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:m?"text":"password",autoComplete:"off",value:r,onChange:w=>l(w.target.value),placeholder:"",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),t.jsx("button",{type:"button",onClick:()=>h(w=>!w),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":m?"Hide Token":"Show Token",children:m?t.jsx(Xd,{className:"h-5 w-5"}):t.jsx(Ta,{className:"h-5 w-5"})})]})]}),t.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-blue-600",checked:f,onChange:w=>g(w.target.checked)}),t.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]}),t.jsx("button",{type:"submit",disabled:b,className:"group relative flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 py-3 font-semibold text-white shadow-lg transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60",children:b?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Saving"]}):t.jsxs(t.Fragment,{children:["Save & Continue",t.jsx(Ql,{className:"h-4 w-4 transition group-hover:translate-x-0.5"})]})}),t.jsx("p",{className:"text-xs text-slate-500",children:"We store your credentials on your user record and use them only to manage your Twilio numbers on your behalf."})]})]})]})}const dA="https://app.thedbt.ai";function yX(){const[e,a]=p.useState(["","","",""]),[n,s]=p.useState(""),[r,l]=p.useState(!1),[c,d]=p.useState(0),[m,h]=p.useState(!1),f=[p.useRef(null),p.useRef(null),p.useRef(null),p.useRef(null)],g=da();p.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("email");C&&s(decodeURIComponent(C)),setTimeout(()=>{var O;return(O=f[0].current)==null?void 0:O.focus()},50)},[]),p.useEffect(()=>{if(c>0){const _=setTimeout(()=>d(C=>C-1),1e3);return()=>clearTimeout(_)}},[c]);const b=(_,C)=>{var E;const O=C.replace(/\D/g,"");if(O.length>1)return;const P=[...e];P[_]=O,a(P),O&&_<3&&((E=f[_+1].current)==null||E.focus()),P.every(B=>B!=="")&&P.join("").length===4&&w(P.join(""))},y=(_,C)=>{var O,P,E;C.key==="Backspace"&&!e[_]&&_>0&&((O=f[_-1].current)==null||O.focus()),C.key==="Enter"&&w(e.join("")),C.key==="ArrowLeft"&&_>0&&((P=f[_-1].current)==null||P.focus()),C.key==="ArrowRight"&&_<3&&((E=f[_+1].current)==null||E.focus())},j=_=>{var E,B;_.preventDefault();const C=_.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(!C)return;const O=["","","",""];for(let M=0;M<C.length;M++)O[M]=C[M];a(O);const P=O.findIndex(M=>M==="");P!==-1?(E=f[P].current)==null||E.focus():(B=f[3].current)==null||B.focus(),O.every(M=>M!=="")&&w(O.join(""))},w=async(_=null)=>{var O,P,E;const C=_||e.join("");if(C.length!==4){R.error("Please enter all 4 digits");return}if(!n){R.error("Email is required for verification");return}l(!0);try{const B=await fetch(`${dA}/api/account-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:C,email:n})}),M=await B.json().catch(()=>({}));B.ok?(M.token&&localStorage.setItem("token",M.token),(O=M.user)!=null&&O.role&&localStorage.setItem("role",M.user.role),R.success("Account verified successfully! "),h(!0)):(R.error("Invalid OTP. Please try again."),a(["","","",""]),(P=f[0].current)==null||P.focus())}catch{R.error("Network error. Please check your connection and try again."),a(["","","",""]),(E=f[0].current)==null||E.focus()}finally{l(!1)}},N=async()=>{var _;if(!(c>0||!n)){l(!0);try{(await fetch(`${dA}/api/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).ok?(R.success("New verification code sent to your email."),d(60),a(["","","",""]),(_=f[0].current)==null||_.focus()):R.error("Failed to resend code. Please try again.")}catch{R.error("Network error. Please try again.")}finally{l(!1)}}},k="shadow-[0_0_30px_rgba(37,99,235,0.35)]";return t.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[t.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[t.jsx(pe.div,{className:"absolute -top-40 -left-40 h-[32rem] w-[32rem] rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(closest-side, #93c5fd, transparent)"},animate:{y:[0,20,0],x:[0,12,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),t.jsx(pe.div,{className:"absolute -bottom-48 -right-48 h-[36rem] w-[36rem] rounded-full blur-3xl opacity-70",style:{background:"radial-gradient(closest-side, #a5f3fc, transparent)"},animate:{y:[0,-16,0],x:[0,-10,0]},transition:{duration:9,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),t.jsx(pe.div,{className:"absolute inset-0",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.12), rgba(6,182,212,0.12), rgba(59,130,246,0.12))"},animate:{rotate:360},transition:{duration:24,repeat:1/0,ease:"linear"},"aria-hidden":!0})]}),t.jsxs("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[t.jsx("div",{className:"flex justify-center",children:t.jsxs(pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},className:`relative h-16 w-16 rounded-2xl bg-white border border-blue-200/70 ${k} flex items-center justify-center`,children:[t.jsx(pe.div,{className:"absolute inset-0 rounded-2xl",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.25), rgba(6,182,212,0.25), rgba(59,130,246,0.25))"},animate:{rotate:-360},transition:{duration:12,repeat:1/0,ease:"linear"},"aria-hidden":!0}),t.jsx("div",{className:"absolute inset-[3px] rounded-2xl bg-white"}),t.jsx(Fn,{className:"relative w-7 h-7 text-blue-600"})]})}),t.jsx(pe.h2,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-slate-900",children:"Verify your account"}),t.jsxs(pe.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-2 text-center text-sm text-slate-600",children:["We sent a 4-digit code to",t.jsx("br",{}),t.jsx("span",{className:"font-medium text-blue-600",children:n||"your email"})]})]}),t.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:t.jsx(pe.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:`bg-white/90 backdrop-blur-sm py-8 px-6 sm:px-10 border border-slate-200 rounded-2xl shadow-xl ${k}`,children:t.jsxs("form",{onSubmit:_=>{_.preventDefault(),w()},children:[t.jsx("label",{className:"mb-4 block text-center text-sm font-medium text-slate-700",children:"Enter verification code"}),t.jsx("div",{className:"mb-6 flex justify-center gap-3 sm:gap-4",children:e.map((_,C)=>t.jsx(pe.input,{ref:f[C],type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:_,onFocus:O=>O.target.select(),onChange:O=>b(C,O.target.value),onKeyDown:O=>y(C,O),onPaste:j,"aria-label":`OTP digit ${C+1}`,disabled:r,className:`h-16 w-14 text-center text-2xl font-bold sm:h-18 sm:w-16 sm:text-3xl
                      rounded-xl border-2 bg-white/90 text-slate-900 placeholder-slate-400 outline-none transition
                      ${_?"border-blue-400":"border-slate-200 focus:border-blue-400"}
                      focus:ring-2 focus:ring-blue-300`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*C}},C))}),t.jsxs(pe.button,{type:"submit",disabled:r||e.join("").length!==4,className:`group relative w-full overflow-hidden rounded-xl py-3 px-4 text-sm font-semibold text-white shadow-lg transition
                  ${r||e.join("").length!==4?"bg-blue-500/80":"bg-blue-600 hover:bg-blue-700"}
                  focus:outline-none focus:ring-2 focus:ring-blue-500`,whileTap:{scale:.98},children:[t.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-40",children:t.jsx("span",{className:"absolute -inset-12 h-[200%] w-2/3 -translate-x-[150%] rotate-12 bg-gradient-to-r from-transparent via-white/50 to-transparent transition-transform duration-700 group-hover:translate-x-[120%]"})}),r?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("span",{className:"mr-3 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Verifying"]}):t.jsxs("div",{className:"flex items-center justify-center",children:["Verify Account",t.jsx(pu,{className:"ml-2 h-4 w-4 transition-transform duration-200 group-hover:translate-x-1"})]})]}),t.jsxs("div",{className:"mt-5 text-center",children:[t.jsx("p",{className:"mb-2 text-sm text-slate-600",children:"Didn't receive the code?"}),t.jsxs("button",{type:"button",onClick:N,disabled:c>0||r||!n,className:"inline-flex items-center text-sm font-medium text-blue-600 transition-colors hover:text-blue-700 disabled:cursor-not-allowed disabled:text-slate-400",children:[t.jsx(Ge,{className:"mr-1 h-4 w-4"}),c>0?`Resend in ${c}s`:"Resend Code"]})]})]})})})]}),t.jsx(vX,{isOpen:m,onSuccess:()=>{h(!1),setTimeout(()=>g("/profile"),300)}})]})}function jX(){const[e,a]=p.useState({email:"",password:""}),[n,s]=p.useState(!1),[r,l]=p.useState({}),[c,d]=p.useState(!1),m=da(),h="https://app.thedbt.ai",f=y=>{const{name:j,value:w}=y.target;a(N=>({...N,[j]:w})),r[j]&&l(N=>({...N,[j]:""}))},g=()=>{const y={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(y.email="Please enter a valid email address"):y.email="Email is required",e.password?e.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",l(y),Object.keys(y).length===0},b=async y=>{var j,w,N;if(y.preventDefault(),!!g()){d(!0),l({});try{const k=await fetch(`${h}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),_=await k.json();if(k.ok)_.token&&localStorage.setItem("token",_.token),(j=_.user)!=null&&j.role&&localStorage.setItem("role",_.user.role),(w=_.user)!=null&&w.name&&localStorage.setItem("name",_.user.name),(N=_.user)!=null&&N.email&&localStorage.setItem("email",_.user.email),R.success("Login successful! "),setTimeout(()=>{var O,P,E;const C=((E=(P=(O=_.user)==null?void 0:O.role)==null?void 0:P.toLowerCase)==null?void 0:E.call(P))||"";m(C==="user"?"/user/dashboard":C==="admin"?"/admin/dashboard":"/dashboard")},1200);else{const C=_.message||_.detail||"Invalid email or password. Please try again.";R.error(C),l({submit:C})}}catch{const k="Network error. Please check your connection and try again.";R.error(k),l({submit:k})}finally{d(!1)}}};return t.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:t.jsx(cc,{className:"w-8 h-8 text-white"})})}),t.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),t.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",t.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign up here"})]})]}),t.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:t.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[r.submit&&t.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[t.jsx(os,{className:"h-5 w-5 text-red-600 mr-3"}),t.jsx("p",{className:"text-sm text-red-700",children:r.submit})]}),t.jsxs("form",{className:"space-y-6",onSubmit:b,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(Fn,{className:`h-5 w-5 transition-colors duration-200 ${e.email?"text-blue-500":"text-gray-400"}`})}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:f,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${r.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!r.email&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:t.jsx(uw,{className:"h-5 w-5 text-green-500"})})]}),r.email&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(os,{className:"h-4 w-4 mr-1"}),r.email]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(Br,{className:`h-5 w-5 transition-colors duration-200 ${e.password?"text-blue-500":"text-gray-400"}`})}),t.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",value:e.password,onChange:f,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${r.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your password"}),t.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200 cursor-pointer",onClick:()=>s(!n),children:n?t.jsx(Xd,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):t.jsx(Ta,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),t.jsx("div",{className:"mt-2 flex justify-end",children:t.jsx("a",{href:"/forget_password",className:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Forgot password?"})}),r.password&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(os,{className:"h-4 w-4 mr-1"}),r.password]})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 cursor-pointer",children:c?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Signing in..."]}):t.jsxs("div",{className:"flex items-center",children:["Sign in",t.jsx(pu,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]}),t.jsx("div",{className:"mt-6",children:t.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200",children:[t.jsx("div",{className:"absolute -inset-x-10 -top-10 h-24 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),t.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[t.jsx("div",{className:"text-sm text-slate-600",children:"By signing in you agree to our"}),t.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[t.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms"}),t.jsx("span",{className:"text-slate-300",children:""}),t.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy"})]})]})]})})]})})]})}function wX({length:e=4,value:a,onChange:n}){const s=p.useRef([]),r=m=>{const h=s.current[m];h&&h.focus()},l=(m,h)=>{const f=h.replace(/\D/g,"").slice(0,1),g=(a||"").split("");g[m]=f;const b=g.join("");n(b),f&&m<e-1&&r(m+1)},c=(m,h)=>{const f=(a||"")[m]||"";if(h.key==="Backspace"){if(!f&&m>0){h.preventDefault();const g=(a||"").split("");g[m-1]="",n(g.join("")),r(m-1)}}else h.key==="ArrowLeft"&&m>0?(h.preventDefault(),r(m-1)):h.key==="ArrowRight"&&m<e-1&&(h.preventDefault(),r(m+1))},d=m=>{m.preventDefault();const h=(m.clipboardData.getData("text")||"").replace(/\D/g,"");if(!h)return;const f=(a||"").split("");for(let b=0;b<e;b++)f[b]=h[b]||"";n(f.join(""));const g=Math.min(h.length,e)-1;r(g>=0?g:0)};return t.jsx("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:Array.from({length:e}).map((m,h)=>{const f=(a||"")[h]||"";return t.jsx("input",{ref:g=>s.current[h]=g,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:f,onChange:g=>l(h,g.target.value),onKeyDown:g=>c(h,g),onPaste:h===0?d:void 0,className:`w-11 h-11 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-semibold\r
                       rounded-2xl border bg-white/80 backdrop-blur\r
                       border-gray-200 shadow-sm hover:shadow transition-all\r
                       focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500\r
                       focus:shadow-[0_6px_24px_rgba(59,130,246,0.18)] focus:scale-105\r
                       caret-transparent select-none`,"aria-label":`OTP digit ${h+1}`},h)})})}function NX(){const[e,a]=p.useState(1),[n,s]=p.useState(""),[r,l]=p.useState(""),[c,d]=p.useState(""),[m,h]=p.useState(!1),[f,g]=p.useState({}),[b,y]=p.useState(!1),j=da(),w="https://app.thedbt.ai",N=()=>{const O={};return n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(O.email="Please enter a valid email address"):O.email="Email is required",g(O),Object.keys(O).length===0},k=()=>{const O={};return(!r||r.length!==4)&&(O.code="Enter the 4-digit OTP"),c.trim()?c.length<6&&(O.password="Password must be at least 6 characters"):O.password="Password is required",g(O),Object.keys(O).length===0},_=async O=>{if(O.preventDefault(),!!N()){y(!0);try{const P=await fetch(`${w}/api/password-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}),E=await P.json();P.ok?(R.success("Password reset OTP sent to your email! "),a(2)):R.error(E.detail||"Something went wrong.")}catch{R.error("Network error. Please try again.")}finally{y(!1)}}},C=async O=>{if(O.preventDefault(),!!k()){y(!0);try{const P=await fetch(`${w}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,code:r,password:c})}),E=await P.json();P.ok?(R.success("Password changed successfully! "),j("/user")):R.error(E.detail||"Failed to reset password.")}catch{R.error("Network error. Please try again.")}finally{y(!1)}}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:t.jsx(RV,{className:"w-8 h-8 text-white"})})}),t.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e===1?"Reset your password":"Enter OTP & New Password"}),e===2&&t.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Weve sent a 4-digit code to"," ",t.jsx("span",{className:"font-medium",children:n})]})]}),t.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:t.jsxs("div",{className:"bg-white/90 backdrop-blur py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&t.jsxs("form",{className:"space-y-6",onSubmit:_,children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fn,{className:`h-5 w-5 absolute left-3 top-3 ${n?"text-blue-500":"text-gray-400"}`}),t.jsx("input",{type:"email",value:n,onChange:O=>s(O.target.value),className:"pl-10 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter your email",autoComplete:"email",autoFocus:!0})]}),f.email&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(os,{className:"h-4 w-4 mr-1"}),f.email]})]}),t.jsx("button",{type:"submit",disabled:b,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:b?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending"]}):t.jsxs("div",{className:"flex items-center",children:["Send OTP",t.jsx(pu,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e===2&&t.jsxs("form",{className:"space-y-6",onSubmit:C,children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-baseline justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),t.jsx("span",{className:"text-xs text-gray-500",children:"4 digits"})]}),t.jsx(wX,{length:4,value:r,onChange:l}),f.code&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(os,{className:"h-4 w-4 mr-1"}),f.code]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Br,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:m?"text":"password",value:c,onChange:O=>d(O.target.value),className:"pl-10 pr-12 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter new password",autoComplete:"new-password"}),t.jsx("button",{type:"button",onClick:()=>h(O=>!O),className:"absolute right-3 top-2.5 p-1.5 rounded-lg hover:bg-gray-100 text-gray-500","aria-label":m?"Hide password":"Show password",children:m?t.jsx(Xd,{className:"h-5 w-5"}):t.jsx(Ta,{className:"h-5 w-5"})})]}),f.password&&t.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[t.jsx(os,{className:"h-4 w-4 mr-1"}),f.password]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use at least 6 characters."})]}),t.jsx("button",{type:"submit",disabled:b||!(r.length===4&&c.length>=6),className:"w-full py-3 rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Resetting":"Reset Password"}),t.jsx("div",{className:"text-center",children:t.jsxs("button",{type:"button",onClick:()=>a(1),className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:[t.jsx(gM,{className:"mr-1 h-4 w-4"}),"Change email"]})})]}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["Remember your password?"," ",t.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in here"})]})})]})})]})}var Lw=function(e,a){return Lw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])},Lw(e,a)};function SX(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Lw(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var cn=function(){return cn=Object.assign||function(a){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(a[l]=n[l])}return a},cn.apply(this,arguments)};var Dy,uA;function _X(){if(uA)return Dy;uA=1;var e=!1,a,n,s,r,l,c,d,m,h,f,g,b,y,j,w;function N(){if(!e){e=!0;var _=navigator.userAgent,C=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(_),O=/(Mac OS X)|(Windows)|(Linux)/.exec(_);if(b=/\b(iPhone|iP[ao]d)/.exec(_),y=/\b(iP[ao]d)/.exec(_),f=/Android/i.exec(_),j=/FBAN\/\w+;/i.exec(_),w=/Mobile/i.exec(_),g=!!/Win64/.exec(_),C){a=C[1]?parseFloat(C[1]):C[5]?parseFloat(C[5]):NaN,a&&document&&document.documentMode&&(a=document.documentMode);var P=/(?:Trident\/(\d+.\d+))/.exec(_);c=P?parseFloat(P[1])+4:a,n=C[2]?parseFloat(C[2]):NaN,s=C[3]?parseFloat(C[3]):NaN,r=C[4]?parseFloat(C[4]):NaN,r?(C=/(?:Chrome\/(\d+\.\d+))/.exec(_),l=C&&C[1]?parseFloat(C[1]):NaN):l=NaN}else a=n=s=l=r=NaN;if(O){if(O[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(_);d=E?parseFloat(E[1].replace("_",".")):!0}else d=!1;m=!!O[2],h=!!O[3]}else d=m=h=!1}}var k={ie:function(){return N()||a},ieCompatibilityMode:function(){return N()||c>a},ie64:function(){return k.ie()&&g},firefox:function(){return N()||n},opera:function(){return N()||s},webkit:function(){return N()||r},safari:function(){return k.webkit()},chrome:function(){return N()||l},windows:function(){return N()||m},osx:function(){return N()||d},linux:function(){return N()||h},iphone:function(){return N()||b},mobile:function(){return N()||b||y||f||w},nativeApp:function(){return N()||j},android:function(){return N()||f},ipad:function(){return N()||y}};return Dy=k,Dy}var Ry,mA;function kX(){if(mA)return Ry;mA=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),a={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return Ry=a,Ry}var $y,hA;function CX(){if(hA)return $y;hA=1;var e=kX(),a;e.canUseDOM&&(a=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(s,r){if(!e.canUseDOM||r&&!("addEventListener"in document))return!1;var l="on"+s,c=l in document;if(!c){var d=document.createElement("div");d.setAttribute(l,"return;"),c=typeof d[l]=="function"}return!c&&a&&s==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return $y=n,$y}var Ly,fA;function AX(){if(fA)return Ly;fA=1;var e=_X(),a=CX(),n=10,s=40,r=800;function l(c){var d=0,m=0,h=0,f=0;return"detail"in c&&(m=c.detail),"wheelDelta"in c&&(m=-c.wheelDelta/120),"wheelDeltaY"in c&&(m=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(d=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(d=m,m=0),h=d*n,f=m*n,"deltaY"in c&&(f=c.deltaY),"deltaX"in c&&(h=c.deltaX),(h||f)&&c.deltaMode&&(c.deltaMode==1?(h*=s,f*=s):(h*=r,f*=r)),h&&!d&&(d=h<1?-1:1),f&&!m&&(m=f<1?-1:1),{spinX:d,spinY:m,pixelX:h,pixelY:f}}return l.getEventType=function(){return e.firefox()?"DOMMouseScroll":a("wheel")?"wheel":"mousewheel"},Ly=l,Ly}var Iy,xA;function TX(){return xA||(xA=1,Iy=AX()),Iy}var EX=TX();const PX=Ur(EX);function OX(e,a,n,s,r,l){l===void 0&&(l=0);var c=tu(e,a,l),d=c.width,m=c.height,h=Math.min(d,n),f=Math.min(m,s);return h>f*r?{width:f*r,height:f}:{width:h,height:h/r}}function MX(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Em(e,a,n,s,r){r===void 0&&(r=0);var l=tu(a.width,a.height,r),c=l.width,d=l.height;return{x:pA(e.x,c,n.width,s),y:pA(e.y,d,n.height,s)}}function pA(e,a,n,s){var r=a*s/2-n/2;return xg(e,-r,r)}function gA(e,a){return Math.sqrt(Math.pow(e.y-a.y,2)+Math.pow(e.x-a.x,2))}function bA(e,a){return Math.atan2(a.y-e.y,a.x-e.x)*180/Math.PI}function DX(e,a,n,s,r,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var d=c?RX:$X,m=tu(a.width,a.height,l),h=tu(a.naturalWidth,a.naturalHeight,l),f={x:d(100,((m.width-n.width/r)/2-e.x/r)/m.width*100),y:d(100,((m.height-n.height/r)/2-e.y/r)/m.height*100),width:d(100,n.width/m.width*100/r),height:d(100,n.height/m.height*100/r)},g=Math.round(d(h.width,f.width*h.width/100)),b=Math.round(d(h.height,f.height*h.height/100)),y=h.width>=h.height*s,j=y?{width:Math.round(b*s),height:b}:{width:g,height:Math.round(g/s)},w=cn(cn({},j),{x:Math.round(d(h.width-j.width,f.x*h.width/100)),y:Math.round(d(h.height-j.height,f.y*h.height/100))});return{croppedAreaPercentages:f,croppedAreaPixels:w}}function RX(e,a){return Math.min(e,Math.max(0,a))}function $X(e,a){return a}function LX(e,a,n,s,r,l){var c=tu(a.width,a.height,n),d=xg(s.width/c.width*(100/e.width),r,l),m={x:d*c.width/2-s.width/2-c.width*d*(e.x/100),y:d*c.height/2-s.height/2-c.height*d*(e.y/100)};return{crop:m,zoom:d}}function IX(e,a,n){var s=MX(a);return n.height>n.width?n.height/(e.height*s):n.width/(e.width*s)}function BX(e,a,n,s,r,l){n===void 0&&(n=0);var c=tu(a.naturalWidth,a.naturalHeight,n),d=xg(IX(e,a,s),r,l),m=s.height>s.width?s.height/e.height:s.width/e.width,h={x:((c.width-e.width)/2-e.x)*m,y:((c.height-e.height)/2-e.y)*m};return{crop:h,zoom:d}}function vA(e,a){return{x:(a.x+e.x)/2,y:(a.y+e.y)/2}}function zX(e){return e*Math.PI/180}function tu(e,a,n){var s=zX(n);return{width:Math.abs(Math.cos(s)*e)+Math.abs(Math.sin(s)*a),height:Math.abs(Math.sin(s)*e)+Math.abs(Math.cos(s)*a)}}function xg(e,a,n){return Math.min(Math.max(e,a),n)}function F0(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var UX=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,FX=1,VX=3,HX=1,qX=function(e){SX(a,e);function a(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=p.createRef(),n.imageRef=p.createRef(),n.videoRef=p.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var s=!0;n.resizeObserver=new window.ResizeObserver(function(r){if(s){s=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(s){return s.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var s=n.computeSizes();s&&(n.emitCropData(),n.setInitialCrop(s)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(s){if(n.props.initialCroppedAreaPercentages){var r=LX(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,s,n.props.minZoom,n.props.maxZoom),l=r.crop,c=r.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}else if(n.props.initialCroppedAreaPixels){var d=BX(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,s,n.props.minZoom,n.props.maxZoom),l=d.crop,c=d.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}},n.computeSizes=function(){var s,r,l,c,d,m,h=n.imageRef.current||n.videoRef.current;if(h&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var f=n.containerRect.width/n.containerRect.height,g=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalWidth)||((r=n.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,b=((l=n.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=n.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,y=h.offsetWidth<g||h.offsetHeight<b,j=g/b,w=void 0;if(y)switch(n.state.mediaObjectFit){default:case"contain":w=f>j?{width:n.containerRect.height*j,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/j};break;case"horizontal-cover":w={width:n.containerRect.width,height:n.containerRect.width/j};break;case"vertical-cover":w={width:n.containerRect.height*j,height:n.containerRect.height};break}else w={width:h.offsetWidth,height:h.offsetHeight};n.mediaSize=cn(cn({},w),{naturalWidth:g,naturalHeight:b}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var N=n.props.cropSize?n.props.cropSize:OX(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((d=n.state.cropSize)===null||d===void 0?void 0:d.height)!==N.height||((m=n.state.cropSize)===null||m===void 0?void 0:m.width)!==N.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(N),n.setState({cropSize:N},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(N),N}},n.saveContainerPosition=function(){if(n.containerRef){var s=n.containerRef.getBoundingClientRect();n.containerPosition={x:s.left,y:s.top}}},n.onMouseDown=function(s){n.currentDoc&&(s.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(a.getMousePoint(s)))},n.onMouseMove=function(s){return n.onDrag(a.getMousePoint(s))},n.onScroll=function(s){n.currentDoc&&(s.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(s){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(s))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),s.touches.length===2?n.onPinchStart(s):s.touches.length===1&&n.onDragStart(a.getTouchPoint(s.touches[0]))))},n.onTouchMove=function(s){s.preventDefault(),s.touches.length===2?n.onPinchMove(s):s.touches.length===1&&n.onDrag(a.getTouchPoint(s.touches[0]))},n.onGestureStart=function(s){n.currentDoc&&(s.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(s){if(s.preventDefault(),!n.isTouching){var r=a.getMousePoint(s),l=n.gestureZoomStart-1+s.scale;if(n.setNewZoom(l,r,{shouldUpdatePosition:!0}),n.props.onRotationChange){var c=n.gestureRotationStart+s.rotation;n.props.onRotationChange(c)}}},n.onGestureEnd=function(s){n.cleanEvents()},n.onDragStart=function(s){var r,l,c=s.x,d=s.y;n.dragStartPosition={x:c,y:d},n.dragStartCrop=cn({},n.props.crop),(l=(r=n.props).onInteractionStart)===null||l===void 0||l.call(r)},n.onDrag=function(s){var r=s.x,l=s.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(r===void 0||l===void 0)){var c=r-n.dragStartPosition.x,d=l-n.dragStartPosition.y,m={x:n.dragStartCrop.x+c,y:n.dragStartCrop.y+d},h=n.props.restrictPosition?Em(m,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):m;n.props.onCropChange(h)}}))},n.onDragStopped=function(){var s,r;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(r=(s=n.props).onInteractionEnd)===null||r===void 0||r.call(s)},n.onWheel=function(s){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(s))){s.preventDefault();var r=a.getMousePoint(s),l=PX(s).pixelY,c=n.props.zoom-l*n.props.zoomSpeed/200;n.setNewZoom(c,r,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var d,m;return(m=(d=n.props).onInteractionStart)===null||m===void 0?void 0:m.call(d)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var d,m;return(m=(d=n.props).onInteractionEnd)===null||m===void 0?void 0:m.call(d)})},250)}},n.getPointOnContainer=function(s,r){var l=s.x,c=s.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(l-r.x),y:n.containerRect.height/2-(c-r.y)}},n.getPointOnMedia=function(s){var r=s.x,l=s.y,c=n.props,d=c.crop,m=c.zoom;return{x:(r+d.x)/m,y:(l+d.y)/m}},n.setNewZoom=function(s,r,l){var c=l===void 0?{}:l,d=c.shouldUpdatePosition,m=d===void 0?!0:d;if(!(!n.state.cropSize||!n.props.onZoomChange)){var h=xg(s,n.props.minZoom,n.props.maxZoom);if(m){var f=n.getPointOnContainer(r,n.containerPosition),g=n.getPointOnMedia(f),b={x:g.x*h-f.x,y:g.y*h-f.y},y=n.props.restrictPosition?Em(b,n.mediaSize,n.state.cropSize,h,n.props.rotation):b;n.props.onCropChange(y)}n.props.onZoomChange(h)}},n.getCropData=function(){if(!n.state.cropSize)return null;var s=n.props.restrictPosition?Em(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return DX(s,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var s=n.getCropData();if(s){var r=s.croppedAreaPercentages,l=s.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(r,l),n.props.onCropAreaChange&&n.props.onCropAreaChange(r,l)}},n.emitCropAreaChange=function(){var s=n.getCropData();if(s){var r=s.croppedAreaPercentages,l=s.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(r,l)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var s=n.props.restrictPosition?Em(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(s),n.emitCropData()}},n.onKeyDown=function(s){var r,l,c=n.props,d=c.crop,m=c.onCropChange,h=c.keyboardStep,f=c.zoom,g=c.rotation,b=h;if(n.state.cropSize){s.shiftKey&&(b*=.2);var y=cn({},d);switch(s.key){case"ArrowUp":y.y-=b,s.preventDefault();break;case"ArrowDown":y.y+=b,s.preventDefault();break;case"ArrowLeft":y.x-=b,s.preventDefault();break;case"ArrowRight":y.x+=b,s.preventDefault();break;default:return}n.props.restrictPosition&&(y=Em(y,n.mediaSize,n.state.cropSize,f,g)),s.repeat||(l=(r=n.props).onInteractionStart)===null||l===void 0||l.call(r),m(y)}},n.onKeyUp=function(s){var r,l;switch(s.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":s.preventDefault();break;default:return}n.emitCropData(),(l=(r=n.props).onInteractionEnd)===null||l===void 0||l.call(r)},n}return a.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=UX,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},a.prototype.componentWillUnmount=function(){var n,s;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((s=this.styleRef.parentNode)===null||s===void 0||s.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},a.prototype.componentDidUpdate=function(n){var s,r,l,c,d,m,h,f,g;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((s=n.cropSize)===null||s===void 0?void 0:s.height)!==((r=this.props.cropSize)===null||r===void 0?void 0:r.height)||((l=n.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((d=n.crop)===null||d===void 0?void 0:d.x)!==((m=this.props.crop)===null||m===void 0?void 0:m.x)||((h=n.crop)===null||h===void 0?void 0:h.y)!==((f=this.props.crop)===null||f===void 0?void 0:f.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},a.prototype.getAspect=function(){var n=this.props,s=n.cropSize,r=n.aspect;return s?s.width/s.height:r},a.prototype.getObjectFit=function(){var n,s,r,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,m=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,h=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,f=m/h;return f<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},a.prototype.onPinchStart=function(n){var s=a.getTouchPoint(n.touches[0]),r=a.getTouchPoint(n.touches[1]);this.lastPinchDistance=gA(s,r),this.lastPinchRotation=bA(s,r),this.onDragStart(vA(s,r))},a.prototype.onPinchMove=function(n){var s=this;if(!(!this.currentDoc||!this.currentWindow)){var r=a.getTouchPoint(n.touches[0]),l=a.getTouchPoint(n.touches[1]),c=vA(r,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=gA(r,l),m=s.props.zoom*(d/s.lastPinchDistance);s.setNewZoom(m,c,{shouldUpdatePosition:!1}),s.lastPinchDistance=d;var h=bA(r,l),f=s.props.rotation+(h-s.lastPinchRotation);s.props.onRotationChange&&s.props.onRotationChange(f),s.lastPinchRotation=h})}},a.prototype.render=function(){var n=this,s,r=this.props,l=r.image,c=r.video,d=r.mediaProps,m=r.cropperProps,h=r.transform,f=r.crop,g=f.x,b=f.y,y=r.rotation,j=r.zoom,w=r.cropShape,N=r.showGrid,k=r.roundCropAreaPixels,_=r.style,C=_.containerStyle,O=_.cropAreaStyle,P=_.mediaStyle,E=r.classes,B=E.containerClassName,M=E.cropAreaClassName,V=E.mediaClassName,G=(s=this.state.mediaObjectFit)!==null&&s!==void 0?s:this.getObjectFit();return p.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(F){return n.containerRef=F},"data-testid":"container",style:C,className:F0("reactEasyCrop_Container",B)},l?p.createElement("img",cn({alt:"",className:F0("reactEasyCrop_Image",G==="contain"&&"reactEasyCrop_Contain",G==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",G==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",V)},d,{src:l,ref:this.imageRef,style:cn(cn({},P),{transform:h||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(y,"deg) scale(").concat(j,")")}),onLoad:this.onMediaLoad})):c&&p.createElement("video",cn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:F0("reactEasyCrop_Video",G==="contain"&&"reactEasyCrop_Contain",G==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",G==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",V)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:cn(cn({},P),{transform:h||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(y,"deg) scale(").concat(j,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(H){return p.createElement("source",cn({key:H.src},H))})),this.state.cropSize&&p.createElement("div",cn({ref:this.cropperRef,style:cn(cn({},O),{width:k?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:k?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:F0("reactEasyCrop_CropArea",w==="round"&&"reactEasyCrop_CropAreaRound",N&&"reactEasyCrop_CropAreaGrid",M)},m)))},a.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:VX,minZoom:FX,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:HX},a.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},a.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},a}(p.Component);const yA="https://app.thedbt.ai",jA=["image/png","image/jpeg","image/webp"],KX=5*1024*1024,GX=[`${yA}/api/auth`,`${yA}/api`];function V0(...e){return e.filter(Boolean).join(" ")}async function YX(e,a,n=0){const r=await(k=>new Promise((_,C)=>{const O=new Image;O.addEventListener("load",()=>_(O)),O.addEventListener("error",P=>C(P)),O.crossOrigin="anonymous",O.src=k}))(e),l=n*Math.PI/180,c=r.naturalWidth||r.width,d=r.naturalHeight||r.height,m=document.createElement("canvas"),h=m.getContext("2d"),f=Math.abs(Math.sin(l)),g=Math.abs(Math.cos(l)),b=Math.floor(c*g+d*f),y=Math.floor(c*f+d*g);m.width=b,m.height=y,h.translate(b/2,y/2),h.rotate(l),h.drawImage(r,-c/2,-d/2);const j=h.getImageData(Math.round(a.x),Math.round(a.y),Math.round(a.width),Math.round(a.height)),w=document.createElement("canvas");return w.width=Math.round(a.width),w.height=Math.round(a.height),w.getContext("2d").putImageData(j,0,0),new Promise(k=>{w.toBlob(_=>k(_),"image/jpeg",.92)})}function WX(){const e=da(),[a,n]=p.useState(null),[s,r]=p.useState(null),[l,c]=p.useState(null),[d,m]=p.useState({init:!0,saving:!1,delete:!1,refresh:!1}),[h,f]=p.useState({name:"",email:""}),[g,b]=p.useState(!1),[y,j]=p.useState({x:0,y:0}),[w,N]=p.useState(1),[k,_]=p.useState(0),[C,O]=p.useState(null),[P,E]=p.useState(!1),[B,M]=p.useState(!1),V=p.useRef(null),G=()=>localStorage.getItem("token")||"",H=()=>G()?{Authorization:`Bearer ${G()}`}:{},F=()=>G()?!0:(R.error("Authentication required. Please login again."),e("/login"),!1),ie=async(te,J={},{expectJson:Ce=!0}={})=>{const se=[];for(const De of GX)try{const Me=await fetch(`${De}${te}`,J);if(Me.status===401||Me.status===403){const Ye=await Me.text().catch(()=>"");throw new Error(Ye||"Unauthorized")}if(Me.ok)return Ce?await Me.json():Me;if(Me.status===404){se.push({base:De,status:404});continue}const ye=await Me.json().catch(()=>({}));throw new Error((ye==null?void 0:ye.detail)||`Request failed (${Me.status})`)}catch(Me){if(se.push({base:De,err:Me==null?void 0:Me.message}),(Me==null?void 0:Me.message)==="Unauthorized")throw Me}const Se=se!=null&&se.length?`Request failed: ${se.map(De=>`${De.base}${De.status||De.err}`).join(" | ")}`:"Network error";throw new Error(Se)},_e=p.useMemo(()=>((h==null?void 0:h.name)||localStorage.getItem("name")||"User").trim().split(" ").map(J=>J[0]).join("").slice(0,2).toUpperCase(),[h==null?void 0:h.name]),ce=p.useCallback(()=>{const te=(localStorage.getItem("role")||"").toLowerCase();return te==="user"?e("/user/dashboard",{replace:!0}):te==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})},[e]);p.useEffect(()=>{if(g){const te=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=te}}},[g]);const T=async()=>{var te,J,Ce;if(F())try{const se=await ie("/user-info",{headers:{...H(),Accept:"application/json"}}),Se=((te=se==null?void 0:se.data)==null?void 0:te.email)||"";f({name:(J=se==null?void 0:se.data)==null?void 0:J.name,email:Se});const De=((Ce=se==null?void 0:se.data)==null?void 0:Ce.profile_photo_url)||null,Me=De?De+(De.includes("?")?"&":"?")+"t="+Date.now():null;if(n(Me),Me&&!s&&r(Me),Se){const ye=`profileComplete:${Se.toLowerCase()}`;if(localStorage.getItem(ye)==="1"){ce();return}}}catch(se){R.error(se.message||"Could not load profile info")}};p.useEffect(()=>{(async()=>(m(te=>({...te,init:!0})),await T(),m(te=>({...te,init:!1}))))()},[]);const K=te=>{if(!te)return;if(!jA.includes(te.type)){R.error("Only PNG, JPEG or WEBP images are allowed.");return}if(te.size>KX){R.error("Image too large. Max allowed is 5 MB.");return}s&&s.startsWith("blob:")&&URL.revokeObjectURL(s),c(te);const J=URL.createObjectURL(te);r(J),b(!1)},W=te=>{var Ce;const J=(Ce=te.target.files)==null?void 0:Ce[0];K(J)},I=te=>{var Ce;te.preventDefault(),te.stopPropagation();const J=(Ce=te.dataTransfer.files)==null?void 0:Ce[0];K(J)},A=te=>{te.preventDefault(),te.stopPropagation()};p.useCallback((te,J)=>{O(J),E(!0)},[]);const $=async()=>{if(!s&&!a){R.info("Choose an image first.");return}if(!P||!C){R.info("Adjust the crop a tiny bit, then save.");return}try{m(Ye=>({...Ye,saving:!0}));const J=await YX(s||a,C,k),Ce=URL.createObjectURL(J);s&&s.startsWith("blob:")&&URL.revokeObjectURL(s),r(Ce);const se=new FormData,Se=`avatar_${Date.now()}.jpg`;se.append("file",J,Se);const De=await ie("/profile-photo",{method:"POST",headers:{...H()},body:se}),Me=De==null?void 0:De.photo_url,ye=Me?Me+(Me.includes("?")?"&":"?")+"t="+Date.now():null;n(ye),b(!1),c(null),E(!1),M(!0),setTimeout(()=>M(!1),1400),R.success("Profile photo saved!")}catch(te){R.error(te.message||"Could not save the cropped photo")}finally{m(te=>({...te,saving:!1}))}},z=async()=>{if(!a){R.info("No profile photo to delete.");return}try{m(te=>({...te,delete:!0})),await ie("/profile-photo",{method:"DELETE",headers:{...H(),Accept:"application/json"}}),s&&s.startsWith("blob:")&&URL.revokeObjectURL(s),n(null),r(null),c(null),R.success("Profile photo deleted.")}catch(te){R.error(te.message||"Delete error")}finally{m(te=>({...te,delete:!1}))}},X=async()=>{m(te=>({...te,refresh:!0})),await T(),m(te=>({...te,refresh:!1}))},ge=()=>{const te=((h==null?void 0:h.email)||"").toLowerCase();te&&localStorage.setItem(`profileComplete:${te}`,"1"),ce()};return t.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-white relative",children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-44",style:{background:"linear-gradient(180deg, rgba(59,130,246,0.18) 0%, rgba(255,255,255,0) 100%)"}}),t.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 tracking-tight",children:"Profile Photo"}),t.jsx("p",{className:"text-slate-500",children:"Click the ring to upload/replace. Use the Crop button to fine-tune your avatar."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:X,disabled:d.refresh||d.init,className:V0("inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border transition","border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-50"),children:[d.refresh?t.jsx(Ia,{className:"h-4 w-4 animate-spin"}):t.jsx(yH,{className:"h-4 w-4"}),"Refresh"]}),t.jsxs("button",{onClick:ge,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 shadow-sm",children:[t.jsx(rp,{className:"h-4 w-4"}),"Confirm"]}),t.jsxs("button",{onClick:ge,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[t.jsx(BH,{className:"h-4 w-4"}),"Skip for now"]})]})]}),t.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 backdrop-blur-sm shadow-[0_8px_30px_rgb(0,0,0,0.06)] p-6 md:p-8",children:t.jsxs("div",{className:"relative flex flex-col items-center",children:[t.jsx("div",{className:"pointer-events-none absolute -top-6 h-24 w-48 rounded-full blur-2xl opacity-50",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(59,130,246,0.25) 0%, rgba(34,211,238,0.18) 60%, transparent 100%)"}}),t.jsxs("div",{className:V0("group relative h-40 w-40 rounded-full p-[3px] cursor-pointer select-none transition-transform duration-200",B?"animate-pulse":"hover:scale-[1.02]"),onClick:()=>{var te;return(te=V.current)==null?void 0:te.click()},onDrop:I,onDragOver:A,style:{background:"conic-gradient(rgba(59,130,246,0.9), rgba(34,211,238,0.9), rgba(59,130,246,0.9))"},title:"Click to upload/replace",children:[t.jsx("div",{className:"rounded-full h-full w-full bg-white grid place-items-center",children:t.jsxs("div",{className:"relative rounded-full h-[148px] w-[148px] overflow-hidden ring-2 ring-blue-500/30 shadow-md bg-slate-50 flex items-center justify-center",children:[d.init?t.jsx(Ia,{className:"h-6 w-6 animate-spin text-slate-400"}):s||a?t.jsx("img",{src:s||a,alt:"Profile",className:"h-full w-full object-cover",onError:()=>{n(null),s&&s.startsWith("blob:")&&URL.revokeObjectURL(s),r(null)}}):t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx(J2,{className:"h-10 w-10 text-slate-400"}),t.jsx("span",{className:"mt-1 text-sm font-semibold text-slate-600",children:_e})]}),t.jsxs("div",{className:"absolute inset-0 bg-black/35 opacity-0 group-hover:opacity-100 transition-opacity grid place-items-center",children:[t.jsx("div",{className:"rounded-full bg-white/90 p-2 shadow-md",children:t.jsx(CF,{className:"h-5 w-5 text-blue-600"})}),t.jsx("span",{className:"absolute bottom-2 text-xs text-white/90",children:"Change photo"})]})]})}),t.jsx("input",{ref:V,type:"file",accept:jA.join(","),className:"hidden",onChange:W})]}),t.jsxs("div",{className:"mt-3 bg-white border border-slate-200 px-2 py-1 rounded-full text-[11px] text-slate-600 shadow-sm flex items-center gap-1",children:[t.jsx(ta,{className:"h-3.5 w-3.5 text-emerald-500"}),a?"Photo set":"No photo yet"]}),t.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>{if(!s&&!a){R.info("Select or upload an image first.");return}_(0),N(1),E(!1),b(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold text-white transition shadow-sm bg-blue-600 hover:bg-blue-700",children:[t.jsx(U3,{className:"h-4 w-4"}),"Crop"]}),t.jsx("button",{type:"button",onClick:z,disabled:d.delete||!a,className:V0("inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold border transition",a?"border-rose-200 text-rose-600 hover:bg-rose-50":"border-slate-200 text-slate-400 cursor-not-allowed"),children:d.delete?t.jsxs(t.Fragment,{children:[t.jsx(Ia,{className:"h-4 w-4 animate-spin"})," Deleting"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ea,{className:"h-4 w-4"})," Delete Photo"]})})]})]})})]}),g&&(s||a)&&t.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>b(!1)}),t.jsxs("div",{className:"relative z-[10001] w-full max-w-lg mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(U3,{className:"h-4 w-4 text-blue-600"}),t.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Crop your photo"})]}),t.jsx("button",{onClick:()=>b(!1),className:"p-1 rounded-md hover:bg-slate-100",children:t.jsx(Cn,{className:"h-4 w-4 text-slate-500"})})]}),t.jsxs("div",{className:"bg-slate-900",children:[t.jsx("div",{className:"relative h-[360px] overflow-hidden",children:t.jsx(qX,{image:s||a,crop:y,zoom:w,rotation:k,aspect:1,cropShape:"round",showGrid:!1,objectFit:"contain",onCropChange:j,onRotationChange:_,onZoomChange:N,onCropComplete:(te,J)=>{O(J),E(!0)}})}),t.jsxs("div",{className:"relative border-t border-white/10 bg-slate-900/70 p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-xs text-white/80 w-16",children:"Zoom"}),t.jsx("input",{type:"range",min:1,max:3,step:.01,value:w,onChange:te=>N(parseFloat(te.target.value)),className:"w-full accent-blue-500"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-xs text-white/80 w-16",children:"Rotate"}),t.jsx("input",{type:"range",min:-180,max:180,step:1,value:k,onChange:te=>_(parseFloat(te.target.value)),className:"w-full accent-blue-500"}),t.jsxs("button",{type:"button",onClick:()=>_(0),className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs text-white bg-white/10 hover:bg-white/20",children:[t.jsx(kH,{className:"h-3.5 w-3.5"}),"Reset"]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 bg-white",children:[t.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Cancel"}),t.jsx("button",{type:"button",onClick:$,disabled:d.saving||!P,className:V0("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",P?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:d.saving?t.jsxs(t.Fragment,{children:[t.jsx(Ia,{className:"h-4 w-4 animate-spin"})," Saving"]}):t.jsxs(t.Fragment,{children:[t.jsx(rp,{className:"h-4 w-4"})," Crop & Save"]})})]})]})]})]})}function XX(...e){return e.filter(Boolean).join(" ")}const wA="https://app.thedbt.ai";function ZX({onClick:e}){const a=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return t.jsxs("button",{type:"button",onClick:e,onKeyDown:a,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[t.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),t.jsxs(pe.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),t.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),t.jsxs("filter",{id:"glow",children:[t.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsx(pe.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),t.jsx(pe.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),t.jsx(pe.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function LN({className:e="",onMenuToggle:a,profilePath:n="/user/settings"}){const[s,r]=p.useState(""),[l,c]=p.useState(null),[d,m]=p.useState(!1),h=da();p.useEffect(()=>{r(localStorage.getItem("name")||"User")},[]),p.useEffect(()=>{const y=localStorage.getItem("token"),j=new AbortController;async function w(){try{const N=await fetch(`${wA}/api/profile-photo`,{headers:y?{Authorization:`Bearer ${y}`}:{},signal:j.signal,mode:"cors"});if(!N.ok){m(!0);return}const k=await N.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${wA}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),m(!1)}else m(!0)}catch{m(!0)}}return w(),()=>j.abort()},[]);const f=y=>y.split(" ").map(j=>j.charAt(0)).join("").toUpperCase().slice(0,2),g=({size:y=40})=>{const j=y;return t.jsxs("button",{type:"button",onClick:()=>h(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[t.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?t.jsx("img",{src:l,alt:"Profile photo",width:j,height:j,className:"rounded-full object-cover",style:{width:j,height:j},onLoad:()=>m(!1),onError:()=>m(!0)}):t.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:j,height:j,fontSize:j<36?10:12},children:f(s)})}),t.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),t.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},b=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof a=="function"&&a()};return t.jsxs("header",{className:XX("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[t.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:t.jsxs("div",{className:"flex items-center justify-between h-full",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[t.jsx(ZX,{onClick:b}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"hidden lg:block",children:[t.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),t.jsxs("div",{className:"relative",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Convert interest into booked meetings  automatically"}),t.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),t.jsxs("div",{className:"hidden sm:block lg:hidden",children:[t.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),t.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Smart lead capture & scheduling"})]}),t.jsxs("div",{className:"sm:hidden relative",children:[t.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),t.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[t.jsxs(pe.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[t.jsx("div",{className:"relative",children:t.jsx(g,{size:40})}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome back!"}),t.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:s})]})]}),t.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[t.jsx(g,{size:32}),t.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:s})]}),t.jsx("div",{className:"sm:hidden",children:t.jsx(g,{size:36})}),t.jsxs(pe.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[t.jsx(ip,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),t.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),t.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function QX(){return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[t.jsx(LN,{}),t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",children:t.jsx("div",{className:"h-16 sm:h-20 md:h-24 lg:h-28 bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600"})}),t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-2 pb-3",children:t.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 border border-white/15 grid place-content-center backdrop-blur-sm",children:t.jsx(lr,{className:"w-6 h-6"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900",children:"Privacy Policy"}),t.jsxs("p",{className:"text-sm sm:text-base text-slate-700",children:["Effective date: ",new Date().toLocaleDateString()]})]})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/60 to-transparent"})]}),t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 sm:p-8",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(Pr,{className:"w-5 h-5 text-blue-600"})}),t.jsx("div",{className:"min-w-0",children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our SaaS-based AI calling assistant platform. The platform enables users to upload CSV files of leads, configure AI assistants for outbound and inbound calls, and automate reminders to help generate qualified leads, book appointments, and drive sales outcomes. By using the platform, you agree to the practices described here."})})]})}),t.jsxs(vr,{title:"Information We Collect",icon:Jl,children:[t.jsx(yr,{title:"Account and Profile",children:"- Name, email, and authentication tokens necessary to create and secure your account."}),t.jsx(yr,{title:"Lead and Contact Data",children:"- Lead details uploaded via CSV (e.g., name, phone number, email, consent flags, timezone)."}),t.jsx(yr,{title:"Communication Records",children:"- AI call logs, recordings (if enabled), call outcomes, SMS/email reminder history, and scheduling activity."}),t.jsx(yr,{title:"Usage and Device Data",children:"- IP address, browser type, device identifiers, and product usage metrics to improve reliability and performance."})]}),t.jsx(vr,{title:"How We Use Your Information",icon:ta,children:t.jsxs(By,{children:[t.jsx("li",{children:"Provide and operate the AI calling, texting, scheduling, and reminder features you configure."}),t.jsx("li",{children:"Maintain compliance settings, including consent flags, DNC suppression, opt-out handling, and legal calling hours per timezone."}),t.jsx("li",{children:"Deliver usage analytics, call/text/booking history, and reporting for your account."}),t.jsx("li",{children:"Integrate with calendars and supported CRMs to sync leads, calls, and appointments as requested by you."}),t.jsx("li",{children:"Monitor platform reliability, rate-limit traffic, and prevent telecom carrier flagging."}),t.jsx("li",{children:"Communicate product updates, security notices, and critical service alerts."})]})}),t.jsxs(vr,{title:"Legal Bases for Processing",icon:li,children:[t.jsx(yr,{title:"Consent",children:"Where you provide consent (e.g., uploading leads with consent flags, enabling recordings)."}),t.jsx(yr,{title:"Contract",children:"To deliver the services under our Terms of Service."}),t.jsx(yr,{title:"Legitimate Interests",children:"To secure, maintain, and improve the platform."}),t.jsx(yr,{title:"Compliance with Laws",children:"To meet telecom, privacy, and consumer protection obligations."})]}),t.jsxs(vr,{title:"How We Share Information",icon:dq,children:[t.jsx(yr,{title:"Service Providers",children:"Telecom, email, and SMS providers; hosting and analytics vendors who support platform operation."}),t.jsx(yr,{title:"CRM Integrations",children:"At your direction, we sync lead and appointment data to supported CRMs."}),t.jsx(yr,{title:"Legal and Safety",children:"We may disclose information to comply with law, enforce our terms, or protect rights, safety, and security."}),t.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"We do not sell your personal information."})]}),t.jsx(vr,{title:"Compliance and Messaging Controls",icon:Br,children:t.jsxs(By,{children:[t.jsx("li",{children:"Consent per lead: CSV uploads must include a consent flag where applicable."}),t.jsx("li",{children:"DNC suppression: Upload and maintain Do Not Call lists; calls and texts to DNC numbers are blocked."}),t.jsx("li",{children:'Opt-out handling: SMS replies like "STOP" automatically unsubscribe the recipient.'}),t.jsx("li",{children:"Local time enforcement: Calls/texts are limited to legal hours in the leads timezone (e.g., 8am9pm)."}),t.jsx("li",{children:"Rate-limiting: Calls and messages may be batched or limited to avoid carrier flagging and ensure deliverability."})]})}),t.jsx(vr,{title:"Data Retention",icon:Xi,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We retain account, lead, and communication data for as long as your account is active or as needed to provide services and comply with legal obligations. You may request deletion of certain data at any time, subject to legal or operational limitations."})}),t.jsx(vr,{title:"Your Privacy Choices",icon:lr,children:t.jsxs(By,{children:[t.jsx("li",{children:"Access, correct, or delete your account information."}),t.jsx("li",{children:"Manage consent flags and DNC lists for your leads."}),t.jsx("li",{children:"Disable recordings or integrations you no longer wish to use."}),t.jsx("li",{children:"Unsubscribe from non-essential communications via provided controls."})]})}),t.jsx(vr,{title:"Security",icon:Br,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We use industry-standard safeguards to protect information in transit and at rest. No method of transmission or storage is 100% secure. We continuously improve our technical and organizational measures to protect your data."})}),t.jsx(vr,{title:"International Data Transfers",icon:li,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Your information may be processed in regions where we or our service providers operate. We implement appropriate safeguards when transferring information across borders, consistent with applicable law."})}),t.jsx(vr,{title:"Childrens Privacy",icon:af,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Our services are not directed to children. We do not knowingly collect personal information from children. If you believe a child has provided information, contact us to request deletion."})}),t.jsx(vr,{title:"Contact Us",icon:Fn,children:t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[t.jsx(Fn,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{children:"muhammad.faridoon@digitalbusinesstransformation.co.uk"})]}),t.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[t.jsx(gt,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{children:"+447465884867"})]})]})}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(NA,{icon:uF,title:"Messaging Preferences",text:"Manage reminder templates, opt-out keywords, and quiet hours.",href:"#"}),t.jsx(NA,{icon:Ea,title:"Data Deletion Request",text:"Request deletion of recordings, logs, or lead data as allowed.",href:"#"})]}),t.jsx("p",{className:"mt-10 text-xs text-slate-500 text-center",children:"This Privacy Policy may be updated to reflect changes to our practices. We will notify you of significant updates as required by law."})]})]})}function vr({title:e,icon:a,children:n}){return t.jsxs("section",{className:"mt-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-9 h-9 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(a,{className:"w-5 h-5 text-blue-600"})}),t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:e})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6",children:n})]})}function yr({title:e,children:a}){return t.jsxs("div",{className:"flex items-start gap-3 py-2",children:[t.jsx("div",{className:"mt-1 w-2 h-2 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-slate-900",children:e}),t.jsx("div",{className:"text-slate-700 leading-relaxed text-sm",children:a})]})]})}function By({children:e}){return t.jsx("ol",{className:"list-decimal ml-5 space-y-2 text-slate-700",children:e})}function NA({icon:e,title:a,text:n,href:s}){return t.jsx("a",{href:s,className:"group block border border-slate-200 rounded-2xl p-5 hover:border-blue-200 hover:bg-blue-50/30 transition-colors",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(e,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold text-slate-900 truncate",children:a}),t.jsx("div",{className:"text-sm text-slate-600 truncate",children:n})]}),t.jsx(pa,{className:"ml-auto w-5 h-5 text-slate-400 group-hover:text-blue-600"})]})})}function JX(){return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[t.jsx(LN,{}),t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",children:t.jsx("div",{className:"h-16 sm:h-20 md:h-24 lg:h-28 bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600"})}),t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-2 pb-3",children:t.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 border border-white/15 grid place-content-center backdrop-blur-sm",children:t.jsx(SM,{className:"w-6 h-6"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900",children:"Terms of Service"}),t.jsxs("p",{className:"text-sm sm:text-base text-slate-700",children:["Effective date: ",new Date().toLocaleDateString()]})]})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/60 to-transparent"})]}),t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[t.jsx(eZ,{}),t.jsx(On,{title:"1) Acceptance of Terms",icon:GF,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"By accessing or using our SaaS-based AI calling assistant platform (the Service), you agree to be bound by these Terms of Service (Terms). If you do not agree, do not use the Service. If you are using the Service on behalf of an organization, you represent that you have authority to bind that organization."})}),t.jsx(On,{title:"2) Accounts & Eligibility",icon:cc,children:t.jsxs(dd,{children:[t.jsx("li",{children:"You must provide accurate registration information."}),t.jsx("li",{children:"You are responsible for safeguarding your credentials and for all activities under your account."}),t.jsx("li",{children:"You must be at least the age of majority in your jurisdiction to use the Service."})]})}),t.jsx(On,{title:"3) Use of Service & AI Communications",icon:ta,children:t.jsxs(dd,{children:[t.jsx("li",{children:"The Service provides AI-assisted outbound and inbound calling, messaging, scheduling, and reminder capabilities that you configure."}),t.jsx("li",{children:"You control the content and recipients of communications and are responsible for ensuring that your campaign settings comply with applicable laws."}),t.jsx("li",{children:"We may apply rate limits, concurrency limits, or other controls to maintain platform reliability and reduce carrier flagging."})]})}),t.jsx(On,{title:"4) Lead Data, Consent & Compliance",icon:Qi,children:t.jsxs(dd,{children:[t.jsx("li",{children:"You represent and warrant you have obtained all necessary permissions, consents, and legal bases to upload leads and to initiate calls or messages to those leads."}),t.jsx("li",{children:"You will respect Do Not Call (DNC) lists, honor opt-out requests, and comply with local time-of-day restrictions (e.g., 8am9pm in the leads timezone)."}),t.jsx("li",{children:"If you enable recordings, you are responsible for compliance with one-party or two-party consent rules as applicable."})]})}),t.jsx(On,{title:"5) Prohibited Activities",icon:lF,children:t.jsxs(dd,{children:[t.jsx("li",{children:"Sending spam or unlawful, deceptive, or abusive content."}),t.jsx("li",{children:"Engaging in harassment, discrimination, or any illegal activity."}),t.jsx("li",{children:"Attempting to compromise the Service, bypass security controls, or misuse APIs."}),t.jsx("li",{children:"Using the Service to contact individuals without a lawful basis or in violation of telecom/consumer protection laws."})]})}),t.jsx(On,{title:"6) Billing, Trials & Cancellations",icon:yM,children:t.jsxs(dd,{children:[t.jsx("li",{children:"Fees are charged per the plan you select. Taxes may apply. You authorize us (and our payment processor) to charge your payment method for all applicable fees."}),t.jsx("li",{children:"Trials (if offered) are for evaluation only and may be modified or terminated at any time."}),t.jsx("li",{children:"You can cancel at any time; cancellations take effect at the end of the current billing period. We generally do not provide refunds except where required by law."})]})}),t.jsx(On,{title:"7) Availability & Support",icon:Xi,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We strive for high availability but do not guarantee uninterrupted Service. We may temporarily suspend access for maintenance, updates, or to address security or reliability issues."})}),t.jsx(On,{title:"8) Intellectual Property",icon:ig,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"The Service, including all software, design assets, and related materials, is owned by us or our licensors and is protected by intellectual property laws. These Terms grant you a limited, non-exclusive, non-transferable right to use the Service for your internal business purposes."})}),t.jsx(On,{title:"9) Privacy",icon:Br,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Your use of the Service is also governed by our Privacy Policy, which describes how we collect, use, and safeguard information. Where there is a conflict between these Terms and the Privacy Policy, these Terms control to the extent of the conflict regarding Service usage obligations."})}),t.jsx(On,{title:"10) Warranties & Disclaimers",icon:af,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"THE SERVICE IS PROVIDED AS IS AND AS AVAILABLE. TO THE MAXIMUM EXTENT PERMITTED BY LAW, WE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT. WE DO NOT WARRANT THAT THE SERVICE WILL BE ERROR-FREE OR UNINTERRUPTED."})}),t.jsx(On,{title:"11) Limitation of Liability",icon:NV,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, WE SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, PUNITIVE, OR EXEMPLARY DAMAGES, OR FOR ANY LOSS OF PROFITS, REVENUE, DATA, OR GOODWILL. OUR AGGREGATE LIABILITY FOR ALL CLAIMS RELATING TO THE SERVICE SHALL NOT EXCEED THE AMOUNT PAID BY YOU TO US IN THE TWELVE (12) MONTHS PRECEDING THE EVENT GIVING RISE TO THE CLAIM."})}),t.jsx(On,{title:"12) Indemnification",icon:bc,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"You agree to indemnify and hold us harmless from any claims, damages, liabilities, and expenses (including reasonable legal fees) arising from your use of the Service, your content, or your breach of these Terms or applicable laws."})}),t.jsx(On,{title:"13) Termination",icon:Ge,children:t.jsxs(dd,{children:[t.jsx("li",{children:"You may stop using the Service at any time. We may suspend or terminate your access for violations of these Terms or misuse of the Service."}),t.jsx("li",{children:"Upon termination, your right to use the Service ceases. Certain provisions (e.g., IP ownership, indemnification, limitations of liability) survive termination."})]})}),t.jsx(On,{title:"14) Governing Law & Dispute Resolution",icon:li,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"These Terms are governed by the laws applicable to our principal place of business, without regard to conflict-of-law principles. Disputes will be resolved in the courts of that jurisdiction unless otherwise agreed in writing."})}),t.jsx(On,{title:"15) Changes to Terms",icon:xw,children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We may update these Terms from time to time. Material changes will be communicated through the Service or via email. Continued use of the Service after changes become effective constitutes acceptance of the updated Terms."})}),t.jsx(On,{title:"Contact Us",icon:Fn,children:t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[t.jsx(Fn,{className:"w-5 h-5"}),t.jsx("span",{children:"muhammad.faridoon@digitalbusinesstransformation.co.uk"})]}),t.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[t.jsx(gt,{className:"w-5 h-5"}),t.jsx("span",{children:"+447465884867"})]})]})}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(SA,{icon:xw,title:"Acceptable Use Guidelines",text:"Review examples of compliant campaigns and message templates.",href:"#"}),t.jsx(SA,{icon:Qi,title:"Compliance Checklist",text:"Consent flags, DNC lists, quiet hours, and opt-out handling.",href:"#"})]}),t.jsx("p",{className:"mt-10 text-xs text-slate-500 text-center",children:"These Terms of Service may be updated from time to time. Please review them periodically."})]})]})}function eZ(){return t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 sm:p-8",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(SM,{className:"w-5 h-5 text-blue-600"})}),t.jsx("div",{className:"min-w-0",children:t.jsx("p",{className:"text-slate-700 leading-relaxed",children:"These Terms of Service govern your use of our AI calling assistant platform, including outbound/inbound calls, messaging, reminders, scheduling, and integrations. Please read them carefully. By using the Service, you acknowledge and agree to these Terms."})})]})})}function On({title:e,icon:a,children:n}){return t.jsxs("section",{className:"mt-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-9 h-9 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(a,{className:"w-5 h-5 text-blue-600"})}),t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:e})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6",children:n})]})}function dd({children:e}){return t.jsx("ol",{className:"list-decimal ml-5 space-y-2 text-slate-700",children:e})}function SA({icon:e,title:a,text:n,href:s}){return t.jsx("a",{href:s,className:"group block border border-slate-200 rounded-2xl p-5 hover:border-blue-200 hover:bg-blue-50/30 transition-colors",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:t.jsx(e,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold text-slate-900 truncate",children:a}),t.jsx("div",{className:"text-sm text-slate-600 truncate",children:n})]}),t.jsx(pa,{className:"ml-auto w-5 h-5 text-slate-400 group-hover:text-blue-600"})]})})}var x8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_A=It.createContext&&It.createContext(x8),tZ=["attr","size","title"];function aZ(e,a){if(e==null)return{};var n=nZ(e,a),s,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function nZ(e,a){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(a.indexOf(s)>=0)continue;n[s]=e[s]}return n}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},up.apply(this,arguments)}function kA(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function mp(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?kA(Object(n),!0).forEach(function(s){sZ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function sZ(e,a,n){return a=rZ(a),a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function rZ(e){var a=iZ(e,"string");return typeof a=="symbol"?a:a+""}function iZ(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function p8(e){return e&&e.map((a,n)=>It.createElement(a.tag,mp({key:n},a.attr),p8(a.child)))}function Vt(e){return a=>It.createElement(lZ,up({attr:mp({},e.attr)},a),p8(e.child))}function lZ(e){var a=n=>{var{attr:s,size:r,title:l}=e,c=aZ(e,tZ),d=r||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),It.createElement("svg",up({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:m,style:mp(mp({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&It.createElement("title",null,l),e.children)};return _A!==void 0?It.createElement(_A.Consumer,null,n=>a(n)):a(x8)}function oZ(e){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function g8(e){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function b8(e){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function cZ(e){return Vt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function v8(e){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function dZ(e){return Vt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function uZ(e){return Vt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function IN(e){return Vt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function mZ(e){return Vt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function y8(e){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function hZ({compact:e=!1}){const a=p.useMemo(()=>[{text:"Make Calls",Icon:gt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:ls,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:IN,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:un,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:ls,from:"#22D3EE",to:"#2563EB"}],[]),[n,s]=p.useState(0),[r,l]=p.useState(""),[c,d]=p.useState(!1);p.useEffect(()=>{const g=a[n].text,b=40,y=28,j=1100;let w;return!c&&r.length<g.length?w=setTimeout(()=>l(g.slice(0,r.length+1)),b):!c&&r.length===g.length?w=setTimeout(()=>d(!0),j):c&&r.length>0?w=setTimeout(()=>l(g.slice(0,r.length-1)),y):c&&r.length===0&&(d(!1),s(N=>(N+1)%a.length)),()=>clearTimeout(w)},[r,c,n,a]);const{Icon:m,from:h,to:f}=a[n];return t.jsxs("div",{className:["relative flex items-center",e?"justify-center p-3 sm:p-4":"p-4 sm:p-6",e?"":"gap-4 sm:gap-6"].join(" "),children:[t.jsxs("div",{className:"relative shrink-0",children:[t.jsx(pe.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${h}, ${f})`,boxShadow:`0 0 24px 6px ${f}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:t.jsx(m,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),t.jsx(pe.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${f}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[t.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${h}, ${f})`},children:r}),t.jsx(pe.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),t.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function fZ(){const[e,a]=p.useState(!1),[n,s]=p.useState(!1),[r,l]=p.useState(!1),[c,d]=p.useState({}),m=fi(),h=da();p.useEffect(()=>{const y=()=>{const j=window.innerWidth;l(j<768),a(j<1024)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),p.useEffect(()=>{s(!1)},[m.pathname]),p.useEffect(()=>{const y=()=>{r?s(j=>!j):a(j=>!j)};return window.addEventListener("app:toggle-sidebar",y),()=>window.removeEventListener("app:toggle-sidebar",y)},[r]);const f=y=>m.pathname===y,g=[{id:"dashboard",label:"Dashboard",icon:X2,href:"/user/dashboard",color:"text-blue-600"},{id:"phoneCalls",label:"Phone Numbers",icon:gt,href:"/user/callhistory",color:"text-orange-600"},{id:"assistants",label:"Assistants",icon:IN,color:"text-green-600",type:"group",children:[{id:"callassistant",label:"Call Assistant",icon:gt,href:"/user/callassistent",color:"text-green-600"},{id:"textassistant",label:"Text Assistant",icon:Pr,href:"/user/TextAssistants",color:"text-indigo-600"}]},{id:"Leads",label:"Leads",icon:un,href:"/user/leads",color:"text-purple-600"},{id:"Campain",label:"Campaigns",icon:ls,href:"/user/campain",color:"text-blue-600"},{id:"settings",label:"Settings",icon:Q2,href:"/user/settings",color:"text-gray-600"},{id:"CRM",label:"CRMS",icon:uZ,href:"/user/CRM",color:"text-orange-600"},{id:"Appointments",label:"Appointments",icon:hy,href:"/user/Appointments",color:"text-purple-600"},{id:"CallLogs",label:"Call Logs",icon:gt,href:"/user/calllogs",color:"text-purple-600"},{id:"formconnection",label:"Form Connections",icon:Dr,color:"text-cyan-600",type:"group",children:[{id:"CustomForms",label:"CustomForms",icon:jM,href:"/user/CustomForms",color:"text-pink-600"},{id:"MetaForms",label:"MetaForms",icon:oZ,href:"/user/FacebookForms",color:"text-blue-600"}]},{id:"Calender",label:"Events",icon:hy,href:"/user/Calender",color:"text-purple-600"},{id:"PricingSection",label:"PricingSection",icon:hy,href:"/user/PricingSection",color:"text-purple-600"}];p.useEffect(()=>{const y=g.filter(w=>w.type==="group"),j={};y.forEach(w=>{var N;(N=w.children)!=null&&N.some(k=>f(k.href))&&(j[w.id]=!0)}),Object.keys(j).length>0&&d(w=>({...w,...j}))},[m.pathname]);const b=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:t.jsx(hZ,{compact:e&&!r})}),t.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:g.map(y=>{var _;if(y.type==="group"){const C=y.icon,O=(_=y.children)==null?void 0:_.some(B=>f(B.href)),P=c[y.id]===!0,E=()=>{e&&!r?(a(!1),d(B=>({...B,[y.id]:!0}))):d(B=>({...B,[y.id]:!B[y.id]}))};return t.jsxs("div",{className:"group",children:[t.jsxs("button",{type:"button",onClick:E,className:`relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                    ${O?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                    ${e&&!r?"justify-center p-2 sm:p-3":"p-3 sm:p-3"}
                    ${r?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!r?y.label:"",children:[O&&!e&&t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),t.jsx("div",{className:"relative z-10",children:t.jsx(C,{className:`flex-shrink-0 transition-all duration-200
                      ${e&&!r?"w-6 h-6":"w-5 h-5"}
                      ${O?y.color:"text-slate-500 group-hover:text-slate-700"}
                      ${O?"scale-110":"group-hover:scale-105"}`})}),(!e||r)&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:y.label}),t.jsx("span",{className:"ml-auto text-slate-500",children:P?t.jsx(vM,{className:"w-4 h-4"}):t.jsx(bM,{className:"w-4 h-4"})})]})]}),t.jsx(kt,{initial:!1,children:P&&t.jsx(pe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:`${e&&!r?"px-2":"pl-9 pr-2"} mt-1 space-y-1`,children:y.children.map(B=>{const M=B.icon,V=f(B.href);return t.jsxs("button",{type:"button",onClick:()=>h(B.href),className:`w-full text-left flex items-center gap-3 rounded-lg transition-colors
                              ${V?"bg-blue-50/70 text-blue-700 border border-blue-200":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                              p-2`,title:B.label,children:[t.jsx(M,{className:`w-4 h-4 ${V?B.color:"text-slate-400 group-hover:text-slate-600"}`}),t.jsx("span",{className:"text-sm",children:B.label}),V&&t.jsx("span",{className:"ml-auto w-2 h-2 bg-blue-600 rounded-full animate-pulse"})]},B.id)})},`${y.id}-children`)})]},y.id)}const j=y.icon,w=f(y.href),N=w&&(!e||r)?r?"pl-5":"pl-4":"",k=e&&!r?"gap-0":r?"gap-4":"gap-3";return t.jsxs("button",{type:"button",onClick:()=>h(y.href),className:`group relative w-full text-left flex items-center ${k} rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                ${w?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                ${e&&!r?"justify-center p-2 sm:p-3":`p-3 sm:p-3 ${N}`}
                ${r?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!r?y.label:"",children:[w&&!e&&t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),t.jsx("div",{className:"relative z-10",children:t.jsx(j,{className:`flex-shrink-0 transition-all duration-200
                    ${e&&!r?"w-6 h-6":"w-5 h-5"}
                    ${w?y.color:"text-slate-500 group-hover:text-slate-700"}
                    ${w?"scale-110":"group-hover:scale-105"}`})}),(!e||r)&&t.jsx("span",{className:"font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:y.label}),w&&(!e||r)&&t.jsx("div",{className:"ml-auto flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},y.id)})}),!r&&t.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:t.jsx("button",{onClick:()=>a(y=>!y),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?t.jsx(pa,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):t.jsxs(t.Fragment,{children:[t.jsx(kn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),t.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return t.jsxs(t.Fragment,{children:[!r&&t.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:t.jsx("div",{className:"flex flex-col h-full",children:t.jsx(b,{})})}),r&&t.jsxs("div",{className:"md:hidden",children:[n&&t.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>s(!1),"aria-hidden":"true"}),t.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:t.jsx("div",{className:"flex flex-col h-full",children:t.jsx(b,{})})})]})]})}function xZ(){return t.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[t.jsx(fZ,{}),t.jsxs("div",{className:"flex flex-1 flex-col",children:[t.jsx(LN,{className:"h-16 border-b"}),t.jsx("main",{className:"flex-1 p-6",children:t.jsx(tM,{})})]})]})}var zy={},Uy={},CA;function pZ(){return CA||(CA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return n==="__proto__"}e.isUnsafeProperty=a}(Uy)),Uy}var Fy={},AA;function j8(){return AA||(AA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=a}(Fy)),Fy}var Vy={},TA;function w8(){return TA||(TA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){var s;return typeof n=="string"||typeof n=="symbol"?n:Object.is((s=n==null?void 0:n.valueOf)==null?void 0:s.call(n),-0)?"-0":String(n)}e.toKey=a}(Vy)),Vy}var Hy={},EA;function BN(){return EA||(EA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){const s=[],r=n.length;if(r===0)return s;let l=0,c="",d="",m=!1;for(n.charCodeAt(0)===46&&(s.push(""),l++);l<r;){const h=n[l];d?h==="\\"&&l+1<r?(l++,c+=n[l]):h===d?d="":c+=h:m?h==='"'||h==="'"?d=h:h==="]"?(m=!1,s.push(c),c=""):c+=h:h==="["?(m=!0,c&&(s.push(c),c="")):h==="."?c&&(s.push(c),c=""):c+=h,l++}return c&&s.push(c),s}e.toPath=a}(Hy)),Hy}var PA;function zN(){return PA||(PA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=pZ(),n=j8(),s=w8(),r=BN();function l(d,m,h){if(d==null)return h;switch(typeof m){case"string":{if(a.isUnsafeProperty(m))return h;const f=d[m];return f===void 0?n.isDeepKey(m)?l(d,r.toPath(m),h):h:f}case"number":case"symbol":{typeof m=="number"&&(m=s.toKey(m));const f=d[m];return f===void 0?h:f}default:{if(Array.isArray(m))return c(d,m,h);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),a.isUnsafeProperty(m))return h;const f=d[m];return f===void 0?h:f}}}function c(d,m,h){if(m.length===0)return h;let f=d;for(let g=0;g<m.length;g++){if(f==null||a.isUnsafeProperty(m[g]))return h;f=f[m[g]]}return f===void 0?h:f}e.get=l}(zy)),zy}var qy,OA;function gZ(){return OA||(OA=1,qy=zN().get),qy}var bZ=gZ();const io=Ur(bZ);var Ky={exports:{}},Zt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA;function vZ(){if(MA)return Zt;MA=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function j(w){if(typeof w=="object"&&w!==null){var N=w.$$typeof;switch(N){case e:switch(w=w.type,w){case n:case r:case s:case m:case h:case b:return w;default:switch(w=w&&w.$$typeof,w){case c:case d:case g:case f:return w;case l:return w;default:return N}}case a:return N}}}return Zt.ContextConsumer=l,Zt.ContextProvider=c,Zt.Element=e,Zt.ForwardRef=d,Zt.Fragment=n,Zt.Lazy=g,Zt.Memo=f,Zt.Portal=a,Zt.Profiler=r,Zt.StrictMode=s,Zt.Suspense=m,Zt.SuspenseList=h,Zt.isContextConsumer=function(w){return j(w)===l},Zt.isContextProvider=function(w){return j(w)===c},Zt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Zt.isForwardRef=function(w){return j(w)===d},Zt.isFragment=function(w){return j(w)===n},Zt.isLazy=function(w){return j(w)===g},Zt.isMemo=function(w){return j(w)===f},Zt.isPortal=function(w){return j(w)===a},Zt.isProfiler=function(w){return j(w)===r},Zt.isStrictMode=function(w){return j(w)===s},Zt.isSuspense=function(w){return j(w)===m},Zt.isSuspenseList=function(w){return j(w)===h},Zt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===r||w===s||w===m||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===f||w.$$typeof===c||w.$$typeof===l||w.$$typeof===d||w.$$typeof===y||w.getModuleId!==void 0)},Zt.typeOf=j,Zt}var DA;function yZ(){return DA||(DA=1,Ky.exports=vZ()),Ky.exports}var jZ=yZ(),hn=e=>e===0?0:e>0?1:-1,Ds=e=>typeof e=="number"&&e!=+e,sc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,et=e=>(typeof e=="number"||e instanceof Number)&&!Ds(e),mi=e=>et(e)||typeof e=="string",wZ=0,Lh=e=>{var a=++wZ;return"".concat(e||"").concat(a)},Qn=function(a,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(a)&&typeof a!="string")return s;var l;if(sc(a)){if(n==null)return s;var c=a.indexOf("%");l=n*parseFloat(a.slice(0,c))/100}else l=+a;return Ds(l)&&(l=s),r&&n!=null&&l>n&&(l=n),l},N8=e=>{if(!Array.isArray(e))return!1;for(var a=e.length,n={},s=0;s<a;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},RA=(e,a)=>et(e)&&et(a)?n=>e+n*(a-e):()=>a;function Tr(e,a,n){return et(e)&&et(a)?e+n*(a-e):a}function S8(e,a,n){if(!(!e||!e.length))return e.find(s=>s&&(typeof a=="function"?a(s):io(s,a))===n)}var ca=e=>e===null||typeof e>"u",cf=e=>ca(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),NZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function UN(e){if(typeof e!="string")return!1;var a=NZ;return a.includes(e)}var SZ=["viewBox","children"],$A=["points","pathLength"],Gy={svg:SZ,polygon:$A,polyline:$A},FN=(e,a)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(r=>{UN(r)&&(s[r]=l=>n[r](n,l))}),s},_Z=(e,a,n)=>s=>(e(a,n,s),null),df=(e,a,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var s=null;return Object.keys(e).forEach(r=>{var l=e[r];UN(r)&&typeof l=="function"&&(s||(s={}),s[r]=_Z(l,a,n))}),s},kZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function _8(e){if(typeof e!="string")return!1;var a=kZ;return a.includes(e)}function ll(e){var a=Object.entries(e).filter(n=>{var[s]=n;return _8(s)});return Object.fromEntries(a)}var LA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",IA=null,Yy=null,k8=e=>{if(e===IA&&Array.isArray(Yy))return Yy;var a=[];return p.Children.forEach(e,n=>{ca(n)||(jZ.isFragment(n)?a=a.concat(k8(n.props.children)):a.push(n))}),Yy=a,IA=e,a};function uf(e,a){var n=[],s=[];return Array.isArray(a)?s=a.map(r=>LA(r)):s=[LA(a)],k8(e).forEach(r=>{var l=io(r,"type.displayName")||io(r,"type.name");s.indexOf(l)!==-1&&n.push(r)}),n}var C8=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,CZ=(e,a,n,s)=>{var r;if(typeof a=="symbol"||typeof a=="number")return!0;var l=(r=s&&(Gy==null?void 0:Gy[s]))!==null&&r!==void 0?r:[],c=a.startsWith("data-"),d=typeof e!="function"&&(!!s&&l.includes(a)||_8(a)),m=!!n&&UN(a);return c||d||m},ha=(e,a,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(p.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var r={};return Object.keys(s).forEach(l=>{var c;CZ((c=s)===null||c===void 0?void 0:c[l],l,a,n)&&(r[l]=s[l])}),r},AZ=["children","width","height","viewBox","className","style","title","desc"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Iw.apply(null,arguments)}function TZ(e,a){if(e==null)return{};var n,s,r=EZ(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EZ(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var VN=p.forwardRef((e,a)=>{var{children:n,width:s,height:r,viewBox:l,className:c,style:d,title:m,desc:h}=e,f=TZ(e,AZ),g=l||{width:s,height:r,x:0,y:0},b=St("recharts-surface",c);return p.createElement("svg",Iw({},ha(f,!0,"svg"),{className:b,width:s,height:r,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:a}),p.createElement("title",null,m),p.createElement("desc",null,h),n)}),PZ=["children","className"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bw.apply(null,arguments)}function OZ(e,a){if(e==null)return{};var n,s,r=MZ(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MZ(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Vn=p.forwardRef((e,a)=>{var{children:n,className:s}=e,r=OZ(e,PZ),l=St("recharts-layer",s);return p.createElement("g",Bw({className:l},ha(r,!0),{ref:a}),n)}),A8=p.createContext(null),DZ=()=>p.useContext(A8);function sa(e){return function(){return e}}const T8=Math.cos,hp=Math.sin,Vr=Math.sqrt,fp=Math.PI,pg=2*fp,zw=Math.PI,Uw=2*zw,Go=1e-6,RZ=Uw-Go;function E8(e){this._+=e[0];for(let a=1,n=e.length;a<n;++a)this._+=arguments[a]+e[a]}function $Z(e){let a=Math.floor(e);if(!(a>=0))throw new Error(`invalid digits: ${e}`);if(a>15)return E8;const n=10**a;return function(s){this._+=s[0];for(let r=1,l=s.length;r<l;++r)this._+=Math.round(arguments[r]*n)/n+s[r]}}class LZ{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=a==null?E8:$Z(a)}moveTo(a,n){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,n){this._append`L${this._x1=+a},${this._y1=+n}`}quadraticCurveTo(a,n,s,r){this._append`Q${+a},${+n},${this._x1=+s},${this._y1=+r}`}bezierCurveTo(a,n,s,r,l,c){this._append`C${+a},${+n},${+s},${+r},${this._x1=+l},${this._y1=+c}`}arcTo(a,n,s,r,l){if(a=+a,n=+n,s=+s,r=+r,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,m=s-a,h=r-n,f=c-a,g=d-n,b=f*f+g*g;if(this._x1===null)this._append`M${this._x1=a},${this._y1=n}`;else if(b>Go)if(!(Math.abs(g*m-h*f)>Go)||!l)this._append`L${this._x1=a},${this._y1=n}`;else{let y=s-c,j=r-d,w=m*m+h*h,N=y*y+j*j,k=Math.sqrt(w),_=Math.sqrt(b),C=l*Math.tan((zw-Math.acos((w+b-N)/(2*k*_)))/2),O=C/_,P=C/k;Math.abs(O-1)>Go&&this._append`L${a+O*f},${n+O*g}`,this._append`A${l},${l},0,0,${+(g*y>f*j)},${this._x1=a+P*m},${this._y1=n+P*h}`}}arc(a,n,s,r,l,c){if(a=+a,n=+n,s=+s,c=!!c,s<0)throw new Error(`negative radius: ${s}`);let d=s*Math.cos(r),m=s*Math.sin(r),h=a+d,f=n+m,g=1^c,b=c?r-l:l-r;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>Go||Math.abs(this._y1-f)>Go)&&this._append`L${h},${f}`,s&&(b<0&&(b=b%Uw+Uw),b>RZ?this._append`A${s},${s},0,1,${g},${a-d},${n-m}A${s},${s},0,1,${g},${this._x1=h},${this._y1=f}`:b>Go&&this._append`A${s},${s},0,${+(b>=zw)},${g},${this._x1=a+s*Math.cos(l)},${this._y1=n+s*Math.sin(l)}`)}rect(a,n,s,r){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+n}h${s=+s}v${+r}h${-s}Z`}toString(){return this._}}function HN(e){let a=3;return e.digits=function(n){if(!arguments.length)return a;if(n==null)a=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);a=s}return e},()=>new LZ(a)}function qN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function P8(e){this._context=e}P8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;default:this._context.lineTo(e,a);break}}};function gg(e){return new P8(e)}function O8(e){return e[0]}function M8(e){return e[1]}function D8(e,a){var n=sa(!0),s=null,r=gg,l=null,c=HN(d);e=typeof e=="function"?e:e===void 0?O8:sa(e),a=typeof a=="function"?a:a===void 0?M8:sa(a);function d(m){var h,f=(m=qN(m)).length,g,b=!1,y;for(s==null&&(l=r(y=c())),h=0;h<=f;++h)!(h<f&&n(g=m[h],h,m))===b&&((b=!b)?l.lineStart():l.lineEnd()),b&&l.point(+e(g,h,m),+a(g,h,m));if(y)return l=null,y+""||null}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:sa(+m),d):e},d.y=function(m){return arguments.length?(a=typeof m=="function"?m:sa(+m),d):a},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:sa(!!m),d):n},d.curve=function(m){return arguments.length?(r=m,s!=null&&(l=r(s)),d):r},d.context=function(m){return arguments.length?(m==null?s=l=null:l=r(s=m),d):s},d}function H0(e,a,n){var s=null,r=sa(!0),l=null,c=gg,d=null,m=HN(h);e=typeof e=="function"?e:e===void 0?O8:sa(+e),a=typeof a=="function"?a:sa(a===void 0?0:+a),n=typeof n=="function"?n:n===void 0?M8:sa(+n);function h(g){var b,y,j,w=(g=qN(g)).length,N,k=!1,_,C=new Array(w),O=new Array(w);for(l==null&&(d=c(_=m())),b=0;b<=w;++b){if(!(b<w&&r(N=g[b],b,g))===k)if(k=!k)y=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=b-1;j>=y;--j)d.point(C[j],O[j]);d.lineEnd(),d.areaEnd()}k&&(C[b]=+e(N,b,g),O[b]=+a(N,b,g),d.point(s?+s(N,b,g):C[b],n?+n(N,b,g):O[b]))}if(_)return d=null,_+""||null}function f(){return D8().defined(r).curve(c).context(l)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:sa(+g),s=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:sa(+g),h):e},h.x1=function(g){return arguments.length?(s=g==null?null:typeof g=="function"?g:sa(+g),h):s},h.y=function(g){return arguments.length?(a=typeof g=="function"?g:sa(+g),n=null,h):a},h.y0=function(g){return arguments.length?(a=typeof g=="function"?g:sa(+g),h):a},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:sa(+g),h):n},h.lineX0=h.lineY0=function(){return f().x(e).y(a)},h.lineY1=function(){return f().x(e).y(n)},h.lineX1=function(){return f().x(s).y(a)},h.defined=function(g){return arguments.length?(r=typeof g=="function"?g:sa(!!g),h):r},h.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),h):c},h.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),h):l},h}class R8{constructor(a,n){this._context=a,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(a,n){switch(a=+a,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(a,n):this._context.moveTo(a,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,n,a,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,a,this._y0,a,n);break}}this._x0=a,this._y0=n}}function IZ(e){return new R8(e,!0)}function BZ(e){return new R8(e,!1)}const KN={draw(e,a){const n=Vr(a/fp);e.moveTo(n,0),e.arc(0,0,n,0,pg)}},zZ={draw(e,a){const n=Vr(a/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},$8=Vr(1/3),UZ=$8*2,FZ={draw(e,a){const n=Vr(a/UZ),s=n*$8;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},VZ={draw(e,a){const n=Vr(a),s=-n/2;e.rect(s,s,n,n)}},HZ=.8908130915292852,L8=hp(fp/10)/hp(7*fp/10),qZ=hp(pg/10)*L8,KZ=-T8(pg/10)*L8,GZ={draw(e,a){const n=Vr(a*HZ),s=qZ*n,r=KZ*n;e.moveTo(0,-n),e.lineTo(s,r);for(let l=1;l<5;++l){const c=pg*l/5,d=T8(c),m=hp(c);e.lineTo(m*n,-d*n),e.lineTo(d*s-m*r,m*s+d*r)}e.closePath()}},Wy=Vr(3),YZ={draw(e,a){const n=-Vr(a/(Wy*3));e.moveTo(0,n*2),e.lineTo(-Wy*n,-n),e.lineTo(Wy*n,-n),e.closePath()}},Zs=-.5,Qs=Vr(3)/2,Fw=1/Vr(12),WZ=(Fw/2+1)*3,XZ={draw(e,a){const n=Vr(a/WZ),s=n/2,r=n*Fw,l=s,c=n*Fw+n,d=-l,m=c;e.moveTo(s,r),e.lineTo(l,c),e.lineTo(d,m),e.lineTo(Zs*s-Qs*r,Qs*s+Zs*r),e.lineTo(Zs*l-Qs*c,Qs*l+Zs*c),e.lineTo(Zs*d-Qs*m,Qs*d+Zs*m),e.lineTo(Zs*s+Qs*r,Zs*r-Qs*s),e.lineTo(Zs*l+Qs*c,Zs*c-Qs*l),e.lineTo(Zs*d+Qs*m,Zs*m-Qs*d),e.closePath()}};function ZZ(e,a){let n=null,s=HN(r);e=typeof e=="function"?e:sa(e||KN),a=typeof a=="function"?a:sa(a===void 0?64:+a);function r(){let l;if(n||(n=l=s()),e.apply(this,arguments).draw(n,+a.apply(this,arguments)),l)return n=null,l+""||null}return r.type=function(l){return arguments.length?(e=typeof l=="function"?l:sa(l),r):e},r.size=function(l){return arguments.length?(a=typeof l=="function"?l:sa(+l),r):a},r.context=function(l){return arguments.length?(n=l??null,r):n},r}function xp(){}function pp(e,a,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+a)/6,(e._y0+4*e._y1+n)/6)}function I8(e){this._context=e}I8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pp(this,e,a);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=a}};function QZ(e){return new I8(e)}function B8(e){this._context=e}B8.prototype={areaStart:xp,areaEnd:xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._x2=e,this._y2=a;break;case 1:this._point=2,this._x3=e,this._y3=a;break;case 2:this._point=3,this._x4=e,this._y4=a,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+a)/6);break;default:pp(this,e,a);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=a}};function JZ(e){return new B8(e)}function z8(e){this._context=e}z8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+a)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:pp(this,e,a);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=a}};function eQ(e){return new z8(e)}function U8(e){this._context=e}U8.prototype={areaStart:xp,areaEnd:xp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,a){e=+e,a=+a,this._point?this._context.lineTo(e,a):(this._point=1,this._context.moveTo(e,a))}};function tQ(e){return new U8(e)}function BA(e){return e<0?-1:1}function zA(e,a,n){var s=e._x1-e._x0,r=a-e._x1,l=(e._y1-e._y0)/(s||r<0&&-0),c=(n-e._y1)/(r||s<0&&-0),d=(l*r+c*s)/(s+r);return(BA(l)+BA(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function UA(e,a){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-a)/2:a}function Xy(e,a,n){var s=e._x0,r=e._y0,l=e._x1,c=e._y1,d=(l-s)/3;e._context.bezierCurveTo(s+d,r+d*a,l-d,c-d*n,l,c)}function gp(e){this._context=e}gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xy(this,this._t0,UA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){var n=NaN;if(e=+e,a=+a,!(e===this._x1&&a===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;break;case 2:this._point=3,Xy(this,UA(this,n=zA(this,e,a)),n);break;default:Xy(this,this._t0,n=zA(this,e,a));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=a,this._t0=n}}};function F8(e){this._context=new V8(e)}(F8.prototype=Object.create(gp.prototype)).point=function(e,a){gp.prototype.point.call(this,a,e)};function V8(e){this._context=e}V8.prototype={moveTo:function(e,a){this._context.moveTo(a,e)},closePath:function(){this._context.closePath()},lineTo:function(e,a){this._context.lineTo(a,e)},bezierCurveTo:function(e,a,n,s,r,l){this._context.bezierCurveTo(a,e,s,n,l,r)}};function aQ(e){return new gp(e)}function nQ(e){return new F8(e)}function H8(e){this._context=e}H8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,a=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],a[0]):this._context.moveTo(e[0],a[0]),n===2)this._context.lineTo(e[1],a[1]);else for(var s=FA(e),r=FA(a),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(s[0][l],r[0][l],s[1][l],r[1][l],e[c],a[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,a){this._x.push(+e),this._y.push(+a)}};function FA(e){var a,n=e.length-1,s,r=new Array(n),l=new Array(n),c=new Array(n);for(r[0]=0,l[0]=2,c[0]=e[0]+2*e[1],a=1;a<n-1;++a)r[a]=1,l[a]=4,c[a]=4*e[a]+2*e[a+1];for(r[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],a=1;a<n;++a)s=r[a]/l[a-1],l[a]-=s,c[a]-=s*c[a-1];for(r[n-1]=c[n-1]/l[n-1],a=n-2;a>=0;--a)r[a]=(c[a]-r[a+1])/l[a];for(l[n-1]=(e[n]+r[n-1])/2,a=0;a<n-1;++a)l[a]=2*e[a+1]-r[a+1];return[r,l]}function sQ(e){return new H8(e)}function bg(e,a){this._context=e,this._t=a}bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,a),this._context.lineTo(e,a);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,a)}break}}this._x=e,this._y=a}};function rQ(e){return new bg(e,.5)}function iQ(e){return new bg(e,0)}function lQ(e){return new bg(e,1)}function au(e,a){if((c=e.length)>1)for(var n=1,s,r,l=e[a[0]],c,d=l.length;n<c;++n)for(r=l,l=e[a[n]],s=0;s<d;++s)l[s][1]+=l[s][0]=isNaN(r[s][1])?r[s][0]:r[s][1]}function Vw(e){for(var a=e.length,n=new Array(a);--a>=0;)n[a]=a;return n}function oQ(e,a){return e[a]}function cQ(e){const a=[];return a.key=e,a}function dQ(){var e=sa([]),a=Vw,n=au,s=oQ;function r(l){var c=Array.from(e.apply(this,arguments),cQ),d,m=c.length,h=-1,f;for(const g of l)for(d=0,++h;d<m;++d)(c[d][h]=[0,+s(g,c[d].key,h,l)]).data=g;for(d=0,f=qN(a(c));d<m;++d)c[f[d]].index=d;return n(c,f),c}return r.keys=function(l){return arguments.length?(e=typeof l=="function"?l:sa(Array.from(l)),r):e},r.value=function(l){return arguments.length?(s=typeof l=="function"?l:sa(+l),r):s},r.order=function(l){return arguments.length?(a=l==null?Vw:typeof l=="function"?l:sa(Array.from(l)),r):a},r.offset=function(l){return arguments.length?(n=l??au,r):n},r}function uQ(e,a){if((s=e.length)>0){for(var n,s,r=0,l=e[0].length,c;r<l;++r){for(c=n=0;n<s;++n)c+=e[n][r][1]||0;if(c)for(n=0;n<s;++n)e[n][r][1]/=c}au(e,a)}}function mQ(e,a){if((r=e.length)>0){for(var n=0,s=e[a[0]],r,l=s.length;n<l;++n){for(var c=0,d=0;c<r;++c)d+=e[c][n][1]||0;s[n][1]+=s[n][0]=-d/2}au(e,a)}}function hQ(e,a){if(!(!((c=e.length)>0)||!((l=(r=e[a[0]]).length)>0))){for(var n=0,s=1,r,l,c;s<l;++s){for(var d=0,m=0,h=0;d<c;++d){for(var f=e[a[d]],g=f[s][1]||0,b=f[s-1][1]||0,y=(g-b)/2,j=0;j<d;++j){var w=e[a[j]],N=w[s][1]||0,k=w[s-1][1]||0;y+=N-k}m+=g,h+=y*g}r[s-1][1]+=r[s-1][0]=n,m&&(n-=h/m)}r[s-1][1]+=r[s-1][0]=n,au(e,a)}}var fQ=["type","size","sizeType"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hw.apply(null,arguments)}function VA(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function HA(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?VA(Object(n),!0).forEach(function(s){xQ(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xQ(e,a,n){return(a=pQ(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function pQ(e){var a=gQ(e,"string");return typeof a=="symbol"?a:a+""}function gQ(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function bQ(e,a){if(e==null)return{};var n,s,r=vQ(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vQ(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var q8={symbolCircle:KN,symbolCross:zZ,symbolDiamond:FZ,symbolSquare:VZ,symbolStar:GZ,symbolTriangle:YZ,symbolWye:XZ},yQ=Math.PI/180,jQ=e=>{var a="symbol".concat(cf(e));return q8[a]||KN},wQ=(e,a,n)=>{if(a==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*yQ;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},NQ=(e,a)=>{q8["symbol".concat(cf(e))]=a},GN=e=>{var{type:a="circle",size:n=64,sizeType:s="area"}=e,r=bQ(e,fQ),l=HA(HA({},r),{},{type:a,size:n,sizeType:s}),c=()=>{var g=jQ(a),b=ZZ().type(g).size(wQ(n,s,a));return b()},{className:d,cx:m,cy:h}=l,f=ha(l,!0);return m===+m&&h===+h&&n===+n?p.createElement("path",Hw({},f,{className:St("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(h,")"),d:c()})):null};GN.registerSymbol=NQ;function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qw.apply(null,arguments)}function qA(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function SQ(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?qA(Object(n),!0).forEach(function(s){YN(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function YN(e,a,n){return(a=_Q(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function _Q(e){var a=kQ(e,"string");return typeof a=="symbol"?a:a+""}function kQ(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Js=32;class WN extends p.PureComponent{renderIcon(a,n){var{inactiveColor:s}=this.props,r=Js/2,l=Js/6,c=Js/3,d=a.inactive?s:a.color,m=n??a.type;if(m==="none")return null;if(m==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:r,x2:Js,y2:r,className:"recharts-legend-icon"});if(m==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(r,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(r,`
            H`).concat(Js,"M").concat(2*c,",").concat(r,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(r),className:"recharts-legend-icon"});if(m==="rect")return p.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Js/8,"h").concat(Js,"v").concat(Js*3/4,"h").concat(-Js,"z"),className:"recharts-legend-icon"});if(p.isValidElement(a.legendIcon)){var h=SQ({},a);return delete h.legendIcon,p.cloneElement(a.legendIcon,h)}return p.createElement(GN,{fill:d,cx:r,cy:r,size:Js,sizeType:"diameter",type:m})}renderItems(){var{payload:a,iconSize:n,layout:s,formatter:r,inactiveColor:l,iconType:c}=this.props,d={x:0,y:0,width:Js,height:Js},m={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map((f,g)=>{var b=f.formatter||r,y=St({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:f.inactive});if(f.type==="none")return null;var j=f.inactive?l:f.color,w=b?b(f.value,f,g):f.value;return p.createElement("li",qw({className:y,style:m,key:"legend-item-".concat(g)},df(this.props,f,g)),p.createElement(VN,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(w," legend icon")},this.renderIcon(f,c)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w))})}render(){var{payload:a,layout:n,align:s}=this.props;if(!a||!a.length)return null;var r={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}YN(WN,"displayName","Legend");YN(WN,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Zy={},Qy={},KA;function CQ(){return KA||(KA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n,s){const r=new Map;for(let l=0;l<n.length;l++){const c=n[l],d=s(c);r.has(d)||r.set(d,c)}return Array.from(r.values())}e.uniqBy=a}(Qy)),Qy}var Jy={},GA;function K8(){return GA||(GA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return n}e.identity=a}(Jy)),Jy}var e1={},t1={},a1={},YA;function AQ(){return YA||(YA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=a}(a1)),a1}var WA;function XN(){return WA||(WA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=AQ();function n(s){return s!=null&&typeof s!="function"&&a.isLength(s.length)}e.isArrayLike=n}(t1)),t1}var n1={},XA;function TQ(){return XA||(XA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return typeof n=="object"&&n!==null}e.isObjectLike=a}(n1)),n1}var ZA;function EQ(){return ZA||(ZA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=XN(),n=TQ();function s(r){return n.isObjectLike(r)&&a.isArrayLike(r)}e.isArrayLikeObject=s}(e1)),e1}var s1={},r1={},QA;function PQ(){return QA||(QA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=zN();function n(s){return function(r){return a.get(r,s)}}e.property=n}(r1)),r1}var i1={},l1={},o1={},c1={},JA;function G8(){return JA||(JA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=a}(c1)),c1}var d1={},e6;function Y8(){return e6||(e6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=a}(d1)),d1}var u1={},t6;function ZN(){return t6||(t6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n,s){return n===s||Number.isNaN(n)&&Number.isNaN(s)}e.eq=a}(u1)),u1}var a6;function OQ(){return a6||(a6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=QN(),n=G8(),s=Y8(),r=ZN();function l(g,b,y){return typeof y!="function"?a.isMatch(g,b):c(g,b,function j(w,N,k,_,C,O){const P=y(w,N,k,_,C,O);return P!==void 0?!!P:c(w,N,j,O)},new Map)}function c(g,b,y,j){if(b===g)return!0;switch(typeof b){case"object":return d(g,b,y,j);case"function":return Object.keys(b).length>0?c(g,{...b},y,j):r.eq(g,b);default:return n.isObject(g)?typeof b=="string"?b==="":!0:r.eq(g,b)}}function d(g,b,y,j){if(b==null)return!0;if(Array.isArray(b))return h(g,b,y,j);if(b instanceof Map)return m(g,b,y,j);if(b instanceof Set)return f(g,b,y,j);const w=Object.keys(b);if(g==null)return w.length===0;if(w.length===0)return!0;if(j&&j.has(b))return j.get(b)===g;j&&j.set(b,g);try{for(let N=0;N<w.length;N++){const k=w[N];if(!s.isPrimitive(g)&&!(k in g)||b[k]===void 0&&g[k]!==void 0||b[k]===null&&g[k]!==null||!y(g[k],b[k],k,g,b,j))return!1}return!0}finally{j&&j.delete(b)}}function m(g,b,y,j){if(b.size===0)return!0;if(!(g instanceof Map))return!1;for(const[w,N]of b.entries()){const k=g.get(w);if(y(k,N,w,g,b,j)===!1)return!1}return!0}function h(g,b,y,j){if(b.length===0)return!0;if(!Array.isArray(g))return!1;const w=new Set;for(let N=0;N<b.length;N++){const k=b[N];let _=!1;for(let C=0;C<g.length;C++){if(w.has(C))continue;const O=g[C];let P=!1;if(y(O,k,N,g,b,j)&&(P=!0),P){w.add(C),_=!0;break}}if(!_)return!1}return!0}function f(g,b,y,j){return b.size===0?!0:g instanceof Set?h([...g],[...b],y,j):!1}e.isMatchWith=l,e.isSetMatch=f}(o1)),o1}var n6;function QN(){return n6||(n6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=OQ();function n(s,r){return a.isMatchWith(s,r,()=>{})}e.isMatch=n}(l1)),l1}var m1={},h1={},f1={},s6;function W8(){return s6||(s6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return Object.getOwnPropertySymbols(n).filter(s=>Object.prototype.propertyIsEnumerable.call(n,s))}e.getSymbols=a}(f1)),f1}var x1={},r6;function JN(){return r6||(r6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=a}(x1)),x1}var p1={},i6;function eS(){return i6||(i6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a="[object RegExp]",n="[object String]",s="[object Number]",r="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",m="[object Map]",h="[object Set]",f="[object Array]",g="[object Function]",b="[object ArrayBuffer]",y="[object Object]",j="[object Error]",w="[object DataView]",N="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",C="[object Uint32Array]",O="[object BigUint64Array]",P="[object Int8Array]",E="[object Int16Array]",B="[object Int32Array]",M="[object BigInt64Array]",V="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=b,e.arrayTag=f,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=O,e.booleanTag=r,e.dataViewTag=w,e.dateTag=d,e.errorTag=j,e.float32ArrayTag=V,e.float64ArrayTag=G,e.functionTag=g,e.int16ArrayTag=E,e.int32ArrayTag=B,e.int8ArrayTag=P,e.mapTag=m,e.numberTag=s,e.objectTag=y,e.regexpTag=a,e.setTag=h,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=_,e.uint32ArrayTag=C,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=k}(p1)),p1}var g1={},l6;function MQ(){return l6||(l6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=a}(g1)),g1}var o6;function X8(){return o6||(o6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=W8(),n=JN(),s=eS(),r=Y8(),l=MQ();function c(f,g){return d(f,void 0,f,new Map,g)}function d(f,g,b,y=new Map,j=void 0){const w=j==null?void 0:j(f,g,b,y);if(w!==void 0)return w;if(r.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const N=new Array(f.length);y.set(f,N);for(let k=0;k<f.length;k++)N[k]=d(f[k],k,b,y,j);return Object.hasOwn(f,"index")&&(N.index=f.index),Object.hasOwn(f,"input")&&(N.input=f.input),N}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const N=new RegExp(f.source,f.flags);return N.lastIndex=f.lastIndex,N}if(f instanceof Map){const N=new Map;y.set(f,N);for(const[k,_]of f)N.set(k,d(_,k,b,y,j));return N}if(f instanceof Set){const N=new Set;y.set(f,N);for(const k of f)N.add(d(k,void 0,b,y,j));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(l.isTypedArray(f)){const N=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,N);for(let k=0;k<f.length;k++)N[k]=d(f[k],k,b,y,j);return N}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const N=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,N),m(N,f,b,y,j),N}if(typeof File<"u"&&f instanceof File){const N=new File([f],f.name,{type:f.type});return y.set(f,N),m(N,f,b,y,j),N}if(f instanceof Blob){const N=new Blob([f],{type:f.type});return y.set(f,N),m(N,f,b,y,j),N}if(f instanceof Error){const N=new f.constructor;return y.set(f,N),N.message=f.message,N.name=f.name,N.stack=f.stack,N.cause=f.cause,m(N,f,b,y,j),N}if(typeof f=="object"&&h(f)){const N=Object.create(Object.getPrototypeOf(f));return y.set(f,N),m(N,f,b,y,j),N}return f}function m(f,g,b=f,y,j){const w=[...Object.keys(g),...a.getSymbols(g)];for(let N=0;N<w.length;N++){const k=w[N],_=Object.getOwnPropertyDescriptor(f,k);(_==null||_.writable)&&(f[k]=d(g[k],k,b,y,j))}}function h(f){switch(n.getTag(f)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=m}(h1)),h1}var c6;function DQ(){return c6||(c6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=X8();function n(s){return a.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}e.cloneDeep=n}(m1)),m1}var d6;function RQ(){return d6||(d6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=QN(),n=DQ();function s(r){return r=n.cloneDeep(r),l=>a.isMatch(l,r)}e.matches=s}(i1)),i1}var b1={},v1={},y1={},u6;function $Q(){return u6||(u6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=X8(),n=eS();function s(r,l){return a.cloneDeepWith(r,(c,d,m,h)=>{const f=l==null?void 0:l(c,d,m,h);if(f!==void 0)return f;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new r.constructor(r==null?void 0:r.valueOf());return a.copyProperties(g,r),g}case n.argumentsTag:{const g={};return a.copyProperties(g,r),g.length=r.length,g[Symbol.iterator]=r[Symbol.iterator],g}default:return}})}e.cloneDeepWith=s}(y1)),y1}var m6;function LQ(){return m6||(m6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=$Q();function n(s){return a.cloneDeepWith(s)}e.cloneDeep=n}(v1)),v1}var j1={},w1={},h6;function Z8(){return h6||(h6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=/^(?:0|[1-9]\d*)$/;function n(s,r=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<r;case"symbol":return!1;case"string":return a.test(s)}}e.isIndex=n}(w1)),w1}var N1={},f6;function IQ(){return f6||(f6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=JN();function n(s){return s!==null&&typeof s=="object"&&a.getTag(s)==="[object Arguments]"}e.isArguments=n}(N1)),N1}var x6;function BQ(){return x6||(x6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=j8(),n=Z8(),s=IQ(),r=BN();function l(c,d){let m;if(Array.isArray(d)?m=d:typeof d=="string"&&a.isDeepKey(d)&&(c==null?void 0:c[d])==null?m=r.toPath(d):m=[d],m.length===0)return!1;let h=c;for(let f=0;f<m.length;f++){const g=m[f];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||s.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=l}(j1)),j1}var p6;function zQ(){return p6||(p6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=QN(),n=w8(),s=LQ(),r=zN(),l=BQ();function c(d,m){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return m=s.cloneDeep(m),function(h){const f=r.get(h,d);return f===void 0?l.has(h,d):m===void 0?f===void 0:a.isMatch(f,m)}}e.matchesProperty=c}(b1)),b1}var g6;function UQ(){return g6||(g6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=K8(),n=PQ(),s=RQ(),r=zQ();function l(c){if(c==null)return a.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?r.matchesProperty(c[0],c[1]):s.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=l}(s1)),s1}var b6;function FQ(){return b6||(b6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=CQ(),n=K8(),s=EQ(),r=UQ();function l(c,d=n.identity){return s.isArrayLikeObject(c)?a.uniqBy(Array.from(c),r.iteratee(d)):[]}e.uniqBy=l}(Zy)),Zy}var S1,v6;function VQ(){return v6||(v6=1,S1=FQ().uniqBy),S1}var HQ=VQ();const y6=Ur(HQ);function Q8(e,a,n){return a===!0?y6(e,n):typeof a=="function"?y6(e,a):e}var _1={exports:{}},k1={},C1={exports:{}},A1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6;function qQ(){if(j6)return A1;j6=1;var e=mu();function a(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:a,s=e.useState,r=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,b){var y=b(),j=s({inst:{value:y,getSnapshot:b}}),w=j[0].inst,N=j[1];return l(function(){w.value=y,w.getSnapshot=b,m(w)&&N({inst:w})},[g,y,b]),r(function(){return m(w)&&N({inst:w}),g(function(){m(w)&&N({inst:w})})},[g]),c(y),y}function m(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!n(g,y)}catch{return!0}}function h(g,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return A1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,A1}var w6;function KQ(){return w6||(w6=1,C1.exports=qQ()),C1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N6;function GQ(){if(N6)return k1;N6=1;var e=mu(),a=KQ();function n(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var s=typeof Object.is=="function"?Object.is:n,r=a.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,m=e.useDebugValue;return k1.useSyncExternalStoreWithSelector=function(h,f,g,b,y){var j=l(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=d(function(){function k(E){if(!_){if(_=!0,C=E,E=b(E),y!==void 0&&w.hasValue){var B=w.value;if(y(B,E))return O=B}return O=E}if(B=O,s(C,E))return B;var M=b(E);return y!==void 0&&y(B,M)?(C=E,B):(C=E,O=M)}var _=!1,C,O,P=g===void 0?null:g;return[function(){return k(f())},P===null?void 0:function(){return k(P())}]},[f,g,b,y]);var N=r(h,j[0],j[1]);return c(function(){w.hasValue=!0,w.value=N},[N]),m(N),N},k1}var S6;function YQ(){return S6||(S6=1,_1.exports=GQ()),_1.exports}var WQ=YQ(),tS=p.createContext(null),XQ=e=>e,ya=()=>{var e=p.useContext(tS);return e?e.store.dispatch:XQ},Zx=()=>{},ZQ=()=>Zx,QQ=(e,a)=>e===a;function st(e){var a=p.useContext(tS);return WQ.useSyncExternalStoreWithSelector(a?a.subscription.addNestedSub:ZQ,a?a.store.getState:Zx,a?a.store.getState:Zx,a?e:Zx,QQ)}function JQ(e,a=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(a)}function eJ(e,a=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(a)}function tJ(e,a="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${a}[${n}]`)}}var _6=e=>Array.isArray(e)?e:[e];function aJ(e){const a=Array.isArray(e[0])?e[0]:e;return tJ(a,"createSelector expects all input-selectors to be functions, but received the following types: "),a}function nJ(e,a){const n=[],{length:s}=e;for(let r=0;r<s;r++)n.push(e[r].apply(null,a));return n}var sJ=class{constructor(e){this.value=e}deref(){return this.value}},rJ=typeof WeakRef<"u"?WeakRef:sJ,iJ=0,k6=1;function q0(){return{s:iJ,v:void 0,o:null,p:null}}function J8(e,a={}){let n=q0();const{resultEqualityCheck:s}=a;let r,l=0;function c(){var g;let d=n;const{length:m}=arguments;for(let b=0,y=m;b<y;b++){const j=arguments[b];if(typeof j=="function"||typeof j=="object"&&j!==null){let w=d.o;w===null&&(d.o=w=new WeakMap);const N=w.get(j);N===void 0?(d=q0(),w.set(j,d)):d=N}else{let w=d.p;w===null&&(d.p=w=new Map);const N=w.get(j);N===void 0?(d=q0(),w.set(j,d)):d=N}}const h=d;let f;if(d.s===k6)f=d.v;else if(f=e.apply(null,arguments),l++,s){const b=((g=r==null?void 0:r.deref)==null?void 0:g.call(r))??r;b!=null&&s(b,f)&&(f=b,l!==0&&l--),r=typeof f=="object"&&f!==null||typeof f=="function"?new rJ(f):f}return h.s=k6,h.v=f,f}return c.clearCache=()=>{n=q0(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function lJ(e,...a){const n=typeof e=="function"?{memoize:e,memoizeOptions:a}:e,s=(...r)=>{let l=0,c=0,d,m={},h=r.pop();typeof h=="object"&&(m=h,h=r.pop()),JQ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...n,...m},{memoize:g,memoizeOptions:b=[],argsMemoize:y=J8,argsMemoizeOptions:j=[]}=f,w=_6(b),N=_6(j),k=aJ(r),_=g(function(){return l++,h.apply(null,arguments)},...w),C=y(function(){c++;const P=nJ(k,arguments);return d=_.apply(null,P),d},...N);return Object.assign(C,{resultFunc:h,memoizedResultFunc:_,dependencies:k,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:y})};return Object.assign(s,{withTypes:()=>s}),s}var Oe=lJ(J8),oJ=Object.assign((e,a=Oe)=>{eJ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),s=n.map(l=>e[l]);return a(s,(...l)=>l.reduce((c,d,m)=>(c[n[m]]=d,c),{}))},{withTypes:()=>oJ}),T1={},E1={},P1={},C6;function cJ(){return C6||(C6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const n=(s,r,l)=>{if(s!==r){const c=a(s),d=a(r);if(c===d&&c===0){if(s<r)return l==="desc"?1:-1;if(s>r)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=n}(P1)),P1}var O1={},M1={},A6;function eR(){return A6||(A6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=a}(M1)),M1}var T6;function dJ(){return T6||(T6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=eR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function r(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||a.isSymbol(l)?!0:typeof l=="string"&&(s.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=r}(O1)),O1}var E6;function uJ(){return E6||(E6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=cJ(),n=dJ(),s=BN();function r(l,c,d,m){if(l==null)return[];d=m?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(y=>String(y));const h=(y,j)=>{let w=y;for(let N=0;N<j.length&&w!=null;++N)w=w[j[N]];return w},f=(y,j)=>j==null||y==null?j:typeof y=="object"&&"key"in y?Object.hasOwn(j,y.key)?j[y.key]:h(j,y.path):typeof y=="function"?y(j):Array.isArray(y)?h(j,y):typeof j=="object"?j[y]:j,g=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:s.toPath(y)}));return l.map(y=>({original:y,criteria:g.map(j=>f(j,y))})).slice().sort((y,j)=>{for(let w=0;w<g.length;w++){const N=a.compareValues(y.criteria[w],j.criteria[w],d[w]);if(N!==0)return N}return 0}).map(y=>y.original)}e.orderBy=r}(E1)),E1}var D1={},P6;function mJ(){return P6||(P6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n,s=1){const r=[],l=Math.floor(s),c=(d,m)=>{for(let h=0;h<d.length;h++){const f=d[h];Array.isArray(f)&&m<l?c(f,m+1):r.push(f)}};return c(n,0),r}e.flatten=a}(D1)),D1}var R1={},O6;function tR(){return O6||(O6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=Z8(),n=XN(),s=G8(),r=ZN();function l(c,d,m){return s.isObject(m)&&(typeof d=="number"&&n.isArrayLike(m)&&a.isIndex(d)&&d<m.length||typeof d=="string"&&d in m)?r.eq(m[d],c):!1}e.isIterateeCall=l}(R1)),R1}var M6;function hJ(){return M6||(M6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=uJ(),n=mJ(),s=tR();function r(l,...c){const d=c.length;return d>1&&s.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&s.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),a.orderBy(l,n.flatten(c),["asc"])}e.sortBy=r}(T1)),T1}var $1,D6;function fJ(){return D6||(D6=1,$1=hJ().sortBy),$1}var xJ=fJ();const vg=Ur(xJ);var aR=e=>e.legend.settings,pJ=e=>e.legend.size,gJ=e=>e.legend.payload,bJ=Oe([gJ,aR],(e,a)=>{var{itemSorter:n}=a,s=e.flat(1);return n?vg(s,n):s});function vJ(){return st(bJ)}var K0=1;function nR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[a,n]=p.useState({height:0,left:0,top:0,width:0}),s=p.useCallback(r=>{if(r!=null){var l=r.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-a.height)>K0||Math.abs(c.left-a.left)>K0||Math.abs(c.top-a.top)>K0||Math.abs(c.width-a.width)>K0)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[a.width,a.height,a.top,a.left,...e]);return[a,s]}function Nn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",R6=yJ,L1=()=>Math.random().toString(36).substring(7).split("").join("."),jJ={INIT:`@@redux/INIT${L1()}`,REPLACE:`@@redux/REPLACE${L1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${L1()}`},bp=jJ;function aS(e){if(typeof e!="object"||e===null)return!1;let a=e;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(e)===a||Object.getPrototypeOf(e)===null}function sR(e,a,n){if(typeof e!="function")throw new Error(Nn(2));if(typeof a=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Nn(0));if(typeof a=="function"&&typeof n>"u"&&(n=a,a=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Nn(1));return n(sR)(e,a)}let s=e,r=a,l=new Map,c=l,d=0,m=!1;function h(){c===l&&(c=new Map,l.forEach((N,k)=>{c.set(k,N)}))}function f(){if(m)throw new Error(Nn(3));return r}function g(N){if(typeof N!="function")throw new Error(Nn(4));if(m)throw new Error(Nn(5));let k=!0;h();const _=d++;return c.set(_,N),function(){if(k){if(m)throw new Error(Nn(6));k=!1,h(),c.delete(_),l=null}}}function b(N){if(!aS(N))throw new Error(Nn(7));if(typeof N.type>"u")throw new Error(Nn(8));if(typeof N.type!="string")throw new Error(Nn(17));if(m)throw new Error(Nn(9));try{m=!0,r=s(r,N)}finally{m=!1}return(l=c).forEach(_=>{_()}),N}function y(N){if(typeof N!="function")throw new Error(Nn(10));s=N,b({type:bp.REPLACE})}function j(){const N=g;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Nn(11));function _(){const O=k;O.next&&O.next(f())}return _(),{unsubscribe:N(_)}},[R6](){return this}}}return b({type:bp.INIT}),{dispatch:b,subscribe:g,getState:f,replaceReducer:y,[R6]:j}}function wJ(e){Object.keys(e).forEach(a=>{const n=e[a];if(typeof n(void 0,{type:bp.INIT})>"u")throw new Error(Nn(12));if(typeof n(void 0,{type:bp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nn(13))})}function rR(e){const a=Object.keys(e),n={};for(let l=0;l<a.length;l++){const c=a[l];typeof e[c]=="function"&&(n[c]=e[c])}const s=Object.keys(n);let r;try{wJ(n)}catch(l){r=l}return function(c={},d){if(r)throw r;let m=!1;const h={};for(let f=0;f<s.length;f++){const g=s[f],b=n[g],y=c[g],j=b(y,d);if(typeof j>"u")throw d&&d.type,new Error(Nn(14));h[g]=j,m=m||j!==y}return m=m||s.length!==Object.keys(c).length,m?h:c}}function vp(...e){return e.length===0?a=>a:e.length===1?e[0]:e.reduce((a,n)=>(...s)=>a(n(...s)))}function NJ(...e){return a=>(n,s)=>{const r=a(n,s);let l=()=>{throw new Error(Nn(15))};const c={getState:r.getState,dispatch:(m,...h)=>l(m,...h)},d=e.map(m=>m(c));return l=vp(...d)(r.dispatch),{...r,dispatch:l}}}function iR(e){return aS(e)&&"type"in e&&typeof e.type=="string"}var lR=Symbol.for("immer-nothing"),$6=Symbol.for("immer-draftable"),Rs=Symbol.for("immer-state");function Or(e,...a){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nu=Object.getPrototypeOf;function yc(e){return!!e&&!!e[Rs]}function al(e){var a;return e?oR(e)||Array.isArray(e)||!!e[$6]||!!((a=e.constructor)!=null&&a[$6])||jg(e)||wg(e):!1}var SJ=Object.prototype.constructor.toString();function oR(e){if(!e||typeof e!="object")return!1;const a=nu(e);if(a===null)return!0;const n=Object.hasOwnProperty.call(a,"constructor")&&a.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===SJ}function yp(e,a){yg(e)===0?Reflect.ownKeys(e).forEach(n=>{a(n,e[n],e)}):e.forEach((n,s)=>a(s,n,e))}function yg(e){const a=e[Rs];return a?a.type_:Array.isArray(e)?1:jg(e)?2:wg(e)?3:0}function Kw(e,a){return yg(e)===2?e.has(a):Object.prototype.hasOwnProperty.call(e,a)}function cR(e,a,n){const s=yg(e);s===2?e.set(a,n):s===3?e.add(n):e[a]=n}function _J(e,a){return e===a?e!==0||1/e===1/a:e!==e&&a!==a}function jg(e){return e instanceof Map}function wg(e){return e instanceof Set}function Yo(e){return e.copy_||e.base_}function Gw(e,a){if(jg(e))return new Map(e);if(wg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=oR(e);if(a===!0||a==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(e);delete s[Rs];let r=Reflect.ownKeys(s);for(let l=0;l<r.length;l++){const c=r[l],d=s[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(nu(e),s)}else{const s=nu(e);if(s!==null&&n)return{...e};const r=Object.create(s);return Object.assign(r,e)}}function nS(e,a=!1){return Ng(e)||yc(e)||!al(e)||(yg(e)>1&&(e.set=e.add=e.clear=e.delete=kJ),Object.freeze(e),a&&Object.entries(e).forEach(([n,s])=>nS(s,!0))),e}function kJ(){Or(2)}function Ng(e){return Object.isFrozen(e)}var CJ={};function jc(e){const a=CJ[e];return a||Or(0,e),a}var Ih;function dR(){return Ih}function AJ(e,a){return{drafts_:[],parent_:e,immer_:a,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function L6(e,a){a&&(jc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=a)}function Yw(e){Ww(e),e.drafts_.forEach(TJ),e.drafts_=null}function Ww(e){e===Ih&&(Ih=e.parent_)}function I6(e){return Ih=AJ(Ih,e)}function TJ(e){const a=e[Rs];a.type_===0||a.type_===1?a.revoke_():a.revoked_=!0}function B6(e,a){a.unfinalizedDrafts_=a.drafts_.length;const n=a.drafts_[0];return e!==void 0&&e!==n?(n[Rs].modified_&&(Yw(a),Or(4)),al(e)&&(e=jp(a,e),a.parent_||wp(a,e)),a.patches_&&jc("Patches").generateReplacementPatches_(n[Rs].base_,e,a.patches_,a.inversePatches_)):e=jp(a,n,[]),Yw(a),a.patches_&&a.patchListener_(a.patches_,a.inversePatches_),e!==lR?e:void 0}function jp(e,a,n){if(Ng(a))return a;const s=a[Rs];if(!s)return yp(a,(r,l)=>z6(e,s,a,r,l,n)),a;if(s.scope_!==e)return a;if(!s.modified_)return wp(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const r=s.copy_;let l=r,c=!1;s.type_===3&&(l=new Set(r),r.clear(),c=!0),yp(l,(d,m)=>z6(e,s,r,d,m,n,c)),wp(e,r,!1),n&&e.patches_&&jc("Patches").generatePatches_(s,n,e.patches_,e.inversePatches_)}return s.copy_}function z6(e,a,n,s,r,l,c){if(yc(r)){const d=l&&a&&a.type_!==3&&!Kw(a.assigned_,s)?l.concat(s):void 0,m=jp(e,r,d);if(cR(n,s,m),yc(m))e.canAutoFreeze_=!1;else return}else c&&n.add(r);if(al(r)&&!Ng(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;jp(e,r),(!a||!a.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,s)&&wp(e,r)}}function wp(e,a,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nS(a,n)}function EJ(e,a){const n=Array.isArray(e),s={type_:n?1:0,scope_:a?a.scope_:dR(),modified_:!1,finalized_:!1,assigned_:{},parent_:a,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=s,l=sS;n&&(r=[s],l=Bh);const{revoke:c,proxy:d}=Proxy.revocable(r,l);return s.draft_=d,s.revoke_=c,d}var sS={get(e,a){if(a===Rs)return e;const n=Yo(e);if(!Kw(n,a))return PJ(e,n,a);const s=n[a];return e.finalized_||!al(s)?s:s===I1(e.base_,a)?(B1(e),e.copy_[a]=Zw(s,e)):s},has(e,a){return a in Yo(e)},ownKeys(e){return Reflect.ownKeys(Yo(e))},set(e,a,n){const s=uR(Yo(e),a);if(s!=null&&s.set)return s.set.call(e.draft_,n),!0;if(!e.modified_){const r=I1(Yo(e),a),l=r==null?void 0:r[Rs];if(l&&l.base_===n)return e.copy_[a]=n,e.assigned_[a]=!1,!0;if(_J(n,r)&&(n!==void 0||Kw(e.base_,a)))return!0;B1(e),Xw(e)}return e.copy_[a]===n&&(n!==void 0||a in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[a])||(e.copy_[a]=n,e.assigned_[a]=!0),!0},deleteProperty(e,a){return I1(e.base_,a)!==void 0||a in e.base_?(e.assigned_[a]=!1,B1(e),Xw(e)):delete e.assigned_[a],e.copy_&&delete e.copy_[a],!0},getOwnPropertyDescriptor(e,a){const n=Yo(e),s=Reflect.getOwnPropertyDescriptor(n,a);return s&&{writable:!0,configurable:e.type_!==1||a!=="length",enumerable:s.enumerable,value:n[a]}},defineProperty(){Or(11)},getPrototypeOf(e){return nu(e.base_)},setPrototypeOf(){Or(12)}},Bh={};yp(sS,(e,a)=>{Bh[e]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}});Bh.deleteProperty=function(e,a){return Bh.set.call(this,e,a,void 0)};Bh.set=function(e,a,n){return sS.set.call(this,e[0],a,n,e[0])};function I1(e,a){const n=e[Rs];return(n?Yo(n):e)[a]}function PJ(e,a,n){var r;const s=uR(a,n);return s?"value"in s?s.value:(r=s.get)==null?void 0:r.call(e.draft_):void 0}function uR(e,a){if(!(a in e))return;let n=nu(e);for(;n;){const s=Object.getOwnPropertyDescriptor(n,a);if(s)return s;n=nu(n)}}function Xw(e){e.modified_||(e.modified_=!0,e.parent_&&Xw(e.parent_))}function B1(e){e.copy_||(e.copy_=Gw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var OJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(a,n,s)=>{if(typeof a=="function"&&typeof n!="function"){const l=n;n=a;const c=this;return function(m=l,...h){return c.produce(m,f=>n.call(this,f,...h))}}typeof n!="function"&&Or(6),s!==void 0&&typeof s!="function"&&Or(7);let r;if(al(a)){const l=I6(this),c=Zw(a,void 0);let d=!0;try{r=n(c),d=!1}finally{d?Yw(l):Ww(l)}return L6(l,s),B6(r,l)}else if(!a||typeof a!="object"){if(r=n(a),r===void 0&&(r=a),r===lR&&(r=void 0),this.autoFreeze_&&nS(r,!0),s){const l=[],c=[];jc("Patches").generateReplacementPatches_(a,r,l,c),s(l,c)}return r}else Or(1,a)},this.produceWithPatches=(a,n)=>{if(typeof a=="function")return(c,...d)=>this.produceWithPatches(c,m=>a(m,...d));let s,r;return[this.produce(a,n,(c,d)=>{s=c,r=d}),s,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){al(e)||Or(8),yc(e)&&(e=Ki(e));const a=I6(this),n=Zw(e,void 0);return n[Rs].isManual_=!0,Ww(a),n}finishDraft(e,a){const n=e&&e[Rs];(!n||!n.isManual_)&&Or(9);const{scope_:s}=n;return L6(s,a),B6(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,a){let n;for(n=a.length-1;n>=0;n--){const r=a[n];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}n>-1&&(a=a.slice(n+1));const s=jc("Patches").applyPatches_;return yc(e)?s(e,a):this.produce(e,r=>s(r,a))}};function Zw(e,a){const n=jg(e)?jc("MapSet").proxyMap_(e,a):wg(e)?jc("MapSet").proxySet_(e,a):EJ(e,a);return(a?a.scope_:dR()).drafts_.push(n),n}function Ki(e){return yc(e)||Or(10,e),mR(e)}function mR(e){if(!al(e)||Ng(e))return e;const a=e[Rs];let n;if(a){if(!a.modified_)return a.base_;a.finalized_=!0,n=Gw(e,a.scope_.immer_.useStrictShallowCopy_)}else n=Gw(e,!0);return yp(n,(s,r)=>{cR(n,s,mR(r))}),a&&(a.finalized_=!1),n}var $s=new OJ,hR=$s.produce;$s.produceWithPatches.bind($s);$s.setAutoFreeze.bind($s);$s.setUseStrictShallowCopy.bind($s);$s.applyPatches.bind($s);$s.createDraft.bind($s);$s.finishDraft.bind($s);function fR(e){return({dispatch:n,getState:s})=>r=>l=>typeof l=="function"?l(n,s,e):r(l)}var MJ=fR(),DJ=fR,RJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vp:vp.apply(null,arguments)};function ur(e,a){function n(...s){if(a){let r=a(...s);if(!r)throw new Error(Ms(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:s[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=s=>iR(s)&&s.type===e,n}var xR=class ch extends Array{constructor(...a){super(...a),Object.setPrototypeOf(this,ch.prototype)}static get[Symbol.species](){return ch}concat(...a){return super.concat.apply(this,a)}prepend(...a){return a.length===1&&Array.isArray(a[0])?new ch(...a[0].concat(this)):new ch(...a.concat(this))}};function U6(e){return al(e)?hR(e,()=>{}):e}function G0(e,a,n){return e.has(a)?e.get(a):e.set(a,n(a)).get(a)}function $J(e){return typeof e=="boolean"}var LJ=()=>function(a){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:r=!0,actionCreatorCheck:l=!0}=a??{};let c=new xR;return n&&($J(n)?c.push(MJ):c.push(DJ(n.extraArgument))),c},IJ="RTK_autoBatch",F6=e=>a=>{setTimeout(a,e)},BJ=(e={type:"raf"})=>a=>(...n)=>{const s=a(...n);let r=!0,l=!1,c=!1;const d=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:F6(10):e.type==="callback"?e.queueNotification:F6(e.timeout),h=()=>{c=!1,l&&(l=!1,d.forEach(f=>f()))};return Object.assign({},s,{subscribe(f){const g=()=>r&&f(),b=s.subscribe(g);return d.add(f),()=>{b(),d.delete(f)}},dispatch(f){var g;try{return r=!((g=f==null?void 0:f.meta)!=null&&g[IJ]),l=!r,l&&(c||(c=!0,m(h))),s.dispatch(f)}finally{r=!0}}})},zJ=e=>function(n){const{autoBatch:s=!0}=n??{};let r=new xR(e);return s&&r.push(BJ(typeof s=="object"?s:void 0)),r};function UJ(e){const a=LJ(),{reducer:n=void 0,middleware:s,devTools:r=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(aS(n))d=rR(n);else throw new Error(Ms(1));let m;typeof s=="function"?m=s(a):m=a();let h=vp;r&&(h=RJ({trace:!1,...typeof r=="object"&&r}));const f=NJ(...m),g=zJ(f);let b=typeof c=="function"?c(g):g();const y=h(...b);return sR(d,l,y)}function pR(e){const a={},n=[];let s;const r={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Ms(28));if(d in a)throw new Error(Ms(29));return a[d]=c,r},addMatcher(l,c){return n.push({matcher:l,reducer:c}),r},addDefaultCase(l){return s=l,r}};return e(r),[a,n,s]}function FJ(e){return typeof e=="function"}function VJ(e,a){let[n,s,r]=pR(a),l;if(FJ(e))l=()=>U6(e());else{const d=U6(e);l=()=>d}function c(d=l(),m){let h=[n[m.type],...s.filter(({matcher:f})=>f(m)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[r]),h.reduce((f,g)=>{if(g)if(yc(f)){const y=g(f,m);return y===void 0?f:y}else{if(al(f))return hR(f,b=>g(b,m));{const b=g(f,m);if(b===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return f},d)}return c.getInitialState=l,c}var HJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qJ=(e=21)=>{let a="",n=e;for(;n--;)a+=HJ[Math.random()*64|0];return a},KJ=Symbol.for("rtk-slice-createasyncthunk");function GJ(e,a){return`${e}/${a}`}function YJ({creators:e}={}){var n;const a=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[KJ];return function(r){const{name:l,reducerPath:c=l}=r;if(!l)throw new Error(Ms(11));const d=(typeof r.reducers=="function"?r.reducers(XJ()):r.reducers)||{},m=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,P){const E=typeof O=="string"?O:O.type;if(!E)throw new Error(Ms(12));if(E in h.sliceCaseReducersByType)throw new Error(Ms(13));return h.sliceCaseReducersByType[E]=P,f},addMatcher(O,P){return h.sliceMatchers.push({matcher:O,reducer:P}),f},exposeAction(O,P){return h.actionCreators[O]=P,f},exposeCaseReducer(O,P){return h.sliceCaseReducersByName[O]=P,f}};m.forEach(O=>{const P=d[O],E={reducerName:O,type:GJ(l,O),createNotation:typeof r.reducers=="function"};QJ(P)?eee(E,P,f,a):ZJ(E,P,f)});function g(){const[O={},P=[],E=void 0]=typeof r.extraReducers=="function"?pR(r.extraReducers):[r.extraReducers],B={...O,...h.sliceCaseReducersByType};return VJ(r.initialState,M=>{for(let V in B)M.addCase(V,B[V]);for(let V of h.sliceMatchers)M.addMatcher(V.matcher,V.reducer);for(let V of P)M.addMatcher(V.matcher,V.reducer);E&&M.addDefaultCase(E)})}const b=O=>O,y=new Map,j=new WeakMap;let w;function N(O,P){return w||(w=g()),w(O,P)}function k(){return w||(w=g()),w.getInitialState()}function _(O,P=!1){function E(M){let V=M[O];return typeof V>"u"&&P&&(V=G0(j,E,k)),V}function B(M=b){const V=G0(y,P,()=>new WeakMap);return G0(V,M,()=>{const G={};for(const[H,F]of Object.entries(r.selectors??{}))G[H]=WJ(F,M,()=>G0(j,M,k),P);return G})}return{reducerPath:O,getSelectors:B,get selectors(){return B(E)},selectSlice:E}}const C={name:l,reducer:N,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:k,..._(c),injectInto(O,{reducerPath:P,...E}={}){const B=P??c;return O.inject({reducerPath:B,reducer:N},E),{...C,..._(B,!0)}}};return C}}function WJ(e,a,n,s){function r(l,...c){let d=a(l);return typeof d>"u"&&s&&(d=n()),e(d,...c)}return r.unwrapped=e,r}var Is=YJ();function XJ(){function e(a,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:a,...n}}return e.withTypes=()=>e,{reducer(a){return Object.assign({[a.name](...n){return a(...n)}}[a.name],{_reducerDefinitionType:"reducer"})},preparedReducer(a,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:a,reducer:n}},asyncThunk:e}}function ZJ({type:e,reducerName:a,createNotation:n},s,r){let l,c;if("reducer"in s){if(n&&!JJ(s))throw new Error(Ms(17));l=s.reducer,c=s.prepare}else l=s;r.addCase(e,l).exposeCaseReducer(a,l).exposeAction(a,c?ur(e,c):ur(e))}function QJ(e){return e._reducerDefinitionType==="asyncThunk"}function JJ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function eee({type:e,reducerName:a},n,s,r){if(!r)throw new Error(Ms(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:h,options:f}=n,g=r(e,l,f);s.exposeAction(a,g),c&&s.addCase(g.fulfilled,c),d&&s.addCase(g.pending,d),m&&s.addCase(g.rejected,m),h&&s.addMatcher(g.settled,h),s.exposeCaseReducer(a,{fulfilled:c||Y0,pending:d||Y0,rejected:m||Y0,settled:h||Y0})}function Y0(){}var tee="task",gR="listener",bR="completed",rS="cancelled",aee=`task-${rS}`,nee=`task-${bR}`,Qw=`${gR}-${rS}`,see=`${gR}-${bR}`,Sg=class{constructor(e){ny(this,"name","TaskAbortError");ny(this,"message");this.code=e,this.message=`${tee} ${rS} (reason: ${e})`}},iS=(e,a)=>{if(typeof e!="function")throw new TypeError(Ms(32))},Np=()=>{},vR=(e,a=Np)=>(e.catch(a),e),yR=(e,a)=>(e.addEventListener("abort",a,{once:!0}),()=>e.removeEventListener("abort",a)),mc=(e,a)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:a,configurable:!0,writable:!0}),e.abort(a))},hc=e=>{if(e.aborted){const{reason:a}=e;throw new Sg(a)}};function jR(e,a){let n=Np;return new Promise((s,r)=>{const l=()=>r(new Sg(e.reason));if(e.aborted){l();return}n=yR(e,l),a.finally(()=>n()).then(s,r)}).finally(()=>{n=Np})}var ree=async(e,a)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Sg?"cancelled":"rejected",error:n}}finally{a==null||a()}},Sp=e=>a=>vR(jR(e,a).then(n=>(hc(e),n))),wR=e=>{const a=Sp(e);return n=>a(new Promise(s=>setTimeout(s,n)))},{assign:Vd}=Object,V6={},_g="listenerMiddleware",iee=(e,a)=>{const n=s=>yR(e,()=>mc(s,e.reason));return(s,r)=>{iS(s);const l=new AbortController;n(l);const c=ree(async()=>{hc(e),hc(l.signal);const d=await s({pause:Sp(l.signal),delay:wR(l.signal),signal:l.signal});return hc(l.signal),d},()=>mc(l,nee));return r!=null&&r.autoJoin&&a.push(c.catch(Np)),{result:Sp(e)(c),cancel(){mc(l,aee)}}}},lee=(e,a)=>{const n=async(s,r)=>{hc(a);let l=()=>{};const d=[new Promise((m,h)=>{let f=e({predicate:s,effect:(g,b)=>{b.unsubscribe(),m([g,b.getState(),b.getOriginalState()])}});l=()=>{f(),h()}})];r!=null&&d.push(new Promise(m=>setTimeout(m,r,null)));try{const m=await jR(a,Promise.race(d));return hc(a),m}finally{l()}};return(s,r)=>vR(n(s,r))},NR=e=>{let{type:a,actionCreator:n,matcher:s,predicate:r,effect:l}=e;if(a)r=ur(a).match;else if(n)a=n.type,r=n.match;else if(s)r=s;else if(!r)throw new Error(Ms(21));return iS(l),{predicate:r,type:a,effect:l}},SR=Vd(e=>{const{type:a,predicate:n,effect:s}=NR(e);return{id:qJ(),effect:s,type:a,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ms(22))}}},{withTypes:()=>SR}),H6=(e,a)=>{const{type:n,effect:s,predicate:r}=NR(a);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===r)&&l.effect===s)},Jw=e=>{e.pending.forEach(a=>{mc(a,Qw)})},oee=e=>()=>{e.forEach(Jw),e.clear()},q6=(e,a,n)=>{try{e(a,n)}catch(s){setTimeout(()=>{throw s},0)}},_R=Vd(ur(`${_g}/add`),{withTypes:()=>_R}),cee=ur(`${_g}/removeAll`),kR=Vd(ur(`${_g}/remove`),{withTypes:()=>kR}),dee=(...e)=>{console.error(`${_g}/error`,...e)},mf=(e={})=>{const a=new Map,{extra:n,onError:s=dee}=e;iS(s);const r=f=>(f.unsubscribe=()=>a.delete(f.id),a.set(f.id,f),g=>{f.unsubscribe(),g!=null&&g.cancelActive&&Jw(f)}),l=f=>{const g=H6(a,f)??SR(f);return r(g)};Vd(l,{withTypes:()=>l});const c=f=>{const g=H6(a,f);return g&&(g.unsubscribe(),f.cancelActive&&Jw(g)),!!g};Vd(c,{withTypes:()=>c});const d=async(f,g,b,y)=>{const j=new AbortController,w=lee(l,j.signal),N=[];try{f.pending.add(j),await Promise.resolve(f.effect(g,Vd({},b,{getOriginalState:y,condition:(k,_)=>w(k,_).then(Boolean),take:w,delay:wR(j.signal),pause:Sp(j.signal),extra:n,signal:j.signal,fork:iee(j.signal,N),unsubscribe:f.unsubscribe,subscribe:()=>{a.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((k,_,C)=>{k!==j&&(mc(k,Qw),C.delete(k))})},cancel:()=>{mc(j,Qw),f.pending.delete(j)},throwIfCancelled:()=>{hc(j.signal)}})))}catch(k){k instanceof Sg||q6(s,k,{raisedBy:"effect"})}finally{await Promise.all(N),mc(j,see),f.pending.delete(j)}},m=oee(a);return{middleware:f=>g=>b=>{if(!iR(b))return g(b);if(_R.match(b))return l(b.payload);if(cee.match(b)){m();return}if(kR.match(b))return c(b.payload);let y=f.getState();const j=()=>{if(y===V6)throw new Error(Ms(23));return y};let w;try{if(w=g(b),a.size>0){const N=f.getState(),k=Array.from(a.values());for(const _ of k){let C=!1;try{C=_.predicate(b,N,y)}catch(O){C=!1,q6(s,O,{raisedBy:"predicate"})}C&&d(_,b,f,j)}}}finally{y=V6}return w},startListening:l,stopListening:c,clearListeners:m}};function Ms(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},CR=Is({name:"chartLayout",initialState:uee,reducers:{setLayout(e,a){e.layoutType=a.payload},setChartSize(e,a){e.width=a.payload.width,e.height=a.payload.height},setMargin(e,a){e.margin.top=a.payload.top,e.margin.right=a.payload.right,e.margin.bottom=a.payload.bottom,e.margin.left=a.payload.left},setScale(e,a){e.scale=a.payload}}}),{setMargin:mee,setLayout:hee,setChartSize:fee,setScale:xee}=CR.actions,pee=CR.reducer;function K6(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function G6(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?K6(Object(n),!0).forEach(function(s){gee(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function gee(e,a,n){return(a=bee(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function bee(e){var a=vee(e,"string");return typeof a=="symbol"?a:a+""}function vee(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var _p=Math.PI/180,yee=e=>e*180/Math.PI,Ha=(e,a,n,s)=>({x:e+Math.cos(-_p*s)*n,y:a+Math.sin(-_p*s)*n}),AR=function(a,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(a-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},jee=(e,a)=>{var{x:n,y:s}=e,{x:r,y:l}=a;return Math.sqrt((n-r)**2+(s-l)**2)},wee=(e,a)=>{var{x:n,y:s}=e,{cx:r,cy:l}=a,c=jee({x:n,y:s},{x:r,y:l});if(c<=0)return{radius:c,angle:0};var d=(n-r)/c,m=Math.acos(d);return s>l&&(m=2*Math.PI-m),{radius:c,angle:yee(m),angleInRadian:m}},Nee=e=>{var{startAngle:a,endAngle:n}=e,s=Math.floor(a/360),r=Math.floor(n/360),l=Math.min(s,r);return{startAngle:a-l*360,endAngle:n-l*360}},See=(e,a)=>{var{startAngle:n,endAngle:s}=a,r=Math.floor(n/360),l=Math.floor(s/360),c=Math.min(r,l);return e+c*360},_ee=(e,a)=>{var{x:n,y:s}=e,{radius:r,angle:l}=wee({x:n,y:s},a),{innerRadius:c,outerRadius:d}=a;if(r<c||r>d||r===0)return null;var{startAngle:m,endAngle:h}=Nee(a),f=l,g;if(m<=h){for(;f>h;)f-=360;for(;f<m;)f+=360;g=f>=m&&f<=h}else{for(;f>m;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=m}return g?G6(G6({},a),{},{radius:r,angle:See(f,a)}):null};function TR(e,a,n){return Array.isArray(e)&&e&&a+n!==0?e.slice(a,n+1):e}function Y6(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function rr(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?Y6(Object(n),!0).forEach(function(s){kee(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kee(e,a,n){return(a=Cee(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Cee(e){var a=Aee(e,"string");return typeof a=="symbol"?a:a+""}function Aee(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Jt(e,a,n){return ca(e)||ca(a)?n:mi(a)?io(e,a,n):typeof a=="function"?a(e):n}var Tee=(e,a,n,s,r)=>{var l,c=-1,d=(l=a==null?void 0:a.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(s==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var m=0;m<d;m++){var h=m>0?n[m-1].coordinate:n[d-1].coordinate,f=n[m].coordinate,g=m>=d-1?n[0].coordinate:n[m+1].coordinate,b=void 0;if(hn(f-h)!==hn(g-f)){var y=[];if(hn(g-f)===hn(r[1]-r[0])){b=g;var j=f+r[1]-r[0];y[0]=Math.min(j,(j+h)/2),y[1]=Math.max(j,(j+h)/2)}else{b=h;var w=g+r[1]-r[0];y[0]=Math.min(f,(w+f)/2),y[1]=Math.max(f,(w+f)/2)}var N=[Math.min(f,(b+f)/2),Math.max(f,(b+f)/2)];if(e>N[0]&&e<=N[1]||e>=y[0]&&e<=y[1]){({index:c}=n[m]);break}}else{var k=Math.min(h,g),_=Math.max(h,g);if(e>(k+f)/2&&e<=(_+f)/2){({index:c}=n[m]);break}}}else if(a){for(var C=0;C<d;C++)if(C===0&&e<=(a[C].coordinate+a[C+1].coordinate)/2||C>0&&C<d-1&&e>(a[C].coordinate+a[C-1].coordinate)/2&&e<=(a[C].coordinate+a[C+1].coordinate)/2||C===d-1&&e>(a[C].coordinate+a[C-1].coordinate)/2){({index:c}=a[C]);break}}return c},Eee=(e,a,n)=>{if(a&&n){var{width:s,height:r}=n,{align:l,verticalAlign:c,layout:d}=a;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&et(e[l]))return rr(rr({},e),{},{[l]:e[l]+(s||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&et(e[c]))return rr(rr({},e),{},{[c]:e[c]+(r||0)})}return e},mo=(e,a)=>e==="horizontal"&&a==="xAxis"||e==="vertical"&&a==="yAxis"||e==="centric"&&a==="angleAxis"||e==="radial"&&a==="radiusAxis",ER=(e,a,n,s)=>{if(s)return e.map(d=>d.coordinate);var r,l,c=e.map(d=>(d.coordinate===a&&(r=!0),d.coordinate===n&&(l=!0),d.coordinate));return r||c.push(a),l||c.push(n),c},PR=(e,a,n)=>{if(!e)return null;var{duplicateDomain:s,type:r,range:l,scale:c,realScaleType:d,isCategorical:m,categoricalDomain:h,tickCount:f,ticks:g,niceTicks:b,axisType:y}=e;if(!c)return null;var j=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,w=r==="category"&&c.bandwidth?c.bandwidth()/j:0;if(w=y==="angleAxis"&&l&&l.length>=2?hn(l[0]-l[1])*2*w:w,g||b){var N=(g||b||[]).map((k,_)=>{var C=s?s.indexOf(k):k;return{coordinate:c(C)+w,value:k,offset:w,index:_}});return N.filter(k=>!Ds(k.coordinate))}return m&&h?h.map((k,_)=>({coordinate:c(k)+w,value:k,index:_,offset:w})):c.ticks&&f!=null?c.ticks(f).map((k,_)=>({coordinate:c(k)+w,value:k,offset:w,index:_})):c.domain().map((k,_)=>({coordinate:c(k)+w,value:s?s[k]:k,index:_,offset:w}))},W6=1e-4,Pee=e=>{var a=e.domain();if(!(!a||a.length<=2)){var n=a.length,s=e.range(),r=Math.min(s[0],s[1])-W6,l=Math.max(s[0],s[1])+W6,c=e(a[0]),d=e(a[n-1]);(c<r||c>l||d<r||d>l)&&e.domain([a[0],a[n-1]])}},Oee=(e,a)=>{if(!a||a.length!==2||!et(a[0])||!et(a[1]))return e;var n=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]),r=[e[0],e[1]];return(!et(e[0])||e[0]<n)&&(r[0]=n),(!et(e[1])||e[1]>s)&&(r[1]=s),r[0]>s&&(r[0]=s),r[1]<n&&(r[1]=n),r},Mee=e=>{var a=e.length;if(!(a<=0))for(var n=0,s=e[0].length;n<s;++n)for(var r=0,l=0,c=0;c<a;++c){var d=Ds(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=r,e[c][n][1]=r+d,r=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},Dee=e=>{var a=e.length;if(!(a<=0))for(var n=0,s=e[0].length;n<s;++n)for(var r=0,l=0;l<a;++l){var c=Ds(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=r,e[l][n][1]=r+c,r=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},Ree={sign:Mee,expand:uQ,none:au,silhouette:mQ,wiggle:hQ,positive:Dee},$ee=(e,a,n)=>{var s=Ree[n],r=dQ().keys(a).value((l,c)=>+Jt(l,c,0)).order(Vw).offset(s);return r(e)};function Lee(e){return e==null?void 0:String(e)}function X6(e){var{axis:a,ticks:n,bandSize:s,entry:r,index:l,dataKey:c}=e;if(a.type==="category"){if(!a.allowDuplicatedCategory&&a.dataKey&&!ca(r[a.dataKey])){var d=S8(n,"value",r[a.dataKey]);if(d)return d.coordinate+s/2}return n[l]?n[l].coordinate+s/2:null}var m=Jt(r,ca(c)?a.dataKey:c);return ca(m)?null:a.scale(m)}var Z6=e=>{var{axis:a,ticks:n,offset:s,bandSize:r,entry:l,index:c}=e;if(a.type==="category")return n[c]?n[c].coordinate+s:null;var d=Jt(l,a.dataKey,a.scale.domain()[c]);return ca(d)?null:a.scale(d)-r/2+s},Iee=e=>{var{numericAxis:a}=e,n=a.scale.domain();if(a.type==="number"){var s=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return s<=0&&r>=0?0:r<0?r:s}return n[0]},Bee=e=>{var a=e.flat(2).filter(et);return[Math.min(...a),Math.max(...a)]},zee=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Uee=(e,a,n)=>{if(e!=null)return zee(Object.keys(e).reduce((s,r)=>{var l=e[r],{stackedData:c}=l,d=c.reduce((m,h)=>{var f=TR(h,a,n),g=Bee(f);return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]))},Q6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zh=(e,a,n)=>{if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&a&&a.length>=2){for(var r=vg(a,f=>f.coordinate),l=1/0,c=1,d=r.length;c<d;c++){var m=r[c],h=r[c-1];l=Math.min((m.coordinate||0)-(h.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function eT(e){var{tooltipEntrySettings:a,dataKey:n,payload:s,value:r,name:l}=e;return rr(rr({},a),{},{dataKey:n,payload:s,value:r,name:l})}function ju(e,a){if(e)return String(e);if(typeof a=="string")return a}function Fee(e,a,n,s,r){if(n==="horizontal"||n==="vertical"){var l=e>=r.left&&e<=r.left+r.width&&a>=r.top&&a<=r.top+r.height;return l?{x:e,y:a}:null}return s?_ee({x:e,y:a},s):null}var Vee=(e,a,n,s)=>{var r=a.find(h=>h&&h.index===n);if(r){if(e==="horizontal")return{x:r.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:r.coordinate};if(e==="centric"){var l=r.coordinate,{radius:c}=s;return rr(rr(rr({},s),Ha(s.cx,s.cy,c,l)),{},{angle:l,radius:c})}var d=r.coordinate,{angle:m}=s;return rr(rr(rr({},s),Ha(s.cx,s.cy,d,m)),{},{angle:m,radius:d})}return{x:0,y:0}},Hee=(e,a)=>a==="horizontal"?e.x:a==="vertical"?e.y:a==="centric"?e.angle:e.radius,ol=e=>e.layout.width,cl=e=>e.layout.height,qee=e=>e.layout.scale,OR=e=>e.layout.margin,lS=Oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),oS=Oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),MR="data-recharts-item-index",DR="data-recharts-item-data-key",kg=60;function tT(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function $l(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?tT(Object(n),!0).forEach(function(s){Kee(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Kee(e,a,n){return(a=Gee(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Gee(e){var a=Yee(e,"string");return typeof a=="symbol"?a:a+""}function Yee(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Wee=e=>e.brush.height,Za=Oe([ol,cl,OR,Wee,lS,oS,aR,pJ],(e,a,n,s,r,l,c,d)=>{var m=l.reduce((j,w)=>{var{orientation:N}=w;if(!w.mirror&&!w.hide){var k=typeof w.width=="number"?w.width:kg;return $l($l({},j),{},{[N]:j[N]+k})}return j},{left:n.left||0,right:n.right||0}),h=r.reduce((j,w)=>{var{orientation:N}=w;return!w.mirror&&!w.hide?$l($l({},j),{},{[N]:io(j,"".concat(N))+w.height}):j},{top:n.top||0,bottom:n.bottom||0}),f=$l($l({},h),m),g=f.bottom;f.bottom+=s,f=Eee(f,c,d);var b=e-f.left-f.right,y=a-f.top-f.bottom;return $l($l({brushBottom:g},f),{},{width:Math.max(b,0),height:Math.max(y,0)})}),Xee=Oe(Za,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),RR=Oe(ol,cl,(e,a)=>({x:0,y:0,width:e,height:a})),Zee=p.createContext(null),us=()=>p.useContext(Zee)!=null,Cg=e=>e.brush,Ag=Oe([Cg,Za,OR],(e,a,n)=>({height:e.height,x:et(e.x)?e.x:a.left,y:et(e.y)?e.y:a.top+a.height+a.brushBottom-((n==null?void 0:n.bottom)||0),width:et(e.width)?e.width:a.width})),cS=()=>{var e,a=us(),n=st(Xee),s=st(Ag),r=(e=st(Cg))===null||e===void 0?void 0:e.padding;return!a||!s||!r?n:{width:s.width-r.left-r.right,height:s.height-r.top-r.bottom,x:r.left,y:r.top}},Qee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$R=()=>{var e;return(e=st(Za))!==null&&e!==void 0?e:Qee},dS=()=>st(ol),uS=()=>st(cl),Jee={top:0,right:0,bottom:0,left:0},ete=()=>{var e;return(e=st(a=>a.layout.margin))!==null&&e!==void 0?e:Jee},Rt=e=>e.layout.layoutType,Tg=()=>st(Rt),tte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},LR=Is({name:"legend",initialState:tte,reducers:{setLegendSize(e,a){e.size.width=a.payload.width,e.size.height=a.payload.height},setLegendSettings(e,a){e.settings.align=a.payload.align,e.settings.layout=a.payload.layout,e.settings.verticalAlign=a.payload.verticalAlign,e.settings.itemSorter=a.payload.itemSorter},addLegendPayload(e,a){e.payload.push(a.payload)},removeLegendPayload(e,a){var n=Ki(e).payload.indexOf(a.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:aT,setLegendSettings:ate,addLegendPayload:IR,removeLegendPayload:BR}=LR.actions,nte=LR.reducer,ste=["contextPayload"];function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},e2.apply(null,arguments)}function nT(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function su(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?nT(Object(n),!0).forEach(function(s){mS(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mS(e,a,n){return(a=rte(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function rte(e){var a=ite(e,"string");return typeof a=="symbol"?a:a+""}function ite(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function lte(e,a){if(e==null)return{};var n,s,r=ote(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ote(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function cte(e){return e.value}function dte(e){var{contextPayload:a}=e,n=lte(e,ste),s=Q8(a,e.payloadUniqBy,cte),r=su(su({},n),{},{payload:s});return p.isValidElement(e.content)?p.cloneElement(e.content,r):typeof e.content=="function"?p.createElement(e.content,r):p.createElement(WN,r)}function ute(e,a,n,s,r,l){var{layout:c,align:d,verticalAlign:m}=a,h,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?h={left:((s||0)-l.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?f={top:((r||0)-l.height)/2}:f=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),su(su({},h),f)}function mte(e){var a=ya();return p.useEffect(()=>{a(ate(e))},[a,e]),null}function hte(e){var a=ya();return p.useEffect(()=>(a(aT(e)),()=>{a(aT({width:0,height:0}))}),[a,e]),null}function fte(e){var a=vJ(),n=DZ(),s=ete(),{width:r,height:l,wrapperStyle:c,portal:d}=e,[m,h]=nR([a]),f=dS(),g=uS(),b=f-(s.left||0)-(s.right||0),y=Eg.getWidthOrHeight(e.layout,l,r,b),j=d?c:su(su({position:"absolute",width:(y==null?void 0:y.width)||r||"auto",height:(y==null?void 0:y.height)||l||"auto"},ute(c,e,s,f,g,m)),c),w=d??n;if(w==null)return null;var N=p.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:h},p.createElement(mte,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement(hte,{width:m.width,height:m.height}),p.createElement(dte,e2({},e,y,{margin:s,chartWidth:f,chartHeight:g,contextPayload:a})));return oM.createPortal(N,w)}class Eg extends p.PureComponent{static getWidthOrHeight(a,n,s,r){return a==="vertical"&&et(n)?{height:n}:a==="horizontal"?{width:s||r}:null}render(){return p.createElement(fte,this.props)}}mS(Eg,"displayName","Legend");mS(Eg,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},t2.apply(null,arguments)}function sT(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function z1(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?sT(Object(n),!0).forEach(function(s){xte(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xte(e,a,n){return(a=pte(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function pte(e){var a=gte(e,"string");return typeof a=="symbol"?a:a+""}function gte(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function bte(e){return Array.isArray(e)&&mi(e[0])&&mi(e[1])?e.join(" ~ "):e}var vte=e=>{var{separator:a=" : ",contentStyle:n={},itemStyle:s={},labelStyle:r={},payload:l,formatter:c,itemSorter:d,wrapperClassName:m,labelClassName:h,label:f,labelFormatter:g,accessibilityLayer:b=!1}=e,y=()=>{if(l&&l.length){var P={padding:0,margin:0},E=(d?vg(l,d):l).map((B,M)=>{if(B.type==="none")return null;var V=B.formatter||c||bte,{value:G,name:H}=B,F=G,ie=H;if(V){var _e=V(G,H,B,M,l);if(Array.isArray(_e))[F,ie]=_e;else if(_e!=null)F=_e;else return null}var ce=z1({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},s);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ce},mi(ie)?p.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,mi(ie)?p.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,p.createElement("span",{className:"recharts-tooltip-item-value"},F),p.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:P},E)}return null},j=z1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=z1({margin:0},r),N=!ca(f),k=N?f:"",_=St("recharts-default-tooltip",m),C=St("recharts-tooltip-label",h);N&&g&&l!==void 0&&l!==null&&(k=g(f,l));var O=b?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",t2({className:_,style:j},O),p.createElement("p",{className:C,style:w},p.isValidElement(k)?k:"".concat(k)),y())},Pm="recharts-tooltip-wrapper",yte={visibility:"hidden"};function jte(e){var{coordinate:a,translateX:n,translateY:s}=e;return St(Pm,{["".concat(Pm,"-right")]:et(n)&&a&&et(a.x)&&n>=a.x,["".concat(Pm,"-left")]:et(n)&&a&&et(a.x)&&n<a.x,["".concat(Pm,"-bottom")]:et(s)&&a&&et(a.y)&&s>=a.y,["".concat(Pm,"-top")]:et(s)&&a&&et(a.y)&&s<a.y})}function rT(e){var{allowEscapeViewBox:a,coordinate:n,key:s,offsetTopLeft:r,position:l,reverseDirection:c,tooltipDimension:d,viewBox:m,viewBoxDimension:h}=e;if(l&&et(l[s]))return l[s];var f=n[s]-d-(r>0?r:0),g=n[s]+r;if(a[s])return c[s]?f:g;var b=m[s];if(b==null)return 0;if(c[s]){var y=f,j=b;return y<j?Math.max(g,b):Math.max(f,b)}if(h==null)return 0;var w=g+d,N=b+h;return w>N?Math.max(f,b):Math.max(g,b)}function wte(e){var{translateX:a,translateY:n,useTranslate3d:s}=e;return{transform:s?"translate3d(".concat(a,"px, ").concat(n,"px, 0)"):"translate(".concat(a,"px, ").concat(n,"px)")}}function Nte(e){var{allowEscapeViewBox:a,coordinate:n,offsetTopLeft:s,position:r,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:m}=e,h,f,g;return c.height>0&&c.width>0&&n?(f=rT({allowEscapeViewBox:a,coordinate:n,key:"x",offsetTopLeft:s,position:r,reverseDirection:l,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),g=rT({allowEscapeViewBox:a,coordinate:n,key:"y",offsetTopLeft:s,position:r,reverseDirection:l,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),h=wte({translateX:f,translateY:g,useTranslate3d:d})):h=yte,{cssProperties:h,cssClasses:jte({translateX:f,translateY:g,coordinate:n})}}function iT(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function W0(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?iT(Object(n),!0).forEach(function(s){a2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function a2(e,a,n){return(a=Ste(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Ste(e){var a=_te(e,"string");return typeof a=="symbol"?a:a+""}function _te(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}class kte extends p.PureComponent{constructor(){super(...arguments),a2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),a2(this,"handleKeyDown",a=>{if(a.key==="Escape"){var n,s,r,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&n!==void 0?n:0,y:(r=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var a,n;this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:a,allowEscapeViewBox:n,animationDuration:s,animationEasing:r,children:l,coordinate:c,hasPayload:d,isAnimationActive:m,offset:h,position:f,reverseDirection:g,useTranslate3d:b,viewBox:y,wrapperStyle:j,lastBoundingBox:w,innerRef:N,hasPortalFromProps:k}=this.props,{cssClasses:_,cssProperties:C}=Nte({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:h,position:f,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),O=k?{}:W0(W0({transition:m&&a?"transform ".concat(s,"ms ").concat(r):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0}),P=W0(W0({},O),{},{visibility:!this.state.dismissed&&a&&d?"visible":"hidden"},j);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:P,ref:N},l)}}var Cte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),kc={isSsr:Cte()},zR=()=>st(e=>e.rootProps.accessibilityLayer);function Ls(e){return Number.isFinite(e)}function ru(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},n2.apply(null,arguments)}function lT(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function oT(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?lT(Object(n),!0).forEach(function(s){Ate(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ate(e,a,n){return(a=Tte(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Tte(e){var a=Ete(e,"string");return typeof a=="symbol"?a:a+""}function Ete(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var cT={curveBasisClosed:JZ,curveBasisOpen:eQ,curveBasis:QZ,curveBumpX:IZ,curveBumpY:BZ,curveLinearClosed:tQ,curveLinear:gg,curveMonotoneX:aQ,curveMonotoneY:nQ,curveNatural:sQ,curveStep:rQ,curveStepAfter:lQ,curveStepBefore:iQ},X0=e=>Ls(e.x)&&Ls(e.y),Om=e=>e.x,Mm=e=>e.y,Pte=(e,a)=>{if(typeof e=="function")return e;var n="curve".concat(cf(e));return(n==="curveMonotone"||n==="curveBump")&&a?cT["".concat(n).concat(a==="vertical"?"Y":"X")]:cT[n]||gg},Ote=e=>{var{type:a="linear",points:n=[],baseLine:s,layout:r,connectNulls:l=!1}=e,c=Pte(a,r),d=l?n.filter(X0):n,m;if(Array.isArray(s)){var h=l?s.filter(g=>X0(g)):s,f=d.map((g,b)=>oT(oT({},g),{},{base:h[b]}));return r==="vertical"?m=H0().y(Mm).x1(Om).x0(g=>g.base.x):m=H0().x(Om).y1(Mm).y0(g=>g.base.y),m.defined(X0).curve(c),m(f)}return r==="vertical"&&et(s)?m=H0().y(Mm).x1(Om).x0(s):et(s)?m=H0().x(Om).y1(Mm).y0(s):m=D8().x(Om).y(Mm),m.defined(X0).curve(c),m(d)},hS=e=>{var{className:a,points:n,path:s,pathRef:r}=e;if((!n||!n.length)&&!s)return null;var l=n&&n.length?Ote(e):s;return p.createElement("path",n2({},ll(e),FN(e),{className:St("recharts-curve",a),d:l===null?void 0:l,ref:r}))},Mte=["x","y","top","left","width","height","className"];function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s2.apply(null,arguments)}function dT(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Dte(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?dT(Object(n),!0).forEach(function(s){Rte(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Rte(e,a,n){return(a=$te(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function $te(e){var a=Lte(e,"string");return typeof a=="symbol"?a:a+""}function Lte(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ite(e,a){if(e==null)return{};var n,s,r=Bte(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bte(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var zte=(e,a,n,s,r,l)=>"M".concat(e,",").concat(r,"v").concat(s,"M").concat(l,",").concat(a,"h").concat(n),Ute=e=>{var{x:a=0,y:n=0,top:s=0,left:r=0,width:l=0,height:c=0,className:d}=e,m=Ite(e,Mte),h=Dte({x:a,y:n,top:s,left:r,width:l,height:c},m);return!et(a)||!et(n)||!et(l)||!et(c)||!et(s)||!et(r)?null:p.createElement("path",s2({},ha(h,!0),{className:St("recharts-cross",d),d:zte(a,n,l,c,s,r)}))};function Fte(e,a,n,s){var r=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?a.x-r:n.left+.5,y:e==="horizontal"?n.top+.5:a.y-r,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function uT(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Vte(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?uT(Object(n),!0).forEach(function(s){Hte(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Hte(e,a,n){return(a=qte(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function qte(e){var a=Kte(e,"string");return typeof a=="symbol"?a:a+""}function Kte(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Bs(e,a){var n=Vte({},e),s=a,r=Object.keys(a),l=r.reduce((c,d)=>(c[d]===void 0&&s[d]!==void 0&&(c[d]=s[d]),c),n);return l}var U1={},F1={},V1={},mT;function Gte(){return mT||(mT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){if(!n||typeof n!="object")return!1;const s=Object.getPrototypeOf(n);return s===null||s===Object.prototype||Object.getPrototypeOf(s)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=a}(V1)),V1}var hT;function Yte(){return hT||(hT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=Gte(),n=W8(),s=JN(),r=eS(),l=ZN();function c(h,f,g){return d(h,f,void 0,void 0,void 0,void 0,g)}function d(h,f,g,b,y,j,w){const N=w(h,f,g,b,y,j);if(N!==void 0)return N;if(typeof h==typeof f)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===f;case"number":return h===f||Object.is(h,f);case"function":return h===f;case"object":return m(h,f,j,w)}return m(h,f,j,w)}function m(h,f,g,b){if(Object.is(h,f))return!0;let y=s.getTag(h),j=s.getTag(f);if(y===r.argumentsTag&&(y=r.objectTag),j===r.argumentsTag&&(j=r.objectTag),y!==j)return!1;switch(y){case r.stringTag:return h.toString()===f.toString();case r.numberTag:{const k=h.valueOf(),_=f.valueOf();return l.eq(k,_)}case r.booleanTag:case r.dateTag:case r.symbolTag:return Object.is(h.valueOf(),f.valueOf());case r.regexpTag:return h.source===f.source&&h.flags===f.flags;case r.functionTag:return h===f}g=g??new Map;const w=g.get(h),N=g.get(f);if(w!=null&&N!=null)return w===f;g.set(h,f),g.set(f,h);try{switch(y){case r.mapTag:{if(h.size!==f.size)return!1;for(const[k,_]of h.entries())if(!f.has(k)||!d(_,f.get(k),k,h,f,g,b))return!1;return!0}case r.setTag:{if(h.size!==f.size)return!1;const k=Array.from(h.values()),_=Array.from(f.values());for(let C=0;C<k.length;C++){const O=k[C],P=_.findIndex(E=>d(O,E,void 0,h,f,g,b));if(P===-1)return!1;_.splice(P,1)}return!0}case r.arrayTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:case r.bigUint64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.bigInt64ArrayTag:case r.float32ArrayTag:case r.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(f)||h.length!==f.length)return!1;for(let k=0;k<h.length;k++)if(!d(h[k],f[k],k,h,f,g,b))return!1;return!0}case r.arrayBufferTag:return h.byteLength!==f.byteLength?!1:m(new Uint8Array(h),new Uint8Array(f),g,b);case r.dataViewTag:return h.byteLength!==f.byteLength||h.byteOffset!==f.byteOffset?!1:m(new Uint8Array(h),new Uint8Array(f),g,b);case r.errorTag:return h.name===f.name&&h.message===f.message;case r.objectTag:{if(!(m(h.constructor,f.constructor,g,b)||a.isPlainObject(h)&&a.isPlainObject(f)))return!1;const _=[...Object.keys(h),...n.getSymbols(h)],C=[...Object.keys(f),...n.getSymbols(f)];if(_.length!==C.length)return!1;for(let O=0;O<_.length;O++){const P=_[O],E=h[P];if(!Object.hasOwn(f,P))return!1;const B=f[P];if(!d(E,B,P,h,f,g,b))return!1}return!0}default:return!1}}finally{g.delete(h),g.delete(f)}}e.isEqualWith=c}(F1)),F1}var H1={},fT;function Wte(){return fT||(fT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(){}e.noop=a}(H1)),H1}var xT;function Xte(){return xT||(xT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=Yte(),n=Wte();function s(r,l){return a.isEqualWith(r,l,n.noop)}e.isEqual=s}(U1)),U1}var q1,pT;function Zte(){return pT||(pT=1,q1=Xte().isEqual),q1}var Qte=Zte();const Jte=Ur(Qte);var kp=1e-4,UR=(e,a)=>[0,3*e,3*a-6*e,3*e-3*a+1],FR=(e,a)=>e.map((n,s)=>n*a**s).reduce((n,s)=>n+s),gT=(e,a)=>n=>{var s=UR(e,a);return FR(s,n)},eae=(e,a)=>n=>{var s=UR(e,a),r=[...s.map((l,c)=>l*c).slice(1),0];return FR(r,n)},bT=function(){for(var a,n,s,r,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[a,s,n,r]=[0,0,1,1];break;case"ease":[a,s,n,r]=[.25,.1,.25,1];break;case"ease-in":[a,s,n,r]=[.42,0,1,1];break;case"ease-out":[a,s,n,r]=[.42,0,.58,1];break;case"ease-in-out":[a,s,n,r]=[0,0,.58,1];break;default:{var m=c[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([a,s,n,r]=m[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else c.length===4&&([a,s,n,r]=c);var h=gT(a,n),f=gT(s,r),g=eae(a,n),b=j=>j>1?1:j<0?0:j,y=j=>{for(var w=j>1?1:j,N=w,k=0;k<8;++k){var _=h(N)-w,C=g(N);if(Math.abs(_-w)<kp||C<kp)return f(N);N=b(N-_/C)}return f(N)};return y.isStepper=!1,y},tae=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:s=8,dt:r=17}=a,l=(c,d,m)=>{var h=-(c-d)*n,f=m*s,g=m+(h-f)*r/1e3,b=m*r/1e3+c;return Math.abs(b-d)<kp&&Math.abs(g)<kp?[d,0]:[b,g]};return l.isStepper=!0,l.dt=r,l},VR=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bT(e);case"spring":return tae();default:if(e.split("(")[0]==="cubic-bezier")return bT(e)}return typeof e=="function"?e:null};function vT(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function yT(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?vT(Object(n),!0).forEach(function(s){aae(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function aae(e,a,n){return(a=nae(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function nae(e){var a=sae(e,"string");return typeof a=="symbol"?a:a+""}function sae(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var rae=e=>e.replace(/([A-Z])/g,a=>"-".concat(a.toLowerCase())),iae=(e,a,n)=>e.map(s=>"".concat(rae(s)," ").concat(a,"ms ").concat(n)).join(","),lae=(e,a)=>[Object.keys(e),Object.keys(a)].reduce((n,s)=>n.filter(r=>s.includes(r))),Uh=(e,a)=>Object.keys(a).reduce((n,s)=>yT(yT({},n),{},{[s]:e(s,a[s])}),{});function jT(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function _n(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?jT(Object(n),!0).forEach(function(s){oae(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oae(e,a,n){return(a=cae(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function cae(e){var a=dae(e,"string");return typeof a=="symbol"?a:a+""}function dae(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Cp=(e,a,n)=>e+(a-e)*n,r2=e=>{var{from:a,to:n}=e;return a!==n},HR=(e,a,n)=>{var s=Uh((r,l)=>{if(r2(l)){var[c,d]=e(l.from,l.to,l.velocity);return _n(_n({},l),{},{from:c,velocity:d})}return l},a);return n<1?Uh((r,l)=>r2(l)?_n(_n({},l),{},{velocity:Cp(l.velocity,s[r].velocity,n),from:Cp(l.from,s[r].from,n)}):l,a):HR(e,s,n-1)};function uae(e,a,n,s,r,l){var c,d=s.reduce((b,y)=>_n(_n({},b),{},{[y]:{from:e[y],velocity:0,to:a[y]}}),{}),m=()=>Uh((b,y)=>y.from,d),h=()=>!Object.values(d).filter(r2).length,f=null,g=b=>{c||(c=b);var y=b-c,j=y/n.dt;d=HR(n,d,j),r(_n(_n(_n({},e),a),m())),c=b,h()||(f=l.setTimeout(g))};return()=>(f=l.setTimeout(g),()=>{f()})}function mae(e,a,n,s,r,l,c){var d=null,m=r.reduce((g,b)=>_n(_n({},g),{},{[b]:[e[b],a[b]]}),{}),h,f=g=>{h||(h=g);var b=(g-h)/s,y=Uh((w,N)=>Cp(...N,n(b)),m);if(l(_n(_n(_n({},e),a),y)),b<1)d=c.setTimeout(f);else{var j=Uh((w,N)=>Cp(...N,n(1)),m);l(_n(_n(_n({},e),a),j))}};return()=>(d=c.setTimeout(f),()=>{d()})}const qR=(e,a,n,s,r,l)=>{var c=lae(e,a);return n.isStepper===!0?uae(e,a,n,c,r,l):mae(e,a,n,s,c,r,l)};function hae(e){var a,n=()=>null,s=!1,r=null,l=c=>{if(!s){if(Array.isArray(c)){if(!c.length)return;var d=c,[m,...h]=d;if(typeof m=="number"){r=e.setTimeout(l.bind(null,h),m);return}l(m),r=e.setTimeout(l.bind(null,h));return}typeof c=="string"&&(a=c,n(a)),typeof c=="object"&&(a=c,n(a)),typeof c=="function"&&c()}};return{stop:()=>{s=!0},start:c=>{s=!1,r&&(r(),r=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class fae{setTimeout(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),r=null,l=c=>{c-s>=n?a(c):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(l))};return r=requestAnimationFrame(l),()=>{cancelAnimationFrame(r)}}}function xae(){return hae(new fae)}var pae=p.createContext(xae);function KR(e,a){var n=p.useContext(pae);return p.useMemo(()=>a??n(e),[e,a,n])}var gae=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i2.apply(null,arguments)}function bae(e,a){if(e==null)return{};var n,s,r=vae(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vae(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function wT(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Ll(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?wT(Object(n),!0).forEach(function(s){rc(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function rc(e,a,n){return(a=yae(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function yae(e){var a=jae(e,"string");return typeof a=="symbol"?a:a+""}function jae(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}class fS extends p.PureComponent{constructor(a,n){super(a,n),rc(this,"mounted",!1),rc(this,"manager",void 0),rc(this,"stopJSAnimation",null),rc(this,"unSubscribe",null);var{isActive:s,attributeName:r,from:l,to:c,children:d,duration:m,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!s||m<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:c});return}if(l){if(typeof d=="function"){this.state={style:l};return}this.state={style:r?{[r]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:a,canBegin:n}=this.props;this.mounted=!0,!(!a||!n)&&this.runAnimation(this.props)}componentDidUpdate(a){var{isActive:n,canBegin:s,attributeName:r,shouldReAnimate:l,to:c,from:d}=this.props,{style:m}=this.state;if(s){if(!n){var h={style:r?{[r]:c}:c};this.state&&m&&(r&&m[r]!==c||!r&&m!==c)&&this.setState(h);return}if(!(Jte(a.to,c)&&a.canBegin&&a.isActive)){var f=!a.canBegin||!a.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=f||l?d:a.to;if(this.state&&m){var b={style:r?{[r]:g}:g};(r&&m[r]!==g||!r&&m!==g)&&this.setState(b)}this.runAnimation(Ll(Ll({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:a}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}handleStyleChange(a){this.changeStyle(a)}changeStyle(a){this.mounted&&this.setState({style:a})}runJSAnimation(a){var{from:n,to:s,duration:r,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:m}=a,h=qR(n,s,VR(l),r,this.changeStyle,this.manager.getTimeoutController()),f=()=>{this.stopJSAnimation=h()};this.manager.start([m,c,f,r,d])}runAnimation(a){var{begin:n,duration:s,attributeName:r,to:l,easing:c,onAnimationStart:d,onAnimationEnd:m,children:h}=a;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(a);return}var f=r?{[r]:l}:l,g=iae(Object.keys(f),s,c);this.manager.start([d,n,Ll(Ll({},f),{},{transition:g}),s,m])}render(){var a=this.props,{children:n,begin:s,duration:r,attributeName:l,easing:c,isActive:d,from:m,to:h,canBegin:f,onAnimationEnd:g,shouldReAnimate:b,onAnimationReStart:y,animationManager:j}=a,w=bae(a,gae),N=p.Children.count(n),k=this.state.style;if(typeof n=="function")return n(k);if(!d||N===0||r<=0)return n;var _=C=>{var{style:O={},className:P}=C.props,E=p.cloneElement(C,Ll(Ll({},w),{},{style:Ll(Ll({},O),k),className:P}));return E};return N===1?_(p.Children.only(n)):p.createElement("div",null,p.Children.map(n,C=>_(C)))}}rc(fS,"displayName","Animate");rc(fS,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Ap(e){var a,n=KR((a=e.attributeName)!==null&&a!==void 0?a:Object.keys(e.to).join(","),e.animationManager);return p.createElement(fS,i2({},e,{animationManager:n}))}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tp.apply(null,arguments)}var NT=(e,a,n,s,r)=>{var l=Math.min(Math.abs(n)/2,Math.abs(s)/2),c=s>=0?1:-1,d=n>=0?1:-1,m=s>=0&&n>=0||s<0&&n<0?1:0,h;if(l>0&&r instanceof Array){for(var f=[0,0,0,0],g=0,b=4;g<b;g++)f[g]=r[g]>l?l:r[g];h="M".concat(e,",").concat(a+c*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(m,",").concat(e+d*f[0],",").concat(a)),h+="L ".concat(e+n-d*f[1],",").concat(a),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(a+c*f[1])),h+="L ".concat(e+n,",").concat(a+s-c*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(m,`,
        `).concat(e+n-d*f[2],",").concat(a+s)),h+="L ".concat(e+d*f[3],",").concat(a+s),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(a+s-c*f[3])),h+="Z"}else if(l>0&&r===+r&&r>0){var y=Math.min(l,r);h="M ".concat(e,",").concat(a+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+d*y,",").concat(a,`
            L `).concat(e+n-d*y,",").concat(a,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+n,",").concat(a+c*y,`
            L `).concat(e+n,",").concat(a+s-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+n-d*y,",").concat(a+s,`
            L `).concat(e+d*y,",").concat(a+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e,",").concat(a+s-c*y," Z")}else h="M ".concat(e,",").concat(a," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return h},wae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GR=e=>{var a=Bs(e,wae),n=p.useRef(null),[s,r]=p.useState(-1);p.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&r(k)}catch{}},[]);var{x:l,y:c,width:d,height:m,radius:h,className:f}=a,{animationEasing:g,animationDuration:b,animationBegin:y,isAnimationActive:j,isUpdateAnimationActive:w}=a;if(l!==+l||c!==+c||d!==+d||m!==+m||d===0||m===0)return null;var N=St("recharts-rectangle",f);return w?p.createElement(Ap,{canBegin:s>0,from:{width:d,height:m,x:l,y:c},to:{width:d,height:m,x:l,y:c},duration:b,animationEasing:g,isActive:w},k=>{var{width:_,height:C,x:O,y:P}=k;return p.createElement(Ap,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:j,easing:g},p.createElement("path",Tp({},ha(a,!0),{className:N,d:NT(O,P,_,C,h),ref:n})))}):p.createElement("path",Tp({},ha(a,!0),{className:N,d:NT(l,c,d,m,h)}))};function YR(e){var{cx:a,cy:n,radius:s,startAngle:r,endAngle:l}=e,c=Ha(a,n,s,r),d=Ha(a,n,s,l);return{points:[c,d],cx:a,cy:n,radius:s,startAngle:r,endAngle:l}}function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l2.apply(null,arguments)}var Nae=(e,a)=>{var n=hn(a-e),s=Math.min(Math.abs(a-e),359.999);return n*s},Z0=e=>{var{cx:a,cy:n,radius:s,angle:r,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:m}=e,h=d*(c?1:-1)+s,f=Math.asin(d/h)/_p,g=m?r:r+l*f,b=Ha(a,n,h,g),y=Ha(a,n,s,g),j=m?r-l*f:r,w=Ha(a,n,h*Math.cos(f*_p),j);return{center:b,circleTangency:y,lineTangency:w,theta:f}},WR=e=>{var{cx:a,cy:n,innerRadius:s,outerRadius:r,startAngle:l,endAngle:c}=e,d=Nae(l,c),m=l+d,h=Ha(a,n,r,l),f=Ha(a,n,r,m),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>m),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var b=Ha(a,n,s,l),y=Ha(a,n,s,m);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(a,",").concat(n," Z");return g},Sae=e=>{var{cx:a,cy:n,innerRadius:s,outerRadius:r,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:m,endAngle:h}=e,f=hn(h-m),{circleTangency:g,lineTangency:b,theta:y}=Z0({cx:a,cy:n,radius:r,angle:m,sign:f,cornerRadius:l,cornerIsExternal:d}),{circleTangency:j,lineTangency:w,theta:N}=Z0({cx:a,cy:n,radius:r,angle:h,sign:-f,cornerRadius:l,cornerIsExternal:d}),k=d?Math.abs(m-h):Math.abs(m-h)-y-N;if(k<0)return c?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):WR({cx:a,cy:n,innerRadius:s,outerRadius:r,startAngle:m,endAngle:h});var _="M ".concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var{circleTangency:C,lineTangency:O,theta:P}=Z0({cx:a,cy:n,radius:s,angle:m,sign:f,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:E,lineTangency:B,theta:M}=Z0({cx:a,cy:n,radius:s,angle:h,sign:-f,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),V=d?Math.abs(m-h):Math.abs(m-h)-P-M;if(V<0&&l===0)return"".concat(_,"L").concat(a,",").concat(n,"Z");_+="L".concat(B.x,",").concat(B.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else _+="L".concat(a,",").concat(n,"Z");return _},_ae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xS=e=>{var a=Bs(e,_ae),{cx:n,cy:s,innerRadius:r,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:m,startAngle:h,endAngle:f,className:g}=a;if(l<r||h===f)return null;var b=St("recharts-sector",g),y=l-r,j=Qn(c,y,0,!0),w;return j>0&&Math.abs(h-f)<360?w=Sae({cx:n,cy:s,innerRadius:r,outerRadius:l,cornerRadius:Math.min(j,y/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:h,endAngle:f}):w=WR({cx:n,cy:s,innerRadius:r,outerRadius:l,startAngle:h,endAngle:f}),p.createElement("path",l2({},ha(a,!0),{className:b,d:w}))};function kae(e,a,n){var s,r,l,c;if(e==="horizontal")s=a.x,l=s,r=n.top,c=n.top+n.height;else if(e==="vertical")r=a.y,c=r,s=n.left,l=n.left+n.width;else if(a.cx!=null&&a.cy!=null)if(e==="centric"){var{cx:d,cy:m,innerRadius:h,outerRadius:f,angle:g}=a,b=Ha(d,m,h,g),y=Ha(d,m,f,g);s=b.x,r=b.y,l=y.x,c=y.y}else return YR(a);return[{x:s,y:r},{x:l,y:c}]}var K1={},G1={},Y1={},ST;function Cae(){return ST||(ST=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=eR();function n(s){return a.isSymbol(s)?NaN:Number(s)}e.toNumber=n}(Y1)),Y1}var _T;function Aae(){return _T||(_T=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=Cae();function n(s){return s?(s=a.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}e.toFinite=n}(G1)),G1}var kT;function Tae(){return kT||(kT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=tR(),n=Aae();function s(r,l,c){c&&typeof c!="number"&&a.isIterateeCall(r,l,c)&&(l=c=void 0),r=n.toFinite(r),l===void 0?(l=r,r=0):l=n.toFinite(l),c=c===void 0?r<l?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((l-r)/(c||1)),0),m=new Array(d);for(let h=0;h<d;h++)m[h]=r,r+=c;return m}e.range=s}(K1)),K1}var W1,CT;function Eae(){return CT||(CT=1,W1=Tae().range),W1}var Pae=Eae();const XR=Ur(Pae);function to(e,a){return e==null||a==null?NaN:e<a?-1:e>a?1:e>=a?0:NaN}function Oae(e,a){return e==null||a==null?NaN:a<e?-1:a>e?1:a>=e?0:NaN}function pS(e){let a,n,s;e.length!==2?(a=to,n=(d,m)=>to(e(d),m),s=(d,m)=>e(d)-m):(a=e===to||e===Oae?e:Mae,n=e,s=e);function r(d,m,h=0,f=d.length){if(h<f){if(a(m,m)!==0)return f;do{const g=h+f>>>1;n(d[g],m)<0?h=g+1:f=g}while(h<f)}return h}function l(d,m,h=0,f=d.length){if(h<f){if(a(m,m)!==0)return f;do{const g=h+f>>>1;n(d[g],m)<=0?h=g+1:f=g}while(h<f)}return h}function c(d,m,h=0,f=d.length){const g=r(d,m,h,f-1);return g>h&&s(d[g-1],m)>-s(d[g],m)?g-1:g}return{left:r,center:c,right:l}}function Mae(){return 0}function ZR(e){return e===null?NaN:+e}function*Dae(e,a){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Rae=pS(to),hf=Rae.right;pS(ZR).center;class AT extends Map{constructor(a,n=Iae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),a!=null)for(const[s,r]of a)this.set(s,r)}get(a){return super.get(TT(this,a))}has(a){return super.has(TT(this,a))}set(a,n){return super.set($ae(this,a),n)}delete(a){return super.delete(Lae(this,a))}}function TT({_intern:e,_key:a},n){const s=a(n);return e.has(s)?e.get(s):n}function $ae({_intern:e,_key:a},n){const s=a(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function Lae({_intern:e,_key:a},n){const s=a(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function Iae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Bae(e=to){if(e===to)return QR;if(typeof e!="function")throw new TypeError("compare is not a function");return(a,n)=>{const s=e(a,n);return s||s===0?s:(e(n,n)===0)-(e(a,a)===0)}}function QR(e,a){return(e==null||!(e>=e))-(a==null||!(a>=a))||(e<a?-1:e>a?1:0)}const zae=Math.sqrt(50),Uae=Math.sqrt(10),Fae=Math.sqrt(2);function Ep(e,a,n){const s=(a-e)/Math.max(0,n),r=Math.floor(Math.log10(s)),l=s/Math.pow(10,r),c=l>=zae?10:l>=Uae?5:l>=Fae?2:1;let d,m,h;return r<0?(h=Math.pow(10,-r)/c,d=Math.round(e*h),m=Math.round(a*h),d/h<e&&++d,m/h>a&&--m,h=-h):(h=Math.pow(10,r)*c,d=Math.round(e/h),m=Math.round(a/h),d*h<e&&++d,m*h>a&&--m),m<d&&.5<=n&&n<2?Ep(e,a,n*2):[d,m,h]}function o2(e,a,n){if(a=+a,e=+e,n=+n,!(n>0))return[];if(e===a)return[e];const s=a<e,[r,l,c]=s?Ep(a,e,n):Ep(e,a,n);if(!(l>=r))return[];const d=l-r+1,m=new Array(d);if(s)if(c<0)for(let h=0;h<d;++h)m[h]=(l-h)/-c;else for(let h=0;h<d;++h)m[h]=(l-h)*c;else if(c<0)for(let h=0;h<d;++h)m[h]=(r+h)/-c;else for(let h=0;h<d;++h)m[h]=(r+h)*c;return m}function c2(e,a,n){return a=+a,e=+e,n=+n,Ep(e,a,n)[2]}function d2(e,a,n){a=+a,e=+e,n=+n;const s=a<e,r=s?c2(a,e,n):c2(e,a,n);return(s?-1:1)*(r<0?1/-r:r)}function ET(e,a){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function PT(e,a){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function JR(e,a,n=0,s=1/0,r){if(a=Math.floor(a),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=a&&a<=s))return e;for(r=r===void 0?QR:Bae(r);s>n;){if(s-n>600){const m=s-n+1,h=a-n+1,f=Math.log(m),g=.5*Math.exp(2*f/3),b=.5*Math.sqrt(f*g*(m-g)/m)*(h-m/2<0?-1:1),y=Math.max(n,Math.floor(a-h*g/m+b)),j=Math.min(s,Math.floor(a+(m-h)*g/m+b));JR(e,a,y,j,r)}const l=e[a];let c=n,d=s;for(Dm(e,n,a),r(e[s],l)>0&&Dm(e,n,s);c<d;){for(Dm(e,c,d),++c,--d;r(e[c],l)<0;)++c;for(;r(e[d],l)>0;)--d}r(e[n],l)===0?Dm(e,n,d):(++d,Dm(e,d,s)),d<=a&&(n=d+1),a<=d&&(s=d-1)}return e}function Dm(e,a,n){const s=e[a];e[a]=e[n],e[n]=s}function Vae(e,a,n){if(e=Float64Array.from(Dae(e)),!(!(s=e.length)||isNaN(a=+a))){if(a<=0||s<2)return PT(e);if(a>=1)return ET(e);var s,r=(s-1)*a,l=Math.floor(r),c=ET(JR(e,l).subarray(0,l+1)),d=PT(e.subarray(l+1));return c+(d-c)*(r-l)}}function Hae(e,a,n=ZR){if(!(!(s=e.length)||isNaN(a=+a))){if(a<=0||s<2)return+n(e[0],0,e);if(a>=1)return+n(e[s-1],s-1,e);var s,r=(s-1)*a,l=Math.floor(r),c=+n(e[l],l,e),d=+n(e[l+1],l+1,e);return c+(d-c)*(r-l)}}function qae(e,a,n){e=+e,a=+a,n=(r=arguments.length)<2?(a=e,e=0,1):r<3?1:+n;for(var s=-1,r=Math.max(0,Math.ceil((a-e)/n))|0,l=new Array(r);++s<r;)l[s]=e+s*n;return l}function fr(e,a){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(a).domain(e);break}return this}function dl(e,a){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof a=="function"?this.interpolator(a):this.range(a);break}}return this}const u2=Symbol("implicit");function gS(){var e=new AT,a=[],n=[],s=u2;function r(l){let c=e.get(l);if(c===void 0){if(s!==u2)return s;e.set(l,c=a.push(l)-1)}return n[c%n.length]}return r.domain=function(l){if(!arguments.length)return a.slice();a=[],e=new AT;for(const c of l)e.has(c)||e.set(c,a.push(c)-1);return r},r.range=function(l){return arguments.length?(n=Array.from(l),r):n.slice()},r.unknown=function(l){return arguments.length?(s=l,r):s},r.copy=function(){return gS(a,n).unknown(s)},fr.apply(r,arguments),r}function bS(){var e=gS().unknown(void 0),a=e.domain,n=e.range,s=0,r=1,l,c,d=!1,m=0,h=0,f=.5;delete e.unknown;function g(){var b=a().length,y=r<s,j=y?r:s,w=y?s:r;l=(w-j)/Math.max(1,b-m+h*2),d&&(l=Math.floor(l)),j+=(w-j-l*(b-m))*f,c=l*(1-m),d&&(j=Math.round(j),c=Math.round(c));var N=qae(b).map(function(k){return j+l*k});return n(y?N.reverse():N)}return e.domain=function(b){return arguments.length?(a(b),g()):a()},e.range=function(b){return arguments.length?([s,r]=b,s=+s,r=+r,g()):[s,r]},e.rangeRound=function(b){return[s,r]=b,s=+s,r=+r,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(b){return arguments.length?(d=!!b,g()):d},e.padding=function(b){return arguments.length?(m=Math.min(1,h=+b),g()):m},e.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),g()):m},e.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},e.align=function(b){return arguments.length?(f=Math.max(0,Math.min(1,b)),g()):f},e.copy=function(){return bS(a(),[s,r]).round(d).paddingInner(m).paddingOuter(h).align(f)},fr.apply(g(),arguments)}function e$(e){var a=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return e$(a())},e}function Kae(){return e$(bS.apply(null,arguments).paddingInner(1))}function vS(e,a,n){e.prototype=a.prototype=n,n.constructor=e}function t$(e,a){var n=Object.create(e.prototype);for(var s in a)n[s]=a[s];return n}function ff(){}var Fh=.7,Pp=1/Fh,Hd="\\s*([+-]?\\d+)\\s*",Vh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gae=/^#([0-9a-f]{3,8})$/,Yae=new RegExp(`^rgb\\(${Hd},${Hd},${Hd}\\)$`),Wae=new RegExp(`^rgb\\(${di},${di},${di}\\)$`),Xae=new RegExp(`^rgba\\(${Hd},${Hd},${Hd},${Vh}\\)$`),Zae=new RegExp(`^rgba\\(${di},${di},${di},${Vh}\\)$`),Qae=new RegExp(`^hsl\\(${Vh},${di},${di}\\)$`),Jae=new RegExp(`^hsla\\(${Vh},${di},${di},${Vh}\\)$`),OT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vS(ff,Hh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MT,formatHex:MT,formatHex8:ene,formatHsl:tne,formatRgb:DT,toString:DT});function MT(){return this.rgb().formatHex()}function ene(){return this.rgb().formatHex8()}function tne(){return a$(this).formatHsl()}function DT(){return this.rgb().formatRgb()}function Hh(e){var a,n;return e=(e+"").trim().toLowerCase(),(a=Gae.exec(e))?(n=a[1].length,a=parseInt(a[1],16),n===6?RT(a):n===3?new ds(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):n===8?Q0(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):n===4?Q0(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=Yae.exec(e))?new ds(a[1],a[2],a[3],1):(a=Wae.exec(e))?new ds(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=Xae.exec(e))?Q0(a[1],a[2],a[3],a[4]):(a=Zae.exec(e))?Q0(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=Qae.exec(e))?IT(a[1],a[2]/100,a[3]/100,1):(a=Jae.exec(e))?IT(a[1],a[2]/100,a[3]/100,a[4]):OT.hasOwnProperty(e)?RT(OT[e]):e==="transparent"?new ds(NaN,NaN,NaN,0):null}function RT(e){return new ds(e>>16&255,e>>8&255,e&255,1)}function Q0(e,a,n,s){return s<=0&&(e=a=n=NaN),new ds(e,a,n,s)}function ane(e){return e instanceof ff||(e=Hh(e)),e?(e=e.rgb(),new ds(e.r,e.g,e.b,e.opacity)):new ds}function m2(e,a,n,s){return arguments.length===1?ane(e):new ds(e,a,n,s??1)}function ds(e,a,n,s){this.r=+e,this.g=+a,this.b=+n,this.opacity=+s}vS(ds,m2,t$(ff,{brighter(e){return e=e==null?Pp:Math.pow(Pp,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fh:Math.pow(Fh,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ds(fc(this.r),fc(this.g),fc(this.b),Op(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$T,formatHex:$T,formatHex8:nne,formatRgb:LT,toString:LT}));function $T(){return`#${ic(this.r)}${ic(this.g)}${ic(this.b)}`}function nne(){return`#${ic(this.r)}${ic(this.g)}${ic(this.b)}${ic((isNaN(this.opacity)?1:this.opacity)*255)}`}function LT(){const e=Op(this.opacity);return`${e===1?"rgb(":"rgba("}${fc(this.r)}, ${fc(this.g)}, ${fc(this.b)}${e===1?")":`, ${e})`}`}function Op(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ic(e){return e=fc(e),(e<16?"0":"")+e.toString(16)}function IT(e,a,n,s){return s<=0?e=a=n=NaN:n<=0||n>=1?e=a=NaN:a<=0&&(e=NaN),new Mr(e,a,n,s)}function a$(e){if(e instanceof Mr)return new Mr(e.h,e.s,e.l,e.opacity);if(e instanceof ff||(e=Hh(e)),!e)return new Mr;if(e instanceof Mr)return e;e=e.rgb();var a=e.r/255,n=e.g/255,s=e.b/255,r=Math.min(a,n,s),l=Math.max(a,n,s),c=NaN,d=l-r,m=(l+r)/2;return d?(a===l?c=(n-s)/d+(n<s)*6:n===l?c=(s-a)/d+2:c=(a-n)/d+4,d/=m<.5?l+r:2-l-r,c*=60):d=m>0&&m<1?0:c,new Mr(c,d,m,e.opacity)}function sne(e,a,n,s){return arguments.length===1?a$(e):new Mr(e,a,n,s??1)}function Mr(e,a,n,s){this.h=+e,this.s=+a,this.l=+n,this.opacity=+s}vS(Mr,sne,t$(ff,{brighter(e){return e=e==null?Pp:Math.pow(Pp,e),new Mr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fh:Math.pow(Fh,e),new Mr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,a=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*a,r=2*n-s;return new ds(X1(e>=240?e-240:e+120,r,s),X1(e,r,s),X1(e<120?e+240:e-120,r,s),this.opacity)},clamp(){return new Mr(BT(this.h),J0(this.s),J0(this.l),Op(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Op(this.opacity);return`${e===1?"hsl(":"hsla("}${BT(this.h)}, ${J0(this.s)*100}%, ${J0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BT(e){return e=(e||0)%360,e<0?e+360:e}function J0(e){return Math.max(0,Math.min(1,e||0))}function X1(e,a,n){return(e<60?a+(n-a)*e/60:e<180?n:e<240?a+(n-a)*(240-e)/60:a)*255}const yS=e=>()=>e;function rne(e,a){return function(n){return e+n*a}}function ine(e,a,n){return e=Math.pow(e,n),a=Math.pow(a,n)-e,n=1/n,function(s){return Math.pow(e+s*a,n)}}function lne(e){return(e=+e)==1?n$:function(a,n){return n-a?ine(a,n,e):yS(isNaN(a)?n:a)}}function n$(e,a){var n=a-e;return n?rne(e,n):yS(isNaN(e)?a:e)}const zT=function e(a){var n=lne(a);function s(r,l){var c=n((r=m2(r)).r,(l=m2(l)).r),d=n(r.g,l.g),m=n(r.b,l.b),h=n$(r.opacity,l.opacity);return function(f){return r.r=c(f),r.g=d(f),r.b=m(f),r.opacity=h(f),r+""}}return s.gamma=e,s}(1);function one(e,a){a||(a=[]);var n=e?Math.min(a.length,e.length):0,s=a.slice(),r;return function(l){for(r=0;r<n;++r)s[r]=e[r]*(1-l)+a[r]*l;return s}}function cne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dne(e,a){var n=a?a.length:0,s=e?Math.min(n,e.length):0,r=new Array(s),l=new Array(n),c;for(c=0;c<s;++c)r[c]=wu(e[c],a[c]);for(;c<n;++c)l[c]=a[c];return function(d){for(c=0;c<s;++c)l[c]=r[c](d);return l}}function une(e,a){var n=new Date;return e=+e,a=+a,function(s){return n.setTime(e*(1-s)+a*s),n}}function Mp(e,a){return e=+e,a=+a,function(n){return e*(1-n)+a*n}}function mne(e,a){var n={},s={},r;(e===null||typeof e!="object")&&(e={}),(a===null||typeof a!="object")&&(a={});for(r in a)r in e?n[r]=wu(e[r],a[r]):s[r]=a[r];return function(l){for(r in n)s[r]=n[r](l);return s}}var h2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Z1=new RegExp(h2.source,"g");function hne(e){return function(){return e}}function fne(e){return function(a){return e(a)+""}}function xne(e,a){var n=h2.lastIndex=Z1.lastIndex=0,s,r,l,c=-1,d=[],m=[];for(e=e+"",a=a+"";(s=h2.exec(e))&&(r=Z1.exec(a));)(l=r.index)>n&&(l=a.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(s=s[0])===(r=r[0])?d[c]?d[c]+=r:d[++c]=r:(d[++c]=null,m.push({i:c,x:Mp(s,r)})),n=Z1.lastIndex;return n<a.length&&(l=a.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?m[0]?fne(m[0].x):hne(a):(a=m.length,function(h){for(var f=0,g;f<a;++f)d[(g=m[f]).i]=g.x(h);return d.join("")})}function wu(e,a){var n=typeof a,s;return a==null||n==="boolean"?yS(a):(n==="number"?Mp:n==="string"?(s=Hh(a))?(a=s,zT):xne:a instanceof Hh?zT:a instanceof Date?une:cne(a)?one:Array.isArray(a)?dne:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?mne:Mp)(e,a)}function jS(e,a){return e=+e,a=+a,function(n){return Math.round(e*(1-n)+a*n)}}function pne(e,a){a===void 0&&(a=e,e=wu);for(var n=0,s=a.length-1,r=a[0],l=new Array(s<0?0:s);n<s;)l[n]=e(r,r=a[++n]);return function(c){var d=Math.max(0,Math.min(s-1,Math.floor(c*=s)));return l[d](c-d)}}function gne(e){return function(){return e}}function Dp(e){return+e}var UT=[0,1];function Xn(e){return e}function f2(e,a){return(a-=e=+e)?function(n){return(n-e)/a}:gne(isNaN(a)?NaN:.5)}function bne(e,a){var n;return e>a&&(n=e,e=a,a=n),function(s){return Math.max(e,Math.min(a,s))}}function vne(e,a,n){var s=e[0],r=e[1],l=a[0],c=a[1];return r<s?(s=f2(r,s),l=n(c,l)):(s=f2(s,r),l=n(l,c)),function(d){return l(s(d))}}function yne(e,a,n){var s=Math.min(e.length,a.length)-1,r=new Array(s),l=new Array(s),c=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),a=a.slice().reverse());++c<s;)r[c]=f2(e[c],e[c+1]),l[c]=n(a[c],a[c+1]);return function(d){var m=hf(e,d,1,s)-1;return l[m](r[m](d))}}function xf(e,a){return a.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pg(){var e=UT,a=UT,n=wu,s,r,l,c=Xn,d,m,h;function f(){var b=Math.min(e.length,a.length);return c!==Xn&&(c=bne(e[0],e[b-1])),d=b>2?yne:vne,m=h=null,g}function g(b){return b==null||isNaN(b=+b)?l:(m||(m=d(e.map(s),a,n)))(s(c(b)))}return g.invert=function(b){return c(r((h||(h=d(a,e.map(s),Mp)))(b)))},g.domain=function(b){return arguments.length?(e=Array.from(b,Dp),f()):e.slice()},g.range=function(b){return arguments.length?(a=Array.from(b),f()):a.slice()},g.rangeRound=function(b){return a=Array.from(b),n=jS,f()},g.clamp=function(b){return arguments.length?(c=b?!0:Xn,f()):c!==Xn},g.interpolate=function(b){return arguments.length?(n=b,f()):n},g.unknown=function(b){return arguments.length?(l=b,g):l},function(b,y){return s=b,r=y,f()}}function wS(){return Pg()(Xn,Xn)}function jne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rp(e,a){if((n=(e=a?e.toExponential(a-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function iu(e){return e=Rp(Math.abs(e)),e?e[1]:NaN}function wne(e,a){return function(n,s){for(var r=n.length,l=[],c=0,d=e[0],m=0;r>0&&d>0&&(m+d+1>s&&(d=Math.max(1,s-m)),l.push(n.substring(r-=d,r+d)),!((m+=d+1)>s));)d=e[c=(c+1)%e.length];return l.reverse().join(a)}}function Nne(e){return function(a){return a.replace(/[0-9]/g,function(n){return e[+n]})}}var Sne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qh(e){if(!(a=Sne.exec(e)))throw new Error("invalid format: "+e);var a;return new NS({fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:a[6],comma:a[7],precision:a[8]&&a[8].slice(1),trim:a[9],type:a[10]})}qh.prototype=NS.prototype;function NS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}NS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _ne(e){e:for(var a=e.length,n=1,s=-1,r;n<a;++n)switch(e[n]){case".":s=r=n;break;case"0":s===0&&(s=n),r=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(r+1):e}var s$;function kne(e,a){var n=Rp(e,a);if(!n)return e+"";var s=n[0],r=n[1],l=r-(s$=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,c=s.length;return l===c?s:l>c?s+new Array(l-c+1).join("0"):l>0?s.slice(0,l)+"."+s.slice(l):"0."+new Array(1-l).join("0")+Rp(e,Math.max(0,a+l-1))[0]}function FT(e,a){var n=Rp(e,a);if(!n)return e+"";var s=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+s:s.length>r+1?s.slice(0,r+1)+"."+s.slice(r+1):s+new Array(r-s.length+2).join("0")}const VT={"%":(e,a)=>(e*100).toFixed(a),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jne,e:(e,a)=>e.toExponential(a),f:(e,a)=>e.toFixed(a),g:(e,a)=>e.toPrecision(a),o:e=>Math.round(e).toString(8),p:(e,a)=>FT(e*100,a),r:FT,s:kne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function HT(e){return e}var qT=Array.prototype.map,KT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cne(e){var a=e.grouping===void 0||e.thousands===void 0?HT:wne(qT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?HT:Nne(qT.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function h(g){g=qh(g);var b=g.fill,y=g.align,j=g.sign,w=g.symbol,N=g.zero,k=g.width,_=g.comma,C=g.precision,O=g.trim,P=g.type;P==="n"?(_=!0,P="g"):VT[P]||(C===void 0&&(C=12),O=!0,P="g"),(N||b==="0"&&y==="=")&&(N=!0,b="0",y="=");var E=w==="$"?n:w==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",B=w==="$"?s:/[%p]/.test(P)?c:"",M=VT[P],V=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function G(H){var F=E,ie=B,_e,ce,T;if(P==="c")ie=M(H)+ie,H="";else{H=+H;var K=H<0||1/H<0;if(H=isNaN(H)?m:M(Math.abs(H),C),O&&(H=_ne(H)),K&&+H==0&&j!=="+"&&(K=!1),F=(K?j==="("?j:d:j==="-"||j==="("?"":j)+F,ie=(P==="s"?KT[8+s$/3]:"")+ie+(K&&j==="("?")":""),V){for(_e=-1,ce=H.length;++_e<ce;)if(T=H.charCodeAt(_e),48>T||T>57){ie=(T===46?r+H.slice(_e+1):H.slice(_e))+ie,H=H.slice(0,_e);break}}}_&&!N&&(H=a(H,1/0));var W=F.length+H.length+ie.length,I=W<k?new Array(k-W+1).join(b):"";switch(_&&N&&(H=a(I+H,I.length?k-ie.length:1/0),I=""),y){case"<":H=F+H+ie+I;break;case"=":H=F+I+H+ie;break;case"^":H=I.slice(0,W=I.length>>1)+F+H+ie+I.slice(W);break;default:H=I+F+H+ie;break}return l(H)}return G.toString=function(){return g+""},G}function f(g,b){var y=h((g=qh(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(iu(b)/3)))*3,w=Math.pow(10,-j),N=KT[8+j/3];return function(k){return y(w*k)+N}}return{format:h,formatPrefix:f}}var ex,SS,r$;Ane({thousands:",",grouping:[3],currency:["$",""]});function Ane(e){return ex=Cne(e),SS=ex.format,r$=ex.formatPrefix,ex}function Tne(e){return Math.max(0,-iu(Math.abs(e)))}function Ene(e,a){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(iu(a)/3)))*3-iu(Math.abs(e)))}function Pne(e,a){return e=Math.abs(e),a=Math.abs(a)-e,Math.max(0,iu(a)-iu(e))+1}function i$(e,a,n,s){var r=d2(e,a,n),l;switch(s=qh(s??",f"),s.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(a));return s.precision==null&&!isNaN(l=Ene(r,c))&&(s.precision=l),r$(s,c)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(l=Pne(r,Math.max(Math.abs(e),Math.abs(a))))&&(s.precision=l-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(l=Tne(r))&&(s.precision=l-(s.type==="%")*2);break}}return SS(s)}function ho(e){var a=e.domain;return e.ticks=function(n){var s=a();return o2(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var r=a();return i$(r[0],r[r.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=a(),r=0,l=s.length-1,c=s[r],d=s[l],m,h,f=10;for(d<c&&(h=c,c=d,d=h,h=r,r=l,l=h);f-- >0;){if(h=c2(c,d,n),h===m)return s[r]=c,s[l]=d,a(s);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;m=h}return e},e}function l$(){var e=wS();return e.copy=function(){return xf(e,l$())},fr.apply(e,arguments),ho(e)}function o$(e){var a;function n(s){return s==null||isNaN(s=+s)?a:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,Dp),n):e.slice()},n.unknown=function(s){return arguments.length?(a=s,n):a},n.copy=function(){return o$(e).unknown(a)},e=arguments.length?Array.from(e,Dp):[0,1],ho(n)}function c$(e,a){e=e.slice();var n=0,s=e.length-1,r=e[n],l=e[s],c;return l<r&&(c=n,n=s,s=c,c=r,r=l,l=c),e[n]=a.floor(r),e[s]=a.ceil(l),e}function GT(e){return Math.log(e)}function YT(e){return Math.exp(e)}function One(e){return-Math.log(-e)}function Mne(e){return-Math.exp(-e)}function Dne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Rne(e){return e===10?Dne:e===Math.E?Math.exp:a=>Math.pow(e,a)}function $ne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),a=>Math.log(a)/e)}function WT(e){return(a,n)=>-e(-a,n)}function _S(e){const a=e(GT,YT),n=a.domain;let s=10,r,l;function c(){return r=$ne(s),l=Rne(s),n()[0]<0?(r=WT(r),l=WT(l),e(One,Mne)):e(GT,YT),a}return a.base=function(d){return arguments.length?(s=+d,c()):s},a.domain=function(d){return arguments.length?(n(d),c()):n()},a.ticks=d=>{const m=n();let h=m[0],f=m[m.length-1];const g=f<h;g&&([h,f]=[f,h]);let b=r(h),y=r(f),j,w;const N=d==null?10:+d;let k=[];if(!(s%1)&&y-b<N){if(b=Math.floor(b),y=Math.ceil(y),h>0){for(;b<=y;++b)for(j=1;j<s;++j)if(w=b<0?j/l(-b):j*l(b),!(w<h)){if(w>f)break;k.push(w)}}else for(;b<=y;++b)for(j=s-1;j>=1;--j)if(w=b>0?j/l(-b):j*l(b),!(w<h)){if(w>f)break;k.push(w)}k.length*2<N&&(k=o2(h,f,N))}else k=o2(b,y,Math.min(y-b,N)).map(l);return g?k.reverse():k},a.tickFormat=(d,m)=>{if(d==null&&(d=10),m==null&&(m=s===10?"s":","),typeof m!="function"&&(!(s%1)&&(m=qh(m)).precision==null&&(m.trim=!0),m=SS(m)),d===1/0)return m;const h=Math.max(1,s*d/a.ticks().length);return f=>{let g=f/l(Math.round(r(f)));return g*s<s-.5&&(g*=s),g<=h?m(f):""}},a.nice=()=>n(c$(n(),{floor:d=>l(Math.floor(r(d))),ceil:d=>l(Math.ceil(r(d)))})),a}function d$(){const e=_S(Pg()).domain([1,10]);return e.copy=()=>xf(e,d$()).base(e.base()),fr.apply(e,arguments),e}function XT(e){return function(a){return Math.sign(a)*Math.log1p(Math.abs(a/e))}}function ZT(e){return function(a){return Math.sign(a)*Math.expm1(Math.abs(a))*e}}function kS(e){var a=1,n=e(XT(a),ZT(a));return n.constant=function(s){return arguments.length?e(XT(a=+s),ZT(a)):a},ho(n)}function u$(){var e=kS(Pg());return e.copy=function(){return xf(e,u$()).constant(e.constant())},fr.apply(e,arguments)}function QT(e){return function(a){return a<0?-Math.pow(-a,e):Math.pow(a,e)}}function Lne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ine(e){return e<0?-e*e:e*e}function CS(e){var a=e(Xn,Xn),n=1;function s(){return n===1?e(Xn,Xn):n===.5?e(Lne,Ine):e(QT(n),QT(1/n))}return a.exponent=function(r){return arguments.length?(n=+r,s()):n},ho(a)}function AS(){var e=CS(Pg());return e.copy=function(){return xf(e,AS()).exponent(e.exponent())},fr.apply(e,arguments),e}function Bne(){return AS.apply(null,arguments).exponent(.5)}function JT(e){return Math.sign(e)*e*e}function zne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function m$(){var e=wS(),a=[0,1],n=!1,s;function r(l){var c=zne(e(l));return isNaN(c)?s:n?Math.round(c):c}return r.invert=function(l){return e.invert(JT(l))},r.domain=function(l){return arguments.length?(e.domain(l),r):e.domain()},r.range=function(l){return arguments.length?(e.range((a=Array.from(l,Dp)).map(JT)),r):a.slice()},r.rangeRound=function(l){return r.range(l).round(!0)},r.round=function(l){return arguments.length?(n=!!l,r):n},r.clamp=function(l){return arguments.length?(e.clamp(l),r):e.clamp()},r.unknown=function(l){return arguments.length?(s=l,r):s},r.copy=function(){return m$(e.domain(),a).round(n).clamp(e.clamp()).unknown(s)},fr.apply(r,arguments),ho(r)}function h$(){var e=[],a=[],n=[],s;function r(){var c=0,d=Math.max(1,a.length);for(n=new Array(d-1);++c<d;)n[c-1]=Hae(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?s:a[hf(n,c)]}return l.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(to),r()},l.range=function(c){return arguments.length?(a=Array.from(c),r()):a.slice()},l.unknown=function(c){return arguments.length?(s=c,l):s},l.quantiles=function(){return n.slice()},l.copy=function(){return h$().domain(e).range(a).unknown(s)},fr.apply(l,arguments)}function f$(){var e=0,a=1,n=1,s=[.5],r=[0,1],l;function c(m){return m!=null&&m<=m?r[hf(s,m,0,n)]:l}function d(){var m=-1;for(s=new Array(n);++m<n;)s[m]=((m+1)*a-(m-n)*e)/(n+1);return c}return c.domain=function(m){return arguments.length?([e,a]=m,e=+e,a=+a,d()):[e,a]},c.range=function(m){return arguments.length?(n=(r=Array.from(m)).length-1,d()):r.slice()},c.invertExtent=function(m){var h=r.indexOf(m);return h<0?[NaN,NaN]:h<1?[e,s[0]]:h>=n?[s[n-1],a]:[s[h-1],s[h]]},c.unknown=function(m){return arguments.length&&(l=m),c},c.thresholds=function(){return s.slice()},c.copy=function(){return f$().domain([e,a]).range(r).unknown(l)},fr.apply(ho(c),arguments)}function x$(){var e=[.5],a=[0,1],n,s=1;function r(l){return l!=null&&l<=l?a[hf(e,l,0,s)]:n}return r.domain=function(l){return arguments.length?(e=Array.from(l),s=Math.min(e.length,a.length-1),r):e.slice()},r.range=function(l){return arguments.length?(a=Array.from(l),s=Math.min(e.length,a.length-1),r):a.slice()},r.invertExtent=function(l){var c=a.indexOf(l);return[e[c-1],e[c]]},r.unknown=function(l){return arguments.length?(n=l,r):n},r.copy=function(){return x$().domain(e).range(a).unknown(n)},fr.apply(r,arguments)}const Q1=new Date,J1=new Date;function Qa(e,a,n,s){function r(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return r.floor=l=>(e(l=new Date(+l)),l),r.ceil=l=>(e(l=new Date(l-1)),a(l,1),e(l),l),r.round=l=>{const c=r(l),d=r.ceil(l);return l-c<d-l?c:d},r.offset=(l,c)=>(a(l=new Date(+l),c==null?1:Math.floor(c)),l),r.range=(l,c,d)=>{const m=[];if(l=r.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return m;let h;do m.push(h=new Date(+l)),a(l,d),e(l);while(h<l&&l<c);return m},r.filter=l=>Qa(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;a(c,-1),!l(c););else for(;--d>=0;)for(;a(c,1),!l(c););}),n&&(r.count=(l,c)=>(Q1.setTime(+l),J1.setTime(+c),e(Q1),e(J1),Math.floor(n(Q1,J1))),r.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?r.filter(s?c=>s(c)%l===0:c=>r.count(0,c)%l===0):r)),r}const $p=Qa(()=>{},(e,a)=>{e.setTime(+e+a)},(e,a)=>a-e);$p.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qa(a=>{a.setTime(Math.floor(a/e)*e)},(a,n)=>{a.setTime(+a+n*e)},(a,n)=>(n-a)/e):$p);$p.range;const Fi=1e3,ir=Fi*60,Vi=ir*60,nl=Vi*24,TS=nl*7,eE=nl*30,ej=nl*365,lc=Qa(e=>{e.setTime(e-e.getMilliseconds())},(e,a)=>{e.setTime(+e+a*Fi)},(e,a)=>(a-e)/Fi,e=>e.getUTCSeconds());lc.range;const ES=Qa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fi)},(e,a)=>{e.setTime(+e+a*ir)},(e,a)=>(a-e)/ir,e=>e.getMinutes());ES.range;const PS=Qa(e=>{e.setUTCSeconds(0,0)},(e,a)=>{e.setTime(+e+a*ir)},(e,a)=>(a-e)/ir,e=>e.getUTCMinutes());PS.range;const OS=Qa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fi-e.getMinutes()*ir)},(e,a)=>{e.setTime(+e+a*Vi)},(e,a)=>(a-e)/Vi,e=>e.getHours());OS.range;const MS=Qa(e=>{e.setUTCMinutes(0,0,0)},(e,a)=>{e.setTime(+e+a*Vi)},(e,a)=>(a-e)/Vi,e=>e.getUTCHours());MS.range;const pf=Qa(e=>e.setHours(0,0,0,0),(e,a)=>e.setDate(e.getDate()+a),(e,a)=>(a-e-(a.getTimezoneOffset()-e.getTimezoneOffset())*ir)/nl,e=>e.getDate()-1);pf.range;const Og=Qa(e=>{e.setUTCHours(0,0,0,0)},(e,a)=>{e.setUTCDate(e.getUTCDate()+a)},(e,a)=>(a-e)/nl,e=>e.getUTCDate()-1);Og.range;const p$=Qa(e=>{e.setUTCHours(0,0,0,0)},(e,a)=>{e.setUTCDate(e.getUTCDate()+a)},(e,a)=>(a-e)/nl,e=>Math.floor(e/nl));p$.range;function Cc(e){return Qa(a=>{a.setDate(a.getDate()-(a.getDay()+7-e)%7),a.setHours(0,0,0,0)},(a,n)=>{a.setDate(a.getDate()+n*7)},(a,n)=>(n-a-(n.getTimezoneOffset()-a.getTimezoneOffset())*ir)/TS)}const Mg=Cc(0),Lp=Cc(1),Une=Cc(2),Fne=Cc(3),lu=Cc(4),Vne=Cc(5),Hne=Cc(6);Mg.range;Lp.range;Une.range;Fne.range;lu.range;Vne.range;Hne.range;function Ac(e){return Qa(a=>{a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-e)%7),a.setUTCHours(0,0,0,0)},(a,n)=>{a.setUTCDate(a.getUTCDate()+n*7)},(a,n)=>(n-a)/TS)}const Dg=Ac(0),Ip=Ac(1),qne=Ac(2),Kne=Ac(3),ou=Ac(4),Gne=Ac(5),Yne=Ac(6);Dg.range;Ip.range;qne.range;Kne.range;ou.range;Gne.range;Yne.range;const DS=Qa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,a)=>{e.setMonth(e.getMonth()+a)},(e,a)=>a.getMonth()-e.getMonth()+(a.getFullYear()-e.getFullYear())*12,e=>e.getMonth());DS.range;const RS=Qa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,a)=>{e.setUTCMonth(e.getUTCMonth()+a)},(e,a)=>a.getUTCMonth()-e.getUTCMonth()+(a.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());RS.range;const sl=Qa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,a)=>{e.setFullYear(e.getFullYear()+a)},(e,a)=>a.getFullYear()-e.getFullYear(),e=>e.getFullYear());sl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qa(a=>{a.setFullYear(Math.floor(a.getFullYear()/e)*e),a.setMonth(0,1),a.setHours(0,0,0,0)},(a,n)=>{a.setFullYear(a.getFullYear()+n*e)});sl.range;const rl=Qa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,a)=>{e.setUTCFullYear(e.getUTCFullYear()+a)},(e,a)=>a.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qa(a=>{a.setUTCFullYear(Math.floor(a.getUTCFullYear()/e)*e),a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,n)=>{a.setUTCFullYear(a.getUTCFullYear()+n*e)});rl.range;function g$(e,a,n,s,r,l){const c=[[lc,1,Fi],[lc,5,5*Fi],[lc,15,15*Fi],[lc,30,30*Fi],[l,1,ir],[l,5,5*ir],[l,15,15*ir],[l,30,30*ir],[r,1,Vi],[r,3,3*Vi],[r,6,6*Vi],[r,12,12*Vi],[s,1,nl],[s,2,2*nl],[n,1,TS],[a,1,eE],[a,3,3*eE],[e,1,ej]];function d(h,f,g){const b=f<h;b&&([h,f]=[f,h]);const y=g&&typeof g.range=="function"?g:m(h,f,g),j=y?y.range(h,+f+1):[];return b?j.reverse():j}function m(h,f,g){const b=Math.abs(f-h)/g,y=pS(([,,N])=>N).right(c,b);if(y===c.length)return e.every(d2(h/ej,f/ej,g));if(y===0)return $p.every(Math.max(d2(h,f,g),1));const[j,w]=c[b/c[y-1][2]<c[y][2]/b?y-1:y];return j.every(w)}return[d,m]}const[Wne,Xne]=g$(rl,RS,Dg,p$,MS,PS),[Zne,Qne]=g$(sl,DS,Mg,pf,OS,ES);function tj(e){if(0<=e.y&&e.y<100){var a=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return a.setFullYear(e.y),a}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function aj(e){if(0<=e.y&&e.y<100){var a=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return a.setUTCFullYear(e.y),a}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rm(e,a,n){return{y:e,m:a,d:n,H:0,M:0,S:0,L:0}}function Jne(e){var a=e.dateTime,n=e.date,s=e.time,r=e.periods,l=e.days,c=e.shortDays,d=e.months,m=e.shortMonths,h=$m(r),f=Lm(r),g=$m(l),b=Lm(l),y=$m(c),j=Lm(c),w=$m(d),N=Lm(d),k=$m(m),_=Lm(m),C={a:K,A:W,b:I,B:A,c:null,d:iE,e:iE,f:wse,g:Ose,G:Dse,H:vse,I:yse,j:jse,L:b$,m:Nse,M:Sse,p:$,q:z,Q:cE,s:dE,S:_se,u:kse,U:Cse,V:Ase,w:Tse,W:Ese,x:null,X:null,y:Pse,Y:Mse,Z:Rse,"%":oE},O={a:X,A:ge,b:te,B:J,c:null,d:lE,e:lE,f:Bse,g:Wse,G:Zse,H:$se,I:Lse,j:Ise,L:y$,m:zse,M:Use,p:Ce,q:se,Q:cE,s:dE,S:Fse,u:Vse,U:Hse,V:qse,w:Kse,W:Gse,x:null,X:null,y:Yse,Y:Xse,Z:Qse,"%":oE},P={a:G,A:H,b:F,B:ie,c:_e,d:sE,e:sE,f:xse,g:nE,G:aE,H:rE,I:rE,j:use,L:fse,m:dse,M:mse,p:V,q:cse,Q:gse,s:bse,S:hse,u:sse,U:rse,V:ise,w:nse,W:lse,x:ce,X:T,y:nE,Y:aE,Z:ose,"%":pse};C.x=E(n,C),C.X=E(s,C),C.c=E(a,C),O.x=E(n,O),O.X=E(s,O),O.c=E(a,O);function E(Se,De){return function(Me){var ye=[],Ye=-1,Ke=0,we=Se.length,ue,Ae,U;for(Me instanceof Date||(Me=new Date(+Me));++Ye<we;)Se.charCodeAt(Ye)===37&&(ye.push(Se.slice(Ke,Ye)),(Ae=tE[ue=Se.charAt(++Ye)])!=null?ue=Se.charAt(++Ye):Ae=ue==="e"?" ":"0",(U=De[ue])&&(ue=U(Me,Ae)),ye.push(ue),Ke=Ye+1);return ye.push(Se.slice(Ke,Ye)),ye.join("")}}function B(Se,De){return function(Me){var ye=Rm(1900,void 0,1),Ye=M(ye,Se,Me+="",0),Ke,we;if(Ye!=Me.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(De&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Ke=aj(Rm(ye.y,0,1)),we=Ke.getUTCDay(),Ke=we>4||we===0?Ip.ceil(Ke):Ip(Ke),Ke=Og.offset(Ke,(ye.V-1)*7),ye.y=Ke.getUTCFullYear(),ye.m=Ke.getUTCMonth(),ye.d=Ke.getUTCDate()+(ye.w+6)%7):(Ke=tj(Rm(ye.y,0,1)),we=Ke.getDay(),Ke=we>4||we===0?Lp.ceil(Ke):Lp(Ke),Ke=pf.offset(Ke,(ye.V-1)*7),ye.y=Ke.getFullYear(),ye.m=Ke.getMonth(),ye.d=Ke.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),we="Z"in ye?aj(Rm(ye.y,0,1)).getUTCDay():tj(Rm(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(we+5)%7:ye.w+ye.U*7-(we+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,aj(ye)):tj(ye)}}function M(Se,De,Me,ye){for(var Ye=0,Ke=De.length,we=Me.length,ue,Ae;Ye<Ke;){if(ye>=we)return-1;if(ue=De.charCodeAt(Ye++),ue===37){if(ue=De.charAt(Ye++),Ae=P[ue in tE?De.charAt(Ye++):ue],!Ae||(ye=Ae(Se,Me,ye))<0)return-1}else if(ue!=Me.charCodeAt(ye++))return-1}return ye}function V(Se,De,Me){var ye=h.exec(De.slice(Me));return ye?(Se.p=f.get(ye[0].toLowerCase()),Me+ye[0].length):-1}function G(Se,De,Me){var ye=y.exec(De.slice(Me));return ye?(Se.w=j.get(ye[0].toLowerCase()),Me+ye[0].length):-1}function H(Se,De,Me){var ye=g.exec(De.slice(Me));return ye?(Se.w=b.get(ye[0].toLowerCase()),Me+ye[0].length):-1}function F(Se,De,Me){var ye=k.exec(De.slice(Me));return ye?(Se.m=_.get(ye[0].toLowerCase()),Me+ye[0].length):-1}function ie(Se,De,Me){var ye=w.exec(De.slice(Me));return ye?(Se.m=N.get(ye[0].toLowerCase()),Me+ye[0].length):-1}function _e(Se,De,Me){return M(Se,a,De,Me)}function ce(Se,De,Me){return M(Se,n,De,Me)}function T(Se,De,Me){return M(Se,s,De,Me)}function K(Se){return c[Se.getDay()]}function W(Se){return l[Se.getDay()]}function I(Se){return m[Se.getMonth()]}function A(Se){return d[Se.getMonth()]}function $(Se){return r[+(Se.getHours()>=12)]}function z(Se){return 1+~~(Se.getMonth()/3)}function X(Se){return c[Se.getUTCDay()]}function ge(Se){return l[Se.getUTCDay()]}function te(Se){return m[Se.getUTCMonth()]}function J(Se){return d[Se.getUTCMonth()]}function Ce(Se){return r[+(Se.getUTCHours()>=12)]}function se(Se){return 1+~~(Se.getUTCMonth()/3)}return{format:function(Se){var De=E(Se+="",C);return De.toString=function(){return Se},De},parse:function(Se){var De=B(Se+="",!1);return De.toString=function(){return Se},De},utcFormat:function(Se){var De=E(Se+="",O);return De.toString=function(){return Se},De},utcParse:function(Se){var De=B(Se+="",!0);return De.toString=function(){return Se},De}}}var tE={"-":"",_:" ",0:"0"},fn=/^\s*\d+/,ese=/^%/,tse=/[\\^$*+?|[\]().{}]/g;function zt(e,a,n){var s=e<0?"-":"",r=(s?-e:e)+"",l=r.length;return s+(l<n?new Array(n-l+1).join(a)+r:r)}function ase(e){return e.replace(tse,"\\$&")}function $m(e){return new RegExp("^(?:"+e.map(ase).join("|")+")","i")}function Lm(e){return new Map(e.map((a,n)=>[a.toLowerCase(),n]))}function nse(e,a,n){var s=fn.exec(a.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function sse(e,a,n){var s=fn.exec(a.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function rse(e,a,n){var s=fn.exec(a.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function ise(e,a,n){var s=fn.exec(a.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function lse(e,a,n){var s=fn.exec(a.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function aE(e,a,n){var s=fn.exec(a.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function nE(e,a,n){var s=fn.exec(a.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function ose(e,a,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(a.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function cse(e,a,n){var s=fn.exec(a.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function dse(e,a,n){var s=fn.exec(a.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function sE(e,a,n){var s=fn.exec(a.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function use(e,a,n){var s=fn.exec(a.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function rE(e,a,n){var s=fn.exec(a.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function mse(e,a,n){var s=fn.exec(a.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function hse(e,a,n){var s=fn.exec(a.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function fse(e,a,n){var s=fn.exec(a.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function xse(e,a,n){var s=fn.exec(a.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function pse(e,a,n){var s=ese.exec(a.slice(n,n+1));return s?n+s[0].length:-1}function gse(e,a,n){var s=fn.exec(a.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function bse(e,a,n){var s=fn.exec(a.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function iE(e,a){return zt(e.getDate(),a,2)}function vse(e,a){return zt(e.getHours(),a,2)}function yse(e,a){return zt(e.getHours()%12||12,a,2)}function jse(e,a){return zt(1+pf.count(sl(e),e),a,3)}function b$(e,a){return zt(e.getMilliseconds(),a,3)}function wse(e,a){return b$(e,a)+"000"}function Nse(e,a){return zt(e.getMonth()+1,a,2)}function Sse(e,a){return zt(e.getMinutes(),a,2)}function _se(e,a){return zt(e.getSeconds(),a,2)}function kse(e){var a=e.getDay();return a===0?7:a}function Cse(e,a){return zt(Mg.count(sl(e)-1,e),a,2)}function v$(e){var a=e.getDay();return a>=4||a===0?lu(e):lu.ceil(e)}function Ase(e,a){return e=v$(e),zt(lu.count(sl(e),e)+(sl(e).getDay()===4),a,2)}function Tse(e){return e.getDay()}function Ese(e,a){return zt(Lp.count(sl(e)-1,e),a,2)}function Pse(e,a){return zt(e.getFullYear()%100,a,2)}function Ose(e,a){return e=v$(e),zt(e.getFullYear()%100,a,2)}function Mse(e,a){return zt(e.getFullYear()%1e4,a,4)}function Dse(e,a){var n=e.getDay();return e=n>=4||n===0?lu(e):lu.ceil(e),zt(e.getFullYear()%1e4,a,4)}function Rse(e){var a=e.getTimezoneOffset();return(a>0?"-":(a*=-1,"+"))+zt(a/60|0,"0",2)+zt(a%60,"0",2)}function lE(e,a){return zt(e.getUTCDate(),a,2)}function $se(e,a){return zt(e.getUTCHours(),a,2)}function Lse(e,a){return zt(e.getUTCHours()%12||12,a,2)}function Ise(e,a){return zt(1+Og.count(rl(e),e),a,3)}function y$(e,a){return zt(e.getUTCMilliseconds(),a,3)}function Bse(e,a){return y$(e,a)+"000"}function zse(e,a){return zt(e.getUTCMonth()+1,a,2)}function Use(e,a){return zt(e.getUTCMinutes(),a,2)}function Fse(e,a){return zt(e.getUTCSeconds(),a,2)}function Vse(e){var a=e.getUTCDay();return a===0?7:a}function Hse(e,a){return zt(Dg.count(rl(e)-1,e),a,2)}function j$(e){var a=e.getUTCDay();return a>=4||a===0?ou(e):ou.ceil(e)}function qse(e,a){return e=j$(e),zt(ou.count(rl(e),e)+(rl(e).getUTCDay()===4),a,2)}function Kse(e){return e.getUTCDay()}function Gse(e,a){return zt(Ip.count(rl(e)-1,e),a,2)}function Yse(e,a){return zt(e.getUTCFullYear()%100,a,2)}function Wse(e,a){return e=j$(e),zt(e.getUTCFullYear()%100,a,2)}function Xse(e,a){return zt(e.getUTCFullYear()%1e4,a,4)}function Zse(e,a){var n=e.getUTCDay();return e=n>=4||n===0?ou(e):ou.ceil(e),zt(e.getUTCFullYear()%1e4,a,4)}function Qse(){return"+0000"}function oE(){return"%"}function cE(e){return+e}function dE(e){return Math.floor(+e/1e3)}var ud,w$,N$;Jse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jse(e){return ud=Jne(e),w$=ud.format,ud.parse,N$=ud.utcFormat,ud.utcParse,ud}function ere(e){return new Date(e)}function tre(e){return e instanceof Date?+e:+new Date(+e)}function $S(e,a,n,s,r,l,c,d,m,h){var f=wS(),g=f.invert,b=f.domain,y=h(".%L"),j=h(":%S"),w=h("%I:%M"),N=h("%I %p"),k=h("%a %d"),_=h("%b %d"),C=h("%B"),O=h("%Y");function P(E){return(m(E)<E?y:d(E)<E?j:c(E)<E?w:l(E)<E?N:s(E)<E?r(E)<E?k:_:n(E)<E?C:O)(E)}return f.invert=function(E){return new Date(g(E))},f.domain=function(E){return arguments.length?b(Array.from(E,tre)):b().map(ere)},f.ticks=function(E){var B=b();return e(B[0],B[B.length-1],E??10)},f.tickFormat=function(E,B){return B==null?P:h(B)},f.nice=function(E){var B=b();return(!E||typeof E.range!="function")&&(E=a(B[0],B[B.length-1],E??10)),E?b(c$(B,E)):f},f.copy=function(){return xf(f,$S(e,a,n,s,r,l,c,d,m,h))},f}function are(){return fr.apply($S(Zne,Qne,sl,DS,Mg,pf,OS,ES,lc,w$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nre(){return fr.apply($S(Wne,Xne,rl,RS,Dg,Og,MS,PS,lc,N$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rg(){var e=0,a=1,n,s,r,l,c=Xn,d=!1,m;function h(g){return g==null||isNaN(g=+g)?m:c(r===0?.5:(g=(l(g)-n)*r,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,a]=g,n=l(e=+e),s=l(a=+a),r=n===s?0:1/(s-n),h):[e,a]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function f(g){return function(b){var y,j;return arguments.length?([y,j]=b,c=g(y,j),h):[c(0),c(1)]}}return h.range=f(wu),h.rangeRound=f(jS),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return l=g,n=g(e),s=g(a),r=n===s?0:1/(s-n),h}}function fo(e,a){return a.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function S$(){var e=ho(Rg()(Xn));return e.copy=function(){return fo(e,S$())},dl.apply(e,arguments)}function _$(){var e=_S(Rg()).domain([1,10]);return e.copy=function(){return fo(e,_$()).base(e.base())},dl.apply(e,arguments)}function k$(){var e=kS(Rg());return e.copy=function(){return fo(e,k$()).constant(e.constant())},dl.apply(e,arguments)}function LS(){var e=CS(Rg());return e.copy=function(){return fo(e,LS()).exponent(e.exponent())},dl.apply(e,arguments)}function sre(){return LS.apply(null,arguments).exponent(.5)}function C$(){var e=[],a=Xn;function n(s){if(s!=null&&!isNaN(s=+s))return a((hf(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let r of s)r!=null&&!isNaN(r=+r)&&e.push(r);return e.sort(to),n},n.interpolator=function(s){return arguments.length?(a=s,n):a},n.range=function(){return e.map((s,r)=>a(r/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(r,l)=>Vae(e,l/s))},n.copy=function(){return C$(a).domain(e)},dl.apply(n,arguments)}function $g(){var e=0,a=.5,n=1,s=1,r,l,c,d,m,h=Xn,f,g=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+f(w))-l)*(s*w<s*l?d:m),h(g?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,a,n]=w,r=f(e=+e),l=f(a=+a),c=f(n=+n),d=r===l?0:.5/(l-r),m=l===c?0:.5/(c-l),s=l<r?-1:1,y):[e,a,n]},y.clamp=function(w){return arguments.length?(g=!!w,y):g},y.interpolator=function(w){return arguments.length?(h=w,y):h};function j(w){return function(N){var k,_,C;return arguments.length?([k,_,C]=N,h=pne(w,[k,_,C]),y):[h(0),h(.5),h(1)]}}return y.range=j(wu),y.rangeRound=j(jS),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return f=w,r=w(e),l=w(a),c=w(n),d=r===l?0:.5/(l-r),m=l===c?0:.5/(c-l),s=l<r?-1:1,y}}function A$(){var e=ho($g()(Xn));return e.copy=function(){return fo(e,A$())},dl.apply(e,arguments)}function T$(){var e=_S($g()).domain([.1,1,10]);return e.copy=function(){return fo(e,T$()).base(e.base())},dl.apply(e,arguments)}function E$(){var e=kS($g());return e.copy=function(){return fo(e,E$()).constant(e.constant())},dl.apply(e,arguments)}function IS(){var e=CS($g());return e.copy=function(){return fo(e,IS()).exponent(e.exponent())},dl.apply(e,arguments)}function rre(){return IS.apply(null,arguments).exponent(.5)}const dh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bS,scaleDiverging:A$,scaleDivergingLog:T$,scaleDivergingPow:IS,scaleDivergingSqrt:rre,scaleDivergingSymlog:E$,scaleIdentity:o$,scaleImplicit:u2,scaleLinear:l$,scaleLog:d$,scaleOrdinal:gS,scalePoint:Kae,scalePow:AS,scaleQuantile:h$,scaleQuantize:f$,scaleRadial:m$,scaleSequential:S$,scaleSequentialLog:_$,scaleSequentialPow:LS,scaleSequentialQuantile:C$,scaleSequentialSqrt:sre,scaleSequentialSymlog:k$,scaleSqrt:Bne,scaleSymlog:u$,scaleThreshold:x$,scaleTime:are,scaleUtc:nre,tickFormat:i$},Symbol.toStringTag,{value:"Module"}));var xo=e=>e.chartData,BS=Oe([xo],e=>{var a=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:a,dataStartIndex:0}}),Lg=(e,a,n,s)=>s?BS(e):xo(e);function cu(e){if(Array.isArray(e)&&e.length===2){var[a,n]=e;if(Ls(a)&&Ls(n))return!0}return!1}function uE(e,a,n){return n?e:[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}function ire(e,a){if(a&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,s]=e,r,l;if(Ls(n))r=n;else if(typeof n=="function")return;if(Ls(s))l=s;else if(typeof s=="function")return;var c=[r,l];if(cu(c))return c}}function lre(e,a,n){if(!(!n&&a==null)){if(typeof e=="function"&&a!=null)try{var s=e(a,n);if(cu(s))return uE(s,a,n)}catch{}if(Array.isArray(e)&&e.length===2){var[r,l]=e,c,d;if(r==="auto")a!=null&&(c=Math.min(...a));else if(et(r))c=r;else if(typeof r=="function")try{a!=null&&(c=r(a==null?void 0:a[0]))}catch{}else if(typeof r=="string"&&Q6.test(r)){var m=Q6.exec(r);if(m==null||a==null)c=void 0;else{var h=+m[1];c=a[0]-h}}else c=a==null?void 0:a[0];if(l==="auto")a!=null&&(d=Math.max(...a));else if(et(l))d=l;else if(typeof l=="function")try{a!=null&&(d=l(a==null?void 0:a[1]))}catch{}else if(typeof l=="string"&&J6.test(l)){var f=J6.exec(l);if(f==null||a==null)d=void 0;else{var g=+f[1];d=a[1]+g}}else d=a==null?void 0:a[1];var b=[c,d];if(cu(b))return a==null?b:uE(b,a,n)}}}var Nu=1e9,ore={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},US,fa=!0,mr="[DecimalError] ",xc=mr+"Invalid argument: ",zS=mr+"Exponent out of range: ",Su=Math.floor,Wo=Math.pow,cre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Es,dn=1e7,la=7,P$=9007199254740991,Bp=Su(P$/la),at={};at.absoluteValue=at.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};at.comparedTo=at.cmp=function(e){var a,n,s,r,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(s=l.d.length,r=e.d.length,a=0,n=s<r?s:r;a<n;++a)if(l.d[a]!==e.d[a])return l.d[a]>e.d[a]^l.s<0?1:-1;return s===r?0:s>r^l.s<0?1:-1};at.decimalPlaces=at.dp=function(){var e=this,a=e.d.length-1,n=(a-e.e)*la;if(a=e.d[a],a)for(;a%10==0;a/=10)n--;return n<0?0:n};at.dividedBy=at.div=function(e){return Gi(this,new this.constructor(e))};at.dividedToIntegerBy=at.idiv=function(e){var a=this,n=a.constructor;return ea(Gi(a,new n(e),0,1),n.precision)};at.equals=at.eq=function(e){return!this.cmp(e)};at.exponent=function(){return qa(this)};at.greaterThan=at.gt=function(e){return this.cmp(e)>0};at.greaterThanOrEqualTo=at.gte=function(e){return this.cmp(e)>=0};at.isInteger=at.isint=function(){return this.e>this.d.length-2};at.isNegative=at.isneg=function(){return this.s<0};at.isPositive=at.ispos=function(){return this.s>0};at.isZero=function(){return this.s===0};at.lessThan=at.lt=function(e){return this.cmp(e)<0};at.lessThanOrEqualTo=at.lte=function(e){return this.cmp(e)<1};at.logarithm=at.log=function(e){var a,n=this,s=n.constructor,r=s.precision,l=r+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Es))throw Error(mr+"NaN");if(n.s<1)throw Error(mr+(n.s?"NaN":"-Infinity"));return n.eq(Es)?new s(0):(fa=!1,a=Gi(Kh(n,l),Kh(e,l),l),fa=!0,ea(a,r))};at.minus=at.sub=function(e){var a=this;return e=new a.constructor(e),a.s==e.s?D$(a,e):O$(a,(e.s=-e.s,e))};at.modulo=at.mod=function(e){var a,n=this,s=n.constructor,r=s.precision;if(e=new s(e),!e.s)throw Error(mr+"NaN");return n.s?(fa=!1,a=Gi(n,e,0,1).times(e),fa=!0,n.minus(a)):ea(new s(n),r)};at.naturalExponential=at.exp=function(){return M$(this)};at.naturalLogarithm=at.ln=function(){return Kh(this)};at.negated=at.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};at.plus=at.add=function(e){var a=this;return e=new a.constructor(e),a.s==e.s?O$(a,e):D$(a,(e.s=-e.s,e))};at.precision=at.sd=function(e){var a,n,s,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xc+e);if(a=qa(r)+1,s=r.d.length-1,n=s*la+1,s=r.d[s],s){for(;s%10==0;s/=10)n--;for(s=r.d[0];s>=10;s/=10)n++}return e&&a>n?a:n};at.squareRoot=at.sqrt=function(){var e,a,n,s,r,l,c,d=this,m=d.constructor;if(d.s<1){if(!d.s)return new m(0);throw Error(mr+"NaN")}for(e=qa(d),fa=!1,r=Math.sqrt(+d),r==0||r==1/0?(a=ii(d.d),(a.length+e)%2==0&&(a+="0"),r=Math.sqrt(a),e=Su((e+1)/2)-(e<0||e%2),r==1/0?a="5e"+e:(a=r.toExponential(),a=a.slice(0,a.indexOf("e")+1)+e),s=new m(a)):s=new m(r.toString()),n=m.precision,r=c=n+3;;)if(l=s,s=l.plus(Gi(d,l,c+2)).times(.5),ii(l.d).slice(0,c)===(a=ii(s.d)).slice(0,c)){if(a=a.slice(c-3,c+1),r==c&&a=="4999"){if(ea(l,n+1,0),l.times(l).eq(d)){s=l;break}}else if(a!="9999")break;c+=4}return fa=!0,ea(s,n)};at.times=at.mul=function(e){var a,n,s,r,l,c,d,m,h,f=this,g=f.constructor,b=f.d,y=(e=new g(e)).d;if(!f.s||!e.s)return new g(0);for(e.s*=f.s,n=f.e+e.e,m=b.length,h=y.length,m<h&&(l=b,b=y,y=l,c=m,m=h,h=c),l=[],c=m+h,s=c;s--;)l.push(0);for(s=h;--s>=0;){for(a=0,r=m+s;r>s;)d=l[r]+y[s]*b[r-s-1]+a,l[r--]=d%dn|0,a=d/dn|0;l[r]=(l[r]+a)%dn|0}for(;!l[--c];)l.pop();return a?++n:l.shift(),e.d=l,e.e=n,fa?ea(e,g.precision):e};at.toDecimalPlaces=at.todp=function(e,a){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(hi(e,0,Nu),a===void 0?a=s.rounding:hi(a,0,8),ea(n,e+qa(n)+1,a))};at.toExponential=function(e,a){var n,s=this,r=s.constructor;return e===void 0?n=wc(s,!0):(hi(e,0,Nu),a===void 0?a=r.rounding:hi(a,0,8),s=ea(new r(s),e+1,a),n=wc(s,!0,e+1)),n};at.toFixed=function(e,a){var n,s,r=this,l=r.constructor;return e===void 0?wc(r):(hi(e,0,Nu),a===void 0?a=l.rounding:hi(a,0,8),s=ea(new l(r),e+qa(r)+1,a),n=wc(s.abs(),!1,e+qa(s)+1),r.isneg()&&!r.isZero()?"-"+n:n)};at.toInteger=at.toint=function(){var e=this,a=e.constructor;return ea(new a(e),qa(e)+1,a.rounding)};at.toNumber=function(){return+this};at.toPower=at.pow=function(e){var a,n,s,r,l,c,d=this,m=d.constructor,h=12,f=+(e=new m(e));if(!e.s)return new m(Es);if(d=new m(d),!d.s){if(e.s<1)throw Error(mr+"Infinity");return d}if(d.eq(Es))return d;if(s=m.precision,e.eq(Es))return ea(d,s);if(a=e.e,n=e.d.length-1,c=a>=n,l=d.s,c){if((n=f<0?-f:f)<=P$){for(r=new m(Es),a=Math.ceil(s/la+4),fa=!1;n%2&&(r=r.times(d),hE(r.d,a)),n=Su(n/2),n!==0;)d=d.times(d),hE(d.d,a);return fa=!0,e.s<0?new m(Es).div(r):ea(r,s)}}else if(l<0)throw Error(mr+"NaN");return l=l<0&&e.d[Math.max(a,n)]&1?-1:1,d.s=1,fa=!1,r=e.times(Kh(d,s+h)),fa=!0,r=M$(r),r.s=l,r};at.toPrecision=function(e,a){var n,s,r=this,l=r.constructor;return e===void 0?(n=qa(r),s=wc(r,n<=l.toExpNeg||n>=l.toExpPos)):(hi(e,1,Nu),a===void 0?a=l.rounding:hi(a,0,8),r=ea(new l(r),e,a),n=qa(r),s=wc(r,e<=n||n<=l.toExpNeg,e)),s};at.toSignificantDigits=at.tosd=function(e,a){var n=this,s=n.constructor;return e===void 0?(e=s.precision,a=s.rounding):(hi(e,1,Nu),a===void 0?a=s.rounding:hi(a,0,8)),ea(new s(n),e,a)};at.toString=at.valueOf=at.val=at.toJSON=at[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,a=qa(e),n=e.constructor;return wc(e,a<=n.toExpNeg||a>=n.toExpPos)};function O$(e,a){var n,s,r,l,c,d,m,h,f=e.constructor,g=f.precision;if(!e.s||!a.s)return a.s||(a=new f(e)),fa?ea(a,g):a;if(m=e.d,h=a.d,c=e.e,r=a.e,m=m.slice(),l=c-r,l){for(l<0?(s=m,l=-l,d=h.length):(s=h,r=c,d=m.length),c=Math.ceil(g/la),d=c>d?c+1:d+1,l>d&&(l=d,s.length=1),s.reverse();l--;)s.push(0);s.reverse()}for(d=m.length,l=h.length,d-l<0&&(l=d,s=h,h=m,m=s),n=0;l;)n=(m[--l]=m[l]+h[l]+n)/dn|0,m[l]%=dn;for(n&&(m.unshift(n),++r),d=m.length;m[--d]==0;)m.pop();return a.d=m,a.e=r,fa?ea(a,g):a}function hi(e,a,n){if(e!==~~e||e<a||e>n)throw Error(xc+e)}function ii(e){var a,n,s,r=e.length-1,l="",c=e[0];if(r>0){for(l+=c,a=1;a<r;a++)s=e[a]+"",n=la-s.length,n&&(l+=Wl(n)),l+=s;c=e[a],s=c+"",n=la-s.length,n&&(l+=Wl(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Gi=function(){function e(s,r){var l,c=0,d=s.length;for(s=s.slice();d--;)l=s[d]*r+c,s[d]=l%dn|0,c=l/dn|0;return c&&s.unshift(c),s}function a(s,r,l,c){var d,m;if(l!=c)m=l>c?1:-1;else for(d=m=0;d<l;d++)if(s[d]!=r[d]){m=s[d]>r[d]?1:-1;break}return m}function n(s,r,l){for(var c=0;l--;)s[l]-=c,c=s[l]<r[l]?1:0,s[l]=c*dn+s[l]-r[l];for(;!s[0]&&s.length>1;)s.shift()}return function(s,r,l,c){var d,m,h,f,g,b,y,j,w,N,k,_,C,O,P,E,B,M,V=s.constructor,G=s.s==r.s?1:-1,H=s.d,F=r.d;if(!s.s)return new V(s);if(!r.s)throw Error(mr+"Division by zero");for(m=s.e-r.e,B=F.length,P=H.length,y=new V(G),j=y.d=[],h=0;F[h]==(H[h]||0);)++h;if(F[h]>(H[h]||0)&&--m,l==null?_=l=V.precision:c?_=l+(qa(s)-qa(r))+1:_=l,_<0)return new V(0);if(_=_/la+2|0,h=0,B==1)for(f=0,F=F[0],_++;(h<P||f)&&_--;h++)C=f*dn+(H[h]||0),j[h]=C/F|0,f=C%F|0;else{for(f=dn/(F[0]+1)|0,f>1&&(F=e(F,f),H=e(H,f),B=F.length,P=H.length),O=B,w=H.slice(0,B),N=w.length;N<B;)w[N++]=0;M=F.slice(),M.unshift(0),E=F[0],F[1]>=dn/2&&++E;do f=0,d=a(F,w,B,N),d<0?(k=w[0],B!=N&&(k=k*dn+(w[1]||0)),f=k/E|0,f>1?(f>=dn&&(f=dn-1),g=e(F,f),b=g.length,N=w.length,d=a(g,w,b,N),d==1&&(f--,n(g,B<b?M:F,b))):(f==0&&(d=f=1),g=F.slice()),b=g.length,b<N&&g.unshift(0),n(w,g,N),d==-1&&(N=w.length,d=a(F,w,B,N),d<1&&(f++,n(w,B<N?M:F,N))),N=w.length):d===0&&(f++,w=[0]),j[h++]=f,d&&w[0]?w[N++]=H[O]||0:(w=[H[O]],N=1);while((O++<P||w[0]!==void 0)&&_--)}return j[0]||j.shift(),y.e=m,ea(y,c?l+qa(y)+1:l)}}();function M$(e,a){var n,s,r,l,c,d,m=0,h=0,f=e.constructor,g=f.precision;if(qa(e)>16)throw Error(zS+qa(e));if(!e.s)return new f(Es);for(fa=!1,d=g,c=new f(.03125);e.abs().gte(.1);)e=e.times(c),h+=5;for(s=Math.log(Wo(2,h))/Math.LN10*2+5|0,d+=s,n=r=l=new f(Es),f.precision=d;;){if(r=ea(r.times(e),d),n=n.times(++m),c=l.plus(Gi(r,n,d)),ii(c.d).slice(0,d)===ii(l.d).slice(0,d)){for(;h--;)l=ea(l.times(l),d);return f.precision=g,a==null?(fa=!0,ea(l,g)):l}l=c}}function qa(e){for(var a=e.e*la,n=e.d[0];n>=10;n/=10)a++;return a}function nj(e,a,n){if(a>e.LN10.sd())throw fa=!0,n&&(e.precision=n),Error(mr+"LN10 precision limit exceeded");return ea(new e(e.LN10),a)}function Wl(e){for(var a="";e--;)a+="0";return a}function Kh(e,a){var n,s,r,l,c,d,m,h,f,g=1,b=10,y=e,j=y.d,w=y.constructor,N=w.precision;if(y.s<1)throw Error(mr+(y.s?"NaN":"-Infinity"));if(y.eq(Es))return new w(0);if(a==null?(fa=!1,h=N):h=a,y.eq(10))return a==null&&(fa=!0),nj(w,h);if(h+=b,w.precision=h,n=ii(j),s=n.charAt(0),l=qa(y),Math.abs(l)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)y=y.times(e),n=ii(y.d),s=n.charAt(0),g++;l=qa(y),s>1?(y=new w("0."+n),l++):y=new w(s+"."+n.slice(1))}else return m=nj(w,h+2,N).times(l+""),y=Kh(new w(s+"."+n.slice(1)),h-b).plus(m),w.precision=N,a==null?(fa=!0,ea(y,N)):y;for(d=c=y=Gi(y.minus(Es),y.plus(Es),h),f=ea(y.times(y),h),r=3;;){if(c=ea(c.times(f),h),m=d.plus(Gi(c,new w(r),h)),ii(m.d).slice(0,h)===ii(d.d).slice(0,h))return d=d.times(2),l!==0&&(d=d.plus(nj(w,h+2,N).times(l+""))),d=Gi(d,new w(g),h),w.precision=N,a==null?(fa=!0,ea(d,N)):d;d=m,r+=2}}function mE(e,a){var n,s,r;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(s=a.search(/e/i))>0?(n<0&&(n=s),n+=+a.slice(s+1),a=a.substring(0,s)):n<0&&(n=a.length),s=0;a.charCodeAt(s)===48;)++s;for(r=a.length;a.charCodeAt(r-1)===48;)--r;if(a=a.slice(s,r),a){if(r-=s,n=n-s-1,e.e=Su(n/la),e.d=[],s=(n+1)%la,n<0&&(s+=la),s<r){for(s&&e.d.push(+a.slice(0,s)),r-=la;s<r;)e.d.push(+a.slice(s,s+=la));a=a.slice(s),s=la-a.length}else s-=r;for(;s--;)a+="0";if(e.d.push(+a),fa&&(e.e>Bp||e.e<-Bp))throw Error(zS+n)}else e.s=0,e.e=0,e.d=[0];return e}function ea(e,a,n){var s,r,l,c,d,m,h,f,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(s=a-c,s<0)s+=la,r=a,h=g[f=0];else{if(f=Math.ceil((s+1)/la),l=g.length,f>=l)return e;for(h=l=g[f],c=1;l>=10;l/=10)c++;s%=la,r=s-la+c}if(n!==void 0&&(l=Wo(10,c-r-1),d=h/l%10|0,m=a<0||g[f+1]!==void 0||h%l,m=n<4?(d||m)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||m||n==6&&(s>0?r>0?h/Wo(10,c-r):0:g[f-1])%10&1||n==(e.s<0?8:7))),a<1||!g[0])return m?(l=qa(e),g.length=1,a=a-l-1,g[0]=Wo(10,(la-a%la)%la),e.e=Su(-a/la)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(s==0?(g.length=f,l=1,f--):(g.length=f+1,l=Wo(10,la-s),g[f]=r>0?(h/Wo(10,c-r)%Wo(10,r)|0)*l:0),m)for(;;)if(f==0){(g[0]+=l)==dn&&(g[0]=1,++e.e);break}else{if(g[f]+=l,g[f]!=dn)break;g[f--]=0,l=1}for(s=g.length;g[--s]===0;)g.pop();if(fa&&(e.e>Bp||e.e<-Bp))throw Error(zS+qa(e));return e}function D$(e,a){var n,s,r,l,c,d,m,h,f,g,b=e.constructor,y=b.precision;if(!e.s||!a.s)return a.s?a.s=-a.s:a=new b(e),fa?ea(a,y):a;if(m=e.d,g=a.d,s=a.e,h=e.e,m=m.slice(),c=h-s,c){for(f=c<0,f?(n=m,c=-c,d=g.length):(n=g,s=h,d=m.length),r=Math.max(Math.ceil(y/la),d)+2,c>r&&(c=r,n.length=1),n.reverse(),r=c;r--;)n.push(0);n.reverse()}else{for(r=m.length,d=g.length,f=r<d,f&&(d=r),r=0;r<d;r++)if(m[r]!=g[r]){f=m[r]<g[r];break}c=0}for(f&&(n=m,m=g,g=n,a.s=-a.s),d=m.length,r=g.length-d;r>0;--r)m[d++]=0;for(r=g.length;r>c;){if(m[--r]<g[r]){for(l=r;l&&m[--l]===0;)m[l]=dn-1;--m[l],m[r]+=dn}m[r]-=g[r]}for(;m[--d]===0;)m.pop();for(;m[0]===0;m.shift())--s;return m[0]?(a.d=m,a.e=s,fa?ea(a,y):a):new b(0)}function wc(e,a,n){var s,r=qa(e),l=ii(e.d),c=l.length;return a?(n&&(s=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+Wl(s):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(r<0?"e":"e+")+r):r<0?(l="0."+Wl(-r-1)+l,n&&(s=n-c)>0&&(l+=Wl(s))):r>=c?(l+=Wl(r+1-c),n&&(s=n-r-1)>0&&(l=l+"."+Wl(s))):((s=r+1)<c&&(l=l.slice(0,s)+"."+l.slice(s)),n&&(s=n-c)>0&&(r+1===c&&(l+="."),l+=Wl(s))),e.s<0?"-"+l:l}function hE(e,a){if(e.length>a)return e.length=a,!0}function R$(e){var a,n,s;function r(l){var c=this;if(!(c instanceof r))return new r(l);if(c.constructor=r,l instanceof r){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(xc+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return mE(c,l.toString())}else if(typeof l!="string")throw Error(xc+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,cre.test(l))mE(c,l);else throw Error(xc+l)}if(r.prototype=at,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=R$,r.config=r.set=dre,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],a=0;a<s.length;)e.hasOwnProperty(n=s[a++])||(e[n]=this[n]);return r.config(e),r}function dre(e){if(!e||typeof e!="object")throw Error(mr+"Object expected");var a,n,s,r=["precision",1,Nu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(a=0;a<r.length;a+=3)if((s=e[n=r[a]])!==void 0)if(Su(s)===s&&s>=r[a+1]&&s<=r[a+2])this[n]=s;else throw Error(xc+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(xc+n+": "+s);return this}var US=R$(ore);Es=new US(1);const Kt=US;var ure=e=>e,$$={},L$=e=>e===$$,fE=e=>function a(){return arguments.length===0||arguments.length===1&&L$(arguments.length<=0?void 0:arguments[0])?a:e(...arguments)},I$=(e,a)=>e===1?a:fE(function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];var l=s.filter(c=>c!==$$).length;return l>=e?a(...s):I$(e-l,fE(function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];var h=s.map(f=>L$(f)?d.shift():f);return a(...h,...d)}))}),Ig=e=>I$(e.length,e),x2=(e,a)=>{for(var n=[],s=e;s<a;++s)n[s-e]=s;return n},mre=Ig((e,a)=>Array.isArray(a)?a.map(e):Object.keys(a).map(n=>a[n]).map(e)),hre=function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];if(!n.length)return ure;var r=n.reverse(),l=r[0],c=r.slice(1);return function(){return c.reduce((d,m)=>m(d),l(...arguments))}},p2=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),B$=e=>{var a=null,n=null;return function(){for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return a&&r.every((c,d)=>{var m;return c===((m=a)===null||m===void 0?void 0:m[d])})||(a=r,n=e(...r)),n}};function z$(e){var a;return e===0?a=1:a=Math.floor(new Kt(e).abs().log(10).toNumber())+1,a}function U$(e,a,n){for(var s=new Kt(e),r=0,l=[];s.lt(a)&&r<1e5;)l.push(s.toNumber()),s=s.add(n),r++;return l}Ig((e,a,n)=>{var s=+e,r=+a;return s+n*(r-s)});Ig((e,a,n)=>{var s=a-+e;return s=s||1/0,(n-e)/s});Ig((e,a,n)=>{var s=a-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});var F$=e=>{var[a,n]=e,[s,r]=[a,n];return a>n&&([s,r]=[n,a]),[s,r]},V$=(e,a,n)=>{if(e.lte(0))return new Kt(0);var s=z$(e.toNumber()),r=new Kt(10).pow(s),l=e.div(r),c=s!==1?.05:.1,d=new Kt(Math.ceil(l.div(c).toNumber())).add(n).mul(c),m=d.mul(r);return a?new Kt(m.toNumber()):new Kt(Math.ceil(m.toNumber()))},fre=(e,a,n)=>{var s=new Kt(1),r=new Kt(e);if(!r.isint()&&n){var l=Math.abs(e);l<1?(s=new Kt(10).pow(z$(e)-1),r=new Kt(Math.floor(r.div(s).toNumber())).mul(s)):l>1&&(r=new Kt(Math.floor(e)))}else e===0?r=new Kt(Math.floor((a-1)/2)):n||(r=new Kt(Math.floor(e)));var c=Math.floor((a-1)/2),d=hre(mre(m=>r.add(new Kt(m-c).mul(s)).toNumber()),x2);return d(0,a)},H$=function(a,n,s,r){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-a)/(s-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var c=V$(new Kt(n).sub(a).div(s-1),r,l),d;a<=0&&n>=0?d=new Kt(0):(d=new Kt(a).add(n).div(2),d=d.sub(new Kt(d).mod(c)));var m=Math.ceil(d.sub(a).div(c).toNumber()),h=Math.ceil(new Kt(n).sub(d).div(c).toNumber()),f=m+h+1;return f>s?H$(a,n,s,r,l+1):(f<s&&(h=n>0?h+(s-f):h,m=n>0?m:m+(s-f)),{step:c,tickMin:d.sub(new Kt(m).mul(c)),tickMax:d.add(new Kt(h).mul(c))})};function xre(e){var[a,n]=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),[c,d]=F$([a,n]);if(c===-1/0||d===1/0){var m=d===1/0?[c,...x2(0,s-1).map(()=>1/0)]:[...x2(0,s-1).map(()=>-1/0),d];return a>n?p2(m):m}if(c===d)return fre(c,s,r);var{step:h,tickMin:f,tickMax:g}=H$(c,d,l,r,0),b=U$(f,g.add(new Kt(.1).mul(h)),h);return a>n?p2(b):b}function pre(e,a){var[n,s]=e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=F$([n,s]);if(l===-1/0||c===1/0)return[n,s];if(l===c)return[l];var d=Math.max(a,2),m=V$(new Kt(c).sub(l).div(d-1),r,0),h=[...U$(new Kt(l),new Kt(c),m),c];return r===!1&&(h=h.map(f=>Math.round(f))),n>s?p2(h):h}var gre=B$(xre),bre=B$(pre),q$=e=>e.rootProps.maxBarSize,vre=e=>e.rootProps.barGap,K$=e=>e.rootProps.barCategoryGap,yre=e=>e.rootProps.barSize,gf=e=>e.rootProps.stackOffset,FS=e=>e.options.chartName,VS=e=>e.rootProps.syncId,G$=e=>e.rootProps.syncMethod,HS=e=>e.options.eventEmitter,zi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},As={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Bg=(e,a)=>{if(!(!e||!a))return e!=null&&e.reversed?[a[1],a[0]]:a},jre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:zi.angleAxisId,includeHidden:!1,name:void 0,reversed:zi.reversed,scale:zi.scale,tick:zi.tick,tickCount:void 0,ticks:void 0,type:zi.type,unit:void 0},wre={allowDataOverflow:As.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:As.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:As.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:As.scale,tick:As.tick,tickCount:As.tickCount,ticks:void 0,type:As.type,unit:void 0},Nre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Sre={allowDataOverflow:As.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:As.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:As.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:As.scale,tick:As.tick,tickCount:As.tickCount,ticks:void 0,type:"category",unit:void 0},qS=(e,a)=>e.polarAxis.angleAxis[a]!=null?e.polarAxis.angleAxis[a]:e.layout.layoutType==="radial"?Nre:jre,KS=(e,a)=>e.polarAxis.radiusAxis[a]!=null?e.polarAxis.radiusAxis[a]:e.layout.layoutType==="radial"?Sre:wre,zg=e=>e.polarOptions,GS=Oe([ol,cl,Za],AR),Y$=Oe([zg,GS],(e,a)=>{if(e!=null)return Qn(e.innerRadius,a,0)}),W$=Oe([zg,GS],(e,a)=>{if(e!=null)return Qn(e.outerRadius,a,a*.8)}),_re=e=>{if(e==null)return[0,0];var{startAngle:a,endAngle:n}=e;return[a,n]},X$=Oe([zg],_re);Oe([qS,X$],Bg);var Z$=Oe([GS,Y$,W$],(e,a,n)=>{if(!(e==null||a==null||n==null))return[a,n]});Oe([KS,Z$],Bg);var Q$=Oe([Rt,zg,Y$,W$,ol,cl],(e,a,n,s,r,l)=>{if(!(e!=="centric"&&e!=="radial"||a==null||n==null||s==null)){var{cx:c,cy:d,startAngle:m,endAngle:h}=a;return{cx:Qn(c,r,r/2),cy:Qn(d,l,l/2),innerRadius:n,outerRadius:s,startAngle:m,endAngle:h,clockWise:!1}}}),ga=(e,a)=>a,bf=(e,a,n)=>n;function YS(e){return e==null?void 0:e.id}var Ja=e=>{var a=Rt(e);return a==="horizontal"?"xAxis":a==="vertical"?"yAxis":a==="centric"?"angleAxis":"radiusAxis"},_u=e=>e.tooltip.settings.axisId,en=e=>{var a=Ja(e),n=_u(e);return vf(e,a,n)};function J$(e,a,n){var{chartData:s=[]}=a,r=n==null?void 0:n.dataKey,l=new Map;return e.forEach(c=>{var d,m=(d=c.data)!==null&&d!==void 0?d:s;if(!(m==null||m.length===0)){var h=YS(c);m.forEach((f,g)=>{var b=r==null?g:String(Jt(f,r,null)),y=Jt(f,c.dataKey,0),j;l.has(b)?j=l.get(b):j={},Object.assign(j,{[h]:y}),l.set(b,j)})}}),Array.from(l.values())}function Ug(e){return e.stackId!=null&&e.dataKey!=null}function xE(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function zp(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?xE(Object(n),!0).forEach(function(s){kre(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kre(e,a,n){return(a=Cre(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Cre(e){var a=Are(e,"string");return typeof a=="symbol"?a:a+""}function Are(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var g2=[0,"auto"],ks={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ul=(e,a)=>{var n=e.cartesianAxis.xAxis[a];return n??ks},Cs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:g2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:kg},po=(e,a)=>{var n=e.cartesianAxis.yAxis[a];return n??Cs},Tre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},WS=(e,a)=>{var n=e.cartesianAxis.zAxis[a];return n??Tre},Ba=(e,a,n)=>{switch(a){case"xAxis":return ul(e,n);case"yAxis":return po(e,n);case"zAxis":return WS(e,n);case"angleAxis":return qS(e,n);case"radiusAxis":return KS(e,n);default:throw new Error("Unexpected axis type: ".concat(a))}},Ere=(e,a,n)=>{switch(a){case"xAxis":return ul(e,n);case"yAxis":return po(e,n);default:throw new Error("Unexpected axis type: ".concat(a))}},vf=(e,a,n)=>{switch(a){case"xAxis":return ul(e,n);case"yAxis":return po(e,n);case"angleAxis":return qS(e,n);case"radiusAxis":return KS(e,n);default:throw new Error("Unexpected axis type: ".concat(a))}},eL=e=>e.graphicalItems.cartesianItems.some(a=>a.type==="bar")||e.graphicalItems.polarItems.some(a=>a.type==="radialBar");function XS(e,a){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===a;case"yAxis":return"yAxisId"in n&&n.yAxisId===a;case"zAxis":return"zAxisId"in n&&n.zAxisId===a;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===a;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===a;default:return!1}}}var Fg=e=>e.graphicalItems.cartesianItems,Pre=Oe([ga,bf],XS),ZS=(e,a,n)=>e.filter(n).filter(s=>(a==null?void 0:a.includeHidden)===!0?!0:!s.hide),yf=Oe([Fg,Ba,Pre],ZS),tL=Oe([yf],e=>e.filter(a=>a.type==="area"||a.type==="bar").filter(Ug)),aL=e=>e.filter(a=>!("stackId"in a)||a.stackId===void 0),nL=Oe([yf],aL),QS=e=>e.map(a=>a.data).filter(Boolean).flat(1),Ore=Oe([yf],QS),JS=(e,a)=>{var{chartData:n=[],dataStartIndex:s,dataEndIndex:r}=a;return e.length>0?e:n.slice(s,r+1)},e4=Oe([Ore,Lg],JS),t4=(e,a,n)=>(a==null?void 0:a.dataKey)!=null?e.map(s=>({value:Jt(s,a.dataKey)})):n.length>0?n.map(s=>s.dataKey).flatMap(s=>e.map(r=>({value:Jt(r,s)}))):e.map(s=>({value:s})),Vg=Oe([e4,Ba,yf],t4);function sL(e,a){switch(e){case"xAxis":return a.direction==="x";case"yAxis":return a.direction==="y";default:return!1}}function Tc(e){return e.filter(a=>mi(a)||a instanceof Date).map(Number).filter(a=>Ds(a)===!1)}function Mre(e,a,n){return!n||typeof a!="number"||Ds(a)?[]:n.length?Tc(n.flatMap(s=>{var r=Jt(e,s.dataKey),l,c;if(Array.isArray(r)?[l,c]=r:l=c=r,!(!Ls(l)||!Ls(c)))return[a-l,a+c]})):[]}var Dre=Oe([tL,Lg,en],J$),rL=(e,a,n)=>{var s={},r=a.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),s);return Object.fromEntries(Object.entries(r).map(l=>{var[c,d]=l,m=d.map(YS);return[c,{stackedData:$ee(e,m,n),graphicalItems:d}]}))},b2=Oe([Dre,tL,gf],rL),iL=(e,a,n)=>{var{dataStartIndex:s,dataEndIndex:r}=a;if(n!=="zAxis"){var l=Uee(e,s,r);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Rre=Oe([b2,xo,ga],iL),lL=(e,a,n,s,r)=>n.length>0?e.flatMap(l=>n.flatMap(c=>{var d,m,h=(d=s[c.id])===null||d===void 0?void 0:d.filter(g=>sL(r,g)),f=Jt(l,(m=a.dataKey)!==null&&m!==void 0?m:c.dataKey);return{value:f,errorDomain:Mre(l,f,h)}})).filter(Boolean):(a==null?void 0:a.dataKey)!=null?e.map(l=>({value:Jt(l,a.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),Hg=e=>e.errorBars,oL=(e,a,n)=>e.flatMap(s=>a[s.id]).filter(Boolean).filter(s=>sL(n,s));Oe([nL,Hg,ga],oL);var $re=Oe([e4,Ba,nL,Hg,ga],lL);function Lre(e){var{value:a}=e;if(mi(a)||a instanceof Date)return a}var pE=e=>{var a=e.flatMap(s=>[s.value,s.errorDomain]).flat(1),n=Tc(a);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ire=(e,a,n)=>{var s=e.map(Lre).filter(r=>r!=null);return n&&(a.dataKey==null||a.allowDuplicatedCategory&&N8(s))?XR(0,e.length):a.allowDuplicatedCategory?s:Array.from(new Set(s))},a4=e=>{var a;if(e==null||!("domain"in e))return g2;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Tc(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(a=e==null?void 0:e.domain)!==null&&a!==void 0?a:g2},Up=function(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];var r=n.filter(Boolean);if(r.length!==0){var l=r.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},cL=e=>e.referenceElements.dots,ku=(e,a,n)=>e.filter(s=>s.ifOverflow==="extendDomain").filter(s=>a==="xAxis"?s.xAxisId===n:s.yAxisId===n),Bre=Oe([cL,ga,bf],ku),dL=e=>e.referenceElements.areas,zre=Oe([dL,ga,bf],ku),uL=e=>e.referenceElements.lines,Ure=Oe([uL,ga,bf],ku),mL=(e,a)=>{var n=Tc(e.map(s=>a==="xAxis"?s.x:s.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Fre=Oe(Bre,ga,mL),hL=(e,a)=>{var n=Tc(e.flatMap(s=>[a==="xAxis"?s.x1:s.y1,a==="xAxis"?s.x2:s.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vre=Oe([zre,ga],hL),fL=(e,a)=>{var n=Tc(e.map(s=>a==="xAxis"?s.x:s.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Hre=Oe(Ure,ga,fL),qre=Oe(Fre,Hre,Vre,(e,a,n)=>Up(e,n,a)),xL=Oe([Ba],a4),n4=(e,a,n,s,r,l,c)=>{var d=ire(a,e.allowDataOverflow);if(d!=null)return d;var m=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",h=m?Up(n,r,pE(s)):Up(r,pE(s));return lre(a,h,e.allowDataOverflow)},Kre=Oe([Ba,xL,Rre,$re,qre,Rt,ga],n4),Gre=[0,1],s4=(e,a,n,s,r,l,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:m}=e,h=mo(a,l);return h&&d==null?XR(0,n.length):m==="category"?Ire(s,e,h):r==="expand"?Gre:c}},r4=Oe([Ba,Rt,e4,Vg,gf,ga,Kre],s4),pL=(e,a,n,s,r)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return a==="radial"&&r==="radiusAxis"?"band":a==="radial"&&r==="angleAxis"?"linear":c==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(cf(l));return d in dh?d:"point"}}},Cu=Oe([Ba,Rt,eL,FS,ga],pL);function Yre(e){if(e!=null){if(e in dh)return dh[e]();var a="scale".concat(cf(e));if(a in dh)return dh[a]()}}function i4(e,a,n,s){if(!(n==null||s==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(s);var r=Yre(a);if(r!=null){var l=r.domain(n).range(s);return Pee(l),l}}}var l4=(e,a,n)=>{var s=a4(a);if(!(n!=="auto"&&n!=="linear")){if(a!=null&&a.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&cu(e))return gre(e,a.tickCount,a.allowDecimals);if(a!=null&&a.tickCount&&a.type==="number"&&cu(e))return bre(e,a.tickCount,a.allowDecimals)}},o4=Oe([r4,vf,Cu],l4),c4=(e,a,n,s)=>{if(s!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&cu(a)&&Array.isArray(n)&&n.length>0){var r=a[0],l=n[0],c=a[1],d=n[n.length-1];return[Math.min(r,l),Math.max(c,d)]}return a},Wre=Oe([Ba,r4,o4,ga],c4),Xre=Oe(Vg,Ba,(e,a)=>{if(!(!a||a.type!=="number")){var n=1/0,s=Array.from(Tc(e.map(d=>d.value))).sort((d,m)=>d-m);if(s.length<2)return 1/0;var r=s[s.length-1]-s[0];if(r===0)return 1/0;for(var l=0;l<s.length-1;l++){var c=s[l+1]-s[l];n=Math.min(n,c)}return n/r}}),gL=Oe(Xre,Rt,K$,Za,(e,a,n,s)=>s,(e,a,n,s,r)=>{if(!Ls(e))return 0;var l=a==="vertical"?s.height:s.width;if(r==="gap")return e*l/2;if(r==="no-gap"){var c=Qn(n,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),Zre=(e,a)=>{var n=ul(e,a);return n==null||typeof n.padding!="string"?0:gL(e,"xAxis",a,n.padding)},Qre=(e,a)=>{var n=po(e,a);return n==null||typeof n.padding!="string"?0:gL(e,"yAxis",a,n.padding)},Jre=Oe(ul,Zre,(e,a)=>{var n,s;if(e==null)return{left:0,right:0};var{padding:r}=e;return typeof r=="string"?{left:a,right:a}:{left:((n=r.left)!==null&&n!==void 0?n:0)+a,right:((s=r.right)!==null&&s!==void 0?s:0)+a}}),eie=Oe(po,Qre,(e,a)=>{var n,s;if(e==null)return{top:0,bottom:0};var{padding:r}=e;return typeof r=="string"?{top:a,bottom:a}:{top:((n=r.top)!==null&&n!==void 0?n:0)+a,bottom:((s=r.bottom)!==null&&s!==void 0?s:0)+a}}),tie=Oe([Za,Jre,Ag,Cg,(e,a,n)=>n],(e,a,n,s,r)=>{var{padding:l}=s;return r?[l.left,n.width-l.right]:[e.left+a.left,e.left+e.width-a.right]}),aie=Oe([Za,Rt,eie,Ag,Cg,(e,a,n)=>n],(e,a,n,s,r,l)=>{var{padding:c}=r;return l?[s.height-c.bottom,c.top]:a==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),jf=(e,a,n,s)=>{var r;switch(a){case"xAxis":return tie(e,n,s);case"yAxis":return aie(e,n,s);case"zAxis":return(r=WS(e,n))===null||r===void 0?void 0:r.range;case"angleAxis":return X$(e);case"radiusAxis":return Z$(e,n);default:return}},bL=Oe([Ba,jf],Bg),Au=Oe([Ba,Cu,Wre,bL],i4);Oe([yf,Hg,ga],oL);function vL(e,a){return e.id<a.id?-1:e.id>a.id?1:0}var qg=(e,a)=>a,Kg=(e,a,n)=>n,nie=Oe(lS,qg,Kg,(e,a,n)=>e.filter(s=>s.orientation===a).filter(s=>s.mirror===n).sort(vL)),sie=Oe(oS,qg,Kg,(e,a,n)=>e.filter(s=>s.orientation===a).filter(s=>s.mirror===n).sort(vL)),yL=(e,a)=>({width:e.width,height:a.height}),rie=(e,a)=>{var n=typeof a.width=="number"?a.width:kg;return{width:n,height:e.height}},jL=Oe(Za,ul,yL),iie=(e,a,n)=>{switch(a){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},lie=(e,a,n)=>{switch(a){case"left":return e.left;case"right":return n-e.right;default:return 0}},oie=Oe(cl,Za,nie,qg,Kg,(e,a,n,s,r)=>{var l={},c;return n.forEach(d=>{var m=yL(a,d);c==null&&(c=iie(a,s,e));var h=s==="top"&&!r||s==="bottom"&&r;l[d.id]=c-Number(h)*m.height,c+=(h?-1:1)*m.height}),l}),cie=Oe(ol,Za,sie,qg,Kg,(e,a,n,s,r)=>{var l={},c;return n.forEach(d=>{var m=rie(a,d);c==null&&(c=lie(a,s,e));var h=s==="left"&&!r||s==="right"&&r;l[d.id]=c-Number(h)*m.width,c+=(h?-1:1)*m.width}),l}),die=(e,a)=>{var n=Za(e),s=ul(e,a);if(s!=null){var r=oie(e,s.orientation,s.mirror),l=r[a];return l==null?{x:n.left,y:0}:{x:n.left,y:l}}},uie=(e,a)=>{var n=Za(e),s=po(e,a);if(s!=null){var r=cie(e,s.orientation,s.mirror),l=r[a];return l==null?{x:0,y:n.top}:{x:l,y:n.top}}},wL=Oe(Za,po,(e,a)=>{var n=typeof a.width=="number"?a.width:kg;return{width:n,height:e.height}}),gE=(e,a,n)=>{switch(a){case"xAxis":return jL(e,n).width;case"yAxis":return wL(e,n).height;default:return}},NL=(e,a,n,s)=>{if(n!=null){var{allowDuplicatedCategory:r,type:l,dataKey:c}=n,d=mo(e,s),m=a.map(h=>h.value);if(c&&d&&l==="category"&&r&&N8(m))return m}},d4=Oe([Rt,Vg,Ba,ga],NL),SL=(e,a,n,s)=>{if(!(n==null||n.dataKey==null)){var{type:r,scale:l}=n,c=mo(e,s);if(c&&(r==="number"||l!=="auto"))return a.map(d=>d.value)}},u4=Oe([Rt,Vg,vf,ga],SL),bE=Oe([Rt,Ere,Cu,Au,d4,u4,jf,o4,ga],(e,a,n,s,r,l,c,d,m)=>{if(a==null)return null;var h=mo(e,m);return{angle:a.angle,interval:a.interval,minTickGap:a.minTickGap,orientation:a.orientation,tick:a.tick,tickCount:a.tickCount,tickFormatter:a.tickFormatter,ticks:a.ticks,type:a.type,unit:a.unit,axisType:m,categoricalDomain:l,duplicateDomain:r,isCategorical:h,niceTicks:d,range:c,realScaleType:n,scale:s}}),mie=(e,a,n,s,r,l,c,d,m)=>{if(!(a==null||s==null)){var h=mo(e,m),{type:f,ticks:g,tickCount:b}=a,y=n==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,j=f==="category"&&s.bandwidth?s.bandwidth()/y:0;j=m==="angleAxis"&&l!=null&&l.length>=2?hn(l[0]-l[1])*2*j:j;var w=g||r;if(w){var N=w.map((k,_)=>{var C=c?c.indexOf(k):k;return{index:_,coordinate:s(C)+j,value:k,offset:j}});return N.filter(k=>!Ds(k.coordinate))}return h&&d?d.map((k,_)=>({coordinate:s(k)+j,value:k,index:_,offset:j})):s.ticks?s.ticks(b).map(k=>({coordinate:s(k)+j,value:k,offset:j})):s.domain().map((k,_)=>({coordinate:s(k)+j,value:c?c[k]:k,index:_,offset:j}))}},_L=Oe([Rt,vf,Cu,Au,o4,jf,d4,u4,ga],mie),hie=(e,a,n,s,r,l,c)=>{if(!(a==null||n==null||s==null||s[0]===s[1])){var d=mo(e,c),{tickCount:m}=a,h=0;return h=c==="angleAxis"&&(s==null?void 0:s.length)>=2?hn(s[0]-s[1])*2*h:h,d&&l?l.map((f,g)=>({coordinate:n(f)+h,value:f,index:g,offset:h})):n.ticks?n.ticks(m).map(f=>({coordinate:n(f)+h,value:f,offset:h})):n.domain().map((f,g)=>({coordinate:n(f)+h,value:r?r[f]:f,index:g,offset:h}))}},lo=Oe([Rt,vf,Au,jf,d4,u4,ga],hie),oo=Oe(Ba,Au,(e,a)=>{if(!(e==null||a==null))return zp(zp({},e),{},{scale:a})}),fie=Oe([Ba,Cu,r4,bL],i4);Oe((e,a,n)=>WS(e,n),fie,(e,a)=>{if(!(e==null||a==null))return zp(zp({},e),{},{scale:a})});var xie=Oe([Rt,lS,oS],(e,a,n)=>{switch(e){case"horizontal":return a.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kL=e=>e.options.defaultTooltipEventType,CL=e=>e.options.validateTooltipEventTypes;function AL(e,a,n){if(e==null)return a;var s=e?"axis":"item";return n==null?a:n.includes(s)?s:a}function m4(e,a){var n=kL(e),s=CL(e);return AL(a,n,s)}function pie(e){return st(a=>m4(a,e))}var TL=(e,a)=>{var n,s=Number(a);if(!(Ds(s)||a==null))return s>=0?e==null||(n=e[s])===null||n===void 0?void 0:n.value:void 0},gie=e=>e.tooltip.settings,Xl={active:!1,index:null,dataKey:void 0,coordinate:void 0},bie={itemInteraction:{click:Xl,hover:Xl},axisInteraction:{click:Xl,hover:Xl},keyboardInteraction:Xl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},EL=Is({name:"tooltip",initialState:bie,reducers:{addTooltipEntrySettings(e,a){e.tooltipItemPayloads.push(a.payload)},removeTooltipEntrySettings(e,a){var n=Ki(e).tooltipItemPayloads.indexOf(a.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,a){e.settings=a.payload},setActiveMouseOverItemIndex(e,a){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=a.payload.activeIndex,e.itemInteraction.hover.dataKey=a.payload.activeDataKey,e.itemInteraction.hover.coordinate=a.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,a){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=a.payload.activeIndex,e.itemInteraction.click.dataKey=a.payload.activeDataKey,e.itemInteraction.click.coordinate=a.payload.activeCoordinate},setMouseOverAxisIndex(e,a){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=a.payload.activeIndex,e.axisInteraction.hover.dataKey=a.payload.activeDataKey,e.axisInteraction.hover.coordinate=a.payload.activeCoordinate},setMouseClickAxisIndex(e,a){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=a.payload.activeIndex,e.axisInteraction.click.dataKey=a.payload.activeDataKey,e.axisInteraction.click.coordinate=a.payload.activeCoordinate},setSyncInteraction(e,a){e.syncInteraction=a.payload},setKeyboardInteraction(e,a){e.keyboardInteraction.active=a.payload.active,e.keyboardInteraction.index=a.payload.activeIndex,e.keyboardInteraction.coordinate=a.payload.activeCoordinate,e.keyboardInteraction.dataKey=a.payload.activeDataKey}}}),{addTooltipEntrySettings:vie,removeTooltipEntrySettings:yie,setTooltipSettingsState:jie,setActiveMouseOverItemIndex:PL,mouseLeaveItem:wie,mouseLeaveChart:OL,setActiveClickItemIndex:Nie,setMouseOverAxisIndex:ML,setMouseClickAxisIndex:Sie,setSyncInteraction:v2,setKeyboardInteraction:y2}=EL.actions,_ie=EL.reducer;function vE(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function tx(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?vE(Object(n),!0).forEach(function(s){kie(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function kie(e,a,n){return(a=Cie(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Cie(e){var a=Aie(e,"string");return typeof a=="symbol"?a:a+""}function Aie(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Tie(e,a,n){return a==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Eie(e){return e.index!=null}var DL=(e,a,n,s)=>{if(a==null)return Xl;var r=Tie(e,a,n);if(r==null)return Xl;if(r.active)return r;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(Eie(r)){if(l)return tx(tx({},r),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return tx(tx({},Xl),{},{coordinate:r.coordinate})},h4=(e,a)=>{var n=e==null?void 0:e.index;if(n==null)return null;var s=Number(n);if(!Ls(s))return n;var r=0,l=1/0;return a.length>0&&(l=a.length-1),String(Math.max(r,Math.min(s,l)))},RL=(e,a,n,s,r,l,c,d)=>{if(!(l==null||d==null)){var m=c[0],h=m==null?void 0:d(m.positions,l);if(h!=null)return h;var f=r==null?void 0:r[Number(l)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(s.top+a)/2};default:return{x:(s.left+e)/2,y:f.coordinate}}}},$L=(e,a,n,s)=>{if(a==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var r;return n==="hover"?r=e.itemInteraction.hover.dataKey:r=e.itemInteraction.click.dataKey,r==null&&s!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===r})},wf=e=>e.options.tooltipPayloadSearcher,Tu=e=>e.tooltip;function yE(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function jE(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?yE(Object(n),!0).forEach(function(s){Pie(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Pie(e,a,n){return(a=Oie(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Oie(e){var a=Mie(e,"string");return typeof a=="symbol"?a:a+""}function Mie(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Die(e,a){return e??a}var LL=(e,a,n,s,r,l,c)=>{if(!(a==null||l==null)){var{chartData:d,computedData:m,dataStartIndex:h,dataEndIndex:f}=n,g=[];return e.reduce((b,y)=>{var j,{dataDefinedOnItem:w,settings:N}=y,k=Die(w,d),_=Array.isArray(k)?TR(k,h,f):k,C=(j=N==null?void 0:N.dataKey)!==null&&j!==void 0?j:s==null?void 0:s.dataKey,O=N==null?void 0:N.nameKey,P;if(s!=null&&s.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&c==="axis"?P=S8(_,s.dataKey,r):P=l(_,a,m,O),Array.isArray(P))P.forEach(B=>{var M=jE(jE({},N),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});b.push(eT({tooltipEntrySettings:M,dataKey:B.dataKey,payload:B.payload,value:Jt(B.payload,B.dataKey),name:B.name}))});else{var E;b.push(eT({tooltipEntrySettings:N,dataKey:C,payload:P,value:Jt(P,C),name:(E=Jt(P,O))!==null&&E!==void 0?E:N==null?void 0:N.name}))}return b},g)}},f4=Oe([en,Rt,eL,FS,Ja],pL),Rie=Oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,a)=>[...e,...a]),$ie=Oe([Ja,_u],XS),Nf=Oe([Rie,en,$ie],ZS),Lie=Oe([Nf],e=>e.filter(Ug)),Iie=Oe([Nf],QS),Eu=Oe([Iie,xo],JS),Bie=Oe([Lie,xo,en],J$),x4=Oe([Eu,en,Nf],t4),zie=Oe([en],a4),Uie=Oe([Nf],e=>e.filter(Ug)),Fie=Oe([Bie,Uie,gf],rL),Vie=Oe([Fie,xo,Ja],iL),Hie=Oe([Nf],aL),qie=Oe([Eu,en,Hie,Hg,Ja],lL),Kie=Oe([cL,Ja,_u],ku),Gie=Oe([Kie,Ja],mL),Yie=Oe([dL,Ja,_u],ku),Wie=Oe([Yie,Ja],hL),Xie=Oe([uL,Ja,_u],ku),Zie=Oe([Xie,Ja],fL),Qie=Oe([Gie,Zie,Wie],Up),Jie=Oe([en,zie,Vie,qie,Qie,Rt,Ja],n4),IL=Oe([en,Rt,Eu,x4,gf,Ja,Jie],s4),ele=Oe([IL,en,f4],l4),tle=Oe([en,IL,ele,Ja],c4),BL=e=>{var a=Ja(e),n=_u(e),s=!1;return jf(e,a,n,s)},zL=Oe([en,BL],Bg),UL=Oe([en,f4,tle,zL],i4),ale=Oe([Rt,x4,en,Ja],NL),nle=Oe([Rt,x4,en,Ja],SL),sle=(e,a,n,s,r,l,c,d)=>{if(a){var{type:m}=a,h=mo(e,d);if(s){var f=n==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=m==="category"&&s.bandwidth?s.bandwidth()/f:0;return g=d==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?hn(r[0]-r[1])*2*g:g,h&&c?c.map((b,y)=>({coordinate:s(b)+g,value:b,index:y,offset:g})):s.domain().map((b,y)=>({coordinate:s(b)+g,value:l?l[b]:b,index:y,offset:g}))}}},ml=Oe([Rt,en,f4,UL,BL,ale,nle,Ja],sle),p4=Oe([kL,CL,gie],(e,a,n)=>AL(n.shared,e,a)),FL=e=>e.tooltip.settings.trigger,g4=e=>e.tooltip.settings.defaultIndex,Gg=Oe([Tu,p4,FL,g4],DL),co=Oe([Gg,Eu],h4),VL=Oe([ml,co],TL),HL=Oe([Gg],e=>{if(e)return e.dataKey}),qL=Oe([Tu,p4,FL,g4],$L),rle=Oe([ol,cl,Rt,Za,ml,g4,qL,wf],RL),ile=Oe([Gg,rle],(e,a)=>e!=null&&e.coordinate?e.coordinate:a),lle=Oe([Gg],e=>e.active),ole=Oe([qL,co,xo,en,VL,wf,p4],LL),cle=Oe([ole],e=>{if(e!=null){var a=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(a))}});function wE(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function NE(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?wE(Object(n),!0).forEach(function(s){dle(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function dle(e,a,n){return(a=ule(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function ule(e){var a=mle(e,"string");return typeof a=="symbol"?a:a+""}function mle(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var hle=()=>st(en),fle=()=>{var e=hle(),a=st(ml),n=st(UL);return zh(NE(NE({},e),{},{scale:n}),a)},xle=()=>st(FS),b4=(e,a)=>a,KL=(e,a,n)=>n,v4=(e,a,n,s)=>s,ple=Oe(ml,e=>vg(e,a=>a.coordinate)),y4=Oe([Tu,b4,KL,v4],DL),GL=Oe([y4,Eu],h4),gle=(e,a,n)=>{if(a!=null){var s=Tu(e);return a==="axis"?n==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:n==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},YL=Oe([Tu,b4,KL,v4],$L),Fp=Oe([ol,cl,Rt,Za,ml,v4,YL,wf],RL),ble=Oe([y4,Fp],(e,a)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:a}),WL=Oe(ml,GL,TL),vle=Oe([YL,GL,xo,en,WL,wf,b4],LL),yle=Oe([y4],e=>({isActive:e.active,activeIndex:e.index})),jle=(e,a,n,s,r,l,c,d)=>{if(!(!e||!a||!s||!r||!l)){var m=Fee(e.chartX,e.chartY,a,n,d);if(m){var h=Hee(m,a),f=Tee(h,c,l,s,r),g=Vee(a,l,f,m);return{activeIndex:String(f),activeCoordinate:g}}}};function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},j2.apply(null,arguments)}function SE(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function ax(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?SE(Object(n),!0).forEach(function(s){wle(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function wle(e,a,n){return(a=Nle(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Nle(e){var a=Sle(e,"string");return typeof a=="symbol"?a:a+""}function Sle(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function _le(e){var{coordinate:a,payload:n,index:s,offset:r,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:m,chartName:h}=e,f=a,g=n,b=s;if(!d||!f||h!=="ScatterChart"&&m!=="axis")return null;var y,j;if(h==="ScatterChart")y=f,j=Ute;else if(h==="BarChart")y=Fte(c,f,r,l),j=GR;else if(c==="radial"){var{cx:w,cy:N,radius:k,startAngle:_,endAngle:C}=YR(f);y={cx:w,cy:N,startAngle:_,endAngle:C,innerRadius:k,outerRadius:k},j=xS}else y={points:kae(c,f,r)},j=hS;var O=typeof d=="object"&&"className"in d?d.className:void 0,P=ax(ax(ax(ax({stroke:"#ccc",pointerEvents:"none"},r),y),ha(d,!1)),{},{payload:g,payloadIndex:b,className:St("recharts-tooltip-cursor",O)});return p.isValidElement(d)?p.cloneElement(d,P):p.createElement(j,P)}function kle(e){var a=fle(),n=$R(),s=Tg(),r=xle();return p.createElement(_le,j2({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:s,tooltipAxisBandSize:a,chartName:r}))}var XL=p.createContext(null),Cle=()=>p.useContext(XL),sj={exports:{}},_E;function Ale(){return _E||(_E=1,function(e){var a=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function r(m,h,f){this.fn=m,this.context=h,this.once=f||!1}function l(m,h,f,g,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new r(f,g||m,b),j=n?n+h:h;return m._events[j]?m._events[j].fn?m._events[j]=[m._events[j],y]:m._events[j].push(y):(m._events[j]=y,m._eventsCount++),m}function c(m,h){--m._eventsCount===0?m._events=new s:delete m._events[h]}function d(){this._events=new s,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],f,g;if(this._eventsCount===0)return h;for(g in f=this._events)a.call(f,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},d.prototype.listeners=function(h){var f=n?n+h:h,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,y=g.length,j=new Array(y);b<y;b++)j[b]=g[b].fn;return j},d.prototype.listenerCount=function(h){var f=n?n+h:h,g=this._events[f];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,f,g,b,y,j){var w=n?n+h:h;if(!this._events[w])return!1;var N=this._events[w],k=arguments.length,_,C;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),k){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,f),!0;case 3:return N.fn.call(N.context,f,g),!0;case 4:return N.fn.call(N.context,f,g,b),!0;case 5:return N.fn.call(N.context,f,g,b,y),!0;case 6:return N.fn.call(N.context,f,g,b,y,j),!0}for(C=1,_=new Array(k-1);C<k;C++)_[C-1]=arguments[C];N.fn.apply(N.context,_)}else{var O=N.length,P;for(C=0;C<O;C++)switch(N[C].once&&this.removeListener(h,N[C].fn,void 0,!0),k){case 1:N[C].fn.call(N[C].context);break;case 2:N[C].fn.call(N[C].context,f);break;case 3:N[C].fn.call(N[C].context,f,g);break;case 4:N[C].fn.call(N[C].context,f,g,b);break;default:if(!_)for(P=1,_=new Array(k-1);P<k;P++)_[P-1]=arguments[P];N[C].fn.apply(N[C].context,_)}}return!0},d.prototype.on=function(h,f,g){return l(this,h,f,g,!1)},d.prototype.once=function(h,f,g){return l(this,h,f,g,!0)},d.prototype.removeListener=function(h,f,g,b){var y=n?n+h:h;if(!this._events[y])return this;if(!f)return c(this,y),this;var j=this._events[y];if(j.fn)j.fn===f&&(!b||j.once)&&(!g||j.context===g)&&c(this,y);else{for(var w=0,N=[],k=j.length;w<k;w++)(j[w].fn!==f||b&&!j[w].once||g&&j[w].context!==g)&&N.push(j[w]);N.length?this._events[y]=N.length===1?N[0]:N:c(this,y)}return this},d.prototype.removeAllListeners=function(h){var f;return h?(f=n?n+h:h,this._events[f]&&c(this,f)):(this._events=new s,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d}(sj)),sj.exports}var Tle=Ale();const Ele=Ur(Tle);var Gh=new Ele,w2="recharts.syncEvent.tooltip",kE="recharts.syncEvent.brush";function j4(e,a){if(a){var n=Number.parseInt(a,10);if(!Ds(n))return e==null?void 0:e[n]}}var Ple={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ZL=Is({name:"options",initialState:Ple,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ole=ZL.reducer,{createEventEmitter:Mle}=ZL.actions;function Dle(e){return e.tooltip.syncInteraction}var Rle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QL=Is({name:"chartData",initialState:Rle,reducers:{setChartData(e,a){if(e.chartData=a.payload,a.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}a.payload.length>0&&e.dataEndIndex!==a.payload.length-1&&(e.dataEndIndex=a.payload.length-1)},setComputedData(e,a){e.computedData=a.payload},setDataStartEndIndexes(e,a){var{startIndex:n,endIndex:s}=a.payload;n!=null&&(e.dataStartIndex=n),s!=null&&(e.dataEndIndex=s)}}}),{setChartData:CE,setDataStartEndIndexes:$le,setComputedData:Xpe}=QL.actions,Lle=QL.reducer,JL=()=>{};function Ile(){var e=st(VS),a=st(HS),n=ya(),s=st(G$),r=st(ml),l=Tg(),c=cS(),d=st(m=>m.rootProps.className);p.useEffect(()=>{if(e==null)return JL;var m=(h,f,g)=>{if(a!==g&&e===h){if(s==="index"){n(f);return}if(r!=null){var b;if(typeof s=="function"){var y={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},j=s(r,y);b=r[j]}else s==="value"&&(b=r.find(E=>String(E.value)===f.payload.label));var{coordinate:w}=f.payload;if(b==null||f.payload.active===!1||w==null||c==null){n(v2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:N,y:k}=w,_=Math.min(N,c.x+c.width),C=Math.min(k,c.y+c.height),O={x:l==="horizontal"?b.coordinate:_,y:l==="horizontal"?C:b.coordinate},P=v2({active:f.payload.active,coordinate:O,dataKey:f.payload.dataKey,index:String(b.index),label:f.payload.label});n(P)}}};return Gh.on(w2,m),()=>{Gh.off(w2,m)}},[d,n,a,e,s,r,l,c])}function Ble(){var e=st(VS),a=st(HS),n=ya();p.useEffect(()=>{if(e==null)return JL;var s=(r,l,c)=>{a!==c&&e===r&&n($le(l))};return Gh.on(kE,s),()=>{Gh.off(kE,s)}},[n,a,e])}function zle(){var e=ya();p.useEffect(()=>{e(Mle())},[e]),Ile(),Ble()}function Ule(e,a,n,s,r,l){var c=st(b=>gle(b,e,a)),d=st(HS),m=st(VS),h=st(G$),f=st(Dle),g=f==null?void 0:f.active;p.useEffect(()=>{if(!g&&m!=null&&d!=null){var b=v2({active:l,coordinate:n,dataKey:c,index:r,label:typeof s=="number"?String(s):s});Gh.emit(w2,m,b,d)}},[g,n,c,r,s,d,m,h,l])}function AE(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function TE(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?AE(Object(n),!0).forEach(function(s){Fle(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Fle(e,a,n){return(a=Vle(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Vle(e){var a=Hle(e,"string");return typeof a=="symbol"?a:a+""}function Hle(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function qle(e){return e.dataKey}function Kle(e,a){return p.isValidElement(e)?p.cloneElement(e,a):typeof e=="function"?p.createElement(e,a):p.createElement(vte,a)}var EE=[],Gle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!kc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ps(e){var a=Bs(e,Gle),{active:n,allowEscapeViewBox:s,animationDuration:r,animationEasing:l,content:c,filterNull:d,isAnimationActive:m,offset:h,payloadUniqBy:f,position:g,reverseDirection:b,useTranslate3d:y,wrapperStyle:j,cursor:w,shared:N,trigger:k,defaultIndex:_,portal:C,axisId:O}=a,P=ya(),E=typeof _=="number"?String(_):_;p.useEffect(()=>{P(jie({shared:N,trigger:k,axisId:O,active:n,defaultIndex:E}))},[P,N,k,O,n,E]);var B=cS(),M=zR(),V=pie(N),{activeIndex:G,isActive:H}=st(te=>yle(te,V,k,E)),F=st(te=>vle(te,V,k,E)),ie=st(te=>WL(te,V,k,E)),_e=st(te=>ble(te,V,k,E)),ce=F,T=Cle(),K=n??H,[W,I]=nR([ce,K]),A=V==="axis"?ie:void 0;Ule(V,k,_e,A,G,K);var $=C??T;if($==null)return null;var z=ce??EE;K||(z=EE),d&&z.length&&(z=Q8(ce.filter(te=>te.value!=null&&(te.hide!==!0||a.includeHidden)),f,qle));var X=z.length>0,ge=p.createElement(kte,{allowEscapeViewBox:s,animationDuration:r,animationEasing:l,isAnimationActive:m,active:K,coordinate:_e,hasPayload:X,offset:h,position:g,reverseDirection:b,useTranslate3d:y,viewBox:B,wrapperStyle:j,lastBoundingBox:W,innerRef:I,hasPortalFromProps:!!C},Kle(c,TE(TE({},a),{},{payload:z,label:A,active:K,coordinate:_e,accessibilityLayer:M})));return p.createElement(p.Fragment,null,oM.createPortal(ge,$),K&&p.createElement(kle,{cursor:w,tooltipEventType:V,coordinate:_e,payload:ce,index:G}))}var rj={},ij={},lj={},PE;function Yle(){return PE||(PE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n,s,{signal:r,edges:l}={}){let c,d=null;const m=l!=null&&l.includes("leading"),h=l==null||l.includes("trailing"),f=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{h&&f(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},s)},j=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{j(),c=void 0,d=null},N=()=>{f()},k=function(..._){if(r!=null&&r.aborted)return;c=this,d=_;const C=b==null;y(),m&&C&&f()};return k.schedule=y,k.cancel=w,k.flush=N,r==null||r.addEventListener("abort",w,{once:!0}),k}e.debounce=a}(lj)),lj}var OE;function Wle(){return OE||(OE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=Yle();function n(s,r=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:m}=l,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let f,g=null;const b=a.debounce(function(...w){f=s.apply(this,w),g=null},r,{edges:h}),y=function(...w){return m!=null&&(g===null&&(g=Date.now()),Date.now()-g>=m)?(f=s.apply(this,w),g=Date.now(),b.cancel(),b.schedule(),f):(b.apply(this,w),f)},j=()=>(b.flush(),f);return y.cancel=b.cancel,y.flush=j,y}e.debounce=n}(ij)),ij}var ME;function Xle(){return ME||(ME=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=Wle();function n(s,r=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return a.debounce(s,r,{leading:c,maxWait:r,trailing:d})}e.throttle=n}(rj)),rj}var oj,DE;function Zle(){return DE||(DE=1,oj=Xle().throttle),oj}var Qle=Zle();const Jle=Ur(Qle);var yh=function(a,n){for(var s=arguments.length,r=new Array(s>2?s-2:0),l=2;l<s;l++)r[l-2]=arguments[l]};function RE(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function cj(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?RE(Object(n),!0).forEach(function(s){eoe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function eoe(e,a,n){return(a=toe(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function toe(e){var a=aoe(e,"string");return typeof a=="symbol"?a:a+""}function aoe(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Os=p.forwardRef((e,a)=>{var{aspect:n,initialDimension:s={width:-1,height:-1},width:r="100%",height:l="100%",minWidth:c=0,minHeight:d,maxHeight:m,children:h,debounce:f=0,id:g,className:b,onResize:y,style:j={}}=e,w=p.useRef(null),N=p.useRef();N.current=y,p.useImperativeHandle(a,()=>w.current);var[k,_]=p.useState({containerWidth:s.width,containerHeight:s.height}),C=p.useCallback((P,E)=>{_(B=>{var M=Math.round(P),V=Math.round(E);return B.containerWidth===M&&B.containerHeight===V?B:{containerWidth:M,containerHeight:V}})},[]);p.useEffect(()=>{var P=V=>{var G,{width:H,height:F}=V[0].contentRect;C(H,F),(G=N.current)===null||G===void 0||G.call(N,H,F)};f>0&&(P=Jle(P,f,{trailing:!0,leading:!1}));var E=new ResizeObserver(P),{width:B,height:M}=w.current.getBoundingClientRect();return C(B,M),E.observe(w.current),()=>{E.disconnect()}},[C,f]);var O=p.useMemo(()=>{var{containerWidth:P,containerHeight:E}=k;if(P<0||E<0)return null;yh(sc(r)||sc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,r,l),yh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=sc(r)?P:r,M=sc(l)?E:l;return n&&n>0&&(B?M=B/n:M&&(B=M*n),m&&M>m&&(M=m)),yh(B>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,M,r,l,c,d,n),p.Children.map(h,V=>p.cloneElement(V,{width:B,height:M,style:cj({width:B,height:M},V.props.style)}))},[n,h,l,m,d,c,k,r]);return p.createElement("div",{id:g?"".concat(g):void 0,className:St("recharts-responsive-container",b),style:cj(cj({},j),{},{width:r,height:l,minWidth:c,minHeight:d,maxHeight:m}),ref:w},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},O))}),Hi=e=>null;Hi.displayName="Cell";function noe(e,a,n){return(a=soe(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function soe(e){var a=roe(e,"string");return typeof a=="symbol"?a:a+""}function roe(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}class ioe{constructor(a){noe(this,"cache",new Map),this.maxSize=a}get(a){var n=this.cache.get(a);return n!==void 0&&(this.cache.delete(a),this.cache.set(a,n)),n}set(a,n){if(this.cache.has(a))this.cache.delete(a);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(a,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function $E(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function loe(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?$E(Object(n),!0).forEach(function(s){ooe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ooe(e,a,n){return(a=coe(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function coe(e){var a=doe(e,"string");return typeof a=="symbol"?a:a+""}function doe(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var uoe={cacheSize:2e3,enableCache:!0},e7=loe({},uoe),LE=new ioe(e7.cacheSize),moe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IE="recharts_measurement_span";function hoe(e,a){var n=a.fontSize||"",s=a.fontFamily||"",r=a.fontWeight||"",l=a.fontStyle||"",c=a.letterSpacing||"",d=a.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(s,"|").concat(r,"|").concat(l,"|").concat(c,"|").concat(d)}var BE=(e,a)=>{try{var n=document.getElementById(IE);n||(n=document.createElement("span"),n.setAttribute("id",IE),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,moe,a),n.textContent="".concat(e);var s=n.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},jh=function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a==null||kc.isSsr)return{width:0,height:0};if(!e7.enableCache)return BE(a,n);var s=hoe(a,n),r=LE.get(s);if(r)return r;var l=BE(a,n);return LE.set(s,l),l},zE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,foe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xoe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,t7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},poe=Object.keys(t7),Id="NaN";function goe(e,a){return e*t7[a]}class rs{static parse(a){var n,[,s,r]=(n=xoe.exec(a))!==null&&n!==void 0?n:[];return new rs(parseFloat(s),r??"")}constructor(a,n){this.num=a,this.unit=n,this.num=a,this.unit=n,Ds(a)&&(this.unit=""),n!==""&&!foe.test(n)&&(this.num=NaN,this.unit=""),poe.includes(n)&&(this.num=goe(a,n),this.unit="px")}add(a){return this.unit!==a.unit?new rs(NaN,""):new rs(this.num+a.num,this.unit)}subtract(a){return this.unit!==a.unit?new rs(NaN,""):new rs(this.num-a.num,this.unit)}multiply(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new rs(NaN,""):new rs(this.num*a.num,this.unit||a.unit)}divide(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new rs(NaN,""):new rs(this.num/a.num,this.unit||a.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ds(this.num)}}function a7(e){if(e.includes(Id))return Id;for(var a=e;a.includes("*")||a.includes("/");){var n,[,s,r,l]=(n=zE.exec(a))!==null&&n!==void 0?n:[],c=rs.parse(s??""),d=rs.parse(l??""),m=r==="*"?c.multiply(d):c.divide(d);if(m.isNaN())return Id;a=a.replace(zE,m.toString())}for(;a.includes("+")||/.-\d+(?:\.\d+)?/.test(a);){var h,[,f,g,b]=(h=UE.exec(a))!==null&&h!==void 0?h:[],y=rs.parse(f??""),j=rs.parse(b??""),w=g==="+"?y.add(j):y.subtract(j);if(w.isNaN())return Id;a=a.replace(UE,w.toString())}return a}var FE=/\(([^()]*)\)/;function boe(e){for(var a=e,n;(n=FE.exec(a))!=null;){var[,s]=n;a=a.replace(FE,a7(s))}return a}function voe(e){var a=e.replace(/\s+/g,"");return a=boe(a),a=a7(a),a}function yoe(e){try{return voe(e)}catch{return Id}}function dj(e){var a=yoe(e.slice(5,-1));return a===Id?"":a}var joe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],woe=["dx","dy","angle","className","breakAll"];function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N2.apply(null,arguments)}function VE(e,a){if(e==null)return{};var n,s,r=Noe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Noe(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var n7=/[ \f\n\r\t\v\u2028\u2029]+/,s7=e=>{var{children:a,breakAll:n,style:s}=e;try{var r=[];ca(a)||(n?r=a.toString().split(""):r=a.toString().split(n7));var l=r.map(d=>({word:d,width:jh(d,s).width})),c=n?0:jh("",s).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},Soe=(e,a,n,s,r)=>{var{maxLines:l,children:c,style:d,breakAll:m}=e,h=et(l),f=c,g=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce((F,ie)=>{var{word:_e,width:ce}=ie,T=F[F.length-1];if(T&&(s==null||r||T.width+ce+n<Number(s)))T.words.push(_e),T.width+=ce+n;else{var K={words:[_e],width:ce};F.push(K)}return F},[])},b=g(a),y=G=>G.reduce((H,F)=>H.width>F.width?H:F);if(!h||r)return b;var j=b.length>l||y(b).width>Number(s);if(!j)return b;for(var w="",N=G=>{var H=f.slice(0,G),F=s7({breakAll:m,style:d,children:H+w}).wordsWithComputedWidth,ie=g(F),_e=ie.length>l||y(ie).width>Number(s);return[_e,ie]},k=0,_=f.length-1,C=0,O;k<=_&&C<=f.length-1;){var P=Math.floor((k+_)/2),E=P-1,[B,M]=N(E),[V]=N(P);if(!B&&!V&&(k=P+1),B&&V&&(_=P-1),!B&&V){O=M;break}C++}return O||b},HE=e=>{var a=ca(e)?[]:e.toString().split(n7);return[{words:a}]},_oe=e=>{var{width:a,scaleToFit:n,children:s,style:r,breakAll:l,maxLines:c}=e;if((a||n)&&!kc.isSsr){var d,m,h=s7({breakAll:l,children:s,style:r});if(h){var{wordsWithComputedWidth:f,spaceWidth:g}=h;d=f,m=g}else return HE(s);return Soe({breakAll:l,children:s,maxLines:c,style:r},d,m,a,n)}return HE(s)},qE="#808080",Yg=p.forwardRef((e,a)=>{var{x:n=0,y:s=0,lineHeight:r="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:m="end",fill:h=qE}=e,f=VE(e,joe),g=p.useMemo(()=>_oe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:b,dy:y,angle:j,className:w,breakAll:N}=f,k=VE(f,woe);if(!mi(n)||!mi(s))return null;var _=n+(et(b)?b:0),C=s+(et(y)?y:0),O;switch(m){case"start":O=dj("calc(".concat(l,")"));break;case"middle":O=dj("calc(".concat((g.length-1)/2," * -").concat(r," + (").concat(l," / 2))"));break;default:O=dj("calc(".concat(g.length-1," * -").concat(r,")"));break}var P=[];if(c){var E=g[0].width,{width:B}=f;P.push("scale(".concat(et(B)?B/E:1,")"))}return j&&P.push("rotate(".concat(j,", ").concat(_,", ").concat(C,")")),P.length&&(k.transform=P.join(" ")),p.createElement("text",N2({},ha(k,!0),{ref:a,x:_,y:C,className:St("recharts-text",w),textAnchor:d,fill:h.includes("url")?qE:h}),g.map((M,V)=>{var G=M.words.join(N?"":" ");return p.createElement("tspan",{x:_,dy:V===0?O:r,key:"".concat(G,"-").concat(V)},G)}))});Yg.displayName="Text";var koe=["offset"],Coe=["labelRef"];function KE(e,a){if(e==null)return{};var n,s,r=Aoe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aoe(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function GE(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function _a(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?GE(Object(n),!0).forEach(function(s){Toe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Toe(e,a,n){return(a=Eoe(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Eoe(e){var a=Poe(e,"string");return typeof a=="symbol"?a:a+""}function Poe(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ui.apply(null,arguments)}var Ooe=e=>{var{value:a,formatter:n}=e,s=ca(e.children)?a:e.children;return typeof n=="function"?n(s):s},w4=e=>e!=null&&typeof e=="function",Moe=(e,a)=>{var n=hn(a-e),s=Math.min(Math.abs(a-e),360);return n*s},Doe=(e,a,n,s)=>{var{position:r,offset:l,className:c}=e,{cx:d,cy:m,innerRadius:h,outerRadius:f,startAngle:g,endAngle:b,clockWise:y}=s,j=(h+f)/2,w=Moe(g,b),N=w>=0?1:-1,k,_;r==="insideStart"?(k=g+N*l,_=y):r==="insideEnd"?(k=b-N*l,_=!y):r==="end"&&(k=b+N*l,_=y),_=w<=0?_:!_;var C=Ha(d,m,j,k),O=Ha(d,m,j,k+(_?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(_?0:1,`,
    `).concat(O.x,",").concat(O.y),E=ca(e.id)?Lh("recharts-radial-line-"):e.id;return p.createElement("text",Ui({},n,{dominantBaseline:"central",className:St("recharts-radial-bar-label",c)}),p.createElement("defs",null,p.createElement("path",{id:E,d:P})),p.createElement("textPath",{xlinkHref:"#".concat(E)},a))},Roe=(e,a,n)=>{var{cx:s,cy:r,innerRadius:l,outerRadius:c,startAngle:d,endAngle:m}=e,h=(d+m)/2;if(n==="outside"){var{x:f,y:g}=Ha(s,r,c+a,h);return{x:f,y:g,textAnchor:f>=s?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:s,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:s,y:r,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:s,y:r,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,{x:y,y:j}=Ha(s,r,b,h);return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},$oe=(e,a)=>{var{parentViewBox:n,offset:s,position:r}=e,{x:l,y:c,width:d,height:m}=a,h=m>=0?1:-1,f=h*s,g=h>0?"end":"start",b=h>0?"start":"end",y=d>=0?1:-1,j=y*s,w=y>0?"end":"start",N=y>0?"start":"end";if(r==="top"){var k={x:l+d/2,y:c-h*s,textAnchor:"middle",verticalAnchor:g};return _a(_a({},k),n?{height:Math.max(c-n.y,0),width:d}:{})}if(r==="bottom"){var _={x:l+d/2,y:c+m+f,textAnchor:"middle",verticalAnchor:b};return _a(_a({},_),n?{height:Math.max(n.y+n.height-(c+m),0),width:d}:{})}if(r==="left"){var C={x:l-j,y:c+m/2,textAnchor:w,verticalAnchor:"middle"};return _a(_a({},C),n?{width:Math.max(C.x-n.x,0),height:m}:{})}if(r==="right"){var O={x:l+d+j,y:c+m/2,textAnchor:N,verticalAnchor:"middle"};return _a(_a({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:m}:{})}var P=n?{width:d,height:m}:{};return r==="insideLeft"?_a({x:l+j,y:c+m/2,textAnchor:N,verticalAnchor:"middle"},P):r==="insideRight"?_a({x:l+d-j,y:c+m/2,textAnchor:w,verticalAnchor:"middle"},P):r==="insideTop"?_a({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:b},P):r==="insideBottom"?_a({x:l+d/2,y:c+m-f,textAnchor:"middle",verticalAnchor:g},P):r==="insideTopLeft"?_a({x:l+j,y:c+f,textAnchor:N,verticalAnchor:b},P):r==="insideTopRight"?_a({x:l+d-j,y:c+f,textAnchor:w,verticalAnchor:b},P):r==="insideBottomLeft"?_a({x:l+j,y:c+m-f,textAnchor:N,verticalAnchor:g},P):r==="insideBottomRight"?_a({x:l+d-j,y:c+m-f,textAnchor:w,verticalAnchor:g},P):r&&typeof r=="object"&&(et(r.x)||sc(r.x))&&(et(r.y)||sc(r.y))?_a({x:l+Qn(r.x,d),y:c+Qn(r.y,m),textAnchor:"end",verticalAnchor:"end"},P):_a({x:l+d/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Loe=e=>"cx"in e&&et(e.cx);function Ts(e){var{offset:a=5}=e,n=KE(e,koe),s=_a({offset:a},n),{viewBox:r,position:l,value:c,children:d,content:m,className:h="",textBreakAll:f,labelRef:g}=s,b=st(Q$),y=cS(),j=l==="center"?y:b??y,w=r||j;if(!w||ca(c)&&ca(d)&&!p.isValidElement(m)&&typeof m!="function")return null;var N=_a(_a({},s),{},{viewBox:w});if(p.isValidElement(m)){var{labelRef:k}=N,_=KE(N,Coe);return p.cloneElement(m,_)}var C;if(typeof m=="function"){if(C=p.createElement(m,N),p.isValidElement(C))return C}else C=Ooe(s);var O=Loe(w),P=ha(s,!0);if(O&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Doe(s,C,P,w);var E=O?Roe(w,s.offset,s.position):$oe(s,w);return p.createElement(Yg,Ui({ref:g,className:St("recharts-label",h)},P,E,{breakAll:f}),C)}Ts.displayName="Label";var r7=e=>{var{cx:a,cy:n,angle:s,startAngle:r,endAngle:l,r:c,radius:d,innerRadius:m,outerRadius:h,x:f,y:g,top:b,left:y,width:j,height:w,clockWise:N,labelViewBox:k}=e;if(k)return k;if(et(j)&&et(w)){if(et(f)&&et(g))return{x:f,y:g,width:j,height:w};if(et(b)&&et(y))return{x:b,y,width:j,height:w}}if(et(f)&&et(g))return{x:f,y:g,width:0,height:0};if(et(a)&&et(n))return{cx:a,cy:n,startAngle:r||s||0,endAngle:l||s||0,innerRadius:m||0,outerRadius:h||d||c||0,clockWise:N};if(e.viewBox)return e.viewBox},Ioe=(e,a,n)=>{if(!e)return null;var s={viewBox:a,labelRef:n};return e===!0?p.createElement(Ts,Ui({key:"label-implicit"},s)):mi(e)?p.createElement(Ts,Ui({key:"label-implicit",value:e},s)):p.isValidElement(e)?e.type===Ts?p.cloneElement(e,_a({key:"label-implicit"},s)):p.createElement(Ts,Ui({key:"label-implicit",content:e},s)):w4(e)?p.createElement(Ts,Ui({key:"label-implicit",content:e},s)):e&&typeof e=="object"?p.createElement(Ts,Ui({},e,{key:"label-implicit"},s)):null},Boe=function(a,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!a||!a.children&&s&&!a.label)return null;var{children:r,labelRef:l}=a,c=r7(a),d=uf(r,Ts).map((h,f)=>p.cloneElement(h,{viewBox:n||c,key:"label-".concat(f)}));if(!s)return d;var m=Ioe(a.label,n||c,l);return[m,...d]};Ts.parseViewBox=r7;Ts.renderCallByParent=Boe;var uj={},mj={},YE;function zoe(){return YE||(YE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return n[n.length-1]}e.last=a}(mj)),mj}var hj={},WE;function Uoe(){return WE||(WE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=a}(hj)),hj}var XE;function Foe(){return XE||(XE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const a=zoe(),n=Uoe(),s=XN();function r(l){if(s.isArrayLike(l))return a.last(n.toArray(l))}e.last=r}(uj)),uj}var fj,ZE;function Voe(){return ZE||(ZE=1,fj=Foe().last),fj}var Hoe=Voe();const qoe=Ur(Hoe);var Koe=["valueAccessor"],Goe=["data","dataKey","clockWise","id","textBreakAll"];function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vp.apply(null,arguments)}function QE(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function JE(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?QE(Object(n),!0).forEach(function(s){Yoe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Yoe(e,a,n){return(a=Woe(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Woe(e){var a=Xoe(e,"string");return typeof a=="symbol"?a:a+""}function Xoe(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function eP(e,a){if(e==null)return{};var n,s,r=Zoe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zoe(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Qoe=e=>Array.isArray(e.value)?qoe(e.value):e.value;function ao(e){var{valueAccessor:a=Qoe}=e,n=eP(e,Koe),{data:s,dataKey:r,clockWise:l,id:c,textBreakAll:d}=n,m=eP(n,Goe);return!s||!s.length?null:p.createElement(Vn,{className:"recharts-label-list"},s.map((h,f)=>{var g=ca(r)?a(h,f):Jt(h&&h.payload,r),b=ca(c)?{}:{id:"".concat(c,"-").concat(f)};return p.createElement(Ts,Vp({},ha(h,!0),m,b,{parentViewBox:h.parentViewBox,value:g,textBreakAll:d,viewBox:Ts.parseViewBox(ca(l)?h:JE(JE({},h),{},{clockWise:l})),key:"label-".concat(f),index:f}))}))}ao.displayName="LabelList";function Joe(e,a){return e?e===!0?p.createElement(ao,{key:"labelList-implicit",data:a}):p.isValidElement(e)||w4(e)?p.createElement(ao,{key:"labelList-implicit",data:a,content:e}):typeof e=="object"?p.createElement(ao,Vp({data:a},e,{key:"labelList-implicit"})):null:null}function ece(e,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:s}=e,r=uf(s,ao).map((c,d)=>p.cloneElement(c,{data:a,key:"labelList-".concat(d)}));if(!n)return r;var l=Joe(e.label,a);return[l,...r]}ao.renderCallByParent=ece;function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},S2.apply(null,arguments)}var i7=e=>{var{cx:a,cy:n,r:s,className:r}=e,l=St("recharts-dot",r);return a===+a&&n===+n&&s===+s?p.createElement("circle",S2({},ll(e),FN(e),{className:l,cx:a,cy:n,r:s})):null},l7=e=>e.graphicalItems.polarItems,tce=Oe([ga,bf],XS),N4=Oe([l7,Ba,tce],ZS),ace=Oe([N4],QS),S4=Oe([ace,BS],JS),nce=Oe([S4,Ba,N4],t4),sce=Oe([S4,Ba,N4],(e,a,n)=>n.length>0?e.flatMap(s=>n.flatMap(r=>{var l,c=Jt(s,(l=a.dataKey)!==null&&l!==void 0?l:r.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(a==null?void 0:a.dataKey)!=null?e.map(s=>({value:Jt(s,a.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]}))),tP=()=>{},rce=Oe([Ba,xL,tP,sce,tP,Rt,ga],n4),o7=Oe([Ba,Rt,S4,nce,gf,ga,rce],s4),ice=Oe([o7,Ba,Cu],l4);Oe([Ba,o7,ice,ga],c4);var lce={radiusAxis:{},angleAxis:{}},c7=Is({name:"polarAxis",initialState:lce,reducers:{addRadiusAxis(e,a){e.radiusAxis[a.payload.id]=a.payload},removeRadiusAxis(e,a){delete e.radiusAxis[a.payload.id]},addAngleAxis(e,a){e.angleAxis[a.payload.id]=a.payload},removeAngleAxis(e,a){delete e.angleAxis[a.payload.id]}}}),{addRadiusAxis:Zpe,removeRadiusAxis:Qpe,addAngleAxis:Jpe,removeAngleAxis:ege}=c7.actions,oce=c7.reducer;function aP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function nP(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?aP(Object(n),!0).forEach(function(s){cce(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cce(e,a,n){return(a=dce(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function dce(e){var a=uce(e,"string");return typeof a=="symbol"?a:a+""}function uce(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var mce=(e,a)=>a,_4=Oe([l7,mce],(e,a)=>e.filter(n=>n.type==="pie").find(n=>n.id===a)),hce=[],k4=(e,a,n)=>(n==null?void 0:n.length)===0?hce:n,d7=Oe([BS,_4,k4],(e,a,n)=>{var{chartData:s}=e;if(a!=null){var r;if((a==null?void 0:a.data)!=null&&a.data.length>0?r=a.data:r=s,(!r||!r.length)&&n!=null&&(r=n.map(l=>nP(nP({},a.presentationProps),l.props))),r!=null)return r}}),fce=Oe([d7,_4,k4],(e,a,n)=>{if(!(e==null||a==null))return e.map((s,r)=>{var l,c=Jt(s,a.nameKey,a.name),d;return n!=null&&(l=n[r])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=n[r].props.fill:typeof s=="object"&&s!=null&&"fill"in s?d=s.fill:d=a.fill,{value:ju(c,a.dataKey),color:d,payload:s,type:a.legendType}})}),xce=Oe([d7,_4,k4,Za],(e,a,n,s)=>{if(!(a==null||e==null))return ode({offset:s,pieSettings:a,displayedData:e,cells:n})}),xj={},sP;function pce(){return sP||(sP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function a(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${l}]`}let s=n;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(n)===s}e.isPlainObject=a}(xj)),xj}var pj,rP;function gce(){return rP||(rP=1,pj=pce().isPlainObject),pj}var bce=gce();const vce=Ur(bce);function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hp.apply(null,arguments)}var iP=(e,a,n,s,r)=>{var l=n-s,c;return c="M ".concat(e,",").concat(a),c+="L ".concat(e+n,",").concat(a),c+="L ".concat(e+n-l/2,",").concat(a+r),c+="L ".concat(e+n-l/2-s,",").concat(a+r),c+="L ".concat(e,",").concat(a," Z"),c},yce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jce=e=>{var a=Bs(e,yce),n=p.useRef(),[s,r]=p.useState(-1);p.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&r(N)}catch{}},[]);var{x:l,y:c,upperWidth:d,lowerWidth:m,height:h,className:f}=a,{animationEasing:g,animationDuration:b,animationBegin:y,isUpdateAnimationActive:j}=a;if(l!==+l||c!==+c||d!==+d||m!==+m||h!==+h||d===0&&m===0||h===0)return null;var w=St("recharts-trapezoid",f);return j?p.createElement(Ap,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:m,height:h,x:l,y:c},duration:b,animationEasing:g,isActive:j},N=>{var{upperWidth:k,lowerWidth:_,height:C,x:O,y:P}=N;return p.createElement(Ap,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:g},p.createElement("path",Hp({},ha(a,!0),{className:w,d:iP(O,P,k,_,C),ref:n})))}):p.createElement("g",null,p.createElement("path",Hp({},ha(a,!0),{className:w,d:iP(l,c,d,m,h)})))},wce=["option","shapeType","propTransformer","activeClassName","isActive"];function Nce(e,a){if(e==null)return{};var n,s,r=Sce(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sce(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function lP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function qp(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?lP(Object(n),!0).forEach(function(s){_ce(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _ce(e,a,n){return(a=kce(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function kce(e){var a=Cce(e,"string");return typeof a=="symbol"?a:a+""}function Cce(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ace(e,a){return qp(qp({},a),e)}function Tce(e,a){return e==="symbols"}function oP(e){var{shapeType:a,elementProps:n}=e;switch(a){case"rectangle":return p.createElement(GR,n);case"trapezoid":return p.createElement(jce,n);case"sector":return p.createElement(xS,n);case"symbols":if(Tce(a))return p.createElement(GN,n);break;default:return null}}function Ece(e){return p.isValidElement(e)?e.props:e}function u7(e){var{option:a,shapeType:n,propTransformer:s=Ace,activeClassName:r="recharts-active-shape",isActive:l}=e,c=Nce(e,wce),d;if(p.isValidElement(a))d=p.cloneElement(a,qp(qp({},c),Ece(a)));else if(typeof a=="function")d=a(c);else if(vce(a)&&typeof a!="boolean"){var m=s(a,c);d=p.createElement(oP,{shapeType:n,elementProps:m})}else{var h=c;d=p.createElement(oP,{shapeType:n,elementProps:h})}return l?p.createElement(Vn,{className:r},d):d}var C4=(e,a)=>{var n=ya();return(s,r)=>l=>{e==null||e(s,r,l),n(PL({activeIndex:String(r),activeDataKey:a,activeCoordinate:s.tooltipPosition}))}},A4=e=>{var a=ya();return(n,s)=>r=>{e==null||e(n,s,r),a(wie())}},T4=(e,a)=>{var n=ya();return(s,r)=>l=>{e==null||e(s,r,l),n(Nie({activeIndex:String(r),activeDataKey:a,activeCoordinate:s.tooltipPosition}))}};function E4(e){var{fn:a,args:n}=e,s=ya(),r=us();return p.useEffect(()=>{if(!r){var l=a(n);return s(vie(l)),()=>{s(yie(l))}}},[a,n,s,r]),null}var m7=()=>{};function h7(e){var{legendPayload:a}=e,n=ya(),s=us();return p.useEffect(()=>s?m7:(n(IR(a)),()=>{n(BR(a))}),[n,s,a]),null}function Pce(e){var{legendPayload:a}=e,n=ya(),s=st(Rt);return p.useEffect(()=>s!=="centric"&&s!=="radial"?m7:(n(IR(a)),()=>{n(BR(a))}),[n,s,a]),null}function P4(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=p.useRef(Lh(a)),s=p.useRef(e);return s.current!==e&&(n.current=Lh(a),s.current=e),n.current}var gj,Oce=()=>{var[e]=p.useState(()=>Lh("uid-"));return e},Mce=(gj=PB.useId)!==null&&gj!==void 0?gj:Oce;function Dce(e,a){var n=Mce();return a||(e?"".concat(e,"-").concat(n):n)}var Rce=p.createContext(void 0),O4=e=>{var{id:a,type:n,children:s}=e,r=Dce("recharts-".concat(n),a);return p.createElement(Rce.Provider,{value:r},s(r))},$ce={cartesianItems:[],polarItems:[]},f7=Is({name:"graphicalItems",initialState:$ce,reducers:{addCartesianGraphicalItem(e,a){e.cartesianItems.push(a.payload)},replaceCartesianGraphicalItem(e,a){var{prev:n,next:s}=a.payload,r=Ki(e).cartesianItems.indexOf(n);r>-1&&(e.cartesianItems[r]=s)},removeCartesianGraphicalItem(e,a){var n=Ki(e).cartesianItems.indexOf(a.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,a){e.polarItems.push(a.payload)},removePolarGraphicalItem(e,a){var n=Ki(e).polarItems.indexOf(a.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Lce,replaceCartesianGraphicalItem:Ice,removeCartesianGraphicalItem:Bce,addPolarGraphicalItem:zce,removePolarGraphicalItem:Uce}=f7.actions,Fce=f7.reducer;function x7(e){var a=ya(),n=p.useRef(null);return p.useEffect(()=>{n.current===null?a(Lce(e)):n.current!==e&&a(Ice({prev:n.current,next:e})),n.current=e},[a,e]),p.useEffect(()=>()=>{n.current&&(a(Bce(n.current)),n.current=null)},[a]),null}function Vce(e){var a=ya();return p.useEffect(()=>(a(zce(e)),()=>{a(Uce(e))}),[a,e]),null}function Hce(){}var qce={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},cP={t:0},bj={t:1};function M4(e){var a=Bs(e,qce),{isActive:n,canBegin:s,duration:r,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:m,children:h}=a,f=KR("JavascriptAnimate",a.animationManager),[g,b]=p.useState(n?cP:bj),y=p.useRef(null);return p.useEffect(()=>{n||b(bj)},[n]),p.useEffect(()=>{if(!n||!s)return Hce;var j=qR(cP,bj,VR(l),r,b,f.getTimeoutController()),w=()=>{y.current=j()};return f.start([m,c,w,r,d]),()=>{f.stop(),y.current&&y.current(),d()}},[n,s,r,l,c,m,d,f]),h(g.t)}var Kce=["onMouseEnter","onClick","onMouseLeave"],Gce=["id"],Yce=["id"];function D4(e,a){if(e==null)return{};var n,s,r=Wce(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wce(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function dP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Aa(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?dP(Object(n),!0).forEach(function(s){Xce(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Xce(e,a,n){return(a=Zce(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Zce(e){var a=Qce(e,"string");return typeof a=="symbol"?a:a+""}function Qce(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function il(){return il=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},il.apply(null,arguments)}function Jce(e){var a=p.useMemo(()=>uf(e.children,Hi),[e.children]),n=st(s=>fce(s,e.id,a));return n==null?null:p.createElement(Pce,{legendPayload:n})}function ede(e){var{dataKey:a,nameKey:n,sectors:s,stroke:r,strokeWidth:l,fill:c,name:d,hide:m,tooltipType:h}=e;return{dataDefinedOnItem:s==null?void 0:s.map(f=>f.tooltipPayload),positions:s==null?void 0:s.map(f=>f.tooltipPosition),settings:{stroke:r,strokeWidth:l,fill:c,dataKey:a,nameKey:n,name:ju(d,a),hide:m,type:h,color:c,unit:""}}}var tde=(e,a)=>e>a?"start":e<a?"end":"middle",ade=(e,a,n)=>typeof a=="function"?a(e):Qn(a,n,n*.8),nde=(e,a,n)=>{var{top:s,left:r,width:l,height:c}=a,d=AR(l,c),m=r+Qn(e.cx,l,l/2),h=s+Qn(e.cy,c,c/2),f=Qn(e.innerRadius,d,0),g=ade(n,e.outerRadius,d),b=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:m,cy:h,innerRadius:f,outerRadius:g,maxRadius:b}},sde=(e,a)=>{var n=hn(a-e),s=Math.min(Math.abs(a-e),360);return n*s},rde=(e,a)=>{if(p.isValidElement(e))return p.cloneElement(e,a);if(typeof e=="function")return e(a);var n=St("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(hS,il({},a,{type:"linear",className:n}))},ide=(e,a,n)=>{if(p.isValidElement(e))return p.cloneElement(e,a);var s=n;if(typeof e=="function"&&(s=e(a),p.isValidElement(s)))return s;var r=St("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return p.createElement(Yg,il({},a,{alignmentBaseline:"middle",className:r}),s)};function lde(e){var{sectors:a,props:n,showLabels:s}=e,{label:r,labelLine:l,dataKey:c}=n;if(!s||!r||!a)return null;var d=ll(n),m=ha(r,!1),h=ha(l,!1),f=typeof r=="object"&&"offsetRadius"in r&&r.offsetRadius||20,g=a.map((b,y)=>{var j=(b.startAngle+b.endAngle)/2,w=Ha(b.cx,b.cy,b.outerRadius+f,j),N=Aa(Aa(Aa(Aa({},d),b),{},{stroke:"none"},m),{},{index:y,textAnchor:tde(w.x,b.cx)},w),k=Aa(Aa(Aa(Aa({},d),b),{},{fill:"none",stroke:b.fill},h),{},{index:y,points:[Ha(b.cx,b.cy,b.outerRadius,j),w],key:"line"});return p.createElement(Vn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},l&&rde(l,k),ide(r,N,Jt(b,c)))});return p.createElement(Vn,{className:"recharts-pie-labels"},g)}function p7(e){var{sectors:a,activeShape:n,inactiveShape:s,allOtherPieProps:r,showLabels:l}=e,c=st(co),{onMouseEnter:d,onClick:m,onMouseLeave:h}=r,f=D4(r,Kce),g=C4(d,r.dataKey),b=A4(h),y=T4(m,r.dataKey);return a==null?null:p.createElement(p.Fragment,null,a.map((j,w)=>{if((j==null?void 0:j.startAngle)===0&&(j==null?void 0:j.endAngle)===0&&a.length!==1)return null;var N=n&&String(w)===c,k=c?s:null,_=N?n:k,C=Aa(Aa({},j),{},{stroke:j.stroke,tabIndex:-1,[MR]:w,[DR]:r.dataKey});return p.createElement(Vn,il({tabIndex:-1,className:"recharts-pie-sector"},df(f,j,w),{onMouseEnter:g(j,w),onMouseLeave:b(j,w),onClick:y(j,w),key:"sector-".concat(j==null?void 0:j.startAngle,"-").concat(j==null?void 0:j.endAngle,"-").concat(j.midAngle,"-").concat(w)}),p.createElement(u7,il({option:_,isActive:N,shapeType:"sector"},C)))}),p.createElement(lde,{sectors:a,props:r,showLabels:l}))}function ode(e){var a,{pieSettings:n,displayedData:s,cells:r,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:m,dataKey:h,nameKey:f,tooltipType:g}=n,b=Math.abs(n.minAngle),y=sde(d,m),j=Math.abs(y),w=s.length<=1?0:(a=n.paddingAngle)!==null&&a!==void 0?a:0,N=s.filter(E=>Jt(E,h,0)!==0).length,k=(j>=360?N:N-1)*w,_=j-N*b-k,C=s.reduce((E,B)=>{var M=Jt(B,h,0);return E+(et(M)?M:0)},0),O;if(C>0){var P;O=s.map((E,B)=>{var M=Jt(E,h,0),V=Jt(E,f,B),G=nde(n,l,E),H=(et(M)?M:0)/C,F,ie=Aa(Aa({},E),r&&r[B]&&r[B].props);B?F=P.endAngle+hn(y)*w*(M!==0?1:0):F=d;var _e=F+hn(y)*((M!==0?b:0)+H*_),ce=(F+_e)/2,T=(G.innerRadius+G.outerRadius)/2,K=[{name:V,value:M,payload:ie,dataKey:h,type:g}],W=Ha(G.cx,G.cy,T,ce);return P=Aa(Aa(Aa(Aa({},n.presentationProps),{},{percent:H,cornerRadius:c,name:V,tooltipPayload:K,midAngle:ce,middleRadius:T,tooltipPosition:W},ie),G),{},{value:Jt(E,h),startAngle:F,endAngle:_e,payload:ie,paddingAngle:hn(y)*w}),P})}return O}function cde(e){var{props:a,previousSectorsRef:n}=e,{sectors:s,isAnimationActive:r,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:m,inactiveShape:h,onAnimationStart:f,onAnimationEnd:g}=a,b=P4(a,"recharts-pie-"),y=n.current,[j,w]=p.useState(!0),N=p.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),k=p.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return p.createElement(M4,{begin:l,duration:c,isActive:r,easing:d,onAnimationStart:k,onAnimationEnd:N,key:b},_=>{var C=[],O=s&&s[0],P=O.startAngle;return s.forEach((E,B)=>{var M=y&&y[B],V=B>0?io(E,"paddingAngle",0):0;if(M){var G=RA(M.endAngle-M.startAngle,E.endAngle-E.startAngle),H=Aa(Aa({},E),{},{startAngle:P+V,endAngle:P+G(_)+V});C.push(H),P=H.endAngle}else{var{endAngle:F,startAngle:ie}=E,_e=RA(0,F-ie),ce=_e(_),T=Aa(Aa({},E),{},{startAngle:P+V,endAngle:P+ce+V});C.push(T),P=T.endAngle}}),n.current=C,p.createElement(Vn,null,p.createElement(p7,{sectors:C,activeShape:m,inactiveShape:h,allOtherPieProps:a,showLabels:!j}))})}function dde(e){var{sectors:a,isAnimationActive:n,activeShape:s,inactiveShape:r}=e,l=p.useRef(null),c=l.current;return n&&a&&a.length&&(!c||c!==a)?p.createElement(cde,{props:e,previousSectorsRef:l}):p.createElement(p7,{sectors:a,activeShape:s,inactiveShape:r,allOtherPieProps:e,showLabels:!0})}function ude(e){var{hide:a,className:n,rootTabIndex:s}=e,r=St("recharts-pie",n);return a?null:p.createElement(Vn,{tabIndex:s,className:r},p.createElement(dde,e))}var mde={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!kc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function hde(e){var{id:a}=e,n=D4(e,Gce),s=p.useMemo(()=>uf(e.children,Hi),[e.children]),r=st(l=>xce(l,a,s));return p.createElement(p.Fragment,null,p.createElement(E4,{fn:ede,args:Aa(Aa({},e),{},{sectors:r})}),p.createElement(ude,il({},n,{sectors:r})))}function Yh(e){var a=Bs(e,mde),{id:n}=a,s=D4(a,Yce),r=ll(s);return p.createElement(O4,{id:n,type:"pie"},l=>p.createElement(p.Fragment,null,p.createElement(Vce,{type:"pie",id:l,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:r}),p.createElement(Jce,il({},s,{id:l})),p.createElement(hde,il({},s,{id:l})),s.children))}Yh.displayName="Pie";var fde=Oe([Za],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),xde=Oe([fde,ol,cl],(e,a,n)=>{if(!(!e||a==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,a-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),R4=()=>st(xde),pde=()=>st(cle);function uP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function mP(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?uP(Object(n),!0).forEach(function(s){gde(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function gde(e,a,n){return(a=bde(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function bde(e){var a=vde(e,"string");return typeof a=="symbol"?a:a+""}function vde(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var yde=e=>{var{point:a,childIndex:n,mainColor:s,activeDot:r,dataKey:l}=e;if(r===!1||a.x==null||a.y==null)return null;var c=mP(mP({index:n,dataKey:l,cx:a.x,cy:a.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},ha(r,!1)),FN(r)),d;return p.isValidElement(r)?d=p.cloneElement(r,c):typeof r=="function"?d=r(c):d=p.createElement(i7,c),p.createElement(Vn,{className:"recharts-active-dot"},d)};function jde(e){var{points:a,mainColor:n,activeDot:s,itemDataKey:r}=e,l=st(co),c=pde();if(a==null||c==null)return null;var d=a.find(m=>c.includes(m.payload));return ca(d)?null:yde({point:d,childIndex:Number(l),mainColor:n,dataKey:r,activeDot:s})}var wde="Invariant failed";function Nde(e,a){throw new Error(wde)}var Sde=["x","y"];function _2(){return _2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_2.apply(null,arguments)}function hP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Im(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?hP(Object(n),!0).forEach(function(s){_de(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _de(e,a,n){return(a=kde(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function kde(e){var a=Cde(e,"string");return typeof a=="symbol"?a:a+""}function Cde(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ade(e,a){if(e==null)return{};var n,s,r=Tde(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tde(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function Ede(e,a){var{x:n,y:s}=e,r=Ade(e,Sde),l="".concat(n),c=parseInt(l,10),d="".concat(s),m=parseInt(d,10),h="".concat(a.height||r.height),f=parseInt(h,10),g="".concat(a.width||r.width),b=parseInt(g,10);return Im(Im(Im(Im(Im({},a),r),c?{x:c}:{}),m?{y:m}:{}),{},{height:f,width:b,name:a.name,radius:a.radius})}function g7(e){return p.createElement(u7,_2({shapeType:"rectangle",propTransformer:Ede,activeClassName:"recharts-active-bar"},e))}var Pde=function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,r)=>{if(et(a))return a;var l=et(s)||ca(s);return l?a(s,r):(l||Nde(),n)}},Ode={},b7=Is({name:"errorBars",initialState:Ode,reducers:{addErrorBar:(e,a)=>{var{itemId:n,errorBar:s}=a.payload;e[n]||(e[n]=[]),e[n].push(s)},removeErrorBar:(e,a)=>{var{itemId:n,errorBar:s}=a.payload;e[n]&&(e[n]=e[n].filter(r=>r.dataKey!==s.dataKey||r.direction!==s.direction))}}}),{addErrorBar:tge,removeErrorBar:age}=b7.actions,Mde=b7.reducer,Dde=["children"];function Rde(e,a){if(e==null)return{};var n,s,r=$de(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $de(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Lde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ide=p.createContext(Lde);function v7(e){var{children:a}=e,n=Rde(e,Dde);return p.createElement(Ide.Provider,{value:n},a)}function $4(e,a){var n,s,r=st(h=>ul(h,e)),l=st(h=>po(h,a)),c=(n=r==null?void 0:r.allowDataOverflow)!==null&&n!==void 0?n:ks.allowDataOverflow,d=(s=l==null?void 0:l.allowDataOverflow)!==null&&s!==void 0?s:Cs.allowDataOverflow,m=c||d;return{needClip:m,needClipX:c,needClipY:d}}function y7(e){var{xAxisId:a,yAxisId:n,clipPathId:s}=e,r=R4(),{needClipX:l,needClipY:c,needClip:d}=$4(a,n);if(!d)return null;var{x:m,y:h,width:f,height:g}=r;return p.createElement("clipPath",{id:"clipPath-".concat(s)},p.createElement("rect",{x:l?m:m-f/2,y:c?h:h-g/2,width:l?f:f*2,height:c?g:g*2}))}var Bde=["onMouseEnter","onMouseLeave","onClick"],zde=["value","background","tooltipPosition"],Ude=["id"],Fde=["onMouseEnter","onClick","onMouseLeave"];function du(){return du=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},du.apply(null,arguments)}function fP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function In(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?fP(Object(n),!0).forEach(function(s){Vde(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Vde(e,a,n){return(a=Hde(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Hde(e){var a=qde(e,"string");return typeof a=="symbol"?a:a+""}function qde(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Kp(e,a){if(e==null)return{};var n,s,r=Kde(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kde(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Gde=e=>{var{dataKey:a,name:n,fill:s,legendType:r,hide:l}=e;return[{inactive:l,dataKey:a,type:r,color:s,value:ju(n,a),payload:e}]};function Yde(e){var{dataKey:a,stroke:n,strokeWidth:s,fill:r,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:r,dataKey:a,nameKey:void 0,name:ju(l,a),hide:c,type:e.tooltipType,color:e.fill,unit:d}}}function Wde(e){var a=st(co),{data:n,dataKey:s,background:r,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:m}=l,h=Kp(l,Bde),f=C4(c,s),g=A4(d),b=T4(m,s);if(!r||n==null)return null;var y=ha(r,!1);return p.createElement(p.Fragment,null,n.map((j,w)=>{var{value:N,background:k,tooltipPosition:_}=j,C=Kp(j,zde);if(!k)return null;var O=f(j,w),P=g(j,w),E=b(j,w),B=In(In(In(In(In({option:r,isActive:String(w)===a},C),{},{fill:"#eee"},k),y),df(h,j,w)),{},{onMouseEnter:O,onMouseLeave:P,onClick:E,dataKey:s,index:w,className:"recharts-bar-background-rectangle"});return p.createElement(g7,du({key:"background-bar-".concat(w)},B))}))}function j7(e){var{data:a,props:n,showLabels:s}=e,r=ll(n),{id:l}=r,c=Kp(r,Ude),{shape:d,dataKey:m,activeBar:h}=n,f=st(co),g=st(HL),{onMouseEnter:b,onClick:y,onMouseLeave:j}=n,w=Kp(n,Fde),N=C4(b,m),k=A4(j),_=T4(y,m);return a?p.createElement(p.Fragment,null,a.map((C,O)=>{var P=h&&String(O)===f&&(g==null||m===g),E=P?h:d,B=In(In(In({},c),C),{},{isActive:P,option:E,index:O,dataKey:m});return p.createElement(Vn,du({className:"recharts-bar-rectangle"},df(w,C,O),{onMouseEnter:N(C,O),onMouseLeave:k(C,O),onClick:_(C,O),key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(O)}),p.createElement(g7,B))}),s&&ao.renderCallByParent(n,a)):null}function Xde(e){var{props:a,previousRectanglesRef:n}=e,{data:s,layout:r,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:m,onAnimationEnd:h,onAnimationStart:f}=a,g=n.current,b=P4(a,"recharts-bar-"),[y,j]=p.useState(!1),w=p.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),N=p.useCallback(()=>{typeof f=="function"&&f(),j(!0)},[f]);return p.createElement(M4,{begin:c,duration:d,isActive:l,easing:m,onAnimationEnd:w,onAnimationStart:N,key:b},k=>{var _=k===1?s:s==null?void 0:s.map((C,O)=>{var P=g&&g[O];if(P)return In(In({},C),{},{x:Tr(P.x,C.x,k),y:Tr(P.y,C.y,k),width:Tr(P.width,C.width,k),height:Tr(P.height,C.height,k)});if(r==="horizontal"){var E=Tr(0,C.height,k);return In(In({},C),{},{y:C.y+C.height-E,height:E})}var B=Tr(0,C.width,k);return In(In({},C),{},{width:B})});return k>0&&(n.current=_??null),_==null?null:p.createElement(Vn,null,p.createElement(j7,{props:a,data:_,showLabels:!y}))})}function Zde(e){var{data:a,isAnimationActive:n}=e,s=p.useRef(null);return n&&a&&a.length&&(s.current==null||s.current!==a)?p.createElement(Xde,{previousRectanglesRef:s,props:e}):p.createElement(j7,{props:e,data:a,showLabels:!0})}var w7=0,Qde=(e,a)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Jt(e,a)}};class Jde extends p.PureComponent{render(){var{hide:a,data:n,dataKey:s,className:r,xAxisId:l,yAxisId:c,needClip:d,background:m,id:h}=this.props;if(a)return null;var f=St("recharts-bar",r),g=h;return p.createElement(Vn,{className:f,id:h},d&&p.createElement("defs",null,p.createElement(y7,{clipPathId:g,xAxisId:l,yAxisId:c})),p.createElement(Vn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},p.createElement(Wde,{data:n,dataKey:s,background:m,allOtherBarProps:this.props}),p.createElement(Zde,this.props)),this.props.children)}}var eue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!kc.isSsr,legendType:"rect",minPointSize:w7,xAxisId:0,yAxisId:0};function tue(e){var{xAxisId:a,yAxisId:n,hide:s,legendType:r,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:m,animationEasing:h,isAnimationActive:f}=e,{needClip:g}=$4(a,n),b=Tg(),y=us(),j=uf(e.children,Hi),w=st(_=>Aue(_,a,n,y,e.id,j));if(b!=="vertical"&&b!=="horizontal")return null;var N,k=w==null?void 0:w[0];return k==null||k.height==null||k.width==null?N=0:N=b==="vertical"?k.height/2:k.width/2,p.createElement(v7,{xAxisId:a,yAxisId:n,data:w,dataPointFormatter:Qde,errorBarOffset:N},p.createElement(Jde,du({},e,{layout:b,needClip:g,data:w,xAxisId:a,yAxisId:n,hide:s,legendType:r,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:m,animationEasing:h,isAnimationActive:f})))}function aue(e){var{layout:a,barSettings:{dataKey:n,minPointSize:s},pos:r,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:m,yAxisTicks:h,stackedData:f,displayedData:g,offset:b,cells:y}=e,j=a==="horizontal"?d:c,w=f?j.scale.domain():null,N=Iee({numericAxis:j});return g.map((k,_)=>{var C,O,P,E,B,M;f?C=Oee(f[_],w):(C=Jt(k,n),Array.isArray(C)||(C=[N,C]));var V=Pde(s,w7)(C[1],_);if(a==="horizontal"){var G,[H,F]=[d.scale(C[0]),d.scale(C[1])];O=Z6({axis:c,ticks:m,bandSize:l,offset:r.offset,entry:k,index:_}),P=(G=F??H)!==null&&G!==void 0?G:void 0,E=r.size;var ie=H-F;if(B=Ds(ie)?0:ie,M={x:O,y:b.top,width:E,height:b.height},Math.abs(V)>0&&Math.abs(B)<Math.abs(V)){var _e=hn(B||V)*(Math.abs(V)-Math.abs(B));P-=_e,B+=_e}}else{var[ce,T]=[c.scale(C[0]),c.scale(C[1])];if(O=ce,P=Z6({axis:d,ticks:h,bandSize:l,offset:r.offset,entry:k,index:_}),E=T-ce,B=r.size,M={x:b.left,y:P,width:b.width,height:B},Math.abs(V)>0&&Math.abs(E)<Math.abs(V)){var K=hn(E||V)*(Math.abs(V)-Math.abs(E));E+=K}}if(O==null||P==null||E==null||B==null)return null;var W=In(In({},k),{},{x:O,y:P,width:E,height:B,value:f?C:C[1],payload:k,background:M,tooltipPosition:{x:O+E/2,y:P+B/2}},y&&y[_]&&y[_].props);return W}).filter(Boolean)}function qd(e){var a=Bs(e,eue),n=us();return p.createElement(O4,{id:a.id,type:"bar"},s=>p.createElement(p.Fragment,null,p.createElement(h7,{legendPayload:Gde(a)}),p.createElement(E4,{fn:Yde,args:a}),p.createElement(x7,{type:"bar",id:s,data:void 0,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,stackId:Lee(a.stackId),hide:a.hide,barSize:a.barSize,minPointSize:a.minPointSize,maxBarSize:a.maxBarSize,isPanorama:n}),p.createElement(tue,du({},a,{id:s}))))}qd.displayName="Bar";function xP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function nx(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?xP(Object(n),!0).forEach(function(s){nue(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function nue(e,a,n){return(a=sue(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function sue(e){var a=rue(e,"string");return typeof a=="symbol"?a:a+""}function rue(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var iue=(e,a)=>a,lue=(e,a,n)=>n,oue=(e,a,n,s)=>s,cue=(e,a,n,s,r)=>r,Sf=Oe([Fg,cue],(e,a)=>e.filter(n=>n.type==="bar").find(n=>n.id===a)),due=Oe([Sf],e=>e==null?void 0:e.maxBarSize),uue=(e,a,n,s,r,l)=>l,pP=(e,a,n)=>{var s=n??e;if(!ca(s))return Qn(s,a,0)},mue=Oe([Rt,Fg,iue,lue,oue],(e,a,n,s,r)=>a.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===s).filter(l=>l.isPanorama===r).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),hue=(e,a,n,s)=>{var r=Rt(e);return r==="horizontal"?b2(e,"yAxis",n,s):b2(e,"xAxis",a,s)},fue=(e,a,n)=>{var s=Rt(e);return s==="horizontal"?gE(e,"xAxis",a):gE(e,"yAxis",n)},xue=(e,a,n)=>{var s={},r=e.filter(Ug),l=e.filter(h=>h.stackId==null),c=r.reduce((h,f)=>(h[f.stackId]||(h[f.stackId]=[]),h[f.stackId].push(f),h),s),d=Object.entries(c).map(h=>{var[f,g]=h,b=g.map(j=>j.dataKey),y=pP(a,n,g[0].barSize);return{stackId:f,dataKeys:b,barSize:y}}),m=l.map(h=>{var f=[h.dataKey].filter(b=>b!=null),g=pP(a,n,h.barSize);return{stackId:void 0,dataKeys:f,barSize:g}});return[...d,...m]},pue=Oe([mue,yre,fue],xue),gue=(e,a,n,s,r)=>{var l,c,d=Sf(e,a,n,s,r);if(d!=null){var m=Rt(e),h=q$(e),{maxBarSize:f}=d,g=ca(f)?h:f,b,y;return m==="horizontal"?(b=oo(e,"xAxis",a,s),y=lo(e,"xAxis",a,s)):(b=oo(e,"yAxis",n,s),y=lo(e,"yAxis",n,s)),(l=(c=zh(b,y,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},N7=(e,a,n,s)=>{var r=Rt(e),l,c;return r==="horizontal"?(l=oo(e,"xAxis",a,s),c=lo(e,"xAxis",a,s)):(l=oo(e,"yAxis",n,s),c=lo(e,"yAxis",n,s)),zh(l,c)};function bue(e,a,n,s,r){var l=s.length;if(!(l<1)){var c=Qn(e,n,0,!0),d,m=[];if(Ls(s[0].barSize)){var h=!1,f=n/l,g=s.reduce((k,_)=>k+(_.barSize||0),0);g+=(l-1)*c,g>=n&&(g-=(l-1)*c,c=0),g>=n&&f>0&&(h=!0,f*=.9,g=l*f);var b=(n-g)/2>>0,y={offset:b-c,size:0};d=s.reduce((k,_)=>{var C,O={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:y.offset+y.size+c,size:h?f:(C=_.barSize)!==null&&C!==void 0?C:0}},P=[...k,O];return y=P[P.length-1].position,P},m)}else{var j=Qn(a,n,0,!0);n-2*j-(l-1)*c<=0&&(c=0);var w=(n-2*j-(l-1)*c)/l;w>1&&(w>>=0);var N=Ls(r)?Math.min(w,r):w;d=s.reduce((k,_,C)=>[...k,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:j+(w+c)*C+(w-N)/2,size:N}}],m)}return d}}var vue=(e,a,n,s,r,l,c)=>{var d=ca(c)?a:c,m=bue(n,s,r!==l?r:l,e,d);return r!==l&&m!=null&&(m=m.map(h=>nx(nx({},h),{},{position:nx(nx({},h.position),{},{offset:h.position.offset-r/2})}))),m},yue=Oe([pue,q$,vre,K$,gue,N7,due],vue),jue=(e,a,n,s)=>oo(e,"xAxis",a,s),wue=(e,a,n,s)=>oo(e,"yAxis",n,s),Nue=(e,a,n,s)=>lo(e,"xAxis",a,s),Sue=(e,a,n,s)=>lo(e,"yAxis",n,s),_ue=Oe([yue,Sf],(e,a)=>{if(!(e==null||a==null)){var n=e.find(s=>s.stackId===a.stackId&&a.dataKey!=null&&s.dataKeys.includes(a.dataKey));if(n!=null)return n.position}}),kue=(e,a)=>{var n=YS(a);if(!(!e||n==null||a==null)){var{stackId:s}=a;if(s!=null){var r=e[s];if(r){var{stackedData:l}=r;if(l)return l.find(c=>c.key===n)}}}},Cue=Oe([hue,Sf],kue),Aue=Oe([Za,jue,wue,Nue,Sue,_ue,Rt,Lg,N7,Cue,Sf,uue],(e,a,n,s,r,l,c,d,m,h,f,g)=>{var{chartData:b,dataStartIndex:y,dataEndIndex:j}=d;if(!(f==null||l==null||c!=="horizontal"&&c!=="vertical"||a==null||n==null||s==null||r==null||m==null)){var{data:w}=f,N;if(w!=null&&w.length>0?N=w:N=b==null?void 0:b.slice(y,j+1),N!=null)return aue({layout:c,barSettings:f,pos:l,bandSize:m,xAxis:a,yAxis:n,xAxisTicks:s,yAxisTicks:r,stackedData:h,displayedData:N,offset:e,cells:g})}}),S7=e=>{var{chartData:a}=e,n=ya(),s=us();return p.useEffect(()=>s?()=>{}:(n(CE(a)),()=>{n(CE(void 0))}),[a,n,s]),null},gP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_7=Is({name:"brush",initialState:gP,reducers:{setBrushSettings(e,a){return a.payload==null?gP:a.payload}}}),{setBrushSettings:nge}=_7.actions,Tue=_7.reducer;function Eue(e,a,n){return(a=Pue(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Pue(e){var a=Oue(e,"string");return typeof a=="symbol"?a:a+""}function Oue(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}class L4{static create(a){return new L4(a)}constructor(a){this.scale=a}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(a){var{bandAware:n,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a!==void 0){if(s)switch(s){case"start":return this.scale(a);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+r}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(a)+l}default:return this.scale(a)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+c}return this.scale(a)}}isInRange(a){var n=this.range(),s=n[0],r=n[n.length-1];return s<=r?a>=s&&a<=r:a>=r&&a<=s}}Eue(L4,"EPS",1e-4);function Mue(e){return(e%180+180)%180}var Due=function(a){var{width:n,height:s}=a,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=Mue(r),c=l*Math.PI/180,d=Math.atan(s/n),m=c>d&&c<Math.PI-d?s/Math.sin(c):n/Math.cos(c);return Math.abs(m)},Rue={dots:[],areas:[],lines:[]},k7=Is({name:"referenceElements",initialState:Rue,reducers:{addDot:(e,a)=>{e.dots.push(a.payload)},removeDot:(e,a)=>{var n=Ki(e).dots.findIndex(s=>s===a.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,a)=>{e.areas.push(a.payload)},removeArea:(e,a)=>{var n=Ki(e).areas.findIndex(s=>s===a.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,a)=>{e.lines.push(a.payload)},removeLine:(e,a)=>{var n=Ki(e).lines.findIndex(s=>s===a.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:sge,removeDot:rge,addArea:ige,removeArea:lge,addLine:oge,removeLine:cge}=k7.actions,$ue=k7.reducer,Lue=p.createContext(void 0),Iue=e=>{var{children:a}=e,[n]=p.useState("".concat(Lh("recharts"),"-clip")),s=R4();if(s==null)return null;var{x:r,y:l,width:c,height:d}=s;return p.createElement(Lue.Provider,{value:n},p.createElement("defs",null,p.createElement("clipPath",{id:n},p.createElement("rect",{x:r,y:l,height:d,width:c}))),a)};function vj(e,a){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(a,n)||e[n]!==a[n]))return!1;for(var s in a)if({}.hasOwnProperty.call(a,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function C7(e,a,n){if(a<1)return[];if(a===1&&n===void 0)return e;for(var s=[],r=0;r<e.length;r+=a)s.push(e[r]);return s}function Bue(e,a,n){var s={width:e.width+a.width,height:e.height+a.height};return Due(s,n)}function zue(e,a,n){var s=n==="width",{x:r,y:l,width:c,height:d}=e;return a===1?{start:s?r:l,end:s?r+c:l+d}:{start:s?r+c:l+d,end:s?r:l}}function Gp(e,a,n,s,r){if(e*a<e*s||e*a>e*r)return!1;var l=n();return e*(a-e*l/2-s)>=0&&e*(a+e*l/2-r)<=0}function Uue(e,a){return C7(e,a+1)}function Fue(e,a,n,s,r){for(var l=(s||[]).slice(),{start:c,end:d}=a,m=0,h=1,f=c,g=function(){var j=s==null?void 0:s[m];if(j===void 0)return{v:C7(s,h)};var w=m,N,k=()=>(N===void 0&&(N=n(j,w)),N),_=j.coordinate,C=m===0||Gp(e,_,k,f,d);C||(m=0,f=c,h+=1),C&&(f=_+e*(k()/2+r),m+=h)},b;h<=l.length;)if(b=g(),b)return b.v;return[]}function bP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Ln(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?bP(Object(n),!0).forEach(function(s){Vue(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Vue(e,a,n){return(a=Hue(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Hue(e){var a=que(e,"string");return typeof a=="symbol"?a:a+""}function que(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Kue(e,a,n,s,r){for(var l=(s||[]).slice(),c=l.length,{start:d}=a,{end:m}=a,h=function(b){var y=l[b],j,w=()=>(j===void 0&&(j=n(y,b)),j);if(b===c-1){var N=e*(y.coordinate+e*w()/2-m);l[b]=y=Ln(Ln({},y),{},{tickCoord:N>0?y.coordinate-N*e:y.coordinate})}else l[b]=y=Ln(Ln({},y),{},{tickCoord:y.coordinate});var k=Gp(e,y.tickCoord,w,d,m);k&&(m=y.tickCoord-e*(w()/2+r),l[b]=Ln(Ln({},y),{},{isShow:!0}))},f=c-1;f>=0;f--)h(f);return l}function Gue(e,a,n,s,r,l){var c=(s||[]).slice(),d=c.length,{start:m,end:h}=a;if(l){var f=s[d-1],g=n(f,d-1),b=e*(f.coordinate+e*g/2-h);c[d-1]=f=Ln(Ln({},f),{},{tickCoord:b>0?f.coordinate-b*e:f.coordinate});var y=Gp(e,f.tickCoord,()=>g,m,h);y&&(h=f.tickCoord-e*(g/2+r),c[d-1]=Ln(Ln({},f),{},{isShow:!0}))}for(var j=l?d-1:d,w=function(_){var C=c[_],O,P=()=>(O===void 0&&(O=n(C,_)),O);if(_===0){var E=e*(C.coordinate-e*P()/2-m);c[_]=C=Ln(Ln({},C),{},{tickCoord:E<0?C.coordinate-E*e:C.coordinate})}else c[_]=C=Ln(Ln({},C),{},{tickCoord:C.coordinate});var B=Gp(e,C.tickCoord,P,m,h);B&&(m=C.tickCoord+e*(P()/2+r),c[_]=Ln(Ln({},C),{},{isShow:!0}))},N=0;N<j;N++)w(N);return c}function I4(e,a,n){var{tick:s,ticks:r,viewBox:l,minTickGap:c,orientation:d,interval:m,tickFormatter:h,unit:f,angle:g}=e;if(!r||!r.length||!s)return[];if(et(m)||kc.isSsr){var b;return(b=Uue(r,et(m)?m:0))!==null&&b!==void 0?b:[]}var y=[],j=d==="top"||d==="bottom"?"width":"height",w=f&&j==="width"?jh(f,{fontSize:a,letterSpacing:n}):{width:0,height:0},N=(C,O)=>{var P=typeof h=="function"?h(C.value,O):C.value;return j==="width"?Bue(jh(P,{fontSize:a,letterSpacing:n}),w,g):jh(P,{fontSize:a,letterSpacing:n})[j]},k=r.length>=2?hn(r[1].coordinate-r[0].coordinate):1,_=zue(l,k,j);return m==="equidistantPreserveStart"?Fue(k,_,N,r,c):(m==="preserveStart"||m==="preserveStartEnd"?y=Gue(k,_,N,r,c,m==="preserveStartEnd"):y=Kue(k,_,N,r,c),y.filter(C=>C.isShow))}var Yue=["viewBox"],Wue=["viewBox"];function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bd.apply(null,arguments)}function vP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Wa(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?vP(Object(n),!0).forEach(function(s){B4(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function yP(e,a){if(e==null)return{};var n,s,r=Xue(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xue(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function B4(e,a,n){return(a=Zue(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Zue(e){var a=Que(e,"string");return typeof a=="symbol"?a:a+""}function Que(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}class go extends p.Component{constructor(a){super(a),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(a,n){var{viewBox:s}=a,r=yP(a,Yue),l=this.props,{viewBox:c}=l,d=yP(l,Wue);return!vj(s,c)||!vj(r,d)||!vj(n,this.state)}getTickLineCoord(a){var{x:n,y:s,width:r,height:l,orientation:c,tickSize:d,mirror:m,tickMargin:h}=this.props,f,g,b,y,j,w,N=m?-1:1,k=a.tickSize||d,_=et(a.tickCoord)?a.tickCoord:a.coordinate;switch(c){case"top":f=g=a.coordinate,y=s+ +!m*l,b=y-N*k,w=b-N*h,j=_;break;case"left":b=y=a.coordinate,g=n+ +!m*r,f=g-N*k,j=f-N*h,w=_;break;case"right":b=y=a.coordinate,g=n+ +m*r,f=g+N*k,j=f+N*h,w=_;break;default:f=g=a.coordinate,y=s+ +m*l,b=y+N*k,w=b+N*h,j=_;break}return{line:{x1:f,y1:b,x2:g,y2:y},tick:{x:j,y:w}}}getTickTextAnchor(){var{orientation:a,mirror:n}=this.props,s;switch(a){case"left":s=n?"start":"end";break;case"right":s=n?"end":"start";break;default:s="middle";break}return s}getTickVerticalAnchor(){var{orientation:a,mirror:n}=this.props;switch(a){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:a,y:n,width:s,height:r,orientation:l,mirror:c,axisLine:d}=this.props,m=Wa(Wa(Wa({},ha(this.props,!1)),ha(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);m=Wa(Wa({},m),{},{x1:a,y1:n+h*r,x2:a+s,y2:n+h*r})}else{var f=+(l==="left"&&!c||l==="right"&&c);m=Wa(Wa({},m),{},{x1:a+f*s,y1:n,x2:a+f*s,y2:n+r})}return p.createElement("line",Bd({},m,{className:St("recharts-cartesian-axis-line",io(d,"className"))}))}static renderTickItem(a,n,s){var r,l=St(n.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(a))r=p.cloneElement(a,Wa(Wa({},n),{},{className:l}));else if(typeof a=="function")r=a(Wa(Wa({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof a!="boolean"&&(c=St(c,a.className)),r=p.createElement(Yg,Bd({},n,{className:c}),s)}return r}renderTicks(a,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:r,stroke:l,tick:c,tickFormatter:d,unit:m,padding:h}=this.props,f=I4(Wa(Wa({},this.props),{},{ticks:s}),a,n),g=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=ll(this.props),j=ha(c,!1),w=Wa(Wa({},y),{},{fill:"none"},ha(r,!1)),N=f.map((k,_)=>{var{line:C,tick:O}=this.getTickLineCoord(k),P=Wa(Wa(Wa(Wa({textAnchor:g,verticalAnchor:b},y),{},{stroke:"none",fill:l},j),O),{},{index:_,payload:k,visibleTicksCount:f.length,tickFormatter:d,padding:h});return p.createElement(Vn,Bd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},df(this.props,k,_)),r&&p.createElement("line",Bd({},w,C,{className:St("recharts-cartesian-axis-tick-line",io(r,"className"))})),c&&go.renderTickItem(c,P,"".concat(typeof d=="function"?d(k.value,_):k.value).concat(m||"")))});return N.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}render(){var{axisLine:a,width:n,height:s,className:r,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return n!=null&&n<=0||s!=null&&s<=0?null:p.createElement(Vn,{className:St("recharts-cartesian-axis",r),ref:d=>{if(d){var m=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(m);var h=m[0];if(h){var f=window.getComputedStyle(h).fontSize,g=window.getComputedStyle(h).letterSpacing;(f!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},a&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),Ts.renderCallByParent(this.props))}}B4(go,"displayName","CartesianAxis");B4(go,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Jue=["x1","y1","x2","y2","key"],eme=["offset"],tme=["xAxisId","yAxisId"],ame=["xAxisId","yAxisId"];function jP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Bn(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?jP(Object(n),!0).forEach(function(s){nme(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function nme(e,a,n){return(a=sme(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function sme(e){var a=rme(e,"string");return typeof a=="symbol"?a:a+""}function rme(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oc.apply(null,arguments)}function Yp(e,a){if(e==null)return{};var n,s,r=ime(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ime(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var lme=e=>{var{fill:a}=e;if(!a||a==="none")return null;var{fillOpacity:n,x:s,y:r,width:l,height:c,ry:d}=e;return p.createElement("rect",{x:s,y:r,ry:d,width:l,height:c,stroke:"none",fill:a,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function A7(e,a){var n;if(p.isValidElement(e))n=p.cloneElement(e,a);else if(typeof e=="function")n=e(a);else{var{x1:s,y1:r,x2:l,y2:c,key:d}=a,m=Yp(a,Jue),h=ll(m),{offset:f}=h,g=Yp(h,eme);n=p.createElement("line",oc({},g,{x1:s,y1:r,x2:l,y2:c,fill:"none",key:d}))}return n}function ome(e){var{x:a,width:n,horizontal:s=!0,horizontalPoints:r}=e;if(!s||!r||!r.length)return null;var{xAxisId:l,yAxisId:c}=e,d=Yp(e,tme),m=r.map((h,f)=>{var g=Bn(Bn({},d),{},{x1:a,y1:h,x2:a+n,y2:h,key:"line-".concat(f),index:f});return A7(s,g)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function cme(e){var{y:a,height:n,vertical:s=!0,verticalPoints:r}=e;if(!s||!r||!r.length)return null;var{xAxisId:l,yAxisId:c}=e,d=Yp(e,ame),m=r.map((h,f)=>{var g=Bn(Bn({},d),{},{x1:h,y1:a,x2:h,y2:a+n,key:"line-".concat(f),index:f});return A7(s,g)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function dme(e){var{horizontalFill:a,fillOpacity:n,x:s,y:r,width:l,height:c,horizontalPoints:d,horizontal:m=!0}=e;if(!m||!a||!a.length)return null;var h=d.map(g=>Math.round(g+r-r)).sort((g,b)=>g-b);r!==h[0]&&h.unshift(0);var f=h.map((g,b)=>{var y=!h[b+1],j=y?r+c-g:h[b+1]-g;if(j<=0)return null;var w=b%a.length;return p.createElement("rect",{key:"react-".concat(b),y:g,x:s,height:j,width:l,stroke:"none",fill:a[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ume(e){var{vertical:a=!0,verticalFill:n,fillOpacity:s,x:r,y:l,width:c,height:d,verticalPoints:m}=e;if(!a||!n||!n.length)return null;var h=m.map(g=>Math.round(g+r-r)).sort((g,b)=>g-b);r!==h[0]&&h.unshift(0);var f=h.map((g,b)=>{var y=!h[b+1],j=y?r+c-g:h[b+1]-g;if(j<=0)return null;var w=b%n.length;return p.createElement("rect",{key:"react-".concat(b),x:g,y:l,width:j,height:d,stroke:"none",fill:n[w],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var mme=(e,a)=>{var{xAxis:n,width:s,height:r,offset:l}=e;return ER(I4(Bn(Bn(Bn({},go.defaultProps),n),{},{ticks:PR(n),viewBox:{x:0,y:0,width:s,height:r}})),l.left,l.left+l.width,a)},hme=(e,a)=>{var{yAxis:n,width:s,height:r,offset:l}=e;return ER(I4(Bn(Bn(Bn({},go.defaultProps),n),{},{ticks:PR(n),viewBox:{x:0,y:0,width:s,height:r}})),l.top,l.top+l.height,a)},fme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function $r(e){var a=dS(),n=uS(),s=$R(),r=Bn(Bn({},Bs(e,fme)),{},{x:et(e.x)?e.x:s.left,y:et(e.y)?e.y:s.top,width:et(e.width)?e.width:s.width,height:et(e.height)?e.height:s.height}),{xAxisId:l,yAxisId:c,x:d,y:m,width:h,height:f,syncWithTicks:g,horizontalValues:b,verticalValues:y}=r,j=us(),w=st(V=>bE(V,"xAxis",l,j)),N=st(V=>bE(V,"yAxis",c,j));if(!et(h)||h<=0||!et(f)||f<=0||!et(d)||d!==+d||!et(m)||m!==+m)return null;var k=r.verticalCoordinatesGenerator||mme,_=r.horizontalCoordinatesGenerator||hme,{horizontalPoints:C,verticalPoints:O}=r;if((!C||!C.length)&&typeof _=="function"){var P=b&&b.length,E=_({yAxis:N?Bn(Bn({},N),{},{ticks:P?b:N.ticks}):void 0,width:a,height:n,offset:s},P?!0:g);yh(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(C=E)}if((!O||!O.length)&&typeof k=="function"){var B=y&&y.length,M=k({xAxis:w?Bn(Bn({},w),{},{ticks:B?y:w.ticks}):void 0,width:a,height:n,offset:s},B?!0:g);yh(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(O=M)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(lme,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),p.createElement(dme,oc({},r,{horizontalPoints:C})),p.createElement(ume,oc({},r,{verticalPoints:O})),p.createElement(ome,oc({},r,{offset:s,horizontalPoints:C,xAxis:w,yAxis:N})),p.createElement(cme,oc({},r,{offset:s,verticalPoints:O,xAxis:w,yAxis:N})))}$r.displayName="CartesianGrid";var T7=(e,a,n,s)=>oo(e,"xAxis",a,s),E7=(e,a,n,s)=>lo(e,"xAxis",a,s),P7=(e,a,n,s)=>oo(e,"yAxis",n,s),O7=(e,a,n,s)=>lo(e,"yAxis",n,s),xme=Oe([Rt,T7,P7,E7,O7],(e,a,n,s,r)=>mo(e,"xAxis")?zh(a,s,!1):zh(n,r,!1)),pme=(e,a,n,s,r)=>r;function gme(e){return e.type==="line"}var bme=Oe([Fg,pme],(e,a)=>e.filter(gme).find(n=>n.id===a)),vme=Oe([Rt,T7,P7,E7,O7,bme,xme,Lg],(e,a,n,s,r,l,c,d)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:f}=d;if(!(l==null||a==null||n==null||s==null||r==null||s.length===0||r.length===0||c==null)){var{dataKey:g,data:b}=l,y;if(b!=null&&b.length>0?y=b:y=m==null?void 0:m.slice(h,f+1),y!=null)return zme({layout:e,xAxis:a,yAxis:n,xAxisTicks:s,yAxisTicks:r,dataKey:g,bandSize:c,displayedData:y})}}),yme=["id"],jme=["type","layout","connectNulls","needClip"],wme=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function wP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Er(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?wP(Object(n),!0).forEach(function(s){Nme(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Nme(e,a,n){return(a=Sme(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Sme(e){var a=_me(e,"string");return typeof a=="symbol"?a:a+""}function _me(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function z4(e,a){if(e==null)return{};var n,s,r=kme(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kme(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nc.apply(null,arguments)}var Cme=e=>{var{dataKey:a,name:n,stroke:s,legendType:r,hide:l}=e;return[{inactive:l,dataKey:a,type:r,color:s,value:ju(n,a),payload:e}]};function Ame(e){var{dataKey:a,data:n,stroke:s,strokeWidth:r,fill:l,name:c,hide:d,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:s,strokeWidth:r,fill:l,dataKey:a,nameKey:void 0,name:ju(c,a),hide:d,type:e.tooltipType,color:e.stroke,unit:m}}}var M7=(e,a)=>"".concat(a,"px ").concat(e-a,"px");function Tme(e,a){for(var n=e.length%2!==0?[...e,0]:e,s=[],r=0;r<a;++r)s=[...s,...n];return s}var Eme=(e,a,n)=>{var s=n.reduce((g,b)=>g+b);if(!s)return M7(a,e);for(var r=Math.floor(e/s),l=e%s,c=a-e,d=[],m=0,h=0;m<n.length;h+=n[m],++m)if(h+n[m]>l){d=[...n.slice(0,m),l-h];break}var f=d.length%2===0?[0,c]:[c];return[...Tme(n,r),...d,...f].map(g=>"".concat(g,"px")).join(", ")};function Pme(e,a){var n;if(p.isValidElement(e))n=p.cloneElement(e,a);else if(typeof e=="function")n=e(a);else{var s=St("recharts-line-dot",typeof e!="boolean"?e.className:"");n=p.createElement(i7,Nc({},a,{className:s}))}return n}function Ome(e,a){return e==null?!1:a?!0:e.length===1}function Mme(e){var{clipPathId:a,points:n,props:s}=e,{dot:r,dataKey:l,needClip:c}=s;if(!Ome(n,r))return null;var{id:d}=s,m=z4(s,yme),h=C8(r),f=ll(m),g=ha(r,!0),b=n.map((j,w)=>{var N=Er(Er(Er({key:"dot-".concat(w),r:3},f),g),{},{index:w,cx:j.x,cy:j.y,dataKey:l,value:j.value,payload:j.payload,points:n});return Pme(r,N)}),y={clipPath:c?"url(#clipPath-".concat(h?"":"dots-").concat(a,")"):void 0};return p.createElement(Vn,Nc({className:"recharts-line-dots",key:"dots"},y),b)}function k2(e){var{clipPathId:a,pathRef:n,points:s,strokeDasharray:r,props:l,showLabels:c}=e,{type:d,layout:m,connectNulls:h,needClip:f}=l,g=z4(l,jme),b=Er(Er({},ha(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(a,")"):void 0,points:s,type:d,layout:m,connectNulls:h,strokeDasharray:r??l.strokeDasharray});return p.createElement(p.Fragment,null,(s==null?void 0:s.length)>1&&p.createElement(hS,Nc({},b,{pathRef:n})),p.createElement(Mme,{points:s,clipPathId:a,props:l}),c&&ao.renderCallByParent(l,s))}function Dme(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Rme(e){var{clipPathId:a,props:n,pathRef:s,previousPointsRef:r,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:d,isAnimationActive:m,animationBegin:h,animationDuration:f,animationEasing:g,animateNewValues:b,width:y,height:j,onAnimationEnd:w,onAnimationStart:N}=n,k=r.current,_=P4(n,"recharts-line-"),[C,O]=p.useState(!1),P=p.useCallback(()=>{typeof w=="function"&&w(),O(!1)},[w]),E=p.useCallback(()=>{typeof N=="function"&&N(),O(!0)},[N]),B=Dme(s.current),M=l.current;return p.createElement(M4,{begin:h,duration:f,isActive:m,easing:g,onAnimationEnd:P,onAnimationStart:E,key:_},V=>{var G=Tr(M,B+M,V),H=Math.min(G,B),F;if(d){var ie="".concat(d).split(/[,\s]+/gim).map(T=>parseFloat(T));F=Eme(H,B,ie)}else F=M7(B,H);if(k){var _e=k.length/c.length,ce=V===1?c:c.map((T,K)=>{var W=Math.floor(K*_e);if(k[W]){var I=k[W];return Er(Er({},T),{},{x:Tr(I.x,T.x,V),y:Tr(I.y,T.y,V)})}return b?Er(Er({},T),{},{x:Tr(y*2,T.x,V),y:Tr(j/2,T.y,V)}):Er(Er({},T),{},{x:T.x,y:T.y})});return r.current=ce,p.createElement(k2,{props:n,points:ce,clipPathId:a,pathRef:s,showLabels:!C,strokeDasharray:F})}return V>0&&B>0&&(r.current=c,l.current=H),p.createElement(k2,{props:n,points:c,clipPathId:a,pathRef:s,showLabels:!C,strokeDasharray:F})})}function $me(e){var{clipPathId:a,props:n}=e,{points:s,isAnimationActive:r}=n,l=p.useRef(null),c=p.useRef(0),d=p.useRef(null),m=l.current;return r&&s&&s.length&&m!==s?p.createElement(Rme,{props:n,clipPathId:a,previousPointsRef:l,longestAnimatedLengthRef:c,pathRef:d}):p.createElement(k2,{props:n,points:s,clipPathId:a,pathRef:d,showLabels:!0})}var Lme=(e,a)=>({x:e.x,y:e.y,value:e.value,errorVal:Jt(e.payload,a)});class Ime extends p.Component{render(){var a,{hide:n,dot:s,points:r,className:l,xAxisId:c,yAxisId:d,top:m,left:h,width:f,height:g,id:b,needClip:y}=this.props;if(n)return null;var j=St("recharts-line",l),w=b,{r:N=3,strokeWidth:k=2}=(a=ha(s,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},_=C8(s),C=N*2+k;return p.createElement(p.Fragment,null,p.createElement(Vn,{className:j},y&&p.createElement("defs",null,p.createElement(y7,{clipPathId:w,xAxisId:c,yAxisId:d}),!_&&p.createElement("clipPath",{id:"clipPath-dots-".concat(w)},p.createElement("rect",{x:h-C/2,y:m-C/2,width:f+C,height:g+C}))),p.createElement($me,{props:this.props,clipPathId:w}),p.createElement(v7,{xAxisId:c,yAxisId:d,data:r,dataPointFormatter:Lme,errorBarOffset:0},this.props.children)),p.createElement(jde,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var D7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!kc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Bme(e){var a=Bs(e,D7),{activeDot:n,animateNewValues:s,animationBegin:r,animationDuration:l,animationEasing:c,connectNulls:d,dot:m,hide:h,isAnimationActive:f,label:g,legendType:b,xAxisId:y,yAxisId:j,id:w}=a,N=z4(a,wme),{needClip:k}=$4(y,j),_=R4(),C=Tg(),O=us(),P=st(G=>vme(G,y,j,O,w));if(C!=="horizontal"&&C!=="vertical"||P==null||_==null)return null;var{height:E,width:B,x:M,y:V}=_;return p.createElement(Ime,Nc({},N,{id:w,connectNulls:d,dot:m,activeDot:n,animateNewValues:s,animationBegin:r,animationDuration:l,animationEasing:c,isAnimationActive:f,hide:h,label:g,legendType:b,xAxisId:y,yAxisId:j,points:P,layout:C,height:E,width:B,left:M,top:V,needClip:k}))}function zme(e){var{layout:a,xAxis:n,yAxis:s,xAxisTicks:r,yAxisTicks:l,dataKey:c,bandSize:d,displayedData:m}=e;return m.map((h,f)=>{var g=Jt(h,c);if(a==="horizontal"){var b=X6({axis:n,ticks:r,bandSize:d,entry:h,index:f}),y=ca(g)?null:s.scale(g);return{x:b,y,value:g,payload:h}}var j=ca(g)?null:n.scale(g),w=X6({axis:s,ticks:l,bandSize:d,entry:h,index:f});return j==null||w==null?null:{x:j,y:w,value:g,payload:h}}).filter(Boolean)}function Pu(e){var a=Bs(e,D7),n=us();return p.createElement(O4,{id:a.id,type:"line"},s=>p.createElement(p.Fragment,null,p.createElement(h7,{legendPayload:Cme(a)}),p.createElement(E4,{fn:Ame,args:a}),p.createElement(x7,{type:"line",id:s,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,hide:a.hide,isPanorama:n}),p.createElement(Bme,Nc({},a,{id:s}))))}Pu.displayName="Line";function NP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function SP(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?NP(Object(n),!0).forEach(function(s){Ume(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ume(e,a,n){return(a=Fme(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Fme(e){var a=Vme(e,"string");return typeof a=="symbol"?a:a+""}function Vme(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Hme={xAxis:{},yAxis:{},zAxis:{}},R7=Is({name:"cartesianAxis",initialState:Hme,reducers:{addXAxis(e,a){e.xAxis[a.payload.id]=a.payload},removeXAxis(e,a){delete e.xAxis[a.payload.id]},addYAxis(e,a){e.yAxis[a.payload.id]=a.payload},removeYAxis(e,a){delete e.yAxis[a.payload.id]},addZAxis(e,a){e.zAxis[a.payload.id]=a.payload},removeZAxis(e,a){delete e.zAxis[a.payload.id]},updateYAxisWidth(e,a){var{id:n,width:s}=a.payload;e.yAxis[n]&&(e.yAxis[n]=SP(SP({},e.yAxis[n]),{},{width:s}))}}}),{addXAxis:qme,removeXAxis:Kme,addYAxis:Gme,removeYAxis:Yme,addZAxis:dge,removeZAxis:uge,updateYAxisWidth:Wme}=R7.actions,Xme=R7.reducer,Zme=["children"],Qme=["dangerouslySetInnerHTML","ticks"];function $7(e,a,n){return(a=Jme(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Jme(e){var a=ehe(e,"string");return typeof a=="symbol"?a:a+""}function ehe(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},C2.apply(null,arguments)}function L7(e,a){if(e==null)return{};var n,s,r=the(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function the(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function ahe(e){var a=ya(),n=p.useMemo(()=>{var{children:l}=e,c=L7(e,Zme);return c},[e]),s=st(l=>ul(l,n.id)),r=n===s;return p.useEffect(()=>(a(qme(n)),()=>{a(Kme(n))}),[n,a]),r?e.children:null}var nhe=e=>{var{xAxisId:a,className:n}=e,s=st(RR),r=us(),l="xAxis",c=st(y=>Au(y,l,a,r)),d=st(y=>_L(y,l,a,r)),m=st(y=>jL(y,a)),h=st(y=>die(y,a));if(m==null||h==null)return null;var{dangerouslySetInnerHTML:f,ticks:g}=e,b=L7(e,Qme);return p.createElement(go,C2({},b,{scale:c,x:h.x,y:h.y,width:m.width,height:m.height,className:St("recharts-".concat(l," ").concat(l),n),viewBox:s,ticks:d}))},she=e=>{var a,n,s,r,l;return p.createElement(ahe,{interval:(a=e.interval)!==null&&a!==void 0?a:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(s=e.angle)!==null&&s!==void 0?s:0,minTickGap:(r=e.minTickGap)!==null&&r!==void 0?r:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},p.createElement(nhe,e))};class cr extends p.Component{render(){return p.createElement(she,this.props)}}$7(cr,"displayName","XAxis");$7(cr,"defaultProps",{allowDataOverflow:ks.allowDataOverflow,allowDecimals:ks.allowDecimals,allowDuplicatedCategory:ks.allowDuplicatedCategory,height:ks.height,hide:!1,mirror:ks.mirror,orientation:ks.orientation,padding:ks.padding,reversed:ks.reversed,scale:ks.scale,tickCount:ks.tickCount,type:ks.type,xAxisId:0});var rhe=e=>{var{ticks:a,label:n,labelGapWithTick:s=5,tickSize:r=0,tickMargin:l=0}=e,c=0;if(a){a.forEach(f=>{if(f){var g=f.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,m=r+l,h=c+m+d+(n?s:0);return Math.round(h)}return 0},ihe=["dangerouslySetInnerHTML","ticks"];function I7(e,a,n){return(a=lhe(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function lhe(e){var a=ohe(e,"string");return typeof a=="symbol"?a:a+""}function ohe(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},A2.apply(null,arguments)}function che(e,a){if(e==null)return{};var n,s,r=dhe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dhe(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function uhe(e){var a=ya();return p.useEffect(()=>(a(Gme(e)),()=>{a(Yme(e))}),[e,a]),null}var mhe=e=>{var a,{yAxisId:n,className:s,width:r,label:l}=e,c=p.useRef(null),d=p.useRef(null),m=st(RR),h=us(),f=ya(),g="yAxis",b=st(C=>Au(C,g,n,h)),y=st(C=>wL(C,n)),j=st(C=>uie(C,n)),w=st(C=>_L(C,g,n,h));if(p.useLayoutEffect(()=>{var C;if(!(r!=="auto"||!y||w4(l)||p.isValidElement(l))){var O=c.current,P=O==null||(C=O.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:E,tickMargin:B}=O.props,M=rhe({ticks:P,label:d.current,labelGapWithTick:5,tickSize:E,tickMargin:B});Math.round(y.width)!==Math.round(M)&&f(Wme({id:n,width:M}))}},[c,c==null||(a=c.current)===null||a===void 0||(a=a.tickRefs)===null||a===void 0?void 0:a.current,y==null?void 0:y.width,y,f,l,n,r]),y==null||j==null)return null;var{dangerouslySetInnerHTML:N,ticks:k}=e,_=che(e,ihe);return p.createElement(go,A2({},_,{ref:c,labelRef:d,scale:b,x:j.x,y:j.y,width:y.width,height:y.height,className:St("recharts-".concat(g," ").concat(g),s),viewBox:m,ticks:w}))},hhe=e=>{var a,n,s,r,l;return p.createElement(p.Fragment,null,p.createElement(uhe,{interval:(a=e.interval)!==null&&a!==void 0?a:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(s=e.angle)!==null&&s!==void 0?s:0,minTickGap:(r=e.minTickGap)!==null&&r!==void 0?r:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),p.createElement(mhe,e))},fhe={allowDataOverflow:Cs.allowDataOverflow,allowDecimals:Cs.allowDecimals,allowDuplicatedCategory:Cs.allowDuplicatedCategory,hide:!1,mirror:Cs.mirror,orientation:Cs.orientation,padding:Cs.padding,reversed:Cs.reversed,scale:Cs.scale,tickCount:Cs.tickCount,type:Cs.type,width:Cs.width,yAxisId:0};class dr extends p.Component{render(){return p.createElement(hhe,this.props)}}I7(dr,"displayName","YAxis");I7(dr,"defaultProps",fhe);var yj={exports:{}},jj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P;function xhe(){if(_P)return jj;_P=1;var e=mu();function a(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:a,s=e.useSyncExternalStore,r=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return jj.useSyncExternalStoreWithSelector=function(m,h,f,g,b){var y=r(null);if(y.current===null){var j={hasValue:!1,value:null};y.current=j}else j=y.current;y=c(function(){function N(P){if(!k){if(k=!0,_=P,P=g(P),b!==void 0&&j.hasValue){var E=j.value;if(b(E,P))return C=E}return C=P}if(E=C,n(_,P))return E;var B=g(P);return b!==void 0&&b(E,B)?(_=P,E):(_=P,C=B)}var k=!1,_,C,O=f===void 0?null:f;return[function(){return N(h())},O===null?void 0:function(){return N(O())}]},[h,f,g,b]);var w=s(m,y[0],y[1]);return l(function(){j.hasValue=!0,j.value=w},[w]),d(w),w},jj}var kP;function phe(){return kP||(kP=1,yj.exports=xhe()),yj.exports}phe();function ghe(e){e()}function bhe(){let e=null,a=null;return{clear(){e=null,a=null},notify(){ghe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=e;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const r=a={callback:n,next:null,prev:a};return r.prev?r.prev.next=r:e=r,function(){!s||e===null||(s=!1,r.next?r.next.prev=r.prev:a=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var CP={notify(){},get:()=>[]};function vhe(e,a){let n,s=CP,r=0,l=!1;function c(w){f();const N=s.subscribe(w);let k=!1;return()=>{k||(k=!0,N(),g())}}function d(){s.notify()}function m(){j.onStateChange&&j.onStateChange()}function h(){return l}function f(){r++,n||(n=e.subscribe(m),s=bhe())}function g(){r--,n&&r===0&&(n(),n=void 0,s.clear(),s=CP)}function b(){l||(l=!0,f())}function y(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:h,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>s};return j}var yhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jhe=yhe(),whe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nhe=whe(),She=()=>jhe||Nhe?p.useLayoutEffect:p.useEffect,_he=She(),wj=Symbol.for("react-redux-context"),Nj=typeof globalThis<"u"?globalThis:{};function khe(){if(!p.createContext)return{};const e=Nj[wj]??(Nj[wj]=new Map);let a=e.get(p.createContext);return a||(a=p.createContext(null),e.set(p.createContext,a)),a}var Che=khe();function Ahe(e){const{children:a,context:n,serverState:s,store:r}=e,l=p.useMemo(()=>{const m=vhe(r);return{store:r,subscription:m,getServerState:s?()=>s:void 0}},[r,s]),c=p.useMemo(()=>r.getState(),[r]);_he(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==r.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=n||Che;return p.createElement(d.Provider,{value:l},a)}var The=Ahe,Ehe=(e,a)=>a,U4=Oe([Ehe,Rt,Q$,Ja,zL,ml,ple,Za],jle),F4=e=>{var a=e.currentTarget.getBoundingClientRect(),n=a.width/e.currentTarget.offsetWidth,s=a.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-a.left)/n),chartY:Math.round((e.clientY-a.top)/s)}},B7=ur("mouseClick"),z7=mf();z7.startListening({actionCreator:B7,effect:(e,a)=>{var n=e.payload,s=U4(a.getState(),F4(n));(s==null?void 0:s.activeIndex)!=null&&a.dispatch(Sie({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var T2=ur("mouseMove"),U7=mf();U7.startListening({actionCreator:T2,effect:(e,a)=>{var n=e.payload,s=a.getState(),r=m4(s,s.tooltip.settings.shared),l=U4(s,F4(n));r==="axis"&&((l==null?void 0:l.activeIndex)!=null?a.dispatch(ML({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):a.dispatch(OL()))}});function Phe(e,a){return a instanceof HTMLElement?"HTMLElement <".concat(a.tagName,' class="').concat(a.className,'">'):a===window?"global.window":a}var AP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},F7=Is({name:"rootProps",initialState:AP,reducers:{updateOptions:(e,a)=>{var n;e.accessibilityLayer=a.payload.accessibilityLayer,e.barCategoryGap=a.payload.barCategoryGap,e.barGap=(n=a.payload.barGap)!==null&&n!==void 0?n:AP.barGap,e.barSize=a.payload.barSize,e.maxBarSize=a.payload.maxBarSize,e.stackOffset=a.payload.stackOffset,e.syncId=a.payload.syncId,e.syncMethod=a.payload.syncMethod,e.className=a.payload.className}}}),Ohe=F7.reducer,{updateOptions:Mhe}=F7.actions,V7=Is({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,a)=>a.payload}}),{updatePolarOptions:Dhe}=V7.actions,Rhe=V7.reducer,H7=ur("keyDown"),q7=ur("focus"),V4=mf();V4.startListening({actionCreator:H7,effect:(e,a)=>{var n=a.getState(),s=n.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:r}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(h4(r,Eu(n))),d=ml(n);if(l==="Enter"){var m=Fp(n,"axis","hover",String(r.index));a.dispatch(y2({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:m}));return}var h=xie(n),f=h==="left-to-right"?1:-1,g=l==="ArrowRight"?1:-1,b=c+g*f;if(!(d==null||b>=d.length||b<0)){var y=Fp(n,"axis","hover",String(b));a.dispatch(y2({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});V4.startListening({actionCreator:q7,effect:(e,a)=>{var n=a.getState(),s=n.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var l="0",c=Fp(n,"axis","hover",String(l));a.dispatch(y2({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var nr=ur("externalEvent"),K7=mf();K7.startListening({actionCreator:nr,effect:(e,a)=>{if(e.payload.handler!=null){var n=a.getState(),s={activeCoordinate:ile(n),activeDataKey:HL(n),activeIndex:co(n),activeLabel:VL(n),activeTooltipIndex:co(n),isTooltipActive:lle(n)};e.payload.handler(s,e.payload.reactEvent)}}});var $he=Oe([Tu],e=>e.tooltipItemPayloads),Lhe=Oe([$he,wf,(e,a,n)=>a,(e,a,n)=>n],(e,a,n,s)=>{var r=e.find(d=>d.settings.dataKey===s);if(r!=null){var{positions:l}=r;if(l!=null){var c=a(l,n);return c}}}),G7=ur("touchMove"),Y7=mf();Y7.startListening({actionCreator:G7,effect:(e,a)=>{var n=e.payload,s=a.getState(),r=m4(s,s.tooltip.settings.shared);if(r==="axis"){var l=U4(s,F4({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&a.dispatch(ML({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(r==="item"){var c,d=n.touches[0],m=document.elementFromPoint(d.clientX,d.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(MR),f=(c=m.getAttribute(DR))!==null&&c!==void 0?c:void 0,g=Lhe(a.getState(),h,f);a.dispatch(PL({activeDataKey:f,activeIndex:h,activeCoordinate:g}))}}});var Ihe=rR({brush:Tue,cartesianAxis:Xme,chartData:Lle,errorBars:Mde,graphicalItems:Fce,layout:pee,legend:nte,options:Ole,polarAxis:oce,polarOptions:Rhe,referenceElements:$ue,rootProps:Ohe,tooltip:_ie}),Bhe=function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return UJ({reducer:Ihe,preloadedState:a,middleware:s=>s({serializableCheck:!1}).concat([z7.middleware,U7.middleware,V4.middleware,K7.middleware,Y7.middleware]),devTools:{serialize:{replacer:Phe},name:"recharts-".concat(n)}})};function W7(e){var{preloadedState:a,children:n,reduxStoreName:s}=e,r=us(),l=p.useRef(null);if(r)return n;l.current==null&&(l.current=Bhe(a,s));var c=tS;return p.createElement(The,{context:c,store:l.current},n)}function X7(e){var{layout:a,width:n,height:s,margin:r}=e,l=ya(),c=us();return p.useEffect(()=>{c||(l(hee(a)),l(fee({width:n,height:s})),l(mee(r)))},[l,c,a,n,s,r]),null}function Z7(e){var a=ya();return p.useEffect(()=>{a(Mhe(e))},[a,e]),null}var zhe=["children"];function Uhe(e,a){if(e==null)return{};var n,s,r=Fhe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fhe(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wp.apply(null,arguments)}var Vhe={width:"100%",height:"100%"},Hhe=p.forwardRef((e,a)=>{var n=dS(),s=uS(),r=zR();if(!ru(n)||!ru(s))return null;var{children:l,otherAttributes:c,title:d,desc:m}=e,h,f;return typeof c.tabIndex=="number"?h=c.tabIndex:h=r?0:void 0,typeof c.role=="string"?f=c.role:f=r?"application":void 0,p.createElement(VN,Wp({},c,{title:d,desc:m,role:f,tabIndex:h,width:n,height:s,style:Vhe,ref:a}),l)}),qhe=e=>{var{children:a}=e,n=st(Ag);if(!n)return null;var{width:s,height:r,y:l,x:c}=n;return p.createElement(VN,{width:s,height:r,x:c,y:l},a)},TP=p.forwardRef((e,a)=>{var{children:n}=e,s=Uhe(e,zhe),r=us();return r?p.createElement(qhe,null,n):p.createElement(Hhe,Wp({ref:a},s),n)});function Khe(){var e=ya(),[a,n]=p.useState(null),s=st(qee);return p.useEffect(()=>{if(a!=null){var r=a.getBoundingClientRect(),l=r.width/a.offsetWidth;Ls(l)&&l!==s&&e(xee(l))}},[a,e,s]),n}function EP(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Ghe(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?EP(Object(n),!0).forEach(function(s){Yhe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Yhe(e,a,n){return(a=Whe(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function Whe(e){var a=Xhe(e,"string");return typeof a=="symbol"?a:a+""}function Xhe(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Zhe=p.forwardRef((e,a)=>{var{children:n,className:s,height:r,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:m,onMouseEnter:h,onMouseLeave:f,onMouseMove:g,onMouseUp:b,onTouchEnd:y,onTouchMove:j,onTouchStart:w,style:N,width:k}=e,_=ya(),[C,O]=p.useState(null),[P,E]=p.useState(null);zle();var B=Khe(),M=p.useCallback(z=>{B(z),typeof a=="function"&&a(z),O(z),E(z)},[B,a,O,E]),V=p.useCallback(z=>{_(B7(z)),_(nr({handler:l,reactEvent:z}))},[_,l]),G=p.useCallback(z=>{_(T2(z)),_(nr({handler:h,reactEvent:z}))},[_,h]),H=p.useCallback(z=>{_(OL()),_(nr({handler:f,reactEvent:z}))},[_,f]),F=p.useCallback(z=>{_(T2(z)),_(nr({handler:g,reactEvent:z}))},[_,g]),ie=p.useCallback(()=>{_(q7())},[_]),_e=p.useCallback(z=>{_(H7(z.key))},[_]),ce=p.useCallback(z=>{_(nr({handler:c,reactEvent:z}))},[_,c]),T=p.useCallback(z=>{_(nr({handler:d,reactEvent:z}))},[_,d]),K=p.useCallback(z=>{_(nr({handler:m,reactEvent:z}))},[_,m]),W=p.useCallback(z=>{_(nr({handler:b,reactEvent:z}))},[_,b]),I=p.useCallback(z=>{_(nr({handler:w,reactEvent:z}))},[_,w]),A=p.useCallback(z=>{_(G7(z)),_(nr({handler:j,reactEvent:z}))},[_,j]),$=p.useCallback(z=>{_(nr({handler:y,reactEvent:z}))},[_,y]);return p.createElement(XL.Provider,{value:C},p.createElement(A8.Provider,{value:P},p.createElement("div",{className:St("recharts-wrapper",s),style:Ghe({position:"relative",cursor:"default",width:k,height:r},N),onClick:V,onContextMenu:ce,onDoubleClick:T,onFocus:ie,onKeyDown:_e,onMouseDown:K,onMouseEnter:G,onMouseLeave:H,onMouseMove:F,onMouseUp:W,onTouchEnd:$,onTouchMove:A,onTouchStart:I,ref:M},n)))}),Qhe=["children","className","width","height","style","compact","title","desc"];function Jhe(e,a){if(e==null)return{};var n,s,r=efe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function efe(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Q7=p.forwardRef((e,a)=>{var{children:n,className:s,width:r,height:l,style:c,compact:d,title:m,desc:h}=e,f=Jhe(e,Qhe),g=ll(f);return d?p.createElement(TP,{otherAttributes:g,title:m,desc:h},n):p.createElement(Zhe,{className:s,style:c,width:r,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(TP,{otherAttributes:g,title:m,desc:h,ref:a},p.createElement(Iue,null,n)))}),tfe=["width","height"];function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},E2.apply(null,arguments)}function afe(e,a){if(e==null)return{};var n,s,r=nfe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nfe(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var sfe={top:5,right:5,bottom:5,left:5},rfe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sfe,reverseStackOrder:!1,syncMethod:"index"},J7=p.forwardRef(function(a,n){var s,r=Bs(a.categoricalChartProps,rfe),{width:l,height:c}=r,d=afe(r,tfe);if(!ru(l)||!ru(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g,categoricalChartProps:b}=a,y={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g,eventEmitter:void 0};return p.createElement(W7,{preloadedState:{options:y},reduxStoreName:(s=b.id)!==null&&s!==void 0?s:m},p.createElement(S7,{chartData:b.data}),p.createElement(X7,{width:l,height:c,layout:r.layout,margin:r.margin}),p.createElement(Z7,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),p.createElement(Q7,E2({},d,{width:l,height:c,ref:n})))}),ife=["axis"],_f=p.forwardRef((e,a)=>p.createElement(J7,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ife,tooltipPayloadSearcher:j4,categoricalChartProps:e,ref:a})),lfe=["axis","item"],wh=p.forwardRef((e,a)=>p.createElement(J7,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lfe,tooltipPayloadSearcher:j4,categoricalChartProps:e,ref:a}));function ofe(e){var a=ya();return p.useEffect(()=>{a(Dhe(e))},[a,e]),null}var cfe=["width","height","layout"];function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},P2.apply(null,arguments)}function dfe(e,a){if(e==null)return{};var n,s,r=ufe(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],a.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ufe(e,a){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var mfe={top:5,right:5,bottom:5,left:5},hfe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},ffe=p.forwardRef(function(a,n){var s,r=Bs(a.categoricalChartProps,hfe),{width:l,height:c,layout:d}=r,m=dfe(r,cfe);if(!ru(l)||!ru(c))return null;var{chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:b}=a,y={chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:b,eventEmitter:void 0};return p.createElement(W7,{preloadedState:{options:y},reduxStoreName:(s=r.id)!==null&&s!==void 0?s:h},p.createElement(S7,{chartData:r.data}),p.createElement(X7,{width:l,height:c,layout:d,margin:r.margin}),p.createElement(Z7,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),p.createElement(ofe,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),p.createElement(Q7,P2({width:l,height:c},m,{ref:n})))}),xfe=["item"],pfe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Xp=p.forwardRef((e,a)=>{var n=Bs(e,pfe);return p.createElement(ffe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:xfe,tooltipPayloadSearcher:j4,categoricalChartProps:n,ref:a})});function gfe(){const[e,a]=p.useState({leads:0,files:0,assistants:0,phone_numbers:0,knowledge_base:0}),[n,s]=p.useState(!0),[r,l]=p.useState(""),c="https://app.thedbt.ai",{width:d}=bfe(),m=(d||0)>=1024,h=!m;p.useEffect(()=>{let w=!0;return(async()=>{try{s(!0),l("");const N=localStorage.getItem("token"),k=`${c}/api/statistics`,_=await fetch(k,{method:"GET",headers:{Accept:"application/json",...N?{Authorization:`Bearer ${N}`}:{}},mode:"cors"});if(!_.ok){const O=await _.text();throw new Error(`HTTP ${_.status}${O?`  ${O}`:""}`)}const C=await _.json();if(!w)return;a({leads:Number((C==null?void 0:C.leads)??0),files:Number((C==null?void 0:C.files)??0),assistants:Number((C==null?void 0:C.assistants)??0),phone_numbers:Number((C==null?void 0:C.phone_numbers)??0),knowledge_base:Number((C==null?void 0:C.knowledge_base)??0)})}catch(N){if(!w)return;const k=N&&N.message||"Failed to load stats",_=k.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(k+_)}finally{w&&s(!1)}})(),()=>{w=!1}},[c]);const f={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4"},g=w=>{const k=Math.max(0,Number(w)||0),_=Array.from({length:12},(C,O)=>{const P=O/11,E=Math.sin(P*Math.PI)*.4,B=(Math.random()-.5)*.12,M=Math.max(0,Math.round(k*(.6+E+B)));return{label:`P${O+1}`,value:M}});return _.length&&(_[_.length-1].value=k),_},b=p.useMemo(()=>[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}],[e]),y=p.useMemo(()=>{const w=Math.max(1,e.leads+e.files+e.assistants+e.phone_numbers+e.knowledge_base);return[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}].map(N=>({...N,percent:N.value/w*100}))},[e]),j=p.useMemo(()=>[{key:"leads",label:"Leads",value:e.leads,icon:un,series:g(e.leads),color:f.blue},{key:"files",label:"Files",value:e.files,icon:Pr,series:g(e.files),color:f.sky},{key:"assistants",label:"Assistants",value:e.assistants,icon:rg,series:g(e.assistants),color:f.cyan},{key:"phone_numbers",label:"Phone Numbers",value:e.phone_numbers,icon:gt,series:g(e.phone_numbers),color:f.sky},{key:"knowledge_base",label:"Knowledge Base",value:e.knowledge_base,icon:Jl,series:g(e.knowledge_base),color:f.blue}],[e]);return t.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[r&&t.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:r}),t.jsx(vfe,{}),t.jsxs("header",{className:"w-full px-4 md:px-8 pt-10 pb-6 relative",children:[t.jsx(pe.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"User Dashboard"}),t.jsxs(pe.a,{href:"/user/AdvancedStatistics",initial:{opacity:0,y:-6,scale:.98},animate:{opacity:1,y:0,scale:1},whileHover:{y:-1,scale:1.015},whileTap:{scale:.985},transition:{duration:.4},className:`absolute right-4 top-10 md:right-8 inline-flex items-center gap-2 rounded-full px-4 py-2 text-white shadow-xl ring-1 ring-white/30\r
                     bg-gradient-to-r from-cyan-500 via-sky-500 to-blue-600\r
                     hover:shadow-2xl hover:brightness-110`,style:{backdropFilter:"blur(6px)"},"aria-label":"Open Advanced Statistics",children:[t.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Advanced"}),t.jsx(pu,{className:"h-4 w-4"})]}),t.jsx(pe.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Live stats  Animated charts  Arrow labels"})]}),t.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[t.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-5",children:j.map(w=>t.jsx(jfe,{...w,loading:n},w.key))}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsx(Sj,{title:"Leads Trend (Synthetic)",children:t.jsx("div",{className:"h-72 w-full",children:t.jsx(Os,{children:t.jsxs(_f,{data:j[0].series,margin:{top:12,right:20,left:-10,bottom:0},children:[t.jsxs("defs",{children:[t.jsxs("filter",{id:"glowLineMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"blur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),t.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),t.jsx($r,{strokeDasharray:"3 3",strokeOpacity:.2}),t.jsx(cr,{dataKey:"label",tick:{fontSize:12}}),t.jsx(dr,{tick:{fontSize:12}}),t.jsx(Ps,{contentStyle:{borderRadius:12}}),t.jsx(Pu,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3.5,dot:!1,activeDot:{r:6},style:{filter:"url(#glowLineMain)"},isAnimationActive:!0,animationBegin:120,animationDuration:900,animationEasing:"ease"})]})})})}),t.jsx(Sj,{title:"Overview by Metric",children:t.jsx("div",{className:"h-72 w-full",children:t.jsx(Os,{children:t.jsxs(wh,{data:b,margin:{top:10,right:20,left:h?0:-10,bottom:0},children:[t.jsxs("defs",{children:[t.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"blur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),t.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})]}),t.jsx($r,{strokeDasharray:"3 3",strokeOpacity:.2}),t.jsx(cr,{dataKey:"name",tick:{fontSize:12},hide:h}),t.jsx(dr,{tick:{fontSize:12}}),t.jsx(Ps,{contentStyle:{borderRadius:12}}),t.jsx(qd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},isAnimationActive:!0,animationBegin:140,animationDuration:800,animationEasing:"ease-out"})]})})})}),t.jsx(Sj,{title:"Share by Metric",className:"lg:col-span-2",children:t.jsx("div",{className:"h-80 w-full",children:t.jsx(Os,{children:t.jsx(kfe,{data:y,mode:m?"desktop":"compact"})})})})]}),t.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon (white/blue) dashboard."]})]})]})}function bfe(){const[e,a]=p.useState({width:null,height:null});return p.useEffect(()=>{function n(){a({width:window.innerWidth,height:window.innerHeight})}return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function vfe(){return t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),t.jsx(pe.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function Sj({title:e,children:a,className:n=""}){return t.jsxs(pe.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${n}`,children:[t.jsx(yfe,{}),t.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),a]})}function yfe(){return t.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[t.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),t.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function jfe({label:e,value:a,icon:n,series:s,color:r,loading:l}){const c=ro(0),d=ro(0),m=eu(d,[-50,50],[8,-8]),h=eu(c,[-50,50],[-8,8]),f=p.useRef(null);return t.jsxs(pe.div,{ref:f,onMouseMove:g=>{var y;const b=(y=f.current)==null?void 0:y.getBoundingClientRect();b&&(c.set(g.clientX-b.left-b.width/2),d.set(g.clientY-b.top-b.height/2))},onMouseLeave:()=>{c.set(0),d.set(0)},style:{rotateX:m,rotateY:h},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${r}66, #ffffff00)`}}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:t.jsx(n,{className:"h-6 w-6",style:{color:r}})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("h3",{className:"text-2xl font-black text-slate-900",children:l?t.jsx(Nfe,{}):t.jsx(wfe,{value:a})}),t.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:"Live"})]})]})]}),t.jsx("div",{className:"mt-3 h-20",children:l?t.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):t.jsx(Os,{children:t.jsxs(_f,{data:s,margin:{top:2,right:8,left:-10,bottom:0},children:[t.jsx("defs",{children:t.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"blur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),t.jsx($r,{strokeDasharray:"3 3",strokeOpacity:.12}),t.jsx(cr,{dataKey:"label",hide:!0}),t.jsx(dr,{hide:!0,domain:[0,"dataMax+"]}),t.jsx(Ps,{contentStyle:{borderRadius:12}}),t.jsx(Pu,{type:"monotone",dataKey:"value",stroke:r,strokeWidth:2.5,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"},isAnimationActive:!0,animationBegin:120,animationDuration:700})]})})})]})]})}function wfe({value:e,duration:a=800}){const[n,s]=p.useState(0);return p.useEffect(()=>{let r;const l=n,c=Number(e)||0,d=performance.now(),m=f=>1-Math.pow(1-f,3);function h(f){const g=Math.min(1,(f-d)/a);s(Math.round(l+(c-l)*m(g))),g<1&&(r=requestAnimationFrame(h))}return r=requestAnimationFrame(h),()=>cancelAnimationFrame(r)},[e]),t.jsx("span",{children:(n||0).toLocaleString()})}function Nfe(){return t.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function Sfe(e){const{cx:a,cy:n,midAngle:s,outerRadius:r,name:l,value:c,percent:d,laneSlot:m,sideRight:h,laneGap:f=24,fixedTy:g}=e,b=Math.PI/180,y=-s*b,j=r+6,w=a+Math.cos(y)*j,N=n+Math.sin(y)*j,k=r+22,_=a+Math.cos(y)*k,C=n+Math.sin(y)*k,O=!!h;let P=O?_+36:_-36,E=typeof g=="number"?g:n+m*f;const B=34,M=a+r+B,V=a-r-B;O?P=Math.max(P,M+12):P=Math.min(P,V-12);const H=(typeof m=="number"?m:0)*18,F=O?_+16:_-16,ie=C+H*.25,_e=O?P-22:P+22,ce=E+H*.75,T=typeof d=="number"?Math.round(d*100):0,K=`${l}`,W=`${c}  ${T}%`,I=Math.max(136,K.length*8+W.length*4.2),A=O?0:-I,$=O?"start":"end";return t.jsxs(pe.g,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.42},whileHover:{scale:1.02,transition:{duration:.15}},pointerEvents:"none",children:[t.jsx("path",{d:`M ${w},${N} C ${F},${ie} ${_e},${ce} ${P},${E}`,stroke:"url(#neonStroke)",strokeWidth:"6",strokeOpacity:"0.22",fill:"none",filter:"url(#neonGlow)"}),t.jsxs("path",{d:`M ${w},${N} C ${F},${ie} ${_e},${ce} ${P},${E}`,stroke:"url(#neonStroke)",strokeWidth:"2.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",markerEnd:"url(#arrowheadGrad)",children:[t.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;40,200;0,200",dur:"3s",repeatCount:"indefinite"}),t.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-60;0",dur:"3s",repeatCount:"indefinite"})]}),t.jsxs("g",{transform:`translate(${P}, ${E})`,children:[t.jsx("rect",{x:A-6,y:-22,rx:"14",ry:"14",width:I+12,height:40,fill:"url(#pillGlow)",opacity:"0.55",filter:"url(#pillBlur)"}),t.jsx("rect",{x:A,y:-18,rx:"12",ry:"12",width:I,height:32,fill:"url(#pillGrad)",stroke:"url(#pillStroke)",strokeWidth:"1"}),t.jsx("text",{x:A+(O?14:I-14),y:-2,textAnchor:$,fill:"url(#labelTextGrad)",style:{fontSize:12.5,fontWeight:800,letterSpacing:.2},children:K}),t.jsx("text",{x:A+(O?14:I-14),y:12,textAnchor:$,className:"fill-slate-700",style:{fontSize:11.2,fontWeight:600,opacity:.85},children:W})]})]})}function _fe(e){const a=Math.PI/180,{cx:n,cy:s,midAngle:r,innerRadius:l,outerRadius:c,name:d,value:m,percent:h}=e,f=l+(c-l)*.58,g=n+Math.cos(-r*a)*f,b=s+Math.sin(-r*a)*f,y=Math.round((h||0)*100);return y<7?null:t.jsxs("g",{children:[t.jsx("text",{x:g,y:b-6,textAnchor:"middle",className:"fill-slate-800",style:{fontSize:11.5,fontWeight:800},children:d}),t.jsxs("text",{x:g,y:b+10,textAnchor:"middle",className:"fill-slate-600",style:{fontSize:10.5,fontWeight:700},children:[m,"  ",y,"%"]})]})}function kfe({data:e,mode:a="desktop",width:n,height:s}){const d=Math.PI/180,m=e.reduce((H,F)=>H+(Number(F.value)||0),0),h=(n||0)*.5,f=(s||0)*.5,g=a==="desktop";if(m===0)return t.jsxs(Xp,{width:n,height:s,children:[t.jsx(Yh,{data:[{name:"No data",value:1}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:110,innerRadius:70,fill:"#e5e7eb",stroke:"#cbd5e1",isAnimationActive:!0}),t.jsx("text",{x:h,y:f,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-500",style:{fontSize:12},children:"No data"})]});const b=-90,j=270-b;let w=b;const k=e.map((H,F)=>({index:F,value:Number(H.value)||0})).filter(H=>H.value>0).map(H=>{const F=m?H.value/m*j:0,ie=w+F/2;w+=F;const _e=-ie*d,ce=Math.cos(_e)>=0,T=f+Math.sin(_e)*110;return{index:H.index,ang:_e,right:ce,ty0:T,mid:ie}}),_=k.filter(H=>!H.right).sort((H,F)=>H.ty0-F.ty0),C=k.filter(H=>H.right).sort((H,F)=>H.ty0-F.ty0),O=28,P=40,E=f-(110+P),B=f+(110+P),M=H=>{if(!H.length)return[];const F=H.length,ie=B-E,_e=Math.min(Math.max(O,F>1?ie/(F-1):O),36),ce=new Array(F);ce[0]=Math.max(H[0].ty0,E);for(let K=1;K<F;K++)ce[K]=Math.max(H[K].ty0,ce[K-1]+_e);const T=ce[F-1]-B;if(T>0){for(let K=0;K<F;K++)ce[K]-=T;if(ce[0]<E){const K=E-ce[0];for(let W=0;W<F;W++)ce[W]+=K}}return ce},V=M(_),G=M(C);return t.jsxs(Xp,{width:n,height:s,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),t.jsx("stop",{offset:"50%",stopColor:"#60a5fa"}),t.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),t.jsxs("marker",{id:"arrowheadGrad",markerWidth:"12",markerHeight:"8",refX:"10",refY:"4",orient:"auto",children:[t.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"url(#neonStroke)"}),t.jsxs("filter",{id:"arrowGlow",children:[t.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.8",result:"b"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"b"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsxs("filter",{id:"neonGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),t.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.2  0 0 0 0 0.6  0 0 0 0 1  0 0 0 1 0"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("linearGradient",{id:"pillGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),t.jsx("stop",{offset:"100%",stopColor:"#eff6ff"})]}),t.jsxs("linearGradient",{id:"pillStroke",x1:"0",y1:"0",x2:"1",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:"#a5f3fc"}),t.jsx("stop",{offset:"100%",stopColor:"#93c5fd"})]}),t.jsxs("radialGradient",{id:"pillGlow",cx:"50%",cy:"50%",r:"60%",children:[t.jsx("stop",{offset:"0%",stopColor:"#67e8f9",stopOpacity:"0.6"}),t.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),t.jsx("filter",{id:"pillBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:t.jsx("feGaussianBlur",{stdDeviation:"8"})}),t.jsxs("linearGradient",{id:"labelTextGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),t.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),t.jsxs("linearGradient",{id:"pieGradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),t.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),t.jsx(Ps,{contentStyle:{borderRadius:12}}),t.jsx(Yh,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",startAngle:-90,endAngle:270,outerRadius:110,innerRadius:70,paddingAngle:2,isAnimationActive:!0,animationBegin:140,animationDuration:900,animationEasing:"ease-out",label:g?H=>{if(!(H&&H.value>0))return null;const F=Math.PI/180,ie=Math.cos(-H.midAngle*F)>=0,ce=(ie?C:_).findIndex(I=>I.index===H.index);if(ce===-1)return null;const T=ie?G:V,K=T[ce];if(typeof K!="number")return null;const W=ce-(T.length-1)/2;return t.jsx(Sfe,{...H,laneSlot:W,sideRight:ie,fixedTy:K,laneGap:30})}:H=>t.jsx(_fe,{...H}),labelLine:!1,children:e.map((H,F)=>t.jsx(Hi,{fill:F===0?"url(#pieGradBlue)":["#bfe9ff","#8ed8ff","#60cfff","#a3d8ff"][F-1]||"#bfe9ff",stroke:"#ffffff",strokeOpacity:.9},`cell-${F}`))})]})}const Cfe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://app.thedbt.ai"};var PP={};const OP=typeof import.meta<"u"&&Cfe&&"https://app.thedbt.ai"||typeof process<"u"&&PP&&PP.NEXT_PUBLIC_API_URL||"http://localhost:8000";function md(...e){return e.filter(Boolean).join(" ")}function MP({iso:e}){if(!e||typeof e!="string"||e.length!==2)return null;const a=[...e.toUpperCase()].map(n=>127397+n.charCodeAt(0));return t.jsx("span",{className:"mr-1","aria-hidden":!0,children:String.fromCodePoint(...a)})}function Afe({open:e,onClose:a,onConfirm:n,numbers:s=[]}){if(!e)return null;const r=s.slice(0,5),l=Math.max(0,s.length-r.length);return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[t.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:"Confirm Purchase"}),t.jsxs("p",{className:"mb-4 text-gray-700",children:["You are about to purchase"," ",t.jsx("span",{className:"font-semibold",children:s.length})," ","number",s.length>1?"s":"","."]}),t.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 max-h-48 overflow-auto border border-gray-100 mb-5",children:[r.map(c=>t.jsx("div",{className:"font-mono text-sm text-gray-800 py-0.5",children:c},c)),l>0&&t.jsxs("div",{className:"text-xs text-gray-500",children:["and ",l," more"]})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition",children:"Cancel"}),t.jsx("button",{onClick:()=>n(s),className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Yes, Buy"})]})]})})}function Tfe(){const[e,a]=p.useState("US"),[n,s]=p.useState([]),[r,l]=p.useState(!1),[c,d]=p.useState(!1),[m,h]=p.useState(""),[f,g]=p.useState(20),[b,y]=p.useState(1),[j,w]=p.useState(!1),[N,k]=p.useState([]),_=10,C=[{code:"US",name:"United States",flag:""},{code:"CA",name:"Canada",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],O=()=>{try{return localStorage.getItem("token")}catch{return null}},P=W=>W.split(/[,\s]+/).map(I=>I.trim()).filter(Boolean),[E,B]=p.useState(()=>new Set),M=W=>E.has(W),V=W=>{B(I=>{const A=new Set(I);return A.has(W)?A.delete(W):A.add(W),A})},G=()=>B(new Set),H=p.useMemo(()=>{const W=b*_,I=W-_;return n.slice(I,W)},[n,b]),F=Math.ceil(n.length/_)||1,ie=async()=>{const W=P(m);l(!0);try{const I=O(),A=await fetch(`${OP}/api/available_phone_numbers`,{method:"POST",headers:{"Content-Type":"application/json",...I?{Authorization:`Bearer ${I}`}:{}},body:JSON.stringify({country:e,area_codes:W.length?W:null,limit:f})}),$=await A.json();if(!A.ok){const X=$&&$.detail&&($.detail.error||$.detail)||($==null?void 0:$.message)||"Failed to fetch phone numbers.";s([]),R.error(X);return}const z=Array.isArray($)?$:[];s(z),y(1),G(),z.length===0&&R.info("No numbers found for your query.")}catch(I){console.error(I),s([]),R.error("Network error while fetching numbers.")}finally{l(!1)}},_e=async W=>{if(W!=null&&W.length){d(!0);try{const I=O(),A=await fetch(`${OP}/api/purchase_phone_number`,{method:"POST",headers:{"Content-Type":"application/json",...I?{Authorization:`Bearer ${I}`}:{}},body:JSON.stringify({phone_number:W})}),$=await A.json();if(!A.ok||!($!=null&&$.success)){const z=$&&$.detail&&($.detail.error||$.detail)||($==null?void 0:$.message)||"Failed to purchase numbers.";R.error(z);return}s(z=>z.filter(X=>!W.includes(X.phone_number))),G(),R.success(` Purchased ${W.length} number${W.length>1?"s":""}.`)}catch(I){console.error(I),R.error("Network error while purchasing.")}finally{d(!1),w(!1),k([])}}},ce=W=>{if(!W)return"";if(e==="US"||e==="CA"){const A=W.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);if(A)return`+1 (${A[1]}) ${A[2]}-${A[3]}`}return W},T=async W=>{try{await navigator.clipboard.writeText(W),R.success("Copied!")}catch{R.error("Copy failed.")}},K=(()=>{const W=n.length===0?0:(b-1)*_+1,I=Math.min(b*_,n.length);return{start:W,end:I}})();return t.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_55%),linear-gradient(to_bottom,white,white)]",children:[t.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-blue-600 via-purple-600 to-fuchsia-500"}),t.jsx(Afe,{open:j,onClose:()=>w(!1),onConfirm:W=>_e(W),numbers:N}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[t.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:t.jsx(gt,{className:"w-8 h-8"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:"Premium Phone Numbers"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Search, select, and purchase numbers worldwide in seconds."})]})]}),t.jsx("div",{className:"grid grid-cols-3 gap-3 lg:ml-auto w-full lg:w-auto",children:[{label:"Available",value:n.length?`${n.length}+`:""},{label:"Uptime",value:"99.9%"},{label:"Support",value:"24/7"}].map((W,I)=>t.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50/60 px-4 py-3 text-center hover:shadow transition",children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:W.value}),t.jsx("div",{className:"text-xs text-gray-500",children:W.label})]},I))})]})}),t.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:t.jsx(Un,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Number"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"lg:col-span-1",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(li,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Country"]}),t.jsx("select",{value:e,onChange:W=>a(W.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:C.map(W=>t.jsxs("option",{value:W.code,children:[W.flag," ",W.name]},W.code))})]}),t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(Un,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Area Codes (comma-separated, optional)"]}),t.jsx("input",{type:"text",value:m,onChange:W=>h(W.target.value),placeholder:"e.g., 212, 415",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),t.jsxs("div",{className:"lg:col-span-1",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(Zi,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Results Limit"]}),t.jsxs("select",{value:f,onChange:W=>g(Number.parseInt(W.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:20,children:"20"}),t.jsx("option",{value:50,children:"50"}),t.jsx("option",{value:100,children:"100"})]})]}),t.jsx("div",{className:"lg:col-span-1 flex items-end",children:t.jsx("button",{onClick:ie,disabled:r,className:md("w-full px-6 py-3 rounded-xl font-semibold text-white transition shadow-sm",r?"bg-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"),children:r?t.jsxs("span",{className:"inline-flex items-center justify-center",children:[t.jsx(Ia,{className:"w-5 h-5 animate-spin mr-2"}),"Searching"]}):t.jsxs("span",{className:"inline-flex items-center justify-center",children:[t.jsx(Un,{className:"w-5 h-5 mr-2"}),"Search"]})})})]}),t.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Tip: leave area codes empty to search nationwide."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{const W=H.map(A=>A.phone_number),I=W.every(A=>E.has(A));B(A=>{const $=new Set(A);return I?W.forEach(z=>$.delete(z)):W.forEach(z=>$.add(z)),$})},className:"px-3 py-2 rounded-lg border text-sm hover:bg-gray-50 transition",children:H.every(W=>E.has(W.phone_number))?"Unselect Page":"Select Page"}),t.jsx("button",{onClick:()=>{if(E.size===0){R.info("Select numbers first.");return}const W=Array.from(E);k(W),w(!0)},disabled:E.size===0||c,className:md("px-4 py-2 rounded-lg font-semibold transition shadow-sm",E.size===0||c?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx($0,{className:"w-4 h-4"}),"Buy Selected (",E.size,")"]})})]})]})]}),t.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[t.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(gt,{className:"w-4 h-4 text-white"})}),t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:r?"Searching":`Available Numbers (${n.length})`})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",K.start,"  ",K.end," of"," ",n.length]})]})}),r?t.jsx("div",{className:"p-6 sm:p-8",children:t.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((W,I)=>t.jsx("div",{className:"h-16 rounded-xl bg-gray-100 animate-pulse"},I))})}):n.length===0?t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsxs("div",{className:"text-center max-w-sm",children:[t.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(gt,{className:"w-10 h-10 text-gray-400"})}),t.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No numbers available"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Try different area codes or another country."}),t.jsx("button",{onClick:ie,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden lg:block overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Select"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Phone Number"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Region"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Capabilities"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:H.map((W,I)=>{var $,z,X;const A=M(W.phone_number);return t.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>V(W.phone_number),className:"text-gray-700 hover:scale-105 transition","aria-label":A?"Unselect":"Select",children:A?t.jsx(G3,{className:"w-5 h-5 text-blue-600"}):t.jsx(Zd,{className:"w-5 h-5"})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:t.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ce(W.phone_number)}),t.jsx("button",{onClick:()=>T(W.phone_number),className:"p-1 rounded hover:bg-gray-100 transition",title:"Copy",children:t.jsx(La,{className:"w-4 h-4 text-gray-500"})})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[t.jsx(ui,{className:"w-4 h-4 text-gray-500 mr-2"}),t.jsx(MP,{iso:W.iso_country}),W.region||"N/A"]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[(($=W.capabilities)==null?void 0:$.SMS)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((z=W.capabilities)==null?void 0:z.MMS)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((X=W.capabilities)==null?void 0:X.voice)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>{k([W.phone_number]),w(!0)},disabled:c,className:md("px-5 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?t.jsxs("span",{className:"inline-flex items-center",children:[t.jsx(Ia,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):t.jsxs("span",{className:"inline-flex items-center",children:[t.jsx($0,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})})]},I)})})]})}),t.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:H.map((W,I)=>{var $,z,X;const A=M(W.phone_number);return t.jsxs("div",{className:"p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("button",{onClick:()=>V(W.phone_number),className:"text-gray-700 mr-3","aria-label":A?"Unselect":"Select",children:A?t.jsx(G3,{className:"w-5 h-5 text-blue-600"}):t.jsx(Zd,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:t.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ce(W.phone_number)}),t.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-700",children:[t.jsx(ui,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx(MP,{iso:W.iso_country}),W.region||"N/A"]}),t.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[(($=W.capabilities)==null?void 0:$.SMS)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((z=W.capabilities)==null?void 0:z.MMS)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((X=W.capabilities)==null?void 0:X.voice)&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})]})]}),t.jsx("button",{onClick:()=>T(W.phone_number),className:"p-1 rounded hover:bg-gray-100 ml-3",title:"Copy",children:t.jsx(La,{className:"w-4 h-4 text-gray-500"})})]}),t.jsx("button",{onClick:()=>{k([W.phone_number]),w(!0)},disabled:c,className:md("mt-4 w-full px-4 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?t.jsxs("span",{className:"inline-flex items-center",children:[t.jsx(Ia,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):t.jsxs("span",{className:"inline-flex items-center",children:[t.jsx($0,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},I)})})]}),n.length>_&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[t.jsxs("div",{className:"text-sm text-gray-700 mb-3 sm:mb-0",children:["Showing ",K.start," to ",K.end," of ",n.length," results"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>y(W=>Math.max(1,W-1)),disabled:b===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,F)},(W,I)=>{let A;return F<=5||b<=3?A=I+1:b>=F-2?A=F-4+I:A=b-2+I,t.jsx("button",{onClick:()=>y(A),className:md("px-3 py-2 text-sm font-medium rounded-lg transition",b===A?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:A},A)})}),t.jsx("button",{onClick:()=>y(W=>Math.min(F,W+1)),disabled:b>=F,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]}),E.size>0&&t.jsx("div",{className:"fixed bottom-4 inset-x-0 px-4 sm:px-6 lg:px-8 z-40",children:t.jsxs("div",{className:"max-w-7xl mx-auto rounded-2xl bg-white/90 backdrop-blur border border-gray-200 shadow-lg p-3 sm:p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm sm:text-base",children:[t.jsx("span",{className:"font-semibold",children:E.size})," selected"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:G,className:"px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 transition text-sm",children:"Clear"}),t.jsx("button",{onClick:()=>{const W=Array.from(E);k(W),w(!0)},disabled:c,className:md("px-4 py-2 rounded-lg font-semibold text-white transition text-sm",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx($0,{className:"w-4 h-4"}),"Buy Selected"]})})]})]})})]})}function Efe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Pfe=p.forwardRef(Efe);function Ofe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const O2=p.forwardRef(Ofe);function Mfe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const e9=p.forwardRef(Mfe);function Dfe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Zp=p.forwardRef(Dfe);function Rfe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const uh=p.forwardRef(Rfe);function $fe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const mh=p.forwardRef($fe);function Lfe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const DP=p.forwardRef(Lfe);function Ife({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const t9=p.forwardRef(Ife);function Bfe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const zfe=p.forwardRef(Bfe);function Ufe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const M2=p.forwardRef(Ufe);function Ffe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const D2=p.forwardRef(Ffe);function Vfe({title:e,titleId:a,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},n),e?p.createElement("title",{id:a},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Kd=p.forwardRef(Vfe),Hfe="https://app.thedbt.ai",qfe=[`${Hfe}/api`];function Kfe(){var De,Me,ye,Ye,Ke;const e=da(),[a,n]=p.useState({name:"",email:""}),[s,r]=p.useState(!1),[l,c]=p.useState(null),[d,m]=p.useState(!1),[h,f]=p.useState(!1),g=p.useRef(null),[b,y]=p.useState(!1),[j,w]=p.useState({old:!1,next:!1}),[N,k]=p.useState({old_password:"",new_password:""}),[_,C]=p.useState(!1),[O,P]=p.useState({sid:"",token:"",validate:!0}),[E,B]=p.useState(null),[M,V]=p.useState(!1),[G,H]=p.useState({sid:!1,token:!1}),[F,ie]=p.useState(!1),[_e,ce]=p.useState(!1),[T,K]=p.useState(!1),W=()=>localStorage.getItem("token")||"",I=()=>W()?{Authorization:`Bearer ${W()}`}:{},A=()=>W()?!0:(R.error("Authentication required. Please login again."),e("/login"),!1),$=async(we,ue={},{expectJson:Ae=!0}={})=>{const U=[];for(const ke of qfe)try{const Le=await fetch(`${ke}${we}`,ue);if(Le.status===401||Le.status===403){const Xe=await Le.text().catch(()=>"");throw new Error(Xe||"Unauthorized")}if(Le.ok)return Ae?await Le.json():Le;if(Le.status===404){U.push({base:ke,status:404});continue}const Ve=await Le.json().catch(()=>({}));throw new Error((Ve==null?void 0:Ve.detail)||`Request failed (${Le.status})`)}catch(Le){if(U.push({base:ke,err:Le==null?void 0:Le.message}),(Le==null?void 0:Le.message)==="Unauthorized")throw Le}const de=U!=null&&U.length?`Request failed on all bases: ${U.map(ke=>`${ke.base}${ke.status||ke.err}`).join(" | ")}`:"Network error";throw new Error(de)};p.useEffect(()=>{(async()=>{var we,ue,Ae;if(A())try{const U=await $("/user-info",{headers:{...I(),Accept:"application/json"}});n({name:((we=U==null?void 0:U.data)==null?void 0:we.name)||"",email:((ue=U==null?void 0:U.data)==null?void 0:ue.email)||""});const de=(Ae=U==null?void 0:U.data)==null?void 0:Ae.profile_photo_url;if(de)c(de+(de.includes("?")?"&":"?")+"t="+Date.now());else try{const ke=await $("/profile-photo?redirect=false",{headers:{...I(),Accept:"application/json"}}),Le=ke==null?void 0:ke.photo_url;Le&&c(Le+(Le.includes("?")?"&":"?")+"t="+Date.now())}catch{}}catch{R.error("Unable to load profile")}finally{r(!0)}})()},[]),p.useEffect(()=>{(async()=>{if(A())try{const we=await $("/twilio/credentials",{headers:{...I(),Accept:"application/json"}});B(we)}catch{}})()},[]);const z=async we=>{var ue;if((ue=we==null?void 0:we.preventDefault)==null||ue.call(we),!!A()){if(!a.name.trim())return R.error("Name is required");if(!a.email.trim())return R.error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email))return R.error("Please enter a valid email");K(!0);try{await $("/update-profile",{method:"POST",headers:{"Content-Type":"application/json",...I(),Accept:"application/json"},body:JSON.stringify({name:a.name,email:a.email})}),localStorage.setItem("name",a.name),R.success("Profile updated")}catch(Ae){R.error(Ae.message||"Update failed")}finally{K(!1)}}},X=async we=>{var ue;if((ue=we==null?void 0:we.preventDefault)==null||ue.call(we),!!A()){if(!N.old_password||!N.new_password)return R.error("Please fill both password fields");if(N.new_password.length<8)return R.error("New password must be at least 8 characters");C(!0);try{await $("/change-password",{method:"POST",headers:{"Content-Type":"application/json",...I(),Accept:"application/json"},body:JSON.stringify(N)}),R.success("Password changed successfully"),k({old_password:"",new_password:""})}catch(Ae){R.error(Ae.message||"Password change failed")}finally{C(!1)}}},ge=async we=>{var U;if((U=we==null?void 0:we.preventDefault)==null||U.call(we),!A())return;const ue=O.sid.trim(),Ae=O.token.trim();if(!ue||!Ae)return R.error("Please enter both Account SID and Auth Token");if(!ue.startsWith("AC")||ue.length<20)return R.error("Account SID should start with AC");if(Ae.length<10)return R.error("Auth Token looks too short");V(!0);try{const de=await $("/twilio/credentials",{method:"PUT",headers:{"Content-Type":"application/json",...I(),Accept:"application/json"},body:JSON.stringify({account_sid:ue,auth_token:Ae,validate:!!O.validate})});B((de==null?void 0:de.masked)||null),P({sid:"",token:"",validate:!0}),R.success("Twilio credentials saved")}catch(de){R.error(de.message||"Failed to save Twilio credentials")}finally{V(!1)}},te=async we=>{if(!we||!A())return;if(!["image/png","image/jpeg","image/webp"].includes(we.type))return R.error("Please upload PNG, JPG or WebP");if(we.size>5*1024*1024)return R.error("Max file size is 5MB");m(!0);try{const Ae=new FormData;Ae.append("file",we);const U=await $("/profile-photo",{method:"POST",headers:{...I()},body:Ae}),de=U==null?void 0:U.photo_url;if(!de)throw new Error("Upload returned no URL");c(de+(de.includes("?")?"&":"?")+"t="+Date.now()),R.success("Profile photo updated")}catch(Ae){R.error(Ae.message||"Upload failed")}finally{m(!1)}},J=async()=>{if(A()){f(!0);try{await $("/profile-photo",{method:"DELETE",headers:{...I(),Accept:"application/json"}}),c(null),R.success("Profile photo removed")}catch(we){R.error(we.message||"Delete failed")}finally{f(!1)}}},Ce=we=>{we.preventDefault(),y(!1);const ue=we.dataTransfer.files&&we.dataTransfer.files[0]||void 0;te(ue)},se=we=>{we.preventDefault(),y(!0)},Se=we=>{we.preventDefault(),y(!1)};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[t.jsx("div",{className:"border-b border-slate-200 bg-white/70 backdrop-blur",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs(pe.div,{className:"flex items-center gap-3 py-6",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-600 grid place-items-center shadow-md",children:t.jsx(Kd,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Account Settings"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your profile, security and preferences"})]})]})})}),t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[t.jsx(pe.section,{className:"lg:col-span-4 lg:order-10 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(zfe,{className:"w-5 h-5 text-blue-600"}),"Profile Photo"]}),t.jsxs("div",{className:"mt-5 flex items-center gap-4",children:[t.jsxs("div",{className:"relative shrink-0",children:[t.jsx("div",{className:"rounded-full p-[6px] bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 shadow-[0_8px_24px_rgba(59,130,246,0.25)]",children:t.jsx("div",{className:"rounded-full bg-white p-1",children:t.jsx("div",{className:"rounded-full overflow-hidden w-24 h-24",children:t.jsx(kt,{mode:"wait",children:l?t.jsx(pe.img,{src:l,alt:"Profile",className:"w-full h-full object-cover",onError:()=>c(null),initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2}},l):t.jsx(pe.div,{className:"w-full h-full bg-gradient-to-br from-blue-600 to-cyan-500 grid place-items-center text-white text-2xl font-bold",initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:((Ke=(Ye=(ye=(Me=(De=a.name)==null?void 0:De.split(" "))==null?void 0:Me.map(we=>we[0]))==null?void 0:ye.join(""))==null?void 0:Ye.toUpperCase())==null?void 0:Ke.slice(0,2))||"U"},"initials")})})})}),t.jsx("span",{className:"absolute -right-1 -bottom-1 h-4 w-4 rounded-full bg-emerald-400 ring-2 ring-white"})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-slate-900 font-semibold leading-tight truncate",children:a.name||"User"}),t.jsx("p",{className:"text-slate-600 text-sm break-all",children:a.email||"-"})]})]}),t.jsxs("div",{className:`mt-5 rounded-xl border-2 ${b?"border-blue-400 bg-blue-50/60":"border-dashed border-slate-300"} p-4 transition-colors`,onDrop:Ce,onDragOver:se,onDragLeave:Se,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600/90 grid place-items-center text-white shrink-0",children:t.jsx(Pfe,{className:"w-5 h-5"})}),t.jsxs("div",{className:"text-sm",children:[t.jsxs("p",{className:"font-semibold text-slate-900",children:["Drag & drop a photo here, or"," ",t.jsx("button",{type:"button",onClick:()=>{var we;return(we=g.current)==null?void 0:we.click()},className:"text-blue-600 underline underline-offset-2 hover:opacity-80",children:"choose file"})]}),t.jsx("p",{className:"text-slate-600",children:"PNG, JPG, or WebP up to 5MB. Square images look best."})]})]}),t.jsx("input",{ref:g,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:we=>{var ue;return te((ue=we.target.files)==null?void 0:ue[0])}})]}),t.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{var we;return(we=g.current)==null?void 0:we.click()},disabled:d,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50",children:d?"Uploading...":"Upload New"}),t.jsx("button",{type:"button",onClick:J,disabled:h||!l,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:h?"Removing...":"Remove"})]})]})}),t.jsx(pe.section,{className:"lg:col-span-8 lg:order-20 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.05},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"h-9 w-9 rounded-lg bg-blue-600 grid place-items-center",children:t.jsx(Kd,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Profile Information"})]}),t.jsxs("form",{onSubmit:z,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[t.jsx(Kd,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),t.jsx("input",{type:"text",value:a.name,onChange:we=>n({...a,name:we.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:!s||T,required:!0})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[t.jsx(e9,{className:"w-4 h-4 inline mr-2 text-emerald-500"}),"Email Address"]}),t.jsx("input",{type:"email",value:a.email,onChange:we=>n({...a,email:we.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",disabled:!s||T,required:!0})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsx("button",{type:"submit",disabled:!s||T,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:T?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),t.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(O2,{className:"w-4 h-4"}),"Save Changes"]})})})]})]})}),t.jsx(pe.section,{className:"lg:col-span-8 lg:order-30 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.08},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-600 grid place-items-center",children:t.jsx(DP,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Twilio Credentials"})]}),E?t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-200",children:"Connected"}):t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-slate-100 text-slate-700 border border-slate-200",children:"Not Connected"})]}),E&&t.jsxs("div",{className:"mb-4 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-900 break-words",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Account SID:"})," ",E.account_sid]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Auth Token:"})," ",E.auth_token]})]}),t.jsxs("form",{onSubmit:ge,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Account SID"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:G.sid?"text":"password",value:O.sid,onChange:we=>P(ue=>({...ue,sid:we.target.value})),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),t.jsx("button",{type:"button",onClick:()=>H(we=>({...we,sid:!we.sid})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":G.sid?"Hide SID":"Show SID",children:G.sid?t.jsx(uh,{className:"w-5 h-5"}):t.jsx(mh,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Auth Token"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:G.token?"text":"password",value:O.token,onChange:we=>P(ue=>({...ue,token:we.target.value})),placeholder:"",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),t.jsx("button",{type:"button",onClick:()=>H(we=>({...we,token:!we.token})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":G.token?"Hide Token":"Show Token",children:G.token?t.jsx(uh,{className:"w-5 h-5"}):t.jsx(mh,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"We store your credentials on your user record and only use them to manage Twilio on your behalf."})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-cyan-600",checked:O.validate,onChange:we=>P(ue=>({...ue,validate:we.target.checked}))}),t.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]})}),t.jsx("div",{className:"md:col-span-2",children:t.jsx("button",{type:"submit",disabled:M,className:"w-full sm:w-auto inline-flex items-center gap-2 bg-cyan-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:opacity-50",children:M?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),t.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving"]}):t.jsxs(t.Fragment,{children:[t.jsx(DP,{className:"w-4 h-4"}),"Save Twilio Credentials"]})})})]})]})}),t.jsx(pe.section,{className:"lg:col-span-4 lg:order-40 rounded-2xl border border-red-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.1},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-600 grid place-items-center",children:t.jsx(Zp,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Danger Zone"})]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[t.jsx("p",{className:"text-red-900 font-semibold mb-1",children:"Delete Account"}),t.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),t.jsxs("button",{onClick:()=>ie(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:[t.jsx(D2,{className:"w-4 h-4"}),"Delete Account"]})]})]})}),t.jsx(pe.section,{className:"lg:col-span-12 lg:order-50 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.12},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"h-9 w-9 rounded-lg bg-purple-600 grid place-items-center",children:t.jsx(t9,{className:"w-5 h-5 text-white"})}),t.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Change Password"})]}),t.jsxs("form",{onSubmit:X,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:j.old?"text":"password",value:N.old_password,onChange:we=>k({...N,old_password:we.target.value}),placeholder:"Enter current password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:1}),t.jsx("button",{type:"button",onClick:()=>w(we=>({...we,old:!we.old})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:j.old?t.jsx(uh,{className:"w-5 h-5"}):t.jsx(mh,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:j.next?"text":"password",value:N.new_password,onChange:we=>k({...N,new_password:we.target.value}),placeholder:"Enter new password (min 8 chars)",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:8}),t.jsx("button",{type:"button",onClick:()=>w(we=>({...we,next:!we.next})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:j.next?t.jsx(uh,{className:"w-5 h-5"}):t.jsx(mh,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsx("button",{type:"submit",disabled:_,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:_?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),t.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(M2,{className:"w-4 h-4"}),"Update Password"]})})})]})]})})]})}),t.jsx(kt,{children:F&&t.jsx(pe.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.jsxs(pe.div,{className:"w-full max-w-md rounded-2xl bg-white shadow-xl border border-slate-200 p-6",initial:{y:20,opacity:.9},animate:{y:0,opacity:1},exit:{y:12,opacity:0},transition:{type:"spring",stiffness:260,damping:22},children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-600 grid place-items-center",children:t.jsx(Zp,{className:"w-5 h-5 text-white"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Delete"})]}),t.jsx("p",{className:"text-slate-600",children:"Are you sure you want to delete your account? This action cannot be undone."}),t.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[t.jsx("button",{onClick:()=>ie(!1),disabled:_e,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-800 text-white font-medium",children:"Cancel"}),t.jsx("button",{onClick:async()=>{if(A()){ce(!0);try{await $("/delete-account",{method:"DELETE",headers:{...I(),Accept:"application/json"}}),R.success("Account deleted"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(we){R.error(we.message||"Delete failed")}finally{ce(!1),ie(!1)}}},disabled:_e,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:_e?"Deleting...":"Delete Forever"})]})]})})}),t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-10",children:t.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[t.jsx("div",{className:"absolute -inset-x-20 -top-14 h-28 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),t.jsxs("div",{className:"relative p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[t.jsx("p",{className:"text-sm text-slate-600 text-center sm:text-left",children:"By using this app you agree to our Terms of Service and Privacy Policy"}),t.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[t.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms of Service"}),t.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),t.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})})]})}const RP="https://app.thedbt.ai";function Gfe(){var M,V;const[e,a]=p.useState([]),[n,s]=p.useState(!1),[r,l]=p.useState(1),[c,d]=p.useState({open:!1,number:null}),[m,h]=p.useState(!1),f=10,g=da(),b=G=>Array.isArray(G)?G:G&&Array.isArray(G.purchased_numbers)?G.purchased_numbers:[],y=G=>{if(!G)return"N/A";const F=String(G).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return F?`+1 (${F[1]}) ${F[2]}-${F[3]}`:G},j=G=>{if(!G)return"N/A";const H=new Date(G);return isNaN(H.getTime())?"N/A":H.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},w=async()=>{s(!0);try{const G=localStorage.getItem("token");if(!G){console.error("No token found in localStorage"),a([]);return}const H=await fetch(`${RP}/api/purchased_numbers`,{headers:{Authorization:`Bearer ${G}`}});let F;try{F=await H.json()}catch{F=[]}if(!H.ok){console.error("Failed to fetch purchased numbers:",(F==null?void 0:F.message)||(F==null?void 0:F.detail)||"Unknown error"),a([]);return}a(b(F))}catch(G){console.error("Error fetching purchased numbers:",G),a([])}finally{s(!1)}},N=async()=>{var G;if((G=c.number)!=null&&G.phone_number){h(!0);try{const H=localStorage.getItem("token");if(!H)throw new Error("No token found in localStorage");const F=await fetch(`${RP}/api/remove-phone-number`,{method:"POST",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:c.number.phone_number})});let ie;try{ie=await F.json()}catch{ie=null}if(!F.ok||(ie==null?void 0:ie.success)===!1)throw new Error((ie==null?void 0:ie.detail)||(ie==null?void 0:ie.error)||"Failed to remove phone number");a(_e=>_e.filter(ce=>ce.phone_number!==c.number.phone_number)),d({open:!1,number:null})}catch(H){alert("Failed to delete number: "+H.message)}finally{h(!1)}}};p.useEffect(()=>{w()},[]);const k=Math.ceil(e.length/f)||1,_=Math.min(r*f,e.length),C=Math.max(0,_-f),O=e.slice(C,_),P=()=>r<k&&l(G=>G+1),E=()=>r>1&&l(G=>G-1),B=G=>G>=1&&G<=k&&l(G);return p.useEffect(()=>{r>k&&l(1)},[e]),t.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:[c.open&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>!m&&d({open:!1,number:null})}),t.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(Ea,{className:"w-6 h-6 text-red-500"}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Number"})]}),t.jsxs("div",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete this number?",t.jsx("div",{className:"mt-2 text-gray-900 font-semibold",children:y((M=c.number)==null?void 0:M.phone_number)}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",j((V=c.number)==null?void 0:V.date_purchased)]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors",onClick:()=>!m&&d({open:!1,number:null}),disabled:m,children:"Cancel"}),t.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",onClick:N,disabled:m,children:m?"Deleting...":"Delete"})]})]})]}),t.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(gt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Purchased Numbers"}),t.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1 sm:mt-2",children:"View your purchased phone numbers"})]})]}),t.jsx("button",{onClick:()=>g("/user/phonecalls"),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(gt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Buy Numbers"}),t.jsx("span",{className:"sm:hidden",children:"Buy"})]})})]})}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 text-center",children:[t.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600",children:e.length}),t.jsx("div",{className:"text-sm sm:text-base text-gray-600 font-medium mt-2",children:"Total Purchased Numbers"})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(gt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),t.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Purchased Numbers (",e.length,")"]})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[t.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full"}),t.jsx("span",{className:"font-semibold",children:"Live Data"})]})]})}),n?t.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx(gt,{className:"w-8 h-8 sm:w-12 sm:h-12 animate-pulse text-blue-500 mx-auto mb-4"}),t.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"Loading purchased numbers..."}),t.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Please wait while we fetch your data"})]})}):e.length===0?t.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(gt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),t.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No purchased numbers found"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Your purchased numbers will appear here"}),t.jsx("button",{onClick:()=>g("/user/phonecalls"),className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:"Buy Numbers"})]})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden lg:block overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Phone Number"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Friendly Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date Purchased"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Attached Assistant"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map((G,H)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:t.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),t.jsx("div",{className:"text-lg font-bold text-gray-900",children:y(G.phone_number)})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(ui,{className:"w-4 h-4 text-gray-500 mr-2"}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.friendly_name||""})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"text-xs font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:j(G.date_purchased)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"text-sm text-gray-700",children:G.attached_assistant??""})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:G}),children:[t.jsx(Ea,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},G.phone_number||H))})]})}),t.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:O.map((G,H)=>t.jsx("div",{className:"p-4 sm:p-6",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-lg font-bold text-gray-900 mb-2",children:y(G.phone_number)}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ui,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("span",{className:"text-sm text-gray-600",children:G.friendly_name||""})]}),t.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded inline-block mb-2",children:j(G.date_purchased)}),t.jsxs("div",{className:"text-sm text-gray-700 mb-3",children:["Assistant: ",G.attached_assistant??""]}),t.jsx("div",{children:t.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:G}),children:[t.jsx(Ea,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]})},G.phone_number||H))})]})]}),e.length>f&&t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[t.jsxs("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",e.length===0?0:C+1," to ",_," of ",e.length," results"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:E,disabled:r===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:"Previous"}),t.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const G=[];let H=1,F=k;k>5&&(r<=3?(H=1,F=5):r>=k-2?(H=k-4,F=k):(H=r-2,F=r+2));for(let ie=H;ie<=F;ie++)G.push(t.jsx("button",{onClick:()=>B(ie),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${r===ie?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,"aria-current":r===ie?"page":void 0,children:ie},ie));return G})()}),t.jsx("button",{onClick:P,disabled:r>=k,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:"Next"})]})]})})]})]})}function Lr(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function Wg(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function a9(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function n9(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function s9(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Qp(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function r9(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function Yfe(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function i9(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Xg(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Zg(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Wfe(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function Wh(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function no(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Qg(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function l9(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function o9(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Xfe(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function pc(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function uu(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const hd="https://app.thedbt.ai",Ro={ASSISTANTS:`${hd}/api/get-assistants`,DELETE_ASSISTANT:e=>`${hd}/api/assistants/${e}`,START_CALL:(e,a)=>`${hd}/api/phone-call/${encodeURIComponent(e)}/${encodeURIComponent(a)}`,WALLET:`${hd}/api/billing/wallet`,CAN_CALL:e=>`${hd}/api/billing/wallet/can-call?seconds=${Math.max(1,Number(e)||1)}`,CALL_COUNTS:`${hd}/api/user/call-counts`};function Zfe(){const e=da(),a=p.useMemo(()=>localStorage.getItem("token"),[]),[n,s]=p.useState([]),[r,l]=p.useState(null),[c,d]=p.useState(null),[m,h]=p.useState(!0),[f,g]=p.useState(!1),[b,y]=p.useState(!0),[j,w]=p.useState(""),[N,k]=p.useState("all"),[_,C]=p.useState("all"),[O,P]=p.useState("created_at"),[E,B]=p.useState("desc"),[M,V]=p.useState(!1),[G,H]=p.useState(null),[F,ie]=p.useState([]),[_e,ce]=p.useState(!1),[T,K]=p.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[W,I]=p.useState(120),[A,$]=p.useState(null),z=p.useRef(null),[X,ge]=p.useState(1),te=10,J=async()=>{try{g(!0);const[Z,ve,fe]=await Promise.all([fetch(Ro.ASSISTANTS,{headers:{Accept:"application/json",Authorization:a?`Bearer ${a}`:""}}),a?fetch(Ro.WALLET,{headers:{Accept:"application/json",Authorization:`Bearer ${a}`}}):Promise.resolve(null),a?fetch(Ro.CALL_COUNTS,{headers:{Accept:"application/json",Authorization:`Bearer ${a}`}}):Promise.resolve(null)]);if(!Z.ok)throw new Error(`Assistants HTTP ${Z.status}`);const Ue=await Z.json(),rt=Array.isArray(Ue)?Ue:Array.isArray(Ue==null?void 0:Ue.assistants)?Ue.assistants:[];s(rt),ve&&(ve.ok?l(await ve.json()):l(null)),fe&&(fe.ok?d(await fe.json()):d(null))}catch(Z){console.error(Z),R.error("Failed to fetch assistants")}finally{h(!1),g(!1)}},Ce=async Z=>{if(!a){$(null);return}try{const fe=await(await fetch(Ro.CAN_CALL(Z),{headers:{Accept:"application/json",Authorization:`Bearer ${a}`}})).json();$(fe||null)}catch{$(null)}};p.useEffect(()=>{J()},[]),p.useEffect(()=>{if(!b)return;const Z=setInterval(J,15e3);return()=>clearInterval(Z)},[b]),p.useEffect(()=>{if(_e)return clearTimeout(z.current),z.current=setTimeout(()=>Ce(W),300),()=>clearTimeout(z.current)},[W,_e]);const se=p.useMemo(()=>{let Z=[...n];N!=="all"&&(Z=Z.filter(fe=>((fe==null?void 0:fe.provider)||"").toLowerCase()===N)),_!=="all"&&(Z=Z.filter(fe=>((fe==null?void 0:fe.category)||"").toLowerCase()===_));const ve=j.trim().toLowerCase();return ve&&(Z=Z.filter(fe=>[fe==null?void 0:fe.name,fe==null?void 0:fe.model,fe==null?void 0:fe.voice,fe==null?void 0:fe.category,fe==null?void 0:fe.attached_Number,fe==null?void 0:fe.vapi_assistant_id].filter(Boolean).map(String).map(rt=>rt.toLowerCase()).some(rt=>rt.includes(ve)))),Z.sort((fe,Ue)=>{if(O==="created_at"){const tt=fe!=null&&fe.created_at?new Date(fe.created_at).getTime():0,$t=Ue!=null&&Ue.created_at?new Date(Ue.created_at).getTime():0;return E==="asc"?tt-$t:$t-tt}const rt=((fe==null?void 0:fe[O])??"").toString().toLowerCase(),dt=((Ue==null?void 0:Ue[O])??"").toString().toLowerCase();return rt<dt?E==="asc"?-1:1:rt>dt?E==="asc"?1:-1:0}),Z},[n,j,N,_,O,E]),Se=p.useMemo(()=>{const Z=new Set((n||[]).map(ve=>((ve==null?void 0:ve.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(Z)]},[n]),De=p.useMemo(()=>{const Z=new Set((n||[]).map(ve=>((ve==null?void 0:ve.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(Z)]},[n]),Me=Math.max(1,Math.ceil(se.length/te)),ye=Math.min(X,Me),Ye=se.slice((ye-1)*te,ye*te),Ke=p.useMemo(()=>se.length?se.reduce((Z,ve)=>{const fe=Z!=null&&Z.created_at?new Date(Z.created_at):null,Ue=ve!=null&&ve.created_at?new Date(ve.created_at):null;return!fe&&Ue?ve:!Ue&&fe||!fe&&!Ue?Z:Ue>fe?ve:Z},se[0]):null,[se]),we=Z=>{O===Z?B(ve=>ve==="asc"?"desc":"asc"):(P(Z),B("asc"))},ue=Z=>{H(Z),V(!0)},Ae=async()=>{if(G)try{const Z=await fetch(Ro.DELETE_ASSISTANT(G),{method:"DELETE",headers:{Accept:"application/json",Authorization:a?`Bearer ${a}`:""}});if(!Z.ok){let ve=`HTTP ${Z.status}`;try{const fe=await Z.json();fe!=null&&fe.detail&&(ve=fe.detail)}catch{}throw new Error(ve)}R.success("Assistant deleted"),ie(ve=>ve.filter(fe=>fe!==G)),J()}catch(Z){console.error(Z),R.error((Z==null?void 0:Z.message)||"Delete failed")}finally{V(!1),H(null)}},U=Z=>{const ve=Z==null?void 0:Z.knowledge_base;if(Array.isArray(ve)&&ve.length){const fe=ve.filter(Ue=>typeof Ue=="string"&&/^https?:\/\//i.test(Ue));if(fe.length){fe.forEach(Ue=>window.open(Ue,"_blank","noopener"));return}}R.info("No file URLs available for this assistant.")},de=Z=>{if(!(Z!=null&&Z.vapi_assistant_id)){R.error("Missing VAPI Assistant ID");return}K({vapi_assistant_id:Z.vapi_assistant_id,number:(Z==null?void 0:Z.attached_Number)||"",first_name:"",last_name:"",email:""}),I(120),ce(!0),Ce(120)},ke=async Z=>{Z.preventDefault();const{vapi_assistant_id:ve,number:fe,first_name:Ue,last_name:rt,email:dt}=T;if(!fe)return R.error("Enter the customer's phone number (E.164 preferred)");if(A&&A.ok===!1){const tt=((A.shortfall_cents||0)/100).toFixed(2);R.error(`Insufficient balance. Shortfall $${tt}. Top up first.`),setTimeout(()=>e("/user/PricingSection"),350);return}try{const tt=Ro.START_CALL(ve,fe),$t={first_name:Ue||"Caller",last_name:rt||"",email:dt||"caller@example.com",add_date:new Date().toISOString(),mobile_no:fe,custom_field_01:null,custom_field_02:null},Tt=await fetch(tt,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a?`Bearer ${a}`:""},body:JSON.stringify($t)}),ze=await Tt.json().catch(()=>({}));if(!Tt.ok||(ze==null?void 0:ze.success)===!1)throw new Error((ze==null?void 0:ze.detail)||`HTTP ${Tt.status}`);R.success("Call initiated"),ce(!1)}catch(tt){console.error(tt),R.error((tt==null?void 0:tt.message)||"Failed to initiate call")}},Le=Z=>F.includes(Z),Ve=Z=>{ie(ve=>ve.includes(Z)?ve.filter(fe=>fe!==Z):[...ve,Z])},Xe=()=>{const Z=Ye.map(fe=>fe.id).filter(Boolean),ve=Z.every(fe=>F.includes(fe));ie(fe=>ve?fe.filter(Ue=>!Z.includes(Ue)):Array.from(new Set([...fe,...Z])))},$e=async()=>{if(!F.length)return R.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const Z of F)await fetch(Ro.DELETE_ASSISTANT(Z),{method:"DELETE",headers:{Accept:"application/json",Authorization:a?`Bearer ${a}`:""}});R.success("Bulk delete complete"),ie([]),J()}catch(Z){console.error(Z),R.error("Bulk delete encountered an error")}},ne=()=>{const Z=["Name","Model","Voice","Attached Number","Category","Created","Assistant ID"],ve=se.map(tt=>[(tt==null?void 0:tt.name)??"",(tt==null?void 0:tt.model)??"",(tt==null?void 0:tt.voice)??"",(tt==null?void 0:tt.attached_Number)??"",(tt==null?void 0:tt.category)??"",tt!=null&&tt.created_at?new Date(tt.created_at).toLocaleString():"",(tt==null?void 0:tt.vapi_assistant_id)??""]),fe=[Z,...ve].map(tt=>tt.map($t=>`"${String($t).replace(/"/g,'""')}"`).join(",")).join(`
`),Ue=new Blob([fe],{type:"text/csv;charset=utf-8;"}),rt=URL.createObjectURL(Ue),dt=document.createElement("a");dt.href=rt,dt.download="assistants.csv",dt.click(),URL.revokeObjectURL(rt)};return m?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:t.jsx("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[t.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),t.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),t.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((Z,ve)=>t.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[t.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),t.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},ve))}),t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[t.jsx("div",{className:"border-b border-gray-100 p-6",children:t.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((Z,ve)=>t.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),t.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),t.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((fe,Ue)=>t.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},Ue))})]})},ve))]})]})})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),t.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),t.jsxs("div",{className:"relative mx-auto w-full max-w-[1600px] px-6 py-12",children:[t.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"text-white",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:t.jsx(uu,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),t.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-blue-100",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),t.jsxs("span",{children:[se.length," Active"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qp,{className:"h-4 w-4"}),t.jsxs("span",{children:["Auto-refresh ",b?"enabled":"disabled"]})]}),r&&t.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-white/15 px-3 py-1.5",children:[t.jsx(Yfe,{className:"h-4 w-4"}),t.jsxs("span",{className:"font-semibold",children:["Balance $",(((r.balance_cents||0)+(r.bonus_cents||0))/100).toFixed(2)]}),t.jsx("button",{onClick:()=>e("/user/PricingSection"),className:"ml-2 rounded-lg bg-white/20 px-2 py-1 text-xs font-medium hover:bg-white/30",children:"Top up"})]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsxs("button",{onClick:()=>y(Z=>!Z),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${b?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${b?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),t.jsxs("button",{onClick:J,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[t.jsx(l9,{className:`h-4 w-4 transition-transform ${f?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),t.jsxs("button",{onClick:ne,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[t.jsx(i9,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),t.jsxs("button",{onClick:()=>e("/user/assistant/create"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[t.jsx(Qg,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(o9,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),t.jsx("input",{value:j,onChange:Z=>w(Z.target.value),placeholder:"Search assistants, models, voices, phone, ID",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx($P,{label:"Provider",value:N,onChange:k,options:Se}),t.jsx($P,{label:"Category",value:_,onChange:C,options:De})]})]})]})]}),t.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(sx,{title:"Total Assistants",value:se.length,icon:t.jsx(uu,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),t.jsx(sx,{title:"Todays Calls",value:(c==null?void 0:c.today_calls)??0,icon:t.jsx(no,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),t.jsx(sx,{title:"Total Calls",value:(c==null?void 0:c.total_calls)??0,icon:t.jsx(Lr,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),t.jsx(sx,{title:"Last Created",value:Ke!=null&&Ke.name?Ke.name.length>12?`${Ke.name.slice(0,12)}`:Ke.name:"",icon:t.jsx(Qp,{className:"h-6 w-6 text-cyan-600"}),subtitle:Ke!=null&&Ke.created_at?new Date(Ke.created_at).toLocaleDateString():""})]}),F.length>0&&t.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:t.jsx(Lr,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-blue-900",children:[F.length," assistants selected"]}),t.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:Xe,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),t.jsx("button",{onClick:$e,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),se.length===0?t.jsx(t0e,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.jsx(Xfe,{className:"h-4 w-4"}),t.jsx("span",{children:"Calls require sufficient wallet balance"})]})]}),t.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[t.jsx("thead",{className:"bg-gray-50/60",children:t.jsxs("tr",{children:[t.jsx(Qfe,{className:"w-12 text-center",checked:Ye.every(Z=>F.includes(Z.id))&&Ye.length>0,onChange:Xe}),t.jsx(fd,{className:"w-[26%]",align:"center",label:"Assistant",sortKey:"name",sortDir:O==="name"?E:null,onSort:we}),t.jsx(fd,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:O==="model"?E:null,onSort:we}),t.jsx(fd,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:O==="voice"?E:null,onSort:we}),t.jsx(fd,{className:"w-[18%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:O==="attached_Number"?E:null,onSort:we}),t.jsx(fd,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:O==="category"?E:null,onSort:we}),t.jsx(fd,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:O==="created_at"?E:null,onSort:we}),t.jsx("th",{className:"w-[14%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:Ye.map(Z=>t.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Le(Z.id)?"bg-blue-50/50":""}`,children:[t.jsx(Jfe,{className:"w-12 text-center",checked:Le(Z.id),onChange:()=>Ve(Z.id)}),t.jsx("td",{className:"w-[26%] px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:t.jsx(Wh,{className:"h-5 w-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"max-w-[40ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:Z.name||""}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.jsxs("span",{children:[Array.isArray(Z.knowledge_base)?Z.knowledge_base.length:0," KB items"]}),(Z==null?void 0:Z.vapi_assistant_id)&&t.jsxs("button",{className:"rounded-lg px-1.5 py-0.5 text-[11px] hover:bg-gray-100",onClick:()=>R2(Z.vapi_assistant_id),title:"Copy Assistant ID",children:["ID: ",Z.vapi_assistant_id.slice(0,8),""]})]})]})]})}),t.jsx("td",{className:"w-[12%] px-6 py-4",children:t.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:t.jsx(Gd,{variant:"secondary",children:Z.model||""})})}),t.jsx("td",{className:"w-[12%] px-6 py-4",children:t.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:t.jsx(Gd,{variant:"accent",children:Z.voice||""})})}),t.jsx("td",{className:"w-[18%] px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("span",{className:"break-all font-mono text-sm text-gray-700",children:Z.attached_Number||""}),Z.attached_Number&&t.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>R2(Z.attached_Number),children:t.jsx(r9,{className:"h-4 w-4"})})]})}),t.jsx("td",{className:"w-[10%] px-6 py-4",children:t.jsx("div",{className:"text-center",children:Z.category?t.jsx(Gd,{variant:"primary",children:Z.category}):t.jsx("span",{className:"text-gray-400",children:""})})}),t.jsx("td",{className:"w-[8%] px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:Z.created_at?new Date(Z.created_at).toLocaleDateString():""}),t.jsx("td",{className:"w-[14%] px-6 py-4",children:t.jsxs("div",{className:"mx-auto flex w-full min-w-[240px] items-center justify-center gap-2 whitespace-nowrap",children:[t.jsx(rx,{title:"Edit Assistant",onClick:()=>e(`/user/edit-assistant/${Z.id}`),variant:"primary",children:t.jsx(Xg,{className:"h-4 w-4"})}),t.jsx(rx,{title:"View Files",onClick:()=>U(Z),variant:"success",children:t.jsx(Zg,{className:"h-4 w-4"})}),t.jsx(rx,{title:"Start Call",onClick:()=>de(Z),variant:"secondary",children:t.jsx(no,{className:"h-4 w-4"})}),t.jsx(rx,{title:"Delete",onClick:()=>ue(Z.id),variant:"danger",children:t.jsx(pc,{className:"h-4 w-4"})})]})})]},Z.id??Z.name))})]})]}),t.jsx("div",{className:"space-y-4 xl:hidden",children:Ye.map(Z=>t.jsx(e0e,{assistant:Z,isSelected:Le(Z.id),onToggleSelect:()=>Ve(Z.id),onEdit:()=>e(`/user/edit-assistant/${Z.id}`),onViewFiles:()=>U(Z),onCall:()=>de(Z),onDelete:()=>ue(Z.id)},Z.id??Z.name))}),t.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(ye-1)*te+1," to ",Math.min(ye*te,se.length)," of"," ",se.length," assistants"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(LP,{disabled:ye<=1,onClick:()=>ge(Z=>Math.max(1,Z-1)),children:[t.jsx(a9,{className:"h-4 w-4"}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Me)},(Z,ve)=>{const fe=ve+1;return t.jsx("button",{onClick:()=>ge(fe),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${fe===ye?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:fe},fe)})}),t.jsxs(LP,{disabled:ye>=Me,onClick:()=>ge(Z=>Math.min(Me,Z+1)),children:["Next",t.jsx(n9,{className:"h-4 w-4"})]})]})]})]})]}),M&&t.jsx(IP,{onClose:()=>V(!1),children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:t.jsx(pc,{className:"h-8 w-8 text-red-600"})}),t.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),t.jsxs("div",{className:"flex justify-center gap-3",children:[t.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>V(!1),children:"Cancel"}),t.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:Ae,children:"Delete Assistant"})]})]})}),_e&&t.jsxs(IP,{onClose:()=>ce(!1),children:[t.jsxs("div",{className:"mb-6 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:t.jsx(no,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),t.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),t.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[t.jsx(Bm,{label:"Customer Phone Number",value:T.number,onChange:Z=>K(ve=>({...ve,number:Z})),placeholder:"+1 (555) 123-4567",required:!0}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[t.jsx(Bm,{label:"First Name",value:T.first_name,onChange:Z=>K(ve=>({...ve,first_name:Z})),placeholder:"John"}),t.jsx(Bm,{label:"Last Name",value:T.last_name,onChange:Z=>K(ve=>({...ve,last_name:Z})),placeholder:"Doe"})]}),t.jsx(Bm,{label:"Email Address",value:T.email,onChange:Z=>K(ve=>({...ve,email:Z})),placeholder:"john@example.com",type:"email"}),t.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[t.jsx(Bm,{label:"Planned Duration (seconds)",value:W,onChange:Z=>I(Math.max(1,Number(Z||1))),placeholder:"e.g. 120",type:"number",required:!0}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Estimated charge"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",(((A==null?void 0:A.needed_cents)||0)/100).toFixed(2)]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Your balance"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",((((r==null?void 0:r.balance_cents)||0)+((r==null?void 0:r.bonus_cents)||0))/100).toFixed(2)]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[A!=null&&A.ok?t.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-emerald-700",children:[t.jsx(Lr,{className:"h-4 w-4"})," Youre good to go"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-red-700",children:[t.jsx(pc,{className:"h-4 w-4"}),"Insufficient balance. Shortfall $",(((A==null?void 0:A.shortfall_cents)||0)/100).toFixed(2)]}),!(A!=null&&A.ok)&&t.jsx("button",{type:"button",onClick:()=>e("/user/PricingSection"),className:"ml-auto rounded-lg border border-blue-200 bg-white px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-50",children:"Top up wallet"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>ce(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function sx({title:e,value:a,icon:n,trend:s,trendUp:r,subtitle:l}){return t.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),t.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:a}),l&&t.jsx("div",{className:"text-sm text-gray-500",children:l}),s&&t.jsxs("div",{className:`text-sm font-medium ${r?"text-green-600":"text-red-600"}`,children:[s," from last month"]})]})]})}function $P({label:e,value:a,onChange:n,options:s}){return t.jsxs("div",{className:"relative",children:[t.jsx("select",{value:a,onChange:r=>n(r.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:s.map(r=>t.jsx("option",{value:r,className:"bg-gray-800 text-white",children:r==="all"?`All ${e}s`:r},r))}),t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:t.jsx(Wg,{className:"h-4 w-4 text-white/70"})})]})}function Gd({children:e,variant:a="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return t.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[a]}`,children:e})}function rx({title:e,onClick:a,children:n,variant:s="default"}){const r={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return t.jsx("button",{title:e,onClick:a,className:`rounded-xl p-2.5 transition-all duration-200 ${r[s]}`,children:n})}function fd({label:e,sortKey:a,sortDir:n,onSort:s,className:r="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return t.jsx("th",{className:`px-6 py-4 ${c} ${r}`,children:t.jsxs("button",{onClick:()=>s(a),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,t.jsxs("div",{className:"flex flex-col",children:[t.jsx(s9,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),t.jsx(Wg,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Qfe({checked:e,onChange:a,className:n=""}){return t.jsx("th",{className:`px-6 py-4 ${n}`,children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("button",{onClick:a,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&t.jsx(Lr,{className:"h-3 w-3"})})})})}function Jfe({checked:e,onChange:a,className:n=""}){return t.jsx("td",{className:`px-6 py-4 ${n}`,children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("button",{onClick:a,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&t.jsx(Lr,{className:"h-3 w-3"})})})})}function e0e({assistant:e,isSelected:a,onToggleSelect:n,onEdit:s,onViewFiles:r,onCall:l,onDelete:c}){return t.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${a?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[t.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${a?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:a&&t.jsx(Lr,{className:"h-4 w-4"})}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:t.jsx(Wh,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),t.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]}),(e==null?void 0:e.vapi_assistant_id)&&t.jsxs("button",{onClick:()=>R2(e.vapi_assistant_id),className:"mt-1 text-xs text-blue-600 underline",title:"Copy Assistant ID",children:["ID: ",e.vapi_assistant_id.slice(0,8),""]})]})]}),t.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),t.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),t.jsx(Gd,{variant:"secondary",children:e.model||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),t.jsx(Gd,{variant:"accent",children:e.voice||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),t.jsx("div",{className:"break-all font-mono text-sm",children:e.attached_Number||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?t.jsx(Gd,{variant:"primary",children:e.category}):t.jsx("span",{className:"text-gray-400",children:""})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[t.jsx(Xg,{className:"h-4 w-4"}),"Edit"]}),t.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[t.jsx(Zg,{className:"h-4 w-4"}),"Files"]}),t.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[t.jsx(no,{className:"h-4 w-4"}),"Call"]}),t.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[t.jsx(pc,{className:"h-4 w-4"}),"Delete"]})]})]})}function LP({disabled:e,onClick:a,children:n}){return t.jsx("button",{disabled:e,onClick:a,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function IP({children:e,onClose:a}){return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:a}),t.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[t.jsx("button",{onClick:a,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function Bm({label:e,value:a,onChange:n,placeholder:s,required:r,type:l="text"}){return t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",r&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:l,value:a,onChange:c=>n(c.target.value),placeholder:s,required:r,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function t0e(){return t.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[t.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:t.jsx(uu,{className:"h-10 w-10 text-blue-600"})}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),t.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),t.jsxs("a",{href:"/user/assistant/create",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[t.jsx(Qg,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function R2(e){e&&navigator.clipboard.writeText(e).then(()=>R.success("Copied to clipboard")).catch(()=>R.info(e))}const Ec=[{showName:"Asteria",name:"asteria",voice:"aura-asteria-en",gender:"female",audioSr:"/Audios/output_Asteria.wav",provider:"deepgram"},{showName:"Luna",name:"luna",voice:"aura-luna-en",gender:"female",audioSr:"/Audios/output_Luna.wav",provider:"deepgram"},{showName:"Stella",name:"stella",voice:"aura-stella-en",gender:"female",audioSr:"/Audios/output_Stella.wav",provider:"deepgram"},{showName:"Athena",name:"athena",voice:"aura-athena-en",gender:"female",audioSr:"/Audios/output_Athena.wav",provider:"deepgram"},{showName:"Hera",name:"hera",voice:"aura-hera-en",gender:"female",audioSr:"/Audios/output_Hera.wav",provider:"deepgram"},{showName:"Orion",name:"orion",voice:"aura-orion-en",gender:"male",audioSr:"/Audios/output_Orion.wav",provider:"deepgram"},{showName:"Arcas",name:"arcas",voice:"aura-arcas-en",gender:"male",audioSr:"/Audios/output_Arcas.wav",provider:"deepgram"},{showName:"Perseus",name:"perseus",voice:"aura-perseus-en",gender:"male",audioSr:"/Audios/output_Perseus.wav",provider:"deepgram"},{showName:"Angus",name:"angus",voice:"aura-angus-en",gender:"male",audioSr:"/Audios/output_Angus.wav",provider:"deepgram"},{showName:"Orpheus",name:"orpheus",voice:"aura-orpheus-en",gender:"male",audioSr:"/Audios/output_Orpheus.wav",provider:"deepgram"},{showName:"Helios",name:"helios",voice:"aura-helios-en",gender:"male",audioSr:"/Audios/output_Helios.wav",provider:"deepgram"},{showName:"Zeus",name:"zeus",voice:"aura-zeus-en",gender:"male",audioSr:"/Audios/output_Zeus.wav",provider:"deepgram"}],Ou=[{showName:"nova",name:"nova",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/nova.mp3",provider:"openai"},{showName:"onyx",name:"onyx",voice:"gpt-4o-mini-tts",gender:"male",audioSr:"/Audios/onyx.mp3",provider:"openai"},{showName:"alloy",name:"alloy",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/alloy.mp3",provider:"openai"}];[...Ec,...Ou];Ec.filter(e=>e.gender==="female");const _j=Ec.filter(e=>e.gender==="male"),kj=Ec;Ou.filter(e=>e.gender==="female");Ou.filter(e=>e.gender==="male");const jt={danger:"#EF4444",text:"#0F172A",lightText:"#64748B",border:"#E2E8F0",background:"#F8FAFC",card:"#FFFFFF"},BP=/^\+\d{7,15}$/,zP=[{id:1,label:"Core & Transcription",Icon:Y2},{id:2,label:"Voice",Icon:eN},{id:3,label:"Review & Save",Icon:_c}],a0e=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],n0e=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function s0e(){const{assistantId:e}=Qh(),a=da(),n="https://app.thedbt.ai",[s,r]=p.useState(1),[l,c]=p.useState(!0),[d,m]=p.useState(!1),[h,f]=p.useState(!1),g=p.useRef(null),[b,y]=p.useState(!1),[j,w]=p.useState([]),[N,k]=p.useState(!1),[_,C]=p.useState(""),[O,P]=p.useState("all"),[E,B]=p.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],voice_provider:"deepgram",voice_model:"",voice:"",speed:.8,stability:.5,similarityBoost:.75,draft:!1,assistant_toggle:!0}),[M,V]=p.useState({}),G=p.useMemo(()=>{const A=E.voice_provider==="openai"?Ou:Ec;return(O==="all"?A:A.filter(z=>z.gender===O)).slice().sort((z,X)=>((z==null?void 0:z.showName)||"").localeCompare((X==null?void 0:X.showName)||""))},[E.voice_provider,O]);p.useEffect(()=>{if(!E.voice)return;const A=G.find($=>($==null?void 0:$.name)===E.voice);A!=null&&A.voice&&(B($=>({...$,voice_model:A.voice})),V($=>({...$,voice_model:""})))},[E.voice,G]),p.useEffect(()=>{if(!E.voice)return y(!1);G.some($=>$.name===E.voice)||y(!1)},[G,E.voice]);const H=async()=>{k(!0),C("");try{const A=localStorage.getItem("token"),$=await fetch(`${n}/api/purchased_numbers`,{headers:{Accept:"application/json",...A?{Authorization:`Bearer ${A}`}:{}}});if(!$.ok)throw new Error(`HTTP ${$.status}`);const z=await $.json(),ge=(Array.isArray(z)?z:(z==null?void 0:z.purchased_numbers)||[]).filter(Boolean).map(te=>({phone_number:(te==null?void 0:te.phone_number)||"",friendly_name:(te==null?void 0:te.friendly_name)||"",attached_assistant:(te==null?void 0:te.attached_assistant)??null})).filter(te=>te.phone_number);w(ge)}catch(A){console.error(A),C("Failed to load your purchased numbers"),w([])}finally{k(!1)}};p.useEffect(()=>{(async()=>{try{const $=localStorage.getItem("token");if(!$){R.error("No authentication token found. Please log in."),a("/login");return}const z=await fetch(`${n}/api/get-assistants`,{headers:{Authorization:`Bearer ${$}`,Accept:"application/json"}});if(!z.ok)throw new Error(`HTTP ${z.status}`);const X=await z.json(),ge=Number(e),te=X.find(Se=>Number(Se.id)===ge);if(!te)throw new Error("Assistant not found");const J=te.voice_provider==="openai"||te.voice_provider==="deepgram"?te.voice_provider:"deepgram",Ce={name:te.name||"",provider:te.provider||"openai",model:te.model||"gpt-4o-mini",temperature:te.temperature??.7,maxTokens:te.max_tokens??te.maxTokens??250,systemPrompt:te.system_prompt||te.systemPrompt||"",first_message:te.first_message||"",transcribe_provider:te.transcribe_provider||"google",transcribe_language:te.transcribe_language||"English",transcribe_model:te.transcribe_model||"gemini-2.0-flash",forwardingPhoneNumber:te.forwardingPhoneNumber||"",attached_Number:te.attached_Number||"",category:te.category||"",knowledgeBase:te.knowledge_base||te.knowledgeBase||[],leadsfile:te.leadsfile||[],languages:te.languages||[],endCallPhrases:te.endCallPhrases||[],voice_provider:J,voice_model:te.voice_model||"",voice:te.voice||"",speed:te.speed??.8,stability:te.stability??.5,similarityBoost:te.similarityBoost??.75,draft:!!te.draft,assistant_toggle:!!(te.assistant_toggle??!0)};B(Se=>({...Se,...Ce}));const se=Ce.voice&&Ce.voice_model&&(Ce.voice_provider==="deepgram"||Ce.voice_provider==="openai");y(!!se),H(),c(!1)}catch($){console.error("Error loading assistant:",$),R.error(($==null?void 0:$.message)||"Failed to load assistant"),a("/")}})()},[e]);const F=A=>{const{id:$,value:z,type:X,checked:ge}=A.target,te=X==="checkbox"?ge:z;B(J=>({...J,[$]:te})),V(J=>({...J,[$]:""}))},ie=A=>{try{g.current&&(g.current.pause(),g.current=null);const $=new Audio(A);g.current=$,f(!0),$.play().catch(()=>{R.error("Failed to play voice preview"),f(!1),g.current=null}),$.onended=()=>{f(!1),g.current=null}}catch{R.error("Failed to play voice preview"),f(!1)}},_e=()=>{g.current&&(g.current.pause(),g.current=null,f(!1))},ce=A=>{if(A!==s){if(A===3&&(!E.voice||!b)){V($=>({...$,voice:"Select a voice and press Next to continue"})),R.error("Please select a voice and press Next to continue.");return}_e(),r(A)}},T=()=>{if(s===1)return r(2);if(s===2){if(!E.voice){V(A=>({...A,voice:"Please select a voice"})),R.error("Select a voice to continue.");return}if(!b){V(A=>({...A,voice:"Click a voice card to confirm your choice"})),R.info("Click a voice card to confirm your choice.");return}return r(3)}},K=A=>{_e();const $=A.target.value;B(z=>({...z,voice_provider:$,voice:"",voice_model:""})),y(!1),V(z=>({...z,voice:"",voice_model:""}))},W=()=>{const A=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],$={};let z=!0;return A.forEach(X=>{const ge=E[X];(ge==null||ge===""||Number.isNaN(ge))&&($[X]="Required",z=!1)}),(E.temperature<0||E.temperature>2)&&($.temperature="Temperature must be between 0 and 2",z=!1),Number(E.maxTokens)<1&&($.maxTokens="maxTokens must be a positive integer",z=!1),E.forwardingPhoneNumber&&!BP.test(E.forwardingPhoneNumber)&&($.forwardingPhoneNumber="Must be E.164 (+123...)",z=!1),E.attached_Number&&!BP.test(E.attached_Number)&&($.attached_Number="Invalid number format",z=!1),V($),z||((te=>te.some(J=>$[J]))(["name","systemPrompt","first_message","forwardingPhoneNumber","attached_Number","category"])?r(1):r(2)),z},I=async A=>{if(A.preventDefault(),!d){if(s!==3){R.error("Please complete the steps first.");return}if(!W()){R.error("Fix the highlighted fields.");return}m(!0),_e();try{const $=localStorage.getItem("token");if(!$)throw new Error("No authentication token found. Please log in.");const z={name:E.name,provider:E.provider,first_message:E.first_message||null,model:E.model,systemPrompt:E.systemPrompt||null,knowledgeBase:E.knowledgeBase,leadsfile:E.leadsfile,temperature:Number(E.temperature),maxTokens:Number(E.maxTokens),transcribe_provider:E.transcribe_provider,transcribe_language:E.transcribe_language,transcribe_model:E.transcribe_model,languages:E.languages,forwardingPhoneNumber:E.forwardingPhoneNumber||null,endCallPhrases:E.endCallPhrases,voice_provider:E.voice_provider,voice:E.voice,voice_model:E.voice_model,attached_Number:E.attached_Number||null,draft:!!E.draft,assistant_toggle:!!E.assistant_toggle,category:E.category||null,speed:Number(E.speed),stability:Number(E.stability),similarityBoost:Number(E.similarityBoost)},X=await fetch(`${n}/api/update_assistant/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify(z)});if(!X.ok){let ge=`HTTP ${X.status}`;try{const te=await X.json();te!=null&&te.detail&&(ge=te.detail)}catch{const te=await X.text();te&&(ge=`${ge}  ${te}`)}throw new Error(ge)}R.success("Assistant updated successfully!"),a("/user/callassistent")}catch($){console.error("Update error",$),R.error(($==null?void 0:$.message)||"Failed to update assistant")}finally{m(!1)}}};return l?t.jsx("div",{className:"min-h-screen grid place-items-center",style:{background:jt.background},children:t.jsxs("div",{className:"flex items-center gap-3 text-lg",style:{color:jt.text},children:[t.jsx(Ia,{className:"h-6 w-6 animate-spin"}),"Loading assistant"]})}):t.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:jt.background},children:[t.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:t.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(99,102,241,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(16,185,129,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(59,130,246,0.12) 0%, transparent 60%)"}})}),t.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),t.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[t.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:jt.border,backgroundColor:jt.card},children:t.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[t.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-indigo-300/30 blur-2xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-emerald-300/30 blur-2xl"}),t.jsxs("div",{className:"relative p-6 text-center",children:[t.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold",style:{color:jt.text},children:[t.jsx(_c,{className:"h-7 w-7 text-indigo-600"})," Edit Assistant"]}),t.jsx("p",{className:"mt-2 text-sm",style:{color:jt.lightText},children:"Minimal UI  Voice required  Create-aligned defaults"})]})]})}),t.jsx(r0e,{currentStep:s,onChange:ce}),t.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:jt.card,borderColor:jt.border},children:t.jsxs("form",{onSubmit:I,noValidate:!0,children:[t.jsxs(kt,{mode:"wait",children:[s===1&&t.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsx(ix,{id:"name",label:"Assistant Name",value:E.name,onChange:F,error:M.name,placeholder:"SupportBot"}),t.jsx(ix,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:E.forwardingPhoneNumber,onChange:F,error:M.forwardingPhoneNumber,placeholder:"+12345678901"}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Nh,{children:"Attach Purchased Number (optional)"}),t.jsxs("button",{type:"button",onClick:H,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1 text-sm font-medium hover:bg-slate-50",style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card},disabled:N,title:"Refresh list",children:[t.jsx(Ge,{className:N?"h-4 w-4 animate-spin":"h-4 w-4"}),N?"Loading":"Refresh"]})]}),t.jsxs("select",{id:"attached_Number",value:E.attached_Number,onChange:F,disabled:N,className:"w-full rounded-xl border p-3 outline-none transition disabled:opacity-60 focus:border-indigo-500",style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card},children:[t.jsx("option",{value:"",children:j.length?"Do not change":"No purchased numbers found"}),j.map(A=>t.jsx("option",{value:A.phone_number,children:A.friendly_name?`${A.friendly_name}  ${A.phone_number}`:A.phone_number},A.phone_number))]}),_&&t.jsx(Qo,{children:_}),M.attached_Number&&t.jsx(Qo,{children:M.attached_Number})]}),t.jsx(ix,{id:"category",label:"Category (optional)",value:E.category,onChange:F}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Nh,{children:"System Prompt"}),t.jsx(VP,{id:"systemPrompt",value:E.systemPrompt,onChange:F,placeholder:"Write your system prompt",rows:4}),M.systemPrompt&&t.jsx(Qo,{children:M.systemPrompt})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Nh,{children:"First Message"}),t.jsx(VP,{id:"first_message",value:E.first_message,onChange:F,placeholder:"Hello! ",rows:3}),M.first_message&&t.jsx(Qo,{children:M.first_message})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[t.jsx(HP,{id:"draft",label:"Save as Draft",checked:E.draft,onChange:F}),t.jsx(HP,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:E.assistant_toggle,onChange:F})]})]},"step1"),s===2&&t.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsx(FP,{id:"voice_provider",label:"Voice Provider",value:E.voice_provider,onChange:K,options:a0e,error:M.voice_provider}),t.jsx(FP,{id:"genderFilter",label:"Gender",value:O,onChange:A=>{_e(),P(A.target.value)},options:n0e}),t.jsx(ix,{id:"voice_model",label:"Voice Model",value:E.voice_model,onChange:()=>{},error:M.voice_model,placeholder:E.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!b&&t.jsxs("p",{className:"text-sm",style:{color:jt.lightText},children:["Tip: ",t.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press ",t.jsx("span",{className:"font-medium",children:"Next"}),"."]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"text-sm",style:{color:jt.lightText},children:["Showing ",t.jsx("span",{className:"font-medium",children:G.length})," voices"]})}),t.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:G.map(A=>t.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:E.voice===A.name?"#93c5fd":jt.border,backgroundColor:E.voice===A.name?"#eff6ff":jt.card},onClick:()=>{B($=>({...$,voice:A.name,voice_model:A.voice,voice_provider:A.provider||E.voice_provider})),y(!0),V($=>({...$,voice:"",voice_model:""}))},children:[t.jsx("div",{className:"absolute left-3 top-3",children:t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${E.voice===A.name?"border-indigo-500 bg-indigo-500":"border-slate-400 bg-transparent"}`})}),t.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold",style:{color:jt.text},children:A.showName||A.name}),t.jsxs("div",{className:"text-sm capitalize",style:{color:jt.lightText},children:[A.gender||"unknown","  ",A.provider]}),t.jsx("div",{className:"mt-1 text-xs",style:{color:jt.lightText},children:A.voice})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(i0e,{isActive:h&&E.voice===A.name,onPlay:()=>ie(A.audioSr||""),onStop:_e})})]})]},`${A.provider}-${A.name}`))}),M.voice&&t.jsx(Qo,{children:M.voice})]},"step2"),s===3&&t.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:t.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:jt.border},children:[t.jsx("h3",{className:"mb-3 text-lg font-semibold",style:{color:jt.text},children:"Review"}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx($o,{label:"Name",value:E.name||""}),t.jsx($o,{label:"Model",value:`${E.provider}  ${E.model}`}),t.jsx($o,{label:"Voice Provider",value:E.voice_provider}),t.jsx($o,{label:"Voice",value:E.voice||""}),t.jsx($o,{label:"Voice Model",value:E.voice_model||""}),t.jsx($o,{label:"Forwarding Number",value:E.forwardingPhoneNumber||""}),t.jsx($o,{label:"Attach Number",value:E.attached_Number||""})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[t.jsx(Cj,{onClick:()=>r(2),children:"Edit Voice"}),t.jsx(Cj,{onClick:()=>r(1),children:"Edit Core"})]})]})},"step3")]}),t.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[s>1?t.jsx(Cj,{onClick:()=>ce(s-1),children:"Back"}):t.jsx("span",{}),s<3?t.jsxs(UP,{onClick:T,children:["Next ",t.jsx(pa,{className:"ml-1 h-4 w-4"})]}):t.jsx(UP,{type:"submit",disabled:d,children:d?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Ia,{className:"h-4 w-4 animate-spin"})," Updating"]}):"Update Assistant"})]})]})})]})]})}function r0e({currentStep:e,onChange:a}){const n=zP;return t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:n.map(({id:s,label:r,Icon:l})=>{const c=e===s;return t.jsxs(pe.button,{onClick:()=>a(s),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${c?"border-indigo-500/40 bg-indigo-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[t.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${c?"bg-indigo-100":"bg-slate-100"}`,children:t.jsx(l,{className:`h-5 w-5 ${c?"text-indigo-600":"text-slate-600"}`})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:`text-sm font-semibold ${c?"text-slate-900":"text-slate-700"}`,children:r}),t.jsx("div",{className:`text-xs ${c?"text-indigo-600":"text-slate-500"}`,children:c?"Active":"Click to open"})]})]},s)})}),t.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-4xl rounded-full bg-slate-200",children:t.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-indigo-600 to-emerald-500",style:{width:`${e/zP.length*100}%`}})})]})}function UP({children:e,onClick:a,type:n="button",disabled:s}){return t.jsx("button",{type:n,onClick:a,disabled:s,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-indigo-200 transition ${s?"bg-indigo-400/60":"bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600"}`,children:e})}function Cj({children:e,onClick:a}){return t.jsx("button",{type:"button",onClick:a,className:"rounded-xl border px-4 py-2 font-semibold hover:bg-slate-50",style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card},children:e})}function Nh({children:e}){return t.jsx("label",{className:"mb-2 block text-sm font-semibold",style:{color:jt.text},children:e})}function Qo({children:e}){return t.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm",style:{color:jt.danger},children:e})}function ix({id:e,label:a,value:n,onChange:s,error:r,placeholder:l,readOnly:c=!1}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(Nh,{children:a}),t.jsx("input",{id:e,type:"text",value:n,onChange:s,placeholder:l,readOnly:c,className:`w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500 ${c?"bg-slate-50":""}`,style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card}}),r&&t.jsx(Qo,{children:r})]})}function FP({id:e,label:a,value:n,onChange:s,options:r,error:l}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(Nh,{children:a}),t.jsx("select",{id:e,value:n,onChange:s,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card},children:r.map(c=>t.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&t.jsx(Qo,{children:l})]})}function VP({id:e,value:a,onChange:n,placeholder:s,rows:r=4}){return t.jsx("textarea",{id:e,value:a,onChange:n,placeholder:s,rows:r,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card}})}function HP({id:e,label:a,checked:n,onChange:s}){return t.jsxs("label",{className:"flex cursor-pointer items-center gap-2",style:{color:jt.text},children:[t.jsx("input",{id:e,type:"checkbox",checked:n,onChange:s,className:"accent-indigo-600"}),t.jsx("span",{children:a})]})}function $o({label:e,value:a}){return t.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:jt.border},children:[t.jsx("div",{className:"text-slate-500",children:e}),t.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:a})]})}function i0e({isActive:e,onPlay:a,onStop:n}){return t.jsx("div",{className:"flex items-center gap-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((s,r)=>t.jsx("div",{className:"w-1.5 rounded-sm bg-indigo-500",style:{animation:`eqbar 0.9s ${s}ms ease-in-out infinite`}},r))}),t.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-rose-200 transition hover:brightness-110 bg-gradient-to-br from-rose-500 to-red-500",title:"Stop",children:t.jsx(Zd,{className:"h-5 w-5"})})]}):t.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-indigo-200 transition hover:brightness-110 bg-gradient-to-br from-indigo-600 to-blue-500",title:"Play preview",children:t.jsx(gu,{className:"h-5 w-5"})})})}const ai={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},l0e=`
You are a professional and friendly assistant. Always speak in a natural, conversational way that feels human, polite, and approachable. Your goal is to sound like a helpful representative who is confident and enthusiastic . Keep your replies brief and natural, as if you were speaking in real conversation, without sounding robotic or scripted.

Stay focused only on the system prompt you are give and be the agent just for that prompt . If someone asks about something unrelated, politely guide them back by saying something like, I can only answer questions related to our company, could you please ask me something in that area? Always remain polite and respectful when doing so. If the customer wants to end the call, acknowledge them warmly and end it immediately.

You must only communicate in English. If someone speaks in another language, respond politely by saying, I can only communicate in English, lets continue in English please. Throughout every interaction, keep your answers short, clear, and professional, Donot make pause or delay after the first message . Reply as fast as you can while still sounding human, friendly, and approachable.
`.trim(),qP=/^\+\d{7,15}$/,KP=[{id:1,key:"core",label:"Core & Transcription",Icon:Y2},{id:2,key:"voice",label:"Voice",Icon:eN},{id:3,key:"review",label:"Review & Create",Icon:_c}],o0e=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],c0e=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function d0e(){const e=da(),[a,n]=p.useState(1),[s,r]=p.useState(!1),[l,c]=p.useState(!1),d=p.useRef(null),[m,h]=p.useState(!1),[f,g]=p.useState("all"),[b,y]=p.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.6,maxTokens:200,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[j,w]=p.useState({}),[N,k]=p.useState([]),[_,C]=p.useState(!1),[O,P]=p.useState(""),E=p.useMemo(()=>{const T=b.voice_provider==="openai"?Ou:Ec;return(f==="all"?T:T.filter(W=>W.gender===f)).slice().sort((W,I)=>((W==null?void 0:W.showName)||"").localeCompare((I==null?void 0:I.showName)||""))},[b.voice_provider,f]);p.useEffect(()=>{if(!b.voice)return;const T=E.find(K=>(K==null?void 0:K.name)===b.voice);T!=null&&T.voice&&(y(K=>({...K,voice_model:T.voice})),w(K=>({...K,voice_model:""})))},[b.voice,E]);const B="https://app.thedbt.ai",M=T=>{const{id:K,value:W,type:I,checked:A}=T.target,$=I==="checkbox"?A:W;y(z=>({...z,[K]:$})),w(z=>({...z,[K]:""}))},V=T=>{try{d.current&&(d.current.pause(),d.current=null);const K=new Audio(T||"");d.current=K,c(!0),K.play().catch(()=>{R.error("Failed to play voice preview"),c(!1),d.current=null}),K.onended=()=>{c(!1),d.current=null}}catch{R.error("Failed to play voice preview"),c(!1)}},G=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},H=T=>{if(T!==a){if(T===3&&(!b.voice||!m)){w(K=>({...K,voice:"Select a voice and press Next to continue"})),R.error("Please select a voice and press Next to continue.");return}G(),n(T)}},F=()=>{if(a===1)return n(2);if(a===2){if(!b.voice){w(T=>({...T,voice:"Please select a voice"})),R.error("Select a voice to continue.");return}if(!m){w(T=>({...T,voice:"Click a voice card to confirm your choice"})),R.info("Click a voice card to confirm your choice.");return}n(3)}},ie=async()=>{C(!0),P("");try{const T=localStorage.getItem("token"),K=await fetch(`${B}/api/purchased_numbers`,{headers:{Accept:"application/json",...T?{Authorization:`Bearer ${T}`}:{}}});if(!K.ok)throw new Error(`HTTP ${K.status}`);const W=await K.json(),A=(Array.isArray(W)?W:(W==null?void 0:W.purchased_numbers)||[]).filter(Boolean).map($=>({phone_number:($==null?void 0:$.phone_number)||"",friendly_name:($==null?void 0:$.friendly_name)||"",attached_assistant:($==null?void 0:$.attached_assistant)??null})).filter($=>$.phone_number);k(A)}catch(T){console.error(T),P("Failed to load your purchased numbers"),k([])}finally{C(!1)}};p.useEffect(()=>{ie()},[]);const _e=()=>{const T=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],K={};let W=!0;if(T.forEach(I=>{const A=b[I];(A==null||A===""||Number.isNaN(A))&&(K[I]="Required",W=!1)}),(b.temperature<0||b.temperature>2)&&(K.temperature="Temperature must be between 0 and 2",W=!1),b.maxTokens<1&&(K.maxTokens="maxTokens must be a positive integer",W=!1),b.forwardingPhoneNumber&&!qP.test(b.forwardingPhoneNumber)&&(K.forwardingPhoneNumber="Must be E.164 (+123...)",W=!1),b.attached_Number&&!qP.test(b.attached_Number)&&(K.attached_Number="Invalid number format",W=!1),w(K),!W){const I=z=>z.some(X=>K[X]),A=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],$=["voice_provider","voice_model","voice"];I(A)?n(1):I($)&&n(2)}return W},ce=async T=>{if(T.preventDefault(),!s){if(a!==3){R.error("Please complete the steps first.");return}if(_e()){r(!0),G();try{const K=localStorage.getItem("token"),W=`${B}/api/assistants`,I=[l0e,(b.systemPrompt||"").trim()].filter(Boolean).join(`

`),A={name:b.name,provider:b.provider,first_message:b.first_message||null,model:b.model,systemPrompt:I,knowledgeBase:b.knowledgeBase,leadsfile:b.leadsfile,temperature:Number(b.temperature),maxTokens:Number(b.maxTokens),transcribe_provider:b.transcribe_provider,transcribe_language:b.transcribe_language,transcribe_model:b.transcribe_model,languages:b.languages,forwardingPhoneNumber:b.forwardingPhoneNumber||null,endCallPhrases:b.endCallPhrases,voice_provider:b.voice_provider,voice:b.voice,voice_model:b.voice_model,attached_Number:b.attached_Number||null,draft:!!b.draft,assistant_toggle:!!b.assistant_toggle,category:b.category||null,speed:Number(b.speed),stability:Number(b.stability),similarityBoost:Number(b.similarityBoost)},$=await fetch(W,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...K?{Authorization:`Bearer ${K}`}:{}},body:JSON.stringify(A)});if(!$.ok){let z=`HTTP ${$.status}`;try{const X=await $.json();X!=null&&X.detail&&(z=X.detail)}catch{const X=await $.text();X&&(z=`${z}  ${X}`)}throw new Error(z)}R.success("Assistant created successfully!"),e("/user/callassistent")}catch(K){R.error((K==null?void 0:K.message)||"Failed to create assistant")}finally{r(!1)}}}};return p.useEffect(()=>{h(!1),y(T=>({...T,voice:"",voice_model:""}))},[b.voice_provider]),t.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:ai.background},children:[t.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:t.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),t.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),t.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[t.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:ai.border,backgroundColor:ai.card},children:t.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[t.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),t.jsxs("div",{className:"relative p-6 text-center",children:[t.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[t.jsx(_c,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),t.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),t.jsx(u0e,{currentStep:a,onChange:H}),t.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:ai.card,borderColor:ai.border},children:t.jsxs("form",{onSubmit:ce,noValidate:!0,children:[t.jsxs(kt,{mode:"wait",children:[a===1&&t.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsx(lx,{id:"name",label:"Assistant Name",value:b.name,onChange:M,error:j.name,placeholder:"SupportBot"}),t.jsx(lx,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:b.forwardingPhoneNumber,onChange:M,error:j.forwardingPhoneNumber,placeholder:"+12345678901"}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Sh,{children:"Attach Purchased Number (optional)"}),t.jsx("button",{type:"button",onClick:ie,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),t.jsxs("select",{id:"attached_Number",value:b.attached_Number,onChange:M,disabled:_||!N.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[t.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":N.length?"Do not attach":"No purchased numbers found"}),N.map(T=>t.jsx("option",{value:T.phone_number,className:"bg-white",children:T.friendly_name?`${T.friendly_name}  ${T.phone_number}`:T.phone_number},T.phone_number))]}),O&&t.jsx(Jo,{children:O}),j.attached_Number&&t.jsx(Jo,{children:j.attached_Number})]}),t.jsx(lx,{id:"category",label:"Category (optional)",value:b.category,onChange:M}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Sh,{children:"System Prompt"}),t.jsx(WP,{id:"systemPrompt",value:b.systemPrompt,onChange:M,placeholder:"Add any custom instructions for your Carsaz agent",rows:4}),j.systemPrompt&&t.jsx(Jo,{children:j.systemPrompt})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(Sh,{children:"First Message"}),t.jsx(WP,{id:"first_message",value:b.first_message,onChange:M,placeholder:"Hello! Thanks for calling Carsazhow can I help you today?",rows:3}),j.first_message&&t.jsx(Jo,{children:j.first_message})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[t.jsx(XP,{id:"draft",label:"Save as Draft",checked:b.draft,onChange:M}),t.jsx(XP,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:b.assistant_toggle,onChange:M})]})]},"step1"),a===2&&t.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsx(YP,{id:"voice_provider",label:"Voice Provider",value:b.voice_provider,onChange:T=>{G();const K=T.target.value;y(W=>({...W,voice_provider:K,voice:"",voice_model:""})),h(!1),w(W=>({...W,voice:"",voice_model:""}))},options:o0e,error:j.voice_provider}),t.jsx(YP,{id:"genderFilter",label:"Gender",value:f,onChange:T=>{G(),g(T.target.value),h(!1)},options:c0e}),t.jsx(lx,{id:"voice_model",label:"Voice Model",value:b.voice_model,onChange:()=>{},error:j.voice_model,placeholder:b.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!m&&t.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",t.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",t.jsx("span",{className:"font-medium",children:"Next"}),"."]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&t.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:ai.border},children:"No voices match this filter."}),E.map(T=>t.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:b.voice===T.name?"#93c5fd":ai.border,backgroundColor:b.voice===T.name?"#eff6ff":ai.card},onClick:()=>{y(K=>({...K,voice:T.name,voice_model:T.voice,voice_provider:T.provider||b.voice_provider})),h(!0),w(K=>({...K,voice:"",voice_model:""}))},children:[t.jsx("div",{className:"absolute left-3 top-3",children:t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${b.voice===T.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),t.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold text-slate-900",children:T.showName||T.name}),t.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[T.gender||"unknown","  ",T.provider]}),t.jsx("div",{className:"mt-1 text-xs text-slate-500",children:T.voice})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(m0e,{isActive:l&&b.voice===T.name,onPlay:()=>V(T.audioSr||""),onStop:G})})]})]},`${T.provider}-${T.name}`))]}),j.voice&&t.jsx(Jo,{children:j.voice})]},"step2"),a===3&&t.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:t.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:ai.border},children:[t.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx(Lo,{label:"Name",value:b.name||""}),t.jsx(Lo,{label:"Model",value:`${b.provider}  ${b.model}`}),t.jsx(Lo,{label:"Voice Provider",value:b.voice_provider}),t.jsx(Lo,{label:"Voice",value:b.voice||""}),t.jsx(Lo,{label:"Voice Model",value:b.voice_model||""}),t.jsx(Lo,{label:"Forwarding Number",value:b.forwardingPhoneNumber||""}),t.jsx(Lo,{label:"Attach Number",value:b.attached_Number||""})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[t.jsx(Aj,{onClick:()=>n(2),children:"Edit Voice"}),t.jsx(Aj,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),t.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[a>1?t.jsx(Aj,{onClick:()=>H(a-1),children:"Back"}):t.jsx("span",{}),a<3?t.jsxs(GP,{onClick:F,children:["Next ",t.jsx(pa,{className:"ml-1 h-4 w-4"})]}):t.jsx(GP,{type:"submit",disabled:s,children:s?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Ia,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function u0e({currentStep:e,onChange:a}){return t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:KP.map(({id:n,label:s,Icon:r})=>{const l=e===n;return t.jsxs(pe.button,{onClick:()=>a(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[t.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:t.jsx(r,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:s}),t.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),t.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:t.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/KP.length*100}%`}})})]})}function GP({children:e,onClick:a,type:n="button",disabled:s}){return t.jsx("button",{type:n,onClick:a,disabled:s,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${s?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function Aj({children:e,onClick:a}){return t.jsx("button",{type:"button",onClick:a,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Sh({children:e}){return t.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Jo({children:e}){return t.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function lx({id:e,label:a,value:n,onChange:s,error:r,placeholder:l,readOnly:c=!1,disabled:d=!1}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(Sh,{children:a}),t.jsx("input",{id:e,type:"text",value:n,onChange:s,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),r&&t.jsx(Jo,{children:r})]})}function YP({id:e,label:a,value:n,onChange:s,options:r,error:l}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(Sh,{children:a}),t.jsx("select",{id:e,value:n,onChange:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:r.map(c=>t.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&t.jsx(Jo,{children:l})]})}function WP({id:e,value:a,onChange:n,placeholder:s,rows:r=4}){return t.jsx("textarea",{id:e,value:a,onChange:n,placeholder:s,rows:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function XP({id:e,label:a,checked:n,onChange:s}){return t.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[t.jsx("input",{id:e,type:"checkbox",checked:n,onChange:s,className:"accent-blue-600"}),t.jsx("span",{children:a})]})}function Lo({label:e,value:a}){return t.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:ai.border},children:[t.jsx("div",{className:"text-slate-500",children:e}),t.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:a})]})}function m0e({isActive:e,onPlay:a,onStop:n}){return t.jsx("div",{className:"flex items-center gap-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((s,r)=>t.jsx("div",{className:"w-1.5 rounded-sm",style:{backgroundColor:"#3B82F6",animation:`eqbar 0.9s ${s}ms ease-in-out infinite`}},r))}),t.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:t.jsx(Zd,{className:"h-5 w-5"})})]}):t.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:t.jsx(gu,{className:"h-5 w-5"})})})}const zm="https://app.thedbt.ai",xd={FILES:`${zm}/api/files`,FILE:e=>`${zm}/api/files/${e}`,SYNC:{HUBSPOT:`${zm}/api/crm/ingest/hubspot`,GHL:`${zm}/api/crm/ingest/ghl`,MONDAY:`${zm}/api/crm/ingest/monday`}},h0e="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function c9(...e){return e.filter(Boolean).join(" ")}function ss({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[s]} ${d[n]} ${a}`,children:e})}function ZP({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a}),t.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(ss,{onClick:a,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:t.jsx(Cn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function ox({label:e,value:a,tone:n="blue"}){const s=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",r=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${r} text-white shadow-inner ring-1 ${s}`,children:t.jsx(lh,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function cx({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function dx({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function QP({id:e}){const[a,n]=p.useState(!1);return t.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(String(e||"")),n(!0),setTimeout(()=>n(!1),1e3)}catch{}},className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-600 hover:bg-slate-100 max-w-full",title:"Copy alphanumeric id",children:[a?t.jsx(rp,{className:"h-3.5 w-3.5"}):t.jsx(La,{className:"h-3.5 w-3.5"}),t.jsx("span",{className:"truncate max-w-[9rem]",children:e})]})}function f0e(){const e=da(),[a,n]=p.useState([]),[s,r]=p.useState(!1),[l,c]=p.useState(""),[d,m]=p.useState(""),[h,f]=p.useState("created_at"),[g,b]=p.useState("desc"),[y,j]=p.useState(!1),[w,N]=p.useState("New List"),[k,_]=p.useState(null),[C,O]=p.useState(!1),[P,E]=p.useState(!1),B=p.useRef(null),[M,V]=p.useState({open:!1,id:null,name:""}),[G,H]=p.useState(!1),F=p.useCallback(async()=>{const J=localStorage.getItem("token");if(!J){n([]),c("No auth token found."),R.error("No authentication token found.");return}try{r(!0),c("");const Ce=await fetch(xd.FILES,{headers:{Authorization:`Bearer ${J}`,Accept:"application/json"}});if(!Ce.ok)throw new Error(`HTTP ${Ce.status}`);const se=await Ce.json();n(Array.isArray(se)?se:[])}catch(Ce){c((Ce==null?void 0:Ce.message)||"Failed to load lists"),R.error((Ce==null?void 0:Ce.message)||"Failed to load lists")}finally{r(!1)}},[]);p.useEffect(()=>{F()},[F]);const ie=p.useMemo(()=>{const J=d.trim().toLowerCase();return[...J?a.filter(Se=>[Se.name,Se.alphanumeric_id,Se.created_at].filter(Boolean).some(De=>String(De).toLowerCase().includes(J))):a].sort((Se,De)=>{let Me=Se[h],ye=De[h];return h==="created_at"&&(Me=new Date(Se.created_at).getTime(),ye=new Date(De.created_at).getTime()),Me<ye?g==="asc"?-1:1:Me>ye?g==="asc"?1:-1:0})},[a,d,h,g]),_e=a.length,ce=a.reduce((J,Ce)=>J+(Number(Ce.leads_count)||0),0),T=a[0]||null,K=J=>{h===J?b(Ce=>Ce==="asc"?"desc":"asc"):(f(J),b("desc"))},W=J=>e(`/user/lead/${J.id}`);async function I(J){const Ce=localStorage.getItem("token");if(!Ce)return R.error("No authentication token found.");try{const se=await fetch(xd.FILE(J),{method:"DELETE",headers:{Authorization:`Bearer ${Ce}`,Accept:"application/json"}});if(!se.ok)throw new Error(`HTTP ${se.status}`);R.success(" List deleted"),V({open:!1,id:null,name:""}),n(Se=>Se.filter(De=>De.id!==J))}catch(se){R.error((se==null?void 0:se.message)||"Delete failed")}}async function A(){const J=localStorage.getItem("token");if(!J)return R.error("No authentication token found.");if(!k)return R.info("Choose a CSV file");if(!w.trim())return R.info("Enter a name");O(!0);try{const Ce=new FormData;Ce.append("file",k),Ce.append("name",w.trim());const se=await fetch(xd.FILES,{method:"POST",headers:{Authorization:`Bearer ${J}`},body:Ce});if(!se.ok){const Se=await se.text();throw new Error(Se||`HTTP ${se.status}`)}R.success(" List created"),j(!1),_(null),N("New List"),F()}catch(Ce){R.error((Ce==null?void 0:Ce.message)||"Upload failed")}finally{O(!1)}}async function $(){const J=localStorage.getItem("token");if(!J)return R.error("No authentication token found.");const Ce=async Se=>{const De=await fetch(Se,{method:"POST",headers:{Authorization:`Bearer ${J}`,Accept:"application/json"}});let Me={};try{Me=await De.json()}catch{}if(!De.ok){const ye=(Me==null?void 0:Me.detail)||(Me==null?void 0:Me.error)||(Me==null?void 0:Me.message)||`HTTP ${De.status}`;throw new Error(ye)}return Me},se=[{name:"HubSpot",url:xd.SYNC.HUBSPOT},{name:"GHL",url:xd.SYNC.GHL},{name:"monday.com",url:xd.SYNC.MONDAY}];try{H(!0);const Se=await Promise.allSettled(se.map(Ke=>Ce(Ke.url)));let De=0,Me=0,ye=0,Ye=0;Se.forEach((Ke,we)=>{var Ae,U,de;const ue=se[we].name;if(Ke.status==="fulfilled"){Ye++;const ke=Array.isArray((Ae=Ke.value)==null?void 0:Ae.details)?Ke.value.details[0]:((U=Ke.value)==null?void 0:U.details)||{};De+=Number((ke==null?void 0:ke.created_leads)||0),Me+=Number((ke==null?void 0:ke.updated_leads)||0),ye+=Number((ke==null?void 0:ke.fetched_contacts)||0),R.success(`${ue}:  ${(ke==null?void 0:ke.created_leads)||0} new, ${(ke==null?void 0:ke.updated_leads)||0} updated`,{autoClose:2500})}else{const ke=String(((de=Ke.reason)==null?void 0:de.message)||Ke.reason||"error");R.info(`${ue}: ${ke.includes("Not connected")?"Not connected":` ${ke}`}`,{autoClose:3e3})}}),R.success(`Sync complete: ${Ye}/${se.length} OK  fetched ${ye}, created ${De}, updated ${Me}.`),setTimeout(F,1200)}catch(Se){R.error((Se==null?void 0:Se.message)||"Sync failed")}finally{H(!1)}}function z(J){J.preventDefault(),E(!0)}function X(J){J.preventDefault(),E(!1)}function ge(J){var se;J.preventDefault(),E(!1);const Ce=(se=J.dataTransfer.files)==null?void 0:se[0];if(Ce){if(!te(Ce))return R.info("Please drop a .csv file");_(Ce)}}function te(J){const Ce=/\.csv$/i.test(J.name),se=J.type==="text/csv"||J.type==="application/vnd.ms-excel"||J.type==="";return Ce||se}return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(lh,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${h0e}`,children:"Lists"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create and manage your CSV lists. Sync leads from connected CRMs (HubSpot, GHL, monday.com)."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(ss,{onClick:()=>j(!0),variant:"primary",children:[t.jsx(Zn,{className:"mr-2 h-4 w-4"})," New List"]}),t.jsx(ss,{onClick:F,disabled:s,children:s?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})}),t.jsx(ss,{onClick:$,disabled:G,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:G?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):t.jsx(t.Fragment,{children:"SYNC LEADS"})})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(ox,{label:"Total Lists",value:_e}),t.jsx(ox,{label:"Total Leads",value:ce,tone:"cyan"}),t.jsx(ox,{label:"Last Created",value:T&&T.name||""}),t.jsx(ox,{label:"Newest Date",value:T?ux(T.created_at):"",tone:"cyan"})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Un,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:d,onChange:J=>m(J.target.value),placeholder:"Search by name, ID, date",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsx("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0 text-xs font-medium",children:"Sort"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Tj,{label:"Name",active:h==="name",dir:g,onClick:()=>K("name")}),t.jsx(Tj,{label:"Leads",active:h==="leads_count",dir:g,onClick:()=>K("leads_count")}),t.jsx(Tj,{label:"Created",active:h==="created_at",dir:g,onClick:()=>K("created_at")})]})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:["All Lists (",ie.length,")"]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"})," Live"]})]}),s?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading lists"})]}):l?t.jsx("div",{className:"grid place-content-center py-16 px-4 text-center text-sm text-red-600",children:l}):ie.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(lh,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try searching or upload a CSV"}),t.jsx("div",{className:"mt-3",children:t.jsxs(ss,{onClick:()=>j(!0),variant:"primary",children:[t.jsx(Zn,{className:"h-4 w-4 mr-2"})," New List"]})})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block w-full",children:t.jsxs("table",{className:"w-full table-fixed",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(cx,{children:"Name"}),t.jsx(cx,{children:"Leads"}),t.jsx(cx,{children:"Created"}),t.jsx(cx,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:ie.map(J=>t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsxs(dx,{children:[t.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-2 min-w-0",children:[t.jsx("span",{className:"truncate max-w-[22rem]",children:J.name}),t.jsx(QP,{id:J.alphanumeric_id})]}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["#",J.id]})]}),t.jsx(dx,{children:t.jsx("span",{className:"text-sm font-semibold text-slate-800",children:J.leads_count??0})}),t.jsx(dx,{children:t.jsx("span",{className:"text-sm text-slate-800",children:ux(J.created_at)})}),t.jsx(dx,{children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(ss,{onClick:()=>W(J),size:"sm",title:"View",children:t.jsx(Ta,{className:"h-4 w-4"})}),t.jsx(ss,{onClick:()=>V({open:!0,id:J.id,name:J.name}),variant:"danger",size:"sm",title:"Delete",children:t.jsx(Ea,{className:"h-4 w-4"})})]})})]},J.id))})]})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ie.map(J=>t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-4",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 truncate",title:J.name,children:J.name}),t.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-600",children:[t.jsx(QP,{id:J.alphanumeric_id}),t.jsxs("span",{className:"text-[11px] text-slate-500",children:["ID #",J.id]})]}),t.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Leads"}),t.jsx("div",{className:"font-semibold text-slate-900",children:J.leads_count??0})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Created"}),t.jsx("div",{className:"font-semibold text-slate-900 truncate",title:ux(J.created_at),children:ux(J.created_at)})]})]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsxs(ss,{onClick:()=>W(J),size:"sm",className:"grow sm:grow-0",children:[t.jsx(Ta,{className:"h-4 w-4 mr-1"})," View"]}),t.jsxs(ss,{onClick:()=>V({open:!0,id:J.id,name:J.name}),variant:"danger",size:"sm",className:"grow sm:grow-0",children:[t.jsx(Ea,{className:"h-4 w-4 mr-1"})," Delete"]})]})]},J.id))})})]})]})]}),t.jsx(kt,{children:y&&t.jsx(ZP,{onClose:()=>j(!1),title:"Create New List",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"List name"}),t.jsx("input",{value:w,onChange:J=>N(J.target.value),placeholder:"e.g., July Prospects",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsxs("div",{onDragOver:z,onDragLeave:X,onDrop:ge,className:c9("relative grid place-items-center rounded-2xl border-2 border-dashed px-4 py-10 transition",P?"border-blue-500 bg-blue-50/60":"border-slate-300 bg-slate-50/60 hover:bg-slate-50"),children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"mb-2 rounded-xl bg-white p-3 shadow",children:t.jsx(lh,{className:"h-6 w-6 text-slate-700"})}),t.jsx("p",{className:"text-sm text-slate-700",children:"Drag & drop your CSV here, or"}),t.jsxs(ss,{type:"button",onClick:()=>{var J;return(J=B.current)==null?void 0:J.click()},variant:"primary",className:"mt-2",children:[t.jsx(JF,{className:"h-4 w-4 mr-2"})," Browse Files"]}),t.jsx("input",{ref:B,type:"file",accept:".csv,text/csv",onChange:J=>{var se;const Ce=((se=J.target.files)==null?void 0:se[0])||null;if(!Ce)return _(null);if(!te(Ce)){R.info("Please choose a .csv file"),J.target.value="";return}_(Ce)},className:"hidden"}),t.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Only .csv files are supported."})]}),k&&t.jsxs("div",{className:"absolute left-4 bottom-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow",children:[t.jsx(lh,{className:"h-4 w-4"}),t.jsx("span",{className:"truncate max-w-[14rem]",children:k.name}),t.jsxs("span",{className:"opacity-70",children:[" ",x0e(k.size)]}),t.jsx("button",{onClick:()=>_(null),className:"ml-1 rounded-full p-1 hover:bg-slate-100",title:"Remove file",children:t.jsx(Cn,{className:"h-3.5 w-3.5"})})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[t.jsx(ss,{onClick:()=>j(!1),variant:"subtle",children:"Cancel"}),t.jsx(ss,{onClick:A,disabled:C,variant:"primary",children:C?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," Uploading"]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})}),t.jsx(kt,{children:M.open&&t.jsxs(ZP,{onClose:()=>V({open:!1,id:null,name:""}),title:"Delete List?",children:[t.jsxs("p",{className:"text-slate-700 mb-4",children:["This will permanently remove ",t.jsx("b",{className:"text-slate-900 break-words",children:M.name})," and all its leads."]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(ss,{onClick:()=>V({open:!1,id:null,name:""}),variant:"subtle",children:"Cancel"}),t.jsxs(ss,{onClick:()=>I(M.id),variant:"danger",children:[t.jsx(Ea,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]})}function ux(e){try{const a=new Date(e);return isNaN(a.getTime())?String(e||""):a.toLocaleString()}catch{return String(e||"")}}function x0e(e){if(!Number.isFinite(e))return"0 B";const a=["B","KB","MB","GB"];let n=0;for(;e>=1024&&n<a.length-1;)e/=1024,n++;return`${e.toFixed(e>=10||n===0?0:1)} ${a[n]}`}function Tj({label:e,active:a,dir:n,onClick:s}){const r=n==="asc"?vM:bM;return t.jsxs("button",{onClick:s,className:c9("inline-flex items-center gap-1 rounded-xl border px-3 py-2",a?"border-blue-300 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[e," ",a&&t.jsx(r,{className:"h-4 w-4"})]})}const Il="https://app.thedbt.ai",p0e="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function g0e(e,a=250){const[n,s]=p.useState(e);return p.useEffect(()=>{const r=setTimeout(()=>s(e),a);return()=>clearTimeout(r)},[e,a]),n}function b0e(){const e=da(),{id:a}=Qh(),n=Number(a),[s,r]=p.useState([]),[l,c]=p.useState([]),[d,m]=p.useState([]),[h,f]=p.useState(!0),[g,b]=p.useState(!1),[y,j]=p.useState(""),[w,N]=p.useState(""),k=g0e(w,250),[_,C]=p.useState(""),[O,P]=p.useState("add_date"),[E,B]=p.useState("desc"),[M,V]=p.useState(1),[G,H]=p.useState(10),[F,ie]=p.useState(!1),[_e,ce]=p.useState(!1),[T,K]=p.useState(!1),[W,I]=p.useState(!1),[A,$]=p.useState(null),[z,X]=p.useState(null),[ge,te]=p.useState(!1),[J,Ce]=p.useState(!1),[se,Se]=p.useState(!1),[De,Me]=p.useState(null),ye=p.useRef(localStorage.getItem("token")||null),[Ye,Ke]=p.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[we,ue]=p.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[Ae,U]=p.useState({vapi_assistant_id:"",assistant_id:"",number:"",first_name:"",last_name:"",email:"",lead_id:null}),de=p.useCallback(async()=>{const Q=ye.current;if(!Q){f(!1),j("No auth token found"),R.error("No authentication token found.");return}try{f(!0),j("");const le=await fetch(`${Il}/api/leads${n?`?file_id=${n}`:""}`,{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}});if(!le.ok)throw new Error(`HTTP ${le.status}`);const he=await le.json();r(Array.isArray(he)?he:[])}catch(le){j((le==null?void 0:le.message)||"Failed to load leads"),R.error((le==null?void 0:le.message)||"Failed to load leads")}finally{f(!1)}},[n]),ke=p.useCallback(async()=>{const Q=ye.current;if(!Q||!n){c([]);return}try{const le=await fetch(`${Il}/api/files/${n}/dynamic-columns`,{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}});if(!le.ok)throw new Error(`HTTP ${le.status}`);const he=await le.json();c(Array.isArray(he==null?void 0:he.columns)?he.columns:[])}catch(le){c([]),console.warn("Dynamic columns fetch failed:",le)}},[n]),Le=p.useCallback(async()=>{const Q=ye.current;try{const le=await fetch(`${Il}/api/get-assistants`,{headers:{Authorization:Q?`Bearer ${Q}`:"",Accept:"application/json"}});if(!le.ok)throw new Error(`HTTP ${le.status}`);const he=await le.json(),lt=(Array.isArray(he)?he:Array.isArray(he==null?void 0:he.assistants)?he.assistants:[]).filter(yt=>yt==null?void 0:yt.vapi_assistant_id);m(lt)}catch(le){console.error(le),R.error("Failed to load assistants"),m([])}},[]);p.useEffect(()=>{de(),ke(),Le()},[a]);const Ve=p.useMemo(()=>{const Q=new Set;return s.forEach(le=>(le==null?void 0:le.state)&&Q.add(le.state)),Array.from(Q).sort((le,he)=>le.localeCompare(he))},[s]),Xe=p.useMemo(()=>{const Q=k.trim().toLowerCase();return s.filter(he=>{var lt,yt;return _&&(he.state||"")!==_?!1:Q?[he.first_name,he.last_name,he.email,he.mobile,he.salesforce_id,(lt=he==null?void 0:he.other_data)==null?void 0:lt.Custom_0,(yt=he==null?void 0:he.other_data)==null?void 0:yt.Custom_1].concat(Object.values((he==null?void 0:he.other_data)||{})).filter(Boolean).map(ut=>String(ut).toLowerCase()).some(ut=>ut.includes(Q)):!0})},[s,k,_]),$e=p.useMemo(()=>{const Q=[...Xe],le=E==="asc"?1:-1;return Q.sort((he,Je)=>{const lt=`${he.first_name||""} ${he.last_name||""}`.trim(),yt=`${Je.first_name||""} ${Je.last_name||""}`.trim();let ut,Mt;switch(O){case"name":ut=lt.toLowerCase(),Mt=yt.toLowerCase();break;case"email":ut=(he.email||"").toLowerCase(),Mt=(Je.email||"").toLowerCase();break;case"mobile":ut=(he.mobile||"").toLowerCase(),Mt=(Je.mobile||"").toLowerCase();break;case"add_date":default:ut=new Date(he.add_date||0).getTime(),Mt=new Date(Je.add_date||0).getTime()}return ut<Mt?-1*le:ut>Mt?1*le:0}),Q},[Xe,O,E]),ne=$e.length,Z=Math.max(1,Math.ceil(ne/G));p.useEffect(()=>{M>Z&&V(Z)},[M,Z]);const ve=(M-1)*G,fe=$e.slice(ve,ve+G),Ue=s[s.length-1]||null,rt=Q=>{var le,he;$(Q.id),ue({first_name:Q.first_name||"",last_name:Q.last_name||"",email:Q.email||"",mobile:Q.mobile||"",salesforce_id:Q.salesforce_id||"",custom0:((le=Q==null?void 0:Q.other_data)==null?void 0:le.Custom_0)||"",custom1:((he=Q==null?void 0:Q.other_data)==null?void 0:he.Custom_1)||"",add_date:Q.add_date||new Date().toISOString()}),K(!0)},dt=async()=>{const Q=ye.current;if(!(!Q||!A))try{I(!0);const le={first_name:we.first_name.trim(),last_name:we.last_name.trim(),email:we.email.trim(),mobile:we.mobile.trim(),salesforce_id:we.salesforce_id.trim(),add_date:we.add_date,other_data:{Custom_0:we.custom0||"",Custom_1:we.custom1||""}},he=await fetch(`${Il}/api/leads/${A}`,{method:"PUT",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify(le)}),Je=await he.json();if(!he.ok||(Je==null?void 0:Je.success)===!1)throw new Error((Je==null?void 0:Je.detail)||`HTTP ${he.status}`);R.success((Je==null?void 0:Je.detail)||"Lead updated"),K(!1),$(null),de()}catch(le){R.error((le==null?void 0:le.message)||"Update failed")}finally{I(!1)}},tt=async()=>{const Q=ye.current;if(!Q)return R.error("Missing token");if(!Ye.first_name||!Ye.last_name||!Ye.email||!Ye.mobile)return R.info("Please fill first, last, email and mobile.");try{ce(!0);const le={first_name:Ye.first_name.trim(),last_name:Ye.last_name.trim(),email:Ye.email.trim(),add_date:Ye.add_date,mobile:Ye.mobile.trim(),file_id:n||null,salesforce_id:Ye.salesforce_id.trim(),other_data:{Custom_0:Ye.custom0||"",Custom_1:Ye.custom1||""}},he=await fetch(`${Il}/api/add_manually_lead`,{method:"POST",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify(le)});if(!he.ok)throw new Error(`HTTP ${he.status}`);await he.json(),R.success("Lead added"),ie(!1),Ke({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),de()}catch(le){R.error((le==null?void 0:le.message)||"Failed to add lead")}finally{ce(!1)}},$t=async()=>{const Q=ye.current;if(!(!Q||!z))try{const le=await fetch(`${Il}/api/leads`,{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify({ids:[z]})});if(!le.ok)throw new Error(`HTTP ${le.status}`);await le.json(),R.success("Lead deleted"),X(null),se&&Se(!1),de()}catch(le){R.error((le==null?void 0:le.message)||"Delete failed")}},Tt=async()=>{const Q=ye.current;if(!Q)return R.error("Missing token");try{b(!0);const le=await fetch(`${Il}/api/crm/ingest/hubspot`,{method:"POST",headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),he=await le.json().catch(()=>({}));if(!le.ok||(he==null?void 0:he.success)===!1)throw new Error((he==null?void 0:he.detail)||`HTTP ${le.status}`);R.success(`Synced HubSpot: ${(he==null?void 0:he.created)||0} created, ${(he==null?void 0:he.updated)||0} updated`),de()}catch(le){R.error((le==null?void 0:le.message)||"HubSpot sync failed")}finally{b(!1)}},ze=Q=>{if(!Q)return"";const le=String(Q).trim();return le.startsWith("+")?"+"+le.slice(1).replace(/\D+/g,""):le.replace(/\D+/g,"")},Ze=Q=>{var Je,lt,yt,ut,Mt,bt,Ka,ra,Et,Pt;const he=[Q==null?void 0:Q.mobile,Q==null?void 0:Q.phone,(Je=Q==null?void 0:Q.other_data)==null?void 0:Je.phone,(lt=Q==null?void 0:Q.other_data)==null?void 0:lt.Phone,(yt=Q==null?void 0:Q.other_data)==null?void 0:yt.mobile,(ut=Q==null?void 0:Q.other_data)==null?void 0:ut.Mobile,(Mt=Q==null?void 0:Q.other_data)==null?void 0:Mt.telephone,(bt=Q==null?void 0:Q.other_data)==null?void 0:bt.Telephone,(Ka=Q==null?void 0:Q.other_data)==null?void 0:Ka.cell,(ra=Q==null?void 0:Q.other_data)==null?void 0:ra.Cell,(Et=Q==null?void 0:Q.other_data)==null?void 0:Et.Custom_0,(Pt=Q==null?void 0:Q.other_data)==null?void 0:Pt.Custom_1].filter(Boolean).find(Boolean);return ze(he||"")},pt=Q=>{const le=Ze(Q);le||R.info("No phone number on this lead  you can still enter one to call.");const he=localStorage.getItem("lastAssistantId")||"",Je=d.find(lt=>String(lt.id)===String(he)&&(lt==null?void 0:lt.vapi_assistant_id))||d.find(lt=>lt==null?void 0:lt.vapi_assistant_id)||null;U({vapi_assistant_id:(Je==null?void 0:Je.vapi_assistant_id)||"",assistant_id:(Je==null?void 0:Je.id)||"",number:le,first_name:Q.first_name||"",last_name:Q.last_name||"",email:Q.email||"",lead_id:Q.id}),te(!0)},Pa=async Q=>{if(Q.preventDefault(),J)return;const le=ye.current,{vapi_assistant_id:he,number:Je,first_name:lt,last_name:yt,email:ut}=Ae;if(!he)return R.error("Select an assistant first");if(!Je)return R.error("Enter a phone number");const Mt=ze(Je);if(!Mt)return R.error("Invalid phone number");try{Ce(!0);const bt=`${Il}/api/phone-call/${encodeURIComponent(he)}/${encodeURIComponent(Mt)}`,Ka={first_name:lt||"Caller",last_name:yt||"",email:ut||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Mt,custom_field_01:null,custom_field_02:null},ra=await fetch(bt,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:le?`Bearer ${le}`:""},body:JSON.stringify(Ka)}),Et=await ra.json().catch(()=>({}));if(!ra.ok||(Et==null?void 0:Et.success)===!1)throw new Error((Et==null?void 0:Et.detail)||`HTTP ${ra.status}`);Ae.assistant_id&&localStorage.setItem("lastAssistantId",String(Ae.assistant_id)),R.success("Call initiated"),te(!1)}catch(bt){R.error((bt==null?void 0:bt.message)||"Failed to initiate call")}finally{Ce(!1)}},oe=()=>{if($e.length===0)return R.info("Nothing to export.");const Q=["id","first_name","last_name","email","mobile","salesforce_id","state","add_date"],le=Array.from(new Set(["Custom_0","Custom_1",...l])),he=[...Q,...le],Je=$e.map(bt=>{const Ka=[bt.id??"",Bl(bt.first_name),Bl(bt.last_name),Bl(bt.email),Bl(bt.mobile),Bl(bt.salesforce_id),Bl(bt.state),Bl(bt.add_date)],ra=le.map(Et=>{var Pt;return Bl((Pt=bt==null?void 0:bt.other_data)==null?void 0:Pt[Et])});return[...Ka,...ra]}),lt=[he,...Je].map(bt=>bt.join(",")).join(`
`),yt=new Blob([lt],{type:"text/csv;charset=utf-8;"}),ut=URL.createObjectURL(yt),Mt=document.createElement("a");Mt.href=ut,Mt.download=`leads_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Mt),Mt.click(),document.body.removeChild(Mt),URL.revokeObjectURL(ut)};return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Ta,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${p0e}`,children:"Leads"})}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["File: ",t.jsx("b",{children:n||""})]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(na,{onClick:()=>ie(!0),variant:"primary",children:[t.jsx(Zn,{className:"mr-2 h-4 w-4"})," New Lead"]}),t.jsx(na,{onClick:Tt,disabled:g,children:g?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Sync HubSpot"]})}),t.jsx(na,{onClick:()=>e("/user/upload-csv"),children:"Upload CSV"}),t.jsxs(na,{onClick:oe,children:[t.jsx(eo,{className:"mr-2 h-4 w-4"}),"Export"]}),t.jsxs(na,{onClick:de,children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[t.jsx(Ej,{label:"Total Leads",value:ne}),t.jsx(Ej,{label:"Selected File",value:n||""}),t.jsx(Ej,{label:"Last Created",value:Ue&&`${Ue.first_name||""} ${Ue.last_name||""}`.trim()||"",sub:Ue!=null&&Ue.add_date?JP(Ue.add_date):Ue?"Just now":"No leads yet"})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Un,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:w,onChange:Q=>{N(Q.target.value),V(1)},placeholder:"Search name, email, phone, Salesforce ID",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[t.jsx(Zi,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("select",{value:_,onChange:Q=>{C(Q.target.value),V(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"All states"}),Ve.map(Q=>t.jsx("option",{value:Q,children:Q},Q))]}),t.jsx("select",{value:`${O}:${E}`,onChange:Q=>{const[le,he]=Q.target.value.split(":");P(le),B(he)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[["add_date","desc","Newest"],["add_date","asc","Oldest"],["name","asc","Name AZ"],["name","desc","Name ZA"],["email","asc","Email AZ"],["email","desc","Email ZA"]].map(([Q,le,he])=>t.jsx("option",{value:`${Q}:${le}`,children:he},`${Q}:${le}`))}),t.jsx("select",{value:G,onChange:Q=>{H(Number(Q.target.value)),V(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(Q=>t.jsxs("option",{value:Q,children:[Q," / page"]},Q))})]})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(Ta,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Leads (",$e.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),h?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading leads"})]}):$e.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(Ta,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or add a new lead"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(mx,{children:"Name"}),t.jsx(mx,{children:"Email"}),t.jsx(mx,{children:"Phone"}),t.jsx(mx,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:fe.map(Q=>{const le=`${Q.first_name||""} ${Q.last_name||""}`.trim()||"",he=Q.mobile||Ze(Q)||"";return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(hx,{children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:le}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",Q.id,"  ",Q.salesforce_id||"No Ext ID"]})]})}),t.jsx(hx,{children:t.jsx("div",{className:"text-xs font-medium text-slate-700 break-words",children:Q.email||""})}),t.jsx(hx,{children:t.jsx("div",{className:"text-xs font-medium text-slate-700 break-all",children:he})}),t.jsx(hx,{children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(na,{onClick:()=>pt(Q),size:"sm",children:[t.jsx(gt,{className:"h-4 w-4 mr-1"}),"Call"]}),t.jsxs(na,{onClick:()=>rt(Q),size:"sm",children:[t.jsx(Ud,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(na,{onClick:()=>{Me(Q),Se(!0)},size:"sm",children:[t.jsx(Ta,{className:"h-4 w-4 mr-1"}),"More"]})]})})]},Q.id)})})]})})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:fe.map((Q,le)=>{const he=`${Q.first_name||""} ${Q.last_name||""}`.trim()||"",Je=Q.mobile||Ze(Q)||"";return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[le===0&&t.jsx(v0e,{}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:he}),t.jsx("div",{className:"mt-1 text-sm text-slate-600 break-words",children:Q.email||""}),t.jsx("div",{className:"text-xs text-slate-500 break-all",children:Je})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsxs(na,{onClick:()=>pt(Q),size:"sm",className:"grow sm:grow-0",children:[t.jsx(gt,{className:"h-4 w-4 mr-1"}),"Call"]}),t.jsxs(na,{onClick:()=>rt(Q),size:"sm",className:"grow sm:grow-0",children:[t.jsx(Ud,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(na,{onClick:()=>{Me(Q),Se(!0)},size:"sm",className:"grow sm:grow-0",children:[t.jsx(Ta,{className:"h-4 w-4 mr-1"}),"More"]})]}),t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",Q.id,"  ",Q.salesforce_id||"No Ext ID"]})]},Q.id)})})}),$e.length>G&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("b",{children:ve+1}),"",t.jsx("b",{children:Math.min(ve+G,$e.length)})," of ",t.jsx("b",{children:$e.length})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(na,{onClick:()=>V(Q=>Math.max(1,Q-1)),disabled:M===1,children:[t.jsx(kn,{className:"h-4 w-4 mr-1"}),"Prev"]}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Z)},(Q,le)=>{let he;if(Z<=5||M<=3?he=le+1:M>=Z-2?he=Z-4+le:he=M-2+le,he<1||he>Z)return null;const Je=M===he;return t.jsx("button",{onClick:()=>V(he),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Je?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:he},he)})}),t.jsxs(na,{onClick:()=>V(Q=>Math.min(Z,Q+1)),disabled:M>=Z,children:["Next",t.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(kt,{children:F&&t.jsxs(fx,{onClose:()=>ie(!1),title:"Create Lead",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(Fa,{label:"First name",children:t.jsx("input",{value:Ye.first_name,onChange:Q=>Ke(le=>({...le,first_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Last name",children:t.jsx("input",{value:Ye.last_name,onChange:Q=>Ke(le=>({...le,last_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Email",children:t.jsx("input",{type:"email",value:Ye.email,onChange:Q=>Ke(le=>({...le,email:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Mobile (digits only)",children:t.jsx("input",{value:Ye.mobile,onChange:Q=>Ke(le=>({...le,mobile:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"External ID",children:t.jsx("input",{value:Ye.salesforce_id,onChange:Q=>Ke(le=>({...le,salesforce_id:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Add date (ISO)",children:t.jsx("input",{value:Ye.add_date,onChange:Q=>Ke(le=>({...le,add_date:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"2025-08-13T10:00:00.000Z"})}),t.jsx(Fa,{label:"Custom_0",children:t.jsx("input",{value:Ye.custom0,onChange:Q=>Ke(le=>({...le,custom0:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Custom_1",children:t.jsx("input",{value:Ye.custom1,onChange:Q=>Ke(le=>({...le,custom1:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[t.jsx(na,{onClick:()=>ie(!1),variant:"subtle",children:"Cancel"}),t.jsx(na,{onClick:tt,disabled:_e||!Ye.first_name||!Ye.last_name||!Ye.email||!Ye.mobile,variant:"primary",children:_e?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):t.jsxs(t.Fragment,{children:[t.jsx(ta,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),t.jsx(kt,{children:T&&t.jsxs(fx,{onClose:()=>K(!1),title:"Edit Lead",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(Fa,{label:"First name",children:t.jsx("input",{value:we.first_name,onChange:Q=>ue(le=>({...le,first_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Last name",children:t.jsx("input",{value:we.last_name,onChange:Q=>ue(le=>({...le,last_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Email",children:t.jsx("input",{type:"email",value:we.email,onChange:Q=>ue(le=>({...le,email:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Mobile (digits only)",children:t.jsx("input",{value:we.mobile,onChange:Q=>ue(le=>({...le,mobile:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"External ID",children:t.jsx("input",{value:we.salesforce_id,onChange:Q=>ue(le=>({...le,salesforce_id:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Add date (ISO)",children:t.jsx("input",{value:we.add_date,onChange:Q=>ue(le=>({...le,add_date:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Custom_0",children:t.jsx("input",{value:we.custom0,onChange:Q=>ue(le=>({...le,custom0:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Custom_1",children:t.jsx("input",{value:we.custom1,onChange:Q=>ue(le=>({...le,custom1:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[t.jsx(na,{onClick:()=>K(!1),variant:"subtle",children:"Cancel"}),t.jsx(na,{onClick:dt,disabled:W,variant:"primary",children:W?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),t.jsx(kt,{children:ge&&t.jsx(fx,{onClose:()=>te(!1),title:"Start Phone Call",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Assistant"}),t.jsxs("select",{value:Ae.assistant_id,onChange:Q=>{const le=d.find(he=>String(he.id)===String(Q.target.value));U(he=>({...he,assistant_id:Q.target.value,vapi_assistant_id:(le==null?void 0:le.vapi_assistant_id)||""}))},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Select assistant"}),d.map(Q=>t.jsx("option",{value:Q.id,children:Q.name||`Assistant ${Q.id}`},Q.id))]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(Fa,{label:"Phone Number",children:t.jsx("input",{value:Ae.number,onChange:Q=>U(le=>({...le,number:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})}),t.jsx(Fa,{label:"Email",children:t.jsx("input",{type:"email",value:Ae.email,onChange:Q=>U(le=>({...le,email:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"First name",children:t.jsx("input",{value:Ae.first_name,onChange:Q=>U(le=>({...le,first_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Fa,{label:"Last name",children:t.jsx("input",{value:Ae.last_name,onChange:Q=>U(le=>({...le,last_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(na,{onClick:()=>te(!1),variant:"subtle",children:"Cancel"}),t.jsx(na,{onClick:Pa,disabled:J,variant:"primary",children:J?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Calling"]}):t.jsxs(t.Fragment,{children:[t.jsx(gt,{className:"h-4 w-4 mr-1"}),"Start Call"]})})]})]})})}),t.jsx(kt,{children:z&&t.jsxs(fx,{onClose:()=>X(null),title:"Delete Lead?",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"rounded-xl bg-rose-50 p-2 text-rose-600",children:t.jsx(DH,{className:"h-5 w-5"})}),t.jsx("div",{className:"text-slate-800",children:"This will permanently delete this lead. This action cannot be undone."})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[t.jsx(na,{onClick:()=>X(null),variant:"subtle",children:"Cancel"}),t.jsxs(na,{onClick:$t,variant:"danger",children:[t.jsx(Ea,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),t.jsx(kt,{children:se&&De&&t.jsx(y0e,{onClose:()=>Se(!1),title:"Lead Details",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-bold text-slate-900 truncate",children:`${De.first_name||""} ${De.last_name||""}`.trim()||""}),t.jsx("div",{className:"text-sm text-slate-600 break-words",children:De.email||""}),t.jsx("div",{className:"text-xs text-slate-500 break-all",children:De.mobile||Ze(De)||""}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID #",De.id,"  ",De.salesforce_id||"No Ext ID"]})]})}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[t.jsx(Pj,{label:"State",value:De.state||""}),t.jsx(Pj,{label:"Timezone",value:De.timezone||""}),t.jsx(Pj,{label:"Added",value:JP(De.add_date)||""})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Basic Fields"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(pd,{label:"First name",value:De.first_name||""}),t.jsx(pd,{label:"Last name",value:De.last_name||""}),t.jsx(pd,{label:"Email",value:De.email||""}),t.jsx(pd,{label:"Mobile",value:De.mobile||Ze(De)||""}),t.jsx(pd,{label:"External ID",value:De.salesforce_id||""})]})]}),l&&l.length>0&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Extra Fields"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(Q=>{var le;return t.jsx(pd,{label:Q,value:((le=De==null?void 0:De.other_data)==null?void 0:le[Q])??""},Q)})})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(na,{onClick:()=>pt(De),children:[t.jsx(gt,{className:"h-4 w-4 mr-1"}),"Call"]}),t.jsxs(na,{onClick:()=>rt(De),children:[t.jsx(Ud,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(na,{onClick:()=>X(De.id),variant:"danger",children:[t.jsx(Ea,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})})]})}function na({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[s]} ${d[n]} ${a}`,children:e})}function Ej({label:e,value:a,sub:n}){return t.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a}),n&&t.jsx("div",{className:"text-sm text-slate-500 mt-1",children:n})]})]})}function v0e(){return t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function mx({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function hx({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Fa({label:e,children:a}){return t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a]})}function Pj({label:e,value:a}){return t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-xs text-slate-500",children:e}),t.jsx("div",{className:"text-lg font-extrabold text-slate-900 break-all",children:a})]})}function pd({label:e,value:a}){return t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),t.jsx("div",{className:"text-sm font-semibold text-slate-800 break-words",children:String(a??"")})]})}function fx({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(na,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(Cn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function y0e({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a}),t.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(na,{onClick:a,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:t.jsx(Cn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function JP(e){try{const a=new Date(e);return isNaN(a.getTime())?String(e||""):a.toLocaleString()}catch{return String(e||"")}}function Bl(e){if(e==null)return"";const a=String(e);return/[",\n]/.test(a)?`"${a.replace(/"/g,'""')}"`:a}const j0e=()=>{const[e,a]=p.useState(null),[n,s]=p.useState(!1),[r,l]=p.useState(!1),[c,d]=p.useState(""),[m,h]=p.useState(!0),[f,g]=p.useState(0),[b,y]=p.useState(""),j=p.useRef(null),{id:w}=Qh(),N=5*1024*1024,k="https://app.thedbt.ai",_=()=>localStorage.getItem("token"),C=G=>{G&&G.type==="text/csv"?G.size>N?M("File size exceeds 5MB limit.",!1):a(G):M("Please upload a valid CSV file.",!1)},O=G=>{const H=G.target.files[0];C(H)},P=()=>j.current.click(),E=()=>{const G=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,H=new Blob([G],{type:"text/csv"}),F=window.URL.createObjectURL(H),ie=document.createElement("a");ie.href=F,ie.download="sample_users.csv",ie.click(),window.URL.revokeObjectURL(F)},B=async()=>{if(!e)return M("No file selected.",!1);if(!b.trim())return M("Please provide a list name.",!1);const G=_();if(!G)return M("Please log in first.",!1);const H=new FormData;H.append("file",e),H.append("name",b);try{s(!0),g(50);const F=await fetch(`${k}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${G}`},body:H});if(g(100),F.ok)M("CSV file uploaded successfully!",!0),a(null),y(""),j.current&&(j.current.value="");else{const ie=await F.json();throw new Error(ie.detail||`HTTP ${F.status}`)}}catch(F){console.error(F),M("Upload failed. Please try again.",!1)}finally{s(!1),g(0)}},M=(G,H)=>{d(G),h(H),l(!0)},V=G=>G<1024?`${G} B`:G<1024*1024?`${(G/1024).toFixed(2)} KB`:`${(G/(1024*1024)).toFixed(2)} MB`;return t.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[t.jsx("div",{className:"w-full max-w-3xl bg-white p-10 rounded-2xl shadow-lg border border-gray-200 transition-all hover:shadow-xl",children:t.jsxs("div",{className:"text-center",children:[t.jsx(y8,{className:"mx-auto text-5xl text-blue-400 mb-6 animate-pulse"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Upload Your CSV File"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Drag & drop a CSV file or click to select. Max size: 5MB."}),t.jsx("input",{type:"text",placeholder:"Enter list name",value:b,onChange:G=>y(G.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none"}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[t.jsx("input",{type:"file",accept:".csv",onChange:O,ref:j,className:"hidden"}),t.jsx("button",{onClick:P,className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600 transition",children:"Choose File"}),t.jsxs("button",{onClick:E,className:"bg-white text-blue-600 border border-blue-300 px-6 py-3 rounded-xl shadow-sm hover:bg-blue-50 transition flex items-center gap-2",children:[t.jsx(b8,{})," Sample CSV"]})]}),e&&t.jsxs("div",{className:"mt-6 text-gray-600 bg-blue-50 p-4 rounded-xl border border-blue-200 text-left",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"File:"})," ",e.name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Size:"})," ",V(e.size)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),t.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[t.jsx("button",{onClick:B,disabled:n||!e,className:`w-full bg-blue-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition 
            ${n||!e?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:n?"Uploading...":"Upload CSV"}),n&&t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${f}%`}})})]}),r&&t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m?t.jsx(g8,{className:"text-green-500 text-2xl"}):t.jsx(v8,{className:"text-red-500 text-2xl"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload Status"})]}),t.jsx("p",{className:"text-gray-600 mb-6",children:c}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:()=>l(!1),className:"bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600 transition",children:"Okay"})})]})})]})},Oj={},Qx="https://app.thedbt.ai",Jx=(Oj==null?void 0:Oj.VITE_API_PREFIX)||"/api",ys=`${Qx}${Jx}/campaigns/campaigns`,js={LIST:ys,CREATE:ys,DETAIL:e=>`${ys}/${e}`,STATS:e=>`${ys}/${e}/stats`,SCHEDULE:e=>`${ys}/${e}/schedule`,RETRY:e=>`${ys}/${e}/retry-policy`,PAUSE:e=>`${ys}/${e}/pause`,RESUME:e=>`${ys}/${e}/resume`,STOP:e=>`${ys}/${e}/stop`,RUN_NOW:e=>`${ys}/${e}/run-now`,ICS:e=>`${ys}/${e}/calendar.ics`,DELETE:e=>`${ys}/${e}`,REFRESH_LEADS:e=>`${ys}/${e}/refresh-leads`},Mj={FILES:`${Qx}${Jx}/files`,ASSISTANTS:`${Qx}${Jx}/get-assistants`,LEADS:e=>`${Qx}${Jx}/leads${e?`?file_id=${e}`:""}`};function zr(...e){return e.filter(Boolean).join(" ")}const ep=e=>{if(e==null)return"Unknown";const a=String(e).trim();return a===""||a.toLowerCase()==="null"||a.toLowerCase()==="undefined"?"Unknown":a};function w0e(e,a=250){const[n,s]=p.useState(e);return p.useEffect(()=>{const r=setTimeout(()=>s(e),a);return()=>clearTimeout(r)},[e,a]),n}function Dj(e){try{const a=new Date(e);return isNaN(a.getTime())?"Unknown":a.toLocaleString()}catch{return"Unknown"}}function N0e(e){try{const a=new Date(e);return isNaN(a.getTime())?"":a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function xx(e){if(!e)return"";const a=new Date(e);if(isNaN(a.getTime()))return"";const n=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0"),l=String(a.getHours()).padStart(2,"0"),c=String(a.getMinutes()).padStart(2,"0");return`${n}-${s}-${r}T${l}:${c}`}function px(e){if(!e)return null;const a=new Date(e);return isNaN(a.getTime())?null:a.toISOString()}function S0e(e){if(!e)return"";const a=new Date(e).getTime();if(Number.isNaN(a))return"";const n=Math.max(0,a-Date.now()),s=Math.floor(n/1e3),r=Math.floor(s/60),l=s%60;return r>0?`${r}m ${l}s`:`${l}s`}const er={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},Rj={show:{transition:{staggerChildren:.05}}},eO={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}},tO={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:30,duration:.4}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},_0e={hidden:{opacity:0,scale:.8,y:50},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,duration:.5}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.3}}},k0e={hidden:{opacity:0,x:20},show:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2}}};function Cr({children:e,tone:a="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200",orange:"bg-orange-100 text-orange-700 ring-orange-200",purple:"bg-purple-100 text-purple-700 ring-purple-200",amber:"bg-amber-100 text-amber-700 ring-amber-200",indigo:"bg-indigo-100 text-indigo-700 ring-indigo-200"};return t.jsx(pe.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},className:zr("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[a]||n.slate),children:e})}function $j({label:e,value:a,Icon:n,tone:s="blue"}){const r=s==="blue"?"ring-blue-200/60":s==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=s==="blue"?"from-blue-600 to-cyan-500":s==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return t.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(n,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})})}function gx({status:e}){const a=String(e||"").toLowerCase();return a==="scheduled"?t.jsx(Cr,{tone:"blue",children:"Scheduled"}):a==="running"?t.jsx(Cr,{tone:"green",children:"Running"}):a==="paused"?t.jsx(Cr,{tone:"orange",children:"Paused"}):a==="stopped"?t.jsx(Cr,{tone:"red",children:"Stopped"}):a==="completed"?t.jsx(Cr,{tone:"purple",children:"Completed"}):a==="draft"?t.jsx(Cr,{tone:"slate",children:"Draft"}):t.jsx(Cr,{tone:"slate",children:ep(e)})}const d9=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York"},{value:"America/Chicago",label:"America/Chicago"},{value:"America/Denver",label:"America/Denver"},{value:"America/Los_Angeles",label:"America/Los_Angeles"},{value:"America/Phoenix",label:"America/Phoenix"},{value:"Europe/London",label:"Europe/London"},{value:"Europe/Berlin",label:"Europe/Berlin"},{value:"Europe/Paris",label:"Europe/Paris"},{value:"Asia/Karachi",label:"Asia/Karachi"},{value:"Asia/Kolkata",label:"Asia/Kolkata"},{value:"Asia/Singapore",label:"Asia/Singapore"},{value:"Asia/Tokyo",label:"Asia/Tokyo"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Australia/Sydney",label:"Australia/Sydney"}];function u9(e,a){const n=Number(e)||0,s=Number(a)||0;if(s<=0)return 0;const r=Math.round(n/s*100);return Math.min(100,Math.max(0,r))}function m9({active:e=!1}){return e?t.jsxs("span",{className:"relative inline-flex h-2.5 w-2.5",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}):null}function aO({done:e,total:a,status:n}){const s=u9(e,a),r=["scheduled","running"].includes(String(n||"").toLowerCase());return t.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[t.jsx("div",{className:"relative h-2 w-36 rounded-full bg-slate-200 overflow-hidden",children:t.jsx(pe.div,{className:zr("h-full bg-gradient-to-r from-blue-500 to-cyan-500",r&&"shadow-[0_0_0_2px_rgba(59,130,246,0.15)]"),initial:{width:0},animate:{width:`${s}%`},transition:{type:"spring",stiffness:160,damping:20}})}),t.jsxs("div",{className:"text-xs font-medium text-slate-700 tabular-nums",children:[Number(e)||0,"/",Number(a)||0]}),t.jsx(m9,{active:r})]})}function C0e({totals:e}){const a=(e==null?void 0:e.total)||0,n=(e==null?void 0:e.done)||0,s=(e==null?void 0:e.calling)||0,r=(e==null?void 0:e.retry)||0,l=(e==null?void 0:e.pending)||0,c=d=>a>0?`${d/a*100}%`:"0%";return t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"h-3 w-full rounded-full bg-slate-200 overflow-hidden ring-1 ring-white/60 relative",children:[t.jsx(pe.div,{className:"h-full bg-emerald-500 absolute left-0 top-0",style:{width:c(n)},initial:{width:0},animate:{width:c(n)}}),t.jsx(pe.div,{className:"h-full bg-indigo-500 absolute left-0 top-0",style:{width:c(n+s)},initial:{width:0},animate:{width:c(n+s)}}),t.jsx(pe.div,{className:"h-full bg-amber-500 absolute left-0 top-0",style:{width:c(n+s+r)},initial:{width:0},animate:{width:c(n+s+r)}})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-700",children:[t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 rounded bg-emerald-500"}),"Done ",n]}),t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 rounded bg-indigo-500"}),"Calling ",s]}),t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 rounded bg-amber-500"}),"Retry ",r]}),t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 rounded bg-slate-400"}),"Pending ",l]}),t.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[u9(n,a),"%"]})]})]})}function nO(){var lt,yt,ut,Mt,bt,Ka,ra,Et,Pt,Oa,tn,zs,xi,Hn,ms,xr,ee,xe,We,Y;const e=p.useRef(localStorage.getItem("token")||null),[a,n]=p.useState([]),[s,r]=p.useState(!0),[l,c]=p.useState(!1),[d,m]=p.useState([]),[h,f]=p.useState([]),[g,b]=p.useState([]),[y,j]=p.useState(!1),[w,N]=p.useState(""),k=w0e(w,250),[_,C]=p.useState("created_at"),[O,P]=p.useState("desc"),[E,B]=p.useState(1),[M,V]=p.useState(10),[G,H]=p.useState(!1),[F,ie]=p.useState(1),[_e,ce]=p.useState(!1),[T,K]=p.useState({name:"",file_id:"",assistant_id:"",selection_mode:"ALL",include_lead_ids:[],exclude_lead_ids:[],timezone:"America/Los_Angeles",days_of_week:[0,1,2,3,4],daily_start:"09:00",daily_end:"18:00",start_at:"",end_at:"",calls_per_minute:10,parallel_calls:2,retry_on_busy:!0,busy_retry_delay_minutes:15,max_attempts:3,description:""}),[W,I]=p.useState(""),[A,$]=p.useState(!1),[z,X]=p.useState(null),[ge,te]=p.useState(!1),[J,Ce]=p.useState(null),[se,Se]=p.useState(null);p.useEffect(()=>{if(!A||!(z!=null&&z.id))return;fe(z.id),Ue(z.id);const L=setInterval(()=>{fe(z.id),Ue(z.id),ye()},4e3);return()=>clearInterval(L)},[A,z==null?void 0:z.id]),p.useEffect(()=>{if(!e.current){r(!1),R.error("No auth token found. Please log in.");return}De()},[]);async function De(){r(!0);try{await Promise.all([ye(),Ye(),Ke()])}finally{r(!1)}}async function Me(L,ae={}){if(!e.current)throw R.error("No auth token found. Please log in."),new Error("No token");return await fetch(L,{...ae,headers:{...ae.headers||{},Authorization:`Bearer ${e.current}`}})}async function ye(){try{const L=await Me(js.LIST);if(!L.ok)throw new Error(`HTTP ${L.status}`);const ae=await L.json();n(Array.isArray(ae)?ae:[])}catch(L){console.error(L),R.error("Failed to fetch campaigns"),n([])}}async function Ye(){try{const L=await Me(Mj.FILES);if(!L.ok)throw new Error(`HTTP ${L.status}`);const ae=await L.json();m(Array.isArray(ae)?ae:(ae==null?void 0:ae.items)||[])}catch(L){console.warn("Files fetch failed:",L.message),m([])}}async function Ke(){try{const L=await Me(Mj.ASSISTANTS);if(!L.ok)throw new Error(`HTTP ${L.status}`);const ae=await L.json(),Ie=(Array.isArray(ae)&&ae||(ae==null?void 0:ae.items)||(ae==null?void 0:ae.assistants)||(ae==null?void 0:ae.data)||[]).filter(qe=>qe&&qe.id!==void 0&&qe.id!==null);f(Ie)}catch(L){console.warn("Assistants fetch failed:",L.message),f([])}}async function we(L){if(!L){b([]);return}try{j(!0);const ae=await Me(Mj.LEADS(L));if(!ae.ok)throw new Error(`HTTP ${ae.status}`);const Ee=await ae.json(),Ie=Array.isArray(Ee)?Ee:(Ee==null?void 0:Ee.leads)||(Ee==null?void 0:Ee.items)||[];b(Ie)}catch(ae){console.warn("Leads fetch failed:",ae.message),b([])}finally{j(!1)}}async function ue(){c(!0);try{await ye()}finally{c(!1)}}const Ae=p.useMemo(()=>{const L=k.trim().toLowerCase(),ae=a.filter(Ie=>L?[(Ie.name||"").toLowerCase(),(Ie.status||"").toLowerCase(),String(Ie.id||""),String(Ie.file_id||""),String(Ie.assistant_id||"")].some(Qe=>Qe.includes(L)):!0),Ee=O==="asc"?1:-1;return ae.sort((Ie,qe)=>{let Qe,wt;switch(_){case"name":Qe=(Ie.name||"").toLowerCase(),wt=(qe.name||"").toLowerCase();break;case"status":Qe=(Ie.status||"").toLowerCase(),wt=(qe.status||"").toLowerCase();break;case"calls_per_minute":Qe=Ie.calls_per_minute||0,wt=qe.calls_per_minute||0;break;case"created_at":default:Qe=new Date(Ie.created_at||0).getTime(),wt=new Date(qe.created_at||0).getTime()}return Qe<wt?-1*Ee:Qe>wt?1*Ee:0}),ae},[a,k,_,O]),U=Ae.length,de=Math.max(1,Math.ceil(U/M));p.useEffect(()=>{E>de&&B(de)},[E,de]);const ke=(E-1)*M,Le=ke+M,Ve=Ae.slice(ke,Le),Xe=p.useMemo(()=>{const L=Ae.length,ae=Ae.filter(Ie=>(Ie.status||"").toLowerCase()==="running").length,Ee=Ae.filter(Ie=>(Ie.status||"").toLowerCase()==="paused").length;return{total:L,running:ae,paused:Ee}},[Ae]);function $e(L){const{name:ae,value:Ee,type:Ie,checked:qe}=L.target;K(Qe=>{const wt={...Qe,[ae]:Ie==="checkbox"?qe:Ee};if(ae==="file_id"){const Gt=Number(Ee)||"";Gt?we(Gt):b([]),wt.include_lead_ids=[],wt.exclude_lead_ids=[]}return ae==="selection_mode"&&(wt.include_lead_ids=[],wt.exclude_lead_ids=[]),wt})}function ne(L){K(ae=>{const Ie=ae.days_of_week.includes(L)?ae.days_of_week.filter(qe=>qe!==L):[...ae.days_of_week,L];return Ie.sort((qe,Qe)=>qe-Qe),{...ae,days_of_week:Ie}})}async function Z(){var ae,Ee;if(!T.name||!T.file_id||!T.assistant_id){R.error("Name, File and Assistant are required.");return}if(T.selection_mode!=="ALL"&&T.file_id&&g.length===0){R.error("No leads available for the selected file.");return}const L={name:String(T.name).trim(),file_id:Number(T.file_id),assistant_id:Number(T.assistant_id),selection_mode:T.selection_mode,include_lead_ids:T.selection_mode==="ONLY"&&((ae=T.include_lead_ids)!=null&&ae.length)?T.include_lead_ids:null,exclude_lead_ids:T.selection_mode==="SKIP"&&((Ee=T.exclude_lead_ids)!=null&&Ee.length)?T.exclude_lead_ids:null,timezone:T.timezone||"America/Los_Angeles",days_of_week:T.days_of_week,daily_start:T.daily_start||"09:00",daily_end:T.daily_end||"18:00",start_at:px(T.start_at),end_at:px(T.end_at),calls_per_minute:Number(T.calls_per_minute)||10,parallel_calls:Number(T.parallel_calls)||2,retry_on_busy:!!T.retry_on_busy,busy_retry_delay_minutes:Number(T.busy_retry_delay_minutes)||15,max_attempts:Number(T.max_attempts)||3};try{ce(!0);const Ie=await Me(js.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),qe=await Ie.json().catch(()=>({}));if(!Ie.ok||(qe==null?void 0:qe.success)===!1)throw new Error((qe==null?void 0:qe.detail)||`HTTP ${Ie.status}`);R.success((qe==null?void 0:qe.detail)||"Campaign created."),H(!1),ie(1),K(Qe=>({...Qe,name:"",include_lead_ids:[],exclude_lead_ids:[]})),await ye()}catch(Ie){console.error(Ie),R.error((Ie==null?void 0:Ie.message)||"Create failed")}finally{ce(!1)}}async function ve(L){X(L),$(!0),await Promise.all([fe(L.id),Ue(L.id)])}async function fe(L){if(L)try{te(!0);const ae=await Me(js.DETAIL(L));if(!ae.ok)throw new Error(`HTTP ${ae.status}`);const Ee=await ae.json();Ce(Ee)}catch(ae){console.error(ae),R.error("Failed to load campaign details"),Ce(null)}finally{te(!1)}}async function Ue(L){if(L)try{const ae=await Me(js.STATS(L));if(!ae.ok)throw new Error(`HTTP ${ae.status}`);const Ee=await ae.json();Se(Ee)}catch(ae){console.error(ae)}}async function rt(L,ae,Ee){try{const Ie=await Me(L(ae),{method:"POST"}),qe=await Ie.json().catch(()=>({}));if(!Ie.ok||(qe==null?void 0:qe.success)===!1)throw new Error((qe==null?void 0:qe.detail)||`HTTP ${Ie.status}`);R.success((qe==null?void 0:qe.detail)||Ee),await ye(),z&&z.id===ae&&(await fe(ae),await Ue(ae))}catch(Ie){console.error(Ie),R.error((Ie==null?void 0:Ie.message)||"Action failed")}}const dt=L=>rt(js.PAUSE,L,"Paused"),tt=L=>rt(js.RESUME,L,"Resumed"),$t=L=>rt(js.STOP,L,"Stopped"),Tt=L=>rt(js.REFRESH_LEADS,L,"Leads synced");async function ze(L){if(confirm("Delete this campaign and its progress rows?"))try{const ae=await Me(js.DELETE(L),{method:"DELETE"}),Ee=await ae.json().catch(()=>({}));if(!ae.ok||(Ee==null?void 0:Ee.success)===!1)throw new Error((Ee==null?void 0:Ee.detail)||`HTTP ${ae.status}`);R.success((Ee==null?void 0:Ee.detail)||"Deleted"),$(!1),X(null),await ye()}catch(ae){console.error(ae),R.error((ae==null?void 0:ae.message)||"Delete failed")}}async function Ze(L,ae){try{const Ee=await Me(js.RUN_NOW(L),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch_size:Number(ae)||5})}),Ie=await Ee.json().catch(()=>({}));if(!Ee.ok||(Ie==null?void 0:Ie.success)===!1)throw new Error((Ie==null?void 0:Ie.detail)||`HTTP ${Ee.status}`);R.success((Ie==null?void 0:Ie.detail)||"Triggered."),await Ue(L)}catch(Ee){console.error(Ee),R.error((Ee==null?void 0:Ee.message)||"Run-now failed")}}async function pt(L,ae){var Ie;const Ee={timezone:ae.timezone||void 0,days_of_week:(Ie=ae.days_of_week)!=null&&Ie.length?ae.days_of_week:void 0,daily_start:ae.daily_start||void 0,daily_end:ae.daily_end||void 0,start_at:px(ae.start_at),end_at:px(ae.end_at)};try{const qe=await Me(js.SCHEDULE(L),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)}),Qe=await qe.json().catch(()=>({}));if(!qe.ok||(Qe==null?void 0:Qe.success)===!1)throw new Error((Qe==null?void 0:Qe.detail)||`HTTP ${qe.status}`);R.success((Qe==null?void 0:Qe.detail)||"Schedule updated"),await ye(),await fe(L),await Ue(L)}catch(qe){console.error(qe),R.error((qe==null?void 0:qe.message)||"Update failed")}}async function Pa(L,ae){const Ee={retry_on_busy:!!ae.retry_on_busy,busy_retry_delay_minutes:Number(ae.busy_retry_delay_minutes)||15,max_attempts:Number(ae.max_attempts)||3};try{const Ie=await Me(js.RETRY(L),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ee)}),qe=await Ie.json().catch(()=>({}));if(!Ie.ok||(qe==null?void 0:qe.success)===!1)throw new Error((qe==null?void 0:qe.detail)||`HTTP ${Ie.status}`);R.success((qe==null?void 0:qe.detail)||"Retry policy updated"),await fe(L),await Ue(L)}catch(Ie){console.error(Ie),R.error((Ie==null?void 0:Ie.message)||"Update failed")}}async function oe(L,ae="campaign"){try{const Ee=await Me(js.ICS(L));if(!Ee.ok)throw new Error(`HTTP ${Ee.status}`);const Ie=await Ee.blob(),qe=URL.createObjectURL(Ie),Qe=document.createElement("a");Qe.href=qe,Qe.download=`${ae||"campaign"}.ics`,document.body.appendChild(Qe),Qe.click(),Qe.remove(),URL.revokeObjectURL(qe)}catch(Ee){console.error(Ee),R.error("ICS download failed")}}const Q=()=>{H(!0),ie(1)},le=()=>{H(!1),ie(1),K(L=>({...L,name:"",include_lead_ids:[],exclude_lead_ids:[]}))},he=()=>{ie(L=>Math.min(6,L+1))},Je=()=>{ie(L=>Math.max(1,L-1))};return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsxs("main",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[t.jsxs(pe.div,{initial:"hidden",animate:"show",variants:er,className:"mb-6 sm:mb-8 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:"Campaigns"}),t.jsx("p",{className:"mt-1 text-sm sm:text-base text-slate-600",children:"Manage your calling campaigns and schedules."})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.jsx(zl,{onClick:ue,disabled:l,icon:l?t.jsx(Ia,{className:"h-4 w-4 animate-spin"}):t.jsx(Ge,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Refresh"})}),t.jsxs(Zl,{onClick:Q,icon:t.jsx(Zn,{className:"h-4 w-4"}),children:[t.jsx("span",{className:"hidden sm:inline",children:"Create Campaign"}),t.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),t.jsxs(pe.div,{initial:"hidden",animate:"show",variants:tO,className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{className:"relative sm:col-span-1 lg:col-span-2",children:[t.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),t.jsx("input",{value:w,onChange:L=>{N(L.target.value),B(1)},placeholder:"Search name, status, IDs",className:"w-full rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 pl-9 sm:pl-10 pr-3 py-2 sm:py-2.5 text-sm sm:text-base text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search campaigns"})]}),t.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[t.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 hidden sm:block",children:["Total: ",t.jsx("span",{className:"font-semibold text-slate-900",children:U})]}),t.jsx("select",{value:M,onChange:L=>{V(Number(L.target.value)),B(1)},className:"rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[10,20,40,80].map(L=>t.jsxs("option",{value:L,children:[L," / page"]},L))})]})]}),t.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Rj,className:"mt-4 sm:mt-6 grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[t.jsx(pe.div,{variants:er,children:t.jsx($j,{label:"Total Campaigns",value:Xe.total,Icon:un,tone:"blue"})}),t.jsx(pe.div,{variants:er,children:t.jsx($j,{label:"Running",value:Xe.running,Icon:ta,tone:"cyan"})}),t.jsx(pe.div,{variants:er,className:"sm:col-span-2 lg:col-span-1",children:t.jsx($j,{label:"Paused",value:Xe.paused,Icon:zn,tone:"blue"})})]}),t.jsx(pe.div,{initial:"hidden",animate:"show",variants:tO,className:"mt-4 sm:mt-6 overflow-x-auto rounded-2xl sm:rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:t.jsxs("div",{className:"min-w-full",children:[t.jsx("div",{className:"block sm:hidden",children:s?t.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3}).map((L,ae)=>t.jsx("div",{className:"animate-pulse bg-slate-100 rounded-xl p-4 h-24"},ae))}):t.jsx("div",{className:"divide-y divide-slate-200",children:Ve.map((L,ae)=>{var qe,Qe;const Ee=((qe=L.counts)==null?void 0:qe.total)||0,Ie=((Qe=L.counts)==null?void 0:Qe.completed_or_failed)||0;return t.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ae*.05},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>ve(L),children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:ep(L.name)}),t.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",L.id]})]}),t.jsx(gx,{status:L.status})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[t.jsx("span",{children:Dj(L.created_at)}),t.jsxs("span",{children:[Ee," leads"]})]}),t.jsx(aO,{done:Ie,total:Ee,status:L.status})]},L.id)})})}),t.jsxs("table",{className:"hidden sm:table min-w-full text-left",children:[t.jsx("thead",{className:"bg-slate-50/50 backdrop-blur",children:t.jsxs("tr",{children:[t.jsx(Bj,{sortKey:"name",sortBy:_,sortDir:O,onSort:L=>Ij(L,C,P),children:"Name"}),t.jsx(Bj,{sortKey:"status",sortBy:_,sortDir:O,onSort:L=>Ij(L,C,P),children:"Status"}),t.jsx("th",{className:"px-5 py-3 font-semibold",children:"File"}),t.jsx("th",{className:"px-5 py-3 font-semibold",children:"Assistant"}),t.jsx(Bj,{sortKey:"calls_per_minute",sortBy:_,sortDir:O,onSort:L=>Ij(L,C,P),children:"Pacing"}),t.jsx("th",{className:"px-5 py-3 font-semibold",children:"Created"}),t.jsx("th",{className:"px-5 py-3 font-semibold",children:"Leads"}),t.jsx("th",{className:"px-5 py-3 font-semibold",children:"Progress"}),t.jsx("th",{})]})}),t.jsx("tbody",{children:s?t.jsx(O0e,{rows:M,cols:9}):Ve.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"px-5 py-4 text-center text-sm text-slate-500",children:"No campaigns found."})}):Ve.map(L=>{var Ie,qe;const ae=((Ie=L.counts)==null?void 0:Ie.total)||0,Ee=((qe=L.counts)==null?void 0:qe.completed_or_failed)||0;return t.jsxs("tr",{className:"group/row hover:bg-slate-50/50 transition-colors",children:[t.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:t.jsx("button",{onClick:()=>ve(L),className:"group/cell flex items-center gap-2 text-left",children:ep(L.name)})}),t.jsx("td",{className:"px-5 py-3",children:t.jsx(gx,{status:L.status})}),t.jsx("td",{className:"px-5 py-3 text-slate-700",children:L.file_id}),t.jsx("td",{className:"px-5 py-3 text-slate-700",children:L.assistant_id}),t.jsx("td",{className:"px-5 py-3 text-slate-700",children:L.calls_per_minute}),t.jsx("td",{className:"px-5 py-3 text-slate-600",children:Dj(L.created_at)}),t.jsx("td",{className:"px-5 py-3 text-slate-700",children:ae}),t.jsx("td",{className:"px-5 py-3",children:t.jsx(aO,{done:Ee,total:ae,status:L.status})}),t.jsx("td",{className:"px-5 py-3 text-right",children:t.jsxs("div",{className:"invisible group-hover/row:visible flex items-center justify-end gap-2",children:[t.jsx(zl,{onClick:()=>oe(L.id,L==null?void 0:L.name),icon:t.jsx(eo,{className:"h-4 w-4"}),children:"ICS"}),t.jsx(zl,{onClick:()=>ve(L),icon:t.jsx(Ta,{className:"h-4 w-4"}),children:"Details"})]})})]},L.id)})})]})]})}),t.jsxs(pe.div,{initial:"hidden",animate:"show",variants:er,className:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 order-2 sm:order-1",children:["Showing ",U===0?0:(E-1)*M+1,"",Math.min(E*M,U)," of ",U]}),t.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[t.jsxs(Jp,{disabled:E<=1,onClick:()=>B(E-1),children:[t.jsx(kn,{className:"h-3 w-3 sm:h-4 sm:w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),t.jsxs("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-slate-700",children:[E," of ",de]}),t.jsxs(Jp,{disabled:E>=de,onClick:()=>B(E+1),children:[t.jsx("span",{className:"hidden sm:inline",children:"Next"}),t.jsx(pa,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]}),t.jsx(kt,{children:G&&t.jsxs(t.Fragment,{children:[t.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:eO,initial:"hidden",animate:"show",exit:"exit",onClick:le}),t.jsx(pe.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:_0e,initial:"hidden",animate:"show",exit:"exit",children:t.jsxs("div",{className:"w-full max-w-xs sm:max-w-md lg:max-w-2xl xl:max-w-4xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[t.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:t.jsx(Zn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Create Campaign"}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Step ",F," of 6"]})]})]}),t.jsx("button",{onClick:le,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl border border-slate-200 hover:bg-slate-50 flex items-center justify-center transition-colors","aria-label":"Close",children:t.jsx(Cn,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),t.jsxs("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-50/50",children:[t.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:[1,2,3,4,5,6].map(L=>t.jsx(pe.div,{className:zr("flex-1 h-1.5 sm:h-2 rounded-full transition-colors duration-300",L<=F?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-slate-200"),initial:{scaleX:0},animate:{scaleX:L<=F?1:0},transition:{duration:.3,delay:L*.05}},L))}),t.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[t.jsx("span",{className:"hidden sm:inline",children:"Details"}),t.jsx("span",{className:"hidden sm:inline",children:"Files"}),t.jsx("span",{className:"hidden sm:inline",children:"Leads"}),t.jsx("span",{className:"hidden sm:inline",children:"Schedule"}),t.jsx("span",{className:"hidden sm:inline",children:"Pacing"}),t.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsx(kt,{mode:"wait",children:t.jsxs(pe.div,{variants:k0e,initial:"hidden",animate:"show",exit:"exit",className:"p-4 sm:p-6 lg:p-8",children:[F===1&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Campaign Details"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Set up the basic information for your campaign."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Name"}),t.jsx("input",{value:T.name,onChange:$e,name:"name",placeholder:"Enter campaign name",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assistant"}),t.jsxs("select",{value:T.assistant_id,onChange:$e,name:"assistant_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[t.jsx("option",{value:"",children:"Select assistant"}),h.map(L=>t.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (optional)"}),t.jsx("textarea",{value:T.description,onChange:$e,name:"description",placeholder:"Describe your campaign...",rows:3,className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition resize-none"})]})]}),F===2&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select File"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Choose the file containing the leads for your campaign."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File"}),t.jsxs("select",{value:T.file_id,onChange:$e,name:"file_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[t.jsx("option",{value:"",children:"Select file"}),d.map(L=>t.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),F===3&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select Leads"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Choose which leads to include in your campaign."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selection Mode"}),t.jsxs("select",{value:T.selection_mode,onChange:$e,name:"selection_mode",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[t.jsx("option",{value:"ALL",children:"All Leads"}),t.jsx("option",{value:"ONLY",children:"Only These Leads"}),t.jsx("option",{value:"SKIP",children:"Skip These Leads"})]})]}),T.selection_mode!=="ALL"&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),t.jsx("input",{value:W,onChange:L=>I(L.target.value),placeholder:"Search leads",className:"w-full rounded-xl border border-slate-200 px-9 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),y?t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center text-sm text-slate-600",children:[t.jsx(Ia,{className:"h-5 w-5 animate-spin mx-auto mb-3"})," Loading leads"]}):t.jsx(P0e,{leads:g,mode:T.selection_mode,search:W,selectedIds:T.selection_mode==="ONLY"?T.include_lead_ids:T.exclude_lead_ids,onChange:L=>{T.selection_mode==="ONLY"?K(ae=>({...ae,include_lead_ids:L})):K(ae=>({...ae,exclude_lead_ids:L}))}})]})]}),F===4&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Schedule"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Set up the schedule for your campaign."})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("label",{className:"block",children:[t.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),t.jsx("select",{name:"timezone",value:T.timezone,onChange:$e,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:d9.map(L=>t.jsx("option",{value:L.value,children:L.label},L.value))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(L=>t.jsx("button",{type:"button",onClick:()=>ne(L),className:zr("px-3 py-1.5 rounded-xl border text-sm",T.days_of_week.includes(L)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][L]},L))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(is,{label:"Daily start",name:"daily_start",value:T.daily_start,onChange:$e,placeholder:"HH:MM"}),t.jsx(is,{label:"Daily end",name:"daily_end",value:T.daily_end,onChange:$e,placeholder:"HH:MM"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(is,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:T.start_at,onChange:$e}),t.jsx(is,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:T.end_at,onChange:$e})]})]})]}),F===5&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Pacing"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Set up the pacing for your campaign."})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsx(is,{label:"Calls per minute",name:"calls_per_minute",value:T.calls_per_minute,onChange:$e}),t.jsx(is,{label:"Parallel calls",name:"parallel_calls",value:T.parallel_calls,onChange:$e}),t.jsxs("label",{className:"inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!T.retry_on_busy,onChange:$e}),t.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),t.jsx(is,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:T.busy_retry_delay_minutes,onChange:$e}),t.jsx(is,{label:"Max attempts",name:"max_attempts",value:T.max_attempts,onChange:$e})]})]}),F===6&&t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Review"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Review your campaign details before creating."})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Name"}),t.jsx("div",{className:"text-sm text-slate-600",children:T.name||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"File"}),t.jsx("div",{className:"text-sm text-slate-600",children:((lt=d.find(L=>String(L.id)===String(T.file_id)))==null?void 0:lt.name)||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Assistant"}),t.jsx("div",{className:"text-sm text-slate-600",children:((yt=h.find(L=>String(L.id)===String(T.assistant_id)))==null?void 0:yt.name)||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Schedule"}),t.jsxs("div",{className:"text-sm text-slate-600",children:[Lj(T.days_of_week),"  ",T.daily_start,"",T.daily_end," (",T.timezone,")"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Pacing"}),t.jsxs("div",{className:"text-sm text-slate-600",children:[T.calls_per_minute," CPM  ",T.parallel_calls," parallel"]})]})]})]})]},F)})}),t.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[t.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:F>1&&t.jsxs(zl,{onClick:Je,icon:t.jsx(kn,{className:"h-4 w-4"}),children:[t.jsx("span",{className:"hidden sm:inline",children:"Previous"}),t.jsx("span",{className:"sm:hidden",children:"Back"})]})}),t.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:F<6?t.jsxs(Zl,{onClick:he,icon:t.jsx(pa,{className:"h-4 w-4"}),children:[t.jsx("span",{className:"hidden sm:inline",children:"Next Step"}),t.jsx("span",{className:"sm:hidden",children:"Next"})]}):t.jsx(Zl,{onClick:Z,disabled:_e,icon:_e?t.jsx(Ia,{className:"h-4 w-4 animate-spin"}):t.jsx(rp,{className:"h-4 w-4"}),children:_e?"Creating...":"Create Campaign"})})]})]})})]})}),t.jsx(kt,{children:A&&t.jsxs(t.Fragment,{children:[t.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:eO,initial:"hidden",animate:"show",exit:"exit",onClick:()=>$(!1)}),t.jsxs(pe.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[90vw] md:w-[620px] lg:w-[880px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Campaign details",children:[t.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-3 sm:p-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[t.jsx("button",{onClick:()=>$(!1),className:"grid h-8 w-8 sm:h-9 sm:w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50 flex-shrink-0","aria-label":"Close",children:t.jsx(Cn,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight truncate",children:["Campaign #",z==null?void 0:z.id]}),t.jsx("p",{className:"text-xs text-slate-600 truncate",children:ep(z==null?void 0:z.name)})]})]}),t.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:t.jsx(zl,{onClick:()=>oe(z.id,z==null?void 0:z.name),icon:t.jsx(eo,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"ICS"})})})]}),t.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gx,{status:(se==null?void 0:se.status)||(J==null?void 0:J.status)||(z==null?void 0:z.status)}),t.jsx(m9,{active:!!(se!=null&&se.active_now)}),se!=null&&se.active_now?t.jsx(Cr,{tone:"green",children:"Active now"}):t.jsx(Cr,{tone:"amber",children:"Idle"})]}),t.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-xs sm:text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hw,{className:"h-4 w-4 text-slate-500"}),t.jsxs("div",{className:"truncate",children:[t.jsx("span",{className:"text-slate-500",children:"Local:"})," ",t.jsx("span",{className:"font-medium text-slate-800",children:Dj((ut=se==null?void 0:se.now)==null?void 0:ut.local)||""})]})]}),t.jsxs("div",{className:"truncate",children:[t.jsx("span",{className:"text-slate-500",children:"Window: "}),t.jsxs("span",{className:"font-medium text-slate-800",children:[Lj(((Mt=se==null?void 0:se.window)==null?void 0:Mt.days_of_week)??(J==null?void 0:J.days_of_week)??(z==null?void 0:z.days_of_week))," "," ",((bt=se==null?void 0:se.window)==null?void 0:bt.daily_start)||(J==null?void 0:J.daily_start)||(z==null?void 0:z.daily_start)||"09:00","",((Ka=se==null?void 0:se.window)==null?void 0:Ka.daily_end)||(J==null?void 0:J.daily_end)||(z==null?void 0:z.daily_end)||"18:00"," ","(",(se==null?void 0:se.timezone)||(J==null?void 0:J.timezone)||(z==null?void 0:z.timezone)||"Local",")"]})]}),t.jsxs("div",{className:"truncate",children:[t.jsx("span",{className:"text-slate-500",children:"Next tick:"})," ",t.jsx("span",{className:"font-medium text-slate-800",children:se!=null&&se.next_tick_at?`${N0e(se.next_tick_at)}  in ${S0e(se.next_tick_at)}`:""})]})]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(C0e,{totals:(se==null?void 0:se.totals)||(J==null?void 0:J.totals)})})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[t.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Rj,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[t.jsxs(pe.div,{variants:er,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Status"}),t.jsx(gx,{status:(se==null?void 0:se.status)||(J==null?void 0:J.status)||(z==null?void 0:z.status)})]}),t.jsxs(pe.div,{variants:er,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Window"}),t.jsxs("div",{className:"text-sm text-slate-800",children:[t.jsx("div",{className:"truncate",children:Lj(((ra=se==null?void 0:se.window)==null?void 0:ra.days_of_week)??(J==null?void 0:J.days_of_week)??(z==null?void 0:z.days_of_week))}),t.jsx("div",{className:"text-xs sm:text-sm",children:(((Et=se==null?void 0:se.window)==null?void 0:Et.daily_start)||(J==null?void 0:J.daily_start)||(z==null?void 0:z.daily_start)||"09:00")+""+(((Pt=se==null?void 0:se.window)==null?void 0:Pt.daily_end)||(J==null?void 0:J.daily_end)||(z==null?void 0:z.daily_end)||"18:00")}),t.jsx("div",{className:"text-xs text-slate-500 truncate",children:(se==null?void 0:se.timezone)||(J==null?void 0:J.timezone)||(z==null?void 0:z.timezone)||"Local"})]})]}),t.jsxs(pe.div,{variants:er,className:"rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 sm:col-span-2 lg:col-span-1",children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Counts"}),t.jsxs("div",{className:"text-sm text-slate-800 grid grid-cols-2 gap-y-1",children:[t.jsxs("div",{children:["Total: ",((Oa=se==null?void 0:se.totals)==null?void 0:Oa.total)??((tn=J==null?void 0:J.totals)==null?void 0:tn.total)??((zs=z==null?void 0:z.counts)==null?void 0:zs.total)??""]}),t.jsxs("div",{children:["Done: ",((xi=se==null?void 0:se.totals)==null?void 0:xi.done)??((Hn=J==null?void 0:J.totals)==null?void 0:Hn.done)??((ms=z==null?void 0:z.counts)==null?void 0:ms.completed_or_failed)??""]}),t.jsxs("div",{children:["Calling: ",((xr=se==null?void 0:se.totals)==null?void 0:xr.calling)??""]}),t.jsxs("div",{children:["Retry: ",((ee=se==null?void 0:se.totals)==null?void 0:ee.retry)??""]})]})]})]}),t.jsxs(pe.div,{initial:"hidden",animate:"show",variants:er,className:"mt-4 flex flex-wrap items-center gap-2",children:[String((se==null?void 0:se.status)||(J==null?void 0:J.status)||(z==null?void 0:z.status)).toLowerCase()==="paused"?t.jsx(Zl,{onClick:()=>tt(z.id),icon:t.jsx(gu,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Resume"})}):t.jsx(Zl,{onClick:()=>dt(z.id),icon:t.jsx(oH,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Pause"})}),t.jsx(zl,{onClick:()=>$t(z.id),icon:t.jsx(Zd,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Stop"})}),t.jsx(zl,{onClick:()=>Tt(z.id),icon:t.jsx(Ge,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Sync Leads"})}),t.jsx(zl,{onClick:()=>ze(z.id),icon:t.jsx(Ea,{className:"h-4 w-4"}),children:t.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]}),t.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Rj,className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[t.jsx(pe.div,{variants:er,children:t.jsx(T0e,{details:se!=null&&se.window?{...J,...se,days_of_week:(xe=se.window)==null?void 0:xe.days_of_week,daily_start:(We=se.window)==null?void 0:We.daily_start,daily_end:(Y=se.window)==null?void 0:Y.daily_end,timezone:se.timezone}:J,onSubmit:L=>pt(z.id,L),loading:ge})}),t.jsx(pe.div,{variants:er,children:t.jsx(E0e,{details:J,onSubmit:L=>Pa(z.id,L),loading:ge})})]}),t.jsx(pe.div,{initial:"hidden",animate:"show",variants:er,children:t.jsx(A0e,{onRun:L=>Ze(z.id,L)})})]})]})]})})]})}function A0e({onRun:e}){const[a,n]=p.useState(5);return t.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[t.jsx(og,{className:"h-4 w-4"})," Run Now"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",min:1,className:"w-24 rounded-xl border border-slate-200 px-3 py-2 text-sm",value:a,onChange:s=>n(Number(s.target.value)||5)}),t.jsx(Zl,{onClick:()=>e(a),icon:t.jsx(gu,{className:"h-4 w-4"}),children:"Trigger"})]})]}),t.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Immediately place a small batch of calls (ignores schedule window)."})]})}function T0e({details:e,onSubmit:a,loading:n}){const[s,r]=p.useState({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:xx(e==null?void 0:e.start_at),end_at:xx(e==null?void 0:e.end_at)});p.useEffect(()=>{r({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:xx(e==null?void 0:e.start_at),end_at:xx(e==null?void 0:e.end_at)})},[e]);function l(d){const{name:m,value:h}=d.target;r(f=>({...f,[m]:h}))}function c(d){r(m=>{const f=m.days_of_week.includes(d)?m.days_of_week.filter(g=>g!==d):[...m.days_of_week,d];return f.sort((g,b)=>g-b),{...m,days_of_week:f}})}return t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[t.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[t.jsx(Q2,{className:"h-4 w-4"})," Schedule"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("label",{className:"block",children:[t.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),t.jsx("select",{name:"timezone",value:s.timezone,onChange:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:d9.map(d=>t.jsx("option",{value:d.value,children:d.label},d.value))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(d=>t.jsx("button",{type:"button",onClick:()=>c(d),className:zr("px-3 py-1.5 rounded-xl border text-sm",s.days_of_week.includes(d)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][d]},d))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(is,{label:"Daily start",name:"daily_start",value:s.daily_start,onChange:l,placeholder:"HH:MM"}),t.jsx(is,{label:"Daily end",name:"daily_end",value:s.daily_end,onChange:l,placeholder:"HH:MM"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(is,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:s.start_at,onChange:l}),t.jsx(is,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:s.end_at,onChange:l})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Zl,{onClick:()=>a(s),disabled:n,children:"Save Schedule"})})]})]})}function E0e({details:e,onSubmit:a,loading:n}){const[s,r]=p.useState({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3});p.useEffect(()=>{r({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3})},[e]);function l(c){const{name:d,value:m,type:h,checked:f}=c.target;r(g=>({...g,[d]:h==="checkbox"?f:m}))}return t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[t.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[t.jsx(og,{className:"h-4 w-4"})," Retry Policy"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("label",{className:"inline-flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!s.retry_on_busy,onChange:l}),t.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),t.jsx(is,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:s.busy_retry_delay_minutes,onChange:l}),t.jsx(is,{label:"Max attempts",name:"max_attempts",value:s.max_attempts,onChange:l}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Zl,{onClick:()=>a(s),disabled:n,children:"Save Retry Policy"})})]})]})}function P0e({leads:e,mode:a,search:n,selectedIds:s,onChange:r}){const[l,c]=p.useState(1),d=12,m=p.useMemo(()=>{const j=(n||"").toLowerCase().trim();return j?e.filter(w=>`${w.first_name||""} ${w.last_name||""}`.toLowerCase().includes(j)||(w.email||"").toLowerCase().includes(j)||(w.mobile||"").toLowerCase().includes(j)):e},[e,n]),h=Math.max(1,Math.ceil(m.length/d));p.useEffect(()=>{l>h&&c(h)},[l,h]);const f=(l-1)*d,g=f+d,b=m.slice(f,g);function y(j){const w=s.includes(j);r(w?s.filter(N=>N!==j):[...s,j])}return t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[t.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:b.length===0?t.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No leads match your search."}):b.map(j=>{const w=`${j.first_name||""} ${j.last_name||""}`.trim()||"Unknown";return t.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:s.includes(j.id),onChange:()=>y(j.id)}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-medium text-slate-900 text-sm",children:w}),t.jsx("div",{className:"text-xs text-slate-600 break-all",children:(j.email||"")+"  "+(j.mobile||"")})]}),j.dnc?t.jsx(Cr,{tone:"red",children:"DNC"}):t.jsx(Cr,{tone:"green",children:"OK"})]},j.id)})}),m.length>d&&t.jsxs("div",{className:"flex items-center justify-between p-2",children:[t.jsxs("span",{className:"text-xs text-slate-600",children:["Showing ",Math.min(g,m.length)," of ",m.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Jp,{disabled:l<=1,onClick:()=>c(j=>Math.max(1,j-1)),children:[t.jsx(kn,{className:"h-3.5 w-3.5"})," Prev"]}),t.jsxs("span",{className:"text-xs text-slate-700",children:[l,"/",h]}),t.jsxs(Jp,{disabled:l>=h,onClick:()=>c(j=>Math.min(h,j+1)),children:["Next ",t.jsx(pa,{className:"h-3.5 w-3.5"})]})]})]}),t.jsxs("div",{className:"p-3 border-t border-slate-200 text-xs text-slate-700",children:["Mode: ",t.jsx("strong",{children:a}),"  Selected: ",t.jsx("strong",{children:s.length})]})]})}function Lj(e){const a=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=new Set(Array.isArray(e)?e:[]);return n.size===5&&[0,1,2,3,4].every(s=>n.has(s))?"MonFri":n.size===7?"Every day":Array.from(n).sort((s,r)=>s-r).map(s=>a[s]||"?").join(", ")}function Ij(e,a,n){a(s=>s===e?(n(r=>r==="asc"?"desc":"asc"),s):(n(e==="created_at"?"desc":"asc"),e))}function Zl({children:e,onClick:a,disabled:n,icon:s,type:r="button"}){return t.jsxs(pe.button,{whileHover:n?void 0:{scale:1.02},whileTap:n?void 0:{scale:.98},type:r,onClick:a,disabled:n,className:zr("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-semibold text-white transition-all duration-200","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)] hover:shadow-[0_12px_32px_-12px_rgba(37,99,235,0.65)]","disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[s,t.jsx("span",{className:"whitespace-nowrap",children:e})]})}function zl({children:e,onClick:a,icon:n,type:s="button",disabled:r}){return t.jsxs(pe.button,{whileHover:r?void 0:{scale:1.02},whileTap:r?void 0:{scale:.98},type:s,onClick:a,disabled:r,className:zr("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl border border-slate-200 bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-medium text-slate-800 ring-1 ring-white/70 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm",r&&"opacity-60 cursor-not-allowed"),children:[n,t.jsx("span",{className:"whitespace-nowrap",children:e})]})}function Jp({children:e,disabled:a,onClick:n}){return t.jsx(pe.button,{whileHover:a?void 0:{scale:1.02},whileTap:a?void 0:{scale:.98},disabled:a,onClick:n,className:zr("inline-flex items-center gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border px-2.5 sm:px-3.5 py-1.5 sm:py-2 text-xs sm:text-sm transition-all duration-200",a?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50 hover:shadow-sm"),children:e})}function Bj({children:e,sortKey:a,sortBy:n,sortDir:s,onSort:r}){const l=n===a;return t.jsx("th",{className:zr("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>r(a),title:"Sort",children:t.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,t.jsx("span",{className:zr("text-xs",l?"opacity-100":"opacity-20"),children:l?s==="asc"?"":"":""})]})})}function O0e({rows:e=6,cols:a=6}){return t.jsx(t.Fragment,{children:Array.from({length:e}).map((n,s)=>t.jsx("tr",{className:"animate-pulse",children:Array.from({length:a}).map((r,l)=>t.jsx("td",{className:"px-5 py-3",children:t.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},s))})}function is({label:e,name:a,value:n,onChange:s,type:r="text",placeholder:l,className:c}){return t.jsxs("label",{className:zr("block",c),children:[t.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),t.jsx("input",{type:r,name:a,value:n??"",onChange:s,placeholder:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}const zj={};var Yd={};const Xr=typeof import.meta<"u"&&"https://app.thedbt.ai"||typeof process<"u"&&(Yd==null?void 0:Yd.NEXT_PUBLIC_API_URL)||"http://localhost:8000",Zr=typeof import.meta<"u"&&(zj==null?void 0:zj.VITE_API_PREFIX)||typeof process<"u"&&(Yd==null?void 0:Yd.NEXT_PUBLIC_API_PREFIX)||"/api",bx=typeof window<"u"?window.location.origin:"",M0e="/integrations",Uj=["hubspot","ghl","monday"],Qr={PROVIDERS:`${Xr}${Zr}/crm/providers`,ACCOUNTS:`${Xr}${Zr}/crm/accounts`,CONNECT:e=>`${Xr}${Zr}/crm/connect/${e}`,DISCONNECT:e=>`${Xr}${Zr}/crm/disconnect/${e}`,ENSURE_FRESH:e=>`${Xr}${Zr}/crm/ensure-fresh/${e}`,CONTACTS:e=>`${Xr}${Zr}/crm/${e}/contacts`,MONDAY_LIST_BOARDS:`${Xr}${Zr}/crm/monday/boards`,MONDAY_GET_BOARD:`${Xr}${Zr}/crm/monday/board`,MONDAY_SET_BOARD:`${Xr}${Zr}/crm/monday/board`,MONDAY_CLEAR_BOARD:`${Xr}${Zr}/crm/monday/board`},D0e="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function $2(...e){return e.filter(Boolean).join(" ")}function R0e(e){if(e)return e.properties&&typeof e.properties=="object"?e.properties.company||e.properties.company_name||e.properties.companyname:e.company||e.organization||e.companyName||e.account||void 0}function Gn({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[s]} ${d[n]} ${a}`,children:e})}function $0e({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function L0e({rows:e=6,cols:a=5}){return t.jsx(t.Fragment,{children:Array.from({length:e}).map((n,s)=>t.jsx("tr",{className:"animate-pulse",children:Array.from({length:a}).map((r,l)=>t.jsx("td",{className:"px-4 py-4",children:t.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},s))})}function I0e({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(Gn,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(Cn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function L2({size:e=24}){return t.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[t.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"2"}),t.jsx("circle",{cx:"12",cy:"12",r:"3.6",fill:"#2563eb"})]})}function B0e({size:e=24}){return t.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",stroke:"#0ea5e9",strokeWidth:"2"}),t.jsx("path",{d:"M7 12h10",stroke:"#0ea5e9",strokeWidth:"2"}),t.jsx("path",{d:"M12 7v10",stroke:"#0ea5e9",strokeWidth:"2"})]})}function z0e({size:e=24}){return t.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[t.jsx("circle",{cx:"8.5",cy:"12",r:"3.3",fill:"#f43f5e"}),t.jsx("circle",{cx:"14.5",cy:"12",r:"3.3",fill:"#f59e0b"}),t.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"1.5",opacity:"0.25"})]})}const gd={hubspot:{label:"HubSpot",Mark:L2},ghl:{label:"GHL",Mark:B0e},monday:{label:"monday.com",Mark:z0e}};function vx({label:e,value:a,Icon:n,tone:s="blue",valueClassName:r=""}){const l=s==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=s==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl pointer-events-none",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0",children:[t.jsx("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${c} text-white shadow-inner ring-1 ${l} shrink-0`,children:t.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:$2("text-base sm:text-xl font-extrabold text-slate-900 truncate","min-w-0 max-w-full break-words",r),title:typeof a=="string"?a:void 0,children:a})]})]})]})}function sO({name:e="",size:a=38}){const n=(e||"?").split(" ").filter(Boolean).map(s=>s[0]).join("").slice(0,2).toUpperCase();return t.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:a,height:a},children:t.jsx("span",{style:{fontSize:a<40?12:13},children:n||"?"})})}function U0e(){var Ve,Xe,$e;const e=p.useRef(typeof window<"u"&&window.localStorage.getItem("token")||null),[a,n]=p.useState([]),[s,r]=p.useState([]),[l,c]=p.useState(!0),[d,m]=p.useState(!1),[h,f]=p.useState("hubspot"),[g,b]=p.useState(25),[y,j]=p.useState([]),[w,N]=p.useState(null),[k,_]=p.useState({}),[C,O]=p.useState(""),[P,E]=p.useState(!1),[B,M]=p.useState(!1),[V,G]=p.useState(!1),[H,F]=p.useState([]),[ie,_e]=p.useState(""),[ce,T]=p.useState(null),[K,W]=p.useState(null),[I,A]=p.useState(null),$=p.useMemo(()=>{const ne={};for(const Z of s)ne[Z.crm]=Z;return ne},[s]),z=!!$[h],X=$[h],ge=!!$.monday,te=ge&&I&&typeof I.board_id<"u"&&I.board_id!==null,J=p.useCallback(async(ne,Z={})=>{if(!e.current)throw new Error("No token");const ve={Accept:"application/json",...Z.headers||{},Authorization:`Bearer ${e.current}`};return Z.body&&!ve["Content-Type"]&&(ve["Content-Type"]="application/json"),await fetch(ne,{...Z,headers:ve})},[]),Ce=p.useCallback(async()=>{try{const Z=await(await J(Qr.PROVIDERS)).json(),fe=(Array.isArray(Z)?Z:[]).filter(Ue=>Uj.includes(Ue==null?void 0:Ue.name));n(fe),!fe.find(Ue=>Ue.name===h)&&fe[0]&&f(fe[0].name)}catch(ne){console.error(ne),n([]),R.error("Failed to fetch providers")}},[J,h]),se=p.useCallback(async()=>{var ne;try{const ve=await(await J(Qr.ACCOUNTS)).json(),fe=Array.isArray(ve)?ve:[];r(fe.filter(rt=>Uj.includes(rt==null?void 0:rt.crm)));const Ue=fe.find(rt=>rt.crm==="monday");if((ne=Ue==null?void 0:Ue.metadata)!=null&&ne.monday){const rt=Ue.metadata.monday;rt.board_id?(A({board_id:rt.board_id,board_name:rt.board_name}),T(rt.board_id),W(rt.board_name||null)):A({board_id:null,board_name:null})}else Ue||A(null)}catch(Z){console.error(Z),r([]),R.error("Failed to fetch accounts")}},[J]);async function Se(){var ne;if(ge)try{const ve=await(await J(Qr.MONDAY_GET_BOARD)).json(),fe=(ve==null?void 0:ve.selected)??null,Ue=((ne=ve==null?void 0:ve.meta)==null?void 0:ne.board_name)??null;A(fe?{board_id:fe,board_name:Ue}:{board_id:null,board_name:null}),fe&&(T(fe),W(Ue))}catch(Z){console.error("Fetch selected board failed",Z)}}p.useEffect(()=>{(async()=>{if(!e.current){R.error("No auth token found. Please log in."),c(!1);return}try{await Promise.all([Ce(),se()])}finally{c(!1)}})()},[Ce,se]),p.useEffect(()=>{const ne=new URLSearchParams(window.location.search),Z=ne.get("status"),ve=ne.get("crm");if(Z&&window.opener){try{window.opener.postMessage({type:"crm-oauth",status:Z,crm:ve},bx)}catch{}window.close()}},[]),p.useEffect(()=>{function ne(Z){var fe;if(Z.origin!==bx)return;const ve=Z.data||{};if(ve.type==="crm-oauth"){const Ue=ve.crm||h;ve.status==="success"?(R.success(`${(((fe=gd[Ue])==null?void 0:fe.label)||Ue).toUpperCase()} connected`),Ue==="monday"?se().then(Se):se()):(R.error(`OAuth error: ${ve.status||"unknown"}`),se()),m(!1)}}return window.addEventListener("message",ne),()=>window.removeEventListener("message",ne)},[se,h]),p.useEffect(()=>{h==="monday"&&ge&&Se()},[h,ge]);async function De(ne){try{m(!0);const Z={redirect_to:`${bx}${M0e}`},ve=await J(Qr.CONNECT(ne),{method:"POST",body:JSON.stringify(Z)}),fe=await ve.json();if(!ve.ok||!(fe!=null&&fe.auth_url))throw new Error((fe==null?void 0:fe.detail)||"Failed to start OAuth");const Ue=fe.auth_url,rt=680,dt=760,tt=window.screenX+Math.max(0,(window.outerWidth-rt)/2),$t=window.screenY+Math.max(0,(window.outerHeight-dt)/2),Tt=window.open(Ue,"crm-oauth",`width=${rt},height=${dt},left=${tt},top=${$t}`);if(!Tt){window.location.href=Ue;return}const ze=Date.now(),Ze=setInterval(async()=>{(Tt.closed||Date.now()-ze>12e4)&&(clearInterval(Ze),await se(),m(!1))},2e3)}catch(Z){console.error(Z),R.error((Z==null?void 0:Z.message)||"OAuth failed to start"),m(!1)}}async function Me(ne){try{const Z=await J(Qr.ENSURE_FRESH(ne),{method:"POST"}),ve=await Z.json().catch(()=>({}));if(!Z.ok||(ve==null?void 0:ve.success)===!1)throw new Error((ve==null?void 0:ve.detail)||`HTTP ${Z.status}`);R.success("Token refreshed"),await se()}catch(Z){console.error(Z),R.error((Z==null?void 0:Z.message)||"Refresh failed")}}async function ye(ne){var Z;if(confirm(`Disconnect ${((Z=gd[ne])==null?void 0:Z.label)||ne}?`))try{const ve=await J(Qr.DISCONNECT(ne),{method:"DELETE"}),fe=await ve.json().catch(()=>({}));if(!ve.ok||(fe==null?void 0:fe.success)===!1)throw new Error((fe==null?void 0:fe.detail)||`HTTP ${ve.status}`);R.success((fe==null?void 0:fe.message)||"Disconnected"),await se(),ne==="monday"&&(A(null),F([]),T(null),W(null)),ne===h&&(j([]),N(null),_({}))}catch(ve){console.error(ve),R.error((ve==null?void 0:ve.message)||"Disconnect failed")}}async function Ye(){if(!ge){R.info("Connect monday.com first");return}M(!0),await Ke(ie)}async function Ke(ne){try{G(!0);const Z=ne?`?search=${encodeURIComponent(ne)}`:"",fe=await(await J(`${Qr.MONDAY_LIST_BOARDS}${Z}`)).json(),Ue=Array.isArray(fe==null?void 0:fe.items)?fe.items:[];F(Ue);const rt=(fe==null?void 0:fe.selected_board_id)||(fe==null?void 0:fe.selected)||null;if(rt){T(rt);const dt=Ue.find(tt=>String(tt.id)===String(rt));W((dt==null?void 0:dt.name)||null)}}catch(Z){console.error(Z),R.error("Failed to load boards")}finally{G(!1)}}async function we(){var ne,Z;if(!ce){R.info("Please select a board");return}try{const ve={board_id:Number(ce),board_name:K||void 0},fe=await J(Qr.MONDAY_SET_BOARD,{method:"POST",body:JSON.stringify(ve)}),Ue=await fe.json();if(!fe.ok||(Ue==null?void 0:Ue.success)===!1)throw new Error((Ue==null?void 0:Ue.detail)||`HTTP ${fe.status}`);A({board_id:((ne=Ue.selected)==null?void 0:ne.board_id)??Number(ce),board_name:((Z=Ue.selected)==null?void 0:Z.board_name)??K??null}),R.success("Board selected"),M(!1),await se(),h==="monday"&&await Ae(!0)}catch(ve){console.error(ve),R.error((ve==null?void 0:ve.message)||"Failed to save board")}}async function ue(){try{const ne=await J(Qr.MONDAY_CLEAR_BOARD,{method:"DELETE"}),Z=await ne.json();if(!ne.ok||(Z==null?void 0:Z.success)===!1)throw new Error((Z==null?void 0:Z.detail)||`HTTP ${ne.status}`);A({board_id:null,board_name:null}),T(null),W(null),R.success("Board cleared"),j([]),N(null),_({})}catch(ne){console.error(ne),R.error((ne==null?void 0:ne.message)||"Failed to clear board")}}async function Ae(ne=!1){var Z,ve;if(!z){R.info(`Connect ${((Z=gd[h])==null?void 0:Z.label)||h} first`);return}try{E(!0);const fe=new URLSearchParams({limit:String(g||25)});let Ue=`${Qr.CONTACTS(h)}?${fe.toString()}`;!ne&&w&&(Ue+=`&cursor=${encodeURIComponent(w)}`);const rt=await J(Ue),dt=await rt.json();if(h==="monday"&&rt.status===409&&((ve=dt==null?void 0:dt.detail)!=null&&ve.needs_board_selection)){R.info("Please choose your Monday board"),M(!0),await Ke(ie),E(!1);return}if(!rt.ok)throw new Error((dt==null?void 0:dt.detail)||`HTTP ${rt.status}`);const tt=((dt==null?void 0:dt.items)||[]).map(Tt=>({...Tt,company:Tt.company||R0e(Tt.raw)})),$t=(dt==null?void 0:dt.next_cursor)||null;j(Tt=>ne?tt:[...Tt,...tt]),N($t),_((dt==null?void 0:dt.raw_paging)||{})}catch(fe){console.error(fe);const Ue=String((fe==null?void 0:fe.message)||"");Ue.includes("Invalid paging token")?(R.error("Invalid/expired cursor; starting over."),N(null)):R.error(Ue||"Fetch failed")}finally{E(!1)}}const U=p.useMemo(()=>{const ne=C.trim().toLowerCase();return ne?y.filter(Z=>{const ve=(Z.name||"").toLowerCase(),fe=(Z.email||"").toLowerCase(),Ue=(Z.phone||"").toLowerCase(),rt=(Z.company||"").toLowerCase();return ve.includes(ne)||fe.includes(ne)||Ue.includes(ne)||rt.includes(ne)}):y},[y,C]),de=((Ve=gd[h])==null?void 0:Ve.Mark)||L2,ke=((Xe=gd[h])==null?void 0:Xe.label)||h,Le=h==="monday"&&z&&!te;return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-5 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(de,{size:24})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight leading-tight truncate",children:t.jsxs("span",{className:`bg-clip-text text-transparent ${D0e}`,children:["CRM Integrations  ",ke]})}),t.jsx("p",{className:"text-[11px] sm:text-xs md:text-sm text-slate-600",children:"Connect your CRM and browse Contacts directly in your app."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[z?t.jsxs(t.Fragment,{children:[t.jsxs(Gn,{onClick:()=>Me(h),size:"sm",children:[t.jsx(Qi,{className:"mr-2 h-4 w-4"}),"Ensure Fresh"]}),h==="monday"&&t.jsxs(Gn,{onClick:Ye,size:"sm",variant:"subtle",children:[t.jsx(py,{className:"mr-2 h-4 w-4"}),te?"Change Board":"Choose Board"]}),t.jsxs(Gn,{onClick:()=>ye(h),variant:"danger",size:"sm",children:[t.jsx(oq,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):t.jsx(Gn,{onClick:()=>De(h),variant:"primary",disabled:d,size:"sm",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Ia,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting"]}):t.jsxs(t.Fragment,{children:[t.jsx(Dr,{className:"mr-2 h-4 w-4"}),"Connect"]})}),t.jsxs(Gn,{onClick:()=>{Ce(),se()},size:"sm",children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),t.jsx("div",{className:"relative z-10 mt-4 flex flex-wrap gap-2",children:a.filter(ne=>Uj.includes(ne.name)).map(ne=>{var fe;const Z=((fe=gd[ne.name])==null?void 0:fe.Mark)||L2,ve=!!$[ne.name];return t.jsxs("button",{onClick:()=>{f(ne.name),j([]),N(null),_({})},className:$2("flex items-center gap-2 rounded-xl border px-3 py-1.5 text-xs font-semibold focus:outline-none","transition-colors",ne.name===h?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),title:ne.name,children:[t.jsx(Z,{size:16}),t.jsx("span",{className:"capitalize",children:ne.name}),ve?t.jsx("span",{className:"ml-1 text-emerald-600",children:""}):t.jsx("span",{className:"ml-1 text-slate-300",children:""})]},ne.name)})}),!z&&((($e=a.find(ne=>ne.name===h))==null?void 0:$e.type)||"oauth")==="oauth"&&t.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 text-[11px] sm:text-[12px] text-slate-500",children:[t.jsx(os,{className:"h-4 w-4 mt-0.5 text-slate-400 shrink-0"}),t.jsxs("span",{className:"min-w-0",children:["Ensure backend env ",t.jsx("code",{children:"ALLOWED_REDIRECT_ORIGINS"})," includes"," ",t.jsx("code",{className:"break-all",children:bx}),"."]})]}),Le&&t.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2",children:[t.jsx(py,{className:"h-4 w-4 text-amber-600 mt-0.5"}),t.jsxs("div",{className:"text-[12px] sm:text-sm text-amber-800",children:["Select a Monday board to view your leads.",t.jsx(Gn,{onClick:Ye,size:"sm",className:"ml-2",variant:"outline",children:"Choose Board"})]})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(vx,{label:"Connection",value:z?"Connected":"Not connected",Icon:z?ta:zn,tone:z?"blue":"cyan"}),t.jsx(vx,{label:"Contacts Loaded",value:y.length,Icon:un,tone:"cyan"}),t.jsx(vx,{label:"Next Cursor",value:w?String(w).slice(0,10)+"":"",Icon:Jl,tone:"blue"}),t.jsx(vx,{label:h==="monday"?"Monday Board":"Account",value:h==="monday"?(I==null?void 0:I.board_name)||(te?`#${I.board_id}`:"Not selected"):(X==null?void 0:X.external_account_name)||"",Icon:h==="monday"?py:lr,tone:"cyan",valueClassName:"truncate break-all max-w-[14ch] sm:max-w-[24ch] md:max-w-[28ch] xl:max-w-[32ch]"})]}),t.jsxs("div",{className:"mt-5 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-3 sm:px-5 py-3 border-b border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Un,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:C,onChange:ne=>O(ne.target.value),placeholder:"Search by name, email, phone, company",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[t.jsx(Jl,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Data"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("select",{value:g,onChange:ne=>b(Number(ne.target.value)||25),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(ne=>t.jsxs("option",{value:ne,children:[ne," / page"]},ne))}),t.jsxs(Gn,{onClick:()=>Ae(!0),disabled:!z||h==="monday"&&!te,variant:"primary",size:"sm",children:[t.jsx(lg,{className:"mr-2 h-4 w-4"}),"Fetch"]}),t.jsxs(Gn,{onClick:()=>Ae(!1),disabled:!z||!w,size:"sm",children:[t.jsx(pa,{className:"mr-2 h-4 w-4"}),"Load more"]})]})]}),P?t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Jr,{children:"Name"}),t.jsx(Jr,{children:"Email"}),t.jsx(Jr,{children:"Phone"}),t.jsx(Jr,{children:"Company"}),t.jsx(Jr,{children:"ID"})]})}),t.jsx("tbody",{children:t.jsx(L0e,{rows:6,cols:5})})]})})}):U.length===0?t.jsxs("div",{className:"grid place-content-center py-14 px-4",children:[t.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-slate-100 mb-3",children:t.jsx(Jl,{className:"h-8 w-8 text-slate-400"})}),t.jsx("div",{className:"text-sm sm:text-base font-semibold text-slate-700",children:"No data"}),t.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Click ",t.jsx("b",{children:"Fetch"})," to load contacts."]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Jr,{children:"Name"}),t.jsx(Jr,{children:"Email"}),t.jsx(Jr,{children:"Phone"}),t.jsx(Jr,{children:"Company"}),t.jsx(Jr,{children:"ID"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:U.map(ne=>t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(Um,{children:t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx(sO,{name:ne.name}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:ne.name||""}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID ",ne.id]})]})]})}),t.jsx(Um,{children:t.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[t.jsx(Fn,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),t.jsx("span",{className:"text-xs font-medium break-words",children:ne.email||""})]})}),t.jsx(Um,{children:t.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[t.jsx(gt,{className:"h-3.5 w-3.5 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium",children:ne.phone||""})]})}),t.jsx(Um,{children:t.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[t.jsx(z3,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),t.jsx("span",{className:"text-xs font-medium truncate max-w-[240px]",children:ne.company||""})]})}),t.jsx(Um,{children:t.jsx("code",{className:"text-[11px] text-slate-500 break-all",children:ne.id})})]},`${ne.id}-${ne.email||ne.name||"row"}`))})]})})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:U.map((ne,Z)=>t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Z===0&&t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),t.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[t.jsx(sO,{name:ne.name,size:44}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:ne.name||""}),t.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-[12px] sm:text-sm text-slate-600 min-w-0",children:[t.jsx(Fn,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("span",{className:"truncate break-words",children:ne.email||""})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-slate-700",children:[t.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px]",children:[t.jsx(gt,{className:"h-3.5 w-3.5 text-slate-500"}),ne.phone||""]}),t.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] min-w-0",children:[t.jsx(z3,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),t.jsx("span",{className:"truncate max-w-[160px] sm:max-w-[200px]",children:ne.company||""})]})]})]})]}),t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID ",ne.id]})]},`${ne.id}-${ne.email||ne.name||"card"}`))})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-3 sm:px-5 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 min-w-0",children:["Next cursor:"," ",t.jsx("b",{className:"font-mono break-all",children:String(w||"")})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(Gn,{onClick:()=>Ae(!0),disabled:!z||h==="monday"&&!te,size:"sm",children:[t.jsx(kn,{className:"h-4 w-4 mr-1"}),"Reset"]}),t.jsxs(Gn,{onClick:()=>Ae(!1),disabled:!z||!w,variant:"primary",size:"sm",children:["Load more ",t.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})]}),Object.keys(k||{}).length>0&&t.jsx("div",{className:"hidden sm:block px-4 sm:px-6 py-4",children:t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Provider paging (raw)"}),t.jsx("div",{className:"max-w-full overflow-x-auto",children:t.jsx("pre",{className:"text-[11px] text-slate-600 min-w-0",children:JSON.stringify(k,null,2)})})]})})]})]}),t.jsx(kt,{children:B&&t.jsx(I0e,{title:"Select your Monday Board",onClose:()=>M(!1),children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"text-[12px] text-slate-600",children:["Pick a board to use as your ",t.jsx("b",{children:"Leads"})," source. Youll only see items you own (via People/Owner column) or created, based on backend config."]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Un,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:ie,onChange:ne=>_e(ne.target.value),placeholder:"Search boards by name",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",onKeyDown:ne=>{ne.key==="Enter"&&Ke(ie)}})]}),t.jsxs(Gn,{onClick:()=>Ke(ie),size:"sm",children:[t.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Search"]})]}),t.jsx("div",{className:"rounded-2xl border border-slate-200",children:t.jsx("div",{className:"max-h-[46vh] overflow-y-auto p-2",children:V?t.jsxs("div",{className:"flex items-center justify-center py-8 text-slate-500",children:[t.jsx(Ia,{className:"h-5 w-5 animate-spin mr-2"}),"Loading boards"]}):H.length===0?t.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No boards found."}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:H.map(ne=>{const Z=String(ce)===String(ne.id);return t.jsxs("button",{onClick:()=>{T(ne.id),W(ne.name||null)},className:$2("text-left rounded-xl border px-3 py-2 transition-colors",Z?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"),children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:ne.name||`Board ${ne.id}`}),Z&&t.jsx($0e,{className:"bg-blue-600 text-white",children:"Selected"})]}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID: ",t.jsx("code",{className:"font-mono",children:ne.id})]})]},ne.id)})})})}),t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[t.jsxs("div",{className:"text-[12px] text-slate-500",children:["Current:"," ",t.jsx("b",{children:I!=null&&I.board_name?I.board_name:I!=null&&I.board_id?`#${I.board_id}`:"None"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gn,{onClick:()=>M(!1),size:"sm",children:"Cancel"}),t.jsx(Gn,{onClick:ue,size:"sm",variant:"subtle",children:"Clear"}),t.jsx(Gn,{onClick:we,size:"sm",variant:"primary",children:"Save"})]})]})]})})})]})}function Jr({children:e}){return t.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Um({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}const yx="https://app.thedbt.ai",Fj={LIST:`${yx}/api/appointments`,CREATE:`${yx}/api/appointments/tool/schedule`,DETAIL:e=>`${yx}/api/appointments/${e}`,UPDATE:e=>`${yx}/api/appointments/${e}`},F0e="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Ar({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[s]} ${d[n]} ${a}`,children:e})}function rO({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function bd({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function vd({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Ul({label:e,children:a}){return t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a]})}function h9({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(Ar,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(Cn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}const zd=e=>{switch(String(e||"").toLowerCase()){case"scheduled":return{badge:"border-amber-200 bg-amber-50 text-amber-700",icon:mw};case"completed":return{badge:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:ta};case"cancelled":case"canceled":return{badge:"border-red-200 bg-red-50 text-red-700",icon:zn};default:return{badge:"border-slate-200 bg-slate-50 text-slate-700",icon:mw}}};function I2(e){try{const a=new Date(e);return Number.isNaN(a.getTime())?e:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(a)}catch{return e}}function V0e(e){const a=String(e||"").trim().toLowerCase();if(!a)return"";if(a==="noon")return"12:00";if(a==="midnight")return"00:00";const n=a.match(/(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)/i);if(n){let r=parseInt(n[1]);const l=parseInt(n[2]||"0"),c=(n[3]||"").toLowerCase();return c==="pm"&&r<12&&(r+=12),c==="am"&&r===12&&(r=0),`${String(r).padStart(2,"0")}:${String(l).padStart(2,"0")}`}const s=a.match(/^(\d{1,2})(?::(\d{1,2}))?$/);if(s){let r=parseInt(s[1]);const l=parseInt(s[2]||"0");if(r<=24&&l<=59)return`${String(r).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return a}function H0e(e){const a=String(e||"").trim();if(!a)return"";const n=a.startsWith("+")?"+":"",s=a.replace(/\D+/g,"");return n+s}function q0e(){const[e,a]=p.useState([]),[n,s]=p.useState(!1),[r,l]=p.useState(""),[c,d]=p.useState(""),[m,h]=p.useState("all"),[f,g]=p.useState(""),[b,y]=p.useState(""),[j,w]=p.useState(1),N=10,[k,_]=p.useState(!1),[C,O]=p.useState(!1),[P,E]=p.useState({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),[B,M]=p.useState(null),V=typeof window<"u"?localStorage.getItem("token"):null,G=p.useCallback(async()=>{try{s(!0),l("");const I=await fetch(Fj.LIST,{headers:{Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},mode:"cors"});if(!I.ok)throw new Error(`HTTP ${I.status}`);const A=await I.json(),z=(Array.isArray(A)?A:(A==null?void 0:A.appointments)||[]).map(X=>({id:X.id,title:X.title,notes:X.notes,location:X.location,phone:X.phone,timezone:X.timezone,start_at:X.start_at,end_at:X.end_at,duration_minutes:X.duration_minutes,status:X.status,created_at:X.created_at,updated_at:X.updated_at}));z.sort((X,ge)=>new Date(ge.start_at)-new Date(X.start_at)),a(z)}catch(I){l((I==null?void 0:I.message)||"Failed to load appointments"),R.error((I==null?void 0:I.message)||"Failed to load appointments")}finally{s(!1)}},[V]);p.useEffect(()=>{G()},[G]);const H=p.useMemo(()=>{let I=[...e];if(c.trim()){const A=c.trim().toLowerCase();I=I.filter($=>[$.title,$.location,$.phone,$.notes].map(z=>String(z||"").toLowerCase()).some(z=>z.includes(A)))}if(m!=="all"&&(I=I.filter(A=>String(A.status).toLowerCase()===m)),f){const A=new Date(`${f}T00:00:00`);I=I.filter($=>new Date($.start_at)>=A)}if(b){const A=new Date(`${b}T23:59:59`);I=I.filter($=>new Date($.start_at)<=A)}return I},[e,c,m,f,b]),F=Math.max(1,Math.ceil(H.length/N)),ie=j*N,_e=ie-N,ce=H.slice(_e,ie);p.useEffect(()=>w(1),[c,m,f,b]);const T=p.useMemo(()=>{const I=e.length,A=e.filter(X=>X.status==="scheduled").length,$=e.filter(X=>X.status==="completed").length,z=e.filter(X=>String(X.status).toLowerCase().startsWith("cancel")).length;return{total:I,scheduled:A,completed:$,cancelled:z}},[e]);async function K(I,A){try{M(I);const $=await fetch(Fj.UPDATE(I),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},body:JSON.stringify({status:A})});if(!$.ok){const z=await $.text();throw new Error(`HTTP ${$.status}${z?`  ${z}`:""}`)}R.success(`Status set to ${A}`),a(z=>z.map(X=>X.id===I?{...X,status:A}:X))}catch($){R.error(($==null?void 0:$.message)||"Failed to update status")}finally{M(null)}}async function W(){const I={title:String(P.title||"").trim(),date:String(P.date||"").trim(),time:V0e(P.time),timezone:String(P.timezone||"Asia/Karachi").trim(),durationMinutes:Math.max(1,parseInt(P.durationMinutes||30)),phone:H0e(P.phone),location:String(P.location||"").trim(),notes:String(P.notes||"").trim()};if(!I.title)return R.error("Title is required");if(!I.date)return R.error("Date is required");if(!I.time||!/^\d{2}:\d{2}$/.test(I.time))return R.error("Time looks invalid");if(!I.location)return R.error("Location is required");if(!I.phone||I.phone.replace(/\D/g,"").length<11)return R.error("Phone looks invalid");try{O(!0);const A=await fetch(Fj.CREATE,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},body:JSON.stringify(I)});if(!A.ok){const z=await A.text();throw new Error(`HTTP ${A.status}${z?`  ${z}`:""}`)}const $=await A.json();R.success(" Appointment created"),_(!1),E({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),a(z=>[{id:$.id||crypto.randomUUID(),title:$.title||I.title,notes:$.notes||I.notes,location:$.location||I.location,phone:$.phone||I.phone,timezone:$.timezone||I.timezone,start_at:$.start_at||`${I.date}T${I.time}`,end_at:$.end_at||`${I.date}T${I.time}`,duration_minutes:$.duration_minutes||I.durationMinutes,status:$.status||"scheduled",created_at:$.created_at||new Date().toISOString(),updated_at:$.updated_at||new Date().toISOString()},...z])}catch(A){R.error((A==null?void 0:A.message)||"Failed to create appointment")}finally{O(!1)}}return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(ls,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${F0e}`,children:"Appointments"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create, track, and update appointment statuses."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(Ar,{onClick:()=>_(!0),variant:"primary",children:[t.jsx(Zn,{className:"mr-2 h-4 w-4"})," New Appointment"]}),t.jsx(Ar,{onClick:G,children:n?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(jx,{label:"Total",value:T.total,Icon:ls,tone:"blue"}),t.jsx(jx,{label:"Scheduled",value:T.scheduled,Icon:mw,tone:"cyan"}),t.jsx(jx,{label:"Completed",value:T.completed,Icon:ta,tone:"blue"}),t.jsx(jx,{label:"Cancelled",value:T.cancelled,Icon:zn,tone:"cyan"})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Un,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:c,onChange:I=>d(I.target.value),placeholder:"Search title, phone, location, notes",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[t.jsx(Zi,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("select",{value:m,onChange:I=>h(I.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"All statuses"}),t.jsx("option",{value:"scheduled",children:"Scheduled"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]}),t.jsx("input",{type:"date",value:f,onChange:I=>g(I.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),t.jsx("input",{type:"date",value:b,onChange:I=>y(I.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),(c||m!=="all"||f||b)&&t.jsx(Ar,{onClick:()=>{d(""),h("all"),g(""),y("")},className:"text-slate-700",children:"Clear"})]})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(ls,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Appointments (",H.length,")"]})]}),n&&t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin"}),"Loading"]})]}),r?t.jsx("div",{className:"p-6 text-sm text-red-600",children:r}):H.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(ls,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No appointments"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try changing filters or create a new one"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(bd,{children:"Title"}),t.jsx(bd,{children:"When"}),t.jsx(bd,{children:"Location"}),t.jsx(bd,{children:"Phone"}),t.jsx(bd,{children:"Status"}),t.jsx(bd,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:ce.map(I=>{const A=zd(I.status),$=A.icon;return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(vd,{children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:I.title}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",I.id]})]})}),t.jsx(vd,{children:t.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[t.jsx(Xi,{className:"h-4 w-4 text-slate-500"})," ",I2(I.start_at)]})}),t.jsx(vd,{children:t.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[t.jsx(ui,{className:"h-4 w-4 text-slate-500"})," ",I.location||""]})}),t.jsx(vd,{children:t.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[t.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",I.phone]})}),t.jsx(vd,{children:t.jsxs(rO,{className:`border ${A.badge}`,children:[t.jsx($,{className:"mr-1 h-3.5 w-3.5"})," ",String(I.status).charAt(0).toUpperCase()+String(I.status).slice(1)]})}),t.jsx(vd,{children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(iO,{current:I.status,onChange:z=>K(I.id,z),busy:B===I.id}),t.jsx(lO,{a:I})]})})]},I.id)})})]})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ce.map(I=>{const A=zd(I.status),$=A.icon;return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:I.title}),t.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[t.jsx(Xi,{className:"h-4 w-4 text-slate-500"})," ",I2(I.start_at)]}),t.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[t.jsx(ui,{className:"h-4 w-4 text-slate-500"})," ",I.location||""]}),t.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[t.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",I.phone]})]}),t.jsxs(rO,{className:`border ${A.badge} shrink-0`,children:[t.jsx($,{className:"mr-1 h-3.5 w-3.5"})," ",String(I.status).charAt(0).toUpperCase()+String(I.status).slice(1)]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsx(iO,{current:I.status,onChange:z=>K(I.id,z),busy:B===I.id}),t.jsx(lO,{a:I})]}),t.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 break-all",children:["ID #",I.id]})]},I.id)})})}),H.length>N&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("b",{children:_e+1}),"",t.jsx("b",{children:Math.min(ie,H.length)})," of ",t.jsx("b",{children:H.length})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(Ar,{onClick:()=>w(I=>Math.max(1,I-1)),disabled:j===1,children:[t.jsx(kn,{className:"h-4 w-4 mr-1"})," Prev"]}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,F)},(I,A)=>{let $;if(F<=5||j<=3?$=A+1:j>=F-2?$=F-4+A:$=j-2+A,$<1||$>F)return null;const z=j===$;return t.jsx("button",{onClick:()=>w($),className:`px-3 py-2 text-sm font-semibold rounded-xl ${z?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:$},$)})}),t.jsxs(Ar,{onClick:()=>w(I=>Math.min(F,I+1)),disabled:j>=F,children:["Next ",t.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(kt,{children:k&&t.jsxs(h9,{onClose:()=>_(!1),title:"New Appointment",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(Ul,{label:"Title",children:t.jsx("input",{value:P.title,onChange:I=>E(A=>({...A,title:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Consultation"})}),t.jsx(Ul,{label:"Phone",children:t.jsx("input",{value:P.phone,onChange:I=>E(A=>({...A,phone:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+923001234567"})}),t.jsx(Ul,{label:"Date",children:t.jsx("input",{type:"date",value:P.date,onChange:I=>E(A=>({...A,date:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ul,{label:"Time",children:t.jsx("input",{value:P.time,onChange:I=>E(A=>({...A,time:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"15:30 or 3:30 PM"})}),t.jsx(Ul,{label:"Location",children:t.jsx("input",{value:P.location,onChange:I=>E(A=>({...A,location:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Clinic, Main St."})}),t.jsx(Ul,{label:"Timezone",children:t.jsx("input",{value:P.timezone,onChange:I=>E(A=>({...A,timezone:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Asia/Karachi"})}),t.jsx(Ul,{label:"Duration (minutes)",children:t.jsx("input",{type:"number",min:1,max:1440,value:P.durationMinutes,onChange:I=>E(A=>({...A,durationMinutes:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ul,{label:"Notes",children:t.jsx("textarea",{value:P.notes,onChange:I=>E(A=>({...A,notes:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Any extra details",rows:3})})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[t.jsx(Ar,{onClick:()=>_(!1),variant:"subtle",children:"Cancel"}),t.jsx(Ar,{onClick:W,disabled:C,variant:"primary",children:C?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," Creating"]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})]})}function jx({label:e,value:a,Icon:n,tone:s="blue"}){const r=s==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=s==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(n,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function iO({current:e,onChange:a,busy:n}){const[s,r]=p.useState(!1),l=[{k:"scheduled",label:"Mark Scheduled",tone:zd("scheduled")},{k:"completed",label:"Mark Completed",tone:zd("completed")},{k:"cancelled",label:"Mark Cancelled",tone:zd("cancelled")}],d=zd(e).icon;return t.jsxs("div",{className:"relative",children:[t.jsxs(Ar,{onClick:()=>r(m=>!m),size:"sm",className:"min-w-[150px] justify-between",children:[t.jsxs("span",{className:"flex items-center gap-2 text-slate-800",children:[t.jsx(d,{className:"h-4 w-4"})," ",String(e).charAt(0).toUpperCase()+String(e).slice(1)]}),n?t.jsx(Ge,{className:"h-4 w-4 animate-spin"}):t.jsx(pa,{className:"h-4 w-4 opacity-60"})]}),t.jsx(kt,{children:s&&t.jsx(pe.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"absolute z-20 mt-2 w-56 rounded-xl border border-slate-200 bg-white shadow-xl",children:l.map(m=>t.jsxs("button",{onClick:()=>{r(!1),m.k!==e&&a(m.k)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-slate-50",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(m.tone.icon,{className:"h-4 w-4"})," ",m.label]}),String(e)===m.k&&t.jsx(ta,{className:"h-4 w-4 text-emerald-500"})]},m.k))})})]})}function lO({a:e}){const[a,n]=p.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsxs(Ar,{onClick:()=>n(!0),size:"sm",children:[t.jsx(Ta,{className:"h-4 w-4 mr-1"})," Details"]}),t.jsx(kt,{children:a&&t.jsxs(h9,{title:"Appointment Details",onClose:()=>n(!1),children:[t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ls,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"Title:"})," ",e.title]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xi,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"When:"})," ",I2(e.start_at)]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ui,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"Location:"})," ",e.location||""]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.phone]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xi,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"Duration:"})," ",e.duration_minutes," min"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ZH,{className:"h-4 w-4 text-slate-500"})," ",t.jsx("span",{className:"font-semibold",children:"Notes:"})," ",e.notes||""]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",e.id]})]}),t.jsx("div",{className:"mt-5 text-right",children:t.jsx(Ar,{onClick:()=>n(!1),variant:"primary",children:"Close"})})]})})]})}const Pi="https://app.thedbt.ai",Oi={FORM_COPY_TOKEN:`${Pi}/api/form/copy-token`,FORM_COPY_WEBHOOK:`${Pi}/api/form/copy-webhook-url`,FORM_COPY_SCRIPT:`${Pi}/api/form/copy-script`,FORM_COPY_WP:`${Pi}/api/form/copy-wordpress-plugin`,INTAKE_SCAN:`${Pi}/api/intake/scan`,INTAKE_SUBMISSIONS:`${Pi}/api/intake/submissions`,INTAKE_SUBMISSION_DETAIL:e=>`${Pi}/api/intake/submissions/${encodeURIComponent(e)}`,INTAKE_PROGRESS:`${Pi}/api/intake/progress`,INTAKE_ANALYTICS:`${Pi}/api/intake/analytics`},K0e="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4";async function Mi(e){const a=e.headers.get("content-type")||"",n=await e.text();if(!e.ok){const s=(n==null?void 0:n.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${s}`)}if(!n)return{};if(/application\/json/i.test(a))try{return JSON.parse(n)}catch(s){throw new Error(`Invalid JSON: ${(s==null?void 0:s.message)||""}`)}try{return JSON.parse(n)}catch{throw new Error(`Expected JSON but got '${a||"unknown"}'. Body: ${n.slice(0,300)}`)}}function Fl(e,a="Copied!"){try{navigator.clipboard.writeText(String(e??"")),R.success(a)}catch{R.error("Copy failed")}}function vn({children:e,className:a="",variant:n="outline",size:s="md",type:r="button",onClick:l,disabled:c=!1,title:d}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",h={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},f={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${h[s]||h.md} ${f[n]||f.outline} ${a}`;return t.jsx("button",{type:r,className:g,onClick:l,disabled:c,title:d,children:e})}function yd({label:e,hint:a,children:n}){return t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),n,a?t.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:a}):null]})}function ni({children:e,className:a=""}){return t.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${a}`,children:e})}function Io({code:e="",lang:a="text",filename:n="",className:s="",maxHeight:r="max-h-[420px]"}){const l=p.useMemo(()=>e.split(`
`),[e]);return t.jsxs("div",{className:["w-full","bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950","border border-slate-200 dark:border-slate-800","rounded-xl",s].join(" "),children:[t.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 dark:bg-slate-900/70 rounded-t-xl",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),t.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 font-mono truncate",children:n||(a?`snippet.${a}`:"snippet.txt")})]}),t.jsxs("div",{className:["relative border-t border-slate-200 dark:border-slate-800","font-mono text-[11px] sm:text-xs md:text-sm","overflow-auto code-scroll","leading-relaxed","px-3 py-2",r].join(" "),style:{scrollbarWidth:"thin"},children:[t.jsx("div",{className:"md:absolute md:inset-y-0 md:left-0 md:w-8 md:border-r md:border-slate-200 md:dark:border-slate-800 md:flex md:flex-col md:items-end md:pt-2 md:px-1 hidden select-none",children:l.map((c,d)=>t.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 leading-relaxed",children:d+1},d))}),t.jsx("pre",{className:"m-0 p-0 md:pl-10 whitespace-pre min-w-full",children:t.jsx("code",{className:"text-slate-800 dark:text-slate-100",children:e})})]}),t.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 dark:border-slate-800 text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 flex justify-between rounded-b-xl",children:[t.jsx("span",{children:"UTF-8"}),t.jsx("span",{className:"capitalize",children:a||"text"}),t.jsxs("span",{children:["Ln ",l.length]})]})]})}function G0e({url:e}){return t.jsxs(ni,{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Tutorial"}),t.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open video in a new tab",children:[t.jsx(Th,{className:"h-3.5 w-3.5"}),"Open in new tab"]})]}),t.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 overflow-hidden bg-slate-100",children:t.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:t.jsx("video",{controls:!0,playsInline:!0,preload:"metadata",className:"absolute inset-0 h-full w-full object-cover",src:e})})}),t.jsx("p",{className:"mt-2 text-[11px] text-slate-500",children:"Watch inline or open in a new tab. The player scales to the available space and never overflows its card."})]})}function Y0e({value:e=0,label:a="",className:n=""}){const s=Math.max(0,Math.min(100,Number(e)||0));return t.jsxs("div",{className:`w-full ${n}`,children:[t.jsxs("div",{className:"flex items-center justify-between text-[11px] mb-1",children:[t.jsx("span",{className:"text-slate-600",children:a}),t.jsxs("span",{className:"font-semibold text-slate-700",children:[s.toFixed(0),"%"]})]}),t.jsx("div",{className:"h-2.5 w-full rounded-full bg-slate-200 overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-blue-600 rounded-full transition-all",style:{width:`${s}%`}})})]})}function wx({label:e,value:a,tone:n="slate"}){const s={slate:"bg-slate-100 text-slate-800 border-slate-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-800 border-amber-200"};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg border text-xs ${s[n]}`,children:[t.jsx("span",{className:"font-semibold",children:a??0}),t.jsx("span",{className:"opacity-80",children:e})]})}function W0e({dataObj:e}){const a=Object.keys(e||{}).sort(),n=a.map(r=>{var l;return((l=e[r])==null?void 0:l.total)||0}),s=Math.max(1,...n);return t.jsx("div",{className:"w-full overflow-x-auto",children:t.jsx("div",{className:"flex items-end gap-1 h-28",children:a.map(r=>{var d;const l=((d=e[r])==null?void 0:d.total)||0,c=l/s*100;return t.jsxs("div",{className:"flex flex-col items-center w-6",children:[t.jsx("div",{className:"w-4 rounded-t-md bg-blue-500/80",style:{height:`${c}%`},title:`${r}: ${l}`}),t.jsx("div",{className:"text-[9px] text-slate-500 mt-1 truncate w-full text-center",children:r.slice(5)})]},r)})})})}const oO=e=>e?e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase():"",X0e=e=>{switch(e){case"booked":return"bg-emerald-50 text-emerald-800 border-emerald-200";case"cancelled":return"bg-red-50 text-red-800 border-red-200";default:return"bg-amber-50 text-amber-800 border-amber-200"}};function Z0e(){const[e,a]=p.useState(!1),[n,s]=p.useState(""),[r,l]=p.useState(""),[c,d]=p.useState(""),[m,h]=p.useState(""),[f,g]=p.useState(!0),[b,y]=p.useState("John"),[j,w]=p.useState("Doe"),[N,k]=p.useState("john@example.com"),[_,C]=p.useState("+15551234567"),[O,P]=p.useState(()=>new Date().toISOString().slice(0,10)),[E,B]=p.useState("14:30"),[M,V]=p.useState(!1),[G,H]=p.useState(null),[F,ie]=p.useState(!1),[_e,ce]=p.useState(null),[T,K]=p.useState({total:0,booked:0,cancelled:0,unbooked:0,completion_rate:0}),[W,I]=p.useState(!1),[A,$]=p.useState({}),[z,X]=p.useState(!1),[ge,te]=p.useState(!1),[J,Ce]=p.useState([]),[se,Se]=p.useState(0),[De,Me]=p.useState(""),[ye,Ye]=p.useState(0),Ke=10,[we,ue]=p.useState(null),[Ae,U]=p.useState(!1),de=p.useMemo(()=>n?f?n.length<=12?"":`${n.slice(0,6)}${n.slice(-4)}`:n:"",[n,f]),ke=p.useCallback(()=>{const ze=localStorage.getItem("token");if(!ze)throw R.error("No authentication token found."),new Error("Missing auth token");return{Authorization:`Bearer ${ze}`,Accept:"application/json"}},[]),Le=p.useCallback(async()=>{a(!0);try{{const ze=await fetch(Oi.FORM_COPY_TOKEN,{headers:ke(),mode:"cors"}),Ze=await Mi(ze);if(!(Ze!=null&&Ze.success))throw new Error((Ze==null?void 0:Ze.detail)||"Failed to fetch token");s(Ze.token||"")}{const ze=await fetch(Oi.FORM_COPY_WEBHOOK,{headers:ke(),mode:"cors"}),Ze=await Mi(ze);if(!(Ze!=null&&Ze.success))throw new Error((Ze==null?void 0:Ze.detail)||"Failed to fetch webhook URL");l(Ze.webhook_url||"")}{const ze=await fetch(Oi.FORM_COPY_SCRIPT,{headers:ke(),mode:"cors"}),Ze=await Mi(ze);if(!(Ze!=null&&Ze.success))throw new Error((Ze==null?void 0:Ze.detail)||"Failed to fetch script");d(Ze.script||"")}{const ze=await fetch(Oi.FORM_COPY_WP,{headers:ke(),mode:"cors"}),Ze=await Mi(ze);if(!(Ze!=null&&Ze.success))throw new Error((Ze==null?void 0:Ze.detail)||"Failed to fetch plugin");h(Ze.wordpress_plugin||"")}}catch(ze){R.error((ze==null?void 0:ze.message)||"Failed to load")}finally{a(!1)}},[ke]),Ve=p.useCallback(async()=>{I(!0);try{const ze=await fetch(Oi.INTAKE_PROGRESS,{headers:ke(),mode:"cors"}),Ze=await Mi(ze);Ze!=null&&Ze.ok&&K(Ze.progress||{})}catch(ze){R.error((ze==null?void 0:ze.message)||"Failed to load progress")}finally{I(!1)}},[ke]),Xe=p.useCallback(async()=>{X(!0);try{const ze=await fetch(Oi.INTAKE_ANALYTICS,{headers:ke(),mode:"cors"}),Ze=await Mi(ze);Ze!=null&&Ze.ok&&$(Ze.analytics||{})}catch(ze){R.error((ze==null?void 0:ze.message)||"Failed to load analytics")}finally{X(!1)}},[ke]),$e=p.useCallback(async()=>{te(!0);try{const ze=new URL(Oi.INTAKE_SUBMISSIONS);De&&ze.searchParams.set("status",De),ze.searchParams.set("limit",String(Ke)),ze.searchParams.set("offset",String(ye*Ke));const Ze=await fetch(ze.toString(),{headers:ke(),mode:"cors"}),pt=await Mi(Ze);pt!=null&&pt.ok&&(Ce(pt.items||[]),Se(pt.total||0))}catch(ze){R.error((ze==null?void 0:ze.message)||"Failed to load submissions")}finally{te(!1)}},[ke,De,ye]),ne=p.useCallback(async ze=>{U(!0);try{const Ze=await fetch(Oi.INTAKE_SUBMISSION_DETAIL(ze),{headers:ke(),mode:"cors"}),pt=await Mi(Ze);pt!=null&&pt.ok&&ue(pt.submission||null)}catch(Ze){R.error((Ze==null?void 0:Ze.message)||"Failed to load detail")}finally{U(!1)}},[ke]);p.useEffect(()=>{Le().catch(()=>{})},[Le]),p.useEffect(()=>{Ve().catch(()=>{}),Xe().catch(()=>{})},[Ve,Xe]),p.useEffect(()=>{$e().catch(()=>{})},[$e]);const Z=p.useMemo(()=>({form:{first_name:b,last_name:j,email:N,phone:_,date:O,time:E},meta:{source:"FormConnection-Test",sent_at:new Date().toISOString()}}),[b,j,N,_,O,E]),ve=async()=>{if(!r)return R.error("Webhook URL not loaded yet.");V(!0),H(null);try{const ze=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),Ze=await ze.text();let pt;try{pt=JSON.parse(Ze)}catch{pt={raw:Ze}}H(pt),ze.ok?R.success(" Test submitted to webhook"):R.error(`Webhook responded with HTTP ${ze.status}`)}catch(ze){R.error((ze==null?void 0:ze.message)||"Test submit failed")}finally{V(!1)}},fe=async()=>{ie(!0),ce(null);try{const ze=await fetch(Oi.INTAKE_SCAN,{method:"POST",headers:{...ke(),"Content-Type":"application/json"}}),Ze=await Mi(ze);ce(Ze),R.success(" Intake scan kicked off");let pt=0;const Pa=setInterval(async()=>{pt+=1,await Ve(),pt>=6&&clearInterval(Pa)},2e3);$e().catch(()=>{})}catch(ze){R.error((ze==null?void 0:ze.message)||"Scan failed")}finally{ie(!1)}},Ue=p.useMemo(()=>`curl -X POST \\
  -H "Content-Type: application/json" \\
  -d "${JSON.stringify(Z,null,2).replace(/"/g,'\\"')}" \\
  "${r||"https://your-api.example.com/api/form/webhook?token=YOUR_TOKEN"}"`,[Z,r]),rt=p.useMemo(()=>{const ze={form_response:{answers:[{type:"text",text:`${b}`},{type:"text",text:`${j}`},{type:"email",email:`${N}`},{type:"phone_number",phone_number:`${_}`},{type:"date",date:`${O}`}]}};return JSON.stringify(ze,null,2)},[b,j,N,_,O]),dt="<?php // not loaded ?>",tt=Math.ceil(se/Ke),$t=ye>0,Tt=ye+1<tt;return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[t.jsxs(ni,{className:"relative overflow-hidden p-4 sm:p-5",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(Qi,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Custom Form Connection"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Connect forms to your unified webhook. Well parse, normalize and store as Appointments."})]})]}),t.jsx(vn,{onClick:Le,disabled:e,children:e?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," Refresh"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 mr-2"})," Refresh"]})})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-3",children:[t.jsxs(ni,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Q0e,{}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Your Webhook Token"}),t.jsx("div",{className:"text-xs text-slate-500",children:"Tenant-scoped auth for /api/form/webhook"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 self-start",children:[t.jsxs(vn,{size:"sm",variant:"subtle",className:"border-amber-200 text-amber-700 hover:bg-amber-50",onClick:()=>g(ze=>!ze),children:[f?t.jsx(Ta,{className:"h-4 w-4 mr-1"}):t.jsx(Xd,{className:"h-4 w-4 mr-1"}),f?"Show":"Hide"]}),t.jsxs(vn,{size:"sm",onClick:()=>Fl(n,"Token copied!"),disabled:!n,children:[t.jsx(La,{className:"h-4 w-4 mr-1"})," Copy"]})]})]}),t.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:de||""}),t.jsx("div",{className:"mt-3 text-[11px] text-slate-500",children:"Keep this secret. Anyone with the URL containing your token can submit data to your account."})]}),t.jsxs(ni,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dr,{className:"h-5 w-5 text-blue-600 shrink-0"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Webhook URL"}),t.jsx("div",{className:"text-xs text-slate-500",children:"Drop into any platform that can POST"})]})]}),t.jsxs(vn,{size:"sm",onClick:()=>Fl(r,"Webhook URL copied!"),disabled:!r,children:[t.jsx(La,{className:"h-4 w-4 mr-1"})," Copy"]})]}),t.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:r||""}),t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Accepts ",t.jsx("b",{children:"JSON"}),", ",t.jsx("b",{children:"x-www-form-urlencoded"})," and"," ",t.jsx("b",{children:"multipart/form-data"}),". Files are ignored."]})]}),t.jsxs(ni,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(og,{className:"h-5 w-5 text-cyan-600 shrink-0"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Start"})]}),t.jsxs("p",{className:"mt-3 text-sm text-slate-700",children:["Paste this snippet before ",t.jsx("code",{className:"font-mono",children:"</body>"}),"."]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsxs(vn,{size:"sm",onClick:()=>Fl(c,"Script copied!"),disabled:!c,children:[t.jsx(tV,{className:"h-4 w-4 mr-1"})," Copy Script"]}),t.jsxs(vn,{size:"sm",onClick:()=>Fl(m,"Plugin code copied!"),disabled:!m,children:[t.jsx(pH,{className:"h-4 w-4 mr-1"})," WP Plugin"]})]})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 xl:grid-cols-2",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsxs(ni,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vq,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send a Test Submission"})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(yd,{label:"First name",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Fn,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("input",{value:b,onChange:ze=>y(ze.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"John"})]})}),t.jsx(yd,{label:"Last name",children:t.jsx("input",{value:j,onChange:ze=>w(ze.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Doe"})}),t.jsx(yd,{label:"Email",children:t.jsx("input",{type:"email",value:N,onChange:ze=>k(ze.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),t.jsx(yd,{label:"Phone",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gt,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("input",{value:_,onChange:ze=>C(ze.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+15551234567"})]})}),t.jsx(yd,{label:"Date",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ls,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("input",{type:"date",value:O,onChange:ze=>P(ze.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),t.jsx(yd,{label:"Time",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xi,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("input",{type:"time",value:E,onChange:ze=>B(ze.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[t.jsx(vn,{onClick:ve,variant:"primary",disabled:M||!r,children:M?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," ","Sending"]}):t.jsxs(t.Fragment,{children:[t.jsx(Kx,{className:"h-4 w-4 mr-2"})," Send Test"]})}),G?t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-emerald-700",children:[t.jsx(ta,{className:"h-4 w-4"}),"Response captured"]}):null]}),G?t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last response"}),t.jsx(Io,{code:JSON.stringify(G,null,2),lang:"json",filename:"response.json",maxHeight:"max-h-[360px]"})]}):null,t.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800 flex gap-2",children:[t.jsx(af,{className:"h-4 w-4 shrink-0 mt-[1px]"}),t.jsx("div",{className:"leading-relaxed",children:"Tests are processed by your AI structurer in the background (via the background task and/or periodic scanner) and will create/merge an Appointment automatically once parsed."})]})]}),t.jsx(G0e,{url:K0e})]}),t.jsxs(ni,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(YH,{className:"h-5 w-5 text-cyan-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Examples"})]}),t.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"cURL"}),t.jsxs(vn,{size:"sm",onClick:()=>Fl(Ue,"cURL copied!"),children:[t.jsx(La,{className:"h-4 w-4 mr-1"})," Copy"]})]}),t.jsx("div",{className:"mt-2",children:t.jsx(Io,{code:Ue,lang:"bash",filename:"embed.sh",maxHeight:"max-h-[280px]"})}),t.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Typeform Payload"}),t.jsxs(vn,{size:"sm",onClick:()=>Fl(rt,"JSON copied!"),children:[t.jsx(La,{className:"h-4 w-4 mr-1"})," Copy"]})]}),t.jsx("div",{className:"mt-2",children:t.jsx(Io,{code:rt,lang:"json",filename:"typeform.json",maxHeight:"max-h-[320px]"})})]})]}),t.jsx("div",{className:"mt-5 grid grid-cols-1 gap-4",children:t.jsxs(ni,{children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(jq,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Intake Tools"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vn,{variant:"primary",size:"sm",onClick:fe,disabled:F,title:"POST /api/intake/scan",children:F?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-1"}),"Scanning"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ah,{className:"h-4 w-4 mr-1"}),"Scan Now"]})}),t.jsxs(vn,{size:"sm",onClick:()=>{Ve(),$e(),Xe()},title:"Refresh intake data",children:[t.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(sp,{className:"h-5 w-5 text-emerald-600"}),t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Processing Progress"})]}),t.jsx("div",{className:"mt-3",children:t.jsx(Y0e,{value:(T==null?void 0:T.completion_rate)||0,label:"Completion rate"})}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsx(wx,{label:"Total",value:T==null?void 0:T.total}),t.jsx(wx,{label:"Booked",value:T==null?void 0:T.booked,tone:"emerald"}),t.jsx(wx,{label:"Unbooked",value:T==null?void 0:T.unbooked,tone:"amber"}),t.jsx(wx,{label:"Cancelled",value:T==null?void 0:T.cancelled,tone:"red"})]}),W?t.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 flex items-center gap-1",children:[t.jsx(Ge,{className:"h-3.5 w-3.5 animate-spin"}),"Updating"]}):null]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(sp,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Daily Submissions"})]}),z?t.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[t.jsx(Ge,{className:"h-3.5 w-3.5 animate-spin"}),"Loading"]}):t.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[t.jsx(ig,{className:"h-3.5 w-3.5"}),"Totals per day"]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(W0e,{dataObj:A})})]})]}),t.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Submissions"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:De,onChange:ze=>{Ye(0),Me(ze.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"All statuses"}),t.jsx("option",{value:"booked",children:"Booked"}),t.jsx("option",{value:"unbooked",children:"Unbooked"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:[se," total"]})]})]}),t.jsx("div",{className:"mt-3 overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[t.jsx("th",{className:"py-2 pr-3",children:"ID"}),t.jsx("th",{className:"py-2 pr-3",children:"Created"}),t.jsx("th",{className:"py-2 pr-3",children:"Name"}),t.jsx("th",{className:"py-2 pr-3",children:"Email"}),t.jsx("th",{className:"py-2 pr-3",children:"Status"}),t.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),t.jsx("tbody",{children:ge?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"Loading"})}):J.length===0?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"No submissions yet."})}):J.map(ze=>t.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[t.jsx("td",{className:"py-2 pr-3 font-mono text-xs",children:ze.id}),t.jsx("td",{className:"py-2 pr-3",children:ze.created_at?new Date(ze.created_at).toLocaleString():""}),t.jsx("td",{className:"py-2 pr-3",children:(ze.first_name||"-")+" "+(ze.last_name||"")}),t.jsx("td",{className:"py-2 pr-3",children:ze.email||"-"}),t.jsx("td",{className:"py-2 pr-3",children:t.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs border ${X0e(ze.status)}`,children:oO(ze.status||"")||""})}),t.jsx("td",{className:"py-2 pr-3",children:t.jsx(vn,{size:"sm",onClick:()=>ne(ze.id),children:"View"})})]},ze.id))})]})}),t.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"text-slate-500",children:["Page ",tt?ye+1:0," of ",tt]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(vn,{size:"sm",onClick:()=>Ye(ze=>Math.max(0,ze-1)),disabled:!$t,title:"Previous page",children:[t.jsx(kn,{className:"h-4 w-4 mr-1"}),"Prev"]}),t.jsxs(vn,{size:"sm",onClick:()=>Ye(ze=>Tt?ze+1:ze),disabled:!Tt,title:"Next page",children:["Next",t.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})]}),we?t.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3 bg-slate-50",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:["Submission #",we.id]}),t.jsx(vn,{size:"sm",onClick:()=>ue(null),children:"Close"})]}),Ae?t.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Loading"}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Name"}),t.jsx("div",{className:"font-medium",children:(we.first_name||"-")+" "+(we.last_name||"")})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Email"}),t.jsx("div",{className:"font-medium",children:we.email||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Phone"}),t.jsx("div",{className:"font-medium",children:we.phone||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Status"}),t.jsx("div",{className:"font-medium",children:oO(we.status)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Created At"}),t.jsx("div",{className:"font-medium",children:we.created_at?new Date(we.created_at).toLocaleString():""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Meta / Source"}),t.jsx("div",{className:"font-medium",children:(we==null?void 0:we.source)||""})]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(Io,{code:JSON.stringify(we,null,2),lang:"json",filename:"submission.json",maxHeight:"max-h-[300px]"})})]})]}):null]}),_e?t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last scan response"}),t.jsx(Io,{code:JSON.stringify(_e,null,2),lang:"json",filename:"scan.json",maxHeight:"max-h-[280px]"})]}):null]})}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[t.jsxs(ni,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(jM,{className:"h-5 w-5 text-blue-600 shrink-0"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Embed Script"})]}),t.jsxs(vn,{size:"sm",onClick:()=>Fl(c,"Script copied!"),disabled:!c,children:[t.jsx(La,{className:"h-4 w-4 mr-1"})," Copy"]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(Io,{code:c||"<script>/* not loaded */<\/script>",lang:"html",filename:"embed.html",maxHeight:"max-h-[420px]"})})]}),t.jsxs(ni,{children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(li,{className:"h-5 w-5 text-cyan-600 shrink-0"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"WordPress Plugin"})]}),t.jsxs(vn,{size:"sm",onClick:()=>Fl(m,"Plugin code copied!"),disabled:!m,children:[t.jsx(La,{className:"h-4 w-4 mr-1"})," Copy"]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(Io,{code:m||dt,lang:"php",filename:"plugin.php",maxHeight:"max-h-[420px]"})})]})]})]})]})}function Q0e(){return t.jsx("span",{className:"inline-grid h-9 w-9 place-content-center rounded-xl bg-blue-600 text-white","aria-hidden":"true",children:""})}const J0e={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://app.thedbt.ai"},exe=J0e&&"https://app.thedbt.ai"||"http://localhost:8000",hh=typeof window<"u"?window.location.origin:"http://localhost:8000",jd=`${exe}/api`,Xa={CONNECT:`${jd}/facebook/connect`,PAGES:`${jd}/facebook/pages`,LINK:`${jd}/facebook/pages/link`,SUBSCRIBE:`${jd}/facebook/pages/subscribe`,DELETION:`${jd}/facebook/deletion`,DELETION_STATUS:`${hh}/facebook/deletion-status`,DELETION_MANUAL:`${jd}/facebook/deletion/manual`,WEBHOOK:`${hh}/facebook/webhook`,OAUTH_CALLBACK:`${hh}/facebook/oauth/callback`,PRIVACY_POLICY:`${hh}/privacypolicy`};async function Fm(e){const a=e.headers.get("content-type")||"",n=await e.text();if(!e.ok){const s=(n==null?void 0:n.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${s}`)}if(!n)return{};if(/application\/json/i.test(a))try{return JSON.parse(n)}catch{throw new Error("Invalid JSON from server")}try{return JSON.parse(n)}catch{return{raw:n}}}function wd(e,a="Copied!"){try{navigator.clipboard.writeText(String(e??"")),R.success(a)}catch{R.error("Copy failed")}}function txe(){return p.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw R.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}function Nd({children:e,className:a=""}){return t.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${a}`,children:e})}function ln({children:e,className:a="",variant:n="outline",size:s="md",type:r="button",onClick:l,disabled:c=!1,title:d}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",h={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},f={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${h[s]||h.md} ${f[n]||f.outline} ${a}`;return t.jsx("button",{type:r,className:g,onClick:l,disabled:c,title:d,children:e})}function Vj({icon:e,label:a,value:n,tone:s="slate"}){const r={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return t.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${r[s]}`,children:[e?t.jsx(e,{className:"h-4 w-4 opacity-80"}):null,t.jsxs("div",{className:"text-xs",children:[t.jsx("div",{className:"font-semibold",children:n}),t.jsx("div",{className:"opacity-80",children:a})]})]})}function Hj({code:e="",lang:a="text",filename:n="snippet.txt",maxHeight:s="max-h-[300px]"}){const r=p.useMemo(()=>String(e).split(`
`),[e]);return t.jsxs("div",{className:"w-full rounded-xl border border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 rounded-t-xl",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),t.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),t.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 font-mono truncate",children:n})]}),t.jsx("div",{className:`relative border-t border-slate-200 font-mono text-[11px] sm:text-xs overflow-auto code-scroll leading-relaxed px-3 py-2 ${s}`,style:{scrollbarWidth:"thin"},children:t.jsx("pre",{className:"m-0 p-0 whitespace-pre-wrap",children:t.jsx("code",{className:"text-slate-800",children:e})})}),t.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 text-[10px] sm:text-xs text-slate-600 flex justify-between rounded-b-xl",children:[t.jsx("span",{children:"UTF-8"}),t.jsx("span",{className:"capitalize",children:a}),t.jsxs("span",{children:["Ln ",r.length]})]})]})}function axe(){const e=txe(),[a,n]=p.useState(!1),[s,r]=p.useState(!1),[l,c]=p.useState(null),[d,m]=p.useState(!1),[h,f]=p.useState([]),[g,b]=p.useState("all"),[y,j]=p.useState(0),w=10,[N,k]=p.useState(""),[_,C]=p.useState(!1),O=p.useMemo(()=>{const T=h.length,K=h.filter(I=>I.connected).length,W=h.filter(I=>I.subscribed).length;return{total:T,linked:K,subscribed:W}},[h]),P=p.useMemo(()=>{switch(g){case"linked":return h.filter(T=>T.connected);case"unlinked":return h.filter(T=>!T.connected);case"subscribed":return h.filter(T=>T.subscribed);case"unsubscribed":return h.filter(T=>!T.subscribed);default:return h}},[h,g]),E=Math.ceil(P.length/w),B=y>0,M=y+1<E,V=P.slice(y*w,y*w+w),G=p.useCallback(async()=>{r(!0);try{const T=await fetch(Xa.PAGES,{headers:e(),mode:"cors"}),K=await Fm(T);m(!0),f(Array.isArray(K==null?void 0:K.pages)?K.pages:[])}catch{m(!1),f([])}finally{r(!1)}},[e]),H=p.useCallback(async()=>{n(!0);try{const T=await fetch(Xa.CONNECT,{headers:e(),mode:"cors"}),K=await Fm(T);c(K),K!=null&&K.auth_url?(window.open(K.auth_url,"_blank","noopener,noreferrer"),R.success("Opening Facebook Login in a new tab")):R.error("No auth_url from server")}catch(T){R.error((T==null?void 0:T.message)||"Failed to start OAuth")}finally{n(!1)}},[e]),F=p.useCallback(async T=>{try{const K=await fetch(Xa.LINK,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:T}),mode:"cors"});await Fm(K),R.success("Page linked"),G()}catch(K){R.error((K==null?void 0:K.message)||"Link failed")}},[e,G]),ie=p.useCallback(async T=>{try{const K=await fetch(Xa.SUBSCRIBE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:T}),mode:"cors"});await Fm(K),R.success("Subscribed to leadgen webhooks"),G()}catch(K){R.error((K==null?void 0:K.message)||"Subscribe failed")}},[e,G]),_e=p.useCallback(async()=>{if(!N.trim()){R.error("Enter a Facebook user_id first");return}C(!0);try{const T=await fetch(Xa.DELETION_MANUAL,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({fb_user_id:N.trim()}),mode:"cors"}),K=await Fm(T);R.success(`Deleted ${(K==null?void 0:K.deleted_records)??0} records`),K!=null&&K.status_url&&window.open(K.status_url,"_blank","noopener,noreferrer")}catch(T){R.error((T==null?void 0:T.message)||"Manual deletion failed")}finally{C(!1)}},[e,N]);p.useEffect(()=>{G().catch(()=>{})},[G]);const ce=(l==null?void 0:l.redirect_uri)||`${Xa.OAUTH_CALLBACK}`;return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx(pe.div,{initial:{opacity:.08,scale:.95},animate:{opacity:.14,scale:1},transition:{duration:1.2},className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx(pe.div,{initial:{opacity:.08,scale:.95},animate:{opacity:.14,scale:1},transition:{duration:1.2,delay:.15},className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[t.jsxs(Nd,{className:"relative overflow-hidden p-4 sm:p-5",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(F3,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Facebook Lead Ads"})}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Connect a Page, subscribe to ",t.jsx("code",{className:"font-mono",children:"leadgen"})," webhooks, and stream leads into your CRM for AI follow-up."]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ln,{onClick:G,disabled:s,children:s?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Refresh"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Refresh"]})}),t.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${d?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[t.jsx(Z2,{className:`h-3.5 w-3.5 ${d?"text-emerald-600":"text-amber-600"}`}),d?"Connected":"Not connected"]})]})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsx(Vj,{icon:wM,label:"Total Pages",value:O.total,tone:"slate"}),t.jsx(Vj,{icon:lg,label:"Linked Pages",value:O.linked,tone:"blue"}),t.jsx(Vj,{icon:cF,label:"Webhook Subscribed",value:O.subscribed,tone:"emerald"})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs(Nd,{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qi,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 1  Connect Facebook"})]}),t.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Click connect to start OAuth. Approve Page permissions. The login opens in a new tab; once finished, come back and click ",t.jsx("b",{children:"Refresh"}),"."]}),t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[t.jsx(ln,{variant:"primary",onClick:H,disabled:a,children:a?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Opening"]}):t.jsxs(t.Fragment,{children:[t.jsx(F3,{className:"h-4 w-4 mr-2"}),"Connect Facebook"]})}),l!=null&&l.auth_url?t.jsxs(ln,{size:"sm",onClick:()=>wd(l.auth_url,"Auth URL copied!"),title:"Copy the exact OAuth URL",children:[t.jsx(La,{className:"h-4 w-4 mr-1"}),"Copy Auth URL"]}):null,t.jsxs(ln,{size:"sm",onClick:G,disabled:s,title:"Check connection now",children:[t.jsx(Ge,{className:"h-4 w-4 mr-1"}),"I finished login  Refresh"]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Valid Redirect URI"}),t.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:ce}),t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsxs(ln,{size:"sm",onClick:()=>wd(ce,"Redirect URI copied!"),children:[t.jsx(La,{className:"h-4 w-4 mr-1"}),"Copy"]}),t.jsxs("a",{href:"https://developers.facebook.com/apps/",target:"_blank",rel:"noreferrer",className:"text-xs inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open Facebook Developers  App  Facebook Login  Settings",children:[t.jsx(Th,{className:"h-3.5 w-3.5"}),"Open FB Devs"]})]}),t.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Add this under ",t.jsx("b",{children:"Facebook Login  Settings  Valid OAuth Redirect URIs"}),"."]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Webhook Callback (server)"}),t.jsxs("div",{className:"text-[11px] text-slate-600",children:["In your app dashboard add product ",t.jsx("b",{children:"Webhooks (Page)"})," and set callback to:"]}),t.jsx("div",{className:"mt-1 font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:Xa.WEBHOOK}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-600",children:["Verify token = your ",t.jsx("code",{className:"font-mono",children:"META_APP_VERIFY_TOKEN"}),"."]})]})]})]}),t.jsxs(Nd,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ql,{className:"h-5 w-5 text-emerald-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Checks"})]}),t.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-slate-700",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Br,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Facebook Login product is enabled (Web)."]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(li,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Site URL set to ",t.jsx("code",{className:"font-mono",children:hh}),"."]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(UF,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"If Cant load URL, add the redirect URI exactly in Facebook Login settings."]})]})]})]}),t.jsx("div",{className:"mt-5 grid grid-cols-1",children:t.jsxs(Nd,{children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dr,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 2  Link a Page  Step 3  Subscribe"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:g,onChange:T=>{j(0),b(T.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"Show: All"}),t.jsx("option",{value:"linked",children:"Linked"}),t.jsx("option",{value:"unlinked",children:"Unlinked"}),t.jsx("option",{value:"subscribed",children:"Subscribed"}),t.jsx("option",{value:"unsubscribed",children:"Unsubscribed"})]}),t.jsxs(ln,{size:"sm",onClick:G,disabled:s,children:[t.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),t.jsx("div",{className:"mt-3 overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[t.jsx("th",{className:"py-2 pr-3",children:"Page"}),t.jsx("th",{className:"py-2 pr-3",children:"Linked"}),t.jsx("th",{className:"py-2 pr-3",children:"Subscribed"}),t.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),t.jsx("tbody",{children:s?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):V.length===0?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:d?"No pages found for this account.":"Not connected. Click 'Connect Facebook' above and then refresh."})}):V.map(T=>t.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[t.jsxs("td",{className:"py-2 pr-3",children:[t.jsx("div",{className:"font-medium",children:T.name||T.page_id}),t.jsx("div",{className:"text-[11px] text-slate-500",children:T.page_id})]}),t.jsx("td",{className:"py-2 pr-3",children:T.connected?t.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-blue-50 text-blue-800 border-blue-200",children:"Linked"}):t.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-slate-50 text-slate-800 border-slate-200",children:"Not linked"})}),t.jsx("td",{className:"py-2 pr-3",children:T.subscribed?t.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-emerald-50 text-emerald-800 border-emerald-200",children:"Subscribed"}):t.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-amber-50 text-amber-800 border-amber-200",children:"Not subscribed"})}),t.jsx("td",{className:"py-2 pr-3",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[T.connected?t.jsxs(ln,{size:"sm",variant:"subtle",disabled:!0,children:["Linked ",t.jsx(ta,{className:"h-4 w-4 ml-1 text-emerald-600"})]}):t.jsx(ln,{size:"sm",onClick:()=>F(T.page_id),children:"Link"}),T.subscribed?t.jsxs(ln,{size:"sm",variant:"success",disabled:!0,children:["Subscribed ",t.jsx(ta,{className:"h-4 w-4 ml-1"})]}):t.jsx(ln,{size:"sm",variant:"primary",onClick:()=>ie(T.page_id),children:"Subscribe"})]})})]},T.page_id))})]})}),t.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"text-slate-500",children:["Page ",E?y+1:0," of ",E||0]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(ln,{size:"sm",onClick:()=>j(T=>Math.max(0,T-1)),disabled:!B,title:"Previous page",children:[t.jsx(kn,{className:"h-4 w-4 mr-1"}),"Prev"]}),t.jsxs(ln,{size:"sm",onClick:()=>j(T=>M?T+1:T),disabled:!M,title:"Next page",children:["Next",t.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})]})]})}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 xl:grid-cols-3 gap-4",children:[t.jsxs(Nd,{className:"xl:col-span-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(JH,{className:"h-5 w-5 text-cyan-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 4  Send a Test Lead"})]}),t.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Use the ",t.jsx("b",{children:"Lead Ads Testing Tool"})," to send a test submission for your linked & subscribed Page. Our webhook will fetch the full lead with ",t.jsx("code",{className:"font-mono",children:"leadgen_id"})," and create/merge a CRM lead."]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsxs("a",{href:"https://developers.facebook.com/tools/lead-ads-testing",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[t.jsx(Th,{className:"h-3.5 w-3.5"}),"Open Lead Ads Testing Tool"]}),t.jsx(ln,{size:"sm",onClick:()=>R.info("Create a test lead for the Page you linked; then come back and check your Leads table."),children:"How it works"})]}),t.jsxs("div",{className:"mt-4 text-xs text-slate-600",children:["Every FB lead is tagged with"," ",t.jsx("code",{className:"font-mono",children:'additional_details.source = "facebook_lead_ads"'}),"."]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"Debug: Quick Connect Call"}),t.jsx(Hj,{filename:"connect.sh",lang:"bash",code:`curl -s -H "Authorization: Bearer <YOUR_TOKEN>" \\
  "${Xa.CONNECT}" | jq .`,maxHeight:"max-h-[220px]"})]})]}),t.jsxs(Nd,{className:"xl:col-span-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(lr,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Compliance & App Setup"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-3",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[t.jsx(Pr,{className:"h-3.5 w-3.5"})," Privacy Policy URL"]}),t.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:Xa.PRIVACY_POLICY}),t.jsx("div",{className:"mt-2 flex gap-2",children:t.jsxs(ln,{size:"sm",onClick:()=>wd(Xa.PRIVACY_POLICY,"Privacy Policy URL copied!"),children:[t.jsx(La,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[t.jsx(Ea,{className:"h-3.5 w-3.5"})," Data Deletion Callback URL"]}),t.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:Xa.DELETION}),t.jsx("div",{className:"mt-2 flex gap-2",children:t.jsxs(ln,{size:"sm",onClick:()=>wd(Xa.DELETION,"Deletion Callback URL copied!"),children:[t.jsx(La,{className:"h-4 w-4 mr-1"}),"Copy"]})}),t.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Meta will ",t.jsx("b",{children:"POST"})," a ",t.jsx("code",{children:"signed_request"})," to this URL when users request deletion."]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[t.jsx(ig,{className:"h-3.5 w-3.5"})," Deletion Status URL"]}),t.jsxs("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:[Xa.DELETION_STATUS,"?code=EXAMPLE_CODE"]}),t.jsx("div",{className:"mt-2 flex gap-2",children:t.jsxs(ln,{size:"sm",onClick:()=>wd(`${Xa.DELETION_STATUS}?code=EXAMPLE_CODE`,"Status URL copied!"),children:[t.jsx(La,{className:"h-4 w-4 mr-1"}),"Copy"]})}),t.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["We return this URL + ",t.jsx("code",{children:"confirmation_code"})," in the deletion callback response."]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Webhook (Page  leadgen)"}),t.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:Xa.WEBHOOK}),t.jsx("div",{className:"mt-2 flex gap-2",children:t.jsxs(ln,{size:"sm",onClick:()=>wd(Xa.WEBHOOK,"Webhook URL copied!"),children:[t.jsx(La,{className:"h-4 w-4 mr-1"}),"Copy"]})})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-4",children:[t.jsx(Hj,{filename:"deletion.manual.sh",lang:"bash",code:`curl -X POST \\
  -H "Authorization: Bearer <YOUR_TOKEN>" \\
  -H "Content-Type: application/json" \\
  -d '{"fb_user_id":"<FB_USER_ID>"}' \\
  "${Xa.DELETION_MANUAL}" | jq .`}),t.jsx(Hj,{filename:"deletion.status.txt",lang:"text",code:`After Meta calls ${Xa.DELETION} with a signed_request,
we return JSON like:

{
  "url": "${Xa.DELETION_STATUS}?code=fbdel_<id>_<hash>",
  "confirmation_code": "fbdel_<id>_<hash>"
}

Open that URL to show the human-readable status page.`})]}),t.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"text-sm font-bold text-slate-900 mb-2 flex items-center gap-2",children:[t.jsx(Ea,{className:"h-4 w-4 text-red-600"}),"Manual Deletion (Support)"]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsx("input",{type:"text",placeholder:"Enter Facebook user_id",value:N,onChange:T=>k(T.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.jsx(ln,{variant:"danger",onClick:_e,disabled:_,children:_?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Delete Now"]})})]}),t.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Calls ",t.jsx("code",{className:"font-mono",children:"POST /facebook/deletion/manual"}),", then opens the returned status URL."]})]})]})]})]})]})}const nxe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://app.thedbt.ai"},yn=nxe&&"https://app.thedbt.ai"||"http://localhost:8000",$n={ASSISTANTS:`${yn}/api/text-assistants`,CREATE_ASSISTANT:`${yn}/api/text-assistants`,TOGGLE_ASSISTANT_URL:(e,a)=>`${yn}/api/toggle-text-assistant/${e}?assistant_toggle=${a}`,ATTACH_ASSISTANT:`${yn}/api/text/attach-assistant`,NUMBERS:`${yn}/api/purchased_numbers`,SEND_SINGLE:`${yn}/api/send-text-message`,MESSAGE_SCHEDULED:`${yn}/api/text/message-scheduled`,MESSAGE_UNSCHEDULED:`${yn}/api/text/message-unscheduled`,MESSAGES:`${yn}/api/text/messages`,THREADS:`${yn}/api/text/threads`,JOBS:`${yn}/api/text/message-jobs`,JOB:e=>`${yn}/api/text/message-job/${e}`,PROGRESS_SSE:(e,a,n)=>{const s=`${yn}/api/text/message-progress-sse?job_id=${encodeURIComponent(e)}`;return a?`${s}&sse=${encodeURIComponent(a)}`:n?`${s}&token=${encodeURIComponent(n)}`:s},DEBUG_SCHEDULED:`${yn}/api/text/debug/scheduled-selection`,DAEMON_STATE:e=>`${yn}/api/text/daemon/state?kind=${encodeURIComponent(e)}`,DAEMON_CONFIG:`${yn}/api/text/daemon/config`,DAEMON_SSE:(e,a,n)=>{const s=`${yn}/api/text/daemon-progress-sse?kind=${encodeURIComponent(e)}`;return a?`${s}&sse=${encodeURIComponent(a)}`:n?`${s}&token=${encodeURIComponent(n)}`:s}};function sxe(){return p.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw R.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}async function ws(e){const a=e.headers.get("content-type")||"",n=await e.text(),s=/application\/json/i.test(a);let r=null;if(s&&n)try{r=JSON.parse(n)}catch{}if(e.ok)return r??(n?{raw:n}:{});let l=`HTTP ${e.status}`;if(r!=null&&r.detail)if(typeof r.detail=="string")l+=`  ${r.detail}`;else if(r.detail.twilio_error){const d=r.detail.twilio_error||{};l+=`  ${d.message||"Twilio error"}`,d.code&&(l+=` (code ${d.code})`)}else l+=`  ${JSON.stringify(r.detail).slice(0,240)}`;else n&&(l+=`  ${n.slice(0,240)}`);const c=new Error(l);throw c.payload=r,c}function qj(e,a="Copied!"){try{navigator.clipboard.writeText(String(e??"")),R.success(a)}catch{R.error("Copy failed")}}function Sd(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}const rxe=/^\+\d{8,15}$/;function jr({children:e,className:a=""}){return t.jsx(pe.div,{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${a}`,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},children:e})}function Na({children:e,className:a="",variant:n="outline",size:s="md",type:r="button",onClick:l,disabled:c=!1,title:d}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",h={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},f={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${h[s]||h.md} ${f[n]||f.outline} ${a}`;return t.jsx("button",{type:r,className:g,onClick:l,disabled:c,title:d,children:e})}function Vl({icon:e,label:a,value:n,tone:s="sapphire"}){const r={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200",red:"bg-red-50 text-red-800 border-red-200"},l=s==="sapphire"?"bg-slate-50 text-slate-800 border-slate-200":r[s]||r.slate;return t.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${l}`,children:[e?t.jsx(e,{className:"h-4 w-4 opacity-80"}):null,t.jsxs("div",{className:"text-xs",children:[t.jsx("div",{className:"font-semibold",children:n}),t.jsx("div",{className:"opacity-80",children:a})]})]})}function va({value:e,onChange:a,placeholder:n,className:s="",type:r="text"}){return t.jsx("input",{value:e,onChange:l=>a==null?void 0:a(l.target.value),placeholder:n,type:r,className:`w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400 ${s}`})}function cO({value:e,onChange:a,placeholder:n,rows:s=5}){return t.jsx("textarea",{value:e,onChange:r=>a==null?void 0:a(r.target.value),placeholder:n,rows:s,className:"w-full rounded-lg border border-slate-300 px-2.5 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400"})}function tr({children:e,tone:a="slate"}){const n={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return t.jsx("span",{className:`px-2 py-0.5 rounded-md text-[11px] border ${n[a]}`,children:e})}function ixe({total:e=0,sent:a=0,failed:n=0}){const s=a+n,r=e?Math.min(100,Math.round(s/e*100)):0;return t.jsxs("div",{className:"w-full rounded-xl border border-slate-200 p-2",children:[t.jsx("div",{className:"h-2 w-full rounded bg-slate-100 overflow-hidden",children:t.jsx("div",{className:"h-2 rounded bg-blue-600 transition-all",style:{width:`${r}%`}})}),t.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:[a," sent  ",n," failed  ",e," total"]})]})}function lxe(e,a,n){const[s,r]=p.useState(null),l=p.useRef(null);return p.useEffect(()=>{if(!e)return;const c=localStorage.getItem("token")||"",d=$n.PROGRESS_SSE(e,a,c),m=new EventSource(d,{withCredentials:!1});l.current=m,m.onmessage=f=>{try{const g=JSON.parse(f.data);r(g)}catch{}};const h=()=>{m.close(),n==null||n()};return m.addEventListener("done",h),m.onerror=()=>{},()=>m.close()},[e,a,n]),s}function dO(e,a){const[n,s]=p.useState(null);return p.useEffect(()=>{if(!e||!a)return;const r=localStorage.getItem("token")||"",l=$n.DAEMON_SSE(e,a,r),c=new EventSource(l,{withCredentials:!1});return c.onmessage=d=>{try{const m=JSON.parse(d.data);s(m)}catch{}},c.onerror=()=>{},()=>c.close()},[e,a]),n}function oxe(){var zs,xi,Hn,ms,xr;const e=sxe(),[a,n]=p.useState([]),[s,r]=p.useState(!1),[l,c]=p.useState(!1),[d,m]=p.useState({name:"",provider:"openai",model:"gpt-4o-mini",voice_provider:"",voice:"",system_prompt:"You are a helpful SMS assistant. Keep replies short and useful.",language:"",forwardingPhoneNumber:"",assistant_toggle:!0}),[h,f]=p.useState([]),[g,b]=p.useState(!1),[y,j]=p.useState(""),[w,N]=p.useState(""),[k,_]=p.useState(!1),[C,O]=p.useState({assistant_id:"",from_number:"",limit:"",background:!0,showAdvanced:!1,messages_per_recipient:1,retry_count:0,retry_delay_seconds:60,per_message_delay_seconds:0,include_unowned:!0,repeat_backoff_hours:7}),[P,E]=p.useState({assistant_id:"",from_number:"",limit:"",background:!0,showAdvanced:!1,messages_per_recipient:1,retry_count:0,retry_delay_seconds:60,per_message_delay_seconds:0,unscheduled_backoff_hours:7}),[B,M]=p.useState(""),[V,G]=p.useState(""),H=lxe(B,V,()=>pt()),[F,ie]=p.useState({to_number:"",from_number:"",body:""}),[_e,ce]=p.useState(!1),[T,K]=p.useState([]),[W,I]=p.useState(!1),[A,$]=p.useState(""),[z,X]=p.useState(!1),[ge,te]=p.useState([]),[J,Ce]=p.useState(0),[se,Se]=p.useState({peer_number:"",success:"all",to_like:"",from_like:"",start:"",end:"",assistant_id:""}),[De,Me]=p.useState(0),ye=50,[Ye,Ke]=p.useState([]),[we,ue]=p.useState(!1),[Ae,U]=p.useState(!1),[de,ke]=p.useState(null),[Le,Ve]=p.useState(!1),[Xe,$e]=p.useState(null),[ne,Z]=p.useState(null),[ve,fe]=p.useState({scheduled:!1,unscheduled:!1}),Ue=dO("scheduled",(Xe==null?void 0:Xe.sse_token)||""),rt=dO("unscheduled",(ne==null?void 0:ne.sse_token)||""),dt=p.useMemo(()=>{const ee=a.length||0,xe=a.filter(L=>L.assistant_toggle).length,We=h.length||0,Y=h.filter(L=>L.attached_assistant).length;return{totalAssistants:ee,enabled:xe,totalNumbers:We,withAssistant:Y}},[a,h]),tt=h.length>0,$t=p.useCallback(async()=>{r(!0);try{const ee=await fetch($n.ASSISTANTS,{headers:e(),mode:"cors"}),xe=await ws(ee),We=Array.isArray(xe)?xe:[];n(We.map(Y=>({...Y,system_prompt:Y.system_prompt??Y.systemPrompt??""})))}catch(ee){R.error((ee==null?void 0:ee.message)||"Failed to load assistants"),n([])}finally{r(!1)}},[e]),Tt=p.useCallback(async()=>{b(!0);try{const ee=await fetch($n.NUMBERS,{headers:e(),mode:"cors"}),xe=await ws(ee),We=Array.isArray(xe==null?void 0:xe.items)?xe.items:Array.isArray(xe)?xe:[];f(We.map(Y=>({phone_number:Y.phone_number||Y.number||(Y==null?void 0:Y.phone)||"",attached_assistant:Y.attached_assistant??Y.assistant_id??null})))}catch{f([])}finally{b(!1)}},[e]),ze=p.useCallback(async()=>{I(!0);try{const ee=await fetch($n.THREADS,{headers:e(),mode:"cors"}),xe=await ws(ee);K(Array.isArray(xe==null?void 0:xe.items)?xe.items:[])}catch(ee){R.error((ee==null?void 0:ee.message)||"Failed to load threads"),K([])}finally{I(!1)}},[e]),Ze=p.useCallback(async()=>{X(!0);try{const ee=new URLSearchParams;ee.set("limit",String(ye)),ee.set("offset",String(De*ye)),se.peer_number&&ee.set("peer_number",se.peer_number),se.to_like&&ee.set("to_like",se.to_like),se.from_like&&ee.set("from_like",se.from_like),se.start&&ee.set("start",se.start),se.end&&ee.set("end",se.end),se.assistant_id&&ee.set("assistant_id",se.assistant_id),se.success==="true"&&ee.set("success","true"),se.success==="false"&&ee.set("success","false");const xe=await fetch(`${$n.MESSAGES}?${ee.toString()}`,{headers:e(),mode:"cors"}),We=await ws(xe);te(Array.isArray(We==null?void 0:We.items)?We.items:[]),Ce(Number((We==null?void 0:We.total)||0))}catch(ee){R.error((ee==null?void 0:ee.message)||"Failed to load messages"),te([]),Ce(0)}finally{X(!1)}},[e,De,se]),pt=p.useCallback(async()=>{ue(!0);try{const ee=await fetch($n.JOBS,{headers:e(),mode:"cors"}),xe=await ws(ee);Ke(Array.isArray(xe==null?void 0:xe.items)?xe.items:[])}catch{Ke([])}finally{ue(!1)}},[e]),Pa=p.useCallback(async ee=>{try{const xe=await fetch($n.DAEMON_STATE(ee),{headers:e(),mode:"cors"}),We=await ws(xe);ee==="scheduled"?$e(We):Z(We)}catch(xe){R.error((xe==null?void 0:xe.message)||`Failed to load ${ee} daemon state`)}},[e]),oe=p.useCallback(async(ee,xe)=>{fe(We=>({...We,[ee]:!0}));try{const We=await fetch($n.DAEMON_CONFIG,{method:"PUT",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({kind:ee,...xe}),mode:"cors"}),Y=await ws(We);ee==="scheduled"?$e((Y==null?void 0:Y.state)||Y):Z((Y==null?void 0:Y.state)||Y),R.success(`${ee} daemon updated`)}catch(We){R.error((We==null?void 0:We.message)||`Failed to update ${ee} daemon`)}finally{fe(We=>({...We,[ee]:!1}))}},[e]),Q=p.useCallback(async(ee,xe)=>{Ve(!0);try{const We=new URLSearchParams;We.set("include_unowned",String(!!ee)),xe!=null&&xe!==""&&We.set("repeat_backoff_hours",String(xe));const Y=await fetch(`${$n.DEBUG_SCHEDULED}?${We.toString()}`,{headers:e(),mode:"cors"}),L=await ws(Y);ke(L),U(!0)}catch(We){R.error((We==null?void 0:We.message)||"Debug fetch failed")}finally{Ve(!1)}},[e]),le=p.useCallback(async()=>{try{if(!d.name.trim())return R.error("Assistant name is required");const ee=await fetch($n.CREATE_ASSISTANT,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({name:d.name,provider:d.provider,model:d.model,voice_provider:d.voice_provider||null,voice:d.voice||null,system_prompt:d.system_prompt,language:d.language||null,forwardingPhoneNumber:d.forwardingPhoneNumber||null,assistant_toggle:!!d.assistant_toggle}),mode:"cors"});await ws(ee),R.success("Assistant created"),c(!1),$t()}catch(ee){R.error((ee==null?void 0:ee.message)||"Create failed")}},[e,d,$t]),he=p.useCallback(async(ee,xe)=>{try{const We=await fetch($n.TOGGLE_ASSISTANT_URL(ee,xe),{method:"PUT",headers:{...e()},mode:"cors"});await ws(We),R.success(`Assistant ${xe?"enabled":"disabled"}`),$t()}catch(We){R.error((We==null?void 0:We.message)||"Toggle failed")}},[e,$t]),Je=p.useCallback(async()=>{if(!y)return R.error("Select a number");try{const ee={phone_number:y,assistant_id:w?Number(w):null,kind:null},xe=await fetch($n.ATTACH_ASSISTANT,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify(ee),mode:"cors"});await ws(xe),R.success("Attachment updated"),Tt()}catch(ee){R.error((ee==null?void 0:ee.message)||"Attach failed")}},[e,y,w,Tt]),lt=p.useCallback(async ee=>{_(!0);try{const xe=ee==="scheduled"?C:P,We=ee==="scheduled"?$n.MESSAGE_SCHEDULED:$n.MESSAGE_UNSCHEDULED,Y={assistant_id:xe.assistant_id?Number(xe.assistant_id):null,from_number:xe.from_number||null,limit:xe.limit?Number(xe.limit):null,background:!0,messages_per_recipient:Number(xe.messages_per_recipient||1),retry_count:Number(xe.retry_count||0),retry_delay_seconds:Number(xe.retry_delay_seconds||60),per_message_delay_seconds:Number(xe.per_message_delay_seconds||0)};ee==="scheduled"?(Y.include_unowned=!!xe.include_unowned,xe.repeat_backoff_hours!==""&&xe.repeat_backoff_hours!==null&&xe.repeat_backoff_hours!==void 0&&(Y.repeat_backoff_hours=Number(xe.repeat_backoff_hours))):xe.unscheduled_backoff_hours!==""&&xe.unscheduled_backoff_hours!==null&&xe.unscheduled_backoff_hours!==void 0&&(Y.unscheduled_backoff_hours=Number(xe.unscheduled_backoff_hours));const L=await fetch(We,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify(Y),mode:"cors"}),ae=await ws(L);ae!=null&&ae.job_id?(M(ae.job_id),G(ae.sse_token||""),R.success(`Started ${ee} job`),pt()):(ae!=null&&ae.detail?R.info(ae.detail):R.info("No appointments matched filters"),Q(C.include_unowned,C.repeat_backoff_hours).catch(()=>{}))}catch(xe){R.error((xe==null?void 0:xe.message)||"Bulk start failed")}finally{_(!1)}},[e,C,P,pt,Q]),yt=p.useCallback(async()=>{var ee,xe;if(!F.to_number||!F.body)return R.error("Missing 'to' or 'body'");if(!rxe.test(F.to_number))return R.error("Enter To number in E.164 format, e.g. +14155551234");ce(!0);try{const We=await fetch($n.SEND_SINGLE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({to_number:F.to_number,body:F.body,from_number:F.from_number||null}),mode:"cors"});await ws(We),R.success("Sent"),ie(Y=>({...Y,body:""})),ze(),A&&A===F.to_number&&Ze()}catch(We){const Y=(xe=(ee=We==null?void 0:We.payload)==null?void 0:ee.detail)==null?void 0:xe.twilio_error;if(Y){const L=Y.more_info?`  see docs: ${Y.more_info}`:"";R.error(`Twilio ${Y.code||""}: ${Y.message||"Error"}${L}`)}else R.error((We==null?void 0:We.message)||"Send failed")}finally{ce(!1)}},[e,F,A,ze,Ze]);p.useEffect(()=>{$t().catch(()=>{}),Tt().catch(()=>{}),ze().catch(()=>{}),pt().catch(()=>{}),Pa("scheduled").catch(()=>{}),Pa("unscheduled").catch(()=>{})},[$t,Tt,ze,pt,Pa]),p.useEffect(()=>{Ze().catch(()=>{})},[Ze]),p.useEffect(()=>{A&&(Se(ee=>({...ee,peer_number:A})),Me(0))},[A]),p.useEffect(()=>{var ee;if(h.length===1){const xe=((ee=h[0])==null?void 0:ee.phone_number)||"";j(We=>We||xe),O(We=>({...We,from_number:We.from_number||xe})),E(We=>({...We,from_number:We.from_number||xe})),ie(We=>({...We,from_number:We.from_number||xe}))}},[h]),p.useEffect(()=>{var ee;if(a.length===1){const xe=((ee=a[0])==null?void 0:ee.id)??"";N(We=>We||String(xe)),O(We=>({...We,assistant_id:We.assistant_id||String(xe)})),E(We=>({...We,assistant_id:We.assistant_id||String(xe)}))}},[a]);const ut=Math.ceil(J/ye),Mt=De>0,bt=De+1<ut,Ka=p.useMemo(()=>[{id:"",name:"Auto-pick (recommended)"},...a],[a]),ra=p.useMemo(()=>[{phone_number:"",label:"Auto-pick"},...h.map(ee=>({...ee,label:ee.phone_number}))],[h]),Et=t.jsx("div",{className:"text-[11px] text-slate-500",children:"Tip: You can attach a specific assistant to a phone number, or let the system auto-pick the first enabled assistant."}),Pt=({params:ee,setParams:xe,mode:We})=>{const Y=We==="scheduled";return t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>xe(L=>({...L,showAdvanced:!L.showAdvanced})),className:"mt-2 inline-flex items-center gap-1 text-xs px-2 py-1 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[t.jsx(UH,{className:"h-3.5 w-3.5"}),"Advanced"]}),ee.showAdvanced?t.jsxs("div",{className:"mt-3 space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Messages / recipient"}),t.jsx(va,{type:"number",value:ee.messages_per_recipient,onChange:L=>xe(ae=>({...ae,messages_per_recipient:Number(L||1)}))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Retry count"}),t.jsx(va,{type:"number",value:ee.retry_count,onChange:L=>xe(ae=>({...ae,retry_count:Number(L||0)}))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Retry delay (s)"}),t.jsx(va,{type:"number",value:ee.retry_delay_seconds,onChange:L=>xe(ae=>({...ae,retry_delay_seconds:Number(L||60)}))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Per-msg gap (s)"}),t.jsx(va,{type:"number",value:ee.per_message_delay_seconds,onChange:L=>xe(ae=>({...ae,per_message_delay_seconds:Number(L||0)}))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[Y?t.jsxs("div",{children:[t.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[t.jsx(L0,{className:"h-3.5 w-3.5"}),"Repeat backoff hours"]}),t.jsx(va,{type:"number",value:ee.repeat_backoff_hours,onChange:L=>xe(ae=>({...ae,repeat_backoff_hours:Number(L||0)}))})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[t.jsx(L0,{className:"h-3.5 w-3.5"}),"Unscheduled backoff hours"]}),t.jsx(va,{type:"number",value:ee.unscheduled_backoff_hours,onChange:L=>xe(ae=>({...ae,unscheduled_backoff_hours:Number(L||0)}))})]}),t.jsx("div",{className:"rounded-lg border border-slate-200 p-2 text-[11px] text-slate-600 lg:col-span-2",children:Y?"Scheduled = eligible by default; backoff prevents re-texting the same phone within N hours (default 7).":"Optional backoff protects against re-texting the same phone too soon (default 7h)."}),Y?t.jsxs("label",{className:"flex items-center justify-between border border-slate-200 rounded-lg px-2.5 py-1.5",children:[t.jsxs("div",{className:"text-[11px] text-slate-700 flex items-center gap-1",children:[t.jsx(Zi,{className:"h-3.5 w-3.5 text-slate-500"}),"Include unowned"]}),t.jsx(Na,{size:"sm",variant:ee.include_unowned?"primary":"subtle",onClick:()=>xe(L=>({...L,include_unowned:!L.include_unowned})),children:ee.include_unowned?t.jsxs(t.Fragment,{children:[t.jsx(by,{className:"h-4 w-4 mr-1"})," On"]}):t.jsxs(t.Fragment,{children:[t.jsx(gy,{className:"h-4 w-4 mr-1"})," Off"]})})]}):null]})]}):null]})},Oa=({st:ee})=>{const xe=ee!=null&&ee.enabled?(ee==null?void 0:ee.status)==="running"?"bg-blue-500":(ee==null?void 0:ee.status)==="error"?"bg-red-500":"bg-emerald-500":"bg-slate-300";return t.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${xe}`})},tn=({kind:ee,state:xe,sseState:We,onPatch:Y,busy:L})=>{const ae=ee==="scheduled",[Ee,Ie]=p.useState(!!(xe!=null&&xe.enabled)),[qe,Qe]=p.useState((xe==null?void 0:xe.tick_interval_seconds)??120),[wt,Gt]=p.useState(!!(xe!=null&&xe.include_unowned)),[xn,an]=p.useState((xe==null?void 0:xe.repeat_backoff_hours)??7),[pi,qn]=p.useState((xe==null?void 0:xe.unscheduled_backoff_hours)??7);p.useEffect(()=>{Ie(!!(xe!=null&&xe.enabled)),Qe((xe==null?void 0:xe.tick_interval_seconds)??120),Gt(!!(xe!=null&&xe.include_unowned)),an((xe==null?void 0:xe.repeat_backoff_hours)??7),qn((xe==null?void 0:xe.unscheduled_backoff_hours)??7)},[xe]);const An={...xe||{},...We||{}},hl=()=>{const Tn={enabled:Ee,tick_interval_seconds:Number(qe||120)};ae?(Tn.include_unowned=!!wt,Tn.repeat_backoff_hours=Number(xn||0)):Tn.unscheduled_backoff_hours=Number(pi||0),Y(ee,Tn)},Mu=()=>Y(ee,{enabled:!Ee});return t.jsxs(jr,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(B3,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:ae?"Scheduled Daemon":"Unscheduled Daemon"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Oa,{st:An}),t.jsx(tr,{tone:An.enabled?"emerald":"amber",children:An.enabled?"enabled":"paused"})]})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Tick interval (s)"}),t.jsx(va,{type:"number",value:qe,onChange:Tn=>Qe(Number(Tn||0))})]}),ae?t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[t.jsx(L0,{className:"h-3.5 w-3.5"}),"Repeat backoff hours"]}),t.jsx(va,{type:"number",value:xn,onChange:Tn=>an(Number(Tn||0))})]}),t.jsxs("label",{className:"flex items-center justify-between border border-slate-200 rounded-lg px-2.5 py-1.5",children:[t.jsxs("div",{className:"text-[11px] text-slate-700 flex items-center gap-1",children:[t.jsx(Zi,{className:"h-3.5 w-3.5 text-slate-500"}),"Include unowned"]}),t.jsx(Na,{size:"sm",variant:wt?"primary":"subtle",onClick:()=>Gt(Tn=>!Tn),children:wt?t.jsxs(t.Fragment,{children:[t.jsx(by,{className:"h-4 w-4 mr-1"})," On"]}):t.jsxs(t.Fragment,{children:[t.jsx(gy,{className:"h-4 w-4 mr-1"})," Off"]})})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[t.jsx(L0,{className:"h-3.5 w-3.5"}),"Unscheduled backoff hours"]}),t.jsx(va,{type:"number",value:pi,onChange:Tn=>qn(Number(Tn||0))})]}),t.jsx("div",{className:"sm:col-span-2 rounded-lg border border-slate-200 p-2 text-[11px] text-slate-600",children:"Protects against re-texting the same phone too soon."})]})]}),t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[t.jsxs("div",{className:"text-[11px] text-slate-600",children:["Status: ",t.jsx("b",{children:An.status||""}),"  Last tick:"," ",An.last_tick_at?Sd(An.last_tick_at):"","  Last queue:"," ",An.last_queue_size??0,An.last_error?t.jsxs(t.Fragment,{children:[" "," ",t.jsxs("span",{className:"text-red-600",children:["Error: ",An.last_error]})]}):null]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Na,{size:"sm",variant:Ee?"subtle":"primary",onClick:Mu,disabled:L,children:Ee?t.jsxs(t.Fragment,{children:[t.jsx(IF,{className:"h-4 w-4 mr-1"})," Pause"]}):t.jsxs(t.Fragment,{children:[t.jsx(gu,{className:"h-4 w-4 mr-1"})," Resume"]})}),t.jsxs(Na,{size:"sm",variant:"primary",onClick:hl,disabled:L,children:[L?t.jsx(Ia,{className:"h-4 w-4 mr-1 animate-spin"}):null,"Apply"]})]})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-4 gap-2",children:[t.jsx(Vl,{icon:Kx,label:"Last sent",value:An.last_sent??0,tone:"blue"}),t.jsx(Vl,{icon:os,label:"Last failed",value:An.last_failed??0,tone:"amber"}),t.jsx(Vl,{icon:sp,label:"Total sent",value:An.total_sent??0,tone:"emerald"}),t.jsx(Vl,{icon:my,label:"Total failed",value:An.total_failed??0,tone:"red"})]}),xe!=null&&xe.sse_token?t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 flex items-center gap-2",children:["Live updates via SSE "," ",t.jsx(Na,{size:"sm",onClick:()=>qj(xe.sse_token,"SSE token copied"),children:"Copy SSE Token"})]}):null]})};return t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx(pe.div,{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl",initial:{opacity:0},animate:{opacity:.5},transition:{duration:1}}),t.jsx(pe.div,{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl",initial:{opacity:0},animate:{opacity:.5},transition:{duration:1.2}})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[t.jsxs(jr,{className:"relative overflow-hidden p-4 sm:p-5",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(rg,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Text Assistant"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create assistants, attach to numbers, bulk-message appointments, handle inbound SMS with AI, and manage always-on texting daemons."})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Na,{onClick:()=>{$t(),Tt(),ze(),pt(),Pa("scheduled"),Pa("unscheduled")},children:[t.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Refresh"]}),t.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${tt?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[t.jsx(Z2,{className:`h-3.5 w-3.5 ${tt?"text-emerald-600":"text-amber-600"}`}),tt?"Numbers Active":"No Numbers"]})]})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-2 sm:grid-cols-5 gap-4",children:[t.jsx(Vl,{icon:wM,label:"Assistants",value:dt.totalAssistants,tone:"slate"}),t.jsx(Vl,{icon:lg,label:"Enabled",value:dt.enabled,tone:"blue"}),t.jsx(Vl,{icon:gt,label:"Numbers",value:dt.totalNumbers,tone:"emerald"}),t.jsx(Vl,{icon:Dr,label:"Attached",value:dt.withAssistant,tone:"amber"}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600 flex items-center gap-2",children:[t.jsx(ig,{className:"h-4 w-4"}),"Set ",t.jsx("code",{className:"font-mono",children:"PUBLIC_BASE_URL"})," so Twilio can reach",t.jsx("code",{className:"font-mono ml-1",children:"/api/text/sms-status"}),"."]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs(jr,{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Q2,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Assistants"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(Na,{size:"sm",onClick:()=>c(ee=>!ee),children:[t.jsx(Zn,{className:"h-4 w-4 mr-1"}),"New"]})})]}),t.jsx("div",{className:"mt-1",children:Et}),l&&t.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 p-3",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsx(va,{placeholder:"Name (e.g., Assistant A)",value:d.name,onChange:ee=>m(xe=>({...xe,name:ee}))}),t.jsx(va,{placeholder:"Provider (openai)",value:d.provider,onChange:ee=>m(xe=>({...xe,provider:ee}))}),t.jsx(va,{placeholder:"Model (gpt-4o-mini)",value:d.model,onChange:ee=>m(xe=>({...xe,model:ee}))}),t.jsx(va,{placeholder:"Language (optional)",value:d.language,onChange:ee=>m(xe=>({...xe,language:ee}))}),t.jsx(va,{placeholder:"Voice Provider (optional)",value:d.voice_provider,onChange:ee=>m(xe=>({...xe,voice_provider:ee}))}),t.jsx(va,{placeholder:"Voice (optional)",value:d.voice,onChange:ee=>m(xe=>({...xe,voice:ee}))})]}),t.jsx("div",{className:"mt-3",children:t.jsx(cO,{value:d.system_prompt,onChange:ee=>m(xe=>({...xe,system_prompt:ee})),placeholder:"System prompt for the assistant",rows:5})}),t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[t.jsxs("label",{className:"text-xs text-slate-700",children:[t.jsx("input",{type:"checkbox",className:"mr-2",checked:d.assistant_toggle,onChange:ee=>m(xe=>({...xe,assistant_toggle:ee.target.checked}))}),"Enabled on create"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Na,{size:"sm",onClick:le,children:[t.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Create"]}),t.jsx(Na,{size:"sm",variant:"subtle",onClick:()=>c(!1),children:"Cancel"})]})]})]}),t.jsx("div",{className:"mt-3 overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[t.jsx("th",{className:"py-2 pr-3",children:"Assistant"}),t.jsx("th",{className:"py-2 pr-3",children:"Model"}),t.jsx("th",{className:"py-2 pr-3",children:"Enabled"}),t.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),t.jsx("tbody",{children:s?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):a.length===0?t.jsx("tr",{children:t.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"No assistants yet. Create one above."})}):a.map(ee=>t.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[t.jsxs("td",{className:"py-2 pr-3",children:[t.jsx("div",{className:"font-medium",children:ee.name}),t.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:(ee.system_prompt||"").slice(0,120)})]}),t.jsx("td",{className:"py-2 pr-3",children:t.jsx(tr,{tone:"slate",children:ee.model})}),t.jsx("td",{className:"py-2 pr-3",children:ee.assistant_toggle?t.jsx(tr,{tone:"emerald",children:"Enabled"}):t.jsx(tr,{tone:"amber",children:"Disabled"})}),t.jsx("td",{className:"py-2 pr-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Na,{size:"sm",variant:ee.assistant_toggle?"subtle":"primary",onClick:()=>he(ee.id,!ee.assistant_toggle),children:ee.assistant_toggle?t.jsxs(t.Fragment,{children:[t.jsx(gy,{className:"h-4 w-4 mr-1"}),"Disable"]}):t.jsxs(t.Fragment,{children:[t.jsx(by,{className:"h-4 w-4 mr-1"}),"Enable"]})}),t.jsxs(Na,{size:"sm",onClick:()=>{qj(ee.system_prompt||"","System prompt copied!")},children:[t.jsx(qF,{className:"h-4 w-4 mr-1"}),"Copy Prompt"]})]})})]},ee.id))})]})})]}),t.jsxs(jr,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dr,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Attach Assistant to Number"})]}),t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Purchased Number"}),t.jsxs("select",{value:y,onChange:ee=>j(ee.target.value),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Select number"}),h.map(ee=>t.jsx("option",{value:ee.phone_number,children:ee.phone_number},ee.phone_number))]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),t.jsxs("select",{value:w,onChange:ee=>N(ee.target.value),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"No attachment (clear)"}),a.map(ee=>t.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-[11px] text-slate-500",children:"Incoming SMS to this number will use the attached assistant."}),t.jsx(Na,{size:"sm",onClick:Je,disabled:g||s,children:"Save"})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Numbers"}),g?t.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):h.length===0?t.jsx("div",{className:"text-xs text-slate-500",children:"No numbers found."}):t.jsx("ul",{className:"space-y-1",children:h.map(ee=>{const xe=a.find(We=>We.id===ee.attached_assistant);return t.jsxs("li",{className:"text-xs flex items-center justify-between",children:[t.jsx("div",{className:"font-mono",children:ee.phone_number}),t.jsx("div",{className:"flex items-center gap-2",children:xe?t.jsx(tr,{tone:"blue",children:xe.name}):t.jsx(tr,{children:"No assistant"})})]},ee.phone_number)})})]})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsx(tn,{kind:"scheduled",state:Xe,sseState:Ue,onPatch:oe,busy:ve.scheduled}),t.jsx(tn,{kind:"unscheduled",state:ne,sseState:rt,onPatch:oe,busy:ve.unscheduled})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs(jr,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(W2,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Message Scheduled Appointments (one-off)"})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),t.jsx("select",{value:C.assistant_id,onChange:ee=>O(xe=>({...xe,assistant_id:ee.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:Ka.map(ee=>t.jsx("option",{value:ee.id??"",children:ee.name},ee.id??"auto"))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"From Number"}),t.jsx("select",{value:C.from_number,onChange:ee=>O(xe=>({...xe,from_number:ee.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:ra.map(ee=>t.jsx("option",{value:ee.phone_number??"",children:ee.label},ee.phone_number??"auto"))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Limit"}),t.jsx(va,{type:"number",placeholder:"e.g. 50",value:C.limit,onChange:ee=>O(xe=>({...xe,limit:ee}))})]})]}),t.jsx(Pt,{params:C,setParams:O,mode:"scheduled"}),t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Sends all scheduled appointments, skipping numbers messaged successfully within the last"," ",t.jsx("b",{children:C.repeat_backoff_hours})," hours."]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Na,{variant:"subtle",onClick:()=>Q(C.include_unowned,C.repeat_backoff_hours),disabled:Le,title:"See why nothing matches",children:[t.jsx(my,{className:"h-4 w-4 mr-1"}),"Debug"]}),t.jsxs(Na,{variant:"primary",onClick:()=>lt("scheduled"),disabled:k,children:[k?t.jsx(Ia,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Ah,{className:"h-4 w-4 mr-2"}),"Start"]})]})]}),Ae&&t.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsxs("div",{className:"text-xs font-semibold text-slate-700 flex items-center gap-2",children:[t.jsx(my,{className:"h-4 w-4"}),"Scheduled Selection (debug)"]}),de?t.jsxs("div",{className:"mt-2 text-xs text-slate-700 space-y-1",children:[t.jsxs("div",{children:[t.jsx("b",{children:"Eligible:"})," ",(zs=de==null?void 0:de.info)==null?void 0:zs.eligible," / ",(xi=de==null?void 0:de.info)==null?void 0:xi.total]}),t.jsxs("div",{children:[t.jsx("b",{children:"Include unowned:"})," ",String((Hn=de==null?void 0:de.info)==null?void 0:Hn.include_unowned)]}),t.jsxs("div",{children:[t.jsx("b",{children:"Repeat backoff hours:"})," ",String((ms=de==null?void 0:de.info)==null?void 0:ms.repeat_backoff_hours)]}),t.jsxs("div",{className:"text-slate-500",children:[t.jsx("b",{children:"Rule:"})," ",((xr=de==null?void 0:de.info)==null?void 0:xr.rule)||"-"]}),Array.isArray(de==null?void 0:de.samples)&&de.samples.length>0?t.jsx("div",{className:"mt-2 max-h-44 overflow-auto code-scroll",children:t.jsxs("table",{className:"w-full text-[11px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-slate-500",children:[t.jsx("th",{className:"text-left pr-2",children:"Appt"}),t.jsx("th",{className:"text-left pr-2",children:"Phone"}),t.jsx("th",{className:"text-left pr-2",children:"TZ"}),t.jsx("th",{className:"text-left pr-2",children:"Start"}),t.jsx("th",{className:"text-left pr-2",children:"Now"}),t.jsx("th",{className:"text-left pr-2",children:"Backoff OK"}),t.jsx("th",{className:"text-left",children:"Eligible"})]})}),t.jsx("tbody",{children:de.samples.map(ee=>t.jsxs("tr",{className:"border-t border-slate-200",children:[t.jsx("td",{className:"pr-2",children:ee.id}),t.jsx("td",{className:"pr-2",children:ee.phone}),t.jsx("td",{className:"pr-2",children:ee.tz||"-"}),t.jsx("td",{className:"pr-2",children:Sd(ee.start_at)}),t.jsx("td",{className:"pr-2",children:Sd(ee.now)}),t.jsx("td",{className:"pr-2",children:String(ee.backoff_ok)}),t.jsx("td",{children:String(ee.eligible)})]},ee.id))})]})}):null]}):t.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"No data yet."})]})]}),t.jsxs(jr,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(aH,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Message Unscheduled Appointments (one-off)"})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),t.jsx("select",{value:P.assistant_id,onChange:ee=>E(xe=>({...xe,assistant_id:ee.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:Ka.map(ee=>t.jsx("option",{value:ee.id??"",children:ee.name},ee.id??"auto"))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"From Number"}),t.jsx("select",{value:P.from_number,onChange:ee=>E(xe=>({...xe,from_number:ee.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:ra.map(ee=>t.jsx("option",{value:ee.phone_number??"",children:ee.label},ee.phone_number??"auto"))})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Limit"}),t.jsx(va,{type:"number",placeholder:"e.g. 50",value:P.limit,onChange:ee=>E(xe=>({...xe,limit:ee}))})]})]}),t.jsx(Pt,{params:P,setParams:E,mode:"unscheduled"}),t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[t.jsx("div",{className:"text-[11px] text-slate-500",children:"Optional backoff protects against re-texting the same phone too soon."}),t.jsxs(Na,{variant:"primary",onClick:()=>lt("unscheduled"),disabled:k,children:[k?t.jsx(Ia,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Ah,{className:"h-4 w-4 mr-2"}),"Start"]})]})]})]}),B?t.jsx("div",{className:"mt-4",children:t.jsxs(jr,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(B3,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Live Progress"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(tr,{tone:"blue",children:["Job #",String(B).slice(0,8)]}),V?t.jsx(Na,{size:"sm",onClick:()=>qj(V,"SSE token copied"),children:"Copy SSE Token"}):null]})]}),t.jsxs("div",{className:"mt-3",children:[t.jsx(ixe,{total:(H==null?void 0:H.total)||0,sent:(H==null?void 0:H.sent)||0,failed:(H==null?void 0:H.failed)||0}),t.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:["Status: ",t.jsx("b",{children:(H==null?void 0:H.status)||"connecting"}),"  From:"," ",t.jsx("span",{className:"font-mono",children:(H==null?void 0:H.from_number)||"-"})]})]})]})}):null,t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs(jr,{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kx,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send Single SMS"})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsx(va,{placeholder:"To number (+1)",value:F.to_number,onChange:ee=>ie(xe=>({...xe,to_number:ee}))}),t.jsxs("select",{value:F.from_number,onChange:ee=>ie(xe=>({...xe,from_number:ee.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Auto-pick"}),h.map(ee=>t.jsx("option",{value:ee.phone_number,children:ee.phone_number},ee.phone_number))]}),t.jsx("div",{className:"flex items-center",children:t.jsxs(Na,{variant:"primary",onClick:yt,disabled:_e,className:"w-full",children:[_e?t.jsx(Ia,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Kx,{className:"h-4 w-4 mr-2"}),"Send"]})})]}),t.jsxs("div",{className:"mt-3",children:[t.jsx(cO,{value:F.body,onChange:ee=>{ee.length>1e3||ie(xe=>({...xe,body:ee}))},placeholder:"Write your message here",rows:4}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 flex items-center gap-2",children:[t.jsx(os,{className:"h-3.5 w-3.5"}),"Keep it concise. Backend truncates to 1000 chars.",t.jsxs("span",{className:"ml-auto",children:[F.body.length,"/1000"]})]})]})]}),t.jsxs(jr,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(sp,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Recent Jobs"})]}),t.jsx("div",{className:"mt-3",children:we?t.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):Ye.length===0?t.jsx("div",{className:"text-xs text-slate-500",children:"No jobs yet."}):t.jsx("ul",{className:"space-y-2",children:Ye.slice(0,6).map(ee=>t.jsxs("li",{className:"text-xs flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"font-mono",children:["#",String(ee.id).slice(0,8)]}),t.jsx("div",{className:"text-[11px] text-slate-500",children:Sd(ee.created_at)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tr,{tone:ee.status==="completed"?"emerald":"blue",children:ee.status}),t.jsx(Na,{size:"sm",onClick:()=>{M(ee.id),G(""),R.info("Streaming progress")},children:"View"})]})]},ee.id))})})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs(jr,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(PV,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Threads"})]}),t.jsxs(Na,{size:"sm",onClick:ze,disabled:W,children:[t.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Refresh"]})]}),t.jsx("div",{className:"mt-3",children:t.jsx(va,{placeholder:"Search by number",value:se.peer_number,onChange:ee=>Se(xe=>({...xe,peer_number:ee}))})}),t.jsx("div",{className:"mt-3 max-h-[360px] overflow-auto",children:W?t.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):T.length===0?t.jsx("div",{className:"text-xs text-slate-500",children:"No threads yet."}):t.jsx("ul",{className:"space-y-1",children:T.filter(ee=>{var xe;return!se.peer_number||((xe=ee.peer_number)==null?void 0:xe.includes(se.peer_number))}).map(ee=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>$(ee.peer_number),className:`w-full text-left rounded-lg border px-2 py-1.5 text-xs transition-colors ${A===ee.peer_number?"bg-blue-50 border-blue-200 text-blue-800":"bg-white border-slate-200 hover:bg-slate-50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-mono",children:ee.peer_number}),t.jsx(tr,{tone:ee.last_direction==="inbound"?"amber":"slate",children:ee.last_direction})]}),t.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:ee.last_body}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:[Sd(ee.last_message_at),"  ",ee.count," msgs"]})]})},ee.peer_number))})})]}),t.jsxs(jr,{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xw,{className:"h-5 w-5 text-blue-600"}),t.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Messages"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(Na,{size:"sm",onClick:()=>{Me(0),Ze()},disabled:z,children:[t.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Refresh"]})})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-6 gap-2",children:[t.jsx(va,{placeholder:"To like",value:se.to_like,onChange:ee=>Se(xe=>({...xe,to_like:ee}))}),t.jsx(va,{placeholder:"From like",value:se.from_like,onChange:ee=>Se(xe=>({...xe,from_like:ee}))}),t.jsx(va,{type:"datetime-local",value:se.start,onChange:ee=>Se(xe=>({...xe,start:ee}))}),t.jsx(va,{type:"datetime-local",value:se.end,onChange:ee=>Se(xe=>({...xe,end:ee}))}),t.jsxs("select",{value:se.success,onChange:ee=>Se(xe=>({...xe,success:ee.target.value})),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"Success: All"}),t.jsx("option",{value:"true",children:"Success"}),t.jsx("option",{value:"false",children:"Failed"})]}),t.jsxs("select",{value:se.assistant_id,onChange:ee=>Se(xe=>({...xe,assistant_id:ee.target.value})),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Assistant: All"}),a.map(ee=>t.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Showing ",ge.length," of ",J]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Na,{size:"sm",onClick:()=>Me(ee=>Math.max(0,ee-1)),disabled:!Mt||z,children:[t.jsx(kn,{className:"h-4 w-4 mr-1"}),"Prev"]}),t.jsxs(Na,{size:"sm",onClick:()=>Me(ee=>bt?ee+1:ee),disabled:!bt||z,children:["Next",t.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})]}),t.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto",children:z?t.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):ge.length===0?t.jsx("div",{className:"text-xs text-slate-500",children:"No messages for current filters."}):t.jsx("ul",{className:"space-y-2",children:ge.map(ee=>t.jsxs("li",{className:`rounded-lg border px-3 py-2 text-xs ${ee.direction==="inbound"?"bg-amber-50 border-amber-200":"bg-slate-50 border-slate-200"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tr,{tone:ee.direction==="inbound"?"amber":"slate",children:ee.direction}),ee.success?t.jsx(tr,{tone:"emerald",children:"ok"}):t.jsx(tr,{tone:"red",children:ee.error||"fail"})]}),t.jsx("div",{className:"text-[11px] text-slate-500",children:Sd(ee.created_at)})]}),t.jsxs("div",{className:"mt-1 font-mono text-[11px] text-slate-600",children:[ee.from_number,"  ",ee.to_number]}),t.jsx("div",{className:"mt-1 text-slate-800",children:ee.body}),ee.appointment_id?t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Appointment: ",ee.appointment_id]}):null]},ee.id))})})]})]}),t.jsxs("div",{className:"mt-5 text-[11px] text-slate-500 flex items-center gap-2",children:[t.jsx(rF,{className:"h-3.5 w-3.5"}),"Delivery status updates via ",t.jsx("code",{className:"font-mono",children:"/api/text/sms-status"}),". Ensure your server is publicly reachable for Twilio callbacks."]})]})]})}const cxe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://app.thedbt.ai"},Xo=cxe&&"https://app.thedbt.ai"||"http://localhost:8000",_d={CONFIG:`${Xo}/api/config`,PRICING:`${Xo}/api/pricing/current`,CALL_PREVIEW:e=>`${Xo}/api/pricing/call/preview?seconds=${e}`,CHECKOUT:`${Xo}/api/checkout`,BALANCE:`${Xo}/api/me/balance`,TXNS:(e=10)=>`${Xo}/api/me/transactions?limit=${e}`},dxe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Kj({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:brightness-110 active:brightness-95 border border-blue-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 active:bg-slate-100 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[s]} ${d[n]} ${a}`,children:t.jsx(pe.span,{whileHover:{y:-.5},whileTap:{scale:.98},children:e})})}function Nx({label:e,value:a,icon:n}){return t.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl hover:shadow-2xl transition-shadow",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-600 to-cyan-500 text-white shadow-inner ring-1 ring-blue-200/60",children:t.jsx(n,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})})}function Vm({label:e,children:a}){return t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a]})}const Jg=(e="")=>(e||"").replace(/\D/g,""),uxe=(e,a,n)=>{const s=Number((e||"").slice(0,3));return s>=Number(a)&&s<=Number(n)};function mxe(e){const a=Jg(e);if(!a)return"UNKNOWN";if(a.startsWith("4"))return"VISA";const n=Number(a.slice(0,2)),s=Number(a.slice(0,4));return n>=51&&n<=55||s>=2221&&s<=2720?"MASTERCARD":a.startsWith("34")||a.startsWith("37")?"AMEX":a.startsWith("6011")||a.startsWith("65")||uxe(a,"644","649")?"DISCOVER":"UNKNOWN"}function hxe(e,a){const n=Jg(e).slice(0,a==="AMEX"?15:16);return a==="AMEX"?n.replace(/(\d{4})(\d{0,6})(\d{0,5})/,(s,r,l,c)=>[r,l,c].filter(Boolean).join(" ")).trim():n.replace(/(.{4})/g,"$1 ").trim()}function fxe(e,a){const n=a==="AMEX"?15:16,s=Jg(e).padEnd(n,"");return a==="AMEX"?s.replace(/(\d{4})(\d{6})(\d{5})/,(r,l,c,d)=>[l,c,d].join(" ")):s.replace(/(.{4})/g,"$1 ").trim()}const f9=e=>e==="AMEX"?4:3;function uO({brand:e="UNKNOWN",className:a=""}){return e==="VISA"?t.jsx("div",{className:`text-[10px] font-black tracking-widest ${a}`,children:"VISA"}):e==="MASTERCARD"?t.jsxs("div",{className:`relative h-5 w-8 ${a}`,children:[t.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 h-4 w-4 rounded-full bg-amber-500 mix-blend-multiply"}),t.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 h-4 w-4 rounded-full bg-red-600 mix-blend-multiply"})]}):e==="AMEX"?t.jsxs("div",{className:`px-1.5 py-0.5 text-[9px] font-black rounded bg-cyan-500 text-white ${a}`,children:["AMERICAN",t.jsx("br",{}),"EXPRESS"]}):e==="DISCOVER"?t.jsxs("div",{className:`flex items-center gap-1 ${a}`,children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),t.jsx("span",{className:"text-[10px] font-black",children:"DISCOVER"})]}):t.jsx("div",{className:`text-[10px] font-bold opacity-70 ${a}`,children:"CARD"})}function mO(){return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-cyan-400 to-blue-500 blur opacity-25"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-70",style:{background:"radial-gradient(80% 120% at 0% 0%, rgba(14,165,233,0.35), transparent), radial-gradient(100% 120% at 100% 100%, rgba(37,99,235,0.35), #0f172a)"}})]})}function xxe({name:e,number:a,expiry:n,cvc:s,brand:r,showBack:l=!1,onToggleSide:c}){const d=p.useRef(null),[m,h]=p.useState({x:0,y:0});function f(w){const N=d.current;if(!N)return;const k=N.getBoundingClientRect(),_=(w.clientX-k.left)/k.width,C=(w.clientY-k.top)/k.height;h({x:(.5-C)*10,y:(_-.5)*16})}const g=fxe(hxe(a,r),r),b=e||"JANE DOE",y=n||"MM/YY",j=(s||"").padEnd(f9(r),"");return t.jsx("div",{className:"w-full max-w-sm mx-auto select-none",children:t.jsxs("div",{ref:d,onMouseMove:f,onMouseLeave:()=>h({x:0,y:0}),className:"relative [perspective:1200px]",children:[t.jsxs(pe.div,{className:"relative h-56 sm:h-64 rounded-3xl shadow-2xl cursor-pointer",style:{transformStyle:"preserve-3d"},animate:{rotateY:l?180:0,rotateX:m.x,rotateZ:0,translateZ:0},transition:{type:"spring",stiffness:140,damping:18},onClick:c,"aria-label":"Credit card",whileHover:{scale:1.01},children:[t.jsxs("div",{className:"absolute inset-0 rounded-3xl text-white p-5 sm:p-6",style:{backfaceVisibility:"hidden"},children:[t.jsx(mO,{}),t.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-[10px] uppercase tracking-widest opacity-85",children:"Debit"}),t.jsx(uO,{brand:r})]}),t.jsx("div",{className:"mt-8 text-lg sm:text-xl font-mono tracking-widest",children:g}),t.jsxs("div",{className:"mt-auto grid grid-cols-2 text-xs",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"opacity-75 uppercase",children:"Card Holder"}),t.jsx("div",{className:"font-semibold tracking-wide truncate",children:b})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"opacity-75 uppercase",children:"Expires"}),t.jsx("div",{className:"font-semibold tracking-wide",children:y})]})]})]})]}),t.jsxs("div",{className:"absolute inset-0 rounded-3xl text-white p-5 sm:p-6",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden"},children:[t.jsx(mO,{}),t.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[t.jsx("div",{className:"h-10 w-full rounded-md bg-black/70 mt-1"}),t.jsxs("div",{className:"mt-6",children:[t.jsx("div",{className:"text-[11px] uppercase opacity-80",children:"Authorized Signature"}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsx("div",{className:"h-8 flex-1 bg-white/90 rounded-md"}),t.jsx("div",{className:"h-8 w-16 bg-white/90 rounded-md text-slate-900 grid place-content-center font-mono text-sm",children:j})]})]}),t.jsxs("div",{className:"mt-auto flex items-center justify-between text-[11px] opacity-80",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Br,{className:"h-3.5 w-3.5"}),t.jsx("span",{children:"Securely processed by Stripe"})]}),t.jsx(uO,{brand:r})]})]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-slate-600",children:[t.jsxs("div",{className:"inline-flex items-center gap-1",children:[t.jsx(SH,{className:"h-3.5 w-3.5"}),"Click card or focus CVV to flip"]}),t.jsxs("div",{className:"inline-flex items-center gap-1",children:[t.jsx(Sq,{className:"h-3.5 w-3.5"}),"Visual demo only"]})]})]})})}const Gj=e=>`$${(Number(e||0)/100).toFixed(2)}`;function pxe(){const[e,a]=p.useState({publishable_key:"",mode:"test"}),[n,s]=p.useState(null),[r,l]=p.useState(185),[c,d]=p.useState(null),[m,h]=p.useState(!1),[f,g]=p.useState(null),[b,y]=p.useState([]),[j,w]=p.useState(!1),[N,k]=p.useState(!1),[_,C]=p.useState(25),[O,P]=p.useState("Jane Doe"),[E,B]=p.useState("4242424242424242"),[M,V]=p.useState("12/34"),[G,H]=p.useState(""),[F,ie]=p.useState(!1),_e=p.useMemo(()=>mxe(E),[E]),ce=p.useMemo(()=>{try{return localStorage.getItem("token")}catch{return null}},[]),T=p.useMemo(()=>ce?{Authorization:`Bearer ${ce}`}:{},[ce]);async function K(){k(!0);try{const[A,$]=await Promise.all([fetch(_d.CONFIG),fetch(_d.PRICING,{headers:T})]),z=await A.json().catch(()=>({}))||{};if(a(z),$.ok){const X=await $.json();s(X)}else s(null);if(ce){const[X,ge]=await Promise.all([fetch(_d.BALANCE,{headers:T}),fetch(_d.TXNS(10),{headers:T})]);X.ok&&g(await X.json()),ge.ok&&y(await ge.json())}}catch(A){R.error(A&&A.message||"Failed to load data")}finally{k(!1)}}async function W(A){try{h(!0);const $=await fetch(_d.CALL_PREVIEW(A),{headers:T}),z=await $.json();if(!$.ok)throw new Error((z==null?void 0:z.detail)||(z==null?void 0:z.message)||`HTTP ${$.status}`);d((z==null?void 0:z.total_cents)??null)}catch($){d(null),R.error($&&$.message||"Failed to calculate preview")}finally{h(!1)}}p.useEffect(()=>{K()},[]),p.useEffect(()=>{const A=setTimeout(()=>{W(r)},200);return()=>clearTimeout(A)},[r]);const I=async A=>{if(!ce)return R.error("Please sign in first (token missing)");try{w(!0);const $=await fetch(_d.CHECKOUT,{method:"POST",headers:{...T,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({amount_usd:A,purpose:"Wallet Top-up"})}),z=await $.json();if(!$.ok)throw new Error((z==null?void 0:z.detail)||(z==null?void 0:z.message)||`HTTP ${$.status}`);if(z!=null&&z.url)window.location.assign(z.url);else if(z!=null&&z.id)window.open(`https://checkout.stripe.com/c/pay/${z.id}`,"_self");else throw new Error("Invalid checkout response")}catch($){R.error($&&$.message||"Failed to create checkout")}finally{w(!1)}};return t.jsx("div",{className:"min-h-screen bg-slate-50",children:t.jsxs("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(_c,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${dxe}`,children:"Pricing, Wallet & Top-up"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Server-driven pricing, per-second billing preview, and secure Stripe Checkout."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Kj,{onClick:K,disabled:N,children:N?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})}),t.jsxs("a",{className:"text-xs text-slate-500 inline-flex items-center gap-1",href:"https://stripe.com/docs/testing",target:"_blank",rel:"noreferrer",children:["Stripe testing docs ",t.jsx(Th,{className:"h-3 w-3"})]})]})]})]}),!ce&&t.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 text-amber-800 px-4 py-3 text-sm flex items-center gap-2",children:[t.jsx(af,{className:"h-4 w-4"})," Youre not signed in. Add a JWT token in localStorage as ",t.jsx("code",{children:"token"}),"."]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(Nx,{label:"Mode",value:(e.mode||"test").toUpperCase(),icon:Qi}),t.jsx(Nx,{label:"Publishable key",value:e.publishable_key?"Present":"Missing",icon:Br}),t.jsx(Nx,{label:"Pricing loaded",value:n?"Yes":"No",icon:qx}),t.jsx(Nx,{label:"Wallet balance",value:f?`${Gj(f.balance_cents)} (${f.balance_cents})`:"",icon:_M})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 xl:grid-cols-3 gap-5",children:[t.jsxs("div",{className:"xl:col-span-2 space-y-5",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsx("div",{className:"flex items-center justify-between gap-3",children:t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(qx,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Current Pricing"})]})}),n?t.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 hover:shadow-inner transition-shadow",children:[t.jsx("div",{className:"text-xs uppercase text-slate-500 mb-1",children:"Calls"}),t.jsxs("div",{className:"text-sm text-slate-700 space-y-0.5",children:[t.jsxs("div",{children:["Raw: ",t.jsx("b",{children:n.call_millicents_per_second})," m/sec"]}),t.jsx("div",{className:"text-[12px] text-slate-500",children:"Server is source of truth for rounding"})]})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4 hover:shadow-inner transition-shadow",children:[t.jsx("div",{className:"text-xs uppercase text-slate-500 mb-1",children:"Texts"}),t.jsxs("div",{className:"text-sm text-slate-700 space-y-0.5",children:[t.jsxs("div",{children:["Raw: ",t.jsx("b",{children:n.text_cents_per_message})," /msg"]}),t.jsxs("div",{children:[" ",t.jsxs("b",{children:["$",(Number(n.text_cents_per_message||0)/100).toFixed(4)]})," / msg"]})]})]})]}):t.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Pricing not available yet."})]}),t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(yM,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Top up via Stripe"})]}),t.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[t.jsx(Br,{className:"h-3.5 w-3.5"})," Secure Checkout"]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(xxe,{name:O,number:E,expiry:M,cvc:G,brand:_e,showBack:F,onToggleSide:()=>ie(A=>!A)}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,10,25,50].map(A=>t.jsxs(Kj,{onClick:()=>I(A),className:"w-full",variant:"outline",children:["$",A]},A))}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsx(Vm,{label:"Name on card (visual)",children:t.jsx("input",{value:O,onChange:A=>P(A.target.value.slice(0,24)),placeholder:"e.g. Jane Doe",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Vm,{label:"Expiry (visual)",children:t.jsx("input",{value:M,onChange:A=>V(A.target.value),placeholder:"MM/YY",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Vm,{label:"CVV (visual)",children:t.jsx("input",{value:G,onChange:A=>H(Jg(A.target.value).slice(0,f9(_e))),onFocus:()=>ie(!0),onBlur:()=>ie(!1),placeholder:"34 digits",inputMode:"numeric",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsx(Vm,{label:"Custom amount (USD)",children:t.jsx("input",{type:"number",min:1,value:_,onChange:A=>C(Math.max(1,Number(A.target.value||1))),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx("div",{className:"sm:col-span-2 flex items-end",children:t.jsx(Kj,{onClick:()=>I(_),variant:"primary",className:"w-full",disabled:j,children:j?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"})," Opening secure checkout"]}):t.jsxs(t.Fragment,{children:["Continue to secure checkout ",t.jsx(pu,{className:"h-4 w-4 ml-2"})]})})})]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Test card: ",t.jsx("code",{className:"px-1.5 py-0.5 rounded bg-slate-100 border border-slate-200",children:"4242 4242 4242 4242"}),"  any future date  any CVC  any ZIP"]})]})]})]})]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-cyan-600 text-white shrink-0",children:t.jsx(qx,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Call cost preview"})]}),n?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsx(Vm,{label:"Duration (seconds)",children:t.jsx("input",{type:"number",min:1,value:r,onChange:A=>l(Math.max(1,Number(A.target.value||1))),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Rate"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:[n.call_millicents_per_second," m/sec"]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Estimated charge"}),t.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:m?"":c!=null?Gj(c):""})]})]}),t.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 text-emerald-700 text-sm",children:[t.jsx(ta,{className:"h-4 w-4"}),"Proration per second  ",t.jsx("b",{children:"Server-side"})," rounding up to nearest cent"]})]}):t.jsx("div",{className:"mt-4 text-sm text-slate-500",children:"Pricing not loaded yet."})]}),t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-violet-600 text-white shrink-0",children:t.jsx(qV,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Recent transactions"})]}),ce?t.jsx("div",{className:"mt-4 space-y-2",children:b&&b.length?b.map(A=>t.jsxs(pe.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"rounded-xl border border-slate-200 bg-slate-50 p-3 flex items-center justify-between hover:bg-slate-100 transition-colors",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-semibold text-slate-800",children:A.kind||A.description||"Transaction"}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:[(A.currency||"USD").toUpperCase()," "," ",A.created_at?new Date(A.created_at).toLocaleString():""]})]}),t.jsxs("div",{className:`text-sm font-bold ${A.amount_cents>=0?"text-emerald-700":"text-rose-700"}`,children:[A.amount_cents>=0?"+":"-",Gj(Math.abs(A.amount_cents))]})]},A.id||`${A.created_at}-${A.amount_cents}`)):t.jsx("div",{className:"text-sm text-slate-500",children:"No transactions yet."})}):t.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Sign in to view your wallet transactions."})]}),t.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:t.jsxs("div",{className:"text-sm text-slate-600",children:["Webhook testing? Use Stripe CLI:",t.jsx("pre",{className:"mt-2 text-xs bg-slate-50 p-2 rounded border border-slate-200 overflow-auto",children:`stripe listen --forward-to ${Xo}/api/webhook
stripe trigger payment_intent.succeeded`})]})})]})]})]})})}const jn="https://app.thedbt.ai",wn={PROVIDERS:`${jn}/api/calendar/providers`,ACCOUNTS:`${jn}/api/calendar/accounts`,DISCONNECT:e=>`${jn}/api/calendar/accounts/${e}`,CONNECT_GOOGLE:`${jn}/api/calendar/connect/google`,GOOGLE_CALENDARS:e=>`${jn}/api/calendar/google/calendars${e?`?account_id=${encodeURIComponent(e)}`:""}`,GOOGLE_IMPORT:`${jn}/api/calendar/google/import`,CALCOM_CONNECT_TOKEN:`${jn}/api/calendar/connect/calcom/token`,CALCOM_WEBHOOK_REGISTER:`${jn}/api/calendar/calcom/webhook/register`,CALENDLY_CONNECT_TOKEN:`${jn}/api/calendar/connect/calendly/token`,CALENDLY_WEBHOOK_REGISTER:`${jn}/api/calendar/calendly/webhook/register`,EVENTS:`${jn}/api/calendar/events`,EVENT_DETAIL:e=>`${jn}/api/calendar/events/${e}`,CREATE_EVENT:`${jn}/api/calendar/events`,UPDATE_EVENT:e=>`${jn}/api/calendar/events/${e}`,DELETE_EVENT:e=>`${jn}/api/calendar/events/${e}`,SYNC:`${jn}/api/calendar/sync`,FREEBUSY:`${jn}/api/calendar/freebusy`},gxe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Mn(){const e=localStorage.getItem("token");return e?{Authorization:`Bearer ${e}`,Accept:"application/json","Content-Type":"application/json"}:{Accept:"application/json","Content-Type":"application/json"}}function Ns(){return localStorage.getItem("token")?!0:(R.error("No authentication token found. Please sign in."),!1)}function kd(e,a){if(!e||!a)return null;const n=new Date(`${e}T${a}:00`);return isNaN(n.valueOf())?null:n.toISOString()}function bxe(e){try{return new Date(e).toLocaleDateString()}catch{return e}}function Di(e){try{return new Date(e).toLocaleString()}catch{return e}}function vxe({start:e,end:a,busyBlocks:n,minutes:s=30}){const r=s*60*1e3,l=new Date(e),c=new Date(a),d=[...n].sort((h,f)=>new Date(h.start)-new Date(f.start)),m=[{start:l,end:l},...d.map(h=>({start:new Date(h.start),end:new Date(h.end)})),{start:c,end:c}];for(let h=0;h<m.length-1;h++){const f=new Date(Math.max(m[h].end.getTime(),l.getTime()));if(new Date(Math.min(m[h+1].start.getTime(),c.getTime()))-f>=r)return{start:f.toISOString(),end:new Date(f.getTime()+r).toISOString()}}return null}function yxe(e){return new Date(e.getFullYear(),e.getMonth(),1)}function jxe(e){return new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999)}const wxe=1;function x9(e){const n=(e.getDay()-wxe+7)%7;return new Date(e.getFullYear(),e.getMonth(),e.getDate()-n)}function Nxe(e){const a=x9(e);return new Date(a.getFullYear(),a.getMonth(),a.getDate()+6,23,59,59,999)}function hO(e,a){return new Date(e.getFullYear(),e.getMonth()+a,1)}function Sxe(e,a){return e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth()&&e.getDate()===a.getDate()}function ec(e){return e.toISOString().slice(0,10)}function B2(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function z2(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}const fO=["Asia/Karachi","UTC","Asia/Dubai","Asia/Kolkata","Europe/London","Europe/Paris","America/New_York","America/Los_Angeles"];function ri({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function xO(){return t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Ot({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[s]} ${d[n]} ${a}`,children:e})}function Sx({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function _x({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Ft({label:e,children:a,hint:n}){return t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a,n&&t.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:n})]})}function Hm({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(pe.div,{className:"relative z-10 w-full max-w-2xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:12,scale:.99,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:8,scale:.99,opacity:0},transition:{duration:.25},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(Ot,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(Cn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function pO({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a}),t.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.25},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(Ot,{onClick:a,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:t.jsx(Cn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function _xe(){var We;const[e,a]=p.useState(!1),[n,s]=p.useState([]),[r,l]=p.useState([]),[c,d]=p.useState(""),m=p.useMemo(()=>r.find(Y=>Y.id===c),[r,c]),[h,f]=p.useState("google"),[g,b]=p.useState([]),[y,j]=p.useState(!1),[w,N]=p.useState(""),[k,_]=p.useState(()=>new Date),[C,O]=p.useState({}),[P,E]=p.useState(!0),[B,M]=p.useState(null),[V,G]=p.useState(!1),[H,F]=p.useState([]),[ie,_e]=p.useState(!1),[ce,T]=p.useState(!1),[K,W]=p.useState(!1),[I,A]=p.useState(null),[$,z]=p.useState(!1),[X,ge]=p.useState(!1),[te,J]=p.useState(null),[Ce,se]=p.useState(!1),[Se,De]=p.useState(!1),[Me,ye]=p.useState(null),[Ye,Ke]=p.useState(!1),[we,ue]=p.useState(null),[Ae,U]=p.useState(null),[de,ke]=p.useState(""),[Le,Ve]=p.useState(!1),[Xe,$e]=p.useState(!1),[ne,Z]=p.useState("organization"),[ve,fe]=p.useState(["invitee.created","invitee.canceled"]),[Ue,rt]=p.useState(""),dt=p.useCallback(async()=>{try{const Y=await fetch(wn.PROVIDERS,{headers:Mn()});if(!Y.ok)throw new Error(`HTTP ${Y.status}`);const L=await Y.json();s((L==null?void 0:L.providers)||[])}catch(Y){R.error((Y==null?void 0:Y.message)||"Failed to load providers")}},[]),tt=p.useCallback(async()=>{if(Ns())try{a(!0);const Y=await fetch(wn.ACCOUNTS,{headers:Mn()});if(!Y.ok)throw new Error(`HTTP ${Y.status}`);const L=await Y.json();l(Array.isArray(L)?L:[]);const ae=(Array.isArray(L)?L:[]).find(Ee=>Ee.provider==="google");ae?(d(Ee=>Ee||ae.id),f("google")):L!=null&&L[0]&&(d(Ee=>Ee||L[0].id),f(L[0].provider))}catch(Y){R.error((Y==null?void 0:Y.message)||"Failed to load accounts")}finally{a(!1)}},[]);p.useEffect(()=>{dt(),tt()},[dt,tt]);const $t=async()=>{try{const Y=await fetch(wn.CONNECT_GOOGLE,{headers:Mn()});if(!Y.ok){const Ee=await Y.text();throw new Error(Ee||`HTTP ${Y.status}`)}const L=await Y.json(),ae=L==null?void 0:L.auth_url;if(!ae)throw new Error("No auth_url returned");window.location.assign(ae)}catch(Y){R.error((Y==null?void 0:Y.message)||"Failed to initiate Google connect")}},Tt=Y=>{ke(""),U({provider:Y})},ze=async()=>{if(Ns())try{const Y=(Ae==null?void 0:Ae.provider)==="calcom"?wn.CALCOM_CONNECT_TOKEN:wn.CALENDLY_CONNECT_TOKEN,L=await fetch(Y,{method:"POST",headers:Mn(),body:JSON.stringify({api_key:de})}),ae=await L.json();if(!L.ok||!(ae!=null&&ae.ok))throw new Error((ae==null?void 0:ae.detail)||`HTTP ${L.status}`);R.success(`${Ae.provider==="calcom"?"Cal.com":"Calendly"} connected`),U(null),ke(""),tt()}catch(Y){R.error((Y==null?void 0:Y.message)||"Token connect failed")}},Ze=async Y=>{if(Ns())try{const L=await fetch(wn.DISCONNECT(Y),{method:"DELETE",headers:Mn()}),ae=await L.json().catch(()=>({}));if(!L.ok)throw new Error((ae==null?void 0:ae.detail)||`HTTP ${L.status}`);R.success("Disconnected"),await tt(),b([]),c===Y&&(d(""),F([]))}catch(L){R.error((L==null?void 0:L.message)||"Failed to disconnect")}},pt=async()=>{if(!c)return R.error("Select an account first");const Y=r.find(L=>L.id===c);if(!Y||Y.provider!=="google")return R.info("Calendars are only for Google accounts");try{j(!0);const L=await fetch(wn.GOOGLE_CALENDARS(c),{headers:Mn()}),ae=await L.json();if(!L.ok)throw new Error((ae==null?void 0:ae.detail)||`HTTP ${L.status}`);const Ee=Array.isArray(ae==null?void 0:ae.items)?ae.items:[];b(Ee),N(Ie=>{var qe,Qe;return Ie||((qe=Ee.find(wt=>wt.primary))==null?void 0:qe.id)||((Qe=Ee[0])==null?void 0:Qe.id)||""}),R.success(`Loaded ${Ee.length} calendars`)}catch(L){R.error((L==null?void 0:L.message)||"Failed to load calendars")}finally{j(!1)}},Pa=p.useMemo(()=>{if(!Ue.trim())return g;const Y=Ue.toLowerCase();return g.filter(L=>String(L.summary||"").toLowerCase().includes(Y)||String(L.id||"").toLowerCase().includes(Y))},[g,Ue]),[oe,Q]=p.useState({account_id:"",provider:"google",title:"",date:"",startTime:"",endTime:"",timezone:"Asia/Karachi",phone:"",location:"",notes:"",calendar_id:"",event_type:"",attendee_name:"",attendee_email:""}),le=()=>{if(!r.length)return R.error("Connect an account first");const Y=m||r[0],L=(Y==null?void 0:Y.provider)||"google";Q(ae=>({...ae,account_id:(Y==null?void 0:Y.id)||"",provider:L,calendar_id:L==="google"?w||ae.calendar_id:"",title:ae.title||(L==="calcom"?"Cal.com Booking":"Meeting")})),L==="google"&&g.length===0&&pt(),T(!0)},he=async()=>{if(!Ns())return;const Y=r.find(Qe=>Qe.id===oe.account_id);if(!Y)return R.error("Choose an account");const L=Y.provider,ae=kd(oe.date,oe.startTime),Ee=kd(oe.date,oe.endTime);if(!oe.title||!ae||!Ee)return R.error("Title, date, start & end time are required.");const Ie={title:oe.title,start_at:ae,end_at:Ee,timezone:oe.timezone,notes:oe.notes||"",account_id:oe.account_id};let qe=Ie;if(L==="google"){if(!oe.calendar_id)return R.error("Please choose a Google calendar.");qe={...Ie,phone:oe.phone||"unknown",location:oe.location||"",calendar_id:oe.calendar_id}}else if(L==="calcom"){if(!oe.event_type||!oe.attendee_email||!oe.attendee_name)return R.error("Cal.com requires: event type, attendee name & email.");qe={...Ie,phone:oe.phone||"unknown",location:oe.location||"",event_type:oe.event_type,attendee_name:oe.attendee_name,attendee_email:oe.attendee_email}}else if(L==="calendly")return R.info("Calendly API creation is limited. Use Scheduling links; webhooks will sync bookings.");try{W(!0);const Qe=await fetch(wn.CREATE_EVENT,{method:"POST",headers:Mn(),body:JSON.stringify(qe)}),wt=await Qe.json();if(!Qe.ok||!(wt!=null&&wt.ok))throw new Error((wt==null?void 0:wt.detail)||`HTTP ${Qe.status}`);R.success(` Event created on ${L==="google"?"Google Calendar":"Cal.com"}`),T(!1),Q(Gt=>({...Gt,title:"",phone:"",notes:""})),await tn(),Oa()}catch(Qe){R.error((Qe==null?void 0:Qe.message)||"Create failed")}finally{W(!1)}},Je=Y=>{var L,ae;A({appointment_id:Y.id,_date:Y.start_at.slice(0,10),_start:new Date(Y.start_at).toISOString().slice(11,16),_end:new Date(Y.end_at).toISOString().slice(11,16),_title:Y.title||"",_location:Y.location||"",_notes:Y.notes||"",_timezone:Y.timezone||"Asia/Karachi",_phone:Y.phone||"unknown",_calendar:((ae=(L=Y.links)==null?void 0:L[0])==null?void 0:ae.external_calendar_id)||oe.calendar_id||""})},lt=async()=>{if(!Ns()||!(I!=null&&I.appointment_id))return;const Y=I._date&&I._start?kd(I._date,I._start):void 0,L=I._date&&I._end?kd(I._date,I._end):void 0,ae={title:I._title||void 0,start_at:Y,end_at:L,phone:I._phone||void 0,timezone:I._timezone||void 0,location:I._location||void 0,notes:I._notes||void 0,calendar_id:I._calendar||void 0};try{z(!0);const Ee=await fetch(wn.UPDATE_EVENT(I.appointment_id),{method:"PATCH",headers:Mn(),body:JSON.stringify(ae)}),Ie=await Ee.json().catch(()=>({}));if(!Ee.ok||(Ie==null?void 0:Ie.ok)===!1)throw new Error((Ie==null?void 0:Ie.detail)||`HTTP ${Ee.status}`);R.success(" Event updated"),A(null),await tn(),Oa()}catch(Ee){R.error((Ee==null?void 0:Ee.message)||"Update failed")}finally{z(!1)}},yt=async Y=>{if(Ns())try{const L=await fetch(wn.DELETE_EVENT(Y),{method:"DELETE",headers:Mn()}),ae=await L.json().catch(()=>({}));if(!L.ok||(ae==null?void 0:ae.ok)===!1)throw new Error((ae==null?void 0:ae.detail)||`HTTP ${L.status}`);R.success(" Event cancelled"),await tn(),Oa()}catch(L){R.error((L==null?void 0:L.message)||"Cancel failed")}},ut=async()=>{if(Ns())try{ge(!0);const Y=await fetch(wn.SYNC,{method:"POST",headers:Mn(),body:JSON.stringify({account_ids:c?[c]:void 0})}),L=await Y.json();if(!Y.ok)throw new Error((L==null?void 0:L.detail)||`HTTP ${Y.status}`);J(L),R.success(`Synced: ${L.synced}, Created: ${L.created}, Updated: ${L.updated}`),await tn(),Oa()}catch(Y){R.error((Y==null?void 0:Y.message)||"Sync failed")}finally{ge(!1)}},Mt=async()=>{if(!Ns())return;if(!c||!w)return R.error("Pick an account & calendar first");const{start:Y,end:L}=Pt;try{se(!0);const ae=await fetch(wn.GOOGLE_IMPORT,{method:"POST",headers:Mn(),body:JSON.stringify({account_id:c,start_at:Y.toISOString(),end_at:L.toISOString(),calendar_ids:[w]})}),Ee=await ae.json();if(!ae.ok||(Ee==null?void 0:Ee.ok)===!1)throw new Error((Ee==null?void 0:Ee.detail)||`HTTP ${ae.status}`);R.success(`Imported from Google  Synced: ${Ee.synced}, Created: ${Ee.created}, Updated: ${Ee.updated}`),await tn(),Oa()}catch(ae){R.error((ae==null?void 0:ae.message)||"Import failed")}finally{se(!1)}},[bt,Ka]=p.useState({date:"",startTime:"09:00",endTime:"18:00",calendar_ids:[]}),ra=()=>{if(!c)return R.error("Select an account first");const Y=r.find(L=>L.id===c);if(!Y||Y.provider!=="google")return R.info("Free/Busy is only supported for Google right now.");g.length===0&&pt(),De(!0)},Et=async()=>{var Ee,Ie;if(!Ns())return;const Y=kd(bt.date,bt.startTime),L=kd(bt.date,bt.endTime);if(!Y||!L)return R.error("Select date, start and end time");const ae=(bt.calendar_ids.length?bt.calendar_ids:[((Ee=g.find(qe=>qe.primary))==null?void 0:Ee.id)||((Ie=g[0])==null?void 0:Ie.id)]).filter(Boolean);try{Ke(!0);const qe=await fetch(wn.FREEBUSY,{method:"POST",headers:Mn(),body:JSON.stringify({start_at:Y,end_at:L,account_id:c,calendar_ids:ae})}),Qe=await qe.json();if(!qe.ok||(Qe==null?void 0:Qe.ok)===!1)throw new Error((Qe==null?void 0:Qe.detail)||`HTTP ${qe.status}`);ye(Qe);const wt=Qe.freebusy||{},Gt=Object.values(wt).flatMap(an=>(an==null?void 0:an.busy)||[]).map(an=>({start:an.start,end:an.end})),xn=vxe({start:Y,end:L,busyBlocks:Gt,minutes:30});ue(xn),xn&&R.info(`Next free ~30 min: ${Di(xn.start)}`)}catch(qe){R.error((qe==null?void 0:qe.message)||"Free/Busy failed")}finally{Ke(!1)}},Pt=p.useMemo(()=>{const Y=x9(yxe(k)),L=Nxe(jxe(k));return{start:Y,end:L}},[k]),Oa=p.useCallback(async()=>{var ae,Ee;if(!Ns())return;if(h!=="google"){O({});return}if(!c||!w)return;const Y=Pt.start.toISOString(),L=Pt.end.toISOString();try{G(!0);const Ie=await fetch(wn.FREEBUSY,{method:"POST",headers:Mn(),body:JSON.stringify({start_at:Y,end_at:L,account_id:c,calendar_ids:[w]})}),qe=await Ie.json();if(!Ie.ok||(qe==null?void 0:qe.ok)===!1)throw new Error((qe==null?void 0:qe.detail)||`HTTP ${Ie.status}`);const Qe=(((Ee=(ae=qe.freebusy)==null?void 0:ae[w])==null?void 0:Ee.busy)||[]).map(({start:xn,end:an})=>({start:new Date(xn),end:new Date(an)})),wt={},Gt=new Date(Pt.start);for(;Gt<=Pt.end;){const xn=ec(Gt),an=B2(Gt),pi=z2(Gt),qn=Qe.filter(Hr=>!(Hr.end<an||Hr.start>pi));wt[xn]={count:qn.length,blocks:qn.map(Hr=>({start:Hr.start.toISOString(),end:Hr.end.toISOString()}))},Gt.setDate(Gt.getDate()+1)}O(wt)}catch(Ie){console.warn(Ie)}finally{G(!1)}},[c,w,Pt,h]),tn=p.useCallback(async()=>{if(!Ns())return;const{start:Y,end:L}=Pt,ae=new URL(wn.EVENTS);ae.searchParams.set("start_at",Y.toISOString()),ae.searchParams.set("end_at",L.toISOString()),ae.searchParams.set("limit","500"),h&&h!=="all"&&ae.searchParams.set("provider",h),c&&ae.searchParams.set("account_id",c),h==="google"&&w&&ae.searchParams.set("calendar_id",w);try{_e(!0);const Ee=await fetch(ae.toString(),{headers:Mn()}),Ie=await Ee.json();if(!Ee.ok)throw new Error((Ie==null?void 0:Ie.detail)||`HTTP ${Ee.status}`);const qe=Array.isArray(Ie==null?void 0:Ie.items)?Ie.items:[],Qe=new Set,wt=[];for(const Gt of qe){const xn=[new Date(Gt.start_at).toISOString(),new Date(Gt.end_at).toISOString(),(Gt.title||"").trim().toLowerCase(),(Gt.location||"").trim().toLowerCase()].join("|");Qe.has(xn)||(Qe.add(xn),wt.push(Gt))}F(wt)}catch(Ee){R.error((Ee==null?void 0:Ee.message)||"Failed to load events")}finally{_e(!1)}},[c,w,Pt,h]);p.useEffect(()=>{c&&(Oa(),tn())},[c,w,k,h]),p.useEffect(()=>{if(!c)return;const Y=setInterval(()=>{Oa(),tn()},3e4);return()=>clearInterval(Y)},[c,Oa,tn]),p.useEffect(()=>{var Y,L;g.length&&!w&&N(((Y=g.find(ae=>ae.primary))==null?void 0:Y.id)||((L=g[0])==null?void 0:L.id)||"")},[g,w]);const zs={accounts:r.length,calendars:g.length,lastSynced:(te==null?void 0:te.synced)??0,events:H.length},xi=async()=>{if(!Ns())return;if(!r.find(L=>L.id===c&&L.provider==="calcom"))return R.info("Select a Cal.com account first.");try{const L=await fetch(wn.CALCOM_WEBHOOK_REGISTER,{method:"POST",headers:Mn(),body:JSON.stringify({account_id:c})}),ae=await L.json();if(!L.ok||!(ae!=null&&ae.ok))throw new Error((ae==null?void 0:ae.detail)||`HTTP ${L.status}`);Ve(!0),R.success("Cal.com webhook secret generated"),ms(ae)}catch(L){R.error((L==null?void 0:L.message)||"Cal.com webhook setup failed")}},[Hn,ms]=p.useState(null),xr=async()=>{if(!Ns())return;if(!r.find(L=>L.id===c&&L.provider==="calendly"))return R.info("Select a Calendly account first.");try{const L=await fetch(wn.CALENDLY_WEBHOOK_REGISTER,{method:"POST",headers:Mn(),body:JSON.stringify({account_id:c,scope:ne,events:ve})}),ae=await L.json();if(!L.ok||!(ae!=null&&ae.ok))throw new Error((ae==null?void 0:ae.detail)||`HTTP ${L.status}`);$e(!0),xe(ae),R.success("Calendly webhook registered")}catch(L){R.error((L==null?void 0:L.message)||"Calendly webhook setup failed")}},[ee,xe]=p.useState(null);return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 xl:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 lg:gap-6 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(ls,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${gxe}`,children:"Calendar Manager"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Connect Google / Cal.com / Calendly, sync bookings, and manage events with a clean month view."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Ot,{onClick:tt,children:e?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})}),t.jsxs(Ot,{onClick:$t,variant:"primary",children:[t.jsx(lg,{className:"mr-2 h-4 w-4"})," Connect Google"]}),t.jsxs(Ot,{onClick:()=>Tt("calcom"),children:[t.jsx(Ql,{className:"mr-2 h-4 w-4"})," Connect Cal.com (Token)"]}),t.jsxs(Ot,{onClick:()=>Tt("calendly"),children:[t.jsx(Ql,{className:"mr-2 h-4 w-4"})," Connect Calendly (Token)"]})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[t.jsx(kx,{label:"Accounts",value:zs.accounts,Icon:lr,tone:"blue"}),t.jsx(kx,{label:"Calendars (Google)",value:zs.calendars,Icon:LV,tone:"cyan"}),t.jsx(kx,{label:"Events (range)",value:zs.events,Icon:W2,tone:"blue"}),t.jsx(kx,{label:"Synced (last)",value:zs.lastSynced,Icon:Ge,tone:"cyan"})]}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsx("div",{className:"flex items-center gap-2 min-w-0 w-full",children:t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Un,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:Ue,onChange:Y=>rt(Y.target.value),placeholder:"Search calendars by name or ID (Google only)",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("select",{value:c,onChange:Y=>{const L=Y.target.value;d(L);const ae=r.find(Ee=>Ee.id===L);ae&&f(ae.provider)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Select account"}),r.map(Y=>t.jsxs("option",{value:Y.id,children:[Y.provider.toUpperCase(),"  ",Y.external_email||Y.external_account_id]},Y.id))]}),t.jsxs("select",{value:h,onChange:Y=>f(Y.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"google",children:"Google"}),t.jsx("option",{value:"calcom",children:"Cal.com"}),t.jsx("option",{value:"calendly",children:"Calendly"}),t.jsx("option",{value:"all",children:"All (DB)"})]}),t.jsx(Ot,{onClick:pt,disabled:!c||(m==null?void 0:m.provider)!=="google"||y,children:y?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Loading"]}):t.jsx(t.Fragment,{children:"Load Calendars"})}),t.jsxs(Ot,{onClick:le,variant:"primary",disabled:!r.length,children:[t.jsx(NF,{className:"mr-2 h-4 w-4"})," Create"]}),t.jsxs(Ot,{onClick:ra,disabled:!c,children:[t.jsx(ZU,{className:"mr-2 h-4 w-4"})," Free/Busy"]}),t.jsx(Ot,{onClick:ut,disabled:!c||X,children:X?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):t.jsx(t.Fragment,{children:"Sync"})}),t.jsx(Ot,{onClick:Mt,disabled:!c||(m==null?void 0:m.provider)!=="google"||!w||Ce,children:Ce?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Import"]}):t.jsxs(t.Fragment,{children:[t.jsx(ZF,{className:"mr-2 h-4 w-4"})," Import Month"]})})]})]}),t.jsxs("div",{className:"mt-4 rounded-2xl border border-slate-200 overflow-hidden",children:[t.jsxs("div",{className:"bg-slate-50 px-4 sm:px-6 py-3 border-b border-slate-200 flex flex-wrap gap-2 items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(UV,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:"Connected Accounts"})]}),t.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2 flex-wrap",children:[t.jsx(Qi,{className:"h-4 w-4 text-emerald-600"}),"Google / Cal.com / Calendly"]})]}),r.length===0?t.jsx("div",{className:"p-6 text-sm text-slate-600",children:"No accounts connected yet. Use the buttons above to connect."}):t.jsx("div",{className:"divide-y divide-slate-100",children:r.map((Y,L)=>t.jsxs("div",{className:"p-4 sm:p-5 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"font-semibold text-slate-900 break-words",children:[Y.provider.toUpperCase(),"  ",Y.external_email||Y.external_account_id]}),t.jsx("div",{className:"text-xs text-slate-500 break-words",children:Y.provider==="google"?t.jsxs(t.Fragment,{children:["Primary calendar: ",t.jsx("b",{children:Y.primary_calendar_id||""})]}):t.jsx(t.Fragment,{children:"Connected via token"})})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx(Ot,{variant:"subtle",onClick:()=>{d(Y.id),f(Y.provider),R.info("Selected this account")},children:"Select"}),Y.provider==="calcom"&&t.jsxs(Ot,{onClick:xi,children:[t.jsx(lr,{className:"h-4 w-4 mr-1"})," Webhook"]}),Y.provider==="calendly"&&t.jsxs(Ot,{onClick:()=>$e(!0),children:[t.jsx(lr,{className:"h-4 w-4 mr-1"})," Webhook"]}),t.jsxs(Ot,{variant:"danger",onClick:()=>Ze(Y.id),children:[t.jsx(Ea,{className:"h-4 w-4 mr-1"})," Disconnect"]})]}),L===0&&t.jsx(xO,{})]},Y.id))})]})]}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(ls,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["Calendars (Google)  ",Pa.length]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx(BV,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{children:"Pick one for the month board"})]})]}),Pa.length===0?t.jsxs("div",{className:"grid place-content-center py-12 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(ls,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No calendars"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Load calendars after selecting a Google account"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Sx,{children:"Name"}),t.jsx(Sx,{children:"Calendar ID"}),t.jsx(Sx,{children:"Access"}),t.jsx(Sx,{children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:Pa.map(Y=>t.jsxs("tr",{className:"hover:bg-slate-50/60",children:[t.jsx(_x,{children:t.jsx("div",{className:"font-semibold text-slate-900 break-words",children:Y.summary||""})}),t.jsx(_x,{children:t.jsx("div",{className:"text-xs text-slate-700 break-all",children:Y.id})}),t.jsx(_x,{children:t.jsx(ri,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:Y.accessRole||"reader"})}),t.jsx(_x,{children:Y.primary?t.jsxs(ri,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ta,{className:"mr-1 h-3.5 w-3.5"})," Primary"]}):t.jsx(ri,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:"Secondary"})})]},Y.id))})]})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Pa.map((Y,L)=>t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5",children:[L===0&&t.jsx(xO,{}),t.jsx("div",{className:"font-bold text-slate-900 break-words",children:Y.summary||""}),t.jsx("div",{className:"mt-1 text-xs text-slate-600 break-all",children:Y.id}),t.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[t.jsx(ri,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:Y.accessRole||"reader"}),Y.primary?t.jsxs(ri,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ta,{className:"mr-1 h-3.5 w-3.5"})," Primary"]}):t.jsx(ri,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:"Secondary"})]})]},Y.id))})})]})]}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx(Ot,{onClick:()=>_(Y=>hO(Y,-1)),title:"Previous month",children:t.jsx(kn,{className:"h-4 w-4"})}),t.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 min-w-[10ch] text-center",children:k.toLocaleString(void 0,{month:"long",year:"numeric"})}),t.jsx(Ot,{onClick:()=>_(new Date),title:"Jump to today",children:"Today"}),t.jsx(Ot,{onClick:()=>_(Y=>hO(Y,1)),title:"Next month",children:t.jsx(pa,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h==="google"&&t.jsxs("select",{value:w,onChange:Y=>N(Y.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Pick calendar"}),g.map(Y=>t.jsxs("option",{value:Y.id,children:[Y.summary||Y.id," ",Y.primary?"(primary)":""]},Y.id))]}),t.jsx(Ot,{onClick:()=>E(Y=>!Y),title:"Toggle compact",children:P?t.jsxs(t.Fragment,{children:[t.jsx(JV,{className:"mr-2 h-4 w-4"})," Relaxed"]}):t.jsxs(t.Fragment,{children:[t.jsx(sH,{className:"mr-2 h-4 w-4"})," Compact"]})}),t.jsx(Ot,{onClick:Oa,disabled:h!=="google"||!c||V,children:V?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Live"]}):t.jsx(t.Fragment,{children:"Refresh"})})]})]}),t.jsx(kxe,{date:k,compact:P,busyMap:C,events:H,eventsLoading:ie,onDayClick:Y=>{if(!r.length)return;const L=ec(Y),ae=m||r[0],Ee=(ae==null?void 0:ae.provider)||"google";Q(Ie=>({...Ie,provider:Ee,account_id:(ae==null?void 0:ae.id)||"",date:L,startTime:"10:00",endTime:"10:30",calendar_id:Ee==="google"?w||Ie.calendar_id:"",title:Ie.title||(Ee==="calcom"?"Cal.com Booking":"Meeting")})),T(!0)},onOpenDay:Y=>M(Y)})]})]}),t.jsx(kt,{children:Ae&&t.jsx(Hm,{onClose:()=>U(null),title:`Connect ${Ae.provider==="calcom"?"Cal.com":"Calendly"} (Personal Access Token)`,children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(Ft,{label:"Personal Access Token",hint:Ae.provider==="calcom"?"Cal.com  Settings  API (or Developers)  Create token":"Calendly  Integrations & apps  API & Webhooks  Personal access tokens  Generate token",children:t.jsx("input",{value:de,onChange:Y=>ke(Y.target.value),placeholder:"paste token",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Ot,{onClick:()=>U(null),variant:"subtle",children:"Close"}),t.jsx(Ot,{onClick:ze,variant:"primary",disabled:!de.trim(),children:"Connect"})]})]})})}),t.jsx(kt,{children:Le&&t.jsx(Hm,{onClose:()=>Ve(!1),title:"Cal.com Webhook",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"text-sm text-slate-700",children:"Add this webhook in your Cal.com dashboard (Bookings  Webhooks) and paste the secret below:"}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs break-all",children:[t.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"Webhook URL"}),t.jsx("div",{children:(Hn==null?void 0:Hn.webhook_url)||""})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs break-all",children:[t.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"Secret"}),t.jsx("div",{children:(Hn==null?void 0:Hn.secret)||""})]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Well verify requests via ",t.jsx("code",{children:"x-cal-signature-256"}),"."]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(Ot,{onClick:()=>Ve(!1),children:"Done"})})]})})}),t.jsx(kt,{children:Xe&&t.jsx(Hm,{onClose:()=>$e(!1),title:"Calendly Webhook",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"text-sm text-slate-700",children:"We can auto-register a webhook on Calendly for your account."}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsx(Ft,{label:"Scope",hint:"Organization scope mirrors team bookings; user scope mirrors just your link.",children:t.jsxs("select",{value:ne,onChange:Y=>Z(Y.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"organization",children:"organization"}),t.jsx("option",{value:"user",children:"user"})]})}),t.jsx(Ft,{label:"Events",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:["invitee.created","invitee.canceled"].map(Y=>{const L=ve.includes(Y);return t.jsxs("label",{className:"text-sm rounded-xl border border-slate-200 px-3 py-1.5 flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:L,onChange:ae=>{fe(Ee=>{const Ie=new Set(Ee);return ae.target.checked?Ie.add(Y):Ie.delete(Y),Array.from(Ie)})}}),Y]},Y)})})})]}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(Ot,{onClick:()=>$e(!1),variant:"subtle",children:"Close"}),t.jsx(Ot,{onClick:xr,variant:"primary",children:"Register"})]}),ee&&t.jsxs("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 p-3 text-xs text-emerald-900 break-words",children:[t.jsx("div",{className:"font-semibold mb-1",children:"Registered"}),t.jsxs("div",{children:["Webhook ID: ",ee.webhook_id||""]}),t.jsx("div",{children:"Signing key stored on server "})]})]})})}),t.jsx(kt,{children:ce&&t.jsxs(Hm,{onClose:()=>T(!1),title:"Create Event",children:[t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsx(Ft,{label:"Provider / Account",children:t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("select",{value:oe.account_id,onChange:Y=>{const L=Y.target.value,ae=r.find(Ee=>Ee.id===L);Q(Ee=>({...Ee,account_id:L,provider:(ae==null?void 0:ae.provider)||"google",calendar_id:(ae==null?void 0:ae.provider)==="google"?Ee.calendar_id:""})),(ae==null?void 0:ae.provider)==="google"&&g.length===0&&pt()},className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Choose account"}),r.map(Y=>t.jsxs("option",{value:Y.id,children:[Y.provider.toUpperCase(),"  ",Y.external_email||Y.external_account_id]},Y.id))]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:["Selected: ",t.jsx("b",{children:oe.provider})]})]})}),t.jsx(Ft,{label:"Title",children:t.jsx("input",{value:oe.title,onChange:Y=>Q(L=>({...L,title:Y.target.value})),placeholder:"e.g. Discovery Call",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"Date",children:t.jsx("input",{type:"date",value:oe.date,onChange:Y=>Q(L=>({...L,date:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(Ft,{label:"Start",children:t.jsx("input",{type:"time",value:oe.startTime,onChange:Y=>Q(L=>({...L,startTime:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"End",children:t.jsx("input",{type:"time",value:oe.endTime,onChange:Y=>Q(L=>({...L,endTime:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsx(Ft,{label:"Timezone",children:t.jsx("select",{value:oe.timezone,onChange:Y=>Q(L=>({...L,timezone:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:fO.map(Y=>t.jsx("option",{value:Y,children:Y},Y))})}),oe.provider==="google"&&t.jsxs(t.Fragment,{children:[t.jsx(Ft,{label:"Calendar",children:t.jsxs("select",{value:oe.calendar_id,onChange:Y=>Q(L=>({...L,calendar_id:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"Select"}),g.map(Y=>t.jsxs("option",{value:Y.id,children:[Y.summary||Y.id," ",Y.primary?" (primary)":""]},Y.id))]})}),t.jsx(Ft,{label:"Phone (optional)",hint:"Stored in appointments table only",children:t.jsxs("div",{className:"relative",children:[t.jsx(gt,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:oe.phone,onChange:Y=>Q(L=>({...L,phone:Y.target.value})),placeholder:"+92",className:"pl-9 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),t.jsx(Ft,{label:"Location (optional)",children:t.jsxs("div",{className:"relative",children:[t.jsx(ui,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:oe.location,onChange:Y=>Q(L=>({...L,location:Y.target.value})),placeholder:"e.g. Google Meet",className:"pl-9 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),t.jsx(Ft,{label:"Notes (optional)",children:t.jsxs("div",{className:"relative",children:[t.jsx(iH,{className:"pointer-events-none absolute left-3 top-2 h-4 w-4 text-slate-400"}),t.jsx("textarea",{rows:3,value:oe.notes,onChange:Y=>Q(L=>({...L,notes:Y.target.value})),placeholder:"Agenda, context, etc.",className:"pl-9 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})})]}),oe.provider==="calcom"&&t.jsxs(t.Fragment,{children:[t.jsx(Ft,{label:"Event Type (slug or ID)",children:t.jsx("input",{value:oe.event_type,onChange:Y=>Q(L=>({...L,event_type:Y.target.value})),placeholder:"e.g. 30min",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"Attendee Name",children:t.jsx("input",{value:oe.attendee_name,onChange:Y=>Q(L=>({...L,attendee_name:Y.target.value})),placeholder:"Guest name",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"Attendee Email",children:t.jsx("input",{value:oe.attendee_email,onChange:Y=>Q(L=>({...L,attendee_email:Y.target.value})),placeholder:"guest@example.com",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"Location (optional)",children:t.jsx("input",{value:oe.location,onChange:Y=>Q(L=>({...L,location:Y.target.value})),placeholder:"Zoom / Meet link",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"Notes (optional)",children:t.jsx("textarea",{rows:3,value:oe.notes,onChange:Y=>Q(L=>({...L,notes:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),oe.provider==="calendly"&&t.jsx("div",{className:"sm:col-span-2 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Calendly API bookings are limited. Create via your scheduling linkour webhook will mirror it into your DB."})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-between gap-2",children:[t.jsx(Ot,{onClick:()=>{const Y=new Date,L=Y.toISOString().slice(0,10),ae=Qe=>String(Qe).padStart(2,"0"),Ee=Qe=>new Date(Y.getTime()+Qe*6e4),Ie=Ee(15),qe=Ee(45);Q(Qe=>{var wt,Gt;return{...Qe,date:L,startTime:`${ae(Ie.getHours())}:${ae(Ie.getMinutes())}`,endTime:`${ae(qe.getHours())}:${ae(qe.getMinutes())}`,title:Qe.title||(Qe.provider==="calcom"?"Cal.com Booking":"Test Meeting"),calendar_id:Qe.provider==="google"&&(Qe.calendar_id||((wt=g.find(xn=>xn.primary))==null?void 0:wt.id)||((Gt=g[0])==null?void 0:Gt.id))||""}})},className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:"Quick Fill Test Slot"}),t.jsxs("div",{className:"ml-auto flex gap-2",children:[t.jsx(Ot,{onClick:()=>T(!1),variant:"subtle",children:"Close"}),t.jsx(Ot,{onClick:he,variant:"primary",disabled:K||!oe.title||!oe.date||!oe.startTime||!oe.endTime||!oe.account_id||oe.provider==="google"&&!oe.calendar_id||oe.provider==="calcom"&&(!oe.event_type||!oe.attendee_email||!oe.attendee_name),children:K?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})]})}),t.jsx(kt,{children:I&&t.jsxs(Hm,{onClose:()=>A(null),title:"Update Event (Google)",children:[t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsx(Ft,{label:"Title",children:t.jsx("input",{value:I._title,onChange:Y=>A(L=>({...L,_title:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"Calendar",children:t.jsxs("select",{value:I._calendar,onChange:Y=>A(L=>({...L,_calendar:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"",children:"(no change)"}),g.map(Y=>t.jsxs("option",{value:Y.id,children:[Y.summary||Y.id," ",Y.primary?" (primary)":""]},Y.id))]})}),t.jsx(Ft,{label:"Date",children:t.jsx("input",{type:"date",value:I._date,onChange:Y=>A(L=>({...L,_date:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(Ft,{label:"Start",children:t.jsx("input",{type:"time",value:I._start,onChange:Y=>A(L=>({...L,_start:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"End",children:t.jsx("input",{type:"time",value:I._end,onChange:Y=>A(L=>({...L,_end:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsx(Ft,{label:"Timezone",children:t.jsx("select",{value:I._timezone,onChange:Y=>A(L=>({...L,_timezone:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:fO.map(Y=>t.jsx("option",{value:Y,children:Y},Y))})}),t.jsx(Ft,{label:"Location",children:t.jsx("input",{value:I._location,onChange:Y=>A(L=>({...L,_location:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"Phone",children:t.jsx("input",{value:I._phone,onChange:Y=>A(L=>({...L,_phone:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"Notes",children:t.jsx("textarea",{rows:3,value:I._notes,onChange:Y=>A(L=>({...L,_notes:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(Ot,{onClick:()=>A(null),variant:"subtle",children:"Close"}),t.jsx(Ot,{onClick:lt,variant:"primary",disabled:$,children:$?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Save"})]})]})}),t.jsx(kt,{children:Se&&t.jsx(pO,{onClose:()=>De(!1),title:"Google Free/Busy",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(Ft,{label:"Calendars to check",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(Y=>{const L=bt.calendar_ids.includes(Y.id);return t.jsxs("label",{className:"flex items-center gap-2 text-sm rounded-xl border border-slate-200 px-3 py-1.5",children:[t.jsx("input",{type:"checkbox",checked:L,onChange:ae=>{Ka(Ee=>{const Ie=new Set(Ee.calendar_ids);return ae.target.checked?Ie.add(Y.id):Ie.delete(Y.id),{...Ee,calendar_ids:Array.from(Ie)}})}}),t.jsx("span",{className:"text-slate-700",children:Y.summary||Y.id}),Y.primary&&t.jsx(ri,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Primary"})]},Y.id)})})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsx(Ft,{label:"Date",children:t.jsx("input",{type:"date",value:bt.date,onChange:Y=>Ka(L=>({...L,date:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"Start",children:t.jsx("input",{type:"time",value:bt.startTime,onChange:Y=>Ka(L=>({...L,startTime:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(Ft,{label:"End",children:t.jsx("input",{type:"time",value:bt.endTime,onChange:Y=>Ka(L=>({...L,endTime:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.jsx(Ot,{onClick:Et,disabled:Ye,variant:"primary",children:Ye?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Checking"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ta,{className:"h-4 w-4 mr-2"})," Show Busy Blocks"]})}),we&&t.jsxs(Ot,{onClick:()=>{const Y=new Date(we.start),L=new Date(we.end),ae=Ee=>String(Ee).padStart(2,"0");Q(Ee=>{var Ie,qe;return{...Ee,provider:"google",account_id:c,date:Y.toISOString().slice(0,10),startTime:`${ae(Y.getHours())}:${ae(Y.getMinutes())}`,endTime:`${ae(L.getHours())}:${ae(L.getMinutes())}`,title:Ee.title||"Suggested Slot",calendar_id:Ee.calendar_id||((Ie=g.find(Qe=>Qe.primary))==null?void 0:Ie.id)||((qe=g[0])==null?void 0:qe.id)||""}}),T(!0),R.success("Applied suggested free slot to Create form")},className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[t.jsx(Zn,{className:"h-4 w-4 mr-1"}),"Use Suggested Slot"]})]}),Me&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Busy blocks"}),t.jsx("div",{className:"space-y-3",children:Object.entries(Me.freebusy||{}).map(([Y,L])=>t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 overflow-hidden",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 break-all mb-2",children:Y}),(L.busy||[]).length===0?t.jsx("div",{className:"text-xs text-emerald-700",children:"No busy blocks "}):t.jsx("div",{className:"grid gap-1",children:L.busy.map((ae,Ee)=>t.jsxs("div",{className:"text-xs text-slate-700",children:[" ",Di(ae.start),"  ",Di(ae.end)]},Ee))})]},Y))}),we&&t.jsxs("div",{className:"mt-4 rounded-xl border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800",children:[t.jsx("b",{children:"Suggestion:"})," ",Di(we.start),"  ",Di(we.end)," (30 min)"]})]})]})})}),t.jsx(kt,{children:B&&t.jsx(pO,{onClose:()=>M(null),title:`Details  ${B.toLocaleDateString()}`,children:t.jsxs("div",{className:"space-y-4",children:[h==="google"&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Busy (live)"}),t.jsx("div",{className:"mt-2 space-y-1",children:(((We=C[ec(B)])==null?void 0:We.blocks)||[]).length===0?t.jsx("div",{className:"text-xs text-emerald-700",children:"No busy blocks "}):C[ec(B)].blocks.map((Y,L)=>t.jsxs("div",{className:"text-xs text-slate-700",children:[" ",Di(Y.start),"  ",Di(Y.end)]},L))})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Events"}),t.jsx("div",{className:"mt-2 space-y-2",children:H.filter(Y=>{const L=new Date(Y.start_at),ae=B2(B),Ee=z2(B);return!(new Date(Y.end_at)<ae||L>Ee)}).sort((Y,L)=>new Date(Y.start_at)-new Date(L.start_at)).map(Y=>{var L,ae,Ee;return t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 break-words",children:Y.title}),t.jsxs("div",{className:"text-xs text-slate-600 break-words",children:[Di(Y.start_at),"  ",Di(Y.end_at),Y.location?t.jsxs(t.Fragment,{children:["  ",t.jsx("b",{children:Y.location})]}):null,(ae=(L=Y.links)==null?void 0:L[0])!=null&&ae.provider?t.jsxs(t.Fragment,{children:["  ",t.jsx("i",{children:Y.links[0].provider})]}):null]}),t.jsx("div",{className:"mt-2 flex gap-2 flex-wrap",children:(Ee=Y.links)!=null&&Ee.some(Ie=>Ie.provider==="google")?t.jsxs(t.Fragment,{children:[t.jsxs(Ot,{size:"sm",onClick:()=>Je(Y),children:[t.jsx(Ud,{className:"h-4 w-4 mr-1"})," Edit"]}),t.jsxs(Ot,{size:"sm",variant:"danger",onClick:()=>yt(Y.id),children:[t.jsx(Ea,{className:"h-4 w-4 mr-1"})," Cancel"]})]}):t.jsx("div",{className:"text-[11px] text-slate-500",children:"Edit/cancel here is available for Google-created events."})})]},Y.id)})}),t.jsx("div",{className:"mt-4",children:t.jsxs(Ot,{onClick:()=>{const Y=ec(B),L=m||r[0];L&&(Q(ae=>({...ae,provider:L.provider,account_id:L.id,date:Y,startTime:"09:00",endTime:"09:30",calendar_id:L.provider==="google"?w||ae.calendar_id:"",title:ae.title||(L.provider==="calcom"?"Cal.com Booking":"New meeting")})),T(!0))},variant:"primary",children:[t.jsx(Zn,{className:"h-4 w-4 mr-1"})," Create on ",bxe(B)]})})]})]})})})]})}function kxe({date:e,compact:a,busyMap:n,events:s,eventsLoading:r,onDayClick:l,onOpenDay:c}){const d=e.getFullYear(),m=e.getMonth(),h=new Date(d,m+1,0).getDate(),f=p.useMemo(()=>Array.from({length:h},(b,y)=>new Date(d,m,y+1)),[d,m,h]),g=p.useMemo(()=>{const b={},y=j=>[new Date(j.start_at).toISOString(),new Date(j.end_at).toISOString(),(j.title||"").trim().toLowerCase(),(j.location||"").trim().toLowerCase()].join("|");return(s||[]).forEach(j=>{const w=new Date(j.start_at),N=new Date(j.end_at),k=new Date(d,m,1),_=new Date(d,m,h,23,59,59,999);if(N<k||w>_)return;const C=new Date(Math.max(B2(w),k)),O=new Date(Math.min(z2(N),_));for(;C<=O;){const P=ec(C);b[P]||(b[P]=[]);const E=y(j);b[P].some(B=>y(B)===E)||b[P].push(j),C.setDate(C.getDate()+1)}}),Object.values(b).forEach(j=>j.sort((w,N)=>new Date(w.start_at)-new Date(N.start_at))),b},[s,d,m,h]);return t.jsxs("div",{className:"p-2 sm:p-4 w-full overflow-x-hidden",children:[t.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 w-full",children:f.map((b,y)=>{var P;const w=Sxe(b,new Date),N=ec(b),k=((P=n==null?void 0:n[N])==null?void 0:P.count)||0,_=g[N]||[],C=a?"min-h-[72px] sm:min-h-[88px]":"min-h-[110px] sm:min-h-[130px]",O=b.toLocaleString(void 0,{weekday:"short"});return t.jsxs(pe.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.2},className:`${C} relative rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden group cursor-pointer ${w?"ring-2 ring-blue-500":""} min-w-0`,onClick:()=>l&&l(b),children:[t.jsxs("div",{className:"flex items-center justify-between px-2.5 pt-1.5",children:[t.jsx("div",{className:"flex items-center gap-1.5",children:k>0?t.jsxs(ri,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[k," busy"]}):t.jsx(ri,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Free"})}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"hidden xs:inline text-[10px] text-slate-400",children:O}),t.jsx("button",{className:"hidden sm:inline-flex rounded-lg p-1 text-slate-500 hover:bg-slate-100",title:"Open day details",onClick:E=>{E.stopPropagation(),c&&c(b)},children:t.jsx(Ta,{className:"h-3.5 w-3.5"})}),t.jsx("div",{className:`h-6 w-6 grid place-content-center rounded-md text-[11px] font-bold ${w?"bg-blue-600 text-white":"text-slate-700 bg-slate-100"}`,children:b.getDate()})]})]}),t.jsx("div",{className:`px-2.5 pb-2 ${a?"mt-1":"mt-2"}`,children:_.length===0?t.jsx("div",{className:"text-[11px] text-slate-400 italic",children:"No events"}):t.jsx(t.Fragment,{children:(()=>{const E=a?3:5,B=_.slice(0,E);return t.jsxs(t.Fragment,{children:[B.map(M=>{var ie,_e;const V=new Date(M.start_at),G=new Date(M.end_at),H=`${V.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}${G.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}`,F=((_e=(ie=M.links)==null?void 0:ie[0])==null?void 0:_e.provider)||M.provider||M.links&&M.links[0]&&M.links[0].provider||"";return t.jsxs("div",{className:"mb-1.5 last:mb-0 rounded-lg border border-slate-200 bg-slate-50 px-2 py-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2 min-w-0",children:[t.jsx("div",{className:"text-[11px] font-semibold text-slate-800 truncate",children:M.title||"Untitled"}),F?t.jsx(ri,{className:"border bg-white text-slate-700 border-slate-200 capitalize",children:F}):null]}),t.jsxs("div",{className:"mt-0.5 text-[11px] text-slate-600 truncate",children:[H,M.location?t.jsxs(t.Fragment,{children:["  ",t.jsx("span",{className:"font-medium",children:M.location})]}):null]})]},`${M.id||M.title}-${M.start_at}`)}),_.length>E&&t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["+",_.length-E," more"]})]})})()})}),t.jsxs("button",{className:"absolute bottom-1 right-1 inline-flex sm:hidden items-center gap-1 rounded-lg bg-white/70 backdrop-blur px-2 py-1 text-[10px] text-slate-700 border border-slate-200",onClick:E=>{E.stopPropagation(),c&&c(b)},children:[t.jsx(Ta,{className:"h-3.5 w-3.5"}),"Details"]})]},N)})}),r&&t.jsx("div",{className:"mt-3 text-center text-xs text-slate-500",children:"Loading events"})]})}function kx({label:e,value:a,Icon:n,tone:s="blue"}){const r=s==="cyan"?"text-cyan-600":"text-blue-600",l=s==="cyan"?"ring-cyan-200":"ring-blue-200";return t.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`grid h-10 w-10 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ${l} shadow-inner`,children:n?t.jsx(n,{className:`h-5 w-5 ${r}`}):null}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-semibold text-slate-500",children:e}),t.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-slate-900",children:a})]})]})})}const Cxe="modulepreload",Axe=function(e){return"/"+e},gO={},Txe=function(a,n,s){let r=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));r=c(n.map(h=>{if(h=Axe(h),h in gO)return;gO[h]=!0;const f=h.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":Cxe,f||(b.as="script"),b.crossOrigin="",b.href=h,m&&b.setAttribute("nonce",m),document.head.appendChild(b),f)return new Promise((y,j)=>{b.addEventListener("load",y),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return r.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return a().catch(l)})},Exe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://app.thedbt.ai"},Cx=import.meta&&Exe&&"https://app.thedbt.ai"||"http://localhost:8000",Ax={LOCAL:`${Cx}/api/me/call-logs`,LOCAL_EXPORT:`${Cx}/api/me/call-logs/export.csv`,VAPI_ONE:e=>`${Cx}/api/me/vapi-call-logs/${encodeURIComponent(e)}`,VAPI_LIST:`${Cx}/api/me/vapi-call-logs`},Pxe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Yj(e){const a=Number(e);if(Number.isNaN(a))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(a)}catch{return`$${a.toFixed(2)}`}}function Cd(e){if(!e)return"";try{const a=new Date(e);return Number.isNaN(a.getTime())?String(e):new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}).format(a)}catch{return String(e)}}function qm(e){const a=Number(e);if(Number.isNaN(a))return"";const n=Math.max(0,Math.floor(a)),s=Math.floor(n/3600),r=Math.floor(n%3600/60),l=n%60,c=d=>d<10?`0${d}`:`${d}`;return s>0?`${s}:${c(r)}:${c(l)}`:`${r}:${c(l)}`}function Xh(...e){return e.filter(Boolean).join(" ")}async function Tx(e){try{await navigator.clipboard.writeText(e),R.success("Copied")}catch{R.error("Copy failed")}}function bO(e){if(!e)return null;let a=e.successEvaluation;if(a==null)return null;if(typeof a=="boolean")return a;if(typeof a=="string"){const n=a.trim().toLowerCase();if(n==="true")return!0;if(n==="false")return!1}return null}function Wj(){const e=new Date,a=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${a}-${n}-${s}`}function Oxe(){const e=new Date,a=e.getDay(),n=(a===0?-6:1)-a;e.setDate(e.getDate()+n);const s=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${s}-${r}-${l}`}function Mxe(){const e=new Date,a=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0");return`${a}-${n}-01`}function on({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:Xh(l,c[s],d[n],"shrink-0",a),children:e})}function wr({children:e,className:a=""}){return t.jsx("span",{className:Xh("inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold",a),children:e})}function Ri({children:e}){return t.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function $i({children:e}){return t.jsx("td",{className:"px-4 py-3 align-middle",children:e})}function Dxe({name:e="?",size:a=34}){const n=(e||"?").split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2);return t.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:a,height:a},title:e,children:t.jsx("span",{style:{fontSize:a<40?12:13},children:n})})}function Dn({label:e,value:a,mono:n=!1}){return t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e}),t.jsx("div",{className:Xh("mt-0.5 text-sm text-slate-800 break-words",n&&"font-mono"),children:a})]})}function Rxe({open:e,onClose:a,title:n,children:s}){return t.jsx(kt,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a}),t.jsxs(pe.aside,{className:"fixed right-0 top-0 bottom-0 z-50 w-full max-w-[40rem] bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:260,damping:26},children:[t.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(on,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:""})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-3 sm:px-5 py-4",children:s})]})]})})}function $xe({src:e}){const a=p.useRef(null),n=p.useRef(null),[s,r]=p.useState(!1),[l,c]=p.useState(!1);p.useEffect(()=>{let m,h=!1;async function f(){try{const g=(await Txe(async()=>{const{default:b}=await import("./wavesurfer.esm-y_WhavdU.js");return{default:b}},[])).default;if(h)return;m=g.create({container:a.current,waveColor:"#93c5fd",progressColor:"#2563eb",cursorColor:"#64748b",height:64,barWidth:2,responsive:!0}),n.current=m,m.on("ready",()=>r(!0)),m.on("finish",()=>c(!1)),m.load(e)}catch{}}return f(),()=>{h=!0;try{m&&m.destroy()}catch{}n.current=null}},[e]);const d=()=>{n.current&&(n.current.playPause(),c(n.current.isPlaying()))};return t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[t.jsx("div",{ref:a,className:"w-full"}),!s&&t.jsx("div",{className:"mt-2",children:t.jsx("audio",{controls:!0,className:"w-full",children:t.jsx("source",{src:e})})}),s&&t.jsx("div",{className:"mt-2",children:t.jsxs(on,{onClick:d,size:"sm",variant:"primary",children:[t.jsx(Ah,{className:"h-4 w-4 mr-1"}),l?"Pause":"Play"]})})]})}function Ex({label:e,value:a,Icon:n,tone:s="blue",className:r=""}){const l=s==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=s==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:250,damping:22},className:Xh("relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",r),children:[t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:Xh("flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br text-white shadow-inner ring-1",c,l),children:t.jsx(n,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function Lxe(){var ue,Ae;const[e,a]=p.useState([]),[n,s]=p.useState(0),[r,l]=p.useState(1),[c,d]=p.useState(25),[m,h]=p.useState(!1),[f,g]=p.useState(""),[b,y]=p.useState("all"),[j,w]=p.useState("all"),[N,k]=p.useState(""),[_,C]=p.useState(""),[O,P]=p.useState("all"),[E,B]=p.useState(""),[M,V]=p.useState(""),[G,H]=p.useState("latest"),[F,ie]=p.useState("started"),[_e,ce]=p.useState(!1),[T,K]=p.useState(null),[W,I]=p.useState(!1),[A,$]=p.useState({}),z=p.useMemo(()=>{if(typeof window>"u")return null;try{return localStorage.getItem("token")}catch{return null}},[]),X=p.useMemo(()=>({Authorization:z?`Bearer ${z}`:"",Accept:"application/json"}),[z]),ge=p.useCallback(async()=>{var U;if(!z){a([]),s(0),R.error("No authentication token found.");return}try{h(!0);const de=new URLSearchParams;de.set("page",String(r)),de.set("page_size",String(c)),de.set("sort",G),de.set("sort_by",F),f.trim()&&de.set("q",f.trim()),b!=="all"&&de.set("status",b),j!=="all"&&de.set("transferred",String(j==="transferred")),N&&de.set("date_from",N),_&&de.set("date_to",_),O!=="all"&&de.set("has_recording",String(O==="yes")),E&&de.set("min_duration",E),M&&de.set("max_duration",M);const ke=await fetch(`${Ax.LOCAL}?${de.toString()}`,{headers:X}),Le=await ke.json();if(!ke.ok||!(Le!=null&&Le.success))throw new Error((Le==null?void 0:Le.detail)||(Le==null?void 0:Le.message)||`HTTP ${ke.status}`);a(Array.isArray(Le.logs)?Le.logs:[]),s(((U=Le==null?void 0:Le.pagination)==null?void 0:U.total)??0);try{const Ve=new URLSearchParams;N&&Ve.set("date_from",N),_&&Ve.set("date_to",_),Ve.set("page","1"),Ve.set("page_size","200");const Xe=await fetch(`${Ax.VAPI_LIST}?${Ve.toString()}`,{headers:X}),$e=await Xe.json();if(Xe.ok&&($e!=null&&$e.success)&&Array.isArray($e.logs)){const ne={};for(const Z of $e.logs)Z!=null&&Z.id&&(ne[Z.id]=Z);$(ne)}else $({})}catch{$({})}}catch(de){R.error((de==null?void 0:de.message)||"Failed to load call logs"),a([]),s(0),$({})}finally{h(!1)}},[z,X,r,c,f,b,j,N,_,O,E,M,G,F]);p.useEffect(()=>{ge()},[ge]),p.useEffect(()=>{l(1)},[f,b,j,N,_,O,E,M,G,F]);const te=p.useMemo(()=>{const U=new Set((e||[]).map(de=>(de.status||"").trim()).filter(Boolean));return["all",...Array.from(U).sort()]},[e]),J=p.useMemo(()=>{const U=e.length,de=e.filter(Ve=>Ve.is_transferred).length,ke=U-de,Le=(()=>{if(!U)return"";let Ve=0,Xe=0;for(const $e of e){const ne=($e==null?void 0:$e.call_duration)??($e==null?void 0:$e.duration);Number.isNaN(Number(ne))||(Ve+=Number(ne),Xe++)}return Xe?qm(Ve/Xe):""})();return{count:U,transferredCount:de,notTransferred:ke,avgDur:Le}},[e]),Ce=p.useCallback(async U=>{K(U),ce(!0);const de=(U==null?void 0:U.call_id)||(U==null?void 0:U.callId);if(de)try{I(!0);const ke=await fetch(Ax.VAPI_ONE(de),{headers:X});if(!ke.ok){I(!1);return}const Le=await ke.json();K(Ve=>{const Xe={...Ve},$e=[["status","status"],["duration","duration"],["started_at","startedAt"],["ended_at","endedAt"],["ended_reason","endedReason"],["assistant_id","assistantId"],["phone_number_id","phoneNumberId"],["customer_name","customerName"],["customer_number","customerNumber"],["recordingUrl","recordingUrl"],["summary","summary"],["transcript","transcript"],["analysis","analysis"],["cost","cost"],["call_id","callId"]];for(const[ne,Z]of $e){const ve=Xe[ne]!==void 0&&Xe[ne]!==null&&Xe[ne]!=="",fe=Le[Z];!ve&&fe!==void 0&&(Xe[ne]=fe)}return Le.startedAt&&!Xe.started_at&&(Xe.started_at=Le.startedAt),Le.endedAt&&!Xe.ended_at&&(Xe.ended_at=Le.endedAt),Xe.recording_url=Xe.recording_url||Xe.recordingUrl||Le.recordingUrl||null,Xe.recordingUrl=Xe.recording_url,Xe})}catch{}finally{I(!1)}},[X]),se=async()=>{try{if(!z)return R.error("No authentication token found.");const U=new URLSearchParams;f.trim()&&U.set("q",f.trim()),b!=="all"&&U.set("status",b),j!=="all"&&U.set("transferred",String(j==="transferred")),N&&U.set("date_from",N),_&&U.set("date_to",_),O!=="all"&&U.set("has_recording",String(O==="yes")),E&&U.set("min_duration",E),M&&U.set("max_duration",M);const de=await fetch(`${Ax.LOCAL_EXPORT}?${U.toString()}`,{headers:X});if(!de.ok)throw new Error(`HTTP ${de.status}`);const ke=await de.blob(),Le=window.URL.createObjectURL(ke),Ve=document.createElement("a");Ve.href=Le,Ve.download="my_call_logs.csv",document.body.appendChild(Ve),Ve.click(),Ve.remove(),window.URL.revokeObjectURL(Le)}catch(U){R.error((U==null?void 0:U.message)||"Export failed")}},Se=()=>{const U=Wj();k(U),C(U)},De=()=>{k(Oxe()),C(Wj())},Me=()=>{k(Mxe()),C(Wj())},ye=()=>{k(""),C("")},Ye=(U,de)=>{var ke,Le,Ve;return U||(U=((ke=A[de==null?void 0:de.call_id])==null?void 0:ke.endedReason)||((Le=A[de==null?void 0:de.callId])==null?void 0:Le.endedReason)||((Ve=A[de==null?void 0:de.id])==null?void 0:Ve.endedReason)||U),U?t.jsxs(wr,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:[t.jsx(os,{className:"mr-1 h-3.5 w-3.5"}),String(U)]}):t.jsx(wr,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:"Rather Not Say"})},Ke=U=>{const de=A[U==null?void 0:U.call_id]||A[U==null?void 0:U.callId]||A[U==null?void 0:U.id],ke=bO((U==null?void 0:U.analysis)||(de==null?void 0:de.analysis));return ke===!0?t.jsxs(wr,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(Qi,{className:"mr-1 h-3.5 w-3.5"})," Interested"]}):ke===!1?t.jsxs(wr,{className:"border bg-rose-100 text-rose-700 border-rose-200",children:[t.jsx(zn,{className:"mr-1 h-3.5 w-3.5"})," Not Intersted"]}):t.jsx(wr,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:"Rather Not Say"})},we=t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(gt,{className:"h-6 w-6 sm:h-7 w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${Pxe}`,children:"My Calls"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Local call logs list. View opens the right drawer with full merged details from VAPI  and inline recording."})]})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:t.jsx(on,{onClick:ge,title:"Refresh",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]});return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w_full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[we,t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[t.jsx(Un,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:f,onChange:U=>g(U.target.value),placeholder:"Search name, number, call id",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500",children:[t.jsx(Zi,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("select",{value:b,onChange:U=>y(U.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:te.map(U=>t.jsx("option",{value:U,children:U==="all"?"All statuses":U},U))}),t.jsxs("select",{value:j,onChange:U=>w(U.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"All transfer states"}),t.jsx("option",{value:"transferred",children:"Transferred"}),t.jsx("option",{value:"not_transferred",children:"Not transferred"})]}),t.jsxs("select",{value:O,onChange:U=>P(U.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"Has recording",children:[t.jsx("option",{value:"all",children:"Recording: Any"}),t.jsx("option",{value:"yes",children:"Recording: Yes"}),t.jsx("option",{value:"no",children:"Recording: No"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-xs font-semibold uppercase",children:[t.jsx(W2,{className:"h-4 w-4"}),"Quick Filters"]}),t.jsx(on,{onClick:Se,size:"sm",children:"Today"}),t.jsx(on,{onClick:De,size:"sm",children:"This Week"}),t.jsx(on,{onClick:Me,size:"sm",children:"This Month"}),t.jsx(on,{onClick:ye,size:"sm",variant:"subtle",children:"Clear"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"date",value:N,onChange:U=>k(U.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"From"}),t.jsx("span",{className:"text-slate-500 text-xs",children:"to"}),t.jsx("input",{type:"date",value:_,onChange:U=>C(U.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"To"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",inputMode:"decimal",step:"0.1",min:"0",placeholder:"Min sec",value:E,onChange:U=>B(U.target.value),className:"w-24 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"Min duration (sec)"}),t.jsx("input",{type:"number",inputMode:"decimal",step:"0.1",min:"0",placeholder:"Max sec",value:M,onChange:U=>V(U.target.value),className:"w-24 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"Max duration (sec)"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:F,onChange:U=>ie(U.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",title:"Sort by",children:[t.jsx("option",{value:"started",children:"Sort by: Started"}),t.jsx("option",{value:"duration",children:"Sort by: Duration"}),t.jsx("option",{value:"cost",children:"Sort by: Cost"})]}),t.jsx(on,{onClick:()=>H(U=>U==="latest"?"oldest":"latest"),title:`Order: ${G}`,children:G==="latest"?t.jsxs(t.Fragment,{children:[t.jsx(JU,{className:"h-4 w-4 mr-1"})," NewOld"]}):t.jsxs(t.Fragment,{children:[t.jsx(nF,{className:"h-4 w-4 mr-1"})," OldNew"]})})]}),t.jsxs(on,{onClick:se,variant:"primary",title:"Export CSV",children:[t.jsx(eo,{className:"h-4 w-4 mr-2"})," Export"]}),(f||b!=="all"||j!=="all"||O!=="all"||N||_||E||M)&&t.jsx(on,{onClick:()=>{g(""),y("all"),w("all"),P("all"),k(""),C(""),B(""),V("")},className:"text-slate-700",children:"Clear All"})]})]})}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(Ex,{label:"Rows (page)",value:J.count,Icon:Pr,tone:"blue"}),t.jsx(Ex,{label:"Transferred (page)",value:J.transferredCount,Icon:ta,tone:"cyan"}),t.jsx(Ex,{label:"Not Transferred (page)",value:J.notTransferred,Icon:zn,tone:"blue"}),t.jsx(Ex,{label:"Avg Duration (page)",value:J.avgDur,Icon:hw,tone:"cyan"})]}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(Pr,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["Local Call Logs (",n,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"DB (user-scoped)"]})]}),m?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading"})]}):e.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(Pr,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try adjusting filters"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden lg:block",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full min-w-[1100px]",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Ri,{children:"Customer"}),t.jsx(Ri,{children:"Number"}),t.jsx(Ri,{children:"Ended Reason"}),t.jsx(Ri,{children:"Success Evaluation"}),t.jsx(Ri,{children:"Status"}),t.jsx(Ri,{children:"Duration"}),t.jsx(Ri,{children:"Cost"}),t.jsx(Ri,{children:"Started"}),t.jsx(Ri,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(U=>{const de=!!U.is_transferred,ke=U.call_ended_reason||U.ended_reason;return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx($i,{children:t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx(Dxe,{name:U.customer_name||"Customer"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate max-w-[280px]",children:U.customer_name||""}),t.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:U.call_id||""})]})]})}),t.jsx($i,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-800 break-all",children:U.customer_number||""}),U.customer_number&&t.jsx(on,{size:"sm",onClick:()=>Tx(String(U.customer_number)),title:"Copy number",children:t.jsx(La,{className:"h-3.5 w-3.5"})})]})}),t.jsx($i,{children:Ye(ke,U)}),t.jsx($i,{children:Ke(U)}),t.jsx($i,{children:t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[U.status?t.jsx(wr,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:U.status}):t.jsx("span",{className:"text-xs text-slate-500",children:""}),de?t.jsxs(wr,{className:"border bg-indigo-100 text-indigo-700 border-indigo-200",children:[t.jsx(ta,{className:"mr-1 h-3.5 w-3.5"})," Transferred"]}):t.jsxs(wr,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[t.jsx(zn,{className:"mr-1 h-3.5 w-3.5"})," Not transferred"]})]})}),t.jsx($i,{children:t.jsx("div",{className:"text-xs font-semibold text-slate-800",children:qm(U.call_duration??U.duration)})}),t.jsx($i,{children:t.jsx("div",{className:"text-xs font-semibold text-slate-800",children:Yj(U.cost)})}),t.jsx($i,{children:t.jsx("div",{className:"text-xs text-slate-700",children:Cd(U.call_started_at)})}),t.jsx($i,{children:t.jsx("div",{className:"flex flex-wrap gap-2",children:t.jsxs(on,{onClick:()=>Ce(U),size:"sm",title:"View details",children:[t.jsx(Pr,{className:"h-4 w-4 mr-1"})," View"]})})})]},U.id)})})]})})}),t.jsx("div",{className:"lg:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:e.map(U=>{const de=!!U.is_transferred,ke=U.call_ended_reason||U.ended_reason,Le=Ke(U);return t.jsx("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:U.customer_name||""}),t.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:U.call_id||""}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0 col-span-2",children:[t.jsx(J2,{className:"h-4 w-4 text-slate-500"}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"truncate font-semibold flex items-center gap-2",children:[U.customer_number||"",U.customer_number&&t.jsx("button",{onClick:()=>Tx(String(U.customer_number)),className:"inline-flex rounded-lg border border-slate-300 px-2 py-1 text-[11px] hover:bg-slate-50",title:"Copy number",children:t.jsx(La,{className:"h-3.5 w-3.5"})})]}),t.jsx("div",{className:"text-xs text-slate-500 truncate",children:Cd(U.call_started_at)})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hw,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium",children:qm(U.call_duration??U.duration)})]}),t.jsx("div",{className:"text-xs font-semibold text-slate-800",children:Yj(U.cost)}),t.jsxs("div",{className:"col-span-2 flex flex-wrap gap-2",children:[U.status&&t.jsx(wr,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:U.status}),de?t.jsxs(wr,{className:"border bg-indigo-100 text-indigo-700 border-indigo-200",children:[t.jsx(ta,{className:"mr-1 h-3.5 w-3.5"})," Transferred"]}):t.jsxs(wr,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[t.jsx(zn,{className:"mr-1 h-3.5 w-3.5"})," Not transferred"]})]}),t.jsxs("div",{className:"col-span-2 flex flex-wrap gap-2 mt-1",children:[Ye(ke,U),Le]})]}),t.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.jsxs(on,{onClick:()=>Ce(U),size:"sm",className:"grow sm:grow-0",children:[t.jsx(Pr,{className:"h-4 w-4 mr-1"})," View"]})})]})},U.id)})})}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",t.jsx("b",{children:r})," of ",t.jsx("b",{children:Math.max(1,Math.ceil(n/c))}),"  Total ",t.jsx("b",{children:n})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-slate-500",children:"Rows per page"}),t.jsx("select",{value:c,onChange:U=>{d(Number(U.target.value)),l(1)},className:"rounded-xl border border-slate-200 bg-white px-2 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100,200].map(U=>t.jsx("option",{value:U,children:U},U))})]})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(on,{onClick:()=>l(U=>Math.max(1,U-1)),disabled:r===1,children:[t.jsx(kn,{className:"h-4 w-4 mr-1"})," Prev"]}),t.jsxs(on,{onClick:()=>l(U=>Math.min(Math.max(1,Math.ceil(n/c)),U+1)),disabled:r>=Math.max(1,Math.ceil(n/c)),children:["Next ",t.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(Rxe,{open:_e,onClose:()=>{ce(!1),K(null),I(!1)},title:"Call View",children:T?t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"rounded-2xl border border-slate-200 p-3 bg-white",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Call"}),W&&t.jsxs("div",{className:"text-xs text-slate-500 inline-flex items-center gap-1",children:[t.jsx(Ge,{className:"h-3.5 w-3.5 animate-spin"}),"Fetching VAPI details"]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsx(Dn,{label:"Customer Name",value:T.customer_name||T.customerName||""}),t.jsx(Dn,{label:"Customer Number",value:t.jsxs("span",{className:"inline-flex items-center gap-2 break-all",children:[T.customer_number||T.customerNumber||"",(T.customer_number||T.customerNumber)&&t.jsx("button",{onClick:()=>Tx(String(T.customer_number||T.customerNumber)),className:"inline-flex rounded-lg border border-slate-300 px-2 py-1 text-[11px] hover:bg-slate-50",title:"Copy number",children:t.jsx(La,{className:"h-3.5 w-3.5"})})]})}),t.jsx(Dn,{label:"Call ID",value:T.call_id||T.callId||"",mono:!0}),t.jsx(Dn,{label:"Status",value:T.status||""}),t.jsx(Dn,{label:"Duration (local)",value:qm(T.call_duration)}),t.jsx(Dn,{label:"Duration (VAPI)",value:qm(T.duration)}),t.jsx(Dn,{label:"Cost",value:Yj(T.cost)}),t.jsx(Dn,{label:"Started (local)",value:Cd(T.call_started_at)}),t.jsx(Dn,{label:"Ended (local)",value:Cd(T.call_ended_at)}),t.jsx(Dn,{label:"Started (VAPI)",value:Cd(T.started_at||T.startedAt)}),t.jsx(Dn,{label:"Ended (VAPI)",value:Cd(T.ended_at||T.endedAt)}),t.jsx(Dn,{label:"Ended Reason",value:T.ended_reason||T.call_ended_reason||((ue=A[T.call_id])==null?void 0:ue.endedReason)||((Ae=A[T.callId])==null?void 0:Ae.endedReason)||"Rather Not Say"}),t.jsx(Dn,{label:"Transferred",value:T.is_transferred||T.isTransferred?"Yes":"No"}),t.jsx(Dn,{label:"Assistant ID",value:T.assistant_id||T.assistantId||"",mono:!0}),t.jsx(Dn,{label:"Phone Number ID",value:T.phone_number_id||T.phoneNumberId||"",mono:!0}),t.jsx(Dn,{label:"Success Evaluation",value:(()=>{const U=A[T==null?void 0:T.call_id]||A[T==null?void 0:T.callId]||A[T==null?void 0:T.id],de=bO(T.analysis||(U==null?void 0:U.analysis));return de===!0?"Interested":de===!1?"Not Intersted":"Rather Not Say"})()})]}),(T.recording_url||T.recordingUrl)&&t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-slate-800 font-semibold mb-2",children:[t.jsx(Ah,{className:"h-5 w-5 text-blue-600"}),"Recording"]}),t.jsx($xe,{src:T.recording_url||T.recordingUrl}),t.jsx("div",{className:"mt-2 flex gap-2",children:(T.call_id||T.callId)&&t.jsxs(on,{size:"sm",onClick:()=>Tx(String(T.call_id||T.callId)),children:[t.jsx(La,{className:"h-4 w-4 mr-1"})," Copy Call ID"]})})]}),T.summary&&t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-slate-800 font-semibold",children:"Summary"}),t.jsxs(on,{size:"sm",onClick:()=>{const U=typeof T.summary=="string"?T.summary:JSON.stringify(T.summary,null,2),de=new Blob([U],{type:"text/plain;charset=utf-8"}),ke=URL.createObjectURL(de),Le=document.createElement("a");Le.href=ke,Le.download=`summary_${T.call_id||T.callId||"call"}.txt`,Le.click(),URL.revokeObjectURL(ke)},children:[t.jsx(eo,{className:"h-4 w-4 mr-1"})," Download .txt"]})]}),t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-slate-700 max-h-72 overflow-auto",children:typeof T.summary=="string"?T.summary:JSON.stringify(T.summary,null,2)})]}),T.transcript&&t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-slate-800 font-semibold",children:"Transcript"}),t.jsxs(on,{size:"sm",onClick:()=>{const U=typeof T.transcript=="string"?T.transcript:JSON.stringify(T.transcript,null,2),de=new Blob([U],{type:"text/plain;charset=utf-8"}),ke=URL.createObjectURL(de),Le=document.createElement("a");Le.href=ke,Le.download=`transcript_${T.call_id||T.callId||"call"}.txt`,Le.click(),URL.revokeObjectURL(ke)},children:[t.jsx(eo,{className:"h-4 w-4 mr-1"})," Download .txt"]})]}),t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-slate-700 max-h-72 overflow-auto",children:typeof T.transcript=="string"?T.transcript:JSON.stringify(T.transcript,null,2)})]}),T.analysis&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 mt-3",children:[t.jsx("div",{className:"text-slate-800 font-semibold mb-1",children:"Analysis"}),t.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs text-slate-700 max-h-72 overflow-auto",children:typeof T.analysis=="string"?T.analysis:JSON.stringify(T.analysis,null,2)})]})]})}):t.jsx("div",{className:"text-sm text-slate-600",children:"No call selected."})})]})}const Ixe="https://app.thedbt.ai",Sa={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",green:"#10b981",red:"#ef4444",amber:"#f59e0b"},p9="bg-gradient-to-r from-cyan-500 to-blue-600",Li=(e=0)=>`$${(Number(e||0)/100).toFixed(2)}`,Nr=(e=0)=>Number(e||0).toLocaleString(),Bo=(e={},a=s=>s,n=s=>s)=>Object.entries(e).map(([s,r])=>({label:a(s),value:n(r)})),Hl=(e={},a="label",n="value")=>Object.entries(e).map(([s,r])=>({[a]:s,[n]:Number(r||0)}));function Bxe(){const[e,a]=p.useState({width:null,height:null});return p.useEffect(()=>{function n(){a({width:window.innerWidth,height:window.innerHeight})}return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function zxe(){var ge,te,J,Ce,se,Se,De,Me,ye,Ye,Ke,we,ue,Ae,U,de,ke,Le,Ve,Xe;const[e,a]=p.useState(null),[n,s]=p.useState(30),[r,l]=p.useState(90),[c,d]=p.useState(!0),[m,h]=p.useState(""),{width:f}=Bxe(),b=!((f||0)>=1024),y=async()=>{try{d(!0),h("");const $e=localStorage.getItem("token"),ne=`${Ixe}/api/advanced-statistics?days=${n}&days_long=${r}&recent_limit=10`,Z=await fetch(ne,{headers:{Accept:"application/json",...$e?{Authorization:`Bearer ${$e}`}:{}}});if(!Z.ok){const fe=await Z.text();throw new Error(`HTTP ${Z.status}${fe?`  ${fe}`:""}`)}const ve=await Z.json();a(ve)}catch($e){const ne=$e&&$e.message||"Failed to load advanced stats";h(ne)}finally{d(!1)}};p.useEffect(()=>{y()},[n,r]);const j=(e==null?void 0:e.totals)||{},w=(e==null?void 0:e.calls)||{},N=(e==null?void 0:e.wallet)||{},k=(e==null?void 0:e.messages)||{},_=(e==null?void 0:e.appointments)||{},C=(e==null?void 0:e.campaigns)||{},O=(e==null?void 0:e.files_and_leads)||{},P=(e==null?void 0:e.numbers_and_calendar)||{},E=(e==null?void 0:e.forms)||{},B=(e==null?void 0:e.derived_kpis)||{},M=Bo(((ge=w==null?void 0:w.timeseries)==null?void 0:ge.per_day_count)||{}),V=Bo(((te=w==null?void 0:w.timeseries)==null?void 0:te.per_day_duration_seconds)||{}),G=Bo(((J=w==null?void 0:w.timeseries)==null?void 0:J.per_day_cost)||{}),H=Bo(((Ce=N==null?void 0:N[`timeseries_${r}d`])==null?void 0:Ce.credit_per_day_cents)||{}),F=Bo(((se=N==null?void 0:N[`timeseries_${r}d`])==null?void 0:se.spend_per_day_cents)||{}),ie=Bo(((Se=O==null?void 0:O.leads_timeseries)==null?void 0:Se.per_day_count)||{}),_e=Bo(((De=k==null?void 0:k.timeseries)==null?void 0:De.per_day_count)||{}),ce=Hl(((Me=w==null?void 0:w.lifetime)==null?void 0:Me.status_breakdown)||{},"name","value"),T=Hl(((ye=w==null?void 0:w.lifetime)==null?void 0:ye.ended_reason_breakdown)||{},"name","value");Hl((N==null?void 0:N.kinds_breakdown_cents)||{},"name","value");const K=Hl((C==null?void 0:C.by_status)||{},"name","value"),W=Hl(((Ye=C==null?void 0:C.lead_progress)==null?void 0:Ye.status_breakdown)||{},"name","value"),I=Hl((P==null?void 0:P.numbers_by_country)||{},"name","value"),A=Hl((P==null?void 0:P.calendar_by_provider)||{},"name","value"),$=Hl((E==null?void 0:E.by_status)||{},"name","value"),z=p.useMemo(()=>[{key:"files",label:"Files",value:j.files||0,icon:Pr,color:Sa.sky},{key:"leads",label:"Leads",value:j.leads||0,icon:un,color:Sa.blue},{key:"assistants",label:"Assistants",value:j.assistants||0,icon:rg,color:Sa.cyan},{key:"numbers",label:"Phone Numbers",value:j.phone_numbers||0,icon:gt,color:Sa.sky},{key:"kb",label:"Knowledge Base",value:j.knowledge_base_docs||0,icon:Jl,color:Sa.blue},{key:"balance",label:"Wallet Balance",value:Li(j.balance_cents||0),icon:pq,color:Sa.green,isMoney:!0},{key:"bonus",label:"Bonus",value:Li(j.bonus_cents||0),icon:nV,color:Sa.amber,isMoney:!0}],[j]),X=[{label:"Avg Daily Calls",value:B.avg_daily_calls||0,icon:yV,color:Sa.sky},{label:"Avg Call Cost",value:`$${Number(B.avg_call_cost||0).toFixed(4)}`,icon:NM,color:Sa.blue},{label:"Completed Calls",value:B.completed_calls||0,icon:bc,color:Sa.cyan}];return t.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[m&&t.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:m}),t.jsx(Uxe,{}),t.jsx("header",{className:"w-full px-4 md:px-8 pt-10 pb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx(pe.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-blue-700",children:"Advanced Analytics"}),t.jsx(pe.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Deep insights for calls, wallet, messages, campaigns, and more."})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(vO,{label:"Days",value:n,onChange:s,options:[7,14,30,60,90]}),t.jsx(vO,{label:"Long Window",value:r,onChange:l,options:[30,60,90,180,365]}),t.jsx("button",{onClick:y,className:"h-10 rounded-xl border border-slate-300 bg-white px-3 text-sm font-semibold hover:bg-slate-50",children:"Refresh"})]})]})}),t.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[t.jsx("section",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-7",children:z.map($e=>t.jsx(Vxe,{label:$e.label,value:$e.value,icon:$e.icon,color:$e.color,loading:c},$e.key))}),t.jsx("section",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:X.map($e=>t.jsx(Hxe,{...$e,loading:c},$e.label))}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsx(Ra,{title:"Calls per Day",children:t.jsx(Km,{data:M,compact:b})}),t.jsx(Ra,{title:"Call Duration per Day (sec)",children:t.jsx(Km,{data:V,compact:b})}),t.jsx(Ra,{title:"Call Cost per Day (USD)",children:t.jsx(Km,{data:G.map($e=>({...$e,value:Number($e.value||0)})),compact:b,formatter:$e=>`$${Number($e||0).toFixed(2)}`})}),t.jsx(Ra,{title:"Call Status Breakdown",className:"xl:col-span-2",children:t.jsx(zo,{data:ce,color:Sa.blue,compact:b})}),t.jsx(Ra,{title:"End Reason Breakdown",children:t.jsx(zo,{data:T,color:Sa.sky,compact:b})}),t.jsx(Ra,{title:"Recent Calls",className:"xl:col-span-3",children:t.jsx(Gm,{emptyText:"No calls yet.",headers:["Started","Number","Name","Status","Duration (s)","Cost ($)","Ended Reason","Transferred"],rows:((w==null?void 0:w.recent)||[]).map($e=>[Ym($e.call_started_at),$e.customer_number||"-",$e.customer_name||"-",$e.status||"-",Number($e.call_duration||0).toFixed(0),Number($e.cost||0).toFixed(2),$e.call_ended_reason||"-",$e.is_transferred?"Yes":"No"]),loading:c})})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsx(Ra,{title:`Wallet (${r}d)  Credits vs Spend`,className:"xl:col-span-2",children:t.jsx(qxe,{series:[{name:"Credit",color:Sa.green,data:H},{name:"Spend",color:Sa.red,data:F}],compact:b,formatter:$e=>Li($e)})}),t.jsx(Ra,{title:"Wallet Totals & Averages",children:t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[t.jsx(Sr,{label:"Lifetime Credited",value:Li((Ke=N==null?void 0:N.lifetime)==null?void 0:Ke.credited_cents)}),t.jsx(Sr,{label:"Lifetime Debited",value:Li((we=N==null?void 0:N.lifetime)==null?void 0:we.debited_cents)}),t.jsx(Sr,{label:"Lifetime Net",value:Li((ue=N==null?void 0:N.lifetime)==null?void 0:ue.net_cents)}),t.jsx(Sr,{label:"Avg Daily Spend",value:Li((Ae=N==null?void 0:N.derived)==null?void 0:Ae.avg_daily_spend_cents)}),t.jsx(Sr,{label:"Avg Daily Credit",value:Li((U=N==null?void 0:N.derived)==null?void 0:U.avg_daily_credit_cents)})]})}),t.jsx(Ra,{title:"Recent Transactions",className:"xl:col-span-3",children:t.jsx(Gm,{emptyText:"No transactions yet.",headers:["Time","Kind","Description","Amount","Currency"],rows:((N==null?void 0:N.recent_activity)||[]).map($e=>[Ym($e.created_at),$e.kind||"-",$e.description||"-",(Number($e.amount_cents||0)>=0?"+":"-")+Li(Math.abs(Number($e.amount_cents||0))),$e.currency||"USD"]),loading:c})})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsx(Ra,{title:"Messages per Day",children:t.jsx(Km,{data:_e,compact:b})}),t.jsx(Ra,{title:"Messaging Summary",children:t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[t.jsx(Sr,{label:"Total",value:Nr((de=k==null?void 0:k.lifetime)==null?void 0:de.total)}),t.jsx(Sr,{label:"Success",value:Nr((ke=k==null?void 0:k.lifetime)==null?void 0:ke.success)}),t.jsx(Sr,{label:"Failed",value:Nr((Le=k==null?void 0:k.lifetime)==null?void 0:Le.failed)}),t.jsx(Sr,{label:"Success Rate",value:`${Number(((Ve=k==null?void 0:k.lifetime)==null?void 0:Ve.success_rate_pct)||0).toFixed(2)}%`})]})}),t.jsx(Ra,{title:"Appointments Summary",children:t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[t.jsx(Sr,{label:"Total",value:Nr(_==null?void 0:_.total)}),Object.entries((_==null?void 0:_.status_breakdown)||{}).map(([$e,ne])=>t.jsx(Sr,{label:$e,value:Nr(ne)},$e))]})}),t.jsx(Ra,{title:"Upcoming Appointments",className:"xl:col-span-2",children:t.jsx(Gm,{emptyText:"No upcoming appointments.",headers:["Start","Title","Phone","Location","Status"],rows:((_==null?void 0:_.upcoming)||[]).map($e=>[Ym($e.start_at),$e.title||"-",$e.phone||"-",$e.location||"-",$e.status||"-"]),loading:c})}),t.jsx(Ra,{title:"Recently Completed (7d)",children:t.jsx(Gm,{emptyText:"No recent completions.",headers:["End","Title","Phone","Location","Status"],rows:((_==null?void 0:_.recently_completed)||[]).map($e=>[Ym($e.end_at),$e.title||"-",$e.phone||"-",$e.location||"-",$e.status||"-"]),loading:c})})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsx(Ra,{title:"Campaigns by Status",className:"xl:col-span-2",children:t.jsx(zo,{data:K,color:Sa.blue,compact:b})}),t.jsxs(Ra,{title:"Lead Progress",children:[t.jsx(zo,{data:W,color:Sa.cyan,compact:b}),t.jsxs("div",{className:"mt-4 text-sm text-slate-600",children:["Attempts total:"," ",t.jsx("span",{className:"font-bold",children:Nr(((Xe=C==null?void 0:C.lead_progress)==null?void 0:Xe.attempts_sum)||0)})]})]})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsx(Ra,{title:"Top Files by Leads",className:"xl:col-span-2",children:t.jsx(Gm,{emptyText:"No files yet.",headers:["Created","File","Public ID","Leads"],rows:((O==null?void 0:O.top_files_by_leads)||[]).map($e=>[Ym($e.created_at),$e.name||"-",$e.alphanumeric_id||"-",Nr($e.lead_count||0)]),loading:c})}),t.jsx(Ra,{title:"Leads per Day",children:t.jsx(Km,{data:ie,compact:b})})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 xl:grid-cols-3",children:[t.jsxs(Ra,{title:"Purchased Numbers by Country",children:[t.jsx(zo,{data:I,color:Sa.sky,compact:b}),t.jsxs("div",{className:"mt-3 text-sm text-slate-600",children:["Total numbers:"," ",t.jsx("span",{className:"font-bold",children:Nr((P==null?void 0:P.purchased_numbers_total)||0)})]})]}),t.jsxs(Ra,{title:"Calendar Accounts by Provider",children:[t.jsx(zo,{data:A,color:Sa.blue,compact:b}),t.jsxs("div",{className:"mt-3 text-sm text-slate-600",children:["Total calendar accounts:"," ",t.jsx("span",{className:"font-bold",children:Nr((P==null?void 0:P.calendar_accounts_total)||0)})]})]}),t.jsxs(Ra,{title:"Forms Summary",children:[t.jsx(zo,{data:$,color:Sa.cyan,compact:b}),t.jsxs("div",{className:"mt-3 text-sm text-slate-600",children:["Submissions (total):"," ",t.jsx("span",{className:"font-bold",children:Nr((E==null?void 0:E.total_submissions)||0)}),t.jsx("br",{}),"Booked (last ",n,"d):"," ",t.jsx("span",{className:"font-bold",children:Nr((E==null?void 0:E[`booked_last_${n}d`])||0)})]})]})]}),t.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Advanced analytics (white/blue neon)."]})]})]})}function Uxe(){return t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),t.jsx(pe.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function Ra({title:e,children:a,className:n=""}){return t.jsxs(pe.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${n}`,children:[t.jsx(Fxe,{}),t.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),a]})}function Fxe(){return t.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[t.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),t.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function Vxe({label:e,value:a,icon:n,color:s,loading:r}){const l=ro(0),c=ro(0),d=eu(c,[-50,50],[8,-8]),m=eu(l,[-50,50],[-8,8]),h=p.useRef(null);return t.jsxs(pe.div,{ref:h,onMouseMove:f=>{var b;const g=(b=h.current)==null?void 0:b.getBoundingClientRect();g&&(l.set(f.clientX-g.left-g.width/2),c.set(f.clientY-g.top-g.height/2))},onMouseLeave:()=>{l.set(0),c.set(0)},style:{rotateX:d,rotateY:m},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${s}66, #ffffff00)`}}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:t.jsx(n,{className:"h-6 w-6",style:{color:s}})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("h3",{className:"text-2xl font-black text-slate-900",children:r?t.jsx(g9,{}):t.jsx("span",{children:String(a)})}),t.jsx("span",{className:`rounded-full ${p9} px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm`,children:"Live"})]})]})]})})]})}function Hxe({label:e,value:a,icon:n,color:s,loading:r}){return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white p-4 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-2xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${s}66, #ffffff00)`}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:t.jsx(n,{className:"h-5 w-5",style:{color:s}})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-xl font-black text-slate-900",children:r?t.jsx(g9,{}):t.jsx("span",{children:String(a)})})]})]})]})}function g9(){return t.jsx("span",{className:"inline-block h-6 w-14 animate-pulse rounded bg-slate-200 align-middle"})}function Sr({label:e,value:a}){return t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx("div",{className:"text-[11px] text-slate-500",children:e}),t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:a??"-"})]})}function vO({label:e,value:a,onChange:n,options:s=[]}){return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-slate-600",children:e}),t.jsx("div",{className:"flex items-center gap-1 rounded-xl border border-slate-200 bg-white p-1",children:s.map(r=>{const l=Number(a)===Number(r);return t.jsx("button",{onClick:()=>n(r),className:`h-8 min-w-[3rem] rounded-lg px-3 text-xs font-semibold ${l?"text-white "+p9:"text-slate-700 hover:bg-slate-50"}`,children:r},r)})})]})}function Km({data:e=[],compact:a=!1,formatter:n}){const s=(e||[]).map(r=>({label:r.label,value:Number(r.value||0)}));return t.jsx("div",{className:"h-64 w-full",children:t.jsx(Os,{children:t.jsxs(_f,{data:s,margin:{top:10,right:20,left:a?0:-10,bottom:0},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[t.jsx("stop",{offset:"0%",stopColor:Sa.cyan}),t.jsx("stop",{offset:"100%",stopColor:Sa.blue})]})}),t.jsx($r,{strokeDasharray:"3 3",strokeOpacity:.15}),t.jsx(cr,{dataKey:"label",tick:{fontSize:12},hide:a}),t.jsx(dr,{tick:{fontSize:12},tickFormatter:n}),t.jsx(Ps,{contentStyle:{borderRadius:12},formatter:r=>n?n(r):r}),t.jsx(Pu,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3,dot:!1,activeDot:{r:5},isAnimationActive:!0,animationBegin:120,animationDuration:800,animationEasing:"ease"})]})})})}function qxe({series:e=[],compact:a=!1,formatter:n}){const r=[...new Set(e.flatMap(l=>(l.data||[]).map(c=>c.label)))].sort().map(l=>{const c={label:l};return e.forEach(d=>{var h;const m=(h=d.data)==null?void 0:h.find(f=>f.label===l);c[d.name]=Number((m==null?void 0:m.value)||0)}),c});return t.jsx("div",{className:"h-64 w-full",children:t.jsx(Os,{children:t.jsxs(_f,{data:r,margin:{top:10,right:20,left:a?0:-10,bottom:0},children:[t.jsx($r,{strokeDasharray:"3 3",strokeOpacity:.15}),t.jsx(cr,{dataKey:"label",tick:{fontSize:12},hide:a}),t.jsx(dr,{tick:{fontSize:12},tickFormatter:n}),t.jsx(Ps,{contentStyle:{borderRadius:12},formatter:l=>n?n(l):l}),t.jsx(Eg,{}),e.map(l=>t.jsx(Pu,{type:"monotone",dataKey:l.name,stroke:l.color,strokeWidth:3,dot:!1,activeDot:{r:4},isAnimationActive:!0,animationBegin:120,animationDuration:800},l.name))]})})})}function zo({data:e=[],color:a=Sa.blue,compact:n=!1}){const s=(e||[]).map(r=>({name:String(r.name||"-"),value:Number(r.value||0)}));return t.jsx("div",{className:"h-72 w-full",children:t.jsx(Os,{children:t.jsxs(wh,{data:s,margin:{top:10,right:20,left:n?0:-10,bottom:0},children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:a}),t.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})}),t.jsx($r,{strokeDasharray:"3 3",strokeOpacity:.2}),t.jsx(cr,{dataKey:"name",tick:{fontSize:12},hide:n}),t.jsx(dr,{tick:{fontSize:12}}),t.jsx(Ps,{contentStyle:{borderRadius:12}}),t.jsx(qd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],isAnimationActive:!0,animationBegin:140,animationDuration:800})]})})})}function Gm({headers:e=[],rows:a=[],emptyText:n="No data.",loading:s}){return s?t.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[t.jsx("div",{className:"h-8 w-40 animate-pulse rounded bg-slate-200 mb-2"}),t.jsx("div",{className:"h-32 w-full animate-pulse rounded bg-slate-100"})]}):a!=null&&a.length?t.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-slate-50 text-slate-700",children:t.jsx("tr",{children:e.map(r=>t.jsx("th",{className:"px-3 py-2 text-left font-semibold border-b border-slate-200",children:r},r))})}),t.jsx("tbody",{children:a.map((r,l)=>t.jsx("tr",{className:"even:bg-slate-50/40",children:r.map((c,d)=>t.jsx("td",{className:"px-3 py-2 border-b border-slate-100",children:c},d))},l))})]})}):t.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-6 text-sm text-slate-600",children:n})}function Ym(e){if(!e)return"-";try{const a=new Date(e);return Number.isNaN(a.getTime())?String(e):a.toLocaleString()}catch{return String(e)}}function Kxe(...e){return e.filter(Boolean).join(" ")}const yO="https://app.thedbt.ai";function Gxe({onClick:e}){const a=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return t.jsxs("button",{type:"button",onClick:e,onKeyDown:a,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[t.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),t.jsxs(pe.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),t.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),t.jsxs("filter",{id:"glow",children:[t.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsx(pe.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),t.jsx(pe.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),t.jsx(pe.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function Yxe({className:e="",onMenuToggle:a,profilePath:n="/admin/settings"}){const[s,r]=p.useState(""),[l,c]=p.useState(null),[d,m]=p.useState(!1),h=da();p.useEffect(()=>{r(localStorage.getItem("name")||"User")},[]),p.useEffect(()=>{const y=localStorage.getItem("token"),j=new AbortController;async function w(){try{const N=await fetch(`${yO}/api/profile-photo`,{headers:y?{Authorization:`Bearer ${y}`}:{},signal:j.signal,mode:"cors"});if(!N.ok){m(!0);return}const k=await N.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${yO}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),m(!1)}else m(!0)}catch{m(!0)}}return w(),()=>j.abort()},[]);const f=y=>y.split(" ").map(j=>j.charAt(0)).join("").toUpperCase().slice(0,2),g=({size:y=40})=>{const j=y;return t.jsxs("button",{type:"button",onClick:()=>h(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[t.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?t.jsx("img",{src:l,alt:"Profile photo",width:j,height:j,className:"rounded-full object-cover",style:{width:j,height:j},onLoad:()=>m(!1),onError:()=>m(!0)}):t.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:j,height:j,fontSize:j<36?10:12},children:f(s)})}),t.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),t.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},b=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof a=="function"&&a()};return t.jsxs("header",{className:Kxe("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[t.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:t.jsxs("div",{className:"flex items-center justify-between h-full",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[t.jsx(Gxe,{onClick:b}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"hidden lg:block",children:[t.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),t.jsxs("div",{className:"relative",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Control center for users, leads & calls"}),t.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),t.jsxs("div",{className:"hidden sm:block lg:hidden",children:[t.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),t.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Insights & controls"})]}),t.jsxs("div",{className:"sm:hidden relative",children:[t.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),t.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[t.jsxs(pe.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[t.jsx("div",{className:"relative",children:t.jsx(g,{size:40})}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome!"}),t.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:s})]})]}),t.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[t.jsx(g,{size:32}),t.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:s})]}),t.jsx("div",{className:"sm:hidden",children:t.jsx(g,{size:36})}),t.jsxs(pe.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[t.jsx(ip,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),t.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),t.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function Wxe({compact:e=!1}){const a=p.useMemo(()=>[{text:"Make Calls",Icon:gt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:ls,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:IN,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:un,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:ls,from:"#22D3EE",to:"#2563EB"}],[]),[n,s]=p.useState(0),[r,l]=p.useState(""),[c,d]=p.useState(!1);p.useEffect(()=>{const g=a[n].text,b=40,y=28,j=1100;let w;return!c&&r.length<g.length?w=setTimeout(()=>l(g.slice(0,r.length+1)),b):!c&&r.length===g.length?w=setTimeout(()=>d(!0),j):c&&r.length>0?w=setTimeout(()=>l(g.slice(0,r.length-1)),y):c&&r.length===0&&(d(!1),s(N=>(N+1)%a.length)),()=>clearTimeout(w)},[r,c,n,a]);const{Icon:m,from:h,to:f}=a[n];return t.jsxs("div",{className:`relative flex items-center ${e?"justify-center p-3 sm:p-4":"p-4 sm:p-6"}`,children:[t.jsxs("div",{className:"relative mr-0 sm:mr-3",children:[t.jsx(pe.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${h}, ${f})`,boxShadow:`0 0 24px 6px ${f}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:t.jsx(m,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),t.jsx(pe.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${f}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[t.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${h}, ${f})`},children:r}),t.jsx(pe.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),t.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function Xxe(){const[e,a]=p.useState(!1),[n,s]=p.useState(!1),[r,l]=p.useState(!1),c=fi(),d=da();p.useEffect(()=>{const f=()=>{const g=window.innerWidth;l(g<768),a(g<1024)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),p.useEffect(()=>{s(!1)},[c.pathname]),p.useEffect(()=>{const f=()=>{r?s(g=>!g):a(g=>!g)};return window.addEventListener("app:toggle-sidebar",f),()=>window.removeEventListener("app:toggle-sidebar",f)},[r]);const m=[{id:"dashboard",label:"Dashboard",icon:X2,href:"/admin/dashboard",color:"text-blue-600"},{id:"users",label:"Users",icon:un,href:"/admin/Users",color:"text-blue-600"},{id:"phoneNumbers",label:"Call Details",icon:gt,href:"/admin/PhoneCalls",color:"text-orange-600"},{id:"leads",label:"Leads",icon:un,href:"/admin/lead",color:"text-purple-600"},{id:"Phone Numbers",label:"Phone Numbers",icon:un,href:"/admin/callhistory",color:"text-purple-600"},{id:"Phone Numbers",label:"Billing Plan",icon:un,href:"/admin/BillingPlans",color:"text-purple-600"}],h=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:t.jsx(Wxe,{compact:e&&!r})}),t.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:m.map(f=>{const g=f.icon,b=c.pathname===f.href;return t.jsxs("button",{type:"button",onClick:()=>d(f.href),className:`group relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation ${b?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"} ${e&&!r?"justify-center p-2 sm:p-3":"p-3 sm:p-3"} ${r?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!r?f.label:"",children:[b&&!e&&t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),t.jsx(g,{className:`flex-shrink-0 transition-all duration-200 ${e&&!r?"w-6 h-6":"w-5 h-5"} ${b?f.color:"text-slate-500 group-hover:text-slate-700"} ${b?"scale-110":"group-hover:scale-105"}`}),(!e||r)&&t.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base",children:f.label}),b&&(!e||r)&&t.jsx("div",{className:"ml-auto flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},f.id)})}),!r&&t.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:t.jsx("button",{onClick:()=>a(f=>!f),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?t.jsx(pa,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):t.jsxs(t.Fragment,{children:[t.jsx(kn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),t.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return t.jsxs(t.Fragment,{children:[!r&&t.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:t.jsx("div",{className:"flex flex-col h-full",children:t.jsx(h,{})})}),r&&t.jsxs("div",{className:"md:hidden",children:[n&&t.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>s(!1),"aria-hidden":"true"}),t.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:t.jsx("div",{className:"flex flex-col h-full",children:t.jsx(h,{})})})]})]})}function Zxe(){return t.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[t.jsx(Xxe,{}),t.jsxs("div",{className:"flex flex-1 flex-col",children:[t.jsx(Yxe,{className:"h-16 border-b"}),t.jsx("main",{className:"flex-1 p-6",children:t.jsx(tM,{})})]})]})}const Xj={},Zo="https://app.thedbt.ai",Qxe=(Xj==null?void 0:Xj.VITE_AFTER_IMPERSONATE_PATH)||"/",ql={USERS:`${Zo}/api/admin/users`,USER:e=>`${Zo}/api/admin/users/${e}`,USER_DETAILS:e=>`${Zo}/api/admin/users/${e}/details`,USER_PHOTO_DELETE:e=>`${Zo}/api/admin/users/${e}/profile-photo`,RESET_PASSWORD:e=>`${Zo}/api/admin/users/${e}/reset-password`,IMPERSONATE_LOGIN_AS:`${Zo}/api/admin/impersonate/login-as`},Jxe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",Px=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const a=e.startsWith("/")?e:`/${e}`;return`${Zo}${a}`},Zj=e=>e==="admin"?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200";function Wm({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function epe(){return t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Lt({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[s]} ${d[n]} ${a}`,children:e})}function tpe(){var pt,Pa;const[e,a]=p.useState([]),[n,s]=p.useState({total:0,admins:0,verified:0,withPhoto:0}),[r,l]=p.useState(!1),[c,d]=p.useState(""),[m,h]=p.useState(null),[f,g]=p.useState(""),[b,y]=p.useState("all"),[j,w]=p.useState("all"),[N,k]=p.useState(1),_=10,[C,O]=p.useState(!1),[P,E]=p.useState(null),[B,M]=p.useState(!1),[V,G]=p.useState(null),[H,F]=p.useState(!1),[ie,_e]=p.useState(!1),[ce,T]=p.useState(null),[K,W]=p.useState(!1),[I,A]=p.useState(!1),[$,z]=p.useState(null),[X,ge]=p.useState({name:"",email:"",role:"user",setPasswordManually:!1,password:""}),[te,J]=p.useState(null),[Ce,se]=p.useState(!1),[Se,De]=p.useState(null),[Me,ye]=p.useState(!1),[Ye,Ke]=p.useState(""),[we,ue]=p.useState(null),[Ae,U]=p.useState(null),[de,ke]=p.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),Le=p.useCallback(async()=>{if(de){a([]),s({total:0,admins:0,verified:0,withPhoto:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const oe=localStorage.getItem("token");if(!oe){a([]),s({total:0,admins:0,verified:0,withPhoto:0}),d("No auth token found."),R.error("No authentication token found.");return}try{l(!0),d("");const Q=await fetch(ql.USERS,{headers:{Authorization:`Bearer ${oe}`,Accept:"application/json"},mode:"cors"});if(!Q.ok){const ut=await Q.text();throw new Error(`HTTP ${Q.status}${ut?`  ${ut}`:""}`)}const le=await Q.json();if(!(le!=null&&le.success)||!Array.isArray(le==null?void 0:le.users))throw new Error("Unexpected response shape.");const he=(le.users||[]).map(ut=>({id:ut.id,name:ut.name||"",email:ut.email||"",email_verified:!!ut.email_verified,role:ut.role||"user",profile_photo_url:Px(ut.profile_photo_url||ut.profile_photo)}));he.sort((ut,Mt)=>ut.name.localeCompare(Mt.name)),a(he);const Je=he.filter(ut=>ut.role==="admin").length,lt=he.filter(ut=>ut.email_verified).length,yt=he.filter(ut=>!!ut.profile_photo_url).length;s({total:le.total_users??he.length,admins:Je,verified:lt,withPhoto:yt})}catch(Q){d((Q==null?void 0:Q.message)||"Failed to load users"),R.error((Q==null?void 0:Q.message)||"Failed to load users")}finally{l(!1)}},[de]);p.useEffect(()=>{Le()},[Le]);const Ve=p.useMemo(()=>{let oe=[...e];if(f.trim()){const Q=f.trim().toLowerCase();oe=oe.filter(le=>String(le.name||"").toLowerCase().includes(Q)||String(le.email||"").toLowerCase().includes(Q))}return b!=="all"&&(oe=oe.filter(Q=>Q.role===b)),j!=="all"&&(oe=oe.filter(Q=>j==="verified"?Q.email_verified:!Q.email_verified)),oe},[e,f,b,j]),Xe=Math.max(1,Math.ceil(Ve.length/_)),$e=N*_,ne=$e-_,Z=Ve.slice(ne,$e);p.useEffect(()=>{k(1)},[f,b,j]);const ve=oe=>{E({id:oe.id,name:oe.name,email:oe.email,role:oe.role}),O(!0)},fe=async()=>{if(!P)return;const oe=localStorage.getItem("token");if(!oe)return R.error("No authentication token found.");const Q={name:String(P.name||"").trim(),email:String(P.email||"").trim(),role:P.role==="admin"?"admin":"user"};try{M(!0);const le=await fetch(ql.USER(P.id),{method:"PUT",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Q)}),he=await le.json();if(!le.ok||!(he!=null&&he.success))throw new Error((he==null?void 0:he.detail)||(he==null?void 0:he.message)||`HTTP ${le.status}`);R.success(" User updated"),O(!1),E(null),a(Je=>Je.map(lt=>{var yt;return lt.id===((yt=he.updated_user)==null?void 0:yt.id)?{...lt,name:he.updated_user.name,email:he.updated_user.email,role:he.updated_user.role,profile_photo_url:Px(he.updated_user.profile_photo_url||he.updated_user.profile_photo)}:lt})),Le()}catch(le){R.error((le==null?void 0:le.message)||"Update failed")}finally{M(!1)}},Ue=oe=>G(oe),rt=async()=>{const oe=V;if(!oe)return;const Q=localStorage.getItem("token");if(!Q)return R.error("No authentication token found.");try{h(oe);const le=await fetch(ql.USER(oe),{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),he=await le.json();if(!le.ok||!(he!=null&&he.success))throw new Error((he==null?void 0:he.detail)||(he==null?void 0:he.message)||`HTTP ${le.status}`);R.success(" User deleted"),a(Je=>Je.filter(lt=>lt.id!==oe)),s(Je=>({...Je,total:Math.max(0,Je.total-1)})),G(null)}catch(le){R.error((le==null?void 0:le.message)||"Delete failed")}finally{h(null)}},dt=async oe=>{const Q=localStorage.getItem("token");if(!Q){R.error("No authentication token found.");return}try{F(!0),_e(!0),T(null);const le=await fetch(ql.USER_DETAILS(oe.id),{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),he=await le.json();if(!le.ok||!(he!=null&&he.success))throw new Error((he==null?void 0:he.detail)||(he==null?void 0:he.message)||`HTTP ${le.status}`);T(he.details)}catch(le){R.error((le==null?void 0:le.message)||"Failed to load details")}finally{_e(!1)}},tt=async oe=>{const Q=localStorage.getItem("token");if(!Q)return R.error("No authentication token found.");try{ue(oe);const le=await fetch(ql.USER_PHOTO_DELETE(oe),{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),he=await le.json();if(!le.ok||!(he!=null&&he.success))throw new Error((he==null?void 0:he.detail)||(he==null?void 0:he.message)||`HTTP ${le.status}`);R.success(" Profile photo removed"),a(Je=>Je.map(lt=>lt.id===oe?{...lt,profile_photo_url:null}:lt)),s(Je=>({...Je,withPhoto:Math.max(0,Je.withPhoto-1)}))}catch(le){R.error((le==null?void 0:le.message)||"Failed to remove photo")}finally{ue(null)}},$t=async()=>{const oe=localStorage.getItem("token");if(!oe)return R.error("No authentication token found.");const Q={name:X.name.trim(),email:X.email.trim(),role:X.role,password:X.setPasswordManually?(X.password||"").trim():null};if(!Q.name||!Q.email)return R.error("Name and email are required.");if(X.setPasswordManually&&Q.password.length<6)return R.error("Password must be at least 6 characters.");try{A(!0);const le=await fetch(ql.USERS,{method:"POST",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Q)}),he=await le.json();if(!le.ok||!(he!=null&&he.success))throw new Error((he==null?void 0:he.detail)||(he==null?void 0:he.message)||`HTTP ${le.status}`);const Je=he.created_user,lt={id:Je.id,name:Je.name,email:Je.email,role:Je.role||"user",email_verified:!!Je.email_verified,profile_photo_url:Px(Je.profile_photo_url||Je.profile_photo)};a(yt=>[lt,...yt].sort((ut,Mt)=>ut.name.localeCompare(Mt.name))),s(yt=>({...yt,total:yt.total+1,admins:yt.admins+(lt.role==="admin"?1:0),verified:yt.verified+(lt.email_verified?1:0),withPhoto:yt.withPhoto+(lt.profile_photo_url?1:0)})),he.initial_password?z(he.initial_password):R.success(" User created"),W(!1),ge({name:"",email:"",role:"user",setPasswordManually:!1,password:""})}catch(le){R.error((le==null?void 0:le.message)||"Create failed")}finally{A(!1)}},Tt=async()=>{if(!te)return;const oe=localStorage.getItem("token");if(!oe)return R.error("No authentication token found.");const Q=Me&&Ye?{new_password:Ye}:{new_password:null};try{se(!0);const le=await fetch(ql.RESET_PASSWORD(te),{method:"POST",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Q)}),he=await le.json();if(!le.ok||!(he!=null&&he.success))throw new Error((he==null?void 0:he.detail)||(he==null?void 0:he.message)||`HTTP ${le.status}`);he.new_password?De(he.new_password):(R.success(" Password updated"),J(null),Ke(""),ye(!1))}catch(le){R.error((le==null?void 0:le.message)||"Reset failed")}finally{se(!1)}},ze=async oe=>{const Q=localStorage.getItem("token");if(!Q)return R.error("No authentication token found.");try{U(oe.id);const le=await fetch(ql.IMPERSONATE_LOGIN_AS,{method:"POST",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:oe.id,reason:"Admin impersonation from Users panel"})}),he=await le.json();if(!le.ok||!(he!=null&&he.success))throw new Error((he==null?void 0:he.detail)||(he==null?void 0:he.message)||`HTTP ${le.status}`);const{token:Je,acting_as:lt,impersonated_by:yt}=he;localStorage.setItem("admin_token_backup",Q),localStorage.setItem("token",Je),localStorage.setItem("impersonation_info",JSON.stringify({acting_as:lt,impersonated_by:yt,started_at:Date.now()})),R.success(` Now impersonating ${(lt==null?void 0:lt.email)||"user"}`),window.location.assign(Qxe)}catch(le){R.error((le==null?void 0:le.message)||"Impersonation failed")}finally{U(null)}},Ze=()=>{const oe=localStorage.getItem("admin_token_backup");if(!oe){R.error("No admin backup token found.");return}localStorage.setItem("token",oe),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),ke(null),R.success(" Exited impersonation"),window.location.reload()};return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[de&&t.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:t.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[t.jsx(R0,{className:"h-4 w-4 shrink-0"}),t.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),t.jsxs("span",{className:"truncate",children:["Acting as ",t.jsx("b",{className:"break-all",children:(pt=de.acting_as)==null?void 0:pt.email})]})]}),t.jsxs(Lt,{onClick:Ze,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[t.jsx(ip,{className:"mr-2 h-4 w-4"}),"Exit"]})]})}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(un,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${Jxe}`,children:"User Management"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create users, manage roles, inspect assets, and impersonate users."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(Lt,{onClick:()=>W(!0),disabled:!!de,variant:"primary",children:[t.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Add User"]}),t.jsx(Lt,{onClick:Le,disabled:r||!!de,children:r?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(Ox,{label:"Total Users",value:n.total,Icon:un,tone:"blue"}),t.jsx(Ox,{label:"Admins",value:n.admins,Icon:fy,tone:"cyan"}),t.jsx(Ox,{label:"Verified",value:n.verified,Icon:ta,tone:"blue"}),t.jsx(Ox,{label:"With Photo",value:n.withPhoto,Icon:TV,tone:"cyan"})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Un,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:f,onChange:oe=>g(oe.target.value),placeholder:"Search by name or email",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!de})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[t.jsx(Zi,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("select",{value:b,onChange:oe=>y(oe.target.value),disabled:!!de,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"All roles"}),t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]}),t.jsxs("select",{value:j,onChange:oe=>w(oe.target.value),disabled:!!de,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"All statuses"}),t.jsx("option",{value:"verified",children:"Verified"}),t.jsx("option",{value:"unverified",children:"Unverified"})]}),(f||b!=="all"||j!=="all")&&t.jsx(Lt,{onClick:()=>{g(""),y("all"),w("all")},className:"text-slate-700",disabled:!!de,children:"Clear"})]})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(un,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Users (",Ve.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),de?t.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:t.jsx(R0,{className:"h-9 w-9 text-amber-500"})}),t.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),t.jsx("div",{className:"mt-3",children:t.jsxs(Lt,{onClick:Ze,variant:"primary",children:[t.jsx(ip,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):r?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading users"})]}):Ve.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(un,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Xm,{children:"User"}),t.jsx(Xm,{children:"Email"}),t.jsx(Xm,{children:"Role"}),t.jsx(Xm,{children:"Status"}),t.jsx(Xm,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:Z.map(oe=>t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(Zm,{children:t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx(Qj,{url:oe.profile_photo_url,name:oe.name}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:oe.name}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",oe.id]})]})]})}),t.jsx(Zm,{children:t.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[t.jsx(Fn,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),t.jsx("span",{className:"text-xs font-medium break-words",children:oe.email})]})}),t.jsx(Zm,{children:t.jsx(Wm,{className:`border ${Zj(oe.role)}`,children:oe.role==="admin"?t.jsxs(t.Fragment,{children:[t.jsx(fy,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):t.jsxs(t.Fragment,{children:[t.jsx(lr,{className:"mr-1 h-3.5 w-3.5"})," User"]})})}),t.jsx(Zm,{children:oe.email_verified?t.jsxs(Wm,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ta,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):t.jsxs(Wm,{className:"border bg-red-100 text-red-700 border-red-200",children:[t.jsx(zn,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})}),t.jsx(Zm,{children:t.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[t.jsx(Lt,{onClick:()=>dt(oe),variant:"outline",size:"sm",title:"View details",children:t.jsx(Ta,{className:"h-4 w-4"})}),t.jsx(Lt,{onClick:()=>ve(oe),variant:"outline",size:"sm",title:"Edit",children:t.jsx(Ud,{className:"h-4 w-4"})}),t.jsx(Lt,{onClick:()=>J(oe.id),variant:"subtle",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",title:"Reset password",children:t.jsx(Ql,{className:"h-4 w-4"})}),t.jsx(Lt,{onClick:()=>ze(oe),disabled:Ae===oe.id,variant:"subtle",size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50",title:"Login as this user",children:Ae===oe.id?t.jsx(Ge,{className:"h-4 w-4 animate-spin"}):t.jsx(R0,{className:"h-4 w-4"})}),t.jsx(Lt,{onClick:()=>Ue(oe.id),variant:"danger",size:"sm",title:"Delete",children:m===oe.id?t.jsx(Ge,{className:"h-4 w-4 animate-spin"}):t.jsx(Ea,{className:"h-4 w-4"})}),oe.profile_photo_url?t.jsx(Lt,{onClick:()=>tt(oe.id),disabled:we===oe.id,variant:"subtle",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",title:"Remove profile photo",children:we===oe.id?t.jsx(Ge,{className:"h-4 w-4 animate-spin"}):t.jsx(H3,{className:"h-4 w-4"})}):null]})})]},oe.id))})]})})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Z.map((oe,Q)=>t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Q===0&&t.jsx(epe,{}),t.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[t.jsx(Qj,{size:48,url:oe.profile_photo_url,name:oe.name}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:oe.name}),t.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-slate-600 min-w-0",children:[t.jsx(Fn,{className:"h-4 w-4 text-slate-500 shrink-0"}),t.jsx("span",{className:"truncate break-words",children:oe.email})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border ${Zj(oe.role)} text-[11px] font-semibold`,children:oe.role==="admin"?t.jsxs(t.Fragment,{children:[t.jsx(fy,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):t.jsxs(t.Fragment,{children:[t.jsx(lr,{className:"mr-1 h-3.5 w-3.5"})," User"]})}),oe.email_verified?t.jsxs(Wm,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ta,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):t.jsxs(Wm,{className:"border bg-red-100 text-red-700 border-red-200",children:[t.jsx(zn,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})]})]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsxs(Lt,{onClick:()=>dt(oe),size:"sm",className:"grow sm:grow-0",children:[t.jsx(Ta,{className:"h-4 w-4 mr-1"}),"View"]}),t.jsxs(Lt,{onClick:()=>ve(oe),size:"sm",className:"grow sm:grow-0",children:[t.jsx(Ud,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(Lt,{onClick:()=>J(oe.id),size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 grow sm:grow-0",children:[t.jsx(Ql,{className:"h-4 w-4 mr-1"}),"Reset"]}),t.jsx(Lt,{onClick:()=>ze(oe),disabled:Ae===oe.id,size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 grow sm:grow-0",title:"Login as this user",children:Ae===oe.id?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-1"})," Acting"]}):t.jsxs(t.Fragment,{children:[t.jsx(R0,{className:"h-4 w-4 mr-1"})," Login as"]})}),t.jsx(Lt,{onClick:()=>Ue(oe.id),variant:"danger",size:"sm",className:"grow sm:grow-0",children:m===oe.id?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ea,{className:"h-4 w-4 mr-1"})," Delete"]})}),oe.profile_photo_url&&t.jsx(Lt,{onClick:()=>tt(oe.id),disabled:we===oe.id,className:"w-full border-amber-200 text-amber-700 hover:bg-amber-50",children:we===oe.id?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Removing photo"]}):t.jsxs(t.Fragment,{children:[t.jsx(H3,{className:"h-4 w-4 mr-2"}),"Remove photo"]})})]}),t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",oe.id]})]},oe.id))})}),Ve.length>_&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("b",{children:ne+1}),"",t.jsx("b",{children:Math.min($e,Ve.length)})," of"," ",t.jsx("b",{children:Ve.length})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(Lt,{onClick:()=>k(oe=>Math.max(1,oe-1)),disabled:N===1,children:[t.jsx(kn,{className:"h-4 w-4 mr-1"}),"Prev"]}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Xe)},(oe,Q)=>{let le;if(Xe<=5||N<=3?le=Q+1:N>=Xe-2?le=Xe-4+Q:le=N-2+Q,le<1||le>Xe)return null;const he=N===le;return t.jsx("button",{onClick:()=>k(le),className:`px-3 py-2 text-sm font-semibold rounded-xl ${he?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:le},le)})}),t.jsxs(Lt,{onClick:()=>k(oe=>Math.min(Xe,oe+1)),disabled:N>=Xe,children:["Next ",t.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(kt,{children:K&&t.jsxs(eh,{onClose:()=>W(!1),title:"Add User",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(Ad,{label:"Name",children:t.jsx("input",{value:X.name,onChange:oe=>ge(Q=>({...Q,name:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter full name"})}),t.jsx(Ad,{label:"Email",children:t.jsx("input",{type:"email",value:X.email,onChange:oe=>ge(Q=>({...Q,email:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),t.jsx(Ad,{label:"Role",children:t.jsxs("select",{value:X.role,onChange:oe=>ge(Q=>({...Q,role:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})}),t.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:X.setPasswordManually,onChange:oe=>ge(Q=>({...Q,setPasswordManually:oe.target.checked,password:oe.target.checked?Q.password:""}))}),t.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),X.setPasswordManually&&t.jsx("div",{className:"mt-3",children:t.jsx("input",{type:"text",value:X.password,onChange:oe=>ge(Q=>({...Q,password:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter initial password"})})]})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(Lt,{onClick:()=>W(!1),variant:"subtle",children:"Cancel"}),t.jsx(Lt,{onClick:$t,disabled:I||!X.name.trim()||!X.email.trim()||X.setPasswordManually&&X.password.trim().length<6,variant:"primary",children:I?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),t.jsx(kt,{children:$&&t.jsxs(eh,{onClose:()=>z(null),title:"Initial Password",children:[t.jsx("div",{className:"text-sm text-slate-700",children:"This user was created with an auto-generated password. Copy it now and share securely."}),t.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx(Ql,{className:"h-4 w-4 text-slate-600"}),t.jsx("code",{className:"font-mono text-slate-900 break-all",children:$}),t.jsxs(Lt,{onClick:()=>{navigator.clipboard.writeText($),R.success("Copied!")},className:"ml-auto",children:[t.jsx(La,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx(Lt,{onClick:()=>z(null),variant:"primary",children:"Got it"})})]})}),t.jsx(kt,{children:C&&P&&t.jsxs(eh,{onClose:()=>O(!1),title:"Edit User",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(Ad,{label:"Name",children:t.jsx("input",{value:P.name,onChange:oe=>E(Q=>({...Q,name:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})}),t.jsx(Ad,{label:"Email",children:t.jsx("input",{type:"email",value:P.email,onChange:oe=>E(Q=>({...Q,email:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email"})}),t.jsx(Ad,{label:"Role",children:t.jsxs("select",{value:P.role,onChange:oe=>E(Q=>({...Q,role:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(Lt,{onClick:()=>O(!1),variant:"subtle",children:"Cancel"}),t.jsx(Lt,{onClick:fe,disabled:B||!P.name||!P.email,variant:"primary",children:B?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),t.jsx(kt,{children:V&&t.jsxs(eh,{onClose:()=>G(null),title:"Confirm Delete",children:[t.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete"," ",t.jsx("b",{className:"break-words",children:((Pa=e.find(oe=>oe.id===V))==null?void 0:Pa.name)||"this user"}),"? This action cannot be undone."]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(Lt,{onClick:()=>G(null),variant:"subtle",children:"Cancel"}),t.jsx(Lt,{onClick:rt,disabled:m===V,variant:"danger",children:m===V?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):"Delete"})]})]})}),t.jsx(kt,{children:te&&t.jsx(eh,{onClose:()=>{J(null),De(null),ye(!1),Ke("")},title:"Reset Password",children:Se?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-sm text-slate-700",children:"Auto-generated password. Copy it now and share securely."}),t.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx(Ql,{className:"h-4 w-4 text-slate-600"}),t.jsx("code",{className:"font-mono text-slate-900 break-all",children:Se}),t.jsxs(Lt,{onClick:()=>{navigator.clipboard.writeText(Se),R.success("Copied!")},className:"ml-auto",children:[t.jsx(La,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx(Lt,{onClick:()=>{J(null),De(null)},variant:"primary",children:"Done"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:Me,onChange:oe=>ye(oe.target.checked)}),t.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),Me&&t.jsx("input",{type:"text",value:Ye,onChange:oe=>Ke(oe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter new password"})]}),t.jsxs("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[t.jsx(Lt,{onClick:()=>{J(null),ye(!1),Ke("")},variant:"subtle",children:"Cancel"}),t.jsx(Lt,{onClick:Tt,disabled:Ce||Me&&Ye.trim().length<6,variant:"primary",children:Ce?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Reset"})]})]})})}),t.jsx(kt,{children:H&&t.jsx(ape,{onClose:()=>F(!1),title:"User Details",children:ie?t.jsxs("div",{className:"grid place-content-center h-48",children:[t.jsx(Ge,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-2"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading details"})]}):ce?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx(Qj,{url:Px(ce.user.profile_photo_url||ce.user.profile_photo),name:ce.user.name,size:48}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-bold text-slate-900 truncate",children:ce.user.name}),t.jsx("div",{className:"text-sm text-slate-600 break-words",children:ce.user.email}),t.jsx("div",{className:"mt-1",children:t.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border text-xs font-semibold ${Zj(ce.user.role)}`,children:ce.user.role})})]})]})}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[t.jsx(Qm,{label:"Phone Numbers",value:ce.counts.purchased_numbers}),t.jsx(Qm,{label:"Assistants",value:ce.counts.assistants}),t.jsx(Qm,{label:"Call Logs",value:ce.counts.call_logs}),t.jsx(Qm,{label:"Documents",value:ce.counts.documents}),t.jsx(Qm,{label:"Leads",value:ce.counts.leads})]}),t.jsx(Jm,{title:"Phone Numbers",items:(ce.purchased_numbers||[]).map(oe=>({k:oe.id,primary:oe.phone_number,secondary:oe.iso_country||oe.region||"",badge:oe.friendly_name}))}),t.jsx(Jm,{title:"Assistants",items:(ce.assistants||[]).map(oe=>({k:oe.id,primary:oe.name||oe.vapi_assistant_id,secondary:oe.provider||oe.model||"",badge:oe.category}))}),t.jsx(Jm,{title:"Documents",items:(ce.documents||[]).map(oe=>({k:oe.id,primary:oe.file_name,secondary:oe.vapi_file_id}))}),t.jsx(Jm,{title:"Leads",items:(ce.leads||[]).map(oe=>({k:oe.id,primary:`${oe.first_name||""} ${oe.last_name||""}`.trim()||oe.email,secondary:(oe.email||oe.mobile||"").toString(),badge:oe.state||oe.timezone}))}),t.jsx(Jm,{title:"Call Logs",items:(ce.call_logs||[]).map(oe=>({k:oe.id,primary:oe.customer_name||oe.customer_number||oe.call_id,secondary:`${oe.status||""}  ${oe.call_duration||0}s`}))})]}):t.jsx("div",{className:"text-sm text-slate-600",children:"No details."})})})]})}function Ox({label:e,value:a,Icon:n,tone:s="blue"}){const r=s==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=s==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(n,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function Qj({url:e,name:a,size:n=38}){const[s,r]=p.useState(!1),l=(a||"?").split(" ").map(d=>d.charAt(0)).join("").toUpperCase().slice(0,2),c=s||!e;return t.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:n,height:n},children:c?t.jsx("span",{style:{fontSize:n<40?12:13},children:l}):t.jsx("img",{src:e,alt:a,width:n,height:n,className:"h-full w-full object-cover max-w-full",onError:()=>r(!0)})})}function Xm({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Zm({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Ad({label:e,children:a}){return t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a]})}function Qm({label:e,value:a}){return t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-xs text-slate-500",children:e}),t.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:a})]})}function Jm({title:e,items:a}){const n=(a||[]).slice(0,5);return n.length===0?null:t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:e}),t.jsx("div",{className:"space-y-2",children:n.map(s=>t.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"font-semibold text-slate-800 truncate",children:s.primary}),t.jsx("div",{className:"text-xs text-slate-500 break-words",children:s.secondary})]}),s.badge&&t.jsx("span",{className:"ml-3 shrink-0 rounded-full border border-slate-300 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:s.badge})]},s.k))})]})}function eh({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(Lt,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(Cn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function ape({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a}),t.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(Lt,{onClick:a,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:t.jsx(Cn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const th="https://app.thedbt.ai",npe=[`${th}/api/admin/basic-admin-stats`,`${th}/basic-admin-stats`,`${th}/api/basic-admin-stats`,`${th}/statistics`,`${th}/api/statistics`],Rn={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",light:"#e6f6ff"},tp="3 3";function spe(){const[e,a]=p.useState({width:0,height:0});return p.useEffect(()=>{const n=()=>a({width:window.innerWidth,height:window.innerHeight});return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function b9(e){const a=Number(e||0);return a>=1e6?(a/1e6).toFixed(1).replace(/\.0$/,"")+"M":a>=1e3?(a/1e3).toFixed(1).replace(/\.0$/,"")+"k":a.toLocaleString()}function jO(e={},a="name",n="value"){return Object.entries(e||{}).map(([s,r])=>({[a]:String(s),[n]:Number(r||0)}))}function Uo(e){const n=Math.max(0,Number(e)||0),s=Array.from({length:12},(r,l)=>{const c=l/11,d=Math.sin(c*Math.PI)*.45,m=(Math.random()-.5)*.14,h=Math.max(0,Math.round(n*(.55+d+m)));return{label:`P${l+1}`,value:h}});return s.length&&(s[s.length-1].value=n),s}async function rpe(){var n;const e=localStorage.getItem("token")||localStorage.getItem("auth_token");let a;for(const s of npe)try{const r=await fetch(s,{headers:{Accept:"application/json",...e?{Authorization:`Bearer ${e}`}:{}},mode:"cors"});if(!r.ok){a=new Error(`HTTP ${r.status}`);continue}const l=await r.json();if(l!=null&&l.success&&((n=l==null?void 0:l.stats)!=null&&n.totals)||l)return l}catch(r){a=r}throw a||new Error("Failed to fetch stats")}function ipe({value:e,className:a}){const n=ro(0),[s,r]=p.useState(0);return p.useEffect(()=>{const l=gX(n,Number(e||0),{duration:.5,ease:"easeOut"}),c=n.on("change",d=>r(Math.round(d)));return()=>{l.stop(),c()}},[e]),t.jsx("span",{className:a,children:b9(s)})}function lpe({points:e,width:a,height:n}){if(!e||!e[0])return null;const s=e[0].x;return t.jsxs("g",{children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),t.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),t.jsxs("filter",{id:"neonGlowLine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"2",result:"b"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"b"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsx("line",{x1:s,x2:s,y1:0,y2:n,stroke:"url(#neonStroke)",strokeWidth:2,opacity:.85,filter:"url(#neonGlowLine)"})]})}function Jj(e){const{x:a,y:n,width:s,height:r}=e;return t.jsxs("g",{children:[t.jsx("defs",{children:t.jsxs("filter",{id:"neonGlowRect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"b"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),t.jsx("rect",{x:a,y:n,width:s,height:r,fill:"rgba(34,211,238,0.18)",stroke:"rgba(37,99,235,0.6)",strokeWidth:1,rx:8,filter:"url(#neonGlowRect)"})]})}function wO(e){const{cx:a,cy:n,innerRadius:s,outerRadius:r,startAngle:l,endAngle:c,fill:d}=e;return t.jsxs("g",{children:[t.jsx("defs",{children:t.jsxs("filter",{id:"neonGlowPie",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"b"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"b"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),t.jsx(xS,{cx:a,cy:n,innerRadius:s,outerRadius:r+6,startAngle:l,endAngle:c,fill:d,stroke:"#ffffff",strokeWidth:2,filter:"url(#neonGlowPie)"})]})}function Td({title:e,right:a,children:n,className:s=""}){return t.jsxs("div",{className:`relative rounded-3xl border border-slate-200 bg-white p-5 sm:p-6 shadow-xl overflow-hidden ${s}`,children:[t.jsx(ope,{}),t.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[t.jsx("h2",{className:"text-sm sm:text-base font-semibold text-slate-700",children:e}),a]}),n]})}function ope(){return t.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[t.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:`linear-gradient(90deg, ${Rn.cyan}33, transparent)`,filter:"blur(22px)",opacity:.6}}),t.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function cpe({label:e,value:a,icon:n,color:s,series:r,badge:l="Live",loading:c}){const d=ro(0),m=ro(0),h=eu(m,[-60,60],[10,-10]),f=eu(d,[-60,60],[-10,10]),g=p.useRef(null);return t.jsxs(pe.div,{ref:g,onMouseMove:b=>{var j;const y=(j=g.current)==null?void 0:j.getBoundingClientRect();y&&(d.set(b.clientX-y.left-y.width/2),m.set(b.clientY-y.top-y.height/2))},onMouseLeave:()=>{d.set(0),m.set(0)},style:{rotateX:h,rotateY:f},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl transition-transform duration-300",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${s}66, #ffffff00)`}}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:t.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7",style:{color:s}})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900",children:c?t.jsx(dpe,{}):t.jsx(ipe,{value:a})}),l&&t.jsx("span",{className:"hidden xs:inline-flex rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[9px] sm:text-[10px] font-semibold text-white shadow-sm",children:l})]})]})]}),t.jsx("div",{className:"mt-3 h-[110px] xs:h-[130px] sm:h-[140px] md:h-[160px]",children:c?t.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):t.jsx(Os,{width:"100%",height:"100%",children:t.jsxs(_f,{data:r,margin:{top:2,right:8,left:-10,bottom:0},children:[t.jsx("defs",{children:t.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"blur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),t.jsx($r,{strokeDasharray:tp,strokeOpacity:.12}),t.jsx(cr,{dataKey:"label",hide:!0}),t.jsx(dr,{hide:!0,domain:[0,"dataMax+"]}),t.jsx(Ps,{contentStyle:{borderRadius:12},cursor:t.jsx(lpe,{})}),t.jsx(Pu,{type:"monotone",dataKey:"value",stroke:s,strokeWidth:2.2,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"}})]})})})]})]})}function dpe(){return t.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function upe(){const{width:e}=spe(),a=e<768,[n,s]=p.useState(!0),[r,l]=p.useState(""),[c,d]=p.useState(null),[m,h]=p.useState(null),[f,g]=p.useState(null),[b,y]=p.useState({users:0,leads:0,files:0,knowledge_base_documents:0,assistants:0,phone_numbers:0,call_logs:0}),[j,w]=p.useState({}),[N,k]=p.useState({attached_to_assistant:0,unattached:0}),[_,C]=p.useState({transferred:0,not_transferred:0,by_status:{}}),O=async()=>{try{s(!0),l("");const H=await rpe(),F=(H==null?void 0:H.stats)||H||{},ie=(F==null?void 0:F.totals)||{};y({users:Number(ie.users||0),leads:Number(ie.leads||0),files:Number(ie.files||0),knowledge_base_documents:Number(ie.knowledge_base_documents||0),assistants:Number(ie.assistants||0),phone_numbers:Number(ie.phone_numbers||0),call_logs:Number(ie.call_logs||0)}),w((F==null?void 0:F.users_by_role)||{}),k((F==null?void 0:F.phone_numbers)||{attached_to_assistant:0,unattached:0}),C((F==null?void 0:F.call_logs)||{transferred:0,not_transferred:0,by_status:{}}),d((H==null?void 0:H.generated_at)||new Date().toISOString())}catch(H){const F=(H==null?void 0:H.message)||"Failed to load stats",ie=F.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(F+ie)}finally{s(!1)}};p.useEffect(()=>{O()},[]);const P=p.useMemo(()=>[{key:"users",label:"Users",value:b.users,icon:un,color:Rn.blue,series:Uo(b.users)},{key:"leads",label:"Leads",value:b.leads,icon:lr,color:Rn.cyan,series:Uo(b.leads)},{key:"files",label:"Files",value:b.files,icon:Pr,color:Rn.sky,series:Uo(b.files)},{key:"assistants",label:"Assistants",value:b.assistants,icon:rg,color:Rn.cyan,series:Uo(b.assistants)},{key:"phone_numbers",label:"Phone Numbers",value:b.phone_numbers,icon:gt,color:Rn.sky,series:Uo(b.phone_numbers)},{key:"knowledge_base_documents",label:"KB Docs",value:b.knowledge_base_documents,icon:Jl,color:Rn.blue,series:Uo(b.knowledge_base_documents)},{key:"call_logs",label:"Call Logs",value:b.call_logs,icon:bc,color:Rn.cyan,series:Uo(b.call_logs)}],[b]),E=p.useMemo(()=>jO(j,"name","value"),[j]),B=p.useMemo(()=>[{name:"Attached",value:Number(N.attached_to_assistant||0)},{name:"Unattached",value:Number(N.unattached||0)}],[N]),M=p.useMemo(()=>[{name:"Transferred",value:Number(_.transferred||0)},{name:"Not Transferred",value:Number(_.not_transferred||0)}],[_]),V=p.useMemo(()=>jO(_.by_status||{},"status","count"),[_]),G=p.useMemo(()=>[{name:"Users",value:b.users},{name:"Leads",value:b.leads},{name:"Files",value:b.files},{name:"Assistants",value:b.assistants},{name:"Phones",value:b.phone_numbers},{name:"KB",value:b.knowledge_base_documents},{name:"Calls",value:b.call_logs}],[b]);return t.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r&&t.jsx("div",{className:"w-full px-3 sm:px-4 pt-4 mb-6",children:t.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:r})}),t.jsx("header",{className:"w-full px-3 sm:px-4 pt-8 pb-6",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),t.jsx("p",{className:"mt-1 text-xs sm:text-sm md:text-base text-slate-600",children:"Neon-lite analytics  blue / cyan palette."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:O,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[t.jsx(Ge,{className:"h-4 w-4"}),"Refresh"]}),t.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500",children:c?`Updated: ${new Date(c).toLocaleString()}`:""})]})]})}),t.jsxs("main",{className:"w-full px-3 sm:px-4 pb-12",children:[t.jsx("section",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-5",children:P.map(H=>t.jsx(cpe,{label:H.label,value:H.value,icon:H.icon,color:H.color,series:H.series,loading:n},H.key))}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-2 gap-5 xl:gap-6",children:[t.jsx(Td,{title:"Overview by Metric",right:t.jsx(ah,{text:"Bars"}),children:t.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:t.jsx(Os,{width:"100%",height:"100%",children:t.jsxs(wh,{data:G,margin:{top:10,right:a?8:20,left:a?0:-10,bottom:4},barCategoryGap:a?30:20,children:[t.jsxs("defs",{children:[t.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"blur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:Rn.sky}),t.jsx("stop",{offset:"100%",stopColor:Rn.light})]})]}),t.jsx($r,{strokeDasharray:tp,strokeOpacity:.2}),t.jsx(cr,{dataKey:"name",tick:{fontSize:a?10:12},interval:a?0:"preserveEnd",tickMargin:8,height:a?28:36}),t.jsx(dr,{tick:{fontSize:a?10:12},width:a?28:40,tickFormatter:H=>H>=1e3?`${Math.round(H/1e3)}k`:H}),t.jsx(Ps,{contentStyle:{borderRadius:12},cursor:t.jsx(Jj,{})}),t.jsx(qd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},maxBarSize:a?38:60})]})})})}),t.jsx(Td,{title:"Users by Role",right:t.jsx(ah,{text:"Bars"}),children:t.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:t.jsx(Os,{width:"100%",height:"100%",children:t.jsxs(wh,{data:E,margin:{top:10,right:a?8:20,left:a?0:-10,bottom:4},barCategoryGap:a?30:20,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"roleFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:Rn.blue}),t.jsx("stop",{offset:"100%",stopColor:"#eaf2ff"})]})}),t.jsx($r,{strokeDasharray:tp,strokeOpacity:.2}),t.jsx(cr,{dataKey:"name",tick:{fontSize:a?10:12},interval:a?0:"preserveEnd",tickMargin:8,height:a?28:36}),t.jsx(dr,{tick:{fontSize:a?10:12},width:a?28:40,tickFormatter:H=>H>=1e3?`${Math.round(H/1e3)}k`:H}),t.jsx(Ps,{contentStyle:{borderRadius:12},cursor:t.jsx(Jj,{})}),t.jsx(qd,{dataKey:"value",fill:"url(#roleFill)",radius:[10,10,6,6],maxBarSize:a?38:60})]})})})})]}),t.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-6",children:[t.jsx(Td,{title:"Phone Numbers  Attached vs Unattached",right:t.jsx(ah,{text:"Donut"}),children:t.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:t.jsx(Os,{width:"100%",height:"100%",children:t.jsxs(Xp,{children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"pieGradPhones",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:Rn.cyan}),t.jsx("stop",{offset:"100%",stopColor:Rn.blue})]})}),t.jsx(Ps,{contentStyle:{borderRadius:12}}),t.jsxs(Yh,{data:B,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:a?90:110,innerRadius:a?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:m,onMouseEnter:(H,F)=>h(F),onMouseLeave:()=>h(null),activeShape:wO,label:a?({name:H,percent:F})=>F>=.18?H:"":!1,labelLine:!1,children:[t.jsx(Hi,{fill:"url(#pieGradPhones)"}),t.jsx(Hi,{fill:"#bfe9ff"})]})]})})})}),t.jsx(Td,{title:"Calls  Transferred vs Not",right:t.jsx(ah,{text:"Donut"}),children:t.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:t.jsx(Os,{width:"100%",height:"100%",children:t.jsxs(Xp,{children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"pieGradCalls",x1:"0",y1:"0",x2:"1",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:Rn.sky}),t.jsx("stop",{offset:"100%",stopColor:Rn.blue})]})}),t.jsx(Ps,{contentStyle:{borderRadius:12}}),t.jsxs(Yh,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:a?90:110,innerRadius:a?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:f,onMouseEnter:(H,F)=>g(F),onMouseLeave:()=>g(null),activeShape:wO,label:a?({name:H,percent:F})=>F>=.18?H:"":!1,labelLine:!1,children:[t.jsx(Hi,{fill:"url(#pieGradCalls)"}),t.jsx(Hi,{fill:"#d7eeff"})]})]})})})}),t.jsx(Td,{title:"Call Logs  by Status",right:t.jsx(ah,{text:"Bars"}),children:t.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:t.jsx(Os,{width:"100%",height:"100%",children:t.jsxs(wh,{data:V,margin:{top:10,right:a?8:20,left:a?0:-10,bottom:4},barCategoryGap:a?30:20,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"statusFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:Rn.cyan}),t.jsx("stop",{offset:"100%",stopColor:"#ecfbff"})]})}),t.jsx($r,{strokeDasharray:tp,strokeOpacity:.2}),t.jsx(cr,{dataKey:"status",tick:{fontSize:a?10:12},interval:a?0:"preserveEnd",tickMargin:8,height:a?28:36}),t.jsx(dr,{tick:{fontSize:a?10:12},width:a?28:40,tickFormatter:H=>H>=1e3?`${Math.round(H/1e3)}k`:H}),t.jsx(Ps,{contentStyle:{borderRadius:12},cursor:t.jsx(Jj,{})}),t.jsx(qd,{dataKey:"count",fill:"url(#statusFill)",radius:[10,10,6,6],maxBarSize:a?38:60})]})})})})]}),t.jsx("section",{className:"mt-8",children:t.jsx(Td,{title:"Status Breakdown (Compact List)",children:n?t.jsx("div",{className:"h-24 w-full animate-pulse rounded-xl bg-slate-100"}):t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[V.length===0&&t.jsx("div",{className:"text-sm text-slate-500",children:"No call status data."}),V.map(H=>t.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[t.jsx("span",{className:"text-sm font-medium text-slate-700 truncate pr-3",children:H.status}),t.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:b9(H.count)})]},H.status))]})})}),t.jsxs("footer",{className:"mt-10 mb-2 w-full text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon dashboard."]})]})]})}function ah({text:e}){return t.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-1 text-[10px] font-semibold text-white shadow-sm",children:e})}function mpe(){const e=da(),[a,n]=p.useState(!1),[s,r]=p.useState(!1),[l,c]=p.useState(["","","",""]),[d,m]=p.useState({name:"",email:"",password:""}),[h,f]=p.useState(!1),[g,b]=p.useState({profile:!1,update:!1,delete:!1,otp:!1}),y=p.useRef([]),j=p.useRef(null),w=async()=>{var B,M;b(V=>({...V,profile:!0}));try{const V=localStorage.getItem("token");if(!V){R.error("Authentication required. Please login again."),e("/login");return}const G=await fetch("http://localhost:8000/api/search-user",{headers:{Authorization:`Bearer ${V}`}});if(!G.ok){const F=await G.json();throw new Error(F.detail||"Failed to fetch user data")}const H=await G.json();m({name:((B=H.users)==null?void 0:B.name)||"",email:((M=H.users)==null?void 0:M.email)||"",password:""})}catch(V){R.error(V.message),V.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"))}finally{b(V=>({...V,profile:!1}))}};p.useEffect(()=>{w()},[]);const N=()=>d.name.trim()?d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)?d.password&&d.password.length<8?(R.error("Password must be at least 8 characters long"),!1):!0:(R.error("Please enter a valid email address"),!1):(R.error("Email is required"),!1):(R.error("Name is required"),!1),k=async B=>{if(B.preventDefault(),!!N()){b(M=>({...M,update:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const V={name:d.name,email:d.email,...d.password&&{password:d.password}},G=await fetch("http://localhost:8000/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(V)});if(!G.ok){const F=await G.json();throw new Error(F.detail||"Failed to update profile")}const H=await G.json();H!=null&&H.otp_needed?(r(!0),setTimeout(()=>{var F;return(F=y.current[0])==null?void 0:F.focus()},0),R.info("Verification code sent to your email")):(localStorage.setItem("name",V.name),R.success("Profile updated successfully"),m(F=>({...F,password:""})))}catch(M){R.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,update:!1}))}}},_=async B=>{if(B.preventDefault(),l.some(M=>!M)){R.error("Please enter the complete verification code");return}b(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const V=await fetch("http://localhost:8000/api/update-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email,code:l.join(""),name:d.name,...d.password&&{password:d.password}})});if(!V.ok){const G=await V.json();throw new Error(G.detail||"Verification failed")}R.success("Account verified successfully"),r(!1),c(["","","",""]),localStorage.setItem("name",d.name),localStorage.setItem("email",d.email),m(G=>({...G,password:""}))}catch(M){R.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,otp:!1}))}},C=async()=>{b(B=>({...B,delete:!0}));try{const B=localStorage.getItem("token");if(!B)throw new Error("Authentication required. Please login again.");const M=await fetch("http://localhost:8000/api/delete-account",{method:"DELETE",headers:{Authorization:`Bearer ${B}`}});if(!M.ok){const V=await M.json();throw new Error(V.detail||"Failed to delete account")}R.success("Account deleted successfully"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(B){R.error(B.message),B.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(B=>({...B,delete:!1}))}},O=(B,M)=>{var V;if(/^\d?$/.test(M)){const G=[...l];G[B]=M,c(G),M&&B<3&&((V=y.current[B+1])==null||V.focus())}},P=(B,M)=>{var V;M.key==="Backspace"&&!l[B]&&B>0&&((V=y.current[B-1])==null||V.focus())},E=async()=>{var B;b(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const V=await fetch("http://localhost:8000/api/resend-otp-update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email})});if(!V.ok){const G=await V.json();throw new Error(G.detail||"Failed to resend OTP")}c(["","","",""]),(B=y.current[0])==null||B.focus(),R.success("OTP resent successfully")}catch(M){R.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,otp:!1}))}};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:t.jsxs("div",{className:"flex-1 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[(g.profile||g.update||g.delete||g.otp)&&t.jsx("div",{className:"flex justify-center items-center mb-4",children:t.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),s?t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(M2,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),t.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Email Verification"})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(M2,{className:"w-5 h-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"font-semibold text-blue-900",children:"Verification Required"})]}),t.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["We've sent a 4-digit verification code to"," ",t.jsx("strong",{children:d.email}),". Please enter it below."]}),t.jsxs("form",{onSubmit:_,children:[t.jsx("div",{className:"flex justify-center gap-3 mb-4",children:l.map((B,M)=>t.jsx("input",{type:"text",maxLength:"1",value:B,onChange:V=>O(M,V.target.value),onKeyDown:V=>P(M,V),ref:V=>y.current[M]=V,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-xl font-bold text-gray-900 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0",disabled:g.otp},M))}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t.jsx("button",{type:"submit",disabled:l.some(B=>!B)||g.otp,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g.otp?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(O2,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})}),t.jsx("button",{type:"button",onClick:E,disabled:g.otp,className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Resend OTP"})]})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:t.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[t.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(Kd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Account Settings"}),t.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"Manage your account information and preferences"})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(Kd,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),t.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Profile Information"})]}),t.jsxs("form",{ref:j,onSubmit:k,children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[t.jsx(Kd,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),t.jsx("input",{type:"text",value:d.name,onChange:B=>m({...d,name:B.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",disabled:g.profile||g.update,required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[t.jsx(e9,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Email Address"]}),t.jsx("input",{type:"email",value:d.email,onChange:B=>m({...d,email:B.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base",disabled:g.profile||g.update,required:!0})]}),t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[t.jsx(t9,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Password (optional)"]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:a?"text":"password",value:d.password,onChange:B=>m({...d,password:B.target.value}),placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base",disabled:g.profile||g.update,minLength:8}),t.jsx("button",{type:"button",onClick:()=>n(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:g.profile||g.update,children:a?t.jsx(uh,{className:"w-5 h-5"}):t.jsx(mh,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:d.password?"Password must be at least 8 characters":"Leave blank to keep current password"})]})]}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{type:"submit",disabled:g.profile||g.update,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g.update?t.jsxs("div",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Saving..."]}):t.jsxs("div",{className:"flex items-center",children:[t.jsx(O2,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 sm:p-6 lg:p-8",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center",children:t.jsx(Zp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),t.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-900",children:"Danger Zone"})]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),t.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),t.jsx("button",{onClick:()=>f(!0),disabled:g.profile||g.update,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(D2,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})]}),h&&t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50  bg-opacity-50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:t.jsx(Zp,{className:"w-5 h-5 text-white"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete"})]}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>f(!1),disabled:g.delete,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>{f(!1),C()},disabled:g.delete,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:g.delete?t.jsxs("div",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):t.jsxs("div",{className:"flex items-center",children:[t.jsx(D2,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})})]}),t.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[t.jsx("div",{className:"absolute -inset-x-20 -top-14 h-28 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),t.jsxs("div",{className:"relative p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[t.jsx("p",{className:"text-sm text-slate-600 text-center sm:text-left",children:"By using this app you agree to our Terms of Service and Privacy Policy"}),t.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[t.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms of Service"}),t.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),t.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})]})})}const ap="https://app.thedbt.ai",ew={CALL_LOGS:`${ap}/api/admin/call-logs`,VAPI_CALL_LOGS:`${ap}/api/admin/vapi-call-logs`,CALL_LOG:e=>`${ap}/api/admin/call-logs/${e}`},hpe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",NO=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const a=e.startsWith("/")?e:`/${e}`;return`${ap}${a}`},ia=e=>{if(e==null)return"Unknown";const a=String(e).trim();return a===""||a.toLowerCase()==="null"||a.toLowerCase()==="undefined"?"Unknown":a},nh=e=>{if(!e)return"Unknown";try{const a=new Date(e);return Number.isNaN(a.getTime())?"Unknown":a.toLocaleString()}catch{return"Unknown"}},Mx=e=>{if(e==null||Number.isNaN(Number(e)))return"Unknown";const a=Number(e),n=Math.floor(a/60),s=Math.floor(a%60);return`${n}m ${s}s`},Ed=e=>String(e??"").toLowerCase();function SO(e=[],a=[]){const n=[],s=new Map;for(const r of e){const l={_key:r.call_id?`local:${r.call_id}`:`local-id:${r.id}`,source:"local",id:r.id,call_id:r.call_id||null,started_at:r.call_started_at||null,ended_at:r.call_ended_at||null,duration:r.call_duration??null,cost:r.cost??null,status:r.status||"",ended_reason:r.call_ended_reason||"",transferred:!!r.is_transferred,criteria_satisfied:r.criteria_satisfied,customer_name:r.customer_name||"",customer_number:r.customer_number||"",user:r.user||null,assistant_id:null,phone_number_id:null,summary:null,transcript:null,analysis:null,recording_url:null,created_at:null,updated_at:null};n.push(l),l.call_id&&s.set(l.call_id,l)}for(const r of a){const l=r.call_id&&s.get(r.call_id),c={_key:r.call_id?`vapi:${r.call_id}`:`vapi-id:${r.id}`,source:"vapi",id:r.id,call_id:r.call_id||null,started_at:r.started_at||r.created_at||null,ended_at:r.ended_at||null,duration:r.duration??null,cost:r.cost??null,status:r.status||"",ended_reason:r.ended_reason||"",transferred:!!r.is_transferred,criteria_satisfied:r.criteria_satisfied,customer_name:r.customer_name||"",customer_number:r.customer_number||"",user:null,assistant_id:r.assistant_id||null,phone_number_id:r.phone_number_id||null,summary:r.summary||null,transcript:r.transcript||null,analysis:r.analysis||null,recording_url:r.recording_url||null,created_at:r.created_at||null,updated_at:r.updated_at||null};l?(l.assistant_id=l.assistant_id||c.assistant_id,l.phone_number_id=l.phone_number_id||c.phone_number_id,l.summary=c.summary??l.summary,l.transcript=c.transcript??l.transcript,l.analysis=c.analysis??l.analysis,l.recording_url=c.recording_url??l.recording_url,l.created_at=c.created_at??l.created_at,l.updated_at=c.updated_at??l.updated_at,l.source="both"):(n.push(c),c.call_id&&s.set(c.call_id,c))}return n.sort((r,l)=>new Date(l.started_at||0)-new Date(r.started_at||0)),n}function _O(e,a){const n=new Blob([a],{type:"text/plain;charset=utf-8"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=e,r.click(),URL.revokeObjectURL(s)}function fpe(e){var r,l,c;const a=["id","call_id","source","customer_name","customer_number","started_at","ended_at","duration","cost","status","ended_reason","transferred","criteria_satisfied","assistant_id","phone_number_id","user_id","user_name","user_email"],n=d=>{const m=d==null?"":String(d);return/[",\n]/.test(m)?`"${m.replaceAll('"','""')}"`:m},s=[a.join(",")];for(const d of e)s.push([d.id??"",d.call_id??"",d.source??"",d.customer_name??"",d.customer_number??"",d.started_at??"",d.ended_at??"",d.duration??"",d.cost??"",d.status??"",d.ended_reason??"",d.transferred??"",d.criteria_satisfied??"",d.assistant_id??"",d.phone_number_id??"",((r=d.user)==null?void 0:r.id)??"",((l=d.user)==null?void 0:l.name)??"",((c=d.user)==null?void 0:c.email)??""].map(n).join(","));return s.join(`
`)}function xpe(){var Ae;const[e,a]=p.useState([]),[n,s]=p.useState([]),[r,l]=p.useState([]),[c,d]=p.useState(!1),[m,h]=p.useState(""),[f,g]=p.useState(!0),[b,y]=p.useState(""),[j,w]=p.useState("all"),[N,k]=p.useState("all"),[_,C]=p.useState(""),[O,P]=p.useState(""),[E,B]=p.useState("started_at"),[M,V]=p.useState("desc"),[G,H]=p.useState(1),F=10,[ie,_e]=p.useState(!1),[ce,T]=p.useState(null),[K,W]=p.useState(null),[I,A]=p.useState(null),[$,z]=p.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),X=p.useCallback(async()=>{if($){h("You're in impersonation mode. Exit impersonation to use admin tools."),a([]),s([]),l([]);return}const U=localStorage.getItem("token");if(!U){h("No auth token found."),R.error("No authentication token found."),a([]),s([]),l([]);return}try{d(!0),h("");const de={Authorization:`Bearer ${U}`,Accept:"application/json"},[ke,Le]=await Promise.all([fetch(ew.CALL_LOGS,{headers:de,mode:"cors"}),f?fetch(ew.VAPI_CALL_LOGS,{headers:de,mode:"cors"}):Promise.resolve(null)]);if(!(ke!=null&&ke.ok)){const ne=await ke.text();throw new Error(`Call logs HTTP ${ke.status}${ne?`  ${ne}`:""}`)}const Ve=await ke.json(),Xe=Array.isArray(Ve==null?void 0:Ve.call_logs)?Ve.call_logs:[];let $e=[];if(f&&Le){if(!Le.ok){const Z=await Le.text();throw new Error(`VAPI call logs HTTP ${Le.status}${Z?`  ${Z}`:""}`)}const ne=await Le.json();$e=Array.isArray(ne==null?void 0:ne.call_logs)?ne.call_logs:[]}a(Xe),s($e),l(SO(Xe,$e))}catch(de){h((de==null?void 0:de.message)||"Failed to load call logs"),R.error((de==null?void 0:de.message)||"Failed to load call logs")}finally{d(!1)}},[f,$]);p.useEffect(()=>{X()},[X]),p.useEffect(()=>{l(SO(e,f?n:[]))},[e,n,f]);const ge=p.useMemo(()=>{const U=new Set(r.map(de=>(de.status||"").toLowerCase()).filter(Boolean));return["all",...Array.from(U)]},[r]),te=p.useMemo(()=>{let U=[...r];if(b.trim()){const de=b.trim().toLowerCase();U=U.filter(ke=>{var Le,Ve;return Ed(ke.customer_name).includes(de)||Ed(ke.customer_number).includes(de)||Ed(ke.call_id).includes(de)||Ed((Le=ke.user)==null?void 0:Le.email).includes(de)||Ed((Ve=ke.user)==null?void 0:Ve.name).includes(de)})}if(j!=="all"&&(U=U.filter(de=>Ed(de.status)===j)),N!=="all"){const de=N==="yes";U=U.filter(ke=>!!ke.transferred===de)}if(_){const de=new Date(_).getTime();U=U.filter(ke=>new Date(ke.started_at||0).getTime()>=de)}if(O){const de=new Date(O).getTime();U=U.filter(ke=>new Date(ke.started_at||0).getTime()<=de)}return U.sort((de,ke)=>{const Le=M==="asc"?1:-1,Ve=de[E],Xe=ke[E];return E.includes("date")||E.includes("started")?Le*(new Date(Ve||0)-new Date(Xe||0)):Le*((Ve??0)-(Xe??0))}),U},[r,b,j,N,_,O,E,M]),J=Math.max(1,Math.ceil(te.length/F)),Ce=G*F,se=Ce-F,Se=te.slice(se,Ce);p.useEffect(()=>{H(1)},[b,j,N,_,O,E,M]);const De=p.useMemo(()=>{const U=te.length,de=te.filter(Xe=>Xe.transferred).length,ke=U-de,Le=te.reduce((Xe,$e)=>Xe+(Number.isFinite(Number($e.duration))?Number($e.duration):0),0),Ve=te.reduce((Xe,$e)=>Xe+(Number.isFinite(Number($e.cost))?Number($e.cost):0),0);return{total:U,transferred:de,notTransferred:ke,totalDuration:Le,totalCost:Ve}},[te]),Me=U=>{T(U),_e(!0)},ye=U=>W((U==null?void 0:U.id)||null),Ye=async()=>{const U=K;if(!U)return;const de=localStorage.getItem("token");if(!de)return R.error("No authentication token found.");try{A(U);const ke=await fetch(ew.CALL_LOG(U),{method:"DELETE",headers:{Authorization:`Bearer ${de}`,Accept:"application/json"}}),Le=await ke.json();if(!ke.ok||!(Le!=null&&Le.success))throw new Error((Le==null?void 0:Le.detail)||(Le==null?void 0:Le.message)||`HTTP ${ke.status}`);R.success(" Call log deleted"),W(null),a(Ve=>Ve.filter(Xe=>Xe.id!==U))}catch(ke){R.error((ke==null?void 0:ke.message)||"Delete failed")}finally{A(null)}},Ke=()=>{const U=fpe(te),de=new Date().toISOString().replace(/[:.]/g,"-");_O(`call-history-${de}.csv`,U)},we=()=>{y(""),w("all"),k("all"),C(""),P(""),B("started_at"),V("desc")},ue=()=>{const U=localStorage.getItem("admin_token_backup");if(!U){R.error("No admin backup token found.");return}localStorage.setItem("token",U),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),z(null),R.success(" Exited impersonation"),window.location.reload()};return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[$&&t.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:t.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[t.jsx(xy,{className:"h-4 w-4 shrink-0"}),t.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),t.jsxs("span",{className:"truncate",children:["Acting as ",t.jsx("b",{className:"break-all",children:ia((Ae=$.acting_as)==null?void 0:Ae.email)})]})]}),t.jsx(ns,{onClick:ue,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:"Exit"})]})}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(bc,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${hpe}`,children:"Call History"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View, filter, export, and manage call logs from local DB and VAPI."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"text-xs sm:text-sm flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[t.jsx(Z2,{className:"h-4 w-4"}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:f,onChange:U=>g(U.target.checked),disabled:!!$,"aria-label":"Include VAPI logs"}),"Include VAPI logs"]})]}),t.jsxs(ns,{onClick:Ke,disabled:te.length===0||!!$,"aria-label":"Export CSV",children:[t.jsx(eo,{className:"mr-2 h-4 w-4"})," Export CSV"]}),t.jsx(ns,{onClick:X,disabled:c||!!$,"aria-label":"Refresh",children:c?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(tw,{label:"Total Calls",value:De.total,Icon:xy,tone:"blue"}),t.jsx(tw,{label:"Transferred",value:De.transferred,Icon:ta,tone:"cyan"}),t.jsx(tw,{label:"Not Transferred",value:De.notTransferred,Icon:zn,tone:"blue"}),t.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-inner ring-1 ring-cyan-200/60",children:t.jsx(fw,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:"Total Duration / Cost"}),t.jsxs("div",{className:"text-sm font-black text-slate-900",children:[Mx(De.totalDuration),"  $",De.totalCost.toFixed(2)]})]})]})})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-12 md:items-end",children:[t.jsxs("div",{className:"md:col-span-4",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Un,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:b,onChange:U=>y(U.target.value),placeholder:"Name, number, call id, user",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!$,"aria-label":"Search calls"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Status"}),t.jsx("select",{value:j,onChange:U=>w(U.target.value),disabled:!!$,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by status",children:ge.map(U=>t.jsx("option",{value:U,children:U==="all"?"All statuses":U},U))})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Transferred"}),t.jsxs("select",{value:N,onChange:U=>k(U.target.value),disabled:!!$,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by transfer",children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"yes",children:"Yes"}),t.jsx("option",{value:"no",children:"No"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"From"}),t.jsx("input",{type:"datetime-local",value:_,onChange:U=>C(U.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"From date"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"To"}),t.jsx("input",{type:"datetime-local",value:O,onChange:U=>P(U.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"To date"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Sort"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:E,onChange:U=>B(U.target.value),className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort by",children:[t.jsx("option",{value:"started_at",children:"Start time"}),t.jsx("option",{value:"duration",children:"Duration"}),t.jsx("option",{value:"cost",children:"Cost"})]}),t.jsxs("select",{value:M,onChange:U=>V(U.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort order",children:[t.jsx("option",{value:"desc",children:"Desc"}),t.jsx("option",{value:"asc",children:"Asc"})]})]})]}),t.jsx("div",{className:"md:col-span-12 flex justify-end",children:(b||j!=="all"||N!=="all"||_||O||E!=="started_at"||M!=="desc")&&t.jsxs(ns,{onClick:we,className:"text-slate-700","aria-label":"Clear filters",children:[t.jsx(Zi,{className:"h-4 w-4 mr-2"})," Clear Filters"]})})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(bc,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Calls (",te.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),$?t.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:t.jsx(xy,{className:"h-9 w-9 text-amber-500"})}),t.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),t.jsx("div",{className:"mt-3",children:t.jsx(ns,{onClick:ue,variant:"primary",children:"Exit Impersonation"})})]}):c?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading calls"})]}):te.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(gt,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Ii,{children:"Caller"}),t.jsx(Ii,{children:"User"}),t.jsx(Ii,{children:"Start"}),t.jsx(Ii,{children:"Duration"}),t.jsx(Ii,{children:"Status"}),t.jsx(Ii,{children:"Transferred"}),t.jsx(Ii,{children:"Cost"}),t.jsx(Ii,{children:"Source"}),t.jsx(Ii,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:Se.map(U=>{const de=U.cost===null||U.cost===void 0||Number.isNaN(Number(U.cost))?"Unknown":Number(U.cost).toFixed(2);return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(Bi,{children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:ia(U.customer_name)}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all flex items-center gap-1",children:[t.jsx(gt,{className:"h-3.5 w-3.5"})," ",ia(U.customer_number)]}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["CID: ",ia(U.call_id)]})]})}),t.jsx(Bi,{children:U.user?t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-xs font-semibold text-slate-800 truncate flex items-center gap-1",children:[t.jsx(cc,{className:"h-3.5 w-3.5"})," ",ia(U.user.name)]}),t.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:ia(U.user.email)})]}):t.jsx("span",{className:"text-xs text-slate-500",children:"Unknown"})}),t.jsxs(Bi,{children:[t.jsx("div",{className:"text-xs text-slate-800",children:nh(U.started_at)}),t.jsx("div",{className:"text-[11px] text-slate-500",children:nh(U.ended_at)})]}),t.jsx(Bi,{children:t.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[t.jsx(Xi,{className:"h-3.5 w-3.5"})," ",Mx(U.duration)]})}),t.jsxs(Bi,{children:[t.jsx(Kl,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:ia(U.status)}),t.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Reason: ",ia(U.ended_reason)]})]}),t.jsx(Bi,{children:U.transferred?t.jsxs(Kl,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[t.jsx(ta,{className:"mr-1 h-3.5 w-3.5"})," Yes"]}):t.jsxs(Kl,{className:"border bg-red-100 text-red-700 border-red-200",children:[t.jsx(zn,{className:"mr-1 h-3.5 w-3.5"})," No"]})}),t.jsx(Bi,{children:t.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[t.jsx(fw,{className:"h-3.5 w-3.5"})," ",de]})}),t.jsx(Bi,{children:t.jsx(Kl,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:ia(U.source)})}),t.jsx(Bi,{children:t.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[t.jsx(ns,{onClick:()=>Me(U),variant:"outline",size:"sm",title:"View details","aria-label":"View details",children:t.jsx(Ta,{className:"h-4 w-4"})}),U.source!=="vapi"&&t.jsx(ns,{onClick:()=>ye(U),variant:"danger",size:"sm",title:"Delete","aria-label":"Delete",children:I===U.id?t.jsx(Ge,{className:"h-4 w-4 animate-spin"}):t.jsx(Ea,{className:"h-4 w-4"})})]})})]},U._key)})})]})})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Se.map((U,de)=>{const ke=U.cost===null||U.cost===void 0||Number.isNaN(Number(U.cost))?"Unknown":Number(U.cost).toFixed(2);return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[de===0&&t.jsx(ppe,{}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"text-base font-bold text-slate-900 truncate flex items-center gap-2",children:[t.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",ia(U.customer_name)]}),t.jsx("div",{className:"mt-0.5 text-sm text-slate-600 break-all",children:ia(U.customer_number)}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 break-all",children:["CID: ",ia(U.call_id)]}),t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:nh(U.started_at)}),t.jsxs("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:[t.jsx(Xi,{className:"h-3.5 w-3.5 mr-1"})," ",Mx(U.duration)]}),t.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-blue-100 text-blue-700 text-[11px] font-semibold",children:ia(U.status)}),t.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:ia(U.source)})]}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Reason: ",ia(U.ended_reason)]}),t.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Cost: ",ke]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsxs(ns,{onClick:()=>Me(U),size:"sm",className:"grow sm:grow-0","aria-label":"View",children:[t.jsx(Ta,{className:"h-4 w-4 mr-1"})," View"]}),U.source!=="vapi"&&t.jsx(ns,{onClick:()=>ye(U),variant:"danger",size:"sm",className:"grow sm:grow-0","aria-label":"Delete",children:I===U.id?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ea,{className:"h-4 w-4 mr-1"})," Delete"]})})]})]},U._key)})})}),te.length>F&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("b",{children:se+1}),"",t.jsx("b",{children:Math.min(Ce,te.length)})," of ",t.jsx("b",{children:te.length})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(ns,{onClick:()=>H(U=>Math.max(1,U-1)),disabled:G===1,children:[t.jsx(kn,{className:"h-4 w-4 mr-1"})," Prev"]}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,J)},(U,de)=>{let ke;if(J<=5||G<=3?ke=de+1:G>=J-2?ke=J-4+de:ke=G-2+de,ke<1||ke>J)return null;const Le=G===ke;return t.jsx("button",{onClick:()=>H(ke),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Le?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,"aria-label":`Page ${ke}`,children:ke},ke)})}),t.jsxs(ns,{onClick:()=>H(U=>Math.min(J,U+1)),disabled:G>=J,children:["Next ",t.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(kt,{children:K&&t.jsxs(gpe,{onClose:()=>W(null),title:"Confirm Delete",children:[t.jsx("div",{className:"text-slate-800",children:"Are you sure you want to delete this call log? This action cannot be undone."}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(ns,{onClick:()=>W(null),variant:"subtle",children:"Cancel"}),t.jsx(ns,{onClick:Ye,disabled:I===K,variant:"danger",children:I===K?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})}),t.jsx(kt,{children:ie&&ce&&t.jsx(bpe,{onClose:()=>_e(!1),title:"Call Details",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3 min-w-0",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"font-bold text-slate-900 truncate flex items-center gap-2",children:[t.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",ia(ce.customer_name)]}),t.jsx("div",{className:"text-sm text-slate-600 break-all",children:ia(ce.customer_number)}),t.jsxs("div",{className:"text-[11px] text-slate-500 break-all mt-1",children:["Call ID: ",ia(ce.call_id)]}),t.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[t.jsx(Kl,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:ia(ce.source)}),t.jsx(Kl,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:ia(ce.status)}),ce.transferred?t.jsx(Kl,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Transferred"}):t.jsx(Kl,{className:"border bg-red-100 text-red-700 border-red-200",children:"Not transferred"})]})]}),t.jsxs("div",{className:"text-right text-sm text-slate-700",children:[t.jsxs("div",{children:[t.jsx("b",{children:"Start:"})," ",nh(ce.started_at)]}),t.jsxs("div",{children:[t.jsx("b",{children:"End:"})," ",nh(ce.ended_at)]}),t.jsxs("div",{className:"mt-1",children:[t.jsx("b",{children:"Duration:"})," ",Mx(ce.duration)]}),t.jsxs("div",{children:[t.jsx("b",{children:"Cost:"})," ",ce.cost===null||ce.cost===void 0||Number.isNaN(Number(ce.cost))?"Unknown":`$${Number(ce.cost).toFixed(2)}`]})]})]}),ce.user?t.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(cc,{className:"h-3.5 w-3.5"}),t.jsx("span",{className:"font-semibold",children:"User:"})," ",ia(ce.user.name)]}),t.jsx("div",{className:"ml-5 break-all",children:ia(ce.user.email)})]}):t.jsx("div",{className:"mt-3 text-xs text-slate-600",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(cc,{className:"h-3.5 w-3.5"}),t.jsx("span",{className:"font-semibold",children:"User:"})," Unknown"]})}),(ce.assistant_id||ce.phone_number_id)&&t.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[t.jsxs("div",{children:[t.jsx("b",{children:"Assistant ID:"})," ",ia(ce.assistant_id)]}),t.jsxs("div",{children:[t.jsx("b",{children:"Phone Number ID:"})," ",ia(ce.phone_number_id)]})]}),t.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[t.jsx("b",{children:"End Reason:"})," ",ia(ce.ended_reason)]})]}),ce.recording_url&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Recording"}),t.jsx("audio",{controls:!0,className:"w-full",children:t.jsx("source",{src:NO(ce.recording_url)||ce.recording_url})}),t.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.jsxs("a",{href:NO(ce.recording_url)||ce.recording_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-xs inline-flex items-center gap-1",children:[t.jsx(Dr,{className:"h-3.5 w-3.5"})," Open recording URL"]})})]}),ce.summary&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Summary"}),t.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:ce.summary})]}),ce.transcript&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Transcript"}),t.jsxs(ns,{onClick:()=>_O(`transcript-${ce.call_id||ce.id}.txt`,ce.transcript),size:"sm",children:[t.jsx(eo,{className:"h-4 w-4 mr-2"})," Save .txt"]})]}),t.jsx("div",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap max-h-72 overflow-auto",children:ce.transcript})]}),ce.analysis&&t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),t.jsx("pre",{className:"text-xs bg-slate-50 border border-slate-200 rounded-xl p-3 overflow-auto max-h-64",children:typeof ce.analysis=="string"?ce.analysis:JSON.stringify(ce.analysis,null,2)})]})]})})})]})}function tw({label:e,value:a,Icon:n,tone:s="blue"}){const r=s==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=s==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(n,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})})}function Kl({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function ppe(){return t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function ns({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[s]} ${d[n]} ${a}`,children:e})}function Ii({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Bi({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function gpe({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx("button",{onClick:a,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function bpe({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a}),t.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx("button",{onClick:a,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),t.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const si={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},kO=/^\+\d{7,15}$/,CO=[{id:1,key:"core",label:"Core & Transcription",Icon:Y2},{id:2,key:"voice",label:"Voice",Icon:eN},{id:3,key:"review",label:"Review & Create",Icon:_c}],vpe=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],ype=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function jpe(){const e=da(),[a,n]=p.useState(1),[s,r]=p.useState(!1),[l,c]=p.useState(!1),d=p.useRef(null),[m,h]=p.useState(!1),[f,g]=p.useState("all"),[b,y]=p.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[j,w]=p.useState({}),[N,k]=p.useState([]),[_,C]=p.useState(!1),[O,P]=p.useState(""),E=p.useMemo(()=>{const T=b.voice_provider==="openai"?Ou:Ec;return(f==="all"?T:T.filter(W=>W.gender===f)).slice().sort((W,I)=>((W==null?void 0:W.showName)||"").localeCompare((I==null?void 0:I.showName)||""))},[b.voice_provider,f]);p.useEffect(()=>{if(!b.voice)return;const T=E.find(K=>(K==null?void 0:K.name)===b.voice);T!=null&&T.voice&&(y(K=>({...K,voice_model:T.voice})),w(K=>({...K,voice_model:""})))},[b.voice,E]);const B="https://app.thedbt.ai",M=T=>{const{id:K,value:W,type:I,checked:A}=T.target,$=I==="checkbox"?A:W;y(z=>({...z,[K]:$})),w(z=>({...z,[K]:""}))},V=T=>{try{d.current&&(d.current.pause(),d.current=null);const K=new Audio(T);d.current=K,c(!0),K.play().catch(()=>{R.error("Failed to play voice preview"),c(!1),d.current=null}),K.onended=()=>{c(!1),d.current=null}}catch{R.error("Failed to play voice preview"),c(!1)}},G=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},H=T=>{if(T!==a){if(T===3&&(!b.voice||!m)){w(K=>({...K,voice:"Select a voice and press Next to continue"})),R.error("Please select a voice and press Next to continue.");return}G(),n(T)}},F=()=>{if(a===1){n(2);return}if(a===2){if(!b.voice){w(T=>({...T,voice:"Please select a voice"})),R.error("Select a voice to continue.");return}if(!m){w(T=>({...T,voice:"Click a voice card to confirm your choice"})),R.info("Click a voice card to confirm your choice.");return}n(3)}},ie=async()=>{C(!0),P("");try{const T=localStorage.getItem("token"),K=await fetch(`${B}/api/purchased_numbers`,{headers:{Accept:"application/json",...T?{Authorization:`Bearer ${T}`}:{}}});if(!K.ok)throw new Error(`HTTP ${K.status}`);const W=await K.json(),A=(Array.isArray(W)?W:(W==null?void 0:W.purchased_numbers)||[]).filter(Boolean).map($=>({phone_number:($==null?void 0:$.phone_number)||"",friendly_name:($==null?void 0:$.friendly_name)||"",attached_assistant:($==null?void 0:$.attached_assistant)??null})).filter($=>$.phone_number);k(A)}catch(T){console.error(T),P("Failed to load your purchased numbers"),k([])}finally{C(!1)}};p.useEffect(()=>{ie()},[]);const _e=()=>{const T=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],K={};let W=!0;if(T.forEach(I=>{const A=b[I];(A==null||A===""||Number.isNaN(A))&&(K[I]="Required",W=!1)}),(b.temperature<0||b.temperature>2)&&(K.temperature="Temperature must be between 0 and 2",W=!1),b.maxTokens<1&&(K.maxTokens="maxTokens must be a positive integer",W=!1),b.forwardingPhoneNumber&&!kO.test(b.forwardingPhoneNumber)&&(K.forwardingPhoneNumber="Must be E.164 (+123...)",W=!1),b.attached_Number&&!kO.test(b.attached_Number)&&(K.attached_Number="Invalid number format",W=!1),w(K),!W){const I=z=>z.some(X=>K[X]),A=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],$=["voice_provider","voice_model","voice"];I(A)?n(1):I($)&&n(2)}return W},ce=async T=>{if(T.preventDefault(),!s){if(a!==3){R.error("Please complete the steps first.");return}if(_e()){r(!0),G();try{const K=localStorage.getItem("token"),W=`${B}/api/assistants`,I={name:b.name,provider:b.provider,first_message:b.first_message||null,model:b.model,systemPrompt:b.systemPrompt||null,knowledgeBase:b.knowledgeBase,leadsfile:b.leadsfile,temperature:Number(b.temperature),maxTokens:Number(b.maxTokens),transcribe_provider:b.transcribe_provider,transcribe_language:b.transcribe_language,transcribe_model:b.transcribe_model,languages:b.languages,forwardingPhoneNumber:b.forwardingPhoneNumber||null,endCallPhrases:b.endCallPhrases,voice_provider:b.voice_provider,voice:b.voice,voice_model:b.voice_model,attached_Number:b.attached_Number||null,draft:!!b.draft,assistant_toggle:!!b.assistant_toggle,category:b.category||null,speed:Number(b.speed),stability:Number(b.stability),similarityBoost:Number(b.similarityBoost)},A=await fetch(W,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...K?{Authorization:`Bearer ${K}`}:{}},body:JSON.stringify(I)});if(!A.ok){let $=`HTTP ${A.status}`;try{const z=await A.json();z!=null&&z.detail&&($=z.detail)}catch{const z=await A.text();z&&($=`${$}  ${z}`)}throw new Error($)}R.success("Assistant created successfully!"),e("/user/callassistent")}catch(K){R.error((K==null?void 0:K.message)||"Failed to create assistant")}finally{r(!1)}}}};return p.useEffect(()=>{h(!1),y(T=>({...T,voice:"",voice_model:""}))},[b.voice_provider]),t.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:si.background},children:[t.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:t.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),t.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),t.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[t.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:si.border,backgroundColor:si.card},children:t.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[t.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),t.jsxs("div",{className:"relative p-6 text-center",children:[t.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[t.jsx(_c,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),t.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),t.jsx(wpe,{currentStep:a,onChange:H}),t.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:si.card,borderColor:si.border},children:t.jsxs("form",{onSubmit:ce,noValidate:!0,children:[t.jsxs(kt,{mode:"wait",children:[a===1&&t.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsx(Dx,{id:"name",label:"Assistant Name",value:b.name,onChange:M,error:j.name,placeholder:"SupportBot"}),t.jsx(Dx,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:b.forwardingPhoneNumber,onChange:M,error:j.forwardingPhoneNumber,placeholder:"+12345678901"}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(_h,{children:"Attach Purchased Number (optional)"}),t.jsx("button",{type:"button",onClick:ie,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),t.jsxs("select",{id:"attached_Number",value:b.attached_Number,onChange:M,disabled:_||!N.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[t.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":N.length?"Do not attach":"No purchased numbers found"}),N.map(T=>t.jsx("option",{value:T.phone_number,className:"bg-white",children:T.friendly_name?`${T.friendly_name}  ${T.phone_number}`:T.phone_number},T.phone_number))]}),O&&t.jsx(tc,{children:O}),j.attached_Number&&t.jsx(tc,{children:j.attached_Number})]}),t.jsx(Dx,{id:"category",label:"Category (optional)",value:b.category,onChange:M}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(_h,{children:"System Prompt"}),t.jsx(EO,{id:"systemPrompt",value:b.systemPrompt,onChange:M,placeholder:"Write your system prompt",rows:4}),j.systemPrompt&&t.jsx(tc,{children:j.systemPrompt})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(_h,{children:"First Message"}),t.jsx(EO,{id:"first_message",value:b.first_message,onChange:M,placeholder:"Hello! ",rows:3}),j.first_message&&t.jsx(tc,{children:j.first_message})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[t.jsx(PO,{id:"draft",label:"Save as Draft",checked:b.draft,onChange:M}),t.jsx(PO,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:b.assistant_toggle,onChange:M})]})]},"step1"),a===2&&t.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsx(TO,{id:"voice_provider",label:"Voice Provider",value:b.voice_provider,onChange:T=>{G();const K=T.target.value;y(W=>({...W,voice_provider:K,voice:"",voice_model:""})),h(!1),w(W=>({...W,voice:"",voice_model:""}))},options:vpe,error:j.voice_provider}),t.jsx(TO,{id:"genderFilter",label:"Gender",value:f,onChange:T=>{G(),g(T.target.value),h(!1)},options:ype}),t.jsx(Dx,{id:"voice_model",label:"Voice Model",value:b.voice_model,onChange:()=>{},error:j.voice_model,placeholder:b.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!m&&t.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",t.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",t.jsx("span",{className:"font-medium",children:"Next"}),"."]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&t.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:si.border},children:"No voices match this filter."}),E.map(T=>t.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:b.voice===T.name?"#93c5fd":si.border,backgroundColor:b.voice===T.name?"#eff6ff":si.card},onClick:()=>{y(K=>({...K,voice:T.name,voice_model:T.voice,voice_provider:T.provider||b.voice_provider})),h(!0),w(K=>({...K,voice:"",voice_model:""}))},children:[t.jsx("div",{className:"absolute left-3 top-3",children:t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${b.voice===T.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),t.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold text-slate-900",children:T.showName||T.name}),t.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[T.gender||"unknown","  ",T.provider]}),t.jsx("div",{className:"mt-1 text-xs text-slate-500",children:T.voice})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(Npe,{isActive:l&&b.voice===T.name,onPlay:()=>V(T.audioSr||""),onStop:G})})]})]},`${T.provider}-${T.name}`))]}),j.voice&&t.jsx(tc,{children:j.voice})]},"step2"),a===3&&t.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:t.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:si.border},children:[t.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx(Fo,{label:"Name",value:b.name||""}),t.jsx(Fo,{label:"Model",value:`${b.provider}  ${b.model}`}),t.jsx(Fo,{label:"Voice Provider",value:b.voice_provider}),t.jsx(Fo,{label:"Voice",value:b.voice||""}),t.jsx(Fo,{label:"Voice Model",value:b.voice_model||""}),t.jsx(Fo,{label:"Forwarding Number",value:b.forwardingPhoneNumber||""}),t.jsx(Fo,{label:"Attach Number",value:b.attached_Number||""})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[t.jsx(aw,{onClick:()=>n(2),children:"Edit Voice"}),t.jsx(aw,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),t.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[a>1?t.jsx(aw,{onClick:()=>H(a-1),children:"Back"}):t.jsx("span",{}),a<3?t.jsxs(AO,{onClick:F,children:["Next ",t.jsx(pa,{className:"ml-1 h-4 w-4"})]}):t.jsx(AO,{type:"submit",disabled:s,children:s?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Ia,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function wpe({currentStep:e,onChange:a}){return t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:CO.map(({id:n,label:s,Icon:r})=>{const l=e===n;return t.jsxs(pe.button,{onClick:()=>a(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[t.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:t.jsx(r,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:s}),t.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),t.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:t.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/CO.length*100}%`}})})]})}function AO({children:e,onClick:a,type:n="button",disabled:s}){return t.jsx("button",{type:n,onClick:a,disabled:s,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${s?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function aw({children:e,onClick:a}){return t.jsx("button",{type:"button",onClick:a,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function _h({children:e}){return t.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function tc({children:e}){return t.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function Dx({id:e,label:a,value:n,onChange:s,error:r,placeholder:l,readOnly:c=!1,disabled:d=!1}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(_h,{children:a}),t.jsx("input",{id:e,type:"text",value:n,onChange:s,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),r&&t.jsx(tc,{children:r})]})}function TO({id:e,label:a,value:n,onChange:s,options:r,error:l}){return t.jsxs("div",{className:"mb-2",children:[t.jsx(_h,{children:a}),t.jsx("select",{id:e,value:n,onChange:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:r.map(c=>t.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&t.jsx(tc,{children:l})]})}function EO({id:e,value:a,onChange:n,placeholder:s,rows:r=4}){return t.jsx("textarea",{id:e,value:a,onChange:n,placeholder:s,rows:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function PO({id:e,label:a,checked:n,onChange:s}){return t.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[t.jsx("input",{id:e,type:"checkbox",checked:n,onChange:s,className:"accent-blue-600"}),t.jsx("span",{children:a})]})}function Fo({label:e,value:a}){return t.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:si.border},children:[t.jsx("div",{className:"text-slate-500",children:e}),t.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:a})]})}function Npe({isActive:e,onPlay:a,onStop:n}){return t.jsx("div",{className:"flex items-center gap-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((s,r)=>t.jsx("div",{className:"w-1.5 rounded-sm bg-blue-500",style:{animation:`eqbar 0.9s ${s}ms ease-in-out infinite`}},r))}),t.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:t.jsx(Zd,{className:"h-5 w-5"})})]}):t.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:t.jsx(gu,{className:"h-5 w-5"})})})}const ot={primary:"#4F46E5",secondary:"#10B981",danger:"#EF4444",text:"#374151",lightText:"#6B7280",border:"#E5E7EB",background:"#F9FAFB",card:"#FFFFFF",hover:"#F9FAFB",radioSelected:"#1F2937",radioBorder:"#374151"},Spe=()=>{const{assistantId:e}=Qh(),a=da(),[n,s]=p.useState(!1),[r,l]=p.useState(!1),[c,d]=p.useState(1),[m,h]=p.useState({name:"",phone:"",system_prompt:"",first_message:"",files:null,existing_file_urls:[],voice:"",voiceSet:"all"}),[f,g]=p.useState({name:"",phone:"",system_prompt:"",first_message:"",files:"",voice:""}),[b,y]=p.useState(!0),j=p.useRef(null),w=[..._j,...kj].sort((M,V)=>M.showName.localeCompare(V.showName));p.useEffect(()=>{(async()=>{const V=localStorage.getItem("token");if(!V){R.error("No authentication token found. Please log in."),a("/login");return}try{const G=await fetch("http://localhost:8000/api/admin/getassistant",{method:"GET",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(!G.ok){if(G.status===403)throw new Error("Access denied: Invalid or insufficient permissions");if(G.status===401)throw new Error("Unauthorized: Please log in again");{const ie=await G.text();throw new Error(`HTTP error! Status: ${G.status}`)}}const F=(await G.json()).assistants.find(ie=>ie.assistant_id===e);if(!F)throw new Error("Assistant not found");h({name:F.name||"",phone:F.phone||"",system_prompt:F.system_prompt||"",first_message:F.first_message||"",files:null,existing_file_urls:F.file_urls||[],voice:F.voice||"",voiceSet:"all"}),y(!1)}catch(G){console.error("Error fetching assistant:",G.message),R.error(G.message),a("/")}})()},[e,a]),p.useEffect(()=>{var M;if(c===2&&!m.voice){const V=w.filter(G=>m.voiceSet==="voiceset1"?_j.includes(G):m.voiceSet==="voiceset2"?kj.includes(G):!0);V.length>0&&((M=V[0])!=null&&M.name)&&(h(G=>({...G,voice:V[0].name})),g(G=>({...G,voice:""})))}},[m.voiceSet,c]);const N=M=>{const{id:V,value:G}=M.target;h(H=>({...H,[V]:G})),g(H=>({...H,[V]:""}))},k=M=>{h(V=>({...V,files:M.target.files})),g(V=>({...V,files:""}))},_=()=>{const M={...f};let V=!0;const G=/^\+\d{10,15}$/,H=["text/plain","application/pdf","text/csv"],F=5*1024*1024;if(m.name.trim()||(M.name="Please enter an assistant name",V=!1),m.phone?G.test(m.phone)||(M.phone="Phone number must be in international format (e.g., +1234567890)",V=!1):(M.phone="Please select a phone number",V=!1),m.system_prompt.trim()||(M.system_prompt="Please enter a system prompt",V=!1),m.first_message.trim()||(M.first_message="Please enter a first message",V=!1),m.files&&m.files.length>0)for(let ie=0;ie<m.files.length;ie++){if(!H.includes(m.files[ie].type)){M.files="Only .txt, .pdf, and .csv files are allowed",V=!1;break}if(m.files[ie].size>F){M.files="Each file must be under 5MB",V=!1;break}}return g(M),V},C=()=>{const M={...f};let V=!0;return m.voice||(M.voice="Please select a voice",V=!1),g(M),V},O=M=>{j.current&&(j.current.pause(),j.current=null,l(!1));const V=new Audio(M);j.current=V,l(!0),V.play().catch(G=>{console.error("Error playing audio:",G),R.error("Failed to play voice preview"),l(!1)}),V.onended=()=>{l(!1),j.current=null}},P=()=>{j.current&&(j.current.pause(),j.current=null,l(!1))},E=M=>{M!==c&&(d(M),P())},B=async M=>{if(M.preventDefault(),n)return;const V=_(),G=C();if(!V){d(1);return}if(!G){d(2);return}s(!0),P();try{const H=new FormData;if(H.append("assistantName",m.name),H.append("phone",m.phone),H.append("systemPrompt",m.system_prompt),H.append("firstMessage",m.first_message),H.append("voice",m.voice),m.files)for(let _e=0;_e<m.files.length;_e++)H.append("files",m.files[_e]);m.existing_file_urls.length>0&&H.append("file_urls",JSON.stringify(m.existing_file_urls));const F=localStorage.getItem("token");if(!F)throw new Error("No authentication token found. Please log in.");const ie=await fetch(`http://localhost:8000/api/admin/update/assistant/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${F}`},body:H});if(!ie.ok){const _e=await ie.text();throw new Error(`HTTP error! Status: ${ie.status}`)}R.success("Assistant updated successfully!"),a("/admin/assistants")}catch(H){console.error("Error updating assistant:",H.message),R.error(H.message)}finally{s(!1)}};return b?t.jsx("div",{className:"min-h-screen flex justify-center items-center",style:{backgroundColor:ot.background},children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:ot.primary}})}):t.jsx("div",{className:"min-h-screen",style:{backgroundColor:ot.background},children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[t.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-sm border py-4 px-6 text-center",style:{borderColor:ot.border},children:t.jsx("h1",{className:"text-3xl font-bold",style:{color:ot.text},children:"Edit Assistant"})}),t.jsxs("div",{className:"mb-6 flex justify-center gap-4",children:[t.jsx("button",{type:"button",onClick:()=>E(1),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===1?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 1: Assistant Details"}),t.jsx("button",{type:"button",onClick:()=>E(2),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===2?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 2: Voice Selection"})]}),t.jsx("div",{className:"rounded-xl shadow-md border p-8 transition-transform hover:scale-[1.01]",style:{backgroundColor:ot.card,borderColor:ot.border},children:t.jsxs("form",{onSubmit:B,noValidate:!0,children:[c===1&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{htmlFor:"name",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:ot.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Assistant Name"]}),t.jsx("input",{type:"text",id:"name",value:m.name,onChange:N,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card},placeholder:"Enter assistant name (e.g., SupportBot)"}),f.name&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.name]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:ot.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone Number"]}),t.jsxs("select",{id:"phone",value:m.phone,onChange:N,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card},children:[t.jsx("option",{value:"",children:"Select a phone number"}),t.jsx("option",{value:"+1234567890",children:"+1234567890 (Demo)"}),t.jsx("option",{value:"+1987654321",children:"+1987654321"}),t.jsx("option",{value:"+1123456789",children:"+1123456789"})]}),f.phone&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.phone]})]}),t.jsxs("div",{className:"mb-6 md:col-span-2",children:[t.jsxs("label",{htmlFor:"system_prompt",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:ot.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"System Prompt"]}),t.jsx("textarea",{id:"system_prompt",value:m.system_prompt,onChange:N,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card},placeholder:"Enter system prompt",rows:"5"}),f.system_prompt&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.system_prompt]})]}),t.jsxs("div",{className:"mb-6 md:col-span-2",children:[t.jsxs("label",{htmlFor:"first_message",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:ot.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"First Message"]}),t.jsx("textarea",{id:"first_message",value:m.first_message,onChange:N,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card},placeholder:"Enter the assistant's first message",rows:"3"}),f.first_message&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.first_message]})]}),t.jsxs("div",{className:"mb-6 md:col-span-2",children:[t.jsxs("label",{htmlFor:"files",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:ot.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add New Files (Optional)"]}),t.jsx("input",{type:"file",id:"files",multiple:!0,accept:".txt,.pdf,.csv",onChange:k,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card}}),f.files&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.files]}),t.jsx("p",{className:"text-sm mt-2",style:{color:ot.lightText},children:"Supported formats: .txt, .pdf, .csv (max 5MB per file)"}),m.existing_file_urls.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"font-medium",style:{color:ot.text},children:"Existing Files:"}),t.jsx("ul",{className:"list-disc pl-5",children:m.existing_file_urls.map((M,V)=>t.jsx("li",{children:t.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-sm",style:{color:ot.primary},children:M})},V))})]})]})]}),c===2&&t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"voice",className:"flex items-center gap-2 text-lg font-semibold mb-4",style:{color:ot.text},children:[t.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),"Voice Selection"]}),t.jsx("div",{className:"mb-6",children:t.jsxs("select",{id:"voiceSet",value:m.voiceSet,onChange:M=>{h(V=>({...V,voiceSet:M.target.value,voice:""})),g(V=>({...V,voice:""})),P()},className:"w-full md:w-64 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card},children:[t.jsx("option",{value:"all",children:"All Voices"}),t.jsx("option",{value:"voiceset1",children:"Voice Set 1"}),t.jsx("option",{value:"voiceset2",children:"Voice Set 2"})]})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:w.filter(M=>m.voiceSet==="voiceset1"?_j.includes(M):m.voiceSet==="voiceset2"?kj.includes(M):!0).map(M=>M&&M.name?t.jsxs("div",{className:`relative p-6 rounded-xl border cursor-pointer transition-all duration-300 shadow-sm hover:shadow-md ${m.voice===M.name?"border-gray-800 bg-gray-50":"border-gray-300 hover:bg-gray-100"}`,style:{borderColor:m.voice===M.name?ot.radioBorder:ot.border,backgroundColor:m.voice===M.name?ot.hover:ot.card},onClick:()=>{console.log("Selected voice:",M),h(V=>({...V,voice:M.name})),g(V=>({...V,voice:""}))},children:[t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${m.voice===M.name?"border-gray-800 bg-gray-800":"border-gray-400"}`,style:{borderColor:m.voice===M.name?ot.radioBorder:ot.border,backgroundColor:m.voice===M.name?ot.radioSelected:"transparent"},children:m.voice===M.name&&t.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})}),t.jsxs("div",{className:"ml-8 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg",style:{color:ot.text},children:M.showName||"Unnamed Voice"}),t.jsx("p",{className:"text-sm",style:{color:ot.lightText},children:M.gender||"Unknown"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),O(M.audioSr||"")},disabled:r&&m.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-emerald-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:ot.secondary,color:"white"},title:r&&m.voice!==M.name?"Audio playing":"Play voice preview",children:r&&m.voice===M.name?t.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12a8 8 0 1116 0 8 8 0 01-16 0z"})}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.2A1 1 0 0010 9.8v4.4a1 1 0 001.555.832l3.197-2.2a1 1 0 000-1.664z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),t.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),P()},disabled:!r||m.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-red-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:ot.danger,color:"white"},title:"Stop voice preview",children:t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9z"})]})})]})]})]},M.name):null)}),f.voice&&t.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.voice]})]}),t.jsxs("div",{className:"flex justify-between mt-6",children:[c===2&&t.jsx("button",{type:"button",onClick:()=>E(1),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-gray-300",style:{backgroundColor:ot.border,color:ot.text},children:"Back"}),c===1&&t.jsx("button",{type:"button",onClick:()=>E(2),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 ml-auto",style:{backgroundColor:ot.primary,color:"white"},children:"Next"}),c===2&&t.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:ot.primary,color:"white"},children:n?"Updating...":"Update Assistant"})]})]})})]})})},Rx="https://app.thedbt.ai";function _pe(){const e=da(),[a,n]=p.useState([]),[s,r]=p.useState(!0),[l,c]=p.useState(!1),[d,m]=p.useState(!0),[h,f]=p.useState(""),[g,b]=p.useState("all"),[y,j]=p.useState("all"),[w,N]=p.useState("created_at"),[k,_]=p.useState("desc"),[C,O]=p.useState(!1),[P,E]=p.useState(null),[B,M]=p.useState([]),[V,G]=p.useState(!1),[H,F]=p.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[ie,_e]=p.useState(1),ce=10,T=p.useMemo(()=>localStorage.getItem("token"),[]),K=async()=>{try{c(!0);const ue=await fetch(`${Rx}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:T?`Bearer ${T}`:""}});if(!ue.ok)throw new Error(`HTTP ${ue.status}`);const Ae=await ue.json(),U=Array.isArray(Ae)?Ae:Array.isArray(Ae==null?void 0:Ae.assistants)?Ae.assistants:[];n(U)}catch(ue){console.error(ue),R.error("Failed to fetch assistants")}finally{r(!1),c(!1)}};p.useEffect(()=>{K()},[]),p.useEffect(()=>{if(!d)return;const ue=setInterval(K,15e3);return()=>clearInterval(ue)},[d]);const W=p.useMemo(()=>{let ue=[...a];g!=="all"&&(ue=ue.filter(U=>((U==null?void 0:U.provider)||"").toLowerCase()===g)),y!=="all"&&(ue=ue.filter(U=>((U==null?void 0:U.category)||"").toLowerCase()===y));const Ae=h.trim().toLowerCase();return Ae&&(ue=ue.filter(U=>[U==null?void 0:U.name,U==null?void 0:U.model,U==null?void 0:U.voice,U==null?void 0:U.category,U==null?void 0:U.attached_Number].filter(Boolean).map(String).map(ke=>ke.toLowerCase()).some(ke=>ke.includes(Ae)))),ue.sort((U,de)=>{if(w==="created_at"){const Ve=U!=null&&U.created_at?new Date(U.created_at).getTime():0,Xe=de!=null&&de.created_at?new Date(de.created_at).getTime():0;return k==="asc"?Ve-Xe:Xe-Ve}const ke=((U==null?void 0:U[w])??"").toString().toLowerCase(),Le=((de==null?void 0:de[w])??"").toString().toLowerCase();return ke<Le?k==="asc"?-1:1:ke>Le?k==="asc"?1:-1:0}),ue},[a,h,g,y,w,k]),I=p.useMemo(()=>{const ue=new Set((a||[]).map(Ae=>((Ae==null?void 0:Ae.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(ue)]},[a]),A=p.useMemo(()=>{const ue=new Set((a||[]).map(Ae=>((Ae==null?void 0:Ae.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(ue)]},[a]),$=Math.max(1,Math.ceil(W.length/ce)),z=Math.min(ie,$),X=W.slice((z-1)*ce,z*ce),ge=p.useMemo(()=>W.length?W.reduce((ue,Ae)=>{const U=ue!=null&&ue.created_at?new Date(ue.created_at):null,de=Ae!=null&&Ae.created_at?new Date(Ae.created_at):null;return!U&&de?Ae:!de&&U||!U&&!de?ue:de>U?Ae:ue},W[0]):null,[W]),te=ue=>{w===ue?_(Ae=>Ae==="asc"?"desc":"asc"):(N(ue),_("asc"))},J=ue=>{E(ue),O(!0)},Ce=async()=>{if(P)try{const ue=await fetch(`${Rx}/api/assistants/${P}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:T?`Bearer ${T}`:""}});if(!ue.ok){let Ae=`HTTP ${ue.status}`;try{const U=await ue.json();U!=null&&U.detail&&(Ae=U.detail)}catch{}throw new Error(Ae)}R.success("Assistant deleted"),M(Ae=>Ae.filter(U=>U!==P)),K()}catch(ue){console.error(ue),R.error((ue==null?void 0:ue.message)||"Delete failed")}finally{O(!1),E(null)}},se=ue=>{const Ae=ue==null?void 0:ue.knowledge_base;if(Array.isArray(Ae)&&Ae.length){const U=Ae.filter(de=>typeof de=="string"&&/^https?:\/\//i.test(de));if(U.length){U.forEach(de=>window.open(de,"_blank","noopener"));return}}R.info("No file URLs available for this assistant.")},Se=ue=>{if(!(ue!=null&&ue.vapi_assistant_id)){R.error("Missing VAPI Assistant ID");return}F({vapi_assistant_id:ue.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),G(!0)},De=async ue=>{ue.preventDefault();const{vapi_assistant_id:Ae,number:U,first_name:de,last_name:ke,email:Le}=H;if(!U)return R.error("Enter the customer's phone number (E.164 preferred)");try{const Ve=`${Rx}/api/phone-call/${encodeURIComponent(Ae)}/${encodeURIComponent(U)}`,Xe={first_name:de||"Caller",last_name:ke||"",email:Le||"caller@example.com",add_date:new Date().toISOString(),mobile_no:U,custom_field_01:null,custom_field_02:null},$e=await fetch(Ve,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:T?`Bearer ${T}`:""},body:JSON.stringify(Xe)}),ne=await $e.json().catch(()=>({}));if(!$e.ok||(ne==null?void 0:ne.success)===!1)throw new Error((ne==null?void 0:ne.detail)||`HTTP ${$e.status}`);R.success("Call initiated"),G(!1)}catch(Ve){console.error(Ve),R.error((Ve==null?void 0:Ve.message)||"Failed to initiate call")}},Me=ue=>B.includes(ue),ye=ue=>{M(Ae=>Ae.includes(ue)?Ae.filter(U=>U!==ue):[...Ae,ue])},Ye=()=>{const ue=X.map(U=>U.id).filter(Boolean),Ae=ue.every(U=>B.includes(U));M(U=>Ae?U.filter(de=>!ue.includes(de)):Array.from(new Set([...U,...ue])))},Ke=async()=>{if(!B.length)return R.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const ue of B)await fetch(`${Rx}/api/assistants/${ue}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:T?`Bearer ${T}`:""}});R.success("Bulk delete complete"),M([]),K()}catch(ue){console.error(ue),R.error("Bulk delete encountered an error")}},we=()=>{const ue=["Name","Model","Voice","Attached Number","Category","Created"],Ae=W.map(Ve=>[(Ve==null?void 0:Ve.name)??"",(Ve==null?void 0:Ve.model)??"",(Ve==null?void 0:Ve.voice)??"",(Ve==null?void 0:Ve.attached_Number)??"",(Ve==null?void 0:Ve.category)??"",Ve!=null&&Ve.created_at?new Date(Ve.created_at).toLocaleString():""]),U=[ue,...Ae].map(Ve=>Ve.map(Xe=>`"${String(Xe).replace(/"/g,'""')}"`).join(",")).join(`
`),de=new Blob([U],{type:"text/csv;charset=utf-8;"}),ke=URL.createObjectURL(de),Le=document.createElement("a");Le.href=ke,Le.download="assistants.csv",Le.click(),URL.revokeObjectURL(ke)};return s?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:t.jsx("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[t.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),t.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),t.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((ue,Ae)=>t.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[t.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),t.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},Ae))}),t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[t.jsx("div",{className:"border-b border-gray-100 p-6",children:t.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((ue,Ae)=>t.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),t.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),t.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((U,de)=>t.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},de))})]})},Ae))]})]})})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),t.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),t.jsxs("div",{className:"relative mx-auto w-full max-w-[1400px] px-6 py-12",children:[t.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"text-white",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:t.jsx(uu,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),t.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),t.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),t.jsxs("span",{children:[W.length," Active"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qp,{className:"h-4 w-4"}),t.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsxs("button",{onClick:()=>m(ue=>!ue),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),t.jsxs("button",{onClick:K,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[t.jsx(l9,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),t.jsxs("button",{onClick:we,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[t.jsx(i9,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),t.jsxs("button",{onClick:()=>e("/admin/addassistands"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[t.jsx(Qg,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(o9,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),t.jsx("input",{value:h,onChange:ue=>f(ue.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx(OO,{label:"Provider",value:g,onChange:b,options:I,icon:t.jsx(Wfe,{className:"h-4 w-4"})}),t.jsx(OO,{label:"Category",value:y,onChange:j,options:A,icon:t.jsx(Wh,{className:"h-4 w-4"})})]})]})]})]}),t.jsxs("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx($x,{title:"Total Assistants",value:W.length,icon:t.jsx(uu,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),t.jsx($x,{title:"Active Calls",value:"24",icon:t.jsx(no,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),t.jsx($x,{title:"Success Rate",value:"94.2%",icon:t.jsx(Lr,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),t.jsx($x,{title:"Last Created",value:ge!=null&&ge.name?ge.name.length>12?`${ge.name.slice(0,12)}`:ge.name:"",icon:t.jsx(Qp,{className:"h-6 w-6 text-cyan-600"}),subtitle:ge!=null&&ge.created_at?new Date(ge.created_at).toLocaleDateString():""})]}),B.length>0&&t.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:t.jsx(Lr,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-blue-900",children:[B.length," assistants selected"]}),t.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:Ye,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),t.jsx("button",{onClick:Ke,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),W.length===0?t.jsx(Tpe,{}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[t.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),t.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[t.jsx("thead",{className:"bg-gray-50/60",children:t.jsxs("tr",{children:[t.jsx(kpe,{className:"w-12 text-center",checked:X.every(ue=>B.includes(ue.id))&&X.length>0,onChange:Ye}),t.jsx(Pd,{className:"w-[24%]",align:"center",label:"Assistant",sortKey:"name",sortDir:w==="name"?k:null,onSort:te}),t.jsx(Pd,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:w==="model"?k:null,onSort:te}),t.jsx(Pd,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:w==="voice"?k:null,onSort:te}),t.jsx(Pd,{className:"w-[16%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:w==="attached_Number"?k:null,onSort:te}),t.jsx(Pd,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:w==="category"?k:null,onSort:te}),t.jsx(Pd,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:w==="created_at"?k:null,onSort:te}),t.jsx("th",{className:"w-[18%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:X.map(ue=>t.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Me(ue.id)?"bg-blue-50/50":""}`,children:[t.jsx(Cpe,{className:"w-12 text-center",checked:Me(ue.id),onChange:()=>ye(ue.id)}),t.jsx("td",{className:"w-[24%] px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:t.jsx(Wh,{className:"h-5 w-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"max-w-[32ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:ue.name||""}),t.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(ue.knowledge_base)?ue.knowledge_base.length:0," KB items"]})]})]})}),t.jsx("td",{className:"w-[12%] px-6 py-4",children:t.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:t.jsx(Wd,{variant:"secondary",children:ue.model||""})})}),t.jsx("td",{className:"w-[12%] px-6 py-4",children:t.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:t.jsx(Wd,{variant:"accent",children:ue.voice||""})})}),t.jsx("td",{className:"w-[16%] px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("span",{className:"font-mono text-sm text-gray-700 break-all",children:ue.attached_Number||""}),ue.attached_Number&&t.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>Epe(ue.attached_Number),children:t.jsx(r9,{className:"h-4 w-4"})})]})}),t.jsx("td",{className:"w-[10%] px-6 py-4",children:t.jsx("div",{className:"text-center",children:ue.category?t.jsx(Wd,{variant:"primary",children:ue.category}):t.jsx("span",{className:"text-gray-400",children:""})})}),t.jsx("td",{className:"w-[8%] px-6 py-4 text-center text-sm text-gray-600 whitespace-nowrap",children:ue.created_at?new Date(ue.created_at).toLocaleDateString():""}),t.jsx("td",{className:"w-[18%] px-6 py-4",children:t.jsxs("div",{className:"mx-auto flex w-full items-center justify-center gap-2 whitespace-nowrap",children:[t.jsx(Lx,{title:"Edit Assistant",onClick:()=>e(`/admin/edit-assistants/${ue.id}`),variant:"primary",children:t.jsx(Xg,{className:"h-4 w-4"})}),t.jsx(Lx,{title:"View Files",onClick:()=>se(ue),variant:"success",children:t.jsx(Zg,{className:"h-4 w-4"})}),t.jsx(Lx,{title:"Start Call",onClick:()=>Se(ue),variant:"secondary",children:t.jsx(no,{className:"h-4 w-4"})}),t.jsx(Lx,{title:"Delete",onClick:()=>J(ue.id),variant:"danger",children:t.jsx(pc,{className:"h-4 w-4"})})]})})]},ue.id??ue.name))})]})]}),t.jsx("div",{className:"space-y-4 xl:hidden",children:X.map(ue=>t.jsx(Ape,{assistant:ue,isSelected:Me(ue.id),onToggleSelect:()=>ye(ue.id),onEdit:()=>e(`/admin/edit-assistants/${ue.id}`),onViewFiles:()=>se(ue),onCall:()=>Se(ue),onDelete:()=>J(ue.id)},ue.id??ue.name))}),t.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(z-1)*ce+1," to ",Math.min(z*ce,W.length)," of"," ",W.length," assistants"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(MO,{disabled:z<=1,onClick:()=>_e(ue=>Math.max(1,ue-1)),children:[t.jsx(a9,{className:"h-4 w-4"}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,$)},(ue,Ae)=>{const U=Ae+1;return t.jsx("button",{onClick:()=>_e(U),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${U===z?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:U},U)})}),t.jsxs(MO,{disabled:z>=$,onClick:()=>_e(ue=>Math.min($,ue+1)),children:["Next",t.jsx(n9,{className:"h-4 w-4"})]})]})]})]})]}),C&&t.jsx(DO,{onClose:()=>O(!1),children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:t.jsx(pc,{className:"h-8 w-8 text-red-600"})}),t.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),t.jsxs("div",{className:"flex justify-center gap-3",children:[t.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>O(!1),children:"Cancel"}),t.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:Ce,children:"Delete Assistant"})]})]})}),V&&t.jsxs(DO,{onClose:()=>G(!1),children:[t.jsxs("div",{className:"mb-6 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:t.jsx(no,{className:"h-8 w-8 text-blue-600"})}),t.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),t.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),t.jsxs("form",{onSubmit:De,className:"space-y-4",children:[t.jsx(Ix,{label:"Customer Phone Number",value:H.number,onChange:ue=>F(Ae=>({...Ae,number:ue})),placeholder:"+1 (555) 123-4567",required:!0}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[t.jsx(Ix,{label:"First Name",value:H.first_name,onChange:ue=>F(Ae=>({...Ae,first_name:ue})),placeholder:"John"}),t.jsx(Ix,{label:"Last Name",value:H.last_name,onChange:ue=>F(Ae=>({...Ae,last_name:ue})),placeholder:"Doe"})]}),t.jsx(Ix,{label:"Email Address",value:H.email,onChange:ue=>F(Ae=>({...Ae,email:ue})),placeholder:"john@example.com",type:"email"}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>G(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function $x({title:e,value:a,icon:n,trend:s,trendUp:r,subtitle:l}){return t.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),t.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:a}),l&&t.jsx("div",{className:"text-sm text-gray-500",children:l}),s&&t.jsxs("div",{className:`text-sm font-medium ${r?"text-green-600":"text-red-600"}`,children:[s," from last month"]})]})]})}function OO({label:e,value:a,onChange:n,options:s}){return t.jsxs("div",{className:"relative",children:[t.jsx("select",{value:a,onChange:r=>n(r.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:s.map(r=>t.jsx("option",{value:r,className:"bg-gray-800 text-white",children:r==="all"?`All ${e}s`:r},r))}),t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:t.jsx(Wg,{className:"h-4 w-4 text-white/70"})})]})}function Wd({children:e,variant:a="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return t.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[a]}`,children:e})}function Lx({title:e,onClick:a,children:n,variant:s="default"}){const r={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return t.jsx("button",{title:e,onClick:a,className:`rounded-xl p-2.5 transition-all duration-200 ${r[s]}`,children:n})}function Pd({label:e,sortKey:a,sortDir:n,onSort:s,className:r="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return t.jsx("th",{className:`px-6 py-4 ${c} ${r}`,children:t.jsxs("button",{onClick:()=>s(a),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,t.jsxs("div",{className:"flex flex-col",children:[t.jsx(s9,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),t.jsx(Wg,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function kpe({checked:e,onChange:a,className:n=""}){return t.jsx("th",{className:`px-6 py-4 ${n}`,children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("button",{onClick:a,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&t.jsx(Lr,{className:"h-3 w-3"})})})})}function Cpe({checked:e,onChange:a,className:n=""}){return t.jsx("td",{className:`px-6 py-4 ${n}`,children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("button",{onClick:a,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&t.jsx(Lr,{className:"h-3 w-3"})})})})}function Ape({assistant:e,isSelected:a,onToggleSelect:n,onEdit:s,onViewFiles:r,onCall:l,onDelete:c}){return t.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${a?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[t.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${a?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:a&&t.jsx(Lr,{className:"h-4 w-4"})}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:t.jsx(Wh,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),t.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),t.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),t.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),t.jsx(Wd,{variant:"secondary",children:e.model||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),t.jsx(Wd,{variant:"accent",children:e.voice||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),t.jsx("div",{className:"font-mono text-sm break-all",children:e.attached_Number||""})]}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?t.jsx(Wd,{variant:"primary",children:e.category}):t.jsx("span",{className:"text-gray-400",children:""})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[t.jsx(Xg,{className:"h-4 w-4"}),"Edit"]}),t.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[t.jsx(Zg,{className:"h-4 w-4"}),"Files"]}),t.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[t.jsx(no,{className:"h-4 w-4"}),"Call"]}),t.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[t.jsx(pc,{className:"h-4 w-4"}),"Delete"]})]})]})}function MO({disabled:e,onClick:a,children:n}){return t.jsx("button",{disabled:e,onClick:a,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function DO({children:e,onClose:a}){return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:a}),t.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[t.jsx("button",{onClick:a,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function Ix({label:e,value:a,onChange:n,placeholder:s,required:r,type:l="text"}){return t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",r&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:l,value:a,onChange:c=>n(c.target.value),placeholder:s,required:r,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Tpe(){return t.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[t.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:t.jsx(uu,{className:"h-10 w-10 text-blue-600"})}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),t.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),t.jsxs("a",{href:"/admin/addassistands",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[t.jsx(Qg,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function Epe(e){e&&navigator.clipboard.writeText(e).then(()=>R.success("Copied to clipboard")).catch(()=>R.info(e))}const RO="https://app.thedbt.ai",$O={PHONE_NUMBERS:`${RO}/api/admin/phone-numbers`,PHONE_NUMBER:e=>`${RO}/api/admin/phone-numbers/${e}`},Ppe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function LO(e){if(e==null||isNaN(Number(e)))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(e))}catch{return`$${Number(e).toFixed(2)}`}}function _r({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[s]} ${d[n]} ${a}`,children:e})}function Bx({children:e,className:a=""}){return t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${a}`,children:e})}function Vo({children:e}){return t.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Ho({children:e}){return t.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Ope(){return t.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function zx({label:e,value:a,Icon:n,tone:s="blue"}){const r=s==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=s==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return t.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(n,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function Mpe({name:e="?",size:a=38,url:n=null}){const s=(e||"?").split(" ").map(r=>r.charAt(0)).join("").toUpperCase().slice(0,2);return t.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:a,height:a},title:e,children:t.jsx("span",{style:{fontSize:a<40?12:13},children:s})})}function Dpe({children:e,onClose:a,title:n}){return t.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),t.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[t.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[t.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),t.jsx(_r,{onClick:a,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:t.jsx(Cn,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Rpe(){var K,W;const[e,a]=p.useState([]),[n,s]=p.useState({total:0,attached:0,unattached:0,countries:0}),[r,l]=p.useState(!1),[c,d]=p.useState(""),[m,h]=p.useState(null),[f,g]=p.useState(""),[b,y]=p.useState("all"),[j,w]=p.useState("all"),[N,k]=p.useState(1),_=10,[C,O]=p.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),[P,E]=p.useState(null),B=p.useCallback(async()=>{if(C){a([]),s({total:0,attached:0,unattached:0,countries:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const I=localStorage.getItem("token");if(!I){a([]),s({total:0,attached:0,unattached:0,countries:0}),d("No auth token found."),R.error("No authentication token found.");return}try{l(!0),d("");const A=await fetch($O.PHONE_NUMBERS,{headers:{Authorization:`Bearer ${I}`,Accept:"application/json"},mode:"cors"});if(!A.ok){const Ce=await A.text();throw new Error(`HTTP ${A.status}${Ce?`  ${Ce}`:""}`)}const $=await A.json();if(!($!=null&&$.success)||!Array.isArray($==null?void 0:$.phone_numbers))throw new Error("Unexpected response shape.");const z=($.phone_numbers||[]).map(Ce=>({id:Ce.id,phone_number:Ce.phone_number,friendly_name:Ce.friendly_name||"",region:Ce.region||"",postal_code:Ce.postal_code||"",iso_country:(Ce.iso_country||"").toUpperCase(),last_month_payment:Ce.last_month_payment,created_at:Ce.created_at,updated_at:Ce.updated_at,attached_assistant:Ce.attached_assistant,vapi_phone_uuid:Ce.vapi_phone_uuid||null,owner:Ce.user||null}));z.sort((Ce,se)=>new Date(se.updated_at||se.created_at||0)-new Date(Ce.updated_at||Ce.created_at||0)),a(z);const X=z.filter(Ce=>Ce.attached_assistant!==null&&Ce.attached_assistant!==void 0).length,ge=$.total_phone_numbers??z.length,te=Math.max(0,ge-X),J=new Set(z.map(Ce=>Ce.iso_country||"")).size;s({total:ge,attached:X,unattached:te,countries:J})}catch(A){d((A==null?void 0:A.message)||"Failed to load phone numbers"),R.error((A==null?void 0:A.message)||"Failed to load phone numbers")}finally{l(!1)}},[C]);p.useEffect(()=>{B()},[B]);const M=p.useMemo(()=>{const I=new Set(e.map(A=>A.iso_country).filter(Boolean));return["all",...Array.from(I).sort()]},[e]),V=p.useMemo(()=>{let I=[...e];if(f.trim()){const A=f.trim().toLowerCase();I=I.filter($=>{var z,X;return String($.phone_number||"").toLowerCase().includes(A)||String($.friendly_name||"").toLowerCase().includes(A)||String($.region||"").toLowerCase().includes(A)||String($.postal_code||"").toLowerCase().includes(A)||String(((z=$.owner)==null?void 0:z.name)||"").toLowerCase().includes(A)||String(((X=$.owner)==null?void 0:X.email)||"").toLowerCase().includes(A)})}return b!=="all"&&(I=I.filter(A=>b==="attached"?A.attached_assistant:!A.attached_assistant)),j!=="all"&&(I=I.filter(A=>(A.iso_country||"").toUpperCase()===j)),I},[e,f,b,j]),G=Math.max(1,Math.ceil(V.length/_)),H=N*_,F=H-_,ie=V.slice(F,H);p.useEffect(()=>{k(1)},[f,b,j]);const _e=I=>E(I),ce=async()=>{const I=P;if(!I)return;const A=localStorage.getItem("token");if(!A)return R.error("No authentication token found.");const $=e.find(z=>z.id===I);if($!=null&&$.attached_assistant)return R.error("This number is attached to an assistant. Detach it first from the Assistants page.");try{h(I);const z=await fetch($O.PHONE_NUMBER(I),{method:"DELETE",headers:{Authorization:`Bearer ${A}`,Accept:"application/json"}}),X=await z.json();if(!z.ok||!(X!=null&&X.success))throw new Error((X==null?void 0:X.detail)||(X==null?void 0:X.message)||`HTTP ${z.status}`);R.success(" Phone number deleted"),a(ge=>ge.filter(te=>te.id!==I)),s(ge=>({...ge,total:Math.max(0,ge.total-1),unattached:Math.max(0,ge.unattached-1)})),E(null)}catch(z){R.error((z==null?void 0:z.message)||"Delete failed")}finally{h(null)}},T=()=>{const I=localStorage.getItem("admin_token_backup");if(!I){R.error("No admin backup token found.");return}localStorage.setItem("token",I),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),O(null),R.success(" Exited impersonation"),window.location.reload()};return t.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[C&&t.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:t.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[t.jsx(Dr,{className:"h-4 w-4 shrink-0"}),t.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),t.jsxs("span",{className:"truncate",children:["Acting as ",t.jsx("b",{className:"break-all",children:(K=C.acting_as)==null?void 0:K.email})]})]}),t.jsxs(_r,{onClick:T,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[t.jsx(Cn,{className:"mr-2 h-4 w-4"})," Exit"]})]})}),t.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),t.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),t.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(gt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${Ppe}`,children:"Phone Numbers"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View and manage purchased phone numbers. Delete numbers that are not attached to an assistant."})]})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:t.jsx(_r,{onClick:B,disabled:r||!!C,children:r?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[t.jsx(zx,{label:"Total Numbers",value:n.total,Icon:gt,tone:"blue"}),t.jsx(zx,{label:"Attached",value:n.attached,Icon:Dr,tone:"cyan"}),t.jsx(zx,{label:"Unattached",value:n.unattached,Icon:zn,tone:"blue"}),t.jsx(zx,{label:"Countries",value:n.countries,Icon:li,tone:"cyan"})]}),t.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[t.jsxs("div",{className:"relative flex-1 min-w-0",children:[t.jsx(Un,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{value:f,onChange:I=>g(I.target.value),placeholder:"Search number, name, region, or owner",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!C})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[t.jsx(Zi,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("select",{value:b,onChange:I=>y(I.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx("option",{value:"all",children:"All statuses"}),t.jsx("option",{value:"attached",children:"Attached"}),t.jsx("option",{value:"unattached",children:"Unattached"})]}),t.jsx("select",{value:j,onChange:I=>w(I.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:M.map(I=>t.jsx("option",{value:I,children:I==="all"?"All countries":I},I))}),(f||b!=="all"||j!=="all")&&t.jsx(_r,{onClick:()=>{g(""),y("all"),w("all")},className:"text-slate-700",disabled:!!C,children:"Clear"})]})]})}),t.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(gt,{className:"h-4 w-4"})}),t.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Phone Numbers (",V.length,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),C?t.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:t.jsx(Dr,{className:"h-9 w-9 text-amber-500"})}),t.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),t.jsx("div",{className:"mt-3",children:t.jsxs(_r,{onClick:T,variant:"primary",children:[t.jsx(Cn,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):r?t.jsxs("div",{className:"grid place-content-center py-16",children:[t.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),t.jsx("div",{className:"text-sm text-slate-600",children:"Loading phone numbers"})]}):V.length===0?t.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[t.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:t.jsx(gt,{className:"h-9 w-9 text-slate-400"})}),t.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),t.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden xl:block",children:t.jsx("div",{className:"w-full",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx(Vo,{children:"Number"}),t.jsx(Vo,{children:"Owner"}),t.jsx(Vo,{children:"Region"}),t.jsx(Vo,{children:"Country"}),t.jsx(Vo,{children:"Status"}),t.jsx(Vo,{children:"Last Month"}),t.jsx(Vo,{children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:ie.map(I=>{const A=!!I.attached_assistant;return t.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[t.jsx(Ho,{children:t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-sm font-bold text-slate-900 break-all",children:I.phone_number}),t.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:I.friendly_name})]})}),t.jsx(Ho,{children:I.owner?t.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-slate-700",children:[t.jsx(Mpe,{name:I.owner.name,size:34}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-xs font-semibold truncate",children:I.owner.name}),t.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-slate-500 min-w-0",children:[t.jsx(Fn,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),t.jsx("span",{className:"truncate break-all",children:I.owner.email})]})]})]}):t.jsx("div",{className:"text-xs text-slate-500",children:""})}),t.jsx(Ho,{children:t.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[t.jsx(ui,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium break-all",children:I.region})]})}),t.jsx(Ho,{children:t.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[t.jsx(li,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium",children:I.iso_country||""})]})}),t.jsx(Ho,{children:A?t.jsxs(Bx,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[t.jsx(ta,{className:"mr-1 h-3.5 w-3.5"}),"Attached"]}):t.jsxs(Bx,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[t.jsx(zn,{className:"mr-1 h-3.5 w-3.5"}),"Unattached"]})}),t.jsx(Ho,{children:t.jsx("div",{className:"text-xs font-semibold text-slate-800",children:LO(I.last_month_payment)})}),t.jsx(Ho,{children:t.jsx("div",{className:"flex flex-wrap gap-2",children:t.jsx(_r,{onClick:()=>_e(I.id),variant:"danger",size:"sm",disabled:A,title:A?"Detach from assistant before deleting":"Delete number",children:m===I.id?t.jsx(Ge,{className:"h-4 w-4 animate-spin"}):t.jsx(Ea,{className:"h-4 w-4"})})})})]},I.id)})})]})})}),t.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ie.map((I,A)=>{var z,X;const $=!!I.attached_assistant;return t.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[A===0&&t.jsx(Ope,{}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:I.phone_number}),t.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:I.friendly_name}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx(J2,{className:"h-4 w-4 text-slate-500"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"truncate font-semibold",children:((z=I.owner)==null?void 0:z.name)||""}),((X=I.owner)==null?void 0:X.email)&&t.jsx("div",{className:"text-xs text-slate-500 truncate",children:I.owner.email})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(li,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium",children:I.iso_country||""})]}),t.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[t.jsx(ui,{className:"h-4 w-4 text-slate-500"}),t.jsx("span",{className:"text-xs font-medium break-words",children:I.region})]}),t.jsx("div",{className:"col-span-2",children:$?t.jsxs(Bx,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[t.jsx(ta,{className:"mr-1 h-3.5 w-3.5"})," Attached"]}):t.jsxs(Bx,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[t.jsx(zn,{className:"mr-1 h-3.5 w-3.5"})," Unattached"]})})]}),t.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.jsx(_r,{onClick:()=>_e(I.id),variant:"danger",size:"sm",className:"grow sm:grow-0",disabled:$,children:m===I.id?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ea,{className:"h-4 w-4 mr-1"})," Delete"]})})}),t.jsx("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:LO(I.last_month_payment)})]})]},I.id)})})}),V.length>_&&t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",t.jsx("b",{children:F+1}),"",t.jsx("b",{children:Math.min(H,V.length)})," of ",t.jsx("b",{children:V.length})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs(_r,{onClick:()=>k(I=>Math.max(1,I-1)),disabled:N===1,children:[t.jsx(kn,{className:"h-4 w-4 mr-1"})," Prev"]}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,G)},(I,A)=>{let $;if(G<=5||N<=3?$=A+1:N>=G-2?$=G-4+A:$=N-2+A,$<1||$>G)return null;const z=N===$;return t.jsx("button",{onClick:()=>k($),className:`px-3 py-2 text-sm font-semibold rounded-xl ${z?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:$},$)})}),t.jsxs(_r,{onClick:()=>k(I=>Math.min(G,I+1)),disabled:N>=G,children:["Next ",t.jsx(pa,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),t.jsx(kt,{children:P&&t.jsxs(Dpe,{onClose:()=>E(null),title:"Confirm Delete",children:[t.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete phone number"," ",t.jsx("b",{className:"break-words",children:((W=e.find(I=>I.id===P))==null?void 0:W.phone_number)||"this number"}),"?"," ","This action cannot be undone."]}),t.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[t.jsx(_r,{onClick:()=>E(null),variant:"subtle",children:"Cancel"}),t.jsx(_r,{onClick:ce,disabled:m===P,variant:"danger",children:m===P?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})})]})}const $pe=()=>{const[e,a]=p.useState([]),[n,s]=p.useState({name:"",id:null}),[r,l]=p.useState(!1),[c,d]=p.useState(!1),[m,h]=p.useState(!1),[f,g]=p.useState(null),b=da();p.useEffect(()=>{y()},[]);const y=async()=>{try{const P=await fetch("http://localhost:8000/api/admin/get/use_leadid",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!P.ok)throw new Error("Failed to fetch leads");const E=await P.json();a(E)}catch(P){console.error("Error fetching leads:",P)}},j=async()=>{try{if(!(await fetch("http://localhost:8000/api/admin/use_leadid",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to create lead");s({name:"",id:null}),l(!1),d(!1),y()}catch(P){console.error("Error creating lead:",P)}},w=P=>{s({name:P.name,id:P.id}),l(!0),d(!0)},N=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${n.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to update lead");s({name:"",id:null}),l(!1),d(!1),y()}catch(P){console.error("Error updating lead:",P)}},k=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete lead");h(!1),g(null),y()}catch(P){console.error("Error deleting lead:",P)}},_=P=>{b(`/admin/lead/${P}`)},C=e.length,O=e.length>0?e[e.length-1]:null;return t.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 lg:px-[150px] lg:py-10 xl:px-[150px] xl:py-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"mb-6",children:t.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"List Dashboard"})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[t.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Total List"}),t.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:C})]}),t.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[t.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Last Created"}),t.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 truncate",children:O?`${O.name} (${O.created_at})`:"No leads yet"})]})]}),t.jsx("div",{className:"flex justify-end mb-6",children:t.jsxs("button",{onClick:()=>{l(!r),d(!1),s({name:"",id:null})},className:"bg-blue-600 text-white px-4 sm:px-5 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-md text-sm sm:text-base",children:[r?"Cancel":"Create List",t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:r?"M6 18L18 6M6 6l12 12":"M12 4v16m8-8H4"})})]})}),r&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:t.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-md",children:[t.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-4",children:c?"Edit Lead":"Create Lead"}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("input",{type:"text",placeholder:"Lead Name",value:n.name,onChange:P=>s({...n,name:P.target.value}),className:"border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-200 w-full text-sm sm:text-base","aria-label":"Lead Name"}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),t.jsx("button",{onClick:c?N:j,className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200 text-sm sm:text-base",children:c?"Update":"Submit"})]})]})]})}),m&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:t.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-sm",children:[t.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-6",children:"Are you sure you want to delete this lead?"}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>h(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),t.jsx("button",{onClick:k,className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200 text-sm sm:text-base",children:"Confirm"})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[t.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700",children:"Lists"})}),t.jsxs("table",{className:"w-full text-sm sm:text-base",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{className:"hidden sm:table-row",children:[t.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[25%]",children:"ID"}),t.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Name"}),t.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Created At"}),t.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[15%]",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(P=>t.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200 block sm:table-row",children:[t.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[t.jsx("span",{className:"sm:hidden font-semibold",children:"ID: "}),P.id]}),t.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[t.jsx("span",{className:"sm:hidden font-semibold",children:"Name: "}),P.name]}),t.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell text-gray-600",children:[t.jsx("span",{className:"sm:hidden font-semibold",children:"Created At: "}),P.created_at]}),t.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[t.jsx("span",{className:"sm:hidden font-semibold",children:"Actions: "}),t.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[t.jsx("button",{onClick:()=>_(P.id),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"View lead",children:t.jsx(dZ,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),t.jsx("button",{onClick:()=>w(P),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"Edit lead",children:t.jsx(cZ,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),t.jsx("button",{onClick:()=>{g(P.id),h(!0)},className:"text-red-600 hover:text-red-700 transition duration-200 p-2","aria-label":"Delete lead",children:t.jsx(mZ,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},P.id))})]})]})]})})},IO="https://app.thedbt.ai",BO={LIST:`${IO}/api/admin/leadss`,UPDATE:e=>`${IO}/api/admin/leads/${e}`};function Sc(...e){return e.filter(Boolean).join(" ")}const Ss=e=>{if(e==null)return"Unknown";const a=String(e).trim();return a===""||a.toLowerCase()==="null"||a.toLowerCase()==="undefined"?"Unknown":a};function Lpe(e,a=250){const[n,s]=p.useState(e);return p.useEffect(()=>{const r=setTimeout(()=>s(e),a);return()=>clearTimeout(r)},[e,a]),n}function Ipe(e){if(!e)return"";const a=new Date(e);if(isNaN(a.getTime()))return"";const n=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0");return`${n}-${s}-${r}`}function zO(e){try{const a=new Date(e);return isNaN(a.getTime())?"Unknown":a.toLocaleString()}catch{return"Unknown"}}const Bpe={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},UO={show:{transition:{staggerChildren:.05}}},zpe={hidden:{opacity:0,scale:.98,y:12},show:{opacity:1,scale:1,y:0,transition:{duration:.25}},exit:{opacity:0,scale:.98,y:12,transition:{duration:.18}}},Upe={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}};function Od({children:e,tone:a="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200"};return t.jsx("span",{className:Sc("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[a]||n.slate),children:e})}function nw({label:e,value:a,Icon:n,tone:s="blue"}){const r=s==="blue"?"ring-blue-200/60":s==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=s==="blue"?"from-blue-600 to-cyan-500":s==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return t.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${r}`,children:t.jsx(n,{className:"h-7 w-7"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})})}function Fpe(){const e=p.useRef(localStorage.getItem("token")||null),[a,n]=p.useState([]),[s,r]=p.useState(!0),[l,c]=p.useState(!1),[d,m]=p.useState(""),h=Lpe(d,250),[f,g]=p.useState("add_date"),[b,y]=p.useState("desc"),[j,w]=p.useState(1),[N,k]=p.useState(12),[_,C]=p.useState(!1),[O,P]=p.useState(!1),[E,B]=p.useState(null),[M,V]=p.useState({first_name:"",last_name:"",email:"",add_date:"",salesforce_id:"",mobile:"",state:""});async function G(){if(!e.current){r(!1),R.error("No auth token found. Please log in.");return}try{r(!0);const X=await fetch(BO.LIST,{headers:{Authorization:`Bearer ${e.current}`}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const ge=await X.json(),te=Array.isArray(ge)?ge:Array.isArray(ge==null?void 0:ge.leads)?ge.leads:[];n(te)}catch(X){console.error(X),R.error("Failed to fetch leads"),n([])}finally{r(!1)}}p.useEffect(()=>{G()},[]);async function H(){c(!0),await G(),c(!1)}const F=p.useMemo(()=>{const X=h.trim().toLowerCase();let ge=a.filter(J=>X?[`${J.first_name||""} ${J.last_name||""}`.toLowerCase(),(J.email||"").toLowerCase(),(J.mobile||"").toLowerCase(),(J.salesforce_id||"").toLowerCase(),(J.state||"").toLowerCase()].some(Se=>Se.includes(X)):!0);const te=b==="asc"?1:-1;return ge.sort((J,Ce)=>{const se=`${J.first_name||""} ${J.last_name||""}`.trim().toLowerCase(),Se=`${Ce.first_name||""} ${Ce.last_name||""}`.trim().toLowerCase();let De,Me;switch(f){case"name":De=se,Me=Se;break;case"email":De=(J.email||"").toLowerCase(),Me=(Ce.email||"").toLowerCase();break;case"mobile":De=(J.mobile||"").toLowerCase(),Me=(Ce.mobile||"").toLowerCase();break;case"state":De=(J.state||"").toLowerCase(),Me=(Ce.state||"").toLowerCase();break;case"add_date":default:De=new Date(J.add_date||0).getTime(),Me=new Date(Ce.add_date||0).getTime()}return De<Me?-1*te:De>Me?1*te:0}),ge},[a,h,f,b]),ie=F.length,_e=Math.max(1,Math.ceil(ie/N));p.useEffect(()=>{j>_e&&w(_e)},[j,_e]);const ce=(j-1)*N,T=ce+N,K=F.slice(ce,T),W=p.useMemo(()=>{const X=F.filter(te=>!te.dnc).length,ge=F.filter(te=>!!te.dnc).length;return{total:F.length,callable:X,dnc:ge}},[F]);function I(X){B(X),V({first_name:X.first_name||"",last_name:X.last_name||"",email:X.email||"",add_date:Ipe(X.add_date),salesforce_id:X.salesforce_id||"",mobile:X.mobile||"",state:X.state||""}),C(!0)}function A(X){const{name:ge,value:te}=X.target;V(J=>({...J,[ge]:te}))}async function $(){if(!E)return;if(!e.current){R.error("No auth token found.");return}const X={first_name:M.first_name||"",last_name:M.last_name||"",email:M.email||"",add_date:M.add_date||"",salesforce_id:M.salesforce_id||null,mobile:M.mobile||"",state:M.state||null};try{P(!0);const ge=await fetch(BO.UPDATE(E.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.current}`},body:JSON.stringify(X)}),te=await ge.json().catch(()=>({}));if(!ge.ok||(te==null?void 0:te.success)===!1)throw new Error((te==null?void 0:te.detail)||`HTTP ${ge.status}`);const J=(te==null?void 0:te.updated_lead)||{...E,...X};n(Ce=>Ce.map(se=>se.id===E.id?{...se,...J}:se)),R.success("Lead updated"),C(!1),B(null)}catch(ge){console.error(ge),R.error((ge==null?void 0:ge.message)||"Update failed")}finally{P(!1)}}function z(X){g(ge=>ge===X?(y(te=>te==="asc"?"desc":"asc"),ge):(y(X==="add_date"?"desc":"asc"),X)),w(1)}return t.jsxs("div",{className:"min-h-screen w-full text-slate-900 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative",children:[t.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-400/15 blur-3xl"}),t.jsx("div",{className:"absolute top-1/3 -right-20 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-indigo-400/10 blur-3xl"})]}),t.jsx("header",{className:"relative z-0 border-b border-slate-200/70 bg-white/60 backdrop-blur after:absolute after:inset-x-0 after:-bottom-[1px] after:h-[2px] after:bg-gradient-to-r after:from-transparent after:via-cyan-400/70 after:to-transparent",children:t.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-5",children:[t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-black tracking-tight",children:t.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text text-transparent",children:"Leads"})}),t.jsx("p",{className:"text-sm text-slate-600",children:"View, search, and edit leads."})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(FO,{onClick:H,icon:t.jsx(Ge,{className:Sc("h-4 w-4",l&&"animate-spin")}),children:"Refresh"})})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[t.jsxs("div",{className:"relative sm:col-span-2",children:[t.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{value:d,onChange:X=>{m(X.target.value),w(1)},placeholder:"Search name, email, mobile, Salesforce ID, state",className:"w-full rounded-2xl border border-slate-200/70 bg-white/80 pl-10 pr-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search leads"})]}),t.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[t.jsxs("div",{className:"text-sm text-slate-600 hidden sm:block",children:["Total: ",t.jsx("span",{className:"font-semibold text-slate-900",children:ie})]}),t.jsx("select",{value:N,onChange:X=>{k(Number(X.target.value)),w(1)},className:"rounded-2xl border border-slate-200/70 bg-white/80 px-3 py-2 text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[12,24,48,96].map(X=>t.jsxs("option",{value:X,children:[X," / page"]},X))})]})]})]})}),t.jsx("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[t.jsx(nw,{label:"Total Leads",value:W.total,Icon:un,tone:"blue"}),t.jsx(nw,{label:"Callable",value:W.callable,Icon:ta,tone:"cyan"}),t.jsx(nw,{label:"DNC",value:W.dnc,Icon:zn,tone:"blue"})]})}),t.jsxs("main",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 pb-6",children:[t.jsx(pe.div,{initial:"hidden",animate:"show",variants:UO,className:"hidden lg:block overflow-x-auto rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:t.jsxs("table",{className:"min-w-full text-left",children:[t.jsx("thead",{className:"bg-slate-50/80 text-slate-600 text-sm",children:t.jsxs("tr",{className:"[&>th]:px-5 [&>th]:py-3",children:[t.jsx(sh,{sortKey:"add_date",sortBy:f,sortDir:b,onSort:z,children:"Added"}),t.jsx(sh,{sortKey:"name",sortBy:f,sortDir:b,onSort:z,children:"Name"}),t.jsx(sh,{sortKey:"email",sortBy:f,sortDir:b,onSort:z,children:"Email"}),t.jsx(sh,{sortKey:"mobile",sortBy:f,sortDir:b,onSort:z,children:"Mobile"}),t.jsx(sh,{sortKey:"state",sortBy:f,sortDir:b,onSort:z,children:"State"}),t.jsx("th",{className:"px-5 py-3",children:"SFDC"}),t.jsx("th",{className:"px-5 py-3",children:"Status"}),t.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:s?t.jsx(HO,{rows:8,cols:8}):K.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-5 py-12 text-center text-slate-600",children:"No leads found. Try searching something else."})}):K.map(X=>{const ge=`${Ss(X.first_name)} ${X.last_name?Ss(X.last_name):""}`.trim();return t.jsxs(pe.tr,{variants:Bpe,className:"hover:bg-slate-50/70 transition-colors",children:[t.jsx("td",{className:"px-5 py-3 text-sm text-slate-600 whitespace-nowrap",children:X.add_date?t.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[t.jsx(jF,{className:"h-4 w-4 text-slate-400"}),zO(X.add_date)]}):"Unknown"}),t.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:ge}),t.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:t.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[t.jsx(Fn,{className:"h-4 w-4 text-slate-400"}),Ss(X.email)]})}),t.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:t.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[t.jsx(K3,{className:"h-4 w-4 text-slate-400"}),Ss(X.mobile)]})}),t.jsx("td",{className:"px-5 py-3",children:X.state?t.jsx(Od,{tone:"blue",children:Ss(X.state)}):"Unknown"}),t.jsx("td",{className:"px-5 py-3 text-slate-800",children:t.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[t.jsx(V3,{className:"h-4 w-4 text-slate-400"}),Ss(X.salesforce_id)]})}),t.jsx("td",{className:"px-5 py-3",children:X.dnc?t.jsx(Od,{tone:"red",children:"DNC"}):t.jsx(Od,{tone:"green",children:"Callable"})}),t.jsx("td",{className:"px-5 py-3",children:t.jsx("div",{className:"flex items-center justify-end",children:t.jsx(sw,{onClick:()=>I(X),icon:t.jsx(q3,{className:"h-4 w-4"}),children:"Edit"})})})]},X.id)})})]})}),t.jsx("div",{className:"lg:hidden",children:s?t.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-4",children:t.jsx(HO,{rows:6,cols:1})}):K.length===0?t.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-8 text-center text-slate-600",children:"No leads found. Try searching something else."}):t.jsx(pe.div,{initial:"hidden",animate:"show",variants:UO,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:K.map(X=>{const ge=`${Ss(X.first_name)} ${X.last_name?Ss(X.last_name):""}`.trim();return t.jsxs(pe.article,{variants:zpe,className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/60 shadow hover:shadow-lg transition-shadow p-4",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("h3",{className:"text-base font-semibold text-slate-900 break-words",children:ge}),t.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:X.add_date?zO(X.add_date):"Unknown"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[X.state?t.jsx(Od,{tone:"blue",children:Ss(X.state)}):null,X.dnc?t.jsx(Od,{tone:"red",children:"DNC"}):t.jsx(Od,{tone:"green",children:"Callable"})]})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[t.jsx(Ux,{icon:t.jsx(Fn,{className:"h-4 w-4"}),label:"Email",value:Ss(X.email),copySafe:!0}),t.jsx(Ux,{icon:t.jsx(K3,{className:"h-4 w-4"}),label:"Mobile",value:Ss(X.mobile),copySafe:!0}),t.jsx(Ux,{icon:t.jsx(V3,{className:"h-4 w-4"}),label:"SFDC",value:Ss(X.salesforce_id)}),X.timezone?t.jsx(Ux,{icon:t.jsx(lr,{className:"h-4 w-4"}),label:"Timezone",value:Ss(X.timezone)}):null]}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx(sw,{onClick:()=>I(X),icon:t.jsx(q3,{className:"h-4 w-4"}),children:"Edit"})})]},X.id)})})}),!s&&ie>0&&t.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row text-slate-700",children:[t.jsxs("div",{className:"text-sm",children:["Showing ",t.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(T,ie)})," of ",ie]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(VO,{disabled:j<=1,onClick:()=>w(X=>Math.max(1,X-1)),children:[t.jsx(kn,{className:"h-4 w-4"})," Prev"]}),t.jsxs("div",{className:"text-sm",children:["Page ",t.jsx("span",{className:"font-semibold text-slate-900",children:j})," / ",_e]}),t.jsxs(VO,{disabled:j>=_e,onClick:()=>w(X=>Math.min(_e,X+1)),children:["Next ",t.jsx(pa,{className:"h-4 w-4"})]})]})]})]}),t.jsx(kt,{children:_&&t.jsxs(t.Fragment,{children:[t.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:Upe,initial:"hidden",animate:"show",exit:"exit",onClick:()=>C(!1)}),t.jsxs(pe.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[560px] md:w-[720px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Edit lead",children:[t.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>C(!1),className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50","aria-label":"Close",children:t.jsx(Cn,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold leading-tight",children:"Edit Lead"}),t.jsxs("p",{className:"text-xs text-slate-600",children:["Changes are saved to ",t.jsxs("span",{className:"font-medium",children:["#",E==null?void 0:E.id]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(FO,{onClick:()=>C(!1),children:"Cancel"}),t.jsx(sw,{onClick:$,disabled:O,icon:O?t.jsx(Ia,{className:"h-4 w-4 animate-spin"}):void 0,children:O?"Saving":"Save"})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx(qo,{label:"First name",name:"first_name",value:M.first_name,onChange:A}),t.jsx(qo,{label:"Last name",name:"last_name",value:M.last_name,onChange:A}),t.jsx(qo,{label:"Email",name:"email",value:M.email,onChange:A,type:"email"}),t.jsx(qo,{label:"Mobile",name:"mobile",value:M.mobile,onChange:A}),t.jsx(qo,{label:"Salesforce ID",name:"salesforce_id",value:M.salesforce_id,onChange:A}),t.jsx(qo,{label:"Add date",name:"add_date",value:M.add_date,onChange:A,type:"date"}),t.jsx(qo,{label:"State",name:"state",value:M.state,onChange:A})]}),t.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700",children:[t.jsx("div",{className:"font-semibold mb-2",children:"Quick Summary"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Name:"})," ",M.first_name||"Unknown"," ",M.last_name||""]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Email:"})," ",M.email||"Unknown"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Mobile:"})," ",M.mobile||"Unknown"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"State:"})," ",M.state||"Unknown"]})]})]})]})]})]})})]})}function sw({children:e,onClick:a,disabled:n,icon:s,type:r="button"}){return t.jsxs(pe.button,{whileTap:n?void 0:{scale:.98},type:r,onClick:a,disabled:n,className:Sc("inline-flex items-center gap-2 rounded-2xl px-3.5 py-2 font-semibold text-white transition","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)]","disabled:opacity-60 disabled:cursor-not-allowed"),children:[s,t.jsx("span",{className:"whitespace-nowrap",children:e})]})}function FO({children:e,onClick:a,icon:n,type:s="button"}){return t.jsxs(pe.button,{whileTap:{scale:.98},type:s,onClick:a,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3.5 py-2 font-medium text-slate-800 ring-1 ring-white/70 transition hover:bg-slate-50",children:[n,t.jsx("span",{className:"whitespace-nowrap",children:e})]})}function VO({children:e,disabled:a,onClick:n}){return t.jsx(pe.button,{whileTap:a?void 0:{scale:.98},disabled:a,onClick:n,className:Sc("inline-flex items-center gap-2 rounded-2xl border px-3.5 py-2 text-sm transition",a?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50"),children:e})}function sh({children:e,sortKey:a,sortBy:n,sortDir:s,onSort:r}){const l=n===a;return t.jsx("th",{className:Sc("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>r(a),title:"Sort",children:t.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,t.jsx("span",{className:Sc("text-xs",l?"opacity-100":"opacity-20"),children:l?s==="asc"?"":"":""})]})})}function HO({rows:e=6,cols:a=6}){return t.jsx(t.Fragment,{children:Array.from({length:e}).map((n,s)=>t.jsx("tr",{className:"animate-pulse",children:Array.from({length:a}).map((r,l)=>t.jsx("td",{className:"px-5 py-3",children:t.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},s))})}function qo({label:e,name:a,value:n,onChange:s,type:r="text"}){return t.jsxs("label",{className:"block",children:[t.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),t.jsx("input",{type:r,name:a,value:n,onChange:s,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}function Ux({label:e,value:a,copySafe:n=!1,icon:s}){return t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"mt-0.5 text-slate-400",children:s}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),t.jsx("div",{className:Sc("text-sm text-slate-800",n?"break-all":"break-words"),children:a})]})]})}const Vpe=()=>{const[e,a]=p.useState(null),[n,s]=p.useState(!1),[r,l]=p.useState(!1),[c,d]=p.useState(!1),[m,h]=p.useState(""),[f,g]=p.useState(!0),[b,y]=p.useState(0),j=p.useRef(null),w=p.useRef(null),{id:N}=Qh(),k=5*1024*1024,_=()=>localStorage.getItem("token")||null;p.useEffect(()=>{const F=ie=>{c&&(ie.key==="Enter"||ie.key==="Escape")&&d(!1)};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[c]);const C=F=>{F.preventDefault(),F.stopPropagation(),s(!0)},O=F=>{F.preventDefault(),F.stopPropagation(),s(!1)},P=F=>{F.preventDefault(),F.stopPropagation()},E=F=>{F.preventDefault(),F.stopPropagation(),s(!1);const ie=F.dataTransfer.files[0];ie&&ie.type==="text/csv"?ie.size>k?(h("File size exceeds 5MB limit."),g(!1),d(!0)):a(ie):(h("Please upload a valid CSV file."),g(!1),d(!0))},B=F=>{const ie=F.target.files[0];ie&&ie.type==="text/csv"?ie.size>k?(h("File size exceeds 5MB limit."),g(!1),d(!0)):a(ie):(h("Please upload a valid CSV file."),g(!1),d(!0))},M=()=>{j.current.click()},V=()=>{const F=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,ie=new Blob([F],{type:"text/csv"}),_e=window.URL.createObjectURL(ie),ce=document.createElement("a");ce.href=_e,ce.download="sample_users.csv",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),window.URL.revokeObjectURL(_e)},G=async()=>{if(!e){h("No file selected. Please choose a CSV file."),g(!1),d(!0);return}const F=_();if(!F){console.error("No auth token found. Please log in."),h("Please log in to continue."),g(!1),d(!0);return}const ie=new FormData;ie.append("file",e);try{l(!0),y(0);const _e=await fetch("http://localhost:8000/api/admin/user/upload-csv",{method:"POST",headers:{Authorization:`Bearer ${F}`},body:ie});if(y(100),_e.ok){const ce=await _e.json();console.log("File uploaded successfully:",ce),h("CSV file uploaded successfully!"),g(!0),d(!0),a(null),j.current&&(j.current.value="")}else{let ce=`HTTP error! status: ${_e.status}`;try{const T=await _e.json();T&&T.error&&(ce=T.error)}catch{}throw new Error(ce)}}catch(_e){console.error("Error uploading file:",_e),h("Failed to upload CSV file. Please try again."),g(!1),d(!0)}finally{l(!1),y(0)}},H=F=>F<1024?`${F} B`:F<1024*1024?`${(F/1024).toFixed(2)} KB`:`${(F/(1024*1024)).toFixed(2)} MB`;return t.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6 animate-fade-in",children:[t.jsx("div",{className:`w-full max-w-3xl bg-white p-10 rounded-xl shadow-lg border-2 ${n?"border-blue-400":"border-gray-200"} transition-colors duration-200`,onDragEnter:C,onDragOver:P,onDragLeave:O,onDrop:E,children:t.jsxs("div",{className:"text-center",children:[t.jsx(y8,{className:`mx-auto text-5xl ${n?"text-blue-400":"text-gray-300"} animate-pulse mb-6`}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upload Your CSV File"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop a CSV file here or click to select. Maximum file size: 5MB."}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsx("input",{type:"file",accept:".csv",onChange:B,ref:j,className:"hidden"}),t.jsx("button",{onClick:M,className:"bg-blue-400 text-white px-8 py-3 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm",children:"Choose File"}),t.jsxs("button",{onClick:V,className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-sm flex items-center gap-2",children:[t.jsx(b8,{}),"Download Sample CSV"]})]}),e&&t.jsxs("div",{className:"mt-6 text-gray-600 bg-gray-50 p-4 rounded-lg",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"File:"})," ",e.name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Size:"})," ",H(e.size)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),t.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[t.jsx("button",{onClick:G,disabled:r||!e,className:`w-full bg-blue-400 text-white px-6 py-4 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm flex items-center justify-center gap-2 ${r||!e?"opacity-50 cursor-not-allowed":""}`,children:r?"Uploading...":"Upload CSV"}),r&&t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]}),c&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center zoutdated-50 transition-opacity duration-200",children:t.jsxs("div",{ref:w,className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full animate-fade-in",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f?t.jsx(g8,{className:"text-green-400 text-2xl"}):t.jsx(v8,{className:"text-red-400 text-2xl"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Status"})]}),t.jsx("p",{className:"text-gray-500 mb-6",children:m}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:()=>d(!1),className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:"Confirm"})})]})})]})},Hpe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://app.thedbt.ai"},ei=Hpe&&"https://app.thedbt.ai"||"http://localhost:8000",ti={PRICING_GET:`${ei}/api/pricing`,PRICING_PUT:`${ei}/api/pricing`,PAYMENTS_DB:(e=50)=>`${ei}/api/payments?limit=${e}`,NOTIFS_DB:(e=50)=>`${ei}/api/notifications?limit=${e}`,USER_BALANCE_DB:e=>`${ei}/api/user/${e}/balance`,RECONCILE_TOPUPS:`${ei}/api/billing/reconcile-topups`,STRIPE_SUMMARY:`${ei}/api/billing/stripe/summary`,STRIPE_PAYMENTS:(e=20)=>`${ei}/api/billing/stripe/payments?limit=${e}`,STRIPE_LOGIN_LINK:`${ei}/api/billing/stripe/login`,VAPI_ACTUAL_COST:`${ei}/api/billing/vapi/actual-cost`},qpe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Gl({children:e,className:a="",variant:n="outline",size:s="md",...r}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:brightness-110 active:brightness-95 border border-blue-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 active:bg-slate-100 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",danger:"bg-rose-600 text-white hover:brightness-110 active:brightness-95 border border-rose-600 shadow-sm",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return t.jsx("button",{...r,className:`${l} ${c[s]} ${d[n]} ${a}`,children:t.jsx(pe.span,{whileHover:{y:-.5},whileTap:{scale:.98},children:e})})}function rh({label:e,children:a,hint:n}){return t.jsxs("div",{className:"min-w-0",children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a,n?t.jsx("div",{className:"text-[11px] text-slate-500 mt-1",children:n}):null]})}function ih({label:e,value:a,icon:n,accent:s="from-blue-600 to-cyan-500"}){return t.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl hover:shadow-2xl transition-shadow",children:t.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${s} text-white shadow-inner ring-1 ring-blue-200/60`,children:t.jsx(n,{className:"h-7 w-7"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),t.jsx("div",{className:"text-2xl font-black text-slate-900 truncate",children:a})]})]})})}const _s=e=>`$${(Number(e||0)/100).toFixed(2)}`,Fx=(e,a=0)=>Number.isFinite(Number(e))?Number(e):a;function Kpe(){var we,ue,Ae,U,de,ke,Le,Ve,Xe,$e;const e=p.useMemo(()=>{try{return localStorage.getItem("token")}catch{return null}},[]),a=p.useMemo(()=>e?{Authorization:`Bearer ${e}`}:{},[e]),[n,s]=p.useState(null),[r,l]=p.useState("USD"),[c,d]=p.useState(.00125),[m,h]=p.useState(.018),[f,g]=p.useState(!1),[b,y]=p.useState(null),[j,w]=p.useState(!1),[N,k]=p.useState(null),[_,C]=p.useState([]),[O,P]=p.useState(20),[E,B]=p.useState(!1),[M,V]=p.useState(!1),[G,H]=p.useState([]),[F,ie]=p.useState([]),[_e,ce]=p.useState(25),[T,K]=p.useState(!1),[W,I]=p.useState(""),[A,$]=p.useState(null),[z,X]=p.useState(!1),[ge,te]=p.useState(!1);async function J(){var ne,Z;try{const ve=await fetch(ti.PRICING_GET,{headers:{...a,Accept:"application/json"}}),fe=await ve.json();if(!ve.ok)throw new Error((fe==null?void 0:fe.detail)||`HTTP ${ve.status}`);s(fe),fe!=null&&fe.currency&&l(fe.currency),((ne=fe==null?void 0:fe.human_readable)==null?void 0:ne.call_dollars_per_second)!=null&&d(fe.human_readable.call_dollars_per_second),((Z=fe==null?void 0:fe.human_readable)==null?void 0:Z.text_dollars_per_message)!=null&&h(fe.human_readable.text_dollars_per_message)}catch(ve){s(null),R.error((ve==null?void 0:ve.message)||"Failed to load pricing")}}async function Ce(){try{w(!0);const ne=await fetch(ti.VAPI_ACTUAL_COST,{headers:{...a,Accept:"application/json"}}),Z=await ne.json();if(!ne.ok)throw new Error((Z==null?void 0:Z.detail)||`HTTP ${ne.status}`);y(Z)}catch(ne){y(null),R.error((ne==null?void 0:ne.message)||"Failed to load Vapi base price")}finally{w(!1)}}async function se(){try{B(!0);const[ne,Z]=await Promise.all([fetch(ti.STRIPE_SUMMARY,{headers:{...a,Accept:"application/json"}}),fetch(ti.STRIPE_PAYMENTS(O),{headers:{...a,Accept:"application/json"}})]),ve=await ne.json();if(ne.ok)k(ve);else throw new Error((ve==null?void 0:ve.detail)||`Summary HTTP ${ne.status}`);const fe=await Z.json();if(Z.ok)C((fe==null?void 0:fe.items)||[]);else throw new Error((fe==null?void 0:fe.detail)||`Payments HTTP ${Z.status}`)}catch(ne){k(null),C([]),R.error((ne==null?void 0:ne.message)||"Failed to load Stripe live data")}finally{B(!1)}}async function Se(){try{const[ne,Z]=await Promise.all([fetch(ti.PAYMENTS_DB(_e),{headers:{...a,Accept:"application/json"}}),fetch(ti.NOTIFS_DB(_e),{headers:{...a,Accept:"application/json"}})]),ve=await ne.json();ne.ok&&H(ve||[]);const fe=await Z.json();Z.ok&&ie(fe||[])}catch(ne){R.error((ne==null?void 0:ne.message)||"Failed to load DB lists")}}async function De(){if(!e){R.warn("Admin token missing in localStorage (key `token`).");return}te(!0),await Promise.all([J(),Ce(),se(),Se()]),te(!1)}async function Me(){try{if(!e)return R.error("Missing admin token");g(!0);const ne={currency:(r||"USD").toUpperCase(),call_dollars_per_second:Number(c||0),text_dollars_per_message:Number(m||0)},Z=await fetch(ti.PRICING_PUT,{method:"PUT",headers:{...a,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(ne)}),ve=await Z.json();if(!Z.ok)throw new Error((ve==null?void 0:ve.detail)||`HTTP ${Z.status}`);R.success("Pricing updated"),J()}catch(ne){R.error((ne==null?void 0:ne.message)||"Failed to update pricing")}finally{g(!1)}}async function ye(){try{V(!0);const ne=await fetch(ti.STRIPE_LOGIN_LINK,{method:"POST",headers:{...a,Accept:"application/json"}}),Z=await ne.json();if(!ne.ok||!(Z!=null&&Z.ok))throw Z!=null&&Z.message?new Error(Z.message):new Error((Z==null?void 0:Z.detail)||`HTTP ${ne.status}`);Z!=null&&Z.url&&window.open(Z.url,"_blank","noopener,noreferrer")}catch(ne){R.error((ne==null?void 0:ne.message)||"Failed to create login link")}finally{V(!1)}}async function Ye(){try{K(!0);const ne=await fetch(ti.RECONCILE_TOPUPS,{method:"POST",headers:{...a,Accept:"application/json"}}),Z=await ne.json();if(!ne.ok)throw new Error((Z==null?void 0:Z.detail)||`HTTP ${ne.status}`);R.success(`Reconciled: created ${(Z==null?void 0:Z.created_ledger_entries)||0} ledger entries`),Se()}catch(ne){R.error((ne==null?void 0:ne.message)||"Failed to reconcile")}finally{K(!1)}}async function Ke(){const ne=(W||"").trim();if(!ne)return $(null);try{X(!0);const Z=await fetch(ti.USER_BALANCE_DB(ne),{headers:{...a,Accept:"application/json"}}),ve=await Z.json();if(!Z.ok)throw new Error((ve==null?void 0:ve.detail)||`HTTP ${Z.status}`);$(ve)}catch(Z){$(null),R.error((Z==null?void 0:Z.message)||"Lookup failed")}finally{X(!1)}}return p.useEffect(()=>{De()},[]),p.useEffect(()=>{e&&se()},[O]),p.useEffect(()=>{e&&Se()},[_e]),t.jsx("div",{className:"min-h-screen bg-slate-50",children:t.jsxs("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[t.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[t.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:t.jsx(PH,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:t.jsx("span",{className:`bg-clip-text text-transparent ${qpe}`,children:"Admin Billing & Stripe"})}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Real-time Stripe (Connect-aware), admin pricing, DB audits, and Vapi base price."})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx(Gl,{onClick:De,disabled:ge,children:ge?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})}),t.jsxs("a",{className:"text-xs text-slate-500 inline-flex items-center gap-1",href:"https://dashboard.stripe.com/test",target:"_blank",rel:"noreferrer",children:["Stripe Dashboard ",t.jsx(Th,{className:"h-3 w-3"})]})]})]})]}),!e&&t.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 text-amber-800 px-4 py-3 text-sm flex items-center gap-2",children:[t.jsx(af,{className:"h-4 w-4"})," Admin JWT token missing in ",t.jsx("code",{children:"localStorage.token"}),"."]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-5",children:[t.jsx(ih,{label:"Stripe Mode",value:((N==null?void 0:N.mode)||"test").toUpperCase(),icon:Qi}),t.jsx(ih,{label:"Account Scope",value:(N==null?void 0:N.stripe_account_scope)||"",icon:gF}),t.jsx(ih,{label:"Available",value:N!=null&&N.balance?`${_s(Number(N.balance.available_cents))}`:"",icon:_M,accent:"from-emerald-600 to-teal-500"}),t.jsx(ih,{label:"Pending",value:N!=null&&N.balance?`${_s(Number(N.balance.pending_cents))}`:"",icon:rq,accent:"from-violet-600 to-fuchsia-500"}),t.jsx(ih,{label:"Vapi Base $/min",value:b?`$${Fx(b.per_minute_dollars,.05).toFixed(3)}`:j?"":"",icon:bc,accent:"from-sky-600 to-cyan-500"})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 2xl:grid-cols-3 gap-5",children:[t.jsxs("div",{className:"2xl:col-span-2 space-y-5",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:t.jsx(qx,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Admin Pricing"})]}),t.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[t.jsx(Br,{className:"h-3.5 w-3.5"})," Admin-only"]})]}),n?t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3",children:[t.jsx(rh,{label:"Currency",children:t.jsx("input",{value:r,onChange:ne=>l(ne.target.value.toUpperCase().slice(0,8)),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"USD"})}),t.jsx(rh,{label:"$ per SECOND (calls)",hint:"e.g. 0.00125 = 125 millicents/sec",children:t.jsx("input",{type:"number",step:"0.00001",value:c,onChange:ne=>d(ne.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(rh,{label:"$ per MESSAGE (texts)",hint:"e.g. 0.018  1.8",children:t.jsx("input",{type:"number",step:"0.0001",value:m,onChange:ne=>h(ne.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx("div",{className:"flex items-end",children:t.jsx(Gl,{variant:"primary",className:"w-full",onClick:Me,disabled:f,children:f?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"})," Saving"]}):t.jsxs(t.Fragment,{children:[t.jsx(fw,{className:"h-4 w-4 mr-2"})," Save pricing"]})})})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Server raw"}),t.jsxs("div",{className:"font-extrabold text-slate-900",children:["Calls: ",n.call_millicents_per_second," m/sec  Texts: ",n.text_cents_per_message," /msg"]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Human readable"}),t.jsxs("div",{className:"font-extrabold text-slate-900",children:["Calls: $",(((we=n.human_readable)==null?void 0:we.call_dollars_per_second)||0).toFixed(5),"/sec  Texts: $",(((ue=n.human_readable)==null?void 0:ue.text_dollars_per_message)||0).toFixed(4),"/msg"]})]})]})]}):t.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Pricing not available."})]}),t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-sky-600 text-white shrink-0",children:t.jsx(bc,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Vapi Base Platform Price"})]}),t.jsx(Gl,{variant:"outline",onClick:Ce,disabled:j,children:j?t.jsx(Ge,{className:"h-4 w-4 animate-spin"}):t.jsx(Ge,{className:"h-4 w-4"})})]}),b?t.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Per Minute"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",Fx(b.per_minute_dollars,.05).toFixed(3)," / min"]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Per Second"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",Fx(b.per_second_dollars,833e-6).toFixed(6)," / sec"]})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Millicents (rounded)"}),t.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:[Fx(b.per_second_millicents_rounded,83)," m/sec"]})]})]}):t.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"No data yet."}),t.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Defaults to $0.05/min. Override on server via ",t.jsx("code",{children:"VAPI_RATE_PER_MIN_DOLLARS"}),"."]})]}),t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-violet-600 text-white shrink-0",children:t.jsx(Jl,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Database Tools"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Gl,{variant:"outline",onClick:()=>Se(),children:[t.jsx(Ge,{className:"h-4 w-4 mr-2"})," Reload"]}),t.jsx(Gl,{variant:"danger",onClick:Ye,disabled:T,children:T?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"})," Reconciling"]}):t.jsxs(t.Fragment,{children:[t.jsx(NM,{className:"h-4 w-4 mr-2"})," Reconcile top-ups"]})})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-3",children:[t.jsx(rh,{label:"List size",children:t.jsx("input",{type:"number",min:1,max:200,value:_e,onChange:ne=>ce(Math.max(1,Math.min(200,Number(ne.target.value||25)))),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),t.jsx(rh,{label:"Lookup user balance (user id)",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{value:W,onChange:ne=>I(ne.target.value),placeholder:"e.g. 1",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.jsx(Gl,{onClick:Ke,disabled:z,children:z?t.jsx(Ge,{className:"h-4 w-4 animate-spin"}):t.jsx(un,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Lookup Result"}),A?t.jsxs("div",{className:"text-sm",children:[t.jsxs("div",{children:["Balance: ",t.jsx("b",{children:_s(A.balance_cents)})]}),t.jsxs("div",{children:["Credits: ",_s(A.credits_cents)]}),t.jsxs("div",{children:["Debits: ",_s(A.debits_cents)]})]}):t.jsx("div",{className:"text-sm text-slate-500",children:""})]})]}),t.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"min-h-[220px] max-h-[360px] overflow-auto rounded-2xl border border-slate-200 bg-white",children:[t.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur px-4 py-2 border-b border-slate-200 text-sm font-semibold text-slate-800",children:"Recent Payments (DB)"}),t.jsx("div",{className:"p-3",children:G&&G.length?G.map(ne=>{var Z;return t.jsxs(pe.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"rounded-xl border border-slate-200 bg-slate-50 p-3 flex items-center justify-between hover:bg-slate-100 transition-colors mb-2",children:[t.jsxs("div",{className:"text-sm",children:[t.jsxs("div",{className:"font-semibold text-slate-800",children:[ne.currency,"  ",_s(ne.amount_cents)]}),t.jsxs("div",{className:"text-[11px] text-slate-500",children:[ne.status,"  ",(Z=ne.stripe_payment_intent_id)==null?void 0:Z.slice(0,12),""]})]}),t.jsxs("div",{className:"text-xs text-slate-600",children:["net ",_s(ne.net_cents)," ",t.jsx("span",{className:"opacity-60",children:"/"})," fee ",_s(ne.fee_cents)]})]},ne.id)}):t.jsx("div",{className:"text-sm text-slate-500",children:"No DB payments."})})]}),t.jsxs("div",{className:"min-h-[220px] max-h-[360px] overflow-auto rounded-2xl border border-slate-200 bg-white",children:[t.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur px-4 py-2 border-b border-slate-200 text-sm font-semibold text-slate-800",children:"Notifications (DB)"}),t.jsx("div",{className:"p-3",children:F&&F.length?F.map(ne=>t.jsxs(pe.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"rounded-xl border border-slate-200 bg-slate-50 p-3 hover:bg-slate-100 transition-colors mb-2",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-800",children:ne.title||ne.kind}),t.jsx("div",{className:"text-[12px] text-slate-600",children:ne.body})]},ne.id)):t.jsx("div",{className:"text-sm text-slate-500",children:"No notifications."})})]})]})]})]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-cyan-600 text-white shrink-0",children:t.jsx(li,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Stripe  Live snapshot"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Gl,{variant:"outline",onClick:()=>se(),disabled:E,children:E?t.jsx(Ge,{className:"h-4 w-4 animate-spin"}):t.jsx(Ge,{className:"h-4 w-4"})}),t.jsx(Gl,{onClick:ye,disabled:M,children:M?t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"})," Working"]}):t.jsxs(t.Fragment,{children:[t.jsx(Dr,{className:"h-4 w-4 mr-2"})," Login link"]})})]})]}),N?t.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Account"}),t.jsxs("div",{className:"text-sm font-semibold text-slate-800",children:[(Ae=N.account)==null?void 0:Ae.id,"  ",(U=N.account)==null?void 0:U.country,"  ",((de=N.account)==null?void 0:de.business_type)||""]}),t.jsxs("div",{className:"text-[12px] text-slate-600 mt-1",children:["Charges: ",t.jsx("b",{children:String((ke=N.account)==null?void 0:ke.charges_enabled)}),"  Payouts:"," ",t.jsx("b",{children:String((Le=N.account)==null?void 0:Le.payouts_enabled)}),"  Submitted:"," ",t.jsx("b",{children:String((Ve=N.account)==null?void 0:Ve.details_submitted)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-emerald-50 p-3",children:[t.jsx("div",{className:"text-xs text-emerald-700",children:"Available"}),t.jsx("div",{className:"text-lg font-extrabold text-emerald-800",children:_s(Number(((Xe=N.balance)==null?void 0:Xe.available_cents)||0))})]}),t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-violet-50 p-3",children:[t.jsx("div",{className:"text-xs text-violet-700",children:"Pending"}),t.jsx("div",{className:"text-lg font-extrabold text-violet-800",children:_s(Number((($e=N.balance)==null?void 0:$e.pending_cents)||0))})]})]})]}):t.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"No summary (or insufficient permissions)."}),t.jsxs("div",{className:"mt-5",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Latest PaymentIntents (live)"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",min:1,max:100,value:O,onChange:ne=>P(Math.max(1,Math.min(100,Number(ne.target.value||20)))),className:"w-20 rounded-xl border border-slate-300 px-2 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400"}),t.jsx("span",{className:"text-xs text-slate-500",children:"limit"})]})]}),t.jsx("div",{className:"mt-2 min-h-[180px] max-h-[380px] overflow-auto",children:_&&_.length?_.map(ne=>{var Z;return t.jsxs(pe.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"rounded-xl border border-slate-200 bg-slate-50 p-3 flex items-center justify-between hover:bg-slate-100 transition-colors mb-2",children:[t.jsxs("div",{className:"text-sm min-w-0",children:[t.jsxs("div",{className:"font-semibold text-slate-800 truncate",children:[ne.currency,"  ",_s(ne.amount_cents)," ",t.jsxs("span",{className:"text-xs text-slate-500",children:["(",ne.status,")"]})]}),t.jsxs("div",{className:"text-[11px] text-slate-500 truncate",children:[(Z=ne.id)==null?void 0:Z.slice(0,14),"  ",ne.customer_email||"no email"]})]}),t.jsxs("div",{className:"text-right shrink-0",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"net / fee"}),t.jsxs("div",{className:"text-sm font-bold text-slate-800",children:[ne.net_cents!=null?_s(ne.net_cents):""," ",t.jsx("span",{className:"opacity-60",children:"/"})," ",ne.fee_cents!=null?_s(ne.fee_cents):""]})]})]},ne.id)}):t.jsx("div",{className:"text-sm text-slate-500",children:"No live PaymentIntents."})})]})]}),t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-amber-500 text-white shrink-0",children:t.jsx(og,{className:"h-4 w-4"})}),t.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Tips"})]}),t.jsxs("div",{className:"mt-3 text-sm text-slate-600 space-y-2",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 text-emerald-700",children:[t.jsx(ta,{className:"h-4 w-4"})," Pricing writes to DB and sends a notification."]}),t.jsx("div",{children:"Use Reconcile top-ups to backfill ledger credits from historical payments.net."}),t.jsxs("div",{children:["The Login link works only if a ",t.jsx("code",{children:"STRIPE_ACCOUNT_ID"})," (Connect) is configured on the server."]}),t.jsxs("div",{className:"text-xs text-slate-500",children:["Endpoints are protected; ensure your admin JWT is present in ",t.jsx("code",{children:"localStorage.token"}),"."]})]})]})]})]})]})})}function $a({children:e}){const a=da(),[n,s]=p.useState(!1),[r,l]=p.useState(!0);return p.useEffect(()=>{const c=localStorage.getItem("token"),d=localStorage.getItem("role");if(!c||!d){R.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),a("/login",{replace:!0});return}d==="user"?s(!0):d==="admin"?(R.error("You are not authorized to access this page."),a("/admin",{replace:!0})):(R.error("Unknown user role. Please log in again."),localStorage.clear(),a("/login",{replace:!0})),l(!1)},[a]),r?t.jsx("div",{children:"Loading..."}):n?e:null}function ar({children:e}){const a=da(),[n,s]=p.useState(!1);return p.useEffect(()=>{try{const r=localStorage.getItem("token"),l=localStorage.getItem("role");if(!r||!l){R.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),a("/login",{replace:!0});return}l==="admin"?s(!0):l==="user"?(R.error("You are not authorized to access this page."),a("/user",{replace:!0})):(R.error("Unknown user role. Please log in again."),localStorage.clear(),a("/login",{replace:!0}))}catch{R.error("An unexpected error occurred. Please log in again."),localStorage.clear(),a("/login",{replace:!0})}},[a]),n?e:null}function Gpe(){return t.jsxs(t.Fragment,{children:[t.jsx(Jz,{children:t.jsxs(Ez,{children:[t.jsx(xt,{path:"/",element:t.jsx(Az,{to:"/signup"})}),t.jsx(xt,{path:"/signup",element:t.jsx(_q,{})}),t.jsx(xt,{path:"/login",element:t.jsx(jX,{})}),t.jsx(xt,{path:"/otp",element:t.jsx(yX,{})}),t.jsx(xt,{path:"/forget_password",element:t.jsx(NX,{})}),t.jsx(xt,{path:"/profile",element:t.jsx(WX,{})}),t.jsx(xt,{path:"/privacy-policy",element:t.jsx(QX,{})}),t.jsx(xt,{path:"/terms",element:t.jsx(JX,{})}),t.jsxs(xt,{path:"/user",element:t.jsx(xZ,{}),children:[t.jsx(xt,{path:"dashboard",element:t.jsx($a,{children:t.jsx(gfe,{})})}),t.jsx(xt,{path:"Appointments",element:t.jsx($a,{children:t.jsx(q0e,{})})}),t.jsx(xt,{path:"Calllogs",element:t.jsx($a,{children:t.jsx(Lxe,{})})}),t.jsx(xt,{path:"AdvancedStatistics",element:t.jsx($a,{children:t.jsx(zxe,{})})}),t.jsx(xt,{path:"Calender",element:t.jsx($a,{children:t.jsx(_xe,{})})}),t.jsx(xt,{path:"PricingSection",element:t.jsx($a,{children:t.jsx(pxe,{})})}),t.jsx(xt,{path:"CustomForms",element:t.jsx($a,{children:t.jsx(Z0e,{})})}),t.jsx(xt,{path:"FacebookForms",element:t.jsx($a,{children:t.jsx(axe,{})})}),t.jsx(xt,{path:"TextAssistants",element:t.jsx($a,{children:t.jsx(oxe,{})})}),t.jsx(xt,{path:"PhoneCalls",element:t.jsx($a,{children:t.jsx(Tfe,{})})}),t.jsx(xt,{path:"callhistory",element:t.jsx($a,{children:t.jsx(Gfe,{})})}),t.jsx(xt,{path:"settings",element:t.jsx($a,{children:t.jsx(Kfe,{})})}),t.jsx(xt,{path:"CRM",element:t.jsx($a,{children:t.jsx(U0e,{})})}),t.jsx(xt,{path:"callassistent",element:t.jsx($a,{children:t.jsx(Zfe,{})})}),t.jsx(xt,{path:"edit-assistant/:assistantId",element:t.jsx($a,{children:t.jsx(s0e,{})})}),t.jsx(xt,{path:"assistant/create",element:t.jsx($a,{children:t.jsx(d0e,{})})}),t.jsx(xt,{path:"leads",element:t.jsx($a,{children:t.jsx(f0e,{})})}),t.jsx(xt,{path:"lead/:id",element:t.jsx($a,{children:t.jsx(b0e,{})})}),t.jsx(xt,{path:"upload-csv",element:t.jsx($a,{children:t.jsx(j0e,{})})}),t.jsx(xt,{path:"campaigns",element:t.jsx($a,{children:t.jsx(nO,{})})}),t.jsx(xt,{path:"campain",element:t.jsx($a,{children:t.jsx(nO,{})})})]}),t.jsxs(xt,{path:"/admin",element:t.jsx(Zxe,{}),children:[t.jsx(xt,{path:"dashboard",element:t.jsx(ar,{children:t.jsx(upe,{})})}),t.jsx(xt,{path:"Users",element:t.jsx(ar,{children:t.jsx(tpe,{})})}),t.jsx(xt,{path:"PhoneCalls",element:t.jsx(ar,{children:t.jsx(xpe,{})})}),t.jsx(xt,{path:"BillingPlans",element:t.jsx(ar,{children:t.jsx(Kpe,{})})}),t.jsx(xt,{path:"settings",element:t.jsx(ar,{children:t.jsx(mpe,{})})}),t.jsx(xt,{path:"addassistands",element:t.jsx(ar,{children:t.jsx(jpe,{})})}),t.jsx(xt,{path:"edit-assistants/:assistantId",element:t.jsx(ar,{children:t.jsx(Spe,{})})}),t.jsx(xt,{path:"assistants",element:t.jsx(ar,{children:t.jsx(_pe,{})})}),t.jsx(xt,{path:"callhistory",element:t.jsx(ar,{children:t.jsx(Rpe,{})})}),t.jsx(xt,{path:"lead/:id",element:t.jsx(ar,{children:t.jsx($pe,{})})}),t.jsx(xt,{path:"lead",element:t.jsx(ar,{children:t.jsx(Fpe,{})})}),t.jsx(xt,{path:"upload-csv",element:t.jsx(ar,{children:t.jsx(Vpe,{})})})]}),t.jsx(xt,{path:"*",element:t.jsx(kq,{})})]})}),t.jsx(VU,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}LB.createRoot(document.getElementById("root")).render(t.jsx(p.StrictMode,{children:t.jsx(Gpe,{})}));
