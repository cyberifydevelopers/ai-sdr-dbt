var TL=Object.defineProperty;var EL=(e,t,a)=>t in e?TL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Lb=(e,t,a)=>EL(e,typeof t!="symbol"?t+"":t,a);function PL(e,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();function Xr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ib={exports:{}},wd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B5;function OL(){if(B5)return wd;B5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:l}}return wd.Fragment=t,wd.jsx=a,wd.jsxs=a,wd}var U5;function ML(){return U5||(U5=1,Ib.exports=OL()),Ib.exports}var n=ML(),zb={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F5;function DL(){if(F5)return ut;F5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function S(E,$,z){this.props=E,this.context=$,this.refs=j,this.updater=z||y}S.prototype.isReactComponent={},S.prototype.setState=function(E,$){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,$,"setState")},S.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function k(){}k.prototype=S.prototype;function _(E,$,z){this.props=E,this.context=$,this.refs=j,this.updater=z||y}var C=_.prototype=new k;C.constructor=_,w(C,S.prototype),C.isPureReactComponent=!0;var P=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function R(E,$,z,W,de,J){return z=J.ref,{$$typeof:e,type:E,key:$,ref:z!==void 0?z:null,props:J}}function O(E,$){return R(E.type,$,void 0,void 0,void 0,E.props)}function V(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function K(E){var $={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(z){return $[z]})}var F=/\/+/g;function L(E,$){return typeof E=="object"&&E!==null&&E.key!=null?K(""+E.key):$.toString(36)}function te(){}function Ne(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(te,te):(E.status="pending",E.then(function($){E.status==="pending"&&(E.status="fulfilled",E.value=$)},function($){E.status==="pending"&&(E.status="rejected",E.reason=$)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function re(E,$,z,W,de){var J=typeof E;(J==="undefined"||J==="boolean")&&(E=null);var Q=!1;if(E===null)Q=!0;else switch(J){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(E.$$typeof){case e:case t:Q=!0;break;case h:return Q=E._init,re(Q(E._payload),$,z,W,de)}}if(Q)return de=de(E),Q=W===""?"."+L(E,0):W,P(de)?(z="",Q!=null&&(z=Q.replace(F,"$&/")+"/"),re(de,$,z,"",function(be){return be})):de!=null&&(V(de)&&(de=O(de,z+(de.key==null||E&&E.key===de.key?"":(""+de.key).replace(F,"$&/")+"/")+Q)),$.push(de)),1;Q=0;var Se=W===""?".":W+":";if(P(E))for(var ae=0;ae<E.length;ae++)W=E[ae],J=Se+L(W,ae),Q+=re(W,$,z,J,de);else if(ae=b(E),typeof ae=="function")for(E=ae.call(E),ae=0;!(W=E.next()).done;)W=W.value,J=Se+L(W,ae++),Q+=re(W,$,z,J,de);else if(J==="object"){if(typeof E.then=="function")return re(Ne(E),$,z,W,de);throw $=String(E),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Q}function D(E,$,z){if(E==null)return E;var W=[],de=0;return re(E,W,"","",function(J){return $.call(z,J,de++)}),W}function Y(E){if(E._status===-1){var $=E._result;$=$(),$.then(function(z){(E._status===0||E._status===-1)&&(E._status=1,E._result=z)},function(z){(E._status===0||E._status===-1)&&(E._status=2,E._result=z)}),E._status===-1&&(E._status=0,E._result=$)}if(E._status===1)return E._result.default;throw E._result}var H=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function B(){}return ut.Children={map:D,forEach:function(E,$,z){D(E,function(){$.apply(this,arguments)},z)},count:function(E){var $=0;return D(E,function(){$++}),$},toArray:function(E){return D(E,function($){return $})||[]},only:function(E){if(!V(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ut.Component=S,ut.Fragment=a,ut.Profiler=s,ut.PureComponent=_,ut.StrictMode=r,ut.Suspense=f,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ut.__COMPILER_RUNTIME={__proto__:null,c:function(E){return A.H.useMemoCache(E)}},ut.cache=function(E){return function(){return E.apply(null,arguments)}},ut.cloneElement=function(E,$,z){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var W=w({},E.props),de=E.key,J=void 0;if($!=null)for(Q in $.ref!==void 0&&(J=void 0),$.key!==void 0&&(de=""+$.key),$)!T.call($,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&$.ref===void 0||(W[Q]=$[Q]);var Q=arguments.length-2;if(Q===1)W.children=z;else if(1<Q){for(var Se=Array(Q),ae=0;ae<Q;ae++)Se[ae]=arguments[ae+2];W.children=Se}return R(E.type,de,void 0,void 0,J,W)},ut.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},ut.createElement=function(E,$,z){var W,de={},J=null;if($!=null)for(W in $.key!==void 0&&(J=""+$.key),$)T.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(de[W]=$[W]);var Q=arguments.length-2;if(Q===1)de.children=z;else if(1<Q){for(var Se=Array(Q),ae=0;ae<Q;ae++)Se[ae]=arguments[ae+2];de.children=Se}if(E&&E.defaultProps)for(W in Q=E.defaultProps,Q)de[W]===void 0&&(de[W]=Q[W]);return R(E,J,void 0,void 0,null,de)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(E){return{$$typeof:d,render:E}},ut.isValidElement=V,ut.lazy=function(E){return{$$typeof:h,_payload:{_status:-1,_result:E},_init:Y}},ut.memo=function(E,$){return{$$typeof:m,type:E,compare:$===void 0?null:$}},ut.startTransition=function(E){var $=A.T,z={};A.T=z;try{var W=E(),de=A.S;de!==null&&de(z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(B,H)}catch(J){H(J)}finally{A.T=$}},ut.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ut.use=function(E){return A.H.use(E)},ut.useActionState=function(E,$,z){return A.H.useActionState(E,$,z)},ut.useCallback=function(E,$){return A.H.useCallback(E,$)},ut.useContext=function(E){return A.H.useContext(E)},ut.useDebugValue=function(){},ut.useDeferredValue=function(E,$){return A.H.useDeferredValue(E,$)},ut.useEffect=function(E,$,z){var W=A.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(E,$)},ut.useId=function(){return A.H.useId()},ut.useImperativeHandle=function(E,$,z){return A.H.useImperativeHandle(E,$,z)},ut.useInsertionEffect=function(E,$){return A.H.useInsertionEffect(E,$)},ut.useLayoutEffect=function(E,$){return A.H.useLayoutEffect(E,$)},ut.useMemo=function(E,$){return A.H.useMemo(E,$)},ut.useOptimistic=function(E,$){return A.H.useOptimistic(E,$)},ut.useReducer=function(E,$,z){return A.H.useReducer(E,$,z)},ut.useRef=function(E){return A.H.useRef(E)},ut.useState=function(E){return A.H.useState(E)},ut.useSyncExternalStore=function(E,$,z){return A.H.useSyncExternalStore(E,$,z)},ut.useTransition=function(){return A.H.useTransition()},ut.version="19.1.0",ut}var V5;function lu(){return V5||(V5=1,zb.exports=DL()),zb.exports}var g=lu();const _t=Xr(g),RL=PL({__proto__:null,default:_t},[g]);var Bb={exports:{}},jd={},Ub={exports:{}},Fb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H5;function $L(){return H5||(H5=1,function(e){function t(D,Y){var H=D.length;D.push(Y);e:for(;0<H;){var B=H-1>>>1,E=D[B];if(0<s(E,Y))D[B]=Y,D[H]=E,H=B;else break e}}function a(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var Y=D[0],H=D.pop();if(H!==Y){D[0]=H;e:for(var B=0,E=D.length,$=E>>>1;B<$;){var z=2*(B+1)-1,W=D[z],de=z+1,J=D[de];if(0>s(W,H))de<E&&0>s(J,W)?(D[B]=J,D[de]=H,B=de):(D[B]=W,D[z]=H,B=z);else if(de<E&&0>s(J,H))D[B]=J,D[de]=H,B=de;else break e}}return Y}function s(D,Y){var H=D.sortIndex-Y.sortIndex;return H!==0?H:D.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,x=null,b=3,y=!1,w=!1,j=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(D){for(var Y=a(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=D)r(m),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=a(m)}}function A(D){if(j=!1,P(D),!w)if(a(f)!==null)w=!0,T||(T=!0,L());else{var Y=a(m);Y!==null&&re(A,Y.startTime-D)}}var T=!1,R=-1,O=5,V=-1;function K(){return S?!0:!(e.unstable_now()-V<O)}function F(){if(S=!1,T){var D=e.unstable_now();V=D;var Y=!0;try{e:{w=!1,j&&(j=!1,_(R),R=-1),y=!0;var H=b;try{t:{for(P(D),x=a(f);x!==null&&!(x.expirationTime>D&&K());){var B=x.callback;if(typeof B=="function"){x.callback=null,b=x.priorityLevel;var E=B(x.expirationTime<=D);if(D=e.unstable_now(),typeof E=="function"){x.callback=E,P(D),Y=!0;break t}x===a(f)&&r(f),P(D)}else r(f);x=a(f)}if(x!==null)Y=!0;else{var $=a(m);$!==null&&re(A,$.startTime-D),Y=!1}}break e}finally{x=null,b=H,y=!1}Y=void 0}}finally{Y?L():T=!1}}}var L;if(typeof C=="function")L=function(){C(F)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Ne=te.port2;te.port1.onmessage=F,L=function(){Ne.postMessage(null)}}else L=function(){k(F,0)};function re(D,Y){R=k(function(){D(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(D){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var H=b;b=Y;try{return D()}finally{b=H}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(D,Y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=b;b=D;try{return Y()}finally{b=H}},e.unstable_scheduleCallback=function(D,Y,H){var B=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,D){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=H+E,D={id:h++,callback:Y,priorityLevel:D,startTime:H,expirationTime:E,sortIndex:-1},H>B?(D.sortIndex=H,t(m,D),a(f)===null&&D===a(m)&&(j?(_(R),R=-1):j=!0,re(A,H-B))):(D.sortIndex=E,t(f,D),w||y||(w=!0,T||(T=!0,L()))),D},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(D){var Y=b;return function(){var H=b;b=Y;try{return D.apply(this,arguments)}finally{b=H}}}}(Fb)),Fb}var q5;function LL(){return q5||(q5=1,Ub.exports=$L()),Ub.exports}var Vb={exports:{}},aa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5;function IL(){if(K5)return aa;K5=1;var e=lu();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return aa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,aa.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},aa.flushSync=function(f){var m=c.T,h=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=h,r.d.f()}},aa.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},aa.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},aa.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:y}):h==="script"&&r.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},aa.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},aa.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin);r.d.L(f,h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},aa.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},aa.requestFormReset=function(f){r.d.r(f)},aa.unstable_batchedUpdates=function(f,m){return f(m)},aa.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},aa.useFormStatus=function(){return c.H.useHostTransitionStatus()},aa.version="19.1.0",aa}var G5;function QE(){if(G5)return Vb.exports;G5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vb.exports=IL(),Vb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y5;function zL(){if(Y5)return jd;Y5=1;var e=LL(),t=lu(),a=QE();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,p=o;;){var v=u.return;if(v===null)break;var N=v.alternate;if(N===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===N.child){for(N=v.child;N;){if(N===u)return d(v),i;if(N===p)return d(v),o;N=N.sibling}throw Error(r(188))}if(u.return!==p.return)u=v,p=N;else{for(var M=!1,U=v.child;U;){if(U===u){M=!0,u=v,p=N;break}if(U===p){M=!0,p=v,u=N;break}U=U.sibling}if(!M){for(U=N.child;U;){if(U===u){M=!0,u=N,p=v;break}if(U===p){M=!0,p=N,u=v;break}U=U.sibling}if(!M)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var h=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var te=Symbol.for("react.client.reference");function Ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===te?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case C:return(i.displayName||"Context")+".Provider";case _:return(i._context.displayName||"Context")+".Consumer";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return o=i.displayName||null,o!==null?o:Ne(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return Ne(i(o))}catch{}}return null}var re=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},B=[],E=-1;function $(i){return{current:i}}function z(i){0>E||(i.current=B[E],B[E]=null,E--)}function W(i,o){E++,B[E]=i.current,i.current=o}var de=$(null),J=$(null),Q=$(null),Se=$(null);function ae(i,o){switch(W(Q,o),W(J,i),W(de,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?h5(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=h5(o),i=p5(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}z(de),W(de,i)}function be(){z(de),z(J),z(Q)}function Ce(i){i.memoizedState!==null&&W(Se,i);var o=de.current,u=p5(o,i.type);o!==u&&(W(J,i),W(de,u))}function ke(i){J.current===i&&(z(de),z(J)),Se.current===i&&(z(Se),xd._currentValue=H)}var pe=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,Ve=e.unstable_cancelCallback,we=e.unstable_shouldYield,q=e.unstable_requestPaint,ie=e.unstable_now,G=e.unstable_getCurrentPriorityLevel,xe=e.unstable_ImmediatePriority,Ae=e.unstable_UserBlockingPriority,Le=e.unstable_NormalPriority,Pe=e.unstable_LowPriority,Ze=e.unstable_IdlePriority,Qe=e.log,je=e.unstable_setDisableYieldValue,$e=null,Ie=null;function ze(i){if(typeof Qe=="function"&&je(i),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode($e,i)}catch{}}var Be=Math.clz32?Math.clz32:on,ct=Math.log,vt=Math.LN2;function on(i){return i>>>=0,i===0?32:31-(ct(i)/vt|0)|0}var An=256,Qt=4194304;function De(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function X(i,o,u){var p=i.pendingLanes;if(p===0)return 0;var v=0,N=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var U=p&134217727;return U!==0?(p=U&~N,p!==0?v=De(p):(M&=U,M!==0?v=De(M):u||(u=U&~i,u!==0&&(v=De(u))))):(U=p&~N,U!==0?v=De(U):M!==0?v=De(M):u||(u=p&~i,u!==0&&(v=De(u)))),v===0?0:o!==0&&o!==v&&(o&N)===0&&(N=v&-v,u=o&-o,N>=u||N===32&&(u&4194048)!==0)?o:v}function _e(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function nt(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oe(){var i=An;return An<<=1,(An&4194048)===0&&(An=256),i}function Z(){var i=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),i}function ne(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function le(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function We(i,o,u,p,v,N){var M=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var U=i.entanglements,ee=i.expirationTimes,me=i.hiddenUpdates;for(u=M&~u;0<u;){var Te=31-Be(u),Oe=1<<Te;U[Te]=0,ee[Te]=-1;var ge=me[Te];if(ge!==null)for(me[Te]=null,Te=0;Te<ge.length;Te++){var ve=ge[Te];ve!==null&&(ve.lane&=-536870913)}u&=~Oe}p!==0&&rt(i,p,0),N!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=N&~(M&~o))}function rt(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Be(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|u&4194090}function yt(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-Be(u),v=1<<p;v&o|i[p]&o&&(i[p]|=o),u&=~v}}function ot(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Et(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Rt(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:D5(i.type))}function Er(i,o){var u=Y.p;try{return Y.p=i,o()}finally{Y.p=u}}var yn=Math.random().toString(36).slice(2),At="__reactFiber$"+yn,sn="__reactProps$"+yn,Ss="__reactContainer$"+yn,Ao="__reactEvents$"+yn,lm="__reactListeners$"+yn,om="__reactHandles$"+yn,Cu="__reactResources$"+yn,wi="__reactMarker$"+yn;function To(i){delete i[At],delete i[sn],delete i[Ao],delete i[lm],delete i[om]}function _s(i){var o=i[At];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Ss]||u[At]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=v5(i);i!==null;){if(u=i[At])return u;i=v5(i)}return o}i=u,u=i.parentNode}return null}function ks(i){if(i=i[At]||i[Ss]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function ji(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Cs(i){var o=i[Cu];return o||(o=i[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ue(i){i[wi]=!0}var Re=new Set,Ye={};function Fe(i,o){He(i,o),He(i+"Capture",o)}function He(i,o){for(Ye[i]=o,i=0;i<o.length;i++)Re.add(o[i])}var wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ua={},Au={};function j9(i){return pe.call(Au,i)?!0:pe.call(ua,i)?!1:wt.test(i)?Au[i]=!0:(ua[i]=!0,!1)}function cm(i,o,u){if(j9(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function um(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function As(i,o,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+p)}}var Px,lS;function Eo(i){if(Px===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Px=o&&o[1]||"",lS=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Px+i+lS}var Ox=!1;function Mx(i,o){if(!i||Ox)return"";Ox=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(ve){var ge=ve}Reflect.construct(i,[],Oe)}else{try{Oe.call()}catch(ve){ge=ve}i.call(Oe.prototype)}}else{try{throw Error()}catch(ve){ge=ve}(Oe=i())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(ve){if(ve&&ge&&typeof ve.stack=="string")return[ve.stack,ge.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),M=N[0],U=N[1];if(M&&U){var ee=M.split(`
`),me=U.split(`
`);for(v=p=0;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;for(;v<me.length&&!me[v].includes("DetermineComponentFrameRoot");)v++;if(p===ee.length||v===me.length)for(p=ee.length-1,v=me.length-1;1<=p&&0<=v&&ee[p]!==me[v];)v--;for(;1<=p&&0<=v;p--,v--)if(ee[p]!==me[v]){if(p!==1||v!==1)do if(p--,v--,0>v||ee[p]!==me[v]){var Te=`
`+ee[p].replace(" at new "," at ");return i.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",i.displayName)),Te}while(1<=p&&0<=v);break}}}finally{Ox=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Eo(u):""}function N9(i){switch(i.tag){case 26:case 27:case 5:return Eo(i.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 15:return Mx(i.type,!1);case 11:return Mx(i.type.render,!1);case 1:return Mx(i.type,!0);case 31:return Eo("Activity");default:return""}}function oS(i){try{var o="";do o+=N9(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function rr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function cS(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function S9(i){var o=cS(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,N=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(M){p=""+M,N.call(this,M)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(M){p=""+M},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function dm(i){i._valueTracker||(i._valueTracker=S9(i))}function uS(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=cS(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function fm(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var _9=/[\n"\\]/g;function sr(i){return i.replace(_9,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Dx(i,o,u,p,v,N,M,U){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),o!=null?M==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+rr(o)):i.value!==""+rr(o)&&(i.value=""+rr(o)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),o!=null?Rx(i,M,rr(o)):u!=null?Rx(i,M,rr(u)):p!=null&&i.removeAttribute("value"),v==null&&N!=null&&(i.defaultChecked=!!N),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.name=""+rr(U):i.removeAttribute("name")}function dS(i,o,u,p,v,N,M,U){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;u=u!=null?""+rr(u):"",o=o!=null?""+rr(o):u,U||o===i.value||(i.value=o),i.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=U?i.checked:!!p,i.defaultChecked=!!p,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M)}function Rx(i,o,u){o==="number"&&fm(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Po(i,o,u,p){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&p&&(i[u].defaultSelected=!0)}else{for(u=""+rr(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function fS(i,o,u){if(o!=null&&(o=""+rr(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+rr(u):""}function mS(i,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(re(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=rr(o),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p)}function Oo(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var k9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hS(i,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,u):typeof u!="number"||u===0||k9.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function pS(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&u[v]!==p&&hS(i,v,p)}else for(var N in o)o.hasOwnProperty(N)&&hS(i,N,o[N])}function $x(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),A9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mm(i){return A9.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Lx=null;function Ix(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mo=null,Do=null;function xS(i){var o=ks(i);if(o&&(i=o.stateNode)){var u=i[sn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Dx(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+sr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var v=p[sn]||null;if(!v)throw Error(r(90));Dx(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===i.form&&uS(p)}break e;case"textarea":fS(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Po(i,!!u.multiple,o,!1)}}}var zx=!1;function gS(i,o,u){if(zx)return i(o,u);zx=!0;try{var p=i(o);return p}finally{if(zx=!1,(Mo!==null||Do!==null)&&(Qm(),Mo&&(o=Mo,i=Do,Do=Mo=null,xS(o),i)))for(o=0;o<i.length;o++)xS(i[o])}}function Tu(i,o){var u=i.stateNode;if(u===null)return null;var p=u[sn]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bx=!1;if(Ts)try{var Eu={};Object.defineProperty(Eu,"passive",{get:function(){Bx=!0}}),window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,Eu)}catch{Bx=!1}var Ni=null,Ux=null,hm=null;function bS(){if(hm)return hm;var i,o=Ux,u=o.length,p,v="value"in Ni?Ni.value:Ni.textContent,N=v.length;for(i=0;i<u&&o[i]===v[i];i++);var M=u-i;for(p=1;p<=M&&o[u-p]===v[N-p];p++);return hm=v.slice(i,1<p?1-p:void 0)}function pm(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function xm(){return!0}function vS(){return!1}function ya(i){function o(u,p,v,N,M){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=N,this.target=M,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(u=i[U],this[U]=u?u(N):N[U]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?xm:vS,this.isPropagationStopped=vS,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=xm)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=xm)},persist:function(){},isPersistent:xm}),o}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gm=ya(Nl),Pu=h({},Nl,{view:0,detail:0}),T9=ya(Pu),Fx,Vx,Ou,bm=h({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qx,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ou&&(Ou&&i.type==="mousemove"?(Fx=i.screenX-Ou.screenX,Vx=i.screenY-Ou.screenY):Vx=Fx=0,Ou=i),Fx)},movementY:function(i){return"movementY"in i?i.movementY:Vx}}),yS=ya(bm),E9=h({},bm,{dataTransfer:0}),P9=ya(E9),O9=h({},Pu,{relatedTarget:0}),Hx=ya(O9),M9=h({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),D9=ya(M9),R9=h({},Nl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$9=ya(R9),L9=h({},Nl,{data:0}),wS=ya(L9),I9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U9(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=B9[i])?!!o[i]:!1}function qx(){return U9}var F9=h({},Pu,{key:function(i){if(i.key){var o=I9[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=pm(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?z9[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qx,charCode:function(i){return i.type==="keypress"?pm(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pm(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),V9=ya(F9),H9=h({},bm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jS=ya(H9),q9=h({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qx}),K9=ya(q9),G9=h({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y9=ya(G9),W9=h({},bm,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X9=ya(W9),Z9=h({},Nl,{newState:0,oldState:0}),Q9=ya(Z9),J9=[9,13,27,32],Kx=Ts&&"CompositionEvent"in window,Mu=null;Ts&&"documentMode"in document&&(Mu=document.documentMode);var e$=Ts&&"TextEvent"in window&&!Mu,NS=Ts&&(!Kx||Mu&&8<Mu&&11>=Mu),SS=" ",_S=!1;function kS(i,o){switch(i){case"keyup":return J9.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ro=!1;function t$(i,o){switch(i){case"compositionend":return CS(o);case"keypress":return o.which!==32?null:(_S=!0,SS);case"textInput":return i=o.data,i===SS&&_S?null:i;default:return null}}function n$(i,o){if(Ro)return i==="compositionend"||!Kx&&kS(i,o)?(i=bS(),hm=Ux=Ni=null,Ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return NS&&o.locale!=="ko"?null:o.data;default:return null}}var a$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AS(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!a$[i.type]:o==="textarea"}function TS(i,o,u,p){Mo?Do?Do.push(p):Do=[p]:Mo=p,o=rh(o,"onChange"),0<o.length&&(u=new gm("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var Du=null,Ru=null;function r$(i){c5(i,0)}function vm(i){var o=ji(i);if(uS(o))return i}function ES(i,o){if(i==="change")return o}var PS=!1;if(Ts){var Gx;if(Ts){var Yx="oninput"in document;if(!Yx){var OS=document.createElement("div");OS.setAttribute("oninput","return;"),Yx=typeof OS.oninput=="function"}Gx=Yx}else Gx=!1;PS=Gx&&(!document.documentMode||9<document.documentMode)}function MS(){Du&&(Du.detachEvent("onpropertychange",DS),Ru=Du=null)}function DS(i){if(i.propertyName==="value"&&vm(Ru)){var o=[];TS(o,Ru,i,Ix(i)),gS(r$,o)}}function s$(i,o,u){i==="focusin"?(MS(),Du=o,Ru=u,Du.attachEvent("onpropertychange",DS)):i==="focusout"&&MS()}function i$(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vm(Ru)}function l$(i,o){if(i==="click")return vm(o)}function o$(i,o){if(i==="input"||i==="change")return vm(o)}function c$(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ma=typeof Object.is=="function"?Object.is:c$;function $u(i,o){if(Ma(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!pe.call(o,v)||!Ma(i[v],o[v]))return!1}return!0}function RS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $S(i,o){var u=RS(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=RS(u)}}function LS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?LS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function IS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=fm(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=fm(i.document)}return o}function Wx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var u$=Ts&&"documentMode"in document&&11>=document.documentMode,$o=null,Xx=null,Lu=null,Zx=!1;function zS(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Zx||$o==null||$o!==fm(p)||(p=$o,"selectionStart"in p&&Wx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Lu&&$u(Lu,p)||(Lu=p,p=rh(Xx,"onSelect"),0<p.length&&(o=new gm("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=$o)))}function Sl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Lo={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},Qx={},BS={};Ts&&(BS=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function _l(i){if(Qx[i])return Qx[i];if(!Lo[i])return i;var o=Lo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in BS)return Qx[i]=o[u];return i}var US=_l("animationend"),FS=_l("animationiteration"),VS=_l("animationstart"),d$=_l("transitionrun"),f$=_l("transitionstart"),m$=_l("transitioncancel"),HS=_l("transitionend"),qS=new Map,Jx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jx.push("scrollEnd");function Pr(i,o){qS.set(i,o),Fe(o,[i])}var KS=new WeakMap;function ir(i,o){if(typeof i=="object"&&i!==null){var u=KS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:oS(o)},KS.set(i,o),o)}return{value:i,source:o,stack:oS(o)}}var lr=[],Io=0,eg=0;function ym(){for(var i=Io,o=eg=Io=0;o<i;){var u=lr[o];lr[o++]=null;var p=lr[o];lr[o++]=null;var v=lr[o];lr[o++]=null;var N=lr[o];if(lr[o++]=null,p!==null&&v!==null){var M=p.pending;M===null?v.next=v:(v.next=M.next,M.next=v),p.pending=v}N!==0&&GS(u,v,N)}}function wm(i,o,u,p){lr[Io++]=i,lr[Io++]=o,lr[Io++]=u,lr[Io++]=p,eg|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function tg(i,o,u,p){return wm(i,o,u,p),jm(i)}function zo(i,o){return wm(i,null,null,o),jm(i)}function GS(i,o,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var v=!1,N=i.return;N!==null;)N.childLanes|=u,p=N.alternate,p!==null&&(p.childLanes|=u),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(v=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,v&&o!==null&&(v=31-Be(u),i=N.hiddenUpdates,p=i[v],p===null?i[v]=[o]:p.push(o),o.lane=u|536870912),N):null}function jm(i){if(50<od)throw od=0,lb=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Bo={};function h$(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(i,o,u,p){return new h$(i,o,u,p)}function ng(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Es(i,o){var u=i.alternate;return u===null?(u=Da(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function YS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Nm(i,o,u,p,v,N){var M=0;if(p=i,typeof i=="function")ng(i)&&(M=1);else if(typeof i=="string")M=xL(i,u,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=Da(31,u,o,v),i.elementType=V,i.lanes=N,i;case w:return kl(u.children,v,N,o);case j:M=8,v|=24;break;case S:return i=Da(12,u,o,v|2),i.elementType=S,i.lanes=N,i;case A:return i=Da(13,u,o,v),i.elementType=A,i.lanes=N,i;case T:return i=Da(19,u,o,v),i.elementType=T,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case C:M=10;break e;case _:M=9;break e;case P:M=11;break e;case R:M=14;break e;case O:M=16,p=null;break e}M=29,u=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=Da(M,u,o,v),o.elementType=i,o.type=p,o.lanes=N,o}function kl(i,o,u,p){return i=Da(7,i,p,o),i.lanes=u,i}function ag(i,o,u){return i=Da(6,i,null,o),i.lanes=u,i}function rg(i,o,u){return o=Da(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Uo=[],Fo=0,Sm=null,_m=0,or=[],cr=0,Cl=null,Ps=1,Os="";function Al(i,o){Uo[Fo++]=_m,Uo[Fo++]=Sm,Sm=i,_m=o}function WS(i,o,u){or[cr++]=Ps,or[cr++]=Os,or[cr++]=Cl,Cl=i;var p=Ps;i=Os;var v=32-Be(p)-1;p&=~(1<<v),u+=1;var N=32-Be(o)+v;if(30<N){var M=v-v%5;N=(p&(1<<M)-1).toString(32),p>>=M,v-=M,Ps=1<<32-Be(o)+v|u<<v|p,Os=N+i}else Ps=1<<N|u<<v|p,Os=i}function sg(i){i.return!==null&&(Al(i,1),WS(i,1,0))}function ig(i){for(;i===Sm;)Sm=Uo[--Fo],Uo[Fo]=null,_m=Uo[--Fo],Uo[Fo]=null;for(;i===Cl;)Cl=or[--cr],or[cr]=null,Os=or[--cr],or[cr]=null,Ps=or[--cr],or[cr]=null}var da=null,cn=null,Tt=!1,Tl=null,Jr=!1,lg=Error(r(519));function El(i){var o=Error(r(418,""));throw Bu(ir(o,i)),lg}function XS(i){var o=i.stateNode,u=i.type,p=i.memoizedProps;switch(o[At]=i,o[sn]=p,u){case"dialog":bt("cancel",o),bt("close",o);break;case"iframe":case"object":case"embed":bt("load",o);break;case"video":case"audio":for(u=0;u<ud.length;u++)bt(ud[u],o);break;case"source":bt("error",o);break;case"img":case"image":case"link":bt("error",o),bt("load",o);break;case"details":bt("toggle",o);break;case"input":bt("invalid",o),dS(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),dm(o);break;case"select":bt("invalid",o);break;case"textarea":bt("invalid",o),mS(o,p.value,p.defaultValue,p.children),dm(o)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||m5(o.textContent,u)?(p.popover!=null&&(bt("beforetoggle",o),bt("toggle",o)),p.onScroll!=null&&bt("scroll",o),p.onScrollEnd!=null&&bt("scrollend",o),p.onClick!=null&&(o.onclick=sh),o=!0):o=!1,o||El(i)}function ZS(i){for(da=i.return;da;)switch(da.tag){case 5:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:da=da.return}}function Iu(i){if(i!==da)return!1;if(!Tt)return ZS(i),Tt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Nb(i.type,i.memoizedProps)),u=!u),u&&cn&&El(i),ZS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){cn=Mr(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}cn=null}}else o===27?(o=cn,zi(i.type)?(i=Cb,Cb=null,cn=i):cn=o):cn=da?Mr(i.stateNode.nextSibling):null;return!0}function zu(){cn=da=null,Tt=!1}function QS(){var i=Tl;return i!==null&&(Na===null?Na=i:Na.push.apply(Na,i),Tl=null),i}function Bu(i){Tl===null?Tl=[i]:Tl.push(i)}var og=$(null),Pl=null,Ms=null;function Si(i,o,u){W(og,o._currentValue),o._currentValue=u}function Ds(i){i._currentValue=og.current,z(og)}function cg(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function ug(i,o,u,p){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var N=v.dependencies;if(N!==null){var M=v.child;N=N.firstContext;e:for(;N!==null;){var U=N;N=v;for(var ee=0;ee<o.length;ee++)if(U.context===o[ee]){N.lanes|=u,U=N.alternate,U!==null&&(U.lanes|=u),cg(N.return,u,i),p||(M=null);break e}N=U.next}}else if(v.tag===18){if(M=v.return,M===null)throw Error(r(341));M.lanes|=u,N=M.alternate,N!==null&&(N.lanes|=u),cg(M,u,i),M=null}else M=v.child;if(M!==null)M.return=v;else for(M=v;M!==null;){if(M===i){M=null;break}if(v=M.sibling,v!==null){v.return=M.return,M=v;break}M=M.return}v=M}}function Uu(i,o,u,p){i=null;for(var v=o,N=!1;v!==null;){if(!N){if((v.flags&524288)!==0)N=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var M=v.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var U=v.type;Ma(v.pendingProps.value,M.value)||(i!==null?i.push(U):i=[U])}}else if(v===Se.current){if(M=v.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(xd):i=[xd])}v=v.return}i!==null&&ug(o,i,u,p),o.flags|=262144}function km(i){for(i=i.firstContext;i!==null;){if(!Ma(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ol(i){Pl=i,Ms=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function na(i){return JS(Pl,i)}function Cm(i,o){return Pl===null&&Ol(i),JS(i,o)}function JS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ms===null){if(i===null)throw Error(r(308));Ms=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ms=Ms.next=o;return u}var p$=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},x$=e.unstable_scheduleCallback,g$=e.unstable_NormalPriority,Tn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dg(){return{controller:new p$,data:new Map,refCount:0}}function Fu(i){i.refCount--,i.refCount===0&&x$(g$,function(){i.controller.abort()})}var Vu=null,fg=0,Vo=0,Ho=null;function b$(i,o){if(Vu===null){var u=Vu=[];fg=0,Vo=hb(),Ho={status:"pending",value:void 0,then:function(p){u.push(p)}}}return fg++,o.then(e4,e4),o}function e4(){if(--fg===0&&Vu!==null){Ho!==null&&(Ho.status="fulfilled");var i=Vu;Vu=null,Vo=0,Ho=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function v$(i,o){var u=[],p={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),p}var t4=D.S;D.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&b$(i,o),t4!==null&&t4(i,o)};var Ml=$(null);function mg(){var i=Ml.current;return i!==null?i:Ht.pooledCache}function Am(i,o){o===null?W(Ml,Ml.current):W(Ml,o.pool)}function n4(){var i=mg();return i===null?null:{parent:Tn._currentValue,pool:i}}var Hu=Error(r(460)),a4=Error(r(474)),Tm=Error(r(542)),hg={then:function(){}};function r4(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Em(){}function s4(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Em,Em),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,l4(i),i;default:if(typeof o.status=="string")o.then(Em,Em);else{if(i=Ht,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,l4(i),i}throw qu=o,Hu}}var qu=null;function i4(){if(qu===null)throw Error(r(459));var i=qu;return qu=null,i}function l4(i){if(i===Hu||i===Tm)throw Error(r(483))}var _i=!1;function pg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ki(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ci(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ot&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=jm(i),GS(i,null,u),o}return wm(i,p,o,u),jm(i)}function Ku(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,yt(i,u)}}function gg(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var M={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?v=N=M:N=N.next=M,u=u.next}while(u!==null);N===null?v=N=o:N=N.next=o}else v=N=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var bg=!1;function Gu(){if(bg){var i=Ho;if(i!==null)throw i}}function Yu(i,o,u,p){bg=!1;var v=i.updateQueue;_i=!1;var N=v.firstBaseUpdate,M=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var ee=U,me=ee.next;ee.next=null,M===null?N=me:M.next=me,M=ee;var Te=i.alternate;Te!==null&&(Te=Te.updateQueue,U=Te.lastBaseUpdate,U!==M&&(U===null?Te.firstBaseUpdate=me:U.next=me,Te.lastBaseUpdate=ee))}if(N!==null){var Oe=v.baseState;M=0,Te=me=ee=null,U=N;do{var ge=U.lane&-536870913,ve=ge!==U.lane;if(ve?(jt&ge)===ge:(p&ge)===ge){ge!==0&&ge===Vo&&(bg=!0),Te!==null&&(Te=Te.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var it=i,at=U;ge=o;var It=u;switch(at.tag){case 1:if(it=at.payload,typeof it=="function"){Oe=it.call(It,Oe,ge);break e}Oe=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=at.payload,ge=typeof it=="function"?it.call(It,Oe,ge):it,ge==null)break e;Oe=h({},Oe,ge);break e;case 2:_i=!0}}ge=U.callback,ge!==null&&(i.flags|=64,ve&&(i.flags|=8192),ve=v.callbacks,ve===null?v.callbacks=[ge]:ve.push(ge))}else ve={lane:ge,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Te===null?(me=Te=ve,ee=Oe):Te=Te.next=ve,M|=ge;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;ve=U,U=ve.next,ve.next=null,v.lastBaseUpdate=ve,v.shared.pending=null}}while(!0);Te===null&&(ee=Oe),v.baseState=ee,v.firstBaseUpdate=me,v.lastBaseUpdate=Te,N===null&&(v.shared.lanes=0),Ri|=M,i.lanes=M,i.memoizedState=Oe}}function o4(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function c4(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)o4(u[i],o)}var qo=$(null),Pm=$(0);function u4(i,o){i=Us,W(Pm,i),W(qo,o),Us=i|o.baseLanes}function vg(){W(Pm,Us),W(qo,qo.current)}function yg(){Us=Pm.current,z(qo),z(Pm)}var Ai=0,mt=null,$t=null,wn=null,Om=!1,Ko=!1,Dl=!1,Mm=0,Wu=0,Go=null,y$=0;function pn(){throw Error(r(321))}function wg(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Ma(i[u],o[u]))return!1;return!0}function jg(i,o,u,p,v,N){return Ai=N,mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=i===null||i.memoizedState===null?G4:Y4,Dl=!1,N=u(p,v),Dl=!1,Ko&&(N=f4(o,u,p,v)),d4(i),N}function d4(i){D.H=zm;var o=$t!==null&&$t.next!==null;if(Ai=0,wn=$t=mt=null,Om=!1,Wu=0,Go=null,o)throw Error(r(300));i===null||In||(i=i.dependencies,i!==null&&km(i)&&(In=!0))}function f4(i,o,u,p){mt=i;var v=0;do{if(Ko&&(Go=null),Wu=0,Ko=!1,25<=v)throw Error(r(301));if(v+=1,wn=$t=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}D.H=C$,N=o(u,p)}while(Ko);return N}function w$(){var i=D.H,o=i.useState()[0];return o=typeof o.then=="function"?Xu(o):o,i=i.useState()[0],($t!==null?$t.memoizedState:null)!==i&&(mt.flags|=1024),o}function Ng(){var i=Mm!==0;return Mm=0,i}function Sg(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function _g(i){if(Om){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Om=!1}Ai=0,wn=$t=mt=null,Ko=!1,Wu=Mm=0,Go=null}function wa(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?mt.memoizedState=wn=i:wn=wn.next=i,wn}function jn(){if($t===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var o=wn===null?mt.memoizedState:wn.next;if(o!==null)wn=o,$t=i;else{if(i===null)throw mt.alternate===null?Error(r(467)):Error(r(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},wn===null?mt.memoizedState=wn=i:wn=wn.next=i}return wn}function kg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xu(i){var o=Wu;return Wu+=1,Go===null&&(Go=[]),i=s4(Go,i,o),o=mt,(wn===null?o.memoizedState:wn.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?G4:Y4),i}function Dm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xu(i);if(i.$$typeof===C)return na(i)}throw Error(r(438,String(i)))}function Cg(i){var o=null,u=mt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=mt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=kg(),mt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),p=0;p<i;p++)u[p]=K;return o.index++,u}function Rs(i,o){return typeof o=="function"?o(i):o}function Rm(i){var o=jn();return Ag(o,$t,i)}function Ag(i,o,u){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var v=i.baseQueue,N=p.pending;if(N!==null){if(v!==null){var M=v.next;v.next=N.next,N.next=M}o.baseQueue=v=N,p.pending=null}if(N=i.baseState,v===null)i.memoizedState=N;else{o=v.next;var U=M=null,ee=null,me=o,Te=!1;do{var Oe=me.lane&-536870913;if(Oe!==me.lane?(jt&Oe)===Oe:(Ai&Oe)===Oe){var ge=me.revertLane;if(ge===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Oe===Vo&&(Te=!0);else if((Ai&ge)===ge){me=me.next,ge===Vo&&(Te=!0);continue}else Oe={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ee===null?(U=ee=Oe,M=N):ee=ee.next=Oe,mt.lanes|=ge,Ri|=ge;Oe=me.action,Dl&&u(N,Oe),N=me.hasEagerState?me.eagerState:u(N,Oe)}else ge={lane:Oe,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ee===null?(U=ee=ge,M=N):ee=ee.next=ge,mt.lanes|=Oe,Ri|=Oe;me=me.next}while(me!==null&&me!==o);if(ee===null?M=N:ee.next=U,!Ma(N,i.memoizedState)&&(In=!0,Te&&(u=Ho,u!==null)))throw u;i.memoizedState=N,i.baseState=M,i.baseQueue=ee,p.lastRenderedState=N}return v===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Tg(i){var o=jn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var p=u.dispatch,v=u.pending,N=o.memoizedState;if(v!==null){u.pending=null;var M=v=v.next;do N=i(N,M.action),M=M.next;while(M!==v);Ma(N,o.memoizedState)||(In=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,p]}function m4(i,o,u){var p=mt,v=jn(),N=Tt;if(N){if(u===void 0)throw Error(r(407));u=u()}else u=o();var M=!Ma(($t||v).memoizedState,u);M&&(v.memoizedState=u,In=!0),v=v.queue;var U=x4.bind(null,p,v,i);if(Zu(2048,8,U,[i]),v.getSnapshot!==o||M||wn!==null&&wn.memoizedState.tag&1){if(p.flags|=2048,Yo(9,$m(),p4.bind(null,p,v,u,o),null),Ht===null)throw Error(r(349));N||(Ai&124)!==0||h4(p,o,u)}return u}function h4(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=mt.updateQueue,o===null?(o=kg(),mt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function p4(i,o,u,p){o.value=u,o.getSnapshot=p,g4(o)&&b4(i)}function x4(i,o,u){return u(function(){g4(o)&&b4(i)})}function g4(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Ma(i,u)}catch{return!0}}function b4(i){var o=zo(i,2);o!==null&&za(o,i,2)}function Eg(i){var o=wa();if(typeof i=="function"){var u=i;if(i=u(),Dl){ze(!0);try{u()}finally{ze(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:i},o}function v4(i,o,u,p){return i.baseState=u,Ag(i,$t,typeof p=="function"?p:Rs)}function j$(i,o,u,p,v){if(Im(i))throw Error(r(485));if(i=o.action,i!==null){var N={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){N.listeners.push(M)}};D.T!==null?u(!0):N.isTransition=!1,p(N),u=o.pending,u===null?(N.next=o.pending=N,y4(o,N)):(N.next=u.next,o.pending=u.next=N)}}function y4(i,o){var u=o.action,p=o.payload,v=i.state;if(o.isTransition){var N=D.T,M={};D.T=M;try{var U=u(v,p),ee=D.S;ee!==null&&ee(M,U),w4(i,o,U)}catch(me){Pg(i,o,me)}finally{D.T=N}}else try{N=u(v,p),w4(i,o,N)}catch(me){Pg(i,o,me)}}function w4(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){j4(i,o,p)},function(p){return Pg(i,o,p)}):j4(i,o,u)}function j4(i,o,u){o.status="fulfilled",o.value=u,N4(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,y4(i,u)))}function Pg(i,o,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,N4(o),o=o.next;while(o!==p)}i.action=null}function N4(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function S4(i,o){return o}function _4(i,o){if(Tt){var u=Ht.formState;if(u!==null){e:{var p=mt;if(Tt){if(cn){t:{for(var v=cn,N=Jr;v.nodeType!==8;){if(!N){v=null;break t}if(v=Mr(v.nextSibling),v===null){v=null;break t}}N=v.data,v=N==="F!"||N==="F"?v:null}if(v){cn=Mr(v.nextSibling),p=v.data==="F!";break e}}El(p)}p=!1}p&&(o=u[0])}}return u=wa(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S4,lastRenderedState:o},u.queue=p,u=H4.bind(null,mt,p),p.dispatch=u,p=Eg(!1),N=$g.bind(null,mt,!1,p.queue),p=wa(),v={state:o,dispatch:null,action:i,pending:null},p.queue=v,u=j$.bind(null,mt,v,N,u),v.dispatch=u,p.memoizedState=i,[o,u,!1]}function k4(i){var o=jn();return C4(o,$t,i)}function C4(i,o,u){if(o=Ag(i,o,S4)[0],i=Rm(Rs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Xu(o)}catch(M){throw M===Hu?Tm:M}else p=o;o=jn();var v=o.queue,N=v.dispatch;return u!==o.memoizedState&&(mt.flags|=2048,Yo(9,$m(),N$.bind(null,v,u),null)),[p,N,i]}function N$(i,o){i.action=o}function A4(i){var o=jn(),u=$t;if(u!==null)return C4(o,u,i);jn(),o=o.memoizedState,u=jn();var p=u.queue.dispatch;return u.memoizedState=i,[o,p,!1]}function Yo(i,o,u,p){return i={tag:i,create:u,deps:p,inst:o,next:null},o=mt.updateQueue,o===null&&(o=kg(),mt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i),i}function $m(){return{destroy:void 0,resource:void 0}}function T4(){return jn().memoizedState}function Lm(i,o,u,p){var v=wa();p=p===void 0?null:p,mt.flags|=i,v.memoizedState=Yo(1|o,$m(),u,p)}function Zu(i,o,u,p){var v=jn();p=p===void 0?null:p;var N=v.memoizedState.inst;$t!==null&&p!==null&&wg(p,$t.memoizedState.deps)?v.memoizedState=Yo(o,N,u,p):(mt.flags|=i,v.memoizedState=Yo(1|o,N,u,p))}function E4(i,o){Lm(8390656,8,i,o)}function P4(i,o){Zu(2048,8,i,o)}function O4(i,o){return Zu(4,2,i,o)}function M4(i,o){return Zu(4,4,i,o)}function D4(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function R4(i,o,u){u=u!=null?u.concat([i]):null,Zu(4,4,D4.bind(null,o,i),u)}function Og(){}function $4(i,o){var u=jn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&wg(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function L4(i,o){var u=jn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&wg(o,p[1]))return p[0];if(p=i(),Dl){ze(!0);try{i()}finally{ze(!1)}}return u.memoizedState=[p,o],p}function Mg(i,o,u){return u===void 0||(Ai&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=B_(),mt.lanes|=i,Ri|=i,u)}function I4(i,o,u,p){return Ma(u,o)?u:qo.current!==null?(i=Mg(i,u,p),Ma(i,o)||(In=!0),i):(Ai&42)===0?(In=!0,i.memoizedState=u):(i=B_(),mt.lanes|=i,Ri|=i,o)}function z4(i,o,u,p,v){var N=Y.p;Y.p=N!==0&&8>N?N:8;var M=D.T,U={};D.T=U,$g(i,!1,o,u);try{var ee=v(),me=D.S;if(me!==null&&me(U,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Te=v$(ee,p);Qu(i,o,Te,Ia(i))}else Qu(i,o,p,Ia(i))}catch(Oe){Qu(i,o,{then:function(){},status:"rejected",reason:Oe},Ia())}finally{Y.p=N,D.T=M}}function S$(){}function Dg(i,o,u,p){if(i.tag!==5)throw Error(r(476));var v=B4(i).queue;z4(i,v,o,H,u===null?S$:function(){return U4(i),u(p)})}function B4(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function U4(i){var o=B4(i).next.queue;Qu(i,o,{},Ia())}function Rg(){return na(xd)}function F4(){return jn().memoizedState}function V4(){return jn().memoizedState}function _$(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ia();i=ki(u);var p=Ci(o,i,u);p!==null&&(za(p,o,u),Ku(p,o,u)),o={cache:dg()},i.payload=o;return}o=o.return}}function k$(i,o,u){var p=Ia();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Im(i)?q4(o,u):(u=tg(i,o,u,p),u!==null&&(za(u,i,p),K4(u,o,p)))}function H4(i,o,u){var p=Ia();Qu(i,o,u,p)}function Qu(i,o,u,p){var v={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Im(i))q4(o,v);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var M=o.lastRenderedState,U=N(M,u);if(v.hasEagerState=!0,v.eagerState=U,Ma(U,M))return wm(i,o,v,0),Ht===null&&ym(),!1}catch{}finally{}if(u=tg(i,o,v,p),u!==null)return za(u,i,p),K4(u,o,p),!0}return!1}function $g(i,o,u,p){if(p={lane:2,revertLane:hb(),action:p,hasEagerState:!1,eagerState:null,next:null},Im(i)){if(o)throw Error(r(479))}else o=tg(i,u,p,2),o!==null&&za(o,i,2)}function Im(i){var o=i.alternate;return i===mt||o!==null&&o===mt}function q4(i,o){Ko=Om=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function K4(i,o,u){if((u&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,yt(i,u)}}var zm={readContext:na,use:Dm,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn},G4={readContext:na,use:Dm,useCallback:function(i,o){return wa().memoizedState=[i,o===void 0?null:o],i},useContext:na,useEffect:E4,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Lm(4194308,4,D4.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Lm(4194308,4,i,o)},useInsertionEffect:function(i,o){Lm(4,2,i,o)},useMemo:function(i,o){var u=wa();o=o===void 0?null:o;var p=i();if(Dl){ze(!0);try{i()}finally{ze(!1)}}return u.memoizedState=[p,o],p},useReducer:function(i,o,u){var p=wa();if(u!==void 0){var v=u(o);if(Dl){ze(!0);try{u(o)}finally{ze(!1)}}}else v=o;return p.memoizedState=p.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},p.queue=i,i=i.dispatch=k$.bind(null,mt,i),[p.memoizedState,i]},useRef:function(i){var o=wa();return i={current:i},o.memoizedState=i},useState:function(i){i=Eg(i);var o=i.queue,u=H4.bind(null,mt,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Og,useDeferredValue:function(i,o){var u=wa();return Mg(u,i,o)},useTransition:function(){var i=Eg(!1);return i=z4.bind(null,mt,i.queue,!0,!1),wa().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var p=mt,v=wa();if(Tt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Ht===null)throw Error(r(349));(jt&124)!==0||h4(p,o,u)}v.memoizedState=u;var N={value:u,getSnapshot:o};return v.queue=N,E4(x4.bind(null,p,N,i),[i]),p.flags|=2048,Yo(9,$m(),p4.bind(null,p,N,u,o),null),u},useId:function(){var i=wa(),o=Ht.identifierPrefix;if(Tt){var u=Os,p=Ps;u=(p&~(1<<32-Be(p)-1)).toString(32)+u,o=""+o+"R"+u,u=Mm++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=y$++,o=""+o+"r"+u.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:Rg,useFormState:_4,useActionState:_4,useOptimistic:function(i){var o=wa();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=$g.bind(null,mt,!0,u),u.dispatch=o,[i,o]},useMemoCache:Cg,useCacheRefresh:function(){return wa().memoizedState=_$.bind(null,mt)}},Y4={readContext:na,use:Dm,useCallback:$4,useContext:na,useEffect:P4,useImperativeHandle:R4,useInsertionEffect:O4,useLayoutEffect:M4,useMemo:L4,useReducer:Rm,useRef:T4,useState:function(){return Rm(Rs)},useDebugValue:Og,useDeferredValue:function(i,o){var u=jn();return I4(u,$t.memoizedState,i,o)},useTransition:function(){var i=Rm(Rs)[0],o=jn().memoizedState;return[typeof i=="boolean"?i:Xu(i),o]},useSyncExternalStore:m4,useId:F4,useHostTransitionStatus:Rg,useFormState:k4,useActionState:k4,useOptimistic:function(i,o){var u=jn();return v4(u,$t,i,o)},useMemoCache:Cg,useCacheRefresh:V4},C$={readContext:na,use:Dm,useCallback:$4,useContext:na,useEffect:P4,useImperativeHandle:R4,useInsertionEffect:O4,useLayoutEffect:M4,useMemo:L4,useReducer:Tg,useRef:T4,useState:function(){return Tg(Rs)},useDebugValue:Og,useDeferredValue:function(i,o){var u=jn();return $t===null?Mg(u,i,o):I4(u,$t.memoizedState,i,o)},useTransition:function(){var i=Tg(Rs)[0],o=jn().memoizedState;return[typeof i=="boolean"?i:Xu(i),o]},useSyncExternalStore:m4,useId:F4,useHostTransitionStatus:Rg,useFormState:A4,useActionState:A4,useOptimistic:function(i,o){var u=jn();return $t!==null?v4(u,$t,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Cg,useCacheRefresh:V4},Wo=null,Ju=0;function Bm(i){var o=Ju;return Ju+=1,Wo===null&&(Wo=[]),s4(Wo,i,o)}function ed(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Um(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function W4(i){var o=i._init;return o(i._payload)}function X4(i){function o(ce,se){if(i){var fe=ce.deletions;fe===null?(ce.deletions=[se],ce.flags|=16):fe.push(se)}}function u(ce,se){if(!i)return null;for(;se!==null;)o(ce,se),se=se.sibling;return null}function p(ce){for(var se=new Map;ce!==null;)ce.key!==null?se.set(ce.key,ce):se.set(ce.index,ce),ce=ce.sibling;return se}function v(ce,se){return ce=Es(ce,se),ce.index=0,ce.sibling=null,ce}function N(ce,se,fe){return ce.index=fe,i?(fe=ce.alternate,fe!==null?(fe=fe.index,fe<se?(ce.flags|=67108866,se):fe):(ce.flags|=67108866,se)):(ce.flags|=1048576,se)}function M(ce){return i&&ce.alternate===null&&(ce.flags|=67108866),ce}function U(ce,se,fe,Ee){return se===null||se.tag!==6?(se=ag(fe,ce.mode,Ee),se.return=ce,se):(se=v(se,fe),se.return=ce,se)}function ee(ce,se,fe,Ee){var Xe=fe.type;return Xe===w?Te(ce,se,fe.props.children,Ee,fe.key):se!==null&&(se.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===O&&W4(Xe)===se.type)?(se=v(se,fe.props),ed(se,fe),se.return=ce,se):(se=Nm(fe.type,fe.key,fe.props,null,ce.mode,Ee),ed(se,fe),se.return=ce,se)}function me(ce,se,fe,Ee){return se===null||se.tag!==4||se.stateNode.containerInfo!==fe.containerInfo||se.stateNode.implementation!==fe.implementation?(se=rg(fe,ce.mode,Ee),se.return=ce,se):(se=v(se,fe.children||[]),se.return=ce,se)}function Te(ce,se,fe,Ee,Xe){return se===null||se.tag!==7?(se=kl(fe,ce.mode,Ee,Xe),se.return=ce,se):(se=v(se,fe),se.return=ce,se)}function Oe(ce,se,fe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=ag(""+se,ce.mode,fe),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return fe=Nm(se.type,se.key,se.props,null,ce.mode,fe),ed(fe,se),fe.return=ce,fe;case y:return se=rg(se,ce.mode,fe),se.return=ce,se;case O:var Ee=se._init;return se=Ee(se._payload),Oe(ce,se,fe)}if(re(se)||L(se))return se=kl(se,ce.mode,fe,null),se.return=ce,se;if(typeof se.then=="function")return Oe(ce,Bm(se),fe);if(se.$$typeof===C)return Oe(ce,Cm(ce,se),fe);Um(ce,se)}return null}function ge(ce,se,fe,Ee){var Xe=se!==null?se.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Xe!==null?null:U(ce,se,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return fe.key===Xe?ee(ce,se,fe,Ee):null;case y:return fe.key===Xe?me(ce,se,fe,Ee):null;case O:return Xe=fe._init,fe=Xe(fe._payload),ge(ce,se,fe,Ee)}if(re(fe)||L(fe))return Xe!==null?null:Te(ce,se,fe,Ee,null);if(typeof fe.then=="function")return ge(ce,se,Bm(fe),Ee);if(fe.$$typeof===C)return ge(ce,se,Cm(ce,fe),Ee);Um(ce,fe)}return null}function ve(ce,se,fe,Ee,Xe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return ce=ce.get(fe)||null,U(se,ce,""+Ee,Xe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case b:return ce=ce.get(Ee.key===null?fe:Ee.key)||null,ee(se,ce,Ee,Xe);case y:return ce=ce.get(Ee.key===null?fe:Ee.key)||null,me(se,ce,Ee,Xe);case O:var pt=Ee._init;return Ee=pt(Ee._payload),ve(ce,se,fe,Ee,Xe)}if(re(Ee)||L(Ee))return ce=ce.get(fe)||null,Te(se,ce,Ee,Xe,null);if(typeof Ee.then=="function")return ve(ce,se,fe,Bm(Ee),Xe);if(Ee.$$typeof===C)return ve(ce,se,fe,Cm(se,Ee),Xe);Um(se,Ee)}return null}function it(ce,se,fe,Ee){for(var Xe=null,pt=null,et=se,st=se=0,Bn=null;et!==null&&st<fe.length;st++){et.index>st?(Bn=et,et=null):Bn=et.sibling;var kt=ge(ce,et,fe[st],Ee);if(kt===null){et===null&&(et=Bn);break}i&&et&&kt.alternate===null&&o(ce,et),se=N(kt,se,st),pt===null?Xe=kt:pt.sibling=kt,pt=kt,et=Bn}if(st===fe.length)return u(ce,et),Tt&&Al(ce,st),Xe;if(et===null){for(;st<fe.length;st++)et=Oe(ce,fe[st],Ee),et!==null&&(se=N(et,se,st),pt===null?Xe=et:pt.sibling=et,pt=et);return Tt&&Al(ce,st),Xe}for(et=p(et);st<fe.length;st++)Bn=ve(et,ce,st,fe[st],Ee),Bn!==null&&(i&&Bn.alternate!==null&&et.delete(Bn.key===null?st:Bn.key),se=N(Bn,se,st),pt===null?Xe=Bn:pt.sibling=Bn,pt=Bn);return i&&et.forEach(function(Hi){return o(ce,Hi)}),Tt&&Al(ce,st),Xe}function at(ce,se,fe,Ee){if(fe==null)throw Error(r(151));for(var Xe=null,pt=null,et=se,st=se=0,Bn=null,kt=fe.next();et!==null&&!kt.done;st++,kt=fe.next()){et.index>st?(Bn=et,et=null):Bn=et.sibling;var Hi=ge(ce,et,kt.value,Ee);if(Hi===null){et===null&&(et=Bn);break}i&&et&&Hi.alternate===null&&o(ce,et),se=N(Hi,se,st),pt===null?Xe=Hi:pt.sibling=Hi,pt=Hi,et=Bn}if(kt.done)return u(ce,et),Tt&&Al(ce,st),Xe;if(et===null){for(;!kt.done;st++,kt=fe.next())kt=Oe(ce,kt.value,Ee),kt!==null&&(se=N(kt,se,st),pt===null?Xe=kt:pt.sibling=kt,pt=kt);return Tt&&Al(ce,st),Xe}for(et=p(et);!kt.done;st++,kt=fe.next())kt=ve(et,ce,st,kt.value,Ee),kt!==null&&(i&&kt.alternate!==null&&et.delete(kt.key===null?st:kt.key),se=N(kt,se,st),pt===null?Xe=kt:pt.sibling=kt,pt=kt);return i&&et.forEach(function(AL){return o(ce,AL)}),Tt&&Al(ce,st),Xe}function It(ce,se,fe,Ee){if(typeof fe=="object"&&fe!==null&&fe.type===w&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:e:{for(var Xe=fe.key;se!==null;){if(se.key===Xe){if(Xe=fe.type,Xe===w){if(se.tag===7){u(ce,se.sibling),Ee=v(se,fe.props.children),Ee.return=ce,ce=Ee;break e}}else if(se.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===O&&W4(Xe)===se.type){u(ce,se.sibling),Ee=v(se,fe.props),ed(Ee,fe),Ee.return=ce,ce=Ee;break e}u(ce,se);break}else o(ce,se);se=se.sibling}fe.type===w?(Ee=kl(fe.props.children,ce.mode,Ee,fe.key),Ee.return=ce,ce=Ee):(Ee=Nm(fe.type,fe.key,fe.props,null,ce.mode,Ee),ed(Ee,fe),Ee.return=ce,ce=Ee)}return M(ce);case y:e:{for(Xe=fe.key;se!==null;){if(se.key===Xe)if(se.tag===4&&se.stateNode.containerInfo===fe.containerInfo&&se.stateNode.implementation===fe.implementation){u(ce,se.sibling),Ee=v(se,fe.children||[]),Ee.return=ce,ce=Ee;break e}else{u(ce,se);break}else o(ce,se);se=se.sibling}Ee=rg(fe,ce.mode,Ee),Ee.return=ce,ce=Ee}return M(ce);case O:return Xe=fe._init,fe=Xe(fe._payload),It(ce,se,fe,Ee)}if(re(fe))return it(ce,se,fe,Ee);if(L(fe)){if(Xe=L(fe),typeof Xe!="function")throw Error(r(150));return fe=Xe.call(fe),at(ce,se,fe,Ee)}if(typeof fe.then=="function")return It(ce,se,Bm(fe),Ee);if(fe.$$typeof===C)return It(ce,se,Cm(ce,fe),Ee);Um(ce,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,se!==null&&se.tag===6?(u(ce,se.sibling),Ee=v(se,fe),Ee.return=ce,ce=Ee):(u(ce,se),Ee=ag(fe,ce.mode,Ee),Ee.return=ce,ce=Ee),M(ce)):u(ce,se)}return function(ce,se,fe,Ee){try{Ju=0;var Xe=It(ce,se,fe,Ee);return Wo=null,Xe}catch(et){if(et===Hu||et===Tm)throw et;var pt=Da(29,et,null,ce.mode);return pt.lanes=Ee,pt.return=ce,pt}finally{}}}var Xo=X4(!0),Z4=X4(!1),ur=$(null),es=null;function Ti(i){var o=i.alternate;W(En,En.current&1),W(ur,i),es===null&&(o===null||qo.current!==null||o.memoizedState!==null)&&(es=i)}function Q4(i){if(i.tag===22){if(W(En,En.current),W(ur,i),es===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(es=i)}}else Ei()}function Ei(){W(En,En.current),W(ur,ur.current)}function $s(i){z(ur),es===i&&(es=null),z(En)}var En=$(0);function Fm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||kb(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Lg(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:h({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ig={enqueueSetState:function(i,o,u){i=i._reactInternals;var p=Ia(),v=ki(p);v.payload=o,u!=null&&(v.callback=u),o=Ci(i,v,p),o!==null&&(za(o,i,p),Ku(o,i,p))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=Ia(),v=ki(p);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Ci(i,v,p),o!==null&&(za(o,i,p),Ku(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Ia(),p=ki(u);p.tag=2,o!=null&&(p.callback=o),o=Ci(i,p,u),o!==null&&(za(o,i,u),Ku(o,i,u))}};function J4(i,o,u,p,v,N,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,M):o.prototype&&o.prototype.isPureReactComponent?!$u(u,p)||!$u(v,N):!0}function e_(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&Ig.enqueueReplaceState(o,o.state,null)}function Rl(i,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(i=i.defaultProps){u===o&&(u=h({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}var Vm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function t_(i){Vm(i)}function n_(i){console.error(i)}function a_(i){Vm(i)}function Hm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function r_(i,o,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function zg(i,o,u){return u=ki(u),u.tag=3,u.payload={element:null},u.callback=function(){Hm(i,o)},u}function s_(i){return i=ki(i),i.tag=3,i}function i_(i,o,u,p){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var N=p.value;i.payload=function(){return v(N)},i.callback=function(){r_(o,u,p)}}var M=u.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){r_(o,u,p),typeof v!="function"&&($i===null?$i=new Set([this]):$i.add(this));var U=p.stack;this.componentDidCatch(p.value,{componentStack:U!==null?U:""})})}function A$(i,o,u,p,v){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Uu(o,u,v,!0),u=ur.current,u!==null){switch(u.tag){case 13:return es===null?cb():u.alternate===null&&un===0&&(un=3),u.flags&=-257,u.flags|=65536,u.lanes=v,p===hg?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),db(i,p,v)),!1;case 22:return u.flags|=65536,p===hg?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),db(i,p,v)),!1}throw Error(r(435,u.tag))}return db(i,p,v),cb(),!1}if(Tt)return o=ur.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==lg&&(i=Error(r(422),{cause:p}),Bu(ir(i,u)))):(p!==lg&&(o=Error(r(423),{cause:p}),Bu(ir(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,p=ir(p,u),v=zg(i.stateNode,p,v),gg(i,v),un!==4&&(un=2)),!1;var N=Error(r(520),{cause:p});if(N=ir(N,u),ld===null?ld=[N]:ld.push(N),un!==4&&(un=2),o===null)return!0;p=ir(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=zg(u.stateNode,p,i),gg(u,i),!1;case 1:if(o=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&($i===null||!$i.has(N))))return u.flags|=65536,v&=-v,u.lanes|=v,v=s_(v),i_(v,i,u,p),gg(u,v),!1}u=u.return}while(u!==null);return!1}var l_=Error(r(461)),In=!1;function Gn(i,o,u,p){o.child=i===null?Z4(o,null,u,p):Xo(o,i.child,u,p)}function o_(i,o,u,p,v){u=u.render;var N=o.ref;if("ref"in p){var M={};for(var U in p)U!=="ref"&&(M[U]=p[U])}else M=p;return Ol(o),p=jg(i,o,u,M,N,v),U=Ng(),i!==null&&!In?(Sg(i,o,v),Ls(i,o,v)):(Tt&&U&&sg(o),o.flags|=1,Gn(i,o,p,v),o.child)}function c_(i,o,u,p,v){if(i===null){var N=u.type;return typeof N=="function"&&!ng(N)&&N.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=N,u_(i,o,N,p,v)):(i=Nm(u.type,null,p,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Gg(i,v)){var M=N.memoizedProps;if(u=u.compare,u=u!==null?u:$u,u(M,p)&&i.ref===o.ref)return Ls(i,o,v)}return o.flags|=1,i=Es(N,p),i.ref=o.ref,i.return=o,o.child=i}function u_(i,o,u,p,v){if(i!==null){var N=i.memoizedProps;if($u(N,p)&&i.ref===o.ref)if(In=!1,o.pendingProps=p=N,Gg(i,v))(i.flags&131072)!==0&&(In=!0);else return o.lanes=i.lanes,Ls(i,o,v)}return Bg(i,o,u,p,v)}function d_(i,o,u){var p=o.pendingProps,v=p.children,N=i!==null?i.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=N!==null?N.baseLanes|u:u,i!==null){for(v=o.child=i.child,N=0;v!==null;)N=N|v.lanes|v.childLanes,v=v.sibling;o.childLanes=N&~p}else o.childLanes=0,o.child=null;return f_(i,o,p,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Am(o,N!==null?N.cachePool:null),N!==null?u4(o,N):vg(),Q4(o);else return o.lanes=o.childLanes=536870912,f_(i,o,N!==null?N.baseLanes|u:u,u)}else N!==null?(Am(o,N.cachePool),u4(o,N),Ei(),o.memoizedState=null):(i!==null&&Am(o,null),vg(),Ei());return Gn(i,o,v,u),o.child}function f_(i,o,u,p){var v=mg();return v=v===null?null:{parent:Tn._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},i!==null&&Am(o,null),vg(),Q4(o),i!==null&&Uu(i,o,p,!0),null}function qm(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Bg(i,o,u,p,v){return Ol(o),u=jg(i,o,u,p,void 0,v),p=Ng(),i!==null&&!In?(Sg(i,o,v),Ls(i,o,v)):(Tt&&p&&sg(o),o.flags|=1,Gn(i,o,u,v),o.child)}function m_(i,o,u,p,v,N){return Ol(o),o.updateQueue=null,u=f4(o,p,u,v),d4(i),p=Ng(),i!==null&&!In?(Sg(i,o,N),Ls(i,o,N)):(Tt&&p&&sg(o),o.flags|=1,Gn(i,o,u,N),o.child)}function h_(i,o,u,p,v){if(Ol(o),o.stateNode===null){var N=Bo,M=u.contextType;typeof M=="object"&&M!==null&&(N=na(M)),N=new u(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Ig,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},pg(o),M=u.contextType,N.context=typeof M=="object"&&M!==null?na(M):Bo,N.state=o.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(Lg(o,u,M,p),N.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(M=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),M!==N.state&&Ig.enqueueReplaceState(N,N.state,null),Yu(o,p,N,v),Gu(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var U=o.memoizedProps,ee=Rl(u,U);N.props=ee;var me=N.context,Te=u.contextType;M=Bo,typeof Te=="object"&&Te!==null&&(M=na(Te));var Oe=u.getDerivedStateFromProps;Te=typeof Oe=="function"||typeof N.getSnapshotBeforeUpdate=="function",U=o.pendingProps!==U,Te||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U||me!==M)&&e_(o,N,p,M),_i=!1;var ge=o.memoizedState;N.state=ge,Yu(o,p,N,v),Gu(),me=o.memoizedState,U||ge!==me||_i?(typeof Oe=="function"&&(Lg(o,u,Oe,p),me=o.memoizedState),(ee=_i||J4(o,u,ee,p,ge,me,M))?(Te||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=me),N.props=p,N.state=me,N.context=M,p=ee):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,xg(i,o),M=o.memoizedProps,Te=Rl(u,M),N.props=Te,Oe=o.pendingProps,ge=N.context,me=u.contextType,ee=Bo,typeof me=="object"&&me!==null&&(ee=na(me)),U=u.getDerivedStateFromProps,(me=typeof U=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(M!==Oe||ge!==ee)&&e_(o,N,p,ee),_i=!1,ge=o.memoizedState,N.state=ge,Yu(o,p,N,v),Gu();var ve=o.memoizedState;M!==Oe||ge!==ve||_i||i!==null&&i.dependencies!==null&&km(i.dependencies)?(typeof U=="function"&&(Lg(o,u,U,p),ve=o.memoizedState),(Te=_i||J4(o,u,Te,p,ge,ve,ee)||i!==null&&i.dependencies!==null&&km(i.dependencies))?(me||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,ve,ee),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,ve,ee)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||M===i.memoizedProps&&ge===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ge===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ve),N.props=p,N.state=ve,N.context=ee,p=Te):(typeof N.componentDidUpdate!="function"||M===i.memoizedProps&&ge===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ge===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,qm(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=Xo(o,i.child,null,v),o.child=Xo(o,null,u,v)):Gn(i,o,u,v),o.memoizedState=N.state,i=o.child):i=Ls(i,o,v),i}function p_(i,o,u,p){return zu(),o.flags|=256,Gn(i,o,u,p),o.child}var Ug={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fg(i){return{baseLanes:i,cachePool:n4()}}function Vg(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=dr),i}function x_(i,o,u){var p=o.pendingProps,v=!1,N=(o.flags&128)!==0,M;if((M=N)||(M=i!==null&&i.memoizedState===null?!1:(En.current&2)!==0),M&&(v=!0,o.flags&=-129),M=(o.flags&32)!==0,o.flags&=-33,i===null){if(Tt){if(v?Ti(o):Ei(),Tt){var U=cn,ee;if(ee=U){e:{for(ee=U,U=Jr;ee.nodeType!==8;){if(!U){U=null;break e}if(ee=Mr(ee.nextSibling),ee===null){U=null;break e}}U=ee}U!==null?(o.memoizedState={dehydrated:U,treeContext:Cl!==null?{id:Ps,overflow:Os}:null,retryLane:536870912,hydrationErrors:null},ee=Da(18,null,null,0),ee.stateNode=U,ee.return=o,o.child=ee,da=o,cn=null,ee=!0):ee=!1}ee||El(o)}if(U=o.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return kb(U)?o.lanes=32:o.lanes=536870912,null;$s(o)}return U=p.children,p=p.fallback,v?(Ei(),v=o.mode,U=Km({mode:"hidden",children:U},v),p=kl(p,v,u,null),U.return=o,p.return=o,U.sibling=p,o.child=U,v=o.child,v.memoizedState=Fg(u),v.childLanes=Vg(i,M,u),o.memoizedState=Ug,p):(Ti(o),Hg(o,U))}if(ee=i.memoizedState,ee!==null&&(U=ee.dehydrated,U!==null)){if(N)o.flags&256?(Ti(o),o.flags&=-257,o=qg(i,o,u)):o.memoizedState!==null?(Ei(),o.child=i.child,o.flags|=128,o=null):(Ei(),v=p.fallback,U=o.mode,p=Km({mode:"visible",children:p.children},U),v=kl(v,U,u,null),v.flags|=2,p.return=o,v.return=o,p.sibling=v,o.child=p,Xo(o,i.child,null,u),p=o.child,p.memoizedState=Fg(u),p.childLanes=Vg(i,M,u),o.memoizedState=Ug,o=v);else if(Ti(o),kb(U)){if(M=U.nextSibling&&U.nextSibling.dataset,M)var me=M.dgst;M=me,p=Error(r(419)),p.stack="",p.digest=M,Bu({value:p,source:null,stack:null}),o=qg(i,o,u)}else if(In||Uu(i,o,u,!1),M=(u&i.childLanes)!==0,In||M){if(M=Ht,M!==null&&(p=u&-u,p=(p&42)!==0?1:ot(p),p=(p&(M.suspendedLanes|u))!==0?0:p,p!==0&&p!==ee.retryLane))throw ee.retryLane=p,zo(i,p),za(M,i,p),l_;U.data==="$?"||cb(),o=qg(i,o,u)}else U.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=ee.treeContext,cn=Mr(U.nextSibling),da=o,Tt=!0,Tl=null,Jr=!1,i!==null&&(or[cr++]=Ps,or[cr++]=Os,or[cr++]=Cl,Ps=i.id,Os=i.overflow,Cl=o),o=Hg(o,p.children),o.flags|=4096);return o}return v?(Ei(),v=p.fallback,U=o.mode,ee=i.child,me=ee.sibling,p=Es(ee,{mode:"hidden",children:p.children}),p.subtreeFlags=ee.subtreeFlags&65011712,me!==null?v=Es(me,v):(v=kl(v,U,u,null),v.flags|=2),v.return=o,p.return=o,p.sibling=v,o.child=p,p=v,v=o.child,U=i.child.memoizedState,U===null?U=Fg(u):(ee=U.cachePool,ee!==null?(me=Tn._currentValue,ee=ee.parent!==me?{parent:me,pool:me}:ee):ee=n4(),U={baseLanes:U.baseLanes|u,cachePool:ee}),v.memoizedState=U,v.childLanes=Vg(i,M,u),o.memoizedState=Ug,p):(Ti(o),u=i.child,i=u.sibling,u=Es(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,i!==null&&(M=o.deletions,M===null?(o.deletions=[i],o.flags|=16):M.push(i)),o.child=u,o.memoizedState=null,u)}function Hg(i,o){return o=Km({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Km(i,o){return i=Da(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function qg(i,o,u){return Xo(o,i.child,null,u),i=Hg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function g_(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),cg(i.return,o,u)}function Kg(i,o,u,p,v){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=v)}function b_(i,o,u){var p=o.pendingProps,v=p.revealOrder,N=p.tail;if(Gn(i,o,p.children,u),p=En.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&g_(i,u,o);else if(i.tag===19)g_(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(W(En,p),v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&Fm(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Kg(o,!1,v,u,N);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Fm(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Kg(o,!0,u,null,N);break;case"together":Kg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ls(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ri|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Uu(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=Es(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Es(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Gg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&km(i)))}function T$(i,o,u){switch(o.tag){case 3:ae(o,o.stateNode.containerInfo),Si(o,Tn,i.memoizedState.cache),zu();break;case 27:case 5:Ce(o);break;case 4:ae(o,o.stateNode.containerInfo);break;case 10:Si(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Ti(o),o.flags|=128,null):(u&o.child.childLanes)!==0?x_(i,o,u):(Ti(o),i=Ls(i,o,u),i!==null?i.sibling:null);Ti(o);break;case 19:var v=(i.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Uu(i,o,u,!1),p=(u&o.childLanes)!==0),v){if(p)return b_(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),W(En,En.current),p)break;return null;case 22:case 23:return o.lanes=0,d_(i,o,u);case 24:Si(o,Tn,i.memoizedState.cache)}return Ls(i,o,u)}function v_(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)In=!0;else{if(!Gg(i,u)&&(o.flags&128)===0)return In=!1,T$(i,o,u);In=(i.flags&131072)!==0}else In=!1,Tt&&(o.flags&1048576)!==0&&WS(o,_m,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var p=o.elementType,v=p._init;if(p=v(p._payload),o.type=p,typeof p=="function")ng(p)?(i=Rl(p,i),o.tag=1,o=h_(null,o,p,i,u)):(o.tag=0,o=Bg(null,o,p,i,u));else{if(p!=null){if(v=p.$$typeof,v===P){o.tag=11,o=o_(null,o,p,i,u);break e}else if(v===R){o.tag=14,o=c_(null,o,p,i,u);break e}}throw o=Ne(p)||p,Error(r(306,o,""))}}return o;case 0:return Bg(i,o,o.type,o.pendingProps,u);case 1:return p=o.type,v=Rl(p,o.pendingProps),h_(i,o,p,v,u);case 3:e:{if(ae(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var N=o.memoizedState;v=N.element,xg(i,o),Yu(o,p,null,u);var M=o.memoizedState;if(p=M.cache,Si(o,Tn,p),p!==N.cache&&ug(o,[Tn],u,!0),Gu(),p=M.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:M.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=p_(i,o,p,u);break e}else if(p!==v){v=ir(Error(r(424)),o),Bu(v),o=p_(i,o,p,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(cn=Mr(i.firstChild),da=o,Tt=!0,Tl=null,Jr=!0,u=Z4(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(zu(),p===v){o=Ls(i,o,u);break e}Gn(i,o,p,u)}o=o.child}return o;case 26:return qm(i,o),i===null?(u=N5(o.type,null,o.pendingProps,null))?o.memoizedState=u:Tt||(u=o.type,i=o.pendingProps,p=ih(Q.current).createElement(u),p[At]=o,p[sn]=i,Wn(p,u,i),ue(p),o.stateNode=p):o.memoizedState=N5(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ce(o),i===null&&Tt&&(p=o.stateNode=y5(o.type,o.pendingProps,Q.current),da=o,Jr=!0,v=cn,zi(o.type)?(Cb=v,cn=Mr(p.firstChild)):cn=v),Gn(i,o,o.pendingProps.children,u),qm(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Tt&&((v=p=cn)&&(p=aL(p,o.type,o.pendingProps,Jr),p!==null?(o.stateNode=p,da=o,cn=Mr(p.firstChild),Jr=!1,v=!0):v=!1),v||El(o)),Ce(o),v=o.type,N=o.pendingProps,M=i!==null?i.memoizedProps:null,p=N.children,Nb(v,N)?p=null:M!==null&&Nb(v,M)&&(o.flags|=32),o.memoizedState!==null&&(v=jg(i,o,w$,null,null,u),xd._currentValue=v),qm(i,o),Gn(i,o,p,u),o.child;case 6:return i===null&&Tt&&((i=u=cn)&&(u=rL(u,o.pendingProps,Jr),u!==null?(o.stateNode=u,da=o,cn=null,i=!0):i=!1),i||El(o)),null;case 13:return x_(i,o,u);case 4:return ae(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Xo(o,null,p,u):Gn(i,o,p,u),o.child;case 11:return o_(i,o,o.type,o.pendingProps,u);case 7:return Gn(i,o,o.pendingProps,u),o.child;case 8:return Gn(i,o,o.pendingProps.children,u),o.child;case 12:return Gn(i,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,Si(o,o.type,p.value),Gn(i,o,p.children,u),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,Ol(o),v=na(v),p=p(v),o.flags|=1,Gn(i,o,p,u),o.child;case 14:return c_(i,o,o.type,o.pendingProps,u);case 15:return u_(i,o,o.type,o.pendingProps,u);case 19:return b_(i,o,u);case 31:return p=o.pendingProps,u=o.mode,p={mode:p.mode,children:p.children},i===null?(u=Km(p,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Es(i.child,p),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return d_(i,o,u);case 24:return Ol(o),p=na(Tn),i===null?(v=mg(),v===null&&(v=Ht,N=dg(),v.pooledCache=N,N.refCount++,N!==null&&(v.pooledCacheLanes|=u),v=N),o.memoizedState={parent:p,cache:v},pg(o),Si(o,Tn,v)):((i.lanes&u)!==0&&(xg(i,o),Yu(o,null,null,u),Gu()),v=i.memoizedState,N=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Si(o,Tn,p)):(p=N.cache,Si(o,Tn,p),p!==v.cache&&ug(o,[Tn],u,!0))),Gn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Is(i){i.flags|=4}function y_(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!A5(o)){if(o=ur.current,o!==null&&((jt&4194048)===jt?es!==null:(jt&62914560)!==jt&&(jt&536870912)===0||o!==es))throw qu=hg,a4;i.flags|=8192}}function Gm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Z():536870912,i.lanes|=o,ec|=o)}function td(i,o){if(!Tt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function ln(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function E$(i,o,u){var p=o.pendingProps;switch(ig(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(o),null;case 1:return ln(o),null;case 3:return u=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Ds(Tn),be(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Iu(o)?Is(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,QS())),ln(o),null;case 26:return u=o.memoizedState,i===null?(Is(o),u!==null?(ln(o),y_(o,u)):(ln(o),o.flags&=-16777217)):u?u!==i.memoizedState?(Is(o),ln(o),y_(o,u)):(ln(o),o.flags&=-16777217):(i.memoizedProps!==p&&Is(o),ln(o),o.flags&=-16777217),null;case 27:ke(o),u=Q.current;var v=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Is(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return ln(o),null}i=de.current,Iu(o)?XS(o):(i=y5(v,p,u),o.stateNode=i,Is(o))}return ln(o),null;case 5:if(ke(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Is(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return ln(o),null}if(i=de.current,Iu(o))XS(o);else{switch(v=ih(Q.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?v.createElement("select",{is:p.is}):v.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?v.createElement(u,{is:p.is}):v.createElement(u)}}i[At]=o,i[sn]=p;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=i;e:switch(Wn(i,u,p),u){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Is(o)}}return ln(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Is(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=Q.current,Iu(o)){if(i=o.stateNode,u=o.memoizedProps,p=null,v=da,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}i[At]=o,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||m5(i.nodeValue,u)),i||El(o)}else i=ih(i).createTextNode(p),i[At]=o,o.stateNode=i}return ln(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Iu(o),p!==null&&p.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[At]=o}else zu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ln(o),v=!1}else v=QS(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?($s(o),o):($s(o),null)}if($s(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=p!==null,i=i!==null&&i.memoizedState!==null,u){p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==v&&(p.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),Gm(o,o.updateQueue),ln(o),null;case 4:return be(),i===null&&bb(o.stateNode.containerInfo),ln(o),null;case 10:return Ds(o.type),ln(o),null;case 19:if(z(En),v=o.memoizedState,v===null)return ln(o),null;if(p=(o.flags&128)!==0,N=v.rendering,N===null)if(p)td(v,!1);else{if(un!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=Fm(i),N!==null){for(o.flags|=128,td(v,!1),i=N.updateQueue,o.updateQueue=i,Gm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)YS(u,i),u=u.sibling;return W(En,En.current&1|2),o.child}i=i.sibling}v.tail!==null&&ie()>Xm&&(o.flags|=128,p=!0,td(v,!1),o.lanes=4194304)}else{if(!p)if(i=Fm(N),i!==null){if(o.flags|=128,p=!0,i=i.updateQueue,o.updateQueue=i,Gm(o,i),td(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Tt)return ln(o),null}else 2*ie()-v.renderingStartTime>Xm&&u!==536870912&&(o.flags|=128,p=!0,td(v,!1),o.lanes=4194304);v.isBackwards?(N.sibling=o.child,o.child=N):(i=v.last,i!==null?i.sibling=N:o.child=N,v.last=N)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ie(),o.sibling=null,i=En.current,W(En,p?i&1|2:i&1),o):(ln(o),null);case 22:case 23:return $s(o),yg(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(ln(o),o.subtreeFlags&6&&(o.flags|=8192)):ln(o),u=o.updateQueue,u!==null&&Gm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),i!==null&&z(Ml),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ds(Tn),ln(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function P$(i,o){switch(ig(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ds(Tn),be(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return ke(o),null;case 13:if($s(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));zu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return z(En),null;case 4:return be(),null;case 10:return Ds(o.type),null;case 22:case 23:return $s(o),yg(),i!==null&&z(Ml),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ds(Tn),null;case 25:return null;default:return null}}function w_(i,o){switch(ig(o),o.tag){case 3:Ds(Tn),be();break;case 26:case 27:case 5:ke(o);break;case 4:be();break;case 13:$s(o);break;case 19:z(En);break;case 10:Ds(o.type);break;case 22:case 23:$s(o),yg(),i!==null&&z(Ml);break;case 24:Ds(Tn)}}function nd(i,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&i)===i){p=void 0;var N=u.create,M=u.inst;p=N(),M.destroy=p}u=u.next}while(u!==v)}}catch(U){Ut(o,o.return,U)}}function Pi(i,o,u){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var N=v.next;p=N;do{if((p.tag&i)===i){var M=p.inst,U=M.destroy;if(U!==void 0){M.destroy=void 0,v=o;var ee=u,me=U;try{me()}catch(Te){Ut(v,ee,Te)}}}p=p.next}while(p!==N)}}catch(Te){Ut(o,o.return,Te)}}function j_(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{c4(o,u)}catch(p){Ut(i,i.return,p)}}}function N_(i,o,u){u.props=Rl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){Ut(i,o,p)}}function ad(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(v){Ut(i,o,v)}}function ts(i,o){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(v){Ut(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Ut(i,o,v)}else u.current=null}function S_(i){var o=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(v){Ut(i,i.return,v)}}function Yg(i,o,u){try{var p=i.stateNode;Q$(p,i.type,u,o),p[sn]=o}catch(v){Ut(i,i.return,v)}}function __(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zi(i.type)||i.tag===4}function Wg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||__(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xg(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=sh));else if(p!==4&&(p===27&&zi(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(Xg(i,o,u),i=i.sibling;i!==null;)Xg(i,o,u),i=i.sibling}function Ym(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(p===27&&zi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Ym(i,o,u),i=i.sibling;i!==null;)Ym(i,o,u),i=i.sibling}function k_(i){var o=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Wn(o,p,u),o[At]=i,o[sn]=u}catch(N){Ut(i,i.return,N)}}var zs=!1,xn=!1,Zg=!1,C_=typeof WeakSet=="function"?WeakSet:Set,zn=null;function O$(i,o){if(i=i.containerInfo,wb=fh,i=IS(i),Wx(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var M=0,U=-1,ee=-1,me=0,Te=0,Oe=i,ge=null;t:for(;;){for(var ve;Oe!==u||v!==0&&Oe.nodeType!==3||(U=M+v),Oe!==N||p!==0&&Oe.nodeType!==3||(ee=M+p),Oe.nodeType===3&&(M+=Oe.nodeValue.length),(ve=Oe.firstChild)!==null;)ge=Oe,Oe=ve;for(;;){if(Oe===i)break t;if(ge===u&&++me===v&&(U=M),ge===N&&++Te===p&&(ee=M),(ve=Oe.nextSibling)!==null)break;Oe=ge,ge=Oe.parentNode}Oe=ve}u=U===-1||ee===-1?null:{start:U,end:ee}}else u=null}u=u||{start:0,end:0}}else u=null;for(jb={focusedElem:i,selectionRange:u},fh=!1,zn=o;zn!==null;)if(o=zn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,zn=i;else for(;zn!==null;){switch(o=zn,N=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,u=o,v=N.memoizedProps,N=N.memoizedState,p=u.stateNode;try{var it=Rl(u.type,v,u.elementType===u.type);i=p.getSnapshotBeforeUpdate(it,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(at){Ut(u,u.return,at)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)_b(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":_b(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,zn=i;break}zn=o.return}}function A_(i,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Oi(i,u),p&4&&nd(5,u);break;case 1:if(Oi(i,u),p&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(M){Ut(u,u.return,M)}else{var v=Rl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(M){Ut(u,u.return,M)}}p&64&&j_(u),p&512&&ad(u,u.return);break;case 3:if(Oi(i,u),p&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{c4(i,o)}catch(M){Ut(u,u.return,M)}}break;case 27:o===null&&p&4&&k_(u);case 26:case 5:Oi(i,u),o===null&&p&4&&S_(u),p&512&&ad(u,u.return);break;case 12:Oi(i,u);break;case 13:Oi(i,u),p&4&&P_(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=U$.bind(null,u),sL(i,u))));break;case 22:if(p=u.memoizedState!==null||zs,!p){o=o!==null&&o.memoizedState!==null||xn,v=zs;var N=xn;zs=p,(xn=o)&&!N?Mi(i,u,(u.subtreeFlags&8772)!==0):Oi(i,u),zs=v,xn=N}break;case 30:break;default:Oi(i,u)}}function T_(i){var o=i.alternate;o!==null&&(i.alternate=null,T_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&To(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,ja=!1;function Bs(i,o,u){for(u=u.child;u!==null;)E_(i,o,u),u=u.sibling}function E_(i,o,u){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount($e,u)}catch{}switch(u.tag){case 26:xn||ts(u,o),Bs(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:xn||ts(u,o);var p=Jt,v=ja;zi(u.type)&&(Jt=u.stateNode,ja=!1),Bs(i,o,u),fd(u.stateNode),Jt=p,ja=v;break;case 5:xn||ts(u,o);case 6:if(p=Jt,v=ja,Jt=null,Bs(i,o,u),Jt=p,ja=v,Jt!==null)if(ja)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(u.stateNode)}catch(N){Ut(u,o,N)}else try{Jt.removeChild(u.stateNode)}catch(N){Ut(u,o,N)}break;case 18:Jt!==null&&(ja?(i=Jt,b5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),yd(i)):b5(Jt,u.stateNode));break;case 4:p=Jt,v=ja,Jt=u.stateNode.containerInfo,ja=!0,Bs(i,o,u),Jt=p,ja=v;break;case 0:case 11:case 14:case 15:xn||Pi(2,u,o),xn||Pi(4,u,o),Bs(i,o,u);break;case 1:xn||(ts(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&N_(u,o,p)),Bs(i,o,u);break;case 21:Bs(i,o,u);break;case 22:xn=(p=xn)||u.memoizedState!==null,Bs(i,o,u),xn=p;break;default:Bs(i,o,u)}}function P_(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{yd(i)}catch(u){Ut(o,o.return,u)}}function M$(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new C_),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new C_),o;default:throw Error(r(435,i.tag))}}function Qg(i,o){var u=M$(i);o.forEach(function(p){var v=F$.bind(null,i,p);u.has(p)||(u.add(p),p.then(v,v))})}function Ra(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p],N=i,M=o,U=M;e:for(;U!==null;){switch(U.tag){case 27:if(zi(U.type)){Jt=U.stateNode,ja=!1;break e}break;case 5:Jt=U.stateNode,ja=!1;break e;case 3:case 4:Jt=U.stateNode.containerInfo,ja=!0;break e}U=U.return}if(Jt===null)throw Error(r(160));E_(N,M,v),Jt=null,ja=!1,N=v.alternate,N!==null&&(N.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)O_(o,i),o=o.sibling}var Or=null;function O_(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ra(o,i),$a(i),p&4&&(Pi(3,i,i.return),nd(3,i),Pi(5,i,i.return));break;case 1:Ra(o,i),$a(i),p&512&&(xn||u===null||ts(u,u.return)),p&64&&zs&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var v=Or;if(Ra(o,i),$a(i),p&512&&(xn||u===null||ts(u,u.return)),p&4){var N=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":N=v.getElementsByTagName("title")[0],(!N||N[wi]||N[At]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=v.createElement(p),v.head.insertBefore(N,v.querySelector("head > title"))),Wn(N,p,u),N[At]=i,ue(N),p=N;break e;case"link":var M=k5("link","href",v).get(p+(u.href||""));if(M){for(var U=0;U<M.length;U++)if(N=M[U],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){M.splice(U,1);break t}}N=v.createElement(p),Wn(N,p,u),v.head.appendChild(N);break;case"meta":if(M=k5("meta","content",v).get(p+(u.content||""))){for(U=0;U<M.length;U++)if(N=M[U],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){M.splice(U,1);break t}}N=v.createElement(p),Wn(N,p,u),v.head.appendChild(N);break;default:throw Error(r(468,p))}N[At]=i,ue(N),p=N}i.stateNode=p}else C5(v,i.type,i.stateNode);else i.stateNode=_5(v,p,i.memoizedProps);else N!==p?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,p===null?C5(v,i.type,i.stateNode):_5(v,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Yg(i,i.memoizedProps,u.memoizedProps)}break;case 27:Ra(o,i),$a(i),p&512&&(xn||u===null||ts(u,u.return)),u!==null&&p&4&&Yg(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Ra(o,i),$a(i),p&512&&(xn||u===null||ts(u,u.return)),i.flags&32){v=i.stateNode;try{Oo(v,"")}catch(ve){Ut(i,i.return,ve)}}p&4&&i.stateNode!=null&&(v=i.memoizedProps,Yg(i,v,u!==null?u.memoizedProps:v)),p&1024&&(Zg=!0);break;case 6:if(Ra(o,i),$a(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(ve){Ut(i,i.return,ve)}}break;case 3:if(ch=null,v=Or,Or=lh(o.containerInfo),Ra(o,i),Or=v,$a(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{yd(o.containerInfo)}catch(ve){Ut(i,i.return,ve)}Zg&&(Zg=!1,M_(i));break;case 4:p=Or,Or=lh(i.stateNode.containerInfo),Ra(o,i),$a(i),Or=p;break;case 12:Ra(o,i),$a(i);break;case 13:Ra(o,i),$a(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(rb=ie()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Qg(i,p)));break;case 22:v=i.memoizedState!==null;var ee=u!==null&&u.memoizedState!==null,me=zs,Te=xn;if(zs=me||v,xn=Te||ee,Ra(o,i),xn=Te,zs=me,$a(i),p&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||ee||zs||xn||$l(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){ee=u=o;try{if(N=ee.stateNode,v)M=N.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{U=ee.stateNode;var Oe=ee.memoizedProps.style,ge=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;U.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(ve){Ut(ee,ee.return,ve)}}}else if(o.tag===6){if(u===null){ee=o;try{ee.stateNode.nodeValue=v?"":ee.memoizedProps}catch(ve){Ut(ee,ee.return,ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Qg(i,u))));break;case 19:Ra(o,i),$a(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Qg(i,p)));break;case 30:break;case 21:break;default:Ra(o,i),$a(i)}}function $a(i){var o=i.flags;if(o&2){try{for(var u,p=i.return;p!==null;){if(__(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,N=Wg(i);Ym(i,N,v);break;case 5:var M=u.stateNode;u.flags&32&&(Oo(M,""),u.flags&=-33);var U=Wg(i);Ym(i,U,M);break;case 3:case 4:var ee=u.stateNode.containerInfo,me=Wg(i);Xg(i,me,ee);break;default:throw Error(r(161))}}catch(Te){Ut(i,i.return,Te)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function M_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;M_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Oi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)A_(i,o.alternate,o),o=o.sibling}function $l(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Pi(4,o,o.return),$l(o);break;case 1:ts(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&N_(o,o.return,u),$l(o);break;case 27:fd(o.stateNode);case 26:case 5:ts(o,o.return),$l(o);break;case 22:o.memoizedState===null&&$l(o);break;case 30:$l(o);break;default:$l(o)}i=i.sibling}}function Mi(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=i,N=o,M=N.flags;switch(N.tag){case 0:case 11:case 15:Mi(v,N,u),nd(4,N);break;case 1:if(Mi(v,N,u),p=N,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(me){Ut(p,p.return,me)}if(p=N,v=p.updateQueue,v!==null){var U=p.stateNode;try{var ee=v.shared.hiddenCallbacks;if(ee!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ee.length;v++)o4(ee[v],U)}catch(me){Ut(p,p.return,me)}}u&&M&64&&j_(N),ad(N,N.return);break;case 27:k_(N);case 26:case 5:Mi(v,N,u),u&&p===null&&M&4&&S_(N),ad(N,N.return);break;case 12:Mi(v,N,u);break;case 13:Mi(v,N,u),u&&M&4&&P_(v,N);break;case 22:N.memoizedState===null&&Mi(v,N,u),ad(N,N.return);break;case 30:break;default:Mi(v,N,u)}o=o.sibling}}function Jg(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Fu(u))}function eb(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Fu(i))}function ns(i,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)D_(i,o,u,p),o=o.sibling}function D_(i,o,u,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ns(i,o,u,p),v&2048&&nd(9,o);break;case 1:ns(i,o,u,p);break;case 3:ns(i,o,u,p),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Fu(i)));break;case 12:if(v&2048){ns(i,o,u,p),i=o.stateNode;try{var N=o.memoizedProps,M=N.id,U=N.onPostCommit;typeof U=="function"&&U(M,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ee){Ut(o,o.return,ee)}}else ns(i,o,u,p);break;case 13:ns(i,o,u,p);break;case 23:break;case 22:N=o.stateNode,M=o.alternate,o.memoizedState!==null?N._visibility&2?ns(i,o,u,p):rd(i,o):N._visibility&2?ns(i,o,u,p):(N._visibility|=2,Zo(i,o,u,p,(o.subtreeFlags&10256)!==0)),v&2048&&Jg(M,o);break;case 24:ns(i,o,u,p),v&2048&&eb(o.alternate,o);break;default:ns(i,o,u,p)}}function Zo(i,o,u,p,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=i,M=o,U=u,ee=p,me=M.flags;switch(M.tag){case 0:case 11:case 15:Zo(N,M,U,ee,v),nd(8,M);break;case 23:break;case 22:var Te=M.stateNode;M.memoizedState!==null?Te._visibility&2?Zo(N,M,U,ee,v):rd(N,M):(Te._visibility|=2,Zo(N,M,U,ee,v)),v&&me&2048&&Jg(M.alternate,M);break;case 24:Zo(N,M,U,ee,v),v&&me&2048&&eb(M.alternate,M);break;default:Zo(N,M,U,ee,v)}o=o.sibling}}function rd(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,p=o,v=p.flags;switch(p.tag){case 22:rd(u,p),v&2048&&Jg(p.alternate,p);break;case 24:rd(u,p),v&2048&&eb(p.alternate,p);break;default:rd(u,p)}o=o.sibling}}var sd=8192;function Qo(i){if(i.subtreeFlags&sd)for(i=i.child;i!==null;)R_(i),i=i.sibling}function R_(i){switch(i.tag){case 26:Qo(i),i.flags&sd&&i.memoizedState!==null&&bL(Or,i.memoizedState,i.memoizedProps);break;case 5:Qo(i);break;case 3:case 4:var o=Or;Or=lh(i.stateNode.containerInfo),Qo(i),Or=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=sd,sd=16777216,Qo(i),sd=o):Qo(i));break;default:Qo(i)}}function $_(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function id(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];zn=p,I_(p,i)}$_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)L_(i),i=i.sibling}function L_(i){switch(i.tag){case 0:case 11:case 15:id(i),i.flags&2048&&Pi(9,i,i.return);break;case 3:id(i);break;case 12:id(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Wm(i)):id(i);break;default:id(i)}}function Wm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];zn=p,I_(p,i)}$_(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Pi(8,o,o.return),Wm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Wm(o));break;default:Wm(o)}i=i.sibling}}function I_(i,o){for(;zn!==null;){var u=zn;switch(u.tag){case 0:case 11:case 15:Pi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Fu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,zn=p;else e:for(u=i;zn!==null;){p=zn;var v=p.sibling,N=p.return;if(T_(p),p===u){zn=null;break e}if(v!==null){v.return=N,zn=v;break e}zn=N}}}var D$={getCacheForType:function(i){var o=na(Tn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},R$=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Ht=null,gt=null,jt=0,Mt=0,La=null,Di=!1,Jo=!1,tb=!1,Us=0,un=0,Ri=0,Ll=0,nb=0,dr=0,ec=0,ld=null,Na=null,ab=!1,rb=0,Xm=1/0,Zm=null,$i=null,Yn=0,Li=null,tc=null,nc=0,sb=0,ib=null,z_=null,od=0,lb=null;function Ia(){if((Ot&2)!==0&&jt!==0)return jt&-jt;if(D.T!==null){var i=Vo;return i!==0?i:hb()}return Rt()}function B_(){dr===0&&(dr=(jt&536870912)===0||Tt?oe():536870912);var i=ur.current;return i!==null&&(i.flags|=32),dr}function za(i,o,u){(i===Ht&&(Mt===2||Mt===9)||i.cancelPendingCommit!==null)&&(ac(i,0),Ii(i,jt,dr,!1)),le(i,u),((Ot&2)===0||i!==Ht)&&(i===Ht&&((Ot&2)===0&&(Ll|=u),un===4&&Ii(i,jt,dr,!1)),as(i))}function U_(i,o,u){if((Ot&6)!==0)throw Error(r(327));var p=!u&&(o&124)===0&&(o&i.expiredLanes)===0||_e(i,o),v=p?I$(i,o):ub(i,o,!0),N=p;do{if(v===0){Jo&&!p&&Ii(i,o,0,!1);break}else{if(u=i.current.alternate,N&&!$$(u)){v=ub(i,o,!1),N=!1;continue}if(v===2){if(N=o,i.errorRecoveryDisabledLanes&N)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){o=M;e:{var U=i;v=ld;var ee=U.current.memoizedState.isDehydrated;if(ee&&(ac(U,M).flags|=256),M=ub(U,M,!1),M!==2){if(tb&&!ee){U.errorRecoveryDisabledLanes|=N,Ll|=N,v=4;break e}N=Na,Na=v,N!==null&&(Na===null?Na=N:Na.push.apply(Na,N))}v=M}if(N=!1,v!==2)continue}}if(v===1){ac(i,0),Ii(i,o,0,!0);break}e:{switch(p=i,N=v,N){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ii(p,o,dr,!Di);break e;case 2:Na=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=rb+300-ie(),10<v)){if(Ii(p,o,dr,!Di),X(p,0,!0)!==0)break e;p.timeoutHandle=x5(F_.bind(null,p,u,Na,Zm,ab,o,dr,Ll,ec,Di,N,2,-0,0),v);break e}F_(p,u,Na,Zm,ab,o,dr,Ll,ec,Di,N,0,-0,0)}}break}while(!0);as(i)}function F_(i,o,u,p,v,N,M,U,ee,me,Te,Oe,ge,ve){if(i.timeoutHandle=-1,Oe=o.subtreeFlags,(Oe&8192||(Oe&16785408)===16785408)&&(pd={stylesheets:null,count:0,unsuspend:gL},R_(o),Oe=vL(),Oe!==null)){i.cancelPendingCommit=Oe(W_.bind(null,i,o,N,u,p,v,M,U,ee,Te,1,ge,ve)),Ii(i,N,M,!me);return}W_(i,o,N,u,p,v,M,U,ee)}function $$(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var v=u[p],N=v.getSnapshot;v=v.value;try{if(!Ma(N(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ii(i,o,u,p){o&=~nb,o&=~Ll,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var v=o;0<v;){var N=31-Be(v),M=1<<N;p[N]=-1,v&=~M}u!==0&&rt(i,u,o)}function Qm(){return(Ot&6)===0?(cd(0),!1):!0}function ob(){if(gt!==null){if(Mt===0)var i=gt.return;else i=gt,Ms=Pl=null,_g(i),Wo=null,Ju=0,i=gt;for(;i!==null;)w_(i.alternate,i),i=i.return;gt=null}}function ac(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,eL(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ob(),Ht=i,gt=u=Es(i.current,null),jt=o,Mt=0,La=null,Di=!1,Jo=_e(i,o),tb=!1,ec=dr=nb=Ll=Ri=un=0,Na=ld=null,ab=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var v=31-Be(p),N=1<<v;o|=i[v],p&=~N}return Us=o,ym(),u}function V_(i,o){mt=null,D.H=zm,o===Hu||o===Tm?(o=i4(),Mt=3):o===a4?(o=i4(),Mt=4):Mt=o===l_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,La=o,gt===null&&(un=1,Hm(i,ir(o,i.current)))}function H_(){var i=D.H;return D.H=zm,i===null?zm:i}function q_(){var i=D.A;return D.A=D$,i}function cb(){un=4,Di||(jt&4194048)!==jt&&ur.current!==null||(Jo=!0),(Ri&134217727)===0&&(Ll&134217727)===0||Ht===null||Ii(Ht,jt,dr,!1)}function ub(i,o,u){var p=Ot;Ot|=2;var v=H_(),N=q_();(Ht!==i||jt!==o)&&(Zm=null,ac(i,o)),o=!1;var M=un;e:do try{if(Mt!==0&&gt!==null){var U=gt,ee=La;switch(Mt){case 8:ob(),M=6;break e;case 3:case 2:case 9:case 6:ur.current===null&&(o=!0);var me=Mt;if(Mt=0,La=null,rc(i,U,ee,me),u&&Jo){M=0;break e}break;default:me=Mt,Mt=0,La=null,rc(i,U,ee,me)}}L$(),M=un;break}catch(Te){V_(i,Te)}while(!0);return o&&i.shellSuspendCounter++,Ms=Pl=null,Ot=p,D.H=v,D.A=N,gt===null&&(Ht=null,jt=0,ym()),M}function L$(){for(;gt!==null;)K_(gt)}function I$(i,o){var u=Ot;Ot|=2;var p=H_(),v=q_();Ht!==i||jt!==o?(Zm=null,Xm=ie()+500,ac(i,o)):Jo=_e(i,o);e:do try{if(Mt!==0&&gt!==null){o=gt;var N=La;t:switch(Mt){case 1:Mt=0,La=null,rc(i,o,N,1);break;case 2:case 9:if(r4(N)){Mt=0,La=null,G_(o);break}o=function(){Mt!==2&&Mt!==9||Ht!==i||(Mt=7),as(i)},N.then(o,o);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:r4(N)?(Mt=0,La=null,G_(o)):(Mt=0,La=null,rc(i,o,N,7));break;case 5:var M=null;switch(gt.tag){case 26:M=gt.memoizedState;case 5:case 27:var U=gt;if(!M||A5(M)){Mt=0,La=null;var ee=U.sibling;if(ee!==null)gt=ee;else{var me=U.return;me!==null?(gt=me,Jm(me)):gt=null}break t}}Mt=0,La=null,rc(i,o,N,5);break;case 6:Mt=0,La=null,rc(i,o,N,6);break;case 8:ob(),un=6;break e;default:throw Error(r(462))}}z$();break}catch(Te){V_(i,Te)}while(!0);return Ms=Pl=null,D.H=p,D.A=v,Ot=u,gt!==null?0:(Ht=null,jt=0,ym(),un)}function z$(){for(;gt!==null&&!we();)K_(gt)}function K_(i){var o=v_(i.alternate,i,Us);i.memoizedProps=i.pendingProps,o===null?Jm(i):gt=o}function G_(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=m_(u,o,o.pendingProps,o.type,void 0,jt);break;case 11:o=m_(u,o,o.pendingProps,o.type.render,o.ref,jt);break;case 5:_g(o);default:w_(u,o),o=gt=YS(o,Us),o=v_(u,o,Us)}i.memoizedProps=i.pendingProps,o===null?Jm(i):gt=o}function rc(i,o,u,p){Ms=Pl=null,_g(o),Wo=null,Ju=0;var v=o.return;try{if(A$(i,v,o,u,jt)){un=1,Hm(i,ir(u,i.current)),gt=null;return}}catch(N){if(v!==null)throw gt=v,N;un=1,Hm(i,ir(u,i.current)),gt=null;return}o.flags&32768?(Tt||p===1?i=!0:Jo||(jt&536870912)!==0?i=!1:(Di=i=!0,(p===2||p===9||p===3||p===6)&&(p=ur.current,p!==null&&p.tag===13&&(p.flags|=16384))),Y_(o,i)):Jm(o)}function Jm(i){var o=i;do{if((o.flags&32768)!==0){Y_(o,Di);return}i=o.return;var u=E$(o.alternate,o,Us);if(u!==null){gt=u;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=i}while(o!==null);un===0&&(un=5)}function Y_(i,o){do{var u=P$(i.alternate,i);if(u!==null){u.flags&=32767,gt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){gt=i;return}gt=i=u}while(i!==null);un=6,gt=null}function W_(i,o,u,p,v,N,M,U,ee){i.cancelPendingCommit=null;do eh();while(Yn!==0);if((Ot&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(N=o.lanes|o.childLanes,N|=eg,We(i,u,N,M,U,ee),i===Ht&&(gt=Ht=null,jt=0),tc=o,Li=i,nc=u,sb=N,ib=v,z_=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,V$(Le,function(){return e5(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=D.T,D.T=null,v=Y.p,Y.p=2,M=Ot,Ot|=4;try{O$(i,o,u)}finally{Ot=M,Y.p=v,D.T=p}}Yn=1,X_(),Z_(),Q_()}}function X_(){if(Yn===1){Yn=0;var i=Li,o=tc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=D.T,D.T=null;var p=Y.p;Y.p=2;var v=Ot;Ot|=4;try{O_(o,i);var N=jb,M=IS(i.containerInfo),U=N.focusedElem,ee=N.selectionRange;if(M!==U&&U&&U.ownerDocument&&LS(U.ownerDocument.documentElement,U)){if(ee!==null&&Wx(U)){var me=ee.start,Te=ee.end;if(Te===void 0&&(Te=me),"selectionStart"in U)U.selectionStart=me,U.selectionEnd=Math.min(Te,U.value.length);else{var Oe=U.ownerDocument||document,ge=Oe&&Oe.defaultView||window;if(ge.getSelection){var ve=ge.getSelection(),it=U.textContent.length,at=Math.min(ee.start,it),It=ee.end===void 0?at:Math.min(ee.end,it);!ve.extend&&at>It&&(M=It,It=at,at=M);var ce=$S(U,at),se=$S(U,It);if(ce&&se&&(ve.rangeCount!==1||ve.anchorNode!==ce.node||ve.anchorOffset!==ce.offset||ve.focusNode!==se.node||ve.focusOffset!==se.offset)){var fe=Oe.createRange();fe.setStart(ce.node,ce.offset),ve.removeAllRanges(),at>It?(ve.addRange(fe),ve.extend(se.node,se.offset)):(fe.setEnd(se.node,se.offset),ve.addRange(fe))}}}}for(Oe=[],ve=U;ve=ve.parentNode;)ve.nodeType===1&&Oe.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Oe.length;U++){var Ee=Oe[U];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}fh=!!wb,jb=wb=null}finally{Ot=v,Y.p=p,D.T=u}}i.current=o,Yn=2}}function Z_(){if(Yn===2){Yn=0;var i=Li,o=tc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=D.T,D.T=null;var p=Y.p;Y.p=2;var v=Ot;Ot|=4;try{A_(i,o.alternate,o)}finally{Ot=v,Y.p=p,D.T=u}}Yn=3}}function Q_(){if(Yn===4||Yn===3){Yn=0,q();var i=Li,o=tc,u=nc,p=z_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Yn=5:(Yn=0,tc=Li=null,J_(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&($i=null),Et(u),o=o.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot($e,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=D.T,v=Y.p,Y.p=2,D.T=null;try{for(var N=i.onRecoverableError,M=0;M<p.length;M++){var U=p[M];N(U.value,{componentStack:U.stack})}}finally{D.T=o,Y.p=v}}(nc&3)!==0&&eh(),as(i),v=i.pendingLanes,(u&4194090)!==0&&(v&42)!==0?i===lb?od++:(od=0,lb=i):od=0,cd(0)}}function J_(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Fu(o)))}function eh(i){return X_(),Z_(),Q_(),e5()}function e5(){if(Yn!==5)return!1;var i=Li,o=sb;sb=0;var u=Et(nc),p=D.T,v=Y.p;try{Y.p=32>u?32:u,D.T=null,u=ib,ib=null;var N=Li,M=nc;if(Yn=0,tc=Li=null,nc=0,(Ot&6)!==0)throw Error(r(331));var U=Ot;if(Ot|=4,L_(N.current),D_(N,N.current,M,u),Ot=U,cd(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot($e,N)}catch{}return!0}finally{Y.p=v,D.T=p,J_(i,o)}}function t5(i,o,u){o=ir(u,o),o=zg(i.stateNode,o,2),i=Ci(i,o,2),i!==null&&(le(i,2),as(i))}function Ut(i,o,u){if(i.tag===3)t5(i,i,u);else for(;o!==null;){if(o.tag===3){t5(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&($i===null||!$i.has(p))){i=ir(u,i),u=s_(2),p=Ci(o,u,2),p!==null&&(i_(u,p,o,i),le(p,2),as(p));break}}o=o.return}}function db(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new R$;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(tb=!0,v.add(u),i=B$.bind(null,i,o,u),o.then(i,i))}function B$(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Ht===i&&(jt&u)===u&&(un===4||un===3&&(jt&62914560)===jt&&300>ie()-rb?(Ot&2)===0&&ac(i,0):nb|=u,ec===jt&&(ec=0)),as(i)}function n5(i,o){o===0&&(o=Z()),i=zo(i,o),i!==null&&(le(i,o),as(i))}function U$(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),n5(i,u)}function F$(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),n5(i,u)}function V$(i,o){return Ue(i,o)}var th=null,sc=null,fb=!1,nh=!1,mb=!1,Il=0;function as(i){i!==sc&&i.next===null&&(sc===null?th=sc=i:sc=sc.next=i),nh=!0,fb||(fb=!0,q$())}function cd(i,o){if(!mb&&nh){mb=!0;do for(var u=!1,p=th;p!==null;){if(i!==0){var v=p.pendingLanes;if(v===0)var N=0;else{var M=p.suspendedLanes,U=p.pingedLanes;N=(1<<31-Be(42|i)+1)-1,N&=v&~(M&~U),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,i5(p,N))}else N=jt,N=X(p,p===Ht?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||_e(p,N)||(u=!0,i5(p,N));p=p.next}while(u);mb=!1}}function H$(){a5()}function a5(){nh=fb=!1;var i=0;Il!==0&&(J$()&&(i=Il),Il=0);for(var o=ie(),u=null,p=th;p!==null;){var v=p.next,N=r5(p,o);N===0?(p.next=null,u===null?th=v:u.next=v,v===null&&(sc=u)):(u=p,(i!==0||(N&3)!==0)&&(nh=!0)),p=v}cd(i)}function r5(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var M=31-Be(N),U=1<<M,ee=v[M];ee===-1?((U&u)===0||(U&p)!==0)&&(v[M]=nt(U,o)):ee<=o&&(i.expiredLanes|=U),N&=~U}if(o=Ht,u=jt,u=X(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===o&&(Mt===2||Mt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Ve(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||_e(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(p!==null&&Ve(p),Et(u)){case 2:case 8:u=Ae;break;case 32:u=Le;break;case 268435456:u=Ze;break;default:u=Le}return p=s5.bind(null,i),u=Ue(u,p),i.callbackPriority=o,i.callbackNode=u,o}return p!==null&&p!==null&&Ve(p),i.callbackPriority=2,i.callbackNode=null,2}function s5(i,o){if(Yn!==0&&Yn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(eh()&&i.callbackNode!==u)return null;var p=jt;return p=X(i,i===Ht?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(U_(i,p,o),r5(i,ie()),i.callbackNode!=null&&i.callbackNode===u?s5.bind(null,i):null)}function i5(i,o){if(eh())return null;U_(i,o,!0)}function q$(){tL(function(){(Ot&6)!==0?Ue(xe,H$):a5()})}function hb(){return Il===0&&(Il=oe()),Il}function l5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:mm(""+i)}function o5(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function K$(i,o,u,p,v){if(o==="submit"&&u&&u.stateNode===v){var N=l5((v[sn]||null).action),M=p.submitter;M&&(o=(o=M[sn]||null)?l5(o.formAction):M.getAttribute("formAction"),o!==null&&(N=o,M=null));var U=new gm("action","action",null,p,v);i.push({event:U,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Il!==0){var ee=M?o5(v,M):new FormData(v);Dg(u,{pending:!0,data:ee,method:v.method,action:N},null,ee)}}else typeof N=="function"&&(U.preventDefault(),ee=M?o5(v,M):new FormData(v),Dg(u,{pending:!0,data:ee,method:v.method,action:N},N,ee))},currentTarget:v}]})}}for(var pb=0;pb<Jx.length;pb++){var xb=Jx[pb],G$=xb.toLowerCase(),Y$=xb[0].toUpperCase()+xb.slice(1);Pr(G$,"on"+Y$)}Pr(US,"onAnimationEnd"),Pr(FS,"onAnimationIteration"),Pr(VS,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(d$,"onTransitionRun"),Pr(f$,"onTransitionStart"),Pr(m$,"onTransitionCancel"),Pr(HS,"onTransitionEnd"),He("onMouseEnter",["mouseout","mouseover"]),He("onMouseLeave",["mouseout","mouseover"]),He("onPointerEnter",["pointerout","pointerover"]),He("onPointerLeave",["pointerout","pointerover"]),Fe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ud));function c5(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],v=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var M=p.length-1;0<=M;M--){var U=p[M],ee=U.instance,me=U.currentTarget;if(U=U.listener,ee!==N&&v.isPropagationStopped())break e;N=U,v.currentTarget=me;try{N(v)}catch(Te){Vm(Te)}v.currentTarget=null,N=ee}else for(M=0;M<p.length;M++){if(U=p[M],ee=U.instance,me=U.currentTarget,U=U.listener,ee!==N&&v.isPropagationStopped())break e;N=U,v.currentTarget=me;try{N(v)}catch(Te){Vm(Te)}v.currentTarget=null,N=ee}}}}function bt(i,o){var u=o[Ao];u===void 0&&(u=o[Ao]=new Set);var p=i+"__bubble";u.has(p)||(u5(o,i,2,!1),u.add(p))}function gb(i,o,u){var p=0;o&&(p|=4),u5(u,i,p,o)}var ah="_reactListening"+Math.random().toString(36).slice(2);function bb(i){if(!i[ah]){i[ah]=!0,Re.forEach(function(u){u!=="selectionchange"&&(W$.has(u)||gb(u,!1,i),gb(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ah]||(o[ah]=!0,gb("selectionchange",!1,o))}}function u5(i,o,u,p){switch(D5(o)){case 2:var v=jL;break;case 8:v=NL;break;default:v=Ob}u=v.bind(null,o,u,i),v=void 0,!Bx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function vb(i,o,u,p,v){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var M=p.tag;if(M===3||M===4){var U=p.stateNode.containerInfo;if(U===v)break;if(M===4)for(M=p.return;M!==null;){var ee=M.tag;if((ee===3||ee===4)&&M.stateNode.containerInfo===v)return;M=M.return}for(;U!==null;){if(M=_s(U),M===null)return;if(ee=M.tag,ee===5||ee===6||ee===26||ee===27){p=N=M;continue e}U=U.parentNode}}p=p.return}gS(function(){var me=N,Te=Ix(u),Oe=[];e:{var ge=qS.get(i);if(ge!==void 0){var ve=gm,it=i;switch(i){case"keypress":if(pm(u)===0)break e;case"keydown":case"keyup":ve=V9;break;case"focusin":it="focus",ve=Hx;break;case"focusout":it="blur",ve=Hx;break;case"beforeblur":case"afterblur":ve=Hx;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=yS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=P9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=K9;break;case US:case FS:case VS:ve=D9;break;case HS:ve=Y9;break;case"scroll":case"scrollend":ve=T9;break;case"wheel":ve=X9;break;case"copy":case"cut":case"paste":ve=$9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=jS;break;case"toggle":case"beforetoggle":ve=Q9}var at=(o&4)!==0,It=!at&&(i==="scroll"||i==="scrollend"),ce=at?ge!==null?ge+"Capture":null:ge;at=[];for(var se=me,fe;se!==null;){var Ee=se;if(fe=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||fe===null||ce===null||(Ee=Tu(se,ce),Ee!=null&&at.push(dd(se,Ee,fe))),It)break;se=se.return}0<at.length&&(ge=new ve(ge,it,null,u,Te),Oe.push({event:ge,listeners:at}))}}if((o&7)===0){e:{if(ge=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",ge&&u!==Lx&&(it=u.relatedTarget||u.fromElement)&&(_s(it)||it[Ss]))break e;if((ve||ge)&&(ge=Te.window===Te?Te:(ge=Te.ownerDocument)?ge.defaultView||ge.parentWindow:window,ve?(it=u.relatedTarget||u.toElement,ve=me,it=it?_s(it):null,it!==null&&(It=l(it),at=it.tag,it!==It||at!==5&&at!==27&&at!==6)&&(it=null)):(ve=null,it=me),ve!==it)){if(at=yS,Ee="onMouseLeave",ce="onMouseEnter",se="mouse",(i==="pointerout"||i==="pointerover")&&(at=jS,Ee="onPointerLeave",ce="onPointerEnter",se="pointer"),It=ve==null?ge:ji(ve),fe=it==null?ge:ji(it),ge=new at(Ee,se+"leave",ve,u,Te),ge.target=It,ge.relatedTarget=fe,Ee=null,_s(Te)===me&&(at=new at(ce,se+"enter",it,u,Te),at.target=fe,at.relatedTarget=It,Ee=at),It=Ee,ve&&it)t:{for(at=ve,ce=it,se=0,fe=at;fe;fe=ic(fe))se++;for(fe=0,Ee=ce;Ee;Ee=ic(Ee))fe++;for(;0<se-fe;)at=ic(at),se--;for(;0<fe-se;)ce=ic(ce),fe--;for(;se--;){if(at===ce||ce!==null&&at===ce.alternate)break t;at=ic(at),ce=ic(ce)}at=null}else at=null;ve!==null&&d5(Oe,ge,ve,at,!1),it!==null&&It!==null&&d5(Oe,It,it,at,!0)}}e:{if(ge=me?ji(me):window,ve=ge.nodeName&&ge.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ge.type==="file")var Xe=ES;else if(AS(ge))if(PS)Xe=o$;else{Xe=i$;var pt=s$}else ve=ge.nodeName,!ve||ve.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?me&&$x(me.elementType)&&(Xe=ES):Xe=l$;if(Xe&&(Xe=Xe(i,me))){TS(Oe,Xe,u,Te);break e}pt&&pt(i,ge,me),i==="focusout"&&me&&ge.type==="number"&&me.memoizedProps.value!=null&&Rx(ge,"number",ge.value)}switch(pt=me?ji(me):window,i){case"focusin":(AS(pt)||pt.contentEditable==="true")&&($o=pt,Xx=me,Lu=null);break;case"focusout":Lu=Xx=$o=null;break;case"mousedown":Zx=!0;break;case"contextmenu":case"mouseup":case"dragend":Zx=!1,zS(Oe,u,Te);break;case"selectionchange":if(u$)break;case"keydown":case"keyup":zS(Oe,u,Te)}var et;if(Kx)e:{switch(i){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Ro?kS(i,u)&&(st="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(st="onCompositionStart");st&&(NS&&u.locale!=="ko"&&(Ro||st!=="onCompositionStart"?st==="onCompositionEnd"&&Ro&&(et=bS()):(Ni=Te,Ux="value"in Ni?Ni.value:Ni.textContent,Ro=!0)),pt=rh(me,st),0<pt.length&&(st=new wS(st,i,null,u,Te),Oe.push({event:st,listeners:pt}),et?st.data=et:(et=CS(u),et!==null&&(st.data=et)))),(et=e$?t$(i,u):n$(i,u))&&(st=rh(me,"onBeforeInput"),0<st.length&&(pt=new wS("onBeforeInput","beforeinput",null,u,Te),Oe.push({event:pt,listeners:st}),pt.data=et)),K$(Oe,i,me,u,Te)}c5(Oe,o)})}function dd(i,o,u){return{instance:i,listener:o,currentTarget:u}}function rh(i,o){for(var u=o+"Capture",p=[];i!==null;){var v=i,N=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||N===null||(v=Tu(i,u),v!=null&&p.unshift(dd(i,v,N)),v=Tu(i,o),v!=null&&p.push(dd(i,v,N))),i.tag===3)return p;i=i.return}return[]}function ic(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function d5(i,o,u,p,v){for(var N=o._reactName,M=[];u!==null&&u!==p;){var U=u,ee=U.alternate,me=U.stateNode;if(U=U.tag,ee!==null&&ee===p)break;U!==5&&U!==26&&U!==27||me===null||(ee=me,v?(me=Tu(u,N),me!=null&&M.unshift(dd(u,me,ee))):v||(me=Tu(u,N),me!=null&&M.push(dd(u,me,ee)))),u=u.return}M.length!==0&&i.push({event:o,listeners:M})}var X$=/\r\n?/g,Z$=/\u0000|\uFFFD/g;function f5(i){return(typeof i=="string"?i:""+i).replace(X$,`
`).replace(Z$,"")}function m5(i,o){return o=f5(o),f5(i)===o}function sh(){}function Lt(i,o,u,p,v,N){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Oo(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Oo(i,""+p);break;case"className":um(i,"class",p);break;case"tabIndex":um(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":um(i,u,p);break;case"style":pS(i,p,N);break;case"data":if(o!=="object"){um(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=mm(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(o!=="input"&&Lt(i,o,"name",v.name,v,null),Lt(i,o,"formEncType",v.formEncType,v,null),Lt(i,o,"formMethod",v.formMethod,v,null),Lt(i,o,"formTarget",v.formTarget,v,null)):(Lt(i,o,"encType",v.encType,v,null),Lt(i,o,"method",v.method,v,null),Lt(i,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=mm(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=sh);break;case"onScroll":p!=null&&bt("scroll",i);break;case"onScrollEnd":p!=null&&bt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=mm(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":bt("beforetoggle",i),bt("toggle",i),cm(i,"popover",p);break;case"xlinkActuate":As(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":As(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":As(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":As(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":As(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":As(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":As(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":As(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":As(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":cm(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=C9.get(u)||u,cm(i,u,p))}}function yb(i,o,u,p,v,N){switch(u){case"style":pS(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof p=="string"?Oo(i,p):(typeof p=="number"||typeof p=="bigint")&&Oo(i,""+p);break;case"onScroll":p!=null&&bt("scroll",i);break;case"onScrollEnd":p!=null&&bt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=sh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ye.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),N=i[sn]||null,N=N!=null?N[u]:null,typeof N=="function"&&i.removeEventListener(o,N,v),typeof p=="function")){typeof N!="function"&&N!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,p,v);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):cm(i,u,p)}}}function Wn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",i),bt("load",i);var p=!1,v=!1,N;for(N in u)if(u.hasOwnProperty(N)){var M=u[N];if(M!=null)switch(N){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Lt(i,o,N,M,u,null)}}v&&Lt(i,o,"srcSet",u.srcSet,u,null),p&&Lt(i,o,"src",u.src,u,null);return;case"input":bt("invalid",i);var U=N=M=v=null,ee=null,me=null;for(p in u)if(u.hasOwnProperty(p)){var Te=u[p];if(Te!=null)switch(p){case"name":v=Te;break;case"type":M=Te;break;case"checked":ee=Te;break;case"defaultChecked":me=Te;break;case"value":N=Te;break;case"defaultValue":U=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,o));break;default:Lt(i,o,p,Te,u,null)}}dS(i,N,U,ee,me,M,v,!1),dm(i);return;case"select":bt("invalid",i),p=M=N=null;for(v in u)if(u.hasOwnProperty(v)&&(U=u[v],U!=null))switch(v){case"value":N=U;break;case"defaultValue":M=U;break;case"multiple":p=U;default:Lt(i,o,v,U,u,null)}o=N,u=M,i.multiple=!!p,o!=null?Po(i,!!p,o,!1):u!=null&&Po(i,!!p,u,!0);return;case"textarea":bt("invalid",i),N=v=p=null;for(M in u)if(u.hasOwnProperty(M)&&(U=u[M],U!=null))switch(M){case"value":p=U;break;case"defaultValue":v=U;break;case"children":N=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:Lt(i,o,M,U,u,null)}mS(i,p,v,N),dm(i);return;case"option":for(ee in u)if(u.hasOwnProperty(ee)&&(p=u[ee],p!=null))switch(ee){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Lt(i,o,ee,p,u,null)}return;case"dialog":bt("beforetoggle",i),bt("toggle",i),bt("cancel",i),bt("close",i);break;case"iframe":case"object":bt("load",i);break;case"video":case"audio":for(p=0;p<ud.length;p++)bt(ud[p],i);break;case"image":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"embed":case"source":case"link":bt("error",i),bt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in u)if(u.hasOwnProperty(me)&&(p=u[me],p!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Lt(i,o,me,p,u,null)}return;default:if($x(o)){for(Te in u)u.hasOwnProperty(Te)&&(p=u[Te],p!==void 0&&yb(i,o,Te,p,u,void 0));return}}for(U in u)u.hasOwnProperty(U)&&(p=u[U],p!=null&&Lt(i,o,U,p,u,null))}function Q$(i,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,N=null,M=null,U=null,ee=null,me=null,Te=null;for(ve in u){var Oe=u[ve];if(u.hasOwnProperty(ve)&&Oe!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":ee=Oe;default:p.hasOwnProperty(ve)||Lt(i,o,ve,null,p,Oe)}}for(var ge in p){var ve=p[ge];if(Oe=u[ge],p.hasOwnProperty(ge)&&(ve!=null||Oe!=null))switch(ge){case"type":N=ve;break;case"name":v=ve;break;case"checked":me=ve;break;case"defaultChecked":Te=ve;break;case"value":M=ve;break;case"defaultValue":U=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,o));break;default:ve!==Oe&&Lt(i,o,ge,ve,p,Oe)}}Dx(i,M,U,ee,me,Te,N,v);return;case"select":ve=M=U=ge=null;for(N in u)if(ee=u[N],u.hasOwnProperty(N)&&ee!=null)switch(N){case"value":break;case"multiple":ve=ee;default:p.hasOwnProperty(N)||Lt(i,o,N,null,p,ee)}for(v in p)if(N=p[v],ee=u[v],p.hasOwnProperty(v)&&(N!=null||ee!=null))switch(v){case"value":ge=N;break;case"defaultValue":U=N;break;case"multiple":M=N;default:N!==ee&&Lt(i,o,v,N,p,ee)}o=U,u=M,p=ve,ge!=null?Po(i,!!u,ge,!1):!!p!=!!u&&(o!=null?Po(i,!!u,o,!0):Po(i,!!u,u?[]:"",!1));return;case"textarea":ve=ge=null;for(U in u)if(v=u[U],u.hasOwnProperty(U)&&v!=null&&!p.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Lt(i,o,U,null,p,v)}for(M in p)if(v=p[M],N=u[M],p.hasOwnProperty(M)&&(v!=null||N!=null))switch(M){case"value":ge=v;break;case"defaultValue":ve=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==N&&Lt(i,o,M,v,p,N)}fS(i,ge,ve);return;case"option":for(var it in u)if(ge=u[it],u.hasOwnProperty(it)&&ge!=null&&!p.hasOwnProperty(it))switch(it){case"selected":i.selected=!1;break;default:Lt(i,o,it,null,p,ge)}for(ee in p)if(ge=p[ee],ve=u[ee],p.hasOwnProperty(ee)&&ge!==ve&&(ge!=null||ve!=null))switch(ee){case"selected":i.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Lt(i,o,ee,ge,p,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in u)ge=u[at],u.hasOwnProperty(at)&&ge!=null&&!p.hasOwnProperty(at)&&Lt(i,o,at,null,p,ge);for(me in p)if(ge=p[me],ve=u[me],p.hasOwnProperty(me)&&ge!==ve&&(ge!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,o));break;default:Lt(i,o,me,ge,p,ve)}return;default:if($x(o)){for(var It in u)ge=u[It],u.hasOwnProperty(It)&&ge!==void 0&&!p.hasOwnProperty(It)&&yb(i,o,It,void 0,p,ge);for(Te in p)ge=p[Te],ve=u[Te],!p.hasOwnProperty(Te)||ge===ve||ge===void 0&&ve===void 0||yb(i,o,Te,ge,p,ve);return}}for(var ce in u)ge=u[ce],u.hasOwnProperty(ce)&&ge!=null&&!p.hasOwnProperty(ce)&&Lt(i,o,ce,null,p,ge);for(Oe in p)ge=p[Oe],ve=u[Oe],!p.hasOwnProperty(Oe)||ge===ve||ge==null&&ve==null||Lt(i,o,Oe,ge,p,ve)}var wb=null,jb=null;function ih(i){return i.nodeType===9?i:i.ownerDocument}function h5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p5(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Nb(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sb=null;function J$(){var i=window.event;return i&&i.type==="popstate"?i===Sb?!1:(Sb=i,!0):(Sb=null,!1)}var x5=typeof setTimeout=="function"?setTimeout:void 0,eL=typeof clearTimeout=="function"?clearTimeout:void 0,g5=typeof Promise=="function"?Promise:void 0,tL=typeof queueMicrotask=="function"?queueMicrotask:typeof g5<"u"?function(i){return g5.resolve(null).then(i).catch(nL)}:x5;function nL(i){setTimeout(function(){throw i})}function zi(i){return i==="head"}function b5(i,o){var u=o,p=0,v=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<p&&8>p){u=p;var M=i.ownerDocument;if(u&1&&fd(M.documentElement),u&2&&fd(M.body),u&4)for(u=M.head,fd(u),M=u.firstChild;M;){var U=M.nextSibling,ee=M.nodeName;M[wi]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&M.rel.toLowerCase()==="stylesheet"||u.removeChild(M),M=U}}if(v===0){i.removeChild(N),yd(o);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:p=u.charCodeAt(0)-48;else p=0;u=N}while(u);yd(o)}function _b(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":_b(u),To(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function aL(i,o,u,p){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[wi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=Mr(i.nextSibling),i===null)break}return null}function rL(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Mr(i.nextSibling),i===null))return null;return i}function kb(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function sL(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Mr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Cb=null;function v5(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function y5(i,o,u){switch(o=ih(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function fd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);To(i)}var fr=new Map,w5=new Set;function lh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fs=Y.d;Y.d={f:iL,r:lL,D:oL,C:cL,L:uL,m:dL,X:mL,S:fL,M:hL};function iL(){var i=Fs.f(),o=Qm();return i||o}function lL(i){var o=ks(i);o!==null&&o.tag===5&&o.type==="form"?U4(o):Fs.r(i)}var lc=typeof document>"u"?null:document;function j5(i,o,u){var p=lc;if(p&&typeof o=="string"&&o){var v=sr(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),w5.has(v)||(w5.add(v),i={rel:i,crossOrigin:u,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),Wn(o,"link",i),ue(o),p.head.appendChild(o)))}}function oL(i){Fs.D(i),j5("dns-prefetch",i,null)}function cL(i,o){Fs.C(i,o),j5("preconnect",i,o)}function uL(i,o,u){Fs.L(i,o,u);var p=lc;if(p&&i&&o){var v='link[rel="preload"][as="'+sr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+sr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+sr(u.imageSizes)+'"]')):v+='[href="'+sr(i)+'"]';var N=v;switch(o){case"style":N=oc(i);break;case"script":N=cc(i)}fr.has(N)||(i=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),fr.set(N,i),p.querySelector(v)!==null||o==="style"&&p.querySelector(md(N))||o==="script"&&p.querySelector(hd(N))||(o=p.createElement("link"),Wn(o,"link",i),ue(o),p.head.appendChild(o)))}}function dL(i,o){Fs.m(i,o);var u=lc;if(u&&i){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+sr(p)+'"][href="'+sr(i)+'"]',N=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=cc(i)}if(!fr.has(N)&&(i=h({rel:"modulepreload",href:i},o),fr.set(N,i),u.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(hd(N)))return}p=u.createElement("link"),Wn(p,"link",i),ue(p),u.head.appendChild(p)}}}function fL(i,o,u){Fs.S(i,o,u);var p=lc;if(p&&i){var v=Cs(p).hoistableStyles,N=oc(i);o=o||"default";var M=v.get(N);if(!M){var U={loading:0,preload:null};if(M=p.querySelector(md(N)))U.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":o},u),(u=fr.get(N))&&Ab(i,u);var ee=M=p.createElement("link");ue(ee),Wn(ee,"link",i),ee._p=new Promise(function(me,Te){ee.onload=me,ee.onerror=Te}),ee.addEventListener("load",function(){U.loading|=1}),ee.addEventListener("error",function(){U.loading|=2}),U.loading|=4,oh(M,o,p)}M={type:"stylesheet",instance:M,count:1,state:U},v.set(N,M)}}}function mL(i,o){Fs.X(i,o);var u=lc;if(u&&i){var p=Cs(u).hoistableScripts,v=cc(i),N=p.get(v);N||(N=u.querySelector(hd(v)),N||(i=h({src:i,async:!0},o),(o=fr.get(v))&&Tb(i,o),N=u.createElement("script"),ue(N),Wn(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(v,N))}}function hL(i,o){Fs.M(i,o);var u=lc;if(u&&i){var p=Cs(u).hoistableScripts,v=cc(i),N=p.get(v);N||(N=u.querySelector(hd(v)),N||(i=h({src:i,async:!0,type:"module"},o),(o=fr.get(v))&&Tb(i,o),N=u.createElement("script"),ue(N),Wn(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(v,N))}}function N5(i,o,u,p){var v=(v=Q.current)?lh(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=oc(u.href),u=Cs(v).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=oc(u.href);var N=Cs(v).hoistableStyles,M=N.get(i);if(M||(v=v.ownerDocument||v,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,M),(N=v.querySelector(md(i)))&&!N._p&&(M.instance=N,M.state.loading=5),fr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},fr.set(i,u),N||pL(v,i,u,M.state))),o&&p===null)throw Error(r(528,""));return M}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cc(u),u=Cs(v).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function oc(i){return'href="'+sr(i)+'"'}function md(i){return'link[rel="stylesheet"]['+i+"]"}function S5(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function pL(i,o,u,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Wn(o,"link",u),ue(o),i.head.appendChild(o))}function cc(i){return'[src="'+sr(i)+'"]'}function hd(i){return"script[async]"+i}function _5(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+sr(u.href)+'"]');if(p)return o.instance=p,ue(p),p;var v=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),ue(p),Wn(p,"style",v),oh(p,u.precedence,i),o.instance=p;case"stylesheet":v=oc(u.href);var N=i.querySelector(md(v));if(N)return o.state.loading|=4,o.instance=N,ue(N),N;p=S5(u),(v=fr.get(v))&&Ab(p,v),N=(i.ownerDocument||i).createElement("link"),ue(N);var M=N;return M._p=new Promise(function(U,ee){M.onload=U,M.onerror=ee}),Wn(N,"link",p),o.state.loading|=4,oh(N,u.precedence,i),o.instance=N;case"script":return N=cc(u.src),(v=i.querySelector(hd(N)))?(o.instance=v,ue(v),v):(p=u,(v=fr.get(N))&&(p=h({},u),Tb(p,v)),i=i.ownerDocument||i,v=i.createElement("script"),ue(v),Wn(v,"link",p),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,oh(p,u.precedence,i));return o.instance}function oh(i,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,N=v,M=0;M<p.length;M++){var U=p[M];if(U.dataset.precedence===o)N=U;else if(N!==v)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Ab(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Tb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var ch=null;function k5(i,o,u){if(ch===null){var p=new Map,v=ch=new Map;v.set(u,p)}else v=ch,p=v.get(u),p||(p=new Map,v.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var N=u[v];if(!(N[wi]||N[At]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var M=N.getAttribute(o)||"";M=i+M;var U=p.get(M);U?U.push(N):p.set(M,[N])}}return p}function C5(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function xL(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function A5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var pd=null;function gL(){}function bL(i,o,u){if(pd===null)throw Error(r(475));var p=pd;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=oc(u.href),N=i.querySelector(md(v));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=uh.bind(p),i.then(p,p)),o.state.loading|=4,o.instance=N,ue(N);return}N=i.ownerDocument||i,u=S5(u),(v=fr.get(v))&&Ab(u,v),N=N.createElement("link"),ue(N);var M=N;M._p=new Promise(function(U,ee){M.onload=U,M.onerror=ee}),Wn(N,"link",u),o.instance=N}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=uh.bind(p),i.addEventListener("load",o),i.addEventListener("error",o))}}function vL(){if(pd===null)throw Error(r(475));var i=pd;return i.stylesheets&&i.count===0&&Eb(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&Eb(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function uh(){if(this.count--,this.count===0){if(this.stylesheets)Eb(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var dh=null;function Eb(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,dh=new Map,o.forEach(yL,i),dh=null,uh.call(i))}function yL(i,o){if(!(o.state.loading&4)){var u=dh.get(i);if(u)var p=u.get(null);else{u=new Map,dh.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<v.length;N++){var M=v[N];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(u.set(M.dataset.precedence,M),p=M)}p&&u.set(null,p)}v=o.instance,M=v.getAttribute("data-precedence"),N=u.get(M)||p,N===p&&u.set(null,v),u.set(M,v),this.count++,p=uh.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),N?N.parentNode.insertBefore(v,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var xd={$$typeof:C,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function wL(i,o,u,p,v,N,M,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ne(0),this.hiddenUpdates=ne(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=N,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function T5(i,o,u,p,v,N,M,U,ee,me,Te,Oe){return i=new wL(i,o,u,M,U,ee,me,Oe),o=1,N===!0&&(o|=24),N=Da(3,null,null,o),i.current=N,N.stateNode=i,o=dg(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:u,cache:o},pg(N),i}function E5(i){return i?(i=Bo,i):Bo}function P5(i,o,u,p,v,N){v=E5(v),p.context===null?p.context=v:p.pendingContext=v,p=ki(o),p.payload={element:u},N=N===void 0?null:N,N!==null&&(p.callback=N),u=Ci(i,p,o),u!==null&&(za(u,i,o),Ku(u,i,o))}function O5(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Pb(i,o){O5(i,o),(i=i.alternate)&&O5(i,o)}function M5(i){if(i.tag===13){var o=zo(i,67108864);o!==null&&za(o,i,67108864),Pb(i,67108864)}}var fh=!0;function jL(i,o,u,p){var v=D.T;D.T=null;var N=Y.p;try{Y.p=2,Ob(i,o,u,p)}finally{Y.p=N,D.T=v}}function NL(i,o,u,p){var v=D.T;D.T=null;var N=Y.p;try{Y.p=8,Ob(i,o,u,p)}finally{Y.p=N,D.T=v}}function Ob(i,o,u,p){if(fh){var v=Mb(p);if(v===null)vb(i,o,p,mh,u),R5(i,p);else if(_L(v,i,o,u,p))p.stopPropagation();else if(R5(i,p),o&4&&-1<SL.indexOf(i)){for(;v!==null;){var N=ks(v);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var M=De(N.pendingLanes);if(M!==0){var U=N;for(U.pendingLanes|=2,U.entangledLanes|=2;M;){var ee=1<<31-Be(M);U.entanglements[1]|=ee,M&=~ee}as(N),(Ot&6)===0&&(Xm=ie()+500,cd(0))}}break;case 13:U=zo(N,2),U!==null&&za(U,N,2),Qm(),Pb(N,2)}if(N=Mb(p),N===null&&vb(i,o,p,mh,u),N===v)break;v=N}v!==null&&p.stopPropagation()}else vb(i,o,p,null,u)}}function Mb(i){return i=Ix(i),Db(i)}var mh=null;function Db(i){if(mh=null,i=_s(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return mh=i,null}function D5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(G()){case xe:return 2;case Ae:return 8;case Le:case Pe:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var Rb=!1,Bi=null,Ui=null,Fi=null,gd=new Map,bd=new Map,Vi=[],SL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R5(i,o){switch(i){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":gd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(o.pointerId)}}function vd(i,o,u,p,v,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:N,targetContainers:[v]},o!==null&&(o=ks(o),o!==null&&M5(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function _L(i,o,u,p,v){switch(o){case"focusin":return Bi=vd(Bi,i,o,u,p,v),!0;case"dragenter":return Ui=vd(Ui,i,o,u,p,v),!0;case"mouseover":return Fi=vd(Fi,i,o,u,p,v),!0;case"pointerover":var N=v.pointerId;return gd.set(N,vd(gd.get(N)||null,i,o,u,p,v)),!0;case"gotpointercapture":return N=v.pointerId,bd.set(N,vd(bd.get(N)||null,i,o,u,p,v)),!0}return!1}function $5(i){var o=_s(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,Er(i.priority,function(){if(u.tag===13){var p=Ia();p=ot(p);var v=zo(u,p);v!==null&&za(v,u,p),Pb(u,p)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Mb(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);Lx=p,u.target.dispatchEvent(p),Lx=null}else return o=ks(u),o!==null&&M5(o),i.blockedOn=u,!1;o.shift()}return!0}function L5(i,o,u){hh(i)&&u.delete(o)}function kL(){Rb=!1,Bi!==null&&hh(Bi)&&(Bi=null),Ui!==null&&hh(Ui)&&(Ui=null),Fi!==null&&hh(Fi)&&(Fi=null),gd.forEach(L5),bd.forEach(L5)}function ph(i,o){i.blockedOn===o&&(i.blockedOn=null,Rb||(Rb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kL)))}var xh=null;function I5(i){xh!==i&&(xh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xh===i&&(xh=null);for(var o=0;o<i.length;o+=3){var u=i[o],p=i[o+1],v=i[o+2];if(typeof p!="function"){if(Db(p||u)===null)continue;break}var N=ks(u);N!==null&&(i.splice(o,3),o-=3,Dg(N,{pending:!0,data:v,method:u.method,action:p},p,v))}}))}function yd(i){function o(ee){return ph(ee,i)}Bi!==null&&ph(Bi,i),Ui!==null&&ph(Ui,i),Fi!==null&&ph(Fi,i),gd.forEach(o),bd.forEach(o);for(var u=0;u<Vi.length;u++){var p=Vi[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Vi.length&&(u=Vi[0],u.blockedOn===null);)$5(u),u.blockedOn===null&&Vi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var v=u[p],N=u[p+1],M=v[sn]||null;if(typeof N=="function")M||I5(u);else if(M){var U=null;if(N&&N.hasAttribute("formAction")){if(v=N,M=N[sn]||null)U=M.formAction;else if(Db(v)!==null)continue}else U=M.action;typeof U=="function"?u[p+1]=U:(u.splice(p,3),p-=3),I5(u)}}}function $b(i){this._internalRoot=i}gh.prototype.render=$b.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=Ia();P5(u,p,i,o,null,null)},gh.prototype.unmount=$b.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;P5(i.current,2,null,i,null,null),Qm(),o[Ss]=null}};function gh(i){this._internalRoot=i}gh.prototype.unstable_scheduleHydration=function(i){if(i){var o=Rt();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Vi.length&&o!==0&&o<Vi[u].priority;u++);Vi.splice(u,0,i),u===0&&$5(i)}};var z5=t.version;if(z5!=="19.1.0")throw Error(r(527,z5,"19.1.0"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var CL={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{$e=bh.inject(CL),Ie=bh}catch{}}return jd.createRoot=function(i,o){if(!s(i))throw Error(r(299));var u=!1,p="",v=t_,N=n_,M=a_,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks)),o=T5(i,1,!1,null,null,u,p,v,N,M,U,null),i[Ss]=o.current,bb(i),new $b(o)},jd.hydrateRoot=function(i,o,u){if(!s(i))throw Error(r(299));var p=!1,v="",N=t_,M=n_,U=a_,ee=null,me=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(U=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ee=u.unstable_transitionCallbacks),u.formState!==void 0&&(me=u.formState)),o=T5(i,1,!0,o,u??null,p,v,N,M,U,ee,me),o.context=E5(null),u=o.current,p=Ia(),p=ot(p),v=ki(p),v.callback=null,Ci(u,v,p),u=p,o.current.lanes=u,le(o,u),as(o),i[Ss]=o.current,bb(i),new gh(o)},jd.version="19.1.0",jd}var W5;function BL(){if(W5)return Bb.exports;W5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bb.exports=zL(),Bb.exports}var UL=BL();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var X5="popstate";function FL(e={}){function t(r,s){let{pathname:l,search:c,hash:d}=r.location;return E1("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(r,s){return typeof s=="string"?s:mf(s)}return HL(t,a,null,e)}function an(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VL(){return Math.random().toString(36).substring(2,10)}function Z5(e,t){return{usr:e.state,key:e.key,idx:t}}function E1(e,t,a=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ou(t):t,state:a,key:t&&t.key||r||VL()}}function mf({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function ou(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function HL(e,t,a,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,d="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function x(){d="POP";let S=h(),k=S==null?null:S-m;m=S,f&&f({action:d,location:j.location,delta:k})}function b(S,k){d="PUSH";let _=E1(j.location,S,k);m=h()+1;let C=Z5(_,m),P=j.createHref(_);try{c.pushState(C,"",P)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(P)}l&&f&&f({action:d,location:j.location,delta:1})}function y(S,k){d="REPLACE";let _=E1(j.location,S,k);m=h();let C=Z5(_,m),P=j.createHref(_);c.replaceState(C,"",P),l&&f&&f({action:d,location:j.location,delta:0})}function w(S){return qL(S)}let j={get action(){return d},get location(){return e(s,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(X5,x),f=S,()=>{s.removeEventListener(X5,x),f=null}},createHref(S){return t(s,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:y,go(S){return c.go(S)}};return j}function qL(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),an(a,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:mf(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function JE(e,t,a="/"){return KL(e,t,a,!1)}function KL(e,t,a,r){let s=typeof t=="string"?ou(t):t,l=ri(s.pathname||"/",a);if(l==null)return null;let c=eP(e);GL(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=rI(l);d=nI(c[f],m,r)}return d}function eP(e,t=[],a=[],r=""){let s=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(an(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Js([r,f.relativePath]),h=a.concat(f);l.children&&l.children.length>0&&(an(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),eP(l.children,t,h,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:eI(m,l.index),routesMeta:h})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let f of tP(l.path))s(l,c,f)}),t}function tP(e){let t=e.split("/");if(t.length===0)return[];let[a,...r]=t,s=a.endsWith("?"),l=a.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=tP(r.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),s&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function GL(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:tI(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var YL=/^:[\w-]+$/,WL=3,XL=2,ZL=1,QL=10,JL=-2,Q5=e=>e==="*";function eI(e,t){let a=e.split("/"),r=a.length;return a.some(Q5)&&(r+=JL),t&&(r+=XL),a.filter(s=>!Q5(s)).reduce((s,l)=>s+(YL.test(l)?WL:l===""?ZL:QL),r)}function tI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function nI(e,t,a=!1){let{routesMeta:r}=e,s={},l="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,h=l==="/"?t:t.slice(l.length)||"/",x=$0({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),b=f.route;if(!x&&m&&a&&!r[r.length-1].route.index&&(x=$0({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:Js([l,x.pathname]),pathnameBase:oI(Js([l,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(l=Js([l,x.pathnameBase]))}return c}function $0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=aI(e.path,e.caseSensitive,e.end),s=t.match(a);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:h,isOptional:x},b)=>{if(h==="*"){let w=d[b]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const y=d[b];return x&&!y?m[h]=void 0:m[h]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function aI(e,t=!1,a=!0){Yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function rI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ri(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}function sI(e,t="/"){let{pathname:a,search:r="",hash:s=""}=typeof e=="string"?ou(e):e;return{pathname:a?a.startsWith("/")?a:iI(a,t):t,search:cI(r),hash:uI(s)}}function iI(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function Hb(e,t,a,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lI(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function cj(e){let t=lI(e);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function uj(e,t,a,r=!1){let s;typeof e=="string"?s=ou(e):(s={...e},an(!s.pathname||!s.pathname.includes("?"),Hb("?","pathname","search",s)),an(!s.pathname||!s.pathname.includes("#"),Hb("#","pathname","hash",s)),an(!s.search||!s.search.includes("#"),Hb("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=a;else{let x=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;s.pathname=b.join("/")}d=x>=0?t[x]:"/"}let f=sI(s,d),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&a.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Js=e=>e.join("/").replace(/\/\/+/g,"/"),oI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var nP=["POST","PUT","PATCH","DELETE"];new Set(nP);var fI=["GET",...nP];new Set(fI);var cu=g.createContext(null);cu.displayName="DataRouter";var Mp=g.createContext(null);Mp.displayName="DataRouterState";g.createContext(!1);var aP=g.createContext({isTransitioning:!1});aP.displayName="ViewTransition";var mI=g.createContext(new Map);mI.displayName="Fetchers";var hI=g.createContext(null);hI.displayName="Await";var Zr=g.createContext(null);Zr.displayName="Navigation";var Rf=g.createContext(null);Rf.displayName="Location";var Ar=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var dj=g.createContext(null);dj.displayName="RouteError";function pI(e,{relative:t}={}){an(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=g.useContext(Zr),{hash:s,pathname:l,search:c}=Lf(e,{relative:t}),d=l;return a!=="/"&&(d=l==="/"?a:Js([a,l])),r.createHref({pathname:d,search:c,hash:s})}function uu(){return g.useContext(Rf)!=null}function Ns(){return an(uu(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Rf).location}var rP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sP(e){g.useContext(Zr).static||g.useLayoutEffect(e)}function Zt(){let{isDataRoute:e}=g.useContext(Ar);return e?EI():xI()}function xI(){an(uu(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(cu),{basename:t,navigator:a}=g.useContext(Zr),{matches:r}=g.useContext(Ar),{pathname:s}=Ns(),l=JSON.stringify(cj(r)),c=g.useRef(!1);return sP(()=>{c.current=!0}),g.useCallback((f,m={})=>{if(Yr(c.current,rP),!c.current)return;if(typeof f=="number"){a.go(f);return}let h=uj(f,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Js([t,h.pathname])),(m.replace?a.replace:a.push)(h,m.state,m)},[t,a,l,s,e])}var gI=g.createContext(null);function bI(e){let t=g.useContext(Ar).outlet;return t&&g.createElement(gI.Provider,{value:e},t)}function $f(){let{matches:e}=g.useContext(Ar),t=e[e.length-1];return t?t.params:{}}function Lf(e,{relative:t}={}){let{matches:a}=g.useContext(Ar),{pathname:r}=Ns(),s=JSON.stringify(cj(a));return g.useMemo(()=>uj(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function vI(e,t){return iP(e,t)}function iP(e,t,a,r){var k;an(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=g.useContext(Zr),{matches:l}=g.useContext(Ar),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",h=c&&c.route;{let _=h&&h.path||"";lP(f,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=Ns(),b;if(t){let _=typeof t=="string"?ou(t):t;an(m==="/"||((k=_.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=x;let y=b.pathname||"/",w=y;if(m!=="/"){let _=m.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=JE(e,{pathname:w});Yr(h||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Yr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=SI(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:Js([m,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:Js([m,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,a,r);return t&&S?g.createElement(Rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function yI(){let e=TI(),t=dI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:l},"ErrorBoundary")," or"," ",g.createElement("code",{style:l},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),a?g.createElement("pre",{style:s},a):null,c)}var wI=g.createElement(yI,null),jI=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(Ar.Provider,{value:this.props.routeContext},g.createElement(dj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NI({routeContext:e,match:t,children:a}){let r=g.useContext(cu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Ar.Provider,{value:e},a)}function SI(e,t=[],a=null,r=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let s=e,l=a==null?void 0:a.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);an(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(a)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:h,errors:x}=a,b=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,h)=>{let x,b=!1,y=null,w=null;a&&(x=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||wI,c&&(d<0&&h===0?(lP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):d===h&&(b=!0,w=m.route.hydrateFallbackElement||null)));let j=t.concat(s.slice(0,h+1)),S=()=>{let k;return x?k=y:b?k=w:m.route.Component?k=g.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=f,g.createElement(NI,{match:m,routeContext:{outlet:f,matches:j,isDataRoute:a!=null},children:k})};return a&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?g.createElement(jI,{location:a.location,revalidation:a.revalidation,component:y,error:x,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):S()},null)}function fj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _I(e){let t=g.useContext(cu);return an(t,fj(e)),t}function kI(e){let t=g.useContext(Mp);return an(t,fj(e)),t}function CI(e){let t=g.useContext(Ar);return an(t,fj(e)),t}function mj(e){let t=CI(e),a=t.matches[t.matches.length-1];return an(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function AI(){return mj("useRouteId")}function TI(){var r;let e=g.useContext(dj),t=kI("useRouteError"),a=mj("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[a]}function EI(){let{router:e}=_I("useNavigate"),t=mj("useNavigate"),a=g.useRef(!1);return sP(()=>{a.current=!0}),g.useCallback(async(s,l={})=>{Yr(a.current,rP),a.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var J5={};function lP(e,t,a){!t&&!J5[e]&&(J5[e]=!0,Yr(!1,a))}g.memo(PI);function PI({routes:e,future:t,state:a}){return iP(e,void 0,a,t)}function OI({to:e,replace:t,state:a,relative:r}){an(uu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=g.useContext(Zr);Yr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=g.useContext(Ar),{pathname:c}=Ns(),d=Zt(),f=uj(e,cj(l),c,r==="path"),m=JSON.stringify(f);return g.useEffect(()=>{d(JSON.parse(m),{replace:t,state:a,relative:r})},[d,m,r,t,a]),null}function oP(e){return bI(e.context)}function dt(e){an(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MI({basename:e="/",children:t=null,location:a,navigationType:r="POP",navigator:s,static:l=!1}){an(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof a=="string"&&(a=ou(a));let{pathname:f="/",search:m="",hash:h="",state:x=null,key:b="default"}=a,y=g.useMemo(()=>{let w=ri(f,c);return w==null?null:{location:{pathname:w,search:m,hash:h,state:x,key:b},navigationType:r}},[c,f,m,h,x,b,r]);return Yr(y!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:g.createElement(Zr.Provider,{value:d},g.createElement(Rf.Provider,{children:t,value:y}))}function DI({children:e,location:t}){return vI(P1(e),t)}function P1(e,t=[]){let a=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let l=[...t,s];if(r.type===g.Fragment){a.push.apply(a,P1(r.props.children,l));return}an(r.type===dt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),an(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=P1(r.props.children,l)),a.push(c)}),a}var N0="get",S0="application/x-www-form-urlencoded";function Dp(e){return e!=null&&typeof e.tagName=="string"}function RI(e){return Dp(e)&&e.tagName.toLowerCase()==="button"}function $I(e){return Dp(e)&&e.tagName.toLowerCase()==="form"}function LI(e){return Dp(e)&&e.tagName.toLowerCase()==="input"}function II(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zI(e,t){return e.button===0&&(!t||t==="_self")&&!II(e)}var vh=null;function BI(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var UI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qb(e){return e!=null&&!UI.has(e)?(Yr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${S0}"`),null):e}function FI(e,t){let a,r,s,l,c;if($I(e)){let d=e.getAttribute("action");r=d?ri(d,t):null,a=e.getAttribute("method")||N0,s=qb(e.getAttribute("enctype"))||S0,l=new FormData(e)}else if(RI(e)||LI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?ri(f,t):null,a=e.getAttribute("formmethod")||d.getAttribute("method")||N0,s=qb(e.getAttribute("formenctype"))||qb(d.getAttribute("enctype"))||S0,l=new FormData(d,e),!BI()){let{name:m,type:h,value:x}=e;if(h==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,x)}}else{if(Dp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=N0,r=null,s=S0,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:r,method:a.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hj(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function VI(e,t,a){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&ri(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function HI(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function KI(e,t,a){let r=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await HI(l,a);return c.links?c.links():[]}return[]}));return XI(r.flat(1).filter(qI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function e3(e,t,a,r,s,l){let c=(f,m)=>a[m]?f.route.id!==a[m].route.id:!0,d=(f,m)=>{var h;return a[m].pathname!==f.pathname||((h=a[m].route.path)==null?void 0:h.endsWith("*"))&&a[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?t.filter((f,m)=>{var x;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=a[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function GI(e,t,{includeHydrateFallback:a}={}){return YI(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),a&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function YI(e){return[...new Set(e)]}function WI(e){let t={},a=Object.keys(e).sort();for(let r of a)t[r]=e[r];return t}function XI(e,t){let a=new Set;return new Set(t),e.reduce((r,s)=>{let l=JSON.stringify(WI(s));return a.has(l)||(a.add(l),r.push({key:l,link:s})),r},[])}function cP(){let e=g.useContext(cu);return hj(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ZI(){let e=g.useContext(Mp);return hj(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var pj=g.createContext(void 0);pj.displayName="FrameworkContext";function uP(){let e=g.useContext(pj);return hj(e,"You must render this element inside a <HydratedRouter> element"),e}function QI(e,t){let a=g.useContext(pj),[r,s]=g.useState(!1),[l,c]=g.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:x}=t,b=g.useRef(null);g.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=k=>{k.forEach(_=>{c(_.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),g.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let y=()=>{s(!0)},w=()=>{s(!1),c(!1)};return a?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Nd(d,y),onBlur:Nd(f,w),onMouseEnter:Nd(m,y),onMouseLeave:Nd(h,w),onTouchStart:Nd(x,y)}]:[!1,b,{}]}function Nd(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function JI({page:e,...t}){let{router:a}=cP(),r=g.useMemo(()=>JE(a.routes,e,a.basename),[a.routes,e,a.basename]);return r?g.createElement(tz,{page:e,matches:r,...t}):null}function ez(e){let{manifest:t,routeModules:a}=uP(),[r,s]=g.useState([]);return g.useEffect(()=>{let l=!1;return KI(e,t,a).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,a]),r}function tz({page:e,matches:t,...a}){let r=Ns(),{manifest:s,routeModules:l}=uP(),{basename:c}=cP(),{loaderData:d,matches:f}=ZI(),m=g.useMemo(()=>e3(e,t,f,s,r,"data"),[e,t,f,s,r]),h=g.useMemo(()=>e3(e,t,f,s,r,"assets"),[e,t,f,s,r]),x=g.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,j=!1;if(t.forEach(k=>{var C;let _=s.routes[k.route.id];!_||!_.hasLoader||(!m.some(P=>P.route.id===k.route.id)&&k.route.id in d&&((C=l[k.route.id])!=null&&C.shouldRevalidate)||_.hasClientLoader?j=!0:w.add(k.route.id))}),w.size===0)return[];let S=VI(e,c,"data");return j&&w.size>0&&S.searchParams.set("_routes",t.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[c,d,r,s,m,t,e,l]),b=g.useMemo(()=>GI(h,s),[h,s]),y=ez(h);return g.createElement(g.Fragment,null,x.map(w=>g.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...a})),b.map(w=>g.createElement("link",{key:w,rel:"modulepreload",href:w,...a})),y.map(({key:w,link:j})=>g.createElement("link",{key:w,...j})))}function nz(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var dP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dP&&(window.__reactRouterVersion="7.7.1")}catch{}function az({basename:e,children:t,window:a}){let r=g.useRef();r.current==null&&(r.current=FL({window:a,v5Compat:!0}));let s=r.current,[l,c]=g.useState({action:s.action,location:s.location}),d=g.useCallback(f=>{g.startTransition(()=>c(f))},[c]);return g.useLayoutEffect(()=>s.listen(d),[s,d]),g.createElement(MI,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var fP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mP=g.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:s,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:h,viewTransition:x,...b},y){let{basename:w}=g.useContext(Zr),j=typeof m=="string"&&fP.test(m),S,k=!1;if(typeof m=="string"&&j&&(S=m,dP))try{let V=new URL(window.location.href),K=m.startsWith("//")?new URL(V.protocol+m):new URL(m),F=ri(K.pathname,w);K.origin===V.origin&&F!=null?m=F+K.search+K.hash:k=!0}catch{Yr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=pI(m,{relative:s}),[C,P,A]=QI(r,b),T=lz(m,{replace:c,state:d,target:f,preventScrollReset:h,relative:s,viewTransition:x});function R(V){t&&t(V),V.defaultPrevented||T(V)}let O=g.createElement("a",{...b,...A,href:S||_,onClick:k||l?t:R,ref:nz(y,P),target:f,"data-discover":!j&&a==="render"?"true":void 0});return C&&!j?g.createElement(g.Fragment,null,O,g.createElement(JI,{page:_})):O});mP.displayName="Link";var rz=g.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:s=!1,style:l,to:c,viewTransition:d,children:f,...m},h){let x=Lf(c,{relative:m.relative}),b=Ns(),y=g.useContext(Mp),{navigator:w,basename:j}=g.useContext(Zr),S=y!=null&&fz(x)&&d===!0,k=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,_=b.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(_=_.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&j&&(C=ri(C,j)||C);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let A=_===k||!s&&_.startsWith(k)&&_.charAt(P)==="/",T=C!=null&&(C===k||!s&&C.startsWith(k)&&C.charAt(k.length)==="/"),R={isActive:A,isPending:T,isTransitioning:S},O=A?t:void 0,V;typeof r=="function"?V=r(R):V=[r,A?"active":null,T?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(R):l;return g.createElement(mP,{...m,"aria-current":O,className:V,ref:h,style:K,to:c,viewTransition:d},typeof f=="function"?f(R):f)});rz.displayName="NavLink";var sz=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:s,state:l,method:c=N0,action:d,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:x,...b},y)=>{let w=uz(),j=dz(d,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&fP.test(d),_=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,A=(P==null?void 0:P.getAttribute("formmethod"))||c;w(P||C.currentTarget,{fetcherKey:t,method:A,navigate:a,replace:s,state:l,relative:m,preventScrollReset:h,viewTransition:x})};return g.createElement("form",{ref:y,method:S,action:j,onSubmit:r?f:_,...b,"data-discover":!k&&e==="render"?"true":void 0})});sz.displayName="Form";function iz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hP(e){let t=g.useContext(cu);return an(t,iz(e)),t}function lz(e,{target:t,replace:a,state:r,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Zt(),f=Ns(),m=Lf(e,{relative:l});return g.useCallback(h=>{if(zI(h,t)){h.preventDefault();let x=a!==void 0?a:mf(f)===mf(m);d(e,{replace:x,state:r,preventScrollReset:s,relative:l,viewTransition:c})}},[f,d,m,a,r,t,e,s,l,c])}var oz=0,cz=()=>`__${String(++oz)}__`;function uz(){let{router:e}=hP("useSubmit"),{basename:t}=g.useContext(Zr),a=AI();return g.useCallback(async(r,s={})=>{let{action:l,method:c,encType:d,formData:f,body:m}=FI(r,t);if(s.navigate===!1){let h=s.fetcherKey||cz();await e.fetch(h,a,s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:a,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,a])}function dz(e,{relative:t}={}){let{basename:a}=g.useContext(Zr),r=g.useContext(Ar);an(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...Lf(e||".",{relative:t})},c=Ns();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(h=>h==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let h=d.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(l.pathname=l.pathname==="/"?a:Js([a,l.pathname])),mf(l)}function fz(e,{relative:t}={}){let a=g.useContext(aP);an(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hP("useViewTransitionState"),s=Lf(e,{relative:t});if(!a.isTransitioning)return!1;let l=ri(a.currentLocation.pathname,r)||a.currentLocation.pathname,c=ri(a.nextLocation.pathname,r)||a.nextLocation.pathname;return $0(s.pathname,c)!=null||$0(s.pathname,l)!=null}var mz=QE();function pP(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=pP(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function xt(){for(var e,t,a=0,r="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=pP(e))&&(r&&(r+=" "),r+=t);return r}function hz(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}hz(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var If=e=>typeof e=="number"&&!isNaN(e),xo=e=>typeof e=="string",si=e=>typeof e=="function",pz=e=>xo(e)||If(e),O1=e=>xo(e)||si(e)?e:null,xz=(e,t)=>e===!1||If(e)&&e>0?e:t,M1=e=>g.isValidElement(e)||xo(e)||si(e)||If(e);function gz(e,t,a=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${a}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,a)})})}function bz({enter:e,exit:t,appendPosition:a=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:l,position:c,preventExitTransition:d,done:f,nodeRef:m,isIn:h,playToast:x}){let b=a?`${e}--${c}`:e,y=a?`${t}--${c}`:t,w=g.useRef(0);return g.useLayoutEffect(()=>{let j=m.current,S=b.split(" "),k=_=>{_.target===m.current&&(x(),j.removeEventListener("animationend",k),j.removeEventListener("animationcancel",k),w.current===0&&_.type!=="animationcancel"&&j.classList.remove(...S))};j.classList.add(...S),j.addEventListener("animationend",k),j.addEventListener("animationcancel",k)},[]),g.useEffect(()=>{let j=m.current,S=()=>{j.removeEventListener("animationend",S),r?gz(j,f,s):f()};h||(d?S():(w.current=1,j.className+=` ${y}`,j.addEventListener("animationend",S)))},[h]),_t.createElement(_t.Fragment,null,l)}}function t3(e,t){return{content:xP(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function xP(e,t,a=!1){return g.isValidElement(e)&&!xo(e.type)?g.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:a}):si(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:a}):e}function vz({closeToast:e,theme:t,ariaLabel:a="close"}){return _t.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":a},_t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},_t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function yz({delay:e,isRunning:t,closeToast:a,type:r="default",hide:s,className:l,controlledProgress:c,progress:d,rtl:f,isIn:m,theme:h}){let x=s||c&&d===0,b={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(b.transform=`scaleX(${d})`);let y=xt("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),w=si(l)?l({rtl:f,type:r,defaultClassName:y}):xt(y,l),j={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{m&&a()}};return _t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},_t.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),_t.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:w,style:b,...j}))}var wz=1,gP=()=>`${wz++}`;function jz(e,t,a){let r=1,s=0,l=[],c=[],d=t,f=new Map,m=new Set,h=_=>(m.add(_),()=>m.delete(_)),x=()=>{c=Array.from(f.values()),m.forEach(_=>_())},b=({containerId:_,toastId:C,updateId:P})=>{let A=_?_!==e:e!==1,T=f.has(C)&&P==null;return A||T},y=(_,C)=>{f.forEach(P=>{var A;(C==null||C===P.props.toastId)&&((A=P.toggle)==null||A.call(P,_))})},w=_=>{var C,P;(P=(C=_.props)==null?void 0:C.onClose)==null||P.call(C,_.removalReason),_.isActive=!1},j=_=>{if(_==null)f.forEach(w);else{let C=f.get(_);C&&w(C)}x()},S=()=>{s-=l.length,l=[]},k=_=>{var C,P;let{toastId:A,updateId:T}=_.props,R=T==null;_.staleId&&f.delete(_.staleId),_.isActive=!0,f.set(A,_),x(),a(t3(_,R?"added":"updated")),R&&((P=(C=_.props).onOpen)==null||P.call(C))};return{id:e,props:d,observe:h,toggle:y,removeToast:j,toasts:f,clearQueue:S,buildToast:(_,C)=>{if(b(C))return;let{toastId:P,updateId:A,data:T,staleId:R,delay:O}=C,V=A==null;V&&s++;let K={...d,style:d.toastStyle,key:r++,...Object.fromEntries(Object.entries(C).filter(([L,te])=>te!=null)),toastId:P,updateId:A,data:T,isIn:!1,className:O1(C.className||d.toastClassName),progressClassName:O1(C.progressClassName||d.progressClassName),autoClose:C.isLoading?!1:xz(C.autoClose,d.autoClose),closeToast(L){f.get(P).removalReason=L,j(P)},deleteToast(){let L=f.get(P);if(L!=null){if(a(t3(L,"removed")),f.delete(P),s--,s<0&&(s=0),l.length>0){k(l.shift());return}x()}}};K.closeButton=d.closeButton,C.closeButton===!1||M1(C.closeButton)?K.closeButton=C.closeButton:C.closeButton===!0&&(K.closeButton=M1(d.closeButton)?d.closeButton:!0);let F={content:_,props:K,staleId:R};d.limit&&d.limit>0&&s>d.limit&&V?l.push(F):If(O)?setTimeout(()=>{k(F)},O):k(F)},setProps(_){d=_},setToggle:(_,C)=>{let P=f.get(_);P&&(P.toggle=C)},isToastActive:_=>{var C;return(C=f.get(_))==null?void 0:C.isActive},getSnapshot:()=>c}}var ma=new Map,hf=[],D1=new Set,Nz=e=>D1.forEach(t=>t(e)),bP=()=>ma.size>0;function Sz(){hf.forEach(e=>yP(e.content,e.options)),hf=[]}var _z=(e,{containerId:t})=>{var a;return(a=ma.get(t||1))==null?void 0:a.toasts.get(e)};function vP(e,t){var a;if(t)return!!((a=ma.get(t))!=null&&a.isToastActive(e));let r=!1;return ma.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function kz(e){if(!bP()){hf=hf.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||pz(e))ma.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ma.get(e.containerId);t?t.removeToast(e.id):ma.forEach(a=>{a.removeToast(e.id)})}}var Cz=(e={})=>{ma.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function yP(e,t){M1(e)&&(bP()||hf.push({content:e,options:t}),ma.forEach(a=>{a.buildToast(e,t)}))}function Az(e){var t;(t=ma.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function wP(e,t){ma.forEach(a=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===a.id)&&a.toggle(e,t==null?void 0:t.id)})}function Tz(e){let t=e.containerId||1;return{subscribe(a){let r=jz(t,e,Nz);ma.set(t,r);let s=r.observe(a);return Sz(),()=>{s(),ma.delete(t)}},setProps(a){var r;(r=ma.get(t))==null||r.setProps(a)},getSnapshot(){var a;return(a=ma.get(t))==null?void 0:a.getSnapshot()}}}function Ez(e){return D1.add(e),()=>{D1.delete(e)}}function Pz(e){return e&&(xo(e.toastId)||If(e.toastId))?e.toastId:gP()}function zf(e,t){return yP(e,t),t.toastId}function Rp(e,t){return{...t,type:t&&t.type||e,toastId:Pz(t)}}function $p(e){return(t,a)=>zf(t,Rp(e,a))}function I(e,t){return zf(e,Rp("default",t))}I.loading=(e,t)=>zf(e,Rp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Oz(e,{pending:t,error:a,success:r},s){let l;t&&(l=xo(t)?I.loading(t,s):I.loading(t.render,{...s,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,h,x)=>{if(h==null){I.dismiss(l);return}let b={type:m,...c,...s,data:x},y=xo(h)?{render:h}:h;return l?I.update(l,{...b,...y}):I(y.render,{...b,...y}),x},f=si(e)?e():e;return f.then(m=>d("success",r,m)).catch(m=>d("error",a,m)),f}I.promise=Oz;I.success=$p("success");I.info=$p("info");I.error=$p("error");I.warning=$p("warning");I.warn=I.warning;I.dark=(e,t)=>zf(e,Rp("default",{theme:"dark",...t}));function Mz(e){kz(e)}I.dismiss=Mz;I.clearWaitingQueue=Cz;I.isActive=vP;I.update=(e,t={})=>{let a=_z(e,t);if(a){let{props:r,content:s}=a,l={delay:100,...r,...t,toastId:t.toastId||e,updateId:gP()};l.toastId!==e&&(l.staleId=e);let c=l.render||s;delete l.render,zf(c,l)}};I.done=e=>{I.update(e,{progress:1})};I.onChange=Ez;I.play=e=>wP(!0,e);I.pause=e=>wP(!1,e);function Dz(e){var t;let{subscribe:a,getSnapshot:r,setProps:s}=g.useRef(Tz(e)).current;s(e);let l=(t=g.useSyncExternalStore(a,r,r))==null?void 0:t.slice();function c(d){if(!l)return[];let f=new Map;return e.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:h}=m.props;f.has(h)||f.set(h,[]),f.get(h).push(m)}),Array.from(f,m=>d(m[0],m[1]))}return{getToastToRender:c,isToastActive:vP,count:l==null?void 0:l.length}}function Rz(e){let[t,a]=g.useState(!1),[r,s]=g.useState(!1),l=g.useRef(null),c=g.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:m,onClick:h,closeOnClick:x}=e;Az({id:e.toastId,containerId:e.containerId,fn:a}),g.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{y()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||k(),window.addEventListener("focus",S),window.addEventListener("blur",k)}function y(){window.removeEventListener("focus",S),window.removeEventListener("blur",k)}function w(R){if(e.draggable===!0||e.draggable===R.pointerType){_();let O=l.current;c.canCloseOnClick=!0,c.canDrag=!0,O.style.transition="none",e.draggableDirection==="x"?(c.start=R.clientX,c.removalDistance=O.offsetWidth*(e.draggablePercent/100)):(c.start=R.clientY,c.removalDistance=O.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function j(R){let{top:O,bottom:V,left:K,right:F}=l.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&e.pauseOnHover&&R.clientX>=K&&R.clientX<=F&&R.clientY>=O&&R.clientY<=V?k():S()}function S(){a(!0)}function k(){a(!1)}function _(){c.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",A)}function C(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",A)}function P(R){let O=l.current;if(c.canDrag&&O){c.didMove=!0,t&&k(),e.draggableDirection==="x"?c.delta=R.clientX-c.start:c.delta=R.clientY-c.start,c.start!==R.clientX&&(c.canCloseOnClick=!1);let V=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;O.style.transform=`translate3d(${V},0)`,O.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function A(){C();let R=l.current;if(c.canDrag&&c.didMove&&R){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let T={onPointerDown:w,onPointerUp:j};return d&&f&&(T.onMouseEnter=k,e.stacked||(T.onMouseLeave=S)),x&&(T.onClick=R=>{h&&h(R),c.canCloseOnClick&&m(!0)}),{playToast:S,pauseToast:k,isRunning:t,preventExitTransition:r,toastRef:l,eventHandlers:T}}var $z=typeof window<"u"?g.useLayoutEffect:g.useEffect,Lp=({theme:e,type:t,isLoading:a,...r})=>_t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function Lz(e){return _t.createElement(Lp,{...e},_t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Iz(e){return _t.createElement(Lp,{...e},_t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function zz(e){return _t.createElement(Lp,{...e},_t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Bz(e){return _t.createElement(Lp,{...e},_t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Uz(){return _t.createElement("div",{className:"Toastify__spinner"})}var R1={info:Iz,warning:Lz,success:zz,error:Bz,spinner:Uz},Fz=e=>e in R1;function Vz({theme:e,type:t,isLoading:a,icon:r}){let s=null,l={theme:e,type:t};return r===!1||(si(r)?s=r({...l,isLoading:a}):g.isValidElement(r)?s=g.cloneElement(r,l):a?s=R1.spinner():Fz(t)&&(s=R1[t](l))),s}var Hz=e=>{let{isRunning:t,preventExitTransition:a,toastRef:r,eventHandlers:s,playToast:l}=Rz(e),{closeButton:c,children:d,autoClose:f,onClick:m,type:h,hideProgressBar:x,closeToast:b,transition:y,position:w,className:j,style:S,progressClassName:k,updateId:_,role:C,progress:P,rtl:A,toastId:T,deleteToast:R,isIn:O,isLoading:V,closeOnClick:K,theme:F,ariaLabel:L}=e,te=xt("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":K}),Ne=si(j)?j({rtl:A,position:w,type:h,defaultClassName:te}):xt(te,j),re=Vz(e),D=!!P||!f,Y={closeToast:b,type:h,theme:F},H=null;return c===!1||(si(c)?H=c(Y):g.isValidElement(c)?H=g.cloneElement(c,Y):H=vz(Y)),_t.createElement(y,{isIn:O,done:R,position:w,preventExitTransition:a,nodeRef:r,playToast:l},_t.createElement("div",{id:T,tabIndex:0,onClick:m,"data-in":O,className:Ne,...s,style:S,ref:r,...O&&{role:C,"aria-label":L}},re!=null&&_t.createElement("div",{className:xt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},re),xP(d,e,!t),H,!e.customProgressBar&&_t.createElement(yz,{..._&&!D?{key:`p-${_}`}:{},rtl:A,theme:F,delay:f,isRunning:t,isIn:O,closeToast:b,hide:x,type:h,className:k,controlledProgress:D,progress:P||0})))},qz=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Kz=bz(qz("bounce",!0)),Gz={position:"top-right",transition:Kz,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Yz(e){let t={...Gz,...e},a=e.stacked,[r,s]=g.useState(!0),l=g.useRef(null),{getToastToRender:c,isToastActive:d,count:f}=Dz(t),{className:m,style:h,rtl:x,containerId:b,hotKeys:y}=t;function w(S){let k=xt("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":x});return si(m)?m({position:S,rtl:x,defaultClassName:k}):xt(k,O1(m))}function j(){a&&(s(!0),I.play())}return $z(()=>{var S;if(a){let k=l.current.querySelectorAll('[data-in="true"]'),_=12,C=(S=t.position)==null?void 0:S.includes("top"),P=0,A=0;Array.from(k).reverse().forEach((T,R)=>{let O=T;O.classList.add("Toastify__toast--stacked"),R>0&&(O.dataset.collapsed=`${r}`),O.dataset.pos||(O.dataset.pos=C?"top":"bot");let V=P*(r?.2:1)+(r?0:_*R);O.style.setProperty("--y",`${C?V:V*-1}px`),O.style.setProperty("--g",`${_}`),O.style.setProperty("--s",`${1-(r?A:0)}`),P+=O.offsetHeight,A+=.025})}},[r,f,a]),g.useEffect(()=>{function S(k){var _;let C=l.current;y(k)&&((_=C.querySelector('[tabIndex="0"]'))==null||_.focus(),s(!1),I.pause()),k.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(s(!0),I.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[y]),_t.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{a&&(s(!1),I.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((S,k)=>{let _=k.length?{...h}:{...h,pointerEvents:"none"};return _t.createElement("div",{tabIndex:-1,className:w(S),"data-stacked":a,style:_,key:`c-${S}`},k.map(({content:C,props:P})=>_t.createElement(Hz,{...P,stacked:a,collapseAll:j,isIn:d(P.toastId,P.containerId),key:`t-${P.key}`},C)))}))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase()),n3=e=>{const t=Xz(e);return t.charAt(0).toUpperCase()+t.slice(1)},jP=(...e)=>e.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim(),Zz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...d},f)=>g.createElement("svg",{ref:f,...Qz,width:t,height:t,stroke:e,strokeWidth:r?Number(a)*24/Number(t):a,className:jP("lucide",s),...!l&&!Zz(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>g.createElement(m,h)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(e,t)=>{const a=g.forwardRef(({className:r,...s},l)=>g.createElement(Jz,{ref:l,iconNode:t,className:jP(`lucide-${Wz(n3(e))}`,`lucide-${e}`,r),...s}));return a.displayName=n3(e),a};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tB=Me("activity",eB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],NP=Me("arrow-left",nB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ip=Me("arrow-right",aB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]],sB=Me("badge-info",rB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],lB=Me("bell-ring",iB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cB=Me("bell",oB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],xj=Me("bot",uB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],gj=Me("brain-circuit",dB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],a3=Me("building-2",fB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],hB=Me("calendar-clock",mB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],xB=Me("calendar-days",pB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],bB=Me("calendar-range",gB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kr=Me("calendar",vB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],wB=Me("camera",yB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$1=Me("chart-column",jB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],L0=Me("check",NB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SP=Me("chevron-down",SB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ba=Me("chevron-left",_B);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gn=Me("chevron-right",kB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_P=Me("chevron-up",CB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wr=Me("circle-alert",AB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],L1=Me("circle-check-big",TB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mn=Me("circle-check",EB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],I1=Me("circle-play",PB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MB=Me("circle-question-mark",OB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nr=Me("circle-x",DB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],z1=Me("circle",RB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],LB=Me("clipboard-copy",$B);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zB=Me("clock-3",IB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cl=Me("clock",BB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],FB=Me("cloud-upload",UB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],HB=Me("code",VB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ya=Me("copy",qB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],r3=Me("crop",KB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Kb=Me("crown",GB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Dc=Me("database",YB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],s3=Me("dollar-sign",WB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pf=Me("download",XB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],B1=Me("external-link",ZB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vc=Me("eye-off",QB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],On=Me("eye",JB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],i3=Me("facebook",eU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],kP=Me("file-code-2",tU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Gd=Me("file-spreadsheet",nU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zp=Me("file-text",aU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],du=Me("funnel",rU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rl=Me("globe",sU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],l3=Me("hash",iU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Gb=Me("history",lU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],bj=Me("house",oU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],o3=Me("image-off",cU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],dU=Me("image",uU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],mU=Me("inbox",fU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pU=Me("info",hU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],_c=Me("key-round",xU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],bU=Me("key",gU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],xs=Me("link",vU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],CP=Me("list-checks",yU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_n=Me("loader-circle",wU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Hc=Me("lock",jU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],yh=Me("log-in",NU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],I0=Me("log-out",SU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Pa=Me("mail",_U);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ii=Me("map-pin",kU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],AU=Me("message-square",CU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],EU=Me("messages-square",TU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],OU=Me("pause",PU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],c3=Me("pen-line",MU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],U1=Me("phone-call",DU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ht=Me("phone",RU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Bf=Me("play",$U);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],vj=Me("plug-zap",LU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sr=Me("plus",IU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],BU=Me("puzzle",zU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yj=Me("radio",UU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],VU=Me("refresh-ccw",FU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qe=Me("refresh-cw",HU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],wj=Me("rocket",qU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],GU=Me("rotate-ccw",KU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ea=Me("search",YU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],F1=Me("send",WU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jj=Me("settings",XU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],QU=Me("shield-alert",ZU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nj=Me("shield-check",JU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ul=Me("shield",eF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],wh=Me("shopping-cart",tF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],aF=Me("skip-forward",nF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],sF=Me("sliders-horizontal",rF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],u3=Me("smartphone",iF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fu=Me("sparkles",lF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],d3=Me("square-check-big",oF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],Yb=Me("square-kanban",cF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Jd=Me("square-pen",uF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],fF=Me("square-terminal",dF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],qc=Me("square",mF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],pF=Me("sticky-note",hF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],gF=Me("test-tube-diagonal",xF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],vF=Me("toggle-left",bF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],wF=Me("toggle-right",yF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ta=Me("trash-2",jF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AP=Me("triangle-alert",NF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],_F=Me("unlink",SF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CF=Me("user-check",kF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],TP=Me("user-round",AF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rc=Me("user",TF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ha=Me("users",EF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Sj=Me("volume-2",PF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],MF=Me("wand-sparkles",OF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],RF=Me("wrench",DF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],va=Me("x",$F);function LF(){const[e,t]=g.useState({username:"",email:"",password:""}),[a,r]=g.useState(!1),[s,l]=g.useState({}),[c,d]=g.useState(!1),f=Zt(),m="https://aisdr-dbt.ddns.net",h=j=>{const{name:S,value:k}=j.target;t(_=>({..._,[S]:k})),s[S]&&l(_=>({..._,[S]:""}))},x=()=>{const j={};return e.username.trim()?e.username.length<3&&(j.username="Username must be at least 3 characters"):j.username="Username is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(j.email="Please enter a valid email address"):j.email="Email is required",e.password?e.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",l(j),Object.keys(j).length===0},b=async j=>{if(j.preventDefault(),!!x()){d(!0),l({});try{localStorage.setItem("name",e.username),localStorage.setItem("email",e.email)}catch{}try{const S=await fetch(`${m}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,email:e.email,password:e.password})}),k=await S.json();if(S.ok)I.success("Account created successfully! "),setTimeout(()=>{f(`/otp?email=${encodeURIComponent(e.email)}`)},1200);else{const _=k.message||k.detail||"Something went wrong. Please try again.";l({submit:_}),I.error(_)}}catch{const S="Network error. Please check your connection and try again.";l({submit:S}),I.error(S)}finally{d(!1)}}},y=e.password.length,w=y>=6?"bg-green-500 w-full":y>=4?"bg-blue-500 w-3/4":y>=2?"bg-yellow-500 w-1/2":y>0?"bg-red-500 w-1/4":"w-0";return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:n.jsx(Rc,{className:"w-8 h-8 text-white"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",n.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign in here"})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[n.jsxs("form",{className:"space-y-6",onSubmit:b,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Rc,{className:`h-5 w-5 ${e.username?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.username?"border-red-300 focus:border-red-500 focus:ring-red-500":e.username?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username"}),e.username&&!s.username&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx(L1,{className:"h-5 w-5 text-green-500"})})]}),s.username&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(wr,{className:"h-4 w-4 mr-1"}),s.username]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Pa,{className:`h-5 w-5 ${e.email?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx(L1,{className:"h-5 w-5 text-green-500"})})]}),s.email&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(wr,{className:"h-4 w-4 mr-1"}),s.email]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Hc,{className:`h-5 w-5 ${e.password?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Create a password"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200",onClick:()=>r(!a),children:a?n.jsx(Vc,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):n.jsx(On,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),n.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:n.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${w}`})}),n.jsx("span",{className:"text-xs text-gray-500",children:"6+ characters"})]}),s.password&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(wr,{className:"h-4 w-4 mr-1"}),s.password]})]}),s.submit&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[n.jsx(wr,{className:"h-5 w-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Creating account..."]}):n.jsxs("div",{className:"flex items-center",children:["Create account",n.jsx(Ip,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200",children:[n.jsx("div",{className:"absolute -inset-x-10 -top-10 h-24 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-slate-600",children:"By creating an account you agree to our"}),n.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms"}),n.jsx("span",{className:"text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy"})]})]})]})})]})})]})}function IF(){const[e,t]=g.useState(30),a="/",r="/bg.gif";g.useEffect(()=>{const d=setInterval(()=>{t(f=>f<=1?(window.location.href=a,0):f-1)},1e3);return()=>clearInterval(d)},[]);const s=()=>window.location.href=a,l=()=>window.history.back(),c=()=>window.location.reload();return n.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[n.jsx("div",{className:"fixed inset-0 flex justify-center pointer-events-none",children:n.jsx("img",{src:r,alt:"Animated 404 background",className:`\r
      h-screen\r
      w-[68vw]              /*  your final locked width */\r
      max-w-[1280px]        /*  prevent over-expanding on ultra-wide */\r
      min-w-[320px]         /*  prevent too-narrow on small phones */\r
      object-cover\r
      translate-y-[8vh] sm:translate-y-[10vh] md:translate-y-[23vh]\r
    `,style:{objectPosition:"center 78%"},loading:"eager",decoding:"async",fetchPriority:"high"})}),n.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 py-10",children:n.jsxs("div",{className:`w-full max-w-4xl text-center\r
                     -translate-y-6 sm:-translate-y-10 md:-translate-y-74\r
                     transform-gpu`,children:[n.jsx("h1",{className:`\r
              text-[56px] sm:text-[80px] md:text-[110px]\r
              font-bold tracking-tight text-blue-900\r
              select-none\r
            `,style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"404"}),n.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-blue-900",style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"Looks like youre lost"}),n.jsx("p",{className:"mt-2 text-blue-800",children:"The page you are looking for is not available."}),n.jsxs("div",{className:"mt-6 space-y-3",children:[n.jsxs("button",{onClick:s,className:`\r
                w-full sm:w-auto inline-flex items-center justify-center\r
                rounded-lg px-5 py-3\r
                text-white bg-blue-600 hover:bg-blue-700\r
                transition-all duration-200 shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700\r
              `,children:[n.jsx(bj,{className:"mr-2 h-5 w-5"}),"Go to Home"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-center",children:[n.jsxs("button",{onClick:l,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[n.jsx(NP,{className:"mr-2 h-4 w-4"}),"Go Back"]}),n.jsxs("button",{onClick:c,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[n.jsx(qe,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),n.jsxs("div",{className:"mt-3 text-sm text-blue-900",children:[n.jsx("a",{href:"/login",className:"underline hover:opacity-80",children:"Login"}),n.jsx("span",{className:"mx-2",children:""}),n.jsx("a",{href:"/signup",className:"underline hover:opacity-80",children:"Sign Up"})]})]}),n.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-blue-50/90 px-4 py-2 text-blue-900 border border-blue-200",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),n.jsxs("p",{className:"text-sm",children:["Redirecting to homepage in"," ",n.jsx("span",{className:"font-semibold",children:e})," seconds"]})]})]})})]})}const _j=g.createContext({});function Uf(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const kj=typeof window<"u",Cj=kj?g.useLayoutEffect:g.useEffect,Bp=g.createContext(null);function Aj(e,t){e.indexOf(t)===-1&&e.push(t)}function Up(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}const li=(e,t,a)=>a>t?t:a<e?e:a;let Tj=()=>{};const oi={},EP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function PP(e){return typeof e=="object"&&e!==null}const OP=e=>/^0[^.\s]+$/u.test(e);function Ej(e){let t;return()=>(t===void 0&&(t=e()),t)}const _r=e=>e,zF=(e,t)=>a=>t(e(a)),Ff=(...e)=>e.reduce(zF),Kc=(e,t,a)=>{const r=t-e;return r===0?1:(a-e)/r};class Pj{constructor(){this.subscriptions=[]}add(t){return Aj(this.subscriptions,t),()=>Up(this.subscriptions,t)}notify(t,a,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,a,r);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gr=e=>e*1e3,gs=e=>e/1e3;function MP(e,t){return t?e*(1e3/t):0}const BF=(e,t,a)=>{const r=t-e;return((a-e)%r+r)%r+e},DP=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,UF=1e-7,FF=12;function VF(e,t,a,r,s){let l,c,d=0;do c=t+(a-t)/2,l=DP(c,r,s)-e,l>0?a=c:t=c;while(Math.abs(l)>UF&&++d<FF);return c}function Vf(e,t,a,r){if(e===t&&a===r)return _r;const s=l=>VF(l,0,1,e,a);return l=>l===0||l===1?l:DP(s(l),t,r)}const RP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$P=e=>t=>1-e(1-t),LP=Vf(.33,1.53,.69,.99),Oj=$P(LP),IP=RP(Oj),zP=e=>(e*=2)<1?.5*Oj(e):.5*(2-Math.pow(2,-10*(e-1))),Mj=e=>1-Math.sin(Math.acos(e)),BP=$P(Mj),UP=RP(Mj),HF=Vf(.42,0,1,1),qF=Vf(0,0,.58,1),FP=Vf(.42,0,.58,1),VP=e=>Array.isArray(e)&&typeof e[0]!="number";function HP(e,t){return VP(e)?e[BF(0,e.length,t)]:e}const qP=e=>Array.isArray(e)&&typeof e[0]=="number",KF={linear:_r,easeIn:HF,easeInOut:FP,easeOut:qF,circIn:Mj,circInOut:UP,circOut:BP,backIn:Oj,backInOut:IP,backOut:LP,anticipate:zP},GF=e=>typeof e=="string",f3=e=>{if(qP(e)){Tj(e.length===4);const[t,a,r,s]=e;return Vf(t,a,r,s)}else if(GF(e))return KF[e];return e},jh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YF(e,t){let a=new Set,r=new Set,s=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(h){c.has(h)&&(m.schedule(h),e()),h(d)}const m={schedule:(h,x=!1,b=!1)=>{const w=b&&s?a:r;return x&&c.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),c.delete(h)},process:h=>{if(d=h,s){l=!0;return}s=!0,[a,r]=[r,a],a.forEach(f),a.clear(),s=!1,l&&(l=!1,m.process(h))}};return m}const WF=40;function KP(e,t){let a=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>a=!0,c=jh.reduce((C,P)=>(C[P]=YF(l),C),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:h,update:x,preRender:b,render:y,postRender:w}=c,j=()=>{const C=oi.useManualTiming?s.timestamp:performance.now();a=!1,oi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(C-s.timestamp,WF),1)),s.timestamp=C,s.isProcessing=!0,d.process(s),f.process(s),m.process(s),h.process(s),x.process(s),b.process(s),y.process(s),w.process(s),s.isProcessing=!1,a&&t&&(r=!1,e(j))},S=()=>{a=!0,r=!0,s.isProcessing||e(j)};return{schedule:jh.reduce((C,P)=>{const A=c[P];return C[P]=(T,R=!1,O=!1)=>(a||S(),A.schedule(T,R,O)),C},{}),cancel:C=>{for(let P=0;P<jh.length;P++)c[jh[P]].cancel(C)},state:s,steps:c}}const{schedule:Wt,cancel:ci,state:Jn,steps:Wb}=KP(typeof requestAnimationFrame<"u"?requestAnimationFrame:_r,!0);let _0;function XF(){_0=void 0}const Aa={now:()=>(_0===void 0&&Aa.set(Jn.isProcessing||oi.useManualTiming?Jn.timestamp:performance.now()),_0),set:e=>{_0=e,queueMicrotask(XF)}},GP=e=>t=>typeof t=="string"&&t.startsWith(e),Dj=GP("--"),ZF=GP("var(--"),Rj=e=>ZF(e)?QF.test(e.split("/*")[0].trim()):!1,QF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xf={...mu,transform:e=>li(0,1,e)},Nh={...mu,default:1},ef=e=>Math.round(e*1e5)/1e5,$j=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JF(e){return e==null}const eV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lj=(e,t)=>a=>!!(typeof a=="string"&&eV.test(a)&&a.startsWith(e)||t&&!JF(a)&&Object.prototype.hasOwnProperty.call(a,t)),YP=(e,t,a)=>r=>{if(typeof r!="string")return r;const[s,l,c,d]=r.match($j);return{[e]:parseFloat(s),[t]:parseFloat(l),[a]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},tV=e=>li(0,255,e),Xb={...mu,transform:e=>Math.round(tV(e))},no={test:Lj("rgb","red"),parse:YP("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:r=1})=>"rgba("+Xb.transform(e)+", "+Xb.transform(t)+", "+Xb.transform(a)+", "+ef(xf.transform(r))+")"};function nV(e){let t="",a="",r="",s="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,a+=a,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const V1={test:Lj("#"),parse:nV,transform:no.transform},Hf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),el=Hf("deg"),bs=Hf("%"),lt=Hf("px"),aV=Hf("vh"),rV=Hf("vw"),m3={...bs,parse:e=>bs.parse(e)/100,transform:e=>bs.transform(e*100)},kc={test:Lj("hsl","hue"),parse:YP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(e)+", "+bs.transform(ef(t))+", "+bs.transform(ef(a))+", "+ef(xf.transform(r))+")"},Sn={test:e=>no.test(e)||V1.test(e)||kc.test(e),parse:e=>no.test(e)?no.parse(e):kc.test(e)?kc.parse(e):V1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?no.transform(e):kc.transform(e),getAnimatableNone:e=>{const t=Sn.parse(e);return t.alpha=0,Sn.transform(t)}},sV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iV(e){var t,a;return isNaN(e)&&typeof e=="string"&&(((t=e.match($j))==null?void 0:t.length)||0)+(((a=e.match(sV))==null?void 0:a.length)||0)>0}const WP="number",XP="color",lV="var",oV="var(",h3="${}",cV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gf(e){const t=e.toString(),a=[],r={color:[],number:[],var:[]},s=[];let l=0;const d=t.replace(cV,f=>(Sn.test(f)?(r.color.push(l),s.push(XP),a.push(Sn.parse(f))):f.startsWith(oV)?(r.var.push(l),s.push(lV),a.push(f)):(r.number.push(l),s.push(WP),a.push(parseFloat(f))),++l,h3)).split(h3);return{values:a,split:d,indexes:r,types:s}}function ZP(e){return gf(e).values}function QP(e){const{split:t,types:a}=gf(e),r=t.length;return s=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],s[c]!==void 0){const d=a[c];d===WP?l+=ef(s[c]):d===XP?l+=Sn.transform(s[c]):l+=s[c]}return l}}const uV=e=>typeof e=="number"?0:Sn.test(e)?Sn.getAnimatableNone(e):e;function dV(e){const t=ZP(e);return QP(e)(t.map(uV))}const dl={test:iV,parse:ZP,createTransformer:QP,getAnimatableNone:dV};function Zb(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function fV({hue:e,saturation:t,lightness:a,alpha:r}){e/=360,t/=100,a/=100;let s=0,l=0,c=0;if(!t)s=l=c=a;else{const d=a<.5?a*(1+t):a+t-a*t,f=2*a-d;s=Zb(f,d,e+1/3),l=Zb(f,d,e),c=Zb(f,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function z0(e,t){return a=>a>0?t:e}const en=(e,t,a)=>e+(t-e)*a,Qb=(e,t,a)=>{const r=e*e,s=a*(t*t-r)+r;return s<0?0:Math.sqrt(s)},mV=[V1,no,kc],hV=e=>mV.find(t=>t.test(e));function p3(e){const t=hV(e);if(!t)return!1;let a=t.parse(e);return t===kc&&(a=fV(a)),a}const x3=(e,t)=>{const a=p3(e),r=p3(t);if(!a||!r)return z0(e,t);const s={...a};return l=>(s.red=Qb(a.red,r.red,l),s.green=Qb(a.green,r.green,l),s.blue=Qb(a.blue,r.blue,l),s.alpha=en(a.alpha,r.alpha,l),no.transform(s))},H1=new Set(["none","hidden"]);function pV(e,t){return H1.has(e)?a=>a<=0?e:t:a=>a>=1?t:e}function xV(e,t){return a=>en(e,t,a)}function Ij(e){return typeof e=="number"?xV:typeof e=="string"?Rj(e)?z0:Sn.test(e)?x3:vV:Array.isArray(e)?JP:typeof e=="object"?Sn.test(e)?x3:gV:z0}function JP(e,t){const a=[...e],r=a.length,s=e.map((l,c)=>Ij(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)a[c]=s[c](l);return a}}function gV(e,t){const a={...e,...t},r={};for(const s in a)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Ij(e[s])(e[s],t[s]));return s=>{for(const l in r)a[l]=r[l](s);return a}}function bV(e,t){const a=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][r[l]],d=e.values[c]??0;a[s]=d,r[l]++}return a}const vV=(e,t)=>{const a=dl.createTransformer(t),r=gf(e),s=gf(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?H1.has(e)&&!s.values.length||H1.has(t)&&!r.values.length?pV(e,t):Ff(JP(bV(r,s),s.values),a):z0(e,t)};function eO(e,t,a){return typeof e=="number"&&typeof t=="number"&&typeof a=="number"?en(e,t,a):Ij(e)(e,t)}const yV=e=>{const t=({timestamp:a})=>e(a);return{start:(a=!0)=>Wt.update(t,a),stop:()=>ci(t),now:()=>Jn.isProcessing?Jn.timestamp:Aa.now()}},tO=(e,t,a=10)=>{let r="";const s=Math.max(Math.round(t/a),2);for(let l=0;l<s;l++)r+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},B0=2e4;function zj(e){let t=0;const a=50;let r=e.next(t);for(;!r.done&&t<B0;)t+=a,r=e.next(t);return t>=B0?1/0:t}function nO(e,t=100,a){const r=a({...e,keyframes:[0,t]}),s=Math.min(zj(r),B0);return{type:"keyframes",ease:l=>r.next(s*l).value/t,duration:gs(s)}}const wV=5;function aO(e,t,a){const r=Math.max(t-wV,0);return MP(a-e(r),t-r)}const mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jb=.001;function jV({duration:e=mn.duration,bounce:t=mn.bounce,velocity:a=mn.velocity,mass:r=mn.mass}){let s,l,c=1-t;c=li(mn.minDamping,mn.maxDamping,c),e=li(mn.minDuration,mn.maxDuration,gs(e)),c<1?(s=m=>{const h=m*c,x=h*e,b=h-a,y=q1(m,c),w=Math.exp(-x);return Jb-b/y*w},l=m=>{const x=m*c*e,b=x*a+a,y=Math.pow(c,2)*Math.pow(m,2)*e,w=Math.exp(-x),j=q1(Math.pow(m,2),c);return(-s(m)+Jb>0?-1:1)*((b-y)*w)/j}):(s=m=>{const h=Math.exp(-m*e),x=(m-a)*e+1;return-Jb+h*x},l=m=>{const h=Math.exp(-m*e),x=(a-m)*(e*e);return h*x});const d=5/e,f=SV(s,l,d);if(e=Gr(e),isNaN(f))return{stiffness:mn.stiffness,damping:mn.damping,duration:e};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:e}}}const NV=12;function SV(e,t,a){let r=a;for(let s=1;s<NV;s++)r=r-e(r)/t(r);return r}function q1(e,t){return e*Math.sqrt(1-t*t)}const _V=["duration","bounce"],kV=["stiffness","damping","mass"];function g3(e,t){return t.some(a=>e[a]!==void 0)}function CV(e){let t={velocity:mn.velocity,stiffness:mn.stiffness,damping:mn.damping,mass:mn.mass,isResolvedFromDuration:!1,...e};if(!g3(e,kV)&&g3(e,_V))if(e.visualDuration){const a=e.visualDuration,r=2*Math.PI/(a*1.2),s=r*r,l=2*li(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:mn.mass,stiffness:s,damping:l}}else{const a=jV(e);t={...t,...a,mass:mn.mass},t.isResolvedFromDuration=!0}return t}function bf(e=mn.visualDuration,t=mn.bounce){const a=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=a;const l=a.keyframes[0],c=a.keyframes[a.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:h,duration:x,velocity:b,isResolvedFromDuration:y}=CV({...a,velocity:-gs(a.velocity||0)}),w=b||0,j=m/(2*Math.sqrt(f*h)),S=c-l,k=gs(Math.sqrt(f/h)),_=Math.abs(S)<5;r||(r=_?mn.restSpeed.granular:mn.restSpeed.default),s||(s=_?mn.restDelta.granular:mn.restDelta.default);let C;if(j<1){const A=q1(k,j);C=T=>{const R=Math.exp(-j*k*T);return c-R*((w+j*k*S)/A*Math.sin(A*T)+S*Math.cos(A*T))}}else if(j===1)C=A=>c-Math.exp(-k*A)*(S+(w+k*S)*A);else{const A=k*Math.sqrt(j*j-1);C=T=>{const R=Math.exp(-j*k*T),O=Math.min(A*T,300);return c-R*((w+j*k*S)*Math.sinh(O)+A*S*Math.cosh(O))/A}}const P={calculatedDuration:y&&x||null,next:A=>{const T=C(A);if(y)d.done=A>=x;else{let R=A===0?w:0;j<1&&(R=A===0?Gr(w):aO(C,A,T));const O=Math.abs(R)<=r,V=Math.abs(c-T)<=s;d.done=O&&V}return d.value=d.done?c:T,d},toString:()=>{const A=Math.min(zj(P),B0),T=tO(R=>P.next(A*R).value,A,30);return A+"ms "+T},toTransition:()=>{}};return P}bf.applyToOptions=e=>{const t=nO(e,100,bf);return e.ease=t.ease,e.duration=Gr(t.duration),e.type="keyframes",e};function K1({keyframes:e,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:h}){const x=e[0],b={done:!1,value:x},y=O=>d!==void 0&&O<d||f!==void 0&&O>f,w=O=>d===void 0?f:f===void 0||Math.abs(d-O)<Math.abs(f-O)?d:f;let j=a*t;const S=x+j,k=c===void 0?S:c(S);k!==S&&(j=k-x);const _=O=>-j*Math.exp(-O/r),C=O=>k+_(O),P=O=>{const V=_(O),K=C(O);b.done=Math.abs(V)<=m,b.value=b.done?k:K};let A,T;const R=O=>{y(b.value)&&(A=O,T=bf({keyframes:[b.value,w(b.value)],velocity:aO(C,O,b.value),damping:s,stiffness:l,restDelta:m,restSpeed:h}))};return R(0),{calculatedDuration:null,next:O=>{let V=!1;return!T&&A===void 0&&(V=!0,P(O),R(O)),A!==void 0&&O>=A?T.next(O-A):(!V&&P(O),b)}}}function AV(e,t,a){const r=[],s=a||oi.mix||eO,l=e.length-1;for(let c=0;c<l;c++){let d=s(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||_r:t;d=Ff(f,d)}r.push(d)}return r}function rO(e,t,{clamp:a=!0,ease:r,mixer:s}={}){const l=e.length;if(Tj(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=AV(t,r,s),f=d.length,m=h=>{if(c&&h<e[0])return t[0];let x=0;if(f>1)for(;x<e.length-2&&!(h<e[x+1]);x++);const b=Kc(e[x],e[x+1],h);return d[x](b)};return a?h=>m(li(e[0],e[l-1],h)):m}function sO(e,t){const a=e[e.length-1];for(let r=1;r<=t;r++){const s=Kc(0,t,r);e.push(en(a,1,s))}}function iO(e){const t=[0];return sO(t,e.length-1),t}function TV(e,t){return e.map(a=>a*t)}function EV(e,t){return e.map(()=>t||FP).splice(0,e.length-1)}function tf({duration:e=300,keyframes:t,times:a,ease:r="easeInOut"}){const s=VP(r)?r.map(f3):f3(r),l={done:!1,value:t[0]},c=TV(a&&a.length===t.length?a:iO(t),e),d=rO(c,t,{ease:Array.isArray(s)?s:EV(t,s)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const PV=e=>e!==null;function Bj(e,{repeat:t,repeatType:a="loop"},r,s=1){const l=e.filter(PV),d=s<0||t&&a!=="loop"&&t%2===1?0:l.length-1;return!d||r===void 0?l[d]:r}const OV={decay:K1,inertia:K1,tween:tf,keyframes:tf,spring:bf};function lO(e){typeof e.type=="string"&&(e.type=OV[e.type])}class Uj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const MV=e=>e/100;class Fj extends Uj{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:a}=this.options;a&&a.updatedAt!==Aa.now()&&this.tick(Aa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;lO(t);const{type:a=tf,repeat:r=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=a||tf;f!==tf&&typeof d[0]!="number"&&(this.mixKeyframes=Ff(MV,eO(d[0],d[1])),d=[0,100]);const m=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=zj(m));const{calculatedDuration:h}=m;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=m}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:h,repeat:x,repeatType:b,repeatDelay:y,type:w,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const k=this.currentTime-m*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,P=r;if(x){const O=Math.min(this.currentTime,s)/d;let V=Math.floor(O),K=O%1;!K&&O>=1&&(K=1),K===1&&V--,V=Math.min(V,x+1),!!(V%2)&&(b==="reverse"?(K=1-K,y&&(K-=y/d)):b==="mirror"&&(P=c)),C=li(0,1,K)*d}const A=_?{done:!1,value:h[0]}:P.next(C);l&&(A.value=l(A.value));let{done:T}=A;!_&&f!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return R&&w!==K1&&(A.value=Bj(h,this.options,S,this.speed)),j&&j(A.value),R&&this.finish(),A}then(t,a){return this.finished.then(t,a)}get duration(){return gs(this.calculatedDuration)}get time(){return gs(this.currentTime)}set time(t){var a;t=Gr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(a=this.driver)==null||a.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Aa.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=gs(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:t=yV,startTime:a}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(s=this.options).onPlay)==null||l.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Aa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,a;this.notifyFinished(),this.teardown(),this.state="finished",(a=(t=this.options).onComplete)==null||a.call(t)}cancel(){var t,a;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(a=(t=this.options).onCancel)==null||a.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var a;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(a=this.driver)==null||a.stop(),t.observe(this)}}function DV(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ao=e=>e*180/Math.PI,G1=e=>{const t=ao(Math.atan2(e[1],e[0]));return Y1(t)},RV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:G1,rotateZ:G1,skewX:e=>ao(Math.atan(e[1])),skewY:e=>ao(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Y1=e=>(e=e%360,e<0&&(e+=360),e),b3=G1,v3=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),y3=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$V={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:v3,scaleY:y3,scale:e=>(v3(e)+y3(e))/2,rotateX:e=>Y1(ao(Math.atan2(e[6],e[5]))),rotateY:e=>Y1(ao(Math.atan2(-e[2],e[0]))),rotateZ:b3,rotate:b3,skewX:e=>ao(Math.atan(e[4])),skewY:e=>ao(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function W1(e){return e.includes("scale")?1:0}function X1(e,t){if(!e||e==="none")return W1(t);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(a)r=$V,s=a;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RV,s=d}if(!s)return W1(t);const l=r[t],c=s[1].split(",").map(IV);return typeof l=="function"?l(c):c[l]}const LV=(e,t)=>{const{transform:a="none"}=getComputedStyle(e);return X1(a,t)};function IV(e){return parseFloat(e.trim())}const hu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pu=new Set(hu),w3=e=>e===mu||e===lt,zV=new Set(["x","y","z"]),BV=hu.filter(e=>!zV.has(e));function UV(e){const t=[];return BV.forEach(a=>{const r=e.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const co={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>X1(t,"x"),y:(e,{transform:t})=>X1(t,"y")};co.translateX=co.x;co.translateY=co.y;const uo=new Set;let Z1=!1,Q1=!1,J1=!1;function oO(){if(Q1){const e=Array.from(uo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),a=new Map;t.forEach(r=>{const s=UV(r);s.length&&(a.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=a.get(r);s&&s.forEach(([l,c])=>{var d;(d=r.getValue(l))==null||d.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Q1=!1,Z1=!1,uo.forEach(e=>e.complete(J1)),uo.clear()}function cO(){uo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Q1=!0)})}function FV(){J1=!0,cO(),oO(),J1=!1}class Vj{constructor(t,a,r,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(uo.add(this),Z1||(Z1=!0,Wt.read(cO),Wt.resolveKeyframes(oO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:s}=this;if(t[0]===null){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&a){const d=r.readValue(a,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}DV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),uo.delete(this)}cancel(){this.state==="scheduled"&&(uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VV=e=>e.startsWith("--");function HV(e,t,a){VV(t)?e.style.setProperty(t,a):e.style[t]=a}const qV=Ej(()=>window.ScrollTimeline!==void 0),KV={};function GV(e,t){const a=Ej(e);return()=>KV[t]??a()}const uO=GV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yd=([e,t,a,r])=>`cubic-bezier(${e}, ${t}, ${a}, ${r})`,j3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yd([0,.65,.55,1]),circOut:Yd([.55,0,1,.45]),backIn:Yd([.31,.01,.66,-.59]),backOut:Yd([.33,1.53,.69,.99])};function dO(e,t){if(e)return typeof e=="function"?uO()?tO(e,t):"ease-out":qP(e)?Yd(e):Array.isArray(e)?e.map(a=>dO(a,t)||j3.easeOut):j3[e]}function YV(e,t,a,{delay:r=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const h={[t]:a};f&&(h.offset=f);const x=dO(d,s);Array.isArray(x)&&(h.easing=x);const b={delay:r,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),e.animate(h,b)}function Hj(e){return typeof e=="function"&&"applyToOptions"in e}function WV({type:e,...t}){return Hj(e)&&uO()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class XV extends Uj{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:r,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Tj(typeof t.type!="string");const m=WV(t);this.animation=YV(a,r,s,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=Bj(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(h):HV(a,r,h),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,a;(a=(t=this.animation).finish)==null||a.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,a;this.isPseudoElement||(a=(t=this.animation).commitStyles)==null||a.call(t)}get duration(){var a,r;const t=((r=(a=this.animation.effect)==null?void 0:a.getComputedTiming)==null?void 0:r.call(a).duration)||0;return gs(Number(t))}get time(){return gs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Gr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&qV()?(this.animation.timeline=t,_r):a(this)}}const fO={anticipate:zP,backInOut:IP,circInOut:UP};function ZV(e){return e in fO}function QV(e){typeof e.ease=="string"&&ZV(e.ease)&&(e.ease=fO[e.ease])}const N3=10;class JV extends XV{constructor(t){QV(t),lO(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:s,element:l,...c}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const d=new Fj({...c,autoplay:!1}),f=Gr(this.finishedTime??this.time);a.setWithVelocity(d.sample(f-N3).value,d.sample(f).value,N3),d.stop()}}const S3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(dl.test(e)||e==="0")&&!e.startsWith("url("));function eH(e){const t=e[0];if(e.length===1)return!0;for(let a=0;a<e.length;a++)if(e[a]!==t)return!0}function tH(e,t,a,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=S3(s,t),d=S3(l,t);return!c||!d?!1:eH(e)||(a==="spring"||Hj(a))&&r}function ew(e){e.duration=0,e.type}const nH=new Set(["opacity","clipPath","filter","transform"]),aH=Ej(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rH(e){var h;const{motionValue:t,name:a,repeatDelay:r,repeatType:s,damping:l,type:c}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return aH()&&a&&nH.has(a)&&(a!=="transform"||!m)&&!f&&!r&&s!=="mirror"&&l!==0&&c!=="inertia"}const sH=40;class iH extends Uj{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:h,...x}){var w;super(),this.stop=()=>{var j,S;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Aa.now();const b={autoplay:t,delay:a,type:r,repeat:s,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:h,...x},y=(h==null?void 0:h.KeyframeResolver)||Vj;this.keyframeResolver=new y(d,(j,S,k)=>this.onKeyframesResolved(j,S,b,!k),f,m,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,a,r,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:h}=r;this.resolvedAt=Aa.now(),tH(t,l,c,d)||((oi.instantAnimations||!f)&&(h==null||h(Bj(t,r,a))),t[0]=t[t.length-1],ew(r),r.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>sH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},y=!m&&rH(b)?new JV({...b,element:b.motionValue.owner.current}):new Fj(b);y.finished.then(()=>this.notifyFinished()).catch(_r),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),FV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class lH{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,a){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=a}attachTimeline(t){const a=this.animations.map(r=>r.attachTimeline(t));return()=>{a.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let a=0;a<this.animations.length;a++)t=Math.max(t,this.animations[a].duration);return t}runAll(t){this.animations.forEach(a=>a[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class oH extends lH{then(t,a){return this.finished.finally(t).then(()=>{})}}const cH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uH(e){const t=cH.exec(e);if(!t)return[,];const[,a,r,s]=t;return[`--${a??r}`,s]}function mO(e,t,a=1){const[r,s]=uH(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return EP(c)?parseFloat(c):c}return Rj(s)?mO(s,t,a+1):s}function qj(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const hO=new Set(["width","height","top","left","right","bottom",...hu]),dH={test:e=>e==="auto",parse:e=>e},pO=e=>t=>t.test(e),xO=[mu,lt,bs,el,rV,aV,dH],_3=e=>xO.find(pO(e));function fH(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||OP(e):!0}const mH=new Set(["brightness","contrast","saturate","opacity"]);function hH(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=a.match($j)||[];if(!r)return e;const s=a.replace(r,"");let l=mH.has(t)?1:0;return r!==a&&(l*=100),t+"("+l+s+")"}const pH=/\b([a-z-]*)\(.*?\)/gu,tw={...dl,getAnimatableNone:e=>{const t=e.match(pH);return t?t.map(hH).join(" "):e}},k3={...mu,transform:Math.round},xH={rotate:el,rotateX:el,rotateY:el,rotateZ:el,scale:Nh,scaleX:Nh,scaleY:Nh,scaleZ:Nh,skew:el,skewX:el,skewY:el,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:xf,originX:m3,originY:m3,originZ:lt},Kj={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,backgroundPositionX:lt,backgroundPositionY:lt,...xH,zIndex:k3,fillOpacity:xf,strokeOpacity:xf,numOctaves:k3},gH={...Kj,color:Sn,backgroundColor:Sn,outlineColor:Sn,fill:Sn,stroke:Sn,borderColor:Sn,borderTopColor:Sn,borderRightColor:Sn,borderBottomColor:Sn,borderLeftColor:Sn,filter:tw,WebkitFilter:tw},gO=e=>gH[e];function bO(e,t){let a=gO(e);return a!==tw&&(a=dl),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const bH=new Set(["auto","none","0"]);function vH(e,t,a){let r=0,s;for(;r<e.length&&!s;){const l=e[r];typeof l=="string"&&!bH.has(l)&&gf(l).values.length&&(s=e[r]),r++}if(s&&a)for(const l of t)e[l]=bO(a,s)}class yH extends Vj{constructor(t,a,r,s,l){super(t,a,r,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),Rj(m))){const h=mO(m,a.current);h!==void 0&&(t[f]=h),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!hO.has(r)||t.length!==2)return;const[s,l]=t,c=_3(s),d=_3(l);if(c!==d)if(w3(c)&&w3(d))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else co[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||fH(t[s]))&&r.push(s);r.length&&vH(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=co[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const s=a[a.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var d;const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(a);s&&s.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=co[a](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function vO(e,t,a){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(a==null?void 0:a[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const yO=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function wO(e){return PP(e)&&"offsetHeight"in e}const C3=30,wH=e=>!isNaN(parseFloat(e)),nf={current:void 0};class jH{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const s=Aa.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=Aa.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wH(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new Pj);const r=this.events[t].add(a);return t==="change"?()=>{r(),Wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return nf.current&&nf.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Aa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>C3)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,C3);return MP(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,a;(t=this.dependents)==null||t.clear(),(a=this.events.destroy)==null||a.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function go(e,t){return new jH(e,t)}const{schedule:Gj}=KP(queueMicrotask,!1),zr={x:!1,y:!1};function jO(){return zr.x||zr.y}function NH(e){return e==="x"||e==="y"?zr[e]?null:(zr[e]=!0,()=>{zr[e]=!1}):zr.x||zr.y?null:(zr.x=zr.y=!0,()=>{zr.x=zr.y=!1})}function NO(e,t){const a=vO(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[a,s,()=>r.abort()]}function A3(e){return!(e.pointerType==="touch"||jO())}function SH(e,t,a={}){const[r,s,l]=NO(e,a),c=d=>{if(!A3(d))return;const{target:f}=d,m=t(f,d);if(typeof m!="function"||!f)return;const h=x=>{A3(x)&&(m(x),f.removeEventListener("pointerleave",h))};f.addEventListener("pointerleave",h,s)};return r.forEach(d=>{d.addEventListener("pointerenter",c,s)}),l}const SO=(e,t)=>t?e===t?!0:SO(e,t.parentElement):!1,Yj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_H=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kH(e){return _H.has(e.tagName)||e.tabIndex!==-1}const k0=new WeakSet;function T3(e){return t=>{t.key==="Enter"&&e(t)}}function ev(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const CH=(e,t)=>{const a=e.currentTarget;if(!a)return;const r=T3(()=>{if(k0.has(a))return;ev(a,"down");const s=T3(()=>{ev(a,"up")}),l=()=>ev(a,"cancel");a.addEventListener("keyup",s,t),a.addEventListener("blur",l,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function E3(e){return Yj(e)&&!jO()}function AH(e,t,a={}){const[r,s,l]=NO(e,a),c=d=>{const f=d.currentTarget;if(!E3(d))return;k0.add(f);const m=t(f,d),h=(y,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),k0.has(f)&&k0.delete(f),E3(y)&&typeof m=="function"&&m(y,{success:w})},x=y=>{h(y,f===window||f===document||a.useGlobalTarget||SO(f,y.target))},b=y=>{h(y,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",b,s)};return r.forEach(d=>{(a.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),wO(d)&&(d.addEventListener("focus",m=>CH(m,s)),!kH(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Wj(e){return PP(e)&&"ownerSVGElement"in e}function _O(e){return Wj(e)&&e.tagName==="svg"}function TH(...e){const t=!Array.isArray(e[0]),a=t?0:-1,r=e[0+a],s=e[1+a],l=e[2+a],c=e[3+a],d=rO(s,l,c);return t?d(r):d}const Hn=e=>!!(e&&e.getVelocity),EH=[...xO,Sn,dl],PH=e=>EH.find(pO(e)),Fp=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class OH extends g.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const r=a.offsetParent,s=wO(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=a.offsetHeight||0,l.width=a.offsetWidth||0,l.top=a.offsetTop,l.left=a.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function MH({children:e,isPresent:t,anchorX:a,root:r}){const s=g.useId(),l=g.useRef(null),c=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=g.useContext(Fp);return g.useInsertionEffect(()=>{const{width:f,height:m,top:h,left:x,right:b}=c.current;if(t||!l.current||!f||!m)return;const y=a==="left"?`left: ${x}`:`right: ${b}`;l.current.dataset.motionPopId=s;const w=document.createElement("style");d&&(w.nonce=d);const j=r??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[t]),n.jsx(OH,{isPresent:t,childRef:l,sizeRef:c,children:g.cloneElement(e,{ref:l})})}const DH=({children:e,initial:t,isPresent:a,onExitComplete:r,custom:s,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const m=Uf(RH),h=g.useId();let x=!0,b=g.useMemo(()=>(x=!1,{id:h,initial:t,isPresent:a,custom:s,onExitComplete:y=>{m.set(y,!0);for(const w of m.values())if(!w)return;r&&r()},register:y=>(m.set(y,!1),()=>m.delete(y))}),[a,m,r]);return l&&x&&(b={...b}),g.useMemo(()=>{m.forEach((y,w)=>m.set(w,!1))},[a]),g.useEffect(()=>{!a&&!m.size&&r&&r()},[a]),c==="popLayout"&&(e=n.jsx(MH,{isPresent:a,anchorX:d,root:f,children:e})),n.jsx(Bp.Provider,{value:b,children:e})};function RH(){return new Map}function kO(e=!0){const t=g.useContext(Bp);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:s}=t,l=g.useId();g.useEffect(()=>{if(e)return s(l)},[e]);const c=g.useCallback(()=>e&&r&&r(l),[l,r,e]);return!a&&r?[!1,c]:[!0]}const Sh=e=>e.key||"";function P3(e){const t=[];return g.Children.forEach(e,a=>{g.isValidElement(a)&&t.push(a)}),t}const Pt=({children:e,custom:t,initial:a=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[m,h]=kO(c),x=g.useMemo(()=>P3(e),[e]),b=c&&!m?[]:x.map(Sh),y=g.useRef(!0),w=g.useRef(x),j=Uf(()=>new Map),[S,k]=g.useState(x),[_,C]=g.useState(x);Cj(()=>{y.current=!1,w.current=x;for(let T=0;T<_.length;T++){const R=Sh(_[T]);b.includes(R)?j.delete(R):j.get(R)!==!0&&j.set(R,!1)}},[_,b.length,b.join("-")]);const P=[];if(x!==S){let T=[...x];for(let R=0;R<_.length;R++){const O=_[R],V=Sh(O);b.includes(V)||(T.splice(R,0,O),P.push(O))}return l==="wait"&&P.length&&(T=P),C(P3(T)),k(x),null}const{forceRender:A}=g.useContext(_j);return n.jsx(n.Fragment,{children:_.map(T=>{const R=Sh(T),O=c&&!m?!1:x===_||b.includes(R),V=()=>{if(j.has(R))j.set(R,!0);else return;let K=!0;j.forEach(F=>{F||(K=!1)}),K&&(A==null||A(),C(w.current),c&&(h==null||h()),r&&r())};return n.jsx(DH,{isPresent:O,initial:!y.current||a?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:f,onExitComplete:O?void 0:V,anchorX:d,children:T},R)})})},CO=g.createContext({strict:!1}),O3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gc={};for(const e in O3)Gc[e]={isEnabled:t=>O3[e].some(a=>!!t[a])};function $H(e){for(const t in e)Gc[t]={...Gc[t],...e[t]}}const LH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function U0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||LH.has(e)}let AO=e=>!U0(e);function IH(e){typeof e=="function"&&(AO=t=>t.startsWith("on")?!U0(t):e(t))}try{IH(require("@emotion/is-prop-valid").default)}catch{}function zH(e,t,a){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(AO(s)||a===!0&&U0(s)||!t&&!U0(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Vp=g.createContext({});function Hp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function vf(e){return typeof e=="string"||Array.isArray(e)}const Xj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zj=["initial",...Xj];function qp(e){return Hp(e.animate)||Zj.some(t=>vf(e[t]))}function TO(e){return!!(qp(e)||e.variants)}function BH(e,t){if(qp(e)){const{initial:a,animate:r}=e;return{initial:a===!1||vf(a)?a:void 0,animate:vf(r)?r:void 0}}return e.inherit!==!1?t:{}}function UH(e){const{initial:t,animate:a}=BH(e,g.useContext(Vp));return g.useMemo(()=>({initial:t,animate:a}),[M3(t),M3(a)])}function M3(e){return Array.isArray(e)?e.join(" "):e}const yf={};function FH(e){for(const t in e)yf[t]=e[t],Dj(t)&&(yf[t].isCSSVariable=!0)}function EO(e,{layout:t,layoutId:a}){return pu.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!yf[e]||e==="opacity")}const VH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HH=hu.length;function qH(e,t,a){let r="",s=!0;for(let l=0;l<HH;l++){const c=hu[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||a){const m=yO(d,Kj[c]);if(!f){s=!1;const h=VH[c]||c;r+=`${h}(${m}) `}a&&(t[c]=m)}}return r=r.trim(),a?r=a(t,s?"":r):s&&(r="none"),r}function Qj(e,t,a){const{style:r,vars:s,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const m=t[f];if(pu.has(f)){c=!0;continue}else if(Dj(f)){s[f]=m;continue}else{const h=yO(m,Kj[f]);f.startsWith("origin")?(d=!0,l[f]=h):r[f]=h}}if(t.transform||(c||a?r.transform=qH(t,e.transform,a):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:h=0}=l;r.transformOrigin=`${f} ${m} ${h}`}}const Jj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PO(e,t,a){for(const r in t)!Hn(t[r])&&!EO(r,a)&&(e[r]=t[r])}function KH({transformTemplate:e},t){return g.useMemo(()=>{const a=Jj();return Qj(a,t,e),Object.assign({},a.vars,a.style)},[t])}function GH(e,t){const a=e.style||{},r={};return PO(r,a,e),Object.assign(r,KH(e,t)),r}function YH(e,t){const a={},r=GH(e,t);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=r,a}const WH={offset:"stroke-dashoffset",array:"stroke-dasharray"},XH={offset:"strokeDashoffset",array:"strokeDasharray"};function ZH(e,t,a=1,r=0,s=!0){e.pathLength=1;const l=s?WH:XH;e[l.offset]=lt.transform(-r);const c=lt.transform(t),d=lt.transform(a);e[l.array]=`${c} ${d}`}function OO(e,{attrX:t,attrY:a,attrScale:r,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...d},f,m,h){if(Qj(e,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:b}=e;x.transform&&(b.transform=x.transform,delete x.transform),(b.transform||x.transformOrigin)&&(b.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),b.transform&&(b.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),a!==void 0&&(x.y=a),r!==void 0&&(x.scale=r),s!==void 0&&ZH(x,s,l,c,!1)}const MO=()=>({...Jj(),attrs:{}}),DO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function QH(e,t,a,r){const s=g.useMemo(()=>{const l=MO();return OO(l,t,DO(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};PO(l,e.style,e),s.style={...l,...s.style}}return s}const JH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function e2(e){return typeof e!="string"||e.includes("-")?!1:!!(JH.indexOf(e)>-1||/[A-Z]/u.test(e))}function eq(e,t,a,{latestValues:r},s,l=!1){const d=(e2(e)?QH:YH)(t,r,s,e),f=zH(t,typeof e=="string",l),m=e!==g.Fragment?{...f,...d,ref:a}:{},{children:h}=t,x=g.useMemo(()=>Hn(h)?h.get():h,[h]);return g.createElement(e,{...m,children:x})}function D3(e){const t=[{},{}];return e==null||e.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function t2(e,t,a,r){if(typeof t=="function"){const[s,l]=D3(r);t=t(a!==void 0?a:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=D3(r);t=t(a!==void 0?a:e.custom,s,l)}return t}function C0(e){return Hn(e)?e.get():e}function tq({scrapeMotionValuesFromProps:e,createRenderState:t},a,r,s){return{latestValues:nq(a,r,s,e),renderState:t()}}function nq(e,t,a,r){const s={},l=r(e,{});for(const b in l)s[b]=C0(l[b]);let{initial:c,animate:d}=e;const f=qp(e),m=TO(e);t&&m&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let h=a?a.initial===!1:!1;h=h||c===!1;const x=h?d:c;if(x&&typeof x!="boolean"&&!Hp(x)){const b=Array.isArray(x)?x:[x];for(let y=0;y<b.length;y++){const w=t2(e,b[y]);if(w){const{transitionEnd:j,transition:S,...k}=w;for(const _ in k){let C=k[_];if(Array.isArray(C)){const P=h?C.length-1:0;C=C[P]}C!==null&&(s[_]=C)}for(const _ in j)s[_]=j[_]}}}return s}const RO=e=>(t,a)=>{const r=g.useContext(Vp),s=g.useContext(Bp),l=()=>tq(e,t,r,s);return a?l():Uf(l)};function n2(e,t,a){var l;const{style:r}=e,s={};for(const c in r)(Hn(r[c])||t.style&&Hn(t.style[c])||EO(c,e)||((l=a==null?void 0:a.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(s[c]=r[c]);return s}const aq=RO({scrapeMotionValuesFromProps:n2,createRenderState:Jj});function $O(e,t,a){const r=n2(e,t,a);for(const s in e)if(Hn(e[s])||Hn(t[s])){const l=hu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[l]=e[s]}return r}const rq=RO({scrapeMotionValuesFromProps:$O,createRenderState:MO}),sq=Symbol.for("motionComponentSymbol");function Cc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iq(e,t,a){return g.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):Cc(a)&&(a.current=r))},[t])}const a2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lq="framerAppearId",LO="data-"+a2(lq),IO=g.createContext({});function oq(e,t,a,r,s){var j,S;const{visualElement:l}=g.useContext(Vp),c=g.useContext(CO),d=g.useContext(Bp),f=g.useContext(Fp).reducedMotion,m=g.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:l,props:a,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const h=m.current,x=g.useContext(IO);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&cq(m.current,a,s,x);const b=g.useRef(!1);g.useInsertionEffect(()=>{h&&b.current&&h.update(a,d)});const y=a[LO],w=g.useRef(!!y&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return Cj(()=>{h&&(b.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,y)}),w.current=!1),h.enteringChildren=void 0)}),h}function cq(e,t,a,r){const{layoutId:s,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:h}=t;e.projection=new a(e.latestValues,t["data-framer-portal-id"]?void 0:zO(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||d&&Cc(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:f,layoutRoot:m})}function zO(e){if(e)return e.options.allowProjection!==!1?e.projection:zO(e.parent)}function tv(e,{forwardMotionProps:t=!1}={},a,r){a&&$H(a);const s=e2(e)?rq:aq;function l(d,f){let m;const h={...g.useContext(Fp),...d,layoutId:uq(d)},{isStatic:x}=h,b=UH(d),y=s(d,x);if(!x&&kj){dq();const w=fq(h);m=w.MeasureLayout,b.visualElement=oq(e,y,h,r,w.ProjectionNode)}return n.jsxs(Vp.Provider,{value:b,children:[m&&b.visualElement?n.jsx(m,{visualElement:b.visualElement,...h}):null,eq(e,d,iq(y,b.visualElement,f),y,x,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=g.forwardRef(l);return c[sq]=e,c}function uq({layoutId:e}){const t=g.useContext(_j).id;return t&&e!==void 0?t+"-"+e:e}function dq(e,t){g.useContext(CO).strict}function fq(e){const{drag:t,layout:a}=Gc;if(!t&&!a)return{};const r={...t,...a};return{MeasureLayout:t!=null&&t.isEnabled(e)||a!=null&&a.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function mq(e,t){if(typeof Proxy>"u")return tv;const a=new Map,r=(l,c)=>tv(l,c,e,t),s=(l,c)=>r(l,c);return new Proxy(s,{get:(l,c)=>c==="create"?r:(a.has(c)||a.set(c,tv(c,void 0,e,t)),a.get(c))})}function BO({top:e,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:e,max:r}}}function hq({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pq(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function nv(e){return e===void 0||e===1}function nw({scale:e,scaleX:t,scaleY:a}){return!nv(e)||!nv(t)||!nv(a)}function Yl(e){return nw(e)||UO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function UO(e){return R3(e.x)||R3(e.y)}function R3(e){return e&&e!=="0%"}function F0(e,t,a){const r=e-a,s=t*r;return a+s}function $3(e,t,a,r,s){return s!==void 0&&(e=F0(e,s,r)),F0(e,a,r)+t}function aw(e,t=0,a=1,r,s){e.min=$3(e.min,t,a,r,s),e.max=$3(e.max,t,a,r,s)}function FO(e,{x:t,y:a}){aw(e.x,t.translate,t.scale,t.originPoint),aw(e.y,a.translate,a.scale,a.originPoint)}const L3=.999999999999,I3=1.0000000000001;function xq(e,t,a,r=!1){const s=a.length;if(!s)return;t.x=t.y=1;let l,c;for(let d=0;d<s;d++){l=a[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Tc(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,FO(e,c)),r&&Yl(l.latestValues)&&Tc(e,l.latestValues))}t.x<I3&&t.x>L3&&(t.x=1),t.y<I3&&t.y>L3&&(t.y=1)}function Ac(e,t){e.min=e.min+t,e.max=e.max+t}function z3(e,t,a,r,s=.5){const l=en(e.min,e.max,s);aw(e,t,a,l,r)}function Tc(e,t){z3(e.x,t.x,t.scaleX,t.scale,t.originX),z3(e.y,t.y,t.scaleY,t.scale,t.originY)}function VO(e,t){return BO(pq(e.getBoundingClientRect(),t))}function gq(e,t,a){const r=VO(e,a),{scroll:s}=t;return s&&(Ac(r.x,s.offset.x),Ac(r.y,s.offset.y)),r}const B3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ec=()=>({x:B3(),y:B3()}),U3=()=>({min:0,max:0}),fn=()=>({x:U3(),y:U3()}),rw={current:null},HO={current:!1};function bq(){if(HO.current=!0,!!kj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rw.current=e.matches;e.addEventListener("change",t),t()}else rw.current=!1}const wf=new WeakMap;function vq(e,t,a){for(const r in t){const s=t[r],l=a[r];if(Hn(s))e.addValue(r,s);else if(Hn(l))e.addValue(r,go(s,{owner:e}));else if(l!==s)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(r);e.addValue(r,go(c!==void 0?c:s,{owner:e}))}}for(const r in a)t[r]===void 0&&e.removeValue(r);return t}const F3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qO{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Aa.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Wt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=a.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=qp(a),this.isVariantNode=TO(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...x}=this.scrapeMotionValuesFromProps(a,{},this);for(const b in x){const y=x[b];f[b]!==void 0&&Hn(y)&&y.set(f[b])}}mount(t){var a;this.current=t,wf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),HO.current||bq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rw.current,(a=this.parent)==null||a.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ci(this.notifyUpdate),ci(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const r=this.features[a];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=pu.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=a.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Wt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gc){const a=Gc[t];if(!a)continue;const{isEnabled:r,Feature:s}=a;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<F3.length;r++){const s=F3[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=vq(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=go(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(EP(r)||OP(r))?r=parseFloat(r):!PH(r)&&dl.test(a)&&(r=bO(t,a)),this.setBaseTarget(t,Hn(r)?r.get():r)),Hn(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var l;const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const c=t2(this.props,a,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(a&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Hn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new Pj),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){Gj.render(this.render)}}class KO extends qO{constructor(){super(...arguments),this.KeyframeResolver=yH}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Hn(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function GO(e,{style:t,vars:a},r,s){const l=e.style;let c;for(c in t)l[c]=t[c];s==null||s.applyProjectionStyles(l,r);for(c in a)l.setProperty(c,a[c])}function yq(e){return window.getComputedStyle(e)}class YO extends KO{constructor(){super(...arguments),this.type="html",this.renderInstance=GO}readValueFromInstance(t,a){var r;if(pu.has(a))return(r=this.projection)!=null&&r.isProjecting?W1(a):LV(t,a);{const s=yq(t),l=(Dj(a)?s.getPropertyValue(a):s[a])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:a}){return VO(t,a)}build(t,a,r){Qj(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return n2(t,a,r)}}const WO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wq(e,t,a,r){GO(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(WO.has(s)?s:a2(s),t.attrs[s])}class XO extends KO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(pu.has(a)){const r=gO(a);return r&&r.default||0}return a=WO.has(a)?a:a2(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return $O(t,a,r)}build(t,a,r){OO(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,s){wq(t,a,r,s)}mount(t){this.isSVGTag=DO(t.tagName),super.mount(t)}}const jq=(e,t)=>e2(e)?new XO(t):new YO(t,{allowProjection:e!==g.Fragment});function $c(e,t,a){const r=e.getProps();return t2(r,t,a!==void 0?a:r.custom,e)}const sw=e=>Array.isArray(e);function Nq(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,go(a))}function Sq(e){return sw(e)?e[e.length-1]||0:e}function _q(e,t){const a=$c(e,t);let{transitionEnd:r={},transition:s={},...l}=a||{};l={...l,...r};for(const c in l){const d=Sq(l[c]);Nq(e,c,d)}}function kq(e){return!!(Hn(e)&&e.add)}function iw(e,t){const a=e.getValue("willChange");if(kq(a))return a.add(t);if(!a&&oi.WillChange){const r=new oi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function ZO(e){return e.props[LO]}const Cq=e=>e!==null;function Aq(e,{repeat:t,repeatType:a="loop"},r){const s=e.filter(Cq),l=t&&a!=="loop"&&t%2===1?0:s.length-1;return s[l]}const Tq={type:"spring",stiffness:500,damping:25,restSpeed:10},Eq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Pq={type:"keyframes",duration:.8},Oq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mq=(e,{keyframes:t})=>t.length>2?Pq:pu.has(e)?e.startsWith("scale")?Eq(t[1]):Tq:Oq;function Dq({when:e,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:m,...h}){return!!Object.keys(h).length}const r2=(e,t,a,r={},s,l)=>c=>{const d=qj(r,e)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Gr(f);const h={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:s};Dq(d)||Object.assign(h,Mq(e,h)),h.duration&&(h.duration=Gr(h.duration)),h.repeatDelay&&(h.repeatDelay=Gr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let x=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(ew(h),h.delay===0&&(x=!0)),(oi.instantAnimations||oi.skipAnimations)&&(x=!0,ew(h),h.delay=0),h.allowFlatten=!d.type&&!d.ease,x&&!l&&t.get()!==void 0){const b=Aq(h.keyframes,d);if(b!==void 0){Wt.update(()=>{h.onUpdate(b),h.onComplete()});return}}return d.isSync?new Fj(h):new iH(h)};function Rq({protectedKeys:e,needsAnimating:t},a){const r=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function s2(e,t,{delay:a=0,transitionOverride:r,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(l=r);const f=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const h in d){const x=e.getValue(h,e.latestValues[h]??null),b=d[h];if(b===void 0||m&&Rq(m,h))continue;const y={delay:a,...qj(l||{},h)},w=x.get();if(w!==void 0&&!x.isAnimating&&!Array.isArray(b)&&b===w&&!y.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const k=ZO(e);if(k){const _=window.MotionHandoffAnimation(k,h,Wt);_!==null&&(y.startTime=_,j=!0)}}iw(e,h),x.start(r2(h,x,b,e.shouldReduceMotion&&hO.has(h)?{type:!1}:y,e,j));const S=x.animation;S&&f.push(S)}return c&&Promise.all(f).then(()=>{Wt.update(()=>{c&&_q(e,c)})}),f}function QO(e,t,a,r=0,s=1){const l=Array.from(e).sort((m,h)=>m.sortNodePosition(h)).indexOf(t),c=e.size,d=(c-1)*r;return typeof a=="function"?a(l,c):s===1?l*r:d-l*r}function lw(e,t,a={}){var f;const r=$c(e,t,a.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(s=a.transitionOverride);const l=r?()=>Promise.all(s2(e,r,a)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:h=0,staggerChildren:x,staggerDirection:b}=s;return $q(e,t,m,h,x,b,a)}:()=>Promise.resolve(),{when:d}=s;if(d){const[m,h]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>h())}else return Promise.all([l(),c(a.delay)])}function $q(e,t,a=0,r=0,s=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(lw(f,t,{...c,delay:a+(typeof r=="function"?0:r)+QO(e.variantChildren,f,r,s,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function Lq(e,t,a={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(l=>lw(e,l,a));r=Promise.all(s)}else if(typeof t=="string")r=lw(e,t,a);else{const s=typeof t=="function"?$c(e,t,a.custom):t;r=Promise.all(s2(e,s,a))}return r.then(()=>{e.notify("AnimationComplete",t)})}function JO(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let r=0;r<a;r++)if(t[r]!==e[r])return!1;return!0}const Iq=Zj.length;function eM(e){if(!e)return;if(!e.isControllingVariants){const a=e.parent?eM(e.parent)||{}:{};return e.props.initial!==void 0&&(a.initial=e.props.initial),a}const t={};for(let a=0;a<Iq;a++){const r=Zj[a],s=e.props[r];(vf(s)||s===!1)&&(t[r]=s)}return t}const zq=[...Xj].reverse(),Bq=Xj.length;function Uq(e){return t=>Promise.all(t.map(({animation:a,options:r})=>Lq(e,a,r)))}function Fq(e){let t=Uq(e),a=V3(),r=!0;const s=f=>(m,h)=>{var b;const x=$c(e,h,f==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(x){const{transition:y,transitionEnd:w,...j}=x;m={...m,...j,...w}}return m};function l(f){t=f(e)}function c(f){const{props:m}=e,h=eM(e.parent)||{},x=[],b=new Set;let y={},w=1/0;for(let S=0;S<Bq;S++){const k=zq[S],_=a[k],C=m[k]!==void 0?m[k]:h[k],P=vf(C),A=k===f?_.isActive:null;A===!1&&(w=S);let T=C===h[k]&&C!==m[k]&&P;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),_.protectedKeys={...y},!_.isActive&&A===null||!C&&!_.prevProp||Hp(C)||typeof C=="boolean")continue;const R=Vq(_.prevProp,C);let O=R||k===f&&_.isActive&&!T&&P||S>w&&P,V=!1;const K=Array.isArray(C)?C:[C];let F=K.reduce(s(k),{});A===!1&&(F={});const{prevResolvedValues:L={}}=_,te={...L,...F},Ne=Y=>{O=!0,b.has(Y)&&(V=!0,b.delete(Y)),_.needsAnimating[Y]=!0;const H=e.getValue(Y);H&&(H.liveStyle=!1)};for(const Y in te){const H=F[Y],B=L[Y];if(y.hasOwnProperty(Y))continue;let E=!1;sw(H)&&sw(B)?E=!JO(H,B):E=H!==B,E?H!=null?Ne(Y):b.add(Y):H!==void 0&&b.has(Y)?Ne(Y):_.protectedKeys[Y]=!0}_.prevProp=C,_.prevResolvedValues=F,_.isActive&&(y={...y,...F}),r&&e.blockInitialAnimation&&(O=!1);const re=T&&R;O&&(!re||V)&&x.push(...K.map(Y=>{const H={type:k};if(typeof Y=="string"&&r&&!re&&e.manuallyAnimateOnMount&&e.parent){const{parent:B}=e,E=$c(B,Y);if(B.enteringChildren&&E){const{delayChildren:$}=E.transition||{};H.delay=QO(B.enteringChildren,e,$)}}return{animation:Y,options:H}}))}if(b.size){const S={};if(typeof m.initial!="boolean"){const k=$c(e,Array.isArray(m.initial)?m.initial[0]:m.initial);k&&k.transition&&(S.transition=k.transition)}b.forEach(k=>{const _=e.getBaseTarget(k),C=e.getValue(k);C&&(C.liveStyle=!0),S[k]=_??null}),x.push({animation:S})}let j=!!x.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(x):Promise.resolve()}function d(f,m){var x;if(a[f].isActive===m)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(b=>{var y;return(y=b.animationState)==null?void 0:y.setActive(f,m)}),a[f].isActive=m;const h=c(f);for(const b in a)a[b].protectedKeys={};return h}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>a,reset:()=>{a=V3(),r=!0}}}function Vq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!JO(t,e):!1}function zl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V3(){return{animate:zl(!0),whileInView:zl(),whileHover:zl(),whileTap:zl(),whileDrag:zl(),whileFocus:zl(),exit:zl()}}class xl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Hq extends xl{constructor(t){super(t),t.animationState||(t.animationState=Fq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let qq=0;class Kq extends xl{constructor(){super(...arguments),this.id=qq++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);a&&!t&&s.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Gq={animation:{Feature:Hq},exit:{Feature:Kq}};function jf(e,t,a,r={passive:!0}){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a)}function qf(e){return{point:{x:e.pageX,y:e.pageY}}}const Yq=e=>t=>Yj(t)&&e(t,qf(t));function af(e,t,a,r){return jf(e,t,Yq(a),r)}const tM=1e-4,Wq=1-tM,Xq=1+tM,nM=.01,Zq=0-nM,Qq=0+nM;function pa(e){return e.max-e.min}function Jq(e,t,a){return Math.abs(e-t)<=a}function H3(e,t,a,r=.5){e.origin=r,e.originPoint=en(t.min,t.max,e.origin),e.scale=pa(a)/pa(t),e.translate=en(a.min,a.max,e.origin)-e.originPoint,(e.scale>=Wq&&e.scale<=Xq||isNaN(e.scale))&&(e.scale=1),(e.translate>=Zq&&e.translate<=Qq||isNaN(e.translate))&&(e.translate=0)}function rf(e,t,a,r){H3(e.x,t.x,a.x,r?r.originX:void 0),H3(e.y,t.y,a.y,r?r.originY:void 0)}function q3(e,t,a){e.min=a.min+t.min,e.max=e.min+pa(t)}function eK(e,t,a){q3(e.x,t.x,a.x),q3(e.y,t.y,a.y)}function K3(e,t,a){e.min=t.min-a.min,e.max=e.min+pa(t)}function sf(e,t,a){K3(e.x,t.x,a.x),K3(e.y,t.y,a.y)}function vr(e){return[e("x"),e("y")]}const aM=({current:e})=>e?e.ownerDocument.defaultView:null,G3=(e,t)=>Math.abs(e-t);function tK(e,t){const a=G3(e.x,t.x),r=G3(e.y,t.y);return Math.sqrt(a**2+r**2)}class rM{constructor(t,a,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=rv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=tK(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:j}=b,{timestamp:S}=Jn;this.history.push({...j,timestamp:S});const{onStart:k,onMove:_}=this.handlers;y||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,b)},this.handlePointerMove=(b,y)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=av(y,this.transformPagePoint),Wt.update(this.updatePoint,!0)},this.handlePointerUp=(b,y)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=rv(b.type==="pointercancel"?this.lastMoveEventInfo:av(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(b,k),j&&j(b,k)},!Yj(t))return;this.dragSnapToOrigin=l,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=s||window;const d=qf(t),f=av(d,this.transformPagePoint),{point:m}=f,{timestamp:h}=Jn;this.history=[{...m,timestamp:h}];const{onSessionStart:x}=a;x&&x(t,rv(f,this.history)),this.removeListeners=Ff(af(this.contextWindow,"pointermove",this.handlePointerMove),af(this.contextWindow,"pointerup",this.handlePointerUp),af(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ci(this.updatePoint)}}function av(e,t){return t?{point:t(e.point)}:e}function Y3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rv({point:e},t){return{point:e,delta:Y3(e,sM(t)),offset:Y3(e,nK(t)),velocity:aK(t,.1)}}function nK(e){return e[0]}function sM(e){return e[e.length-1]}function aK(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,r=null;const s=sM(e);for(;a>=0&&(r=e[a],!(s.timestamp-r.timestamp>Gr(t)));)a--;if(!r)return{x:0,y:0};const l=gs(s.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-r.x)/l,y:(s.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function rK(e,{min:t,max:a},r){return t!==void 0&&e<t?e=r?en(t,e,r.min):Math.max(e,t):a!==void 0&&e>a&&(e=r?en(a,e,r.max):Math.min(e,a)),e}function W3(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function sK(e,{top:t,left:a,bottom:r,right:s}){return{x:W3(e.x,a,s),y:W3(e.y,t,r)}}function X3(e,t){let a=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,r]=[r,a]),{min:a,max:r}}function iK(e,t){return{x:X3(e.x,t.x),y:X3(e.y,t.y)}}function lK(e,t){let a=.5;const r=pa(e),s=pa(t);return s>r?a=Kc(t.min,t.max-r,e.min):r>s&&(a=Kc(e.min,e.max-s,t.min)),li(0,1,a)}function oK(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const ow=.35;function cK(e=ow){return e===!1?e=0:e===!0&&(e=ow),{x:Z3(e,"left","right"),y:Z3(e,"top","bottom")}}function Z3(e,t,a){return{min:Q3(e,t),max:Q3(e,a)}}function Q3(e,t){return typeof e=="number"?e:e[t]||0}const uK=new WeakMap;class dK{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(qf(x).point)},c=(x,b)=>{const{drag:y,dragPropagation:w,onDragStart:j}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NH(y),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vr(k=>{let _=this.getAxisMotionValue(k).get()||0;if(bs.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const P=C.layout.layoutBox[k];P&&(_=pa(P)*(parseFloat(_)/100))}}this.originPoint[k]=_}),j&&Wt.postRender(()=>j(x,b)),iw(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:j,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:k}=b;if(w&&this.currentDirection===null){this.currentDirection=fK(k),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),S&&S(x,b)},f=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b,this.stop(x,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>vr(x=>{var b;return this.getAnimationState(x)==="paused"&&((b=this.getAxisMotionValue(x).animation)==null?void 0:b.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new rM(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:aM(this.visualElement)})}stop(t,a){const r=t||this.latestPointerEvent,s=a||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!r)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Wt.postRender(()=>d(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:s}=this.getProps();if(!r||!_h(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=rK(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;t&&Cc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=sK(r.layoutBox,t):this.constraints=!1,this.elastic=cK(a),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=oK(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Cc(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=gq(r,s.root,this.visualElement.getTransformPagePoint());let c=iK(s.layout.layoutBox,l);if(a){const d=a(hq(c));this.hasMutatedConstraints=!!d,d&&(c=BO(d))}return c}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=vr(h=>{if(!_h(h,a,this.currentDirection))return;let x=f&&f[h]||{};c&&(x={min:0,max:0});const b=s?200:1e6,y=s?40:1e7,w={type:"inertia",velocity:r?t[h]:0,bounceStiffness:b,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(h,w)});return Promise.all(m).then(d)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return iw(this.visualElement,t),r.start(r2(t,r,0,a,this.visualElement,!1))}stopAnimation(){vr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vr(t=>{var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[a];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){vr(a=>{const{drag:r}=this.getProps();if(!_h(a,r,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(a);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[a];l.set(t[a]-en(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Cc(a)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();s[c]=lK({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vr(c=>{if(!_h(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(en(f,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;uK.set(this.visualElement,this);const t=this.visualElement.current,a=af(t,"pointerdown",f=>{const{drag:m,dragListener:h=!0}=this.getProps();m&&h&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Cc(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Wt.read(r);const c=jf(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(vr(h=>{const x=this.getAxisMotionValue(h);x&&(this.originPoint[h]+=f[h].translate,x.set(x.get()+f[h].translate))}),this.visualElement.render())});return()=>{c(),a(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=ow,dragMomentum:d=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function _h(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function fK(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class mK extends xl{constructor(t){super(t),this.removeGroupControls=_r,this.removeListeners=_r,this.controls=new dK(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_r}unmount(){this.removeGroupControls(),this.removeListeners()}}const J3=e=>(t,a)=>{e&&Wt.postRender(()=>e(t,a))};class hK extends xl{constructor(){super(...arguments),this.removePointerDownListener=_r}onPointerDown(t){this.session=new rM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:J3(t),onStart:J3(a),onMove:r,onEnd:(l,c)=>{delete this.session,s&&Wt.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=af(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const A0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ek(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Sd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(lt.test(e))e=parseFloat(e);else return e;const a=ek(e,t.target.x),r=ek(e,t.target.y);return`${a}% ${r}%`}},pK={correct:(e,{treeScale:t,projectionDelta:a})=>{const r=e,s=dl.parse(e);if(s.length>5)return r;const l=dl.createTransformer(e),c=typeof s[0]!="number"?1:0,d=a.x.scale*t.x,f=a.y.scale*t.y;s[0+c]/=d,s[1+c]/=f;const m=en(d,f,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),l(s)}};let sv=!1;class xK extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:s}=this.props,{projection:l}=t;FH(gK),l&&(a.group&&a.group.add(l),r&&r.register&&s&&r.register(l),sv&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),A0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:s,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,sv=!0,s||t.layoutDependency!==a||a===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Wt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:s}=t;sv=!0,s&&(s.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iM(e){const[t,a]=kO(),r=g.useContext(_j);return n.jsx(xK,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(IO),isPresent:t,safeToRemove:a})}const gK={borderRadius:{...Sd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sd,borderTopRightRadius:Sd,borderBottomLeftRadius:Sd,borderBottomRightRadius:Sd,boxShadow:pK};function lM(e,t,a){const r=Hn(e)?e:go(e);return r.start(r2("",r,t,a)),r.animation}const bK=(e,t)=>e.depth-t.depth;class vK{constructor(){this.children=[],this.isDirty=!1}add(t){Aj(this.children,t),this.isDirty=!0}remove(t){Up(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bK),this.isDirty=!1,this.children.forEach(t)}}function yK(e,t){const a=Aa.now(),r=({timestamp:s})=>{const l=s-a;l>=t&&(ci(r),e(l-t))};return Wt.setup(r,!0),()=>ci(r)}const oM=["TopLeft","TopRight","BottomLeft","BottomRight"],wK=oM.length,tk=e=>typeof e=="string"?parseFloat(e):e,nk=e=>typeof e=="number"||lt.test(e);function jK(e,t,a,r,s,l){s?(e.opacity=en(0,a.opacity??1,NK(r)),e.opacityExit=en(t.opacity??1,0,SK(r))):l&&(e.opacity=en(t.opacity??1,a.opacity??1,r));for(let c=0;c<wK;c++){const d=`border${oM[c]}Radius`;let f=ak(t,d),m=ak(a,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||nk(f)===nk(m)?(e[d]=Math.max(en(tk(f),tk(m),r),0),(bs.test(m)||bs.test(f))&&(e[d]+="%")):e[d]=m}(t.rotate||a.rotate)&&(e.rotate=en(t.rotate||0,a.rotate||0,r))}function ak(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const NK=cM(0,.5,BP),SK=cM(.5,.95,_r);function cM(e,t,a){return r=>r<e?0:r>t?1:a(Kc(e,t,r))}function rk(e,t){e.min=t.min,e.max=t.max}function mr(e,t){rk(e.x,t.x),rk(e.y,t.y)}function sk(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ik(e,t,a,r,s){return e-=t,e=F0(e,1/a,r),s!==void 0&&(e=F0(e,1/s,r)),e}function _K(e,t=0,a=1,r=.5,s,l=e,c=e){if(bs.test(t)&&(t=parseFloat(t),t=en(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=en(l.min,l.max,r);e===l&&(d-=t),e.min=ik(e.min,t,a,d,s),e.max=ik(e.max,t,a,d,s)}function lk(e,t,[a,r,s],l,c){_K(e,t[a],t[r],t[s],t.scale,l,c)}const kK=["x","scaleX","originX"],CK=["y","scaleY","originY"];function ok(e,t,a,r){lk(e.x,t,kK,a?a.x:void 0,r?r.x:void 0),lk(e.y,t,CK,a?a.y:void 0,r?r.y:void 0)}function ck(e){return e.translate===0&&e.scale===1}function uM(e){return ck(e.x)&&ck(e.y)}function uk(e,t){return e.min===t.min&&e.max===t.max}function AK(e,t){return uk(e.x,t.x)&&uk(e.y,t.y)}function dk(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dM(e,t){return dk(e.x,t.x)&&dk(e.y,t.y)}function fk(e){return pa(e.x)/pa(e.y)}function mk(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class TK{constructor(){this.members=[]}add(t){Aj(this.members,t),t.scheduleRender()}remove(t){if(Up(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(s=>t===s);if(a===0)return!1;let r;for(let s=a;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EK(e,t,a){let r="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=(a==null?void 0:a.z)||0;if((s||l||c)&&(r=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:m,rotate:h,rotateX:x,rotateY:b,skewX:y,skewY:w}=a;m&&(r=`perspective(${m}px) ${r}`),h&&(r+=`rotate(${h}deg) `),x&&(r+=`rotateX(${x}deg) `),b&&(r+=`rotateY(${b}deg) `),y&&(r+=`skewX(${y}deg) `),w&&(r+=`skewY(${w}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const iv=["","X","Y","Z"],PK=1e3;let OK=0;function lv(e,t,a,r){const{latestValues:s}=t;s[e]&&(a[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function fM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const a=ZO(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",Wt,!(s||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&fM(r)}function mM({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(c={},d=t==null?void 0:t()){this.id=OK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(RK),this.nodes.forEach(zK),this.nodes.forEach(BK),this.nodes.forEach($K)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new vK)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Pj),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Wj(c)&&!_O(c),this.instance=c;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let h,x=0;const b=()=>this.root.updateBlockedByResize=!1;Wt.read(()=>{x=window.innerWidth}),e(c,()=>{const y=window.innerWidth;y!==x&&(x=y,this.root.updateBlockedByResize=!0,h&&h(),h=yK(b,250),A0.hasAnimatedSinceResize&&(A0.hasAnimatedSinceResize=!1,this.nodes.forEach(xk)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeLayoutChanged:b,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||qK,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=m.getProps(),k=!this.targetLayout||!dM(this.targetLayout,y),_=!x&&b;if(this.options.layoutRoot||this.resumeFrom||_||x&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...qj(w,"layout"),onPlay:j,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(h,_)}else x||xk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UK),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const x=this.path[h];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IK),this.nodes.forEach(MK),this.nodes.forEach(DK)):this.nodes.forEach(pk),this.clearAllSnapshots();const d=Aa.now();Jn.delta=li(0,1e3/60,d-Jn.timestamp),Jn.timestamp=d,Jn.isProcessing=!0,Wb.update.process(Jn),Wb.preRender.process(Jn),Wb.render.process(Jn),Jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LK),this.sharedNodes.forEach(FK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pa(this.snapshot.measuredBox.x)&&!pa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!uM(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,h=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||Yl(this.latestValues)||h)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),KK(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return fn();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(GK))){const{scroll:h}=this.root;h&&(Ac(d.x,h.offset.x),Ac(d.y,h.offset.y))}return d}removeElementScroll(c){var f;const d=fn();if(mr(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const h=this.path[m],{scroll:x,options:b}=h;h!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&mr(d,c),Ac(d.x,x.offset.x),Ac(d.y,x.offset.y))}return d}applyTransform(c,d=!1){const f=fn();mr(f,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];!d&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Tc(f,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Yl(h.latestValues)&&Tc(f,h.latestValues)}return Yl(this.latestValues)&&Tc(f,this.latestValues),f}removeTransform(c){const d=fn();mr(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Yl(m.latestValues))continue;nw(m.latestValues)&&m.updateSnapshot();const h=fn(),x=m.measurePageBox();mr(h,x),ok(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,h)}return Yl(this.latestValues)&&ok(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=Jn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),sf(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mr(this.target,this.layout.layoutBox),FO(this.target,this.targetDelta)):mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),sf(this.relativeTargetOrigin,this.target,y.target),mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nw(this.parent.latestValues)||UO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Jn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;mr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;xq(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=fn());const{target:y}=c;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sk(this.prevProjectionDelta.x,this.projectionDelta.x),sk(this.prevProjectionDelta.y,this.projectionDelta.y)),rf(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!mk(this.projectionDelta.x,this.prevProjectionDelta.x)||!mk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ec(),this.projectionDelta=Ec(),this.projectionDeltaWithTransform=Ec()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},h={...this.latestValues},x=Ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=fn(),y=f?f.source:void 0,w=this.layout?this.layout.source:void 0,j=y!==w,S=this.getStack(),k=!S||S.members.length<=1,_=!!(j&&!k&&this.options.crossfade===!0&&!this.path.some(HK));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const A=P/1e3;gk(x.x,c.x,A),gk(x.y,c.y,A),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sf(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VK(this.relativeTarget,this.relativeTargetOrigin,b,A),C&&AK(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=fn()),mr(C,this.relativeTarget)),j&&(this.animationValues=h,jK(h,m,this.latestValues,A,_,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.update(()=>{A0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=go(0)),this.currentAnimation=lM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:h}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&hM(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||fn();const x=pa(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const b=pa(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}mr(d,f),Tc(d,h),rf(this.projectionDeltaWithTransform,this.layoutCorrected,d,h)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new TK),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&lv("z",c,m,this.animationValues);for(let h=0;h<iv.length;h++)lv(`rotate${iv[h]}`,c,m,this.animationValues),lv(`skew${iv[h]}`,c,m,this.animationValues);c.render();for(const h in m)c.setStaticValue(h,m[h]),this.animationValues&&(this.animationValues[h]=m[h]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=C0(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=C0(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Yl(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const h=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=EK(this.projectionDeltaWithTransform,this.treeScale,h);f&&(x=f(h,x)),c.transform=x;const{x:b,y}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${y.origin*100}% 0`,m.animationValues?c.opacity=m===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in yf){if(h[w]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:k}=yf[w],_=x==="none"?h[w]:j(h[w],m);if(S){const C=S.length;for(let P=0;P<C;P++)c[S[P]]=_}else k?this.options.visualElement.renderState.vars[w]=_:c[w]=_}this.options.layoutId&&(c.pointerEvents=m===this?C0(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(hk),this.root.sharedNodes.clear()}}}function MK(e){e.updateLayout()}function DK(e){var a;const t=((a=e.resumeFrom)==null?void 0:a.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?vr(x=>{const b=c?t.measuredBox[x]:t.layoutBox[x],y=pa(b);b.min=r[x].min,b.max=b.min+y}):hM(l,t.layoutBox,r)&&vr(x=>{const b=c?t.measuredBox[x]:t.layoutBox[x],y=pa(r[x]);b.max=b.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+y)});const d=Ec();rf(d,r,t.layoutBox);const f=Ec();c?rf(f,e.applyTransform(s,!0),t.measuredBox):rf(f,r,t.layoutBox);const m=!uM(d);let h=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:y}=x;if(b&&y){const w=fn();sf(w,t.layoutBox,b.layoutBox);const j=fn();sf(j,r,y.layoutBox),dM(w,j)||(h=!0),x.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=w,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function RK(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $K(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LK(e){e.clearSnapshot()}function hk(e){e.clearMeasurements()}function pk(e){e.isLayoutDirty=!1}function IK(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function xk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function zK(e){e.resolveTargetDelta()}function BK(e){e.calcProjection()}function UK(e){e.resetSkewAndRotation()}function FK(e){e.removeLeadSnapshot()}function gk(e,t,a){e.translate=en(t.translate,0,a),e.scale=en(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function bk(e,t,a,r){e.min=en(t.min,a.min,r),e.max=en(t.max,a.max,r)}function VK(e,t,a,r){bk(e.x,t.x,a.x,r),bk(e.y,t.y,a.y,r)}function HK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qK={duration:.45,ease:[.4,0,.1,1]},vk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yk=vk("applewebkit/")&&!vk("chrome/")?Math.round:_r;function wk(e){e.min=yk(e.min),e.max=yk(e.max)}function KK(e){wk(e.x),wk(e.y)}function hM(e,t,a){return e==="position"||e==="preserve-aspect"&&!Jq(fk(t),fk(a),.2)}function GK(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const YK=mM({attachResizeListener:(e,t)=>jf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ov={current:void 0},pM=mM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ov.current){const e=new YK({});e.mount(window),e.setOptions({layoutScroll:!0}),ov.current=e}return ov.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),WK={pan:{Feature:hK},drag:{Feature:mK,ProjectionNode:pM,MeasureLayout:iM}};function jk(e,t,a){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",a==="Start");const s="onHover"+a,l=r[s];l&&Wt.postRender(()=>l(t,qf(t)))}class XK extends xl{mount(){const{current:t}=this.node;t&&(this.unmount=SH(t,(a,r)=>(jk(this.node,r,"Start"),s=>jk(this.node,s,"End"))))}unmount(){}}class ZK extends xl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ff(jf(this.node.current,"focus",()=>this.onFocus()),jf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Nk(e,t,a){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",a==="Start");const s="onTap"+(a==="End"?"":a),l=r[s];l&&Wt.postRender(()=>l(t,qf(t)))}class QK extends xl{mount(){const{current:t}=this.node;t&&(this.unmount=AH(t,(a,r)=>(Nk(this.node,r,"Start"),(s,{success:l})=>Nk(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cw=new WeakMap,cv=new WeakMap,JK=e=>{const t=cw.get(e.target);t&&t(e)},eG=e=>{e.forEach(JK)};function tG({root:e,...t}){const a=e||document;cv.has(a)||cv.set(a,{});const r=cv.get(a),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(eG,{root:e,...t})),r[s]}function nG(e,t,a){const r=tG(t);return cw.set(e,a),r.observe(e),()=>{cw.delete(e),r.unobserve(e)}}const aG={some:0,all:1};class rG extends xl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:s="some",once:l}=t,c={root:a?a.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:aG[s]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:h,onViewportLeave:x}=this.node.getProps(),b=m?h:x;b&&b(f)};return nG(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(sG(t,a))&&this.startObserver()}unmount(){}}function sG({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const iG={inView:{Feature:rG},tap:{Feature:QK},focus:{Feature:ZK},hover:{Feature:XK}},lG={layout:{ProjectionNode:pM,MeasureLayout:iM}},oG={...Gq,...iG,...WK,...lG},he=mq(oG,jq);function Yc(e){const t=Uf(()=>go(e)),{isStatic:a}=g.useContext(Fp);if(a){const[,r]=g.useState(e);g.useEffect(()=>t.on("change",r),[])}return t}function xM(e,t){const a=Yc(t()),r=()=>a.set(t());return r(),Cj(()=>{const s=()=>Wt.preRender(r,!1,!0),l=e.map(c=>c.on("change",s));return()=>{l.forEach(c=>c()),ci(r)}}),a}function cG(e){nf.current=[],e();const t=xM(nf.current,e);return nf.current=void 0,t}function V0(e,t,a,r){if(typeof e=="function")return cG(e);const s=typeof t=="function"?t:TH(t,a,r);return Array.isArray(e)?Sk(e,s):Sk([e],([l])=>s(l))}function Sk(e,t){const a=Uf(()=>[]);return xM(e,()=>{a.length=0;const r=e.length;for(let s=0;s<r;s++)a[s]=e[s].get();return t(a)})}function i2(e){return typeof e=="object"&&!Array.isArray(e)}function gM(e,t,a,r){return typeof e=="string"&&i2(t)?vO(e,a,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function uG(e,t,a){return e*(t+1)}function _k(e,t,a,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?a:t.startsWith("<")?Math.max(0,a+parseFloat(t.slice(1))):r.get(t)??e}function dG(e,t,a){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<a&&(Up(e,s),r--)}}function fG(e,t,a,r,s,l){dG(e,s,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:en(s,l,r[c]),easing:HP(a,c)})}function mG(e,t){for(let a=0;a<e.length;a++)e[a]=e[a]/(t+1)}function hG(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const pG="easeInOut";function xG(e,{defaultTransition:t={},...a}={},r,s){const l=t.duration||.3,c=new Map,d=new Map,f={},m=new Map;let h=0,x=0,b=0;for(let y=0;y<e.length;y++){const w=e[y];if(typeof w=="string"){m.set(w,x);continue}else if(!Array.isArray(w)){m.set(w.name,_k(x,w.at,h,m));continue}let[j,S,k={}]=w;k.at!==void 0&&(x=_k(x,k.at,h,m));let _=0;const C=(P,A,T,R=0,O=0)=>{const V=gG(P),{delay:K=0,times:F=iO(V),type:L="keyframes",repeat:te,repeatType:Ne,repeatDelay:re=0,...D}=A;let{ease:Y=t.ease||"easeOut",duration:H}=A;const B=typeof K=="function"?K(R,O):K,E=V.length,$=Hj(L)?L:s==null?void 0:s[L||"keyframes"];if(E<=2&&$){let J=100;if(E===2&&yG(V)){const ae=V[1]-V[0];J=Math.abs(ae)}const Q={...D};H!==void 0&&(Q.duration=Gr(H));const Se=nO(Q,J,$);Y=Se.ease,H=Se.duration}H??(H=l);const z=x+B;F.length===1&&F[0]===0&&(F[1]=1);const W=F.length-V.length;if(W>0&&sO(F,W),V.length===1&&V.unshift(null),te){H=uG(H,te);const J=[...V],Q=[...F];Y=Array.isArray(Y)?[...Y]:[Y];const Se=[...Y];for(let ae=0;ae<te;ae++){V.push(...J);for(let be=0;be<J.length;be++)F.push(Q[be]+(ae+1)),Y.push(be===0?"linear":HP(Se,be-1))}mG(F,te)}const de=z+H;fG(T,V,Y,F,z,de),_=Math.max(B+H,_),b=Math.max(de,b)};if(Hn(j)){const P=kk(j,d);C(S,k,Ck("default",P))}else{const P=gM(j,S,r,f),A=P.length;for(let T=0;T<A;T++){S=S,k=k;const R=P[T],O=kk(R,d);for(const V in S)C(S[V],bG(k,V),Ck(V,O),T,A)}}h=x,x+=_}return d.forEach((y,w)=>{for(const j in y){const S=y[j];S.sort(hG);const k=[],_=[],C=[];for(let A=0;A<S.length;A++){const{at:T,value:R,easing:O}=S[A];k.push(R),_.push(Kc(0,b,T)),C.push(O||"easeOut")}_[0]!==0&&(_.unshift(0),k.unshift(k[0]),C.unshift(pG)),_[_.length-1]!==1&&(_.push(1),k.push(null)),c.has(w)||c.set(w,{keyframes:{},transition:{}});const P=c.get(w);P.keyframes[j]=k,P.transition[j]={...t,duration:b,ease:C,times:_,...a}}}),c}function kk(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Ck(e,t){return t[e]||(t[e]=[]),t[e]}function gG(e){return Array.isArray(e)?e:[e]}function bG(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const vG=e=>typeof e=="number",yG=e=>e.every(vG);function wG(e,t){return e in t}class jG extends qO{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,a){if(wG(a,t)){const r=t[a];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,a){delete a.output[t]}measureInstanceViewportBox(){return fn()}build(t,a){Object.assign(t.output,a)}renderInstance(t,{output:a}){Object.assign(t,a)}sortInstanceNodePosition(){return 0}}function NG(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},a=Wj(e)&&!_O(e)?new XO(t):new YO(t);a.mount(e),wf.set(e,a)}function SG(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},a=new jG(t);a.mount(e),wf.set(e,a)}function _G(e,t){return Hn(e)||typeof e=="number"||typeof e=="string"&&!i2(t)}function bM(e,t,a,r){const s=[];if(_G(e,t))s.push(lM(e,i2(t)&&t.default||t,a&&(a.default||a)));else{const l=gM(e,t,r),c=l.length;for(let d=0;d<c;d++){const f=l[d],m=f instanceof Element?NG:SG;wf.has(f)||m(f);const h=wf.get(f),x={...a};"delay"in x&&typeof x.delay=="function"&&(x.delay=x.delay(d,c)),s.push(...s2(h,{...t,transition:x},{}))}}return s}function kG(e,t,a){const r=[];return xG(e,t,a,{spring:bf}).forEach(({keyframes:l,transition:c},d)=>{r.push(...bM(d,l,c))}),r}function CG(e){return Array.isArray(e)&&e.some(Array.isArray)}function AG(e){function t(a,r,s){let l=[];return CG(a)?l=kG(a,r,e):l=bM(a,r,s,e),new oH(l)}return t}const TG=AG(),EG="https://aisdr-dbt.ddns.net";function PG({isOpen:e,onSuccess:t}){const[a,r]=g.useState(""),[s,l]=g.useState(""),[c,d]=g.useState(!1),[f,m]=g.useState(!1),[h,x]=g.useState(!0),[b,y]=g.useState(!1);if(!e)return null;const w=async j=>{if(j.preventDefault(),!a.trim()||!s.trim()){I.error("Please enter both Account SID and Auth Token.");return}const S=localStorage.getItem("token");if(!S){I.error("You must be logged in."),window.location.href="/login";return}y(!0);try{const k=await fetch(`${EG}/api/twilio/credentials`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({account_sid:a.trim(),auth_token:s.trim(),validate:h})}),_=await k.json().catch(()=>({}));if(k.ok)I.success("Twilio credentials saved "),t==null||t();else{const C=(_==null?void 0:_.detail)||(_==null?void 0:_.message)||(typeof _=="string"?_:"Failed to save Twilio credentials.");I.error(C)}}catch{I.error("Network error. Please try again.")}finally{y(!1)}};return n.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm"}),n.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-50",children:n.jsx(ul,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Connect Twilio"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Enter your Twilio Account SID and Auth Token to continue."})]})]}),n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Account SID"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:c?"text":"password",autoComplete:"off",value:a,onChange:j=>r(j.target.value),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),n.jsx("button",{type:"button",onClick:()=>d(j=>!j),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":c?"Hide SID":"Show SID",children:c?n.jsx(Vc,{className:"h-5 w-5"}):n.jsx(On,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Auth Token"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:f?"text":"password",autoComplete:"off",value:s,onChange:j=>l(j.target.value),placeholder:"",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),n.jsx("button",{type:"button",onClick:()=>m(j=>!j),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":f?"Hide Token":"Show Token",children:f?n.jsx(Vc,{className:"h-5 w-5"}):n.jsx(On,{className:"h-5 w-5"})})]})]}),n.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-blue-600",checked:h,onChange:j=>x(j.target.checked)}),n.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]}),n.jsx("button",{type:"submit",disabled:b,className:"group relative flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 py-3 font-semibold text-white shadow-lg transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60",children:b?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Saving"]}):n.jsxs(n.Fragment,{children:["Save & Continue",n.jsx(_c,{className:"h-4 w-4 transition group-hover:translate-x-0.5"})]})}),n.jsx("p",{className:"text-xs text-slate-500",children:"We store your credentials on your user record and use them only to manage your Twilio numbers on your behalf."})]})]})]})}const Ak="https://aisdr-dbt.ddns.net";function OG(){const[e,t]=g.useState(["","","",""]),[a,r]=g.useState(""),[s,l]=g.useState(!1),[c,d]=g.useState(0),[f,m]=g.useState(!1),h=[g.useRef(null),g.useRef(null),g.useRef(null),g.useRef(null)],x=Zt();g.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("email");C&&r(decodeURIComponent(C)),setTimeout(()=>{var P;return(P=h[0].current)==null?void 0:P.focus()},50)},[]),g.useEffect(()=>{if(c>0){const _=setTimeout(()=>d(C=>C-1),1e3);return()=>clearTimeout(_)}},[c]);const b=(_,C)=>{var T;const P=C.replace(/\D/g,"");if(P.length>1)return;const A=[...e];A[_]=P,t(A),P&&_<3&&((T=h[_+1].current)==null||T.focus()),A.every(R=>R!=="")&&A.join("").length===4&&j(A.join(""))},y=(_,C)=>{var P,A,T;C.key==="Backspace"&&!e[_]&&_>0&&((P=h[_-1].current)==null||P.focus()),C.key==="Enter"&&j(e.join("")),C.key==="ArrowLeft"&&_>0&&((A=h[_-1].current)==null||A.focus()),C.key==="ArrowRight"&&_<3&&((T=h[_+1].current)==null||T.focus())},w=_=>{var T,R;_.preventDefault();const C=_.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(!C)return;const P=["","","",""];for(let O=0;O<C.length;O++)P[O]=C[O];t(P);const A=P.findIndex(O=>O==="");A!==-1?(T=h[A].current)==null||T.focus():(R=h[3].current)==null||R.focus(),P.every(O=>O!=="")&&j(P.join(""))},j=async(_=null)=>{var P,A,T;const C=_||e.join("");if(C.length!==4){I.error("Please enter all 4 digits");return}if(!a){I.error("Email is required for verification");return}l(!0);try{const R=await fetch(`${Ak}/api/account-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:C,email:a})}),O=await R.json().catch(()=>({}));R.ok?(O.token&&localStorage.setItem("token",O.token),(P=O.user)!=null&&P.role&&localStorage.setItem("role",O.user.role),I.success("Account verified successfully! "),m(!0)):(I.error("Invalid OTP. Please try again."),t(["","","",""]),(A=h[0].current)==null||A.focus())}catch{I.error("Network error. Please check your connection and try again."),t(["","","",""]),(T=h[0].current)==null||T.focus()}finally{l(!1)}},S=async()=>{var _;if(!(c>0||!a)){l(!0);try{(await fetch(`${Ak}/api/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})})).ok?(I.success("New verification code sent to your email."),d(60),t(["","","",""]),(_=h[0].current)==null||_.focus()):I.error("Failed to resend code. Please try again.")}catch{I.error("Network error. Please try again.")}finally{l(!1)}}},k="shadow-[0_0_30px_rgba(37,99,235,0.35)]";return n.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[n.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[n.jsx(he.div,{className:"absolute -top-40 -left-40 h-[32rem] w-[32rem] rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(closest-side, #93c5fd, transparent)"},animate:{y:[0,20,0],x:[0,12,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),n.jsx(he.div,{className:"absolute -bottom-48 -right-48 h-[36rem] w-[36rem] rounded-full blur-3xl opacity-70",style:{background:"radial-gradient(closest-side, #a5f3fc, transparent)"},animate:{y:[0,-16,0],x:[0,-10,0]},transition:{duration:9,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),n.jsx(he.div,{className:"absolute inset-0",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.12), rgba(6,182,212,0.12), rgba(59,130,246,0.12))"},animate:{rotate:360},transition:{duration:24,repeat:1/0,ease:"linear"},"aria-hidden":!0})]}),n.jsxs("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},className:`relative h-16 w-16 rounded-2xl bg-white border border-blue-200/70 ${k} flex items-center justify-center`,children:[n.jsx(he.div,{className:"absolute inset-0 rounded-2xl",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.25), rgba(6,182,212,0.25), rgba(59,130,246,0.25))"},animate:{rotate:-360},transition:{duration:12,repeat:1/0,ease:"linear"},"aria-hidden":!0}),n.jsx("div",{className:"absolute inset-[3px] rounded-2xl bg-white"}),n.jsx(Pa,{className:"relative w-7 h-7 text-blue-600"})]})}),n.jsx(he.h2,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-slate-900",children:"Verify your account"}),n.jsxs(he.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-2 text-center text-sm text-slate-600",children:["We sent a 4-digit code to",n.jsx("br",{}),n.jsx("span",{className:"font-medium text-blue-600",children:a||"your email"})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsx(he.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:`bg-white/90 backdrop-blur-sm py-8 px-6 sm:px-10 border border-slate-200 rounded-2xl shadow-xl ${k}`,children:n.jsxs("form",{onSubmit:_=>{_.preventDefault(),j()},children:[n.jsx("label",{className:"mb-4 block text-center text-sm font-medium text-slate-700",children:"Enter verification code"}),n.jsx("div",{className:"mb-6 flex justify-center gap-3 sm:gap-4",children:e.map((_,C)=>n.jsx(he.input,{ref:h[C],type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:_,onFocus:P=>P.target.select(),onChange:P=>b(C,P.target.value),onKeyDown:P=>y(C,P),onPaste:w,"aria-label":`OTP digit ${C+1}`,disabled:s,className:`h-16 w-14 text-center text-2xl font-bold sm:h-18 sm:w-16 sm:text-3xl
                      rounded-xl border-2 bg-white/90 text-slate-900 placeholder-slate-400 outline-none transition
                      ${_?"border-blue-400":"border-slate-200 focus:border-blue-400"}
                      focus:ring-2 focus:ring-blue-300`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*C}},C))}),n.jsxs(he.button,{type:"submit",disabled:s||e.join("").length!==4,className:`group relative w-full overflow-hidden rounded-xl py-3 px-4 text-sm font-semibold text-white shadow-lg transition
                  ${s||e.join("").length!==4?"bg-blue-500/80":"bg-blue-600 hover:bg-blue-700"}
                  focus:outline-none focus:ring-2 focus:ring-blue-500`,whileTap:{scale:.98},children:[n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-40",children:n.jsx("span",{className:"absolute -inset-12 h-[200%] w-2/3 -translate-x-[150%] rotate-12 bg-gradient-to-r from-transparent via-white/50 to-transparent transition-transform duration-700 group-hover:translate-x-[120%]"})}),s?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("span",{className:"mr-3 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Verifying"]}):n.jsxs("div",{className:"flex items-center justify-center",children:["Verify Account",n.jsx(Ip,{className:"ml-2 h-4 w-4 transition-transform duration-200 group-hover:translate-x-1"})]})]}),n.jsxs("div",{className:"mt-5 text-center",children:[n.jsx("p",{className:"mb-2 text-sm text-slate-600",children:"Didn't receive the code?"}),n.jsxs("button",{type:"button",onClick:S,disabled:c>0||s||!a,className:"inline-flex items-center text-sm font-medium text-blue-600 transition-colors hover:text-blue-700 disabled:cursor-not-allowed disabled:text-slate-400",children:[n.jsx(qe,{className:"mr-1 h-4 w-4"}),c>0?`Resend in ${c}s`:"Resend Code"]})]})]})})})]}),n.jsx(PG,{isOpen:f,onSuccess:()=>{m(!1),setTimeout(()=>x("/profile"),300)}})]})}function MG(){const[e,t]=g.useState({email:"",password:""}),[a,r]=g.useState(!1),[s,l]=g.useState({}),[c,d]=g.useState(!1),f=Zt(),m="https://aisdr-dbt.ddns.net",h=y=>{const{name:w,value:j}=y.target;t(S=>({...S,[w]:j})),s[w]&&l(S=>({...S,[w]:""}))},x=()=>{const y={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(y.email="Please enter a valid email address"):y.email="Email is required",e.password?e.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",l(y),Object.keys(y).length===0},b=async y=>{var w,j,S;if(y.preventDefault(),!!x()){d(!0),l({});try{const k=await fetch(`${m}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),_=await k.json();if(k.ok)_.token&&localStorage.setItem("token",_.token),(w=_.user)!=null&&w.role&&localStorage.setItem("role",_.user.role),(j=_.user)!=null&&j.name&&localStorage.setItem("name",_.user.name),(S=_.user)!=null&&S.email&&localStorage.setItem("email",_.user.email),I.success("Login successful! "),setTimeout(()=>{var P,A,T;const C=((T=(A=(P=_.user)==null?void 0:P.role)==null?void 0:A.toLowerCase)==null?void 0:T.call(A))||"";f(C==="user"?"/user/dashboard":C==="admin"?"/admin/dashboard":"/dashboard")},1200);else{const C=_.message||_.detail||"Invalid email or password. Please try again.";I.error(C),l({submit:C})}}catch{const k="Network error. Please check your connection and try again.";I.error(k),l({submit:k})}finally{d(!1)}}};return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:n.jsx(Rc,{className:"w-8 h-8 text-white"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign up here"})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[s.submit&&n.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[n.jsx(wr,{className:"h-5 w-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),n.jsxs("form",{className:"space-y-6",onSubmit:b,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Pa,{className:`h-5 w-5 transition-colors duration-200 ${e.email?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx(L1,{className:"h-5 w-5 text-green-500"})})]}),s.email&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(wr,{className:"h-4 w-4 mr-1"}),s.email]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Hc,{className:`h-5 w-5 transition-colors duration-200 ${e.password?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your password"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200 cursor-pointer",onClick:()=>r(!a),children:a?n.jsx(Vc,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):n.jsx(On,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsx("a",{href:"/forget_password",className:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Forgot password?"})}),s.password&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(wr,{className:"h-4 w-4 mr-1"}),s.password]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 cursor-pointer",children:c?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Signing in..."]}):n.jsxs("div",{className:"flex items-center",children:["Sign in",n.jsx(Ip,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200",children:[n.jsx("div",{className:"absolute -inset-x-10 -top-10 h-24 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-slate-600",children:"By signing in you agree to our"}),n.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms"}),n.jsx("span",{className:"text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy"})]})]})]})})]})})]})}function DG({length:e=4,value:t,onChange:a}){const r=g.useRef([]),s=f=>{const m=r.current[f];m&&m.focus()},l=(f,m)=>{const h=m.replace(/\D/g,"").slice(0,1),x=(t||"").split("");x[f]=h;const b=x.join("");a(b),h&&f<e-1&&s(f+1)},c=(f,m)=>{const h=(t||"")[f]||"";if(m.key==="Backspace"){if(!h&&f>0){m.preventDefault();const x=(t||"").split("");x[f-1]="",a(x.join("")),s(f-1)}}else m.key==="ArrowLeft"&&f>0?(m.preventDefault(),s(f-1)):m.key==="ArrowRight"&&f<e-1&&(m.preventDefault(),s(f+1))},d=f=>{f.preventDefault();const m=(f.clipboardData.getData("text")||"").replace(/\D/g,"");if(!m)return;const h=(t||"").split("");for(let b=0;b<e;b++)h[b]=m[b]||"";a(h.join(""));const x=Math.min(m.length,e)-1;s(x>=0?x:0)};return n.jsx("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:Array.from({length:e}).map((f,m)=>{const h=(t||"")[m]||"";return n.jsx("input",{ref:x=>r.current[m]=x,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:h,onChange:x=>l(m,x.target.value),onKeyDown:x=>c(m,x),onPaste:m===0?d:void 0,className:`w-11 h-11 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-semibold\r
                       rounded-2xl border bg-white/80 backdrop-blur\r
                       border-gray-200 shadow-sm hover:shadow transition-all\r
                       focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500\r
                       focus:shadow-[0_6px_24px_rgba(59,130,246,0.18)] focus:scale-105\r
                       caret-transparent select-none`,"aria-label":`OTP digit ${m+1}`},m)})})}function RG(){const[e,t]=g.useState(1),[a,r]=g.useState(""),[s,l]=g.useState(""),[c,d]=g.useState(""),[f,m]=g.useState(!1),[h,x]=g.useState({}),[b,y]=g.useState(!1),w=Zt(),j="https://aisdr-dbt.ddns.net",S=()=>{const P={};return a.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)||(P.email="Please enter a valid email address"):P.email="Email is required",x(P),Object.keys(P).length===0},k=()=>{const P={};return(!s||s.length!==4)&&(P.code="Enter the 4-digit OTP"),c.trim()?c.length<6&&(P.password="Password must be at least 6 characters"):P.password="Password is required",x(P),Object.keys(P).length===0},_=async P=>{if(P.preventDefault(),!!S()){y(!0);try{const A=await fetch(`${j}/api/password-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),T=await A.json();A.ok?(I.success("Password reset OTP sent to your email! "),t(2)):I.error(T.detail||"Something went wrong.")}catch{I.error("Network error. Please try again.")}finally{y(!1)}}},C=async P=>{if(P.preventDefault(),!!k()){y(!0);try{const A=await fetch(`${j}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,code:s,password:c})}),T=await A.json();A.ok?(I.success("Password changed successfully! "),w("/user")):I.error(T.detail||"Failed to reset password.")}catch{I.error("Network error. Please try again.")}finally{y(!1)}}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:n.jsx(bU,{className:"w-8 h-8 text-white"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e===1?"Reset your password":"Enter OTP & New Password"}),e===2&&n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Weve sent a 4-digit code to"," ",n.jsx("span",{className:"font-medium",children:a})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white/90 backdrop-blur py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&n.jsxs("form",{className:"space-y-6",onSubmit:_,children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Pa,{className:`h-5 w-5 absolute left-3 top-3 ${a?"text-blue-500":"text-gray-400"}`}),n.jsx("input",{type:"email",value:a,onChange:P=>r(P.target.value),className:"pl-10 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter your email",autoComplete:"email",autoFocus:!0})]}),h.email&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(wr,{className:"h-4 w-4 mr-1"}),h.email]})]}),n.jsx("button",{type:"submit",disabled:b,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:b?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending"]}):n.jsxs("div",{className:"flex items-center",children:["Send OTP",n.jsx(Ip,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e===2&&n.jsxs("form",{className:"space-y-6",onSubmit:C,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-baseline justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),n.jsx("span",{className:"text-xs text-gray-500",children:"4 digits"})]}),n.jsx(DG,{length:4,value:s,onChange:l}),h.code&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(wr,{className:"h-4 w-4 mr-1"}),h.code]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Hc,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:f?"text":"password",value:c,onChange:P=>d(P.target.value),className:"pl-10 pr-12 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter new password",autoComplete:"new-password"}),n.jsx("button",{type:"button",onClick:()=>m(P=>!P),className:"absolute right-3 top-2.5 p-1.5 rounded-lg hover:bg-gray-100 text-gray-500","aria-label":f?"Hide password":"Show password",children:f?n.jsx(Vc,{className:"h-5 w-5"}):n.jsx(On,{className:"h-5 w-5"})})]}),h.password&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(wr,{className:"h-4 w-4 mr-1"}),h.password]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use at least 6 characters."})]}),n.jsx("button",{type:"submit",disabled:b||!(s.length===4&&c.length>=6),className:"w-full py-3 rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Resetting":"Reset Password"}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{type:"button",onClick:()=>t(1),className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:[n.jsx(NP,{className:"mr-1 h-4 w-4"}),"Change email"]})})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Remember your password?"," ",n.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in here"})]})})]})})]})}var uw=function(e,t){return uw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])},uw(e,t)};function $G(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");uw(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var Fn=function(){return Fn=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},Fn.apply(this,arguments)};var uv,Tk;function LG(){if(Tk)return uv;Tk=1;var e=!1,t,a,r,s,l,c,d,f,m,h,x,b,y,w,j;function S(){if(!e){e=!0;var _=navigator.userAgent,C=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(_),P=/(Mac OS X)|(Windows)|(Linux)/.exec(_);if(b=/\b(iPhone|iP[ao]d)/.exec(_),y=/\b(iP[ao]d)/.exec(_),h=/Android/i.exec(_),w=/FBAN\/\w+;/i.exec(_),j=/Mobile/i.exec(_),x=!!/Win64/.exec(_),C){t=C[1]?parseFloat(C[1]):C[5]?parseFloat(C[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var A=/(?:Trident\/(\d+.\d+))/.exec(_);c=A?parseFloat(A[1])+4:t,a=C[2]?parseFloat(C[2]):NaN,r=C[3]?parseFloat(C[3]):NaN,s=C[4]?parseFloat(C[4]):NaN,s?(C=/(?:Chrome\/(\d+\.\d+))/.exec(_),l=C&&C[1]?parseFloat(C[1]):NaN):l=NaN}else t=a=r=l=s=NaN;if(P){if(P[1]){var T=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(_);d=T?parseFloat(T[1].replace("_",".")):!0}else d=!1;f=!!P[2],m=!!P[3]}else d=f=m=!1}}var k={ie:function(){return S()||t},ieCompatibilityMode:function(){return S()||c>t},ie64:function(){return k.ie()&&x},firefox:function(){return S()||a},opera:function(){return S()||r},webkit:function(){return S()||s},safari:function(){return k.webkit()},chrome:function(){return S()||l},windows:function(){return S()||f},osx:function(){return S()||d},linux:function(){return S()||m},iphone:function(){return S()||b},mobile:function(){return S()||b||y||h||j},nativeApp:function(){return S()||w},android:function(){return S()||h},ipad:function(){return S()||y}};return uv=k,uv}var dv,Ek;function IG(){if(Ek)return dv;Ek=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return dv=t,dv}var fv,Pk;function zG(){if(Pk)return fv;Pk=1;var e=IG(),t;e.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function a(r,s){if(!e.canUseDOM||s&&!("addEventListener"in document))return!1;var l="on"+r,c=l in document;if(!c){var d=document.createElement("div");d.setAttribute(l,"return;"),c=typeof d[l]=="function"}return!c&&t&&r==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return fv=a,fv}var mv,Ok;function BG(){if(Ok)return mv;Ok=1;var e=LG(),t=zG(),a=10,r=40,s=800;function l(c){var d=0,f=0,m=0,h=0;return"detail"in c&&(f=c.detail),"wheelDelta"in c&&(f=-c.wheelDelta/120),"wheelDeltaY"in c&&(f=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(d=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(d=f,f=0),m=d*a,h=f*a,"deltaY"in c&&(h=c.deltaY),"deltaX"in c&&(m=c.deltaX),(m||h)&&c.deltaMode&&(c.deltaMode==1?(m*=r,h*=r):(m*=s,h*=s)),m&&!d&&(d=m<1?-1:1),h&&!f&&(f=h<1?-1:1),{spinX:d,spinY:f,pixelX:m,pixelY:h}}return l.getEventType=function(){return e.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},mv=l,mv}var hv,Mk;function UG(){return Mk||(Mk=1,hv=BG()),hv}var FG=UG();const VG=Xr(FG);function HG(e,t,a,r,s,l){l===void 0&&(l=0);var c=Wc(e,t,l),d=c.width,f=c.height,m=Math.min(d,a),h=Math.min(f,r);return m>h*s?{width:h*s,height:h}:{width:m,height:m/s}}function qG(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function _d(e,t,a,r,s){s===void 0&&(s=0);var l=Wc(t.width,t.height,s),c=l.width,d=l.height;return{x:Dk(e.x,c,a.width,r),y:Dk(e.y,d,a.height,r)}}function Dk(e,t,a,r){var s=t*r/2-a/2;return Kp(e,-s,s)}function Rk(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function $k(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function KG(e,t,a,r,s,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var d=c?GG:YG,f=Wc(t.width,t.height,l),m=Wc(t.naturalWidth,t.naturalHeight,l),h={x:d(100,((f.width-a.width/s)/2-e.x/s)/f.width*100),y:d(100,((f.height-a.height/s)/2-e.y/s)/f.height*100),width:d(100,a.width/f.width*100/s),height:d(100,a.height/f.height*100/s)},x=Math.round(d(m.width,h.width*m.width/100)),b=Math.round(d(m.height,h.height*m.height/100)),y=m.width>=m.height*r,w=y?{width:Math.round(b*r),height:b}:{width:x,height:Math.round(x/r)},j=Fn(Fn({},w),{x:Math.round(d(m.width-w.width,h.x*m.width/100)),y:Math.round(d(m.height-w.height,h.y*m.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:j}}function GG(e,t){return Math.min(e,Math.max(0,t))}function YG(e,t){return t}function WG(e,t,a,r,s,l){var c=Wc(t.width,t.height,a),d=Kp(r.width/c.width*(100/e.width),s,l),f={x:d*c.width/2-r.width/2-c.width*d*(e.x/100),y:d*c.height/2-r.height/2-c.height*d*(e.y/100)};return{crop:f,zoom:d}}function XG(e,t,a){var r=qG(t);return a.height>a.width?a.height/(e.height*r):a.width/(e.width*r)}function ZG(e,t,a,r,s,l){a===void 0&&(a=0);var c=Wc(t.naturalWidth,t.naturalHeight,a),d=Kp(XG(e,t,r),s,l),f=r.height>r.width?r.height/e.height:r.width/e.width,m={x:((c.width-e.width)/2-e.x)*f,y:((c.height-e.height)/2-e.y)*f};return{crop:m,zoom:d}}function Lk(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function QG(e){return e*Math.PI/180}function Wc(e,t,a){var r=QG(a);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function Kp(e,t,a){return Math.min(Math.max(e,t),a)}function kh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(a){return typeof a=="string"&&a.length>0}).join(" ").trim()}var JG=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,eY=1,tY=3,nY=1,aY=function(e){$G(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;return a.cropperRef=g.createRef(),a.imageRef=g.createRef(),a.videoRef=g.createRef(),a.containerPosition={x:0,y:0},a.containerRef=null,a.styleRef=null,a.containerRect=null,a.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},a.dragStartPosition={x:0,y:0},a.dragStartCrop={x:0,y:0},a.gestureZoomStart=0,a.gestureRotationStart=0,a.isTouching=!1,a.lastPinchDistance=0,a.lastPinchRotation=0,a.rafDragTimeout=null,a.rafPinchTimeout=null,a.wheelTimer=null,a.currentDoc=typeof document<"u"?document:null,a.currentWindow=typeof window<"u"?window:null,a.resizeObserver=null,a.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},a.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!a.containerRef)){var r=!0;a.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}a.computeSizes()}),a.resizeObserver.observe(a.containerRef)}},a.preventZoomSafari=function(r){return r.preventDefault()},a.cleanEvents=function(){a.currentDoc&&(a.currentDoc.removeEventListener("mousemove",a.onMouseMove),a.currentDoc.removeEventListener("mouseup",a.onDragStopped),a.currentDoc.removeEventListener("touchmove",a.onTouchMove),a.currentDoc.removeEventListener("touchend",a.onDragStopped),a.currentDoc.removeEventListener("gesturechange",a.onGestureChange),a.currentDoc.removeEventListener("gestureend",a.onGestureEnd),a.currentDoc.removeEventListener("scroll",a.onScroll))},a.clearScrollEvent=function(){a.containerRef&&a.containerRef.removeEventListener("wheel",a.onWheel),a.wheelTimer&&clearTimeout(a.wheelTimer)},a.onMediaLoad=function(){var r=a.computeSizes();r&&(a.emitCropData(),a.setInitialCrop(r)),a.props.onMediaLoaded&&a.props.onMediaLoaded(a.mediaSize)},a.setInitialCrop=function(r){if(a.props.initialCroppedAreaPercentages){var s=WG(a.props.initialCroppedAreaPercentages,a.mediaSize,a.props.rotation,r,a.props.minZoom,a.props.maxZoom),l=s.crop,c=s.zoom;a.props.onCropChange(l),a.props.onZoomChange&&a.props.onZoomChange(c)}else if(a.props.initialCroppedAreaPixels){var d=ZG(a.props.initialCroppedAreaPixels,a.mediaSize,a.props.rotation,r,a.props.minZoom,a.props.maxZoom),l=d.crop,c=d.zoom;a.props.onCropChange(l),a.props.onZoomChange&&a.props.onZoomChange(c)}},a.computeSizes=function(){var r,s,l,c,d,f,m=a.imageRef.current||a.videoRef.current;if(m&&a.containerRef){a.containerRect=a.containerRef.getBoundingClientRect(),a.saveContainerPosition();var h=a.containerRect.width/a.containerRect.height,x=((r=a.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=a.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,b=((l=a.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=a.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,y=m.offsetWidth<x||m.offsetHeight<b,w=x/b,j=void 0;if(y)switch(a.state.mediaObjectFit){default:case"contain":j=h>w?{width:a.containerRect.height*w,height:a.containerRect.height}:{width:a.containerRect.width,height:a.containerRect.width/w};break;case"horizontal-cover":j={width:a.containerRect.width,height:a.containerRect.width/w};break;case"vertical-cover":j={width:a.containerRect.height*w,height:a.containerRect.height};break}else j={width:m.offsetWidth,height:m.offsetHeight};a.mediaSize=Fn(Fn({},j),{naturalWidth:x,naturalHeight:b}),a.props.setMediaSize&&a.props.setMediaSize(a.mediaSize);var S=a.props.cropSize?a.props.cropSize:HG(a.mediaSize.width,a.mediaSize.height,a.containerRect.width,a.containerRect.height,a.props.aspect,a.props.rotation);return(((d=a.state.cropSize)===null||d===void 0?void 0:d.height)!==S.height||((f=a.state.cropSize)===null||f===void 0?void 0:f.width)!==S.width)&&a.props.onCropSizeChange&&a.props.onCropSizeChange(S),a.setState({cropSize:S},a.recomputeCropPosition),a.props.setCropSize&&a.props.setCropSize(S),S}},a.saveContainerPosition=function(){if(a.containerRef){var r=a.containerRef.getBoundingClientRect();a.containerPosition={x:r.left,y:r.top}}},a.onMouseDown=function(r){a.currentDoc&&(r.preventDefault(),a.currentDoc.addEventListener("mousemove",a.onMouseMove),a.currentDoc.addEventListener("mouseup",a.onDragStopped),a.saveContainerPosition(),a.onDragStart(t.getMousePoint(r)))},a.onMouseMove=function(r){return a.onDrag(t.getMousePoint(r))},a.onScroll=function(r){a.currentDoc&&(r.preventDefault(),a.saveContainerPosition())},a.onTouchStart=function(r){a.currentDoc&&(a.isTouching=!0,!(a.props.onTouchRequest&&!a.props.onTouchRequest(r))&&(a.currentDoc.addEventListener("touchmove",a.onTouchMove,{passive:!1}),a.currentDoc.addEventListener("touchend",a.onDragStopped),a.saveContainerPosition(),r.touches.length===2?a.onPinchStart(r):r.touches.length===1&&a.onDragStart(t.getTouchPoint(r.touches[0]))))},a.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?a.onPinchMove(r):r.touches.length===1&&a.onDrag(t.getTouchPoint(r.touches[0]))},a.onGestureStart=function(r){a.currentDoc&&(r.preventDefault(),a.currentDoc.addEventListener("gesturechange",a.onGestureChange),a.currentDoc.addEventListener("gestureend",a.onGestureEnd),a.gestureZoomStart=a.props.zoom,a.gestureRotationStart=a.props.rotation)},a.onGestureChange=function(r){if(r.preventDefault(),!a.isTouching){var s=t.getMousePoint(r),l=a.gestureZoomStart-1+r.scale;if(a.setNewZoom(l,s,{shouldUpdatePosition:!0}),a.props.onRotationChange){var c=a.gestureRotationStart+r.rotation;a.props.onRotationChange(c)}}},a.onGestureEnd=function(r){a.cleanEvents()},a.onDragStart=function(r){var s,l,c=r.x,d=r.y;a.dragStartPosition={x:c,y:d},a.dragStartCrop=Fn({},a.props.crop),(l=(s=a.props).onInteractionStart)===null||l===void 0||l.call(s)},a.onDrag=function(r){var s=r.x,l=r.y;a.currentWindow&&(a.rafDragTimeout&&a.currentWindow.cancelAnimationFrame(a.rafDragTimeout),a.rafDragTimeout=a.currentWindow.requestAnimationFrame(function(){if(a.state.cropSize&&!(s===void 0||l===void 0)){var c=s-a.dragStartPosition.x,d=l-a.dragStartPosition.y,f={x:a.dragStartCrop.x+c,y:a.dragStartCrop.y+d},m=a.props.restrictPosition?_d(f,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):f;a.props.onCropChange(m)}}))},a.onDragStopped=function(){var r,s;a.isTouching=!1,a.cleanEvents(),a.emitCropData(),(s=(r=a.props).onInteractionEnd)===null||s===void 0||s.call(r)},a.onWheel=function(r){if(a.currentWindow&&!(a.props.onWheelRequest&&!a.props.onWheelRequest(r))){r.preventDefault();var s=t.getMousePoint(r),l=VG(r).pixelY,c=a.props.zoom-l*a.props.zoomSpeed/200;a.setNewZoom(c,s,{shouldUpdatePosition:!0}),a.state.hasWheelJustStarted||a.setState({hasWheelJustStarted:!0},function(){var d,f;return(f=(d=a.props).onInteractionStart)===null||f===void 0?void 0:f.call(d)}),a.wheelTimer&&clearTimeout(a.wheelTimer),a.wheelTimer=a.currentWindow.setTimeout(function(){return a.setState({hasWheelJustStarted:!1},function(){var d,f;return(f=(d=a.props).onInteractionEnd)===null||f===void 0?void 0:f.call(d)})},250)}},a.getPointOnContainer=function(r,s){var l=r.x,c=r.y;if(!a.containerRect)throw new Error("The Cropper is not mounted");return{x:a.containerRect.width/2-(l-s.x),y:a.containerRect.height/2-(c-s.y)}},a.getPointOnMedia=function(r){var s=r.x,l=r.y,c=a.props,d=c.crop,f=c.zoom;return{x:(s+d.x)/f,y:(l+d.y)/f}},a.setNewZoom=function(r,s,l){var c=l===void 0?{}:l,d=c.shouldUpdatePosition,f=d===void 0?!0:d;if(!(!a.state.cropSize||!a.props.onZoomChange)){var m=Kp(r,a.props.minZoom,a.props.maxZoom);if(f){var h=a.getPointOnContainer(s,a.containerPosition),x=a.getPointOnMedia(h),b={x:x.x*m-h.x,y:x.y*m-h.y},y=a.props.restrictPosition?_d(b,a.mediaSize,a.state.cropSize,m,a.props.rotation):b;a.props.onCropChange(y)}a.props.onZoomChange(m)}},a.getCropData=function(){if(!a.state.cropSize)return null;var r=a.props.restrictPosition?_d(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;return KG(r,a.mediaSize,a.state.cropSize,a.getAspect(),a.props.zoom,a.props.rotation,a.props.restrictPosition)},a.emitCropData=function(){var r=a.getCropData();if(r){var s=r.croppedAreaPercentages,l=r.croppedAreaPixels;a.props.onCropComplete&&a.props.onCropComplete(s,l),a.props.onCropAreaChange&&a.props.onCropAreaChange(s,l)}},a.emitCropAreaChange=function(){var r=a.getCropData();if(r){var s=r.croppedAreaPercentages,l=r.croppedAreaPixels;a.props.onCropAreaChange&&a.props.onCropAreaChange(s,l)}},a.recomputeCropPosition=function(){if(a.state.cropSize){var r=a.props.restrictPosition?_d(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;a.props.onCropChange(r),a.emitCropData()}},a.onKeyDown=function(r){var s,l,c=a.props,d=c.crop,f=c.onCropChange,m=c.keyboardStep,h=c.zoom,x=c.rotation,b=m;if(a.state.cropSize){r.shiftKey&&(b*=.2);var y=Fn({},d);switch(r.key){case"ArrowUp":y.y-=b,r.preventDefault();break;case"ArrowDown":y.y+=b,r.preventDefault();break;case"ArrowLeft":y.x-=b,r.preventDefault();break;case"ArrowRight":y.x+=b,r.preventDefault();break;default:return}a.props.restrictPosition&&(y=_d(y,a.mediaSize,a.state.cropSize,h,x)),r.repeat||(l=(s=a.props).onInteractionStart)===null||l===void 0||l.call(s),f(y)}},a.onKeyUp=function(r){var s,l;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}a.emitCropData(),(l=(s=a.props).onInteractionEnd)===null||l===void 0||l.call(s)},a}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=JG,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var a,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(a=this.resizeObserver)===null||a===void 0||a.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(a){var r,s,l,c,d,f,m,h,x;a.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):a.aspect!==this.props.aspect?this.computeSizes():a.objectFit!==this.props.objectFit?this.computeSizes():a.zoom!==this.props.zoom?this.recomputeCropPosition():((r=a.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((l=a.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((d=a.crop)===null||d===void 0?void 0:d.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((m=a.crop)===null||m===void 0?void 0:m.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),a.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),a.video!==this.props.video&&((x=this.videoRef.current)===null||x===void 0||x.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},t.prototype.getAspect=function(){var a=this.props,r=a.cropSize,s=a.aspect;return r?r.width/r.height:s},t.prototype.getObjectFit=function(){var a,r,s,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,f=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,m=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,h=f/m;return h<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(a){var r=t.getTouchPoint(a.touches[0]),s=t.getTouchPoint(a.touches[1]);this.lastPinchDistance=Rk(r,s),this.lastPinchRotation=$k(r,s),this.onDragStart(Lk(r,s))},t.prototype.onPinchMove=function(a){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=t.getTouchPoint(a.touches[0]),l=t.getTouchPoint(a.touches[1]),c=Lk(s,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=Rk(s,l),f=r.props.zoom*(d/r.lastPinchDistance);r.setNewZoom(f,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=d;var m=$k(s,l),h=r.props.rotation+(m-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(h),r.lastPinchRotation=m})}},t.prototype.render=function(){var a=this,r,s=this.props,l=s.image,c=s.video,d=s.mediaProps,f=s.cropperProps,m=s.transform,h=s.crop,x=h.x,b=h.y,y=s.rotation,w=s.zoom,j=s.cropShape,S=s.showGrid,k=s.roundCropAreaPixels,_=s.style,C=_.containerStyle,P=_.cropAreaStyle,A=_.mediaStyle,T=s.classes,R=T.containerClassName,O=T.cropAreaClassName,V=T.mediaClassName,K=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return g.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(L){return a.containerRef=L},"data-testid":"container",style:C,className:kh("reactEasyCrop_Container",R)},l?g.createElement("img",Fn({alt:"",className:kh("reactEasyCrop_Image",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",V)},d,{src:l,ref:this.imageRef,style:Fn(Fn({},A),{transform:m||"translate(".concat(x,"px, ").concat(b,"px) rotate(").concat(y,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):c&&g.createElement("video",Fn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:kh("reactEasyCrop_Video",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",V)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Fn(Fn({},A),{transform:m||"translate(".concat(x,"px, ").concat(b,"px) rotate(").concat(y,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(F){return g.createElement("source",Fn({key:F.src},F))})),this.state.cropSize&&g.createElement("div",Fn({ref:this.cropperRef,style:Fn(Fn({},P),{width:k?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:k?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:kh("reactEasyCrop_CropArea",j==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",O)},f)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:tY,minZoom:eY,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:nY},t.getMousePoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},t.getTouchPoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},t}(g.Component);const Ik="https://aisdr-dbt.ddns.net",zk=["image/png","image/jpeg","image/webp"],rY=5*1024*1024,sY=[`${Ik}/api/auth`,`${Ik}/api`];function Ch(...e){return e.filter(Boolean).join(" ")}async function iY(e,t,a=0){const s=await(k=>new Promise((_,C)=>{const P=new Image;P.addEventListener("load",()=>_(P)),P.addEventListener("error",A=>C(A)),P.crossOrigin="anonymous",P.src=k}))(e),l=a*Math.PI/180,c=s.naturalWidth||s.width,d=s.naturalHeight||s.height,f=document.createElement("canvas"),m=f.getContext("2d"),h=Math.abs(Math.sin(l)),x=Math.abs(Math.cos(l)),b=Math.floor(c*x+d*h),y=Math.floor(c*h+d*x);f.width=b,f.height=y,m.translate(b/2,y/2),m.rotate(l),m.drawImage(s,-c/2,-d/2);const w=m.getImageData(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height)),j=document.createElement("canvas");return j.width=Math.round(t.width),j.height=Math.round(t.height),j.getContext("2d").putImageData(w,0,0),new Promise(k=>{j.toBlob(_=>k(_),"image/jpeg",.92)})}function lY(){const e=Zt(),[t,a]=g.useState(null),[r,s]=g.useState(null),[l,c]=g.useState(null),[d,f]=g.useState({init:!0,saving:!1,delete:!1,refresh:!1}),[m,h]=g.useState({name:"",email:""}),[x,b]=g.useState(!1),[y,w]=g.useState({x:0,y:0}),[j,S]=g.useState(1),[k,_]=g.useState(0),[C,P]=g.useState(null),[A,T]=g.useState(!1),[R,O]=g.useState(!1),V=g.useRef(null),K=()=>localStorage.getItem("token")||"",F=()=>K()?{Authorization:`Bearer ${K()}`}:{},L=()=>K()?!0:(I.error("Authentication required. Please login again."),e("/login"),!1),te=async(J,Q={},{expectJson:Se=!0}={})=>{const ae=[];for(const Ce of sY)try{const ke=await fetch(`${Ce}${J}`,Q);if(ke.status===401||ke.status===403){const Ue=await ke.text().catch(()=>"");throw new Error(Ue||"Unauthorized")}if(ke.ok)return Se?await ke.json():ke;if(ke.status===404){ae.push({base:Ce,status:404});continue}const pe=await ke.json().catch(()=>({}));throw new Error((pe==null?void 0:pe.detail)||`Request failed (${ke.status})`)}catch(ke){if(ae.push({base:Ce,err:ke==null?void 0:ke.message}),(ke==null?void 0:ke.message)==="Unauthorized")throw ke}const be=ae!=null&&ae.length?`Request failed: ${ae.map(Ce=>`${Ce.base}${Ce.status||Ce.err}`).join(" | ")}`:"Network error";throw new Error(be)},Ne=g.useMemo(()=>((m==null?void 0:m.name)||localStorage.getItem("name")||"User").trim().split(" ").map(Q=>Q[0]).join("").slice(0,2).toUpperCase(),[m==null?void 0:m.name]),re=g.useCallback(()=>{const J=(localStorage.getItem("role")||"").toLowerCase();return J==="user"?e("/user/dashboard",{replace:!0}):J==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})},[e]);g.useEffect(()=>{if(x){const J=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=J}}},[x]);const D=async()=>{var J,Q,Se;if(L())try{const ae=await te("/user-info",{headers:{...F(),Accept:"application/json"}}),be=((J=ae==null?void 0:ae.data)==null?void 0:J.email)||"";h({name:(Q=ae==null?void 0:ae.data)==null?void 0:Q.name,email:be});const Ce=((Se=ae==null?void 0:ae.data)==null?void 0:Se.profile_photo_url)||null,ke=Ce?Ce+(Ce.includes("?")?"&":"?")+"t="+Date.now():null;if(a(ke),ke&&!r&&s(ke),be){const pe=`profileComplete:${be.toLowerCase()}`;if(localStorage.getItem(pe)==="1"){re();return}}}catch(ae){I.error(ae.message||"Could not load profile info")}};g.useEffect(()=>{(async()=>(f(J=>({...J,init:!0})),await D(),f(J=>({...J,init:!1}))))()},[]);const Y=J=>{if(!J)return;if(!zk.includes(J.type)){I.error("Only PNG, JPEG or WEBP images are allowed.");return}if(J.size>rY){I.error("Image too large. Max allowed is 5 MB.");return}r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),c(J);const Q=URL.createObjectURL(J);s(Q),b(!1)},H=J=>{var Se;const Q=(Se=J.target.files)==null?void 0:Se[0];Y(Q)},B=J=>{var Se;J.preventDefault(),J.stopPropagation();const Q=(Se=J.dataTransfer.files)==null?void 0:Se[0];Y(Q)},E=J=>{J.preventDefault(),J.stopPropagation()};g.useCallback((J,Q)=>{P(Q),T(!0)},[]);const $=async()=>{if(!r&&!t){I.info("Choose an image first.");return}if(!A||!C){I.info("Adjust the crop a tiny bit, then save.");return}try{f(Ue=>({...Ue,saving:!0}));const Q=await iY(r||t,C,k),Se=URL.createObjectURL(Q);r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),s(Se);const ae=new FormData,be=`avatar_${Date.now()}.jpg`;ae.append("file",Q,be);const Ce=await te("/profile-photo",{method:"POST",headers:{...F()},body:ae}),ke=Ce==null?void 0:Ce.photo_url,pe=ke?ke+(ke.includes("?")?"&":"?")+"t="+Date.now():null;a(pe),b(!1),c(null),T(!1),O(!0),setTimeout(()=>O(!1),1400),I.success("Profile photo saved!")}catch(J){I.error(J.message||"Could not save the cropped photo")}finally{f(J=>({...J,saving:!1}))}},z=async()=>{if(!t){I.info("No profile photo to delete.");return}try{f(J=>({...J,delete:!0})),await te("/profile-photo",{method:"DELETE",headers:{...F(),Accept:"application/json"}}),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),a(null),s(null),c(null),I.success("Profile photo deleted.")}catch(J){I.error(J.message||"Delete error")}finally{f(J=>({...J,delete:!1}))}},W=async()=>{f(J=>({...J,refresh:!0})),await D(),f(J=>({...J,refresh:!1}))},de=()=>{const J=((m==null?void 0:m.email)||"").toLowerCase();J&&localStorage.setItem(`profileComplete:${J}`,"1"),re()};return n.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-white relative",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-44",style:{background:"linear-gradient(180deg, rgba(59,130,246,0.18) 0%, rgba(255,255,255,0) 100%)"}}),n.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 tracking-tight",children:"Profile Photo"}),n.jsx("p",{className:"text-slate-500",children:"Click the ring to upload/replace. Use the Crop button to fine-tune your avatar."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:W,disabled:d.refresh||d.init,className:Ch("inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border transition","border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-50"),children:[d.refresh?n.jsx(_n,{className:"h-4 w-4 animate-spin"}):n.jsx(VU,{className:"h-4 w-4"}),"Refresh"]}),n.jsxs("button",{onClick:de,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 shadow-sm",children:[n.jsx(L0,{className:"h-4 w-4"}),"Confirm"]}),n.jsxs("button",{onClick:de,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[n.jsx(aF,{className:"h-4 w-4"}),"Skip for now"]})]})]}),n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 backdrop-blur-sm shadow-[0_8px_30px_rgb(0,0,0,0.06)] p-6 md:p-8",children:n.jsxs("div",{className:"relative flex flex-col items-center",children:[n.jsx("div",{className:"pointer-events-none absolute -top-6 h-24 w-48 rounded-full blur-2xl opacity-50",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(59,130,246,0.25) 0%, rgba(34,211,238,0.18) 60%, transparent 100%)"}}),n.jsxs("div",{className:Ch("group relative h-40 w-40 rounded-full p-[3px] cursor-pointer select-none transition-transform duration-200",R?"animate-pulse":"hover:scale-[1.02]"),onClick:()=>{var J;return(J=V.current)==null?void 0:J.click()},onDrop:B,onDragOver:E,style:{background:"conic-gradient(rgba(59,130,246,0.9), rgba(34,211,238,0.9), rgba(59,130,246,0.9))"},title:"Click to upload/replace",children:[n.jsx("div",{className:"rounded-full h-full w-full bg-white grid place-items-center",children:n.jsxs("div",{className:"relative rounded-full h-[148px] w-[148px] overflow-hidden ring-2 ring-blue-500/30 shadow-md bg-slate-50 flex items-center justify-center",children:[d.init?n.jsx(_n,{className:"h-6 w-6 animate-spin text-slate-400"}):r||t?n.jsx("img",{src:r||t,alt:"Profile",className:"h-full w-full object-cover",onError:()=>{a(null),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),s(null)}}):n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(TP,{className:"h-10 w-10 text-slate-400"}),n.jsx("span",{className:"mt-1 text-sm font-semibold text-slate-600",children:Ne})]}),n.jsxs("div",{className:"absolute inset-0 bg-black/35 opacity-0 group-hover:opacity-100 transition-opacity grid place-items-center",children:[n.jsx("div",{className:"rounded-full bg-white/90 p-2 shadow-md",children:n.jsx(wB,{className:"h-5 w-5 text-blue-600"})}),n.jsx("span",{className:"absolute bottom-2 text-xs text-white/90",children:"Change photo"})]})]})}),n.jsx("input",{ref:V,type:"file",accept:zk.join(","),className:"hidden",onChange:H})]}),n.jsxs("div",{className:"mt-3 bg-white border border-slate-200 px-2 py-1 rounded-full text-[11px] text-slate-600 shadow-sm flex items-center gap-1",children:[n.jsx(Mn,{className:"h-3.5 w-3.5 text-emerald-500"}),t?"Photo set":"No photo yet"]}),n.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>{if(!r&&!t){I.info("Select or upload an image first.");return}_(0),S(1),T(!1),b(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold text-white transition shadow-sm bg-blue-600 hover:bg-blue-700",children:[n.jsx(r3,{className:"h-4 w-4"}),"Crop"]}),n.jsx("button",{type:"button",onClick:z,disabled:d.delete||!t,className:Ch("inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold border transition",t?"border-rose-200 text-rose-600 hover:bg-rose-50":"border-slate-200 text-slate-400 cursor-not-allowed"),children:d.delete?n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"h-4 w-4 animate-spin"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(ta,{className:"h-4 w-4"})," Delete Photo"]})})]})]})})]}),x&&(r||t)&&n.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>b(!1)}),n.jsxs("div",{className:"relative z-[10001] w-full max-w-lg mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(r3,{className:"h-4 w-4 text-blue-600"}),n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Crop your photo"})]}),n.jsx("button",{onClick:()=>b(!1),className:"p-1 rounded-md hover:bg-slate-100",children:n.jsx(va,{className:"h-4 w-4 text-slate-500"})})]}),n.jsxs("div",{className:"bg-slate-900",children:[n.jsx("div",{className:"relative h-[360px] overflow-hidden",children:n.jsx(aY,{image:r||t,crop:y,zoom:j,rotation:k,aspect:1,cropShape:"round",showGrid:!1,objectFit:"contain",onCropChange:w,onRotationChange:_,onZoomChange:S,onCropComplete:(J,Q)=>{P(Q),T(!0)}})}),n.jsxs("div",{className:"relative border-t border-white/10 bg-slate-900/70 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-xs text-white/80 w-16",children:"Zoom"}),n.jsx("input",{type:"range",min:1,max:3,step:.01,value:j,onChange:J=>S(parseFloat(J.target.value)),className:"w-full accent-blue-500"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-xs text-white/80 w-16",children:"Rotate"}),n.jsx("input",{type:"range",min:-180,max:180,step:1,value:k,onChange:J=>_(parseFloat(J.target.value)),className:"w-full accent-blue-500"}),n.jsxs("button",{type:"button",onClick:()=>_(0),className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs text-white bg-white/10 hover:bg-white/20",children:[n.jsx(GU,{className:"h-3.5 w-3.5"}),"Reset"]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 bg-white",children:[n.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:$,disabled:d.saving||!A,className:Ch("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",A?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:d.saving?n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"h-4 w-4 animate-spin"})," Saving"]}):n.jsxs(n.Fragment,{children:[n.jsx(L0,{className:"h-4 w-4"})," Crop & Save"]})})]})]})]})]})}function oY(...e){return e.filter(Boolean).join(" ")}const Bk="https://aisdr-dbt.ddns.net";function cY({onClick:e}){const t=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),e==null||e())};return n.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),n.jsxs(he.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),n.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),n.jsxs("filter",{id:"glow",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"coloredBlur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsx(he.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),n.jsx(he.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),n.jsx(he.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function vM({className:e="",onMenuToggle:t,profilePath:a="/user/settings"}){const[r,s]=g.useState(""),[l,c]=g.useState(null),[d,f]=g.useState(!1),m=Zt();g.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),g.useEffect(()=>{const y=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${Bk}/api/profile-photo`,{headers:y?{Authorization:`Bearer ${y}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${Bk}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=y=>y.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:y=40})=>{const w=y;return n.jsxs("button",{type:"button",onClick:()=>m(a),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[n.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?n.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):n.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(r)})}),n.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),n.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},b=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return n.jsxs("header",{className:oY("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[n.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:n.jsxs("div",{className:"flex items-center justify-between h-full",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[n.jsx(cY,{onClick:b}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"hidden lg:block",children:[n.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Convert interest into booked meetings  automatically"}),n.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),n.jsxs("div",{className:"hidden sm:block lg:hidden",children:[n.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Smart lead capture & scheduling"})]}),n.jsxs("div",{className:"sm:hidden relative",children:[n.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[n.jsxs(he.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[n.jsx("div",{className:"relative",children:n.jsx(x,{size:40})}),n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome back!"}),n.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),n.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[n.jsx(x,{size:32}),n.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),n.jsx("div",{className:"sm:hidden",children:n.jsx(x,{size:36})}),n.jsxs(he.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[n.jsx(I0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),n.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function Uk(){return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[n.jsx(vM,{}),n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",children:n.jsx("div",{className:"h-16 sm:h-20 md:h-24 lg:h-28 bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600"})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-2 pb-3",children:n.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 border border-white/15 grid place-content-center backdrop-blur-sm",children:n.jsx(ul,{className:"w-6 h-6"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900",children:"Privacy Policy"}),n.jsxs("p",{className:"text-sm sm:text-base text-slate-700",children:["Effective date: ",new Date().toLocaleDateString()]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/60 to-transparent"})]}),n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 sm:p-8",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(zp,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{className:"min-w-0",children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our SaaS-based AI calling assistant platform. The platform enables users to upload CSV files of leads, configure AI assistants for outbound and inbound calls, and automate reminders to help generate qualified leads, book appointments, and drive sales outcomes. By using the platform, you agree to the practices described here."})})]})}),n.jsxs(Dr,{title:"Information We Collect",icon:Dc,children:[n.jsx(Rr,{title:"Account and Profile",children:"- Name, email, and authentication tokens necessary to create and secure your account."}),n.jsx(Rr,{title:"Lead and Contact Data",children:"- Lead details uploaded via CSV (e.g., name, phone number, email, consent flags, timezone)."}),n.jsx(Rr,{title:"Communication Records",children:"- AI call logs, recordings (if enabled), call outcomes, SMS/email reminder history, and scheduling activity."}),n.jsx(Rr,{title:"Usage and Device Data",children:"- IP address, browser type, device identifiers, and product usage metrics to improve reliability and performance."})]}),n.jsx(Dr,{title:"How We Use Your Information",icon:Mn,children:n.jsxs(pv,{children:[n.jsx("li",{children:"Provide and operate the AI calling, texting, scheduling, and reminder features you configure."}),n.jsx("li",{children:"Maintain compliance settings, including consent flags, DNC suppression, opt-out handling, and legal calling hours per timezone."}),n.jsx("li",{children:"Deliver usage analytics, call/text/booking history, and reporting for your account."}),n.jsx("li",{children:"Integrate with calendars and supported CRMs to sync leads, calls, and appointments as requested by you."}),n.jsx("li",{children:"Monitor platform reliability, rate-limit traffic, and prevent telecom carrier flagging."}),n.jsx("li",{children:"Communicate product updates, security notices, and critical service alerts."})]})}),n.jsxs(Dr,{title:"Legal Bases for Processing",icon:rl,children:[n.jsx(Rr,{title:"Consent",children:"Where you provide consent (e.g., uploading leads with consent flags, enabling recordings)."}),n.jsx(Rr,{title:"Contract",children:"To deliver the services under our Terms of Service."}),n.jsx(Rr,{title:"Legitimate Interests",children:"To secure, maintain, and improve the platform."}),n.jsx(Rr,{title:"Compliance with Laws",children:"To meet telecom, privacy, and consumer protection obligations."})]}),n.jsxs(Dr,{title:"How We Share Information",icon:CF,children:[n.jsx(Rr,{title:"Service Providers",children:"Telecom, email, and SMS providers; hosting and analytics vendors who support platform operation."}),n.jsx(Rr,{title:"CRM Integrations",children:"At your direction, we sync lead and appointment data to supported CRMs."}),n.jsx(Rr,{title:"Legal and Safety",children:"We may disclose information to comply with law, enforce our terms, or protect rights, safety, and security."}),n.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"We do not sell your personal information."})]}),n.jsx(Dr,{title:"Compliance and Messaging Controls",icon:Hc,children:n.jsxs(pv,{children:[n.jsx("li",{children:"Consent per lead: CSV uploads must include a consent flag where applicable."}),n.jsx("li",{children:"DNC suppression: Upload and maintain Do Not Call lists; calls and texts to DNC numbers are blocked."}),n.jsx("li",{children:'Opt-out handling: SMS replies like "STOP" automatically unsubscribe the recipient.'}),n.jsx("li",{children:"Local time enforcement: Calls/texts are limited to legal hours in the leads timezone (e.g., 8am9pm)."}),n.jsx("li",{children:"Rate-limiting: Calls and messages may be batched or limited to avoid carrier flagging and ensure deliverability."})]})}),n.jsx(Dr,{title:"Data Retention",icon:cl,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We retain account, lead, and communication data for as long as your account is active or as needed to provide services and comply with legal obligations. You may request deletion of certain data at any time, subject to legal or operational limitations."})}),n.jsx(Dr,{title:"Your Privacy Choices",icon:ul,children:n.jsxs(pv,{children:[n.jsx("li",{children:"Access, correct, or delete your account information."}),n.jsx("li",{children:"Manage consent flags and DNC lists for your leads."}),n.jsx("li",{children:"Disable recordings or integrations you no longer wish to use."}),n.jsx("li",{children:"Unsubscribe from non-essential communications via provided controls."})]})}),n.jsx(Dr,{title:"Security",icon:Hc,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We use industry-standard safeguards to protect information in transit and at rest. No method of transmission or storage is 100% secure. We continuously improve our technical and organizational measures to protect your data."})}),n.jsx(Dr,{title:"International Data Transfers",icon:rl,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Your information may be processed in regions where we or our service providers operate. We implement appropriate safeguards when transferring information across borders, consistent with applicable law."})}),n.jsx(Dr,{title:"Childrens Privacy",icon:AP,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Our services are not directed to children. We do not knowingly collect personal information from children. If you believe a child has provided information, contact us to request deletion."})}),n.jsx(Dr,{title:"Contact Us",icon:Pa,children:n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[n.jsx(Pa,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"muhammad.faridoon@digitalbusinesstransformation.co.uk"})]}),n.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[n.jsx(ht,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"+447465884867"})]})]})}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(Fk,{icon:cB,title:"Messaging Preferences",text:"Manage reminder templates, opt-out keywords, and quiet hours.",href:"#"}),n.jsx(Fk,{icon:ta,title:"Data Deletion Request",text:"Request deletion of recordings, logs, or lead data as allowed.",href:"#"})]}),n.jsx("p",{className:"mt-10 text-xs text-slate-500 text-center",children:"This Privacy Policy may be updated to reflect changes to our practices. We will notify you of significant updates as required by law."})]})]})}function Dr({title:e,icon:t,children:a}){return n.jsxs("section",{className:"mt-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-9 h-9 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(t,{className:"w-5 h-5 text-blue-600"})}),n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:e})]}),n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6",children:a})]})}function Rr({title:e,children:t}){return n.jsxs("div",{className:"flex items-start gap-3 py-2",children:[n.jsx("div",{className:"mt-1 w-2 h-2 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-slate-900",children:e}),n.jsx("div",{className:"text-slate-700 leading-relaxed text-sm",children:t})]})]})}function pv({children:e}){return n.jsx("ol",{className:"list-decimal ml-5 space-y-2 text-slate-700",children:e})}function Fk({icon:e,title:t,text:a,href:r}){return n.jsx("a",{href:r,className:"group block border border-slate-200 rounded-2xl p-5 hover:border-blue-200 hover:bg-blue-50/30 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(e,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold text-slate-900 truncate",children:t}),n.jsx("div",{className:"text-sm text-slate-600 truncate",children:a})]}),n.jsx(gn,{className:"ml-auto w-5 h-5 text-slate-400 group-hover:text-blue-600"})]})})}var yM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vk=_t.createContext&&_t.createContext(yM),uY=["attr","size","title"];function dY(e,t){if(e==null)return{};var a=fY(e,t),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fY(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},H0.apply(this,arguments)}function Hk(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function q0(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(a),!0).forEach(function(r){mY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Hk(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function mY(e,t,a){return t=hY(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wM(e){return e&&e.map((t,a)=>_t.createElement(t.tag,q0({key:a},t.attr),wM(t.child)))}function Bt(e){return t=>_t.createElement(xY,H0({attr:q0({},e.attr)},t),wM(e.child))}function xY(e){var t=a=>{var{attr:r,size:s,title:l}=e,c=dY(e,uY),d=s||a.size||"1em",f;return a.className&&(f=a.className),e.className&&(f=(f?f+" ":"")+e.className),_t.createElement("svg",H0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,c,{className:f,style:q0(q0({color:e.color||a.color},a.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&_t.createElement("title",null,l),e.children)};return Vk!==void 0?_t.createElement(Vk.Consumer,null,a=>t(a)):t(yM)}function gY(e){return Bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function jM(e){return Bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function NM(e){return Bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function bY(e){return Bt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function SM(e){return Bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function vY(e){return Bt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function yY(e){return Bt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function l2(e){return Bt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function wY(e){return Bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function _M(e){return Bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function jY({compact:e=!1}){const t=g.useMemo(()=>[{text:"Make Calls",Icon:ht,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Kr,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:l2,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:ha,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Kr,from:"#22D3EE",to:"#2563EB"}],[]),[a,r]=g.useState(0),[s,l]=g.useState(""),[c,d]=g.useState(!1);g.useEffect(()=>{const x=t[a].text,b=40,y=28,w=1100;let j;return!c&&s.length<x.length?j=setTimeout(()=>l(x.slice(0,s.length+1)),b):!c&&s.length===x.length?j=setTimeout(()=>d(!0),w):c&&s.length>0?j=setTimeout(()=>l(x.slice(0,s.length-1)),y):c&&s.length===0&&(d(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(j)},[s,c,a,t]);const{Icon:f,from:m,to:h}=t[a];return n.jsxs("div",{className:["relative flex items-center",e?"justify-center p-3 sm:p-4":"p-4 sm:p-6",e?"":"gap-4 sm:gap-6"].join(" "),children:[n.jsxs("div",{className:"relative shrink-0",children:[n.jsx(he.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:n.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),n.jsx(he.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[n.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:s}),n.jsx(he.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),n.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function NY(){const[e,t]=g.useState(!1),[a,r]=g.useState(!1),[s,l]=g.useState(!1),[c,d]=g.useState({}),f=Ns(),m=Zt();g.useEffect(()=>{const y=()=>{const w=window.innerWidth;l(w<768),t(w<1024)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),g.useEffect(()=>{r(!1)},[f.pathname]),g.useEffect(()=>{const y=()=>{s?r(w=>!w):t(w=>!w)};return window.addEventListener("app:toggle-sidebar",y),()=>window.removeEventListener("app:toggle-sidebar",y)},[s]);const h=y=>f.pathname===y,x=[{id:"dashboard",label:"Dashboard",icon:bj,href:"/user/dashboard",color:"text-blue-600"},{id:"phoneCalls",label:"Phone Numbers",icon:ht,href:"/user/callhistory",color:"text-orange-600"},{id:"assistants",label:"Assistants",icon:l2,color:"text-green-600",type:"group",children:[{id:"callassistant",label:"Call Assistant",icon:ht,href:"/user/callassistent",color:"text-green-600"},{id:"textassistant",label:"Text Assistant",icon:zp,href:"/user/TextAssistants",color:"text-indigo-600"}]},{id:"Leads",label:"Leads",icon:ha,href:"/user/leads",color:"text-purple-600"},{id:"Campain",label:"Campaigns",icon:Kr,href:"/user/campain",color:"text-blue-600"},{id:"settings",label:"Settings",icon:jj,href:"/user/settings",color:"text-gray-600"},{id:"CRM",label:"CRMS",icon:yY,href:"/user/CRM",color:"text-orange-600"},{id:"Appointments",label:"Appointments",icon:bB,href:"/user/Appointments",color:"text-purple-600"},{id:"formconnection",label:"Form Connections",icon:xs,color:"text-cyan-600",type:"group",children:[{id:"CustomForms",label:"CustomForms",icon:kP,href:"/user/CustomForms",color:"text-pink-600"},{id:"MetaForms",label:"MetaForms",icon:gY,href:"/user/FacebookForms",color:"text-blue-600"}]}];g.useEffect(()=>{const y=x.filter(j=>j.type==="group"),w={};y.forEach(j=>{var S;(S=j.children)!=null&&S.some(k=>h(k.href))&&(w[j.id]=!0)}),Object.keys(w).length>0&&d(j=>({...j,...w}))},[f.pathname]);const b=()=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:n.jsx(jY,{compact:e&&!s})}),n.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:x.map(y=>{var _;if(y.type==="group"){const C=y.icon,P=(_=y.children)==null?void 0:_.some(R=>h(R.href)),A=c[y.id]===!0,T=()=>{e&&!s?(t(!1),d(R=>({...R,[y.id]:!0}))):d(R=>({...R,[y.id]:!R[y.id]}))};return n.jsxs("div",{className:"group",children:[n.jsxs("button",{type:"button",onClick:T,className:`relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                    ${P?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                    ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"}
                    ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?y.label:"",children:[P&&!e&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),n.jsx("div",{className:"relative z-10",children:n.jsx(C,{className:`flex-shrink-0 transition-all duration-200
                      ${e&&!s?"w-6 h-6":"w-5 h-5"}
                      ${P?y.color:"text-slate-500 group-hover:text-slate-700"}
                      ${P?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:y.label}),n.jsx("span",{className:"ml-auto text-slate-500",children:A?n.jsx(_P,{className:"w-4 h-4"}):n.jsx(SP,{className:"w-4 h-4"})})]})]}),n.jsx(Pt,{initial:!1,children:A&&n.jsx(he.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:`${e&&!s?"px-2":"pl-9 pr-2"} mt-1 space-y-1`,children:y.children.map(R=>{const O=R.icon,V=h(R.href);return n.jsxs("button",{type:"button",onClick:()=>m(R.href),className:`w-full text-left flex items-center gap-3 rounded-lg transition-colors
                              ${V?"bg-blue-50/70 text-blue-700 border border-blue-200":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                              p-2`,title:R.label,children:[n.jsx(O,{className:`w-4 h-4 ${V?R.color:"text-slate-400 group-hover:text-slate-600"}`}),n.jsx("span",{className:"text-sm",children:R.label}),V&&n.jsx("span",{className:"ml-auto w-2 h-2 bg-blue-600 rounded-full animate-pulse"})]},R.id)})},`${y.id}-children`)})]},y.id)}const w=y.icon,j=h(y.href),S=j&&(!e||s)?s?"pl-5":"pl-4":"",k=e&&!s?"gap-0":s?"gap-4":"gap-3";return n.jsxs("button",{type:"button",onClick:()=>m(y.href),className:`group relative w-full text-left flex items-center ${k} rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                ${j?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                ${e&&!s?"justify-center p-2 sm:p-3":`p-3 sm:p-3 ${S}`}
                ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?y.label:"",children:[j&&!e&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),n.jsx("div",{className:"relative z-10",children:n.jsx(w,{className:`flex-shrink-0 transition-all duration-200
                    ${e&&!s?"w-6 h-6":"w-5 h-5"}
                    ${j?y.color:"text-slate-500 group-hover:text-slate-700"}
                    ${j?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&n.jsx("span",{className:"font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:y.label}),j&&(!e||s)&&n.jsx("div",{className:"ml-auto flex-shrink-0",children:n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},y.id)})}),!s&&n.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:n.jsx("button",{onClick:()=>t(y=>!y),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?n.jsx(gn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):n.jsxs(n.Fragment,{children:[n.jsx(ba,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return n.jsxs(n.Fragment,{children:[!s&&n.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(b,{})})}),s&&n.jsxs("div",{className:"md:hidden",children:[a&&n.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),n.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(b,{})})})]})]})}function SY(){return n.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[n.jsx(NY,{}),n.jsxs("div",{className:"flex flex-1 flex-col",children:[n.jsx(vM,{className:"h-16 border-b"}),n.jsx("main",{className:"flex-1 p-6",children:n.jsx(oP,{})})]})]})}var xv={},gv={},qk;function _Y(){return qk||(qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t}(gv)),gv}var bv={},Kk;function kM(){return Kk||(Kk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t}(bv)),bv}var vv={},Gk;function CM(){return Gk||(Gk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){var r;return typeof a=="string"||typeof a=="symbol"?a:Object.is((r=a==null?void 0:a.valueOf)==null?void 0:r.call(a),-0)?"-0":String(a)}e.toKey=t}(vv)),vv}var yv={},Yk;function o2(){return Yk||(Yk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){const r=[],s=a.length;if(s===0)return r;let l=0,c="",d="",f=!1;for(a.charCodeAt(0)===46&&(r.push(""),l++);l<s;){const m=a[l];d?m==="\\"&&l+1<s?(l++,c+=a[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,r.push(c),c=""):c+=m:m==="["?(f=!0,c&&(r.push(c),c="")):m==="."?c&&(r.push(c),c=""):c+=m,l++}return c&&r.push(c),r}e.toPath=t}(yv)),yv}var Wk;function c2(){return Wk||(Wk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_Y(),a=kM(),r=CM(),s=o2();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?a.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let x=0;x<f.length;x++){if(h==null||t.isUnsafeProperty(f[x]))return m;h=h[f[x]]}return h===void 0?m:h}e.get=l}(xv)),xv}var wv,Xk;function kY(){return Xk||(Xk=1,wv=c2().get),wv}var CY=kY();const fl=Xr(CY);var jv={exports:{}},zt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk;function AY(){if(Zk)return zt;Zk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case a:case s:case r:case f:case m:case b:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case x:case h:return j;case l:return j;default:return S}}case t:return S}}}return zt.ContextConsumer=l,zt.ContextProvider=c,zt.Element=e,zt.ForwardRef=d,zt.Fragment=a,zt.Lazy=x,zt.Memo=h,zt.Portal=t,zt.Profiler=s,zt.StrictMode=r,zt.Suspense=f,zt.SuspenseList=m,zt.isContextConsumer=function(j){return w(j)===l},zt.isContextProvider=function(j){return w(j)===c},zt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},zt.isForwardRef=function(j){return w(j)===d},zt.isFragment=function(j){return w(j)===a},zt.isLazy=function(j){return w(j)===x},zt.isMemo=function(j){return w(j)===h},zt.isPortal=function(j){return w(j)===t},zt.isProfiler=function(j){return w(j)===s},zt.isStrictMode=function(j){return w(j)===r},zt.isSuspense=function(j){return w(j)===f},zt.isSuspenseList=function(j){return w(j)===m},zt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===a||j===s||j===r||j===f||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===h||j.$$typeof===c||j.$$typeof===l||j.$$typeof===d||j.$$typeof===y||j.getModuleId!==void 0)},zt.typeOf=w,zt}var Qk;function TY(){return Qk||(Qk=1,jv.exports=AY()),jv.exports}var EY=TY(),qn=e=>e===0?0:e>0?1:-1,Qa=e=>typeof e=="number"&&e!=+e,ro=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ke=e=>(typeof e=="number"||e instanceof Number)&&!Qa(e),ys=e=>Ke(e)||typeof e=="string",PY=0,Nf=e=>{var t=++PY;return"".concat(e||"").concat(t)},ga=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(t)&&typeof t!="string")return r;var l;if(ro(t)){if(a==null)return r;var c=t.indexOf("%");l=a*parseFloat(t.slice(0,c))/100}else l=+t;return Qa(l)&&(l=r),s&&a!=null&&l>a&&(l=a),l},AM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++)if(!a[e[r]])a[e[r]]=!0;else return!0;return!1},Jk=(e,t)=>Ke(e)&&Ke(t)?a=>e+a*(t-e):()=>t;function Fr(e,t,a){return Ke(e)&&Ke(t)?e+a*(t-e):t}function TM(e,t,a){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):fl(r,t))===a)}var Xt=e=>e===null||typeof e>"u",Kf=e=>Xt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),OY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function u2(e){if(typeof e!="string")return!1;var t=OY;return t.includes(e)}var MY=["viewBox","children"],eC=["points","pathLength"],Nv={svg:MY,polygon:eC,polyline:eC},d2=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(g.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(s=>{u2(s)&&(r[s]=l=>a[s](a,l))}),r},DY=(e,t,a)=>r=>(e(t,a,r),null),Gp=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var l=e[s];u2(s)&&typeof l=="function"&&(r||(r={}),r[s]=DY(l,t,a))}),r},RY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function EM(e){if(typeof e!="string")return!1;var t=RY;return t.includes(e)}function pi(e){var t=Object.entries(e).filter(a=>{var[r]=a;return EM(r)});return Object.fromEntries(t)}var tC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",nC=null,Sv=null,PM=e=>{if(e===nC&&Array.isArray(Sv))return Sv;var t=[];return g.Children.forEach(e,a=>{Xt(a)||(EY.isFragment(a)?t=t.concat(PM(a.props.children)):t.push(a))}),Sv=t,nC=e,t};function Gf(e,t){var a=[],r=[];return Array.isArray(t)?r=t.map(s=>tC(s)):r=[tC(t)],PM(e).forEach(s=>{var l=fl(s,"type.displayName")||fl(s,"type.name");r.indexOf(l)!==-1&&a.push(s)}),a}var OM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,$Y=(e,t,a,r)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var l=(s=r&&(Nv==null?void 0:Nv[r]))!==null&&s!==void 0?s:[],c=t.startsWith("data-"),d=typeof e!="function"&&(!!r&&l.includes(t)||EM(t)),f=!!a&&u2(t);return c||d||f},tn=(e,t,a)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(l=>{var c;$Y((c=r)===null||c===void 0?void 0:c[l],l,t,a)&&(s[l]=r[l])}),s},LY=["children","width","height","viewBox","className","style","title","desc"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},dw.apply(null,arguments)}function IY(e,t){if(e==null)return{};var a,r,s=zY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function zY(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var MM=g.forwardRef((e,t)=>{var{children:a,width:r,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=IY(e,LY),x=l||{width:r,height:s,x:0,y:0},b=xt("recharts-surface",c);return g.createElement("svg",dw({},tn(h,!0,"svg"),{className:b,width:r,height:s,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),g.createElement("title",null,f),g.createElement("desc",null,m),a)}),BY=["children","className"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},fw.apply(null,arguments)}function UY(e,t){if(e==null)return{};var a,r,s=FY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function FY(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var ca=g.forwardRef((e,t)=>{var{children:a,className:r}=e,s=UY(e,BY),l=xt("recharts-layer",r);return g.createElement("g",fw({className:l},tn(s,!0),{ref:t}),a)}),VY=g.createContext(null);function Kt(e){return function(){return e}}const DM=Math.cos,K0=Math.sin,Qr=Math.sqrt,G0=Math.PI,Yp=2*G0,mw=Math.PI,hw=2*mw,Wl=1e-6,HY=hw-Wl;function RM(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function qY(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RM;const a=10**t;return function(r){this._+=r[0];for(let s=1,l=r.length;s<l;++s)this._+=Math.round(arguments[s]*a)/a+r[s]}}class KY{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RM:qY(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,r,s){this._append`Q${+t},${+a},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,a,r,s,l,c){this._append`C${+t},${+a},${+r},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,a,r,s,l){if(t=+t,a=+a,r=+r,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=r-t,m=s-a,h=c-t,x=d-a,b=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(b>Wl)if(!(Math.abs(x*f-m*h)>Wl)||!l)this._append`L${this._x1=t},${this._y1=a}`;else{let y=r-c,w=s-d,j=f*f+m*m,S=y*y+w*w,k=Math.sqrt(j),_=Math.sqrt(b),C=l*Math.tan((mw-Math.acos((j+b-S)/(2*k*_)))/2),P=C/_,A=C/k;Math.abs(P-1)>Wl&&this._append`L${t+P*h},${a+P*x}`,this._append`A${l},${l},0,0,${+(x*y>h*w)},${this._x1=t+A*f},${this._y1=a+A*m}`}}arc(t,a,r,s,l,c){if(t=+t,a=+a,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(s),f=r*Math.sin(s),m=t+d,h=a+f,x=1^c,b=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Wl||Math.abs(this._y1-h)>Wl)&&this._append`L${m},${h}`,r&&(b<0&&(b=b%hw+hw),b>HY?this._append`A${r},${r},0,1,${x},${t-d},${a-f}A${r},${r},0,1,${x},${this._x1=m},${this._y1=h}`:b>Wl&&this._append`A${r},${r},0,${+(b>=mw)},${x},${this._x1=t+r*Math.cos(l)},${this._y1=a+r*Math.sin(l)}`)}rect(t,a,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function f2(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);t=r}return e},()=>new KY(t)}function m2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $M(e){this._context=e}$M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wp(e){return new $M(e)}function LM(e){return e[0]}function IM(e){return e[1]}function zM(e,t){var a=Kt(!0),r=null,s=Wp,l=null,c=f2(d);e=typeof e=="function"?e:e===void 0?LM:Kt(e),t=typeof t=="function"?t:t===void 0?IM:Kt(t);function d(f){var m,h=(f=m2(f)).length,x,b=!1,y;for(r==null&&(l=s(y=c())),m=0;m<=h;++m)!(m<h&&a(x=f[m],m,f))===b&&((b=!b)?l.lineStart():l.lineEnd()),b&&l.point(+e(x,m,f),+t(x,m,f));if(y)return l=null,y+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),d):t},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Kt(!!f),d):a},d.curve=function(f){return arguments.length?(s=f,r!=null&&(l=s(r)),d):s},d.context=function(f){return arguments.length?(f==null?r=l=null:l=s(r=f),d):r},d}function Ah(e,t,a){var r=null,s=Kt(!0),l=null,c=Wp,d=null,f=f2(m);e=typeof e=="function"?e:e===void 0?LM:Kt(+e),t=typeof t=="function"?t:Kt(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?IM:Kt(+a);function m(x){var b,y,w,j=(x=m2(x)).length,S,k=!1,_,C=new Array(j),P=new Array(j);for(l==null&&(d=c(_=f())),b=0;b<=j;++b){if(!(b<j&&s(S=x[b],b,x))===k)if(k=!k)y=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=b-1;w>=y;--w)d.point(C[w],P[w]);d.lineEnd(),d.areaEnd()}k&&(C[b]=+e(S,b,x),P[b]=+t(S,b,x),d.point(r?+r(S,b,x):C[b],a?+a(S,b,x):P[b]))}if(_)return d=null,_+""||null}function h(){return zM().defined(s).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:Kt(+x),r=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Kt(+x),m):e},m.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:Kt(+x),m):r},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:Kt(+x),a=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Kt(+x),m):t},m.y1=function(x){return arguments.length?(a=x==null?null:typeof x=="function"?x:Kt(+x),m):a},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(a)},m.lineX1=function(){return h().x(r).y(t)},m.defined=function(x){return arguments.length?(s=typeof x=="function"?x:Kt(!!x),m):s},m.curve=function(x){return arguments.length?(c=x,l!=null&&(d=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=d=null:d=c(l=x),m):l},m}class BM{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function GY(e){return new BM(e,!0)}function YY(e){return new BM(e,!1)}const h2={draw(e,t){const a=Qr(t/G0);e.moveTo(a,0),e.arc(0,0,a,0,Yp)}},WY={draw(e,t){const a=Qr(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},UM=Qr(1/3),XY=UM*2,ZY={draw(e,t){const a=Qr(t/XY),r=a*UM;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},QY={draw(e,t){const a=Qr(t),r=-a/2;e.rect(r,r,a,a)}},JY=.8908130915292852,FM=K0(G0/10)/K0(7*G0/10),eW=K0(Yp/10)*FM,tW=-DM(Yp/10)*FM,nW={draw(e,t){const a=Qr(t*JY),r=eW*a,s=tW*a;e.moveTo(0,-a),e.lineTo(r,s);for(let l=1;l<5;++l){const c=Yp*l/5,d=DM(c),f=K0(c);e.lineTo(f*a,-d*a),e.lineTo(d*r-f*s,f*r+d*s)}e.closePath()}},_v=Qr(3),aW={draw(e,t){const a=-Qr(t/(_v*3));e.moveTo(0,a*2),e.lineTo(-_v*a,-a),e.lineTo(_v*a,-a),e.closePath()}},hr=-.5,pr=Qr(3)/2,pw=1/Qr(12),rW=(pw/2+1)*3,sW={draw(e,t){const a=Qr(t/rW),r=a/2,s=a*pw,l=r,c=a*pw+a,d=-l,f=c;e.moveTo(r,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(hr*r-pr*s,pr*r+hr*s),e.lineTo(hr*l-pr*c,pr*l+hr*c),e.lineTo(hr*d-pr*f,pr*d+hr*f),e.lineTo(hr*r+pr*s,hr*s-pr*r),e.lineTo(hr*l+pr*c,hr*c-pr*l),e.lineTo(hr*d+pr*f,hr*f-pr*d),e.closePath()}};function iW(e,t){let a=null,r=f2(s);e=typeof e=="function"?e:Kt(e||h2),t=typeof t=="function"?t:Kt(t===void 0?64:+t);function s(){let l;if(a||(a=l=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),l)return a=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(+l),s):t},s.context=function(l){return arguments.length?(a=l??null,s):a},s}function Y0(){}function W0(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function VM(e){this._context=e}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:W0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:W0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lW(e){return new VM(e)}function HM(e){this._context=e}HM.prototype={areaStart:Y0,areaEnd:Y0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:W0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oW(e){return new HM(e)}function qM(e){this._context=e}qM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:W0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cW(e){return new qM(e)}function KM(e){this._context=e}KM.prototype={areaStart:Y0,areaEnd:Y0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function uW(e){return new KM(e)}function aC(e){return e<0?-1:1}function rC(e,t,a){var r=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(r||s<0&&-0),c=(a-e._y1)/(s||r<0&&-0),d=(l*s+c*r)/(r+s);return(aC(l)+aC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function sC(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function kv(e,t,a){var r=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-r)/3;e._context.bezierCurveTo(r+d,s+d*t,l-d,c-d*a,l,c)}function X0(e){this._context=e}X0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kv(this,this._t0,sC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kv(this,sC(this,a=rC(this,e,t)),a);break;default:kv(this,this._t0,a=rC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function GM(e){this._context=new YM(e)}(GM.prototype=Object.create(X0.prototype)).point=function(e,t){X0.prototype.point.call(this,t,e)};function YM(e){this._context=e}YM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,s,l){this._context.bezierCurveTo(t,e,r,a,l,s)}};function dW(e){return new X0(e)}function fW(e){return new GM(e)}function WM(e){this._context=e}WM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=iC(e),s=iC(t),l=0,c=1;c<a;++l,++c)this._context.bezierCurveTo(r[0][l],s[0][l],r[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iC(e){var t,a=e.length-1,r,s=new Array(a),l=new Array(a),c=new Array(a);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,l[a-1]=7,c[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=s[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(s[a-1]=c[a-1]/l[a-1],t=a-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function mW(e){return new WM(e)}function Xp(e,t){this._context=e,this._t=t}Xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function hW(e){return new Xp(e,.5)}function pW(e){return new Xp(e,0)}function xW(e){return new Xp(e,1)}function Xc(e,t){if((c=e.length)>1)for(var a=1,r,s,l=e[t[0]],c,d=l.length;a<c;++a)for(s=l,l=e[t[a]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function xw(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function gW(e,t){return e[t]}function bW(e){const t=[];return t.key=e,t}function vW(){var e=Kt([]),t=xw,a=Xc,r=gW;function s(l){var c=Array.from(e.apply(this,arguments),bW),d,f=c.length,m=-1,h;for(const x of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+r(x,c[d].key,m,l)]).data=x;for(d=0,h=m2(t(c));d<f;++d)c[h[d]].index=d;return a(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(Array.from(l)),s):e},s.value=function(l){return arguments.length?(r=typeof l=="function"?l:Kt(+l),s):r},s.order=function(l){return arguments.length?(t=l==null?xw:typeof l=="function"?l:Kt(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(a=l??Xc,s):a},s}function yW(e,t){if((r=e.length)>0){for(var a,r,s=0,l=e[0].length,c;s<l;++s){for(c=a=0;a<r;++a)c+=e[a][s][1]||0;if(c)for(a=0;a<r;++a)e[a][s][1]/=c}Xc(e,t)}}function wW(e,t){if((s=e.length)>0){for(var a=0,r=e[t[0]],s,l=r.length;a<l;++a){for(var c=0,d=0;c<s;++c)d+=e[c][a][1]||0;r[a][1]+=r[a][0]=-d/2}Xc(e,t)}}function jW(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var a=0,r=1,s,l,c;r<l;++r){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],x=h[r][1]||0,b=h[r-1][1]||0,y=(x-b)/2,w=0;w<d;++w){var j=e[t[w]],S=j[r][1]||0,k=j[r-1][1]||0;y+=S-k}f+=x,m+=y*x}s[r-1][1]+=s[r-1][0]=a,f&&(a-=m/f)}s[r-1][1]+=s[r-1][0]=a,Xc(e,t)}}var NW=["type","size","sizeType"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gw.apply(null,arguments)}function lC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function oC(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(a),!0).forEach(function(r){SW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function SW(e,t,a){return(t=_W(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _W(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CW(e,t){if(e==null)return{};var a,r,s=AW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function AW(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var XM={symbolCircle:h2,symbolCross:WY,symbolDiamond:ZY,symbolSquare:QY,symbolStar:nW,symbolTriangle:aW,symbolWye:sW},TW=Math.PI/180,EW=e=>{var t="symbol".concat(Kf(e));return XM[t]||h2},PW=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*TW;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},OW=(e,t)=>{XM["symbol".concat(Kf(e))]=t},ZM=e=>{var{type:t="circle",size:a=64,sizeType:r="area"}=e,s=CW(e,NW),l=oC(oC({},s),{},{type:t,size:a,sizeType:r}),c=()=>{var x=EW(t),b=iW().type(x).size(PW(a,r,t));return b()},{className:d,cx:f,cy:m}=l,h=tn(l,!0);return f===+f&&m===+m&&a===+a?g.createElement("path",gw({},h,{className:xt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};ZM.registerSymbol=OW;var Cv={},Av={},cC;function MW(){return cC||(cC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){const s=new Map;for(let l=0;l<a.length;l++){const c=a[l],d=r(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t}(Av)),Av}var Tv={},uC;function QM(){return uC||(uC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t}(Tv)),Tv}var Ev={},Pv={},Ov={},dC;function DW(){return dC||(dC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t}(Ov)),Ov}var fC;function p2(){return fC||(fC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DW();function a(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=a}(Pv)),Pv}var Mv={},mC;function RW(){return mC||(mC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t}(Mv)),Mv}var hC;function $W(){return hC||(hC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p2(),a=RW();function r(s){return a.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r}(Ev)),Ev}var Dv={},Rv={},pC;function LW(){return pC||(pC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c2();function a(r){return function(s){return t.get(s,r)}}e.property=a}(Rv)),Rv}var $v={},Lv={},Iv={},zv={},xC;function JM(){return xC||(xC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t}(zv)),zv}var Bv={},gC;function eD(){return gC||(gC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t}(Bv)),Bv}var Uv={},bC;function x2(){return bC||(bC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}e.eq=t}(Uv)),Uv}var vC;function IW(){return vC||(vC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g2(),a=JM(),r=eD(),s=x2();function l(x,b,y){return typeof y!="function"?t.isMatch(x,b):c(x,b,function w(j,S,k,_,C,P){const A=y(j,S,k,_,C,P);return A!==void 0?!!A:c(j,S,w,P)},new Map)}function c(x,b,y,w){if(b===x)return!0;switch(typeof b){case"object":return d(x,b,y,w);case"function":return Object.keys(b).length>0?c(x,{...b},y,w):s.eq(x,b);default:return a.isObject(x)?typeof b=="string"?b==="":!0:s.eq(x,b)}}function d(x,b,y,w){if(b==null)return!0;if(Array.isArray(b))return m(x,b,y,w);if(b instanceof Map)return f(x,b,y,w);if(b instanceof Set)return h(x,b,y,w);const j=Object.keys(b);if(x==null)return j.length===0;if(j.length===0)return!0;if(w&&w.has(b))return w.get(b)===x;w&&w.set(b,x);try{for(let S=0;S<j.length;S++){const k=j[S];if(!r.isPrimitive(x)&&!(k in x)||b[k]===void 0&&x[k]!==void 0||b[k]===null&&x[k]!==null||!y(x[k],b[k],k,x,b,w))return!1}return!0}finally{w&&w.delete(b)}}function f(x,b,y,w){if(b.size===0)return!0;if(!(x instanceof Map))return!1;for(const[j,S]of b.entries()){const k=x.get(j);if(y(k,S,j,x,b,w)===!1)return!1}return!0}function m(x,b,y,w){if(b.length===0)return!0;if(!Array.isArray(x))return!1;const j=new Set;for(let S=0;S<b.length;S++){const k=b[S];let _=!1;for(let C=0;C<x.length;C++){if(j.has(C))continue;const P=x[C];let A=!1;if(y(P,k,S,x,b,w)&&(A=!0),A){j.add(C),_=!0;break}}if(!_)return!1}return!0}function h(x,b,y,w){return b.size===0?!0:x instanceof Set?m([...x],[...b],y,w):!1}e.isMatchWith=l,e.isSetMatch=h}(Iv)),Iv}var yC;function g2(){return yC||(yC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IW();function a(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=a}(Lv)),Lv}var Fv={},Vv={},Hv={},wC;function tD(){return wC||(wC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}e.getSymbols=t}(Hv)),Hv}var qv={},jC;function b2(){return jC||(jC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t}(qv)),qv}var Kv={},NC;function v2(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",r="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",x="[object Function]",b="[object ArrayBuffer]",y="[object Object]",w="[object Error]",j="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",C="[object Uint32Array]",P="[object BigUint64Array]",A="[object Int8Array]",T="[object Int16Array]",R="[object Int32Array]",O="[object BigInt64Array]",V="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=P,e.booleanTag=s,e.dataViewTag=j,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=V,e.float64ArrayTag=K,e.functionTag=x,e.int16ArrayTag=T,e.int32ArrayTag=R,e.int8ArrayTag=A,e.mapTag=f,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=m,e.stringTag=a,e.symbolTag=c,e.uint16ArrayTag=_,e.uint32ArrayTag=C,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=k}(Kv)),Kv}var Gv={},SC;function zW(){return SC||(SC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t}(Gv)),Gv}var _C;function nD(){return _C||(_C=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tD(),a=b2(),r=v2(),s=eD(),l=zW();function c(h,x){return d(h,void 0,h,new Map,x)}function d(h,x,b,y=new Map,w=void 0){const j=w==null?void 0:w(h,x,b,y);if(j!==void 0)return j;if(s.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let k=0;k<h.length;k++)S[k]=d(h[k],k,b,y,w);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[k,_]of h)S.set(k,d(_,k,b,y,w));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const k of h)S.add(d(k,void 0,b,y,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let k=0;k<h.length;k++)S[k]=d(h[k],k,b,y,w);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),f(S,h,b,y,w),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),f(S,h,b,y,w),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),f(S,h,b,y,w),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,b,y,w),S}if(typeof h=="object"&&m(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),f(S,h,b,y,w),S}return h}function f(h,x,b=h,y,w){const j=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<j.length;S++){const k=j[S],_=Object.getOwnPropertyDescriptor(h,k);(_==null||_.writable)&&(h[k]=d(x[k],k,b,y,w))}}function m(h){switch(a.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f}(Vv)),Vv}var kC;function BW(){return kC||(kC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nD();function a(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=a}(Fv)),Fv}var CC;function UW(){return CC||(CC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g2(),a=BW();function r(s){return s=a.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=r}($v)),$v}var Yv={},Wv={},Xv={},AC;function FW(){return AC||(AC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nD(),a=v2();function r(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l==null?void 0:l(c,d,f,m);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case a.numberTag:case a.stringTag:case a.booleanTag:{const x=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(x,s),x}case a.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r}(Xv)),Xv}var TC;function VW(){return TC||(TC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FW();function a(r){return t.cloneDeepWith(r)}e.cloneDeep=a}(Wv)),Wv}var Zv={},Qv={},EC;function aD(){return EC||(EC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=a}(Qv)),Qv}var Jv={},PC;function HW(){return PC||(PC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b2();function a(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=a}(Jv)),Jv}var OC;function qW(){return OC||(OC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kM(),a=aD(),r=HW(),s=o2();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const x=f[h];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||r.isArguments(m))&&a.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l}(Zv)),Zv}var MC;function KW(){return MC||(MC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g2(),a=CM(),r=VW(),s=c2(),l=qW();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=a.toKey(d);break}}return f=r.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c}(Yv)),Yv}var DC;function GW(){return DC||(DC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QM(),a=LW(),r=UW(),s=KW();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return a.property(c)}}e.iteratee=l}(Dv)),Dv}var RC;function YW(){return RC||(RC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MW(),a=QM(),r=$W(),s=GW();function l(c,d=a.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l}(Cv)),Cv}var ey,$C;function WW(){return $C||($C=1,ey=YW().uniqBy),ey}var XW=WW();const LC=Xr(XW);function ZW(e,t,a){return t===!0?LC(e,a):typeof t=="function"?LC(e,t):e}var ty={exports:{}},ny={},ay={exports:{}},ry={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IC;function QW(){if(IC)return ry;IC=1;var e=lu();function t(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var a=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(x,b){var y=b(),w=r({inst:{value:y,getSnapshot:b}}),j=w[0].inst,S=w[1];return l(function(){j.value=y,j.getSnapshot=b,f(j)&&S({inst:j})},[x,y,b]),s(function(){return f(j)&&S({inst:j}),x(function(){f(j)&&S({inst:j})})},[x]),c(y),y}function f(x){var b=x.getSnapshot;x=x.value;try{var y=b();return!a(x,y)}catch{return!0}}function m(x,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return ry.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,ry}var zC;function JW(){return zC||(zC=1,ay.exports=QW()),ay.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function eX(){if(BC)return ny;BC=1;var e=lu(),t=JW();function a(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:a,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return ny.useSyncExternalStoreWithSelector=function(m,h,x,b,y){var w=l(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=d(function(){function k(T){if(!_){if(_=!0,C=T,T=b(T),y!==void 0&&j.hasValue){var R=j.value;if(y(R,T))return P=R}return P=T}if(R=P,r(C,T))return R;var O=b(T);return y!==void 0&&y(R,O)?(C=T,R):(C=T,P=O)}var _=!1,C,P,A=x===void 0?null:x;return[function(){return k(h())},A===null?void 0:function(){return k(A())}]},[h,x,b,y]);var S=s(m,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=S},[S]),f(S),S},ny}var UC;function tX(){return UC||(UC=1,ty.exports=eX()),ty.exports}var nX=tX(),y2=g.createContext(null),aX=e=>e,bn=()=>{var e=g.useContext(y2);return e?e.store.dispatch:aX},T0=()=>{},rX=()=>T0,sX=(e,t)=>e===t;function Je(e){var t=g.useContext(y2);return nX.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:rX,t?t.store.getState:T0,t?t.store.getState:T0,t?e:T0,sX)}function iX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function lX(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function oX(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${a}]`)}}var FC=e=>Array.isArray(e)?e:[e];function cX(e){const t=Array.isArray(e[0])?e[0]:e;return oX(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function uX(e,t){const a=[],{length:r}=e;for(let s=0;s<r;s++)a.push(e[s].apply(null,t));return a}var dX=class{constructor(e){this.value=e}deref(){return this.value}},fX=typeof WeakRef<"u"?WeakRef:dX,mX=0,VC=1;function Th(){return{s:mX,v:void 0,o:null,p:null}}function rD(e,t={}){let a=Th();const{resultEqualityCheck:r}=t;let s,l=0;function c(){var x;let d=a;const{length:f}=arguments;for(let b=0,y=f;b<y;b++){const w=arguments[b];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const S=j.get(w);S===void 0?(d=Th(),j.set(w,d)):d=S}else{let j=d.p;j===null&&(d.p=j=new Map);const S=j.get(w);S===void 0?(d=Th(),j.set(w,d)):d=S}}const m=d;let h;if(d.s===VC)h=d.v;else if(h=e.apply(null,arguments),l++,r){const b=((x=s==null?void 0:s.deref)==null?void 0:x.call(s))??s;b!=null&&r(b,h)&&(h=b,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new fX(h):h}return m.s=VC,m.v=h,h}return c.clearCache=()=>{a=Th(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function hX(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),iX(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...a,...f},{memoize:x,memoizeOptions:b=[],argsMemoize:y=rD,argsMemoizeOptions:w=[]}=h,j=FC(b),S=FC(w),k=cX(s),_=x(function(){return l++,m.apply(null,arguments)},...j),C=y(function(){c++;const A=uX(k,arguments);return d=_.apply(null,A),d},...S);return Object.assign(C,{resultFunc:m,memoizedResultFunc:_,dependencies:k,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ye=hX(rD),pX=Object.assign((e,t=ye)=>{lX(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),r=a.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,d,f)=>(c[a[f]]=d,c),{}))},{withTypes:()=>pX}),sy={},iy={},ly={},HC;function xX(){return HC||(HC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,s,l)=>{if(r!==s){const c=t(r),d=t(s);if(c===d&&c===0){if(r<s)return l==="desc"?1:-1;if(r>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=a}(ly)),ly}var oy={},cy={},qC;function sD(){return qC||(qC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t}(cy)),cy}var KC;function gX(){return KC||(KC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sD(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!a.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s}(oy)),oy}var GC;function bX(){return GC||(GC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xX(),a=gX(),r=o2();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(y=>String(y));const m=(y,w)=>{let j=y;for(let S=0;S<w.length&&j!=null;++S)j=j[w[S]];return j},h=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:m(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?m(w,y):typeof w=="object"?w[y]:w,x=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||a.isKey(y)?y:{key:y,path:r.toPath(y)}));return l.map(y=>({original:y,criteria:x.map(w=>h(w,y))})).slice().sort((y,w)=>{for(let j=0;j<x.length;j++){const S=t.compareValues(y.criteria[j],w.criteria[j],d[j]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=s}(iy)),iy}var uy={},YC;function vX(){return YC||(YC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r=1){const s=[],l=Math.floor(r),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(a,0),s}e.flatten=t}(uy)),uy}var dy={},WC;function iD(){return WC||(WC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aD(),a=p2(),r=JM(),s=x2();function l(c,d,f){return r.isObject(f)&&(typeof d=="number"&&a.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l}(dy)),dy}var XC;function yX(){return XC||(XC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bX(),a=vX(),r=iD();function s(l,...c){const d=c.length;return d>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,a.flatten(c),["asc"])}e.sortBy=s}(sy)),sy}var fy,ZC;function wX(){return ZC||(ZC=1,fy=yX().sortBy),fy}var jX=wX();const Zp=Xr(jX);var lD=e=>e.legend.settings,NX=e=>e.legend.size,SX=e=>e.legend.payload;ye([SX,lD],(e,t)=>{var{itemSorter:a}=t,r=e.flat(1);return a?Zp(r,a):r});var Eh=1;function _X(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>Eh||Math.abs(c.left-t.left)>Eh||Math.abs(c.top-t.top)>Eh||Math.abs(c.width-t.width)>Eh)&&a({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Qn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kX=typeof Symbol=="function"&&Symbol.observable||"@@observable",QC=kX,my=()=>Math.random().toString(36).substring(7).split("").join("."),CX={INIT:`@@redux/INIT${my()}`,REPLACE:`@@redux/REPLACE${my()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${my()}`},Z0=CX;function w2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function oD(e,t,a){if(typeof e!="function")throw new Error(Qn(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Qn(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Qn(1));return a(oD)(e,t)}let r=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((S,k)=>{c.set(k,S)}))}function h(){if(f)throw new Error(Qn(3));return s}function x(S){if(typeof S!="function")throw new Error(Qn(4));if(f)throw new Error(Qn(5));let k=!0;m();const _=d++;return c.set(_,S),function(){if(k){if(f)throw new Error(Qn(6));k=!1,m(),c.delete(_),l=null}}}function b(S){if(!w2(S))throw new Error(Qn(7));if(typeof S.type>"u")throw new Error(Qn(8));if(typeof S.type!="string")throw new Error(Qn(17));if(f)throw new Error(Qn(9));try{f=!0,s=r(s,S)}finally{f=!1}return(l=c).forEach(_=>{_()}),S}function y(S){if(typeof S!="function")throw new Error(Qn(10));r=S,b({type:Z0.REPLACE})}function w(){const S=x;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Qn(11));function _(){const P=k;P.next&&P.next(h())}return _(),{unsubscribe:S(_)}},[QC](){return this}}}return b({type:Z0.INIT}),{dispatch:b,subscribe:x,getState:h,replaceReducer:y,[QC]:w}}function AX(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:Z0.INIT})>"u")throw new Error(Qn(12));if(typeof a(void 0,{type:Z0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qn(13))})}function cD(e){const t=Object.keys(e),a={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(a[c]=e[c])}const r=Object.keys(a);let s;try{AX(a)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<r.length;h++){const x=r[h],b=a[x],y=c[x],w=b(y,d);if(typeof w>"u")throw d&&d.type,new Error(Qn(14));m[x]=w,f=f||w!==y}return f=f||r.length!==Object.keys(c).length,f?m:c}}function Q0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...r)=>t(a(...r)))}function TX(...e){return t=>(a,r)=>{const s=t(a,r);let l=()=>{throw new Error(Qn(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=Q0(...d)(s.dispatch),{...s,dispatch:l}}}function uD(e){return w2(e)&&"type"in e&&typeof e.type=="string"}var dD=Symbol.for("immer-nothing"),JC=Symbol.for("immer-draftable"),Ja=Symbol.for("immer-state");function Hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zc=Object.getPrototypeOf;function bo(e){return!!e&&!!e[Ja]}function ui(e){var t;return e?fD(e)||Array.isArray(e)||!!e[JC]||!!((t=e.constructor)!=null&&t[JC])||Jp(e)||ex(e):!1}var EX=Object.prototype.constructor.toString();function fD(e){if(!e||typeof e!="object")return!1;const t=Zc(e);if(t===null)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===EX}function J0(e,t){Qp(e)===0?Reflect.ownKeys(e).forEach(a=>{t(a,e[a],e)}):e.forEach((a,r)=>t(r,a,e))}function Qp(e){const t=e[Ja];return t?t.type_:Array.isArray(e)?1:Jp(e)?2:ex(e)?3:0}function bw(e,t){return Qp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mD(e,t,a){const r=Qp(e);r===2?e.set(t,a):r===3?e.add(a):e[t]=a}function PX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Jp(e){return e instanceof Map}function ex(e){return e instanceof Set}function Xl(e){return e.copy_||e.base_}function vw(e,t){if(Jp(e))return new Map(e);if(ex(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=fD(e);if(t===!0||t==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(e);delete r[Ja];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Zc(e),r)}else{const r=Zc(e);if(r!==null&&a)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function j2(e,t=!1){return tx(e)||bo(e)||!ui(e)||(Qp(e)>1&&(e.set=e.add=e.clear=e.delete=OX),Object.freeze(e),t&&Object.entries(e).forEach(([a,r])=>j2(r,!0))),e}function OX(){Hr(2)}function tx(e){return Object.isFrozen(e)}var MX={};function vo(e){const t=MX[e];return t||Hr(0,e),t}var Sf;function hD(){return Sf}function DX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eA(e,t){t&&(vo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yw(e){ww(e),e.drafts_.forEach(RX),e.drafts_=null}function ww(e){e===Sf&&(Sf=e.parent_)}function tA(e){return Sf=DX(Sf,e)}function RX(e){const t=e[Ja];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function nA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[Ja].modified_&&(yw(t),Hr(4)),ui(e)&&(e=ep(t,e),t.parent_||tp(t,e)),t.patches_&&vo("Patches").generateReplacementPatches_(a[Ja].base_,e,t.patches_,t.inversePatches_)):e=ep(t,a,[]),yw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dD?e:void 0}function ep(e,t,a){if(tx(t))return t;const r=t[Ja];if(!r)return J0(t,(s,l)=>aA(e,r,t,s,l,a)),t;if(r.scope_!==e)return t;if(!r.modified_)return tp(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,c=!1;r.type_===3&&(l=new Set(s),s.clear(),c=!0),J0(l,(d,f)=>aA(e,r,s,d,f,a,c)),tp(e,s,!1),a&&e.patches_&&vo("Patches").generatePatches_(r,a,e.patches_,e.inversePatches_)}return r.copy_}function aA(e,t,a,r,s,l,c){if(bo(s)){const d=l&&t&&t.type_!==3&&!bw(t.assigned_,r)?l.concat(r):void 0,f=ep(e,s,d);if(mD(a,r,f),bo(f))e.canAutoFreeze_=!1;else return}else c&&a.add(s);if(ui(s)&&!tx(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ep(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(a,r)&&tp(e,s)}}function tp(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&j2(t,a)}function $X(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:hD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,l=N2;a&&(s=[r],l=_f);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return r.draft_=d,r.revoke_=c,d}var N2={get(e,t){if(t===Ja)return e;const a=Xl(e);if(!bw(a,t))return LX(e,a,t);const r=a[t];return e.finalized_||!ui(r)?r:r===hy(e.base_,t)?(py(e),e.copy_[t]=Nw(r,e)):r},has(e,t){return t in Xl(e)},ownKeys(e){return Reflect.ownKeys(Xl(e))},set(e,t,a){const r=pD(Xl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=hy(Xl(e),t),l=s==null?void 0:s[Ja];if(l&&l.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(PX(a,s)&&(a!==void 0||bw(e.base_,t)))return!0;py(e),jw(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return hy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,py(e),jw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=Xl(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:a[t]}},defineProperty(){Hr(11)},getPrototypeOf(e){return Zc(e.base_)},setPrototypeOf(){Hr(12)}},_f={};J0(N2,(e,t)=>{_f[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_f.deleteProperty=function(e,t){return _f.set.call(this,e,t,void 0)};_f.set=function(e,t,a){return N2.set.call(this,e[0],t,a,e[0])};function hy(e,t){const a=e[Ja];return(a?Xl(a):e)[t]}function LX(e,t,a){var s;const r=pD(t,a);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function pD(e,t){if(!(t in e))return;let a=Zc(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=Zc(a)}}function jw(e){e.modified_||(e.modified_=!0,e.parent_&&jw(e.parent_))}function py(e){e.copy_||(e.copy_=vw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var IX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,a,r)=>{if(typeof t=="function"&&typeof a!="function"){const l=a;a=t;const c=this;return function(f=l,...m){return c.produce(f,h=>a.call(this,h,...m))}}typeof a!="function"&&Hr(6),r!==void 0&&typeof r!="function"&&Hr(7);let s;if(ui(t)){const l=tA(this),c=Nw(t,void 0);let d=!0;try{s=a(c),d=!1}finally{d?yw(l):ww(l)}return eA(l,r),nA(s,l)}else if(!t||typeof t!="object"){if(s=a(t),s===void 0&&(s=t),s===dD&&(s=void 0),this.autoFreeze_&&j2(s,!0),r){const l=[],c=[];vo("Patches").generateReplacementPatches_(t,s,l,c),r(l,c)}return s}else Hr(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let r,s;return[this.produce(t,a,(c,d)=>{r=c,s=d}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ui(e)||Hr(8),bo(e)&&(e=ei(e));const t=tA(this),a=Nw(e,void 0);return a[Ja].isManual_=!0,ww(t),a}finishDraft(e,t){const a=e&&e[Ja];(!a||!a.isManual_)&&Hr(9);const{scope_:r}=a;return eA(r,t),nA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const s=t[a];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}a>-1&&(t=t.slice(a+1));const r=vo("Patches").applyPatches_;return bo(e)?r(e,t):this.produce(e,s=>r(s,t))}};function Nw(e,t){const a=Jp(e)?vo("MapSet").proxyMap_(e,t):ex(e)?vo("MapSet").proxySet_(e,t):$X(e,t);return(t?t.scope_:hD()).drafts_.push(a),a}function ei(e){return bo(e)||Hr(10,e),xD(e)}function xD(e){if(!ui(e)||tx(e))return e;const t=e[Ja];let a;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=vw(e,t.scope_.immer_.useStrictShallowCopy_)}else a=vw(e,!0);return J0(a,(r,s)=>{mD(a,r,xD(s))}),t&&(t.finalized_=!1),a}var er=new IX,gD=er.produce;er.produceWithPatches.bind(er);er.setAutoFreeze.bind(er);er.setUseStrictShallowCopy.bind(er);er.applyPatches.bind(er);er.createDraft.bind(er);er.finishDraft.bind(er);function bD(e){return({dispatch:a,getState:r})=>s=>l=>typeof l=="function"?l(a,r,e):s(l)}var zX=bD(),BX=bD,UX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Q0:Q0.apply(null,arguments)};function kr(e,t){function a(...r){if(t){let s=t(...r);if(!s)throw new Error(Za(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=r=>uD(r)&&r.type===e,a}var vD=class Wd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wd.prototype)}static get[Symbol.species](){return Wd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wd(...t[0].concat(this)):new Wd(...t.concat(this))}};function rA(e){return ui(e)?gD(e,()=>{}):e}function Ph(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function FX(e){return typeof e=="boolean"}var VX=()=>function(t){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new vD;return a&&(FX(a)?c.push(zX):c.push(BX(a.extraArgument))),c},HX="RTK_autoBatch",sA=e=>t=>{setTimeout(t,e)},qX=(e={type:"raf"})=>t=>(...a)=>{const r=t(...a);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sA(10):e.type==="callback"?e.queueNotification:sA(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const x=()=>s&&h(),b=r.subscribe(x);return d.add(h),()=>{b(),d.delete(h)}},dispatch(h){var x;try{return s=!((x=h==null?void 0:h.meta)!=null&&x[HX]),l=!s,l&&(c||(c=!0,f(m))),r.dispatch(h)}finally{s=!0}}})},KX=e=>function(a){const{autoBatch:r=!0}=a??{};let s=new vD(e);return r&&s.push(qX(typeof r=="object"?r:void 0)),s};function GX(e){const t=VX(),{reducer:a=void 0,middleware:r,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof a=="function")d=a;else if(w2(a))d=cD(a);else throw new Error(Za(1));let f;typeof r=="function"?f=r(t):f=t();let m=Q0;s&&(m=UX({trace:!1,...typeof s=="object"&&s}));const h=TX(...f),x=KX(h);let b=typeof c=="function"?c(x):x();const y=m(...b);return oD(d,l,y)}function yD(e){const t={},a=[];let r;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Za(28));if(d in t)throw new Error(Za(29));return t[d]=c,s},addMatcher(l,c){return a.push({matcher:l,reducer:c}),s},addDefaultCase(l){return r=l,s}};return e(s),[t,a,r]}function YX(e){return typeof e=="function"}function WX(e,t){let[a,r,s]=yD(t),l;if(YX(e))l=()=>rA(e());else{const d=rA(e);l=()=>d}function c(d=l(),f){let m=[a[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,x)=>{if(x)if(bo(h)){const y=x(h,f);return y===void 0?h:y}else{if(ui(h))return gD(h,b=>x(b,f));{const b=x(h,f);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},d)}return c.getInitialState=l,c}var XX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZX=(e=21)=>{let t="",a=e;for(;a--;)t+=XX[Math.random()*64|0];return t},QX=Symbol.for("rtk-slice-createasyncthunk");function JX(e,t){return`${e}/${t}`}function eZ({creators:e}={}){var a;const t=(a=e==null?void 0:e.asyncThunk)==null?void 0:a[QX];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(Za(11));const d=(typeof s.reducers=="function"?s.reducers(nZ()):s.reducers)||{},f=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,A){const T=typeof P=="string"?P:P.type;if(!T)throw new Error(Za(12));if(T in m.sliceCaseReducersByType)throw new Error(Za(13));return m.sliceCaseReducersByType[T]=A,h},addMatcher(P,A){return m.sliceMatchers.push({matcher:P,reducer:A}),h},exposeAction(P,A){return m.actionCreators[P]=A,h},exposeCaseReducer(P,A){return m.sliceCaseReducersByName[P]=A,h}};f.forEach(P=>{const A=d[P],T={reducerName:P,type:JX(l,P),createNotation:typeof s.reducers=="function"};rZ(A)?iZ(T,A,h,t):aZ(T,A,h)});function x(){const[P={},A=[],T=void 0]=typeof s.extraReducers=="function"?yD(s.extraReducers):[s.extraReducers],R={...P,...m.sliceCaseReducersByType};return WX(s.initialState,O=>{for(let V in R)O.addCase(V,R[V]);for(let V of m.sliceMatchers)O.addMatcher(V.matcher,V.reducer);for(let V of A)O.addMatcher(V.matcher,V.reducer);T&&O.addDefaultCase(T)})}const b=P=>P,y=new Map,w=new WeakMap;let j;function S(P,A){return j||(j=x()),j(P,A)}function k(){return j||(j=x()),j.getInitialState()}function _(P,A=!1){function T(O){let V=O[P];return typeof V>"u"&&A&&(V=Ph(w,T,k)),V}function R(O=b){const V=Ph(y,A,()=>new WeakMap);return Ph(V,O,()=>{const K={};for(const[F,L]of Object.entries(s.selectors??{}))K[F]=tZ(L,O,()=>Ph(w,O,k),A);return K})}return{reducerPath:P,getSelectors:R,get selectors(){return R(T)},selectSlice:T}}const C={name:l,reducer:S,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:k,..._(c),injectInto(P,{reducerPath:A,...T}={}){const R=A??c;return P.inject({reducerPath:R,reducer:S},T),{...C,..._(R,!0)}}};return C}}function tZ(e,t,a,r){function s(l,...c){let d=t(l);return typeof d>"u"&&r&&(d=a()),e(d,...c)}return s.unwrapped=e,s}var nr=eZ();function nZ(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function aZ({type:e,reducerName:t,createNotation:a},r,s){let l,c;if("reducer"in r){if(a&&!sZ(r))throw new Error(Za(17));l=r.reducer,c=r.prepare}else l=r;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?kr(e,c):kr(e))}function rZ(e){return e._reducerDefinitionType==="asyncThunk"}function sZ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function iZ({type:e,reducerName:t},a,r,s){if(!s)throw new Error(Za(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=a,x=s(e,l,h);r.exposeAction(t,x),c&&r.addCase(x.fulfilled,c),d&&r.addCase(x.pending,d),f&&r.addCase(x.rejected,f),m&&r.addMatcher(x.settled,m),r.exposeCaseReducer(t,{fulfilled:c||Oh,pending:d||Oh,rejected:f||Oh,settled:m||Oh})}function Oh(){}var lZ="task",wD="listener",jD="completed",S2="cancelled",oZ=`task-${S2}`,cZ=`task-${jD}`,Sw=`${wD}-${S2}`,uZ=`${wD}-${jD}`,nx=class{constructor(e){Lb(this,"name","TaskAbortError");Lb(this,"message");this.code=e,this.message=`${lZ} ${S2} (reason: ${e})`}},_2=(e,t)=>{if(typeof e!="function")throw new TypeError(Za(32))},np=()=>{},ND=(e,t=np)=>(e.catch(t),e),SD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),fo=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},mo=e=>{if(e.aborted){const{reason:t}=e;throw new nx(t)}};function _D(e,t){let a=np;return new Promise((r,s)=>{const l=()=>s(new nx(e.reason));if(e.aborted){l();return}a=SD(e,l),t.finally(()=>a()).then(r,s)}).finally(()=>{a=np})}var dZ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof nx?"cancelled":"rejected",error:a}}finally{t==null||t()}},ap=e=>t=>ND(_D(e,t).then(a=>(mo(e),a))),kD=e=>{const t=ap(e);return a=>t(new Promise(r=>setTimeout(r,a)))},{assign:Lc}=Object,iA={},ax="listenerMiddleware",fZ=(e,t)=>{const a=r=>SD(e,()=>fo(r,e.reason));return(r,s)=>{_2(r);const l=new AbortController;a(l);const c=dZ(async()=>{mo(e),mo(l.signal);const d=await r({pause:ap(l.signal),delay:kD(l.signal),signal:l.signal});return mo(l.signal),d},()=>fo(l,cZ));return s!=null&&s.autoJoin&&t.push(c.catch(np)),{result:ap(e)(c),cancel(){fo(l,oZ)}}}},mZ=(e,t)=>{const a=async(r,s)=>{mo(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:r,effect:(x,b)=>{b.unsubscribe(),f([x,b.getState(),b.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await _D(t,Promise.race(d));return mo(t),f}finally{l()}};return(r,s)=>ND(a(r,s))},CD=e=>{let{type:t,actionCreator:a,matcher:r,predicate:s,effect:l}=e;if(t)s=kr(t).match;else if(a)t=a.type,s=a.match;else if(r)s=r;else if(!s)throw new Error(Za(21));return _2(l),{predicate:s,type:t,effect:l}},AD=Lc(e=>{const{type:t,predicate:a,effect:r}=CD(e);return{id:ZX(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(Za(22))}}},{withTypes:()=>AD}),lA=(e,t)=>{const{type:a,effect:r,predicate:s}=CD(t);return Array.from(e.values()).find(l=>(typeof a=="string"?l.type===a:l.predicate===s)&&l.effect===r)},_w=e=>{e.pending.forEach(t=>{fo(t,Sw)})},hZ=e=>()=>{e.forEach(_w),e.clear()},oA=(e,t,a)=>{try{e(t,a)}catch(r){setTimeout(()=>{throw r},0)}},TD=Lc(kr(`${ax}/add`),{withTypes:()=>TD}),pZ=kr(`${ax}/removeAll`),ED=Lc(kr(`${ax}/remove`),{withTypes:()=>ED}),xZ=(...e)=>{console.error(`${ax}/error`,...e)},Yf=(e={})=>{const t=new Map,{extra:a,onError:r=xZ}=e;_2(r);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),x=>{h.unsubscribe(),x!=null&&x.cancelActive&&_w(h)}),l=h=>{const x=lA(t,h)??AD(h);return s(x)};Lc(l,{withTypes:()=>l});const c=h=>{const x=lA(t,h);return x&&(x.unsubscribe(),h.cancelActive&&_w(x)),!!x};Lc(c,{withTypes:()=>c});const d=async(h,x,b,y)=>{const w=new AbortController,j=mZ(l,w.signal),S=[];try{h.pending.add(w),await Promise.resolve(h.effect(x,Lc({},b,{getOriginalState:y,condition:(k,_)=>j(k,_).then(Boolean),take:j,delay:kD(w.signal),pause:ap(w.signal),extra:a,signal:w.signal,fork:fZ(w.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((k,_,C)=>{k!==w&&(fo(k,Sw),C.delete(k))})},cancel:()=>{fo(w,Sw),h.pending.delete(w)},throwIfCancelled:()=>{mo(w.signal)}})))}catch(k){k instanceof nx||oA(r,k,{raisedBy:"effect"})}finally{await Promise.all(S),fo(w,uZ),h.pending.delete(w)}},f=hZ(t);return{middleware:h=>x=>b=>{if(!uD(b))return x(b);if(TD.match(b))return l(b.payload);if(pZ.match(b)){f();return}if(ED.match(b))return c(b.payload);let y=h.getState();const w=()=>{if(y===iA)throw new Error(Za(23));return y};let j;try{if(j=x(b),t.size>0){const S=h.getState(),k=Array.from(t.values());for(const _ of k){let C=!1;try{C=_.predicate(b,S,y)}catch(P){C=!1,oA(r,P,{raisedBy:"predicate"})}C&&d(_,b,h,w)}}}finally{y=iA}return j},startListening:l,stopListening:c,clearListeners:f}};function Za(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PD=nr({name:"chartLayout",initialState:gZ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:bZ,setLayout:vZ,setChartSize:yZ,setScale:wZ}=PD.actions,jZ=PD.reducer;function cA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function uA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(a),!0).forEach(function(r){NZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function NZ(e,t,a){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function SZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rp=Math.PI/180,kZ=e=>e*180/Math.PI,kn=(e,t,a,r)=>({x:e+Math.cos(-rp*r)*a,y:t+Math.sin(-rp*r)*a}),OD=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},CZ=(e,t)=>{var{x:a,y:r}=e,{x:s,y:l}=t;return Math.sqrt((a-s)**2+(r-l)**2)},AZ=(e,t)=>{var{x:a,y:r}=e,{cx:s,cy:l}=t,c=CZ({x:a,y:r},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(a-s)/c,f=Math.acos(d);return r>l&&(f=2*Math.PI-f),{radius:c,angle:kZ(f),angleInRadian:f}},TZ=e=>{var{startAngle:t,endAngle:a}=e,r=Math.floor(t/360),s=Math.floor(a/360),l=Math.min(r,s);return{startAngle:t-l*360,endAngle:a-l*360}},EZ=(e,t)=>{var{startAngle:a,endAngle:r}=t,s=Math.floor(a/360),l=Math.floor(r/360),c=Math.min(s,l);return e+c*360},PZ=(e,t)=>{var{x:a,y:r}=e,{radius:s,angle:l}=AZ({x:a,y:r},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=TZ(t),h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?uA(uA({},t),{},{radius:s,angle:EZ(h,t)}):null};function MD(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function dA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function yr(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(a),!0).forEach(function(r){OZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function OZ(e,t,a){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function MZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ft(e,t,a){return Xt(e)||Xt(t)?a:ys(t)?fl(e,t,a):typeof t=="function"?t(e):a}var RZ=(e,t,a,r,s)=>{var l,c=-1,d=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?a[f-1].coordinate:a[d-1].coordinate,h=a[f].coordinate,x=f>=d-1?a[0].coordinate:a[f+1].coordinate,b=void 0;if(qn(h-m)!==qn(x-h)){var y=[];if(qn(x-h)===qn(s[1]-s[0])){b=x;var w=h+s[1]-s[0];y[0]=Math.min(w,(w+m)/2),y[1]=Math.max(w,(w+m)/2)}else{b=m;var j=x+s[1]-s[0];y[0]=Math.min(h,(j+h)/2),y[1]=Math.max(h,(j+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:c}=a[f]);break}}else{var k=Math.min(m,x),_=Math.max(m,x);if(e>(k+h)/2&&e<=(_+h)/2){({index:c}=a[f]);break}}}else if(t){for(var C=0;C<d;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<d-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===d-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:c}=t[C]);break}}return c},$Z=(e,t,a)=>{if(t&&a){var{width:r,height:s}=a,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Ke(e[l]))return yr(yr({},e),{},{[l]:e[l]+(r||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Ke(e[c]))return yr(yr({},e),{},{[c]:e[c]+(s||0)})}return e},gl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",DD=(e,t,a,r)=>{if(r)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===a&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(a),c},RD=(e,t,a)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:x,niceTicks:b,axisType:y}=e;if(!c)return null;var w=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=s==="category"&&c.bandwidth?c.bandwidth()/w:0;if(j=y==="angleAxis"&&l&&l.length>=2?qn(l[0]-l[1])*2*j:j,x||b){var S=(x||b||[]).map((k,_)=>{var C=r?r.indexOf(k):k;return{coordinate:c(C)+j,value:k,offset:j,index:_}});return S.filter(k=>!Qa(k.coordinate))}return f&&m?m.map((k,_)=>({coordinate:c(k)+j,value:k,index:_,offset:j})):c.ticks&&h!=null?c.ticks(h).map((k,_)=>({coordinate:c(k)+j,value:k,offset:j,index:_})):c.domain().map((k,_)=>({coordinate:c(k)+j,value:r?r[k]:k,index:_,offset:j}))},fA=1e-4,LZ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,r=e.range(),s=Math.min(r[0],r[1])-fA,l=Math.max(r[0],r[1])+fA,c=e(t[0]),d=e(t[a-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[a-1]])}},IZ=(e,t)=>{if(!t||t.length!==2||!Ke(t[0])||!Ke(t[1]))return e;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Ke(e[0])||e[0]<a)&&(s[0]=a),(!Ke(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<a&&(s[1]=a),s},zZ=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0,c=0;c<t;++c){var d=Qa(e[c][a][1])?e[c][a][0]:e[c][a][1];d>=0?(e[c][a][0]=s,e[c][a][1]=s+d,s=e[c][a][1]):(e[c][a][0]=l,e[c][a][1]=l+d,l=e[c][a][1])}},BZ=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0;l<t;++l){var c=Qa(e[l][a][1])?e[l][a][0]:e[l][a][1];c>=0?(e[l][a][0]=s,e[l][a][1]=s+c,s=e[l][a][1]):(e[l][a][0]=0,e[l][a][1]=0)}},UZ={sign:zZ,expand:yW,none:Xc,silhouette:wW,wiggle:jW,positive:BZ},FZ=(e,t,a)=>{var r=UZ[a],s=vW().keys(t).value((l,c)=>+Ft(l,c,0)).order(xw).offset(r);return s(e)};function VZ(e){return e==null?void 0:String(e)}function mA(e){var{axis:t,ticks:a,bandSize:r,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xt(s[t.dataKey])){var d=TM(a,"value",s[t.dataKey]);if(d)return d.coordinate+r/2}return a[l]?a[l].coordinate+r/2:null}var f=Ft(s,Xt(c)?t.dataKey:c);return Xt(f)?null:t.scale(f)}var hA=e=>{var{axis:t,ticks:a,offset:r,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return a[c]?a[c].coordinate+r:null;var d=Ft(l,t.dataKey,t.scale.domain()[c]);return Xt(d)?null:t.scale(d)-s/2+r},HZ=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var r=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return r<=0&&s>=0?0:s<0?s:r}return a[0]},qZ=e=>{var t=e.flat(2).filter(Ke);return[Math.min(...t),Math.max(...t)]},KZ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],GZ=(e,t,a)=>{if(e!=null)return KZ(Object.keys(e).reduce((r,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=MD(m,t,a),x=qZ(h);return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},pA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kf=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&t&&t.length>=2){for(var s=Zp(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0};function gA(e){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:s,name:l}=e;return yr(yr({},t),{},{dataKey:a,payload:r,value:s,name:l})}function xu(e,t){if(e)return String(e);if(typeof t=="string")return t}function YZ(e,t,a,r,s){if(a==="horizontal"||a==="vertical"){var l=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return l?{x:e,y:t}:null}return r?PZ({x:e,y:t},r):null}var WZ=(e,t,a,r)=>{var s=t.find(m=>m&&m.index===a);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,{radius:c}=r;return yr(yr(yr({},r),kn(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=r;return yr(yr(yr({},r),kn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},XZ=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,xi=e=>e.layout.width,gi=e=>e.layout.height,ZZ=e=>e.layout.scale,$D=e=>e.layout.margin,k2=ye(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),C2=ye(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),LD="data-recharts-item-index",ID="data-recharts-item-data-key",rx=60;function bA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function qi(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(a),!0).forEach(function(r){QZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function QZ(e,t,a){return(t=JZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function JZ(e){var t=eQ(e,"string");return typeof t=="symbol"?t:t+""}function eQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tQ=e=>e.brush.height,Dn=ye([xi,gi,$D,tQ,k2,C2,lD,NX],(e,t,a,r,s,l,c,d)=>{var f=l.reduce((w,j)=>{var{orientation:S}=j;if(!j.mirror&&!j.hide){var k=typeof j.width=="number"?j.width:rx;return qi(qi({},w),{},{[S]:w[S]+k})}return w},{left:a.left||0,right:a.right||0}),m=s.reduce((w,j)=>{var{orientation:S}=j;return!j.mirror&&!j.hide?qi(qi({},w),{},{[S]:fl(w,"".concat(S))+j.height}):w},{top:a.top||0,bottom:a.bottom||0}),h=qi(qi({},m),f),x=h.bottom;h.bottom+=r,h=$Z(h,c,d);var b=e-h.left-h.right,y=t-h.top-h.bottom;return qi(qi({brushBottom:x},h),{},{width:Math.max(b,0),height:Math.max(y,0)})}),nQ=ye(Dn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),zD=ye(xi,gi,(e,t)=>({x:0,y:0,width:e,height:t})),aQ=g.createContext(null),Oa=()=>g.useContext(aQ)!=null,sx=e=>e.brush,ix=ye([sx,Dn,$D],(e,t,a)=>({height:e.height,x:Ke(e.x)?e.x:t.left,y:Ke(e.y)?e.y:t.top+t.height+t.brushBottom-((a==null?void 0:a.bottom)||0),width:Ke(e.width)?e.width:t.width})),A2=()=>{var e,t=Oa(),a=Je(nQ),r=Je(ix),s=(e=Je(sx))===null||e===void 0?void 0:e.padding;return!t||!r||!s?a:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},rQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BD=()=>{var e;return(e=Je(Dn))!==null&&e!==void 0?e:rQ},UD=()=>Je(xi),FD=()=>Je(gi),Nt=e=>e.layout.layoutType,lx=()=>Je(Nt),sQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VD=nr({name:"legend",initialState:sQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var a=ei(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)}}}),{setLegendSize:ehe,setLegendSettings:the,addLegendPayload:HD,removeLegendPayload:qD}=VD.actions,iQ=VD.reducer;function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},kw.apply(null,arguments)}function vA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function xy(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(a),!0).forEach(function(r){lQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function lQ(e,t,a){return(t=oQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oQ(e){var t=cQ(e,"string");return typeof t=="symbol"?t:t+""}function cQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uQ(e){return Array.isArray(e)&&ys(e[0])&&ys(e[1])?e.join(" ~ "):e}var dQ=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:x,accessibilityLayer:b=!1}=e,y=()=>{if(l&&l.length){var A={padding:0,margin:0},T=(d?Zp(l,d):l).map((R,O)=>{if(R.type==="none")return null;var V=R.formatter||c||uQ,{value:K,name:F}=R,L=K,te=F;if(V){var Ne=V(K,F,R,O,l);if(Array.isArray(Ne))[L,te]=Ne;else if(Ne!=null)L=Ne;else return null}var re=xy({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:re},ys(te)?g.createElement("span",{className:"recharts-tooltip-item-name"},te):null,ys(te)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},L),g.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},w=xy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=xy({margin:0},s),S=!Xt(h),k=S?h:"",_=xt("recharts-default-tooltip",f),C=xt("recharts-tooltip-label",m);S&&x&&l!==void 0&&l!==null&&(k=x(h,l));var P=b?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",kw({className:_,style:w},P),g.createElement("p",{className:C,style:j},g.isValidElement(k)?k:"".concat(k)),y())},kd="recharts-tooltip-wrapper",fQ={visibility:"hidden"};function mQ(e){var{coordinate:t,translateX:a,translateY:r}=e;return xt(kd,{["".concat(kd,"-right")]:Ke(a)&&t&&Ke(t.x)&&a>=t.x,["".concat(kd,"-left")]:Ke(a)&&t&&Ke(t.x)&&a<t.x,["".concat(kd,"-bottom")]:Ke(r)&&t&&Ke(t.y)&&r>=t.y,["".concat(kd,"-top")]:Ke(r)&&t&&Ke(t.y)&&r<t.y})}function yA(e){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&Ke(l[r]))return l[r];var h=a[r]-d-(s>0?s:0),x=a[r]+s;if(t[r])return c[r]?h:x;var b=f[r];if(b==null)return 0;if(c[r]){var y=h,w=b;return y<w?Math.max(x,b):Math.max(h,b)}if(m==null)return 0;var j=x+d,S=b+m;return j>S?Math.max(h,b):Math.max(x,b)}function hQ(e){var{translateX:t,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function pQ(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:r,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,x;return c.height>0&&c.width>0&&a?(h=yA({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),x=yA({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=hQ({translateX:h,translateY:x,useTranslate3d:d})):m=fQ,{cssProperties:m,cssClasses:mQ({translateX:h,translateY:x,coordinate:a})}}function wA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Mh(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(a),!0).forEach(function(r){Cw(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Cw(e,t,a){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bQ extends g.PureComponent{constructor(){super(...arguments),Cw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Cw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,r,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:r,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:x,useTranslate3d:b,viewBox:y,wrapperStyle:w,lastBoundingBox:j,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:_,cssProperties:C}=pQ({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:x,tooltipBox:{height:j.height,width:j.width},useTranslate3d:b,viewBox:y}),P=k?{}:Mh(Mh({transition:f&&t?"transform ".concat(r,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),A=Mh(Mh({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:A,ref:S},l)}}var vQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),No={isSsr:vQ()},KD=()=>Je(e=>e.rootProps.accessibilityLayer);function tr(e){return Number.isFinite(e)}function Qc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Aw.apply(null,arguments)}function jA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function NA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(a),!0).forEach(function(r){yQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function yQ(e,t,a){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wQ(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SA={curveBasisClosed:oW,curveBasisOpen:cW,curveBasis:lW,curveBumpX:GY,curveBumpY:YY,curveLinearClosed:uW,curveLinear:Wp,curveMonotoneX:dW,curveMonotoneY:fW,curveNatural:mW,curveStep:hW,curveStepAfter:xW,curveStepBefore:pW},Dh=e=>tr(e.x)&&tr(e.y),Cd=e=>e.x,Ad=e=>e.y,NQ=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(Kf(e));return(a==="curveMonotone"||a==="curveBump")&&t?SA["".concat(a).concat(t==="vertical"?"Y":"X")]:SA[a]||Wp},SQ=e=>{var{type:t="linear",points:a=[],baseLine:r,layout:s,connectNulls:l=!1}=e,c=NQ(t,s),d=l?a.filter(Dh):a,f;if(Array.isArray(r)){var m=l?r.filter(x=>Dh(x)):r,h=d.map((x,b)=>NA(NA({},x),{},{base:m[b]}));return s==="vertical"?f=Ah().y(Ad).x1(Cd).x0(x=>x.base.x):f=Ah().x(Cd).y1(Ad).y0(x=>x.base.y),f.defined(Dh).curve(c),f(h)}return s==="vertical"&&Ke(r)?f=Ah().y(Ad).x1(Cd).x0(r):Ke(r)?f=Ah().x(Cd).y1(Ad).y0(r):f=zM().x(Cd).y(Ad),f.defined(Dh).curve(c),f(d)},T2=e=>{var{className:t,points:a,path:r,pathRef:s}=e;if((!a||!a.length)&&!r)return null;var l=a&&a.length?SQ(e):r;return g.createElement("path",Aw({},pi(e),d2(e),{className:xt("recharts-curve",t),d:l===null?void 0:l,ref:s}))},_Q=["x","y","top","left","width","height","className"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Tw.apply(null,arguments)}function _A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function kQ(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(a),!0).forEach(function(r){CQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_A(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function CQ(e,t,a){return(t=AQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function AQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EQ(e,t){if(e==null)return{};var a,r,s=PQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function PQ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var OQ=(e,t,a,r,s,l)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(a),MQ=e=>{var{x:t=0,y:a=0,top:r=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=EQ(e,_Q),m=kQ({x:t,y:a,top:r,left:s,width:l,height:c},f);return!Ke(t)||!Ke(a)||!Ke(l)||!Ke(c)||!Ke(r)||!Ke(s)?null:g.createElement("path",Tw({},tn(m,!0),{className:xt("recharts-cross",d),d:OQ(t,a,l,c,r,s)}))};function DQ(e,t,a,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-s,width:e==="horizontal"?r:a.width-1,height:e==="horizontal"?a.height-1:r}}function kA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function RQ(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(a),!0).forEach(function(r){$Q(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function $Q(e,t,a){return(t=LQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function LQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e,t){var a=RQ({},e),r=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),a);return l}var gy={},by={},vy={},CA;function zQ(){return CA||(CA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(!a||typeof a!="object")return!1;const r=Object.getPrototypeOf(a);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(a)==="[object Object]":!1}e.isPlainObject=t}(vy)),vy}var AA;function BQ(){return AA||(AA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zQ(),a=tD(),r=b2(),s=v2(),l=x2();function c(m,h,x){return d(m,h,void 0,void 0,void 0,void 0,x)}function d(m,h,x,b,y,w,j){const S=j(m,h,x,b,y,w);if(S!==void 0)return S;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return f(m,h,w,j)}return f(m,h,w,j)}function f(m,h,x,b){if(Object.is(m,h))return!0;let y=r.getTag(m),w=r.getTag(h);if(y===s.argumentsTag&&(y=s.objectTag),w===s.argumentsTag&&(w=s.objectTag),y!==w)return!1;switch(y){case s.stringTag:return m.toString()===h.toString();case s.numberTag:{const k=m.valueOf(),_=h.valueOf();return l.eq(k,_)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(m.valueOf(),h.valueOf());case s.regexpTag:return m.source===h.source&&m.flags===h.flags;case s.functionTag:return m===h}x=x??new Map;const j=x.get(m),S=x.get(h);if(j!=null&&S!=null)return j===h;x.set(m,h),x.set(h,m);try{switch(y){case s.mapTag:{if(m.size!==h.size)return!1;for(const[k,_]of m.entries())if(!h.has(k)||!d(_,h.get(k),k,m,h,x,b))return!1;return!0}case s.setTag:{if(m.size!==h.size)return!1;const k=Array.from(m.values()),_=Array.from(h.values());for(let C=0;C<k.length;C++){const P=k[C],A=_.findIndex(T=>d(P,T,void 0,m,h,x,b));if(A===-1)return!1;_.splice(A,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let k=0;k<m.length;k++)if(!d(m[k],h[k],k,m,h,x,b))return!1;return!0}case s.arrayBufferTag:return m.byteLength!==h.byteLength?!1:f(new Uint8Array(m),new Uint8Array(h),x,b);case s.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:f(new Uint8Array(m),new Uint8Array(h),x,b);case s.errorTag:return m.name===h.name&&m.message===h.message;case s.objectTag:{if(!(f(m.constructor,h.constructor,x,b)||t.isPlainObject(m)&&t.isPlainObject(h)))return!1;const _=[...Object.keys(m),...a.getSymbols(m)],C=[...Object.keys(h),...a.getSymbols(h)];if(_.length!==C.length)return!1;for(let P=0;P<_.length;P++){const A=_[P],T=m[A];if(!Object.hasOwn(h,A))return!1;const R=h[A];if(!d(T,R,A,m,h,x,b))return!1}return!0}default:return!1}}finally{x.delete(m),x.delete(h)}}e.isEqualWith=c}(by)),by}var yy={},TA;function UQ(){return TA||(TA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(yy)),yy}var EA;function FQ(){return EA||(EA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BQ(),a=UQ();function r(s,l){return t.isEqualWith(s,l,a.noop)}e.isEqual=r}(gy)),gy}var wy,PA;function VQ(){return PA||(PA=1,wy=FQ().isEqual),wy}var HQ=VQ();const qQ=Xr(HQ);var sp=1e-4,GD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],YD=(e,t)=>e.map((a,r)=>a*t**r).reduce((a,r)=>a+r),OA=(e,t)=>a=>{var r=GD(e,t);return YD(r,a)},KQ=(e,t)=>a=>{var r=GD(e,t),s=[...r.map((l,c)=>l*c).slice(1),0];return YD(s,a)},MA=function(){for(var t,a,r,s,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[t,r,a,s]=[0,0,1,1];break;case"ease":[t,r,a,s]=[.25,.1,.25,1];break;case"ease-in":[t,r,a,s]=[.42,0,1,1];break;case"ease-out":[t,r,a,s]=[.42,0,.58,1];break;case"ease-in-out":[t,r,a,s]=[0,0,.58,1];break;default:{var f=c[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,a,s]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else c.length===4&&([t,r,a,s]=c);var m=OA(t,a),h=OA(r,s),x=KQ(t,a),b=w=>w>1?1:w<0?0:w,y=w=>{for(var j=w>1?1:w,S=j,k=0;k<8;++k){var _=m(S)-j,C=x(S);if(Math.abs(_-j)<sp||C<sp)return h(S);S=b(S-_/C)}return h(S)};return y.isStepper=!1,y},GQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*a,h=f*r,x=f+(m-h)*s/1e3,b=f*s/1e3+c;return Math.abs(b-d)<sp&&Math.abs(x)<sp?[d,0]:[b,x]};return l.isStepper=!0,l.dt=s,l},WD=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MA(e);case"spring":return GQ();default:if(e.split("(")[0]==="cubic-bezier")return MA(e)}return typeof e=="function"?e:null};function DA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function RA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(a),!0).forEach(function(r){YQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function YQ(e,t,a){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function WQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),QQ=(e,t,a)=>e.map(r=>"".concat(ZQ(r)," ").concat(t,"ms ").concat(a)).join(","),JQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,r)=>a.filter(s=>r.includes(s))),Cf=(e,t)=>Object.keys(t).reduce((a,r)=>RA(RA({},a),{},{[r]:e(r,t[r])}),{});function $A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ea(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(a),!0).forEach(function(r){eJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$A(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function eJ(e,t,a){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tJ(e){var t=nJ(e,"string");return typeof t=="symbol"?t:t+""}function nJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ip=(e,t,a)=>e+(t-e)*a,Ew=e=>{var{from:t,to:a}=e;return t!==a},XD=(e,t,a)=>{var r=Cf((s,l)=>{if(Ew(l)){var[c,d]=e(l.from,l.to,l.velocity);return ea(ea({},l),{},{from:c,velocity:d})}return l},t);return a<1?Cf((s,l)=>Ew(l)?ea(ea({},l),{},{velocity:ip(l.velocity,r[s].velocity,a),from:ip(l.from,r[s].from,a)}):l,t):XD(e,r,a-1)};function aJ(e,t,a,r,s,l){var c,d=r.reduce((b,y)=>ea(ea({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),f=()=>Cf((b,y)=>y.from,d),m=()=>!Object.values(d).filter(Ew).length,h=null,x=b=>{c||(c=b);var y=b-c,w=y/a.dt;d=XD(a,d,w),s(ea(ea(ea({},e),t),f())),c=b,m()||(h=l.setTimeout(x))};return()=>(h=l.setTimeout(x),()=>{h()})}function rJ(e,t,a,r,s,l,c){var d=null,f=s.reduce((x,b)=>ea(ea({},x),{},{[b]:[e[b],t[b]]}),{}),m,h=x=>{m||(m=x);var b=(x-m)/r,y=Cf((j,S)=>ip(...S,a(b)),f);if(l(ea(ea(ea({},e),t),y)),b<1)d=c.setTimeout(h);else{var w=Cf((j,S)=>ip(...S,a(1)),f);l(ea(ea(ea({},e),t),w))}};return()=>(d=c.setTimeout(h),()=>{d()})}const ZD=(e,t,a,r,s,l)=>{var c=JQ(e,t);return a.isStepper===!0?aJ(e,t,a,c,s,l):rJ(e,t,a,r,c,s,l)};function sJ(e){var t,a=()=>null,r=!1,s=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,a(t)),typeof c=="object"&&(t=c,a(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,s&&(s(),s=null),l(c)},subscribe:c=>(a=c,()=>{a=()=>null}),getTimeoutController:()=>e}}class iJ{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,l=c=>{c-r>=a?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{cancelAnimationFrame(s)}}}function lJ(){return sJ(new iJ)}var oJ=g.createContext(lJ);function QD(e,t){var a=g.useContext(oJ);return g.useMemo(()=>t??a(e),[e,t,a])}var cJ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Pw.apply(null,arguments)}function uJ(e,t){if(e==null)return{};var a,r,s=dJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function dJ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function LA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ki(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(a),!0).forEach(function(r){so(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function so(e,t,a){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class E2 extends g.PureComponent{constructor(t,a){super(t,a),so(this,"mounted",!1),so(this,"manager",void 0),so(this,"stopJSAnimation",null),so(this,"unSubscribe",null);var{isActive:r,attributeName:s,from:l,to:c,children:d,duration:f,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:c});return}if(l){if(typeof d=="function"){this.state={style:l};return}this.state={style:s?{[s]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:a}=this.props;this.mounted=!0,!(!t||!a)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:a,canBegin:r,attributeName:s,shouldReAnimate:l,to:c,from:d}=this.props,{style:f}=this.state;if(r){if(!a){var m={style:s?{[s]:c}:c};this.state&&f&&(s&&f[s]!==c||!s&&f!==c)&&this.setState(m);return}if(!(qQ(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=h||l?d:t.to;if(this.state&&f){var b={style:s?{[s]:x}:x};(s&&f[s]!==x||!s&&f!==x)&&this.setState(b)}this.runAnimation(Ki(Ki({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:a,to:r,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f}=t,m=ZD(a,r,WD(l),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([f,c,h,s,d])}runAnimation(t){var{begin:a,duration:r,attributeName:s,to:l,easing:c,onAnimationStart:d,onAnimationEnd:f,children:m}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:l}:l,x=QQ(Object.keys(h),r,c);this.manager.start([d,a,Ki(Ki({},h),{},{transition:x}),r,f])}render(){var t=this.props,{children:a,begin:r,duration:s,attributeName:l,easing:c,isActive:d,from:f,to:m,canBegin:h,onAnimationEnd:x,shouldReAnimate:b,onAnimationReStart:y,animationManager:w}=t,j=uJ(t,cJ),S=g.Children.count(a),k=this.state.style;if(typeof a=="function")return a(k);if(!d||S===0||s<=0)return a;var _=C=>{var{style:P={},className:A}=C.props,T=g.cloneElement(C,Ki(Ki({},j),{},{style:Ki(Ki({},P),k),className:A}));return T};return S===1?_(g.Children.only(a)):g.createElement("div",null,g.Children.map(a,C=>_(C)))}}so(E2,"displayName","Animate");so(E2,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function lp(e){var t,a=QD((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return g.createElement(E2,Pw({},e,{animationManager:a}))}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},op.apply(null,arguments)}var IA=(e,t,a,r,s)=>{var l=Math.min(Math.abs(a)/2,Math.abs(r)/2),c=r>=0?1:-1,d=a>=0?1:-1,f=r>=0&&a>=0||r<0&&a<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],x=0,b=4;x<b;x++)h[x]=s[x]>l?l:s[x];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+a-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+a,",").concat(t+c*h[1])),m+="L ".concat(e+a,",").concat(t+r-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+a-d*h[2],",").concat(t+r)),m+="L ".concat(e+d*h[3],",").concat(t+r),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var y=Math.min(l,s);m="M ".concat(e,",").concat(t+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+d*y,",").concat(t,`
            L `).concat(e+a-d*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+a,",").concat(t+c*y,`
            L `).concat(e+a,",").concat(t+r-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+a-d*y,",").concat(t+r,`
            L `).concat(e+d*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e,",").concat(t+r-c*y," Z")}else m="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return m},hJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JD=e=>{var t=ar(e,hJ),a=g.useRef(null),[r,s]=g.useState(-1);g.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var k=a.current.getTotalLength();k&&s(k)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:x,animationDuration:b,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:j}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var S=xt("recharts-rectangle",h);return j?g.createElement(lp,{canBegin:r>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:b,animationEasing:x,isActive:j},k=>{var{width:_,height:C,x:P,y:A}=k;return g.createElement(lp,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:w,easing:x},g.createElement("path",op({},tn(t,!0),{className:S,d:IA(P,A,_,C,m),ref:a})))}):g.createElement("path",op({},tn(t,!0),{className:S,d:IA(l,c,d,f,m)}))};function e8(e){var{cx:t,cy:a,radius:r,startAngle:s,endAngle:l}=e,c=kn(t,a,r,s),d=kn(t,a,r,l);return{points:[c,d],cx:t,cy:a,radius:r,startAngle:s,endAngle:l}}function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ow.apply(null,arguments)}var pJ=(e,t)=>{var a=qn(t-e),r=Math.min(Math.abs(t-e),359.999);return a*r},Rh=e=>{var{cx:t,cy:a,radius:r,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+r,h=Math.asin(d/m)/rp,x=f?s:s+l*h,b=kn(t,a,m,x),y=kn(t,a,r,x),w=f?s-l*h:s,j=kn(t,a,m*Math.cos(h*rp),w);return{center:b,circleTangency:y,lineTangency:j,theta:h}},t8=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c}=e,d=pJ(l,c),f=l+d,m=kn(t,a,s,l),h=kn(t,a,s,f),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=kn(t,a,r,l),y=kn(t,a,r,f);x+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else x+="L ".concat(t,",").concat(a," Z");return x},xJ=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=qn(m-f),{circleTangency:x,lineTangency:b,theta:y}=Rh({cx:t,cy:a,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:w,lineTangency:j,theta:S}=Rh({cx:t,cy:a,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),k=d?Math.abs(f-m):Math.abs(f-m)-y-S;if(k<0)return c?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):t8({cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:f,endAngle:m});var _="M ".concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:P,theta:A}=Rh({cx:t,cy:a,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:T,lineTangency:R,theta:O}=Rh({cx:t,cy:a,radius:r,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),V=d?Math.abs(f-m):Math.abs(f-m)-A-O;if(V<0&&l===0)return"".concat(_,"L").concat(t,",").concat(a,"Z");_+="L".concat(R.x,",").concat(R.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(t,",").concat(a,"Z");return _},gJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},P2=e=>{var t=ar(e,gJ),{cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:x}=t;if(l<s||m===h)return null;var b=xt("recharts-sector",x),y=l-s,w=ga(c,y,0,!0),j;return w>0&&Math.abs(m-h)<360?j=xJ({cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:Math.min(w,y/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):j=t8({cx:a,cy:r,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),g.createElement("path",Ow({},tn(t,!0),{className:b,d:j}))};function bJ(e,t,a){var r,s,l,c;if(e==="horizontal")r=t.x,l=r,s=a.top,c=a.top+a.height;else if(e==="vertical")s=t.y,c=s,r=a.left,l=a.left+a.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:h,angle:x}=t,b=kn(d,f,m,x),y=kn(d,f,h,x);r=b.x,s=b.y,l=y.x,c=y.y}else return e8(t);return[{x:r,y:s},{x:l,y:c}]}var jy={},Ny={},Sy={},zA;function vJ(){return zA||(zA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sD();function a(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=a}(Sy)),Sy}var BA;function yJ(){return BA||(BA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vJ();function a(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=a}(Ny)),Ny}var UA;function wJ(){return UA||(UA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iD(),a=yJ();function r(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=a.toFinite(s),l===void 0?(l=s,s=0):l=a.toFinite(l),c=c===void 0?s<l?1:-1:a.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=r}(jy)),jy}var _y,FA;function jJ(){return FA||(FA=1,_y=wJ().range),_y}var NJ=jJ();const n8=Xr(NJ);function sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O2(e){let t,a,r;e.length!==2?(t=sl,a=(d,f)=>sl(e(d),f),r=(d,f)=>e(d)-f):(t=e===sl||e===SJ?e:_J,a=e,r=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;a(d[x],f)<0?m=x+1:h=x}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;a(d[x],f)<=0?m=x+1:h=x}while(m<h)}return m}function c(d,f,m=0,h=d.length){const x=s(d,f,m,h-1);return x>m&&r(d[x-1],f)>-r(d[x],f)?x-1:x}return{left:s,center:c,right:l}}function _J(){return 0}function a8(e){return e===null?NaN:+e}function*kJ(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const CJ=O2(sl),Wf=CJ.right;O2(a8).center;class VA extends Map{constructor(t,a=EJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(HA(this,t))}has(t){return super.has(HA(this,t))}set(t,a){return super.set(AJ(this,t),a)}delete(t){return super.delete(TJ(this,t))}}function HA({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function AJ({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function TJ({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function EJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function PJ(e=sl){if(e===sl)return r8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||r===0?r:(e(a,a)===0)-(e(t,t)===0)}}function r8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OJ=Math.sqrt(50),MJ=Math.sqrt(10),DJ=Math.sqrt(2);function cp(e,t,a){const r=(t-e)/Math.max(0,a),s=Math.floor(Math.log10(r)),l=r/Math.pow(10,s),c=l>=OJ?10:l>=MJ?5:l>=DJ?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=a&&a<2?cp(e,t,a*2):[d,f,m]}function Mw(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const r=t<e,[s,l,c]=r?cp(t,e,a):cp(e,t,a);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(r)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function Dw(e,t,a){return t=+t,e=+e,a=+a,cp(e,t,a)[2]}function Rw(e,t,a){t=+t,e=+e,a=+a;const r=t<e,s=r?Dw(t,e,a):Dw(e,t,a);return(r?-1:1)*(s<0?1/-s:s)}function qA(e,t){let a;for(const r of e)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function KA(e,t){let a;for(const r of e)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function s8(e,t,a=0,r=1/0,s){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(s=s===void 0?r8:PJ(s);r>a;){if(r-a>600){const f=r-a+1,m=t-a+1,h=Math.log(f),x=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*x*(f-x)/f)*(m-f/2<0?-1:1),y=Math.max(a,Math.floor(t-m*x/f+b)),w=Math.min(r,Math.floor(t+(f-m)*x/f+b));s8(e,t,y,w,s)}const l=e[t];let c=a,d=r;for(Td(e,a,t),s(e[r],l)>0&&Td(e,a,r);c<d;){for(Td(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[a],l)===0?Td(e,a,d):(++d,Td(e,d,r)),d<=t&&(a=d+1),t<=d&&(r=d-1)}return e}function Td(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function RJ(e,t,a){if(e=Float64Array.from(kJ(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return KA(e);if(t>=1)return qA(e);var r,s=(r-1)*t,l=Math.floor(s),c=qA(s8(e,l).subarray(0,l+1)),d=KA(e.subarray(l+1));return c+(d-c)*(s-l)}}function $J(e,t,a=a8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,s=(r-1)*t,l=Math.floor(s),c=+a(e[l],l,e),d=+a(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function LJ(e,t,a){e=+e,t=+t,a=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+a;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/a))|0,l=new Array(s);++r<s;)l[r]=e+r*a;return l}function Tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $w=Symbol("implicit");function M2(){var e=new VA,t=[],a=[],r=$w;function s(l){let c=e.get(l);if(c===void 0){if(r!==$w)return r;e.set(l,c=t.push(l)-1)}return a[c%a.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new VA;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(a=Array.from(l),s):a.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return M2(t,a).unknown(r)},Tr.apply(s,arguments),s}function D2(){var e=M2().unknown(void 0),t=e.domain,a=e.range,r=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function x(){var b=t().length,y=s<r,w=y?s:r,j=y?r:s;l=(j-w)/Math.max(1,b-f+m*2),d&&(l=Math.floor(l)),w+=(j-w-l*(b-f))*h,c=l*(1-f),d&&(w=Math.round(w),c=Math.round(c));var S=LJ(b).map(function(k){return w+l*k});return a(y?S.reverse():S)}return e.domain=function(b){return arguments.length?(t(b),x()):t()},e.range=function(b){return arguments.length?([r,s]=b,r=+r,s=+s,x()):[r,s]},e.rangeRound=function(b){return[r,s]=b,r=+r,s=+s,d=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(b){return arguments.length?(d=!!b,x()):d},e.padding=function(b){return arguments.length?(f=Math.min(1,m=+b),x()):f},e.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),x()):f},e.paddingOuter=function(b){return arguments.length?(m=+b,x()):m},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),x()):h},e.copy=function(){return D2(t(),[r,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},Tr.apply(x(),arguments)}function i8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i8(t())},e}function IJ(){return i8(D2.apply(null,arguments).paddingInner(1))}function R2(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function l8(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function Xf(){}var Af=.7,up=1/Af,Ic="\\s*([+-]?\\d+)\\s*",Tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zJ=/^#([0-9a-f]{3,8})$/,BJ=new RegExp(`^rgb\\(${Ic},${Ic},${Ic}\\)$`),UJ=new RegExp(`^rgb\\(${vs},${vs},${vs}\\)$`),FJ=new RegExp(`^rgba\\(${Ic},${Ic},${Ic},${Tf}\\)$`),VJ=new RegExp(`^rgba\\(${vs},${vs},${vs},${Tf}\\)$`),HJ=new RegExp(`^hsl\\(${Tf},${vs},${vs}\\)$`),qJ=new RegExp(`^hsla\\(${Tf},${vs},${vs},${Tf}\\)$`),GA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R2(Xf,Ef,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YA,formatHex:YA,formatHex8:KJ,formatHsl:GJ,formatRgb:WA,toString:WA});function YA(){return this.rgb().formatHex()}function KJ(){return this.rgb().formatHex8()}function GJ(){return o8(this).formatHsl()}function WA(){return this.rgb().formatRgb()}function Ef(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=zJ.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?XA(t):a===3?new Ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?$h(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?$h(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BJ.exec(e))?new Ta(t[1],t[2],t[3],1):(t=UJ.exec(e))?new Ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FJ.exec(e))?$h(t[1],t[2],t[3],t[4]):(t=VJ.exec(e))?$h(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=HJ.exec(e))?JA(t[1],t[2]/100,t[3]/100,1):(t=qJ.exec(e))?JA(t[1],t[2]/100,t[3]/100,t[4]):GA.hasOwnProperty(e)?XA(GA[e]):e==="transparent"?new Ta(NaN,NaN,NaN,0):null}function XA(e){return new Ta(e>>16&255,e>>8&255,e&255,1)}function $h(e,t,a,r){return r<=0&&(e=t=a=NaN),new Ta(e,t,a,r)}function YJ(e){return e instanceof Xf||(e=Ef(e)),e?(e=e.rgb(),new Ta(e.r,e.g,e.b,e.opacity)):new Ta}function Lw(e,t,a,r){return arguments.length===1?YJ(e):new Ta(e,t,a,r??1)}function Ta(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}R2(Ta,Lw,l8(Xf,{brighter(e){return e=e==null?up:Math.pow(up,e),new Ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Af:Math.pow(Af,e),new Ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ta(ho(this.r),ho(this.g),ho(this.b),dp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZA,formatHex:ZA,formatHex8:WJ,formatRgb:QA,toString:QA}));function ZA(){return`#${io(this.r)}${io(this.g)}${io(this.b)}`}function WJ(){return`#${io(this.r)}${io(this.g)}${io(this.b)}${io((isNaN(this.opacity)?1:this.opacity)*255)}`}function QA(){const e=dp(this.opacity);return`${e===1?"rgb(":"rgba("}${ho(this.r)}, ${ho(this.g)}, ${ho(this.b)}${e===1?")":`, ${e})`}`}function dp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ho(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function io(e){return e=ho(e),(e<16?"0":"")+e.toString(16)}function JA(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new qr(e,t,a,r)}function o8(e){if(e instanceof qr)return new qr(e.h,e.s,e.l,e.opacity);if(e instanceof Xf||(e=Ef(e)),!e)return new qr;if(e instanceof qr)return e;e=e.rgb();var t=e.r/255,a=e.g/255,r=e.b/255,s=Math.min(t,a,r),l=Math.max(t,a,r),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(a-r)/d+(a<r)*6:a===l?c=(r-t)/d+2:c=(t-a)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new qr(c,d,f,e.opacity)}function XJ(e,t,a,r){return arguments.length===1?o8(e):new qr(e,t,a,r??1)}function qr(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}R2(qr,XJ,l8(Xf,{brighter(e){return e=e==null?up:Math.pow(up,e),new qr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Af:Math.pow(Af,e),new qr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,s=2*a-r;return new Ta(ky(e>=240?e-240:e+120,s,r),ky(e,s,r),ky(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new qr(e6(this.h),Lh(this.s),Lh(this.l),dp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dp(this.opacity);return`${e===1?"hsl(":"hsla("}${e6(this.h)}, ${Lh(this.s)*100}%, ${Lh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function e6(e){return e=(e||0)%360,e<0?e+360:e}function Lh(e){return Math.max(0,Math.min(1,e||0))}function ky(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const $2=e=>()=>e;function ZJ(e,t){return function(a){return e+a*t}}function QJ(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}function JJ(e){return(e=+e)==1?c8:function(t,a){return a-t?QJ(t,a,e):$2(isNaN(t)?a:t)}}function c8(e,t){var a=t-e;return a?ZJ(e,a):$2(isNaN(e)?t:e)}const t6=function e(t){var a=JJ(t);function r(s,l){var c=a((s=Lw(s)).r,(l=Lw(l)).r),d=a(s.g,l.g),f=a(s.b,l.b),m=c8(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return r.gamma=e,r}(1);function eee(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(l){for(s=0;s<a;++s)r[s]=e[s]*(1-l)+t[s]*l;return r}}function tee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nee(e,t){var a=t?t.length:0,r=e?Math.min(a,e.length):0,s=new Array(r),l=new Array(a),c;for(c=0;c<r;++c)s[c]=gu(e[c],t[c]);for(;c<a;++c)l[c]=t[c];return function(d){for(c=0;c<r;++c)l[c]=s[c](d);return l}}function aee(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function fp(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function ree(e,t){var a={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?a[s]=gu(e[s],t[s]):r[s]=t[s];return function(l){for(s in a)r[s]=a[s](l);return r}}var Iw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cy=new RegExp(Iw.source,"g");function see(e){return function(){return e}}function iee(e){return function(t){return e(t)+""}}function lee(e,t){var a=Iw.lastIndex=Cy.lastIndex=0,r,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(r=Iw.exec(e))&&(s=Cy.exec(t));)(l=s.index)>a&&(l=t.slice(a,l),d[c]?d[c]+=l:d[++c]=l),(r=r[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:fp(r,s)})),a=Cy.lastIndex;return a<t.length&&(l=t.slice(a),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?iee(f[0].x):see(t):(t=f.length,function(m){for(var h=0,x;h<t;++h)d[(x=f[h]).i]=x.x(m);return d.join("")})}function gu(e,t){var a=typeof t,r;return t==null||a==="boolean"?$2(t):(a==="number"?fp:a==="string"?(r=Ef(t))?(t=r,t6):lee:t instanceof Ef?t6:t instanceof Date?aee:tee(t)?eee:Array.isArray(t)?nee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ree:fp)(e,t)}function L2(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function oee(e,t){t===void 0&&(t=e,e=gu);for(var a=0,r=t.length-1,s=t[0],l=new Array(r<0?0:r);a<r;)l[a]=e(s,s=t[++a]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[d](c-d)}}function cee(e){return function(){return e}}function mp(e){return+e}var n6=[0,1];function xa(e){return e}function zw(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:cee(isNaN(t)?NaN:.5)}function uee(e,t){var a;return e>t&&(a=e,e=t,t=a),function(r){return Math.max(e,Math.min(t,r))}}function dee(e,t,a){var r=e[0],s=e[1],l=t[0],c=t[1];return s<r?(r=zw(s,r),l=a(c,l)):(r=zw(r,s),l=a(l,c)),function(d){return l(r(d))}}function fee(e,t,a){var r=Math.min(e.length,t.length)-1,s=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)s[c]=zw(e[c],e[c+1]),l[c]=a(t[c],t[c+1]);return function(d){var f=Wf(e,d,1,r)-1;return l[f](s[f](d))}}function Zf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ox(){var e=n6,t=n6,a=gu,r,s,l,c=xa,d,f,m;function h(){var b=Math.min(e.length,t.length);return c!==xa&&(c=uee(e[0],e[b-1])),d=b>2?fee:dee,f=m=null,x}function x(b){return b==null||isNaN(b=+b)?l:(f||(f=d(e.map(r),t,a)))(r(c(b)))}return x.invert=function(b){return c(s((m||(m=d(t,e.map(r),fp)))(b)))},x.domain=function(b){return arguments.length?(e=Array.from(b,mp),h()):e.slice()},x.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},x.rangeRound=function(b){return t=Array.from(b),a=L2,h()},x.clamp=function(b){return arguments.length?(c=b?!0:xa,h()):c!==xa},x.interpolate=function(b){return arguments.length?(a=b,h()):a},x.unknown=function(b){return arguments.length?(l=b,x):l},function(b,y){return r=b,s=y,h()}}function I2(){return ox()(xa,xa)}function mee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hp(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function Jc(e){return e=hp(Math.abs(e)),e?e[1]:NaN}function hee(e,t){return function(a,r){for(var s=a.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),l.push(a.substring(s-=d,s+d)),!((f+=d+1)>r));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function pee(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var xee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pf(e){if(!(t=xee.exec(e)))throw new Error("invalid format: "+e);var t;return new z2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pf.prototype=z2.prototype;function z2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}z2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gee(e){e:for(var t=e.length,a=1,r=-1,s;a<t;++a)switch(e[a]){case".":r=s=a;break;case"0":r===0&&(r=a),s=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var u8;function bee(e,t){var a=hp(e,t);if(!a)return e+"";var r=a[0],s=a[1],l=s-(u8=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+hp(e,Math.max(0,t+l-1))[0]}function a6(e,t){var a=hp(e,t);if(!a)return e+"";var r=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const r6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a6(e*100,t),r:a6,s:bee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function s6(e){return e}var i6=Array.prototype.map,l6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vee(e){var t=e.grouping===void 0||e.thousands===void 0?s6:hee(i6.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?s6:pee(i6.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x){x=Pf(x);var b=x.fill,y=x.align,w=x.sign,j=x.symbol,S=x.zero,k=x.width,_=x.comma,C=x.precision,P=x.trim,A=x.type;A==="n"?(_=!0,A="g"):r6[A]||(C===void 0&&(C=12),P=!0,A="g"),(S||b==="0"&&y==="=")&&(S=!0,b="0",y="=");var T=j==="$"?a:j==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",R=j==="$"?r:/[%p]/.test(A)?c:"",O=r6[A],V=/[defgprs%]/.test(A);C=C===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function K(F){var L=T,te=R,Ne,re,D;if(A==="c")te=O(F)+te,F="";else{F=+F;var Y=F<0||1/F<0;if(F=isNaN(F)?f:O(Math.abs(F),C),P&&(F=gee(F)),Y&&+F==0&&w!=="+"&&(Y=!1),L=(Y?w==="("?w:d:w==="-"||w==="("?"":w)+L,te=(A==="s"?l6[8+u8/3]:"")+te+(Y&&w==="("?")":""),V){for(Ne=-1,re=F.length;++Ne<re;)if(D=F.charCodeAt(Ne),48>D||D>57){te=(D===46?s+F.slice(Ne+1):F.slice(Ne))+te,F=F.slice(0,Ne);break}}}_&&!S&&(F=t(F,1/0));var H=L.length+F.length+te.length,B=H<k?new Array(k-H+1).join(b):"";switch(_&&S&&(F=t(B+F,B.length?k-te.length:1/0),B=""),y){case"<":F=L+F+te+B;break;case"=":F=L+B+F+te;break;case"^":F=B.slice(0,H=B.length>>1)+L+F+te+B.slice(H);break;default:F=B+L+F+te;break}return l(F)}return K.toString=function(){return x+""},K}function h(x,b){var y=m((x=Pf(x),x.type="f",x)),w=Math.max(-8,Math.min(8,Math.floor(Jc(b)/3)))*3,j=Math.pow(10,-w),S=l6[8+w/3];return function(k){return y(j*k)+S}}return{format:m,formatPrefix:h}}var Ih,B2,d8;yee({thousands:",",grouping:[3],currency:["$",""]});function yee(e){return Ih=vee(e),B2=Ih.format,d8=Ih.formatPrefix,Ih}function wee(e){return Math.max(0,-Jc(Math.abs(e)))}function jee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jc(t)/3)))*3-Jc(Math.abs(e)))}function Nee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jc(t)-Jc(e))+1}function f8(e,t,a,r){var s=Rw(e,t,a),l;switch(r=Pf(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=jee(s,c))&&(r.precision=l),d8(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=Nee(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=wee(s))&&(r.precision=l-(r.type==="%")*2);break}}return B2(r)}function bl(e){var t=e.domain;return e.ticks=function(a){var r=t();return Mw(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var s=t();return f8(s[0],s[s.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=t(),s=0,l=r.length-1,c=r[s],d=r[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=Dw(c,d,a),m===f)return r[s]=c,r[l]=d,t(r);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function m8(){var e=I2();return e.copy=function(){return Zf(e,m8())},Tr.apply(e,arguments),bl(e)}function h8(e){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(e=Array.from(r,mp),a):e.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return h8(e).unknown(t)},e=arguments.length?Array.from(e,mp):[0,1],bl(a)}function p8(e,t){e=e.slice();var a=0,r=e.length-1,s=e[a],l=e[r],c;return l<s&&(c=a,a=r,r=c,c=s,s=l,l=c),e[a]=t.floor(s),e[r]=t.ceil(l),e}function o6(e){return Math.log(e)}function c6(e){return Math.exp(e)}function See(e){return-Math.log(-e)}function _ee(e){return-Math.exp(-e)}function kee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Cee(e){return e===10?kee:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Aee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function u6(e){return(t,a)=>-e(-t,a)}function U2(e){const t=e(o6,c6),a=t.domain;let r=10,s,l;function c(){return s=Aee(r),l=Cee(r),a()[0]<0?(s=u6(s),l=u6(l),e(See,_ee)):e(o6,c6),t}return t.base=function(d){return arguments.length?(r=+d,c()):r},t.domain=function(d){return arguments.length?(a(d),c()):a()},t.ticks=d=>{const f=a();let m=f[0],h=f[f.length-1];const x=h<m;x&&([m,h]=[h,m]);let b=s(m),y=s(h),w,j;const S=d==null?10:+d;let k=[];if(!(r%1)&&y-b<S){if(b=Math.floor(b),y=Math.ceil(y),m>0){for(;b<=y;++b)for(w=1;w<r;++w)if(j=b<0?w/l(-b):w*l(b),!(j<m)){if(j>h)break;k.push(j)}}else for(;b<=y;++b)for(w=r-1;w>=1;--w)if(j=b>0?w/l(-b):w*l(b),!(j<m)){if(j>h)break;k.push(j)}k.length*2<S&&(k=Mw(m,h,S))}else k=Mw(b,y,Math.min(y-b,S)).map(l);return x?k.reverse():k},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Pf(f)).precision==null&&(f.trim=!0),f=B2(f)),d===1/0)return f;const m=Math.max(1,r*d/t.ticks().length);return h=>{let x=h/l(Math.round(s(h)));return x*r<r-.5&&(x*=r),x<=m?f(h):""}},t.nice=()=>a(p8(a(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function x8(){const e=U2(ox()).domain([1,10]);return e.copy=()=>Zf(e,x8()).base(e.base()),Tr.apply(e,arguments),e}function d6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function f6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function F2(e){var t=1,a=e(d6(t),f6(t));return a.constant=function(r){return arguments.length?e(d6(t=+r),f6(t)):t},bl(a)}function g8(){var e=F2(ox());return e.copy=function(){return Zf(e,g8()).constant(e.constant())},Tr.apply(e,arguments)}function m6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tee(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Eee(e){return e<0?-e*e:e*e}function V2(e){var t=e(xa,xa),a=1;function r(){return a===1?e(xa,xa):a===.5?e(Tee,Eee):e(m6(a),m6(1/a))}return t.exponent=function(s){return arguments.length?(a=+s,r()):a},bl(t)}function H2(){var e=V2(ox());return e.copy=function(){return Zf(e,H2()).exponent(e.exponent())},Tr.apply(e,arguments),e}function Pee(){return H2.apply(null,arguments).exponent(.5)}function h6(e){return Math.sign(e)*e*e}function Oee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function b8(){var e=I2(),t=[0,1],a=!1,r;function s(l){var c=Oee(e(l));return isNaN(c)?r:a?Math.round(c):c}return s.invert=function(l){return e.invert(h6(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,mp)).map(h6)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(a=!!l,s):a},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return b8(e.domain(),t).round(a).clamp(e.clamp()).unknown(r)},Tr.apply(s,arguments),bl(s)}function v8(){var e=[],t=[],a=[],r;function s(){var c=0,d=Math.max(1,t.length);for(a=new Array(d-1);++c<d;)a[c-1]=$J(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?r:t[Wf(a,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?a[d-1]:e[0],d<a.length?a[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(sl),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return a.slice()},l.copy=function(){return v8().domain(e).range(t).unknown(r)},Tr.apply(l,arguments)}function y8(){var e=0,t=1,a=1,r=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[Wf(r,f,0,a)]:l}function d(){var f=-1;for(r=new Array(a);++f<a;)r[f]=((f+1)*t-(f-a)*e)/(a+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(a=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=a?[r[a-1],t]:[r[m-1],r[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return y8().domain([e,t]).range(s).unknown(l)},Tr.apply(bl(c),arguments)}function w8(){var e=[.5],t=[0,1],a,r=1;function s(l){return l!=null&&l<=l?t[Wf(e,l,0,r)]:a}return s.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return w8().domain(e).range(t).unknown(a)},Tr.apply(s,arguments)}const Ay=new Date,Ty=new Date;function Rn(e,t,a,r){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>Rn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),a&&(s.count=(l,c)=>(Ay.setTime(+l),Ty.setTime(+c),e(Ay),e(Ty),Math.floor(a(Ay,Ty))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(r?c=>r(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const pp=Rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):pp);pp.range;const Xs=1e3,jr=Xs*60,Zs=jr*60,di=Zs*24,q2=di*7,p6=di*30,Ey=di*365,lo=Rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xs)},(e,t)=>(t-e)/Xs,e=>e.getUTCSeconds());lo.range;const K2=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xs)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getMinutes());K2.range;const G2=Rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getUTCMinutes());G2.range;const Y2=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xs-e.getMinutes()*jr)},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getHours());Y2.range;const W2=Rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getUTCHours());W2.range;const Qf=Rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jr)/di,e=>e.getDate()-1);Qf.range;const cx=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/di,e=>e.getUTCDate()-1);cx.range;const j8=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/di,e=>Math.floor(e/di));j8.range;function So(e){return Rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*jr)/q2)}const ux=So(0),xp=So(1),Mee=So(2),Dee=So(3),eu=So(4),Ree=So(5),$ee=So(6);ux.range;xp.range;Mee.range;Dee.range;eu.range;Ree.range;$ee.range;function _o(e){return Rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/q2)}const dx=_o(0),gp=_o(1),Lee=_o(2),Iee=_o(3),tu=_o(4),zee=_o(5),Bee=_o(6);dx.range;gp.range;Lee.range;Iee.range;tu.range;zee.range;Bee.range;const X2=Rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());X2.range;const Z2=Rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Z2.range;const fi=Rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});fi.range;const mi=Rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});mi.range;function N8(e,t,a,r,s,l){const c=[[lo,1,Xs],[lo,5,5*Xs],[lo,15,15*Xs],[lo,30,30*Xs],[l,1,jr],[l,5,5*jr],[l,15,15*jr],[l,30,30*jr],[s,1,Zs],[s,3,3*Zs],[s,6,6*Zs],[s,12,12*Zs],[r,1,di],[r,2,2*di],[a,1,q2],[t,1,p6],[t,3,3*p6],[e,1,Ey]];function d(m,h,x){const b=h<m;b&&([m,h]=[h,m]);const y=x&&typeof x.range=="function"?x:f(m,h,x),w=y?y.range(m,+h+1):[];return b?w.reverse():w}function f(m,h,x){const b=Math.abs(h-m)/x,y=O2(([,,S])=>S).right(c,b);if(y===c.length)return e.every(Rw(m/Ey,h/Ey,x));if(y===0)return pp.every(Math.max(Rw(m,h,x),1));const[w,j]=c[b/c[y-1][2]<c[y][2]/b?y-1:y];return w.every(j)}return[d,f]}const[Uee,Fee]=N8(mi,Z2,dx,j8,W2,G2),[Vee,Hee]=N8(fi,X2,ux,Qf,Y2,K2);function Py(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Oy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ed(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function qee(e){var t=e.dateTime,a=e.date,r=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=Pd(s),h=Od(s),x=Pd(l),b=Od(l),y=Pd(c),w=Od(c),j=Pd(d),S=Od(d),k=Pd(f),_=Od(f),C={a:Y,A:H,b:B,B:E,c:null,d:w6,e:w6,f:hte,g:Ste,G:kte,H:dte,I:fte,j:mte,L:S8,m:pte,M:xte,p:$,q:z,Q:S6,s:_6,S:gte,u:bte,U:vte,V:yte,w:wte,W:jte,x:null,X:null,y:Nte,Y:_te,Z:Cte,"%":N6},P={a:W,A:de,b:J,B:Q,c:null,d:j6,e:j6,f:Pte,g:Ute,G:Vte,H:Ate,I:Tte,j:Ete,L:k8,m:Ote,M:Mte,p:Se,q:ae,Q:S6,s:_6,S:Dte,u:Rte,U:$te,V:Lte,w:Ite,W:zte,x:null,X:null,y:Bte,Y:Fte,Z:Hte,"%":N6},A={a:K,A:F,b:L,B:te,c:Ne,d:v6,e:v6,f:lte,g:b6,G:g6,H:y6,I:y6,j:ate,L:ite,m:nte,M:rte,p:V,q:tte,Q:cte,s:ute,S:ste,u:Xee,U:Zee,V:Qee,w:Wee,W:Jee,x:re,X:D,y:b6,Y:g6,Z:ete,"%":ote};C.x=T(a,C),C.X=T(r,C),C.c=T(t,C),P.x=T(a,P),P.X=T(r,P),P.c=T(t,P);function T(be,Ce){return function(ke){var pe=[],Ue=-1,Ve=0,we=be.length,q,ie,G;for(ke instanceof Date||(ke=new Date(+ke));++Ue<we;)be.charCodeAt(Ue)===37&&(pe.push(be.slice(Ve,Ue)),(ie=x6[q=be.charAt(++Ue)])!=null?q=be.charAt(++Ue):ie=q==="e"?" ":"0",(G=Ce[q])&&(q=G(ke,ie)),pe.push(q),Ve=Ue+1);return pe.push(be.slice(Ve,Ue)),pe.join("")}}function R(be,Ce){return function(ke){var pe=Ed(1900,void 0,1),Ue=O(pe,be,ke+="",0),Ve,we;if(Ue!=ke.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Ce&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Ve=Oy(Ed(pe.y,0,1)),we=Ve.getUTCDay(),Ve=we>4||we===0?gp.ceil(Ve):gp(Ve),Ve=cx.offset(Ve,(pe.V-1)*7),pe.y=Ve.getUTCFullYear(),pe.m=Ve.getUTCMonth(),pe.d=Ve.getUTCDate()+(pe.w+6)%7):(Ve=Py(Ed(pe.y,0,1)),we=Ve.getDay(),Ve=we>4||we===0?xp.ceil(Ve):xp(Ve),Ve=Qf.offset(Ve,(pe.V-1)*7),pe.y=Ve.getFullYear(),pe.m=Ve.getMonth(),pe.d=Ve.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),we="Z"in pe?Oy(Ed(pe.y,0,1)).getUTCDay():Py(Ed(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(we+5)%7:pe.w+pe.U*7-(we+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Oy(pe)):Py(pe)}}function O(be,Ce,ke,pe){for(var Ue=0,Ve=Ce.length,we=ke.length,q,ie;Ue<Ve;){if(pe>=we)return-1;if(q=Ce.charCodeAt(Ue++),q===37){if(q=Ce.charAt(Ue++),ie=A[q in x6?Ce.charAt(Ue++):q],!ie||(pe=ie(be,ke,pe))<0)return-1}else if(q!=ke.charCodeAt(pe++))return-1}return pe}function V(be,Ce,ke){var pe=m.exec(Ce.slice(ke));return pe?(be.p=h.get(pe[0].toLowerCase()),ke+pe[0].length):-1}function K(be,Ce,ke){var pe=y.exec(Ce.slice(ke));return pe?(be.w=w.get(pe[0].toLowerCase()),ke+pe[0].length):-1}function F(be,Ce,ke){var pe=x.exec(Ce.slice(ke));return pe?(be.w=b.get(pe[0].toLowerCase()),ke+pe[0].length):-1}function L(be,Ce,ke){var pe=k.exec(Ce.slice(ke));return pe?(be.m=_.get(pe[0].toLowerCase()),ke+pe[0].length):-1}function te(be,Ce,ke){var pe=j.exec(Ce.slice(ke));return pe?(be.m=S.get(pe[0].toLowerCase()),ke+pe[0].length):-1}function Ne(be,Ce,ke){return O(be,t,Ce,ke)}function re(be,Ce,ke){return O(be,a,Ce,ke)}function D(be,Ce,ke){return O(be,r,Ce,ke)}function Y(be){return c[be.getDay()]}function H(be){return l[be.getDay()]}function B(be){return f[be.getMonth()]}function E(be){return d[be.getMonth()]}function $(be){return s[+(be.getHours()>=12)]}function z(be){return 1+~~(be.getMonth()/3)}function W(be){return c[be.getUTCDay()]}function de(be){return l[be.getUTCDay()]}function J(be){return f[be.getUTCMonth()]}function Q(be){return d[be.getUTCMonth()]}function Se(be){return s[+(be.getUTCHours()>=12)]}function ae(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Ce=T(be+="",C);return Ce.toString=function(){return be},Ce},parse:function(be){var Ce=R(be+="",!1);return Ce.toString=function(){return be},Ce},utcFormat:function(be){var Ce=T(be+="",P);return Ce.toString=function(){return be},Ce},utcParse:function(be){var Ce=R(be+="",!0);return Ce.toString=function(){return be},Ce}}}var x6={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,Kee=/^%/,Gee=/[\\^$*+?|[\]().{}]/g;function Ct(e,t,a){var r=e<0?"-":"",s=(r?-e:e)+"",l=s.length;return r+(l<a?new Array(a-l+1).join(t)+s:s)}function Yee(e){return e.replace(Gee,"\\$&")}function Pd(e){return new RegExp("^(?:"+e.map(Yee).join("|")+")","i")}function Od(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function Wee(e,t,a){var r=Kn.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function Xee(e,t,a){var r=Kn.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function Zee(e,t,a){var r=Kn.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function Qee(e,t,a){var r=Kn.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function Jee(e,t,a){var r=Kn.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function g6(e,t,a){var r=Kn.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function b6(e,t,a){var r=Kn.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function ete(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function tte(e,t,a){var r=Kn.exec(t.slice(a,a+1));return r?(e.q=r[0]*3-3,a+r[0].length):-1}function nte(e,t,a){var r=Kn.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function v6(e,t,a){var r=Kn.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function ate(e,t,a){var r=Kn.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function y6(e,t,a){var r=Kn.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function rte(e,t,a){var r=Kn.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function ste(e,t,a){var r=Kn.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function ite(e,t,a){var r=Kn.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function lte(e,t,a){var r=Kn.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function ote(e,t,a){var r=Kee.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function cte(e,t,a){var r=Kn.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function ute(e,t,a){var r=Kn.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function w6(e,t){return Ct(e.getDate(),t,2)}function dte(e,t){return Ct(e.getHours(),t,2)}function fte(e,t){return Ct(e.getHours()%12||12,t,2)}function mte(e,t){return Ct(1+Qf.count(fi(e),e),t,3)}function S8(e,t){return Ct(e.getMilliseconds(),t,3)}function hte(e,t){return S8(e,t)+"000"}function pte(e,t){return Ct(e.getMonth()+1,t,2)}function xte(e,t){return Ct(e.getMinutes(),t,2)}function gte(e,t){return Ct(e.getSeconds(),t,2)}function bte(e){var t=e.getDay();return t===0?7:t}function vte(e,t){return Ct(ux.count(fi(e)-1,e),t,2)}function _8(e){var t=e.getDay();return t>=4||t===0?eu(e):eu.ceil(e)}function yte(e,t){return e=_8(e),Ct(eu.count(fi(e),e)+(fi(e).getDay()===4),t,2)}function wte(e){return e.getDay()}function jte(e,t){return Ct(xp.count(fi(e)-1,e),t,2)}function Nte(e,t){return Ct(e.getFullYear()%100,t,2)}function Ste(e,t){return e=_8(e),Ct(e.getFullYear()%100,t,2)}function _te(e,t){return Ct(e.getFullYear()%1e4,t,4)}function kte(e,t){var a=e.getDay();return e=a>=4||a===0?eu(e):eu.ceil(e),Ct(e.getFullYear()%1e4,t,4)}function Cte(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ct(t/60|0,"0",2)+Ct(t%60,"0",2)}function j6(e,t){return Ct(e.getUTCDate(),t,2)}function Ate(e,t){return Ct(e.getUTCHours(),t,2)}function Tte(e,t){return Ct(e.getUTCHours()%12||12,t,2)}function Ete(e,t){return Ct(1+cx.count(mi(e),e),t,3)}function k8(e,t){return Ct(e.getUTCMilliseconds(),t,3)}function Pte(e,t){return k8(e,t)+"000"}function Ote(e,t){return Ct(e.getUTCMonth()+1,t,2)}function Mte(e,t){return Ct(e.getUTCMinutes(),t,2)}function Dte(e,t){return Ct(e.getUTCSeconds(),t,2)}function Rte(e){var t=e.getUTCDay();return t===0?7:t}function $te(e,t){return Ct(dx.count(mi(e)-1,e),t,2)}function C8(e){var t=e.getUTCDay();return t>=4||t===0?tu(e):tu.ceil(e)}function Lte(e,t){return e=C8(e),Ct(tu.count(mi(e),e)+(mi(e).getUTCDay()===4),t,2)}function Ite(e){return e.getUTCDay()}function zte(e,t){return Ct(gp.count(mi(e)-1,e),t,2)}function Bte(e,t){return Ct(e.getUTCFullYear()%100,t,2)}function Ute(e,t){return e=C8(e),Ct(e.getUTCFullYear()%100,t,2)}function Fte(e,t){return Ct(e.getUTCFullYear()%1e4,t,4)}function Vte(e,t){var a=e.getUTCDay();return e=a>=4||a===0?tu(e):tu.ceil(e),Ct(e.getUTCFullYear()%1e4,t,4)}function Hte(){return"+0000"}function N6(){return"%"}function S6(e){return+e}function _6(e){return Math.floor(+e/1e3)}var uc,A8,T8;qte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qte(e){return uc=qee(e),A8=uc.format,uc.parse,T8=uc.utcFormat,uc.utcParse,uc}function Kte(e){return new Date(e)}function Gte(e){return e instanceof Date?+e:+new Date(+e)}function Q2(e,t,a,r,s,l,c,d,f,m){var h=I2(),x=h.invert,b=h.domain,y=m(".%L"),w=m(":%S"),j=m("%I:%M"),S=m("%I %p"),k=m("%a %d"),_=m("%b %d"),C=m("%B"),P=m("%Y");function A(T){return(f(T)<T?y:d(T)<T?w:c(T)<T?j:l(T)<T?S:r(T)<T?s(T)<T?k:_:a(T)<T?C:P)(T)}return h.invert=function(T){return new Date(x(T))},h.domain=function(T){return arguments.length?b(Array.from(T,Gte)):b().map(Kte)},h.ticks=function(T){var R=b();return e(R[0],R[R.length-1],T??10)},h.tickFormat=function(T,R){return R==null?A:m(R)},h.nice=function(T){var R=b();return(!T||typeof T.range!="function")&&(T=t(R[0],R[R.length-1],T??10)),T?b(p8(R,T)):h},h.copy=function(){return Zf(h,Q2(e,t,a,r,s,l,c,d,f,m))},h}function Yte(){return Tr.apply(Q2(Vee,Hee,fi,X2,ux,Qf,Y2,K2,lo,A8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wte(){return Tr.apply(Q2(Uee,Fee,mi,Z2,dx,cx,W2,G2,lo,T8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fx(){var e=0,t=1,a,r,s,l,c=xa,d=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(s===0?.5:(x=(l(x)-a)*s,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,a=l(e=+e),r=l(t=+t),s=a===r?0:1/(r-a),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(c=x,m):c};function h(x){return function(b){var y,w;return arguments.length?([y,w]=b,c=x(y,w),m):[c(0),c(1)]}}return m.range=h(gu),m.rangeRound=h(L2),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,a=x(e),r=x(t),s=a===r?0:1/(r-a),m}}function vl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function E8(){var e=bl(fx()(xa));return e.copy=function(){return vl(e,E8())},bi.apply(e,arguments)}function P8(){var e=U2(fx()).domain([1,10]);return e.copy=function(){return vl(e,P8()).base(e.base())},bi.apply(e,arguments)}function O8(){var e=F2(fx());return e.copy=function(){return vl(e,O8()).constant(e.constant())},bi.apply(e,arguments)}function J2(){var e=V2(fx());return e.copy=function(){return vl(e,J2()).exponent(e.exponent())},bi.apply(e,arguments)}function Xte(){return J2.apply(null,arguments).exponent(.5)}function M8(){var e=[],t=xa;function a(r){if(r!=null&&!isNaN(r=+r))return t((Wf(e,r,1)-1)/(e.length-1))}return a.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(sl),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(s,l)=>RJ(e,l/r))},a.copy=function(){return M8(t).domain(e)},bi.apply(a,arguments)}function mx(){var e=0,t=.5,a=1,r=1,s,l,c,d,f,m=xa,h,x=!1,b;function y(j){return isNaN(j=+j)?b:(j=.5+((j=+h(j))-l)*(r*j<r*l?d:f),m(x?Math.max(0,Math.min(1,j)):j))}y.domain=function(j){return arguments.length?([e,t,a]=j,s=h(e=+e),l=h(t=+t),c=h(a=+a),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),r=l<s?-1:1,y):[e,t,a]},y.clamp=function(j){return arguments.length?(x=!!j,y):x},y.interpolator=function(j){return arguments.length?(m=j,y):m};function w(j){return function(S){var k,_,C;return arguments.length?([k,_,C]=S,m=oee(j,[k,_,C]),y):[m(0),m(.5),m(1)]}}return y.range=w(gu),y.rangeRound=w(L2),y.unknown=function(j){return arguments.length?(b=j,y):b},function(j){return h=j,s=j(e),l=j(t),c=j(a),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),r=l<s?-1:1,y}}function D8(){var e=bl(mx()(xa));return e.copy=function(){return vl(e,D8())},bi.apply(e,arguments)}function R8(){var e=U2(mx()).domain([.1,1,10]);return e.copy=function(){return vl(e,R8()).base(e.base())},bi.apply(e,arguments)}function $8(){var e=F2(mx());return e.copy=function(){return vl(e,$8()).constant(e.constant())},bi.apply(e,arguments)}function eN(){var e=V2(mx());return e.copy=function(){return vl(e,eN()).exponent(e.exponent())},bi.apply(e,arguments)}function Zte(){return eN.apply(null,arguments).exponent(.5)}const Xd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:D2,scaleDiverging:D8,scaleDivergingLog:R8,scaleDivergingPow:eN,scaleDivergingSqrt:Zte,scaleDivergingSymlog:$8,scaleIdentity:h8,scaleImplicit:$w,scaleLinear:m8,scaleLog:x8,scaleOrdinal:M2,scalePoint:IJ,scalePow:H2,scaleQuantile:v8,scaleQuantize:y8,scaleRadial:b8,scaleSequential:E8,scaleSequentialLog:P8,scaleSequentialPow:J2,scaleSequentialQuantile:M8,scaleSequentialSqrt:Xte,scaleSequentialSymlog:O8,scaleSqrt:Pee,scaleSymlog:g8,scaleThreshold:w8,scaleTime:Yte,scaleUtc:Wte,tickFormat:f8},Symbol.toStringTag,{value:"Module"}));var yl=e=>e.chartData,tN=ye([yl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hx=(e,t,a,r)=>r?tN(e):yl(e);function nu(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(tr(t)&&tr(a))return!0}return!1}function k6(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Qte(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,r]=e,s,l;if(tr(a))s=a;else if(typeof a=="function")return;if(tr(r))l=r;else if(typeof r=="function")return;var c=[s,l];if(nu(c))return c}}function Jte(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,a);if(nu(r))return k6(r,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Ke(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&pA.test(s)){var f=pA.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t==null?void 0:t[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(Ke(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&xA.test(l)){var h=xA.exec(l);if(h==null||t==null)d=void 0;else{var x=+h[1];d=t[1]+x}}else d=t==null?void 0:t[1];var b=[c,d];if(nu(b))return t==null?b:k6(b,t,a)}}}var bu=1e9,ene={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aN,nn=!0,Cr="[DecimalError] ",po=Cr+"Invalid argument: ",nN=Cr+"Exponent out of range: ",vu=Math.floor,Zl=Math.pow,tne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xa,Vn=1e7,Yt=7,L8=9007199254740991,bp=vu(L8/Yt),Ge={};Ge.absoluteValue=Ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ge.comparedTo=Ge.cmp=function(e){var t,a,r,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,s=e.d.length,t=0,a=r<s?r:s;t<a;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===s?0:r>s^l.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};Ge.dividedBy=Ge.div=function(e){return ti(this,new this.constructor(e))};Ge.dividedToIntegerBy=Ge.idiv=function(e){var t=this,a=t.constructor;return Vt(ti(t,new a(e),0,1),a.precision)};Ge.equals=Ge.eq=function(e){return!this.cmp(e)};Ge.exponent=function(){return Cn(this)};Ge.greaterThan=Ge.gt=function(e){return this.cmp(e)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(e){return this.cmp(e)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(e){return this.cmp(e)<0};Ge.lessThanOrEqualTo=Ge.lte=function(e){return this.cmp(e)<1};Ge.logarithm=Ge.log=function(e){var t,a=this,r=a.constructor,s=r.precision,l=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Xa))throw Error(Cr+"NaN");if(a.s<1)throw Error(Cr+(a.s?"NaN":"-Infinity"));return a.eq(Xa)?new r(0):(nn=!1,t=ti(Of(a,l),Of(e,l),l),nn=!0,Vt(t,s))};Ge.minus=Ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?B8(t,e):I8(t,(e.s=-e.s,e))};Ge.modulo=Ge.mod=function(e){var t,a=this,r=a.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Cr+"NaN");return a.s?(nn=!1,t=ti(a,e,0,1).times(e),nn=!0,a.minus(t)):Vt(new r(a),s)};Ge.naturalExponential=Ge.exp=function(){return z8(this)};Ge.naturalLogarithm=Ge.ln=function(){return Of(this)};Ge.negated=Ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ge.plus=Ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I8(t,e):B8(t,(e.s=-e.s,e))};Ge.precision=Ge.sd=function(e){var t,a,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(po+e);if(t=Cn(s)+1,r=s.d.length-1,a=r*Yt+1,r=s.d[r],r){for(;r%10==0;r/=10)a--;for(r=s.d[0];r>=10;r/=10)a++}return e&&t>a?t:a};Ge.squareRoot=Ge.sqrt=function(){var e,t,a,r,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Cr+"NaN")}for(e=Cn(d),nn=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=ps(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=vu((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(s.toString()),a=f.precision,s=c=a+3;;)if(l=r,r=l.plus(ti(d,l,c+2)).times(.5),ps(l.d).slice(0,c)===(t=ps(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Vt(l,a+1,0),l.times(l).eq(d)){r=l;break}}else if(t!="9999")break;c+=4}return nn=!0,Vt(r,a)};Ge.times=Ge.mul=function(e){var t,a,r,s,l,c,d,f,m,h=this,x=h.constructor,b=h.d,y=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,a=h.e+e.e,f=b.length,m=y.length,f<m&&(l=b,b=y,y=l,c=f,f=m,m=c),l=[],c=f+m,r=c;r--;)l.push(0);for(r=m;--r>=0;){for(t=0,s=f+r;s>r;)d=l[s]+y[r]*b[s-r-1]+t,l[s--]=d%Vn|0,t=d/Vn|0;l[s]=(l[s]+t)%Vn|0}for(;!l[--c];)l.pop();return t?++a:l.shift(),e.d=l,e.e=a,nn?Vt(e,x.precision):e};Ge.toDecimalPlaces=Ge.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),e===void 0?a:(ws(e,0,bu),t===void 0?t=r.rounding:ws(t,0,8),Vt(a,e+Cn(a)+1,t))};Ge.toExponential=function(e,t){var a,r=this,s=r.constructor;return e===void 0?a=yo(r,!0):(ws(e,0,bu),t===void 0?t=s.rounding:ws(t,0,8),r=Vt(new s(r),e+1,t),a=yo(r,!0,e+1)),a};Ge.toFixed=function(e,t){var a,r,s=this,l=s.constructor;return e===void 0?yo(s):(ws(e,0,bu),t===void 0?t=l.rounding:ws(t,0,8),r=Vt(new l(s),e+Cn(s)+1,t),a=yo(r.abs(),!1,e+Cn(r)+1),s.isneg()&&!s.isZero()?"-"+a:a)};Ge.toInteger=Ge.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),Cn(e)+1,t.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(e){var t,a,r,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Xa);if(d=new f(d),!d.s){if(e.s<1)throw Error(Cr+"Infinity");return d}if(d.eq(Xa))return d;if(r=f.precision,e.eq(Xa))return Vt(d,r);if(t=e.e,a=e.d.length-1,c=t>=a,l=d.s,c){if((a=h<0?-h:h)<=L8){for(s=new f(Xa),t=Math.ceil(r/Yt+4),nn=!1;a%2&&(s=s.times(d),A6(s.d,t)),a=vu(a/2),a!==0;)d=d.times(d),A6(d.d,t);return nn=!0,e.s<0?new f(Xa).div(s):Vt(s,r)}}else if(l<0)throw Error(Cr+"NaN");return l=l<0&&e.d[Math.max(t,a)]&1?-1:1,d.s=1,nn=!1,s=e.times(Of(d,r+m)),nn=!0,s=z8(s),s.s=l,s};Ge.toPrecision=function(e,t){var a,r,s=this,l=s.constructor;return e===void 0?(a=Cn(s),r=yo(s,a<=l.toExpNeg||a>=l.toExpPos)):(ws(e,1,bu),t===void 0?t=l.rounding:ws(t,0,8),s=Vt(new l(s),e,t),a=Cn(s),r=yo(s,e<=a||a<=l.toExpNeg,e)),r};Ge.toSignificantDigits=Ge.tosd=function(e,t){var a=this,r=a.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ws(e,1,bu),t===void 0?t=r.rounding:ws(t,0,8)),Vt(new r(a),e,t)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cn(e),a=e.constructor;return yo(e,t<=a.toExpNeg||t>=a.toExpPos)};function I8(e,t){var a,r,s,l,c,d,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),nn?Vt(t,x):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(r=f,l=-l,d=m.length):(r=m,s=c,d=f.length),c=Math.ceil(x/Yt),d=c>d?c+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,r=m,m=f,f=r),a=0;l;)a=(f[--l]=f[l]+m[l]+a)/Vn|0,f[l]%=Vn;for(a&&(f.unshift(a),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,nn?Vt(t,x):t}function ws(e,t,a){if(e!==~~e||e<t||e>a)throw Error(po+e)}function ps(e){var t,a,r,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)r=e[t]+"",a=Yt-r.length,a&&(l+=tl(a)),l+=r;c=e[t],r=c+"",a=Yt-r.length,a&&(l+=tl(a))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var ti=function(){function e(r,s){var l,c=0,d=r.length;for(r=r.slice();d--;)l=r[d]*s+c,r[d]=l%Vn|0,c=l/Vn|0;return c&&r.unshift(c),r}function t(r,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(r[d]!=s[d]){f=r[d]>s[d]?1:-1;break}return f}function a(r,s,l){for(var c=0;l--;)r[l]-=c,c=r[l]<s[l]?1:0,r[l]=c*Vn+r[l]-s[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,l,c){var d,f,m,h,x,b,y,w,j,S,k,_,C,P,A,T,R,O,V=r.constructor,K=r.s==s.s?1:-1,F=r.d,L=s.d;if(!r.s)return new V(r);if(!s.s)throw Error(Cr+"Division by zero");for(f=r.e-s.e,R=L.length,A=F.length,y=new V(K),w=y.d=[],m=0;L[m]==(F[m]||0);)++m;if(L[m]>(F[m]||0)&&--f,l==null?_=l=V.precision:c?_=l+(Cn(r)-Cn(s))+1:_=l,_<0)return new V(0);if(_=_/Yt+2|0,m=0,R==1)for(h=0,L=L[0],_++;(m<A||h)&&_--;m++)C=h*Vn+(F[m]||0),w[m]=C/L|0,h=C%L|0;else{for(h=Vn/(L[0]+1)|0,h>1&&(L=e(L,h),F=e(F,h),R=L.length,A=F.length),P=R,j=F.slice(0,R),S=j.length;S<R;)j[S++]=0;O=L.slice(),O.unshift(0),T=L[0],L[1]>=Vn/2&&++T;do h=0,d=t(L,j,R,S),d<0?(k=j[0],R!=S&&(k=k*Vn+(j[1]||0)),h=k/T|0,h>1?(h>=Vn&&(h=Vn-1),x=e(L,h),b=x.length,S=j.length,d=t(x,j,b,S),d==1&&(h--,a(x,R<b?O:L,b))):(h==0&&(d=h=1),x=L.slice()),b=x.length,b<S&&x.unshift(0),a(j,x,S),d==-1&&(S=j.length,d=t(L,j,R,S),d<1&&(h++,a(j,R<S?O:L,S))),S=j.length):d===0&&(h++,j=[0]),w[m++]=h,d&&j[0]?j[S++]=F[P]||0:(j=[F[P]],S=1);while((P++<A||j[0]!==void 0)&&_--)}return w[0]||w.shift(),y.e=f,Vt(y,c?l+Cn(y)+1:l)}}();function z8(e,t){var a,r,s,l,c,d,f=0,m=0,h=e.constructor,x=h.precision;if(Cn(e)>16)throw Error(nN+Cn(e));if(!e.s)return new h(Xa);for(nn=!1,d=x,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(r=Math.log(Zl(2,m))/Math.LN10*2+5|0,d+=r,a=s=l=new h(Xa),h.precision=d;;){if(s=Vt(s.times(e),d),a=a.times(++f),c=l.plus(ti(s,a,d)),ps(c.d).slice(0,d)===ps(l.d).slice(0,d)){for(;m--;)l=Vt(l.times(l),d);return h.precision=x,t==null?(nn=!0,Vt(l,x)):l}l=c}}function Cn(e){for(var t=e.e*Yt,a=e.d[0];a>=10;a/=10)t++;return t}function My(e,t,a){if(t>e.LN10.sd())throw nn=!0,a&&(e.precision=a),Error(Cr+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function tl(e){for(var t="";e--;)t+="0";return t}function Of(e,t){var a,r,s,l,c,d,f,m,h,x=1,b=10,y=e,w=y.d,j=y.constructor,S=j.precision;if(y.s<1)throw Error(Cr+(y.s?"NaN":"-Infinity"));if(y.eq(Xa))return new j(0);if(t==null?(nn=!1,m=S):m=t,y.eq(10))return t==null&&(nn=!0),My(j,m);if(m+=b,j.precision=m,a=ps(w),r=a.charAt(0),l=Cn(y),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)y=y.times(e),a=ps(y.d),r=a.charAt(0),x++;l=Cn(y),r>1?(y=new j("0."+a),l++):y=new j(r+"."+a.slice(1))}else return f=My(j,m+2,S).times(l+""),y=Of(new j(r+"."+a.slice(1)),m-b).plus(f),j.precision=S,t==null?(nn=!0,Vt(y,S)):y;for(d=c=y=ti(y.minus(Xa),y.plus(Xa),m),h=Vt(y.times(y),m),s=3;;){if(c=Vt(c.times(h),m),f=d.plus(ti(c,new j(s),m)),ps(f.d).slice(0,m)===ps(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(My(j,m+2,S).times(l+""))),d=ti(d,new j(x),m),j.precision=S,t==null?(nn=!0,Vt(d,S)):d;d=f,s+=2}}function C6(e,t){var a,r,s;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,a=a-r-1,e.e=vu(a/Yt),e.d=[],r=(a+1)%Yt,a<0&&(r+=Yt),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Yt;r<s;)e.d.push(+t.slice(r,r+=Yt));t=t.slice(r),r=Yt-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),nn&&(e.e>bp||e.e<-bp))throw Error(nN+a)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,a){var r,s,l,c,d,f,m,h,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=Yt,s=t,m=x[h=0];else{if(h=Math.ceil((r+1)/Yt),l=x.length,h>=l)return e;for(m=l=x[h],c=1;l>=10;l/=10)c++;r%=Yt,s=r-Yt+c}if(a!==void 0&&(l=Zl(10,c-s-1),d=m/l%10|0,f=t<0||x[h+1]!==void 0||m%l,f=a<4?(d||f)&&(a==0||a==(e.s<0?3:2)):d>5||d==5&&(a==4||f||a==6&&(r>0?s>0?m/Zl(10,c-s):0:x[h-1])%10&1||a==(e.s<0?8:7))),t<1||!x[0])return f?(l=Cn(e),x.length=1,t=t-l-1,x[0]=Zl(10,(Yt-t%Yt)%Yt),e.e=vu(-t/Yt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=h,l=1,h--):(x.length=h+1,l=Zl(10,Yt-r),x[h]=s>0?(m/Zl(10,c-s)%Zl(10,s)|0)*l:0),f)for(;;)if(h==0){(x[0]+=l)==Vn&&(x[0]=1,++e.e);break}else{if(x[h]+=l,x[h]!=Vn)break;x[h--]=0,l=1}for(r=x.length;x[--r]===0;)x.pop();if(nn&&(e.e>bp||e.e<-bp))throw Error(nN+Cn(e));return e}function B8(e,t){var a,r,s,l,c,d,f,m,h,x,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),nn?Vt(t,y):t;if(f=e.d,x=t.d,r=t.e,m=e.e,f=f.slice(),c=m-r,c){for(h=c<0,h?(a=f,c=-c,d=x.length):(a=x,r=m,d=f.length),s=Math.max(Math.ceil(y/Yt),d)+2,c>s&&(c=s,a.length=1),a.reverse(),s=c;s--;)a.push(0);a.reverse()}else{for(s=f.length,d=x.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=x[s]){h=f[s]<x[s];break}c=0}for(h&&(a=f,f=x,x=a,t.s=-t.s),d=f.length,s=x.length-d;s>0;--s)f[d++]=0;for(s=x.length;s>c;){if(f[--s]<x[s]){for(l=s;l&&f[--l]===0;)f[l]=Vn-1;--f[l],f[s]+=Vn}f[s]-=x[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,nn?Vt(t,y):t):new b(0)}function yo(e,t,a){var r,s=Cn(e),l=ps(e.d),c=l.length;return t?(a&&(r=a-c)>0?l=l.charAt(0)+"."+l.slice(1)+tl(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+tl(-s-1)+l,a&&(r=a-c)>0&&(l+=tl(r))):s>=c?(l+=tl(s+1-c),a&&(r=a-s-1)>0&&(l=l+"."+tl(r))):((r=s+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),a&&(r=a-c)>0&&(s+1===c&&(l+="."),l+=tl(r))),e.s<0?"-"+l:l}function A6(e,t){if(e.length>t)return e.length=t,!0}function U8(e){var t,a,r;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(po+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return C6(c,l.toString())}else if(typeof l!="string")throw Error(po+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,tne.test(l))C6(c,l);else throw Error(po+l)}if(s.prototype=Ge,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=U8,s.config=s.set=nne,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(a=r[t++])||(e[a]=this[a]);return s.config(e),s}function nne(e){if(!e||typeof e!="object")throw Error(Cr+"Object expected");var t,a,r,s=["precision",1,bu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[a=s[t]])!==void 0)if(vu(r)===r&&r>=s[t+1]&&r<=s[t+2])this[a]=r;else throw Error(po+a+": "+r);if((r=e[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(po+a+": "+r);return this}var aN=U8(ene);Xa=new aN(1);const Dt=aN;var ane=e=>e,F8={},V8=e=>e===F8,T6=e=>function t(){return arguments.length===0||arguments.length===1&&V8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},H8=(e,t)=>e===1?t:T6(function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var l=r.filter(c=>c!==F8).length;return l>=e?t(...r):H8(e-l,T6(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=r.map(h=>V8(h)?d.shift():h);return t(...m,...d)}))}),px=e=>H8(e.length,e),Bw=(e,t)=>{for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},rne=px((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),sne=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(!a.length)return ane;var s=a.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},Uw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),q8=e=>{var t=null,a=null;return function(){for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return t&&s.every((c,d)=>{var f;return c===((f=t)===null||f===void 0?void 0:f[d])})||(t=s,a=e(...s)),a}};function K8(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function G8(e,t,a){for(var r=new Dt(e),s=0,l=[];r.lt(t)&&s<1e5;)l.push(r.toNumber()),r=r.add(a),s++;return l}px((e,t,a)=>{var r=+e,s=+t;return r+a*(s-r)});px((e,t,a)=>{var r=t-+e;return r=r||1/0,(a-e)/r});px((e,t,a)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(a-e)/r))});var Y8=e=>{var[t,a]=e,[r,s]=[t,a];return t>a&&([r,s]=[a,t]),[r,s]},W8=(e,t,a)=>{if(e.lte(0))return new Dt(0);var r=K8(e.toNumber()),s=new Dt(10).pow(r),l=e.div(s),c=r!==1?.05:.1,d=new Dt(Math.ceil(l.div(c).toNumber())).add(a).mul(c),f=d.mul(s);return t?new Dt(f.toNumber()):new Dt(Math.ceil(f.toNumber()))},ine=(e,t,a)=>{var r=new Dt(1),s=new Dt(e);if(!s.isint()&&a){var l=Math.abs(e);l<1?(r=new Dt(10).pow(K8(e)-1),s=new Dt(Math.floor(s.div(r).toNumber())).mul(r)):l>1&&(s=new Dt(Math.floor(e)))}else e===0?s=new Dt(Math.floor((t-1)/2)):a||(s=new Dt(Math.floor(e)));var c=Math.floor((t-1)/2),d=sne(rne(f=>s.add(new Dt(f-c).mul(r)).toNumber()),Bw);return d(0,t)},X8=function(t,a,r,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var c=W8(new Dt(a).sub(t).div(r-1),s,l),d;t<=0&&a>=0?d=new Dt(0):(d=new Dt(t).add(a).div(2),d=d.sub(new Dt(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new Dt(a).sub(d).div(c).toNumber()),h=f+m+1;return h>r?X8(t,a,r,s,l+1):(h<r&&(m=a>0?m+(r-h):m,f=a>0?f:f+(r-h)),{step:c,tickMin:d.sub(new Dt(f).mul(c)),tickMax:d.add(new Dt(m).mul(c))})};function lne(e){var[t,a]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[c,d]=Y8([t,a]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...Bw(0,r-1).map(()=>1/0)]:[...Bw(0,r-1).map(()=>-1/0),d];return t>a?Uw(f):f}if(c===d)return ine(c,r,s);var{step:m,tickMin:h,tickMax:x}=X8(c,d,l,s,0),b=G8(h,x.add(new Dt(.1).mul(m)),m);return t>a?Uw(b):b}function one(e,t){var[a,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=Y8([a,r]);if(l===-1/0||c===1/0)return[a,r];if(l===c)return[l];var d=Math.max(t,2),f=W8(new Dt(c).sub(l).div(d-1),s,0),m=[...G8(new Dt(l),new Dt(c),f),c];return s===!1&&(m=m.map(h=>Math.round(h))),a>r?Uw(m):m}var cne=q8(lne),une=q8(one),Z8=e=>e.rootProps.maxBarSize,dne=e=>e.rootProps.barGap,Q8=e=>e.rootProps.barCategoryGap,fne=e=>e.rootProps.barSize,Jf=e=>e.rootProps.stackOffset,rN=e=>e.options.chartName,sN=e=>e.rootProps.syncId,J8=e=>e.rootProps.syncMethod,iN=e=>e.options.eventEmitter,Ys={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ga={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},xx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},mne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ys.angleAxisId,includeHidden:!1,name:void 0,reversed:Ys.reversed,scale:Ys.scale,tick:Ys.tick,tickCount:void 0,ticks:void 0,type:Ys.type,unit:void 0},hne={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ga.scale,tick:Ga.tick,tickCount:Ga.tickCount,ticks:void 0,type:Ga.type,unit:void 0},pne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ys.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ys.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ys.scale,tick:Ys.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xne={allowDataOverflow:Ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ga.scale,tick:Ga.tick,tickCount:Ga.tickCount,ticks:void 0,type:"category",unit:void 0},lN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?pne:mne,oN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?xne:hne,gx=e=>e.polarOptions,cN=ye([xi,gi,Dn],OD),eR=ye([gx,cN],(e,t)=>{if(e!=null)return ga(e.innerRadius,t,0)}),tR=ye([gx,cN],(e,t)=>{if(e!=null)return ga(e.outerRadius,t,t*.8)}),gne=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},nR=ye([gx],gne);ye([lN,nR],xx);var aR=ye([cN,eR,tR],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});ye([oN,aR],xx);var rR=ye([Nt,gx,eR,tR,xi,gi],(e,t,a,r,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:ga(c,s,s/2),cy:ga(d,l,l/2),innerRadius:a,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),rn=(e,t)=>t,em=(e,t,a)=>a;function uN(e){return e==null?void 0:e.id}var $n=e=>{var t=Nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},yu=e=>e.tooltip.settings.axisId,Ln=e=>{var t=$n(e),a=yu(e);return tm(e,t,a)};function sR(e,t,a){var{chartData:r=[]}=t,s=a==null?void 0:a.dataKey,l=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=uN(c);f.forEach((h,x)=>{var b=s==null?x:String(Ft(h,s,null)),y=Ft(h,c.dataKey,0),w;l.has(b)?w=l.get(b):w={},Object.assign(w,{[m]:y}),l.set(b,w)})}}),Array.from(l.values())}function bx(e){return e.stackId!=null&&e.dataKey!=null}function E6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function vp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(a),!0).forEach(function(r){bne(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function bne(e,t,a){return(t=vne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vne(e){var t=yne(e,"string");return typeof t=="symbol"?t:t+""}function yne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fw=[0,"auto"],qa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},vi=(e,t)=>{var a=e.cartesianAxis.xAxis[t];return a??qa},Ka={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Fw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:rx},wl=(e,t)=>{var a=e.cartesianAxis.yAxis[t];return a??Ka},wne={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},dN=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??wne},vn=(e,t,a)=>{switch(t){case"xAxis":return vi(e,a);case"yAxis":return wl(e,a);case"zAxis":return dN(e,a);case"angleAxis":return lN(e,a);case"radiusAxis":return oN(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},jne=(e,t,a)=>{switch(t){case"xAxis":return vi(e,a);case"yAxis":return wl(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},tm=(e,t,a)=>{switch(t){case"xAxis":return vi(e,a);case"yAxis":return wl(e,a);case"angleAxis":return lN(e,a);case"radiusAxis":return oN(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},iR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function fN(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var vx=e=>e.graphicalItems.cartesianItems,Nne=ye([rn,em],fN),mN=(e,t,a)=>e.filter(a).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),nm=ye([vx,vn,Nne],mN),lR=ye([nm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(bx)),oR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),cR=ye([nm],oR),hN=e=>e.map(t=>t.data).filter(Boolean).flat(1),Sne=ye([nm],hN),pN=(e,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:a.slice(r,s+1)},xN=ye([Sne,hx],pN),gN=(e,t,a)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ft(r,t.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:Ft(s,r)}))):e.map(r=>({value:r})),yx=ye([xN,vn,nm],gN);function uR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ko(e){return e.filter(t=>ys(t)||t instanceof Date).map(Number).filter(t=>Qa(t)===!1)}function _ne(e,t,a){return!a||typeof t!="number"||Qa(t)?[]:a.length?ko(a.flatMap(r=>{var s=Ft(e,r.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!tr(l)||!tr(c)))return[t-l,t+c]})):[]}var kne=ye([lR,hx,Ln],sR),dR=(e,t,a)=>{var r={},s=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),r);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=d.map(uN);return[c,{stackedData:FZ(e,f,a),graphicalItems:d}]}))},Vw=ye([kne,lR,Jf],dR),fR=(e,t,a)=>{var{dataStartIndex:r,dataEndIndex:s}=t;if(a!=="zAxis"){var l=GZ(e,r,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Cne=ye([Vw,yl,rn],fR),mR=(e,t,a,r,s)=>a.length>0?e.flatMap(l=>a.flatMap(c=>{var d,f,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(x=>uR(s,x)),h=Ft(l,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey);return{value:h,errorDomain:_ne(l,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(l=>({value:Ft(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),wx=e=>e.errorBars,hR=(e,t,a)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>uR(a,r));ye([cR,wx,rn],hR);var Ane=ye([xN,vn,cR,wx,rn],mR);function Tne(e){var{value:t}=e;if(ys(t)||t instanceof Date)return t}var P6=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),a=ko(t);if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Ene=(e,t,a)=>{var r=e.map(Tne).filter(s=>s!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&AM(r))?n8(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},bN=e=>{var t;if(e==null||!("domain"in e))return Fw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=ko(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Fw},yp=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var s=a.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},pR=e=>e.referenceElements.dots,wu=(e,t,a)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===a:r.yAxisId===a),Pne=ye([pR,rn,em],wu),xR=e=>e.referenceElements.areas,One=ye([xR,rn,em],wu),gR=e=>e.referenceElements.lines,Mne=ye([gR,rn,em],wu),bR=(e,t)=>{var a=ko(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Dne=ye(Pne,rn,bR),vR=(e,t)=>{var a=ko(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Rne=ye([One,rn],vR),yR=(e,t)=>{var a=ko(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},$ne=ye(Mne,rn,yR),Lne=ye(Dne,$ne,Rne,(e,t,a)=>yp(e,a,t)),wR=ye([vn],bN),vN=(e,t,a,r,s,l,c)=>{var d=Qte(t,e.allowDataOverflow);if(d!=null)return d;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",m=f?yp(a,s,P6(r)):yp(s,P6(r));return Jte(t,m,e.allowDataOverflow)},Ine=ye([vn,wR,Cne,Ane,Lne,Nt,rn],vN),zne=[0,1],yN=(e,t,a,r,s,l,c)=>{if(!((e==null||a==null||a.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=gl(t,l);return m&&d==null?n8(0,a.length):f==="category"?Ene(r,e,m):s==="expand"?zne:c}},wN=ye([vn,Nt,xN,yx,Jf,rn,Ine],yN),jR=(e,t,a,r,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(Kf(l));return d in Xd?d:"point"}}},ju=ye([vn,Nt,iR,rN,rn],jR);function Bne(e){if(e!=null){if(e in Xd)return Xd[e]();var t="scale".concat(Kf(e));if(t in Xd)return Xd[t]()}}function jN(e,t,a,r){if(!(a==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(r);var s=Bne(t);if(s!=null){var l=s.domain(a).range(r);return LZ(l),l}}}var NN=(e,t,a)=>{var r=bN(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&nu(e))return cne(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&nu(e))return une(e,t.tickCount,t.allowDecimals)}},SN=ye([wN,tm,ju],NN),_N=(e,t,a,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&nu(t)&&Array.isArray(a)&&a.length>0){var s=t[0],l=a[0],c=t[1],d=a[a.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},Une=ye([vn,wN,SN,rn],_N),Fne=ye(yx,vn,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,r=Array.from(ko(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];a=Math.min(a,c)}return a/s}}),NR=ye(Fne,Nt,Q8,Dn,(e,t,a,r)=>r,(e,t,a,r,s)=>{if(!tr(e))return 0;var l=t==="vertical"?r.height:r.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=ga(a,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),Vne=(e,t)=>{var a=vi(e,t);return a==null||typeof a.padding!="string"?0:NR(e,"xAxis",t,a.padding)},Hne=(e,t)=>{var a=wl(e,t);return a==null||typeof a.padding!="string"?0:NR(e,"yAxis",t,a.padding)},qne=ye(vi,Vne,(e,t)=>{var a,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((a=s.left)!==null&&a!==void 0?a:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),Kne=ye(wl,Hne,(e,t)=>{var a,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((a=s.top)!==null&&a!==void 0?a:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),Gne=ye([Dn,qne,ix,sx,(e,t,a)=>a],(e,t,a,r,s)=>{var{padding:l}=r;return s?[l.left,a.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),Yne=ye([Dn,Nt,Kne,ix,sx,(e,t,a)=>a],(e,t,a,r,s,l)=>{var{padding:c}=s;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),am=(e,t,a,r)=>{var s;switch(t){case"xAxis":return Gne(e,a,r);case"yAxis":return Yne(e,a,r);case"zAxis":return(s=dN(e,a))===null||s===void 0?void 0:s.range;case"angleAxis":return nR(e);case"radiusAxis":return aR(e,a);default:return}},SR=ye([vn,am],xx),Nu=ye([vn,ju,Une,SR],jN);ye([nm,wx,rn],hR);function _R(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var jx=(e,t)=>t,Nx=(e,t,a)=>a,Wne=ye(k2,jx,Nx,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(_R)),Xne=ye(C2,jx,Nx,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(_R)),kR=(e,t)=>({width:e.width,height:t.height}),Zne=(e,t)=>{var a=typeof t.width=="number"?t.width:rx;return{width:a,height:e.height}},CR=ye(Dn,vi,kR),Qne=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},Jne=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},eae=ye(gi,Dn,Wne,jx,Nx,(e,t,a,r,s)=>{var l={},c;return a.forEach(d=>{var f=kR(t,d);c==null&&(c=Qne(t,r,e));var m=r==="top"&&!s||r==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),tae=ye(xi,Dn,Xne,jx,Nx,(e,t,a,r,s)=>{var l={},c;return a.forEach(d=>{var f=Zne(t,d);c==null&&(c=Jne(t,r,e));var m=r==="left"&&!s||r==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),nae=(e,t)=>{var a=Dn(e),r=vi(e,t);if(r!=null){var s=eae(e,r.orientation,r.mirror),l=s[t];return l==null?{x:a.left,y:0}:{x:a.left,y:l}}},aae=(e,t)=>{var a=Dn(e),r=wl(e,t);if(r!=null){var s=tae(e,r.orientation,r.mirror),l=s[t];return l==null?{x:0,y:a.top}:{x:l,y:a.top}}},AR=ye(Dn,wl,(e,t)=>{var a=typeof t.width=="number"?t.width:rx;return{width:a,height:e.height}}),O6=(e,t,a)=>{switch(t){case"xAxis":return CR(e,a).width;case"yAxis":return AR(e,a).height;default:return}},TR=(e,t,a,r)=>{if(a!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=a,d=gl(e,r),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&AM(f))return f}},kN=ye([Nt,yx,vn,rn],TR),ER=(e,t,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:s,scale:l}=a,c=gl(e,r);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},CN=ye([Nt,yx,tm,rn],ER),M6=ye([Nt,jne,ju,Nu,kN,CN,am,SN,rn],(e,t,a,r,s,l,c,d,f)=>{if(t==null)return null;var m=gl(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:a,scale:r}}),rae=(e,t,a,r,s,l,c,d,f)=>{if(!(t==null||r==null)){var m=gl(e,f),{type:h,ticks:x,tickCount:b}=t,y=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/y:0;w=f==="angleAxis"&&l!=null&&l.length>=2?qn(l[0]-l[1])*2*w:w;var j=x||s;if(j){var S=j.map((k,_)=>{var C=c?c.indexOf(k):k;return{index:_,coordinate:r(C)+w,value:k,offset:w}});return S.filter(k=>!Qa(k.coordinate))}return m&&d?d.map((k,_)=>({coordinate:r(k)+w,value:k,index:_,offset:w})):r.ticks?r.ticks(b).map(k=>({coordinate:r(k)+w,value:k,offset:w})):r.domain().map((k,_)=>({coordinate:r(k)+w,value:c?c[k]:k,index:_,offset:w}))}},PR=ye([Nt,tm,ju,Nu,SN,am,kN,CN,rn],rae),sae=(e,t,a,r,s,l,c)=>{if(!(t==null||a==null||r==null||r[0]===r[1])){var d=gl(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&(r==null?void 0:r.length)>=2?qn(r[0]-r[1])*2*m:m,d&&l?l.map((h,x)=>({coordinate:a(h)+m,value:h,index:x,offset:m})):a.ticks?a.ticks(f).map(h=>({coordinate:a(h)+m,value:h,offset:m})):a.domain().map((h,x)=>({coordinate:a(h)+m,value:s?s[h]:h,index:x,offset:m}))}},ml=ye([Nt,tm,Nu,am,kN,CN,rn],sae),hl=ye(vn,Nu,(e,t)=>{if(!(e==null||t==null))return vp(vp({},e),{},{scale:t})}),iae=ye([vn,ju,wN,SR],jN);ye((e,t,a)=>dN(e,a),iae,(e,t)=>{if(!(e==null||t==null))return vp(vp({},e),{},{scale:t})});var lae=ye([Nt,k2,C2],(e,t,a)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),OR=e=>e.options.defaultTooltipEventType,MR=e=>e.options.validateTooltipEventTypes;function DR(e,t,a){if(e==null)return t;var r=e?"axis":"item";return a==null?t:a.includes(r)?r:t}function AN(e,t){var a=OR(e),r=MR(e);return DR(t,a,r)}function oae(e){return Je(t=>AN(t,e))}var RR=(e,t)=>{var a,r=Number(t);if(!(Qa(r)||t==null))return r>=0?e==null||(a=e[r])===null||a===void 0?void 0:a.value:void 0},cae=e=>e.tooltip.settings,nl={active:!1,index:null,dataKey:void 0,coordinate:void 0},uae={itemInteraction:{click:nl,hover:nl},axisInteraction:{click:nl,hover:nl},keyboardInteraction:nl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$R=nr({name:"tooltip",initialState:uae,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var a=ei(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:dae,removeTooltipEntrySettings:fae,setTooltipSettingsState:mae,setActiveMouseOverItemIndex:LR,mouseLeaveItem:hae,mouseLeaveChart:IR,setActiveClickItemIndex:pae,setMouseOverAxisIndex:zR,setMouseClickAxisIndex:xae,setSyncInteraction:Hw,setKeyboardInteraction:qw}=$R.actions,gae=$R.reducer;function D6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function zh(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?D6(Object(a),!0).forEach(function(r){bae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function bae(e,t,a){return(t=vae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wae(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function jae(e){return e.index!=null}var BR=(e,t,a,r)=>{if(t==null)return nl;var s=wae(e,t,a);if(s==null)return nl;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(jae(s)){if(l)return zh(zh({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return zh(zh({},nl),{},{coordinate:s.coordinate})},TN=(e,t)=>{var a=e==null?void 0:e.index;if(a==null)return null;var r=Number(a);if(!tr(r))return a;var s=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(s,Math.min(r,l)))},UR=(e,t,a,r,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s==null?void 0:s[Number(l)];if(h)switch(a){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},FR=(e,t,a,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return a==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},rm=e=>e.options.tooltipPayloadSearcher,Su=e=>e.tooltip;function R6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function $6(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(a),!0).forEach(function(r){Nae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Nae(e,t,a){return(t=Sae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Sae(e){var t=_ae(e,"string");return typeof t=="symbol"?t:t+""}function _ae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kae(e,t){return e??t}var VR=(e,t,a,r,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=a,x=[];return e.reduce((b,y)=>{var w,{dataDefinedOnItem:j,settings:S}=y,k=kae(j,d),_=Array.isArray(k)?MD(k,m,h):k,C=(w=S==null?void 0:S.dataKey)!==null&&w!==void 0?w:r==null?void 0:r.dataKey,P=S==null?void 0:S.nameKey,A;if(r!=null&&r.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&c==="axis"?A=TM(_,r.dataKey,s):A=l(_,t,f,P),Array.isArray(A))A.forEach(R=>{var O=$6($6({},S),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});b.push(gA({tooltipEntrySettings:O,dataKey:R.dataKey,payload:R.payload,value:Ft(R.payload,R.dataKey),name:R.name}))});else{var T;b.push(gA({tooltipEntrySettings:S,dataKey:C,payload:A,value:Ft(A,C),name:(T=Ft(A,P))!==null&&T!==void 0?T:S==null?void 0:S.name}))}return b},x)}},EN=ye([Ln,Nt,iR,rN,$n],jR),Cae=ye([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Aae=ye([$n,yu],fN),sm=ye([Cae,Ln,Aae],mN),Tae=ye([sm],e=>e.filter(bx)),Eae=ye([sm],hN),_u=ye([Eae,yl],pN),Pae=ye([Tae,yl,Ln],sR),PN=ye([_u,Ln,sm],gN),Oae=ye([Ln],bN),Mae=ye([sm],e=>e.filter(bx)),Dae=ye([Pae,Mae,Jf],dR),Rae=ye([Dae,yl,$n],fR),$ae=ye([sm],oR),Lae=ye([_u,Ln,$ae,wx,$n],mR),Iae=ye([pR,$n,yu],wu),zae=ye([Iae,$n],bR),Bae=ye([xR,$n,yu],wu),Uae=ye([Bae,$n],vR),Fae=ye([gR,$n,yu],wu),Vae=ye([Fae,$n],yR),Hae=ye([zae,Vae,Uae],yp),qae=ye([Ln,Oae,Rae,Lae,Hae,Nt,$n],vN),HR=ye([Ln,Nt,_u,PN,Jf,$n,qae],yN),Kae=ye([HR,Ln,EN],NN),Gae=ye([Ln,HR,Kae,$n],_N),qR=e=>{var t=$n(e),a=yu(e),r=!1;return am(e,t,a,r)},KR=ye([Ln,qR],xx),GR=ye([Ln,EN,Gae,KR],jN),Yae=ye([Nt,PN,Ln,$n],TR),Wae=ye([Nt,PN,Ln,$n],ER),Xae=(e,t,a,r,s,l,c,d)=>{if(t){var{type:f}=t,m=gl(e,d);if(r){var h=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return x=d==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?qn(s[0]-s[1])*2*x:x,m&&c?c.map((b,y)=>({coordinate:r(b)+x,value:b,index:y,offset:x})):r.domain().map((b,y)=>({coordinate:r(b)+x,value:l?l[b]:b,index:y,offset:x}))}}},yi=ye([Nt,Ln,EN,GR,qR,Yae,Wae,$n],Xae),ON=ye([OR,MR,cae],(e,t,a)=>DR(a.shared,e,t)),YR=e=>e.tooltip.settings.trigger,MN=e=>e.tooltip.settings.defaultIndex,Sx=ye([Su,ON,YR,MN],BR),pl=ye([Sx,_u],TN),WR=ye([yi,pl],RR),XR=ye([Sx],e=>{if(e)return e.dataKey}),ZR=ye([Su,ON,YR,MN],FR),Zae=ye([xi,gi,Nt,Dn,yi,MN,ZR,rm],UR),Qae=ye([Sx,Zae],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Jae=ye([Sx],e=>e.active),ere=ye([ZR,pl,yl,Ln,WR,rm,ON],VR),tre=ye([ere],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function L6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function I6(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?L6(Object(a),!0).forEach(function(r){nre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function nre(e,t,a){return(t=are(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function are(e){var t=rre(e,"string");return typeof t=="symbol"?t:t+""}function rre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sre=()=>Je(Ln),ire=()=>{var e=sre(),t=Je(yi),a=Je(GR);return kf(I6(I6({},e),{},{scale:a}),t)},lre=()=>Je(rN),DN=(e,t)=>t,QR=(e,t,a)=>a,RN=(e,t,a,r)=>r,ore=ye(yi,e=>Zp(e,t=>t.coordinate)),$N=ye([Su,DN,QR,RN],BR),JR=ye([$N,_u],TN),cre=(e,t,a)=>{if(t!=null){var r=Su(e);return t==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},e7=ye([Su,DN,QR,RN],FR),wp=ye([xi,gi,Nt,Dn,yi,RN,e7,rm],UR),ure=ye([$N,wp],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),t7=ye(yi,JR,RR),dre=ye([e7,JR,yl,Ln,t7,rm,DN],VR),fre=ye([$N],e=>({isActive:e.active,activeIndex:e.index})),mre=(e,t,a,r,s,l,c,d)=>{if(!(!e||!t||!r||!s||!l)){var f=YZ(e.chartX,e.chartY,t,a,d);if(f){var m=XZ(f,t),h=RZ(m,c,l,r,s),x=WZ(t,l,h,f);return{activeIndex:String(h),activeCoordinate:x}}}};function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Kw.apply(null,arguments)}function z6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Bh(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?z6(Object(a),!0).forEach(function(r){hre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function hre(e,t,a){return(t=pre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pre(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gre(e){var{coordinate:t,payload:a,index:r,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,h=t,x=a,b=r;if(!d||!h||m!=="ScatterChart"&&f!=="axis")return null;var y,w;if(m==="ScatterChart")y=h,w=MQ;else if(m==="BarChart")y=DQ(c,h,s,l),w=JD;else if(c==="radial"){var{cx:j,cy:S,radius:k,startAngle:_,endAngle:C}=e8(h);y={cx:j,cy:S,startAngle:_,endAngle:C,innerRadius:k,outerRadius:k},w=P2}else y={points:bJ(c,h,s)},w=T2;var P=typeof d=="object"&&"className"in d?d.className:void 0,A=Bh(Bh(Bh(Bh({stroke:"#ccc",pointerEvents:"none"},s),y),tn(d,!1)),{},{payload:x,payloadIndex:b,className:xt("recharts-tooltip-cursor",P)});return g.isValidElement(d)?g.cloneElement(d,A):g.createElement(w,A)}function bre(e){var t=ire(),a=BD(),r=lx(),s=lre();return g.createElement(gre,Kw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:r,tooltipAxisBandSize:t,chartName:s}))}var n7=g.createContext(null),vre=()=>g.useContext(n7),Dy={exports:{}},B6;function yre(){return B6||(B6=1,function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,x,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,x||f,b),w=a?a+m:m;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],y]:f._events[w].push(y):(f._events[w]=y,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,x;if(this._eventsCount===0)return m;for(x in h=this._events)t.call(h,x)&&m.push(a?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=a?a+m:m,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var b=0,y=x.length,w=new Array(y);b<y;b++)w[b]=x[b].fn;return w},d.prototype.listenerCount=function(m){var h=a?a+m:m,x=this._events[h];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,h,x,b,y,w){var j=a?a+m:m;if(!this._events[j])return!1;var S=this._events[j],k=arguments.length,_,C;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,x),!0;case 4:return S.fn.call(S.context,h,x,b),!0;case 5:return S.fn.call(S.context,h,x,b,y),!0;case 6:return S.fn.call(S.context,h,x,b,y,w),!0}for(C=1,_=new Array(k-1);C<k;C++)_[C-1]=arguments[C];S.fn.apply(S.context,_)}else{var P=S.length,A;for(C=0;C<P;C++)switch(S[C].once&&this.removeListener(m,S[C].fn,void 0,!0),k){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,h);break;case 3:S[C].fn.call(S[C].context,h,x);break;case 4:S[C].fn.call(S[C].context,h,x,b);break;default:if(!_)for(A=1,_=new Array(k-1);A<k;A++)_[A-1]=arguments[A];S[C].fn.apply(S[C].context,_)}}return!0},d.prototype.on=function(m,h,x){return l(this,m,h,x,!1)},d.prototype.once=function(m,h,x){return l(this,m,h,x,!0)},d.prototype.removeListener=function(m,h,x,b){var y=a?a+m:m;if(!this._events[y])return this;if(!h)return c(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!b||w.once)&&(!x||w.context===x)&&c(this,y);else{for(var j=0,S=[],k=w.length;j<k;j++)(w[j].fn!==h||b&&!w[j].once||x&&w[j].context!==x)&&S.push(w[j]);S.length?this._events[y]=S.length===1?S[0]:S:c(this,y)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=a?a+m:m,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=a,d.EventEmitter=d,e.exports=d}(Dy)),Dy.exports}var wre=yre();const jre=Xr(wre);var Mf=new jre,Gw="recharts.syncEvent.tooltip",U6="recharts.syncEvent.brush";function LN(e,t){if(t){var a=Number.parseInt(t,10);if(!Qa(a))return e==null?void 0:e[a]}}var Nre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},a7=nr({name:"options",initialState:Nre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Sre=a7.reducer,{createEventEmitter:_re}=a7.actions;function kre(e){return e.tooltip.syncInteraction}var Cre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},r7=nr({name:"chartData",initialState:Cre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:r}=t.payload;a!=null&&(e.dataStartIndex=a),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:F6,setDataStartEndIndexes:Are,setComputedData:nhe}=r7.actions,Tre=r7.reducer,s7=()=>{};function Ere(){var e=Je(sN),t=Je(iN),a=bn(),r=Je(J8),s=Je(yi),l=lx(),c=A2(),d=Je(f=>f.rootProps.className);g.useEffect(()=>{if(e==null)return s7;var f=(m,h,x)=>{if(t!==x&&e===m){if(r==="index"){a(h);return}if(s!=null){var b;if(typeof r=="function"){var y={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},w=r(s,y);b=s[w]}else r==="value"&&(b=s.find(T=>String(T.value)===h.payload.label));var{coordinate:j}=h.payload;if(b==null||h.payload.active===!1||j==null||c==null){a(Hw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:k}=j,_=Math.min(S,c.x+c.width),C=Math.min(k,c.y+c.height),P={x:l==="horizontal"?b.coordinate:_,y:l==="horizontal"?C:b.coordinate},A=Hw({active:h.payload.active,coordinate:P,dataKey:h.payload.dataKey,index:String(b.index),label:h.payload.label});a(A)}}};return Mf.on(Gw,f),()=>{Mf.off(Gw,f)}},[d,a,t,e,r,s,l,c])}function Pre(){var e=Je(sN),t=Je(iN),a=bn();g.useEffect(()=>{if(e==null)return s7;var r=(s,l,c)=>{t!==c&&e===s&&a(Are(l))};return Mf.on(U6,r),()=>{Mf.off(U6,r)}},[a,t,e])}function Ore(){var e=bn();g.useEffect(()=>{e(_re())},[e]),Ere(),Pre()}function Mre(e,t,a,r,s,l){var c=Je(b=>cre(b,e,t)),d=Je(iN),f=Je(sN),m=Je(J8),h=Je(kre),x=h==null?void 0:h.active;g.useEffect(()=>{if(!x&&f!=null&&d!=null){var b=Hw({active:l,coordinate:a,dataKey:c,index:s,label:typeof r=="number"?String(r):r});Mf.emit(Gw,f,b,d)}},[x,a,c,s,r,d,f,m,l])}function V6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function H6(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(a),!0).forEach(function(r){Dre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Dre(e,t,a){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Rre(e){var t=$re(e,"string");return typeof t=="symbol"?t:t+""}function $re(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lre(e){return e.dataKey}function Ire(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(dQ,t)}var q6=[],zre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!No.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ms(e){var t=ar(e,zre),{active:a,allowEscapeViewBox:r,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:h,position:x,reverseDirection:b,useTranslate3d:y,wrapperStyle:w,cursor:j,shared:S,trigger:k,defaultIndex:_,portal:C,axisId:P}=t,A=bn(),T=typeof _=="number"?String(_):_;g.useEffect(()=>{A(mae({shared:S,trigger:k,axisId:P,active:a,defaultIndex:T}))},[A,S,k,P,a,T]);var R=A2(),O=KD(),V=oae(S),{activeIndex:K,isActive:F}=Je(J=>fre(J,V,k,T)),L=Je(J=>dre(J,V,k,T)),te=Je(J=>t7(J,V,k,T)),Ne=Je(J=>ure(J,V,k,T)),re=L,D=vre(),Y=a??F,[H,B]=_X([re,Y]),E=V==="axis"?te:void 0;Mre(V,k,Ne,E,K,Y);var $=C??D;if($==null)return null;var z=re??q6;Y||(z=q6),d&&z.length&&(z=ZW(re.filter(J=>J.value!=null&&(J.hide!==!0||t.includeHidden)),h,Lre));var W=z.length>0,de=g.createElement(bQ,{allowEscapeViewBox:r,animationDuration:s,animationEasing:l,isAnimationActive:f,active:Y,coordinate:Ne,hasPayload:W,offset:m,position:x,reverseDirection:b,useTranslate3d:y,viewBox:R,wrapperStyle:w,lastBoundingBox:H,innerRef:B,hasPortalFromProps:!!C},Ire(c,H6(H6({},t),{},{payload:z,label:E,active:Y,coordinate:Ne,accessibilityLayer:O})));return g.createElement(g.Fragment,null,mz.createPortal(de,$),Y&&g.createElement(bre,{cursor:j,tooltipEventType:V,coordinate:Ne,payload:re,index:K}))}var Ry={},$y={},Ly={},K6;function Bre(){return K6||(K6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r,{signal:s,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(a.apply(c,d),c=void 0,d=null)},x=()=>{m&&h(),j()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,x()},r)},w=()=>{b!==null&&(clearTimeout(b),b=null)},j=()=>{w(),c=void 0,d=null},S=()=>{h()},k=function(..._){if(s!=null&&s.aborted)return;c=this,d=_;const C=b==null;y(),f&&C&&h()};return k.schedule=y,k.cancel=j,k.flush=S,s==null||s.addEventListener("abort",j,{once:!0}),k}e.debounce=t}(Ly)),Ly}var G6;function Ure(){return G6||(G6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bre();function a(r,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,x=null;const b=t.debounce(function(...j){h=r.apply(this,j),x=null},s,{edges:m}),y=function(...j){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(h=r.apply(this,j),x=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,j),h)},w=()=>(b.flush(),h);return y.cancel=b.cancel,y.flush=w,y}e.debounce=a}($y)),$y}var Y6;function Fre(){return Y6||(Y6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ure();function a(r,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(r,s,{leading:c,maxWait:s,trailing:d})}e.throttle=a}(Ry)),Ry}var Iy,W6;function Vre(){return W6||(W6=1,Iy=Fre().throttle),Iy}var Hre=Vre();const qre=Xr(Hre);var lf=function(t,a){for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l]};function X6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function zy(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(a),!0).forEach(function(r){Kre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Kre(e,t,a){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Gre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hs=g.forwardRef((e,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:s="100%",height:l="100%",minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:x,className:b,onResize:y,style:w={}}=e,j=g.useRef(null),S=g.useRef();S.current=y,g.useImperativeHandle(t,()=>j.current);var[k,_]=g.useState({containerWidth:r.width,containerHeight:r.height}),C=g.useCallback((A,T)=>{_(R=>{var O=Math.round(A),V=Math.round(T);return R.containerWidth===O&&R.containerHeight===V?R:{containerWidth:O,containerHeight:V}})},[]);g.useEffect(()=>{var A=V=>{var K,{width:F,height:L}=V[0].contentRect;C(F,L),(K=S.current)===null||K===void 0||K.call(S,F,L)};h>0&&(A=qre(A,h,{trailing:!0,leading:!1}));var T=new ResizeObserver(A),{width:R,height:O}=j.current.getBoundingClientRect();return C(R,O),T.observe(j.current),()=>{T.disconnect()}},[C,h]);var P=g.useMemo(()=>{var{containerWidth:A,containerHeight:T}=k;if(A<0||T<0)return null;lf(ro(s)||ro(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),lf(!a||a>0,"The aspect(%s) must be greater than zero.",a);var R=ro(s)?A:s,O=ro(l)?T:l;return a&&a>0&&(R?O=R/a:O&&(R=O*a),f&&O>f&&(O=f)),lf(R>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,O,s,l,c,d,a),g.Children.map(m,V=>g.cloneElement(V,{width:R,height:O,style:zy({width:R,height:O},V.props.style)}))},[a,m,l,f,d,c,k,s]);return g.createElement("div",{id:x?"".concat(x):void 0,className:xt("recharts-responsive-container",b),style:zy(zy({},w),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:j},g.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),Qs=e=>null;Qs.displayName="Cell";function Wre(e,t,a){return(t=Xre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xre(e){var t=Zre(e,"string");return typeof t=="symbol"?t:t+""}function Zre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qre{constructor(t){Wre(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function Z6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Jre(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(a),!0).forEach(function(r){ese(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ese(e,t,a){return(t=tse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tse(e){var t=nse(e,"string");return typeof t=="symbol"?t:t+""}function nse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ase={cacheSize:2e3,enableCache:!0},i7=Jre({},ase),Q6=new Qre(i7.cacheSize),rse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},J6="recharts_measurement_span";function sse(e,t){var a=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var eT=(e,t)=>{try{var a=document.getElementById(J6);a||(a=document.createElement("span"),a.setAttribute("id",J6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,rse,t),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},of=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||No.isSsr)return{width:0,height:0};if(!i7.enableCache)return eT(t,a);var r=sse(t,a),s=Q6.get(r);if(s)return s;var l=eT(t,a);return Q6.set(r,l),l},tT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ise=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,l7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ose=Object.keys(l7),Pc="NaN";function cse(e,t){return e*l7[t]}class ka{static parse(t){var a,[,r,s]=(a=lse.exec(t))!==null&&a!==void 0?a:[];return new ka(parseFloat(r),s??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,Qa(t)&&(this.unit=""),a!==""&&!ise.test(a)&&(this.num=NaN,this.unit=""),ose.includes(a)&&(this.num=cse(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new ka(NaN,""):new ka(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ka(NaN,""):new ka(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ka(NaN,""):new ka(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ka(NaN,""):new ka(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qa(this.num)}}function o7(e){if(e.includes(Pc))return Pc;for(var t=e;t.includes("*")||t.includes("/");){var a,[,r,s,l]=(a=tT.exec(t))!==null&&a!==void 0?a:[],c=ka.parse(r??""),d=ka.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Pc;t=t.replace(tT,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,x,b]=(m=nT.exec(t))!==null&&m!==void 0?m:[],y=ka.parse(h??""),w=ka.parse(b??""),j=x==="+"?y.add(w):y.subtract(w);if(j.isNaN())return Pc;t=t.replace(nT,j.toString())}return t}var aT=/\(([^()]*)\)/;function use(e){for(var t=e,a;(a=aT.exec(t))!=null;){var[,r]=a;t=t.replace(aT,o7(r))}return t}function dse(e){var t=e.replace(/\s+/g,"");return t=use(t),t=o7(t),t}function fse(e){try{return dse(e)}catch{return Pc}}function By(e){var t=fse(e.slice(5,-1));return t===Pc?"":t}var mse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hse=["dx","dy","angle","className","breakAll"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Yw.apply(null,arguments)}function rT(e,t){if(e==null)return{};var a,r,s=pse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function pse(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var c7=/[ \f\n\r\t\v\u2028\u2029]+/,u7=e=>{var{children:t,breakAll:a,style:r}=e;try{var s=[];Xt(t)||(a?s=t.toString().split(""):s=t.toString().split(c7));var l=s.map(d=>({word:d,width:of(d,r).width})),c=a?0:of("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},xse=(e,t,a,r,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=Ke(l),h=c,x=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((L,te)=>{var{word:Ne,width:re}=te,D=L[L.length-1];if(D&&(r==null||s||D.width+re+a<Number(r)))D.words.push(Ne),D.width+=re+a;else{var Y={words:[Ne],width:re};L.push(Y)}return L},[])},b=x(t),y=K=>K.reduce((F,L)=>F.width>L.width?F:L);if(!m||s)return b;var w=b.length>l||y(b).width>Number(r);if(!w)return b;for(var j="",S=K=>{var F=h.slice(0,K),L=u7({breakAll:f,style:d,children:F+j}).wordsWithComputedWidth,te=x(L),Ne=te.length>l||y(te).width>Number(r);return[Ne,te]},k=0,_=h.length-1,C=0,P;k<=_&&C<=h.length-1;){var A=Math.floor((k+_)/2),T=A-1,[R,O]=S(T),[V]=S(A);if(!R&&!V&&(k=A+1),R&&V&&(_=A-1),!R&&V){P=O;break}C++}return P||b},sT=e=>{var t=Xt(e)?[]:e.toString().split(c7);return[{words:t}]},gse=e=>{var{width:t,scaleToFit:a,children:r,style:s,breakAll:l,maxLines:c}=e;if((t||a)&&!No.isSsr){var d,f,m=u7({breakAll:l,children:r,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:x}=m;d=h,f=x}else return sT(r);return xse({breakAll:l,children:r,maxLines:c,style:s},d,f,t,a)}return sT(r)},iT="#808080",_x=g.forwardRef((e,t)=>{var{x:a=0,y:r=0,lineHeight:s="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=iT}=e,h=rT(e,mse),x=g.useMemo(()=>gse({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:b,dy:y,angle:w,className:j,breakAll:S}=h,k=rT(h,hse);if(!ys(a)||!ys(r))return null;var _=a+(Ke(b)?b:0),C=r+(Ke(y)?y:0),P;switch(f){case"start":P=By("calc(".concat(l,")"));break;case"middle":P=By("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:P=By("calc(".concat(x.length-1," * -").concat(s,")"));break}var A=[];if(c){var T=x[0].width,{width:R}=h;A.push("scale(".concat(Ke(R)?R/T:1,")"))}return w&&A.push("rotate(".concat(w,", ").concat(_,", ").concat(C,")")),A.length&&(k.transform=A.join(" ")),g.createElement("text",Yw({},tn(k,!0),{ref:t,x:_,y:C,className:xt("recharts-text",j),textAnchor:d,fill:m.includes("url")?iT:m}),x.map((O,V)=>{var K=O.words.join(S?"":" ");return g.createElement("tspan",{x:_,dy:V===0?P:s,key:"".concat(K,"-").concat(V)},K)}))});_x.displayName="Text";var bse=["offset"],vse=["labelRef"];function lT(e,t){if(e==null)return{};var a,r,s=yse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function yse(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function oT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function dn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(a),!0).forEach(function(r){wse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function wse(e,t,a){return(t=jse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jse(e){var t=Nse(e,"string");return typeof t=="symbol"?t:t+""}function Nse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ws.apply(null,arguments)}var Sse=e=>{var{value:t,formatter:a}=e,r=Xt(e.children)?t:e.children;return typeof a=="function"?a(r):r},IN=e=>e!=null&&typeof e=="function",_se=(e,t)=>{var a=qn(t-e),r=Math.min(Math.abs(t-e),360);return a*r},kse=(e,t,a,r)=>{var{position:s,offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:x,endAngle:b,clockWise:y}=r,w=(m+h)/2,j=_se(x,b),S=j>=0?1:-1,k,_;s==="insideStart"?(k=x+S*l,_=y):s==="insideEnd"?(k=b-S*l,_=!y):s==="end"&&(k=b+S*l,_=y),_=j<=0?_:!_;var C=kn(d,f,w,k),P=kn(d,f,w,k+(_?1:-1)*359),A="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),T=Xt(e.id)?Nf("recharts-radial-line-"):e.id;return g.createElement("text",Ws({},a,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",c)}),g.createElement("defs",null,g.createElement("path",{id:T,d:A})),g.createElement("textPath",{xlinkHref:"#".concat(T)},t))},Cse=(e,t,a)=>{var{cx:r,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(a==="outside"){var{x:h,y:x}=kn(r,s,c+t,m);return{x:h,y:x,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,{x:y,y:w}=kn(r,s,b,m);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ase=(e,t)=>{var{parentViewBox:a,offset:r,position:s}=e,{x:l,y:c,width:d,height:f}=t,m=f>=0?1:-1,h=m*r,x=m>0?"end":"start",b=m>0?"start":"end",y=d>=0?1:-1,w=y*r,j=y>0?"end":"start",S=y>0?"start":"end";if(s==="top"){var k={x:l+d/2,y:c-m*r,textAnchor:"middle",verticalAnchor:x};return dn(dn({},k),a?{height:Math.max(c-a.y,0),width:d}:{})}if(s==="bottom"){var _={x:l+d/2,y:c+f+h,textAnchor:"middle",verticalAnchor:b};return dn(dn({},_),a?{height:Math.max(a.y+a.height-(c+f),0),width:d}:{})}if(s==="left"){var C={x:l-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return dn(dn({},C),a?{width:Math.max(C.x-a.x,0),height:f}:{})}if(s==="right"){var P={x:l+d+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return dn(dn({},P),a?{width:Math.max(a.x+a.width-P.x,0),height:f}:{})}var A=a?{width:d,height:f}:{};return s==="insideLeft"?dn({x:l+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},A):s==="insideRight"?dn({x:l+d-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},A):s==="insideTop"?dn({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:b},A):s==="insideBottom"?dn({x:l+d/2,y:c+f-h,textAnchor:"middle",verticalAnchor:x},A):s==="insideTopLeft"?dn({x:l+w,y:c+h,textAnchor:S,verticalAnchor:b},A):s==="insideTopRight"?dn({x:l+d-w,y:c+h,textAnchor:j,verticalAnchor:b},A):s==="insideBottomLeft"?dn({x:l+w,y:c+f-h,textAnchor:S,verticalAnchor:x},A):s==="insideBottomRight"?dn({x:l+d-w,y:c+f-h,textAnchor:j,verticalAnchor:x},A):s&&typeof s=="object"&&(Ke(s.x)||ro(s.x))&&(Ke(s.y)||ro(s.y))?dn({x:l+ga(s.x,d),y:c+ga(s.y,f),textAnchor:"end",verticalAnchor:"end"},A):dn({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Tse=e=>"cx"in e&&Ke(e.cx);function Wa(e){var{offset:t=5}=e,a=lT(e,bse),r=dn({offset:t},a),{viewBox:s,position:l,value:c,children:d,content:f,className:m="",textBreakAll:h,labelRef:x}=r,b=Je(rR),y=A2(),w=l==="center"?y:b??y,j=s||w;if(!j||Xt(c)&&Xt(d)&&!g.isValidElement(f)&&typeof f!="function")return null;var S=dn(dn({},r),{},{viewBox:j});if(g.isValidElement(f)){var{labelRef:k}=S,_=lT(S,vse);return g.cloneElement(f,_)}var C;if(typeof f=="function"){if(C=g.createElement(f,S),g.isValidElement(C))return C}else C=Sse(r);var P=Tse(j),A=tn(r,!0);if(P&&(l==="insideStart"||l==="insideEnd"||l==="end"))return kse(r,C,A,j);var T=P?Cse(j,r.offset,r.position):Ase(r,j);return g.createElement(_x,Ws({ref:x,className:xt("recharts-label",m)},A,T,{breakAll:h}),C)}Wa.displayName="Label";var d7=e=>{var{cx:t,cy:a,angle:r,startAngle:s,endAngle:l,r:c,radius:d,innerRadius:f,outerRadius:m,x:h,y:x,top:b,left:y,width:w,height:j,clockWise:S,labelViewBox:k}=e;if(k)return k;if(Ke(w)&&Ke(j)){if(Ke(h)&&Ke(x))return{x:h,y:x,width:w,height:j};if(Ke(b)&&Ke(y))return{x:b,y,width:w,height:j}}if(Ke(h)&&Ke(x))return{x:h,y:x,width:0,height:0};if(Ke(t)&&Ke(a))return{cx:t,cy:a,startAngle:s||r||0,endAngle:l||r||0,innerRadius:f||0,outerRadius:m||d||c||0,clockWise:S};if(e.viewBox)return e.viewBox},Ese=(e,t,a)=>{if(!e)return null;var r={viewBox:t,labelRef:a};return e===!0?g.createElement(Wa,Ws({key:"label-implicit"},r)):ys(e)?g.createElement(Wa,Ws({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===Wa?g.cloneElement(e,dn({key:"label-implicit"},r)):g.createElement(Wa,Ws({key:"label-implicit",content:e},r)):IN(e)?g.createElement(Wa,Ws({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(Wa,Ws({},e,{key:"label-implicit"},r)):null},Pse=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:s,labelRef:l}=t,c=d7(t),d=Gf(s,Wa).map((m,h)=>g.cloneElement(m,{viewBox:a||c,key:"label-".concat(h)}));if(!r)return d;var f=Ese(t.label,a||c,l);return[f,...d]};Wa.parseViewBox=d7;Wa.renderCallByParent=Pse;var Uy={},Fy={},cT;function Ose(){return cT||(cT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t}(Fy)),Fy}var Vy={},uT;function Mse(){return uT||(uT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t}(Vy)),Vy}var dT;function Dse(){return dT||(dT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ose(),a=Mse(),r=p2();function s(l){if(r.isArrayLike(l))return t.last(a.toArray(l))}e.last=s}(Uy)),Uy}var Hy,fT;function Rse(){return fT||(fT=1,Hy=Dse().last),Hy}var $se=Rse();const Lse=Xr($se);var Ise=["valueAccessor"],zse=["data","dataKey","clockWise","id","textBreakAll"];function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},jp.apply(null,arguments)}function mT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function hT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(a),!0).forEach(function(r){Bse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Bse(e,t,a){return(t=Use(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Use(e){var t=Fse(e,"string");return typeof t=="symbol"?t:t+""}function Fse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pT(e,t){if(e==null)return{};var a,r,s=Vse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Vse(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Hse=e=>Array.isArray(e.value)?Lse(e.value):e.value;function il(e){var{valueAccessor:t=Hse}=e,a=pT(e,Ise),{data:r,dataKey:s,clockWise:l,id:c,textBreakAll:d}=a,f=pT(a,zse);return!r||!r.length?null:g.createElement(ca,{className:"recharts-label-list"},r.map((m,h)=>{var x=Xt(s)?t(m,h):Ft(m&&m.payload,s),b=Xt(c)?{}:{id:"".concat(c,"-").concat(h)};return g.createElement(Wa,jp({},tn(m,!0),f,b,{parentViewBox:m.parentViewBox,value:x,textBreakAll:d,viewBox:Wa.parseViewBox(Xt(l)?m:hT(hT({},m),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}il.displayName="LabelList";function qse(e,t){return e?e===!0?g.createElement(il,{key:"labelList-implicit",data:t}):g.isValidElement(e)||IN(e)?g.createElement(il,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?g.createElement(il,jp({data:t},e,{key:"labelList-implicit"})):null:null}function Kse(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&a&&!e.label)return null;var{children:r}=e,s=Gf(r,il).map((c,d)=>g.cloneElement(c,{data:t,key:"labelList-".concat(d)}));if(!a)return s;var l=qse(e.label,t);return[l,...s]}il.renderCallByParent=Kse;function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ww.apply(null,arguments)}var f7=e=>{var{cx:t,cy:a,r,className:s}=e,l=xt("recharts-dot",s);return t===+t&&a===+a&&r===+r?g.createElement("circle",Ww({},pi(e),d2(e),{className:l,cx:t,cy:a,r})):null},m7=e=>e.graphicalItems.polarItems,Gse=ye([rn,em],fN),zN=ye([m7,vn,Gse],mN),Yse=ye([zN],hN),BN=ye([Yse,tN],pN),Wse=ye([BN,vn,zN],gN),Xse=ye([BN,vn,zN],(e,t,a)=>a.length>0?e.flatMap(r=>a.flatMap(s=>{var l,c=Ft(r,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ft(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),xT=()=>{},Zse=ye([vn,wR,xT,Xse,xT,Nt,rn],vN),h7=ye([vn,Nt,BN,Wse,Jf,rn,Zse],yN),Qse=ye([h7,vn,ju],NN);ye([vn,h7,Qse,rn],_N);var Jse={radiusAxis:{},angleAxis:{}},p7=nr({name:"polarAxis",initialState:Jse,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ahe,removeRadiusAxis:rhe,addAngleAxis:she,removeAngleAxis:ihe}=p7.actions,eie=p7.reducer;function gT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function bT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(a),!0).forEach(function(r){tie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function tie(e,t,a){return(t=nie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function nie(e){var t=aie(e,"string");return typeof t=="symbol"?t:t+""}function aie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rie=(e,t)=>t,UN=ye([m7,rie],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),sie=[],FN=(e,t,a)=>(a==null?void 0:a.length)===0?sie:a,x7=ye([tN,UN,FN],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&a!=null&&(s=a.map(l=>bT(bT({},t.presentationProps),l.props))),s!=null)return s}}),iie=ye([x7,UN,FN],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,s)=>{var l,c=Ft(r,t.nameKey,t.name),d;return a!=null&&(l=a[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=a[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:xu(c,t.dataKey),color:d,payload:r,type:t.legendType}})}),lie=ye([x7,UN,FN,Dn],(e,t,a,r)=>{if(!(t==null||e==null))return ele({offset:r,pieSettings:t,displayedData:e,cells:a})}),qy={},vT;function oie(){return vT||(vT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){var s;if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const l=a[Symbol.toStringTag];return l==null||!((s=Object.getOwnPropertyDescriptor(a,Symbol.toStringTag))!=null&&s.writable)?!1:a.toString()===`[object ${l}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}e.isPlainObject=t}(qy)),qy}var Ky,yT;function cie(){return yT||(yT=1,Ky=oie().isPlainObject),Ky}var uie=cie();const die=Xr(uie);function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Np.apply(null,arguments)}var wT=(e,t,a,r,s)=>{var l=a-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+a,",").concat(t),c+="L ".concat(e+a-l/2,",").concat(t+s),c+="L ".concat(e+a-l/2-r,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},fie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mie=e=>{var t=ar(e,fie),a=g.useRef(),[r,s]=g.useState(-1);g.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&s(S)}catch{}},[]);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m,className:h}=t,{animationEasing:x,animationDuration:b,animationBegin:y,isUpdateAnimationActive:w}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=xt("recharts-trapezoid",h);return w?g.createElement(lp,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:m,x:l,y:c},duration:b,animationEasing:x,isActive:w},S=>{var{upperWidth:k,lowerWidth:_,height:C,x:P,y:A}=S;return g.createElement(lp,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:x},g.createElement("path",Np({},tn(t,!0),{className:j,d:wT(P,A,k,_,C),ref:a})))}):g.createElement("g",null,g.createElement("path",Np({},tn(t,!0),{className:j,d:wT(l,c,d,f,m)})))},hie=["option","shapeType","propTransformer","activeClassName","isActive"];function pie(e,t){if(e==null)return{};var a,r,s=xie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function xie(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function jT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Sp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(a),!0).forEach(function(r){gie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function gie(e,t,a){return(t=bie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bie(e){var t=vie(e,"string");return typeof t=="symbol"?t:t+""}function vie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yie(e,t){return Sp(Sp({},t),e)}function wie(e,t){return e==="symbols"}function NT(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return g.createElement(JD,a);case"trapezoid":return g.createElement(mie,a);case"sector":return g.createElement(P2,a);case"symbols":if(wie(t))return g.createElement(ZM,a);break;default:return null}}function jie(e){return g.isValidElement(e)?e.props:e}function g7(e){var{option:t,shapeType:a,propTransformer:r=yie,activeClassName:s="recharts-active-shape",isActive:l}=e,c=pie(e,hie),d;if(g.isValidElement(t))d=g.cloneElement(t,Sp(Sp({},c),jie(t)));else if(typeof t=="function")d=t(c);else if(die(t)&&typeof t!="boolean"){var f=r(t,c);d=g.createElement(NT,{shapeType:a,elementProps:f})}else{var m=c;d=g.createElement(NT,{shapeType:a,elementProps:m})}return l?g.createElement(ca,{className:s},d):d}var VN=(e,t)=>{var a=bn();return(r,s)=>l=>{e==null||e(r,s,l),a(LR({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},HN=e=>{var t=bn();return(a,r)=>s=>{e==null||e(a,r,s),t(hae())}},qN=(e,t)=>{var a=bn();return(r,s)=>l=>{e==null||e(r,s,l),a(pae({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function KN(e){var{fn:t,args:a}=e,r=bn(),s=Oa();return g.useEffect(()=>{if(!s){var l=t(a);return r(dae(l)),()=>{r(fae(l))}}},[t,a,r,s]),null}var b7=()=>{};function v7(e){var{legendPayload:t}=e,a=bn(),r=Oa();return g.useEffect(()=>r?b7:(a(HD(t)),()=>{a(qD(t))}),[a,r,t]),null}function Nie(e){var{legendPayload:t}=e,a=bn(),r=Je(Nt);return g.useEffect(()=>r!=="centric"&&r!=="radial"?b7:(a(HD(t)),()=>{a(qD(t))}),[a,r,t]),null}function GN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=g.useRef(Nf(t)),r=g.useRef(e);return r.current!==e&&(a.current=Nf(t),r.current=e),a.current}var Gy,Sie=()=>{var[e]=g.useState(()=>Nf("uid-"));return e},_ie=(Gy=RL.useId)!==null&&Gy!==void 0?Gy:Sie;function kie(e,t){var a=_ie();return t||(e?"".concat(e,"-").concat(a):a)}var Cie=g.createContext(void 0),YN=e=>{var{id:t,type:a,children:r}=e,s=kie("recharts-".concat(a),t);return g.createElement(Cie.Provider,{value:s},r(s))},Aie={cartesianItems:[],polarItems:[]},y7=nr({name:"graphicalItems",initialState:Aie,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:a,next:r}=t.payload,s=ei(e).cartesianItems.indexOf(a);s>-1&&(e.cartesianItems[s]=r)},removeCartesianGraphicalItem(e,t){var a=ei(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var a=ei(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)}}}),{addCartesianGraphicalItem:Tie,replaceCartesianGraphicalItem:Eie,removeCartesianGraphicalItem:Pie,addPolarGraphicalItem:Oie,removePolarGraphicalItem:Mie}=y7.actions,Die=y7.reducer;function w7(e){var t=bn(),a=g.useRef(null);return g.useEffect(()=>{a.current===null?t(Tie(e)):a.current!==e&&t(Eie({prev:a.current,next:e})),a.current=e},[t,e]),g.useEffect(()=>()=>{a.current&&(t(Pie(a.current)),a.current=null)},[t]),null}function Rie(e){var t=bn();return g.useEffect(()=>(t(Oie(e)),()=>{t(Mie(e))}),[t,e]),null}function $ie(){}var Lie={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ST={t:0},Yy={t:1};function WN(e){var t=ar(e,Lie),{isActive:a,canBegin:r,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=QD("JavascriptAnimate",t.animationManager),[x,b]=g.useState(a?ST:Yy),y=g.useRef(null);return g.useEffect(()=>{a||b(Yy)},[a]),g.useEffect(()=>{if(!a||!r)return $ie;var w=ZD(ST,Yy,WD(l),s,b,h.getTimeoutController()),j=()=>{y.current=w()};return h.start([f,c,j,s,d]),()=>{h.stop(),y.current&&y.current(),d()}},[a,r,s,l,c,f,d,h]),m(x.t)}var Iie=["onMouseEnter","onClick","onMouseLeave"],zie=["id"],Bie=["id"];function XN(e,t){if(e==null)return{};var a,r,s=Uie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Uie(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function _T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function hn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(a),!0).forEach(function(r){Fie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_T(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Fie(e,t,a){return(t=Vie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Vie(e){var t=Hie(e,"string");return typeof t=="symbol"?t:t+""}function Hie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},hi.apply(null,arguments)}function qie(e){var t=g.useMemo(()=>Gf(e.children,Qs),[e.children]),a=Je(r=>iie(r,e.id,t));return a==null?null:g.createElement(Nie,{legendPayload:a})}function Kie(e){var{dataKey:t,nameKey:a,sectors:r,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:r==null?void 0:r.map(h=>h.tooltipPayload),positions:r==null?void 0:r.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:a,name:xu(d,t),hide:f,type:m,color:c,unit:""}}}var Gie=(e,t)=>e>t?"start":e<t?"end":"middle",Yie=(e,t,a)=>typeof t=="function"?t(e):ga(t,a,a*.8),Wie=(e,t,a)=>{var{top:r,left:s,width:l,height:c}=t,d=OD(l,c),f=s+ga(e.cx,l,l/2),m=r+ga(e.cy,c,c/2),h=ga(e.innerRadius,d,0),x=Yie(a,e.outerRadius,d),b=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:x,maxRadius:b}},Xie=(e,t)=>{var a=qn(t-e),r=Math.min(Math.abs(t-e),360);return a*r},Zie=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var a=xt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(T2,hi({},t,{type:"linear",className:a}))},Qie=(e,t,a)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var s=xt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return g.createElement(_x,hi({},t,{alignmentBaseline:"middle",className:s}),r)};function Jie(e){var{sectors:t,props:a,showLabels:r}=e,{label:s,labelLine:l,dataKey:c}=a;if(!r||!s||!t)return null;var d=pi(a),f=tn(s,!1),m=tn(l,!1),h=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,x=t.map((b,y)=>{var w=(b.startAngle+b.endAngle)/2,j=kn(b.cx,b.cy,b.outerRadius+h,w),S=hn(hn(hn(hn({},d),b),{},{stroke:"none"},f),{},{index:y,textAnchor:Gie(j.x,b.cx)},j),k=hn(hn(hn(hn({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:y,points:[kn(b.cx,b.cy,b.outerRadius,w),j],key:"line"});return g.createElement(ca,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},l&&Zie(l,k),Qie(s,S,Ft(b,c)))});return g.createElement(ca,{className:"recharts-pie-labels"},x)}function j7(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:s,showLabels:l}=e,c=Je(pl),{onMouseEnter:d,onClick:f,onMouseLeave:m}=s,h=XN(s,Iie),x=VN(d,s.dataKey),b=HN(m),y=qN(f,s.dataKey);return t==null?null:g.createElement(g.Fragment,null,t.map((w,j)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&t.length!==1)return null;var S=a&&String(j)===c,k=c?r:null,_=S?a:k,C=hn(hn({},w),{},{stroke:w.stroke,tabIndex:-1,[LD]:j,[ID]:s.dataKey});return g.createElement(ca,hi({tabIndex:-1,className:"recharts-pie-sector"},Gp(h,w,j),{onMouseEnter:x(w,j),onMouseLeave:b(w,j),onClick:y(w,j),key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(j)}),g.createElement(g7,hi({option:_,isActive:S,shapeType:"sector"},C)))}),g.createElement(Jie,{sectors:t,props:s,showLabels:l}))}function ele(e){var t,{pieSettings:a,displayedData:r,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:x}=a,b=Math.abs(a.minAngle),y=Xie(d,f),w=Math.abs(y),j=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(T=>Ft(T,m,0)!==0).length,k=(w>=360?S:S-1)*j,_=w-S*b-k,C=r.reduce((T,R)=>{var O=Ft(R,m,0);return T+(Ke(O)?O:0)},0),P;if(C>0){var A;P=r.map((T,R)=>{var O=Ft(T,m,0),V=Ft(T,h,R),K=Wie(a,l,T),F=(Ke(O)?O:0)/C,L,te=hn(hn({},T),s&&s[R]&&s[R].props);R?L=A.endAngle+qn(y)*j*(O!==0?1:0):L=d;var Ne=L+qn(y)*((O!==0?b:0)+F*_),re=(L+Ne)/2,D=(K.innerRadius+K.outerRadius)/2,Y=[{name:V,value:O,payload:te,dataKey:m,type:x}],H=kn(K.cx,K.cy,D,re);return A=hn(hn(hn(hn({},a.presentationProps),{},{percent:F,cornerRadius:c,name:V,tooltipPayload:Y,midAngle:re,middleRadius:D,tooltipPosition:H},te),K),{},{value:Ft(T,m),startAngle:L,endAngle:Ne,payload:te,paddingAngle:qn(y)*j}),A})}return P}function tle(e){var{props:t,previousSectorsRef:a}=e,{sectors:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:h,onAnimationEnd:x}=t,b=GN(t,"recharts-pie-"),y=a.current,[w,j]=g.useState(!0),S=g.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),k=g.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return g.createElement(WN,{begin:l,duration:c,isActive:s,easing:d,onAnimationStart:k,onAnimationEnd:S,key:b},_=>{var C=[],P=r&&r[0],A=P.startAngle;return r.forEach((T,R)=>{var O=y&&y[R],V=R>0?fl(T,"paddingAngle",0):0;if(O){var K=Jk(O.endAngle-O.startAngle,T.endAngle-T.startAngle),F=hn(hn({},T),{},{startAngle:A+V,endAngle:A+K(_)+V});C.push(F),A=F.endAngle}else{var{endAngle:L,startAngle:te}=T,Ne=Jk(0,L-te),re=Ne(_),D=hn(hn({},T),{},{startAngle:A+V,endAngle:A+re+V});C.push(D),A=D.endAngle}}),a.current=C,g.createElement(ca,null,g.createElement(j7,{sectors:C,activeShape:f,inactiveShape:m,allOtherPieProps:t,showLabels:!w}))})}function nle(e){var{sectors:t,isAnimationActive:a,activeShape:r,inactiveShape:s}=e,l=g.useRef(null),c=l.current;return a&&t&&t.length&&(!c||c!==t)?g.createElement(tle,{props:e,previousSectorsRef:l}):g.createElement(j7,{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function ale(e){var{hide:t,className:a,rootTabIndex:r}=e,s=xt("recharts-pie",a);return t?null:g.createElement(ca,{tabIndex:r,className:s},g.createElement(nle,e))}var rle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!No.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function sle(e){var{id:t}=e,a=XN(e,zie),r=g.useMemo(()=>Gf(e.children,Qs),[e.children]),s=Je(l=>lie(l,t,r));return g.createElement(g.Fragment,null,g.createElement(KN,{fn:Kie,args:hn(hn({},e),{},{sectors:s})}),g.createElement(ale,hi({},a,{sectors:s})))}function Df(e){var t=ar(e,rle),{id:a}=t,r=XN(t,Bie),s=pi(r);return g.createElement(YN,{id:a,type:"pie"},l=>g.createElement(g.Fragment,null,g.createElement(Rie,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s}),g.createElement(qie,hi({},r,{id:l})),g.createElement(sle,hi({},r,{id:l})),r.children))}Df.displayName="Pie";var ile=ye([Dn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),lle=ye([ile,xi,gi],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),ZN=()=>Je(lle),ole=()=>Je(tre);function kT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function CT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(a),!0).forEach(function(r){cle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function cle(e,t,a){return(t=ule(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ule(e){var t=dle(e,"string");return typeof t=="symbol"?t:t+""}function dle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fle=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:s,dataKey:l}=e;if(s===!1||t.x==null||t.y==null)return null;var c=CT(CT({index:a,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},tn(s,!1)),d2(s)),d;return g.isValidElement(s)?d=g.cloneElement(s,c):typeof s=="function"?d=s(c):d=g.createElement(f7,c),g.createElement(ca,{className:"recharts-active-dot"},d)};function mle(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:s}=e,l=Je(pl),c=ole();if(t==null||c==null)return null;var d=t.find(f=>c.includes(f.payload));return Xt(d)?null:fle({point:d,childIndex:Number(l),mainColor:a,dataKey:s,activeDot:r})}var hle="Invariant failed";function ple(e,t){throw new Error(hle)}var xle=["x","y"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Xw.apply(null,arguments)}function AT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Md(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(a),!0).forEach(function(r){gle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function gle(e,t,a){return(t=ble(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ble(e){var t=vle(e,"string");return typeof t=="symbol"?t:t+""}function vle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yle(e,t){if(e==null)return{};var a,r,s=wle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function wle(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function jle(e,t){var{x:a,y:r}=e,s=yle(e,xle),l="".concat(a),c=parseInt(l,10),d="".concat(r),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),x="".concat(t.width||s.width),b=parseInt(x,10);return Md(Md(Md(Md(Md({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:b,name:t.name,radius:t.radius})}function N7(e){return g.createElement(g7,Xw({shapeType:"rectangle",propTransformer:jle,activeClassName:"recharts-active-bar"},e))}var Nle=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(Ke(t))return t;var l=Ke(r)||Xt(r);return l?t(r,s):(l||ple(),a)}},Sle={},S7=nr({name:"errorBars",initialState:Sle,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]||(e[a]=[]),e[a].push(r)},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]&&(e[a]=e[a].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:lhe,removeErrorBar:ohe}=S7.actions,_le=S7.reducer,kle=["children"];function Cle(e,t){if(e==null)return{};var a,r,s=Ale(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ale(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Tle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ele=g.createContext(Tle);function _7(e){var{children:t}=e,a=Cle(e,kle);return g.createElement(Ele.Provider,{value:a},t)}function QN(e,t){var a,r,s=Je(m=>vi(m,e)),l=Je(m=>wl(m,t)),c=(a=s==null?void 0:s.allowDataOverflow)!==null&&a!==void 0?a:qa.allowDataOverflow,d=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:Ka.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function k7(e){var{xAxisId:t,yAxisId:a,clipPathId:r}=e,s=ZN(),{needClipX:l,needClipY:c,needClip:d}=QN(t,a);if(!d)return null;var{x:f,y:m,width:h,height:x}=s;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:l?f:f-h/2,y:c?m:m-x/2,width:l?h:h*2,height:c?x:x*2}))}var Ple=["onMouseEnter","onMouseLeave","onClick"],Ole=["value","background","tooltipPosition"],Mle=["id"],Dle=["onMouseEnter","onClick","onMouseLeave"];function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},au.apply(null,arguments)}function TT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function la(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(a),!0).forEach(function(r){Rle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Rle(e,t,a){return(t=$le(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $le(e){var t=Lle(e,"string");return typeof t=="symbol"?t:t+""}function Lle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _p(e,t){if(e==null)return{};var a,r,s=Ile(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ile(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var zle=e=>{var{dataKey:t,name:a,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:xu(a,t),payload:e}]};function Ble(e){var{dataKey:t,stroke:a,strokeWidth:r,fill:s,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:xu(l,t),hide:c,type:e.tooltipType,color:e.fill,unit:d}}}function Ule(e){var t=Je(pl),{data:a,dataKey:r,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=_p(l,Ple),h=VN(c,r),x=HN(d),b=qN(f,r);if(!s||a==null)return null;var y=tn(s,!1);return g.createElement(g.Fragment,null,a.map((w,j)=>{var{value:S,background:k,tooltipPosition:_}=w,C=_p(w,Ole);if(!k)return null;var P=h(w,j),A=x(w,j),T=b(w,j),R=la(la(la(la(la({option:s,isActive:String(j)===t},C),{},{fill:"#eee"},k),y),Gp(m,w,j)),{},{onMouseEnter:P,onMouseLeave:A,onClick:T,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return g.createElement(N7,au({key:"background-bar-".concat(j)},R))}))}function C7(e){var{data:t,props:a,showLabels:r}=e,s=pi(a),{id:l}=s,c=_p(s,Mle),{shape:d,dataKey:f,activeBar:m}=a,h=Je(pl),x=Je(XR),{onMouseEnter:b,onClick:y,onMouseLeave:w}=a,j=_p(a,Dle),S=VN(b,f),k=HN(w),_=qN(y,f);return t?g.createElement(g.Fragment,null,t.map((C,P)=>{var A=m&&String(P)===h&&(x==null||f===x),T=A?m:d,R=la(la(la({},c),C),{},{isActive:A,option:T,index:P,dataKey:f});return g.createElement(ca,au({className:"recharts-bar-rectangle"},Gp(j,C,P),{onMouseEnter:S(C,P),onMouseLeave:k(C,P),onClick:_(C,P),key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(P)}),g.createElement(N7,R))}),r&&il.renderCallByParent(a,t)):null}function Fle(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,x=a.current,b=GN(t,"recharts-bar-"),[y,w]=g.useState(!1),j=g.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),S=g.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return g.createElement(WN,{begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:S,key:b},k=>{var _=k===1?r:r==null?void 0:r.map((C,P)=>{var A=x&&x[P];if(A)return la(la({},C),{},{x:Fr(A.x,C.x,k),y:Fr(A.y,C.y,k),width:Fr(A.width,C.width,k),height:Fr(A.height,C.height,k)});if(s==="horizontal"){var T=Fr(0,C.height,k);return la(la({},C),{},{y:C.y+C.height-T,height:T})}var R=Fr(0,C.width,k);return la(la({},C),{},{width:R})});return k>0&&(a.current=_??null),_==null?null:g.createElement(ca,null,g.createElement(C7,{props:t,data:_,showLabels:!y}))})}function Vle(e){var{data:t,isAnimationActive:a}=e,r=g.useRef(null);return a&&t&&t.length&&(r.current==null||r.current!==t)?g.createElement(Fle,{previousRectanglesRef:r,props:e}):g.createElement(C7,{props:e,data:t,showLabels:!0})}var A7=0,Hle=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:Ft(e,t)}};class qle extends g.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t)return null;var h=xt("recharts-bar",s),x=m;return g.createElement(ca,{className:h,id:m},d&&g.createElement("defs",null,g.createElement(k7,{clipPathId:x,xAxisId:l,yAxisId:c})),g.createElement(ca,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},g.createElement(Ule,{data:a,dataKey:r,background:f,allOtherBarProps:this.props}),g.createElement(Vle,this.props)),this.props.children)}}var Kle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!No.isSsr,legendType:"rect",minPointSize:A7,xAxisId:0,yAxisId:0};function Gle(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:x}=QN(t,a),b=lx(),y=Oa(),w=Gf(e.children,Qs),j=Je(_=>yoe(_,t,a,y,e.id,w));if(b!=="vertical"&&b!=="horizontal")return null;var S,k=j==null?void 0:j[0];return k==null||k.height==null||k.width==null?S=0:S=b==="vertical"?k.height/2:k.width/2,g.createElement(_7,{xAxisId:t,yAxisId:a,data:j,dataPointFormatter:Hle,errorBarOffset:S},g.createElement(qle,au({},e,{layout:b,needClip:x,data:j,xAxisId:t,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function Yle(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:x,offset:b,cells:y}=e,w=t==="horizontal"?d:c,j=h?w.scale.domain():null,S=HZ({numericAxis:w});return x.map((k,_)=>{var C,P,A,T,R,O;h?C=IZ(h[_],j):(C=Ft(k,a),Array.isArray(C)||(C=[S,C]));var V=Nle(r,A7)(C[1],_);if(t==="horizontal"){var K,[F,L]=[d.scale(C[0]),d.scale(C[1])];P=hA({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:k,index:_}),A=(K=L??F)!==null&&K!==void 0?K:void 0,T=s.size;var te=F-L;if(R=Qa(te)?0:te,O={x:P,y:b.top,width:T,height:b.height},Math.abs(V)>0&&Math.abs(R)<Math.abs(V)){var Ne=qn(R||V)*(Math.abs(V)-Math.abs(R));A-=Ne,R+=Ne}}else{var[re,D]=[c.scale(C[0]),c.scale(C[1])];if(P=re,A=hA({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:k,index:_}),T=D-re,R=s.size,O={x:b.left,y:A,width:b.width,height:R},Math.abs(V)>0&&Math.abs(T)<Math.abs(V)){var Y=qn(T||V)*(Math.abs(V)-Math.abs(T));T+=Y}}if(P==null||A==null||T==null||R==null)return null;var H=la(la({},k),{},{x:P,y:A,width:T,height:R,value:h?C:C[1],payload:k,background:O,tooltipPosition:{x:P+T/2,y:A+R/2}},y&&y[_]&&y[_].props);return H}).filter(Boolean)}function cf(e){var t=ar(e,Kle),a=Oa();return g.createElement(YN,{id:t.id,type:"bar"},r=>g.createElement(g.Fragment,null,g.createElement(v7,{legendPayload:zle(t)}),g.createElement(KN,{fn:Ble,args:t}),g.createElement(w7,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:VZ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),g.createElement(Gle,au({},t,{id:r}))))}cf.displayName="Bar";function ET(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Uh(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(a),!0).forEach(function(r){Wle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ET(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Wle(e,t,a){return(t=Xle(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xle(e){var t=Zle(e,"string");return typeof t=="symbol"?t:t+""}function Zle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qle=(e,t)=>t,Jle=(e,t,a)=>a,eoe=(e,t,a,r)=>r,toe=(e,t,a,r,s)=>s,im=ye([vx,toe],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),noe=ye([im],e=>e==null?void 0:e.maxBarSize),aoe=(e,t,a,r,s,l)=>l,PT=(e,t,a)=>{var r=a??e;if(!Xt(r))return ga(r,t,0)},roe=ye([Nt,vx,Qle,Jle,eoe],(e,t,a,r,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===a:l.yAxisId===r).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),soe=(e,t,a,r)=>{var s=Nt(e);return s==="horizontal"?Vw(e,"yAxis",a,r):Vw(e,"xAxis",t,r)},ioe=(e,t,a)=>{var r=Nt(e);return r==="horizontal"?O6(e,"xAxis",t):O6(e,"yAxis",a)},loe=(e,t,a)=>{var r={},s=e.filter(bx),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),r),d=Object.entries(c).map(m=>{var[h,x]=m,b=x.map(w=>w.dataKey),y=PT(t,a,x[0].barSize);return{stackId:h,dataKeys:b,barSize:y}}),f=l.map(m=>{var h=[m.dataKey].filter(b=>b!=null),x=PT(t,a,m.barSize);return{stackId:void 0,dataKeys:h,barSize:x}});return[...d,...f]},ooe=ye([roe,fne,ioe],loe),coe=(e,t,a,r,s)=>{var l,c,d=im(e,t,a,r,s);if(d!=null){var f=Nt(e),m=Z8(e),{maxBarSize:h}=d,x=Xt(h)?m:h,b,y;return f==="horizontal"?(b=hl(e,"xAxis",t,r),y=ml(e,"xAxis",t,r)):(b=hl(e,"yAxis",a,r),y=ml(e,"yAxis",a,r)),(l=(c=kf(b,y,!0))!==null&&c!==void 0?c:x)!==null&&l!==void 0?l:0}},T7=(e,t,a,r)=>{var s=Nt(e),l,c;return s==="horizontal"?(l=hl(e,"xAxis",t,r),c=ml(e,"xAxis",t,r)):(l=hl(e,"yAxis",a,r),c=ml(e,"yAxis",a,r)),kf(l,c)};function uoe(e,t,a,r,s){var l=r.length;if(!(l<1)){var c=ga(e,a,0,!0),d,f=[];if(tr(r[0].barSize)){var m=!1,h=a/l,x=r.reduce((k,_)=>k+(_.barSize||0),0);x+=(l-1)*c,x>=a&&(x-=(l-1)*c,c=0),x>=a&&h>0&&(m=!0,h*=.9,x=l*h);var b=(a-x)/2>>0,y={offset:b-c,size:0};d=r.reduce((k,_)=>{var C,P={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:y.offset+y.size+c,size:m?h:(C=_.barSize)!==null&&C!==void 0?C:0}},A=[...k,P];return y=A[A.length-1].position,A},f)}else{var w=ga(t,a,0,!0);a-2*w-(l-1)*c<=0&&(c=0);var j=(a-2*w-(l-1)*c)/l;j>1&&(j>>=0);var S=tr(s)?Math.min(j,s):j;d=r.reduce((k,_,C)=>[...k,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:w+(j+c)*C+(j-S)/2,size:S}}],f)}return d}}var doe=(e,t,a,r,s,l,c)=>{var d=Xt(c)?t:c,f=uoe(a,r,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>Uh(Uh({},m),{},{position:Uh(Uh({},m.position),{},{offset:m.position.offset-s/2})}))),f},foe=ye([ooe,Z8,dne,Q8,coe,T7,noe],doe),moe=(e,t,a,r)=>hl(e,"xAxis",t,r),hoe=(e,t,a,r)=>hl(e,"yAxis",a,r),poe=(e,t,a,r)=>ml(e,"xAxis",t,r),xoe=(e,t,a,r)=>ml(e,"yAxis",a,r),goe=ye([foe,im],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),boe=(e,t)=>{var a=uN(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var s=e[r];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===a)}}}},voe=ye([soe,im],boe),yoe=ye([Dn,moe,hoe,poe,xoe,goe,Nt,hx,T7,voe,im,aoe],(e,t,a,r,s,l,c,d,f,m,h,x)=>{var{chartData:b,dataStartIndex:y,dataEndIndex:w}=d;if(!(h==null||l==null||c!=="horizontal"&&c!=="vertical"||t==null||a==null||r==null||s==null||f==null)){var{data:j}=h,S;if(j!=null&&j.length>0?S=j:S=b==null?void 0:b.slice(y,w+1),S!=null)return Yle({layout:c,barSettings:h,pos:l,bandSize:f,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,stackedData:m,displayedData:S,offset:e,cells:x})}}),E7=e=>{var{chartData:t}=e,a=bn(),r=Oa();return g.useEffect(()=>r?()=>{}:(a(F6(t)),()=>{a(F6(void 0))}),[t,a,r]),null},OT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},P7=nr({name:"brush",initialState:OT,reducers:{setBrushSettings(e,t){return t.payload==null?OT:t.payload}}}),{setBrushSettings:che}=P7.actions,woe=P7.reducer;function joe(e,t,a){return(t=Noe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Noe(e){var t=Soe(e,"string");return typeof t=="symbol"?t:t+""}function Soe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JN{static create(t){return new JN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var a=this.range(),r=a[0],s=a[a.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}joe(JN,"EPS",1e-4);function _oe(e){return(e%180+180)%180}var koe=function(t){var{width:a,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=_oe(s),c=l*Math.PI/180,d=Math.atan(r/a),f=c>d&&c<Math.PI-d?r/Math.sin(c):a/Math.cos(c);return Math.abs(f)},Coe={dots:[],areas:[],lines:[]},O7=nr({name:"referenceElements",initialState:Coe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=ei(e).dots.findIndex(r=>r===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=ei(e).areas.findIndex(r=>r===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=ei(e).lines.findIndex(r=>r===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:uhe,removeDot:dhe,addArea:fhe,removeArea:mhe,addLine:hhe,removeLine:phe}=O7.actions,Aoe=O7.reducer,Toe=g.createContext(void 0),Eoe=e=>{var{children:t}=e,[a]=g.useState("".concat(Nf("recharts"),"-clip")),r=ZN();if(r==null)return null;var{x:s,y:l,width:c,height:d}=r;return g.createElement(Toe.Provider,{value:a},g.createElement("defs",null,g.createElement("clipPath",{id:a},g.createElement("rect",{x:s,y:l,height:d,width:c}))),t)};function Wy(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function M7(e,t,a){if(t<1)return[];if(t===1&&a===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function Poe(e,t,a){var r={width:e.width+t.width,height:e.height+t.height};return koe(r,a)}function Ooe(e,t,a){var r=a==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:r?s:l,end:r?s+c:l+d}:{start:r?s+c:l+d,end:r?s:l}}function kp(e,t,a,r,s){if(e*t<e*r||e*t>e*s)return!1;var l=a();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-s)<=0}function Moe(e,t){return M7(e,t+1)}function Doe(e,t,a,r,s){for(var l=(r||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,x=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:M7(r,m)};var j=f,S,k=()=>(S===void 0&&(S=a(w,j)),S),_=w.coordinate,C=f===0||kp(e,_,k,h,d);C||(f=0,h=c,m+=1),C&&(h=_+e*(k()/2+s),f+=m)},b;m<=l.length;)if(b=x(),b)return b.v;return[]}function MT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ia(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(a),!0).forEach(function(r){Roe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):MT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Roe(e,t,a){return(t=$oe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $oe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ioe(e,t,a,r,s){for(var l=(r||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(b){var y=l[b],w,j=()=>(w===void 0&&(w=a(y,b)),w);if(b===c-1){var S=e*(y.coordinate+e*j()/2-f);l[b]=y=ia(ia({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else l[b]=y=ia(ia({},y),{},{tickCoord:y.coordinate});var k=kp(e,y.tickCoord,j,d,f);k&&(f=y.tickCoord-e*(j()/2+s),l[b]=ia(ia({},y),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return l}function zoe(e,t,a,r,s,l){var c=(r||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=r[d-1],x=a(h,d-1),b=e*(h.coordinate+e*x/2-m);c[d-1]=h=ia(ia({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate});var y=kp(e,h.tickCoord,()=>x,f,m);y&&(m=h.tickCoord-e*(x/2+s),c[d-1]=ia(ia({},h),{},{isShow:!0}))}for(var w=l?d-1:d,j=function(_){var C=c[_],P,A=()=>(P===void 0&&(P=a(C,_)),P);if(_===0){var T=e*(C.coordinate-e*A()/2-f);c[_]=C=ia(ia({},C),{},{tickCoord:T<0?C.coordinate-T*e:C.coordinate})}else c[_]=C=ia(ia({},C),{},{tickCoord:C.coordinate});var R=kp(e,C.tickCoord,A,f,m);R&&(f=C.tickCoord+e*(A()/2+s),c[_]=ia(ia({},C),{},{isShow:!0}))},S=0;S<w;S++)j(S);return c}function eS(e,t,a){var{tick:r,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:x}=e;if(!s||!s.length||!r)return[];if(Ke(f)||No.isSsr){var b;return(b=Moe(s,Ke(f)?f:0))!==null&&b!==void 0?b:[]}var y=[],w=d==="top"||d==="bottom"?"width":"height",j=h&&w==="width"?of(h,{fontSize:t,letterSpacing:a}):{width:0,height:0},S=(C,P)=>{var A=typeof m=="function"?m(C.value,P):C.value;return w==="width"?Poe(of(A,{fontSize:t,letterSpacing:a}),j,x):of(A,{fontSize:t,letterSpacing:a})[w]},k=s.length>=2?qn(s[1].coordinate-s[0].coordinate):1,_=Ooe(l,k,w);return f==="equidistantPreserveStart"?Doe(k,_,S,s,c):(f==="preserveStart"||f==="preserveStartEnd"?y=zoe(k,_,S,s,c,f==="preserveStartEnd"):y=Ioe(k,_,S,s,c),y.filter(C=>C.isShow))}var Boe=["viewBox"],Uoe=["viewBox"];function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Oc.apply(null,arguments)}function DT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Pn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(a),!0).forEach(function(r){tS(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function RT(e,t){if(e==null)return{};var a,r,s=Foe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Foe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function tS(e,t,a){return(t=Voe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Voe(e){var t=Hoe(e,"string");return typeof t=="symbol"?t:t+""}function Hoe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jl extends g.Component{constructor(t){super(t),this.tickRefs=g.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,a){var{viewBox:r}=t,s=RT(t,Boe),l=this.props,{viewBox:c}=l,d=RT(l,Uoe);return!Wy(r,c)||!Wy(s,d)||!Wy(a,this.state)}getTickLineCoord(t){var{x:a,y:r,width:s,height:l,orientation:c,tickSize:d,mirror:f,tickMargin:m}=this.props,h,x,b,y,w,j,S=f?-1:1,k=t.tickSize||d,_=Ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=x=t.coordinate,y=r+ +!f*l,b=y-S*k,j=b-S*m,w=_;break;case"left":b=y=t.coordinate,x=a+ +!f*s,h=x-S*k,w=h-S*m,j=_;break;case"right":b=y=t.coordinate,x=a+ +f*s,h=x+S*k,w=h+S*m,j=_;break;default:h=x=t.coordinate,y=r+ +f*l,b=y+S*k,j=b+S*m,w=_;break}return{line:{x1:h,y1:b,x2:x,y2:y},tick:{x:w,y:j}}}getTickTextAnchor(){var{orientation:t,mirror:a}=this.props,r;switch(t){case"left":r=a?"start":"end";break;case"right":r=a?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:a}=this.props;switch(t){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}renderAxisLine(){var{x:t,y:a,width:r,height:s,orientation:l,mirror:c,axisLine:d}=this.props,f=Pn(Pn(Pn({},tn(this.props,!1)),tn(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);f=Pn(Pn({},f),{},{x1:t,y1:a+m*s,x2:t+r,y2:a+m*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=Pn(Pn({},f),{},{x1:t+h*r,y1:a,x2:t+h*r,y2:a+s})}return g.createElement("line",Oc({},f,{className:xt("recharts-cartesian-axis-line",fl(d,"className"))}))}static renderTickItem(t,a,r){var s,l=xt(a.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))s=g.cloneElement(t,Pn(Pn({},a),{},{className:l}));else if(typeof t=="function")s=t(Pn(Pn({},a),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=xt(c,t.className)),s=g.createElement(_x,Oc({},a,{className:c}),r)}return s}renderTicks(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:l,tick:c,tickFormatter:d,unit:f,padding:m}=this.props,h=eS(Pn(Pn({},this.props),{},{ticks:r}),t,a),x=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=pi(this.props),w=tn(c,!1),j=Pn(Pn({},y),{},{fill:"none"},tn(s,!1)),S=h.map((k,_)=>{var{line:C,tick:P}=this.getTickLineCoord(k),A=Pn(Pn(Pn(Pn({textAnchor:x,verticalAnchor:b},y),{},{stroke:"none",fill:l},w),P),{},{index:_,payload:k,visibleTicksCount:h.length,tickFormatter:d,padding:m});return g.createElement(ca,Oc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Gp(this.props,k,_)),s&&g.createElement("line",Oc({},j,C,{className:xt("recharts-cartesian-axis-tick-line",fl(s,"className"))})),c&&jl.renderTickItem(c,A,"".concat(typeof d=="function"?d(k.value,_):k.value).concat(f||"")))});return S.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:t,width:a,height:r,className:s,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return a!=null&&a<=0||r!=null&&r<=0?null:g.createElement(ca,{className:xt("recharts-cartesian-axis",s),ref:d=>{if(d){var f=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var m=f[0];if(m){var h=window.getComputedStyle(m).fontSize,x=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),Wa.renderCallByParent(this.props))}}tS(jl,"displayName","CartesianAxis");tS(jl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qoe=["x1","y1","x2","y2","key"],Koe=["offset"],Goe=["xAxisId","yAxisId"],Yoe=["xAxisId","yAxisId"];function $T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function oa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(a),!0).forEach(function(r){Woe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$T(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Woe(e,t,a){return(t=Xoe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xoe(e){var t=Zoe(e,"string");return typeof t=="symbol"?t:t+""}function Zoe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},oo.apply(null,arguments)}function Cp(e,t){if(e==null)return{};var a,r,s=Qoe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Qoe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Joe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:r,y:s,width:l,height:c,ry:d}=e;return g.createElement("rect",{x:r,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function D7(e,t){var a;if(g.isValidElement(e))a=g.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var{x1:r,y1:s,x2:l,y2:c,key:d}=t,f=Cp(t,qoe),m=pi(f),{offset:h}=m,x=Cp(m,Koe);a=g.createElement("line",oo({},x,{x1:r,y1:s,x2:l,y2:c,fill:"none",key:d}))}return a}function ece(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=Cp(e,Goe),f=s.map((m,h)=>{var x=oa(oa({},d),{},{x1:t,y1:m,x2:t+a,y2:m,key:"line-".concat(h),index:h});return D7(r,x)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function tce(e){var{y:t,height:a,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=Cp(e,Yoe),f=s.map((m,h)=>{var x=oa(oa({},d),{},{x1:m,y1:t,x2:m,y2:t+a,key:"line-".concat(h),index:h});return D7(r,x)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function nce(e){var{horizontalFill:t,fillOpacity:a,x:r,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(x=>Math.round(x+s-s)).sort((x,b)=>x-b);s!==m[0]&&m.unshift(0);var h=m.map((x,b)=>{var y=!m[b+1],w=y?s+c-x:m[b+1]-x;if(w<=0)return null;var j=b%t.length;return g.createElement("rect",{key:"react-".concat(b),y:x,x:r,height:w,width:l,stroke:"none",fill:t[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ace(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!a||!a.length)return null;var m=f.map(x=>Math.round(x+s-s)).sort((x,b)=>x-b);s!==m[0]&&m.unshift(0);var h=m.map((x,b)=>{var y=!m[b+1],w=y?s+c-x:m[b+1]-x;if(w<=0)return null;var j=b%a.length;return g.createElement("rect",{key:"react-".concat(b),x,y:l,width:w,height:d,stroke:"none",fill:a[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var rce=(e,t)=>{var{xAxis:a,width:r,height:s,offset:l}=e;return DD(eS(oa(oa(oa({},jl.defaultProps),a),{},{ticks:RD(a),viewBox:{x:0,y:0,width:r,height:s}})),l.left,l.left+l.width,t)},sce=(e,t)=>{var{yAxis:a,width:r,height:s,offset:l}=e;return DD(eS(oa(oa(oa({},jl.defaultProps),a),{},{ticks:RD(a),viewBox:{x:0,y:0,width:r,height:s}})),l.top,l.top+l.height,t)},ice={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ll(e){var t=UD(),a=FD(),r=BD(),s=oa(oa({},ar(e,ice)),{},{x:Ke(e.x)?e.x:r.left,y:Ke(e.y)?e.y:r.top,width:Ke(e.width)?e.width:r.width,height:Ke(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:x,horizontalValues:b,verticalValues:y}=s,w=Oa(),j=Je(V=>M6(V,"xAxis",l,w)),S=Je(V=>M6(V,"yAxis",c,w));if(!Ke(m)||m<=0||!Ke(h)||h<=0||!Ke(d)||d!==+d||!Ke(f)||f!==+f)return null;var k=s.verticalCoordinatesGenerator||rce,_=s.horizontalCoordinatesGenerator||sce,{horizontalPoints:C,verticalPoints:P}=s;if((!C||!C.length)&&typeof _=="function"){var A=b&&b.length,T=_({yAxis:S?oa(oa({},S),{},{ticks:A?b:S.ticks}):void 0,width:t,height:a,offset:r},A?!0:x);lf(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(C=T)}if((!P||!P.length)&&typeof k=="function"){var R=y&&y.length,O=k({xAxis:j?oa(oa({},j),{},{ticks:R?y:j.ticks}):void 0,width:t,height:a,offset:r},R?!0:x);lf(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(P=O)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Joe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),g.createElement(nce,oo({},s,{horizontalPoints:C})),g.createElement(ace,oo({},s,{verticalPoints:P})),g.createElement(ece,oo({},s,{offset:r,horizontalPoints:C,xAxis:j,yAxis:S})),g.createElement(tce,oo({},s,{offset:r,verticalPoints:P,xAxis:j,yAxis:S})))}ll.displayName="CartesianGrid";var R7=(e,t,a,r)=>hl(e,"xAxis",t,r),$7=(e,t,a,r)=>ml(e,"xAxis",t,r),L7=(e,t,a,r)=>hl(e,"yAxis",a,r),I7=(e,t,a,r)=>ml(e,"yAxis",a,r),lce=ye([Nt,R7,L7,$7,I7],(e,t,a,r,s)=>gl(e,"xAxis")?kf(t,r,!1):kf(a,s,!1)),oce=(e,t,a,r,s)=>s;function cce(e){return e.type==="line"}var uce=ye([vx,oce],(e,t)=>e.filter(cce).find(a=>a.id===t)),dce=ye([Nt,R7,L7,$7,I7,uce,lce,hx],(e,t,a,r,s,l,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:h}=d;if(!(l==null||t==null||a==null||r==null||s==null||r.length===0||s.length===0||c==null)){var{dataKey:x,data:b}=l,y;if(b!=null&&b.length>0?y=b:y=f==null?void 0:f.slice(m,h+1),y!=null)return Oce({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataKey:x,bandSize:c,displayedData:y})}}),fce=["id"],mce=["type","layout","connectNulls","needClip"],hce=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function LT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Vr(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(a),!0).forEach(function(r){pce(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function pce(e,t,a){return(t=xce(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xce(e){var t=gce(e,"string");return typeof t=="symbol"?t:t+""}function gce(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nS(e,t){if(e==null)return{};var a,r,s=bce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function bce(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},wo.apply(null,arguments)}var vce=e=>{var{dataKey:t,name:a,stroke:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:xu(a,t),payload:e}]};function yce(e){var{dataKey:t,data:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,unit:f}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:xu(c,t),hide:d,type:e.tooltipType,color:e.stroke,unit:f}}}var z7=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function wce(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...a];return r}var jce=(e,t,a)=>{var r=a.reduce((x,b)=>x+b);if(!r)return z7(t,e);for(var s=Math.floor(e/r),l=e%r,c=t-e,d=[],f=0,m=0;f<a.length;m+=a[f],++f)if(m+a[f]>l){d=[...a.slice(0,f),l-m];break}var h=d.length%2===0?[0,c]:[c];return[...wce(a,s),...d,...h].map(x=>"".concat(x,"px")).join(", ")};function Nce(e,t){var a;if(g.isValidElement(e))a=g.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var r=xt("recharts-line-dot",typeof e!="boolean"?e.className:"");a=g.createElement(f7,wo({},t,{className:r}))}return a}function Sce(e,t){return e==null?!1:t?!0:e.length===1}function _ce(e){var{clipPathId:t,points:a,props:r}=e,{dot:s,dataKey:l,needClip:c}=r;if(!Sce(a,s))return null;var{id:d}=r,f=nS(r,fce),m=OM(s),h=pi(f),x=tn(s,!0),b=a.map((w,j)=>{var S=Vr(Vr(Vr({key:"dot-".concat(j),r:3},h),x),{},{index:j,cx:w.x,cy:w.y,dataKey:l,value:w.value,payload:w.payload,points:a});return Nce(s,S)}),y={clipPath:c?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return g.createElement(ca,wo({className:"recharts-line-dots",key:"dots"},y),b)}function Zw(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:s,props:l,showLabels:c}=e,{type:d,layout:f,connectNulls:m,needClip:h}=l,x=nS(l,mce),b=Vr(Vr({},tn(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:d,layout:f,connectNulls:m,strokeDasharray:s??l.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(T2,wo({},b,{pathRef:a})),g.createElement(_ce,{points:r,clipPathId:t,props:l}),c&&il.renderCallByParent(l,r))}function kce(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Cce(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:d,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:x,animateNewValues:b,width:y,height:w,onAnimationEnd:j,onAnimationStart:S}=a,k=s.current,_=GN(a,"recharts-line-"),[C,P]=g.useState(!1),A=g.useCallback(()=>{typeof j=="function"&&j(),P(!1)},[j]),T=g.useCallback(()=>{typeof S=="function"&&S(),P(!0)},[S]),R=kce(r.current),O=l.current;return g.createElement(WN,{begin:m,duration:h,isActive:f,easing:x,onAnimationEnd:A,onAnimationStart:T,key:_},V=>{var K=Fr(O,R+O,V),F=Math.min(K,R),L;if(d){var te="".concat(d).split(/[,\s]+/gim).map(D=>parseFloat(D));L=jce(F,R,te)}else L=z7(R,F);if(k){var Ne=k.length/c.length,re=V===1?c:c.map((D,Y)=>{var H=Math.floor(Y*Ne);if(k[H]){var B=k[H];return Vr(Vr({},D),{},{x:Fr(B.x,D.x,V),y:Fr(B.y,D.y,V)})}return b?Vr(Vr({},D),{},{x:Fr(y*2,D.x,V),y:Fr(w/2,D.y,V)}):Vr(Vr({},D),{},{x:D.x,y:D.y})});return s.current=re,g.createElement(Zw,{props:a,points:re,clipPathId:t,pathRef:r,showLabels:!C,strokeDasharray:L})}return V>0&&R>0&&(s.current=c,l.current=F),g.createElement(Zw,{props:a,points:c,clipPathId:t,pathRef:r,showLabels:!C,strokeDasharray:L})})}function Ace(e){var{clipPathId:t,props:a}=e,{points:r,isAnimationActive:s}=a,l=g.useRef(null),c=g.useRef(0),d=g.useRef(null),f=l.current;return s&&r&&r.length&&f!==r?g.createElement(Cce,{props:a,clipPathId:t,previousPointsRef:l,longestAnimatedLengthRef:c,pathRef:d}):g.createElement(Zw,{props:a,points:r,clipPathId:t,pathRef:d,showLabels:!0})}var Tce=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ft(e.payload,t)});class Ece extends g.Component{render(){var t,{hide:a,dot:r,points:s,className:l,xAxisId:c,yAxisId:d,top:f,left:m,width:h,height:x,id:b,needClip:y}=this.props;if(a)return null;var w=xt("recharts-line",l),j=b,{r:S=3,strokeWidth:k=2}=(t=tn(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=OM(r),C=S*2+k;return g.createElement(g.Fragment,null,g.createElement(ca,{className:w},y&&g.createElement("defs",null,g.createElement(k7,{clipPathId:j,xAxisId:c,yAxisId:d}),!_&&g.createElement("clipPath",{id:"clipPath-dots-".concat(j)},g.createElement("rect",{x:m-C/2,y:f-C/2,width:h+C,height:x+C}))),g.createElement(Ace,{props:this.props,clipPathId:j}),g.createElement(_7,{xAxisId:c,yAxisId:d,data:s,dataPointFormatter:Tce,errorBarOffset:0},this.props.children)),g.createElement(mle,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var B7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!No.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Pce(e){var t=ar(e,B7),{activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:f,hide:m,isAnimationActive:h,label:x,legendType:b,xAxisId:y,yAxisId:w,id:j}=t,S=nS(t,hce),{needClip:k}=QN(y,w),_=ZN(),C=lx(),P=Oa(),A=Je(K=>dce(K,y,w,P,j));if(C!=="horizontal"&&C!=="vertical"||A==null||_==null)return null;var{height:T,width:R,x:O,y:V}=_;return g.createElement(Ece,wo({},S,{id:j,connectNulls:d,dot:f,activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:m,label:x,legendType:b,xAxisId:y,yAxisId:w,points:A,layout:C,height:T,width:R,left:O,top:V,needClip:k}))}function Oce(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:l,dataKey:c,bandSize:d,displayedData:f}=e;return f.map((m,h)=>{var x=Ft(m,c);if(t==="horizontal"){var b=mA({axis:a,ticks:s,bandSize:d,entry:m,index:h}),y=Xt(x)?null:r.scale(x);return{x:b,y,value:x,payload:m}}var w=Xt(x)?null:a.scale(x),j=mA({axis:r,ticks:l,bandSize:d,entry:m,index:h});return w==null||j==null?null:{x:w,y:j,value:x,payload:m}}).filter(Boolean)}function kx(e){var t=ar(e,B7),a=Oa();return g.createElement(YN,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(v7,{legendPayload:vce(t)}),g.createElement(KN,{fn:yce,args:t}),g.createElement(w7,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),g.createElement(Pce,wo({},t,{id:r}))))}kx.displayName="Line";function IT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function zT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(a),!0).forEach(function(r){Mce(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Mce(e,t,a){return(t=Dce(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dce(e){var t=Rce(e,"string");return typeof t=="symbol"?t:t+""}function Rce(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ce={xAxis:{},yAxis:{},zAxis:{}},U7=nr({name:"cartesianAxis",initialState:$ce,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:a,width:r}=t.payload;e.yAxis[a]&&(e.yAxis[a]=zT(zT({},e.yAxis[a]),{},{width:r}))}}}),{addXAxis:Lce,removeXAxis:Ice,addYAxis:zce,removeYAxis:Bce,addZAxis:xhe,removeZAxis:ghe,updateYAxisWidth:Uce}=U7.actions,Fce=U7.reducer,Vce=["children"],Hce=["dangerouslySetInnerHTML","ticks"];function F7(e,t,a){return(t=qce(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qce(e){var t=Kce(e,"string");return typeof t=="symbol"?t:t+""}function Kce(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Qw.apply(null,arguments)}function V7(e,t){if(e==null)return{};var a,r,s=Gce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Gce(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Yce(e){var t=bn(),a=g.useMemo(()=>{var{children:l}=e,c=V7(e,Vce);return c},[e]),r=Je(l=>vi(l,a.id)),s=a===r;return g.useEffect(()=>(t(Lce(a)),()=>{t(Ice(a))}),[a,t]),s?e.children:null}var Wce=e=>{var{xAxisId:t,className:a}=e,r=Je(zD),s=Oa(),l="xAxis",c=Je(y=>Nu(y,l,t,s)),d=Je(y=>PR(y,l,t,s)),f=Je(y=>CR(y,t)),m=Je(y=>nae(y,t));if(f==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:x}=e,b=V7(e,Hce);return g.createElement(jl,Qw({},b,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:xt("recharts-".concat(l," ").concat(l),a),viewBox:r,ticks:d}))},Xce=e=>{var t,a,r,s,l;return g.createElement(Yce,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(a=e.includeHidden)!==null&&a!==void 0?a:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},g.createElement(Wce,e))};class ni extends g.Component{render(){return g.createElement(Xce,this.props)}}F7(ni,"displayName","XAxis");F7(ni,"defaultProps",{allowDataOverflow:qa.allowDataOverflow,allowDecimals:qa.allowDecimals,allowDuplicatedCategory:qa.allowDuplicatedCategory,height:qa.height,hide:!1,mirror:qa.mirror,orientation:qa.orientation,padding:qa.padding,reversed:qa.reversed,scale:qa.scale,tickCount:qa.tickCount,type:qa.type,xAxisId:0});var Zce=e=>{var{ticks:t,label:a,labelGapWithTick:r=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){t.forEach(h=>{if(h){var x=h.getBoundingClientRect();x.width>c&&(c=x.width)}});var d=a?a.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(a?r:0);return Math.round(m)}return 0},Qce=["dangerouslySetInnerHTML","ticks"];function H7(e,t,a){return(t=Jce(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Jce(e){var t=eue(e,"string");return typeof t=="symbol"?t:t+""}function eue(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Jw.apply(null,arguments)}function tue(e,t){if(e==null)return{};var a,r,s=nue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function nue(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function aue(e){var t=bn();return g.useEffect(()=>(t(zce(e)),()=>{t(Bce(e))}),[e,t]),null}var rue=e=>{var t,{yAxisId:a,className:r,width:s,label:l}=e,c=g.useRef(null),d=g.useRef(null),f=Je(zD),m=Oa(),h=bn(),x="yAxis",b=Je(C=>Nu(C,x,a,m)),y=Je(C=>AR(C,a)),w=Je(C=>aae(C,a)),j=Je(C=>PR(C,x,a,m));if(g.useLayoutEffect(()=>{var C;if(!(s!=="auto"||!y||IN(l)||g.isValidElement(l))){var P=c.current,A=P==null||(C=P.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:T,tickMargin:R}=P.props,O=Zce({ticks:A,label:d.current,labelGapWithTick:5,tickSize:T,tickMargin:R});Math.round(y.width)!==Math.round(O)&&h(Uce({id:a,width:O}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,y==null?void 0:y.width,y,h,l,a,s]),y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:k}=e,_=tue(e,Qce);return g.createElement(jl,Jw({},_,{ref:c,labelRef:d,scale:b,x:w.x,y:w.y,width:y.width,height:y.height,className:xt("recharts-".concat(x," ").concat(x),r),viewBox:f,ticks:j}))},sue=e=>{var t,a,r,s,l;return g.createElement(g.Fragment,null,g.createElement(aue,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(a=e.includeHidden)!==null&&a!==void 0?a:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),g.createElement(rue,e))},iue={allowDataOverflow:Ka.allowDataOverflow,allowDecimals:Ka.allowDecimals,allowDuplicatedCategory:Ka.allowDuplicatedCategory,hide:!1,mirror:Ka.mirror,orientation:Ka.orientation,padding:Ka.padding,reversed:Ka.reversed,scale:Ka.scale,tickCount:Ka.tickCount,type:Ka.type,width:Ka.width,yAxisId:0};class ai extends g.Component{render(){return g.createElement(sue,this.props)}}H7(ai,"displayName","YAxis");H7(ai,"defaultProps",iue);var Xy={exports:{}},Zy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function lue(){if(BT)return Zy;BT=1;var e=lu();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var a=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Zy.useSyncExternalStoreWithSelector=function(f,m,h,x,b){var y=s(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=c(function(){function S(A){if(!k){if(k=!0,_=A,A=x(A),b!==void 0&&w.hasValue){var T=w.value;if(b(T,A))return C=T}return C=A}if(T=C,a(_,A))return T;var R=x(A);return b!==void 0&&b(T,R)?(_=A,T):(_=A,C=R)}var k=!1,_,C,P=h===void 0?null:h;return[function(){return S(m())},P===null?void 0:function(){return S(P())}]},[m,h,x,b]);var j=r(f,y[0],y[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},Zy}var UT;function oue(){return UT||(UT=1,Xy.exports=lue()),Xy.exports}oue();function cue(e){e()}function uue(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cue(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=e;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const s=t={callback:a,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var FT={notify(){},get:()=>[]};function due(e,t){let a,r=FT,s=0,l=!1;function c(j){h();const S=r.subscribe(j);let k=!1;return()=>{k||(k=!0,S(),x())}}function d(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function m(){return l}function h(){s++,a||(a=e.subscribe(f),r=uue())}function x(){s--,a&&s===0&&(a(),a=void 0,r.clear(),r=FT)}function b(){l||(l=!0,h())}function y(){l&&(l=!1,x())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return w}var fue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mue=fue(),hue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pue=hue(),xue=()=>mue||pue?g.useLayoutEffect:g.useEffect,gue=xue(),Qy=Symbol.for("react-redux-context"),Jy=typeof globalThis<"u"?globalThis:{};function bue(){if(!g.createContext)return{};const e=Jy[Qy]??(Jy[Qy]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var vue=bue();function yue(e){const{children:t,context:a,serverState:r,store:s}=e,l=g.useMemo(()=>{const f=due(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),c=g.useMemo(()=>s.getState(),[s]);gue(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=a||vue;return g.createElement(d.Provider,{value:l},t)}var wue=yue,jue=(e,t)=>t,aS=ye([jue,Nt,rR,$n,KR,yi,ore,Dn],mre),rS=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/r)}},q7=kr("mouseClick"),K7=Yf();K7.startListening({actionCreator:q7,effect:(e,t)=>{var a=e.payload,r=aS(t.getState(),rS(a));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(xae({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ej=kr("mouseMove"),G7=Yf();G7.startListening({actionCreator:ej,effect:(e,t)=>{var a=e.payload,r=t.getState(),s=AN(r,r.tooltip.settings.shared),l=aS(r,rS(a));s==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(zR({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(IR()))}});function Nue(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var VT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Y7=nr({name:"rootProps",initialState:VT,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:VT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Sue=Y7.reducer,{updateOptions:_ue}=Y7.actions,W7=nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:kue}=W7.actions,Cue=W7.reducer,X7=kr("keyDown"),Z7=kr("focus"),sS=Yf();sS.startListening({actionCreator:X7,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(TN(s,_u(a))),d=yi(a);if(l==="Enter"){var f=wp(a,"axis","hover",String(s.index));t.dispatch(qw({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=lae(a),h=m==="left-to-right"?1:-1,x=l==="ArrowRight"?1:-1,b=c+x*h;if(!(d==null||b>=d.length||b<0)){var y=wp(a,"axis","hover",String(b));t.dispatch(qw({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});sS.startListening({actionCreator:Z7,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip;if(!s.active&&s.index==null){var l="0",c=wp(a,"axis","hover",String(l));t.dispatch(qw({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var gr=kr("externalEvent"),Q7=Yf();Q7.startListening({actionCreator:gr,effect:(e,t)=>{if(e.payload.handler!=null){var a=t.getState(),r={activeCoordinate:Qae(a),activeDataKey:XR(a),activeIndex:pl(a),activeLabel:WR(a),activeTooltipIndex:pl(a),isTooltipActive:Jae(a)};e.payload.handler(r,e.payload.reactEvent)}}});var Aue=ye([Su],e=>e.tooltipItemPayloads),Tue=ye([Aue,rm,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,r)=>{var s=e.find(d=>d.settings.dataKey===r);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,a);return c}}}),J7=kr("touchMove"),e9=Yf();e9.startListening({actionCreator:J7,effect:(e,t)=>{var a=e.payload,r=t.getState(),s=AN(r,r.tooltip.settings.shared);if(s==="axis"){var l=aS(r,rS({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(zR({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=a.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(LD),h=(c=f.getAttribute(ID))!==null&&c!==void 0?c:void 0,x=Tue(t.getState(),m,h);t.dispatch(LR({activeDataKey:h,activeIndex:m,activeCoordinate:x}))}}});var Eue=cD({brush:woe,cartesianAxis:Fce,chartData:Tre,errorBars:_le,graphicalItems:Die,layout:jZ,legend:iQ,options:Sre,polarAxis:eie,polarOptions:Cue,referenceElements:Aoe,rootProps:Sue,tooltip:gae}),Pue=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return GX({reducer:Eue,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([K7.middleware,G7.middleware,sS.middleware,Q7.middleware,e9.middleware]),devTools:{serialize:{replacer:Nue},name:"recharts-".concat(a)}})};function t9(e){var{preloadedState:t,children:a,reduxStoreName:r}=e,s=Oa(),l=g.useRef(null);if(s)return a;l.current==null&&(l.current=Pue(t,r));var c=y2;return g.createElement(wue,{context:c,store:l.current},a)}function n9(e){var{layout:t,width:a,height:r,margin:s}=e,l=bn(),c=Oa();return g.useEffect(()=>{c||(l(vZ(t)),l(yZ({width:a,height:r})),l(bZ(s)))},[l,c,t,a,r,s]),null}function a9(e){var t=bn();return g.useEffect(()=>{t(_ue(e))},[t,e]),null}var Oue=["children"];function Mue(e,t){if(e==null)return{};var a,r,s=Due(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Due(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ap.apply(null,arguments)}var Rue={width:"100%",height:"100%"},$ue=g.forwardRef((e,t)=>{var a=UD(),r=FD(),s=KD();if(!Qc(a)||!Qc(r))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,g.createElement(MM,Ap({},c,{title:d,desc:f,role:h,tabIndex:m,width:a,height:r,style:Rue,ref:t}),l)}),Lue=e=>{var{children:t}=e,a=Je(ix);if(!a)return null;var{width:r,height:s,y:l,x:c}=a;return g.createElement(MM,{width:r,height:s,x:c,y:l},t)},HT=g.forwardRef((e,t)=>{var{children:a}=e,r=Mue(e,Oue),s=Oa();return s?g.createElement(Lue,null,a):g.createElement($ue,Ap({ref:t},r),a)});function Iue(){var e=bn(),[t,a]=g.useState(null),r=Je(ZZ);return g.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;tr(l)&&l!==r&&e(wZ(l))}},[t,e,r]),a}function qT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function zue(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(a),!0).forEach(function(r){Bue(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Bue(e,t,a){return(t=Uue(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Uue(e){var t=Fue(e,"string");return typeof t=="symbol"?t:t+""}function Fue(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vue=g.forwardRef((e,t)=>{var{children:a,className:r,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:x,onMouseUp:b,onTouchEnd:y,onTouchMove:w,onTouchStart:j,style:S,width:k}=e,_=bn(),[C,P]=g.useState(null),[A,T]=g.useState(null);Ore();var R=Iue(),O=g.useCallback(z=>{R(z),typeof t=="function"&&t(z),P(z),T(z)},[R,t,P,T]),V=g.useCallback(z=>{_(q7(z)),_(gr({handler:l,reactEvent:z}))},[_,l]),K=g.useCallback(z=>{_(ej(z)),_(gr({handler:m,reactEvent:z}))},[_,m]),F=g.useCallback(z=>{_(IR()),_(gr({handler:h,reactEvent:z}))},[_,h]),L=g.useCallback(z=>{_(ej(z)),_(gr({handler:x,reactEvent:z}))},[_,x]),te=g.useCallback(()=>{_(Z7())},[_]),Ne=g.useCallback(z=>{_(X7(z.key))},[_]),re=g.useCallback(z=>{_(gr({handler:c,reactEvent:z}))},[_,c]),D=g.useCallback(z=>{_(gr({handler:d,reactEvent:z}))},[_,d]),Y=g.useCallback(z=>{_(gr({handler:f,reactEvent:z}))},[_,f]),H=g.useCallback(z=>{_(gr({handler:b,reactEvent:z}))},[_,b]),B=g.useCallback(z=>{_(gr({handler:j,reactEvent:z}))},[_,j]),E=g.useCallback(z=>{_(J7(z)),_(gr({handler:w,reactEvent:z}))},[_,w]),$=g.useCallback(z=>{_(gr({handler:y,reactEvent:z}))},[_,y]);return g.createElement(n7.Provider,{value:C},g.createElement(VY.Provider,{value:A},g.createElement("div",{className:xt("recharts-wrapper",r),style:zue({position:"relative",cursor:"default",width:k,height:s},S),onClick:V,onContextMenu:re,onDoubleClick:D,onFocus:te,onKeyDown:Ne,onMouseDown:Y,onMouseEnter:K,onMouseLeave:F,onMouseMove:L,onMouseUp:H,onTouchEnd:$,onTouchMove:E,onTouchStart:B,ref:O},a)))}),Hue=["children","className","width","height","style","compact","title","desc"];function que(e,t){if(e==null)return{};var a,r,s=Kue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Kue(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var r9=g.forwardRef((e,t)=>{var{children:a,className:r,width:s,height:l,style:c,compact:d,title:f,desc:m}=e,h=que(e,Hue),x=pi(h);return d?g.createElement(HT,{otherAttributes:x,title:f,desc:m},a):g.createElement(Vue,{className:r,style:c,width:s,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(HT,{otherAttributes:x,title:f,desc:m,ref:t},g.createElement(Eoe,null,a)))}),Gue=["width","height"];function tj(){return tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},tj.apply(null,arguments)}function Yue(e,t){if(e==null)return{};var a,r,s=Wue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Wue(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Xue={top:5,right:5,bottom:5,left:5},Zue={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xue,reverseStackOrder:!1,syncMethod:"index"},s9=g.forwardRef(function(t,a){var r,s=ar(t.categoricalChartProps,Zue),{width:l,height:c}=s,d=Yue(s,Gue);if(!Qc(l)||!Qc(c))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,categoricalChartProps:b}=t,y={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return g.createElement(t9,{preloadedState:{options:y},reduxStoreName:(r=b.id)!==null&&r!==void 0?r:f},g.createElement(E7,{chartData:b.data}),g.createElement(n9,{width:l,height:c,layout:s.layout,margin:s.margin}),g.createElement(a9,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(r9,tj({},d,{width:l,height:c,ref:a})))}),Que=["axis"],iS=g.forwardRef((e,t)=>g.createElement(s9,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Que,tooltipPayloadSearcher:LN,categoricalChartProps:e,ref:t})),Jue=["axis","item"],E0=g.forwardRef((e,t)=>g.createElement(s9,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jue,tooltipPayloadSearcher:LN,categoricalChartProps:e,ref:t}));function ede(e){var t=bn();return g.useEffect(()=>{t(kue(e))},[t,e]),null}var tde=["width","height","layout"];function nj(){return nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},nj.apply(null,arguments)}function nde(e,t){if(e==null)return{};var a,r,s=ade(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ade(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var rde={top:5,right:5,bottom:5,left:5},sde={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rde,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},ide=g.forwardRef(function(t,a){var r,s=ar(t.categoricalChartProps,sde),{width:l,height:c,layout:d}=s,f=nde(s,tde);if(!Qc(l)||!Qc(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:b}=t,y={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:b,eventEmitter:void 0};return g.createElement(t9,{preloadedState:{options:y},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:m},g.createElement(E7,{chartData:s.data}),g.createElement(n9,{width:l,height:c,layout:d,margin:s.margin}),g.createElement(a9,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(ede,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),g.createElement(r9,nj({width:l,height:c},f,{ref:a})))}),lde=["item"],ode={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Tp=g.forwardRef((e,t)=>{var a=ar(e,ode);return g.createElement(ide,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:lde,tooltipPayloadSearcher:LN,categoricalChartProps:a,ref:t})});function cde(){const[e,t]=g.useState({leads:0,files:0,assistants:0,phone_numbers:0,knowledge_base:0}),[a,r]=g.useState(!0),[s,l]=g.useState(""),c="https://aisdr-dbt.ddns.net",{width:d}=ude(),f=(d||0)>=1024,m=!f;g.useEffect(()=>{let j=!0;return(async()=>{try{r(!0),l("");const S=localStorage.getItem("token"),k=`${c}/api/statistics`,_=await fetch(k,{method:"GET",headers:{Accept:"application/json",...S?{Authorization:`Bearer ${S}`}:{}},mode:"cors"});if(!_.ok){const P=await _.text();throw new Error(`HTTP ${_.status}${P?`  ${P}`:""}`)}const C=await _.json();if(!j)return;t({leads:Number((C==null?void 0:C.leads)??0),files:Number((C==null?void 0:C.files)??0),assistants:Number((C==null?void 0:C.assistants)??0),phone_numbers:Number((C==null?void 0:C.phone_numbers)??0),knowledge_base:Number((C==null?void 0:C.knowledge_base)??0)})}catch(S){if(!j)return;const k=S&&S.message||"Failed to load stats",_=k.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(k+_)}finally{j&&r(!1)}})(),()=>{j=!1}},[c]);const h={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4"},x=j=>{const k=Math.max(0,Number(j)||0),_=Array.from({length:12},(C,P)=>{const A=P/11,T=Math.sin(A*Math.PI)*.4,R=(Math.random()-.5)*.12,O=Math.max(0,Math.round(k*(.6+T+R)));return{label:`P${P+1}`,value:O}});return _.length&&(_[_.length-1].value=k),_},b=g.useMemo(()=>[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}],[e]),y=g.useMemo(()=>{const j=Math.max(1,e.leads+e.files+e.assistants+e.phone_numbers+e.knowledge_base);return[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}].map(S=>({...S,percent:S.value/j*100}))},[e]),w=g.useMemo(()=>[{key:"leads",label:"Leads",value:e.leads,icon:ha,series:x(e.leads),color:h.blue},{key:"files",label:"Files",value:e.files,icon:zp,series:x(e.files),color:h.sky},{key:"assistants",label:"Assistants",value:e.assistants,icon:xj,series:x(e.assistants),color:h.cyan},{key:"phone_numbers",label:"Phone Numbers",value:e.phone_numbers,icon:ht,series:x(e.phone_numbers),color:h.sky},{key:"knowledge_base",label:"Knowledge Base",value:e.knowledge_base,icon:Dc,series:x(e.knowledge_base),color:h.blue}],[e]);return n.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[s&&n.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s}),n.jsx(dde,{}),n.jsxs("header",{className:"w-full px-4 md:px-8 pt-10 pb-6",children:[n.jsx(he.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"User Dashboard"}),n.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Live stats  Animated charts  Arrow labels"})]}),n.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[n.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-5",children:w.map(j=>n.jsx(mde,{...j,loading:a},j.key))}),n.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsx(e1,{title:"Leads Trend (Synthetic)",children:n.jsx("div",{className:"h-72 w-full",children:n.jsx(hs,{children:n.jsxs(iS,{data:w[0].series,margin:{top:12,right:20,left:-10,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("filter",{id:"glowLineMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),n.jsx(ll,{strokeDasharray:"3 3",strokeOpacity:.2}),n.jsx(ni,{dataKey:"label",tick:{fontSize:12}}),n.jsx(ai,{tick:{fontSize:12}}),n.jsx(ms,{contentStyle:{borderRadius:12}}),n.jsx(kx,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3.5,dot:!1,activeDot:{r:6},style:{filter:"url(#glowLineMain)"},isAnimationActive:!0,animationBegin:120,animationDuration:900,animationEasing:"ease"})]})})})}),n.jsx(e1,{title:"Overview by Metric",children:n.jsx("div",{className:"h-72 w-full",children:n.jsx(hs,{children:n.jsxs(E0,{data:b,margin:{top:10,right:20,left:m?0:-10,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),n.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})]}),n.jsx(ll,{strokeDasharray:"3 3",strokeOpacity:.2}),n.jsx(ni,{dataKey:"name",tick:{fontSize:12},hide:m}),n.jsx(ai,{tick:{fontSize:12}}),n.jsx(ms,{contentStyle:{borderRadius:12}}),n.jsx(cf,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},isAnimationActive:!0,animationBegin:140,animationDuration:800,animationEasing:"ease-out"})]})})})}),n.jsx(e1,{title:"Share by Metric",className:"lg:col-span-2",children:n.jsx("div",{className:"h-80 w-full",children:n.jsx(hs,{children:n.jsx(bde,{data:y,mode:f?"desktop":"compact"})})})})]}),n.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon (white/blue) dashboard."]})]})]})}function ude(){const[e,t]=g.useState({width:null,height:null});return g.useEffect(()=>{function a(){t({width:window.innerWidth,height:window.innerHeight})}return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}function dde(){return n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),n.jsx(he.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function e1({title:e,children:t,className:a=""}){return n.jsxs(he.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${a}`,children:[n.jsx(fde,{}),n.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),t]})}function fde(){return n.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[n.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),n.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function mde({label:e,value:t,icon:a,series:r,color:s,loading:l}){const c=Yc(0),d=Yc(0),f=V0(d,[-50,50],[8,-8]),m=V0(c,[-50,50],[-8,8]),h=g.useRef(null);return n.jsxs(he.div,{ref:h,onMouseMove:x=>{var y;const b=(y=h.current)==null?void 0:y.getBoundingClientRect();b&&(c.set(x.clientX-b.left-b.width/2),d.set(x.clientY-b.top-b.height/2))},onMouseLeave:()=>{c.set(0),d.set(0)},style:{rotateX:f,rotateY:m},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${s}66, #ffffff00)`}}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:n.jsx(a,{className:"h-6 w-6",style:{color:s}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("h3",{className:"text-2xl font-black text-slate-900",children:l?n.jsx(pde,{}):n.jsx(hde,{value:t})}),n.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:"Live"})]})]})]}),n.jsx("div",{className:"mt-3 h-20",children:l?n.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):n.jsx(hs,{children:n.jsxs(iS,{data:r,margin:{top:2,right:8,left:-10,bottom:0},children:[n.jsx("defs",{children:n.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx(ll,{strokeDasharray:"3 3",strokeOpacity:.12}),n.jsx(ni,{dataKey:"label",hide:!0}),n.jsx(ai,{hide:!0,domain:[0,"dataMax+"]}),n.jsx(ms,{contentStyle:{borderRadius:12}}),n.jsx(kx,{type:"monotone",dataKey:"value",stroke:s,strokeWidth:2.5,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"},isAnimationActive:!0,animationBegin:120,animationDuration:700})]})})})]})]})}function hde({value:e,duration:t=800}){const[a,r]=g.useState(0);return g.useEffect(()=>{let s;const l=a,c=Number(e)||0,d=performance.now(),f=h=>1-Math.pow(1-h,3);function m(h){const x=Math.min(1,(h-d)/t);r(Math.round(l+(c-l)*f(x))),x<1&&(s=requestAnimationFrame(m))}return s=requestAnimationFrame(m),()=>cancelAnimationFrame(s)},[e]),n.jsx("span",{children:(a||0).toLocaleString()})}function pde(){return n.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function xde(e){const{cx:t,cy:a,midAngle:r,outerRadius:s,name:l,value:c,percent:d,laneSlot:f,sideRight:m,laneGap:h=24,fixedTy:x}=e,b=Math.PI/180,y=-r*b,w=s+6,j=t+Math.cos(y)*w,S=a+Math.sin(y)*w,k=s+22,_=t+Math.cos(y)*k,C=a+Math.sin(y)*k,P=!!m;let A=P?_+36:_-36,T=typeof x=="number"?x:a+f*h;const R=34,O=t+s+R,V=t-s-R;P?A=Math.max(A,O+12):A=Math.min(A,V-12);const F=(typeof f=="number"?f:0)*18,L=P?_+16:_-16,te=C+F*.25,Ne=P?A-22:A+22,re=T+F*.75,D=typeof d=="number"?Math.round(d*100):0,Y=`${l}`,H=`${c}  ${D}%`,B=Math.max(136,Y.length*8+H.length*4.2),E=P?0:-B,$=P?"start":"end";return n.jsxs(he.g,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.42},whileHover:{scale:1.02,transition:{duration:.15}},pointerEvents:"none",children:[n.jsx("path",{d:`M ${j},${S} C ${L},${te} ${Ne},${re} ${A},${T}`,stroke:"url(#neonStroke)",strokeWidth:"6",strokeOpacity:"0.22",fill:"none",filter:"url(#neonGlow)"}),n.jsxs("path",{d:`M ${j},${S} C ${L},${te} ${Ne},${re} ${A},${T}`,stroke:"url(#neonStroke)",strokeWidth:"2.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",markerEnd:"url(#arrowheadGrad)",children:[n.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;40,200;0,200",dur:"3s",repeatCount:"indefinite"}),n.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-60;0",dur:"3s",repeatCount:"indefinite"})]}),n.jsxs("g",{transform:`translate(${A}, ${T})`,children:[n.jsx("rect",{x:E-6,y:-22,rx:"14",ry:"14",width:B+12,height:40,fill:"url(#pillGlow)",opacity:"0.55",filter:"url(#pillBlur)"}),n.jsx("rect",{x:E,y:-18,rx:"12",ry:"12",width:B,height:32,fill:"url(#pillGrad)",stroke:"url(#pillStroke)",strokeWidth:"1"}),n.jsx("text",{x:E+(P?14:B-14),y:-2,textAnchor:$,fill:"url(#labelTextGrad)",style:{fontSize:12.5,fontWeight:800,letterSpacing:.2},children:Y}),n.jsx("text",{x:E+(P?14:B-14),y:12,textAnchor:$,className:"fill-slate-700",style:{fontSize:11.2,fontWeight:600,opacity:.85},children:H})]})]})}function gde(e){const t=Math.PI/180,{cx:a,cy:r,midAngle:s,innerRadius:l,outerRadius:c,name:d,value:f,percent:m}=e,h=l+(c-l)*.58,x=a+Math.cos(-s*t)*h,b=r+Math.sin(-s*t)*h,y=Math.round((m||0)*100);return y<7?null:n.jsxs("g",{children:[n.jsx("text",{x,y:b-6,textAnchor:"middle",className:"fill-slate-800",style:{fontSize:11.5,fontWeight:800},children:d}),n.jsxs("text",{x,y:b+10,textAnchor:"middle",className:"fill-slate-600",style:{fontSize:10.5,fontWeight:700},children:[f,"  ",y,"%"]})]})}function bde({data:e,mode:t="desktop",width:a,height:r}){const d=Math.PI/180,f=e.reduce((F,L)=>F+(Number(L.value)||0),0),m=(a||0)*.5,h=(r||0)*.5,x=t==="desktop";if(f===0)return n.jsxs(Tp,{width:a,height:r,children:[n.jsx(Df,{data:[{name:"No data",value:1}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:110,innerRadius:70,fill:"#e5e7eb",stroke:"#cbd5e1",isAnimationActive:!0}),n.jsx("text",{x:m,y:h,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-500",style:{fontSize:12},children:"No data"})]});const b=-90,w=270-b;let j=b;const k=e.map((F,L)=>({index:L,value:Number(F.value)||0})).filter(F=>F.value>0).map(F=>{const L=f?F.value/f*w:0,te=j+L/2;j+=L;const Ne=-te*d,re=Math.cos(Ne)>=0,D=h+Math.sin(Ne)*110;return{index:F.index,ang:Ne,right:re,ty0:D,mid:te}}),_=k.filter(F=>!F.right).sort((F,L)=>F.ty0-L.ty0),C=k.filter(F=>F.right).sort((F,L)=>F.ty0-L.ty0),P=28,A=40,T=h-(110+A),R=h+(110+A),O=F=>{if(!F.length)return[];const L=F.length,te=R-T,Ne=Math.min(Math.max(P,L>1?te/(L-1):P),36),re=new Array(L);re[0]=Math.max(F[0].ty0,T);for(let Y=1;Y<L;Y++)re[Y]=Math.max(F[Y].ty0,re[Y-1]+Ne);const D=re[L-1]-R;if(D>0){for(let Y=0;Y<L;Y++)re[Y]-=D;if(re[0]<T){const Y=T-re[0];for(let H=0;H<L;H++)re[H]+=Y}}return re},V=O(_),K=O(C);return n.jsxs(Tp,{width:a,height:r,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),n.jsx("stop",{offset:"50%",stopColor:"#60a5fa"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),n.jsxs("marker",{id:"arrowheadGrad",markerWidth:"12",markerHeight:"8",refX:"10",refY:"4",orient:"auto",children:[n.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"url(#neonStroke)"}),n.jsxs("filter",{id:"arrowGlow",children:[n.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.8",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsxs("filter",{id:"neonGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),n.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.2  0 0 0 0 0.6  0 0 0 0 1  0 0 0 1 0"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"pillGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),n.jsx("stop",{offset:"100%",stopColor:"#eff6ff"})]}),n.jsxs("linearGradient",{id:"pillStroke",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#a5f3fc"}),n.jsx("stop",{offset:"100%",stopColor:"#93c5fd"})]}),n.jsxs("radialGradient",{id:"pillGlow",cx:"50%",cy:"50%",r:"60%",children:[n.jsx("stop",{offset:"0%",stopColor:"#67e8f9",stopOpacity:"0.6"}),n.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),n.jsx("filter",{id:"pillBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:n.jsx("feGaussianBlur",{stdDeviation:"8"})}),n.jsxs("linearGradient",{id:"labelTextGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),n.jsxs("linearGradient",{id:"pieGradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),n.jsx(ms,{contentStyle:{borderRadius:12}}),n.jsx(Df,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",startAngle:-90,endAngle:270,outerRadius:110,innerRadius:70,paddingAngle:2,isAnimationActive:!0,animationBegin:140,animationDuration:900,animationEasing:"ease-out",label:x?F=>{if(!(F&&F.value>0))return null;const L=Math.PI/180,te=Math.cos(-F.midAngle*L)>=0,re=(te?C:_).findIndex(B=>B.index===F.index);if(re===-1)return null;const D=te?K:V,Y=D[re];if(typeof Y!="number")return null;const H=re-(D.length-1)/2;return n.jsx(xde,{...F,laneSlot:H,sideRight:te,fixedTy:Y,laneGap:30})}:F=>n.jsx(gde,{...F}),labelLine:!1,children:e.map((F,L)=>n.jsx(Qs,{fill:L===0?"url(#pieGradBlue)":["#bfe9ff","#8ed8ff","#60cfff","#a3d8ff"][L-1]||"#bfe9ff",stroke:"#ffffff",strokeOpacity:.9},`cell-${L}`))})]})}const vde={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://aisdr-dbt.ddns.net"};var KT={};const GT=typeof import.meta<"u"&&vde&&"https://aisdr-dbt.ddns.net"||typeof process<"u"&&KT&&KT.NEXT_PUBLIC_API_URL||"http://localhost:8000";function dc(...e){return e.filter(Boolean).join(" ")}function YT({iso:e}){if(!e||typeof e!="string"||e.length!==2)return null;const t=[...e.toUpperCase()].map(a=>127397+a.charCodeAt(0));return n.jsx("span",{className:"mr-1","aria-hidden":!0,children:String.fromCodePoint(...t)})}function yde({open:e,onClose:t,onConfirm:a,numbers:r=[]}){if(!e)return null;const s=r.slice(0,5),l=Math.max(0,r.length-s.length);return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:"Confirm Purchase"}),n.jsxs("p",{className:"mb-4 text-gray-700",children:["You are about to purchase"," ",n.jsx("span",{className:"font-semibold",children:r.length})," ","number",r.length>1?"s":"","."]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 max-h-48 overflow-auto border border-gray-100 mb-5",children:[s.map(c=>n.jsx("div",{className:"font-mono text-sm text-gray-800 py-0.5",children:c},c)),l>0&&n.jsxs("div",{className:"text-xs text-gray-500",children:["and ",l," more"]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition",children:"Cancel"}),n.jsx("button",{onClick:()=>a(r),className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Yes, Buy"})]})]})})}function wde(){const[e,t]=g.useState("US"),[a,r]=g.useState([]),[s,l]=g.useState(!1),[c,d]=g.useState(!1),[f,m]=g.useState(""),[h,x]=g.useState(20),[b,y]=g.useState(1),[w,j]=g.useState(!1),[S,k]=g.useState([]),_=10,C=[{code:"US",name:"United States",flag:""},{code:"CA",name:"Canada",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],P=()=>{try{return localStorage.getItem("token")}catch{return null}},A=H=>H.split(/[,\s]+/).map(B=>B.trim()).filter(Boolean),[T,R]=g.useState(()=>new Set),O=H=>T.has(H),V=H=>{R(B=>{const E=new Set(B);return E.has(H)?E.delete(H):E.add(H),E})},K=()=>R(new Set),F=g.useMemo(()=>{const H=b*_,B=H-_;return a.slice(B,H)},[a,b]),L=Math.ceil(a.length/_)||1,te=async()=>{const H=A(f);l(!0);try{const B=P(),E=await fetch(`${GT}/api/available_phone_numbers`,{method:"POST",headers:{"Content-Type":"application/json",...B?{Authorization:`Bearer ${B}`}:{}},body:JSON.stringify({country:e,area_codes:H.length?H:null,limit:h})}),$=await E.json();if(!E.ok){const W=$&&$.detail&&($.detail.error||$.detail)||($==null?void 0:$.message)||"Failed to fetch phone numbers.";r([]),I.error(W);return}const z=Array.isArray($)?$:[];r(z),y(1),K(),z.length===0&&I.info("No numbers found for your query.")}catch(B){console.error(B),r([]),I.error("Network error while fetching numbers.")}finally{l(!1)}},Ne=async H=>{if(H!=null&&H.length){d(!0);try{const B=P(),E=await fetch(`${GT}/api/purchase_phone_number`,{method:"POST",headers:{"Content-Type":"application/json",...B?{Authorization:`Bearer ${B}`}:{}},body:JSON.stringify({phone_number:H})}),$=await E.json();if(!E.ok||!($!=null&&$.success)){const z=$&&$.detail&&($.detail.error||$.detail)||($==null?void 0:$.message)||"Failed to purchase numbers.";I.error(z);return}r(z=>z.filter(W=>!H.includes(W.phone_number))),K(),I.success(` Purchased ${H.length} number${H.length>1?"s":""}.`)}catch(B){console.error(B),I.error("Network error while purchasing.")}finally{d(!1),j(!1),k([])}}},re=H=>{if(!H)return"";if(e==="US"||e==="CA"){const E=H.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);if(E)return`+1 (${E[1]}) ${E[2]}-${E[3]}`}return H},D=async H=>{try{await navigator.clipboard.writeText(H),I.success("Copied!")}catch{I.error("Copy failed.")}},Y=(()=>{const H=a.length===0?0:(b-1)*_+1,B=Math.min(b*_,a.length);return{start:H,end:B}})();return n.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_55%),linear-gradient(to_bottom,white,white)]",children:[n.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-blue-600 via-purple-600 to-fuchsia-500"}),n.jsx(yde,{open:w,onClose:()=>j(!1),onConfirm:H=>Ne(H),numbers:S}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[n.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:n.jsx(ht,{className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:"Premium Phone Numbers"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Search, select, and purchase numbers worldwide in seconds."})]})]}),n.jsx("div",{className:"grid grid-cols-3 gap-3 lg:ml-auto w-full lg:w-auto",children:[{label:"Available",value:a.length?`${a.length}+`:""},{label:"Uptime",value:"99.9%"},{label:"Support",value:"24/7"}].map((H,B)=>n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50/60 px-4 py-3 text-center hover:shadow transition",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:H.value}),n.jsx("div",{className:"text-xs text-gray-500",children:H.label})]},B))})]})}),n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:n.jsx(Ea,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Number"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(rl,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Country"]}),n.jsx("select",{value:e,onChange:H=>t(H.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:C.map(H=>n.jsxs("option",{value:H.code,children:[H.flag," ",H.name]},H.code))})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ea,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Area Codes (comma-separated, optional)"]}),n.jsx("input",{type:"text",value:f,onChange:H=>m(H.target.value),placeholder:"e.g., 212, 415",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(du,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Results Limit"]}),n.jsxs("select",{value:h,onChange:H=>x(Number.parseInt(H.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:20,children:"20"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]})]}),n.jsx("div",{className:"lg:col-span-1 flex items-end",children:n.jsx("button",{onClick:te,disabled:s,className:dc("w-full px-6 py-3 rounded-xl font-semibold text-white transition shadow-sm",s?"bg-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"),children:s?n.jsxs("span",{className:"inline-flex items-center justify-center",children:[n.jsx(_n,{className:"w-5 h-5 animate-spin mr-2"}),"Searching"]}):n.jsxs("span",{className:"inline-flex items-center justify-center",children:[n.jsx(Ea,{className:"w-5 h-5 mr-2"}),"Search"]})})})]}),n.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Tip: leave area codes empty to search nationwide."}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{const H=F.map(E=>E.phone_number),B=H.every(E=>T.has(E));R(E=>{const $=new Set(E);return B?H.forEach(z=>$.delete(z)):H.forEach(z=>$.add(z)),$})},className:"px-3 py-2 rounded-lg border text-sm hover:bg-gray-50 transition",children:F.every(H=>T.has(H.phone_number))?"Unselect Page":"Select Page"}),n.jsx("button",{onClick:()=>{if(T.size===0){I.info("Select numbers first.");return}const H=Array.from(T);k(H),j(!0)},disabled:T.size===0||c,className:dc("px-4 py-2 rounded-lg font-semibold transition shadow-sm",T.size===0||c?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(wh,{className:"w-4 h-4"}),"Buy Selected (",T.size,")"]})})]})]})]}),n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[n.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"w-4 h-4 text-white"})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:s?"Searching":`Available Numbers (${a.length})`})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Y.start,"  ",Y.end," of"," ",a.length]})]})}),s?n.jsx("div",{className:"p-6 sm:p-8",children:n.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((H,B)=>n.jsx("div",{className:"h-16 rounded-xl bg-gray-100 animate-pulse"},B))})}):a.length===0?n.jsx("div",{className:"flex items-center justify-center py-16",children:n.jsxs("div",{className:"text-center max-w-sm",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(ht,{className:"w-10 h-10 text-gray-400"})}),n.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No numbers available"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Try different area codes or another country."}),n.jsx("button",{onClick:te,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Select"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Phone Number"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Region"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Capabilities"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:F.map((H,B)=>{var $,z,W;const E=O(H.phone_number);return n.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("button",{onClick:()=>V(H.phone_number),className:"text-gray-700 hover:scale-105 transition","aria-label":E?"Unselect":"Select",children:E?n.jsx(d3,{className:"w-5 h-5 text-blue-600"}):n.jsx(qc,{className:"w-5 h-5"})})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:n.jsx(ht,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:re(H.phone_number)}),n.jsx("button",{onClick:()=>D(H.phone_number),className:"p-1 rounded hover:bg-gray-100 transition",title:"Copy",children:n.jsx(Ya,{className:"w-4 h-4 text-gray-500"})})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(ii,{className:"w-4 h-4 text-gray-500 mr-2"}),n.jsx(YT,{iso:H.iso_country}),H.region||"N/A"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[(($=H.capabilities)==null?void 0:$.SMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((z=H.capabilities)==null?void 0:z.MMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((W=H.capabilities)==null?void 0:W.voice)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("button",{onClick:()=>{k([H.phone_number]),j(!0)},disabled:c,className:dc("px-5 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(_n,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(wh,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})})]},B)})})]})}),n.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:F.map((H,B)=>{var $,z,W;const E=O(H.phone_number);return n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsx("button",{onClick:()=>V(H.phone_number),className:"text-gray-700 mr-3","aria-label":E?"Unselect":"Select",children:E?n.jsx(d3,{className:"w-5 h-5 text-blue-600"}):n.jsx(qc,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:n.jsx(ht,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:re(H.phone_number)}),n.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-700",children:[n.jsx(ii,{className:"w-4 h-4 text-gray-500 mr-1"}),n.jsx(YT,{iso:H.iso_country}),H.region||"N/A"]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[(($=H.capabilities)==null?void 0:$.SMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((z=H.capabilities)==null?void 0:z.MMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((W=H.capabilities)==null?void 0:W.voice)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})]})]}),n.jsx("button",{onClick:()=>D(H.phone_number),className:"p-1 rounded hover:bg-gray-100 ml-3",title:"Copy",children:n.jsx(Ya,{className:"w-4 h-4 text-gray-500"})})]}),n.jsx("button",{onClick:()=>{k([H.phone_number]),j(!0)},disabled:c,className:dc("mt-4 w-full px-4 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(_n,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(wh,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},B)})})]}),a.length>_&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-700 mb-3 sm:mb-0",children:["Showing ",Y.start," to ",Y.end," of ",a.length," results"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>y(H=>Math.max(1,H-1)),disabled:b===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,L)},(H,B)=>{let E;return L<=5||b<=3?E=B+1:b>=L-2?E=L-4+B:E=b-2+B,n.jsx("button",{onClick:()=>y(E),className:dc("px-3 py-2 text-sm font-medium rounded-lg transition",b===E?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:E},E)})}),n.jsx("button",{onClick:()=>y(H=>Math.min(L,H+1)),disabled:b>=L,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]}),T.size>0&&n.jsx("div",{className:"fixed bottom-4 inset-x-0 px-4 sm:px-6 lg:px-8 z-40",children:n.jsxs("div",{className:"max-w-7xl mx-auto rounded-2xl bg-white/90 backdrop-blur border border-gray-200 shadow-lg p-3 sm:p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm sm:text-base",children:[n.jsx("span",{className:"font-semibold",children:T.size})," selected"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:K,className:"px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 transition text-sm",children:"Clear"}),n.jsx("button",{onClick:()=>{const H=Array.from(T);k(H),j(!0)},disabled:c,className:dc("px-4 py-2 rounded-lg font-semibold text-white transition text-sm",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(wh,{className:"w-4 h-4"}),"Buy Selected"]})})]})]})})]})}function jde({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Nde=g.forwardRef(jde);function Sde({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const aj=g.forwardRef(Sde);function _de({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const i9=g.forwardRef(_de);function kde({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ep=g.forwardRef(kde);function Cde({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Zd=g.forwardRef(Cde);function Ade({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Qd=g.forwardRef(Ade);function Tde({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const WT=g.forwardRef(Tde);function Ede({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const l9=g.forwardRef(Ede);function Pde({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Ode=g.forwardRef(Pde);function Mde({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const rj=g.forwardRef(Mde);function Dde({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const sj=g.forwardRef(Dde);function Rde({title:e,titleId:t,...a},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const zc=g.forwardRef(Rde),$de="https://aisdr-dbt.ddns.net",Lde=[`${$de}/api`];function Ide(){var Ce,ke,pe,Ue,Ve;const e=Zt(),[t,a]=g.useState({name:"",email:""}),[r,s]=g.useState(!1),[l,c]=g.useState(null),[d,f]=g.useState(!1),[m,h]=g.useState(!1),x=g.useRef(null),[b,y]=g.useState(!1),[w,j]=g.useState({old:!1,next:!1}),[S,k]=g.useState({old_password:"",new_password:""}),[_,C]=g.useState(!1),[P,A]=g.useState({sid:"",token:"",validate:!0}),[T,R]=g.useState(null),[O,V]=g.useState(!1),[K,F]=g.useState({sid:!1,token:!1}),[L,te]=g.useState(!1),[Ne,re]=g.useState(!1),[D,Y]=g.useState(!1),H=()=>localStorage.getItem("token")||"",B=()=>H()?{Authorization:`Bearer ${H()}`}:{},E=()=>H()?!0:(I.error("Authentication required. Please login again."),e("/login"),!1),$=async(we,q={},{expectJson:ie=!0}={})=>{const G=[];for(const Ae of Lde)try{const Le=await fetch(`${Ae}${we}`,q);if(Le.status===401||Le.status===403){const Ze=await Le.text().catch(()=>"");throw new Error(Ze||"Unauthorized")}if(Le.ok)return ie?await Le.json():Le;if(Le.status===404){G.push({base:Ae,status:404});continue}const Pe=await Le.json().catch(()=>({}));throw new Error((Pe==null?void 0:Pe.detail)||`Request failed (${Le.status})`)}catch(Le){if(G.push({base:Ae,err:Le==null?void 0:Le.message}),(Le==null?void 0:Le.message)==="Unauthorized")throw Le}const xe=G!=null&&G.length?`Request failed on all bases: ${G.map(Ae=>`${Ae.base}${Ae.status||Ae.err}`).join(" | ")}`:"Network error";throw new Error(xe)};g.useEffect(()=>{(async()=>{var we,q,ie;if(E())try{const G=await $("/user-info",{headers:{...B(),Accept:"application/json"}});a({name:((we=G==null?void 0:G.data)==null?void 0:we.name)||"",email:((q=G==null?void 0:G.data)==null?void 0:q.email)||""});const xe=(ie=G==null?void 0:G.data)==null?void 0:ie.profile_photo_url;if(xe)c(xe+(xe.includes("?")?"&":"?")+"t="+Date.now());else try{const Ae=await $("/profile-photo?redirect=false",{headers:{...B(),Accept:"application/json"}}),Le=Ae==null?void 0:Ae.photo_url;Le&&c(Le+(Le.includes("?")?"&":"?")+"t="+Date.now())}catch{}}catch{I.error("Unable to load profile")}finally{s(!0)}})()},[]),g.useEffect(()=>{(async()=>{if(E())try{const we=await $("/twilio/credentials",{headers:{...B(),Accept:"application/json"}});R(we)}catch{}})()},[]);const z=async we=>{var q;if((q=we==null?void 0:we.preventDefault)==null||q.call(we),!!E()){if(!t.name.trim())return I.error("Name is required");if(!t.email.trim())return I.error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return I.error("Please enter a valid email");Y(!0);try{await $("/update-profile",{method:"POST",headers:{"Content-Type":"application/json",...B(),Accept:"application/json"},body:JSON.stringify({name:t.name,email:t.email})}),localStorage.setItem("name",t.name),I.success("Profile updated")}catch(ie){I.error(ie.message||"Update failed")}finally{Y(!1)}}},W=async we=>{var q;if((q=we==null?void 0:we.preventDefault)==null||q.call(we),!!E()){if(!S.old_password||!S.new_password)return I.error("Please fill both password fields");if(S.new_password.length<8)return I.error("New password must be at least 8 characters");C(!0);try{await $("/change-password",{method:"POST",headers:{"Content-Type":"application/json",...B(),Accept:"application/json"},body:JSON.stringify(S)}),I.success("Password changed successfully"),k({old_password:"",new_password:""})}catch(ie){I.error(ie.message||"Password change failed")}finally{C(!1)}}},de=async we=>{var G;if((G=we==null?void 0:we.preventDefault)==null||G.call(we),!E())return;const q=P.sid.trim(),ie=P.token.trim();if(!q||!ie)return I.error("Please enter both Account SID and Auth Token");if(!q.startsWith("AC")||q.length<20)return I.error("Account SID should start with AC");if(ie.length<10)return I.error("Auth Token looks too short");V(!0);try{const xe=await $("/twilio/credentials",{method:"PUT",headers:{"Content-Type":"application/json",...B(),Accept:"application/json"},body:JSON.stringify({account_sid:q,auth_token:ie,validate:!!P.validate})});R((xe==null?void 0:xe.masked)||null),A({sid:"",token:"",validate:!0}),I.success("Twilio credentials saved")}catch(xe){I.error(xe.message||"Failed to save Twilio credentials")}finally{V(!1)}},J=async we=>{if(!we||!E())return;if(!["image/png","image/jpeg","image/webp"].includes(we.type))return I.error("Please upload PNG, JPG or WebP");if(we.size>5*1024*1024)return I.error("Max file size is 5MB");f(!0);try{const ie=new FormData;ie.append("file",we);const G=await $("/profile-photo",{method:"POST",headers:{...B()},body:ie}),xe=G==null?void 0:G.photo_url;if(!xe)throw new Error("Upload returned no URL");c(xe+(xe.includes("?")?"&":"?")+"t="+Date.now()),I.success("Profile photo updated")}catch(ie){I.error(ie.message||"Upload failed")}finally{f(!1)}},Q=async()=>{if(E()){h(!0);try{await $("/profile-photo",{method:"DELETE",headers:{...B(),Accept:"application/json"}}),c(null),I.success("Profile photo removed")}catch(we){I.error(we.message||"Delete failed")}finally{h(!1)}}},Se=we=>{we.preventDefault(),y(!1);const q=we.dataTransfer.files&&we.dataTransfer.files[0]||void 0;J(q)},ae=we=>{we.preventDefault(),y(!0)},be=we=>{we.preventDefault(),y(!1)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[n.jsx("div",{className:"border-b border-slate-200 bg-white/70 backdrop-blur",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:n.jsxs(he.div,{className:"flex items-center gap-3 py-6",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3},children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-600 grid place-items-center shadow-md",children:n.jsx(zc,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Account Settings"}),n.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your profile, security and preferences"})]})]})})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx(he.section,{className:"lg:col-span-4 lg:order-10 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(Ode,{className:"w-5 h-5 text-blue-600"}),"Profile Photo"]}),n.jsxs("div",{className:"mt-5 flex items-center gap-4",children:[n.jsxs("div",{className:"relative shrink-0",children:[n.jsx("div",{className:"rounded-full p-[6px] bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 shadow-[0_8px_24px_rgba(59,130,246,0.25)]",children:n.jsx("div",{className:"rounded-full bg-white p-1",children:n.jsx("div",{className:"rounded-full overflow-hidden w-24 h-24",children:n.jsx(Pt,{mode:"wait",children:l?n.jsx(he.img,{src:l,alt:"Profile",className:"w-full h-full object-cover",onError:()=>c(null),initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2}},l):n.jsx(he.div,{className:"w-full h-full bg-gradient-to-br from-blue-600 to-cyan-500 grid place-items-center text-white text-2xl font-bold",initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:((Ve=(Ue=(pe=(ke=(Ce=t.name)==null?void 0:Ce.split(" "))==null?void 0:ke.map(we=>we[0]))==null?void 0:pe.join(""))==null?void 0:Ue.toUpperCase())==null?void 0:Ve.slice(0,2))||"U"},"initials")})})})}),n.jsx("span",{className:"absolute -right-1 -bottom-1 h-4 w-4 rounded-full bg-emerald-400 ring-2 ring-white"})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-slate-900 font-semibold leading-tight truncate",children:t.name||"User"}),n.jsx("p",{className:"text-slate-600 text-sm break-all",children:t.email||"-"})]})]}),n.jsxs("div",{className:`mt-5 rounded-xl border-2 ${b?"border-blue-400 bg-blue-50/60":"border-dashed border-slate-300"} p-4 transition-colors`,onDrop:Se,onDragOver:ae,onDragLeave:be,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600/90 grid place-items-center text-white shrink-0",children:n.jsx(Nde,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-semibold text-slate-900",children:["Drag & drop a photo here, or"," ",n.jsx("button",{type:"button",onClick:()=>{var we;return(we=x.current)==null?void 0:we.click()},className:"text-blue-600 underline underline-offset-2 hover:opacity-80",children:"choose file"})]}),n.jsx("p",{className:"text-slate-600",children:"PNG, JPG, or WebP up to 5MB. Square images look best."})]})]}),n.jsx("input",{ref:x,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:we=>{var q;return J((q=we.target.files)==null?void 0:q[0])}})]}),n.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{var we;return(we=x.current)==null?void 0:we.click()},disabled:d,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50",children:d?"Uploading...":"Upload New"}),n.jsx("button",{type:"button",onClick:Q,disabled:m||!l,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:m?"Removing...":"Remove"})]})]})}),n.jsx(he.section,{className:"lg:col-span-8 lg:order-20 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.05},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-blue-600 grid place-items-center",children:n.jsx(zc,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Profile Information"})]}),n.jsxs("form",{onSubmit:z,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[n.jsx(zc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),n.jsx("input",{type:"text",value:t.name,onChange:we=>a({...t,name:we.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:!r||D,required:!0})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[n.jsx(i9,{className:"w-4 h-4 inline mr-2 text-emerald-500"}),"Email Address"]}),n.jsx("input",{type:"email",value:t.email,onChange:we=>a({...t,email:we.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",disabled:!r||D,required:!0})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",disabled:!r||D,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:D?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(aj,{className:"w-4 h-4"}),"Save Changes"]})})})]})]})}),n.jsx(he.section,{className:"lg:col-span-8 lg:order-30 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.08},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-600 grid place-items-center",children:n.jsx(WT,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Twilio Credentials"})]}),T?n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-200",children:"Connected"}):n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-slate-100 text-slate-700 border border-slate-200",children:"Not Connected"})]}),T&&n.jsxs("div",{className:"mb-4 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-900 break-words",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Account SID:"})," ",T.account_sid]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Auth Token:"})," ",T.auth_token]})]}),n.jsxs("form",{onSubmit:de,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Account SID"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:K.sid?"text":"password",value:P.sid,onChange:we=>A(q=>({...q,sid:we.target.value})),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),n.jsx("button",{type:"button",onClick:()=>F(we=>({...we,sid:!we.sid})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":K.sid?"Hide SID":"Show SID",children:K.sid?n.jsx(Zd,{className:"w-5 h-5"}):n.jsx(Qd,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Auth Token"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:K.token?"text":"password",value:P.token,onChange:we=>A(q=>({...q,token:we.target.value})),placeholder:"",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),n.jsx("button",{type:"button",onClick:()=>F(we=>({...we,token:!we.token})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":K.token?"Hide Token":"Show Token",children:K.token?n.jsx(Zd,{className:"w-5 h-5"}):n.jsx(Qd,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"We store your credentials on your user record and only use them to manage Twilio on your behalf."})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-cyan-600",checked:P.validate,onChange:we=>A(q=>({...q,validate:we.target.checked}))}),n.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]})}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",disabled:O,className:"w-full sm:w-auto inline-flex items-center gap-2 bg-cyan-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:opacity-50",children:O?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving"]}):n.jsxs(n.Fragment,{children:[n.jsx(WT,{className:"w-4 h-4"}),"Save Twilio Credentials"]})})})]})]})}),n.jsx(he.section,{className:"lg:col-span-4 lg:order-40 rounded-2xl border border-red-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.1},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-600 grid place-items-center",children:n.jsx(Ep,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Danger Zone"})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[n.jsx("p",{className:"text-red-900 font-semibold mb-1",children:"Delete Account"}),n.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),n.jsxs("button",{onClick:()=>te(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:[n.jsx(sj,{className:"w-4 h-4"}),"Delete Account"]})]})]})}),n.jsx(he.section,{className:"lg:col-span-12 lg:order-50 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.12},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-purple-600 grid place-items-center",children:n.jsx(l9,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Change Password"})]}),n.jsxs("form",{onSubmit:W,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:w.old?"text":"password",value:S.old_password,onChange:we=>k({...S,old_password:we.target.value}),placeholder:"Enter current password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:1}),n.jsx("button",{type:"button",onClick:()=>j(we=>({...we,old:!we.old})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.old?n.jsx(Zd,{className:"w-5 h-5"}):n.jsx(Qd,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:w.next?"text":"password",value:S.new_password,onChange:we=>k({...S,new_password:we.target.value}),placeholder:"Enter new password (min 8 chars)",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:8}),n.jsx("button",{type:"button",onClick:()=>j(we=>({...we,next:!we.next})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.next?n.jsx(Zd,{className:"w-5 h-5"}):n.jsx(Qd,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",disabled:_,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:_?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(rj,{className:"w-4 h-4"}),"Update Password"]})})})]})]})})]})}),n.jsx(Pt,{children:L&&n.jsx(he.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:n.jsxs(he.div,{className:"w-full max-w-md rounded-2xl bg-white shadow-xl border border-slate-200 p-6",initial:{y:20,opacity:.9},animate:{y:0,opacity:1},exit:{y:12,opacity:0},transition:{type:"spring",stiffness:260,damping:22},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-600 grid place-items-center",children:n.jsx(Ep,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Delete"})]}),n.jsx("p",{className:"text-slate-600",children:"Are you sure you want to delete your account? This action cannot be undone."}),n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[n.jsx("button",{onClick:()=>te(!1),disabled:Ne,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-800 text-white font-medium",children:"Cancel"}),n.jsx("button",{onClick:async()=>{if(E()){re(!0);try{await $("/delete-account",{method:"DELETE",headers:{...B(),Accept:"application/json"}}),I.success("Account deleted"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(we){I.error(we.message||"Delete failed")}finally{re(!1),te(!1)}}},disabled:Ne,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:Ne?"Deleting...":"Delete Forever"})]})]})})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-10",children:n.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsx("div",{className:"absolute -inset-x-20 -top-14 h-28 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[n.jsx("p",{className:"text-sm text-slate-600 text-center sm:text-left",children:"By using this app you agree to our Terms of Service and Privacy Policy"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms of Service"}),n.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})})]})}const XT="https://aisdr-dbt.ddns.net";function zde(){var O,V;const[e,t]=g.useState([]),[a,r]=g.useState(!1),[s,l]=g.useState(1),[c,d]=g.useState({open:!1,number:null}),[f,m]=g.useState(!1),h=10,x=Zt(),b=K=>Array.isArray(K)?K:K&&Array.isArray(K.purchased_numbers)?K.purchased_numbers:[],y=K=>{if(!K)return"N/A";const L=String(K).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return L?`+1 (${L[1]}) ${L[2]}-${L[3]}`:K},w=K=>{if(!K)return"N/A";const F=new Date(K);return isNaN(F.getTime())?"N/A":F.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},j=async()=>{r(!0);try{const K=localStorage.getItem("token");if(!K){console.error("No token found in localStorage"),t([]);return}const F=await fetch(`${XT}/api/purchased_numbers`,{headers:{Authorization:`Bearer ${K}`}});let L;try{L=await F.json()}catch{L=[]}if(!F.ok){console.error("Failed to fetch purchased numbers:",(L==null?void 0:L.message)||(L==null?void 0:L.detail)||"Unknown error"),t([]);return}t(b(L))}catch(K){console.error("Error fetching purchased numbers:",K),t([])}finally{r(!1)}},S=async()=>{var K;if((K=c.number)!=null&&K.phone_number){m(!0);try{const F=localStorage.getItem("token");if(!F)throw new Error("No token found in localStorage");const L=await fetch(`${XT}/api/remove-phone-number`,{method:"POST",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:c.number.phone_number})});let te;try{te=await L.json()}catch{te=null}if(!L.ok||(te==null?void 0:te.success)===!1)throw new Error((te==null?void 0:te.detail)||(te==null?void 0:te.error)||"Failed to remove phone number");t(Ne=>Ne.filter(re=>re.phone_number!==c.number.phone_number)),d({open:!1,number:null})}catch(F){alert("Failed to delete number: "+F.message)}finally{m(!1)}}};g.useEffect(()=>{j()},[]);const k=Math.ceil(e.length/h)||1,_=Math.min(s*h,e.length),C=Math.max(0,_-h),P=e.slice(C,_),A=()=>s<k&&l(K=>K+1),T=()=>s>1&&l(K=>K-1),R=K=>K>=1&&K<=k&&l(K);return g.useEffect(()=>{s>k&&l(1)},[e]),n.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:[c.open&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>!f&&d({open:!1,number:null})}),n.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(ta,{className:"w-6 h-6 text-red-500"}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Number"})]}),n.jsxs("div",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete this number?",n.jsx("div",{className:"mt-2 text-gray-900 font-semibold",children:y((O=c.number)==null?void 0:O.phone_number)}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",w((V=c.number)==null?void 0:V.date_purchased)]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors",onClick:()=>!f&&d({open:!1,number:null}),disabled:f,children:"Cancel"}),n.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",onClick:S,disabled:f,children:f?"Deleting...":"Delete"})]})]})]}),n.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(ht,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Purchased Numbers"}),n.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1 sm:mt-2",children:"View your purchased phone numbers"})]})]}),n.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ht,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Buy Numbers"}),n.jsx("span",{className:"sm:hidden",children:"Buy"})]})})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600",children:e.length}),n.jsx("div",{className:"text-sm sm:text-base text-gray-600 font-medium mt-2",children:"Total Purchased Numbers"})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),n.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Purchased Numbers (",e.length,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[n.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full"}),n.jsx("span",{className:"font-semibold",children:"Live Data"})]})]})}),a?n.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ht,{className:"w-8 h-8 sm:w-12 sm:h-12 animate-pulse text-blue-500 mx-auto mb-4"}),n.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"Loading purchased numbers..."}),n.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Please wait while we fetch your data"})]})}):e.length===0?n.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(ht,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),n.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No purchased numbers found"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Your purchased numbers will appear here"}),n.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:"Buy Numbers"})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Phone Number"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Friendly Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date Purchased"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Attached Assistant"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((K,F)=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:n.jsx(ht,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{className:"text-lg font-bold text-gray-900",children:y(K.phone_number)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ii,{className:"w-4 h-4 text-gray-500 mr-2"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.friendly_name||""})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-xs font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:w(K.date_purchased)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-700",children:K.attached_assistant??""})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:K}),children:[n.jsx(ta,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},K.phone_number||F))})]})}),n.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:P.map((K,F)=>n.jsx("div",{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(ht,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-lg font-bold text-gray-900 mb-2",children:y(K.phone_number)}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(ii,{className:"w-4 h-4 text-gray-500 mr-1"}),n.jsx("span",{className:"text-sm text-gray-600",children:K.friendly_name||""})]}),n.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded inline-block mb-2",children:w(K.date_purchased)}),n.jsxs("div",{className:"text-sm text-gray-700 mb-3",children:["Assistant: ",K.attached_assistant??""]}),n.jsx("div",{children:n.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:K}),children:[n.jsx(ta,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]})},K.phone_number||F))})]})]}),e.length>h&&n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",e.length===0?0:C+1," to ",_," of ",e.length," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:T,disabled:s===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const K=[];let F=1,L=k;k>5&&(s<=3?(F=1,L=5):s>=k-2?(F=k-4,L=k):(F=s-2,L=s+2));for(let te=F;te<=L;te++)K.push(n.jsx("button",{onClick:()=>R(te),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s===te?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,"aria-current":s===te?"page":void 0,children:te},te));return K})()}),n.jsx("button",{onClick:A,disabled:s>=k,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:"Next"})]})]})})]})]})}function js(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function Cx(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function o9(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function c9(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function u9(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Pp(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function d9(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function f9(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Ax(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Tx(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function m9(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function ru(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function ol(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Ex(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function h9(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function p9(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function su(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function iu(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const Fh="https://aisdr-dbt.ddns.net";function Bde(){const e=Zt(),[t,a]=g.useState([]),[r,s]=g.useState(!0),[l,c]=g.useState(!1),[d,f]=g.useState(!0),[m,h]=g.useState(""),[x,b]=g.useState("all"),[y,w]=g.useState("all"),[j,S]=g.useState("created_at"),[k,_]=g.useState("desc"),[C,P]=g.useState(!1),[A,T]=g.useState(null),[R,O]=g.useState([]),[V,K]=g.useState(!1),[F,L]=g.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[te,Ne]=g.useState(1),re=10,D=g.useMemo(()=>localStorage.getItem("token"),[]),Y=async()=>{try{c(!0);const q=await fetch(`${Fh}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!q.ok)throw new Error(`HTTP ${q.status}`);const ie=await q.json(),G=Array.isArray(ie)?ie:Array.isArray(ie==null?void 0:ie.assistants)?ie.assistants:[];a(G)}catch(q){console.error(q),I.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};g.useEffect(()=>{Y()},[]),g.useEffect(()=>{if(!d)return;const q=setInterval(Y,15e3);return()=>clearInterval(q)},[d]);const H=g.useMemo(()=>{let q=[...t];x!=="all"&&(q=q.filter(G=>((G==null?void 0:G.provider)||"").toLowerCase()===x)),y!=="all"&&(q=q.filter(G=>((G==null?void 0:G.category)||"").toLowerCase()===y));const ie=m.trim().toLowerCase();return ie&&(q=q.filter(G=>[G==null?void 0:G.name,G==null?void 0:G.model,G==null?void 0:G.voice,G==null?void 0:G.category,G==null?void 0:G.attached_Number].filter(Boolean).map(String).map(Ae=>Ae.toLowerCase()).some(Ae=>Ae.includes(ie)))),q.sort((G,xe)=>{if(j==="created_at"){const Pe=G!=null&&G.created_at?new Date(G.created_at).getTime():0,Ze=xe!=null&&xe.created_at?new Date(xe.created_at).getTime():0;return k==="asc"?Pe-Ze:Ze-Pe}const Ae=((G==null?void 0:G[j])??"").toString().toLowerCase(),Le=((xe==null?void 0:xe[j])??"").toString().toLowerCase();return Ae<Le?k==="asc"?-1:1:Ae>Le?k==="asc"?1:-1:0}),q},[t,m,x,y,j,k]),B=g.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),E=g.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),$=Math.max(1,Math.ceil(H.length/re)),z=Math.min(te,$),W=H.slice((z-1)*re,z*re),de=g.useMemo(()=>H.length?H.reduce((q,ie)=>{const G=q!=null&&q.created_at?new Date(q.created_at):null,xe=ie!=null&&ie.created_at?new Date(ie.created_at):null;return!G&&xe?ie:!xe&&G||!G&&!xe?q:xe>G?ie:q},H[0]):null,[H]),J=q=>{j===q?_(ie=>ie==="asc"?"desc":"asc"):(S(q),_("asc"))},Q=q=>{T(q),P(!0)},Se=async()=>{if(A)try{const q=await fetch(`${Fh}/api/assistants/${A}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!q.ok){let ie=`HTTP ${q.status}`;try{const G=await q.json();G!=null&&G.detail&&(ie=G.detail)}catch{}throw new Error(ie)}I.success("Assistant deleted"),O(ie=>ie.filter(G=>G!==A)),Y()}catch(q){console.error(q),I.error((q==null?void 0:q.message)||"Delete failed")}finally{P(!1),T(null)}},ae=q=>{const ie=q==null?void 0:q.knowledge_base;if(Array.isArray(ie)&&ie.length){const G=ie.filter(xe=>typeof xe=="string"&&/^https?:\/\//i.test(xe));if(G.length){G.forEach(xe=>window.open(xe,"_blank","noopener"));return}}I.info("No file URLs available for this assistant.")},be=q=>{if(!(q!=null&&q.vapi_assistant_id)){I.error("Missing VAPI Assistant ID");return}L({vapi_assistant_id:q.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),K(!0)},Ce=async q=>{q.preventDefault();const{vapi_assistant_id:ie,number:G,first_name:xe,last_name:Ae,email:Le}=F;if(!G)return I.error("Enter the customer's phone number (E.164 preferred)");try{const Pe=`${Fh}/api/phone-call/${encodeURIComponent(ie)}/${encodeURIComponent(G)}`,Ze={first_name:xe||"Caller",last_name:Ae||"",email:Le||"caller@example.com",add_date:new Date().toISOString(),mobile_no:G,custom_field_01:null,custom_field_02:null},Qe=await fetch(Pe,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:D?`Bearer ${D}`:""},body:JSON.stringify(Ze)}),je=await Qe.json().catch(()=>({}));if(!Qe.ok||(je==null?void 0:je.success)===!1)throw new Error((je==null?void 0:je.detail)||`HTTP ${Qe.status}`);I.success("Call initiated"),K(!1)}catch(Pe){console.error(Pe),I.error((Pe==null?void 0:Pe.message)||"Failed to initiate call")}},ke=q=>R.includes(q),pe=q=>{O(ie=>ie.includes(q)?ie.filter(G=>G!==q):[...ie,q])},Ue=()=>{const q=W.map(G=>G.id).filter(Boolean),ie=q.every(G=>R.includes(G));O(G=>ie?G.filter(xe=>!q.includes(xe)):Array.from(new Set([...G,...q])))},Ve=async()=>{if(!R.length)return I.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const q of R)await fetch(`${Fh}/api/assistants/${q}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});I.success("Bulk delete complete"),O([]),Y()}catch(q){console.error(q),I.error("Bulk delete encountered an error")}},we=()=>{const q=["Name","Model","Voice","Attached Number","Category","Created"],ie=H.map(Pe=>[(Pe==null?void 0:Pe.name)??"",(Pe==null?void 0:Pe.model)??"",(Pe==null?void 0:Pe.voice)??"",(Pe==null?void 0:Pe.attached_Number)??"",(Pe==null?void 0:Pe.category)??"",Pe!=null&&Pe.created_at?new Date(Pe.created_at).toLocaleString():""]),G=[q,...ie].map(Pe=>Pe.map(Ze=>`"${String(Ze).replace(/"/g,'""')}"`).join(",")).join(`
`),xe=new Blob([G],{type:"text/csv;charset=utf-8;"}),Ae=URL.createObjectURL(xe),Le=document.createElement("a");Le.href=Ae,Le.download="assistants.csv",Le.click(),URL.revokeObjectURL(Ae)};return r?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:n.jsx("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[n.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),n.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),n.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((q,ie)=>n.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[n.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),n.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},ie))}),n.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[n.jsx("div",{className:"border-b border-gray-100 p-6",children:n.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((q,ie)=>n.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),n.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),n.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((G,xe)=>n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},xe))})]})},ie))]})]})})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),n.jsxs("div",{className:"relative mx-auto w-full max-w-[1600px] px-6 py-12",children:[n.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"text-white",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:n.jsx(iu,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),n.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),n.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),n.jsxs("span",{children:[H.length," Active"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pp,{className:"h-4 w-4"}),n.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("button",{onClick:()=>f(q=>!q),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),n.jsxs("button",{onClick:Y,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(h9,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),n.jsxs("button",{onClick:we,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(f9,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),n.jsxs("button",{onClick:()=>e("/user/assistant/create"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[n.jsx(Ex,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(p9,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),n.jsx("input",{value:m,onChange:q=>h(q.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(ZT,{label:"Provider",value:x,onChange:b,options:B,icon:n.jsx(m9,{className:"h-4 w-4"})}),n.jsx(ZT,{label:"Category",value:y,onChange:w,options:E,icon:n.jsx(ru,{className:"h-4 w-4"})})]})]})]})]}),n.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(Vh,{title:"Total Assistants",value:H.length,icon:n.jsx(iu,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),n.jsx(Vh,{title:"Active Calls",value:"24",icon:n.jsx(ol,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),n.jsx(Vh,{title:"Success Rate",value:"94.2%",icon:n.jsx(js,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),n.jsx(Vh,{title:"Last Created",value:de!=null&&de.name?de.name.length>12?`${de.name.slice(0,12)}`:de.name:"",icon:n.jsx(Pp,{className:"h-6 w-6 text-cyan-600"}),subtitle:de!=null&&de.created_at?new Date(de.created_at).toLocaleDateString():""})]}),R.length>0&&n.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:n.jsx(js,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-blue-900",children:[R.length," assistants selected"]}),n.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:Ue,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),n.jsx("button",{onClick:Ve,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),H.length===0?n.jsx(Hde,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[n.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),n.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[n.jsx("thead",{className:"bg-gray-50/60",children:n.jsxs("tr",{children:[n.jsx(Ude,{className:"w-12 text-center",checked:W.every(q=>R.includes(q.id))&&W.length>0,onChange:Ue}),n.jsx(fc,{className:"w-[26%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?k:null,onSort:J}),n.jsx(fc,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?k:null,onSort:J}),n.jsx(fc,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?k:null,onSort:J}),n.jsx(fc,{className:"w-[18%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?k:null,onSort:J}),n.jsx(fc,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?k:null,onSort:J}),n.jsx(fc,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?k:null,onSort:J}),n.jsx("th",{className:"w-[14%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:W.map(q=>n.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${ke(q.id)?"bg-blue-50/50":""}`,children:[n.jsx(Fde,{className:"w-12 text-center",checked:ke(q.id),onChange:()=>pe(q.id)}),n.jsx("td",{className:"w-[26%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:n.jsx(ru,{className:"h-5 w-5"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"max-w-[40ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:q.name||""}),n.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(q.knowledge_base)?q.knowledge_base.length:0," KB items"]})]})]})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:n.jsx(Bc,{variant:"secondary",children:q.model||""})})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:n.jsx(Bc,{variant:"accent",children:q.voice||""})})}),n.jsx("td",{className:"w-[18%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"break-all font-mono text-sm text-gray-700",children:q.attached_Number||""}),q.attached_Number&&n.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>qde(q.attached_Number),children:n.jsx(d9,{className:"h-4 w-4"})})]})}),n.jsx("td",{className:"w-[10%] px-6 py-4",children:n.jsx("div",{className:"text-center",children:q.category?n.jsx(Bc,{variant:"primary",children:q.category}):n.jsx("span",{className:"text-gray-400",children:""})})}),n.jsx("td",{className:"w-[8%] px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:q.created_at?new Date(q.created_at).toLocaleDateString():""}),n.jsx("td",{className:"w-[14%] px-6 py-4",children:n.jsxs("div",{className:"mx-auto flex w-full min-w-[220px] items-center justify-center gap-2 whitespace-nowrap",children:[n.jsx(Hh,{title:"Edit Assistant",onClick:()=>e(`/user/edit-assistant/${q.id}`),variant:"primary",children:n.jsx(Ax,{className:"h-4 w-4"})}),n.jsx(Hh,{title:"View Files",onClick:()=>ae(q),variant:"success",children:n.jsx(Tx,{className:"h-4 w-4"})}),n.jsx(Hh,{title:"Start Call",onClick:()=>be(q),variant:"secondary",children:n.jsx(ol,{className:"h-4 w-4"})}),n.jsx(Hh,{title:"Delete",onClick:()=>Q(q.id),variant:"danger",children:n.jsx(su,{className:"h-4 w-4"})})]})})]},q.id??q.name))})]})]}),n.jsx("div",{className:"space-y-4 xl:hidden",children:W.map(q=>n.jsx(Vde,{assistant:q,isSelected:ke(q.id),onToggleSelect:()=>pe(q.id),onEdit:()=>e(`/user/edit-assistant/${q.id}`),onViewFiles:()=>ae(q),onCall:()=>be(q),onDelete:()=>Q(q.id)},q.id??q.name))}),n.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(z-1)*re+1," to ",Math.min(z*re,H.length)," of"," ",H.length," assistants"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(QT,{disabled:z<=1,onClick:()=>Ne(q=>Math.max(1,q-1)),children:[n.jsx(o9,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,$)},(q,ie)=>{const G=ie+1;return n.jsx("button",{onClick:()=>Ne(G),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${G===z?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:G},G)})}),n.jsxs(QT,{disabled:z>=$,onClick:()=>Ne(q=>Math.min($,q+1)),children:["Next",n.jsx(c9,{className:"h-4 w-4"})]})]})]})]})]}),C&&n.jsx(JT,{onClose:()=>P(!1),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:n.jsx(su,{className:"h-8 w-8 text-red-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),n.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-center gap-3",children:[n.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>P(!1),children:"Cancel"}),n.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:Se,children:"Delete Assistant"})]})]})}),V&&n.jsxs(JT,{onClose:()=>K(!1),children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:n.jsx(ol,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),n.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),n.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[n.jsx(qh,{label:"Customer Phone Number",value:F.number,onChange:q=>L(ie=>({...ie,number:q})),placeholder:"+1 (555) 123-4567",required:!0}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[n.jsx(qh,{label:"First Name",value:F.first_name,onChange:q=>L(ie=>({...ie,first_name:q})),placeholder:"John"}),n.jsx(qh,{label:"Last Name",value:F.last_name,onChange:q=>L(ie=>({...ie,last_name:q})),placeholder:"Doe"})]}),n.jsx(qh,{label:"Email Address",value:F.email,onChange:q=>L(ie=>({...ie,email:q})),placeholder:"john@example.com",type:"email"}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>K(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function Vh({title:e,value:t,icon:a,trend:r,trendUp:s,subtitle:l}){return n.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),a]}),n.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&n.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&n.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function ZT({label:e,value:t,onChange:a,options:r}){return n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:t,onChange:s=>a(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(s=>n.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx(Cx,{className:"h-4 w-4 text-white/70"})})]})}function Bc({children:e,variant:t="default"}){const a={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return n.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${a[t]}`,children:e})}function Hh({title:e,onClick:t,children:a,variant:r="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return n.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[r]}`,children:a})}function fc({label:e,sortKey:t,sortDir:a,onSort:r,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return n.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:n.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,n.jsxs("div",{className:"flex flex-col",children:[n.jsx(u9,{className:`h-3 w-3 transition-colors ${a==="asc"?"text-blue-600":"text-gray-400"}`}),n.jsx(Cx,{className:`-mt-1 h-3 w-3 transition-colors ${a==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Ude({checked:e,onChange:t,className:a=""}){return n.jsx("th",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(js,{className:"h-3 w-3"})})})})}function Fde({checked:e,onChange:t,className:a=""}){return n.jsx("td",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(js,{className:"h-3 w-3"})})})})}function Vde({assistant:e,isSelected:t,onToggleSelect:a,onEdit:r,onViewFiles:s,onCall:l,onDelete:c}){return n.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[n.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:a,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&n.jsx(js,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:n.jsx(ru,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),n.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),n.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),n.jsx(Bc,{variant:"secondary",children:e.model||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),n.jsx(Bc,{variant:"accent",children:e.voice||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),n.jsx("div",{className:"break-all font-mono text-sm",children:e.attached_Number||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?n.jsx(Bc,{variant:"primary",children:e.category}):n.jsx("span",{className:"text-gray-400",children:""})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[n.jsx(Ax,{className:"h-4 w-4"}),"Edit"]}),n.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[n.jsx(Tx,{className:"h-4 w-4"}),"Files"]}),n.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[n.jsx(ol,{className:"h-4 w-4"}),"Call"]}),n.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[n.jsx(su,{className:"h-4 w-4"}),"Delete"]})]})]})}function QT({disabled:e,onClick:t,children:a}){return n.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:a})}function JT({children:e,onClose:t}){return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function qh({label:e,value:t,onChange:a,placeholder:r,required:s,type:l="text"}){return n.jsxs("div",{children:[n.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:l,value:t,onChange:c=>a(c.target.value),placeholder:r,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Hde(){return n.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[n.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:n.jsx(iu,{className:"h-10 w-10 text-blue-600"})}),n.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),n.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),n.jsxs("a",{href:"/user/assistant/create",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[n.jsx(Ex,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function qde(e){e&&navigator.clipboard.writeText(e).then(()=>I.success("Copied to clipboard")).catch(()=>I.info(e))}const Co=[{showName:"Asteria",name:"asteria",voice:"aura-asteria-en",gender:"female",audioSr:"/Audios/output_Asteria.wav",provider:"deepgram"},{showName:"Luna",name:"luna",voice:"aura-luna-en",gender:"female",audioSr:"/Audios/output_Luna.wav",provider:"deepgram"},{showName:"Stella",name:"stella",voice:"aura-stella-en",gender:"female",audioSr:"/Audios/output_Stella.wav",provider:"deepgram"},{showName:"Athena",name:"athena",voice:"aura-athena-en",gender:"female",audioSr:"/Audios/output_Athena.wav",provider:"deepgram"},{showName:"Hera",name:"hera",voice:"aura-hera-en",gender:"female",audioSr:"/Audios/output_Hera.wav",provider:"deepgram"},{showName:"Orion",name:"orion",voice:"aura-orion-en",gender:"male",audioSr:"/Audios/output_Orion.wav",provider:"deepgram"},{showName:"Arcas",name:"arcas",voice:"aura-arcas-en",gender:"male",audioSr:"/Audios/output_Arcas.wav",provider:"deepgram"},{showName:"Perseus",name:"perseus",voice:"aura-perseus-en",gender:"male",audioSr:"/Audios/output_Perseus.wav",provider:"deepgram"},{showName:"Angus",name:"angus",voice:"aura-angus-en",gender:"male",audioSr:"/Audios/output_Angus.wav",provider:"deepgram"},{showName:"Orpheus",name:"orpheus",voice:"aura-orpheus-en",gender:"male",audioSr:"/Audios/output_Orpheus.wav",provider:"deepgram"},{showName:"Helios",name:"helios",voice:"aura-helios-en",gender:"male",audioSr:"/Audios/output_Helios.wav",provider:"deepgram"},{showName:"Zeus",name:"zeus",voice:"aura-zeus-en",gender:"male",audioSr:"/Audios/output_Zeus.wav",provider:"deepgram"}],ku=[{showName:"nova",name:"nova",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/nova.mp3",provider:"openai"},{showName:"onyx",name:"onyx",voice:"gpt-4o-mini-tts",gender:"male",audioSr:"/Audios/onyx.mp3",provider:"openai"},{showName:"alloy",name:"alloy",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/alloy.mp3",provider:"openai"}];[...Co,...ku];Co.filter(e=>e.gender==="female");const t1=Co.filter(e=>e.gender==="male"),n1=Co;ku.filter(e=>e.gender==="female");ku.filter(e=>e.gender==="male");const ft={danger:"#EF4444",text:"#0F172A",lightText:"#64748B",border:"#E2E8F0",background:"#F8FAFC",card:"#FFFFFF"},eE=/^\+\d{7,15}$/,tE=[{id:1,label:"Core & Transcription",Icon:gj},{id:2,label:"Voice",Icon:Sj},{id:3,label:"Review & Save",Icon:fu}],Kde=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Gde=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Yde(){const{assistantId:e}=$f(),t=Zt(),a="https://aisdr-dbt.ddns.net",[r,s]=g.useState(1),[l,c]=g.useState(!0),[d,f]=g.useState(!1),[m,h]=g.useState(!1),x=g.useRef(null),[b,y]=g.useState(!1),[w,j]=g.useState([]),[S,k]=g.useState(!1),[_,C]=g.useState(""),[P,A]=g.useState("all"),[T,R]=g.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],voice_provider:"deepgram",voice_model:"",voice:"",speed:.8,stability:.5,similarityBoost:.75,draft:!1,assistant_toggle:!0}),[O,V]=g.useState({}),K=g.useMemo(()=>{const E=T.voice_provider==="openai"?ku:Co;return(P==="all"?E:E.filter(z=>z.gender===P)).slice().sort((z,W)=>((z==null?void 0:z.showName)||"").localeCompare((W==null?void 0:W.showName)||""))},[T.voice_provider,P]);g.useEffect(()=>{if(!T.voice)return;const E=K.find($=>($==null?void 0:$.name)===T.voice);E!=null&&E.voice&&(R($=>({...$,voice_model:E.voice})),V($=>({...$,voice_model:""})))},[T.voice,K]),g.useEffect(()=>{if(!T.voice)return y(!1);K.some($=>$.name===T.voice)||y(!1)},[K,T.voice]);const F=async()=>{k(!0),C("");try{const E=localStorage.getItem("token"),$=await fetch(`${a}/api/purchased_numbers`,{headers:{Accept:"application/json",...E?{Authorization:`Bearer ${E}`}:{}}});if(!$.ok)throw new Error(`HTTP ${$.status}`);const z=await $.json(),de=(Array.isArray(z)?z:(z==null?void 0:z.purchased_numbers)||[]).filter(Boolean).map(J=>({phone_number:(J==null?void 0:J.phone_number)||"",friendly_name:(J==null?void 0:J.friendly_name)||"",attached_assistant:(J==null?void 0:J.attached_assistant)??null})).filter(J=>J.phone_number);j(de)}catch(E){console.error(E),C("Failed to load your purchased numbers"),j([])}finally{k(!1)}};g.useEffect(()=>{(async()=>{try{const $=localStorage.getItem("token");if(!$){I.error("No authentication token found. Please log in."),t("/login");return}const z=await fetch(`${a}/api/get-assistants`,{headers:{Authorization:`Bearer ${$}`,Accept:"application/json"}});if(!z.ok)throw new Error(`HTTP ${z.status}`);const W=await z.json(),de=Number(e),J=W.find(be=>Number(be.id)===de);if(!J)throw new Error("Assistant not found");const Q=J.voice_provider==="openai"||J.voice_provider==="deepgram"?J.voice_provider:"deepgram",Se={name:J.name||"",provider:J.provider||"openai",model:J.model||"gpt-4o-mini",temperature:J.temperature??.7,maxTokens:J.max_tokens??J.maxTokens??250,systemPrompt:J.system_prompt||J.systemPrompt||"",first_message:J.first_message||"",transcribe_provider:J.transcribe_provider||"google",transcribe_language:J.transcribe_language||"English",transcribe_model:J.transcribe_model||"gemini-2.0-flash",forwardingPhoneNumber:J.forwardingPhoneNumber||"",attached_Number:J.attached_Number||"",category:J.category||"",knowledgeBase:J.knowledge_base||J.knowledgeBase||[],leadsfile:J.leadsfile||[],languages:J.languages||[],endCallPhrases:J.endCallPhrases||[],voice_provider:Q,voice_model:J.voice_model||"",voice:J.voice||"",speed:J.speed??.8,stability:J.stability??.5,similarityBoost:J.similarityBoost??.75,draft:!!J.draft,assistant_toggle:!!(J.assistant_toggle??!0)};R(be=>({...be,...Se}));const ae=Se.voice&&Se.voice_model&&(Se.voice_provider==="deepgram"||Se.voice_provider==="openai");y(!!ae),F(),c(!1)}catch($){console.error("Error loading assistant:",$),I.error(($==null?void 0:$.message)||"Failed to load assistant"),t("/")}})()},[e]);const L=E=>{const{id:$,value:z,type:W,checked:de}=E.target,J=W==="checkbox"?de:z;R(Q=>({...Q,[$]:J})),V(Q=>({...Q,[$]:""}))},te=E=>{try{x.current&&(x.current.pause(),x.current=null);const $=new Audio(E);x.current=$,h(!0),$.play().catch(()=>{I.error("Failed to play voice preview"),h(!1),x.current=null}),$.onended=()=>{h(!1),x.current=null}}catch{I.error("Failed to play voice preview"),h(!1)}},Ne=()=>{x.current&&(x.current.pause(),x.current=null,h(!1))},re=E=>{if(E!==r){if(E===3&&(!T.voice||!b)){V($=>({...$,voice:"Select a voice and press Next to continue"})),I.error("Please select a voice and press Next to continue.");return}Ne(),s(E)}},D=()=>{if(r===1)return s(2);if(r===2){if(!T.voice){V(E=>({...E,voice:"Please select a voice"})),I.error("Select a voice to continue.");return}if(!b){V(E=>({...E,voice:"Click a voice card to confirm your choice"})),I.info("Click a voice card to confirm your choice.");return}return s(3)}},Y=E=>{Ne();const $=E.target.value;R(z=>({...z,voice_provider:$,voice:"",voice_model:""})),y(!1),V(z=>({...z,voice:"",voice_model:""}))},H=()=>{const E=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],$={};let z=!0;return E.forEach(W=>{const de=T[W];(de==null||de===""||Number.isNaN(de))&&($[W]="Required",z=!1)}),(T.temperature<0||T.temperature>2)&&($.temperature="Temperature must be between 0 and 2",z=!1),Number(T.maxTokens)<1&&($.maxTokens="maxTokens must be a positive integer",z=!1),T.forwardingPhoneNumber&&!eE.test(T.forwardingPhoneNumber)&&($.forwardingPhoneNumber="Must be E.164 (+123...)",z=!1),T.attached_Number&&!eE.test(T.attached_Number)&&($.attached_Number="Invalid number format",z=!1),V($),z||((J=>J.some(Q=>$[Q]))(["name","systemPrompt","first_message","forwardingPhoneNumber","attached_Number","category"])?s(1):s(2)),z},B=async E=>{if(E.preventDefault(),!d){if(r!==3){I.error("Please complete the steps first.");return}if(!H()){I.error("Fix the highlighted fields.");return}f(!0),Ne();try{const $=localStorage.getItem("token");if(!$)throw new Error("No authentication token found. Please log in.");const z={name:T.name,provider:T.provider,first_message:T.first_message||null,model:T.model,systemPrompt:T.systemPrompt||null,knowledgeBase:T.knowledgeBase,leadsfile:T.leadsfile,temperature:Number(T.temperature),maxTokens:Number(T.maxTokens),transcribe_provider:T.transcribe_provider,transcribe_language:T.transcribe_language,transcribe_model:T.transcribe_model,languages:T.languages,forwardingPhoneNumber:T.forwardingPhoneNumber||null,endCallPhrases:T.endCallPhrases,voice_provider:T.voice_provider,voice:T.voice,voice_model:T.voice_model,attached_Number:T.attached_Number||null,draft:!!T.draft,assistant_toggle:!!T.assistant_toggle,category:T.category||null,speed:Number(T.speed),stability:Number(T.stability),similarityBoost:Number(T.similarityBoost)},W=await fetch(`${a}/api/update_assistant/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify(z)});if(!W.ok){let de=`HTTP ${W.status}`;try{const J=await W.json();J!=null&&J.detail&&(de=J.detail)}catch{const J=await W.text();J&&(de=`${de}  ${J}`)}throw new Error(de)}I.success("Assistant updated successfully!"),t("/user/callassistent")}catch($){console.error("Update error",$),I.error(($==null?void 0:$.message)||"Failed to update assistant")}finally{f(!1)}}};return l?n.jsx("div",{className:"min-h-screen grid place-items-center",style:{background:ft.background},children:n.jsxs("div",{className:"flex items-center gap-3 text-lg",style:{color:ft.text},children:[n.jsx(_n,{className:"h-6 w-6 animate-spin"}),"Loading assistant"]})}):n.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:ft.background},children:[n.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:n.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(99,102,241,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(16,185,129,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(59,130,246,0.12) 0%, transparent 60%)"}})}),n.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),n.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[n.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:ft.border,backgroundColor:ft.card},children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-indigo-300/30 blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-emerald-300/30 blur-2xl"}),n.jsxs("div",{className:"relative p-6 text-center",children:[n.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold",style:{color:ft.text},children:[n.jsx(fu,{className:"h-7 w-7 text-indigo-600"})," Edit Assistant"]}),n.jsx("p",{className:"mt-2 text-sm",style:{color:ft.lightText},children:"Minimal UI  Voice required  Create-aligned defaults"})]})]})}),n.jsx(Wde,{currentStep:r,onChange:re}),n.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:ft.card,borderColor:ft.border},children:n.jsxs("form",{onSubmit:B,noValidate:!0,children:[n.jsxs(Pt,{mode:"wait",children:[r===1&&n.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsx(Kh,{id:"name",label:"Assistant Name",value:T.name,onChange:L,error:O.name,placeholder:"SupportBot"}),n.jsx(Kh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:T.forwardingPhoneNumber,onChange:L,error:O.forwardingPhoneNumber,placeholder:"+12345678901"}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(uf,{children:"Attach Purchased Number (optional)"}),n.jsxs("button",{type:"button",onClick:F,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1 text-sm font-medium hover:bg-slate-50",style:{borderColor:ft.border,color:ft.text,backgroundColor:ft.card},disabled:S,title:"Refresh list",children:[n.jsx(qe,{className:S?"h-4 w-4 animate-spin":"h-4 w-4"}),S?"Loading":"Refresh"]})]}),n.jsxs("select",{id:"attached_Number",value:T.attached_Number,onChange:L,disabled:S,className:"w-full rounded-xl border p-3 outline-none transition disabled:opacity-60 focus:border-indigo-500",style:{borderColor:ft.border,color:ft.text,backgroundColor:ft.card},children:[n.jsx("option",{value:"",children:w.length?"Do not change":"No purchased numbers found"}),w.map(E=>n.jsx("option",{value:E.phone_number,children:E.friendly_name?`${E.friendly_name}  ${E.phone_number}`:E.phone_number},E.phone_number))]}),_&&n.jsx(Jl,{children:_}),O.attached_Number&&n.jsx(Jl,{children:O.attached_Number})]}),n.jsx(Kh,{id:"category",label:"Category (optional)",value:T.category,onChange:L}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(uf,{children:"System Prompt"}),n.jsx(rE,{id:"systemPrompt",value:T.systemPrompt,onChange:L,placeholder:"Write your system prompt",rows:4}),O.systemPrompt&&n.jsx(Jl,{children:O.systemPrompt})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(uf,{children:"First Message"}),n.jsx(rE,{id:"first_message",value:T.first_message,onChange:L,placeholder:"Hello! ",rows:3}),O.first_message&&n.jsx(Jl,{children:O.first_message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[n.jsx(sE,{id:"draft",label:"Save as Draft",checked:T.draft,onChange:L}),n.jsx(sE,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:T.assistant_toggle,onChange:L})]})]},"step1"),r===2&&n.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[n.jsx(aE,{id:"voice_provider",label:"Voice Provider",value:T.voice_provider,onChange:Y,options:Kde,error:O.voice_provider}),n.jsx(aE,{id:"genderFilter",label:"Gender",value:P,onChange:E=>{Ne(),A(E.target.value)},options:Gde}),n.jsx(Kh,{id:"voice_model",label:"Voice Model",value:T.voice_model,onChange:()=>{},error:O.voice_model,placeholder:T.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!b&&n.jsxs("p",{className:"text-sm",style:{color:ft.lightText},children:["Tip: ",n.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press ",n.jsx("span",{className:"font-medium",children:"Next"}),"."]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"text-sm",style:{color:ft.lightText},children:["Showing ",n.jsx("span",{className:"font-medium",children:K.length})," voices"]})}),n.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:K.map(E=>n.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:T.voice===E.name?"#93c5fd":ft.border,backgroundColor:T.voice===E.name?"#eff6ff":ft.card},onClick:()=>{R($=>({...$,voice:E.name,voice_model:E.voice,voice_provider:E.provider||T.voice_provider})),y(!0),V($=>({...$,voice:"",voice_model:""}))},children:[n.jsx("div",{className:"absolute left-3 top-3",children:n.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${T.voice===E.name?"border-indigo-500 bg-indigo-500":"border-slate-400 bg-transparent"}`})}),n.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold",style:{color:ft.text},children:E.showName||E.name}),n.jsxs("div",{className:"text-sm capitalize",style:{color:ft.lightText},children:[E.gender||"unknown","  ",E.provider]}),n.jsx("div",{className:"mt-1 text-xs",style:{color:ft.lightText},children:E.voice})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Xde,{isActive:m&&T.voice===E.name,onPlay:()=>te(E.audioSr||""),onStop:Ne})})]})]},`${E.provider}-${E.name}`))}),O.voice&&n.jsx(Jl,{children:O.voice})]},"step2"),r===3&&n.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:n.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:ft.border},children:[n.jsx("h3",{className:"mb-3 text-lg font-semibold",style:{color:ft.text},children:"Review"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(Bl,{label:"Name",value:T.name||""}),n.jsx(Bl,{label:"Model",value:`${T.provider}  ${T.model}`}),n.jsx(Bl,{label:"Voice Provider",value:T.voice_provider}),n.jsx(Bl,{label:"Voice",value:T.voice||""}),n.jsx(Bl,{label:"Voice Model",value:T.voice_model||""}),n.jsx(Bl,{label:"Forwarding Number",value:T.forwardingPhoneNumber||""}),n.jsx(Bl,{label:"Attach Number",value:T.attached_Number||""})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[n.jsx(a1,{onClick:()=>s(2),children:"Edit Voice"}),n.jsx(a1,{onClick:()=>s(1),children:"Edit Core"})]})]})},"step3")]}),n.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[r>1?n.jsx(a1,{onClick:()=>re(r-1),children:"Back"}):n.jsx("span",{}),r<3?n.jsxs(nE,{onClick:D,children:["Next ",n.jsx(gn,{className:"ml-1 h-4 w-4"})]}):n.jsx(nE,{type:"submit",disabled:d,children:d?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(_n,{className:"h-4 w-4 animate-spin"})," Updating"]}):"Update Assistant"})]})]})})]})]})}function Wde({currentStep:e,onChange:t}){const a=tE;return n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:a.map(({id:r,label:s,Icon:l})=>{const c=e===r;return n.jsxs(he.button,{onClick:()=>t(r),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${c?"border-indigo-500/40 bg-indigo-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[n.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${c?"bg-indigo-100":"bg-slate-100"}`,children:n.jsx(l,{className:`h-5 w-5 ${c?"text-indigo-600":"text-slate-600"}`})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:`text-sm font-semibold ${c?"text-slate-900":"text-slate-700"}`,children:s}),n.jsx("div",{className:`text-xs ${c?"text-indigo-600":"text-slate-500"}`,children:c?"Active":"Click to open"})]})]},r)})}),n.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-4xl rounded-full bg-slate-200",children:n.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-indigo-600 to-emerald-500",style:{width:`${e/tE.length*100}%`}})})]})}function nE({children:e,onClick:t,type:a="button",disabled:r}){return n.jsx("button",{type:a,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-indigo-200 transition ${r?"bg-indigo-400/60":"bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600"}`,children:e})}function a1({children:e,onClick:t}){return n.jsx("button",{type:"button",onClick:t,className:"rounded-xl border px-4 py-2 font-semibold hover:bg-slate-50",style:{borderColor:ft.border,color:ft.text,backgroundColor:ft.card},children:e})}function uf({children:e}){return n.jsx("label",{className:"mb-2 block text-sm font-semibold",style:{color:ft.text},children:e})}function Jl({children:e}){return n.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm",style:{color:ft.danger},children:e})}function Kh({id:e,label:t,value:a,onChange:r,error:s,placeholder:l,readOnly:c=!1}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(uf,{children:t}),n.jsx("input",{id:e,type:"text",value:a,onChange:r,placeholder:l,readOnly:c,className:`w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500 ${c?"bg-slate-50":""}`,style:{borderColor:ft.border,color:ft.text,backgroundColor:ft.card}}),s&&n.jsx(Jl,{children:s})]})}function aE({id:e,label:t,value:a,onChange:r,options:s,error:l}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(uf,{children:t}),n.jsx("select",{id:e,value:a,onChange:r,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:ft.border,color:ft.text,backgroundColor:ft.card},children:s.map(c=>n.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&n.jsx(Jl,{children:l})]})}function rE({id:e,value:t,onChange:a,placeholder:r,rows:s=4}){return n.jsx("textarea",{id:e,value:t,onChange:a,placeholder:r,rows:s,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:ft.border,color:ft.text,backgroundColor:ft.card}})}function sE({id:e,label:t,checked:a,onChange:r}){return n.jsxs("label",{className:"flex cursor-pointer items-center gap-2",style:{color:ft.text},children:[n.jsx("input",{id:e,type:"checkbox",checked:a,onChange:r,className:"accent-indigo-600"}),n.jsx("span",{children:t})]})}function Bl({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:ft.border},children:[n.jsx("div",{className:"text-slate-500",children:e}),n.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function Xde({isActive:e,onPlay:t,onStop:a}){return n.jsx("div",{className:"flex items-center gap-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>n.jsx("div",{className:"w-1.5 rounded-sm bg-indigo-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),n.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-rose-200 transition hover:brightness-110 bg-gradient-to-br from-rose-500 to-red-500",title:"Stop",children:n.jsx(qc,{className:"h-5 w-5"})})]}):n.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-indigo-200 transition hover:brightness-110 bg-gradient-to-br from-indigo-600 to-blue-500",title:"Play preview",children:n.jsx(Bf,{className:"h-5 w-5"})})})}const us={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},Zde=`
You are a professional and friendly assistant. Always speak in a natural, conversational way that feels human, polite, and approachable. Your goal is to sound like a helpful representative who is confident and enthusiastic . Keep your replies brief and natural, as if you were speaking in real conversation, without sounding robotic or scripted.

Stay focused only on the system prompt you are give and be the agent just for that prompt . If someone asks about something unrelated, politely guide them back by saying something like, I can only answer questions related to our company, could you please ask me something in that area? Always remain polite and respectful when doing so. If the customer wants to end the call, acknowledge them warmly and end it immediately.

You must only communicate in English. If someone speaks in another language, respond politely by saying, I can only communicate in English, lets continue in English please. Throughout every interaction, keep your answers short, clear, and professional, Donot make pause or delay after the first message . Reply as fast as you can while still sounding human, friendly, and approachable.
`.trim(),iE=/^\+\d{7,15}$/,lE=[{id:1,key:"core",label:"Core & Transcription",Icon:gj},{id:2,key:"voice",label:"Voice",Icon:Sj},{id:3,key:"review",label:"Review & Create",Icon:fu}],Qde=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Jde=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function efe(){const e=Zt(),[t,a]=g.useState(1),[r,s]=g.useState(!1),[l,c]=g.useState(!1),d=g.useRef(null),[f,m]=g.useState(!1),[h,x]=g.useState("all"),[b,y]=g.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.6,maxTokens:200,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=g.useState({}),[S,k]=g.useState([]),[_,C]=g.useState(!1),[P,A]=g.useState(""),T=g.useMemo(()=>{const D=b.voice_provider==="openai"?ku:Co;return(h==="all"?D:D.filter(H=>H.gender===h)).slice().sort((H,B)=>((H==null?void 0:H.showName)||"").localeCompare((B==null?void 0:B.showName)||""))},[b.voice_provider,h]);g.useEffect(()=>{if(!b.voice)return;const D=T.find(Y=>(Y==null?void 0:Y.name)===b.voice);D!=null&&D.voice&&(y(Y=>({...Y,voice_model:D.voice})),j(Y=>({...Y,voice_model:""})))},[b.voice,T]);const R="https://aisdr-dbt.ddns.net",O=D=>{const{id:Y,value:H,type:B,checked:E}=D.target,$=B==="checkbox"?E:H;y(z=>({...z,[Y]:$})),j(z=>({...z,[Y]:""}))},V=D=>{try{d.current&&(d.current.pause(),d.current=null);const Y=new Audio(D||"");d.current=Y,c(!0),Y.play().catch(()=>{I.error("Failed to play voice preview"),c(!1),d.current=null}),Y.onended=()=>{c(!1),d.current=null}}catch{I.error("Failed to play voice preview"),c(!1)}},K=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},F=D=>{if(D!==t){if(D===3&&(!b.voice||!f)){j(Y=>({...Y,voice:"Select a voice and press Next to continue"})),I.error("Please select a voice and press Next to continue.");return}K(),a(D)}},L=()=>{if(t===1)return a(2);if(t===2){if(!b.voice){j(D=>({...D,voice:"Please select a voice"})),I.error("Select a voice to continue.");return}if(!f){j(D=>({...D,voice:"Click a voice card to confirm your choice"})),I.info("Click a voice card to confirm your choice.");return}a(3)}},te=async()=>{C(!0),A("");try{const D=localStorage.getItem("token"),Y=await fetch(`${R}/api/purchased_numbers`,{headers:{Accept:"application/json",...D?{Authorization:`Bearer ${D}`}:{}}});if(!Y.ok)throw new Error(`HTTP ${Y.status}`);const H=await Y.json(),E=(Array.isArray(H)?H:(H==null?void 0:H.purchased_numbers)||[]).filter(Boolean).map($=>({phone_number:($==null?void 0:$.phone_number)||"",friendly_name:($==null?void 0:$.friendly_name)||"",attached_assistant:($==null?void 0:$.attached_assistant)??null})).filter($=>$.phone_number);k(E)}catch(D){console.error(D),A("Failed to load your purchased numbers"),k([])}finally{C(!1)}};g.useEffect(()=>{te()},[]);const Ne=()=>{const D=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],Y={};let H=!0;if(D.forEach(B=>{const E=b[B];(E==null||E===""||Number.isNaN(E))&&(Y[B]="Required",H=!1)}),(b.temperature<0||b.temperature>2)&&(Y.temperature="Temperature must be between 0 and 2",H=!1),b.maxTokens<1&&(Y.maxTokens="maxTokens must be a positive integer",H=!1),b.forwardingPhoneNumber&&!iE.test(b.forwardingPhoneNumber)&&(Y.forwardingPhoneNumber="Must be E.164 (+123...)",H=!1),b.attached_Number&&!iE.test(b.attached_Number)&&(Y.attached_Number="Invalid number format",H=!1),j(Y),!H){const B=z=>z.some(W=>Y[W]),E=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],$=["voice_provider","voice_model","voice"];B(E)?a(1):B($)&&a(2)}return H},re=async D=>{if(D.preventDefault(),!r){if(t!==3){I.error("Please complete the steps first.");return}if(Ne()){s(!0),K();try{const Y=localStorage.getItem("token"),H=`${R}/api/assistants`,B=[Zde,(b.systemPrompt||"").trim()].filter(Boolean).join(`

`),E={name:b.name,provider:b.provider,first_message:b.first_message||null,model:b.model,systemPrompt:B,knowledgeBase:b.knowledgeBase,leadsfile:b.leadsfile,temperature:Number(b.temperature),maxTokens:Number(b.maxTokens),transcribe_provider:b.transcribe_provider,transcribe_language:b.transcribe_language,transcribe_model:b.transcribe_model,languages:b.languages,forwardingPhoneNumber:b.forwardingPhoneNumber||null,endCallPhrases:b.endCallPhrases,voice_provider:b.voice_provider,voice:b.voice,voice_model:b.voice_model,attached_Number:b.attached_Number||null,draft:!!b.draft,assistant_toggle:!!b.assistant_toggle,category:b.category||null,speed:Number(b.speed),stability:Number(b.stability),similarityBoost:Number(b.similarityBoost)},$=await fetch(H,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...Y?{Authorization:`Bearer ${Y}`}:{}},body:JSON.stringify(E)});if(!$.ok){let z=`HTTP ${$.status}`;try{const W=await $.json();W!=null&&W.detail&&(z=W.detail)}catch{const W=await $.text();W&&(z=`${z}  ${W}`)}throw new Error(z)}I.success("Assistant created successfully!"),e("/user/callassistent")}catch(Y){I.error((Y==null?void 0:Y.message)||"Failed to create assistant")}finally{s(!1)}}}};return g.useEffect(()=>{m(!1),y(D=>({...D,voice:"",voice_model:""}))},[b.voice_provider]),n.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:us.background},children:[n.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:n.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),n.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),n.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[n.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:us.border,backgroundColor:us.card},children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),n.jsxs("div",{className:"relative p-6 text-center",children:[n.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[n.jsx(fu,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),n.jsx(tfe,{currentStep:t,onChange:F}),n.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:us.card,borderColor:us.border},children:n.jsxs("form",{onSubmit:re,noValidate:!0,children:[n.jsxs(Pt,{mode:"wait",children:[t===1&&n.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsx(Gh,{id:"name",label:"Assistant Name",value:b.name,onChange:O,error:w.name,placeholder:"SupportBot"}),n.jsx(Gh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:b.forwardingPhoneNumber,onChange:O,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(df,{children:"Attach Purchased Number (optional)"}),n.jsx("button",{type:"button",onClick:te,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),n.jsxs("select",{id:"attached_Number",value:b.attached_Number,onChange:O,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[n.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(D=>n.jsx("option",{value:D.phone_number,className:"bg-white",children:D.friendly_name?`${D.friendly_name}  ${D.phone_number}`:D.phone_number},D.phone_number))]}),P&&n.jsx(eo,{children:P}),w.attached_Number&&n.jsx(eo,{children:w.attached_Number})]}),n.jsx(Gh,{id:"category",label:"Category (optional)",value:b.category,onChange:O}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(df,{children:"System Prompt"}),n.jsx(uE,{id:"systemPrompt",value:b.systemPrompt,onChange:O,placeholder:"Add any custom instructions for your Carsaz agent",rows:4}),w.systemPrompt&&n.jsx(eo,{children:w.systemPrompt})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(df,{children:"First Message"}),n.jsx(uE,{id:"first_message",value:b.first_message,onChange:O,placeholder:"Hello! Thanks for calling Carsazhow can I help you today?",rows:3}),w.first_message&&n.jsx(eo,{children:w.first_message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[n.jsx(dE,{id:"draft",label:"Save as Draft",checked:b.draft,onChange:O}),n.jsx(dE,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:b.assistant_toggle,onChange:O})]})]},"step1"),t===2&&n.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[n.jsx(cE,{id:"voice_provider",label:"Voice Provider",value:b.voice_provider,onChange:D=>{K();const Y=D.target.value;y(H=>({...H,voice_provider:Y,voice:"",voice_model:""})),m(!1),j(H=>({...H,voice:"",voice_model:""}))},options:Qde,error:w.voice_provider}),n.jsx(cE,{id:"genderFilter",label:"Gender",value:h,onChange:D=>{K(),x(D.target.value),m(!1)},options:Jde}),n.jsx(Gh,{id:"voice_model",label:"Voice Model",value:b.voice_model,onChange:()=>{},error:w.voice_model,placeholder:b.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&n.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",n.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",n.jsx("span",{className:"font-medium",children:"Next"}),"."]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("span",{className:"font-medium",children:T.length})," voices"]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[T.length===0&&n.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:us.border},children:"No voices match this filter."}),T.map(D=>n.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:b.voice===D.name?"#93c5fd":us.border,backgroundColor:b.voice===D.name?"#eff6ff":us.card},onClick:()=>{y(Y=>({...Y,voice:D.name,voice_model:D.voice,voice_provider:D.provider||b.voice_provider})),m(!0),j(Y=>({...Y,voice:"",voice_model:""}))},children:[n.jsx("div",{className:"absolute left-3 top-3",children:n.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${b.voice===D.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),n.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-slate-900",children:D.showName||D.name}),n.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[D.gender||"unknown","  ",D.provider]}),n.jsx("div",{className:"mt-1 text-xs text-slate-500",children:D.voice})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(nfe,{isActive:l&&b.voice===D.name,onPlay:()=>V(D.audioSr||""),onStop:K})})]})]},`${D.provider}-${D.name}`))]}),w.voice&&n.jsx(eo,{children:w.voice})]},"step2"),t===3&&n.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:n.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:us.border},children:[n.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(Ul,{label:"Name",value:b.name||""}),n.jsx(Ul,{label:"Model",value:`${b.provider}  ${b.model}`}),n.jsx(Ul,{label:"Voice Provider",value:b.voice_provider}),n.jsx(Ul,{label:"Voice",value:b.voice||""}),n.jsx(Ul,{label:"Voice Model",value:b.voice_model||""}),n.jsx(Ul,{label:"Forwarding Number",value:b.forwardingPhoneNumber||""}),n.jsx(Ul,{label:"Attach Number",value:b.attached_Number||""})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[n.jsx(r1,{onClick:()=>a(2),children:"Edit Voice"}),n.jsx(r1,{onClick:()=>a(1),children:"Edit Core"})]})]})},"step3")]}),n.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?n.jsx(r1,{onClick:()=>F(t-1),children:"Back"}):n.jsx("span",{}),t<3?n.jsxs(oE,{onClick:L,children:["Next ",n.jsx(gn,{className:"ml-1 h-4 w-4"})]}):n.jsx(oE,{type:"submit",disabled:r,children:r?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(_n,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function tfe({currentStep:e,onChange:t}){return n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:lE.map(({id:a,label:r,Icon:s})=>{const l=e===a;return n.jsxs(he.button,{onClick:()=>t(a),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[n.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:n.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),n.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},a)})}),n.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:n.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/lE.length*100}%`}})})]})}function oE({children:e,onClick:t,type:a="button",disabled:r}){return n.jsx("button",{type:a,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function r1({children:e,onClick:t}){return n.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function df({children:e}){return n.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function eo({children:e}){return n.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function Gh({id:e,label:t,value:a,onChange:r,error:s,placeholder:l,readOnly:c=!1,disabled:d=!1}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(df,{children:t}),n.jsx("input",{id:e,type:"text",value:a,onChange:r,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&n.jsx(eo,{children:s})]})}function cE({id:e,label:t,value:a,onChange:r,options:s,error:l}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(df,{children:t}),n.jsx("select",{id:e,value:a,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>n.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&n.jsx(eo,{children:l})]})}function uE({id:e,value:t,onChange:a,placeholder:r,rows:s=4}){return n.jsx("textarea",{id:e,value:t,onChange:a,placeholder:r,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function dE({id:e,label:t,checked:a,onChange:r}){return n.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[n.jsx("input",{id:e,type:"checkbox",checked:a,onChange:r,className:"accent-blue-600"}),n.jsx("span",{children:t})]})}function Ul({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:us.border},children:[n.jsx("div",{className:"text-slate-500",children:e}),n.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function nfe({isActive:e,onPlay:t,onStop:a}){return n.jsx("div",{className:"flex items-center gap-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>n.jsx("div",{className:"w-1.5 rounded-sm",style:{backgroundColor:"#3B82F6",animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),n.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:n.jsx(qc,{className:"h-5 w-5"})})]}):n.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:n.jsx(Bf,{className:"h-5 w-5"})})})}const Dd="https://aisdr-dbt.ddns.net",mc={FILES:`${Dd}/api/files`,FILE:e=>`${Dd}/api/files/${e}`,SYNC:{HUBSPOT:`${Dd}/api/crm/ingest/hubspot`,GHL:`${Dd}/api/crm/ingest/ghl`,MONDAY:`${Dd}/api/crm/ingest/monday`}},afe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function x9(...e){return e.filter(Boolean).join(" ")}function _a({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${d[a]} ${t}`,children:e})}function fE({children:e,onClose:t,title:a}){return n.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(_a,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:n.jsx(va,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Yh({label:e,value:t,tone:a="blue"}){const r=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",s=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${s} text-white shadow-inner ring-1 ${r}`,children:n.jsx(Gd,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Wh({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Xh({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function mE({id:e}){const[t,a]=g.useState(!1);return n.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(String(e||"")),a(!0),setTimeout(()=>a(!1),1e3)}catch{}},className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-600 hover:bg-slate-100 max-w-full",title:"Copy alphanumeric id",children:[t?n.jsx(L0,{className:"h-3.5 w-3.5"}):n.jsx(Ya,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"truncate max-w-[9rem]",children:e})]})}function rfe(){const e=Zt(),[t,a]=g.useState([]),[r,s]=g.useState(!1),[l,c]=g.useState(""),[d,f]=g.useState(""),[m,h]=g.useState("created_at"),[x,b]=g.useState("desc"),[y,w]=g.useState(!1),[j,S]=g.useState("New List"),[k,_]=g.useState(null),[C,P]=g.useState(!1),[A,T]=g.useState(!1),R=g.useRef(null),[O,V]=g.useState({open:!1,id:null,name:""}),[K,F]=g.useState(!1),L=g.useCallback(async()=>{const Q=localStorage.getItem("token");if(!Q){a([]),c("No auth token found."),I.error("No authentication token found.");return}try{s(!0),c("");const Se=await fetch(mc.FILES,{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}});if(!Se.ok)throw new Error(`HTTP ${Se.status}`);const ae=await Se.json();a(Array.isArray(ae)?ae:[])}catch(Se){c((Se==null?void 0:Se.message)||"Failed to load lists"),I.error((Se==null?void 0:Se.message)||"Failed to load lists")}finally{s(!1)}},[]);g.useEffect(()=>{L()},[L]);const te=g.useMemo(()=>{const Q=d.trim().toLowerCase();return[...Q?t.filter(be=>[be.name,be.alphanumeric_id,be.created_at].filter(Boolean).some(Ce=>String(Ce).toLowerCase().includes(Q))):t].sort((be,Ce)=>{let ke=be[m],pe=Ce[m];return m==="created_at"&&(ke=new Date(be.created_at).getTime(),pe=new Date(Ce.created_at).getTime()),ke<pe?x==="asc"?-1:1:ke>pe?x==="asc"?1:-1:0})},[t,d,m,x]),Ne=t.length,re=t.reduce((Q,Se)=>Q+(Number(Se.leads_count)||0),0),D=t[0]||null,Y=Q=>{m===Q?b(Se=>Se==="asc"?"desc":"asc"):(h(Q),b("desc"))},H=Q=>e(`/user/lead/${Q.id}`);async function B(Q){const Se=localStorage.getItem("token");if(!Se)return I.error("No authentication token found.");try{const ae=await fetch(mc.FILE(Q),{method:"DELETE",headers:{Authorization:`Bearer ${Se}`,Accept:"application/json"}});if(!ae.ok)throw new Error(`HTTP ${ae.status}`);I.success(" List deleted"),V({open:!1,id:null,name:""}),a(be=>be.filter(Ce=>Ce.id!==Q))}catch(ae){I.error((ae==null?void 0:ae.message)||"Delete failed")}}async function E(){const Q=localStorage.getItem("token");if(!Q)return I.error("No authentication token found.");if(!k)return I.info("Choose a CSV file");if(!j.trim())return I.info("Enter a name");P(!0);try{const Se=new FormData;Se.append("file",k),Se.append("name",j.trim());const ae=await fetch(mc.FILES,{method:"POST",headers:{Authorization:`Bearer ${Q}`},body:Se});if(!ae.ok){const be=await ae.text();throw new Error(be||`HTTP ${ae.status}`)}I.success(" List created"),w(!1),_(null),S("New List"),L()}catch(Se){I.error((Se==null?void 0:Se.message)||"Upload failed")}finally{P(!1)}}async function $(){const Q=localStorage.getItem("token");if(!Q)return I.error("No authentication token found.");const Se=async be=>{const Ce=await fetch(be,{method:"POST",headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}});let ke={};try{ke=await Ce.json()}catch{}if(!Ce.ok){const pe=(ke==null?void 0:ke.detail)||(ke==null?void 0:ke.error)||(ke==null?void 0:ke.message)||`HTTP ${Ce.status}`;throw new Error(pe)}return ke},ae=[{name:"HubSpot",url:mc.SYNC.HUBSPOT},{name:"GHL",url:mc.SYNC.GHL},{name:"monday.com",url:mc.SYNC.MONDAY}];try{F(!0);const be=await Promise.allSettled(ae.map(Ve=>Se(Ve.url)));let Ce=0,ke=0,pe=0,Ue=0;be.forEach((Ve,we)=>{var ie,G,xe;const q=ae[we].name;if(Ve.status==="fulfilled"){Ue++;const Ae=Array.isArray((ie=Ve.value)==null?void 0:ie.details)?Ve.value.details[0]:((G=Ve.value)==null?void 0:G.details)||{};Ce+=Number((Ae==null?void 0:Ae.created_leads)||0),ke+=Number((Ae==null?void 0:Ae.updated_leads)||0),pe+=Number((Ae==null?void 0:Ae.fetched_contacts)||0),I.success(`${q}:  ${(Ae==null?void 0:Ae.created_leads)||0} new, ${(Ae==null?void 0:Ae.updated_leads)||0} updated`,{autoClose:2500})}else{const Ae=String(((xe=Ve.reason)==null?void 0:xe.message)||Ve.reason||"error");I.info(`${q}: ${Ae.includes("Not connected")?"Not connected":` ${Ae}`}`,{autoClose:3e3})}}),I.success(`Sync complete: ${Ue}/${ae.length} OK  fetched ${pe}, created ${Ce}, updated ${ke}.`),setTimeout(L,1200)}catch(be){I.error((be==null?void 0:be.message)||"Sync failed")}finally{F(!1)}}function z(Q){Q.preventDefault(),T(!0)}function W(Q){Q.preventDefault(),T(!1)}function de(Q){var ae;Q.preventDefault(),T(!1);const Se=(ae=Q.dataTransfer.files)==null?void 0:ae[0];if(Se){if(!J(Se))return I.info("Please drop a .csv file");_(Se)}}function J(Q){const Se=/\.csv$/i.test(Q.name),ae=Q.type==="text/csv"||Q.type==="application/vnd.ms-excel"||Q.type==="";return Se||ae}return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Gd,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${afe}`,children:"Lists"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create and manage your CSV lists. Sync leads from connected CRMs (HubSpot, GHL, monday.com)."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(_a,{onClick:()=>w(!0),variant:"primary",children:[n.jsx(Sr,{className:"mr-2 h-4 w-4"})," New List"]}),n.jsx(_a,{onClick:L,disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4"})," Refresh"]})}),n.jsx(_a,{onClick:$,disabled:K,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:K?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):n.jsx(n.Fragment,{children:"SYNC LEADS"})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(Yh,{label:"Total Lists",value:Ne}),n.jsx(Yh,{label:"Total Leads",value:re,tone:"cyan"}),n.jsx(Yh,{label:"Last Created",value:D&&D.name||""}),n.jsx(Yh,{label:"Newest Date",value:D?Zh(D.created_at):"",tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ea,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:d,onChange:Q=>f(Q.target.value),placeholder:"Search by name, ID, date",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsx("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0 text-xs font-medium",children:"Sort"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(s1,{label:"Name",active:m==="name",dir:x,onClick:()=>Y("name")}),n.jsx(s1,{label:"Leads",active:m==="leads_count",dir:x,onClick:()=>Y("leads_count")}),n.jsx(s1,{label:"Created",active:m==="created_at",dir:x,onClick:()=>Y("created_at")})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:["All Lists (",te.length,")"]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"})," Live"]})]}),r?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(qe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading lists"})]}):l?n.jsx("div",{className:"grid place-content-center py-16 px-4 text-center text-sm text-red-600",children:l}):te.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(Gd,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try searching or upload a CSV"}),n.jsx("div",{className:"mt-3",children:n.jsxs(_a,{onClick:()=>w(!0),variant:"primary",children:[n.jsx(Sr,{className:"h-4 w-4 mr-2"})," New List"]})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block w-full",children:n.jsxs("table",{className:"w-full table-fixed",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(Wh,{children:"Name"}),n.jsx(Wh,{children:"Leads"}),n.jsx(Wh,{children:"Created"}),n.jsx(Wh,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:te.map(Q=>n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsxs(Xh,{children:[n.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-2 min-w-0",children:[n.jsx("span",{className:"truncate max-w-[22rem]",children:Q.name}),n.jsx(mE,{id:Q.alphanumeric_id})]}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["#",Q.id]})]}),n.jsx(Xh,{children:n.jsx("span",{className:"text-sm font-semibold text-slate-800",children:Q.leads_count??0})}),n.jsx(Xh,{children:n.jsx("span",{className:"text-sm text-slate-800",children:Zh(Q.created_at)})}),n.jsx(Xh,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(_a,{onClick:()=>H(Q),size:"sm",title:"View",children:n.jsx(On,{className:"h-4 w-4"})}),n.jsx(_a,{onClick:()=>V({open:!0,id:Q.id,name:Q.name}),variant:"danger",size:"sm",title:"Delete",children:n.jsx(ta,{className:"h-4 w-4"})})]})})]},Q.id))})]})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:te.map(Q=>n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",title:Q.name,children:Q.name}),n.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-600",children:[n.jsx(mE,{id:Q.alphanumeric_id}),n.jsxs("span",{className:"text-[11px] text-slate-500",children:["ID #",Q.id]})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Leads"}),n.jsx("div",{className:"font-semibold text-slate-900",children:Q.leads_count??0})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Created"}),n.jsx("div",{className:"font-semibold text-slate-900 truncate",title:Zh(Q.created_at),children:Zh(Q.created_at)})]})]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsxs(_a,{onClick:()=>H(Q),size:"sm",className:"grow sm:grow-0",children:[n.jsx(On,{className:"h-4 w-4 mr-1"})," View"]}),n.jsxs(_a,{onClick:()=>V({open:!0,id:Q.id,name:Q.name}),variant:"danger",size:"sm",className:"grow sm:grow-0",children:[n.jsx(ta,{className:"h-4 w-4 mr-1"})," Delete"]})]})]},Q.id))})})]})]})]}),n.jsx(Pt,{children:y&&n.jsx(fE,{onClose:()=>w(!1),title:"Create New List",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"List name"}),n.jsx("input",{value:j,onChange:Q=>S(Q.target.value),placeholder:"e.g., July Prospects",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{onDragOver:z,onDragLeave:W,onDrop:de,className:x9("relative grid place-items-center rounded-2xl border-2 border-dashed px-4 py-10 transition",A?"border-blue-500 bg-blue-50/60":"border-slate-300 bg-slate-50/60 hover:bg-slate-50"),children:[n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"mb-2 rounded-xl bg-white p-3 shadow",children:n.jsx(Gd,{className:"h-6 w-6 text-slate-700"})}),n.jsx("p",{className:"text-sm text-slate-700",children:"Drag & drop your CSV here, or"}),n.jsxs(_a,{type:"button",onClick:()=>{var Q;return(Q=R.current)==null?void 0:Q.click()},variant:"primary",className:"mt-2",children:[n.jsx(FB,{className:"h-4 w-4 mr-2"})," Browse Files"]}),n.jsx("input",{ref:R,type:"file",accept:".csv,text/csv",onChange:Q=>{var ae;const Se=((ae=Q.target.files)==null?void 0:ae[0])||null;if(!Se)return _(null);if(!J(Se)){I.info("Please choose a .csv file"),Q.target.value="";return}_(Se)},className:"hidden"}),n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Only .csv files are supported."})]}),k&&n.jsxs("div",{className:"absolute left-4 bottom-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow",children:[n.jsx(Gd,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate max-w-[14rem]",children:k.name}),n.jsxs("span",{className:"opacity-70",children:[" ",sfe(k.size)]}),n.jsx("button",{onClick:()=>_(null),className:"ml-1 rounded-full p-1 hover:bg-slate-100",title:"Remove file",children:n.jsx(va,{className:"h-3.5 w-3.5"})})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[n.jsx(_a,{onClick:()=>w(!1),variant:"subtle",children:"Cancel"}),n.jsx(_a,{onClick:E,disabled:C,variant:"primary",children:C?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"})," Uploading"]}):n.jsxs(n.Fragment,{children:[n.jsx(Sr,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})}),n.jsx(Pt,{children:O.open&&n.jsxs(fE,{onClose:()=>V({open:!1,id:null,name:""}),title:"Delete List?",children:[n.jsxs("p",{className:"text-slate-700 mb-4",children:["This will permanently remove ",n.jsx("b",{className:"text-slate-900 break-words",children:O.name})," and all its leads."]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(_a,{onClick:()=>V({open:!1,id:null,name:""}),variant:"subtle",children:"Cancel"}),n.jsxs(_a,{onClick:()=>B(O.id),variant:"danger",children:[n.jsx(ta,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]})}function Zh(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function sfe(e){if(!Number.isFinite(e))return"0 B";const t=["B","KB","MB","GB"];let a=0;for(;e>=1024&&a<t.length-1;)e/=1024,a++;return`${e.toFixed(e>=10||a===0?0:1)} ${t[a]}`}function s1({label:e,active:t,dir:a,onClick:r}){const s=a==="asc"?_P:SP;return n.jsxs("button",{onClick:r,className:x9("inline-flex items-center gap-1 rounded-xl border px-3 py-2",t?"border-blue-300 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[e," ",t&&n.jsx(s,{className:"h-4 w-4"})]})}const Gi="https://aisdr-dbt.ddns.net",ife="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function lfe(e,t=250){const[a,r]=g.useState(e);return g.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),a}function ofe(){const e=Zt(),{id:t}=$f(),a=Number(t),[r,s]=g.useState([]),[l,c]=g.useState([]),[d,f]=g.useState([]),[m,h]=g.useState(!0),[x,b]=g.useState(!1),[y,w]=g.useState(""),[j,S]=g.useState(""),k=lfe(j,250),[_,C]=g.useState(""),[P,A]=g.useState("add_date"),[T,R]=g.useState("desc"),[O,V]=g.useState(1),[K,F]=g.useState(10),[L,te]=g.useState(!1),[Ne,re]=g.useState(!1),[D,Y]=g.useState(!1),[H,B]=g.useState(!1),[E,$]=g.useState(null),[z,W]=g.useState(null),[de,J]=g.useState(!1),[Q,Se]=g.useState(!1),[ae,be]=g.useState(!1),[Ce,ke]=g.useState(null),pe=g.useRef(localStorage.getItem("token")||null),[Ue,Ve]=g.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[we,q]=g.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[ie,G]=g.useState({vapi_assistant_id:"",assistant_id:"",number:"",first_name:"",last_name:"",email:"",lead_id:null}),xe=g.useCallback(async()=>{const Z=pe.current;if(!Z){h(!1),w("No auth token found"),I.error("No authentication token found.");return}try{h(!0),w("");const ne=await fetch(`${Gi}/api/leads${a?`?file_id=${a}`:""}`,{headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}});if(!ne.ok)throw new Error(`HTTP ${ne.status}`);const le=await ne.json();s(Array.isArray(le)?le:[])}catch(ne){w((ne==null?void 0:ne.message)||"Failed to load leads"),I.error((ne==null?void 0:ne.message)||"Failed to load leads")}finally{h(!1)}},[a]),Ae=g.useCallback(async()=>{const Z=pe.current;if(!Z||!a){c([]);return}try{const ne=await fetch(`${Gi}/api/files/${a}/dynamic-columns`,{headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}});if(!ne.ok)throw new Error(`HTTP ${ne.status}`);const le=await ne.json();c(Array.isArray(le==null?void 0:le.columns)?le.columns:[])}catch(ne){c([]),console.warn("Dynamic columns fetch failed:",ne)}},[a]),Le=g.useCallback(async()=>{const Z=pe.current;try{const ne=await fetch(`${Gi}/api/get-assistants`,{headers:{Authorization:Z?`Bearer ${Z}`:"",Accept:"application/json"}});if(!ne.ok)throw new Error(`HTTP ${ne.status}`);const le=await ne.json(),rt=(Array.isArray(le)?le:Array.isArray(le==null?void 0:le.assistants)?le.assistants:[]).filter(yt=>yt==null?void 0:yt.vapi_assistant_id);f(rt)}catch(ne){console.error(ne),I.error("Failed to load assistants"),f([])}},[]);g.useEffect(()=>{xe(),Ae(),Le()},[t]);const Pe=g.useMemo(()=>{const Z=new Set;return r.forEach(ne=>(ne==null?void 0:ne.state)&&Z.add(ne.state)),Array.from(Z).sort((ne,le)=>ne.localeCompare(le))},[r]),Ze=g.useMemo(()=>{const Z=k.trim().toLowerCase();return r.filter(le=>{var rt,yt;return _&&(le.state||"")!==_?!1:Z?[le.first_name,le.last_name,le.email,le.mobile,le.salesforce_id,(rt=le==null?void 0:le.other_data)==null?void 0:rt.Custom_0,(yt=le==null?void 0:le.other_data)==null?void 0:yt.Custom_1].concat(Object.values((le==null?void 0:le.other_data)||{})).filter(Boolean).map(ot=>String(ot).toLowerCase()).some(ot=>ot.includes(Z)):!0})},[r,k,_]),Qe=g.useMemo(()=>{const Z=[...Ze],ne=T==="asc"?1:-1;return Z.sort((le,We)=>{const rt=`${le.first_name||""} ${le.last_name||""}`.trim(),yt=`${We.first_name||""} ${We.last_name||""}`.trim();let ot,Et;switch(P){case"name":ot=rt.toLowerCase(),Et=yt.toLowerCase();break;case"email":ot=(le.email||"").toLowerCase(),Et=(We.email||"").toLowerCase();break;case"mobile":ot=(le.mobile||"").toLowerCase(),Et=(We.mobile||"").toLowerCase();break;case"add_date":default:ot=new Date(le.add_date||0).getTime(),Et=new Date(We.add_date||0).getTime()}return ot<Et?-1*ne:ot>Et?1*ne:0}),Z},[Ze,P,T]),je=Qe.length,$e=Math.max(1,Math.ceil(je/K));g.useEffect(()=>{O>$e&&V($e)},[O,$e]);const Ie=(O-1)*K,ze=Qe.slice(Ie,Ie+K),Be=r[r.length-1]||null,ct=Z=>{var ne,le;$(Z.id),q({first_name:Z.first_name||"",last_name:Z.last_name||"",email:Z.email||"",mobile:Z.mobile||"",salesforce_id:Z.salesforce_id||"",custom0:((ne=Z==null?void 0:Z.other_data)==null?void 0:ne.Custom_0)||"",custom1:((le=Z==null?void 0:Z.other_data)==null?void 0:le.Custom_1)||"",add_date:Z.add_date||new Date().toISOString()}),Y(!0)},vt=async()=>{const Z=pe.current;if(!(!Z||!E))try{B(!0);const ne={first_name:we.first_name.trim(),last_name:we.last_name.trim(),email:we.email.trim(),mobile:we.mobile.trim(),salesforce_id:we.salesforce_id.trim(),add_date:we.add_date,other_data:{Custom_0:we.custom0||"",Custom_1:we.custom1||""}},le=await fetch(`${Gi}/api/leads/${E}`,{method:"PUT",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(ne)}),We=await le.json();if(!le.ok||(We==null?void 0:We.success)===!1)throw new Error((We==null?void 0:We.detail)||`HTTP ${le.status}`);I.success((We==null?void 0:We.detail)||"Lead updated"),Y(!1),$(null),xe()}catch(ne){I.error((ne==null?void 0:ne.message)||"Update failed")}finally{B(!1)}},on=async()=>{const Z=pe.current;if(!Z)return I.error("Missing token");if(!Ue.first_name||!Ue.last_name||!Ue.email||!Ue.mobile)return I.info("Please fill first, last, email and mobile.");try{re(!0);const ne={first_name:Ue.first_name.trim(),last_name:Ue.last_name.trim(),email:Ue.email.trim(),add_date:Ue.add_date,mobile:Ue.mobile.trim(),file_id:a||null,salesforce_id:Ue.salesforce_id.trim(),other_data:{Custom_0:Ue.custom0||"",Custom_1:Ue.custom1||""}},le=await fetch(`${Gi}/api/add_manually_lead`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(ne)});if(!le.ok)throw new Error(`HTTP ${le.status}`);await le.json(),I.success("Lead added"),te(!1),Ve({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),xe()}catch(ne){I.error((ne==null?void 0:ne.message)||"Failed to add lead")}finally{re(!1)}},An=async()=>{const Z=pe.current;if(!(!Z||!z))try{const ne=await fetch(`${Gi}/api/leads`,{method:"DELETE",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify({ids:[z]})});if(!ne.ok)throw new Error(`HTTP ${ne.status}`);await ne.json(),I.success("Lead deleted"),W(null),ae&&be(!1),xe()}catch(ne){I.error((ne==null?void 0:ne.message)||"Delete failed")}},Qt=async()=>{const Z=pe.current;if(!Z)return I.error("Missing token");try{b(!0);const ne=await fetch(`${Gi}/api/crm/ingest/hubspot`,{method:"POST",headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}}),le=await ne.json().catch(()=>({}));if(!ne.ok||(le==null?void 0:le.success)===!1)throw new Error((le==null?void 0:le.detail)||`HTTP ${ne.status}`);I.success(`Synced HubSpot: ${(le==null?void 0:le.created)||0} created, ${(le==null?void 0:le.updated)||0} updated`),xe()}catch(ne){I.error((ne==null?void 0:ne.message)||"HubSpot sync failed")}finally{b(!1)}},De=Z=>{if(!Z)return"";const ne=String(Z).trim();return ne.startsWith("+")?"+"+ne.slice(1).replace(/\D+/g,""):ne.replace(/\D+/g,"")},X=Z=>{var We,rt,yt,ot,Et,Rt,Er,yn,At,sn;const le=[Z==null?void 0:Z.mobile,Z==null?void 0:Z.phone,(We=Z==null?void 0:Z.other_data)==null?void 0:We.phone,(rt=Z==null?void 0:Z.other_data)==null?void 0:rt.Phone,(yt=Z==null?void 0:Z.other_data)==null?void 0:yt.mobile,(ot=Z==null?void 0:Z.other_data)==null?void 0:ot.Mobile,(Et=Z==null?void 0:Z.other_data)==null?void 0:Et.telephone,(Rt=Z==null?void 0:Z.other_data)==null?void 0:Rt.Telephone,(Er=Z==null?void 0:Z.other_data)==null?void 0:Er.cell,(yn=Z==null?void 0:Z.other_data)==null?void 0:yn.Cell,(At=Z==null?void 0:Z.other_data)==null?void 0:At.Custom_0,(sn=Z==null?void 0:Z.other_data)==null?void 0:sn.Custom_1].filter(Boolean).find(Boolean);return De(le||"")},_e=Z=>{const ne=X(Z);ne||I.info("No phone number on this lead  you can still enter one to call.");const le=localStorage.getItem("lastAssistantId")||"",We=d.find(rt=>String(rt.id)===String(le)&&(rt==null?void 0:rt.vapi_assistant_id))||d.find(rt=>rt==null?void 0:rt.vapi_assistant_id)||null;G({vapi_assistant_id:(We==null?void 0:We.vapi_assistant_id)||"",assistant_id:(We==null?void 0:We.id)||"",number:ne,first_name:Z.first_name||"",last_name:Z.last_name||"",email:Z.email||"",lead_id:Z.id}),J(!0)},nt=async Z=>{if(Z.preventDefault(),Q)return;const ne=pe.current,{vapi_assistant_id:le,number:We,first_name:rt,last_name:yt,email:ot}=ie;if(!le)return I.error("Select an assistant first");if(!We)return I.error("Enter a phone number");const Et=De(We);if(!Et)return I.error("Invalid phone number");try{Se(!0);const Rt=`${Gi}/api/phone-call/${encodeURIComponent(le)}/${encodeURIComponent(Et)}`,Er={first_name:rt||"Caller",last_name:yt||"",email:ot||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Et,custom_field_01:null,custom_field_02:null},yn=await fetch(Rt,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:ne?`Bearer ${ne}`:""},body:JSON.stringify(Er)}),At=await yn.json().catch(()=>({}));if(!yn.ok||(At==null?void 0:At.success)===!1)throw new Error((At==null?void 0:At.detail)||`HTTP ${yn.status}`);ie.assistant_id&&localStorage.setItem("lastAssistantId",String(ie.assistant_id)),I.success("Call initiated"),J(!1)}catch(Rt){I.error((Rt==null?void 0:Rt.message)||"Failed to initiate call")}finally{Se(!1)}},oe=()=>{if(Qe.length===0)return I.info("Nothing to export.");const Z=["id","first_name","last_name","email","mobile","salesforce_id","state","add_date"],ne=Array.from(new Set(["Custom_0","Custom_1",...l])),le=[...Z,...ne],We=Qe.map(Rt=>{const Er=[Rt.id??"",Yi(Rt.first_name),Yi(Rt.last_name),Yi(Rt.email),Yi(Rt.mobile),Yi(Rt.salesforce_id),Yi(Rt.state),Yi(Rt.add_date)],yn=ne.map(At=>{var sn;return Yi((sn=Rt==null?void 0:Rt.other_data)==null?void 0:sn[At])});return[...Er,...yn]}),rt=[le,...We].map(Rt=>Rt.join(",")).join(`
`),yt=new Blob([rt],{type:"text/csv;charset=utf-8;"}),ot=URL.createObjectURL(yt),Et=document.createElement("a");Et.href=ot,Et.download=`leads_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Et),Et.click(),document.body.removeChild(Et),URL.revokeObjectURL(ot)};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(On,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${ife}`,children:"Leads"})}),n.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["File: ",n.jsx("b",{children:a||""})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(qt,{onClick:()=>te(!0),variant:"primary",children:[n.jsx(Sr,{className:"mr-2 h-4 w-4"})," New Lead"]}),n.jsx(qt,{onClick:Qt,disabled:x,children:x?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing"]}):n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4"}),"Sync HubSpot"]})}),n.jsx(qt,{onClick:()=>e("/user/upload-csv"),children:"Upload CSV"}),n.jsxs(qt,{onClick:oe,children:[n.jsx(pf,{className:"mr-2 h-4 w-4"}),"Export"]}),n.jsxs(qt,{onClick:xe,children:[n.jsx(qe,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx(i1,{label:"Total Leads",value:je}),n.jsx(i1,{label:"Selected File",value:a||""}),n.jsx(i1,{label:"Last Created",value:Be&&`${Be.first_name||""} ${Be.last_name||""}`.trim()||"",sub:Be!=null&&Be.add_date?hE(Be.add_date):Be?"Just now":"No leads yet"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ea,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:j,onChange:Z=>{S(Z.target.value),V(1)},placeholder:"Search name, email, phone, Salesforce ID",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(du,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:_,onChange:Z=>{C(Z.target.value),V(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"All states"}),Pe.map(Z=>n.jsx("option",{value:Z,children:Z},Z))]}),n.jsx("select",{value:`${P}:${T}`,onChange:Z=>{const[ne,le]=Z.target.value.split(":");A(ne),R(le)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[["add_date","desc","Newest"],["add_date","asc","Oldest"],["name","asc","Name AZ"],["name","desc","Name ZA"],["email","asc","Email AZ"],["email","desc","Email ZA"]].map(([Z,ne,le])=>n.jsx("option",{value:`${Z}:${ne}`,children:le},`${Z}:${ne}`))}),n.jsx("select",{value:K,onChange:Z=>{F(Number(Z.target.value)),V(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(Z=>n.jsxs("option",{value:Z,children:[Z," / page"]},Z))})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(On,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Leads (",Qe.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),m?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(qe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading leads"})]}):Qe.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(On,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or add a new lead"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(Qh,{children:"Name"}),n.jsx(Qh,{children:"Email"}),n.jsx(Qh,{children:"Phone"}),n.jsx(Qh,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:ze.map(Z=>{const ne=`${Z.first_name||""} ${Z.last_name||""}`.trim()||"",le=Z.mobile||X(Z)||"";return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(Jh,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:ne}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",Z.id,"  ",Z.salesforce_id||"No Ext ID"]})]})}),n.jsx(Jh,{children:n.jsx("div",{className:"text-xs font-medium text-slate-700 break-words",children:Z.email||""})}),n.jsx(Jh,{children:n.jsx("div",{className:"text-xs font-medium text-slate-700 break-all",children:le})}),n.jsx(Jh,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(qt,{onClick:()=>_e(Z),size:"sm",children:[n.jsx(ht,{className:"h-4 w-4 mr-1"}),"Call"]}),n.jsxs(qt,{onClick:()=>ct(Z),size:"sm",children:[n.jsx(Jd,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(qt,{onClick:()=>{ke(Z),be(!0)},size:"sm",children:[n.jsx(On,{className:"h-4 w-4 mr-1"}),"More"]})]})})]},Z.id)})})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ze.map((Z,ne)=>{const le=`${Z.first_name||""} ${Z.last_name||""}`.trim()||"",We=Z.mobile||X(Z)||"";return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[ne===0&&n.jsx(cfe,{}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:le}),n.jsx("div",{className:"mt-1 text-sm text-slate-600 break-words",children:Z.email||""}),n.jsx("div",{className:"text-xs text-slate-500 break-all",children:We})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs(qt,{onClick:()=>_e(Z),size:"sm",className:"grow sm:grow-0",children:[n.jsx(ht,{className:"h-4 w-4 mr-1"}),"Call"]}),n.jsxs(qt,{onClick:()=>ct(Z),size:"sm",className:"grow sm:grow-0",children:[n.jsx(Jd,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(qt,{onClick:()=>{ke(Z),be(!0)},size:"sm",className:"grow sm:grow-0",children:[n.jsx(On,{className:"h-4 w-4 mr-1"}),"More"]})]}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",Z.id,"  ",Z.salesforce_id||"No Ext ID"]})]},Z.id)})})}),Qe.length>K&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:Ie+1}),"",n.jsx("b",{children:Math.min(Ie+K,Qe.length)})," of ",n.jsx("b",{children:Qe.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(qt,{onClick:()=>V(Z=>Math.max(1,Z-1)),disabled:O===1,children:[n.jsx(ba,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,$e)},(Z,ne)=>{let le;if($e<=5||O<=3?le=ne+1:O>=$e-2?le=$e-4+ne:le=O-2+ne,le<1||le>$e)return null;const We=O===le;return n.jsx("button",{onClick:()=>V(le),className:`px-3 py-2 text-sm font-semibold rounded-xl ${We?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:le},le)})}),n.jsxs(qt,{onClick:()=>V(Z=>Math.min($e,Z+1)),disabled:O>=$e,children:["Next",n.jsx(gn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(Pt,{children:L&&n.jsxs(e0,{onClose:()=>te(!1),title:"Create Lead",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Nn,{label:"First name",children:n.jsx("input",{value:Ue.first_name,onChange:Z=>Ve(ne=>({...ne,first_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Last name",children:n.jsx("input",{value:Ue.last_name,onChange:Z=>Ve(ne=>({...ne,last_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Email",children:n.jsx("input",{type:"email",value:Ue.email,onChange:Z=>Ve(ne=>({...ne,email:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Mobile (digits only)",children:n.jsx("input",{value:Ue.mobile,onChange:Z=>Ve(ne=>({...ne,mobile:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"External ID",children:n.jsx("input",{value:Ue.salesforce_id,onChange:Z=>Ve(ne=>({...ne,salesforce_id:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Add date (ISO)",children:n.jsx("input",{value:Ue.add_date,onChange:Z=>Ve(ne=>({...ne,add_date:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"2025-08-13T10:00:00.000Z"})}),n.jsx(Nn,{label:"Custom_0",children:n.jsx("input",{value:Ue.custom0,onChange:Z=>Ve(ne=>({...ne,custom0:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Custom_1",children:n.jsx("input",{value:Ue.custom1,onChange:Z=>Ve(ne=>({...ne,custom1:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(qt,{onClick:()=>te(!1),variant:"subtle",children:"Cancel"}),n.jsx(qt,{onClick:on,disabled:Ne||!Ue.first_name||!Ue.last_name||!Ue.email||!Ue.mobile,variant:"primary",children:Ne?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):n.jsxs(n.Fragment,{children:[n.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),n.jsx(Pt,{children:D&&n.jsxs(e0,{onClose:()=>Y(!1),title:"Edit Lead",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Nn,{label:"First name",children:n.jsx("input",{value:we.first_name,onChange:Z=>q(ne=>({...ne,first_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Last name",children:n.jsx("input",{value:we.last_name,onChange:Z=>q(ne=>({...ne,last_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Email",children:n.jsx("input",{type:"email",value:we.email,onChange:Z=>q(ne=>({...ne,email:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Mobile (digits only)",children:n.jsx("input",{value:we.mobile,onChange:Z=>q(ne=>({...ne,mobile:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"External ID",children:n.jsx("input",{value:we.salesforce_id,onChange:Z=>q(ne=>({...ne,salesforce_id:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Add date (ISO)",children:n.jsx("input",{value:we.add_date,onChange:Z=>q(ne=>({...ne,add_date:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Custom_0",children:n.jsx("input",{value:we.custom0,onChange:Z=>q(ne=>({...ne,custom0:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Custom_1",children:n.jsx("input",{value:we.custom1,onChange:Z=>q(ne=>({...ne,custom1:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(qt,{onClick:()=>Y(!1),variant:"subtle",children:"Cancel"}),n.jsx(qt,{onClick:vt,disabled:H,variant:"primary",children:H?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),n.jsx(Pt,{children:de&&n.jsx(e0,{onClose:()=>J(!1),title:"Start Phone Call",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Assistant"}),n.jsxs("select",{value:ie.assistant_id,onChange:Z=>{const ne=d.find(le=>String(le.id)===String(Z.target.value));G(le=>({...le,assistant_id:Z.target.value,vapi_assistant_id:(ne==null?void 0:ne.vapi_assistant_id)||""}))},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select assistant"}),d.map(Z=>n.jsx("option",{value:Z.id,children:Z.name||`Assistant ${Z.id}`},Z.id))]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Nn,{label:"Phone Number",children:n.jsx("input",{value:ie.number,onChange:Z=>G(ne=>({...ne,number:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})}),n.jsx(Nn,{label:"Email",children:n.jsx("input",{type:"email",value:ie.email,onChange:Z=>G(ne=>({...ne,email:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"First name",children:n.jsx("input",{value:ie.first_name,onChange:Z=>G(ne=>({...ne,first_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Nn,{label:"Last name",children:n.jsx("input",{value:ie.last_name,onChange:Z=>G(ne=>({...ne,last_name:Z.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(qt,{onClick:()=>J(!1),variant:"subtle",children:"Cancel"}),n.jsx(qt,{onClick:nt,disabled:Q,variant:"primary",children:Q?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Calling"]}):n.jsxs(n.Fragment,{children:[n.jsx(ht,{className:"h-4 w-4 mr-1"}),"Start Call"]})})]})]})})}),n.jsx(Pt,{children:z&&n.jsxs(e0,{onClose:()=>W(null),title:"Delete Lead?",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"rounded-xl bg-rose-50 p-2 text-rose-600",children:n.jsx(QU,{className:"h-5 w-5"})}),n.jsx("div",{className:"text-slate-800",children:"This will permanently delete this lead. This action cannot be undone."})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(qt,{onClick:()=>W(null),variant:"subtle",children:"Cancel"}),n.jsxs(qt,{onClick:An,variant:"danger",children:[n.jsx(ta,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),n.jsx(Pt,{children:ae&&Ce&&n.jsx(ufe,{onClose:()=>be(!1),title:"Lead Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-bold text-slate-900 truncate",children:`${Ce.first_name||""} ${Ce.last_name||""}`.trim()||""}),n.jsx("div",{className:"text-sm text-slate-600 break-words",children:Ce.email||""}),n.jsx("div",{className:"text-xs text-slate-500 break-all",children:Ce.mobile||X(Ce)||""}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID #",Ce.id,"  ",Ce.salesforce_id||"No Ext ID"]})]})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[n.jsx(l1,{label:"State",value:Ce.state||""}),n.jsx(l1,{label:"Timezone",value:Ce.timezone||""}),n.jsx(l1,{label:"Added",value:hE(Ce.add_date)||""})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Basic Fields"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(hc,{label:"First name",value:Ce.first_name||""}),n.jsx(hc,{label:"Last name",value:Ce.last_name||""}),n.jsx(hc,{label:"Email",value:Ce.email||""}),n.jsx(hc,{label:"Mobile",value:Ce.mobile||X(Ce)||""}),n.jsx(hc,{label:"External ID",value:Ce.salesforce_id||""})]})]}),l&&l.length>0&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Extra Fields"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(Z=>{var ne;return n.jsx(hc,{label:Z,value:((ne=Ce==null?void 0:Ce.other_data)==null?void 0:ne[Z])??""},Z)})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(qt,{onClick:()=>_e(Ce),children:[n.jsx(ht,{className:"h-4 w-4 mr-1"}),"Call"]}),n.jsxs(qt,{onClick:()=>ct(Ce),children:[n.jsx(Jd,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(qt,{onClick:()=>W(Ce.id),variant:"danger",children:[n.jsx(ta,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})})]})}function qt({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${d[a]} ${t}`,children:e})}function i1({label:e,value:t,sub:a}){return n.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t}),a&&n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:a})]})]})}function cfe(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Qh({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Jh({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Nn({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function l1({label:e,value:t}){return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-xs text-slate-500",children:e}),n.jsx("div",{className:"text-lg font-extrabold text-slate-900 break-all",children:t})]})}function hc({label:e,value:t}){return n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),n.jsx("div",{className:"text-sm font-semibold text-slate-800 break-words",children:String(t??"")})]})}function e0({children:e,onClose:t,title:a}){return n.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(qt,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(va,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function ufe({children:e,onClose:t,title:a}){return n.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(qt,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:n.jsx(va,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function hE(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function Yi(e){if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t}const dfe=()=>{const[e,t]=g.useState(null),[a,r]=g.useState(!1),[s,l]=g.useState(!1),[c,d]=g.useState(""),[f,m]=g.useState(!0),[h,x]=g.useState(0),[b,y]=g.useState(""),w=g.useRef(null),{id:j}=$f(),S=5*1024*1024,k="https://aisdr-dbt.ddns.net",_=()=>localStorage.getItem("token"),C=K=>{K&&K.type==="text/csv"?K.size>S?O("File size exceeds 5MB limit.",!1):t(K):O("Please upload a valid CSV file.",!1)},P=K=>{const F=K.target.files[0];C(F)},A=()=>w.current.click(),T=()=>{const K=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,F=new Blob([K],{type:"text/csv"}),L=window.URL.createObjectURL(F),te=document.createElement("a");te.href=L,te.download="sample_users.csv",te.click(),window.URL.revokeObjectURL(L)},R=async()=>{if(!e)return O("No file selected.",!1);if(!b.trim())return O("Please provide a list name.",!1);const K=_();if(!K)return O("Please log in first.",!1);const F=new FormData;F.append("file",e),F.append("name",b);try{r(!0),x(50);const L=await fetch(`${k}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${K}`},body:F});if(x(100),L.ok)O("CSV file uploaded successfully!",!0),t(null),y(""),w.current&&(w.current.value="");else{const te=await L.json();throw new Error(te.detail||`HTTP ${L.status}`)}}catch(L){console.error(L),O("Upload failed. Please try again.",!1)}finally{r(!1),x(0)}},O=(K,F)=>{d(K),m(F),l(!0)},V=K=>K<1024?`${K} B`:K<1024*1024?`${(K/1024).toFixed(2)} KB`:`${(K/(1024*1024)).toFixed(2)} MB`;return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[n.jsx("div",{className:"w-full max-w-3xl bg-white p-10 rounded-2xl shadow-lg border border-gray-200 transition-all hover:shadow-xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx(_M,{className:"mx-auto text-5xl text-blue-400 mb-6 animate-pulse"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Upload Your CSV File"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Drag & drop a CSV file or click to select. Max size: 5MB."}),n.jsx("input",{type:"text",placeholder:"Enter list name",value:b,onChange:K=>y(K.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none"}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[n.jsx("input",{type:"file",accept:".csv",onChange:P,ref:w,className:"hidden"}),n.jsx("button",{onClick:A,className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600 transition",children:"Choose File"}),n.jsxs("button",{onClick:T,className:"bg-white text-blue-600 border border-blue-300 px-6 py-3 rounded-xl shadow-sm hover:bg-blue-50 transition flex items-center gap-2",children:[n.jsx(NM,{})," Sample CSV"]})]}),e&&n.jsxs("div",{className:"mt-6 text-gray-600 bg-blue-50 p-4 rounded-xl border border-blue-200 text-left",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"File:"})," ",e.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Size:"})," ",V(e.size)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),n.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[n.jsx("button",{onClick:R,disabled:a||!e,className:`w-full bg-blue-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition 
            ${a||!e?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:a?"Uploading...":"Upload CSV"}),a&&n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]}),s&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f?n.jsx(jM,{className:"text-green-500 text-2xl"}):n.jsx(SM,{className:"text-red-500 text-2xl"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload Status"})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:c}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>l(!1),className:"bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600 transition",children:"Okay"})})]})})]})},o1={},P0="https://aisdr-dbt.ddns.net",O0=(o1==null?void 0:o1.VITE_API_PREFIX)||"/api",Ba=`${P0}${O0}/campaigns/campaigns`,Ua={LIST:Ba,CREATE:Ba,DETAIL:e=>`${Ba}/${e}`,STATS:e=>`${Ba}/${e}/stats`,SCHEDULE:e=>`${Ba}/${e}/schedule`,RETRY:e=>`${Ba}/${e}/retry-policy`,PAUSE:e=>`${Ba}/${e}/pause`,RESUME:e=>`${Ba}/${e}/resume`,STOP:e=>`${Ba}/${e}/stop`,RUN_NOW:e=>`${Ba}/${e}/run-now`,ICS:e=>`${Ba}/${e}/calendar.ics`,DELETE:e=>`${Ba}/${e}`,REFRESH_LEADS:e=>`${Ba}/${e}/refresh-leads`},c1={FILES:`${P0}${O0}/files`,ASSISTANTS:`${P0}${O0}/get-assistants`,LEADS:e=>`${P0}${O0}/leads${e?`?file_id=${e}`:""}`};function Wr(...e){return e.filter(Boolean).join(" ")}const M0=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function ffe(e,t=250){const[a,r]=g.useState(e);return g.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),a}function u1(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}function mfe(e){try{const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function t0(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${a}-${r}-${s}T${l}:${c}`}function n0(e){if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()}function hfe(e){if(!e)return"";const t=new Date(e).getTime();if(Number.isNaN(t))return"";const a=Math.max(0,t-Date.now()),r=Math.floor(a/1e3),s=Math.floor(r/60),l=r%60;return s>0?`${s}m ${l}s`:`${l}s`}const xr={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},d1={show:{transition:{staggerChildren:.05}}},pE={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}},xE={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:30,duration:.4}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},pfe={hidden:{opacity:0,scale:.8,y:50},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,duration:.5}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.3}}},xfe={hidden:{opacity:0,x:20},show:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2}}};function Br({children:e,tone:t="slate"}){const a={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200",orange:"bg-orange-100 text-orange-700 ring-orange-200",purple:"bg-purple-100 text-purple-700 ring-purple-200",amber:"bg-amber-100 text-amber-700 ring-amber-200",indigo:"bg-indigo-100 text-indigo-700 ring-indigo-200"};return n.jsx(he.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},className:Wr("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",a[t]||a.slate),children:e})}function f1({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return n.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function a0({status:e}){const t=String(e||"").toLowerCase();return t==="scheduled"?n.jsx(Br,{tone:"blue",children:"Scheduled"}):t==="running"?n.jsx(Br,{tone:"green",children:"Running"}):t==="paused"?n.jsx(Br,{tone:"orange",children:"Paused"}):t==="stopped"?n.jsx(Br,{tone:"red",children:"Stopped"}):t==="completed"?n.jsx(Br,{tone:"purple",children:"Completed"}):t==="draft"?n.jsx(Br,{tone:"slate",children:"Draft"}):n.jsx(Br,{tone:"slate",children:M0(e)})}const g9=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York"},{value:"America/Chicago",label:"America/Chicago"},{value:"America/Denver",label:"America/Denver"},{value:"America/Los_Angeles",label:"America/Los_Angeles"},{value:"America/Phoenix",label:"America/Phoenix"},{value:"Europe/London",label:"Europe/London"},{value:"Europe/Berlin",label:"Europe/Berlin"},{value:"Europe/Paris",label:"Europe/Paris"},{value:"Asia/Karachi",label:"Asia/Karachi"},{value:"Asia/Kolkata",label:"Asia/Kolkata"},{value:"Asia/Singapore",label:"Asia/Singapore"},{value:"Asia/Tokyo",label:"Asia/Tokyo"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Australia/Sydney",label:"Australia/Sydney"}];function b9(e,t){const a=Number(e)||0,r=Number(t)||0;if(r<=0)return 0;const s=Math.round(a/r*100);return Math.min(100,Math.max(0,s))}function v9({active:e=!1}){return e?n.jsxs("span",{className:"relative inline-flex h-2.5 w-2.5",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60"}),n.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}):null}function gE({done:e,total:t,status:a}){const r=b9(e,t),s=["scheduled","running"].includes(String(a||"").toLowerCase());return n.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[n.jsx("div",{className:"relative h-2 w-36 rounded-full bg-slate-200 overflow-hidden",children:n.jsx(he.div,{className:Wr("h-full bg-gradient-to-r from-blue-500 to-cyan-500",s&&"shadow-[0_0_0_2px_rgba(59,130,246,0.15)]"),initial:{width:0},animate:{width:`${r}%`},transition:{type:"spring",stiffness:160,damping:20}})}),n.jsxs("div",{className:"text-xs font-medium text-slate-700 tabular-nums",children:[Number(e)||0,"/",Number(t)||0]}),n.jsx(v9,{active:s})]})}function gfe({totals:e}){const t=(e==null?void 0:e.total)||0,a=(e==null?void 0:e.done)||0,r=(e==null?void 0:e.calling)||0,s=(e==null?void 0:e.retry)||0,l=(e==null?void 0:e.pending)||0,c=d=>t>0?`${d/t*100}%`:"0%";return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"h-3 w-full rounded-full bg-slate-200 overflow-hidden ring-1 ring-white/60 relative",children:[n.jsx(he.div,{className:"h-full bg-emerald-500 absolute left-0 top-0",style:{width:c(a)},initial:{width:0},animate:{width:c(a)}}),n.jsx(he.div,{className:"h-full bg-indigo-500 absolute left-0 top-0",style:{width:c(a+r)},initial:{width:0},animate:{width:c(a+r)}}),n.jsx(he.div,{className:"h-full bg-amber-500 absolute left-0 top-0",style:{width:c(a+r+s)},initial:{width:0},animate:{width:c(a+r+s)}})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-700",children:[n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-emerald-500"}),"Done ",a]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-indigo-500"}),"Calling ",r]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-amber-500"}),"Retry ",s]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-slate-400"}),"Pending ",l]}),n.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[b9(a,t),"%"]})]})]})}function bE(){var rt,yt,ot,Et,Rt,Er,yn,At,sn,Ss,Ao,lm,om,Cu,wi,To,_s,ks,ji,Cs;const e=g.useRef(localStorage.getItem("token")||null),[t,a]=g.useState([]),[r,s]=g.useState(!0),[l,c]=g.useState(!1),[d,f]=g.useState([]),[m,h]=g.useState([]),[x,b]=g.useState([]),[y,w]=g.useState(!1),[j,S]=g.useState(""),k=ffe(j,250),[_,C]=g.useState("created_at"),[P,A]=g.useState("desc"),[T,R]=g.useState(1),[O,V]=g.useState(10),[K,F]=g.useState(!1),[L,te]=g.useState(1),[Ne,re]=g.useState(!1),[D,Y]=g.useState({name:"",file_id:"",assistant_id:"",selection_mode:"ALL",include_lead_ids:[],exclude_lead_ids:[],timezone:"America/Los_Angeles",days_of_week:[0,1,2,3,4],daily_start:"09:00",daily_end:"18:00",start_at:"",end_at:"",calls_per_minute:10,parallel_calls:2,retry_on_busy:!0,busy_retry_delay_minutes:15,max_attempts:3,description:""}),[H,B]=g.useState(""),[E,$]=g.useState(!1),[z,W]=g.useState(null),[de,J]=g.useState(!1),[Q,Se]=g.useState(null),[ae,be]=g.useState(null);g.useEffect(()=>{if(!E||!(z!=null&&z.id))return;ze(z.id),Be(z.id);const ue=setInterval(()=>{ze(z.id),Be(z.id),pe()},4e3);return()=>clearInterval(ue)},[E,z==null?void 0:z.id]),g.useEffect(()=>{if(!e.current){s(!1),I.error("No auth token found. Please log in.");return}Ce()},[]);async function Ce(){s(!0);try{await Promise.all([pe(),Ue(),Ve()])}finally{s(!1)}}async function ke(ue,Re={}){if(!e.current)throw I.error("No auth token found. Please log in."),new Error("No token");return await fetch(ue,{...Re,headers:{...Re.headers||{},Authorization:`Bearer ${e.current}`}})}async function pe(){try{const ue=await ke(Ua.LIST);if(!ue.ok)throw new Error(`HTTP ${ue.status}`);const Re=await ue.json();a(Array.isArray(Re)?Re:[])}catch(ue){console.error(ue),I.error("Failed to fetch campaigns"),a([])}}async function Ue(){try{const ue=await ke(c1.FILES);if(!ue.ok)throw new Error(`HTTP ${ue.status}`);const Re=await ue.json();f(Array.isArray(Re)?Re:(Re==null?void 0:Re.items)||[])}catch(ue){console.warn("Files fetch failed:",ue.message),f([])}}async function Ve(){try{const ue=await ke(c1.ASSISTANTS);if(!ue.ok)throw new Error(`HTTP ${ue.status}`);const Re=await ue.json(),Fe=(Array.isArray(Re)&&Re||(Re==null?void 0:Re.items)||(Re==null?void 0:Re.assistants)||(Re==null?void 0:Re.data)||[]).filter(He=>He&&He.id!==void 0&&He.id!==null);h(Fe)}catch(ue){console.warn("Assistants fetch failed:",ue.message),h([])}}async function we(ue){if(!ue){b([]);return}try{w(!0);const Re=await ke(c1.LEADS(ue));if(!Re.ok)throw new Error(`HTTP ${Re.status}`);const Ye=await Re.json(),Fe=Array.isArray(Ye)?Ye:(Ye==null?void 0:Ye.leads)||(Ye==null?void 0:Ye.items)||[];b(Fe)}catch(Re){console.warn("Leads fetch failed:",Re.message),b([])}finally{w(!1)}}async function q(){c(!0);try{await pe()}finally{c(!1)}}const ie=g.useMemo(()=>{const ue=k.trim().toLowerCase(),Re=t.filter(Fe=>ue?[(Fe.name||"").toLowerCase(),(Fe.status||"").toLowerCase(),String(Fe.id||""),String(Fe.file_id||""),String(Fe.assistant_id||"")].some(wt=>wt.includes(ue)):!0),Ye=P==="asc"?1:-1;return Re.sort((Fe,He)=>{let wt,ua;switch(_){case"name":wt=(Fe.name||"").toLowerCase(),ua=(He.name||"").toLowerCase();break;case"status":wt=(Fe.status||"").toLowerCase(),ua=(He.status||"").toLowerCase();break;case"calls_per_minute":wt=Fe.calls_per_minute||0,ua=He.calls_per_minute||0;break;case"created_at":default:wt=new Date(Fe.created_at||0).getTime(),ua=new Date(He.created_at||0).getTime()}return wt<ua?-1*Ye:wt>ua?1*Ye:0}),Re},[t,k,_,P]),G=ie.length,xe=Math.max(1,Math.ceil(G/O));g.useEffect(()=>{T>xe&&R(xe)},[T,xe]);const Ae=(T-1)*O,Le=Ae+O,Pe=ie.slice(Ae,Le),Ze=g.useMemo(()=>{const ue=ie.length,Re=ie.filter(Fe=>(Fe.status||"").toLowerCase()==="running").length,Ye=ie.filter(Fe=>(Fe.status||"").toLowerCase()==="paused").length;return{total:ue,running:Re,paused:Ye}},[ie]);function Qe(ue){const{name:Re,value:Ye,type:Fe,checked:He}=ue.target;Y(wt=>{const ua={...wt,[Re]:Fe==="checkbox"?He:Ye};if(Re==="file_id"){const Au=Number(Ye)||"";Au?we(Au):b([]),ua.include_lead_ids=[],ua.exclude_lead_ids=[]}return Re==="selection_mode"&&(ua.include_lead_ids=[],ua.exclude_lead_ids=[]),ua})}function je(ue){Y(Re=>{const Fe=Re.days_of_week.includes(ue)?Re.days_of_week.filter(He=>He!==ue):[...Re.days_of_week,ue];return Fe.sort((He,wt)=>He-wt),{...Re,days_of_week:Fe}})}async function $e(){var Re,Ye;if(!D.name||!D.file_id||!D.assistant_id){I.error("Name, File and Assistant are required.");return}if(D.selection_mode!=="ALL"&&D.file_id&&x.length===0){I.error("No leads available for the selected file.");return}const ue={name:String(D.name).trim(),file_id:Number(D.file_id),assistant_id:Number(D.assistant_id),selection_mode:D.selection_mode,include_lead_ids:D.selection_mode==="ONLY"&&((Re=D.include_lead_ids)!=null&&Re.length)?D.include_lead_ids:null,exclude_lead_ids:D.selection_mode==="SKIP"&&((Ye=D.exclude_lead_ids)!=null&&Ye.length)?D.exclude_lead_ids:null,timezone:D.timezone||"America/Los_Angeles",days_of_week:D.days_of_week,daily_start:D.daily_start||"09:00",daily_end:D.daily_end||"18:00",start_at:n0(D.start_at),end_at:n0(D.end_at),calls_per_minute:Number(D.calls_per_minute)||10,parallel_calls:Number(D.parallel_calls)||2,retry_on_busy:!!D.retry_on_busy,busy_retry_delay_minutes:Number(D.busy_retry_delay_minutes)||15,max_attempts:Number(D.max_attempts)||3};try{re(!0);const Fe=await ke(Ua.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)}),He=await Fe.json().catch(()=>({}));if(!Fe.ok||(He==null?void 0:He.success)===!1)throw new Error((He==null?void 0:He.detail)||`HTTP ${Fe.status}`);I.success((He==null?void 0:He.detail)||"Campaign created."),F(!1),te(1),Y(wt=>({...wt,name:"",include_lead_ids:[],exclude_lead_ids:[]})),await pe()}catch(Fe){console.error(Fe),I.error((Fe==null?void 0:Fe.message)||"Create failed")}finally{re(!1)}}async function Ie(ue){W(ue),$(!0),await Promise.all([ze(ue.id),Be(ue.id)])}async function ze(ue){if(ue)try{J(!0);const Re=await ke(Ua.DETAIL(ue));if(!Re.ok)throw new Error(`HTTP ${Re.status}`);const Ye=await Re.json();Se(Ye)}catch(Re){console.error(Re),I.error("Failed to load campaign details"),Se(null)}finally{J(!1)}}async function Be(ue){if(ue)try{const Re=await ke(Ua.STATS(ue));if(!Re.ok)throw new Error(`HTTP ${Re.status}`);const Ye=await Re.json();be(Ye)}catch(Re){console.error(Re)}}async function ct(ue,Re,Ye){try{const Fe=await ke(ue(Re),{method:"POST"}),He=await Fe.json().catch(()=>({}));if(!Fe.ok||(He==null?void 0:He.success)===!1)throw new Error((He==null?void 0:He.detail)||`HTTP ${Fe.status}`);I.success((He==null?void 0:He.detail)||Ye),await pe(),z&&z.id===Re&&(await ze(Re),await Be(Re))}catch(Fe){console.error(Fe),I.error((Fe==null?void 0:Fe.message)||"Action failed")}}const vt=ue=>ct(Ua.PAUSE,ue,"Paused"),on=ue=>ct(Ua.RESUME,ue,"Resumed"),An=ue=>ct(Ua.STOP,ue,"Stopped"),Qt=ue=>ct(Ua.REFRESH_LEADS,ue,"Leads synced");async function De(ue){if(confirm("Delete this campaign and its progress rows?"))try{const Re=await ke(Ua.DELETE(ue),{method:"DELETE"}),Ye=await Re.json().catch(()=>({}));if(!Re.ok||(Ye==null?void 0:Ye.success)===!1)throw new Error((Ye==null?void 0:Ye.detail)||`HTTP ${Re.status}`);I.success((Ye==null?void 0:Ye.detail)||"Deleted"),$(!1),W(null),await pe()}catch(Re){console.error(Re),I.error((Re==null?void 0:Re.message)||"Delete failed")}}async function X(ue,Re){try{const Ye=await ke(Ua.RUN_NOW(ue),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch_size:Number(Re)||5})}),Fe=await Ye.json().catch(()=>({}));if(!Ye.ok||(Fe==null?void 0:Fe.success)===!1)throw new Error((Fe==null?void 0:Fe.detail)||`HTTP ${Ye.status}`);I.success((Fe==null?void 0:Fe.detail)||"Triggered."),await Be(ue)}catch(Ye){console.error(Ye),I.error((Ye==null?void 0:Ye.message)||"Run-now failed")}}async function _e(ue,Re){var Fe;const Ye={timezone:Re.timezone||void 0,days_of_week:(Fe=Re.days_of_week)!=null&&Fe.length?Re.days_of_week:void 0,daily_start:Re.daily_start||void 0,daily_end:Re.daily_end||void 0,start_at:n0(Re.start_at),end_at:n0(Re.end_at)};try{const He=await ke(Ua.SCHEDULE(ue),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ye)}),wt=await He.json().catch(()=>({}));if(!He.ok||(wt==null?void 0:wt.success)===!1)throw new Error((wt==null?void 0:wt.detail)||`HTTP ${He.status}`);I.success((wt==null?void 0:wt.detail)||"Schedule updated"),await pe(),await ze(ue),await Be(ue)}catch(He){console.error(He),I.error((He==null?void 0:He.message)||"Update failed")}}async function nt(ue,Re){const Ye={retry_on_busy:!!Re.retry_on_busy,busy_retry_delay_minutes:Number(Re.busy_retry_delay_minutes)||15,max_attempts:Number(Re.max_attempts)||3};try{const Fe=await ke(Ua.RETRY(ue),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ye)}),He=await Fe.json().catch(()=>({}));if(!Fe.ok||(He==null?void 0:He.success)===!1)throw new Error((He==null?void 0:He.detail)||`HTTP ${Fe.status}`);I.success((He==null?void 0:He.detail)||"Retry policy updated"),await ze(ue),await Be(ue)}catch(Fe){console.error(Fe),I.error((Fe==null?void 0:Fe.message)||"Update failed")}}async function oe(ue,Re="campaign"){try{const Ye=await ke(Ua.ICS(ue));if(!Ye.ok)throw new Error(`HTTP ${Ye.status}`);const Fe=await Ye.blob(),He=URL.createObjectURL(Fe),wt=document.createElement("a");wt.href=He,wt.download=`${Re||"campaign"}.ics`,document.body.appendChild(wt),wt.click(),wt.remove(),URL.revokeObjectURL(He)}catch(Ye){console.error(Ye),I.error("ICS download failed")}}const Z=()=>{F(!0),te(1)},ne=()=>{F(!1),te(1),Y(ue=>({...ue,name:"",include_lead_ids:[],exclude_lead_ids:[]}))},le=()=>{te(ue=>Math.min(6,ue+1))},We=()=>{te(ue=>Math.max(1,ue-1))};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsxs("main",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[n.jsxs(he.div,{initial:"hidden",animate:"show",variants:xr,className:"mb-6 sm:mb-8 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:"Campaigns"}),n.jsx("p",{className:"mt-1 text-sm sm:text-base text-slate-600",children:"Manage your calling campaigns and schedules."})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx(Wi,{onClick:q,disabled:l,icon:l?n.jsx(_n,{className:"h-4 w-4 animate-spin"}):n.jsx(qe,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Refresh"})}),n.jsxs(al,{onClick:Z,icon:n.jsx(Sr,{className:"h-4 w-4"}),children:[n.jsx("span",{className:"hidden sm:inline",children:"Create Campaign"}),n.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),n.jsxs(he.div,{initial:"hidden",animate:"show",variants:xE,className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{className:"relative sm:col-span-1 lg:col-span-2",children:[n.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),n.jsx("input",{value:j,onChange:ue=>{S(ue.target.value),R(1)},placeholder:"Search name, status, IDs",className:"w-full rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 pl-9 sm:pl-10 pr-3 py-2 sm:py-2.5 text-sm sm:text-base text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search campaigns"})]}),n.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 hidden sm:block",children:["Total: ",n.jsx("span",{className:"font-semibold text-slate-900",children:G})]}),n.jsx("select",{value:O,onChange:ue=>{V(Number(ue.target.value)),R(1)},className:"rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[10,20,40,80].map(ue=>n.jsxs("option",{value:ue,children:[ue," / page"]},ue))})]})]}),n.jsxs(he.div,{initial:"hidden",animate:"show",variants:d1,className:"mt-4 sm:mt-6 grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsx(he.div,{variants:xr,children:n.jsx(f1,{label:"Total Campaigns",value:Ze.total,Icon:ha,tone:"blue"})}),n.jsx(he.div,{variants:xr,children:n.jsx(f1,{label:"Running",value:Ze.running,Icon:Mn,tone:"cyan"})}),n.jsx(he.div,{variants:xr,className:"sm:col-span-2 lg:col-span-1",children:n.jsx(f1,{label:"Paused",value:Ze.paused,Icon:Nr,tone:"blue"})})]}),n.jsx(he.div,{initial:"hidden",animate:"show",variants:xE,className:"mt-4 sm:mt-6 overflow-x-auto rounded-2xl sm:rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:n.jsxs("div",{className:"min-w-full",children:[n.jsx("div",{className:"block sm:hidden",children:r?n.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3}).map((ue,Re)=>n.jsx("div",{className:"animate-pulse bg-slate-100 rounded-xl p-4 h-24"},Re))}):n.jsx("div",{className:"divide-y divide-slate-200",children:Pe.map((ue,Re)=>{var He,wt;const Ye=((He=ue.counts)==null?void 0:He.total)||0,Fe=((wt=ue.counts)==null?void 0:wt.completed_or_failed)||0;return n.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Re*.05},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>Ie(ue),children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:M0(ue.name)}),n.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",ue.id]})]}),n.jsx(a0,{status:ue.status})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[n.jsx("span",{children:u1(ue.created_at)}),n.jsxs("span",{children:[Ye," leads"]})]}),n.jsx(gE,{done:Fe,total:Ye,status:ue.status})]},ue.id)})})}),n.jsxs("table",{className:"hidden sm:table min-w-full text-left",children:[n.jsx("thead",{className:"bg-slate-50/50 backdrop-blur",children:n.jsxs("tr",{children:[n.jsx(p1,{sortKey:"name",sortBy:_,sortDir:P,onSort:ue=>h1(ue,C,A),children:"Name"}),n.jsx(p1,{sortKey:"status",sortBy:_,sortDir:P,onSort:ue=>h1(ue,C,A),children:"Status"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"File"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Assistant"}),n.jsx(p1,{sortKey:"calls_per_minute",sortBy:_,sortDir:P,onSort:ue=>h1(ue,C,A),children:"Pacing"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Created"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Leads"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Progress"}),n.jsx("th",{})]})}),n.jsx("tbody",{children:r?n.jsx(jfe,{rows:O,cols:9}):Pe.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:9,className:"px-5 py-4 text-center text-sm text-slate-500",children:"No campaigns found."})}):Pe.map(ue=>{var Fe,He;const Re=((Fe=ue.counts)==null?void 0:Fe.total)||0,Ye=((He=ue.counts)==null?void 0:He.completed_or_failed)||0;return n.jsxs("tr",{className:"group/row hover:bg-slate-50/50 transition-colors",children:[n.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:n.jsx("button",{onClick:()=>Ie(ue),className:"group/cell flex items-center gap-2 text-left",children:M0(ue.name)})}),n.jsx("td",{className:"px-5 py-3",children:n.jsx(a0,{status:ue.status})}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:ue.file_id}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:ue.assistant_id}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:ue.calls_per_minute}),n.jsx("td",{className:"px-5 py-3 text-slate-600",children:u1(ue.created_at)}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:Re}),n.jsx("td",{className:"px-5 py-3",children:n.jsx(gE,{done:Ye,total:Re,status:ue.status})}),n.jsx("td",{className:"px-5 py-3 text-right",children:n.jsxs("div",{className:"invisible group-hover/row:visible flex items-center justify-end gap-2",children:[n.jsx(Wi,{onClick:()=>oe(ue.id,ue==null?void 0:ue.name),icon:n.jsx(pf,{className:"h-4 w-4"}),children:"ICS"}),n.jsx(Wi,{onClick:()=>Ie(ue),icon:n.jsx(On,{className:"h-4 w-4"}),children:"Details"})]})})]},ue.id)})})]})]})}),n.jsxs(he.div,{initial:"hidden",animate:"show",variants:xr,className:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 order-2 sm:order-1",children:["Showing ",G===0?0:(T-1)*O+1,"",Math.min(T*O,G)," of ",G]}),n.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[n.jsxs(Op,{disabled:T<=1,onClick:()=>R(T-1),children:[n.jsx(ba,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),n.jsxs("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-slate-700",children:[T," of ",xe]}),n.jsxs(Op,{disabled:T>=xe,onClick:()=>R(T+1),children:[n.jsx("span",{className:"hidden sm:inline",children:"Next"}),n.jsx(gn,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]}),n.jsx(Pt,{children:K&&n.jsxs(n.Fragment,{children:[n.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:pE,initial:"hidden",animate:"show",exit:"exit",onClick:ne}),n.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:pfe,initial:"hidden",animate:"show",exit:"exit",children:n.jsxs("div",{className:"w-full max-w-xs sm:max-w-md lg:max-w-2xl xl:max-w-4xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:n.jsx(Sr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Create Campaign"}),n.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Step ",L," of 6"]})]})]}),n.jsx("button",{onClick:ne,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl border border-slate-200 hover:bg-slate-50 flex items-center justify-center transition-colors","aria-label":"Close",children:n.jsx(va,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),n.jsxs("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-50/50",children:[n.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:[1,2,3,4,5,6].map(ue=>n.jsx(he.div,{className:Wr("flex-1 h-1.5 sm:h-2 rounded-full transition-colors duration-300",ue<=L?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-slate-200"),initial:{scaleX:0},animate:{scaleX:ue<=L?1:0},transition:{duration:.3,delay:ue*.05}},ue))}),n.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[n.jsx("span",{className:"hidden sm:inline",children:"Details"}),n.jsx("span",{className:"hidden sm:inline",children:"Files"}),n.jsx("span",{className:"hidden sm:inline",children:"Leads"}),n.jsx("span",{className:"hidden sm:inline",children:"Schedule"}),n.jsx("span",{className:"hidden sm:inline",children:"Pacing"}),n.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsx(Pt,{mode:"wait",children:n.jsxs(he.div,{variants:xfe,initial:"hidden",animate:"show",exit:"exit",className:"p-4 sm:p-6 lg:p-8",children:[L===1&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Campaign Details"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Set up the basic information for your campaign."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Name"}),n.jsx("input",{value:D.name,onChange:Qe,name:"name",placeholder:"Enter campaign name",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assistant"}),n.jsxs("select",{value:D.assistant_id,onChange:Qe,name:"assistant_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[n.jsx("option",{value:"",children:"Select assistant"}),m.map(ue=>n.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (optional)"}),n.jsx("textarea",{value:D.description,onChange:Qe,name:"description",placeholder:"Describe your campaign...",rows:3,className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition resize-none"})]})]}),L===2&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select File"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Choose the file containing the leads for your campaign."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File"}),n.jsxs("select",{value:D.file_id,onChange:Qe,name:"file_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[n.jsx("option",{value:"",children:"Select file"}),d.map(ue=>n.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]})]}),L===3&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select Leads"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Choose which leads to include in your campaign."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selection Mode"}),n.jsxs("select",{value:D.selection_mode,onChange:Qe,name:"selection_mode",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[n.jsx("option",{value:"ALL",children:"All Leads"}),n.jsx("option",{value:"ONLY",children:"Only These Leads"}),n.jsx("option",{value:"SKIP",children:"Skip These Leads"})]})]}),D.selection_mode!=="ALL"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),n.jsx("input",{value:H,onChange:ue=>B(ue.target.value),placeholder:"Search leads",className:"w-full rounded-xl border border-slate-200 px-9 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),y?n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center text-sm text-slate-600",children:[n.jsx(_n,{className:"h-5 w-5 animate-spin mx-auto mb-3"})," Loading leads"]}):n.jsx(wfe,{leads:x,mode:D.selection_mode,search:H,selectedIds:D.selection_mode==="ONLY"?D.include_lead_ids:D.exclude_lead_ids,onChange:ue=>{D.selection_mode==="ONLY"?Y(Re=>({...Re,include_lead_ids:ue})):Y(Re=>({...Re,exclude_lead_ids:ue}))}})]})]}),L===4&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Schedule"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Set up the schedule for your campaign."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),n.jsx("select",{name:"timezone",value:D.timezone,onChange:Qe,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:g9.map(ue=>n.jsx("option",{value:ue.value,children:ue.label},ue.value))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(ue=>n.jsx("button",{type:"button",onClick:()=>je(ue),className:Wr("px-3 py-1.5 rounded-xl border text-sm",D.days_of_week.includes(ue)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][ue]},ue))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ca,{label:"Daily start",name:"daily_start",value:D.daily_start,onChange:Qe,placeholder:"HH:MM"}),n.jsx(Ca,{label:"Daily end",name:"daily_end",value:D.daily_end,onChange:Qe,placeholder:"HH:MM"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ca,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:D.start_at,onChange:Qe}),n.jsx(Ca,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:D.end_at,onChange:Qe})]})]})]}),L===5&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Pacing"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Set up the pacing for your campaign."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsx(Ca,{label:"Calls per minute",name:"calls_per_minute",value:D.calls_per_minute,onChange:Qe}),n.jsx(Ca,{label:"Parallel calls",name:"parallel_calls",value:D.parallel_calls,onChange:Qe}),n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!D.retry_on_busy,onChange:Qe}),n.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),n.jsx(Ca,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:D.busy_retry_delay_minutes,onChange:Qe}),n.jsx(Ca,{label:"Max attempts",name:"max_attempts",value:D.max_attempts,onChange:Qe})]})]}),L===6&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Review"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Review your campaign details before creating."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Name"}),n.jsx("div",{className:"text-sm text-slate-600",children:D.name||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"File"}),n.jsx("div",{className:"text-sm text-slate-600",children:((rt=d.find(ue=>String(ue.id)===String(D.file_id)))==null?void 0:rt.name)||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Assistant"}),n.jsx("div",{className:"text-sm text-slate-600",children:((yt=m.find(ue=>String(ue.id)===String(D.assistant_id)))==null?void 0:yt.name)||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Schedule"}),n.jsxs("div",{className:"text-sm text-slate-600",children:[m1(D.days_of_week),"  ",D.daily_start,"",D.daily_end," (",D.timezone,")"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Pacing"}),n.jsxs("div",{className:"text-sm text-slate-600",children:[D.calls_per_minute," CPM  ",D.parallel_calls," parallel"]})]})]})]})]},L)})}),n.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[n.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:L>1&&n.jsxs(Wi,{onClick:We,icon:n.jsx(ba,{className:"h-4 w-4"}),children:[n.jsx("span",{className:"hidden sm:inline",children:"Previous"}),n.jsx("span",{className:"sm:hidden",children:"Back"})]})}),n.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:L<6?n.jsxs(al,{onClick:le,icon:n.jsx(gn,{className:"h-4 w-4"}),children:[n.jsx("span",{className:"hidden sm:inline",children:"Next Step"}),n.jsx("span",{className:"sm:hidden",children:"Next"})]}):n.jsx(al,{onClick:$e,disabled:Ne,icon:Ne?n.jsx(_n,{className:"h-4 w-4 animate-spin"}):n.jsx(L0,{className:"h-4 w-4"}),children:Ne?"Creating...":"Create Campaign"})})]})]})})]})}),n.jsx(Pt,{children:E&&n.jsxs(n.Fragment,{children:[n.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:pE,initial:"hidden",animate:"show",exit:"exit",onClick:()=>$(!1)}),n.jsxs(he.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[90vw] md:w-[620px] lg:w-[880px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Campaign details",children:[n.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-3 sm:p-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[n.jsx("button",{onClick:()=>$(!1),className:"grid h-8 w-8 sm:h-9 sm:w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50 flex-shrink-0","aria-label":"Close",children:n.jsx(va,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight truncate",children:["Campaign #",z==null?void 0:z.id]}),n.jsx("p",{className:"text-xs text-slate-600 truncate",children:M0(z==null?void 0:z.name)})]})]}),n.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n.jsx(Wi,{onClick:()=>oe(z.id,z==null?void 0:z.name),icon:n.jsx(pf,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"ICS"})})})]}),n.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(a0,{status:(ae==null?void 0:ae.status)||(Q==null?void 0:Q.status)||(z==null?void 0:z.status)}),n.jsx(v9,{active:!!(ae!=null&&ae.active_now)}),ae!=null&&ae.active_now?n.jsx(Br,{tone:"green",children:"Active now"}):n.jsx(Br,{tone:"amber",children:"Idle"})]}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-xs sm:text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zB,{className:"h-4 w-4 text-slate-500"}),n.jsxs("div",{className:"truncate",children:[n.jsx("span",{className:"text-slate-500",children:"Local:"})," ",n.jsx("span",{className:"font-medium text-slate-800",children:u1((ot=ae==null?void 0:ae.now)==null?void 0:ot.local)||""})]})]}),n.jsxs("div",{className:"truncate",children:[n.jsx("span",{className:"text-slate-500",children:"Window: "}),n.jsxs("span",{className:"font-medium text-slate-800",children:[m1(((Et=ae==null?void 0:ae.window)==null?void 0:Et.days_of_week)??(Q==null?void 0:Q.days_of_week)??(z==null?void 0:z.days_of_week))," "," ",((Rt=ae==null?void 0:ae.window)==null?void 0:Rt.daily_start)||(Q==null?void 0:Q.daily_start)||(z==null?void 0:z.daily_start)||"09:00","",((Er=ae==null?void 0:ae.window)==null?void 0:Er.daily_end)||(Q==null?void 0:Q.daily_end)||(z==null?void 0:z.daily_end)||"18:00"," ","(",(ae==null?void 0:ae.timezone)||(Q==null?void 0:Q.timezone)||(z==null?void 0:z.timezone)||"Local",")"]})]}),n.jsxs("div",{className:"truncate",children:[n.jsx("span",{className:"text-slate-500",children:"Next tick:"})," ",n.jsx("span",{className:"font-medium text-slate-800",children:ae!=null&&ae.next_tick_at?`${mfe(ae.next_tick_at)}  in ${hfe(ae.next_tick_at)}`:""})]})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(gfe,{totals:(ae==null?void 0:ae.totals)||(Q==null?void 0:Q.totals)})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[n.jsxs(he.div,{initial:"hidden",animate:"show",variants:d1,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[n.jsxs(he.div,{variants:xr,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Status"}),n.jsx(a0,{status:(ae==null?void 0:ae.status)||(Q==null?void 0:Q.status)||(z==null?void 0:z.status)})]}),n.jsxs(he.div,{variants:xr,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Window"}),n.jsxs("div",{className:"text-sm text-slate-800",children:[n.jsx("div",{className:"truncate",children:m1(((yn=ae==null?void 0:ae.window)==null?void 0:yn.days_of_week)??(Q==null?void 0:Q.days_of_week)??(z==null?void 0:z.days_of_week))}),n.jsx("div",{className:"text-xs sm:text-sm",children:(((At=ae==null?void 0:ae.window)==null?void 0:At.daily_start)||(Q==null?void 0:Q.daily_start)||(z==null?void 0:z.daily_start)||"09:00")+""+(((sn=ae==null?void 0:ae.window)==null?void 0:sn.daily_end)||(Q==null?void 0:Q.daily_end)||(z==null?void 0:z.daily_end)||"18:00")}),n.jsx("div",{className:"text-xs text-slate-500 truncate",children:(ae==null?void 0:ae.timezone)||(Q==null?void 0:Q.timezone)||(z==null?void 0:z.timezone)||"Local"})]})]}),n.jsxs(he.div,{variants:xr,className:"rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 sm:col-span-2 lg:col-span-1",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Counts"}),n.jsxs("div",{className:"text-sm text-slate-800 grid grid-cols-2 gap-y-1",children:[n.jsxs("div",{children:["Total: ",((Ss=ae==null?void 0:ae.totals)==null?void 0:Ss.total)??((Ao=Q==null?void 0:Q.totals)==null?void 0:Ao.total)??((lm=z==null?void 0:z.counts)==null?void 0:lm.total)??""]}),n.jsxs("div",{children:["Done: ",((om=ae==null?void 0:ae.totals)==null?void 0:om.done)??((Cu=Q==null?void 0:Q.totals)==null?void 0:Cu.done)??((wi=z==null?void 0:z.counts)==null?void 0:wi.completed_or_failed)??""]}),n.jsxs("div",{children:["Calling: ",((To=ae==null?void 0:ae.totals)==null?void 0:To.calling)??""]}),n.jsxs("div",{children:["Retry: ",((_s=ae==null?void 0:ae.totals)==null?void 0:_s.retry)??""]})]})]})]}),n.jsxs(he.div,{initial:"hidden",animate:"show",variants:xr,className:"mt-4 flex flex-wrap items-center gap-2",children:[String((ae==null?void 0:ae.status)||(Q==null?void 0:Q.status)||(z==null?void 0:z.status)).toLowerCase()==="paused"?n.jsx(al,{onClick:()=>on(z.id),icon:n.jsx(Bf,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Resume"})}):n.jsx(al,{onClick:()=>vt(z.id),icon:n.jsx(OU,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Pause"})}),n.jsx(Wi,{onClick:()=>An(z.id),icon:n.jsx(qc,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Stop"})}),n.jsx(Wi,{onClick:()=>Qt(z.id),icon:n.jsx(qe,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Sync Leads"})}),n.jsx(Wi,{onClick:()=>De(z.id),icon:n.jsx(ta,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]}),n.jsxs(he.div,{initial:"hidden",animate:"show",variants:d1,className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsx(he.div,{variants:xr,children:n.jsx(vfe,{details:ae!=null&&ae.window?{...Q,...ae,days_of_week:(ks=ae.window)==null?void 0:ks.days_of_week,daily_start:(ji=ae.window)==null?void 0:ji.daily_start,daily_end:(Cs=ae.window)==null?void 0:Cs.daily_end,timezone:ae.timezone}:Q,onSubmit:ue=>_e(z.id,ue),loading:de})}),n.jsx(he.div,{variants:xr,children:n.jsx(yfe,{details:Q,onSubmit:ue=>nt(z.id,ue),loading:de})})]}),n.jsx(he.div,{initial:"hidden",animate:"show",variants:xr,children:n.jsx(bfe,{onRun:ue=>X(z.id,ue)})})]})]})]})})]})}function bfe({onRun:e}){const[t,a]=g.useState(5);return n.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[n.jsx(wj,{className:"h-4 w-4"})," Run Now"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",min:1,className:"w-24 rounded-xl border border-slate-200 px-3 py-2 text-sm",value:t,onChange:r=>a(Number(r.target.value)||5)}),n.jsx(al,{onClick:()=>e(t),icon:n.jsx(Bf,{className:"h-4 w-4"}),children:"Trigger"})]})]}),n.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Immediately place a small batch of calls (ignores schedule window)."})]})}function vfe({details:e,onSubmit:t,loading:a}){const[r,s]=g.useState({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:t0(e==null?void 0:e.start_at),end_at:t0(e==null?void 0:e.end_at)});g.useEffect(()=>{s({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:t0(e==null?void 0:e.start_at),end_at:t0(e==null?void 0:e.end_at)})},[e]);function l(d){const{name:f,value:m}=d.target;s(h=>({...h,[f]:m}))}function c(d){s(f=>{const h=f.days_of_week.includes(d)?f.days_of_week.filter(x=>x!==d):[...f.days_of_week,d];return h.sort((x,b)=>x-b),{...f,days_of_week:h}})}return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[n.jsx(jj,{className:"h-4 w-4"})," Schedule"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),n.jsx("select",{name:"timezone",value:r.timezone,onChange:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:g9.map(d=>n.jsx("option",{value:d.value,children:d.label},d.value))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(d=>n.jsx("button",{type:"button",onClick:()=>c(d),className:Wr("px-3 py-1.5 rounded-xl border text-sm",r.days_of_week.includes(d)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][d]},d))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ca,{label:"Daily start",name:"daily_start",value:r.daily_start,onChange:l,placeholder:"HH:MM"}),n.jsx(Ca,{label:"Daily end",name:"daily_end",value:r.daily_end,onChange:l,placeholder:"HH:MM"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ca,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:r.start_at,onChange:l}),n.jsx(Ca,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:r.end_at,onChange:l})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(al,{onClick:()=>t(r),disabled:a,children:"Save Schedule"})})]})]})}function yfe({details:e,onSubmit:t,loading:a}){const[r,s]=g.useState({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3});g.useEffect(()=>{s({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3})},[e]);function l(c){const{name:d,value:f,type:m,checked:h}=c.target;s(x=>({...x,[d]:m==="checkbox"?h:f}))}return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[n.jsx(wj,{className:"h-4 w-4"})," Retry Policy"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!r.retry_on_busy,onChange:l}),n.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),n.jsx(Ca,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:r.busy_retry_delay_minutes,onChange:l}),n.jsx(Ca,{label:"Max attempts",name:"max_attempts",value:r.max_attempts,onChange:l}),n.jsx("div",{className:"flex justify-end",children:n.jsx(al,{onClick:()=>t(r),disabled:a,children:"Save Retry Policy"})})]})]})}function wfe({leads:e,mode:t,search:a,selectedIds:r,onChange:s}){const[l,c]=g.useState(1),d=12,f=g.useMemo(()=>{const w=(a||"").toLowerCase().trim();return w?e.filter(j=>`${j.first_name||""} ${j.last_name||""}`.toLowerCase().includes(w)||(j.email||"").toLowerCase().includes(w)||(j.mobile||"").toLowerCase().includes(w)):e},[e,a]),m=Math.max(1,Math.ceil(f.length/d));g.useEffect(()=>{l>m&&c(m)},[l,m]);const h=(l-1)*d,x=h+d,b=f.slice(h,x);function y(w){const j=r.includes(w);s(j?r.filter(S=>S!==w):[...r,w])}return n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[n.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:b.length===0?n.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No leads match your search."}):b.map(w=>{const j=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unknown";return n.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:r.includes(w.id),onChange:()=>y(w.id)}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium text-slate-900 text-sm",children:j}),n.jsx("div",{className:"text-xs text-slate-600 break-all",children:(w.email||"")+"  "+(w.mobile||"")})]}),w.dnc?n.jsx(Br,{tone:"red",children:"DNC"}):n.jsx(Br,{tone:"green",children:"OK"})]},w.id)})}),f.length>d&&n.jsxs("div",{className:"flex items-center justify-between p-2",children:[n.jsxs("span",{className:"text-xs text-slate-600",children:["Showing ",Math.min(x,f.length)," of ",f.length]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Op,{disabled:l<=1,onClick:()=>c(w=>Math.max(1,w-1)),children:[n.jsx(ba,{className:"h-3.5 w-3.5"})," Prev"]}),n.jsxs("span",{className:"text-xs text-slate-700",children:[l,"/",m]}),n.jsxs(Op,{disabled:l>=m,onClick:()=>c(w=>Math.min(m,w+1)),children:["Next ",n.jsx(gn,{className:"h-3.5 w-3.5"})]})]})]}),n.jsxs("div",{className:"p-3 border-t border-slate-200 text-xs text-slate-700",children:["Mode: ",n.jsx("strong",{children:t}),"  Selected: ",n.jsx("strong",{children:r.length})]})]})}function m1(e){const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=new Set(Array.isArray(e)?e:[]);return a.size===5&&[0,1,2,3,4].every(r=>a.has(r))?"MonFri":a.size===7?"Every day":Array.from(a).sort((r,s)=>r-s).map(r=>t[r]||"?").join(", ")}function h1(e,t,a){t(r=>r===e?(a(s=>s==="asc"?"desc":"asc"),r):(a(e==="created_at"?"desc":"asc"),e))}function al({children:e,onClick:t,disabled:a,icon:r,type:s="button"}){return n.jsxs(he.button,{whileHover:a?void 0:{scale:1.02},whileTap:a?void 0:{scale:.98},type:s,onClick:t,disabled:a,className:Wr("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-semibold text-white transition-all duration-200","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)] hover:shadow-[0_12px_32px_-12px_rgba(37,99,235,0.65)]","disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[r,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function Wi({children:e,onClick:t,icon:a,type:r="button",disabled:s}){return n.jsxs(he.button,{whileHover:s?void 0:{scale:1.02},whileTap:s?void 0:{scale:.98},type:r,onClick:t,disabled:s,className:Wr("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl border border-slate-200 bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-medium text-slate-800 ring-1 ring-white/70 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm",s&&"opacity-60 cursor-not-allowed"),children:[a,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function Op({children:e,disabled:t,onClick:a}){return n.jsx(he.button,{whileHover:t?void 0:{scale:1.02},whileTap:t?void 0:{scale:.98},disabled:t,onClick:a,className:Wr("inline-flex items-center gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border px-2.5 sm:px-3.5 py-1.5 sm:py-2 text-xs sm:text-sm transition-all duration-200",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50 hover:shadow-sm"),children:e})}function p1({children:e,sortKey:t,sortBy:a,sortDir:r,onSort:s}){const l=a===t;return n.jsx("th",{className:Wr("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:n.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,n.jsx("span",{className:Wr("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function jfe({rows:e=6,cols:t=6}){return n.jsx(n.Fragment,{children:Array.from({length:e}).map((a,r)=>n.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>n.jsx("td",{className:"px-5 py-3",children:n.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Ca({label:e,name:t,value:a,onChange:r,type:s="text",placeholder:l,className:c}){return n.jsxs("label",{className:Wr("block",c),children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),n.jsx("input",{type:s,name:t,value:a??"",onChange:r,placeholder:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}const x1={};var Uc={};const rs=typeof import.meta<"u"&&"https://aisdr-dbt.ddns.net"||typeof process<"u"&&(Uc==null?void 0:Uc.NEXT_PUBLIC_API_URL)||"http://localhost:8000",ss=typeof import.meta<"u"&&(x1==null?void 0:x1.VITE_API_PREFIX)||typeof process<"u"&&(Uc==null?void 0:Uc.NEXT_PUBLIC_API_PREFIX)||"/api",r0=typeof window<"u"?window.location.origin:"",Nfe="/integrations",g1=["hubspot","ghl","monday"],is={PROVIDERS:`${rs}${ss}/crm/providers`,ACCOUNTS:`${rs}${ss}/crm/accounts`,CONNECT:e=>`${rs}${ss}/crm/connect/${e}`,DISCONNECT:e=>`${rs}${ss}/crm/disconnect/${e}`,ENSURE_FRESH:e=>`${rs}${ss}/crm/ensure-fresh/${e}`,CONTACTS:e=>`${rs}${ss}/crm/${e}/contacts`,MONDAY_LIST_BOARDS:`${rs}${ss}/crm/monday/boards`,MONDAY_GET_BOARD:`${rs}${ss}/crm/monday/board`,MONDAY_SET_BOARD:`${rs}${ss}/crm/monday/board`,MONDAY_CLEAR_BOARD:`${rs}${ss}/crm/monday/board`},Sfe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function ij(...e){return e.filter(Boolean).join(" ")}function _fe(e){if(e)return e.properties&&typeof e.properties=="object"?e.properties.company||e.properties.company_name||e.properties.companyname:e.company||e.organization||e.companyName||e.account||void 0}function fa({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${d[a]} ${t}`,children:e})}function kfe({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Cfe({rows:e=6,cols:t=5}){return n.jsx(n.Fragment,{children:Array.from({length:e}).map((a,r)=>n.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Afe({children:e,onClose:t,title:a}){return n.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(fa,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(va,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function lj({size:e=24}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"2"}),n.jsx("circle",{cx:"12",cy:"12",r:"3.6",fill:"#2563eb"})]})}function Tfe({size:e=24}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",stroke:"#0ea5e9",strokeWidth:"2"}),n.jsx("path",{d:"M7 12h10",stroke:"#0ea5e9",strokeWidth:"2"}),n.jsx("path",{d:"M12 7v10",stroke:"#0ea5e9",strokeWidth:"2"})]})}function Efe({size:e=24}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[n.jsx("circle",{cx:"8.5",cy:"12",r:"3.3",fill:"#f43f5e"}),n.jsx("circle",{cx:"14.5",cy:"12",r:"3.3",fill:"#f59e0b"}),n.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"1.5",opacity:"0.25"})]})}const pc={hubspot:{label:"HubSpot",Mark:lj},ghl:{label:"GHL",Mark:Tfe},monday:{label:"monday.com",Mark:Efe}};function s0({label:e,value:t,Icon:a,tone:r="blue",valueClassName:s=""}){const l=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl pointer-events-none",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${c} text-white shadow-inner ring-1 ${l} shrink-0`,children:n.jsx(a,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:ij("text-base sm:text-xl font-extrabold text-slate-900 truncate","min-w-0 max-w-full break-words",s),title:typeof t=="string"?t:void 0,children:t})]})]})]})}function vE({name:e="",size:t=38}){const a=(e||"?").split(" ").filter(Boolean).map(r=>r[0]).join("").slice(0,2).toUpperCase();return n.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:t,height:t},children:n.jsx("span",{style:{fontSize:t<40?12:13},children:a||"?"})})}function Pfe(){var Pe,Ze,Qe;const e=g.useRef(typeof window<"u"&&window.localStorage.getItem("token")||null),[t,a]=g.useState([]),[r,s]=g.useState([]),[l,c]=g.useState(!0),[d,f]=g.useState(!1),[m,h]=g.useState("hubspot"),[x,b]=g.useState(25),[y,w]=g.useState([]),[j,S]=g.useState(null),[k,_]=g.useState({}),[C,P]=g.useState(""),[A,T]=g.useState(!1),[R,O]=g.useState(!1),[V,K]=g.useState(!1),[F,L]=g.useState([]),[te,Ne]=g.useState(""),[re,D]=g.useState(null),[Y,H]=g.useState(null),[B,E]=g.useState(null),$=g.useMemo(()=>{const je={};for(const $e of r)je[$e.crm]=$e;return je},[r]),z=!!$[m],W=$[m],de=!!$.monday,J=de&&B&&typeof B.board_id<"u"&&B.board_id!==null,Q=g.useCallback(async(je,$e={})=>{if(!e.current)throw new Error("No token");const Ie={Accept:"application/json",...$e.headers||{},Authorization:`Bearer ${e.current}`};return $e.body&&!Ie["Content-Type"]&&(Ie["Content-Type"]="application/json"),await fetch(je,{...$e,headers:Ie})},[]),Se=g.useCallback(async()=>{try{const $e=await(await Q(is.PROVIDERS)).json(),ze=(Array.isArray($e)?$e:[]).filter(Be=>g1.includes(Be==null?void 0:Be.name));a(ze),!ze.find(Be=>Be.name===m)&&ze[0]&&h(ze[0].name)}catch(je){console.error(je),a([]),I.error("Failed to fetch providers")}},[Q,m]),ae=g.useCallback(async()=>{var je;try{const Ie=await(await Q(is.ACCOUNTS)).json(),ze=Array.isArray(Ie)?Ie:[];s(ze.filter(ct=>g1.includes(ct==null?void 0:ct.crm)));const Be=ze.find(ct=>ct.crm==="monday");if((je=Be==null?void 0:Be.metadata)!=null&&je.monday){const ct=Be.metadata.monday;ct.board_id?(E({board_id:ct.board_id,board_name:ct.board_name}),D(ct.board_id),H(ct.board_name||null)):E({board_id:null,board_name:null})}else Be||E(null)}catch($e){console.error($e),s([]),I.error("Failed to fetch accounts")}},[Q]);async function be(){var je;if(de)try{const Ie=await(await Q(is.MONDAY_GET_BOARD)).json(),ze=(Ie==null?void 0:Ie.selected)??null,Be=((je=Ie==null?void 0:Ie.meta)==null?void 0:je.board_name)??null;E(ze?{board_id:ze,board_name:Be}:{board_id:null,board_name:null}),ze&&(D(ze),H(Be))}catch($e){console.error("Fetch selected board failed",$e)}}g.useEffect(()=>{(async()=>{if(!e.current){I.error("No auth token found. Please log in."),c(!1);return}try{await Promise.all([Se(),ae()])}finally{c(!1)}})()},[Se,ae]),g.useEffect(()=>{const je=new URLSearchParams(window.location.search),$e=je.get("status"),Ie=je.get("crm");if($e&&window.opener){try{window.opener.postMessage({type:"crm-oauth",status:$e,crm:Ie},r0)}catch{}window.close()}},[]),g.useEffect(()=>{function je($e){var ze;if($e.origin!==r0)return;const Ie=$e.data||{};if(Ie.type==="crm-oauth"){const Be=Ie.crm||m;Ie.status==="success"?(I.success(`${(((ze=pc[Be])==null?void 0:ze.label)||Be).toUpperCase()} connected`),Be==="monday"?ae().then(be):ae()):(I.error(`OAuth error: ${Ie.status||"unknown"}`),ae()),f(!1)}}return window.addEventListener("message",je),()=>window.removeEventListener("message",je)},[ae,m]),g.useEffect(()=>{m==="monday"&&de&&be()},[m,de]);async function Ce(je){try{f(!0);const $e={redirect_to:`${r0}${Nfe}`},Ie=await Q(is.CONNECT(je),{method:"POST",body:JSON.stringify($e)}),ze=await Ie.json();if(!Ie.ok||!(ze!=null&&ze.auth_url))throw new Error((ze==null?void 0:ze.detail)||"Failed to start OAuth");const Be=ze.auth_url,ct=680,vt=760,on=window.screenX+Math.max(0,(window.outerWidth-ct)/2),An=window.screenY+Math.max(0,(window.outerHeight-vt)/2),Qt=window.open(Be,"crm-oauth",`width=${ct},height=${vt},left=${on},top=${An}`);if(!Qt){window.location.href=Be;return}const De=Date.now(),X=setInterval(async()=>{(Qt.closed||Date.now()-De>12e4)&&(clearInterval(X),await ae(),f(!1))},2e3)}catch($e){console.error($e),I.error(($e==null?void 0:$e.message)||"OAuth failed to start"),f(!1)}}async function ke(je){try{const $e=await Q(is.ENSURE_FRESH(je),{method:"POST"}),Ie=await $e.json().catch(()=>({}));if(!$e.ok||(Ie==null?void 0:Ie.success)===!1)throw new Error((Ie==null?void 0:Ie.detail)||`HTTP ${$e.status}`);I.success("Token refreshed"),await ae()}catch($e){console.error($e),I.error(($e==null?void 0:$e.message)||"Refresh failed")}}async function pe(je){var $e;if(confirm(`Disconnect ${(($e=pc[je])==null?void 0:$e.label)||je}?`))try{const Ie=await Q(is.DISCONNECT(je),{method:"DELETE"}),ze=await Ie.json().catch(()=>({}));if(!Ie.ok||(ze==null?void 0:ze.success)===!1)throw new Error((ze==null?void 0:ze.detail)||`HTTP ${Ie.status}`);I.success((ze==null?void 0:ze.message)||"Disconnected"),await ae(),je==="monday"&&(E(null),L([]),D(null),H(null)),je===m&&(w([]),S(null),_({}))}catch(Ie){console.error(Ie),I.error((Ie==null?void 0:Ie.message)||"Disconnect failed")}}async function Ue(){if(!de){I.info("Connect monday.com first");return}O(!0),await Ve(te)}async function Ve(je){try{K(!0);const $e=je?`?search=${encodeURIComponent(je)}`:"",ze=await(await Q(`${is.MONDAY_LIST_BOARDS}${$e}`)).json(),Be=Array.isArray(ze==null?void 0:ze.items)?ze.items:[];L(Be);const ct=(ze==null?void 0:ze.selected_board_id)||(ze==null?void 0:ze.selected)||null;if(ct){D(ct);const vt=Be.find(on=>String(on.id)===String(ct));H((vt==null?void 0:vt.name)||null)}}catch($e){console.error($e),I.error("Failed to load boards")}finally{K(!1)}}async function we(){var je,$e;if(!re){I.info("Please select a board");return}try{const Ie={board_id:Number(re),board_name:Y||void 0},ze=await Q(is.MONDAY_SET_BOARD,{method:"POST",body:JSON.stringify(Ie)}),Be=await ze.json();if(!ze.ok||(Be==null?void 0:Be.success)===!1)throw new Error((Be==null?void 0:Be.detail)||`HTTP ${ze.status}`);E({board_id:((je=Be.selected)==null?void 0:je.board_id)??Number(re),board_name:(($e=Be.selected)==null?void 0:$e.board_name)??Y??null}),I.success("Board selected"),O(!1),await ae(),m==="monday"&&await ie(!0)}catch(Ie){console.error(Ie),I.error((Ie==null?void 0:Ie.message)||"Failed to save board")}}async function q(){try{const je=await Q(is.MONDAY_CLEAR_BOARD,{method:"DELETE"}),$e=await je.json();if(!je.ok||($e==null?void 0:$e.success)===!1)throw new Error(($e==null?void 0:$e.detail)||`HTTP ${je.status}`);E({board_id:null,board_name:null}),D(null),H(null),I.success("Board cleared"),w([]),S(null),_({})}catch(je){console.error(je),I.error((je==null?void 0:je.message)||"Failed to clear board")}}async function ie(je=!1){var $e,Ie;if(!z){I.info(`Connect ${(($e=pc[m])==null?void 0:$e.label)||m} first`);return}try{T(!0);const ze=new URLSearchParams({limit:String(x||25)});let Be=`${is.CONTACTS(m)}?${ze.toString()}`;!je&&j&&(Be+=`&cursor=${encodeURIComponent(j)}`);const ct=await Q(Be),vt=await ct.json();if(m==="monday"&&ct.status===409&&((Ie=vt==null?void 0:vt.detail)!=null&&Ie.needs_board_selection)){I.info("Please choose your Monday board"),O(!0),await Ve(te),T(!1);return}if(!ct.ok)throw new Error((vt==null?void 0:vt.detail)||`HTTP ${ct.status}`);const on=((vt==null?void 0:vt.items)||[]).map(Qt=>({...Qt,company:Qt.company||_fe(Qt.raw)})),An=(vt==null?void 0:vt.next_cursor)||null;w(Qt=>je?on:[...Qt,...on]),S(An),_((vt==null?void 0:vt.raw_paging)||{})}catch(ze){console.error(ze);const Be=String((ze==null?void 0:ze.message)||"");Be.includes("Invalid paging token")?(I.error("Invalid/expired cursor; starting over."),S(null)):I.error(Be||"Fetch failed")}finally{T(!1)}}const G=g.useMemo(()=>{const je=C.trim().toLowerCase();return je?y.filter($e=>{const Ie=($e.name||"").toLowerCase(),ze=($e.email||"").toLowerCase(),Be=($e.phone||"").toLowerCase(),ct=($e.company||"").toLowerCase();return Ie.includes(je)||ze.includes(je)||Be.includes(je)||ct.includes(je)}):y},[y,C]),xe=((Pe=pc[m])==null?void 0:Pe.Mark)||lj,Ae=((Ze=pc[m])==null?void 0:Ze.label)||m,Le=m==="monday"&&z&&!J;return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-5 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(xe,{size:24})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight leading-tight truncate",children:n.jsxs("span",{className:`bg-clip-text text-transparent ${Sfe}`,children:["CRM Integrations  ",Ae]})}),n.jsx("p",{className:"text-[11px] sm:text-xs md:text-sm text-slate-600",children:"Connect your CRM and browse Contacts directly in your app."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[z?n.jsxs(n.Fragment,{children:[n.jsxs(fa,{onClick:()=>ke(m),size:"sm",children:[n.jsx(Nj,{className:"mr-2 h-4 w-4"}),"Ensure Fresh"]}),m==="monday"&&n.jsxs(fa,{onClick:Ue,size:"sm",variant:"subtle",children:[n.jsx(Yb,{className:"mr-2 h-4 w-4"}),J?"Change Board":"Choose Board"]}),n.jsxs(fa,{onClick:()=>pe(m),variant:"danger",size:"sm",children:[n.jsx(_F,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):n.jsx(fa,{onClick:()=>Ce(m),variant:"primary",disabled:d,size:"sm",children:d?n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting"]}):n.jsxs(n.Fragment,{children:[n.jsx(xs,{className:"mr-2 h-4 w-4"}),"Connect"]})}),n.jsxs(fa,{onClick:()=>{Se(),ae()},size:"sm",children:[n.jsx(qe,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),n.jsx("div",{className:"relative z-10 mt-4 flex flex-wrap gap-2",children:t.filter(je=>g1.includes(je.name)).map(je=>{var ze;const $e=((ze=pc[je.name])==null?void 0:ze.Mark)||lj,Ie=!!$[je.name];return n.jsxs("button",{onClick:()=>{h(je.name),w([]),S(null),_({})},className:ij("flex items-center gap-2 rounded-xl border px-3 py-1.5 text-xs font-semibold focus:outline-none","transition-colors",je.name===m?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),title:je.name,children:[n.jsx($e,{size:16}),n.jsx("span",{className:"capitalize",children:je.name}),Ie?n.jsx("span",{className:"ml-1 text-emerald-600",children:""}):n.jsx("span",{className:"ml-1 text-slate-300",children:""})]},je.name)})}),!z&&(((Qe=t.find(je=>je.name===m))==null?void 0:Qe.type)||"oauth")==="oauth"&&n.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 text-[11px] sm:text-[12px] text-slate-500",children:[n.jsx(wr,{className:"h-4 w-4 mt-0.5 text-slate-400 shrink-0"}),n.jsxs("span",{className:"min-w-0",children:["Ensure backend env ",n.jsx("code",{children:"ALLOWED_REDIRECT_ORIGINS"})," includes"," ",n.jsx("code",{className:"break-all",children:r0}),"."]})]}),Le&&n.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2",children:[n.jsx(Yb,{className:"h-4 w-4 text-amber-600 mt-0.5"}),n.jsxs("div",{className:"text-[12px] sm:text-sm text-amber-800",children:["Select a Monday board to view your leads.",n.jsx(fa,{onClick:Ue,size:"sm",className:"ml-2",variant:"outline",children:"Choose Board"})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(s0,{label:"Connection",value:z?"Connected":"Not connected",Icon:z?Mn:Nr,tone:z?"blue":"cyan"}),n.jsx(s0,{label:"Contacts Loaded",value:y.length,Icon:ha,tone:"cyan"}),n.jsx(s0,{label:"Next Cursor",value:j?String(j).slice(0,10)+"":"",Icon:Dc,tone:"blue"}),n.jsx(s0,{label:m==="monday"?"Monday Board":"Account",value:m==="monday"?(B==null?void 0:B.board_name)||(J?`#${B.board_id}`:"Not selected"):(W==null?void 0:W.external_account_name)||"",Icon:m==="monday"?Yb:ul,tone:"cyan",valueClassName:"truncate break-all max-w-[14ch] sm:max-w-[24ch] md:max-w-[28ch] xl:max-w-[32ch]"})]}),n.jsxs("div",{className:"mt-5 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-3 sm:px-5 py-3 border-b border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ea,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:C,onChange:je=>P(je.target.value),placeholder:"Search by name, email, phone, company",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(Dc,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Data"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("select",{value:x,onChange:je=>b(Number(je.target.value)||25),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(je=>n.jsxs("option",{value:je,children:[je," / page"]},je))}),n.jsxs(fa,{onClick:()=>ie(!0),disabled:!z||m==="monday"&&!J,variant:"primary",size:"sm",children:[n.jsx(vj,{className:"mr-2 h-4 w-4"}),"Fetch"]}),n.jsxs(fa,{onClick:()=>ie(!1),disabled:!z||!j,size:"sm",children:[n.jsx(gn,{className:"mr-2 h-4 w-4"}),"Load more"]})]})]}),A?n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(ls,{children:"Name"}),n.jsx(ls,{children:"Email"}),n.jsx(ls,{children:"Phone"}),n.jsx(ls,{children:"Company"}),n.jsx(ls,{children:"ID"})]})}),n.jsx("tbody",{children:n.jsx(Cfe,{rows:6,cols:5})})]})})}):G.length===0?n.jsxs("div",{className:"grid place-content-center py-14 px-4",children:[n.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-slate-100 mb-3",children:n.jsx(Dc,{className:"h-8 w-8 text-slate-400"})}),n.jsx("div",{className:"text-sm sm:text-base font-semibold text-slate-700",children:"No data"}),n.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Click ",n.jsx("b",{children:"Fetch"})," to load contacts."]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(ls,{children:"Name"}),n.jsx(ls,{children:"Email"}),n.jsx(ls,{children:"Phone"}),n.jsx(ls,{children:"Company"}),n.jsx(ls,{children:"ID"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:G.map(je=>n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(Rd,{children:n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(vE,{name:je.name}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:je.name||""}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID ",je.id]})]})]})}),n.jsx(Rd,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[n.jsx(Pa,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"text-xs font-medium break-words",children:je.email||""})]})}),n.jsx(Rd,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[n.jsx(ht,{className:"h-3.5 w-3.5 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium",children:je.phone||""})]})}),n.jsx(Rd,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[n.jsx(a3,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"text-xs font-medium truncate max-w-[240px]",children:je.company||""})]})}),n.jsx(Rd,{children:n.jsx("code",{className:"text-[11px] text-slate-500 break-all",children:je.id})})]},`${je.id}-${je.email||je.name||"row"}`))})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:G.map((je,$e)=>n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[$e===0&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),n.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[n.jsx(vE,{name:je.name,size:44}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:je.name||""}),n.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-[12px] sm:text-sm text-slate-600 min-w-0",children:[n.jsx(Pa,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("span",{className:"truncate break-words",children:je.email||""})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-slate-700",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px]",children:[n.jsx(ht,{className:"h-3.5 w-3.5 text-slate-500"}),je.phone||""]}),n.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] min-w-0",children:[n.jsx(a3,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"truncate max-w-[160px] sm:max-w-[200px]",children:je.company||""})]})]})]})]}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID ",je.id]})]},`${je.id}-${je.email||je.name||"card"}`))})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-3 sm:px-5 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 min-w-0",children:["Next cursor:"," ",n.jsx("b",{className:"font-mono break-all",children:String(j||"")})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(fa,{onClick:()=>ie(!0),disabled:!z||m==="monday"&&!J,size:"sm",children:[n.jsx(ba,{className:"h-4 w-4 mr-1"}),"Reset"]}),n.jsxs(fa,{onClick:()=>ie(!1),disabled:!z||!j,variant:"primary",size:"sm",children:["Load more ",n.jsx(gn,{className:"h-4 w-4 ml-1"})]})]})]}),Object.keys(k||{}).length>0&&n.jsx("div",{className:"hidden sm:block px-4 sm:px-6 py-4",children:n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Provider paging (raw)"}),n.jsx("div",{className:"max-w-full overflow-x-auto",children:n.jsx("pre",{className:"text-[11px] text-slate-600 min-w-0",children:JSON.stringify(k,null,2)})})]})})]})]}),n.jsx(Pt,{children:R&&n.jsx(Afe,{title:"Select your Monday Board",onClose:()=>O(!1),children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"text-[12px] text-slate-600",children:["Pick a board to use as your ",n.jsx("b",{children:"Leads"})," source. Youll only see items you own (via People/Owner column) or created, based on backend config."]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ea,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:te,onChange:je=>Ne(je.target.value),placeholder:"Search boards by name",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",onKeyDown:je=>{je.key==="Enter"&&Ve(te)}})]}),n.jsxs(fa,{onClick:()=>Ve(te),size:"sm",children:[n.jsx(qe,{className:"h-4 w-4 mr-1"}),"Search"]})]}),n.jsx("div",{className:"rounded-2xl border border-slate-200",children:n.jsx("div",{className:"max-h-[46vh] overflow-y-auto p-2",children:V?n.jsxs("div",{className:"flex items-center justify-center py-8 text-slate-500",children:[n.jsx(_n,{className:"h-5 w-5 animate-spin mr-2"}),"Loading boards"]}):F.length===0?n.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No boards found."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:F.map(je=>{const $e=String(re)===String(je.id);return n.jsxs("button",{onClick:()=>{D(je.id),H(je.name||null)},className:ij("text-left rounded-xl border px-3 py-2 transition-colors",$e?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"),children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:je.name||`Board ${je.id}`}),$e&&n.jsx(kfe,{className:"bg-blue-600 text-white",children:"Selected"})]}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID: ",n.jsx("code",{className:"font-mono",children:je.id})]})]},je.id)})})})}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{className:"text-[12px] text-slate-500",children:["Current:"," ",n.jsx("b",{children:B!=null&&B.board_name?B.board_name:B!=null&&B.board_id?`#${B.board_id}`:"None"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fa,{onClick:()=>O(!1),size:"sm",children:"Cancel"}),n.jsx(fa,{onClick:q,size:"sm",variant:"subtle",children:"Clear"}),n.jsx(fa,{onClick:we,size:"sm",variant:"primary",children:"Save"})]})]})]})})})]})}function ls({children:e}){return n.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Rd({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}const i0="https://aisdr-dbt.ddns.net",b1={LIST:`${i0}/api/appointments`,CREATE:`${i0}/api/appointments/tool/schedule`,DETAIL:e=>`${i0}/api/appointments/${e}`,UPDATE:e=>`${i0}/api/appointments/${e}`},Ofe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Ur({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${d[a]} ${t}`,children:e})}function yE({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function xc({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function gc({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Xi({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function y9({children:e,onClose:t,title:a}){return n.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Ur,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(va,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}const Mc=e=>{switch(String(e||"").toLowerCase()){case"scheduled":return{badge:"border-amber-200 bg-amber-50 text-amber-700",icon:z1};case"completed":return{badge:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:Mn};case"cancelled":case"canceled":return{badge:"border-red-200 bg-red-50 text-red-700",icon:Nr};default:return{badge:"border-slate-200 bg-slate-50 text-slate-700",icon:z1}}};function oj(e){try{const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return e}}function Mfe(e){const t=String(e||"").trim().toLowerCase();if(!t)return"";if(t==="noon")return"12:00";if(t==="midnight")return"00:00";const a=t.match(/(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)/i);if(a){let s=parseInt(a[1]);const l=parseInt(a[2]||"0"),c=(a[3]||"").toLowerCase();return c==="pm"&&s<12&&(s+=12),c==="am"&&s===12&&(s=0),`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}const r=t.match(/^(\d{1,2})(?::(\d{1,2}))?$/);if(r){let s=parseInt(r[1]);const l=parseInt(r[2]||"0");if(s<=24&&l<=59)return`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return t}function Dfe(e){const t=String(e||"").trim();if(!t)return"";const a=t.startsWith("+")?"+":"",r=t.replace(/\D+/g,"");return a+r}function Rfe(){const[e,t]=g.useState([]),[a,r]=g.useState(!1),[s,l]=g.useState(""),[c,d]=g.useState(""),[f,m]=g.useState("all"),[h,x]=g.useState(""),[b,y]=g.useState(""),[w,j]=g.useState(1),S=10,[k,_]=g.useState(!1),[C,P]=g.useState(!1),[A,T]=g.useState({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),[R,O]=g.useState(null),V=typeof window<"u"?localStorage.getItem("token"):null,K=g.useCallback(async()=>{try{r(!0),l("");const B=await fetch(b1.LIST,{headers:{Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},mode:"cors"});if(!B.ok)throw new Error(`HTTP ${B.status}`);const E=await B.json(),z=(Array.isArray(E)?E:(E==null?void 0:E.appointments)||[]).map(W=>({id:W.id,title:W.title,notes:W.notes,location:W.location,phone:W.phone,timezone:W.timezone,start_at:W.start_at,end_at:W.end_at,duration_minutes:W.duration_minutes,status:W.status,created_at:W.created_at,updated_at:W.updated_at}));z.sort((W,de)=>new Date(de.start_at)-new Date(W.start_at)),t(z)}catch(B){l((B==null?void 0:B.message)||"Failed to load appointments"),I.error((B==null?void 0:B.message)||"Failed to load appointments")}finally{r(!1)}},[V]);g.useEffect(()=>{K()},[K]);const F=g.useMemo(()=>{let B=[...e];if(c.trim()){const E=c.trim().toLowerCase();B=B.filter($=>[$.title,$.location,$.phone,$.notes].map(z=>String(z||"").toLowerCase()).some(z=>z.includes(E)))}if(f!=="all"&&(B=B.filter(E=>String(E.status).toLowerCase()===f)),h){const E=new Date(`${h}T00:00:00`);B=B.filter($=>new Date($.start_at)>=E)}if(b){const E=new Date(`${b}T23:59:59`);B=B.filter($=>new Date($.start_at)<=E)}return B},[e,c,f,h,b]),L=Math.max(1,Math.ceil(F.length/S)),te=w*S,Ne=te-S,re=F.slice(Ne,te);g.useEffect(()=>j(1),[c,f,h,b]);const D=g.useMemo(()=>{const B=e.length,E=e.filter(W=>W.status==="scheduled").length,$=e.filter(W=>W.status==="completed").length,z=e.filter(W=>String(W.status).toLowerCase().startsWith("cancel")).length;return{total:B,scheduled:E,completed:$,cancelled:z}},[e]);async function Y(B,E){try{O(B);const $=await fetch(b1.UPDATE(B),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},body:JSON.stringify({status:E})});if(!$.ok){const z=await $.text();throw new Error(`HTTP ${$.status}${z?`  ${z}`:""}`)}I.success(`Status set to ${E}`),t(z=>z.map(W=>W.id===B?{...W,status:E}:W))}catch($){I.error(($==null?void 0:$.message)||"Failed to update status")}finally{O(null)}}async function H(){const B={title:String(A.title||"").trim(),date:String(A.date||"").trim(),time:Mfe(A.time),timezone:String(A.timezone||"Asia/Karachi").trim(),durationMinutes:Math.max(1,parseInt(A.durationMinutes||30)),phone:Dfe(A.phone),location:String(A.location||"").trim(),notes:String(A.notes||"").trim()};if(!B.title)return I.error("Title is required");if(!B.date)return I.error("Date is required");if(!B.time||!/^\d{2}:\d{2}$/.test(B.time))return I.error("Time looks invalid");if(!B.location)return I.error("Location is required");if(!B.phone||B.phone.replace(/\D/g,"").length<11)return I.error("Phone looks invalid");try{P(!0);const E=await fetch(b1.CREATE,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},body:JSON.stringify(B)});if(!E.ok){const z=await E.text();throw new Error(`HTTP ${E.status}${z?`  ${z}`:""}`)}const $=await E.json();I.success(" Appointment created"),_(!1),T({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),t(z=>[{id:$.id||crypto.randomUUID(),title:$.title||B.title,notes:$.notes||B.notes,location:$.location||B.location,phone:$.phone||B.phone,timezone:$.timezone||B.timezone,start_at:$.start_at||`${B.date}T${B.time}`,end_at:$.end_at||`${B.date}T${B.time}`,duration_minutes:$.duration_minutes||B.durationMinutes,status:$.status||"scheduled",created_at:$.created_at||new Date().toISOString(),updated_at:$.updated_at||new Date().toISOString()},...z])}catch(E){I.error((E==null?void 0:E.message)||"Failed to create appointment")}finally{P(!1)}}return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Kr,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${Ofe}`,children:"Appointments"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create, track, and update appointment statuses."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(Ur,{onClick:()=>_(!0),variant:"primary",children:[n.jsx(Sr,{className:"mr-2 h-4 w-4"})," New Appointment"]}),n.jsx(Ur,{onClick:K,children:a?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(l0,{label:"Total",value:D.total,Icon:Kr,tone:"blue"}),n.jsx(l0,{label:"Scheduled",value:D.scheduled,Icon:z1,tone:"cyan"}),n.jsx(l0,{label:"Completed",value:D.completed,Icon:Mn,tone:"blue"}),n.jsx(l0,{label:"Cancelled",value:D.cancelled,Icon:Nr,tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ea,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:c,onChange:B=>d(B.target.value),placeholder:"Search title, phone, location, notes",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(du,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:f,onChange:B=>m(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsx("input",{type:"date",value:h,onChange:B=>x(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),n.jsx("input",{type:"date",value:b,onChange:B=>y(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),(c||f!=="all"||h||b)&&n.jsx(Ur,{onClick:()=>{d(""),m("all"),x(""),y("")},className:"text-slate-700",children:"Clear"})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(Kr,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Appointments (",F.length,")"]})]}),a&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx(qe,{className:"h-4 w-4 animate-spin"}),"Loading"]})]}),s?n.jsx("div",{className:"p-6 text-sm text-red-600",children:s}):F.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(Kr,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No appointments"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try changing filters or create a new one"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(xc,{children:"Title"}),n.jsx(xc,{children:"When"}),n.jsx(xc,{children:"Location"}),n.jsx(xc,{children:"Phone"}),n.jsx(xc,{children:"Status"}),n.jsx(xc,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:re.map(B=>{const E=Mc(B.status),$=E.icon;return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(gc,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:B.title}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",B.id]})]})}),n.jsx(gc,{children:n.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[n.jsx(cl,{className:"h-4 w-4 text-slate-500"})," ",oj(B.start_at)]})}),n.jsx(gc,{children:n.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[n.jsx(ii,{className:"h-4 w-4 text-slate-500"})," ",B.location||""]})}),n.jsx(gc,{children:n.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[n.jsx(ht,{className:"h-4 w-4 text-slate-500"})," ",B.phone]})}),n.jsx(gc,{children:n.jsxs(yE,{className:`border ${E.badge}`,children:[n.jsx($,{className:"mr-1 h-3.5 w-3.5"})," ",String(B.status).charAt(0).toUpperCase()+String(B.status).slice(1)]})}),n.jsx(gc,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(wE,{current:B.status,onChange:z=>Y(B.id,z),busy:R===B.id}),n.jsx(jE,{a:B})]})})]},B.id)})})]})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:re.map(B=>{const E=Mc(B.status),$=E.icon;return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:B.title}),n.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[n.jsx(cl,{className:"h-4 w-4 text-slate-500"})," ",oj(B.start_at)]}),n.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[n.jsx(ii,{className:"h-4 w-4 text-slate-500"})," ",B.location||""]}),n.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[n.jsx(ht,{className:"h-4 w-4 text-slate-500"})," ",B.phone]})]}),n.jsxs(yE,{className:`border ${E.badge} shrink-0`,children:[n.jsx($,{className:"mr-1 h-3.5 w-3.5"})," ",String(B.status).charAt(0).toUpperCase()+String(B.status).slice(1)]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx(wE,{current:B.status,onChange:z=>Y(B.id,z),busy:R===B.id}),n.jsx(jE,{a:B})]}),n.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 break-all",children:["ID #",B.id]})]},B.id)})})}),F.length>S&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:Ne+1}),"",n.jsx("b",{children:Math.min(te,F.length)})," of ",n.jsx("b",{children:F.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Ur,{onClick:()=>j(B=>Math.max(1,B-1)),disabled:w===1,children:[n.jsx(ba,{className:"h-4 w-4 mr-1"})," Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,L)},(B,E)=>{let $;if(L<=5||w<=3?$=E+1:w>=L-2?$=L-4+E:$=w-2+E,$<1||$>L)return null;const z=w===$;return n.jsx("button",{onClick:()=>j($),className:`px-3 py-2 text-sm font-semibold rounded-xl ${z?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:$},$)})}),n.jsxs(Ur,{onClick:()=>j(B=>Math.min(L,B+1)),disabled:w>=L,children:["Next ",n.jsx(gn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(Pt,{children:k&&n.jsxs(y9,{onClose:()=>_(!1),title:"New Appointment",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Xi,{label:"Title",children:n.jsx("input",{value:A.title,onChange:B=>T(E=>({...E,title:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Consultation"})}),n.jsx(Xi,{label:"Phone",children:n.jsx("input",{value:A.phone,onChange:B=>T(E=>({...E,phone:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+923001234567"})}),n.jsx(Xi,{label:"Date",children:n.jsx("input",{type:"date",value:A.date,onChange:B=>T(E=>({...E,date:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Xi,{label:"Time",children:n.jsx("input",{value:A.time,onChange:B=>T(E=>({...E,time:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"15:30 or 3:30 PM"})}),n.jsx(Xi,{label:"Location",children:n.jsx("input",{value:A.location,onChange:B=>T(E=>({...E,location:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Clinic, Main St."})}),n.jsx(Xi,{label:"Timezone",children:n.jsx("input",{value:A.timezone,onChange:B=>T(E=>({...E,timezone:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Asia/Karachi"})}),n.jsx(Xi,{label:"Duration (minutes)",children:n.jsx("input",{type:"number",min:1,max:1440,value:A.durationMinutes,onChange:B=>T(E=>({...E,durationMinutes:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Xi,{label:"Notes",children:n.jsx("textarea",{value:A.notes,onChange:B=>T(E=>({...E,notes:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Any extra details",rows:3})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(Ur,{onClick:()=>_(!1),variant:"subtle",children:"Cancel"}),n.jsx(Ur,{onClick:H,disabled:C,variant:"primary",children:C?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"})," Creating"]}):n.jsxs(n.Fragment,{children:[n.jsx(Sr,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})]})}function l0({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function wE({current:e,onChange:t,busy:a}){const[r,s]=g.useState(!1),l=[{k:"scheduled",label:"Mark Scheduled",tone:Mc("scheduled")},{k:"completed",label:"Mark Completed",tone:Mc("completed")},{k:"cancelled",label:"Mark Cancelled",tone:Mc("cancelled")}],d=Mc(e).icon;return n.jsxs("div",{className:"relative",children:[n.jsxs(Ur,{onClick:()=>s(f=>!f),size:"sm",className:"min-w-[150px] justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-slate-800",children:[n.jsx(d,{className:"h-4 w-4"})," ",String(e).charAt(0).toUpperCase()+String(e).slice(1)]}),a?n.jsx(qe,{className:"h-4 w-4 animate-spin"}):n.jsx(gn,{className:"h-4 w-4 opacity-60"})]}),n.jsx(Pt,{children:r&&n.jsx(he.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"absolute z-20 mt-2 w-56 rounded-xl border border-slate-200 bg-white shadow-xl",children:l.map(f=>n.jsxs("button",{onClick:()=>{s(!1),f.k!==e&&t(f.k)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-slate-50",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(f.tone.icon,{className:"h-4 w-4"})," ",f.label]}),String(e)===f.k&&n.jsx(Mn,{className:"h-4 w-4 text-emerald-500"})]},f.k))})})]})}function jE({a:e}){const[t,a]=g.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsxs(Ur,{onClick:()=>a(!0),size:"sm",children:[n.jsx(On,{className:"h-4 w-4 mr-1"})," Details"]}),n.jsx(Pt,{children:t&&n.jsxs(y9,{title:"Appointment Details",onClose:()=>a(!1),children:[n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Title:"})," ",e.title]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cl,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"When:"})," ",oj(e.start_at)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ii,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Location:"})," ",e.location||""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.phone]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cl,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Duration:"})," ",e.duration_minutes," min"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pF,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Notes:"})," ",e.notes||""]}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",e.id]})]}),n.jsx("div",{className:"mt-5 text-right",children:n.jsx(Ur,{onClick:()=>a(!1),variant:"primary",children:"Close"})})]})})]})}const Vs="https://aisdr-dbt.ddns.net",Hs={FORM_COPY_TOKEN:`${Vs}/api/form/copy-token`,FORM_COPY_WEBHOOK:`${Vs}/api/form/copy-webhook-url`,FORM_COPY_SCRIPT:`${Vs}/api/form/copy-script`,FORM_COPY_WP:`${Vs}/api/form/copy-wordpress-plugin`,INTAKE_SCAN:`${Vs}/api/intake/scan`,INTAKE_SUBMISSIONS:`${Vs}/api/intake/submissions`,INTAKE_SUBMISSION_DETAIL:e=>`${Vs}/api/intake/submissions/${encodeURIComponent(e)}`,INTAKE_PROGRESS:`${Vs}/api/intake/progress`,INTAKE_ANALYTICS:`${Vs}/api/intake/analytics`},$fe="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4";async function qs(e){const t=e.headers.get("content-type")||"",a=await e.text();if(!e.ok){const r=(a==null?void 0:a.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${r}`)}if(!a)return{};if(/application\/json/i.test(t))try{return JSON.parse(a)}catch(r){throw new Error(`Invalid JSON: ${(r==null?void 0:r.message)||""}`)}try{return JSON.parse(a)}catch{throw new Error(`Expected JSON but got '${t||"unknown"}'. Body: ${a.slice(0,300)}`)}}function Zi(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),I.success(t)}catch{I.error("Copy failed")}}function Xn({children:e,className:t="",variant:a="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:d}){const f="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",m={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},x=`${f} ${m[r]||m.md} ${h[a]||h.outline} ${t}`;return n.jsx("button",{type:s,className:x,onClick:l,disabled:c,title:d,children:e})}function bc({label:e,hint:t,children:a}){return n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a,t?n.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:t}):null]})}function ds({children:e,className:t=""}){return n.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,children:e})}function Fl({code:e="",lang:t="text",filename:a="",className:r="",maxHeight:s="max-h-[420px]"}){const l=g.useMemo(()=>e.split(`
`),[e]);return n.jsxs("div",{className:["w-full","bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950","border border-slate-200 dark:border-slate-800","rounded-xl",r].join(" "),children:[n.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 dark:bg-slate-900/70 rounded-t-xl",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),n.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 font-mono truncate",children:a||(t?`snippet.${t}`:"snippet.txt")})]}),n.jsxs("div",{className:["relative border-t border-slate-200 dark:border-slate-800","font-mono text-[11px] sm:text-xs md:text-sm","overflow-auto code-scroll","leading-relaxed","px-3 py-2",s].join(" "),style:{scrollbarWidth:"thin"},children:[n.jsx("div",{className:"md:absolute md:inset-y-0 md:left-0 md:w-8 md:border-r md:border-slate-200 md:dark:border-slate-800 md:flex md:flex-col md:items-end md:pt-2 md:px-1 hidden select-none",children:l.map((c,d)=>n.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 leading-relaxed",children:d+1},d))}),n.jsx("pre",{className:"m-0 p-0 md:pl-10 whitespace-pre min-w-full",children:n.jsx("code",{className:"text-slate-800 dark:text-slate-100",children:e})})]}),n.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 dark:border-slate-800 text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 flex justify-between rounded-b-xl",children:[n.jsx("span",{children:"UTF-8"}),n.jsx("span",{className:"capitalize",children:t||"text"}),n.jsxs("span",{children:["Ln ",l.length]})]})]})}function Lfe({url:e}){return n.jsxs(ds,{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Tutorial"}),n.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open video in a new tab",children:[n.jsx(B1,{className:"h-3.5 w-3.5"}),"Open in new tab"]})]}),n.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 overflow-hidden bg-slate-100",children:n.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:n.jsx("video",{controls:!0,playsInline:!0,preload:"metadata",className:"absolute inset-0 h-full w-full object-cover",src:e})})}),n.jsx("p",{className:"mt-2 text-[11px] text-slate-500",children:"Watch inline or open in a new tab. The player scales to the available space and never overflows its card."})]})}function Ife({value:e=0,label:t="",className:a=""}){const r=Math.max(0,Math.min(100,Number(e)||0));return n.jsxs("div",{className:`w-full ${a}`,children:[n.jsxs("div",{className:"flex items-center justify-between text-[11px] mb-1",children:[n.jsx("span",{className:"text-slate-600",children:t}),n.jsxs("span",{className:"font-semibold text-slate-700",children:[r.toFixed(0),"%"]})]}),n.jsx("div",{className:"h-2.5 w-full rounded-full bg-slate-200 overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-blue-600 rounded-full transition-all",style:{width:`${r}%`}})})]})}function o0({label:e,value:t,tone:a="slate"}){const r={slate:"bg-slate-100 text-slate-800 border-slate-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-800 border-amber-200"};return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg border text-xs ${r[a]}`,children:[n.jsx("span",{className:"font-semibold",children:t??0}),n.jsx("span",{className:"opacity-80",children:e})]})}function zfe({dataObj:e}){const t=Object.keys(e||{}).sort(),a=t.map(s=>{var l;return((l=e[s])==null?void 0:l.total)||0}),r=Math.max(1,...a);return n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsx("div",{className:"flex items-end gap-1 h-28",children:t.map(s=>{var d;const l=((d=e[s])==null?void 0:d.total)||0,c=l/r*100;return n.jsxs("div",{className:"flex flex-col items-center w-6",children:[n.jsx("div",{className:"w-4 rounded-t-md bg-blue-500/80",style:{height:`${c}%`},title:`${s}: ${l}`}),n.jsx("div",{className:"text-[9px] text-slate-500 mt-1 truncate w-full text-center",children:s.slice(5)})]},s)})})})}const NE=e=>e?e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase():"",Bfe=e=>{switch(e){case"booked":return"bg-emerald-50 text-emerald-800 border-emerald-200";case"cancelled":return"bg-red-50 text-red-800 border-red-200";default:return"bg-amber-50 text-amber-800 border-amber-200"}};function Ufe(){const[e,t]=g.useState(!1),[a,r]=g.useState(""),[s,l]=g.useState(""),[c,d]=g.useState(""),[f,m]=g.useState(""),[h,x]=g.useState(!0),[b,y]=g.useState("John"),[w,j]=g.useState("Doe"),[S,k]=g.useState("john@example.com"),[_,C]=g.useState("+15551234567"),[P,A]=g.useState(()=>new Date().toISOString().slice(0,10)),[T,R]=g.useState("14:30"),[O,V]=g.useState(!1),[K,F]=g.useState(null),[L,te]=g.useState(!1),[Ne,re]=g.useState(null),[D,Y]=g.useState({total:0,booked:0,cancelled:0,unbooked:0,completion_rate:0}),[H,B]=g.useState(!1),[E,$]=g.useState({}),[z,W]=g.useState(!1),[de,J]=g.useState(!1),[Q,Se]=g.useState([]),[ae,be]=g.useState(0),[Ce,ke]=g.useState(""),[pe,Ue]=g.useState(0),Ve=10,[we,q]=g.useState(null),[ie,G]=g.useState(!1),xe=g.useMemo(()=>a?h?a.length<=12?"":`${a.slice(0,6)}${a.slice(-4)}`:a:"",[a,h]),Ae=g.useCallback(()=>{const De=localStorage.getItem("token");if(!De)throw I.error("No authentication token found."),new Error("Missing auth token");return{Authorization:`Bearer ${De}`,Accept:"application/json"}},[]),Le=g.useCallback(async()=>{t(!0);try{{const De=await fetch(Hs.FORM_COPY_TOKEN,{headers:Ae(),mode:"cors"}),X=await qs(De);if(!(X!=null&&X.success))throw new Error((X==null?void 0:X.detail)||"Failed to fetch token");r(X.token||"")}{const De=await fetch(Hs.FORM_COPY_WEBHOOK,{headers:Ae(),mode:"cors"}),X=await qs(De);if(!(X!=null&&X.success))throw new Error((X==null?void 0:X.detail)||"Failed to fetch webhook URL");l(X.webhook_url||"")}{const De=await fetch(Hs.FORM_COPY_SCRIPT,{headers:Ae(),mode:"cors"}),X=await qs(De);if(!(X!=null&&X.success))throw new Error((X==null?void 0:X.detail)||"Failed to fetch script");d(X.script||"")}{const De=await fetch(Hs.FORM_COPY_WP,{headers:Ae(),mode:"cors"}),X=await qs(De);if(!(X!=null&&X.success))throw new Error((X==null?void 0:X.detail)||"Failed to fetch plugin");m(X.wordpress_plugin||"")}}catch(De){I.error((De==null?void 0:De.message)||"Failed to load")}finally{t(!1)}},[Ae]),Pe=g.useCallback(async()=>{B(!0);try{const De=await fetch(Hs.INTAKE_PROGRESS,{headers:Ae(),mode:"cors"}),X=await qs(De);X!=null&&X.ok&&Y(X.progress||{})}catch(De){I.error((De==null?void 0:De.message)||"Failed to load progress")}finally{B(!1)}},[Ae]),Ze=g.useCallback(async()=>{W(!0);try{const De=await fetch(Hs.INTAKE_ANALYTICS,{headers:Ae(),mode:"cors"}),X=await qs(De);X!=null&&X.ok&&$(X.analytics||{})}catch(De){I.error((De==null?void 0:De.message)||"Failed to load analytics")}finally{W(!1)}},[Ae]),Qe=g.useCallback(async()=>{J(!0);try{const De=new URL(Hs.INTAKE_SUBMISSIONS);Ce&&De.searchParams.set("status",Ce),De.searchParams.set("limit",String(Ve)),De.searchParams.set("offset",String(pe*Ve));const X=await fetch(De.toString(),{headers:Ae(),mode:"cors"}),_e=await qs(X);_e!=null&&_e.ok&&(Se(_e.items||[]),be(_e.total||0))}catch(De){I.error((De==null?void 0:De.message)||"Failed to load submissions")}finally{J(!1)}},[Ae,Ce,pe]),je=g.useCallback(async De=>{G(!0);try{const X=await fetch(Hs.INTAKE_SUBMISSION_DETAIL(De),{headers:Ae(),mode:"cors"}),_e=await qs(X);_e!=null&&_e.ok&&q(_e.submission||null)}catch(X){I.error((X==null?void 0:X.message)||"Failed to load detail")}finally{G(!1)}},[Ae]);g.useEffect(()=>{Le().catch(()=>{})},[Le]),g.useEffect(()=>{Pe().catch(()=>{}),Ze().catch(()=>{})},[Pe,Ze]),g.useEffect(()=>{Qe().catch(()=>{})},[Qe]);const $e=g.useMemo(()=>({form:{first_name:b,last_name:w,email:S,phone:_,date:P,time:T},meta:{source:"FormConnection-Test",sent_at:new Date().toISOString()}}),[b,w,S,_,P,T]),Ie=async()=>{if(!s)return I.error("Webhook URL not loaded yet.");V(!0),F(null);try{const De=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($e)}),X=await De.text();let _e;try{_e=JSON.parse(X)}catch{_e={raw:X}}F(_e),De.ok?I.success(" Test submitted to webhook"):I.error(`Webhook responded with HTTP ${De.status}`)}catch(De){I.error((De==null?void 0:De.message)||"Test submit failed")}finally{V(!1)}},ze=async()=>{te(!0),re(null);try{const De=await fetch(Hs.INTAKE_SCAN,{method:"POST",headers:{...Ae(),"Content-Type":"application/json"}}),X=await qs(De);re(X),I.success(" Intake scan kicked off");let _e=0;const nt=setInterval(async()=>{_e+=1,await Pe(),_e>=6&&clearInterval(nt)},2e3);Qe().catch(()=>{})}catch(De){I.error((De==null?void 0:De.message)||"Scan failed")}finally{te(!1)}},Be=g.useMemo(()=>`curl -X POST \\
  -H "Content-Type: application/json" \\
  -d "${JSON.stringify($e,null,2).replace(/"/g,'\\"')}" \\
  "${s||"https://your-api.example.com/api/form/webhook?token=YOUR_TOKEN"}"`,[$e,s]),ct=g.useMemo(()=>{const De={form_response:{answers:[{type:"text",text:`${b}`},{type:"text",text:`${w}`},{type:"email",email:`${S}`},{type:"phone_number",phone_number:`${_}`},{type:"date",date:`${P}`}]}};return JSON.stringify(De,null,2)},[b,w,S,_,P]),vt="<?php // not loaded ?>",on=Math.ceil(ae/Ve),An=pe>0,Qt=pe+1<on;return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs(ds,{className:"relative overflow-hidden p-4 sm:p-5",children:[n.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Nj,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Custom Form Connection"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Connect forms to your unified webhook. Well parse, normalize and store as Appointments."})]})]}),n.jsx(Xn,{onClick:Le,disabled:e,children:e?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"})," Refresh"]}):n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 mr-2"})," Refresh"]})})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-3",children:[n.jsxs(ds,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ffe,{}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Your Webhook Token"}),n.jsx("div",{className:"text-xs text-slate-500",children:"Tenant-scoped auth for /api/form/webhook"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 self-start",children:[n.jsxs(Xn,{size:"sm",variant:"subtle",className:"border-amber-200 text-amber-700 hover:bg-amber-50",onClick:()=>x(De=>!De),children:[h?n.jsx(On,{className:"h-4 w-4 mr-1"}):n.jsx(Vc,{className:"h-4 w-4 mr-1"}),h?"Show":"Hide"]}),n.jsxs(Xn,{size:"sm",onClick:()=>Zi(a,"Token copied!"),disabled:!a,children:[n.jsx(Ya,{className:"h-4 w-4 mr-1"})," Copy"]})]})]}),n.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:xe||""}),n.jsx("div",{className:"mt-3 text-[11px] text-slate-500",children:"Keep this secret. Anyone with the URL containing your token can submit data to your account."})]}),n.jsxs(ds,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xs,{className:"h-5 w-5 text-blue-600 shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Webhook URL"}),n.jsx("div",{className:"text-xs text-slate-500",children:"Drop into any platform that can POST"})]})]}),n.jsxs(Xn,{size:"sm",onClick:()=>Zi(s,"Webhook URL copied!"),disabled:!s,children:[n.jsx(Ya,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:s||""}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Accepts ",n.jsx("b",{children:"JSON"}),", ",n.jsx("b",{children:"x-www-form-urlencoded"})," and"," ",n.jsx("b",{children:"multipart/form-data"}),". Files are ignored."]})]}),n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wj,{className:"h-5 w-5 text-cyan-600 shrink-0"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Start"})]}),n.jsxs("p",{className:"mt-3 text-sm text-slate-700",children:["Paste this snippet before ",n.jsx("code",{className:"font-mono",children:"</body>"}),"."]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsxs(Xn,{size:"sm",onClick:()=>Zi(c,"Script copied!"),disabled:!c,children:[n.jsx(HB,{className:"h-4 w-4 mr-1"})," Copy Script"]}),n.jsxs(Xn,{size:"sm",onClick:()=>Zi(f,"Plugin code copied!"),disabled:!f,children:[n.jsx(BU,{className:"h-4 w-4 mr-1"})," WP Plugin"]})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 xl:grid-cols-2",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(MF,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send a Test Submission"})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(bc,{label:"First name",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pa,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{value:b,onChange:De=>y(De.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"John"})]})}),n.jsx(bc,{label:"Last name",children:n.jsx("input",{value:w,onChange:De=>j(De.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Doe"})}),n.jsx(bc,{label:"Email",children:n.jsx("input",{type:"email",value:S,onChange:De=>k(De.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),n.jsx(bc,{label:"Phone",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ht,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{value:_,onChange:De=>C(De.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+15551234567"})]})}),n.jsx(bc,{label:"Date",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{type:"date",value:P,onChange:De=>A(De.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),n.jsx(bc,{label:"Time",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cl,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{type:"time",value:T,onChange:De=>R(De.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[n.jsx(Xn,{onClick:Ie,variant:"primary",disabled:O||!s,children:O?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"})," ","Sending"]}):n.jsxs(n.Fragment,{children:[n.jsx(F1,{className:"h-4 w-4 mr-2"})," Send Test"]})}),K?n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-emerald-700",children:[n.jsx(Mn,{className:"h-4 w-4"}),"Response captured"]}):null]}),K?n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last response"}),n.jsx(Fl,{code:JSON.stringify(K,null,2),lang:"json",filename:"response.json",maxHeight:"max-h-[360px]"})]}):null,n.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800 flex gap-2",children:[n.jsx(AP,{className:"h-4 w-4 shrink-0 mt-[1px]"}),n.jsx("div",{className:"leading-relaxed",children:"Tests are processed by your AI structurer in the background (via the background task and/or periodic scanner) and will create/merge an Appointment automatically once parsed."})]})]}),n.jsx(Lfe,{url:$fe})]}),n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fF,{className:"h-5 w-5 text-cyan-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Examples"})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"cURL"}),n.jsxs(Xn,{size:"sm",onClick:()=>Zi(Be,"cURL copied!"),children:[n.jsx(Ya,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-2",children:n.jsx(Fl,{code:Be,lang:"bash",filename:"embed.sh",maxHeight:"max-h-[280px]"})}),n.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Typeform Payload"}),n.jsxs(Xn,{size:"sm",onClick:()=>Zi(ct,"JSON copied!"),children:[n.jsx(Ya,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-2",children:n.jsx(Fl,{code:ct,lang:"json",filename:"typeform.json",maxHeight:"max-h-[320px]"})})]})]}),n.jsx("div",{className:"mt-5 grid grid-cols-1 gap-4",children:n.jsxs(ds,{children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(RF,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Intake Tools"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xn,{variant:"primary",size:"sm",onClick:ze,disabled:L,title:"POST /api/intake/scan",children:L?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-1"}),"Scanning"]}):n.jsxs(n.Fragment,{children:[n.jsx(I1,{className:"h-4 w-4 mr-1"}),"Scan Now"]})}),n.jsxs(Xn,{size:"sm",onClick:()=>{Pe(),Qe(),Ze()},title:"Refresh intake data",children:[n.jsx(qe,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($1,{className:"h-5 w-5 text-emerald-600"}),n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Processing Progress"})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Ife,{value:(D==null?void 0:D.completion_rate)||0,label:"Completion rate"})}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx(o0,{label:"Total",value:D==null?void 0:D.total}),n.jsx(o0,{label:"Booked",value:D==null?void 0:D.booked,tone:"emerald"}),n.jsx(o0,{label:"Unbooked",value:D==null?void 0:D.unbooked,tone:"amber"}),n.jsx(o0,{label:"Cancelled",value:D==null?void 0:D.cancelled,tone:"red"})]}),H?n.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 flex items-center gap-1",children:[n.jsx(qe,{className:"h-3.5 w-3.5 animate-spin"}),"Updating"]}):null]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($1,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Daily Submissions"})]}),z?n.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[n.jsx(qe,{className:"h-3.5 w-3.5 animate-spin"}),"Loading"]}):n.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[n.jsx(pU,{className:"h-3.5 w-3.5"}),"Totals per day"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(zfe,{dataObj:E})})]})]}),n.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Submissions"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:Ce,onChange:De=>{Ue(0),ke(De.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"All statuses"}),n.jsx("option",{value:"booked",children:"Booked"}),n.jsx("option",{value:"unbooked",children:"Unbooked"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:[ae," total"]})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"ID"}),n.jsx("th",{className:"py-2 pr-3",children:"Created"}),n.jsx("th",{className:"py-2 pr-3",children:"Name"}),n.jsx("th",{className:"py-2 pr-3",children:"Email"}),n.jsx("th",{className:"py-2 pr-3",children:"Status"}),n.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),n.jsx("tbody",{children:de?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"Loading"})}):Q.length===0?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"No submissions yet."})}):Q.map(De=>n.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[n.jsx("td",{className:"py-2 pr-3 font-mono text-xs",children:De.id}),n.jsx("td",{className:"py-2 pr-3",children:De.created_at?new Date(De.created_at).toLocaleString():""}),n.jsx("td",{className:"py-2 pr-3",children:(De.first_name||"-")+" "+(De.last_name||"")}),n.jsx("td",{className:"py-2 pr-3",children:De.email||"-"}),n.jsx("td",{className:"py-2 pr-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs border ${Bfe(De.status)}`,children:NE(De.status||"")||""})}),n.jsx("td",{className:"py-2 pr-3",children:n.jsx(Xn,{size:"sm",onClick:()=>je(De.id),children:"View"})})]},De.id))})]})}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[n.jsxs("div",{className:"text-slate-500",children:["Page ",on?pe+1:0," of ",on]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Xn,{size:"sm",onClick:()=>Ue(De=>Math.max(0,De-1)),disabled:!An,title:"Previous page",children:[n.jsx(ba,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsxs(Xn,{size:"sm",onClick:()=>Ue(De=>Qt?De+1:De),disabled:!Qt,title:"Next page",children:["Next",n.jsx(gn,{className:"h-4 w-4 ml-1"})]})]})]}),we?n.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3 bg-slate-50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:["Submission #",we.id]}),n.jsx(Xn,{size:"sm",onClick:()=>q(null),children:"Close"})]}),ie?n.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Loading"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Name"}),n.jsx("div",{className:"font-medium",children:(we.first_name||"-")+" "+(we.last_name||"")})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Email"}),n.jsx("div",{className:"font-medium",children:we.email||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Phone"}),n.jsx("div",{className:"font-medium",children:we.phone||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Status"}),n.jsx("div",{className:"font-medium",children:NE(we.status)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Created At"}),n.jsx("div",{className:"font-medium",children:we.created_at?new Date(we.created_at).toLocaleString():""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Meta / Source"}),n.jsx("div",{className:"font-medium",children:(we==null?void 0:we.source)||""})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Fl,{code:JSON.stringify(we,null,2),lang:"json",filename:"submission.json",maxHeight:"max-h-[300px]"})})]})]}):null]}),Ne?n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last scan response"}),n.jsx(Fl,{code:JSON.stringify(Ne,null,2),lang:"json",filename:"scan.json",maxHeight:"max-h-[280px]"})]}):null]})}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kP,{className:"h-5 w-5 text-blue-600 shrink-0"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Embed Script"})]}),n.jsxs(Xn,{size:"sm",onClick:()=>Zi(c,"Script copied!"),disabled:!c,children:[n.jsx(Ya,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Fl,{code:c||"<script>/* not loaded */<\/script>",lang:"html",filename:"embed.html",maxHeight:"max-h-[420px]"})})]}),n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rl,{className:"h-5 w-5 text-cyan-600 shrink-0"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"WordPress Plugin"})]}),n.jsxs(Xn,{size:"sm",onClick:()=>Zi(f,"Plugin code copied!"),disabled:!f,children:[n.jsx(Ya,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Fl,{code:f||vt,lang:"php",filename:"plugin.php",maxHeight:"max-h-[420px]"})})]})]})]})]})}function Ffe(){return n.jsx("span",{className:"inline-grid h-9 w-9 place-content-center rounded-xl bg-blue-600 text-white","aria-hidden":"true",children:""})}const Vfe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://aisdr-dbt.ddns.net"},c0=Vfe&&"https://aisdr-dbt.ddns.net"||"http://localhost:8000",$d={CONNECT:`${c0}/api/facebook/facebook/connect`,PAGES:`${c0}/api/facebook/facebook/pages`,LINK:`${c0}/api/facebook/facebook/pages/link`,SUBSCRIBE:`${c0}/api/facebook/facebook/pages/subscribe`};async function u0(e){const t=e.headers.get("content-type")||"",a=await e.text();if(!e.ok){const r=(a==null?void 0:a.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${r}`)}if(!a)return{};if(/application\/json/i.test(t))try{return JSON.parse(a)}catch{throw new Error("Invalid JSON from server")}try{return JSON.parse(a)}catch{return{raw:a}}}function SE(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),I.success(t)}catch{I.error("Copy failed")}}function Hfe(){return g.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw I.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}function vc({children:e,className:t=""}){return n.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,children:e})}function Fa({children:e,className:t="",variant:a="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:d}){const f="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",m={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},x=`${f} ${m[r]||m.md} ${h[a]||h.outline} ${t}`;return n.jsx("button",{type:s,className:x,onClick:l,disabled:c,title:d,children:e})}function v1({icon:e,label:t,value:a,tone:r="slate"}){const s={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return n.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${s[r]}`,children:[e?n.jsx(e,{className:"h-4 w-4 opacity-80"}):null,n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{className:"font-semibold",children:a}),n.jsx("div",{className:"opacity-80",children:t})]})]})}function qfe({code:e="",lang:t="text",filename:a="snippet.txt",maxHeight:r="max-h-[300px]"}){const s=g.useMemo(()=>String(e).split(`
`),[e]);return n.jsxs("div",{className:"w-full rounded-xl border border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 rounded-t-xl",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),n.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 font-mono truncate",children:a})]}),n.jsx("div",{className:`relative border-t border-slate-200 font-mono text-[11px] sm:text-xs overflow-auto code-scroll leading-relaxed px-3 py-2 ${r}`,style:{scrollbarWidth:"thin"},children:n.jsx("pre",{className:"m-0 p-0 whitespace-pre-wrap",children:n.jsx("code",{className:"text-slate-800",children:e})})}),n.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 text-[10px] sm:text-xs text-slate-600 flex justify-between rounded-b-xl",children:[n.jsx("span",{children:"UTF-8"}),n.jsx("span",{className:"capitalize",children:t}),n.jsxs("span",{children:["Ln ",s.length]})]})]})}function Kfe(){const e=Hfe(),[t,a]=g.useState(!1),[r,s]=g.useState(!1),[l,c]=g.useState(null),[d,f]=g.useState(!1),[m,h]=g.useState([]),[x,b]=g.useState("all"),[y,w]=g.useState(0),j=10,S=g.useMemo(()=>{const L=m.length,te=m.filter(re=>re.connected).length,Ne=m.filter(re=>re.subscribed).length;return{total:L,linked:te,subscribed:Ne}},[m]),k=g.useMemo(()=>{switch(x){case"linked":return m.filter(L=>L.connected);case"unlinked":return m.filter(L=>!L.connected);case"subscribed":return m.filter(L=>L.subscribed);case"unsubscribed":return m.filter(L=>!L.subscribed);default:return m}},[m,x]),_=Math.ceil(k.length/j),C=y>0,P=y+1<_,A=k.slice(y*j,y*j+j),T=g.useCallback(async()=>{s(!0);try{const L=await fetch($d.PAGES,{headers:e(),mode:"cors"}),te=await u0(L);f(!0),h(Array.isArray(te==null?void 0:te.pages)?te.pages:[])}catch{f(!1),h([])}finally{s(!1)}},[e]),R=g.useCallback(async()=>{a(!0);try{const L=await fetch($d.CONNECT,{headers:e(),mode:"cors"}),te=await u0(L);c(te),te!=null&&te.auth_url?(window.open(te.auth_url,"_blank","noopener,noreferrer"),I.success("Opening Facebook Login in a new tab")):I.error("No auth_url from server")}catch(L){I.error((L==null?void 0:L.message)||"Failed to start OAuth")}finally{a(!1)}},[e]),O=g.useCallback(async L=>{try{const te=await fetch($d.LINK,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:L}),mode:"cors"});await u0(te),I.success("Page linked"),T()}catch(te){I.error((te==null?void 0:te.message)||"Link failed")}},[e,T]),V=g.useCallback(async L=>{try{const te=await fetch($d.SUBSCRIBE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:L}),mode:"cors"});await u0(te),I.success("Subscribed to leadgen webhooks"),T()}catch(te){I.error((te==null?void 0:te.message)||"Subscribe failed")}},[e,T]);g.useEffect(()=>{T().catch(()=>{})},[T]);const K=(l==null?void 0:l.redirect_uri)||"https://aisdr-dbt.ddns.net/api/facebook/oauth/callback";return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs(vc,{className:"relative overflow-hidden p-4 sm:p-5",children:[n.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(i3,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Facebook Lead Ads"})}),n.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Connect your Facebook Page, subscribe to ",n.jsx("code",{className:"font-mono",children:"leadgen"})," webhooks, and stream leads into your CRM for AI follow-up."]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fa,{onClick:T,disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Refresh"]}):n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 mr-2"}),"Refresh"]})}),n.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${d?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[n.jsx(yj,{className:`h-3.5 w-3.5 ${d?"text-emerald-600":"text-amber-600"}`}),d?"Connected":"Not connected"]})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(v1,{icon:CP,label:"Total Pages",value:S.total,tone:"slate"}),n.jsx(v1,{icon:vj,label:"Linked Pages",value:S.linked,tone:"blue"}),n.jsx(v1,{icon:lB,label:"Webhook Subscribed",value:S.subscribed,tone:"emerald"})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(vc,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nj,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 1  Connect Facebook"})]}),n.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Click connect to start OAuth. Well request Page access and leads permissions that you can approve. The login opens in a new tab; once finished, come back and click ",n.jsx("b",{children:"Refresh"}),"."]}),n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[n.jsx(Fa,{variant:"primary",onClick:R,disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Opening"]}):n.jsxs(n.Fragment,{children:[n.jsx(i3,{className:"h-4 w-4 mr-2"}),"Connect Facebook"]})}),l!=null&&l.auth_url?n.jsxs(Fa,{size:"sm",onClick:()=>SE(l.auth_url,"Auth URL copied!"),title:"Copy the exact OAuth URL",children:[n.jsx(Ya,{className:"h-4 w-4 mr-1"}),"Copy Auth URL"]}):null,n.jsxs(Fa,{size:"sm",onClick:T,disabled:r,title:"Check connection now",children:[n.jsx(qe,{className:"h-4 w-4 mr-1"}),"I finished login  Refresh"]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Valid Redirect URI"}),n.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:K}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsxs(Fa,{size:"sm",onClick:()=>SE(K,"Redirect URI copied!"),children:[n.jsx(Ya,{className:"h-4 w-4 mr-1"}),"Copy"]}),n.jsxs("a",{href:"https://developers.facebook.com/apps/",target:"_blank",rel:"noreferrer",className:"text-xs inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open Facebook Developers  App  Facebook Login  Settings",children:[n.jsx(B1,{className:"h-3.5 w-3.5"}),"Open FB Devs"]})]}),n.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Add this under ",n.jsx("b",{children:"Facebook Login  Settings  Valid OAuth Redirect URIs"}),"."]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Webhook Callback (server)"}),n.jsxs("div",{className:"text-[11px] text-slate-600",children:["In your app dashboard add product ",n.jsx("b",{children:"Webhooks (Page)"})," and set callback to:"]}),n.jsx("div",{className:"mt-1 font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:"https://aisdr-dbt.ddns.net/api/facebook/webhook"}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-600",children:["Verify token = your ",n.jsx("code",{className:"font-mono",children:"META_APP_VERIFY_TOKEN"}),"."]})]})]})]}),n.jsxs(vc,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_c,{className:"h-5 w-5 text-emerald-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Checks"})]}),n.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-slate-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Hc,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Facebook Login product is added (Web)."]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(rl,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Site URL set to ",n.jsx("code",{className:"font-mono",children:"https://aisdr-dbt.ddns.net/"})," (local)."]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(MB,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"If Cant load URL, add the redirect URI exactly in Facebook Login settings."]})]})]})]}),n.jsx("div",{className:"mt-5 grid grid-cols-1",children:n.jsxs(vc,{children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xs,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 2  Link a Page  Step 3  Subscribe"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:x,onChange:L=>{w(0),b(L.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"Show: All"}),n.jsx("option",{value:"linked",children:"Linked"}),n.jsx("option",{value:"unlinked",children:"Unlinked"}),n.jsx("option",{value:"subscribed",children:"Subscribed"}),n.jsx("option",{value:"unsubscribed",children:"Unsubscribed"})]}),n.jsxs(Fa,{size:"sm",onClick:T,disabled:r,children:[n.jsx(qe,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"Page"}),n.jsx("th",{className:"py-2 pr-3",children:"Linked"}),n.jsx("th",{className:"py-2 pr-3",children:"Subscribed"}),n.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):A.length===0?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:d?"No pages found for this account.":"Not connected. Click 'Connect Facebook' above and then refresh."})}):A.map(L=>n.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[n.jsxs("td",{className:"py-2 pr-3",children:[n.jsx("div",{className:"font-medium",children:L.name||L.page_id}),n.jsx("div",{className:"text-[11px] text-slate-500",children:L.page_id})]}),n.jsx("td",{className:"py-2 pr-3",children:L.connected?n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-blue-50 text-blue-800 border-blue-200",children:"Linked"}):n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-slate-50 text-slate-800 border-slate-200",children:"Not linked"})}),n.jsx("td",{className:"py-2 pr-3",children:L.subscribed?n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-emerald-50 text-emerald-800 border-emerald-200",children:"Subscribed"}):n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-amber-50 text-amber-800 border-amber-200",children:"Not subscribed"})}),n.jsx("td",{className:"py-2 pr-3",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[L.connected?n.jsxs(Fa,{size:"sm",variant:"subtle",disabled:!0,children:["Linked ",n.jsx(Mn,{className:"h-4 w-4 ml-1 text-emerald-600"})]}):n.jsx(Fa,{size:"sm",onClick:()=>O(L.page_id),children:"Link"}),L.subscribed?n.jsxs(Fa,{size:"sm",variant:"success",disabled:!0,children:["Subscribed ",n.jsx(Mn,{className:"h-4 w-4 ml-1"})]}):n.jsx(Fa,{size:"sm",variant:"primary",onClick:()=>V(L.page_id),children:"Subscribe"})]})})]},L.page_id))})]})}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[n.jsxs("div",{className:"text-slate-500",children:["Page ",_?y+1:0," of ",_||0]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Fa,{size:"sm",onClick:()=>w(L=>Math.max(0,L-1)),disabled:!C,title:"Previous page",children:[n.jsx(ba,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsxs(Fa,{size:"sm",onClick:()=>w(L=>P?L+1:L),disabled:!P,title:"Next page",children:["Next",n.jsx(gn,{className:"h-4 w-4 ml-1"})]})]})]})]})}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(vc,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gF,{className:"h-5 w-5 text-cyan-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 4  Send a Test Lead"})]}),n.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Use the ",n.jsx("b",{children:"Lead Ads Testing Tool"})," to send a test submission for your linked & subscribed Page. Our webhook will receive ",n.jsx("code",{className:"font-mono",children:"leadgen_id"}),", fetch full details via Graph API, and create/merge a lead in your CRM."]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsxs("a",{href:"https://developers.facebook.com/tools/lead-ads-testing",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[n.jsx(B1,{className:"h-3.5 w-3.5"}),"Open Lead Ads Testing Tool"]}),n.jsx(Fa,{size:"sm",onClick:()=>I.info("Create a test lead for the Page you linked; then come back and check your Leads table."),children:"How it works"})]}),n.jsxs("div",{className:"mt-4 text-xs text-slate-600",children:["After sending a test, check your unified ",n.jsx("b",{children:"Submissions/Leads"})," page. Each lead includes"," ",n.jsx("code",{className:"font-mono",children:'additional_details.source = "facebook_lead_ads"'}),"."]})]}),n.jsxs(vc,{children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"Debug: Quick Connect Call"}),n.jsx(qfe,{filename:"connect.sh",lang:"bash",code:`curl -s -H "Authorization: Bearer <YOUR_TOKEN>" \\
  "${$d.CONNECT}" | jq .`,maxHeight:"max-h-[220px]"}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-600",children:["You should see an ",n.jsx("b",{children:"auth_url"})," and ",n.jsx("b",{children:"redirect_uri"}),". Open the auth_url if the button is blocked by a popup blocker."]})]})]})]})]})}const Gfe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://aisdr-dbt.ddns.net"},Va=Gfe&&"https://aisdr-dbt.ddns.net"||"http://localhost:8000",br={ASSISTANTS:`${Va}/api/text-assistants`,CREATE_ASSISTANT:`${Va}/api/text-assistants`,TOGGLE_ASSISTANT:e=>`${Va}/api/toggle-text-assistant/${e}`,ATTACH_ASSISTANT:`${Va}/api/text/attach-assistant`,NUMBERS:`${Va}/api/purchased_numbers`,SEND_SINGLE:`${Va}/api/send-text-message`,MESSAGE_SCHEDULED:`${Va}/api/text/message-scheduled`,MESSAGE_UNSCHEDULED:`${Va}/api/text/message-unscheduled`,MESSAGES:`${Va}/api/text/messages`,THREADS:`${Va}/api/text/threads`,JOBS:`${Va}/api/text/message-jobs`,JOB:e=>`${Va}/api/text/message-job/${e}`,PROGRESS_SSE:(e,t,a)=>{const r=`${Va}/api/text/message-progress-sse?job_id=${encodeURIComponent(e)}`;return t?`${r}&sse=${encodeURIComponent(t)}`:a?`${r}&token=${encodeURIComponent(a)}`:r}};function Yfe(){return g.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw I.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}async function os(e){const t=e.headers.get("content-type")||"",a=await e.text(),r=/application\/json/i.test(t);let s=null;if(r&&a)try{s=JSON.parse(a)}catch{}if(e.ok)return s??(a?{raw:a}:{});let l=`HTTP ${e.status}`;if(s!=null&&s.detail)if(typeof s.detail=="string")l+=`  ${s.detail}`;else if(s.detail.twilio_error){const d=s.detail.twilio_error||{};l+=`  ${d.message||"Twilio error"}`,d.code&&(l+=` (code ${d.code})`)}else l+=`  ${JSON.stringify(s.detail).slice(0,240)}`;else a&&(l+=`  ${a.slice(0,240)}`);const c=new Error(l);throw c.payload=s,c}function _E(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),I.success(t)}catch{I.error("Copy failed")}}function y1(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}const Wfe=/^\+\d{8,15}$/;function cs({children:e,className:t=""}){return n.jsx(he.div,{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},children:e})}function ra({children:e,className:t="",variant:a="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:d}){const f="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",m={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},x=`${f} ${m[r]||m.md} ${h[a]||h.outline} ${t}`;return n.jsx("button",{type:s,className:x,onClick:l,disabled:c,title:d,children:e})}function d0({icon:e,label:t,value:a,tone:r="slate"}){const s={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return n.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${s[r]}`,children:[e?n.jsx(e,{className:"h-4 w-4 opacity-80"}):null,n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{className:"font-semibold",children:a}),n.jsx("div",{className:"opacity-80",children:t})]})]})}function Un({value:e,onChange:t,placeholder:a,className:r="",type:s="text"}){return n.jsx("input",{value:e,onChange:l=>t==null?void 0:t(l.target.value),placeholder:a,type:s,className:`w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400 ${r}`})}function kE({value:e,onChange:t,placeholder:a,rows:r=5}){return n.jsx("textarea",{value:e,onChange:s=>t==null?void 0:t(s.target.value),placeholder:a,rows:r,className:"w-full rounded-lg border border-slate-300 px-2.5 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400"})}function $r({children:e,tone:t="slate"}){const a={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return n.jsx("span",{className:`px-2 py-0.5 rounded-md text-[11px] border ${a[t]}`,children:e})}function Xfe({total:e=0,sent:t=0,failed:a=0}){const r=t+a,s=e?Math.min(100,Math.round(r/e*100)):0;return n.jsxs("div",{className:"w-full rounded-xl border border-slate-200 p-2",children:[n.jsx("div",{className:"h-2 w-full rounded bg-slate-100 overflow-hidden",children:n.jsx("div",{className:"h-2 rounded bg-blue-600 transition-all",style:{width:`${s}%`}})}),n.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:[t," sent  ",a," failed  ",e," total"]})]})}function Zfe(e,t){const[a,r]=g.useState(null),s=g.useRef(null);return g.useEffect(()=>{if(!e)return;const l=localStorage.getItem("token")||"",c=br.PROGRESS_SSE(e,t,l),d=new EventSource(c,{withCredentials:!1});return s.current=d,d.onmessage=f=>{try{const m=JSON.parse(f.data);r(m)}catch{}},d.addEventListener("done",()=>d.close()),d.onerror=()=>{},()=>d.close()},[e,t]),a}function Qfe(){const e=Yfe(),[t,a]=g.useState([]),[r,s]=g.useState(!1),[l,c]=g.useState(!1),[d,f]=g.useState({name:"",provider:"openai",model:"gpt-4o-mini",voice_provider:"",voice:"",system_prompt:"You are a helpful SMS assistant. Keep replies short and useful.",language:"",forwardingPhoneNumber:"",assistant_toggle:!0}),[m,h]=g.useState([]),[x,b]=g.useState(!1),[y,w]=g.useState(""),[j,S]=g.useState(""),[k,_]=g.useState(!1),[C,P]=g.useState({assistant_id:"",from_number:"",limit:"",background:!0,showAdvanced:!1,messages_per_recipient:1,retry_count:0,retry_delay_seconds:60,per_message_delay_seconds:0}),[A,T]=g.useState({assistant_id:"",from_number:"",limit:"",background:!0,showAdvanced:!1,messages_per_recipient:1,retry_count:0,retry_delay_seconds:60,per_message_delay_seconds:0}),[R,O]=g.useState(""),[V,K]=g.useState(""),F=Zfe(R,V),[L,te]=g.useState({to_number:"",from_number:"",body:""}),[Ne,re]=g.useState(!1),[D,Y]=g.useState([]),[H,B]=g.useState(!1),[E,$]=g.useState(""),[z,W]=g.useState(!1),[de,J]=g.useState([]),[Q,Se]=g.useState(0),[ae,be]=g.useState({peer_number:"",success:"all",to_like:"",from_like:"",start:"",end:"",assistant_id:""}),[Ce,ke]=g.useState(0),pe=50,[Ue,Ve]=g.useState([]),[we,q]=g.useState(!1),ie=g.useMemo(()=>{const X=t.length||0,_e=t.filter(Z=>Z.assistant_toggle).length,nt=m.length||0,oe=m.filter(Z=>Z.attached_assistant).length;return{totalAssistants:X,enabled:_e,totalNumbers:nt,withAssistant:oe}},[t,m]),G=m.length>0,xe=g.useCallback(async()=>{s(!0);try{const X=await fetch(br.ASSISTANTS,{headers:e(),mode:"cors"}),_e=await os(X);a(Array.isArray(_e)?_e:[])}catch(X){I.error((X==null?void 0:X.message)||"Failed to load assistants"),a([])}finally{s(!1)}},[e]),Ae=g.useCallback(async()=>{b(!0);try{const X=await fetch(br.NUMBERS,{headers:e(),mode:"cors"}),_e=await os(X),nt=Array.isArray(_e==null?void 0:_e.items)?_e.items:Array.isArray(_e)?_e:[];h(nt.map(oe=>({phone_number:oe.phone_number||oe.number||(oe==null?void 0:oe.phone)||"",attached_assistant:oe.attached_assistant??oe.assistant_id??null})))}catch{h([])}finally{b(!1)}},[e]),Le=g.useCallback(async()=>{B(!0);try{const X=await fetch(br.THREADS,{headers:e(),mode:"cors"}),_e=await os(X);Y(Array.isArray(_e==null?void 0:_e.items)?_e.items:[])}catch(X){I.error((X==null?void 0:X.message)||"Failed to load threads"),Y([])}finally{B(!1)}},[e]),Pe=g.useCallback(async()=>{W(!0);try{const X=new URLSearchParams;X.set("limit",String(pe)),X.set("offset",String(Ce*pe)),ae.peer_number&&X.set("peer_number",ae.peer_number),ae.to_like&&X.set("to_like",ae.to_like),ae.from_like&&X.set("from_like",ae.from_like),ae.start&&X.set("start",ae.start),ae.end&&X.set("end",ae.end),ae.assistant_id&&X.set("assistant_id",ae.assistant_id),ae.success==="true"&&X.set("success","true"),ae.success==="false"&&X.set("success","false");const _e=await fetch(`${br.MESSAGES}?${X.toString()}`,{headers:e(),mode:"cors"}),nt=await os(_e);J(Array.isArray(nt==null?void 0:nt.items)?nt.items:[]),Se(Number((nt==null?void 0:nt.total)||0))}catch(X){I.error((X==null?void 0:X.message)||"Failed to load messages"),J([]),Se(0)}finally{W(!1)}},[e,Ce,ae]),Ze=g.useCallback(async()=>{q(!0);try{const X=await fetch(br.JOBS,{headers:e(),mode:"cors"}),_e=await os(X);Ve(Array.isArray(_e==null?void 0:_e.items)?_e.items:[])}catch{Ve([])}finally{q(!1)}},[e]),Qe=g.useCallback(async()=>{try{if(!d.name.trim())return I.error("Assistant name is required");const X=await fetch(br.CREATE_ASSISTANT,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({name:d.name,provider:d.provider,model:d.model,voice_provider:d.voice_provider||null,voice:d.voice||null,system_prompt:d.system_prompt,language:d.language||null,forwardingPhoneNumber:d.forwardingPhoneNumber||null,assistant_toggle:!!d.assistant_toggle}),mode:"cors"});await os(X),I.success("Assistant created"),c(!1),xe()}catch(X){I.error((X==null?void 0:X.message)||"Create failed")}},[e,d,xe]),je=g.useCallback(async(X,_e)=>{try{const nt=await fetch(br.TOGGLE_ASSISTANT(X),{method:"PUT",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({assistant_toggle:_e}),mode:"cors"});await os(nt),I.success(`Assistant ${_e?"enabled":"disabled"}`),xe()}catch(nt){I.error((nt==null?void 0:nt.message)||"Toggle failed")}},[e,xe]),$e=g.useCallback(async()=>{if(!y)return I.error("Select a number");try{const X={phone_number:y,assistant_id:j?Number(j):null,kind:null},_e=await fetch(br.ATTACH_ASSISTANT,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify(X),mode:"cors"});await os(_e),I.success("Attachment updated"),Ae()}catch(X){I.error((X==null?void 0:X.message)||"Attach failed")}},[e,y,j,Ae]),Ie=g.useCallback(async X=>{_(!0);try{const _e=X==="scheduled"?C:A,nt=X==="scheduled"?br.MESSAGE_SCHEDULED:br.MESSAGE_UNSCHEDULED,oe={assistant_id:_e.assistant_id?Number(_e.assistant_id):null,from_number:_e.from_number||null,limit:_e.limit?Number(_e.limit):null,background:!0,messages_per_recipient:Number(_e.messages_per_recipient||1),retry_count:Number(_e.retry_count||0),retry_delay_seconds:Number(_e.retry_delay_seconds||60),per_message_delay_seconds:Number(_e.per_message_delay_seconds||0)},Z=await fetch(nt,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify(oe),mode:"cors"}),ne=await os(Z);ne!=null&&ne.job_id?(O(ne.job_id),K(ne.sse_token||""),I.success(`Started ${X} job`),Ze()):I.info("No appointments to send")}catch(_e){I.error((_e==null?void 0:_e.message)||"Bulk start failed")}finally{_(!1)}},[e,C,A,Ze]),ze=g.useCallback(async()=>{var X,_e;if(!L.to_number||!L.body)return I.error("Missing 'to' or 'body'");if(!Wfe.test(L.to_number))return I.error("Enter To number in E.164 format, e.g. +14155551234");re(!0);try{const nt=await fetch(br.SEND_SINGLE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({to_number:L.to_number,body:L.body,from_number:L.from_number||null}),mode:"cors"});await os(nt),I.success("Sent"),te(oe=>({...oe,body:""})),Le(),E&&E===L.to_number&&Pe()}catch(nt){const oe=(_e=(X=nt==null?void 0:nt.payload)==null?void 0:X.detail)==null?void 0:_e.twilio_error;if(oe){const Z=oe.more_info?`  see docs: ${oe.more_info}`:"";I.error(`Twilio ${oe.code||""}: ${oe.message||"Error"}${Z}`)}else I.error((nt==null?void 0:nt.message)||"Send failed")}finally{re(!1)}},[e,L,E,Le,Pe]);g.useEffect(()=>{xe().catch(()=>{}),Ae().catch(()=>{}),Le().catch(()=>{}),Ze().catch(()=>{})},[xe,Ae,Le,Ze]),g.useEffect(()=>{Pe().catch(()=>{})},[Pe]),g.useEffect(()=>{E&&(be(X=>({...X,peer_number:E})),ke(0))},[E]);const Be=Math.ceil(Q/pe),ct=Ce>0,vt=Ce+1<Be,on=g.useMemo(()=>[{id:"",name:"Auto-pick (recommended)"},...t],[t]),An=g.useMemo(()=>[{phone_number:"",label:"Auto-pick"},...m.map(X=>({...X,label:X.phone_number}))],[m]),Qt=n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Tip: To force different bots per flow, include"," ",n.jsx("code",{className:"font-mono",children:"[scheduled]"})," or"," ",n.jsx("code",{className:"font-mono",children:"[unscheduled]"})," in the assistant name, or set env vars for explicit picks."]}),De=({params:X,setParams:_e})=>n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>_e(nt=>({...nt,showAdvanced:!nt.showAdvanced})),className:"mt-2 inline-flex items-center gap-1 text-xs px-2 py-1 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[n.jsx(sF,{className:"h-3.5 w-3.5"}),"Advanced"]}),X.showAdvanced?n.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Messages / recipient"}),n.jsx(Un,{type:"number",value:X.messages_per_recipient,onChange:nt=>_e(oe=>({...oe,messages_per_recipient:Number(nt||1)}))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Retry count"}),n.jsx(Un,{type:"number",value:X.retry_count,onChange:nt=>_e(oe=>({...oe,retry_count:Number(nt||0)}))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Retry delay (s)"}),n.jsx(Un,{type:"number",value:X.retry_delay_seconds,onChange:nt=>_e(oe=>({...oe,retry_delay_seconds:Number(nt||60)}))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Per-msg gap (s)"}),n.jsx(Un,{type:"number",value:X.per_message_delay_seconds,onChange:nt=>_e(oe=>({...oe,per_message_delay_seconds:Number(nt||0)}))})]})]}):null]});return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx(he.div,{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl",initial:{opacity:0},animate:{opacity:.5},transition:{duration:1}}),n.jsx(he.div,{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl",initial:{opacity:0},animate:{opacity:.5},transition:{duration:1.2}})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs(cs,{className:"relative overflow-hidden p-4 sm:p-5",children:[n.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(xj,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Text Assistant"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create assistants, attach to numbers, bulk-message appointments, and handle inbound SMS with AI."})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ra,{onClick:()=>{xe(),Ae(),Le(),Ze()},children:[n.jsx(qe,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${G?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[n.jsx(yj,{className:`h-3.5 w-3.5 ${G?"text-emerald-600":"text-amber-600"}`}),G?"Numbers Active":"No Numbers"]})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsx(d0,{icon:CP,label:"Assistants",value:ie.totalAssistants,tone:"slate"}),n.jsx(d0,{icon:vj,label:"Enabled",value:ie.enabled,tone:"blue"}),n.jsx(d0,{icon:ht,label:"Numbers",value:ie.totalNumbers,tone:"emerald"}),n.jsx(d0,{icon:xs,label:"Attached",value:ie.withAssistant,tone:"amber"})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(cs,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jj,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Assistants"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(ra,{size:"sm",onClick:()=>c(X=>!X),children:[n.jsx(Sr,{className:"h-4 w-4 mr-1"}),"New"]})})]}),Qt,l&&n.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Un,{placeholder:"Name (e.g., Assistant [scheduled])",value:d.name,onChange:X=>f(_e=>({..._e,name:X}))}),n.jsx(Un,{placeholder:"Provider (openai)",value:d.provider,onChange:X=>f(_e=>({..._e,provider:X}))}),n.jsx(Un,{placeholder:"Model (gpt-4o-mini)",value:d.model,onChange:X=>f(_e=>({..._e,model:X}))}),n.jsx(Un,{placeholder:"Language (optional)",value:d.language,onChange:X=>f(_e=>({..._e,language:X}))}),n.jsx(Un,{placeholder:"Voice Provider (optional)",value:d.voice_provider,onChange:X=>f(_e=>({..._e,voice_provider:X}))}),n.jsx(Un,{placeholder:"Voice (optional)",value:d.voice,onChange:X=>f(_e=>({..._e,voice:X}))})]}),n.jsx("div",{className:"mt-3",children:n.jsx(kE,{value:d.system_prompt,onChange:X=>f(_e=>({..._e,system_prompt:X})),placeholder:"System prompt for the assistant...",rows:5})}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsxs("label",{className:"text-xs text-slate-700",children:[n.jsx("input",{type:"checkbox",className:"mr-2",checked:d.assistant_toggle,onChange:X=>f(_e=>({..._e,assistant_toggle:X.target.checked}))}),"Enabled on create"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ra,{size:"sm",onClick:Qe,children:[n.jsx(Sr,{className:"h-4 w-4 mr-1"}),"Create"]}),n.jsx(ra,{size:"sm",variant:"subtle",onClick:()=>c(!1),children:"Cancel"})]})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"Assistant"}),n.jsx("th",{className:"py-2 pr-3",children:"Model"}),n.jsx("th",{className:"py-2 pr-3",children:"Enabled"}),n.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):t.length===0?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"No assistants yet. Create one above."})}):t.map(X=>n.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[n.jsxs("td",{className:"py-2 pr-3",children:[n.jsx("div",{className:"font-medium",children:X.name}),n.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:(X.system_prompt||"").slice(0,120)})]}),n.jsx("td",{className:"py-2 pr-3",children:n.jsx($r,{tone:"slate",children:X.model})}),n.jsx("td",{className:"py-2 pr-3",children:X.assistant_toggle?n.jsx($r,{tone:"emerald",children:"Enabled"}):n.jsx($r,{tone:"amber",children:"Disabled"})}),n.jsx("td",{className:"py-2 pr-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ra,{size:"sm",variant:X.assistant_toggle?"subtle":"primary",onClick:()=>je(X.id,!X.assistant_toggle),children:X.assistant_toggle?n.jsxs(n.Fragment,{children:[n.jsx(vF,{className:"h-4 w-4 mr-1"}),"Disable"]}):n.jsxs(n.Fragment,{children:[n.jsx(wF,{className:"h-4 w-4 mr-1"}),"Enable"]})}),n.jsxs(ra,{size:"sm",onClick:()=>{_E(X.system_prompt||"","System prompt copied!")},children:[n.jsx(LB,{className:"h-4 w-4 mr-1"}),"Copy Prompt"]})]})})]},X.id))})]})})]}),n.jsxs(cs,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xs,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Attach Assistant to Number"})]}),n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Purchased Number"}),n.jsxs("select",{value:y,onChange:X=>w(X.target.value),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Select number"}),m.map(X=>n.jsx("option",{value:X.phone_number,children:X.phone_number},X.phone_number))]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),n.jsxs("select",{value:j,onChange:X=>S(X.target.value),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"No attachment (clear)"}),t.map(X=>n.jsx("option",{value:X.id,children:X.name},X.id))]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:"Incoming SMS to this number will use the attached assistant."}),n.jsx(ra,{size:"sm",onClick:$e,disabled:x||r,children:"Save"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Numbers"}),x?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):m.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No numbers found."}):n.jsx("ul",{className:"space-y-1",children:m.map(X=>{const _e=t.find(nt=>nt.id===X.attached_assistant);return n.jsxs("li",{className:"text-xs flex items-center justify-between",children:[n.jsx("div",{className:"font-mono",children:X.phone_number}),n.jsx("div",{className:"flex items-center gap-2",children:_e?n.jsx($r,{tone:"blue",children:_e.name}):n.jsx($r,{children:"No assistant"})})]},X.phone_number)})})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(cs,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hB,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Message Scheduled Appointments"})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),n.jsx("select",{value:C.assistant_id,onChange:X=>P(_e=>({..._e,assistant_id:X.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:on.map(X=>n.jsx("option",{value:X.id??"",children:X.name},X.id??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"From Number"}),n.jsx("select",{value:C.from_number,onChange:X=>P(_e=>({..._e,from_number:X.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:An.map(X=>n.jsx("option",{value:X.phone_number??"",children:X.label},X.phone_number??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Limit"}),n.jsx(Un,{type:"number",placeholder:"e.g. 50",value:C.limit,onChange:X=>P(_e=>({..._e,limit:X}))})]})]}),n.jsx(De,{params:C,setParams:P}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:"Sends only upcoming appointments within the configured horizon."}),n.jsxs(ra,{variant:"primary",onClick:()=>Ie("scheduled"),disabled:k,children:[k?n.jsx(_n,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(I1,{className:"h-4 w-4 mr-2"}),"Start"]})]})]}),n.jsxs(cs,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(EU,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Message Unscheduled Appointments"})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),n.jsx("select",{value:A.assistant_id,onChange:X=>T(_e=>({..._e,assistant_id:X.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:on.map(X=>n.jsx("option",{value:X.id??"",children:X.name},X.id??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"From Number"}),n.jsx("select",{value:A.from_number,onChange:X=>T(_e=>({..._e,from_number:X.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:An.map(X=>n.jsx("option",{value:X.phone_number??"",children:X.label},X.phone_number??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Limit"}),n.jsx(Un,{type:"number",placeholder:"e.g. 50",value:A.limit,onChange:X=>T(_e=>({..._e,limit:X}))})]})]}),n.jsx(De,{params:A,setParams:T}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:"Optional backoff protects against re-texting the same phone too soon."}),n.jsxs(ra,{variant:"primary",onClick:()=>Ie("unscheduled"),disabled:k,children:[k?n.jsx(_n,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(I1,{className:"h-4 w-4 mr-2"}),"Start"]})]})]})]}),R?n.jsx("div",{className:"mt-4",children:n.jsxs(cs,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tB,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Live Progress"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs($r,{tone:"blue",children:["Job #",String(R).slice(0,8)]}),V?n.jsx(ra,{size:"sm",onClick:()=>_E(V,"SSE token copied"),children:"Copy SSE Token"}):null]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx(Xfe,{total:(F==null?void 0:F.total)||0,sent:(F==null?void 0:F.sent)||0,failed:(F==null?void 0:F.failed)||0}),n.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:["Status: ",n.jsx("b",{children:(F==null?void 0:F.status)||"connecting"}),"  From:"," ",n.jsx("span",{className:"font-mono",children:(F==null?void 0:F.from_number)||"-"})]})]})]})}):null,n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(cs,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(F1,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send Single SMS"})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsx(Un,{placeholder:"To number (+1)",value:L.to_number,onChange:X=>te(_e=>({..._e,to_number:X}))}),n.jsxs("select",{value:L.from_number,onChange:X=>te(_e=>({..._e,from_number:X.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Auto-pick"}),m.map(X=>n.jsx("option",{value:X.phone_number,children:X.phone_number},X.phone_number))]}),n.jsx("div",{className:"flex items-center",children:n.jsxs(ra,{variant:"primary",onClick:ze,disabled:Ne,className:"w-full",children:[Ne?n.jsx(_n,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(F1,{className:"h-4 w-4 mr-2"}),"Send"]})})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(kE,{value:L.body,onChange:X=>te(_e=>({..._e,body:X})),placeholder:"Write your message here",rows:4})}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 flex items-center gap-2",children:[n.jsx(wr,{className:"h-3.5 w-3.5"}),"Keep it concise. Your backend truncates to 1000 chars.",n.jsxs("span",{className:"ml-auto",children:[L.body.length,"/1000"]})]})]})]}),n.jsxs(cs,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($1,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Recent Jobs"})]}),n.jsx("div",{className:"mt-3",children:we?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):Ue.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No jobs yet."}):n.jsx("ul",{className:"space-y-2",children:Ue.slice(0,6).map(X=>n.jsxs("li",{className:"text-xs flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-mono",children:["#",String(X.id).slice(0,8)]}),n.jsx("div",{className:"text-[11px] text-slate-500",children:y1(X.created_at)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($r,{tone:X.status==="completed"?"emerald":"blue",children:X.status}),n.jsx(ra,{size:"sm",onClick:()=>{O(X.id),K(""),I.info("Streaming progress")},children:"View"})]})]},X.id))})})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(cs,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mU,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Threads"})]}),n.jsxs(ra,{size:"sm",onClick:Le,disabled:H,children:[n.jsx(qe,{className:"h-4 w-4 mr-1"}),"Refresh"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Un,{placeholder:"Search by number",value:ae.peer_number,onChange:X=>be(_e=>({..._e,peer_number:X}))})}),n.jsx("div",{className:"mt-3 max-h-[360px] overflow-auto",children:H?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):D.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No threads yet."}):n.jsx("ul",{className:"space-y-1",children:D.filter(X=>{var _e;return!ae.peer_number||((_e=X.peer_number)==null?void 0:_e.includes(ae.peer_number))}).map(X=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>$(X.peer_number),className:`w-full text-left rounded-lg border px-2 py-1.5 text-xs transition-colors ${E===X.peer_number?"bg-blue-50 border-blue-200 text-blue-800":"bg-white border-slate-200 hover:bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-mono",children:X.peer_number}),n.jsx($r,{tone:X.last_direction==="inbound"?"amber":"slate",children:X.last_direction})]}),n.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:X.last_body}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:[y1(X.last_message_at),"  ",X.count," msgs"]})]})},X.peer_number))})})]}),n.jsxs(cs,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(AU,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Messages"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(ra,{size:"sm",onClick:()=>{ke(0),Pe()},disabled:z,children:[n.jsx(qe,{className:"h-4 w-4 mr-1"}),"Refresh"]})})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-6 gap-2",children:[n.jsx(Un,{placeholder:"To like",value:ae.to_like,onChange:X=>be(_e=>({..._e,to_like:X}))}),n.jsx(Un,{placeholder:"From like",value:ae.from_like,onChange:X=>be(_e=>({..._e,from_like:X}))}),n.jsx(Un,{type:"datetime-local",value:ae.start,onChange:X=>be(_e=>({..._e,start:X}))}),n.jsx(Un,{type:"datetime-local",value:ae.end,onChange:X=>be(_e=>({..._e,end:X}))}),n.jsxs("select",{value:ae.success,onChange:X=>be(_e=>({..._e,success:X.target.value})),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"Success: All"}),n.jsx("option",{value:"true",children:"Success"}),n.jsx("option",{value:"false",children:"Failed"})]}),n.jsxs("select",{value:ae.assistant_id,onChange:X=>be(_e=>({..._e,assistant_id:X.target.value})),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Assistant: All"}),t.map(X=>n.jsx("option",{value:X.id,children:X.name},X.id))]})]}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Showing ",de.length," of ",Q]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ra,{size:"sm",onClick:()=>ke(X=>Math.max(0,X-1)),disabled:!ct||z,children:[n.jsx(ba,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsxs(ra,{size:"sm",onClick:()=>ke(X=>vt?X+1:X),disabled:!vt||z,children:["Next",n.jsx(gn,{className:"h-4 w-4 ml-1"})]})]})]}),n.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto",children:z?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):de.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No messages for current filters."}):n.jsx("ul",{className:"space-y-2",children:de.map(X=>n.jsxs("li",{className:`rounded-lg border px-3 py-2 text-xs ${X.direction==="inbound"?"bg-amber-50 border-amber-200":"bg-slate-50 border-slate-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($r,{tone:X.direction==="inbound"?"amber":"slate",children:X.direction}),X.success?n.jsx($r,{tone:"emerald",children:"ok"}):n.jsx($r,{tone:"red",children:X.error||"fail"})]}),n.jsx("div",{className:"text-[11px] text-slate-500",children:y1(X.created_at)})]}),n.jsxs("div",{className:"mt-1 font-mono text-[11px] text-slate-600",children:[X.from_number,"  ",X.to_number]}),n.jsx("div",{className:"mt-1 text-slate-800",children:X.body}),X.appointment_id?n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Appointment: ",X.appointment_id]}):null]},X.id))})})]})]}),n.jsxs("div",{className:"mt-5 text-[11px] text-slate-500 flex items-center gap-2",children:[n.jsx(sB,{className:"h-3.5 w-3.5"}),"Delivery status updates via"," ",n.jsx("code",{className:"font-mono",children:"/api/text/sms-status"}),". Ensure your server is publicly reachable for Twilio callbacks."]})]})]})}function Jfe(...e){return e.filter(Boolean).join(" ")}const CE="https://aisdr-dbt.ddns.net";function eme({onClick:e}){const t=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),e==null||e())};return n.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),n.jsxs(he.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),n.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),n.jsxs("filter",{id:"glow",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"coloredBlur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsx(he.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),n.jsx(he.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),n.jsx(he.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function tme({className:e="",onMenuToggle:t,profilePath:a="/admin/settings"}){const[r,s]=g.useState(""),[l,c]=g.useState(null),[d,f]=g.useState(!1),m=Zt();g.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),g.useEffect(()=>{const y=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${CE}/api/profile-photo`,{headers:y?{Authorization:`Bearer ${y}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${CE}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=y=>y.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:y=40})=>{const w=y;return n.jsxs("button",{type:"button",onClick:()=>m(a),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[n.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?n.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):n.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(r)})}),n.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),n.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},b=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return n.jsxs("header",{className:Jfe("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[n.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:n.jsxs("div",{className:"flex items-center justify-between h-full",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[n.jsx(eme,{onClick:b}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"hidden lg:block",children:[n.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Control center for users, leads & calls"}),n.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),n.jsxs("div",{className:"hidden sm:block lg:hidden",children:[n.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Insights & controls"})]}),n.jsxs("div",{className:"sm:hidden relative",children:[n.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[n.jsxs(he.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[n.jsx("div",{className:"relative",children:n.jsx(x,{size:40})}),n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome!"}),n.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),n.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[n.jsx(x,{size:32}),n.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),n.jsx("div",{className:"sm:hidden",children:n.jsx(x,{size:36})}),n.jsxs(he.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[n.jsx(I0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),n.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function nme({compact:e=!1}){const t=g.useMemo(()=>[{text:"Make Calls",Icon:ht,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Kr,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:l2,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:ha,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Kr,from:"#22D3EE",to:"#2563EB"}],[]),[a,r]=g.useState(0),[s,l]=g.useState(""),[c,d]=g.useState(!1);g.useEffect(()=>{const x=t[a].text,b=40,y=28,w=1100;let j;return!c&&s.length<x.length?j=setTimeout(()=>l(x.slice(0,s.length+1)),b):!c&&s.length===x.length?j=setTimeout(()=>d(!0),w):c&&s.length>0?j=setTimeout(()=>l(x.slice(0,s.length-1)),y):c&&s.length===0&&(d(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(j)},[s,c,a,t]);const{Icon:f,from:m,to:h}=t[a];return n.jsxs("div",{className:`relative flex items-center ${e?"justify-center p-3 sm:p-4":"p-4 sm:p-6"}`,children:[n.jsxs("div",{className:"relative mr-0 sm:mr-3",children:[n.jsx(he.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:n.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),n.jsx(he.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[n.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:s}),n.jsx(he.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),n.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function ame(){const[e,t]=g.useState(!1),[a,r]=g.useState(!1),[s,l]=g.useState(!1),c=Ns(),d=Zt();g.useEffect(()=>{const h=()=>{const x=window.innerWidth;l(x<768),t(x<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),g.useEffect(()=>{r(!1)},[c.pathname]),g.useEffect(()=>{const h=()=>{s?r(x=>!x):t(x=>!x)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[s]);const f=[{id:"dashboard",label:"Dashboard",icon:bj,href:"/admin/dashboard",color:"text-blue-600"},{id:"users",label:"Users",icon:ha,href:"/admin/Users",color:"text-blue-600"},{id:"phoneNumbers",label:"Call Details",icon:ht,href:"/admin/PhoneCalls",color:"text-orange-600"},{id:"leads",label:"Leads",icon:ha,href:"/admin/lead",color:"text-purple-600"},{id:"Phone Numbers",label:"Phone Numbers",icon:ha,href:"/admin/callhistory",color:"text-purple-600"}],m=()=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:n.jsx(nme,{compact:e&&!s})}),n.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:f.map(h=>{const x=h.icon,b=c.pathname===h.href;return n.jsxs("button",{type:"button",onClick:()=>d(h.href),className:`group relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation ${b?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"} ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"} ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?h.label:"",children:[b&&!e&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),n.jsx(x,{className:`flex-shrink-0 transition-all duration-200 ${e&&!s?"w-6 h-6":"w-5 h-5"} ${b?h.color:"text-slate-500 group-hover:text-slate-700"} ${b?"scale-110":"group-hover:scale-105"}`}),(!e||s)&&n.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base",children:h.label}),b&&(!e||s)&&n.jsx("div",{className:"ml-auto flex-shrink-0",children:n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!s&&n.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:n.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?n.jsx(gn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):n.jsxs(n.Fragment,{children:[n.jsx(ba,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return n.jsxs(n.Fragment,{children:[!s&&n.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(m,{})})}),s&&n.jsxs("div",{className:"md:hidden",children:[a&&n.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),n.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(m,{})})})]})]})}function rme(){return n.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[n.jsx(ame,{}),n.jsxs("div",{className:"flex flex-1 flex-col",children:[n.jsx(tme,{className:"h-16 border-b"}),n.jsx("main",{className:"flex-1 p-6",children:n.jsx(oP,{})})]})]})}const w1={},Ql="https://aisdr-dbt.ddns.net",sme=(w1==null?void 0:w1.VITE_AFTER_IMPERSONATE_PATH)||"/",Qi={USERS:`${Ql}/api/admin/users`,USER:e=>`${Ql}/api/admin/users/${e}`,USER_DETAILS:e=>`${Ql}/api/admin/users/${e}/details`,USER_PHOTO_DELETE:e=>`${Ql}/api/admin/users/${e}/profile-photo`,RESET_PASSWORD:e=>`${Ql}/api/admin/users/${e}/reset-password`,IMPERSONATE_LOGIN_AS:`${Ql}/api/admin/impersonate/login-as`},ime="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",f0=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${Ql}${t}`},j1=e=>e==="admin"?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200";function Ld({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function lme(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function St({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${d[a]} ${t}`,children:e})}function ome(){var _e,nt;const[e,t]=g.useState([]),[a,r]=g.useState({total:0,admins:0,verified:0,withPhoto:0}),[s,l]=g.useState(!1),[c,d]=g.useState(""),[f,m]=g.useState(null),[h,x]=g.useState(""),[b,y]=g.useState("all"),[w,j]=g.useState("all"),[S,k]=g.useState(1),_=10,[C,P]=g.useState(!1),[A,T]=g.useState(null),[R,O]=g.useState(!1),[V,K]=g.useState(null),[F,L]=g.useState(!1),[te,Ne]=g.useState(!1),[re,D]=g.useState(null),[Y,H]=g.useState(!1),[B,E]=g.useState(!1),[$,z]=g.useState(null),[W,de]=g.useState({name:"",email:"",role:"user",setPasswordManually:!1,password:""}),[J,Q]=g.useState(null),[Se,ae]=g.useState(!1),[be,Ce]=g.useState(null),[ke,pe]=g.useState(!1),[Ue,Ve]=g.useState(""),[we,q]=g.useState(null),[ie,G]=g.useState(null),[xe,Ae]=g.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),Le=g.useCallback(async()=>{if(xe){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const oe=localStorage.getItem("token");if(!oe){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),d("No auth token found."),I.error("No authentication token found.");return}try{l(!0),d("");const Z=await fetch(Qi.USERS,{headers:{Authorization:`Bearer ${oe}`,Accept:"application/json"},mode:"cors"});if(!Z.ok){const ot=await Z.text();throw new Error(`HTTP ${Z.status}${ot?`  ${ot}`:""}`)}const ne=await Z.json();if(!(ne!=null&&ne.success)||!Array.isArray(ne==null?void 0:ne.users))throw new Error("Unexpected response shape.");const le=(ne.users||[]).map(ot=>({id:ot.id,name:ot.name||"",email:ot.email||"",email_verified:!!ot.email_verified,role:ot.role||"user",profile_photo_url:f0(ot.profile_photo_url||ot.profile_photo)}));le.sort((ot,Et)=>ot.name.localeCompare(Et.name)),t(le);const We=le.filter(ot=>ot.role==="admin").length,rt=le.filter(ot=>ot.email_verified).length,yt=le.filter(ot=>!!ot.profile_photo_url).length;r({total:ne.total_users??le.length,admins:We,verified:rt,withPhoto:yt})}catch(Z){d((Z==null?void 0:Z.message)||"Failed to load users"),I.error((Z==null?void 0:Z.message)||"Failed to load users")}finally{l(!1)}},[xe]);g.useEffect(()=>{Le()},[Le]);const Pe=g.useMemo(()=>{let oe=[...e];if(h.trim()){const Z=h.trim().toLowerCase();oe=oe.filter(ne=>String(ne.name||"").toLowerCase().includes(Z)||String(ne.email||"").toLowerCase().includes(Z))}return b!=="all"&&(oe=oe.filter(Z=>Z.role===b)),w!=="all"&&(oe=oe.filter(Z=>w==="verified"?Z.email_verified:!Z.email_verified)),oe},[e,h,b,w]),Ze=Math.max(1,Math.ceil(Pe.length/_)),Qe=S*_,je=Qe-_,$e=Pe.slice(je,Qe);g.useEffect(()=>{k(1)},[h,b,w]);const Ie=oe=>{T({id:oe.id,name:oe.name,email:oe.email,role:oe.role}),P(!0)},ze=async()=>{if(!A)return;const oe=localStorage.getItem("token");if(!oe)return I.error("No authentication token found.");const Z={name:String(A.name||"").trim(),email:String(A.email||"").trim(),role:A.role==="admin"?"admin":"user"};try{O(!0);const ne=await fetch(Qi.USER(A.id),{method:"PUT",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Z)}),le=await ne.json();if(!ne.ok||!(le!=null&&le.success))throw new Error((le==null?void 0:le.detail)||(le==null?void 0:le.message)||`HTTP ${ne.status}`);I.success(" User updated"),P(!1),T(null),t(We=>We.map(rt=>{var yt;return rt.id===((yt=le.updated_user)==null?void 0:yt.id)?{...rt,name:le.updated_user.name,email:le.updated_user.email,role:le.updated_user.role,profile_photo_url:f0(le.updated_user.profile_photo_url||le.updated_user.profile_photo)}:rt})),Le()}catch(ne){I.error((ne==null?void 0:ne.message)||"Update failed")}finally{O(!1)}},Be=oe=>K(oe),ct=async()=>{const oe=V;if(!oe)return;const Z=localStorage.getItem("token");if(!Z)return I.error("No authentication token found.");try{m(oe);const ne=await fetch(Qi.USER(oe),{method:"DELETE",headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}}),le=await ne.json();if(!ne.ok||!(le!=null&&le.success))throw new Error((le==null?void 0:le.detail)||(le==null?void 0:le.message)||`HTTP ${ne.status}`);I.success(" User deleted"),t(We=>We.filter(rt=>rt.id!==oe)),r(We=>({...We,total:Math.max(0,We.total-1)})),K(null)}catch(ne){I.error((ne==null?void 0:ne.message)||"Delete failed")}finally{m(null)}},vt=async oe=>{const Z=localStorage.getItem("token");if(!Z){I.error("No authentication token found.");return}try{L(!0),Ne(!0),D(null);const ne=await fetch(Qi.USER_DETAILS(oe.id),{headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}}),le=await ne.json();if(!ne.ok||!(le!=null&&le.success))throw new Error((le==null?void 0:le.detail)||(le==null?void 0:le.message)||`HTTP ${ne.status}`);D(le.details)}catch(ne){I.error((ne==null?void 0:ne.message)||"Failed to load details")}finally{Ne(!1)}},on=async oe=>{const Z=localStorage.getItem("token");if(!Z)return I.error("No authentication token found.");try{q(oe);const ne=await fetch(Qi.USER_PHOTO_DELETE(oe),{method:"DELETE",headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}}),le=await ne.json();if(!ne.ok||!(le!=null&&le.success))throw new Error((le==null?void 0:le.detail)||(le==null?void 0:le.message)||`HTTP ${ne.status}`);I.success(" Profile photo removed"),t(We=>We.map(rt=>rt.id===oe?{...rt,profile_photo_url:null}:rt)),r(We=>({...We,withPhoto:Math.max(0,We.withPhoto-1)}))}catch(ne){I.error((ne==null?void 0:ne.message)||"Failed to remove photo")}finally{q(null)}},An=async()=>{const oe=localStorage.getItem("token");if(!oe)return I.error("No authentication token found.");const Z={name:W.name.trim(),email:W.email.trim(),role:W.role,password:W.setPasswordManually?(W.password||"").trim():null};if(!Z.name||!Z.email)return I.error("Name and email are required.");if(W.setPasswordManually&&Z.password.length<6)return I.error("Password must be at least 6 characters.");try{E(!0);const ne=await fetch(Qi.USERS,{method:"POST",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Z)}),le=await ne.json();if(!ne.ok||!(le!=null&&le.success))throw new Error((le==null?void 0:le.detail)||(le==null?void 0:le.message)||`HTTP ${ne.status}`);const We=le.created_user,rt={id:We.id,name:We.name,email:We.email,role:We.role||"user",email_verified:!!We.email_verified,profile_photo_url:f0(We.profile_photo_url||We.profile_photo)};t(yt=>[rt,...yt].sort((ot,Et)=>ot.name.localeCompare(Et.name))),r(yt=>({...yt,total:yt.total+1,admins:yt.admins+(rt.role==="admin"?1:0),verified:yt.verified+(rt.email_verified?1:0),withPhoto:yt.withPhoto+(rt.profile_photo_url?1:0)})),le.initial_password?z(le.initial_password):I.success(" User created"),H(!1),de({name:"",email:"",role:"user",setPasswordManually:!1,password:""})}catch(ne){I.error((ne==null?void 0:ne.message)||"Create failed")}finally{E(!1)}},Qt=async()=>{if(!J)return;const oe=localStorage.getItem("token");if(!oe)return I.error("No authentication token found.");const Z=ke&&Ue?{new_password:Ue}:{new_password:null};try{ae(!0);const ne=await fetch(Qi.RESET_PASSWORD(J),{method:"POST",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Z)}),le=await ne.json();if(!ne.ok||!(le!=null&&le.success))throw new Error((le==null?void 0:le.detail)||(le==null?void 0:le.message)||`HTTP ${ne.status}`);le.new_password?Ce(le.new_password):(I.success(" Password updated"),Q(null),Ve(""),pe(!1))}catch(ne){I.error((ne==null?void 0:ne.message)||"Reset failed")}finally{ae(!1)}},De=async oe=>{const Z=localStorage.getItem("token");if(!Z)return I.error("No authentication token found.");try{G(oe.id);const ne=await fetch(Qi.IMPERSONATE_LOGIN_AS,{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:oe.id,reason:"Admin impersonation from Users panel"})}),le=await ne.json();if(!ne.ok||!(le!=null&&le.success))throw new Error((le==null?void 0:le.detail)||(le==null?void 0:le.message)||`HTTP ${ne.status}`);const{token:We,acting_as:rt,impersonated_by:yt}=le;localStorage.setItem("admin_token_backup",Z),localStorage.setItem("token",We),localStorage.setItem("impersonation_info",JSON.stringify({acting_as:rt,impersonated_by:yt,started_at:Date.now()})),I.success(` Now impersonating ${(rt==null?void 0:rt.email)||"user"}`),window.location.assign(sme)}catch(ne){I.error((ne==null?void 0:ne.message)||"Impersonation failed")}finally{G(null)}},X=()=>{const oe=localStorage.getItem("admin_token_backup");if(!oe){I.error("No admin backup token found.");return}localStorage.setItem("token",oe),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),Ae(null),I.success(" Exited impersonation"),window.location.reload()};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[xe&&n.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:n.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[n.jsx(yh,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),n.jsxs("span",{className:"truncate",children:["Acting as ",n.jsx("b",{className:"break-all",children:(_e=xe.acting_as)==null?void 0:_e.email})]})]}),n.jsxs(St,{onClick:X,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[n.jsx(I0,{className:"mr-2 h-4 w-4"}),"Exit"]})]})}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(ha,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${ime}`,children:"User Management"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create users, manage roles, inspect assets, and impersonate users."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(St,{onClick:()=>H(!0),disabled:!!xe,variant:"primary",children:[n.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Add User"]}),n.jsx(St,{onClick:Le,disabled:s||!!xe,children:s?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(m0,{label:"Total Users",value:a.total,Icon:ha,tone:"blue"}),n.jsx(m0,{label:"Admins",value:a.admins,Icon:Kb,tone:"cyan"}),n.jsx(m0,{label:"Verified",value:a.verified,Icon:Mn,tone:"blue"}),n.jsx(m0,{label:"With Photo",value:a.withPhoto,Icon:dU,tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ea,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:h,onChange:oe=>x(oe.target.value),placeholder:"Search by name or email",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!xe})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(du,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:b,onChange:oe=>y(oe.target.value),disabled:!!xe,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All roles"}),n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]}),n.jsxs("select",{value:w,onChange:oe=>j(oe.target.value),disabled:!!xe,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"verified",children:"Verified"}),n.jsx("option",{value:"unverified",children:"Unverified"})]}),(h||b!=="all"||w!=="all")&&n.jsx(St,{onClick:()=>{x(""),y("all"),j("all")},className:"text-slate-700",disabled:!!xe,children:"Clear"})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(ha,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Users (",Pe.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),xe?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:n.jsx(yh,{className:"h-9 w-9 text-amber-500"})}),n.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),n.jsx("div",{className:"mt-3",children:n.jsxs(St,{onClick:X,variant:"primary",children:[n.jsx(I0,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(qe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading users"})]}):Pe.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(ha,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(Id,{children:"User"}),n.jsx(Id,{children:"Email"}),n.jsx(Id,{children:"Role"}),n.jsx(Id,{children:"Status"}),n.jsx(Id,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:$e.map(oe=>n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(zd,{children:n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(N1,{url:oe.profile_photo_url,name:oe.name}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:oe.name}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",oe.id]})]})]})}),n.jsx(zd,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[n.jsx(Pa,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"text-xs font-medium break-words",children:oe.email})]})}),n.jsx(zd,{children:n.jsx(Ld,{className:`border ${j1(oe.role)}`,children:oe.role==="admin"?n.jsxs(n.Fragment,{children:[n.jsx(Kb,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):n.jsxs(n.Fragment,{children:[n.jsx(ul,{className:"mr-1 h-3.5 w-3.5"})," User"]})})}),n.jsx(zd,{children:oe.email_verified?n.jsxs(Ld,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):n.jsxs(Ld,{className:"border bg-red-100 text-red-700 border-red-200",children:[n.jsx(Nr,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})}),n.jsx(zd,{children:n.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[n.jsx(St,{onClick:()=>vt(oe),variant:"outline",size:"sm",title:"View details",children:n.jsx(On,{className:"h-4 w-4"})}),n.jsx(St,{onClick:()=>Ie(oe),variant:"outline",size:"sm",title:"Edit",children:n.jsx(Jd,{className:"h-4 w-4"})}),n.jsx(St,{onClick:()=>Q(oe.id),variant:"subtle",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",title:"Reset password",children:n.jsx(_c,{className:"h-4 w-4"})}),n.jsx(St,{onClick:()=>De(oe),disabled:ie===oe.id,variant:"subtle",size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50",title:"Login as this user",children:ie===oe.id?n.jsx(qe,{className:"h-4 w-4 animate-spin"}):n.jsx(yh,{className:"h-4 w-4"})}),n.jsx(St,{onClick:()=>Be(oe.id),variant:"danger",size:"sm",title:"Delete",children:f===oe.id?n.jsx(qe,{className:"h-4 w-4 animate-spin"}):n.jsx(ta,{className:"h-4 w-4"})}),oe.profile_photo_url?n.jsx(St,{onClick:()=>on(oe.id),disabled:we===oe.id,variant:"subtle",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",title:"Remove profile photo",children:we===oe.id?n.jsx(qe,{className:"h-4 w-4 animate-spin"}):n.jsx(o3,{className:"h-4 w-4"})}):null]})})]},oe.id))})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:$e.map((oe,Z)=>n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Z===0&&n.jsx(lme,{}),n.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[n.jsx(N1,{size:48,url:oe.profile_photo_url,name:oe.name}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:oe.name}),n.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-slate-600 min-w-0",children:[n.jsx(Pa,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("span",{className:"truncate break-words",children:oe.email})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border ${j1(oe.role)} text-[11px] font-semibold`,children:oe.role==="admin"?n.jsxs(n.Fragment,{children:[n.jsx(Kb,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):n.jsxs(n.Fragment,{children:[n.jsx(ul,{className:"mr-1 h-3.5 w-3.5"})," User"]})}),oe.email_verified?n.jsxs(Ld,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):n.jsxs(Ld,{className:"border bg-red-100 text-red-700 border-red-200",children:[n.jsx(Nr,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})]})]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs(St,{onClick:()=>vt(oe),size:"sm",className:"grow sm:grow-0",children:[n.jsx(On,{className:"h-4 w-4 mr-1"}),"View"]}),n.jsxs(St,{onClick:()=>Ie(oe),size:"sm",className:"grow sm:grow-0",children:[n.jsx(Jd,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(St,{onClick:()=>Q(oe.id),size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 grow sm:grow-0",children:[n.jsx(_c,{className:"h-4 w-4 mr-1"}),"Reset"]}),n.jsx(St,{onClick:()=>De(oe),disabled:ie===oe.id,size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 grow sm:grow-0",title:"Login as this user",children:ie===oe.id?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-1"})," Acting"]}):n.jsxs(n.Fragment,{children:[n.jsx(yh,{className:"h-4 w-4 mr-1"})," Login as"]})}),n.jsx(St,{onClick:()=>Be(oe.id),variant:"danger",size:"sm",className:"grow sm:grow-0",children:f===oe.id?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(ta,{className:"h-4 w-4 mr-1"})," Delete"]})}),oe.profile_photo_url&&n.jsx(St,{onClick:()=>on(oe.id),disabled:we===oe.id,className:"w-full border-amber-200 text-amber-700 hover:bg-amber-50",children:we===oe.id?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Removing photo"]}):n.jsxs(n.Fragment,{children:[n.jsx(o3,{className:"h-4 w-4 mr-2"}),"Remove photo"]})})]}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",oe.id]})]},oe.id))})}),Pe.length>_&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:je+1}),"",n.jsx("b",{children:Math.min(Qe,Pe.length)})," of"," ",n.jsx("b",{children:Pe.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(St,{onClick:()=>k(oe=>Math.max(1,oe-1)),disabled:S===1,children:[n.jsx(ba,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Ze)},(oe,Z)=>{let ne;if(Ze<=5||S<=3?ne=Z+1:S>=Ze-2?ne=Ze-4+Z:ne=S-2+Z,ne<1||ne>Ze)return null;const le=S===ne;return n.jsx("button",{onClick:()=>k(ne),className:`px-3 py-2 text-sm font-semibold rounded-xl ${le?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:ne},ne)})}),n.jsxs(St,{onClick:()=>k(oe=>Math.min(Ze,oe+1)),disabled:S>=Ze,children:["Next ",n.jsx(gn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(Pt,{children:Y&&n.jsxs(Fd,{onClose:()=>H(!1),title:"Add User",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(yc,{label:"Name",children:n.jsx("input",{value:W.name,onChange:oe=>de(Z=>({...Z,name:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter full name"})}),n.jsx(yc,{label:"Email",children:n.jsx("input",{type:"email",value:W.email,onChange:oe=>de(Z=>({...Z,email:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),n.jsx(yc,{label:"Role",children:n.jsxs("select",{value:W.role,onChange:oe=>de(Z=>({...Z,role:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:W.setPasswordManually,onChange:oe=>de(Z=>({...Z,setPasswordManually:oe.target.checked,password:oe.target.checked?Z.password:""}))}),n.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),W.setPasswordManually&&n.jsx("div",{className:"mt-3",children:n.jsx("input",{type:"text",value:W.password,onChange:oe=>de(Z=>({...Z,password:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter initial password"})})]})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(St,{onClick:()=>H(!1),variant:"subtle",children:"Cancel"}),n.jsx(St,{onClick:An,disabled:B||!W.name.trim()||!W.email.trim()||W.setPasswordManually&&W.password.trim().length<6,variant:"primary",children:B?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):n.jsxs(n.Fragment,{children:[n.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),n.jsx(Pt,{children:$&&n.jsxs(Fd,{onClose:()=>z(null),title:"Initial Password",children:[n.jsx("div",{className:"text-sm text-slate-700",children:"This user was created with an auto-generated password. Copy it now and share securely."}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx(_c,{className:"h-4 w-4 text-slate-600"}),n.jsx("code",{className:"font-mono text-slate-900 break-all",children:$}),n.jsxs(St,{onClick:()=>{navigator.clipboard.writeText($),I.success("Copied!")},className:"ml-auto",children:[n.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx(St,{onClick:()=>z(null),variant:"primary",children:"Got it"})})]})}),n.jsx(Pt,{children:C&&A&&n.jsxs(Fd,{onClose:()=>P(!1),title:"Edit User",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(yc,{label:"Name",children:n.jsx("input",{value:A.name,onChange:oe=>T(Z=>({...Z,name:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})}),n.jsx(yc,{label:"Email",children:n.jsx("input",{type:"email",value:A.email,onChange:oe=>T(Z=>({...Z,email:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email"})}),n.jsx(yc,{label:"Role",children:n.jsxs("select",{value:A.role,onChange:oe=>T(Z=>({...Z,role:oe.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(St,{onClick:()=>P(!1),variant:"subtle",children:"Cancel"}),n.jsx(St,{onClick:ze,disabled:R||!A.name||!A.email,variant:"primary",children:R?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),n.jsx(Pt,{children:V&&n.jsxs(Fd,{onClose:()=>K(null),title:"Confirm Delete",children:[n.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete"," ",n.jsx("b",{className:"break-words",children:((nt=e.find(oe=>oe.id===V))==null?void 0:nt.name)||"this user"}),"? This action cannot be undone."]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(St,{onClick:()=>K(null),variant:"subtle",children:"Cancel"}),n.jsx(St,{onClick:ct,disabled:f===V,variant:"danger",children:f===V?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):"Delete"})]})]})}),n.jsx(Pt,{children:J&&n.jsx(Fd,{onClose:()=>{Q(null),Ce(null),pe(!1),Ve("")},title:"Reset Password",children:be?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-slate-700",children:"Auto-generated password. Copy it now and share securely."}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx(_c,{className:"h-4 w-4 text-slate-600"}),n.jsx("code",{className:"font-mono text-slate-900 break-all",children:be}),n.jsxs(St,{onClick:()=>{navigator.clipboard.writeText(be),I.success("Copied!")},className:"ml-auto",children:[n.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx(St,{onClick:()=>{Q(null),Ce(null)},variant:"primary",children:"Done"})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:ke,onChange:oe=>pe(oe.target.checked)}),n.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),ke&&n.jsx("input",{type:"text",value:Ue,onChange:oe=>Ve(oe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter new password"})]}),n.jsxs("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[n.jsx(St,{onClick:()=>{Q(null),pe(!1),Ve("")},variant:"subtle",children:"Cancel"}),n.jsx(St,{onClick:Qt,disabled:Se||ke&&Ue.trim().length<6,variant:"primary",children:Se?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Reset"})]})]})})}),n.jsx(Pt,{children:F&&n.jsx(cme,{onClose:()=>L(!1),title:"User Details",children:te?n.jsxs("div",{className:"grid place-content-center h-48",children:[n.jsx(qe,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-2"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading details"})]}):re?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(N1,{url:f0(re.user.profile_photo_url||re.user.profile_photo),name:re.user.name,size:48}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-bold text-slate-900 truncate",children:re.user.name}),n.jsx("div",{className:"text-sm text-slate-600 break-words",children:re.user.email}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border text-xs font-semibold ${j1(re.user.role)}`,children:re.user.role})})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[n.jsx(Bd,{label:"Phone Numbers",value:re.counts.purchased_numbers}),n.jsx(Bd,{label:"Assistants",value:re.counts.assistants}),n.jsx(Bd,{label:"Call Logs",value:re.counts.call_logs}),n.jsx(Bd,{label:"Documents",value:re.counts.documents}),n.jsx(Bd,{label:"Leads",value:re.counts.leads})]}),n.jsx(Ud,{title:"Phone Numbers",items:(re.purchased_numbers||[]).map(oe=>({k:oe.id,primary:oe.phone_number,secondary:oe.iso_country||oe.region||"",badge:oe.friendly_name}))}),n.jsx(Ud,{title:"Assistants",items:(re.assistants||[]).map(oe=>({k:oe.id,primary:oe.name||oe.vapi_assistant_id,secondary:oe.provider||oe.model||"",badge:oe.category}))}),n.jsx(Ud,{title:"Documents",items:(re.documents||[]).map(oe=>({k:oe.id,primary:oe.file_name,secondary:oe.vapi_file_id}))}),n.jsx(Ud,{title:"Leads",items:(re.leads||[]).map(oe=>({k:oe.id,primary:`${oe.first_name||""} ${oe.last_name||""}`.trim()||oe.email,secondary:(oe.email||oe.mobile||"").toString(),badge:oe.state||oe.timezone}))}),n.jsx(Ud,{title:"Call Logs",items:(re.call_logs||[]).map(oe=>({k:oe.id,primary:oe.customer_name||oe.customer_number||oe.call_id,secondary:`${oe.status||""}  ${oe.call_duration||0}s`}))})]}):n.jsx("div",{className:"text-sm text-slate-600",children:"No details."})})})]})}function m0({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function N1({url:e,name:t,size:a=38}){const[r,s]=g.useState(!1),l=(t||"?").split(" ").map(d=>d.charAt(0)).join("").toUpperCase().slice(0,2),c=r||!e;return n.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:a,height:a},children:c?n.jsx("span",{style:{fontSize:a<40?12:13},children:l}):n.jsx("img",{src:e,alt:t,width:a,height:a,className:"h-full w-full object-cover max-w-full",onError:()=>s(!0)})})}function Id({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function zd({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function yc({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Bd({label:e,value:t}){return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-xs text-slate-500",children:e}),n.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:t})]})}function Ud({title:e,items:t}){const a=(t||[]).slice(0,5);return a.length===0?null:n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:e}),n.jsx("div",{className:"space-y-2",children:a.map(r=>n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold text-slate-800 truncate",children:r.primary}),n.jsx("div",{className:"text-xs text-slate-500 break-words",children:r.secondary})]}),r.badge&&n.jsx("span",{className:"ml-3 shrink-0 rounded-full border border-slate-300 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:r.badge})]},r.k))})]})}function Fd({children:e,onClose:t,title:a}){return n.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(St,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(va,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function cme({children:e,onClose:t,title:a}){return n.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(St,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:n.jsx(va,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const Vd="https://aisdr-dbt.ddns.net",ume=[`${Vd}/api/admin/basic-admin-stats`,`${Vd}/basic-admin-stats`,`${Vd}/api/basic-admin-stats`,`${Vd}/statistics`,`${Vd}/api/statistics`],sa={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",light:"#e6f6ff"},D0="3 3";function dme(){const[e,t]=g.useState({width:0,height:0});return g.useEffect(()=>{const a=()=>t({width:window.innerWidth,height:window.innerHeight});return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}function w9(e){const t=Number(e||0);return t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k":t.toLocaleString()}function AE(e={},t="name",a="value"){return Object.entries(e||{}).map(([r,s])=>({[t]:String(r),[a]:Number(s||0)}))}function Vl(e){const a=Math.max(0,Number(e)||0),r=Array.from({length:12},(s,l)=>{const c=l/11,d=Math.sin(c*Math.PI)*.45,f=(Math.random()-.5)*.14,m=Math.max(0,Math.round(a*(.55+d+f)));return{label:`P${l+1}`,value:m}});return r.length&&(r[r.length-1].value=a),r}async function fme(){var a;const e=localStorage.getItem("token")||localStorage.getItem("auth_token");let t;for(const r of ume)try{const s=await fetch(r,{headers:{Accept:"application/json",...e?{Authorization:`Bearer ${e}`}:{}},mode:"cors"});if(!s.ok){t=new Error(`HTTP ${s.status}`);continue}const l=await s.json();if(l!=null&&l.success&&((a=l==null?void 0:l.stats)!=null&&a.totals)||l)return l}catch(s){t=s}throw t||new Error("Failed to fetch stats")}function mme({value:e,className:t}){const a=Yc(0),[r,s]=g.useState(0);return g.useEffect(()=>{const l=TG(a,Number(e||0),{duration:.5,ease:"easeOut"}),c=a.on("change",d=>s(Math.round(d)));return()=>{l.stop(),c()}},[e]),n.jsx("span",{className:t,children:w9(r)})}function hme({points:e,width:t,height:a}){if(!e||!e[0])return null;const r=e[0].x;return n.jsxs("g",{children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),n.jsxs("filter",{id:"neonGlowLine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsx("line",{x1:r,x2:r,y1:0,y2:a,stroke:"url(#neonStroke)",strokeWidth:2,opacity:.85,filter:"url(#neonGlowLine)"})]})}function S1(e){const{x:t,y:a,width:r,height:s}=e;return n.jsxs("g",{children:[n.jsx("defs",{children:n.jsxs("filter",{id:"neonGlowRect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx("rect",{x:t,y:a,width:r,height:s,fill:"rgba(34,211,238,0.18)",stroke:"rgba(37,99,235,0.6)",strokeWidth:1,rx:8,filter:"url(#neonGlowRect)"})]})}function TE(e){const{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,fill:d}=e;return n.jsxs("g",{children:[n.jsx("defs",{children:n.jsxs("filter",{id:"neonGlowPie",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx(P2,{cx:t,cy:a,innerRadius:r,outerRadius:s+6,startAngle:l,endAngle:c,fill:d,stroke:"#ffffff",strokeWidth:2,filter:"url(#neonGlowPie)"})]})}function wc({title:e,right:t,children:a,className:r=""}){return n.jsxs("div",{className:`relative rounded-3xl border border-slate-200 bg-white p-5 sm:p-6 shadow-xl overflow-hidden ${r}`,children:[n.jsx(pme,{}),n.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[n.jsx("h2",{className:"text-sm sm:text-base font-semibold text-slate-700",children:e}),t]}),a]})}function pme(){return n.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[n.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:`linear-gradient(90deg, ${sa.cyan}33, transparent)`,filter:"blur(22px)",opacity:.6}}),n.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function xme({label:e,value:t,icon:a,color:r,series:s,badge:l="Live",loading:c}){const d=Yc(0),f=Yc(0),m=V0(f,[-60,60],[10,-10]),h=V0(d,[-60,60],[-10,10]),x=g.useRef(null);return n.jsxs(he.div,{ref:x,onMouseMove:b=>{var w;const y=(w=x.current)==null?void 0:w.getBoundingClientRect();y&&(d.set(b.clientX-y.left-y.width/2),f.set(b.clientY-y.top-y.height/2))},onMouseLeave:()=>{d.set(0),f.set(0)},style:{rotateX:m,rotateY:h},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl transition-transform duration-300",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${r}66, #ffffff00)`}}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:n.jsx(a,{className:"h-6 w-6 sm:h-7 sm:w-7",style:{color:r}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900",children:c?n.jsx(gme,{}):n.jsx(mme,{value:t})}),l&&n.jsx("span",{className:"hidden xs:inline-flex rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[9px] sm:text-[10px] font-semibold text-white shadow-sm",children:l})]})]})]}),n.jsx("div",{className:"mt-3 h-[110px] xs:h-[130px] sm:h-[140px] md:h-[160px]",children:c?n.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):n.jsx(hs,{width:"100%",height:"100%",children:n.jsxs(iS,{data:s,margin:{top:2,right:8,left:-10,bottom:0},children:[n.jsx("defs",{children:n.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx(ll,{strokeDasharray:D0,strokeOpacity:.12}),n.jsx(ni,{dataKey:"label",hide:!0}),n.jsx(ai,{hide:!0,domain:[0,"dataMax+"]}),n.jsx(ms,{contentStyle:{borderRadius:12},cursor:n.jsx(hme,{})}),n.jsx(kx,{type:"monotone",dataKey:"value",stroke:r,strokeWidth:2.2,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"}})]})})})]})]})}function gme(){return n.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function bme(){const{width:e}=dme(),t=e<768,[a,r]=g.useState(!0),[s,l]=g.useState(""),[c,d]=g.useState(null),[f,m]=g.useState(null),[h,x]=g.useState(null),[b,y]=g.useState({users:0,leads:0,files:0,knowledge_base_documents:0,assistants:0,phone_numbers:0,call_logs:0}),[w,j]=g.useState({}),[S,k]=g.useState({attached_to_assistant:0,unattached:0}),[_,C]=g.useState({transferred:0,not_transferred:0,by_status:{}}),P=async()=>{try{r(!0),l("");const F=await fme(),L=(F==null?void 0:F.stats)||F||{},te=(L==null?void 0:L.totals)||{};y({users:Number(te.users||0),leads:Number(te.leads||0),files:Number(te.files||0),knowledge_base_documents:Number(te.knowledge_base_documents||0),assistants:Number(te.assistants||0),phone_numbers:Number(te.phone_numbers||0),call_logs:Number(te.call_logs||0)}),j((L==null?void 0:L.users_by_role)||{}),k((L==null?void 0:L.phone_numbers)||{attached_to_assistant:0,unattached:0}),C((L==null?void 0:L.call_logs)||{transferred:0,not_transferred:0,by_status:{}}),d((F==null?void 0:F.generated_at)||new Date().toISOString())}catch(F){const L=(F==null?void 0:F.message)||"Failed to load stats",te=L.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(L+te)}finally{r(!1)}};g.useEffect(()=>{P()},[]);const A=g.useMemo(()=>[{key:"users",label:"Users",value:b.users,icon:ha,color:sa.blue,series:Vl(b.users)},{key:"leads",label:"Leads",value:b.leads,icon:ul,color:sa.cyan,series:Vl(b.leads)},{key:"files",label:"Files",value:b.files,icon:zp,color:sa.sky,series:Vl(b.files)},{key:"assistants",label:"Assistants",value:b.assistants,icon:xj,color:sa.cyan,series:Vl(b.assistants)},{key:"phone_numbers",label:"Phone Numbers",value:b.phone_numbers,icon:ht,color:sa.sky,series:Vl(b.phone_numbers)},{key:"knowledge_base_documents",label:"KB Docs",value:b.knowledge_base_documents,icon:Dc,color:sa.blue,series:Vl(b.knowledge_base_documents)},{key:"call_logs",label:"Call Logs",value:b.call_logs,icon:U1,color:sa.cyan,series:Vl(b.call_logs)}],[b]),T=g.useMemo(()=>AE(w,"name","value"),[w]),R=g.useMemo(()=>[{name:"Attached",value:Number(S.attached_to_assistant||0)},{name:"Unattached",value:Number(S.unattached||0)}],[S]),O=g.useMemo(()=>[{name:"Transferred",value:Number(_.transferred||0)},{name:"Not Transferred",value:Number(_.not_transferred||0)}],[_]),V=g.useMemo(()=>AE(_.by_status||{},"status","count"),[_]),K=g.useMemo(()=>[{name:"Users",value:b.users},{name:"Leads",value:b.leads},{name:"Files",value:b.files},{name:"Assistants",value:b.assistants},{name:"Phones",value:b.phone_numbers},{name:"KB",value:b.knowledge_base_documents},{name:"Calls",value:b.call_logs}],[b]);return n.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),s&&n.jsx("div",{className:"w-full px-3 sm:px-4 pt-4 mb-6",children:n.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s})}),n.jsx("header",{className:"w-full px-3 sm:px-4 pt-8 pb-6",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),n.jsx("p",{className:"mt-1 text-xs sm:text-sm md:text-base text-slate-600",children:"Neon-lite analytics  blue / cyan palette."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[n.jsx(qe,{className:"h-4 w-4"}),"Refresh"]}),n.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500",children:c?`Updated: ${new Date(c).toLocaleString()}`:""})]})]})}),n.jsxs("main",{className:"w-full px-3 sm:px-4 pb-12",children:[n.jsx("section",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-5",children:A.map(F=>n.jsx(xme,{label:F.label,value:F.value,icon:F.icon,color:F.color,series:F.series,loading:a},F.key))}),n.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-2 gap-5 xl:gap-6",children:[n.jsx(wc,{title:"Overview by Metric",right:n.jsx(Hd,{text:"Bars"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:n.jsx(hs,{width:"100%",height:"100%",children:n.jsxs(E0,{data:K,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[n.jsxs("defs",{children:[n.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:sa.sky}),n.jsx("stop",{offset:"100%",stopColor:sa.light})]})]}),n.jsx(ll,{strokeDasharray:D0,strokeOpacity:.2}),n.jsx(ni,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),n.jsx(ai,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),n.jsx(ms,{contentStyle:{borderRadius:12},cursor:n.jsx(S1,{})}),n.jsx(cf,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},maxBarSize:t?38:60})]})})})}),n.jsx(wc,{title:"Users by Role",right:n.jsx(Hd,{text:"Bars"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:n.jsx(hs,{width:"100%",height:"100%",children:n.jsxs(E0,{data:T,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"roleFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:sa.blue}),n.jsx("stop",{offset:"100%",stopColor:"#eaf2ff"})]})}),n.jsx(ll,{strokeDasharray:D0,strokeOpacity:.2}),n.jsx(ni,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),n.jsx(ai,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),n.jsx(ms,{contentStyle:{borderRadius:12},cursor:n.jsx(S1,{})}),n.jsx(cf,{dataKey:"value",fill:"url(#roleFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),n.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-6",children:[n.jsx(wc,{title:"Phone Numbers  Attached vs Unattached",right:n.jsx(Hd,{text:"Donut"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:n.jsx(hs,{width:"100%",height:"100%",children:n.jsxs(Tp,{children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"pieGradPhones",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:sa.cyan}),n.jsx("stop",{offset:"100%",stopColor:sa.blue})]})}),n.jsx(ms,{contentStyle:{borderRadius:12}}),n.jsxs(Df,{data:R,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:f,onMouseEnter:(F,L)=>m(L),onMouseLeave:()=>m(null),activeShape:TE,label:t?({name:F,percent:L})=>L>=.18?F:"":!1,labelLine:!1,children:[n.jsx(Qs,{fill:"url(#pieGradPhones)"}),n.jsx(Qs,{fill:"#bfe9ff"})]})]})})})}),n.jsx(wc,{title:"Calls  Transferred vs Not",right:n.jsx(Hd,{text:"Donut"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:n.jsx(hs,{width:"100%",height:"100%",children:n.jsxs(Tp,{children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"pieGradCalls",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:sa.sky}),n.jsx("stop",{offset:"100%",stopColor:sa.blue})]})}),n.jsx(ms,{contentStyle:{borderRadius:12}}),n.jsxs(Df,{data:O,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:h,onMouseEnter:(F,L)=>x(L),onMouseLeave:()=>x(null),activeShape:TE,label:t?({name:F,percent:L})=>L>=.18?F:"":!1,labelLine:!1,children:[n.jsx(Qs,{fill:"url(#pieGradCalls)"}),n.jsx(Qs,{fill:"#d7eeff"})]})]})})})}),n.jsx(wc,{title:"Call Logs  by Status",right:n.jsx(Hd,{text:"Bars"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:n.jsx(hs,{width:"100%",height:"100%",children:n.jsxs(E0,{data:V,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"statusFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:sa.cyan}),n.jsx("stop",{offset:"100%",stopColor:"#ecfbff"})]})}),n.jsx(ll,{strokeDasharray:D0,strokeOpacity:.2}),n.jsx(ni,{dataKey:"status",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),n.jsx(ai,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),n.jsx(ms,{contentStyle:{borderRadius:12},cursor:n.jsx(S1,{})}),n.jsx(cf,{dataKey:"count",fill:"url(#statusFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),n.jsx("section",{className:"mt-8",children:n.jsx(wc,{title:"Status Breakdown (Compact List)",children:a?n.jsx("div",{className:"h-24 w-full animate-pulse rounded-xl bg-slate-100"}):n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[V.length===0&&n.jsx("div",{className:"text-sm text-slate-500",children:"No call status data."}),V.map(F=>n.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[n.jsx("span",{className:"text-sm font-medium text-slate-700 truncate pr-3",children:F.status}),n.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:w9(F.count)})]},F.status))]})})}),n.jsxs("footer",{className:"mt-10 mb-2 w-full text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon dashboard."]})]})]})}function Hd({text:e}){return n.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-1 text-[10px] font-semibold text-white shadow-sm",children:e})}function vme(){const e=Zt(),[t,a]=g.useState(!1),[r,s]=g.useState(!1),[l,c]=g.useState(["","","",""]),[d,f]=g.useState({name:"",email:"",password:""}),[m,h]=g.useState(!1),[x,b]=g.useState({profile:!1,update:!1,delete:!1,otp:!1}),y=g.useRef([]),w=g.useRef(null),j=async()=>{var R,O;b(V=>({...V,profile:!0}));try{const V=localStorage.getItem("token");if(!V){I.error("Authentication required. Please login again."),e("/login");return}const K=await fetch("http://localhost:8000/api/search-user",{headers:{Authorization:`Bearer ${V}`}});if(!K.ok){const L=await K.json();throw new Error(L.detail||"Failed to fetch user data")}const F=await K.json();f({name:((R=F.users)==null?void 0:R.name)||"",email:((O=F.users)==null?void 0:O.email)||"",password:""})}catch(V){I.error(V.message),V.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"))}finally{b(V=>({...V,profile:!1}))}};g.useEffect(()=>{j()},[]);const S=()=>d.name.trim()?d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)?d.password&&d.password.length<8?(I.error("Password must be at least 8 characters long"),!1):!0:(I.error("Please enter a valid email address"),!1):(I.error("Email is required"),!1):(I.error("Name is required"),!1),k=async R=>{if(R.preventDefault(),!!S()){b(O=>({...O,update:!0}));try{const O=localStorage.getItem("token");if(!O)throw new Error("Authentication required. Please login again.");const V={name:d.name,email:d.email,...d.password&&{password:d.password}},K=await fetch("http://localhost:8000/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify(V)});if(!K.ok){const L=await K.json();throw new Error(L.detail||"Failed to update profile")}const F=await K.json();F!=null&&F.otp_needed?(s(!0),setTimeout(()=>{var L;return(L=y.current[0])==null?void 0:L.focus()},0),I.info("Verification code sent to your email")):(localStorage.setItem("name",V.name),I.success("Profile updated successfully"),f(L=>({...L,password:""})))}catch(O){I.error(O.message),O.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(O=>({...O,update:!1}))}}},_=async R=>{if(R.preventDefault(),l.some(O=>!O)){I.error("Please enter the complete verification code");return}b(O=>({...O,otp:!0}));try{const O=localStorage.getItem("token");if(!O)throw new Error("Authentication required. Please login again.");const V=await fetch("http://localhost:8000/api/update-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({email:d.email,code:l.join(""),name:d.name,...d.password&&{password:d.password}})});if(!V.ok){const K=await V.json();throw new Error(K.detail||"Verification failed")}I.success("Account verified successfully"),s(!1),c(["","","",""]),localStorage.setItem("name",d.name),localStorage.setItem("email",d.email),f(K=>({...K,password:""}))}catch(O){I.error(O.message),O.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(O=>({...O,otp:!1}))}},C=async()=>{b(R=>({...R,delete:!0}));try{const R=localStorage.getItem("token");if(!R)throw new Error("Authentication required. Please login again.");const O=await fetch("http://localhost:8000/api/delete-account",{method:"DELETE",headers:{Authorization:`Bearer ${R}`}});if(!O.ok){const V=await O.json();throw new Error(V.detail||"Failed to delete account")}I.success("Account deleted successfully"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(R){I.error(R.message),R.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(R=>({...R,delete:!1}))}},P=(R,O)=>{var V;if(/^\d?$/.test(O)){const K=[...l];K[R]=O,c(K),O&&R<3&&((V=y.current[R+1])==null||V.focus())}},A=(R,O)=>{var V;O.key==="Backspace"&&!l[R]&&R>0&&((V=y.current[R-1])==null||V.focus())},T=async()=>{var R;b(O=>({...O,otp:!0}));try{const O=localStorage.getItem("token");if(!O)throw new Error("Authentication required. Please login again.");const V=await fetch("http://localhost:8000/api/resend-otp-update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({email:d.email})});if(!V.ok){const K=await V.json();throw new Error(K.detail||"Failed to resend OTP")}c(["","","",""]),(R=y.current[0])==null||R.focus(),I.success("OTP resent successfully")}catch(O){I.error(O.message),O.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(O=>({...O,otp:!1}))}};return n.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:n.jsxs("div",{className:"flex-1 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[(x.profile||x.update||x.delete||x.otp)&&n.jsx("div",{className:"flex justify-center items-center mb-4",children:n.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),r?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(rj,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Email Verification"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(rj,{className:"w-5 h-5 text-blue-600 mr-2"}),n.jsx("h3",{className:"font-semibold text-blue-900",children:"Verification Required"})]}),n.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["We've sent a 4-digit verification code to"," ",n.jsx("strong",{children:d.email}),". Please enter it below."]}),n.jsxs("form",{onSubmit:_,children:[n.jsx("div",{className:"flex justify-center gap-3 mb-4",children:l.map((R,O)=>n.jsx("input",{type:"text",maxLength:"1",value:R,onChange:V=>P(O,V.target.value),onKeyDown:V=>A(O,V),ref:V=>y.current[O]=V,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-xl font-bold text-gray-900 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0",disabled:x.otp},O))}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[n.jsx("button",{type:"submit",disabled:l.some(R=>!R)||x.otp,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.otp?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(aj,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})}),n.jsx("button",{type:"button",onClick:T,disabled:x.otp,className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Resend OTP"})]})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(zc,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Account Settings"}),n.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"Manage your account information and preferences"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(zc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Profile Information"})]}),n.jsxs("form",{ref:w,onSubmit:k,children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[n.jsx(zc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),n.jsx("input",{type:"text",value:d.name,onChange:R=>f({...d,name:R.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[n.jsx(i9,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Email Address"]}),n.jsx("input",{type:"email",value:d.email,onChange:R=>f({...d,email:R.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[n.jsx(l9,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Password (optional)"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:t?"text":"password",value:d.password,onChange:R=>f({...d,password:R.target.value}),placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base",disabled:x.profile||x.update,minLength:8}),n.jsx("button",{type:"button",onClick:()=>a(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:x.profile||x.update,children:t?n.jsx(Zd,{className:"w-5 h-5"}):n.jsx(Qd,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:d.password?"Password must be at least 8 characters":"Leave blank to keep current password"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{type:"submit",disabled:x.profile||x.update,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.update?n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Saving..."]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(aj,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center",children:n.jsx(Ep,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-900",children:"Danger Zone"})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),n.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),n.jsx("button",{onClick:()=>h(!0),disabled:x.profile||x.update,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(sj,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})]}),m&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50  bg-opacity-50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:n.jsx(Ep,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete"})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>h(!1),disabled:x.delete,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{h(!1),C()},disabled:x.delete,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:x.delete?n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(sj,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})})]}),n.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsx("div",{className:"absolute -inset-x-20 -top-14 h-28 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[n.jsx("p",{className:"text-sm text-slate-600 text-center sm:text-left",children:"By using this app you agree to our Terms of Service and Privacy Policy"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms of Service"}),n.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})]})})}const R0="https://aisdr-dbt.ddns.net",_1={CALL_LOGS:`${R0}/api/admin/call-logs`,VAPI_CALL_LOGS:`${R0}/api/admin/vapi-call-logs`,CALL_LOG:e=>`${R0}/api/admin/call-logs/${e}`},yme="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",EE=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${R0}${t}`},Gt=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t},qd=e=>{if(!e)return"Unknown";try{const t=new Date(e);return Number.isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}},h0=e=>{if(e==null||Number.isNaN(Number(e)))return"Unknown";const t=Number(e),a=Math.floor(t/60),r=Math.floor(t%60);return`${a}m ${r}s`},jc=e=>String(e??"").toLowerCase();function PE(e=[],t=[]){const a=[],r=new Map;for(const s of e){const l={_key:s.call_id?`local:${s.call_id}`:`local-id:${s.id}`,source:"local",id:s.id,call_id:s.call_id||null,started_at:s.call_started_at||null,ended_at:s.call_ended_at||null,duration:s.call_duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.call_ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:s.user||null,assistant_id:null,phone_number_id:null,summary:null,transcript:null,analysis:null,recording_url:null,created_at:null,updated_at:null};a.push(l),l.call_id&&r.set(l.call_id,l)}for(const s of t){const l=s.call_id&&r.get(s.call_id),c={_key:s.call_id?`vapi:${s.call_id}`:`vapi-id:${s.id}`,source:"vapi",id:s.id,call_id:s.call_id||null,started_at:s.started_at||s.created_at||null,ended_at:s.ended_at||null,duration:s.duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:null,assistant_id:s.assistant_id||null,phone_number_id:s.phone_number_id||null,summary:s.summary||null,transcript:s.transcript||null,analysis:s.analysis||null,recording_url:s.recording_url||null,created_at:s.created_at||null,updated_at:s.updated_at||null};l?(l.assistant_id=l.assistant_id||c.assistant_id,l.phone_number_id=l.phone_number_id||c.phone_number_id,l.summary=c.summary??l.summary,l.transcript=c.transcript??l.transcript,l.analysis=c.analysis??l.analysis,l.recording_url=c.recording_url??l.recording_url,l.created_at=c.created_at??l.created_at,l.updated_at=c.updated_at??l.updated_at,l.source="both"):(a.push(c),c.call_id&&r.set(c.call_id,c))}return a.sort((s,l)=>new Date(l.started_at||0)-new Date(s.started_at||0)),a}function OE(e,t){const a=new Blob([t],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download=e,s.click(),URL.revokeObjectURL(r)}function wme(e){var s,l,c;const t=["id","call_id","source","customer_name","customer_number","started_at","ended_at","duration","cost","status","ended_reason","transferred","criteria_satisfied","assistant_id","phone_number_id","user_id","user_name","user_email"],a=d=>{const f=d==null?"":String(d);return/[",\n]/.test(f)?`"${f.replaceAll('"','""')}"`:f},r=[t.join(",")];for(const d of e)r.push([d.id??"",d.call_id??"",d.source??"",d.customer_name??"",d.customer_number??"",d.started_at??"",d.ended_at??"",d.duration??"",d.cost??"",d.status??"",d.ended_reason??"",d.transferred??"",d.criteria_satisfied??"",d.assistant_id??"",d.phone_number_id??"",((s=d.user)==null?void 0:s.id)??"",((l=d.user)==null?void 0:l.name)??"",((c=d.user)==null?void 0:c.email)??""].map(a).join(","));return r.join(`
`)}function jme(){var ie;const[e,t]=g.useState([]),[a,r]=g.useState([]),[s,l]=g.useState([]),[c,d]=g.useState(!1),[f,m]=g.useState(""),[h,x]=g.useState(!0),[b,y]=g.useState(""),[w,j]=g.useState("all"),[S,k]=g.useState("all"),[_,C]=g.useState(""),[P,A]=g.useState(""),[T,R]=g.useState("started_at"),[O,V]=g.useState("desc"),[K,F]=g.useState(1),L=10,[te,Ne]=g.useState(!1),[re,D]=g.useState(null),[Y,H]=g.useState(null),[B,E]=g.useState(null),[$,z]=g.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),W=g.useCallback(async()=>{if($){m("You're in impersonation mode. Exit impersonation to use admin tools."),t([]),r([]),l([]);return}const G=localStorage.getItem("token");if(!G){m("No auth token found."),I.error("No authentication token found."),t([]),r([]),l([]);return}try{d(!0),m("");const xe={Authorization:`Bearer ${G}`,Accept:"application/json"},[Ae,Le]=await Promise.all([fetch(_1.CALL_LOGS,{headers:xe,mode:"cors"}),h?fetch(_1.VAPI_CALL_LOGS,{headers:xe,mode:"cors"}):Promise.resolve(null)]);if(!(Ae!=null&&Ae.ok)){const je=await Ae.text();throw new Error(`Call logs HTTP ${Ae.status}${je?`  ${je}`:""}`)}const Pe=await Ae.json(),Ze=Array.isArray(Pe==null?void 0:Pe.call_logs)?Pe.call_logs:[];let Qe=[];if(h&&Le){if(!Le.ok){const $e=await Le.text();throw new Error(`VAPI call logs HTTP ${Le.status}${$e?`  ${$e}`:""}`)}const je=await Le.json();Qe=Array.isArray(je==null?void 0:je.call_logs)?je.call_logs:[]}t(Ze),r(Qe),l(PE(Ze,Qe))}catch(xe){m((xe==null?void 0:xe.message)||"Failed to load call logs"),I.error((xe==null?void 0:xe.message)||"Failed to load call logs")}finally{d(!1)}},[h,$]);g.useEffect(()=>{W()},[W]),g.useEffect(()=>{l(PE(e,h?a:[]))},[e,a,h]);const de=g.useMemo(()=>{const G=new Set(s.map(xe=>(xe.status||"").toLowerCase()).filter(Boolean));return["all",...Array.from(G)]},[s]),J=g.useMemo(()=>{let G=[...s];if(b.trim()){const xe=b.trim().toLowerCase();G=G.filter(Ae=>{var Le,Pe;return jc(Ae.customer_name).includes(xe)||jc(Ae.customer_number).includes(xe)||jc(Ae.call_id).includes(xe)||jc((Le=Ae.user)==null?void 0:Le.email).includes(xe)||jc((Pe=Ae.user)==null?void 0:Pe.name).includes(xe)})}if(w!=="all"&&(G=G.filter(xe=>jc(xe.status)===w)),S!=="all"){const xe=S==="yes";G=G.filter(Ae=>!!Ae.transferred===xe)}if(_){const xe=new Date(_).getTime();G=G.filter(Ae=>new Date(Ae.started_at||0).getTime()>=xe)}if(P){const xe=new Date(P).getTime();G=G.filter(Ae=>new Date(Ae.started_at||0).getTime()<=xe)}return G.sort((xe,Ae)=>{const Le=O==="asc"?1:-1,Pe=xe[T],Ze=Ae[T];return T.includes("date")||T.includes("started")?Le*(new Date(Pe||0)-new Date(Ze||0)):Le*((Pe??0)-(Ze??0))}),G},[s,b,w,S,_,P,T,O]),Q=Math.max(1,Math.ceil(J.length/L)),Se=K*L,ae=Se-L,be=J.slice(ae,Se);g.useEffect(()=>{F(1)},[b,w,S,_,P,T,O]);const Ce=g.useMemo(()=>{const G=J.length,xe=J.filter(Ze=>Ze.transferred).length,Ae=G-xe,Le=J.reduce((Ze,Qe)=>Ze+(Number.isFinite(Number(Qe.duration))?Number(Qe.duration):0),0),Pe=J.reduce((Ze,Qe)=>Ze+(Number.isFinite(Number(Qe.cost))?Number(Qe.cost):0),0);return{total:G,transferred:xe,notTransferred:Ae,totalDuration:Le,totalCost:Pe}},[J]),ke=G=>{D(G),Ne(!0)},pe=G=>H((G==null?void 0:G.id)||null),Ue=async()=>{const G=Y;if(!G)return;const xe=localStorage.getItem("token");if(!xe)return I.error("No authentication token found.");try{E(G);const Ae=await fetch(_1.CALL_LOG(G),{method:"DELETE",headers:{Authorization:`Bearer ${xe}`,Accept:"application/json"}}),Le=await Ae.json();if(!Ae.ok||!(Le!=null&&Le.success))throw new Error((Le==null?void 0:Le.detail)||(Le==null?void 0:Le.message)||`HTTP ${Ae.status}`);I.success(" Call log deleted"),H(null),t(Pe=>Pe.filter(Ze=>Ze.id!==G))}catch(Ae){I.error((Ae==null?void 0:Ae.message)||"Delete failed")}finally{E(null)}},Ve=()=>{const G=wme(J),xe=new Date().toISOString().replace(/[:.]/g,"-");OE(`call-history-${xe}.csv`,G)},we=()=>{y(""),j("all"),k("all"),C(""),A(""),R("started_at"),V("desc")},q=()=>{const G=localStorage.getItem("admin_token_backup");if(!G){I.error("No admin backup token found.");return}localStorage.setItem("token",G),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),z(null),I.success(" Exited impersonation"),window.location.reload()};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[$&&n.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:n.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[n.jsx(Gb,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),n.jsxs("span",{className:"truncate",children:["Acting as ",n.jsx("b",{className:"break-all",children:Gt((ie=$.acting_as)==null?void 0:ie.email)})]})]}),n.jsx(Sa,{onClick:q,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:"Exit"})]})}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(U1,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${yme}`,children:"Call History"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View, filter, export, and manage call logs from local DB and VAPI."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("div",{className:"text-xs sm:text-sm flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx(yj,{className:"h-4 w-4"}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:h,onChange:G=>x(G.target.checked),disabled:!!$,"aria-label":"Include VAPI logs"}),"Include VAPI logs"]})]}),n.jsxs(Sa,{onClick:Ve,disabled:J.length===0||!!$,"aria-label":"Export CSV",children:[n.jsx(pf,{className:"mr-2 h-4 w-4"})," Export CSV"]}),n.jsx(Sa,{onClick:W,disabled:c||!!$,"aria-label":"Refresh",children:c?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(k1,{label:"Total Calls",value:Ce.total,Icon:Gb,tone:"blue"}),n.jsx(k1,{label:"Transferred",value:Ce.transferred,Icon:Mn,tone:"cyan"}),n.jsx(k1,{label:"Not Transferred",value:Ce.notTransferred,Icon:Nr,tone:"blue"}),n.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-inner ring-1 ring-cyan-200/60",children:n.jsx(s3,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:"Total Duration / Cost"}),n.jsxs("div",{className:"text-sm font-black text-slate-900",children:[h0(Ce.totalDuration),"  $",Ce.totalCost.toFixed(2)]})]})]})})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-12 md:items-end",children:[n.jsxs("div",{className:"md:col-span-4",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ea,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:b,onChange:G=>y(G.target.value),placeholder:"Name, number, call id, user",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!$,"aria-label":"Search calls"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Status"}),n.jsx("select",{value:w,onChange:G=>j(G.target.value),disabled:!!$,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by status",children:de.map(G=>n.jsx("option",{value:G,children:G==="all"?"All statuses":G},G))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Transferred"}),n.jsxs("select",{value:S,onChange:G=>k(G.target.value),disabled:!!$,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by transfer",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"yes",children:"Yes"}),n.jsx("option",{value:"no",children:"No"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"From"}),n.jsx("input",{type:"datetime-local",value:_,onChange:G=>C(G.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"From date"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"To"}),n.jsx("input",{type:"datetime-local",value:P,onChange:G=>A(G.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"To date"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Sort"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:T,onChange:G=>R(G.target.value),className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort by",children:[n.jsx("option",{value:"started_at",children:"Start time"}),n.jsx("option",{value:"duration",children:"Duration"}),n.jsx("option",{value:"cost",children:"Cost"})]}),n.jsxs("select",{value:O,onChange:G=>V(G.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort order",children:[n.jsx("option",{value:"desc",children:"Desc"}),n.jsx("option",{value:"asc",children:"Asc"})]})]})]}),n.jsx("div",{className:"md:col-span-12 flex justify-end",children:(b||w!=="all"||S!=="all"||_||P||T!=="started_at"||O!=="desc")&&n.jsxs(Sa,{onClick:we,className:"text-slate-700","aria-label":"Clear filters",children:[n.jsx(du,{className:"h-4 w-4 mr-2"})," Clear Filters"]})})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(U1,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Calls (",J.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),$?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:n.jsx(Gb,{className:"h-9 w-9 text-amber-500"})}),n.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),n.jsx("div",{className:"mt-3",children:n.jsx(Sa,{onClick:q,variant:"primary",children:"Exit Impersonation"})})]}):c?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(qe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading calls"})]}):J.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(ht,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(Ks,{children:"Caller"}),n.jsx(Ks,{children:"User"}),n.jsx(Ks,{children:"Start"}),n.jsx(Ks,{children:"Duration"}),n.jsx(Ks,{children:"Status"}),n.jsx(Ks,{children:"Transferred"}),n.jsx(Ks,{children:"Cost"}),n.jsx(Ks,{children:"Source"}),n.jsx(Ks,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:be.map(G=>{const xe=G.cost===null||G.cost===void 0||Number.isNaN(Number(G.cost))?"Unknown":Number(G.cost).toFixed(2);return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(Gs,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:Gt(G.customer_name)}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all flex items-center gap-1",children:[n.jsx(ht,{className:"h-3.5 w-3.5"})," ",Gt(G.customer_number)]}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["CID: ",Gt(G.call_id)]})]})}),n.jsx(Gs,{children:G.user?n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-800 truncate flex items-center gap-1",children:[n.jsx(Rc,{className:"h-3.5 w-3.5"})," ",Gt(G.user.name)]}),n.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:Gt(G.user.email)})]}):n.jsx("span",{className:"text-xs text-slate-500",children:"Unknown"})}),n.jsxs(Gs,{children:[n.jsx("div",{className:"text-xs text-slate-800",children:qd(G.started_at)}),n.jsx("div",{className:"text-[11px] text-slate-500",children:qd(G.ended_at)})]}),n.jsx(Gs,{children:n.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[n.jsx(cl,{className:"h-3.5 w-3.5"})," ",h0(G.duration)]})}),n.jsxs(Gs,{children:[n.jsx(Ji,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:Gt(G.status)}),n.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Reason: ",Gt(G.ended_reason)]})]}),n.jsx(Gs,{children:G.transferred?n.jsxs(Ji,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"})," Yes"]}):n.jsxs(Ji,{className:"border bg-red-100 text-red-700 border-red-200",children:[n.jsx(Nr,{className:"mr-1 h-3.5 w-3.5"})," No"]})}),n.jsx(Gs,{children:n.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[n.jsx(s3,{className:"h-3.5 w-3.5"})," ",xe]})}),n.jsx(Gs,{children:n.jsx(Ji,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:Gt(G.source)})}),n.jsx(Gs,{children:n.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[n.jsx(Sa,{onClick:()=>ke(G),variant:"outline",size:"sm",title:"View details","aria-label":"View details",children:n.jsx(On,{className:"h-4 w-4"})}),G.source!=="vapi"&&n.jsx(Sa,{onClick:()=>pe(G),variant:"danger",size:"sm",title:"Delete","aria-label":"Delete",children:B===G.id?n.jsx(qe,{className:"h-4 w-4 animate-spin"}):n.jsx(ta,{className:"h-4 w-4"})})]})})]},G._key)})})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:be.map((G,xe)=>{const Ae=G.cost===null||G.cost===void 0||Number.isNaN(Number(G.cost))?"Unknown":Number(G.cost).toFixed(2);return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[xe===0&&n.jsx(Nme,{}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"text-base font-bold text-slate-900 truncate flex items-center gap-2",children:[n.jsx(ht,{className:"h-4 w-4 text-slate-500"})," ",Gt(G.customer_name)]}),n.jsx("div",{className:"mt-0.5 text-sm text-slate-600 break-all",children:Gt(G.customer_number)}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 break-all",children:["CID: ",Gt(G.call_id)]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:qd(G.started_at)}),n.jsxs("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:[n.jsx(cl,{className:"h-3.5 w-3.5 mr-1"})," ",h0(G.duration)]}),n.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-blue-100 text-blue-700 text-[11px] font-semibold",children:Gt(G.status)}),n.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:Gt(G.source)})]}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Reason: ",Gt(G.ended_reason)]}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Cost: ",Ae]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs(Sa,{onClick:()=>ke(G),size:"sm",className:"grow sm:grow-0","aria-label":"View",children:[n.jsx(On,{className:"h-4 w-4 mr-1"})," View"]}),G.source!=="vapi"&&n.jsx(Sa,{onClick:()=>pe(G),variant:"danger",size:"sm",className:"grow sm:grow-0","aria-label":"Delete",children:B===G.id?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(ta,{className:"h-4 w-4 mr-1"})," Delete"]})})]})]},G._key)})})}),J.length>L&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:ae+1}),"",n.jsx("b",{children:Math.min(Se,J.length)})," of ",n.jsx("b",{children:J.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Sa,{onClick:()=>F(G=>Math.max(1,G-1)),disabled:K===1,children:[n.jsx(ba,{className:"h-4 w-4 mr-1"})," Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Q)},(G,xe)=>{let Ae;if(Q<=5||K<=3?Ae=xe+1:K>=Q-2?Ae=Q-4+xe:Ae=K-2+xe,Ae<1||Ae>Q)return null;const Le=K===Ae;return n.jsx("button",{onClick:()=>F(Ae),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Le?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,"aria-label":`Page ${Ae}`,children:Ae},Ae)})}),n.jsxs(Sa,{onClick:()=>F(G=>Math.min(Q,G+1)),disabled:K>=Q,children:["Next ",n.jsx(gn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(Pt,{children:Y&&n.jsxs(Sme,{onClose:()=>H(null),title:"Confirm Delete",children:[n.jsx("div",{className:"text-slate-800",children:"Are you sure you want to delete this call log? This action cannot be undone."}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Sa,{onClick:()=>H(null),variant:"subtle",children:"Cancel"}),n.jsx(Sa,{onClick:Ue,disabled:B===Y,variant:"danger",children:B===Y?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})}),n.jsx(Pt,{children:te&&re&&n.jsx(_me,{onClose:()=>Ne(!1),title:"Call Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 min-w-0",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"font-bold text-slate-900 truncate flex items-center gap-2",children:[n.jsx(ht,{className:"h-4 w-4 text-slate-500"})," ",Gt(re.customer_name)]}),n.jsx("div",{className:"text-sm text-slate-600 break-all",children:Gt(re.customer_number)}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all mt-1",children:["Call ID: ",Gt(re.call_id)]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[n.jsx(Ji,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:Gt(re.source)}),n.jsx(Ji,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:Gt(re.status)}),re.transferred?n.jsx(Ji,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Transferred"}):n.jsx(Ji,{className:"border bg-red-100 text-red-700 border-red-200",children:"Not transferred"})]})]}),n.jsxs("div",{className:"text-right text-sm text-slate-700",children:[n.jsxs("div",{children:[n.jsx("b",{children:"Start:"})," ",qd(re.started_at)]}),n.jsxs("div",{children:[n.jsx("b",{children:"End:"})," ",qd(re.ended_at)]}),n.jsxs("div",{className:"mt-1",children:[n.jsx("b",{children:"Duration:"})," ",h0(re.duration)]}),n.jsxs("div",{children:[n.jsx("b",{children:"Cost:"})," ",re.cost===null||re.cost===void 0||Number.isNaN(Number(re.cost))?"Unknown":`$${Number(re.cost).toFixed(2)}`]})]})]}),re.user?n.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Rc,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"font-semibold",children:"User:"})," ",Gt(re.user.name)]}),n.jsx("div",{className:"ml-5 break-all",children:Gt(re.user.email)})]}):n.jsx("div",{className:"mt-3 text-xs text-slate-600",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Rc,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"font-semibold",children:"User:"})," Unknown"]})}),(re.assistant_id||re.phone_number_id)&&n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[n.jsxs("div",{children:[n.jsx("b",{children:"Assistant ID:"})," ",Gt(re.assistant_id)]}),n.jsxs("div",{children:[n.jsx("b",{children:"Phone Number ID:"})," ",Gt(re.phone_number_id)]})]}),n.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[n.jsx("b",{children:"End Reason:"})," ",Gt(re.ended_reason)]})]}),re.recording_url&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Recording"}),n.jsx("audio",{controls:!0,className:"w-full",children:n.jsx("source",{src:EE(re.recording_url)||re.recording_url})}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:n.jsxs("a",{href:EE(re.recording_url)||re.recording_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-xs inline-flex items-center gap-1",children:[n.jsx(xs,{className:"h-3.5 w-3.5"})," Open recording URL"]})})]}),re.summary&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Summary"}),n.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:re.summary})]}),re.transcript&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Transcript"}),n.jsxs(Sa,{onClick:()=>OE(`transcript-${re.call_id||re.id}.txt`,re.transcript),size:"sm",children:[n.jsx(pf,{className:"h-4 w-4 mr-2"})," Save .txt"]})]}),n.jsx("div",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap max-h-72 overflow-auto",children:re.transcript})]}),re.analysis&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),n.jsx("pre",{className:"text-xs bg-slate-50 border border-slate-200 rounded-xl p-3 overflow-auto max-h-64",children:typeof re.analysis=="string"?re.analysis:JSON.stringify(re.analysis,null,2)})]})]})})})]})}function k1({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Ji({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Nme(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Sa({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${d[a]} ${t}`,children:e})}function Ks({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Gs({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Sme({children:e,onClose:t,title:a}){return n.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function _me({children:e,onClose:t,title:a}){return n.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),n.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const fs={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},ME=/^\+\d{7,15}$/,DE=[{id:1,key:"core",label:"Core & Transcription",Icon:gj},{id:2,key:"voice",label:"Voice",Icon:Sj},{id:3,key:"review",label:"Review & Create",Icon:fu}],kme=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Cme=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Ame(){const e=Zt(),[t,a]=g.useState(1),[r,s]=g.useState(!1),[l,c]=g.useState(!1),d=g.useRef(null),[f,m]=g.useState(!1),[h,x]=g.useState("all"),[b,y]=g.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=g.useState({}),[S,k]=g.useState([]),[_,C]=g.useState(!1),[P,A]=g.useState(""),T=g.useMemo(()=>{const D=b.voice_provider==="openai"?ku:Co;return(h==="all"?D:D.filter(H=>H.gender===h)).slice().sort((H,B)=>((H==null?void 0:H.showName)||"").localeCompare((B==null?void 0:B.showName)||""))},[b.voice_provider,h]);g.useEffect(()=>{if(!b.voice)return;const D=T.find(Y=>(Y==null?void 0:Y.name)===b.voice);D!=null&&D.voice&&(y(Y=>({...Y,voice_model:D.voice})),j(Y=>({...Y,voice_model:""})))},[b.voice,T]);const R="https://aisdr-dbt.ddns.net",O=D=>{const{id:Y,value:H,type:B,checked:E}=D.target,$=B==="checkbox"?E:H;y(z=>({...z,[Y]:$})),j(z=>({...z,[Y]:""}))},V=D=>{try{d.current&&(d.current.pause(),d.current=null);const Y=new Audio(D);d.current=Y,c(!0),Y.play().catch(()=>{I.error("Failed to play voice preview"),c(!1),d.current=null}),Y.onended=()=>{c(!1),d.current=null}}catch{I.error("Failed to play voice preview"),c(!1)}},K=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},F=D=>{if(D!==t){if(D===3&&(!b.voice||!f)){j(Y=>({...Y,voice:"Select a voice and press Next to continue"})),I.error("Please select a voice and press Next to continue.");return}K(),a(D)}},L=()=>{if(t===1){a(2);return}if(t===2){if(!b.voice){j(D=>({...D,voice:"Please select a voice"})),I.error("Select a voice to continue.");return}if(!f){j(D=>({...D,voice:"Click a voice card to confirm your choice"})),I.info("Click a voice card to confirm your choice.");return}a(3)}},te=async()=>{C(!0),A("");try{const D=localStorage.getItem("token"),Y=await fetch(`${R}/api/purchased_numbers`,{headers:{Accept:"application/json",...D?{Authorization:`Bearer ${D}`}:{}}});if(!Y.ok)throw new Error(`HTTP ${Y.status}`);const H=await Y.json(),E=(Array.isArray(H)?H:(H==null?void 0:H.purchased_numbers)||[]).filter(Boolean).map($=>({phone_number:($==null?void 0:$.phone_number)||"",friendly_name:($==null?void 0:$.friendly_name)||"",attached_assistant:($==null?void 0:$.attached_assistant)??null})).filter($=>$.phone_number);k(E)}catch(D){console.error(D),A("Failed to load your purchased numbers"),k([])}finally{C(!1)}};g.useEffect(()=>{te()},[]);const Ne=()=>{const D=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],Y={};let H=!0;if(D.forEach(B=>{const E=b[B];(E==null||E===""||Number.isNaN(E))&&(Y[B]="Required",H=!1)}),(b.temperature<0||b.temperature>2)&&(Y.temperature="Temperature must be between 0 and 2",H=!1),b.maxTokens<1&&(Y.maxTokens="maxTokens must be a positive integer",H=!1),b.forwardingPhoneNumber&&!ME.test(b.forwardingPhoneNumber)&&(Y.forwardingPhoneNumber="Must be E.164 (+123...)",H=!1),b.attached_Number&&!ME.test(b.attached_Number)&&(Y.attached_Number="Invalid number format",H=!1),j(Y),!H){const B=z=>z.some(W=>Y[W]),E=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],$=["voice_provider","voice_model","voice"];B(E)?a(1):B($)&&a(2)}return H},re=async D=>{if(D.preventDefault(),!r){if(t!==3){I.error("Please complete the steps first.");return}if(Ne()){s(!0),K();try{const Y=localStorage.getItem("token"),H=`${R}/api/assistants`,B={name:b.name,provider:b.provider,first_message:b.first_message||null,model:b.model,systemPrompt:b.systemPrompt||null,knowledgeBase:b.knowledgeBase,leadsfile:b.leadsfile,temperature:Number(b.temperature),maxTokens:Number(b.maxTokens),transcribe_provider:b.transcribe_provider,transcribe_language:b.transcribe_language,transcribe_model:b.transcribe_model,languages:b.languages,forwardingPhoneNumber:b.forwardingPhoneNumber||null,endCallPhrases:b.endCallPhrases,voice_provider:b.voice_provider,voice:b.voice,voice_model:b.voice_model,attached_Number:b.attached_Number||null,draft:!!b.draft,assistant_toggle:!!b.assistant_toggle,category:b.category||null,speed:Number(b.speed),stability:Number(b.stability),similarityBoost:Number(b.similarityBoost)},E=await fetch(H,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...Y?{Authorization:`Bearer ${Y}`}:{}},body:JSON.stringify(B)});if(!E.ok){let $=`HTTP ${E.status}`;try{const z=await E.json();z!=null&&z.detail&&($=z.detail)}catch{const z=await E.text();z&&($=`${$}  ${z}`)}throw new Error($)}I.success("Assistant created successfully!"),e("/user/callassistent")}catch(Y){I.error((Y==null?void 0:Y.message)||"Failed to create assistant")}finally{s(!1)}}}};return g.useEffect(()=>{m(!1),y(D=>({...D,voice:"",voice_model:""}))},[b.voice_provider]),n.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:fs.background},children:[n.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:n.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),n.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),n.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[n.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:fs.border,backgroundColor:fs.card},children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),n.jsxs("div",{className:"relative p-6 text-center",children:[n.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[n.jsx(fu,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),n.jsx(Tme,{currentStep:t,onChange:F}),n.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:fs.card,borderColor:fs.border},children:n.jsxs("form",{onSubmit:re,noValidate:!0,children:[n.jsxs(Pt,{mode:"wait",children:[t===1&&n.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsx(p0,{id:"name",label:"Assistant Name",value:b.name,onChange:O,error:w.name,placeholder:"SupportBot"}),n.jsx(p0,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:b.forwardingPhoneNumber,onChange:O,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ff,{children:"Attach Purchased Number (optional)"}),n.jsx("button",{type:"button",onClick:te,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),n.jsxs("select",{id:"attached_Number",value:b.attached_Number,onChange:O,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[n.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(D=>n.jsx("option",{value:D.phone_number,className:"bg-white",children:D.friendly_name?`${D.friendly_name}  ${D.phone_number}`:D.phone_number},D.phone_number))]}),P&&n.jsx(to,{children:P}),w.attached_Number&&n.jsx(to,{children:w.attached_Number})]}),n.jsx(p0,{id:"category",label:"Category (optional)",value:b.category,onChange:O}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(ff,{children:"System Prompt"}),n.jsx(LE,{id:"systemPrompt",value:b.systemPrompt,onChange:O,placeholder:"Write your system prompt",rows:4}),w.systemPrompt&&n.jsx(to,{children:w.systemPrompt})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(ff,{children:"First Message"}),n.jsx(LE,{id:"first_message",value:b.first_message,onChange:O,placeholder:"Hello! ",rows:3}),w.first_message&&n.jsx(to,{children:w.first_message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[n.jsx(IE,{id:"draft",label:"Save as Draft",checked:b.draft,onChange:O}),n.jsx(IE,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:b.assistant_toggle,onChange:O})]})]},"step1"),t===2&&n.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[n.jsx($E,{id:"voice_provider",label:"Voice Provider",value:b.voice_provider,onChange:D=>{K();const Y=D.target.value;y(H=>({...H,voice_provider:Y,voice:"",voice_model:""})),m(!1),j(H=>({...H,voice:"",voice_model:""}))},options:kme,error:w.voice_provider}),n.jsx($E,{id:"genderFilter",label:"Gender",value:h,onChange:D=>{K(),x(D.target.value),m(!1)},options:Cme}),n.jsx(p0,{id:"voice_model",label:"Voice Model",value:b.voice_model,onChange:()=>{},error:w.voice_model,placeholder:b.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&n.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",n.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",n.jsx("span",{className:"font-medium",children:"Next"}),"."]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("span",{className:"font-medium",children:T.length})," voices"]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[T.length===0&&n.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:fs.border},children:"No voices match this filter."}),T.map(D=>n.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:b.voice===D.name?"#93c5fd":fs.border,backgroundColor:b.voice===D.name?"#eff6ff":fs.card},onClick:()=>{y(Y=>({...Y,voice:D.name,voice_model:D.voice,voice_provider:D.provider||b.voice_provider})),m(!0),j(Y=>({...Y,voice:"",voice_model:""}))},children:[n.jsx("div",{className:"absolute left-3 top-3",children:n.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${b.voice===D.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),n.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-slate-900",children:D.showName||D.name}),n.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[D.gender||"unknown","  ",D.provider]}),n.jsx("div",{className:"mt-1 text-xs text-slate-500",children:D.voice})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Eme,{isActive:l&&b.voice===D.name,onPlay:()=>V(D.audioSr||""),onStop:K})})]})]},`${D.provider}-${D.name}`))]}),w.voice&&n.jsx(to,{children:w.voice})]},"step2"),t===3&&n.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:n.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:fs.border},children:[n.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(Hl,{label:"Name",value:b.name||""}),n.jsx(Hl,{label:"Model",value:`${b.provider}  ${b.model}`}),n.jsx(Hl,{label:"Voice Provider",value:b.voice_provider}),n.jsx(Hl,{label:"Voice",value:b.voice||""}),n.jsx(Hl,{label:"Voice Model",value:b.voice_model||""}),n.jsx(Hl,{label:"Forwarding Number",value:b.forwardingPhoneNumber||""}),n.jsx(Hl,{label:"Attach Number",value:b.attached_Number||""})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[n.jsx(C1,{onClick:()=>a(2),children:"Edit Voice"}),n.jsx(C1,{onClick:()=>a(1),children:"Edit Core"})]})]})},"step3")]}),n.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?n.jsx(C1,{onClick:()=>F(t-1),children:"Back"}):n.jsx("span",{}),t<3?n.jsxs(RE,{onClick:L,children:["Next ",n.jsx(gn,{className:"ml-1 h-4 w-4"})]}):n.jsx(RE,{type:"submit",disabled:r,children:r?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(_n,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function Tme({currentStep:e,onChange:t}){return n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:DE.map(({id:a,label:r,Icon:s})=>{const l=e===a;return n.jsxs(he.button,{onClick:()=>t(a),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[n.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:n.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),n.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},a)})}),n.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:n.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/DE.length*100}%`}})})]})}function RE({children:e,onClick:t,type:a="button",disabled:r}){return n.jsx("button",{type:a,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function C1({children:e,onClick:t}){return n.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function ff({children:e}){return n.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function to({children:e}){return n.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function p0({id:e,label:t,value:a,onChange:r,error:s,placeholder:l,readOnly:c=!1,disabled:d=!1}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(ff,{children:t}),n.jsx("input",{id:e,type:"text",value:a,onChange:r,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&n.jsx(to,{children:s})]})}function $E({id:e,label:t,value:a,onChange:r,options:s,error:l}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(ff,{children:t}),n.jsx("select",{id:e,value:a,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>n.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&n.jsx(to,{children:l})]})}function LE({id:e,value:t,onChange:a,placeholder:r,rows:s=4}){return n.jsx("textarea",{id:e,value:t,onChange:a,placeholder:r,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function IE({id:e,label:t,checked:a,onChange:r}){return n.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[n.jsx("input",{id:e,type:"checkbox",checked:a,onChange:r,className:"accent-blue-600"}),n.jsx("span",{children:t})]})}function Hl({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:fs.border},children:[n.jsx("div",{className:"text-slate-500",children:e}),n.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function Eme({isActive:e,onPlay:t,onStop:a}){return n.jsx("div",{className:"flex items-center gap-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>n.jsx("div",{className:"w-1.5 rounded-sm bg-blue-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),n.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:n.jsx(qc,{className:"h-5 w-5"})})]}):n.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:n.jsx(Bf,{className:"h-5 w-5"})})})}const tt={primary:"#4F46E5",secondary:"#10B981",danger:"#EF4444",text:"#374151",lightText:"#6B7280",border:"#E5E7EB",background:"#F9FAFB",card:"#FFFFFF",hover:"#F9FAFB",radioSelected:"#1F2937",radioBorder:"#374151"},Pme=()=>{const{assistantId:e}=$f(),t=Zt(),[a,r]=g.useState(!1),[s,l]=g.useState(!1),[c,d]=g.useState(1),[f,m]=g.useState({name:"",phone:"",system_prompt:"",first_message:"",files:null,existing_file_urls:[],voice:"",voiceSet:"all"}),[h,x]=g.useState({name:"",phone:"",system_prompt:"",first_message:"",files:"",voice:""}),[b,y]=g.useState(!0),w=g.useRef(null),j=[...t1,...n1].sort((O,V)=>O.showName.localeCompare(V.showName));g.useEffect(()=>{(async()=>{const V=localStorage.getItem("token");if(!V){I.error("No authentication token found. Please log in."),t("/login");return}try{const K=await fetch("http://localhost:8000/api/admin/getassistant",{method:"GET",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(!K.ok){if(K.status===403)throw new Error("Access denied: Invalid or insufficient permissions");if(K.status===401)throw new Error("Unauthorized: Please log in again");{const te=await K.text();throw new Error(`HTTP error! Status: ${K.status}`)}}const L=(await K.json()).assistants.find(te=>te.assistant_id===e);if(!L)throw new Error("Assistant not found");m({name:L.name||"",phone:L.phone||"",system_prompt:L.system_prompt||"",first_message:L.first_message||"",files:null,existing_file_urls:L.file_urls||[],voice:L.voice||"",voiceSet:"all"}),y(!1)}catch(K){console.error("Error fetching assistant:",K.message),I.error(K.message),t("/")}})()},[e,t]),g.useEffect(()=>{var O;if(c===2&&!f.voice){const V=j.filter(K=>f.voiceSet==="voiceset1"?t1.includes(K):f.voiceSet==="voiceset2"?n1.includes(K):!0);V.length>0&&((O=V[0])!=null&&O.name)&&(m(K=>({...K,voice:V[0].name})),x(K=>({...K,voice:""})))}},[f.voiceSet,c]);const S=O=>{const{id:V,value:K}=O.target;m(F=>({...F,[V]:K})),x(F=>({...F,[V]:""}))},k=O=>{m(V=>({...V,files:O.target.files})),x(V=>({...V,files:""}))},_=()=>{const O={...h};let V=!0;const K=/^\+\d{10,15}$/,F=["text/plain","application/pdf","text/csv"],L=5*1024*1024;if(f.name.trim()||(O.name="Please enter an assistant name",V=!1),f.phone?K.test(f.phone)||(O.phone="Phone number must be in international format (e.g., +1234567890)",V=!1):(O.phone="Please select a phone number",V=!1),f.system_prompt.trim()||(O.system_prompt="Please enter a system prompt",V=!1),f.first_message.trim()||(O.first_message="Please enter a first message",V=!1),f.files&&f.files.length>0)for(let te=0;te<f.files.length;te++){if(!F.includes(f.files[te].type)){O.files="Only .txt, .pdf, and .csv files are allowed",V=!1;break}if(f.files[te].size>L){O.files="Each file must be under 5MB",V=!1;break}}return x(O),V},C=()=>{const O={...h};let V=!0;return f.voice||(O.voice="Please select a voice",V=!1),x(O),V},P=O=>{w.current&&(w.current.pause(),w.current=null,l(!1));const V=new Audio(O);w.current=V,l(!0),V.play().catch(K=>{console.error("Error playing audio:",K),I.error("Failed to play voice preview"),l(!1)}),V.onended=()=>{l(!1),w.current=null}},A=()=>{w.current&&(w.current.pause(),w.current=null,l(!1))},T=O=>{O!==c&&(d(O),A())},R=async O=>{if(O.preventDefault(),a)return;const V=_(),K=C();if(!V){d(1);return}if(!K){d(2);return}r(!0),A();try{const F=new FormData;if(F.append("assistantName",f.name),F.append("phone",f.phone),F.append("systemPrompt",f.system_prompt),F.append("firstMessage",f.first_message),F.append("voice",f.voice),f.files)for(let Ne=0;Ne<f.files.length;Ne++)F.append("files",f.files[Ne]);f.existing_file_urls.length>0&&F.append("file_urls",JSON.stringify(f.existing_file_urls));const L=localStorage.getItem("token");if(!L)throw new Error("No authentication token found. Please log in.");const te=await fetch(`http://localhost:8000/api/admin/update/assistant/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${L}`},body:F});if(!te.ok){const Ne=await te.text();throw new Error(`HTTP error! Status: ${te.status}`)}I.success("Assistant updated successfully!"),t("/admin/assistants")}catch(F){console.error("Error updating assistant:",F.message),I.error(F.message)}finally{r(!1)}};return b?n.jsx("div",{className:"min-h-screen flex justify-center items-center",style:{backgroundColor:tt.background},children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:tt.primary}})}):n.jsx("div",{className:"min-h-screen",style:{backgroundColor:tt.background},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-sm border py-4 px-6 text-center",style:{borderColor:tt.border},children:n.jsx("h1",{className:"text-3xl font-bold",style:{color:tt.text},children:"Edit Assistant"})}),n.jsxs("div",{className:"mb-6 flex justify-center gap-4",children:[n.jsx("button",{type:"button",onClick:()=>T(1),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===1?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 1: Assistant Details"}),n.jsx("button",{type:"button",onClick:()=>T(2),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===2?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 2: Voice Selection"})]}),n.jsx("div",{className:"rounded-xl shadow-md border p-8 transition-transform hover:scale-[1.01]",style:{backgroundColor:tt.card,borderColor:tt.border},children:n.jsxs("form",{onSubmit:R,noValidate:!0,children:[c===1&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{htmlFor:"name",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:tt.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Assistant Name"]}),n.jsx("input",{type:"text",id:"name",value:f.name,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},placeholder:"Enter assistant name (e.g., SupportBot)"}),h.name&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:tt.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.name]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:tt.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone Number"]}),n.jsxs("select",{id:"phone",value:f.phone,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},children:[n.jsx("option",{value:"",children:"Select a phone number"}),n.jsx("option",{value:"+1234567890",children:"+1234567890 (Demo)"}),n.jsx("option",{value:"+1987654321",children:"+1987654321"}),n.jsx("option",{value:"+1123456789",children:"+1123456789"})]}),h.phone&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:tt.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.phone]})]}),n.jsxs("div",{className:"mb-6 md:col-span-2",children:[n.jsxs("label",{htmlFor:"system_prompt",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:tt.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"System Prompt"]}),n.jsx("textarea",{id:"system_prompt",value:f.system_prompt,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},placeholder:"Enter system prompt",rows:"5"}),h.system_prompt&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:tt.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.system_prompt]})]}),n.jsxs("div",{className:"mb-6 md:col-span-2",children:[n.jsxs("label",{htmlFor:"first_message",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:tt.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"First Message"]}),n.jsx("textarea",{id:"first_message",value:f.first_message,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},placeholder:"Enter the assistant's first message",rows:"3"}),h.first_message&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:tt.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.first_message]})]}),n.jsxs("div",{className:"mb-6 md:col-span-2",children:[n.jsxs("label",{htmlFor:"files",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:tt.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add New Files (Optional)"]}),n.jsx("input",{type:"file",id:"files",multiple:!0,accept:".txt,.pdf,.csv",onChange:k,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card}}),h.files&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:tt.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.files]}),n.jsx("p",{className:"text-sm mt-2",style:{color:tt.lightText},children:"Supported formats: .txt, .pdf, .csv (max 5MB per file)"}),f.existing_file_urls.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"font-medium",style:{color:tt.text},children:"Existing Files:"}),n.jsx("ul",{className:"list-disc pl-5",children:f.existing_file_urls.map((O,V)=>n.jsx("li",{children:n.jsx("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"text-sm",style:{color:tt.primary},children:O})},V))})]})]})]}),c===2&&n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"voice",className:"flex items-center gap-2 text-lg font-semibold mb-4",style:{color:tt.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),"Voice Selection"]}),n.jsx("div",{className:"mb-6",children:n.jsxs("select",{id:"voiceSet",value:f.voiceSet,onChange:O=>{m(V=>({...V,voiceSet:O.target.value,voice:""})),x(V=>({...V,voice:""})),A()},className:"w-full md:w-64 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},children:[n.jsx("option",{value:"all",children:"All Voices"}),n.jsx("option",{value:"voiceset1",children:"Voice Set 1"}),n.jsx("option",{value:"voiceset2",children:"Voice Set 2"})]})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.filter(O=>f.voiceSet==="voiceset1"?t1.includes(O):f.voiceSet==="voiceset2"?n1.includes(O):!0).map(O=>O&&O.name?n.jsxs("div",{className:`relative p-6 rounded-xl border cursor-pointer transition-all duration-300 shadow-sm hover:shadow-md ${f.voice===O.name?"border-gray-800 bg-gray-50":"border-gray-300 hover:bg-gray-100"}`,style:{borderColor:f.voice===O.name?tt.radioBorder:tt.border,backgroundColor:f.voice===O.name?tt.hover:tt.card},onClick:()=>{console.log("Selected voice:",O),m(V=>({...V,voice:O.name})),x(V=>({...V,voice:""}))},children:[n.jsx("div",{className:"absolute top-3 left-3",children:n.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${f.voice===O.name?"border-gray-800 bg-gray-800":"border-gray-400"}`,style:{borderColor:f.voice===O.name?tt.radioBorder:tt.border,backgroundColor:f.voice===O.name?tt.radioSelected:"transparent"},children:f.voice===O.name&&n.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})}),n.jsxs("div",{className:"ml-8 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",style:{color:tt.text},children:O.showName||"Unnamed Voice"}),n.jsx("p",{className:"text-sm",style:{color:tt.lightText},children:O.gender||"Unknown"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),P(O.audioSr||"")},disabled:s&&f.voice!==O.name,className:"p-2.5 rounded-full transition-colors hover:bg-emerald-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:tt.secondary,color:"white"},title:s&&f.voice!==O.name?"Audio playing":"Play voice preview",children:s&&f.voice===O.name?n.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12a8 8 0 1116 0 8 8 0 01-16 0z"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.2A1 1 0 0010 9.8v4.4a1 1 0 001.555.832l3.197-2.2a1 1 0 000-1.664z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),n.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),A()},disabled:!s||f.voice!==O.name,className:"p-2.5 rounded-full transition-colors hover:bg-red-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:tt.danger,color:"white"},title:"Stop voice preview",children:n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9z"})]})})]})]})]},O.name):null)}),h.voice&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:tt.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.voice]})]}),n.jsxs("div",{className:"flex justify-between mt-6",children:[c===2&&n.jsx("button",{type:"button",onClick:()=>T(1),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-gray-300",style:{backgroundColor:tt.border,color:tt.text},children:"Back"}),c===1&&n.jsx("button",{type:"button",onClick:()=>T(2),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 ml-auto",style:{backgroundColor:tt.primary,color:"white"},children:"Next"}),c===2&&n.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:tt.primary,color:"white"},children:a?"Updating...":"Update Assistant"})]})]})})]})})},x0="https://aisdr-dbt.ddns.net";function Ome(){const e=Zt(),[t,a]=g.useState([]),[r,s]=g.useState(!0),[l,c]=g.useState(!1),[d,f]=g.useState(!0),[m,h]=g.useState(""),[x,b]=g.useState("all"),[y,w]=g.useState("all"),[j,S]=g.useState("created_at"),[k,_]=g.useState("desc"),[C,P]=g.useState(!1),[A,T]=g.useState(null),[R,O]=g.useState([]),[V,K]=g.useState(!1),[F,L]=g.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[te,Ne]=g.useState(1),re=10,D=g.useMemo(()=>localStorage.getItem("token"),[]),Y=async()=>{try{c(!0);const q=await fetch(`${x0}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!q.ok)throw new Error(`HTTP ${q.status}`);const ie=await q.json(),G=Array.isArray(ie)?ie:Array.isArray(ie==null?void 0:ie.assistants)?ie.assistants:[];a(G)}catch(q){console.error(q),I.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};g.useEffect(()=>{Y()},[]),g.useEffect(()=>{if(!d)return;const q=setInterval(Y,15e3);return()=>clearInterval(q)},[d]);const H=g.useMemo(()=>{let q=[...t];x!=="all"&&(q=q.filter(G=>((G==null?void 0:G.provider)||"").toLowerCase()===x)),y!=="all"&&(q=q.filter(G=>((G==null?void 0:G.category)||"").toLowerCase()===y));const ie=m.trim().toLowerCase();return ie&&(q=q.filter(G=>[G==null?void 0:G.name,G==null?void 0:G.model,G==null?void 0:G.voice,G==null?void 0:G.category,G==null?void 0:G.attached_Number].filter(Boolean).map(String).map(Ae=>Ae.toLowerCase()).some(Ae=>Ae.includes(ie)))),q.sort((G,xe)=>{if(j==="created_at"){const Pe=G!=null&&G.created_at?new Date(G.created_at).getTime():0,Ze=xe!=null&&xe.created_at?new Date(xe.created_at).getTime():0;return k==="asc"?Pe-Ze:Ze-Pe}const Ae=((G==null?void 0:G[j])??"").toString().toLowerCase(),Le=((xe==null?void 0:xe[j])??"").toString().toLowerCase();return Ae<Le?k==="asc"?-1:1:Ae>Le?k==="asc"?1:-1:0}),q},[t,m,x,y,j,k]),B=g.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),E=g.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),$=Math.max(1,Math.ceil(H.length/re)),z=Math.min(te,$),W=H.slice((z-1)*re,z*re),de=g.useMemo(()=>H.length?H.reduce((q,ie)=>{const G=q!=null&&q.created_at?new Date(q.created_at):null,xe=ie!=null&&ie.created_at?new Date(ie.created_at):null;return!G&&xe?ie:!xe&&G||!G&&!xe?q:xe>G?ie:q},H[0]):null,[H]),J=q=>{j===q?_(ie=>ie==="asc"?"desc":"asc"):(S(q),_("asc"))},Q=q=>{T(q),P(!0)},Se=async()=>{if(A)try{const q=await fetch(`${x0}/api/assistants/${A}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!q.ok){let ie=`HTTP ${q.status}`;try{const G=await q.json();G!=null&&G.detail&&(ie=G.detail)}catch{}throw new Error(ie)}I.success("Assistant deleted"),O(ie=>ie.filter(G=>G!==A)),Y()}catch(q){console.error(q),I.error((q==null?void 0:q.message)||"Delete failed")}finally{P(!1),T(null)}},ae=q=>{const ie=q==null?void 0:q.knowledge_base;if(Array.isArray(ie)&&ie.length){const G=ie.filter(xe=>typeof xe=="string"&&/^https?:\/\//i.test(xe));if(G.length){G.forEach(xe=>window.open(xe,"_blank","noopener"));return}}I.info("No file URLs available for this assistant.")},be=q=>{if(!(q!=null&&q.vapi_assistant_id)){I.error("Missing VAPI Assistant ID");return}L({vapi_assistant_id:q.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),K(!0)},Ce=async q=>{q.preventDefault();const{vapi_assistant_id:ie,number:G,first_name:xe,last_name:Ae,email:Le}=F;if(!G)return I.error("Enter the customer's phone number (E.164 preferred)");try{const Pe=`${x0}/api/phone-call/${encodeURIComponent(ie)}/${encodeURIComponent(G)}`,Ze={first_name:xe||"Caller",last_name:Ae||"",email:Le||"caller@example.com",add_date:new Date().toISOString(),mobile_no:G,custom_field_01:null,custom_field_02:null},Qe=await fetch(Pe,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:D?`Bearer ${D}`:""},body:JSON.stringify(Ze)}),je=await Qe.json().catch(()=>({}));if(!Qe.ok||(je==null?void 0:je.success)===!1)throw new Error((je==null?void 0:je.detail)||`HTTP ${Qe.status}`);I.success("Call initiated"),K(!1)}catch(Pe){console.error(Pe),I.error((Pe==null?void 0:Pe.message)||"Failed to initiate call")}},ke=q=>R.includes(q),pe=q=>{O(ie=>ie.includes(q)?ie.filter(G=>G!==q):[...ie,q])},Ue=()=>{const q=W.map(G=>G.id).filter(Boolean),ie=q.every(G=>R.includes(G));O(G=>ie?G.filter(xe=>!q.includes(xe)):Array.from(new Set([...G,...q])))},Ve=async()=>{if(!R.length)return I.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const q of R)await fetch(`${x0}/api/assistants/${q}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});I.success("Bulk delete complete"),O([]),Y()}catch(q){console.error(q),I.error("Bulk delete encountered an error")}},we=()=>{const q=["Name","Model","Voice","Attached Number","Category","Created"],ie=H.map(Pe=>[(Pe==null?void 0:Pe.name)??"",(Pe==null?void 0:Pe.model)??"",(Pe==null?void 0:Pe.voice)??"",(Pe==null?void 0:Pe.attached_Number)??"",(Pe==null?void 0:Pe.category)??"",Pe!=null&&Pe.created_at?new Date(Pe.created_at).toLocaleString():""]),G=[q,...ie].map(Pe=>Pe.map(Ze=>`"${String(Ze).replace(/"/g,'""')}"`).join(",")).join(`
`),xe=new Blob([G],{type:"text/csv;charset=utf-8;"}),Ae=URL.createObjectURL(xe),Le=document.createElement("a");Le.href=Ae,Le.download="assistants.csv",Le.click(),URL.revokeObjectURL(Ae)};return r?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:n.jsx("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[n.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),n.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),n.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((q,ie)=>n.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[n.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),n.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},ie))}),n.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[n.jsx("div",{className:"border-b border-gray-100 p-6",children:n.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((q,ie)=>n.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),n.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),n.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((G,xe)=>n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},xe))})]})},ie))]})]})})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),n.jsxs("div",{className:"relative mx-auto w-full max-w-[1400px] px-6 py-12",children:[n.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"text-white",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:n.jsx(iu,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),n.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),n.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),n.jsxs("span",{children:[H.length," Active"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pp,{className:"h-4 w-4"}),n.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("button",{onClick:()=>f(q=>!q),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),n.jsxs("button",{onClick:Y,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(h9,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),n.jsxs("button",{onClick:we,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(f9,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),n.jsxs("button",{onClick:()=>e("/admin/addassistands"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[n.jsx(Ex,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(p9,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),n.jsx("input",{value:m,onChange:q=>h(q.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(zE,{label:"Provider",value:x,onChange:b,options:B,icon:n.jsx(m9,{className:"h-4 w-4"})}),n.jsx(zE,{label:"Category",value:y,onChange:w,options:E,icon:n.jsx(ru,{className:"h-4 w-4"})})]})]})]})]}),n.jsxs("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(g0,{title:"Total Assistants",value:H.length,icon:n.jsx(iu,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),n.jsx(g0,{title:"Active Calls",value:"24",icon:n.jsx(ol,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),n.jsx(g0,{title:"Success Rate",value:"94.2%",icon:n.jsx(js,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),n.jsx(g0,{title:"Last Created",value:de!=null&&de.name?de.name.length>12?`${de.name.slice(0,12)}`:de.name:"",icon:n.jsx(Pp,{className:"h-6 w-6 text-cyan-600"}),subtitle:de!=null&&de.created_at?new Date(de.created_at).toLocaleDateString():""})]}),R.length>0&&n.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:n.jsx(js,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-blue-900",children:[R.length," assistants selected"]}),n.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:Ue,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),n.jsx("button",{onClick:Ve,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),H.length===0?n.jsx($me,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[n.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),n.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[n.jsx("thead",{className:"bg-gray-50/60",children:n.jsxs("tr",{children:[n.jsx(Mme,{className:"w-12 text-center",checked:W.every(q=>R.includes(q.id))&&W.length>0,onChange:Ue}),n.jsx(Nc,{className:"w-[24%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?k:null,onSort:J}),n.jsx(Nc,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?k:null,onSort:J}),n.jsx(Nc,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?k:null,onSort:J}),n.jsx(Nc,{className:"w-[16%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?k:null,onSort:J}),n.jsx(Nc,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?k:null,onSort:J}),n.jsx(Nc,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?k:null,onSort:J}),n.jsx("th",{className:"w-[18%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:W.map(q=>n.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${ke(q.id)?"bg-blue-50/50":""}`,children:[n.jsx(Dme,{className:"w-12 text-center",checked:ke(q.id),onChange:()=>pe(q.id)}),n.jsx("td",{className:"w-[24%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:n.jsx(ru,{className:"h-5 w-5"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"max-w-[32ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:q.name||""}),n.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(q.knowledge_base)?q.knowledge_base.length:0," KB items"]})]})]})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:n.jsx(Fc,{variant:"secondary",children:q.model||""})})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:n.jsx(Fc,{variant:"accent",children:q.voice||""})})}),n.jsx("td",{className:"w-[16%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"font-mono text-sm text-gray-700 break-all",children:q.attached_Number||""}),q.attached_Number&&n.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>Lme(q.attached_Number),children:n.jsx(d9,{className:"h-4 w-4"})})]})}),n.jsx("td",{className:"w-[10%] px-6 py-4",children:n.jsx("div",{className:"text-center",children:q.category?n.jsx(Fc,{variant:"primary",children:q.category}):n.jsx("span",{className:"text-gray-400",children:""})})}),n.jsx("td",{className:"w-[8%] px-6 py-4 text-center text-sm text-gray-600 whitespace-nowrap",children:q.created_at?new Date(q.created_at).toLocaleDateString():""}),n.jsx("td",{className:"w-[18%] px-6 py-4",children:n.jsxs("div",{className:"mx-auto flex w-full items-center justify-center gap-2 whitespace-nowrap",children:[n.jsx(b0,{title:"Edit Assistant",onClick:()=>e(`/admin/edit-assistants/${q.id}`),variant:"primary",children:n.jsx(Ax,{className:"h-4 w-4"})}),n.jsx(b0,{title:"View Files",onClick:()=>ae(q),variant:"success",children:n.jsx(Tx,{className:"h-4 w-4"})}),n.jsx(b0,{title:"Start Call",onClick:()=>be(q),variant:"secondary",children:n.jsx(ol,{className:"h-4 w-4"})}),n.jsx(b0,{title:"Delete",onClick:()=>Q(q.id),variant:"danger",children:n.jsx(su,{className:"h-4 w-4"})})]})})]},q.id??q.name))})]})]}),n.jsx("div",{className:"space-y-4 xl:hidden",children:W.map(q=>n.jsx(Rme,{assistant:q,isSelected:ke(q.id),onToggleSelect:()=>pe(q.id),onEdit:()=>e(`/admin/edit-assistants/${q.id}`),onViewFiles:()=>ae(q),onCall:()=>be(q),onDelete:()=>Q(q.id)},q.id??q.name))}),n.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(z-1)*re+1," to ",Math.min(z*re,H.length)," of"," ",H.length," assistants"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(BE,{disabled:z<=1,onClick:()=>Ne(q=>Math.max(1,q-1)),children:[n.jsx(o9,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,$)},(q,ie)=>{const G=ie+1;return n.jsx("button",{onClick:()=>Ne(G),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${G===z?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:G},G)})}),n.jsxs(BE,{disabled:z>=$,onClick:()=>Ne(q=>Math.min($,q+1)),children:["Next",n.jsx(c9,{className:"h-4 w-4"})]})]})]})]})]}),C&&n.jsx(UE,{onClose:()=>P(!1),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:n.jsx(su,{className:"h-8 w-8 text-red-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),n.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-center gap-3",children:[n.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>P(!1),children:"Cancel"}),n.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:Se,children:"Delete Assistant"})]})]})}),V&&n.jsxs(UE,{onClose:()=>K(!1),children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:n.jsx(ol,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),n.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),n.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[n.jsx(v0,{label:"Customer Phone Number",value:F.number,onChange:q=>L(ie=>({...ie,number:q})),placeholder:"+1 (555) 123-4567",required:!0}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[n.jsx(v0,{label:"First Name",value:F.first_name,onChange:q=>L(ie=>({...ie,first_name:q})),placeholder:"John"}),n.jsx(v0,{label:"Last Name",value:F.last_name,onChange:q=>L(ie=>({...ie,last_name:q})),placeholder:"Doe"})]}),n.jsx(v0,{label:"Email Address",value:F.email,onChange:q=>L(ie=>({...ie,email:q})),placeholder:"john@example.com",type:"email"}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>K(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function g0({title:e,value:t,icon:a,trend:r,trendUp:s,subtitle:l}){return n.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),a]}),n.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&n.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&n.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function zE({label:e,value:t,onChange:a,options:r}){return n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:t,onChange:s=>a(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(s=>n.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx(Cx,{className:"h-4 w-4 text-white/70"})})]})}function Fc({children:e,variant:t="default"}){const a={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return n.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${a[t]}`,children:e})}function b0({title:e,onClick:t,children:a,variant:r="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return n.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[r]}`,children:a})}function Nc({label:e,sortKey:t,sortDir:a,onSort:r,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return n.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:n.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,n.jsxs("div",{className:"flex flex-col",children:[n.jsx(u9,{className:`h-3 w-3 transition-colors ${a==="asc"?"text-blue-600":"text-gray-400"}`}),n.jsx(Cx,{className:`-mt-1 h-3 w-3 transition-colors ${a==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Mme({checked:e,onChange:t,className:a=""}){return n.jsx("th",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(js,{className:"h-3 w-3"})})})})}function Dme({checked:e,onChange:t,className:a=""}){return n.jsx("td",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(js,{className:"h-3 w-3"})})})})}function Rme({assistant:e,isSelected:t,onToggleSelect:a,onEdit:r,onViewFiles:s,onCall:l,onDelete:c}){return n.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[n.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:a,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&n.jsx(js,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:n.jsx(ru,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),n.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),n.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),n.jsx(Fc,{variant:"secondary",children:e.model||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),n.jsx(Fc,{variant:"accent",children:e.voice||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),n.jsx("div",{className:"font-mono text-sm break-all",children:e.attached_Number||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?n.jsx(Fc,{variant:"primary",children:e.category}):n.jsx("span",{className:"text-gray-400",children:""})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[n.jsx(Ax,{className:"h-4 w-4"}),"Edit"]}),n.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[n.jsx(Tx,{className:"h-4 w-4"}),"Files"]}),n.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[n.jsx(ol,{className:"h-4 w-4"}),"Call"]}),n.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[n.jsx(su,{className:"h-4 w-4"}),"Delete"]})]})]})}function BE({disabled:e,onClick:t,children:a}){return n.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:a})}function UE({children:e,onClose:t}){return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function v0({label:e,value:t,onChange:a,placeholder:r,required:s,type:l="text"}){return n.jsxs("div",{children:[n.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:l,value:t,onChange:c=>a(c.target.value),placeholder:r,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function $me(){return n.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[n.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:n.jsx(iu,{className:"h-10 w-10 text-blue-600"})}),n.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),n.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),n.jsxs("a",{href:"/admin/addassistands",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[n.jsx(Ex,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function Lme(e){e&&navigator.clipboard.writeText(e).then(()=>I.success("Copied to clipboard")).catch(()=>I.info(e))}const FE="https://aisdr-dbt.ddns.net",VE={PHONE_NUMBERS:`${FE}/api/admin/phone-numbers`,PHONE_NUMBER:e=>`${FE}/api/admin/phone-numbers/${e}`},Ime="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function HE(e){if(e==null||isNaN(Number(e)))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(e))}catch{return`$${Number(e).toFixed(2)}`}}function Ir({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${d[a]} ${t}`,children:e})}function y0({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function ql({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Kl({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function zme(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function w0({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Bme({name:e="?",size:t=38,url:a=null}){const r=(e||"?").split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2);return n.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:t,height:t},title:e,children:n.jsx("span",{style:{fontSize:t<40?12:13},children:r})})}function Ume({children:e,onClose:t,title:a}){return n.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Ir,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(va,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Fme(){var Y,H;const[e,t]=g.useState([]),[a,r]=g.useState({total:0,attached:0,unattached:0,countries:0}),[s,l]=g.useState(!1),[c,d]=g.useState(""),[f,m]=g.useState(null),[h,x]=g.useState(""),[b,y]=g.useState("all"),[w,j]=g.useState("all"),[S,k]=g.useState(1),_=10,[C,P]=g.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),[A,T]=g.useState(null),R=g.useCallback(async()=>{if(C){t([]),r({total:0,attached:0,unattached:0,countries:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const B=localStorage.getItem("token");if(!B){t([]),r({total:0,attached:0,unattached:0,countries:0}),d("No auth token found."),I.error("No authentication token found.");return}try{l(!0),d("");const E=await fetch(VE.PHONE_NUMBERS,{headers:{Authorization:`Bearer ${B}`,Accept:"application/json"},mode:"cors"});if(!E.ok){const Se=await E.text();throw new Error(`HTTP ${E.status}${Se?`  ${Se}`:""}`)}const $=await E.json();if(!($!=null&&$.success)||!Array.isArray($==null?void 0:$.phone_numbers))throw new Error("Unexpected response shape.");const z=($.phone_numbers||[]).map(Se=>({id:Se.id,phone_number:Se.phone_number,friendly_name:Se.friendly_name||"",region:Se.region||"",postal_code:Se.postal_code||"",iso_country:(Se.iso_country||"").toUpperCase(),last_month_payment:Se.last_month_payment,created_at:Se.created_at,updated_at:Se.updated_at,attached_assistant:Se.attached_assistant,vapi_phone_uuid:Se.vapi_phone_uuid||null,owner:Se.user||null}));z.sort((Se,ae)=>new Date(ae.updated_at||ae.created_at||0)-new Date(Se.updated_at||Se.created_at||0)),t(z);const W=z.filter(Se=>Se.attached_assistant!==null&&Se.attached_assistant!==void 0).length,de=$.total_phone_numbers??z.length,J=Math.max(0,de-W),Q=new Set(z.map(Se=>Se.iso_country||"")).size;r({total:de,attached:W,unattached:J,countries:Q})}catch(E){d((E==null?void 0:E.message)||"Failed to load phone numbers"),I.error((E==null?void 0:E.message)||"Failed to load phone numbers")}finally{l(!1)}},[C]);g.useEffect(()=>{R()},[R]);const O=g.useMemo(()=>{const B=new Set(e.map(E=>E.iso_country).filter(Boolean));return["all",...Array.from(B).sort()]},[e]),V=g.useMemo(()=>{let B=[...e];if(h.trim()){const E=h.trim().toLowerCase();B=B.filter($=>{var z,W;return String($.phone_number||"").toLowerCase().includes(E)||String($.friendly_name||"").toLowerCase().includes(E)||String($.region||"").toLowerCase().includes(E)||String($.postal_code||"").toLowerCase().includes(E)||String(((z=$.owner)==null?void 0:z.name)||"").toLowerCase().includes(E)||String(((W=$.owner)==null?void 0:W.email)||"").toLowerCase().includes(E)})}return b!=="all"&&(B=B.filter(E=>b==="attached"?E.attached_assistant:!E.attached_assistant)),w!=="all"&&(B=B.filter(E=>(E.iso_country||"").toUpperCase()===w)),B},[e,h,b,w]),K=Math.max(1,Math.ceil(V.length/_)),F=S*_,L=F-_,te=V.slice(L,F);g.useEffect(()=>{k(1)},[h,b,w]);const Ne=B=>T(B),re=async()=>{const B=A;if(!B)return;const E=localStorage.getItem("token");if(!E)return I.error("No authentication token found.");const $=e.find(z=>z.id===B);if($!=null&&$.attached_assistant)return I.error("This number is attached to an assistant. Detach it first from the Assistants page.");try{m(B);const z=await fetch(VE.PHONE_NUMBER(B),{method:"DELETE",headers:{Authorization:`Bearer ${E}`,Accept:"application/json"}}),W=await z.json();if(!z.ok||!(W!=null&&W.success))throw new Error((W==null?void 0:W.detail)||(W==null?void 0:W.message)||`HTTP ${z.status}`);I.success(" Phone number deleted"),t(de=>de.filter(J=>J.id!==B)),r(de=>({...de,total:Math.max(0,de.total-1),unattached:Math.max(0,de.unattached-1)})),T(null)}catch(z){I.error((z==null?void 0:z.message)||"Delete failed")}finally{m(null)}},D=()=>{const B=localStorage.getItem("admin_token_backup");if(!B){I.error("No admin backup token found.");return}localStorage.setItem("token",B),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),P(null),I.success(" Exited impersonation"),window.location.reload()};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[C&&n.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:n.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[n.jsx(xs,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),n.jsxs("span",{className:"truncate",children:["Acting as ",n.jsx("b",{className:"break-all",children:(Y=C.acting_as)==null?void 0:Y.email})]})]}),n.jsxs(Ir,{onClick:D,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[n.jsx(va,{className:"mr-2 h-4 w-4"})," Exit"]})]})}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(ht,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${Ime}`,children:"Phone Numbers"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View and manage purchased phone numbers. Delete numbers that are not attached to an assistant."})]})]}),n.jsx("div",{className:"flex flex-wrap items-center gap-2",children:n.jsx(Ir,{onClick:R,disabled:s||!!C,children:s?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(w0,{label:"Total Numbers",value:a.total,Icon:ht,tone:"blue"}),n.jsx(w0,{label:"Attached",value:a.attached,Icon:xs,tone:"cyan"}),n.jsx(w0,{label:"Unattached",value:a.unattached,Icon:Nr,tone:"blue"}),n.jsx(w0,{label:"Countries",value:a.countries,Icon:rl,tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ea,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:h,onChange:B=>x(B.target.value),placeholder:"Search number, name, region, or owner",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!C})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(du,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:b,onChange:B=>y(B.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"attached",children:"Attached"}),n.jsx("option",{value:"unattached",children:"Unattached"})]}),n.jsx("select",{value:w,onChange:B=>j(B.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:O.map(B=>n.jsx("option",{value:B,children:B==="all"?"All countries":B},B))}),(h||b!=="all"||w!=="all")&&n.jsx(Ir,{onClick:()=>{x(""),y("all"),j("all")},className:"text-slate-700",disabled:!!C,children:"Clear"})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(ht,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Phone Numbers (",V.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),C?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:n.jsx(xs,{className:"h-9 w-9 text-amber-500"})}),n.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),n.jsx("div",{className:"mt-3",children:n.jsxs(Ir,{onClick:D,variant:"primary",children:[n.jsx(va,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(qe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading phone numbers"})]}):V.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(ht,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(ql,{children:"Number"}),n.jsx(ql,{children:"Owner"}),n.jsx(ql,{children:"Region"}),n.jsx(ql,{children:"Country"}),n.jsx(ql,{children:"Status"}),n.jsx(ql,{children:"Last Month"}),n.jsx(ql,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:te.map(B=>{const E=!!B.attached_assistant;return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(Kl,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 break-all",children:B.phone_number}),n.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:B.friendly_name})]})}),n.jsx(Kl,{children:B.owner?n.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-slate-700",children:[n.jsx(Bme,{name:B.owner.name,size:34}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-xs font-semibold truncate",children:B.owner.name}),n.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-slate-500 min-w-0",children:[n.jsx(Pa,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),n.jsx("span",{className:"truncate break-all",children:B.owner.email})]})]})]}):n.jsx("div",{className:"text-xs text-slate-500",children:""})}),n.jsx(Kl,{children:n.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[n.jsx(ii,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium break-all",children:B.region})]})}),n.jsx(Kl,{children:n.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[n.jsx(rl,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium",children:B.iso_country||""})]})}),n.jsx(Kl,{children:E?n.jsxs(y0,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[n.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"}),"Attached"]}):n.jsxs(y0,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[n.jsx(Nr,{className:"mr-1 h-3.5 w-3.5"}),"Unattached"]})}),n.jsx(Kl,{children:n.jsx("div",{className:"text-xs font-semibold text-slate-800",children:HE(B.last_month_payment)})}),n.jsx(Kl,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:n.jsx(Ir,{onClick:()=>Ne(B.id),variant:"danger",size:"sm",disabled:E,title:E?"Detach from assistant before deleting":"Delete number",children:f===B.id?n.jsx(qe,{className:"h-4 w-4 animate-spin"}):n.jsx(ta,{className:"h-4 w-4"})})})})]},B.id)})})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:te.map((B,E)=>{var z,W;const $=!!B.attached_assistant;return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[E===0&&n.jsx(zme,{}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:B.phone_number}),n.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:B.friendly_name}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx(TP,{className:"h-4 w-4 text-slate-500"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"truncate font-semibold",children:((z=B.owner)==null?void 0:z.name)||""}),((W=B.owner)==null?void 0:W.email)&&n.jsx("div",{className:"text-xs text-slate-500 truncate",children:B.owner.email})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rl,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium",children:B.iso_country||""})]}),n.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[n.jsx(ii,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium break-words",children:B.region})]}),n.jsx("div",{className:"col-span-2",children:$?n.jsxs(y0,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[n.jsx(Mn,{className:"mr-1 h-3.5 w-3.5"})," Attached"]}):n.jsxs(y0,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[n.jsx(Nr,{className:"mr-1 h-3.5 w-3.5"})," Unattached"]})})]}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:n.jsx(Ir,{onClick:()=>Ne(B.id),variant:"danger",size:"sm",className:"grow sm:grow-0",disabled:$,children:f===B.id?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(ta,{className:"h-4 w-4 mr-1"})," Delete"]})})}),n.jsx("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:HE(B.last_month_payment)})]})]},B.id)})})}),V.length>_&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:L+1}),"",n.jsx("b",{children:Math.min(F,V.length)})," of ",n.jsx("b",{children:V.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Ir,{onClick:()=>k(B=>Math.max(1,B-1)),disabled:S===1,children:[n.jsx(ba,{className:"h-4 w-4 mr-1"})," Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,K)},(B,E)=>{let $;if(K<=5||S<=3?$=E+1:S>=K-2?$=K-4+E:$=S-2+E,$<1||$>K)return null;const z=S===$;return n.jsx("button",{onClick:()=>k($),className:`px-3 py-2 text-sm font-semibold rounded-xl ${z?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:$},$)})}),n.jsxs(Ir,{onClick:()=>k(B=>Math.min(K,B+1)),disabled:S>=K,children:["Next ",n.jsx(gn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(Pt,{children:A&&n.jsxs(Ume,{onClose:()=>T(null),title:"Confirm Delete",children:[n.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete phone number"," ",n.jsx("b",{className:"break-words",children:((H=e.find(B=>B.id===A))==null?void 0:H.phone_number)||"this number"}),"?"," ","This action cannot be undone."]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Ir,{onClick:()=>T(null),variant:"subtle",children:"Cancel"}),n.jsx(Ir,{onClick:re,disabled:f===A,variant:"danger",children:f===A?n.jsxs(n.Fragment,{children:[n.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})})]})}const Vme=()=>{const[e,t]=g.useState([]),[a,r]=g.useState({name:"",id:null}),[s,l]=g.useState(!1),[c,d]=g.useState(!1),[f,m]=g.useState(!1),[h,x]=g.useState(null),b=Zt();g.useEffect(()=>{y()},[]);const y=async()=>{try{const A=await fetch("http://localhost:8000/api/admin/get/use_leadid",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!A.ok)throw new Error("Failed to fetch leads");const T=await A.json();t(T)}catch(A){console.error("Error fetching leads:",A)}},w=async()=>{try{if(!(await fetch("http://localhost:8000/api/admin/use_leadid",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:a.name})})).ok)throw new Error("Failed to create lead");r({name:"",id:null}),l(!1),d(!1),y()}catch(A){console.error("Error creating lead:",A)}},j=A=>{r({name:A.name,id:A.id}),l(!0),d(!0)},S=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${a.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:a.name})})).ok)throw new Error("Failed to update lead");r({name:"",id:null}),l(!1),d(!1),y()}catch(A){console.error("Error updating lead:",A)}},k=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete lead");m(!1),x(null),y()}catch(A){console.error("Error deleting lead:",A)}},_=A=>{b(`/admin/lead/${A}`)},C=e.length,P=e.length>0?e[e.length-1]:null;return n.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 lg:px-[150px] lg:py-10 xl:px-[150px] xl:py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"mb-6",children:n.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"List Dashboard"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Total List"}),n.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:C})]}),n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Last Created"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 truncate",children:P?`${P.name} (${P.created_at})`:"No leads yet"})]})]}),n.jsx("div",{className:"flex justify-end mb-6",children:n.jsxs("button",{onClick:()=>{l(!s),d(!1),r({name:"",id:null})},className:"bg-blue-600 text-white px-4 sm:px-5 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-md text-sm sm:text-base",children:[s?"Cancel":"Create List",n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:s?"M6 18L18 6M6 6l12 12":"M12 4v16m8-8H4"})})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-md",children:[n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-4",children:c?"Edit Lead":"Create Lead"}),n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("input",{type:"text",placeholder:"Lead Name",value:a.name,onChange:A=>r({...a,name:A.target.value}),className:"border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-200 w-full text-sm sm:text-base","aria-label":"Lead Name"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),n.jsx("button",{onClick:c?S:w,className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200 text-sm sm:text-base",children:c?"Update":"Submit"})]})]})]})}),f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-sm",children:[n.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-6",children:"Are you sure you want to delete this lead?"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>m(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),n.jsx("button",{onClick:k,className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200 text-sm sm:text-base",children:"Confirm"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[n.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700",children:"Lists"})}),n.jsxs("table",{className:"w-full text-sm sm:text-base",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{className:"hidden sm:table-row",children:[n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[25%]",children:"ID"}),n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Name"}),n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Created At"}),n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[15%]",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(A=>n.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200 block sm:table-row",children:[n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"ID: "}),A.id]}),n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"Name: "}),A.name]}),n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell text-gray-600",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"Created At: "}),A.created_at]}),n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"Actions: "}),n.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[n.jsx("button",{onClick:()=>_(A.id),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"View lead",children:n.jsx(vY,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),n.jsx("button",{onClick:()=>j(A),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"Edit lead",children:n.jsx(bY,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),n.jsx("button",{onClick:()=>{x(A.id),m(!0)},className:"text-red-600 hover:text-red-700 transition duration-200 p-2","aria-label":"Delete lead",children:n.jsx(wY,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},A.id))})]})]})]})})},qE="https://aisdr-dbt.ddns.net",KE={LIST:`${qE}/api/admin/leadss`,UPDATE:e=>`${qE}/api/admin/leads/${e}`};function jo(...e){return e.filter(Boolean).join(" ")}const Ha=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function Hme(e,t=250){const[a,r]=g.useState(e);return g.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),a}function qme(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${a}-${r}-${s}`}function GE(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}const Kme={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},YE={show:{transition:{staggerChildren:.05}}},Gme={hidden:{opacity:0,scale:.98,y:12},show:{opacity:1,scale:1,y:0,transition:{duration:.25}},exit:{opacity:0,scale:.98,y:12,transition:{duration:.18}}},Yme={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}};function Sc({children:e,tone:t="slate"}){const a={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200"};return n.jsx("span",{className:jo("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",a[t]||a.slate),children:e})}function A1({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return n.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Wme(){const e=g.useRef(localStorage.getItem("token")||null),[t,a]=g.useState([]),[r,s]=g.useState(!0),[l,c]=g.useState(!1),[d,f]=g.useState(""),m=Hme(d,250),[h,x]=g.useState("add_date"),[b,y]=g.useState("desc"),[w,j]=g.useState(1),[S,k]=g.useState(12),[_,C]=g.useState(!1),[P,A]=g.useState(!1),[T,R]=g.useState(null),[O,V]=g.useState({first_name:"",last_name:"",email:"",add_date:"",salesforce_id:"",mobile:"",state:""});async function K(){if(!e.current){s(!1),I.error("No auth token found. Please log in.");return}try{s(!0);const W=await fetch(KE.LIST,{headers:{Authorization:`Bearer ${e.current}`}});if(!W.ok)throw new Error(`HTTP ${W.status}`);const de=await W.json(),J=Array.isArray(de)?de:Array.isArray(de==null?void 0:de.leads)?de.leads:[];a(J)}catch(W){console.error(W),I.error("Failed to fetch leads"),a([])}finally{s(!1)}}g.useEffect(()=>{K()},[]);async function F(){c(!0),await K(),c(!1)}const L=g.useMemo(()=>{const W=m.trim().toLowerCase();let de=t.filter(Q=>W?[`${Q.first_name||""} ${Q.last_name||""}`.toLowerCase(),(Q.email||"").toLowerCase(),(Q.mobile||"").toLowerCase(),(Q.salesforce_id||"").toLowerCase(),(Q.state||"").toLowerCase()].some(be=>be.includes(W)):!0);const J=b==="asc"?1:-1;return de.sort((Q,Se)=>{const ae=`${Q.first_name||""} ${Q.last_name||""}`.trim().toLowerCase(),be=`${Se.first_name||""} ${Se.last_name||""}`.trim().toLowerCase();let Ce,ke;switch(h){case"name":Ce=ae,ke=be;break;case"email":Ce=(Q.email||"").toLowerCase(),ke=(Se.email||"").toLowerCase();break;case"mobile":Ce=(Q.mobile||"").toLowerCase(),ke=(Se.mobile||"").toLowerCase();break;case"state":Ce=(Q.state||"").toLowerCase(),ke=(Se.state||"").toLowerCase();break;case"add_date":default:Ce=new Date(Q.add_date||0).getTime(),ke=new Date(Se.add_date||0).getTime()}return Ce<ke?-1*J:Ce>ke?1*J:0}),de},[t,m,h,b]),te=L.length,Ne=Math.max(1,Math.ceil(te/S));g.useEffect(()=>{w>Ne&&j(Ne)},[w,Ne]);const re=(w-1)*S,D=re+S,Y=L.slice(re,D),H=g.useMemo(()=>{const W=L.filter(J=>!J.dnc).length,de=L.filter(J=>!!J.dnc).length;return{total:L.length,callable:W,dnc:de}},[L]);function B(W){R(W),V({first_name:W.first_name||"",last_name:W.last_name||"",email:W.email||"",add_date:qme(W.add_date),salesforce_id:W.salesforce_id||"",mobile:W.mobile||"",state:W.state||""}),C(!0)}function E(W){const{name:de,value:J}=W.target;V(Q=>({...Q,[de]:J}))}async function $(){if(!T)return;if(!e.current){I.error("No auth token found.");return}const W={first_name:O.first_name||"",last_name:O.last_name||"",email:O.email||"",add_date:O.add_date||"",salesforce_id:O.salesforce_id||null,mobile:O.mobile||"",state:O.state||null};try{A(!0);const de=await fetch(KE.UPDATE(T.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.current}`},body:JSON.stringify(W)}),J=await de.json().catch(()=>({}));if(!de.ok||(J==null?void 0:J.success)===!1)throw new Error((J==null?void 0:J.detail)||`HTTP ${de.status}`);const Q=(J==null?void 0:J.updated_lead)||{...T,...W};a(Se=>Se.map(ae=>ae.id===T.id?{...ae,...Q}:ae)),I.success("Lead updated"),C(!1),R(null)}catch(de){console.error(de),I.error((de==null?void 0:de.message)||"Update failed")}finally{A(!1)}}function z(W){x(de=>de===W?(y(J=>J==="asc"?"desc":"asc"),de):(y(W==="add_date"?"desc":"asc"),W)),j(1)}return n.jsxs("div",{className:"min-h-screen w-full text-slate-900 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative",children:[n.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-400/15 blur-3xl"}),n.jsx("div",{className:"absolute top-1/3 -right-20 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-indigo-400/10 blur-3xl"})]}),n.jsx("header",{className:"relative z-0 border-b border-slate-200/70 bg-white/60 backdrop-blur after:absolute after:inset-x-0 after:-bottom-[1px] after:h-[2px] after:bg-gradient-to-r after:from-transparent after:via-cyan-400/70 after:to-transparent",children:n.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-5",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-black tracking-tight",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text text-transparent",children:"Leads"})}),n.jsx("p",{className:"text-sm text-slate-600",children:"View, search, and edit leads."})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(WE,{onClick:F,icon:n.jsx(qe,{className:jo("h-4 w-4",l&&"animate-spin")}),children:"Refresh"})})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[n.jsxs("div",{className:"relative sm:col-span-2",children:[n.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),n.jsx("input",{value:d,onChange:W=>{f(W.target.value),j(1)},placeholder:"Search name, email, mobile, Salesforce ID, state",className:"w-full rounded-2xl border border-slate-200/70 bg-white/80 pl-10 pr-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search leads"})]}),n.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[n.jsxs("div",{className:"text-sm text-slate-600 hidden sm:block",children:["Total: ",n.jsx("span",{className:"font-semibold text-slate-900",children:te})]}),n.jsx("select",{value:S,onChange:W=>{k(Number(W.target.value)),j(1)},className:"rounded-2xl border border-slate-200/70 bg-white/80 px-3 py-2 text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[12,24,48,96].map(W=>n.jsxs("option",{value:W,children:[W," / page"]},W))})]})]})]})}),n.jsx("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx(A1,{label:"Total Leads",value:H.total,Icon:ha,tone:"blue"}),n.jsx(A1,{label:"Callable",value:H.callable,Icon:Mn,tone:"cyan"}),n.jsx(A1,{label:"DNC",value:H.dnc,Icon:Nr,tone:"blue"})]})}),n.jsxs("main",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 pb-6",children:[n.jsx(he.div,{initial:"hidden",animate:"show",variants:YE,className:"hidden lg:block overflow-x-auto rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:n.jsxs("table",{className:"min-w-full text-left",children:[n.jsx("thead",{className:"bg-slate-50/80 text-slate-600 text-sm",children:n.jsxs("tr",{className:"[&>th]:px-5 [&>th]:py-3",children:[n.jsx(Kd,{sortKey:"add_date",sortBy:h,sortDir:b,onSort:z,children:"Added"}),n.jsx(Kd,{sortKey:"name",sortBy:h,sortDir:b,onSort:z,children:"Name"}),n.jsx(Kd,{sortKey:"email",sortBy:h,sortDir:b,onSort:z,children:"Email"}),n.jsx(Kd,{sortKey:"mobile",sortBy:h,sortDir:b,onSort:z,children:"Mobile"}),n.jsx(Kd,{sortKey:"state",sortBy:h,sortDir:b,onSort:z,children:"State"}),n.jsx("th",{className:"px-5 py-3",children:"SFDC"}),n.jsx("th",{className:"px-5 py-3",children:"Status"}),n.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:r?n.jsx(ZE,{rows:8,cols:8}):Y.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-5 py-12 text-center text-slate-600",children:"No leads found. Try searching something else."})}):Y.map(W=>{const de=`${Ha(W.first_name)} ${W.last_name?Ha(W.last_name):""}`.trim();return n.jsxs(he.tr,{variants:Kme,className:"hover:bg-slate-50/70 transition-colors",children:[n.jsx("td",{className:"px-5 py-3 text-sm text-slate-600 whitespace-nowrap",children:W.add_date?n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(xB,{className:"h-4 w-4 text-slate-400"}),GE(W.add_date)]}):"Unknown"}),n.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:de}),n.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(Pa,{className:"h-4 w-4 text-slate-400"}),Ha(W.email)]})}),n.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(u3,{className:"h-4 w-4 text-slate-400"}),Ha(W.mobile)]})}),n.jsx("td",{className:"px-5 py-3",children:W.state?n.jsx(Sc,{tone:"blue",children:Ha(W.state)}):"Unknown"}),n.jsx("td",{className:"px-5 py-3 text-slate-800",children:n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(l3,{className:"h-4 w-4 text-slate-400"}),Ha(W.salesforce_id)]})}),n.jsx("td",{className:"px-5 py-3",children:W.dnc?n.jsx(Sc,{tone:"red",children:"DNC"}):n.jsx(Sc,{tone:"green",children:"Callable"})}),n.jsx("td",{className:"px-5 py-3",children:n.jsx("div",{className:"flex items-center justify-end",children:n.jsx(T1,{onClick:()=>B(W),icon:n.jsx(c3,{className:"h-4 w-4"}),children:"Edit"})})})]},W.id)})})]})}),n.jsx("div",{className:"lg:hidden",children:r?n.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-4",children:n.jsx(ZE,{rows:6,cols:1})}):Y.length===0?n.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-8 text-center text-slate-600",children:"No leads found. Try searching something else."}):n.jsx(he.div,{initial:"hidden",animate:"show",variants:YE,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Y.map(W=>{const de=`${Ha(W.first_name)} ${W.last_name?Ha(W.last_name):""}`.trim();return n.jsxs(he.article,{variants:Gme,className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/60 shadow hover:shadow-lg transition-shadow p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"text-base font-semibold text-slate-900 break-words",children:de}),n.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:W.add_date?GE(W.add_date):"Unknown"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[W.state?n.jsx(Sc,{tone:"blue",children:Ha(W.state)}):null,W.dnc?n.jsx(Sc,{tone:"red",children:"DNC"}):n.jsx(Sc,{tone:"green",children:"Callable"})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[n.jsx(j0,{icon:n.jsx(Pa,{className:"h-4 w-4"}),label:"Email",value:Ha(W.email),copySafe:!0}),n.jsx(j0,{icon:n.jsx(u3,{className:"h-4 w-4"}),label:"Mobile",value:Ha(W.mobile),copySafe:!0}),n.jsx(j0,{icon:n.jsx(l3,{className:"h-4 w-4"}),label:"SFDC",value:Ha(W.salesforce_id)}),W.timezone?n.jsx(j0,{icon:n.jsx(ul,{className:"h-4 w-4"}),label:"Timezone",value:Ha(W.timezone)}):null]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx(T1,{onClick:()=>B(W),icon:n.jsx(c3,{className:"h-4 w-4"}),children:"Edit"})})]},W.id)})})}),!r&&te>0&&n.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row text-slate-700",children:[n.jsxs("div",{className:"text-sm",children:["Showing ",n.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(D,te)})," of ",te]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(XE,{disabled:w<=1,onClick:()=>j(W=>Math.max(1,W-1)),children:[n.jsx(ba,{className:"h-4 w-4"})," Prev"]}),n.jsxs("div",{className:"text-sm",children:["Page ",n.jsx("span",{className:"font-semibold text-slate-900",children:w})," / ",Ne]}),n.jsxs(XE,{disabled:w>=Ne,onClick:()=>j(W=>Math.min(Ne,W+1)),children:["Next ",n.jsx(gn,{className:"h-4 w-4"})]})]})]})]}),n.jsx(Pt,{children:_&&n.jsxs(n.Fragment,{children:[n.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:Yme,initial:"hidden",animate:"show",exit:"exit",onClick:()=>C(!1)}),n.jsxs(he.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[560px] md:w-[720px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Edit lead",children:[n.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>C(!1),className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50","aria-label":"Close",children:n.jsx(va,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold leading-tight",children:"Edit Lead"}),n.jsxs("p",{className:"text-xs text-slate-600",children:["Changes are saved to ",n.jsxs("span",{className:"font-medium",children:["#",T==null?void 0:T.id]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(WE,{onClick:()=>C(!1),children:"Cancel"}),n.jsx(T1,{onClick:$,disabled:P,icon:P?n.jsx(_n,{className:"h-4 w-4 animate-spin"}):void 0,children:P?"Saving":"Save"})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(Gl,{label:"First name",name:"first_name",value:O.first_name,onChange:E}),n.jsx(Gl,{label:"Last name",name:"last_name",value:O.last_name,onChange:E}),n.jsx(Gl,{label:"Email",name:"email",value:O.email,onChange:E,type:"email"}),n.jsx(Gl,{label:"Mobile",name:"mobile",value:O.mobile,onChange:E}),n.jsx(Gl,{label:"Salesforce ID",name:"salesforce_id",value:O.salesforce_id,onChange:E}),n.jsx(Gl,{label:"Add date",name:"add_date",value:O.add_date,onChange:E,type:"date"}),n.jsx(Gl,{label:"State",name:"state",value:O.state,onChange:E})]}),n.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700",children:[n.jsx("div",{className:"font-semibold mb-2",children:"Quick Summary"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Name:"})," ",O.first_name||"Unknown"," ",O.last_name||""]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Email:"})," ",O.email||"Unknown"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Mobile:"})," ",O.mobile||"Unknown"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"State:"})," ",O.state||"Unknown"]})]})]})]})]})]})})]})}function T1({children:e,onClick:t,disabled:a,icon:r,type:s="button"}){return n.jsxs(he.button,{whileTap:a?void 0:{scale:.98},type:s,onClick:t,disabled:a,className:jo("inline-flex items-center gap-2 rounded-2xl px-3.5 py-2 font-semibold text-white transition","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)]","disabled:opacity-60 disabled:cursor-not-allowed"),children:[r,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function WE({children:e,onClick:t,icon:a,type:r="button"}){return n.jsxs(he.button,{whileTap:{scale:.98},type:r,onClick:t,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3.5 py-2 font-medium text-slate-800 ring-1 ring-white/70 transition hover:bg-slate-50",children:[a,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function XE({children:e,disabled:t,onClick:a}){return n.jsx(he.button,{whileTap:t?void 0:{scale:.98},disabled:t,onClick:a,className:jo("inline-flex items-center gap-2 rounded-2xl border px-3.5 py-2 text-sm transition",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50"),children:e})}function Kd({children:e,sortKey:t,sortBy:a,sortDir:r,onSort:s}){const l=a===t;return n.jsx("th",{className:jo("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:n.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,n.jsx("span",{className:jo("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function ZE({rows:e=6,cols:t=6}){return n.jsx(n.Fragment,{children:Array.from({length:e}).map((a,r)=>n.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>n.jsx("td",{className:"px-5 py-3",children:n.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Gl({label:e,name:t,value:a,onChange:r,type:s="text"}){return n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),n.jsx("input",{type:s,name:t,value:a,onChange:r,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}function j0({label:e,value:t,copySafe:a=!1,icon:r}){return n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"mt-0.5 text-slate-400",children:r}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),n.jsx("div",{className:jo("text-sm text-slate-800",a?"break-all":"break-words"),children:t})]})]})}const Xme=()=>{const[e,t]=g.useState(null),[a,r]=g.useState(!1),[s,l]=g.useState(!1),[c,d]=g.useState(!1),[f,m]=g.useState(""),[h,x]=g.useState(!0),[b,y]=g.useState(0),w=g.useRef(null),j=g.useRef(null),{id:S}=$f(),k=5*1024*1024,_=()=>localStorage.getItem("token")||null;g.useEffect(()=>{const L=te=>{c&&(te.key==="Enter"||te.key==="Escape")&&d(!1)};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[c]);const C=L=>{L.preventDefault(),L.stopPropagation(),r(!0)},P=L=>{L.preventDefault(),L.stopPropagation(),r(!1)},A=L=>{L.preventDefault(),L.stopPropagation()},T=L=>{L.preventDefault(),L.stopPropagation(),r(!1);const te=L.dataTransfer.files[0];te&&te.type==="text/csv"?te.size>k?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(te):(m("Please upload a valid CSV file."),x(!1),d(!0))},R=L=>{const te=L.target.files[0];te&&te.type==="text/csv"?te.size>k?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(te):(m("Please upload a valid CSV file."),x(!1),d(!0))},O=()=>{w.current.click()},V=()=>{const L=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,te=new Blob([L],{type:"text/csv"}),Ne=window.URL.createObjectURL(te),re=document.createElement("a");re.href=Ne,re.download="sample_users.csv",document.body.appendChild(re),re.click(),document.body.removeChild(re),window.URL.revokeObjectURL(Ne)},K=async()=>{if(!e){m("No file selected. Please choose a CSV file."),x(!1),d(!0);return}const L=_();if(!L){console.error("No auth token found. Please log in."),m("Please log in to continue."),x(!1),d(!0);return}const te=new FormData;te.append("file",e);try{l(!0),y(0);const Ne=await fetch("http://localhost:8000/api/admin/user/upload-csv",{method:"POST",headers:{Authorization:`Bearer ${L}`},body:te});if(y(100),Ne.ok){const re=await Ne.json();console.log("File uploaded successfully:",re),m("CSV file uploaded successfully!"),x(!0),d(!0),t(null),w.current&&(w.current.value="")}else{let re=`HTTP error! status: ${Ne.status}`;try{const D=await Ne.json();D&&D.error&&(re=D.error)}catch{}throw new Error(re)}}catch(Ne){console.error("Error uploading file:",Ne),m("Failed to upload CSV file. Please try again."),x(!1),d(!0)}finally{l(!1),y(0)}},F=L=>L<1024?`${L} B`:L<1024*1024?`${(L/1024).toFixed(2)} KB`:`${(L/(1024*1024)).toFixed(2)} MB`;return n.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6 animate-fade-in",children:[n.jsx("div",{className:`w-full max-w-3xl bg-white p-10 rounded-xl shadow-lg border-2 ${a?"border-blue-400":"border-gray-200"} transition-colors duration-200`,onDragEnter:C,onDragOver:A,onDragLeave:P,onDrop:T,children:n.jsxs("div",{className:"text-center",children:[n.jsx(_M,{className:`mx-auto text-5xl ${a?"text-blue-400":"text-gray-300"} animate-pulse mb-6`}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upload Your CSV File"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop a CSV file here or click to select. Maximum file size: 5MB."}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx("input",{type:"file",accept:".csv",onChange:R,ref:w,className:"hidden"}),n.jsx("button",{onClick:O,className:"bg-blue-400 text-white px-8 py-3 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm",children:"Choose File"}),n.jsxs("button",{onClick:V,className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-sm flex items-center gap-2",children:[n.jsx(NM,{}),"Download Sample CSV"]})]}),e&&n.jsxs("div",{className:"mt-6 text-gray-600 bg-gray-50 p-4 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"File:"})," ",e.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Size:"})," ",F(e.size)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),n.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[n.jsx("button",{onClick:K,disabled:s||!e,className:`w-full bg-blue-400 text-white px-6 py-4 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm flex items-center justify-center gap-2 ${s||!e?"opacity-50 cursor-not-allowed":""}`,children:s?"Uploading...":"Upload CSV"}),s&&n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center zoutdated-50 transition-opacity duration-200",children:n.jsxs("div",{ref:j,className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full animate-fade-in",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h?n.jsx(jM,{className:"text-green-400 text-2xl"}):n.jsx(SM,{className:"text-red-400 text-2xl"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Status"})]}),n.jsx("p",{className:"text-gray-500 mb-6",children:f}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>d(!1),className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:"Confirm"})})]})})]})};function Zn({children:e}){const t=Zt(),[a,r]=g.useState(!1),[s,l]=g.useState(!0);return g.useEffect(()=>{const c=localStorage.getItem("token"),d=localStorage.getItem("role");if(!c||!d){I.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}d==="user"?r(!0):d==="admin"?(I.error("You are not authorized to access this page."),t("/admin",{replace:!0})):(I.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0})),l(!1)},[t]),s?n.jsx("div",{children:"Loading..."}):a?e:null}function Lr({children:e}){const t=Zt(),[a,r]=g.useState(!1);return g.useEffect(()=>{try{const s=localStorage.getItem("token"),l=localStorage.getItem("role");if(!s||!l){I.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}l==="admin"?r(!0):l==="user"?(I.error("You are not authorized to access this page."),t("/user",{replace:!0})):(I.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0}))}catch{I.error("An unexpected error occurred. Please log in again."),localStorage.clear(),t("/login",{replace:!0})}},[t]),a?e:null}function Zme(){return n.jsxs(n.Fragment,{children:[n.jsx(az,{children:n.jsxs(DI,{children:[n.jsx(dt,{path:"/",element:n.jsx(OI,{to:"/signup"})}),n.jsx(dt,{path:"/signup",element:n.jsx(LF,{})}),n.jsx(dt,{path:"/login",element:n.jsx(MG,{})}),n.jsx(dt,{path:"/otp",element:n.jsx(OG,{})}),n.jsx(dt,{path:"/forget_password",element:n.jsx(RG,{})}),n.jsx(dt,{path:"/profile",element:n.jsx(lY,{})}),n.jsx(dt,{path:"/privacy-policy",element:n.jsx(Uk,{})}),n.jsx(dt,{path:"/terms",element:n.jsx(Uk,{})}),n.jsxs(dt,{path:"/user",element:n.jsx(SY,{}),children:[n.jsx(dt,{path:"dashboard",element:n.jsx(Zn,{children:n.jsx(cde,{})})}),n.jsx(dt,{path:"Appointments",element:n.jsx(Zn,{children:n.jsx(Rfe,{})})}),n.jsx(dt,{path:"CustomForms",element:n.jsx(Zn,{children:n.jsx(Ufe,{})})}),n.jsx(dt,{path:"FacebookForms",element:n.jsx(Zn,{children:n.jsx(Kfe,{})})}),n.jsx(dt,{path:"TextAssistants",element:n.jsx(Zn,{children:n.jsx(Qfe,{})})}),n.jsx(dt,{path:"PhoneCalls",element:n.jsx(Zn,{children:n.jsx(wde,{})})}),n.jsx(dt,{path:"callhistory",element:n.jsx(Zn,{children:n.jsx(zde,{})})}),n.jsx(dt,{path:"settings",element:n.jsx(Zn,{children:n.jsx(Ide,{})})}),n.jsx(dt,{path:"CRM",element:n.jsx(Zn,{children:n.jsx(Pfe,{})})}),n.jsx(dt,{path:"callassistent",element:n.jsx(Zn,{children:n.jsx(Bde,{})})}),n.jsx(dt,{path:"edit-assistant/:assistantId",element:n.jsx(Zn,{children:n.jsx(Yde,{})})}),n.jsx(dt,{path:"assistant/create",element:n.jsx(Zn,{children:n.jsx(efe,{})})}),n.jsx(dt,{path:"leads",element:n.jsx(Zn,{children:n.jsx(rfe,{})})}),n.jsx(dt,{path:"lead/:id",element:n.jsx(Zn,{children:n.jsx(ofe,{})})}),n.jsx(dt,{path:"upload-csv",element:n.jsx(Zn,{children:n.jsx(dfe,{})})}),n.jsx(dt,{path:"campaigns",element:n.jsx(Zn,{children:n.jsx(bE,{})})}),n.jsx(dt,{path:"campain",element:n.jsx(Zn,{children:n.jsx(bE,{})})})]}),n.jsxs(dt,{path:"/admin",element:n.jsx(rme,{}),children:[n.jsx(dt,{path:"dashboard",element:n.jsx(Lr,{children:n.jsx(bme,{})})}),n.jsx(dt,{path:"Users",element:n.jsx(Lr,{children:n.jsx(ome,{})})}),n.jsx(dt,{path:"PhoneCalls",element:n.jsx(Lr,{children:n.jsx(jme,{})})}),n.jsx(dt,{path:"settings",element:n.jsx(Lr,{children:n.jsx(vme,{})})}),n.jsx(dt,{path:"addassistands",element:n.jsx(Lr,{children:n.jsx(Ame,{})})}),n.jsx(dt,{path:"edit-assistants/:assistantId",element:n.jsx(Lr,{children:n.jsx(Pme,{})})}),n.jsx(dt,{path:"assistants",element:n.jsx(Lr,{children:n.jsx(Ome,{})})}),n.jsx(dt,{path:"callhistory",element:n.jsx(Lr,{children:n.jsx(Fme,{})})}),n.jsx(dt,{path:"lead/:id",element:n.jsx(Lr,{children:n.jsx(Vme,{})})}),n.jsx(dt,{path:"lead",element:n.jsx(Lr,{children:n.jsx(Wme,{})})}),n.jsx(dt,{path:"upload-csv",element:n.jsx(Lr,{children:n.jsx(Xme,{})})})]}),n.jsx(dt,{path:"*",element:n.jsx(IF,{})})]})}),n.jsx(Yz,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}UL.createRoot(document.getElementById("root")).render(n.jsx(g.StrictMode,{children:n.jsx(Zme,{})}));
