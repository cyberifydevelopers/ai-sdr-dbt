var K$=Object.defineProperty;var G$=(e,t,n)=>t in e?K$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yv=(e,t,n)=>G$(e,typeof t!="symbol"?t+"":t,n);function Y$(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bv={exports:{}},nd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d5;function W$(){if(d5)return nd;d5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:a,key:c,ref:s!==void 0?s:null,props:l}}return nd.Fragment=t,nd.jsx=n,nd.jsxs=n,nd}var f5;function X$(){return f5||(f5=1,bv.exports=W$()),bv.exports}var r=X$(),wv={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5;function Z$(){if(m5)return st;m5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.iterator;function g(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function S(A,D,$){this.props=A,this.context=D,this.refs=j,this.updater=$||b}S.prototype.isReactComponent={},S.prototype.setState=function(A,D){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,D,"setState")},S.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=S.prototype;function _(A,D,$){this.props=A,this.context=D,this.refs=j,this.updater=$||b}var C=_.prototype=new k;C.constructor=_,w(C,S.prototype),C.isPureReactComponent=!0;var P=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function L(A,D,$,W,ce,Q){return $=Q.ref,{$$typeof:e,type:A,key:D,ref:$!==void 0?$:null,props:Q}}function M(A,D){return L(A.type,D,void 0,void 0,void 0,A.props)}function B(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function K(A){var D={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function($){return D[$]})}var F=/\/+/g;function U(A,D){return typeof A=="object"&&A!==null&&A.key!=null?K(""+A.key):D.toString(36)}function te(){}function we(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(te,te):(A.status="pending",A.then(function(D){A.status==="pending"&&(A.status="fulfilled",A.value=D)},function(D){A.status==="pending"&&(A.status="rejected",A.reason=D)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function re(A,D,$,W,ce){var Q=typeof A;(Q==="undefined"||Q==="boolean")&&(A=null);var Z=!1;if(A===null)Z=!0;else switch(Q){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(A.$$typeof){case e:case t:Z=!0;break;case h:return Z=A._init,re(Z(A._payload),D,$,W,ce)}}if(Z)return ce=ce(A),Z=W===""?"."+U(A,0):W,P(ce)?($="",Z!=null&&($=Z.replace(F,"$&/")+"/"),re(ce,D,$,"",function(be){return be})):ce!=null&&(B(ce)&&(ce=M(ce,$+(ce.key==null||A&&A.key===ce.key?"":(""+ce.key).replace(F,"$&/")+"/")+Z)),D.push(ce)),1;Z=0;var je=W===""?".":W+":";if(P(A))for(var se=0;se<A.length;se++)W=A[se],Q=je+U(W,se),Z+=re(W,D,$,Q,ce);else if(se=g(A),typeof se=="function")for(A=se.call(A),se=0;!(W=A.next()).done;)W=W.value,Q=je+U(W,se++),Z+=re(W,D,$,Q,ce);else if(Q==="object"){if(typeof A.then=="function")return re(we(A),D,$,W,ce);throw D=String(A),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return Z}function R(A,D,$){if(A==null)return A;var W=[],ce=0;return re(A,W,"","",function(Q){return D.call($,Q,ce++)}),W}function G(A){if(A._status===-1){var D=A._result;D=D(),D.then(function($){(A._status===0||A._status===-1)&&(A._status=1,A._result=$)},function($){(A._status===0||A._status===-1)&&(A._status=2,A._result=$)}),A._status===-1&&(A._status=0,A._result=D)}if(A._status===1)return A._result.default;throw A._result}var H=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function I(){}return st.Children={map:R,forEach:function(A,D,$){R(A,function(){D.apply(this,arguments)},$)},count:function(A){var D=0;return R(A,function(){D++}),D},toArray:function(A){return R(A,function(D){return D})||[]},only:function(A){if(!B(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},st.Component=S,st.Fragment=n,st.Profiler=s,st.PureComponent=_,st.StrictMode=a,st.Suspense=f,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,st.__COMPILER_RUNTIME={__proto__:null,c:function(A){return T.H.useMemoCache(A)}},st.cache=function(A){return function(){return A.apply(null,arguments)}},st.cloneElement=function(A,D,$){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var W=w({},A.props),ce=A.key,Q=void 0;if(D!=null)for(Z in D.ref!==void 0&&(Q=void 0),D.key!==void 0&&(ce=""+D.key),D)!E.call(D,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&D.ref===void 0||(W[Z]=D[Z]);var Z=arguments.length-2;if(Z===1)W.children=$;else if(1<Z){for(var je=Array(Z),se=0;se<Z;se++)je[se]=arguments[se+2];W.children=je}return L(A.type,ce,void 0,void 0,Q,W)},st.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},st.createElement=function(A,D,$){var W,ce={},Q=null;if(D!=null)for(W in D.key!==void 0&&(Q=""+D.key),D)E.call(D,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ce[W]=D[W]);var Z=arguments.length-2;if(Z===1)ce.children=$;else if(1<Z){for(var je=Array(Z),se=0;se<Z;se++)je[se]=arguments[se+2];ce.children=je}if(A&&A.defaultProps)for(W in Z=A.defaultProps,Z)ce[W]===void 0&&(ce[W]=Z[W]);return L(A,Q,void 0,void 0,null,ce)},st.createRef=function(){return{current:null}},st.forwardRef=function(A){return{$$typeof:d,render:A}},st.isValidElement=B,st.lazy=function(A){return{$$typeof:h,_payload:{_status:-1,_result:A},_init:G}},st.memo=function(A,D){return{$$typeof:m,type:A,compare:D===void 0?null:D}},st.startTransition=function(A){var D=T.T,$={};T.T=$;try{var W=A(),ce=T.S;ce!==null&&ce($,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(I,H)}catch(Q){H(Q)}finally{T.T=D}},st.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},st.use=function(A){return T.H.use(A)},st.useActionState=function(A,D,$){return T.H.useActionState(A,D,$)},st.useCallback=function(A,D){return T.H.useCallback(A,D)},st.useContext=function(A){return T.H.useContext(A)},st.useDebugValue=function(){},st.useDeferredValue=function(A,D){return T.H.useDeferredValue(A,D)},st.useEffect=function(A,D,$){var W=T.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(A,D)},st.useId=function(){return T.H.useId()},st.useImperativeHandle=function(A,D,$){return T.H.useImperativeHandle(A,D,$)},st.useInsertionEffect=function(A,D){return T.H.useInsertionEffect(A,D)},st.useLayoutEffect=function(A,D){return T.H.useLayoutEffect(A,D)},st.useMemo=function(A,D){return T.H.useMemo(A,D)},st.useOptimistic=function(A,D){return T.H.useOptimistic(A,D)},st.useReducer=function(A,D,$){return T.H.useReducer(A,D,$)},st.useRef=function(A){return T.H.useRef(A)},st.useState=function(A){return T.H.useState(A)},st.useSyncExternalStore=function(A,D,$){return T.H.useSyncExternalStore(A,D,$)},st.useTransition=function(){return T.H.useTransition()},st.version="19.1.0",st}var h5;function Fc(){return h5||(h5=1,wv.exports=Z$()),wv.exports}var v=Fc();const bt=Ba(v),Q$=Y$({__proto__:null,default:bt},[v]);var jv={exports:{}},rd={},Nv={exports:{}},Sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5;function J$(){return p5||(p5=1,function(e){function t(R,G){var H=R.length;R.push(G);e:for(;0<H;){var I=H-1>>>1,A=R[I];if(0<s(A,G))R[I]=G,R[H]=A,H=I;else break e}}function n(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var G=R[0],H=R.pop();if(H!==G){R[0]=H;e:for(var I=0,A=R.length,D=A>>>1;I<D;){var $=2*(I+1)-1,W=R[$],ce=$+1,Q=R[ce];if(0>s(W,H))ce<A&&0>s(Q,W)?(R[I]=Q,R[ce]=H,I=ce):(R[I]=W,R[$]=H,I=$);else if(ce<A&&0>s(Q,H))R[I]=Q,R[ce]=H,I=ce;else break e}}return G}function s(R,G){var H=R.sortIndex-G.sortIndex;return H!==0?H:R.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,x=null,g=3,b=!1,w=!1,j=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(R){for(var G=n(m);G!==null;){if(G.callback===null)a(m);else if(G.startTime<=R)a(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(m)}}function T(R){if(j=!1,P(R),!w)if(n(f)!==null)w=!0,E||(E=!0,U());else{var G=n(m);G!==null&&re(T,G.startTime-R)}}var E=!1,L=-1,M=5,B=-1;function K(){return S?!0:!(e.unstable_now()-B<M)}function F(){if(S=!1,E){var R=e.unstable_now();B=R;var G=!0;try{e:{w=!1,j&&(j=!1,_(L),L=-1),b=!0;var H=g;try{t:{for(P(R),x=n(f);x!==null&&!(x.expirationTime>R&&K());){var I=x.callback;if(typeof I=="function"){x.callback=null,g=x.priorityLevel;var A=I(x.expirationTime<=R);if(R=e.unstable_now(),typeof A=="function"){x.callback=A,P(R),G=!0;break t}x===n(f)&&a(f),P(R)}else a(f);x=n(f)}if(x!==null)G=!0;else{var D=n(m);D!==null&&re(T,D.startTime-R),G=!1}}break e}finally{x=null,g=H,b=!1}G=void 0}}finally{G?U():E=!1}}}var U;if(typeof C=="function")U=function(){C(F)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,we=te.port2;te.port1.onmessage=F,U=function(){we.postMessage(null)}}else U=function(){k(F,0)};function re(R,G){L=k(function(){R(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var H=g;g=G;try{return R()}finally{g=H}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=g;g=R;try{return G()}finally{g=H}},e.unstable_scheduleCallback=function(R,G,H){var I=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?I+H:I):H=I,R){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=H+A,R={id:h++,callback:G,priorityLevel:R,startTime:H,expirationTime:A,sortIndex:-1},H>I?(R.sortIndex=H,t(m,R),n(f)===null&&R===n(m)&&(j?(_(L),L=-1):j=!0,re(T,H-I))):(R.sortIndex=A,t(f,R),w||b||(w=!0,E||(E=!0,U()))),R},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(R){var G=g;return function(){var H=g;g=G;try{return R.apply(this,arguments)}finally{g=H}}}}(Sv)),Sv}var x5;function e9(){return x5||(x5=1,Nv.exports=J$()),Nv.exports}var _v={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g5;function t9(){if(g5)return Yn;g5=1;var e=Fc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yn.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Yn.flushSync=function(f){var m=c.T,h=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=h,a.d.f()}},Yn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},Yn.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Yn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin),g=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:g,fetchPriority:b}):h==="script"&&a.d.X(f,{crossOrigin:x,integrity:g,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Yn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},Yn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin);a.d.L(f,h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Yn.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},Yn.requestFormReset=function(f){a.d.r(f)},Yn.unstable_batchedUpdates=function(f,m){return f(m)},Yn.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yn.version="19.1.0",Yn}var v5;function gE(){if(v5)return _v.exports;v5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_v.exports=t9(),_v.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5;function n9(){if(y5)return rd;y5=1;var e=e9(),t=Fc(),n=gE();function a(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(a(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(a(188));return o!==i?null:i}for(var u=i,p=o;;){var y=u.return;if(y===null)break;var N=y.alternate;if(N===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===u)return d(y),i;if(N===p)return d(y),o;N=N.sibling}throw Error(a(188))}if(u.return!==p.return)u=y,p=N;else{for(var O=!1,z=y.child;z;){if(z===u){O=!0,u=y,p=N;break}if(z===p){O=!0,p=y,u=N;break}z=z.sibling}if(!O){for(z=N.child;z;){if(z===u){O=!0,u=N,p=y;break}if(z===p){O=!0,p=N,u=y;break}z=z.sibling}if(!O)throw Error(a(189))}}if(u.alternate!==p)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var h=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var te=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===te?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case E:return"SuspenseList";case B:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case C:return(i.displayName||"Context")+".Provider";case _:return(i._context.displayName||"Context")+".Consumer";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return o=i.displayName||null,o!==null?o:we(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return we(i(o))}catch{}}return null}var re=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},I=[],A=-1;function D(i){return{current:i}}function $(i){0>A||(i.current=I[A],I[A]=null,A--)}function W(i,o){A++,I[A]=i.current,i.current=o}var ce=D(null),Q=D(null),Z=D(null),je=D(null);function se(i,o){switch(W(Z,o),W(Q,i),W(ce,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?z_(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=z_(o),i=B_(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(ce),W(ce,i)}function be(){$(ce),$(Q),$(Z)}function _e(i){i.memoizedState!==null&&W(je,i);var o=ce.current,u=B_(o,i.type);o!==u&&(W(Q,i),W(ce,u))}function Ne(i){Q.current===i&&($(ce),$(Q)),je.current===i&&($(je),Zu._currentValue=H)}var xe=Object.prototype.hasOwnProperty,ze=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,Se=e.unstable_shouldYield,q=e.unstable_requestPaint,ie=e.unstable_now,Y=e.unstable_getCurrentPriorityLevel,ge=e.unstable_ImmediatePriority,Te=e.unstable_UserBlockingPriority,Re=e.unstable_NormalPriority,Pe=e.unstable_LowPriority,Je=e.unstable_IdlePriority,Ze=e.log,ye=e.unstable_setDisableYieldValue,Oe=null,Le=null;function De(i){if(typeof Ze=="function"&&ye(i),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Oe,i)}catch{}}var Ie=Math.clz32?Math.clz32:nr,ot=Math.log,Nt=Math.LN2;function nr(i){return i>>>=0,i===0?32:31-(ot(i)/Nt|0)|0}var mr=256,bn=4194304;function $n(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function In(i,o,u){var p=i.pendingLanes;if(p===0)return 0;var y=0,N=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var z=p&134217727;return z!==0?(p=z&~N,p!==0?y=$n(p):(O&=z,O!==0?y=$n(O):u||(u=z&~i,u!==0&&(y=$n(u))))):(z=p&~N,z!==0?y=$n(z):O!==0?y=$n(O):u||(u=p&~i,u!==0&&(y=$n(u)))),y===0?0:o!==0&&o!==y&&(o&N)===0&&(N=y&-y,u=o&-o,N>=u||N===32&&(u&4194048)!==0)?o:y}function hr(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function ii(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function de(){var i=mr;return mr<<=1,(mr&4194048)===0&&(mr=256),i}function X(){var i=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),i}function ee(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function ae(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qe(i,o,u,p,y,N){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var z=i.entanglements,J=i.expirationTimes,fe=i.hiddenUpdates;for(u=O&~u;0<u;){var ke=31-Ie(u),Ae=1<<ke;z[ke]=0,J[ke]=-1;var me=fe[ke];if(me!==null)for(fe[ke]=null,ke=0;ke<me.length;ke++){var pe=me[ke];pe!==null&&(pe.lane&=-536870913)}u&=~Ae}p!==0&&et(i,p,0),N!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=N&~(O&~o))}function et(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Ie(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|u&4194090}function mt(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-Ie(u),y=1<<p;y&o|i[p]&o&&(i[p]|=o),u&=~y}}function at(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function kt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Pt(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:s5(i.type))}function ba(i,o){var u=G.p;try{return G.p=i,o()}finally{G.p=u}}var mn=Math.random().toString(36).slice(2),St="__reactFiber$"+mn,en="__reactProps$"+mn,ds="__reactContainer$"+mn,uo="__reactEvents$"+mn,qf="__reactListeners$"+mn,Kf="__reactHandles$"+mn,ou="__reactResources$"+mn,li="__reactMarker$"+mn;function fo(i){delete i[St],delete i[en],delete i[uo],delete i[qf],delete i[Kf]}function fs(i){var o=i[St];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ds]||u[St]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=H_(i);i!==null;){if(u=i[St])return u;i=H_(i)}return o}i=u,u=i.parentNode}return null}function ms(i){if(i=i[St]||i[ds]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function oi(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(a(33))}function hs(i){var o=i[ou];return o||(o=i[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function oe(i){i[li]=!0}var Ee=new Set,He={};function $e(i,o){Ue(i,o),Ue(i+"Capture",o)}function Ue(i,o){for(He[i]=o,i=0;i<o.length;i++)Ee.add(o[i])}var xt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rr={},cu={};function zL(i){return xe.call(cu,i)?!0:xe.call(rr,i)?!1:xt.test(i)?cu[i]=!0:(rr[i]=!0,!1)}function Gf(i,o,u){if(zL(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Yf(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function ps(i,o,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+p)}}var mx,ON;function mo(i){if(mx===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);mx=o&&o[1]||"",ON=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mx+i+ON}var hx=!1;function px(i,o){if(!i||hx)return"";hx=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(pe){var me=pe}Reflect.construct(i,[],Ae)}else{try{Ae.call()}catch(pe){me=pe}i.call(Ae.prototype)}}else{try{throw Error()}catch(pe){me=pe}(Ae=i())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(pe){if(pe&&me&&typeof pe.stack=="string")return[pe.stack,me.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),O=N[0],z=N[1];if(O&&z){var J=O.split(`
`),fe=z.split(`
`);for(y=p=0;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;for(;y<fe.length&&!fe[y].includes("DetermineComponentFrameRoot");)y++;if(p===J.length||y===fe.length)for(p=J.length-1,y=fe.length-1;1<=p&&0<=y&&J[p]!==fe[y];)y--;for(;1<=p&&0<=y;p--,y--)if(J[p]!==fe[y]){if(p!==1||y!==1)do if(p--,y--,0>y||J[p]!==fe[y]){var ke=`
`+J[p].replace(" at new "," at ");return i.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",i.displayName)),ke}while(1<=p&&0<=y);break}}}finally{hx=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?mo(u):""}function BL(i){switch(i.tag){case 26:case 27:case 5:return mo(i.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 15:return px(i.type,!1);case 11:return px(i.type.render,!1);case 1:return px(i.type,!0);case 31:return mo("Activity");default:return""}}function MN(i){try{var o="";do o+=BL(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Wr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function DN(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function UL(i){var o=DN(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,N=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(O){p=""+O,N.call(this,O)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(O){p=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Wf(i){i._valueTracker||(i._valueTracker=UL(i))}function RN(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=DN(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function Xf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var FL=/[\n"\\]/g;function Xr(i){return i.replace(FL,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function xx(i,o,u,p,y,N,O,z){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Wr(o)):i.value!==""+Wr(o)&&(i.value=""+Wr(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?gx(i,O,Wr(o)):u!=null?gx(i,O,Wr(u)):p!=null&&i.removeAttribute("value"),y==null&&N!=null&&(i.defaultChecked=!!N),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?i.name=""+Wr(z):i.removeAttribute("name")}function LN(i,o,u,p,y,N,O,z){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;u=u!=null?""+Wr(u):"",o=o!=null?""+Wr(o):u,z||o===i.value||(i.value=o),i.defaultValue=o}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=z?i.checked:!!p,i.defaultChecked=!!p,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O)}function gx(i,o,u){o==="number"&&Xf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ho(i,o,u,p){if(i=i.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=o.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Wr(u),o=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function $N(i,o,u){if(o!=null&&(o=""+Wr(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Wr(u):""}function IN(i,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(a(92));if(re(p)){if(1<p.length)throw Error(a(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=Wr(o),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p)}function po(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var VL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zN(i,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,u):typeof u!="number"||u===0||VL.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function BN(i,o,u){if(o!=null&&typeof o!="object")throw Error(a(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var y in o)p=o[y],o.hasOwnProperty(y)&&u[y]!==p&&zN(i,y,p)}else for(var N in o)o.hasOwnProperty(N)&&zN(i,N,o[N])}function vx(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zf(i){return qL.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var yx=null;function bx(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xo=null,go=null;function UN(i){var o=ms(i);if(o&&(i=o.stateNode)){var u=i[en]||null;e:switch(i=o.stateNode,o.type){case"input":if(xx(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Xr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var y=p[en]||null;if(!y)throw Error(a(90));xx(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===i.form&&RN(p)}break e;case"textarea":$N(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ho(i,!!u.multiple,o,!1)}}}var wx=!1;function FN(i,o,u){if(wx)return i(o,u);wx=!0;try{var p=i(o);return p}finally{if(wx=!1,(xo!==null||go!==null)&&(Lm(),xo&&(o=xo,i=go,go=xo=null,UN(o),i)))for(o=0;o<i.length;o++)UN(i[o])}}function uu(i,o){var u=i.stateNode;if(u===null)return null;var p=u[en]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,o,typeof u));return u}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jx=!1;if(xs)try{var du={};Object.defineProperty(du,"passive",{get:function(){jx=!0}}),window.addEventListener("test",du,du),window.removeEventListener("test",du,du)}catch{jx=!1}var ci=null,Nx=null,Qf=null;function VN(){if(Qf)return Qf;var i,o=Nx,u=o.length,p,y="value"in ci?ci.value:ci.textContent,N=y.length;for(i=0;i<u&&o[i]===y[i];i++);var O=u-i;for(p=1;p<=O&&o[u-p]===y[N-p];p++);return Qf=y.slice(i,1<p?1-p:void 0)}function Jf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function em(){return!0}function HN(){return!1}function pr(i){function o(u,p,y,N,O){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=N,this.target=O,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(N):N[z]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?em:HN,this.isPropagationStopped=HN,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=em)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=em)},persist:function(){},isPersistent:em}),o}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tm=pr(il),fu=h({},il,{view:0,detail:0}),KL=pr(fu),Sx,_x,mu,nm=h({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cx,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mu&&(mu&&i.type==="mousemove"?(Sx=i.screenX-mu.screenX,_x=i.screenY-mu.screenY):_x=Sx=0,mu=i),Sx)},movementY:function(i){return"movementY"in i?i.movementY:_x}}),qN=pr(nm),GL=h({},nm,{dataTransfer:0}),YL=pr(GL),WL=h({},fu,{relatedTarget:0}),kx=pr(WL),XL=h({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),ZL=pr(XL),QL=h({},il,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),JL=pr(QL),e7=h({},il,{data:0}),KN=pr(e7),t7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a7(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=r7[i])?!!o[i]:!1}function Cx(){return a7}var s7=h({},fu,{key:function(i){if(i.key){var o=t7[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Jf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?n7[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cx,charCode:function(i){return i.type==="keypress"?Jf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Jf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),i7=pr(s7),l7=h({},nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GN=pr(l7),o7=h({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cx}),c7=pr(o7),u7=h({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),d7=pr(u7),f7=h({},nm,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),m7=pr(f7),h7=h({},il,{newState:0,oldState:0}),p7=pr(h7),x7=[9,13,27,32],Ax=xs&&"CompositionEvent"in window,hu=null;xs&&"documentMode"in document&&(hu=document.documentMode);var g7=xs&&"TextEvent"in window&&!hu,YN=xs&&(!Ax||hu&&8<hu&&11>=hu),WN=" ",XN=!1;function ZN(i,o){switch(i){case"keyup":return x7.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QN(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vo=!1;function v7(i,o){switch(i){case"compositionend":return QN(o);case"keypress":return o.which!==32?null:(XN=!0,WN);case"textInput":return i=o.data,i===WN&&XN?null:i;default:return null}}function y7(i,o){if(vo)return i==="compositionend"||!Ax&&ZN(i,o)?(i=VN(),Qf=Nx=ci=null,vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return YN&&o.locale!=="ko"?null:o.data;default:return null}}var b7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JN(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!b7[i.type]:o==="textarea"}function eS(i,o,u,p){xo?go?go.push(p):go=[p]:xo=p,o=Fm(o,"onChange"),0<o.length&&(u=new tm("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var pu=null,xu=null;function w7(i){D_(i,0)}function rm(i){var o=oi(i);if(RN(o))return i}function tS(i,o){if(i==="change")return o}var nS=!1;if(xs){var Tx;if(xs){var Ex="oninput"in document;if(!Ex){var rS=document.createElement("div");rS.setAttribute("oninput","return;"),Ex=typeof rS.oninput=="function"}Tx=Ex}else Tx=!1;nS=Tx&&(!document.documentMode||9<document.documentMode)}function aS(){pu&&(pu.detachEvent("onpropertychange",sS),xu=pu=null)}function sS(i){if(i.propertyName==="value"&&rm(xu)){var o=[];eS(o,xu,i,bx(i)),FN(w7,o)}}function j7(i,o,u){i==="focusin"?(aS(),pu=o,xu=u,pu.attachEvent("onpropertychange",sS)):i==="focusout"&&aS()}function N7(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rm(xu)}function S7(i,o){if(i==="click")return rm(o)}function _7(i,o){if(i==="input"||i==="change")return rm(o)}function k7(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Cr=typeof Object.is=="function"?Object.is:k7;function gu(i,o){if(Cr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!xe.call(o,y)||!Cr(i[y],o[y]))return!1}return!0}function iS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function lS(i,o){var u=iS(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=iS(u)}}function oS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?oS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function cS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Xf(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Xf(i.document)}return o}function Px(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var C7=xs&&"documentMode"in document&&11>=document.documentMode,yo=null,Ox=null,vu=null,Mx=!1;function uS(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Mx||yo==null||yo!==Xf(p)||(p=yo,"selectionStart"in p&&Px(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),vu&&gu(vu,p)||(vu=p,p=Fm(Ox,"onSelect"),0<p.length&&(o=new tm("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=yo)))}function ll(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var bo={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionrun:ll("Transition","TransitionRun"),transitionstart:ll("Transition","TransitionStart"),transitioncancel:ll("Transition","TransitionCancel"),transitionend:ll("Transition","TransitionEnd")},Dx={},dS={};xs&&(dS=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function ol(i){if(Dx[i])return Dx[i];if(!bo[i])return i;var o=bo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in dS)return Dx[i]=o[u];return i}var fS=ol("animationend"),mS=ol("animationiteration"),hS=ol("animationstart"),A7=ol("transitionrun"),T7=ol("transitionstart"),E7=ol("transitioncancel"),pS=ol("transitionend"),xS=new Map,Rx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rx.push("scrollEnd");function wa(i,o){xS.set(i,o),$e(o,[i])}var gS=new WeakMap;function Zr(i,o){if(typeof i=="object"&&i!==null){var u=gS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:MN(o)},gS.set(i,o),o)}return{value:i,source:o,stack:MN(o)}}var Qr=[],wo=0,Lx=0;function am(){for(var i=wo,o=Lx=wo=0;o<i;){var u=Qr[o];Qr[o++]=null;var p=Qr[o];Qr[o++]=null;var y=Qr[o];Qr[o++]=null;var N=Qr[o];if(Qr[o++]=null,p!==null&&y!==null){var O=p.pending;O===null?y.next=y:(y.next=O.next,O.next=y),p.pending=y}N!==0&&vS(u,y,N)}}function sm(i,o,u,p){Qr[wo++]=i,Qr[wo++]=o,Qr[wo++]=u,Qr[wo++]=p,Lx|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function $x(i,o,u,p){return sm(i,o,u,p),im(i)}function jo(i,o){return sm(i,null,null,o),im(i)}function vS(i,o,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var y=!1,N=i.return;N!==null;)N.childLanes|=u,p=N.alternate,p!==null&&(p.childLanes|=u),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(y=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,y&&o!==null&&(y=31-Ie(u),i=N.hiddenUpdates,p=i[y],p===null?i[y]=[o]:p.push(o),o.lane=u|536870912),N):null}function im(i){if(50<Vu)throw Vu=0,Vg=null,Error(a(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var No={};function P7(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(i,o,u,p){return new P7(i,o,u,p)}function Ix(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gs(i,o){var u=i.alternate;return u===null?(u=Ar(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function yS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function lm(i,o,u,p,y,N){var O=0;if(p=i,typeof i=="function")Ix(i)&&(O=1);else if(typeof i=="string")O=M$(i,u,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case B:return i=Ar(31,u,o,y),i.elementType=B,i.lanes=N,i;case w:return cl(u.children,y,N,o);case j:O=8,y|=24;break;case S:return i=Ar(12,u,o,y|2),i.elementType=S,i.lanes=N,i;case T:return i=Ar(13,u,o,y),i.elementType=T,i.lanes=N,i;case E:return i=Ar(19,u,o,y),i.elementType=E,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case C:O=10;break e;case _:O=9;break e;case P:O=11;break e;case L:O=14;break e;case M:O=16,p=null;break e}O=29,u=Error(a(130,i===null?"null":typeof i,"")),p=null}return o=Ar(O,u,o,y),o.elementType=i,o.type=p,o.lanes=N,o}function cl(i,o,u,p){return i=Ar(7,i,p,o),i.lanes=u,i}function zx(i,o,u){return i=Ar(6,i,null,o),i.lanes=u,i}function Bx(i,o,u){return o=Ar(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var So=[],_o=0,om=null,cm=0,Jr=[],ea=0,ul=null,vs=1,ys="";function dl(i,o){So[_o++]=cm,So[_o++]=om,om=i,cm=o}function bS(i,o,u){Jr[ea++]=vs,Jr[ea++]=ys,Jr[ea++]=ul,ul=i;var p=vs;i=ys;var y=32-Ie(p)-1;p&=~(1<<y),u+=1;var N=32-Ie(o)+y;if(30<N){var O=y-y%5;N=(p&(1<<O)-1).toString(32),p>>=O,y-=O,vs=1<<32-Ie(o)+y|u<<y|p,ys=N+i}else vs=1<<N|u<<y|p,ys=i}function Ux(i){i.return!==null&&(dl(i,1),bS(i,1,0))}function Fx(i){for(;i===om;)om=So[--_o],So[_o]=null,cm=So[--_o],So[_o]=null;for(;i===ul;)ul=Jr[--ea],Jr[ea]=null,ys=Jr[--ea],Jr[ea]=null,vs=Jr[--ea],Jr[ea]=null}var ar=null,nn=null,_t=!1,fl=null,Va=!1,Vx=Error(a(519));function ml(i){var o=Error(a(418,""));throw wu(Zr(o,i)),Vx}function wS(i){var o=i.stateNode,u=i.type,p=i.memoizedProps;switch(o[St]=i,o[en]=p,u){case"dialog":ft("cancel",o),ft("close",o);break;case"iframe":case"object":case"embed":ft("load",o);break;case"video":case"audio":for(u=0;u<qu.length;u++)ft(qu[u],o);break;case"source":ft("error",o);break;case"img":case"image":case"link":ft("error",o),ft("load",o);break;case"details":ft("toggle",o);break;case"input":ft("invalid",o),LN(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Wf(o);break;case"select":ft("invalid",o);break;case"textarea":ft("invalid",o),IN(o,p.value,p.defaultValue,p.children),Wf(o)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||I_(o.textContent,u)?(p.popover!=null&&(ft("beforetoggle",o),ft("toggle",o)),p.onScroll!=null&&ft("scroll",o),p.onScrollEnd!=null&&ft("scrollend",o),p.onClick!=null&&(o.onclick=Vm),o=!0):o=!1,o||ml(i)}function jS(i){for(ar=i.return;ar;)switch(ar.tag){case 5:case 13:Va=!1;return;case 27:case 3:Va=!0;return;default:ar=ar.return}}function yu(i){if(i!==ar)return!1;if(!_t)return jS(i),_t=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||sv(i.type,i.memoizedProps)),u=!u),u&&nn&&ml(i),jS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){nn=Na(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}nn=null}}else o===27?(o=nn,_i(i.type)?(i=cv,cv=null,nn=i):nn=o):nn=ar?Na(i.stateNode.nextSibling):null;return!0}function bu(){nn=ar=null,_t=!1}function NS(){var i=fl;return i!==null&&(vr===null?vr=i:vr.push.apply(vr,i),fl=null),i}function wu(i){fl===null?fl=[i]:fl.push(i)}var Hx=D(null),hl=null,bs=null;function ui(i,o,u){W(Hx,o._currentValue),o._currentValue=u}function ws(i){i._currentValue=Hx.current,$(Hx)}function qx(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function Kx(i,o,u,p){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var N=y.dependencies;if(N!==null){var O=y.child;N=N.firstContext;e:for(;N!==null;){var z=N;N=y;for(var J=0;J<o.length;J++)if(z.context===o[J]){N.lanes|=u,z=N.alternate,z!==null&&(z.lanes|=u),qx(N.return,u,i),p||(O=null);break e}N=z.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(a(341));O.lanes|=u,N=O.alternate,N!==null&&(N.lanes|=u),qx(O,u,i),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===i){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function ju(i,o,u,p){i=null;for(var y=o,N=!1;y!==null;){if(!N){if((y.flags&524288)!==0)N=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(a(387));if(O=O.memoizedProps,O!==null){var z=y.type;Cr(y.pendingProps.value,O.value)||(i!==null?i.push(z):i=[z])}}else if(y===je.current){if(O=y.alternate,O===null)throw Error(a(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Zu):i=[Zu])}y=y.return}i!==null&&Kx(o,i,u,p),o.flags|=262144}function um(i){for(i=i.firstContext;i!==null;){if(!Cr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function pl(i){hl=i,bs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Gn(i){return SS(hl,i)}function dm(i,o){return hl===null&&pl(i),SS(i,o)}function SS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},bs===null){if(i===null)throw Error(a(308));bs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else bs=bs.next=o;return u}var O7=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},M7=e.unstable_scheduleCallback,D7=e.unstable_NormalPriority,wn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gx(){return{controller:new O7,data:new Map,refCount:0}}function Nu(i){i.refCount--,i.refCount===0&&M7(D7,function(){i.controller.abort()})}var Su=null,Yx=0,ko=0,Co=null;function R7(i,o){if(Su===null){var u=Su=[];Yx=0,ko=Xg(),Co={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Yx++,o.then(_S,_S),o}function _S(){if(--Yx===0&&Su!==null){Co!==null&&(Co.status="fulfilled");var i=Su;Su=null,ko=0,Co=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function L7(i,o){var u=[],p={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(p.status="rejected",p.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),p}var kS=R.S;R.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&R7(i,o),kS!==null&&kS(i,o)};var xl=D(null);function Wx(){var i=xl.current;return i!==null?i:Bt.pooledCache}function fm(i,o){o===null?W(xl,xl.current):W(xl,o.pool)}function CS(){var i=Wx();return i===null?null:{parent:wn._currentValue,pool:i}}var _u=Error(a(460)),AS=Error(a(474)),mm=Error(a(542)),Xx={then:function(){}};function TS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function hm(){}function ES(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(hm,hm),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,OS(i),i;default:if(typeof o.status=="string")o.then(hm,hm);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=p}},function(p){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,OS(i),i}throw ku=o,_u}}var ku=null;function PS(){if(ku===null)throw Error(a(459));var i=ku;return ku=null,i}function OS(i){if(i===_u||i===mm)throw Error(a(483))}var di=!1;function Zx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function fi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function mi(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ct&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,o=im(i),vS(i,null,u),o}return sm(i,p,o,u),im(i)}function Cu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,mt(i,u)}}function Jx(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?y=N=O:N=N.next=O,u=u.next}while(u!==null);N===null?y=N=o:N=N.next=o}else y=N=o;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var eg=!1;function Au(){if(eg){var i=Co;if(i!==null)throw i}}function Tu(i,o,u,p){eg=!1;var y=i.updateQueue;di=!1;var N=y.firstBaseUpdate,O=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var J=z,fe=J.next;J.next=null,O===null?N=fe:O.next=fe,O=J;var ke=i.alternate;ke!==null&&(ke=ke.updateQueue,z=ke.lastBaseUpdate,z!==O&&(z===null?ke.firstBaseUpdate=fe:z.next=fe,ke.lastBaseUpdate=J))}if(N!==null){var Ae=y.baseState;O=0,ke=fe=J=null,z=N;do{var me=z.lane&-536870913,pe=me!==z.lane;if(pe?(gt&me)===me:(p&me)===me){me!==0&&me===ko&&(eg=!0),ke!==null&&(ke=ke.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var nt=i,Qe=z;me=o;var Dt=u;switch(Qe.tag){case 1:if(nt=Qe.payload,typeof nt=="function"){Ae=nt.call(Dt,Ae,me);break e}Ae=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=Qe.payload,me=typeof nt=="function"?nt.call(Dt,Ae,me):nt,me==null)break e;Ae=h({},Ae,me);break e;case 2:di=!0}}me=z.callback,me!==null&&(i.flags|=64,pe&&(i.flags|=8192),pe=y.callbacks,pe===null?y.callbacks=[me]:pe.push(me))}else pe={lane:me,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ke===null?(fe=ke=pe,J=Ae):ke=ke.next=pe,O|=me;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;pe=z,z=pe.next,pe.next=null,y.lastBaseUpdate=pe,y.shared.pending=null}}while(!0);ke===null&&(J=Ae),y.baseState=J,y.firstBaseUpdate=fe,y.lastBaseUpdate=ke,N===null&&(y.shared.lanes=0),wi|=O,i.lanes=O,i.memoizedState=Ae}}function MS(i,o){if(typeof i!="function")throw Error(a(191,i));i.call(o)}function DS(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)MS(u[i],o)}var Ao=D(null),pm=D(0);function RS(i,o){i=As,W(pm,i),W(Ao,o),As=i|o.baseLanes}function tg(){W(pm,As),W(Ao,Ao.current)}function ng(){As=pm.current,$(Ao),$(pm)}var hi=0,lt=null,Ot=null,hn=null,xm=!1,To=!1,gl=!1,gm=0,Eu=0,Eo=null,$7=0;function cn(){throw Error(a(321))}function rg(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Cr(i[u],o[u]))return!1;return!0}function ag(i,o,u,p,y,N){return hi=N,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,R.H=i===null||i.memoizedState===null?v4:y4,gl=!1,N=u(p,y),gl=!1,To&&(N=$S(o,u,p,y)),LS(i),N}function LS(i){R.H=Nm;var o=Ot!==null&&Ot.next!==null;if(hi=0,hn=Ot=lt=null,xm=!1,Eu=0,Eo=null,o)throw Error(a(300));i===null||Tn||(i=i.dependencies,i!==null&&um(i)&&(Tn=!0))}function $S(i,o,u,p){lt=i;var y=0;do{if(To&&(Eo=null),Eu=0,To=!1,25<=y)throw Error(a(301));if(y+=1,hn=Ot=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}R.H=H7,N=o(u,p)}while(To);return N}function I7(){var i=R.H,o=i.useState()[0];return o=typeof o.then=="function"?Pu(o):o,i=i.useState()[0],(Ot!==null?Ot.memoizedState:null)!==i&&(lt.flags|=1024),o}function sg(){var i=gm!==0;return gm=0,i}function ig(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function lg(i){if(xm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}xm=!1}hi=0,hn=Ot=lt=null,To=!1,Eu=gm=0,Eo=null}function xr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?lt.memoizedState=hn=i:hn=hn.next=i,hn}function pn(){if(Ot===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var o=hn===null?lt.memoizedState:hn.next;if(o!==null)hn=o,Ot=i;else{if(i===null)throw lt.alternate===null?Error(a(467)):Error(a(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},hn===null?lt.memoizedState=hn=i:hn=hn.next=i}return hn}function og(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pu(i){var o=Eu;return Eu+=1,Eo===null&&(Eo=[]),i=ES(Eo,i,o),o=lt,(hn===null?o.memoizedState:hn.next)===null&&(o=o.alternate,R.H=o===null||o.memoizedState===null?v4:y4),i}function vm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Pu(i);if(i.$$typeof===C)return Gn(i)}throw Error(a(438,String(i)))}function cg(i){var o=null,u=lt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=lt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=og(),lt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),p=0;p<i;p++)u[p]=K;return o.index++,u}function js(i,o){return typeof o=="function"?o(i):o}function ym(i){var o=pn();return ug(o,Ot,i)}function ug(i,o,u){var p=i.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=u;var y=i.baseQueue,N=p.pending;if(N!==null){if(y!==null){var O=y.next;y.next=N.next,N.next=O}o.baseQueue=y=N,p.pending=null}if(N=i.baseState,y===null)i.memoizedState=N;else{o=y.next;var z=O=null,J=null,fe=o,ke=!1;do{var Ae=fe.lane&-536870913;if(Ae!==fe.lane?(gt&Ae)===Ae:(hi&Ae)===Ae){var me=fe.revertLane;if(me===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ae===ko&&(ke=!0);else if((hi&me)===me){fe=fe.next,me===ko&&(ke=!0);continue}else Ae={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},J===null?(z=J=Ae,O=N):J=J.next=Ae,lt.lanes|=me,wi|=me;Ae=fe.action,gl&&u(N,Ae),N=fe.hasEagerState?fe.eagerState:u(N,Ae)}else me={lane:Ae,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},J===null?(z=J=me,O=N):J=J.next=me,lt.lanes|=Ae,wi|=Ae;fe=fe.next}while(fe!==null&&fe!==o);if(J===null?O=N:J.next=z,!Cr(N,i.memoizedState)&&(Tn=!0,ke&&(u=Co,u!==null)))throw u;i.memoizedState=N,i.baseState=O,i.baseQueue=J,p.lastRenderedState=N}return y===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function dg(i){var o=pn(),u=o.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var p=u.dispatch,y=u.pending,N=o.memoizedState;if(y!==null){u.pending=null;var O=y=y.next;do N=i(N,O.action),O=O.next;while(O!==y);Cr(N,o.memoizedState)||(Tn=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,p]}function IS(i,o,u){var p=lt,y=pn(),N=_t;if(N){if(u===void 0)throw Error(a(407));u=u()}else u=o();var O=!Cr((Ot||y).memoizedState,u);O&&(y.memoizedState=u,Tn=!0),y=y.queue;var z=US.bind(null,p,y,i);if(Ou(2048,8,z,[i]),y.getSnapshot!==o||O||hn!==null&&hn.memoizedState.tag&1){if(p.flags|=2048,Po(9,bm(),BS.bind(null,p,y,u,o),null),Bt===null)throw Error(a(349));N||(hi&124)!==0||zS(p,o,u)}return u}function zS(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=lt.updateQueue,o===null?(o=og(),lt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function BS(i,o,u,p){o.value=u,o.getSnapshot=p,FS(o)&&VS(i)}function US(i,o,u){return u(function(){FS(o)&&VS(i)})}function FS(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Cr(i,u)}catch{return!0}}function VS(i){var o=jo(i,2);o!==null&&Mr(o,i,2)}function fg(i){var o=xr();if(typeof i=="function"){var u=i;if(i=u(),gl){De(!0);try{u()}finally{De(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:i},o}function HS(i,o,u,p){return i.baseState=u,ug(i,Ot,typeof p=="function"?p:js)}function z7(i,o,u,p,y){if(jm(i))throw Error(a(485));if(i=o.action,i!==null){var N={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){N.listeners.push(O)}};R.T!==null?u(!0):N.isTransition=!1,p(N),u=o.pending,u===null?(N.next=o.pending=N,qS(o,N)):(N.next=u.next,o.pending=u.next=N)}}function qS(i,o){var u=o.action,p=o.payload,y=i.state;if(o.isTransition){var N=R.T,O={};R.T=O;try{var z=u(y,p),J=R.S;J!==null&&J(O,z),KS(i,o,z)}catch(fe){mg(i,o,fe)}finally{R.T=N}}else try{N=u(y,p),KS(i,o,N)}catch(fe){mg(i,o,fe)}}function KS(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){GS(i,o,p)},function(p){return mg(i,o,p)}):GS(i,o,u)}function GS(i,o,u){o.status="fulfilled",o.value=u,YS(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,qS(i,u)))}function mg(i,o,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,YS(o),o=o.next;while(o!==p)}i.action=null}function YS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function WS(i,o){return o}function XS(i,o){if(_t){var u=Bt.formState;if(u!==null){e:{var p=lt;if(_t){if(nn){t:{for(var y=nn,N=Va;y.nodeType!==8;){if(!N){y=null;break t}if(y=Na(y.nextSibling),y===null){y=null;break t}}N=y.data,y=N==="F!"||N==="F"?y:null}if(y){nn=Na(y.nextSibling),p=y.data==="F!";break e}}ml(p)}p=!1}p&&(o=u[0])}}return u=xr(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WS,lastRenderedState:o},u.queue=p,u=p4.bind(null,lt,p),p.dispatch=u,p=fg(!1),N=vg.bind(null,lt,!1,p.queue),p=xr(),y={state:o,dispatch:null,action:i,pending:null},p.queue=y,u=z7.bind(null,lt,y,N,u),y.dispatch=u,p.memoizedState=i,[o,u,!1]}function ZS(i){var o=pn();return QS(o,Ot,i)}function QS(i,o,u){if(o=ug(i,o,WS)[0],i=ym(js)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Pu(o)}catch(O){throw O===_u?mm:O}else p=o;o=pn();var y=o.queue,N=y.dispatch;return u!==o.memoizedState&&(lt.flags|=2048,Po(9,bm(),B7.bind(null,y,u),null)),[p,N,i]}function B7(i,o){i.action=o}function JS(i){var o=pn(),u=Ot;if(u!==null)return QS(o,u,i);pn(),o=o.memoizedState,u=pn();var p=u.queue.dispatch;return u.memoizedState=i,[o,p,!1]}function Po(i,o,u,p){return i={tag:i,create:u,deps:p,inst:o,next:null},o=lt.updateQueue,o===null&&(o=og(),lt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i),i}function bm(){return{destroy:void 0,resource:void 0}}function e4(){return pn().memoizedState}function wm(i,o,u,p){var y=xr();p=p===void 0?null:p,lt.flags|=i,y.memoizedState=Po(1|o,bm(),u,p)}function Ou(i,o,u,p){var y=pn();p=p===void 0?null:p;var N=y.memoizedState.inst;Ot!==null&&p!==null&&rg(p,Ot.memoizedState.deps)?y.memoizedState=Po(o,N,u,p):(lt.flags|=i,y.memoizedState=Po(1|o,N,u,p))}function t4(i,o){wm(8390656,8,i,o)}function n4(i,o){Ou(2048,8,i,o)}function r4(i,o){return Ou(4,2,i,o)}function a4(i,o){return Ou(4,4,i,o)}function s4(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function i4(i,o,u){u=u!=null?u.concat([i]):null,Ou(4,4,s4.bind(null,o,i),u)}function hg(){}function l4(i,o){var u=pn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&rg(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function o4(i,o){var u=pn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&rg(o,p[1]))return p[0];if(p=i(),gl){De(!0);try{i()}finally{De(!1)}}return u.memoizedState=[p,o],p}function pg(i,o,u){return u===void 0||(hi&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=d_(),lt.lanes|=i,wi|=i,u)}function c4(i,o,u,p){return Cr(u,o)?u:Ao.current!==null?(i=pg(i,u,p),Cr(i,o)||(Tn=!0),i):(hi&42)===0?(Tn=!0,i.memoizedState=u):(i=d_(),lt.lanes|=i,wi|=i,o)}function u4(i,o,u,p,y){var N=G.p;G.p=N!==0&&8>N?N:8;var O=R.T,z={};R.T=z,vg(i,!1,o,u);try{var J=y(),fe=R.S;if(fe!==null&&fe(z,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ke=L7(J,p);Mu(i,o,ke,Or(i))}else Mu(i,o,p,Or(i))}catch(Ae){Mu(i,o,{then:function(){},status:"rejected",reason:Ae},Or())}finally{G.p=N,R.T=O}}function U7(){}function xg(i,o,u,p){if(i.tag!==5)throw Error(a(476));var y=d4(i).queue;u4(i,y,o,H,u===null?U7:function(){return f4(i),u(p)})}function d4(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function f4(i){var o=d4(i).next.queue;Mu(i,o,{},Or())}function gg(){return Gn(Zu)}function m4(){return pn().memoizedState}function h4(){return pn().memoizedState}function F7(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Or();i=fi(u);var p=mi(o,i,u);p!==null&&(Mr(p,o,u),Cu(p,o,u)),o={cache:Gx()},i.payload=o;return}o=o.return}}function V7(i,o,u){var p=Or();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},jm(i)?x4(o,u):(u=$x(i,o,u,p),u!==null&&(Mr(u,i,p),g4(u,o,p)))}function p4(i,o,u){var p=Or();Mu(i,o,u,p)}function Mu(i,o,u,p){var y={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(jm(i))x4(o,y);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var O=o.lastRenderedState,z=N(O,u);if(y.hasEagerState=!0,y.eagerState=z,Cr(z,O))return sm(i,o,y,0),Bt===null&&am(),!1}catch{}finally{}if(u=$x(i,o,y,p),u!==null)return Mr(u,i,p),g4(u,o,p),!0}return!1}function vg(i,o,u,p){if(p={lane:2,revertLane:Xg(),action:p,hasEagerState:!1,eagerState:null,next:null},jm(i)){if(o)throw Error(a(479))}else o=$x(i,u,p,2),o!==null&&Mr(o,i,2)}function jm(i){var o=i.alternate;return i===lt||o!==null&&o===lt}function x4(i,o){To=xm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function g4(i,o,u){if((u&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,mt(i,u)}}var Nm={readContext:Gn,use:vm,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn},v4={readContext:Gn,use:vm,useCallback:function(i,o){return xr().memoizedState=[i,o===void 0?null:o],i},useContext:Gn,useEffect:t4,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,wm(4194308,4,s4.bind(null,o,i),u)},useLayoutEffect:function(i,o){return wm(4194308,4,i,o)},useInsertionEffect:function(i,o){wm(4,2,i,o)},useMemo:function(i,o){var u=xr();o=o===void 0?null:o;var p=i();if(gl){De(!0);try{i()}finally{De(!1)}}return u.memoizedState=[p,o],p},useReducer:function(i,o,u){var p=xr();if(u!==void 0){var y=u(o);if(gl){De(!0);try{u(o)}finally{De(!1)}}}else y=o;return p.memoizedState=p.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},p.queue=i,i=i.dispatch=V7.bind(null,lt,i),[p.memoizedState,i]},useRef:function(i){var o=xr();return i={current:i},o.memoizedState=i},useState:function(i){i=fg(i);var o=i.queue,u=p4.bind(null,lt,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:hg,useDeferredValue:function(i,o){var u=xr();return pg(u,i,o)},useTransition:function(){var i=fg(!1);return i=u4.bind(null,lt,i.queue,!0,!1),xr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var p=lt,y=xr();if(_t){if(u===void 0)throw Error(a(407));u=u()}else{if(u=o(),Bt===null)throw Error(a(349));(gt&124)!==0||zS(p,o,u)}y.memoizedState=u;var N={value:u,getSnapshot:o};return y.queue=N,t4(US.bind(null,p,N,i),[i]),p.flags|=2048,Po(9,bm(),BS.bind(null,p,N,u,o),null),u},useId:function(){var i=xr(),o=Bt.identifierPrefix;if(_t){var u=ys,p=vs;u=(p&~(1<<32-Ie(p)-1)).toString(32)+u,o=""+o+"R"+u,u=gm++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=$7++,o=""+o+"r"+u.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:gg,useFormState:XS,useActionState:XS,useOptimistic:function(i){var o=xr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=vg.bind(null,lt,!0,u),u.dispatch=o,[i,o]},useMemoCache:cg,useCacheRefresh:function(){return xr().memoizedState=F7.bind(null,lt)}},y4={readContext:Gn,use:vm,useCallback:l4,useContext:Gn,useEffect:n4,useImperativeHandle:i4,useInsertionEffect:r4,useLayoutEffect:a4,useMemo:o4,useReducer:ym,useRef:e4,useState:function(){return ym(js)},useDebugValue:hg,useDeferredValue:function(i,o){var u=pn();return c4(u,Ot.memoizedState,i,o)},useTransition:function(){var i=ym(js)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Pu(i),o]},useSyncExternalStore:IS,useId:m4,useHostTransitionStatus:gg,useFormState:ZS,useActionState:ZS,useOptimistic:function(i,o){var u=pn();return HS(u,Ot,i,o)},useMemoCache:cg,useCacheRefresh:h4},H7={readContext:Gn,use:vm,useCallback:l4,useContext:Gn,useEffect:n4,useImperativeHandle:i4,useInsertionEffect:r4,useLayoutEffect:a4,useMemo:o4,useReducer:dg,useRef:e4,useState:function(){return dg(js)},useDebugValue:hg,useDeferredValue:function(i,o){var u=pn();return Ot===null?pg(u,i,o):c4(u,Ot.memoizedState,i,o)},useTransition:function(){var i=dg(js)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Pu(i),o]},useSyncExternalStore:IS,useId:m4,useHostTransitionStatus:gg,useFormState:JS,useActionState:JS,useOptimistic:function(i,o){var u=pn();return Ot!==null?HS(u,Ot,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:cg,useCacheRefresh:h4},Oo=null,Du=0;function Sm(i){var o=Du;return Du+=1,Oo===null&&(Oo=[]),ES(Oo,i,o)}function Ru(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function _m(i,o){throw o.$$typeof===x?Error(a(525)):(i=Object.prototype.toString.call(o),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function b4(i){var o=i._init;return o(i._payload)}function w4(i){function o(le,ne){if(i){var ue=le.deletions;ue===null?(le.deletions=[ne],le.flags|=16):ue.push(ne)}}function u(le,ne){if(!i)return null;for(;ne!==null;)o(le,ne),ne=ne.sibling;return null}function p(le){for(var ne=new Map;le!==null;)le.key!==null?ne.set(le.key,le):ne.set(le.index,le),le=le.sibling;return ne}function y(le,ne){return le=gs(le,ne),le.index=0,le.sibling=null,le}function N(le,ne,ue){return le.index=ue,i?(ue=le.alternate,ue!==null?(ue=ue.index,ue<ne?(le.flags|=67108866,ne):ue):(le.flags|=67108866,ne)):(le.flags|=1048576,ne)}function O(le){return i&&le.alternate===null&&(le.flags|=67108866),le}function z(le,ne,ue,Ce){return ne===null||ne.tag!==6?(ne=zx(ue,le.mode,Ce),ne.return=le,ne):(ne=y(ne,ue),ne.return=le,ne)}function J(le,ne,ue,Ce){var Ke=ue.type;return Ke===w?ke(le,ne,ue.props.children,Ce,ue.key):ne!==null&&(ne.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&b4(Ke)===ne.type)?(ne=y(ne,ue.props),Ru(ne,ue),ne.return=le,ne):(ne=lm(ue.type,ue.key,ue.props,null,le.mode,Ce),Ru(ne,ue),ne.return=le,ne)}function fe(le,ne,ue,Ce){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ue.containerInfo||ne.stateNode.implementation!==ue.implementation?(ne=Bx(ue,le.mode,Ce),ne.return=le,ne):(ne=y(ne,ue.children||[]),ne.return=le,ne)}function ke(le,ne,ue,Ce,Ke){return ne===null||ne.tag!==7?(ne=cl(ue,le.mode,Ce,Ke),ne.return=le,ne):(ne=y(ne,ue),ne.return=le,ne)}function Ae(le,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=zx(""+ne,le.mode,ue),ne.return=le,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case g:return ue=lm(ne.type,ne.key,ne.props,null,le.mode,ue),Ru(ue,ne),ue.return=le,ue;case b:return ne=Bx(ne,le.mode,ue),ne.return=le,ne;case M:var Ce=ne._init;return ne=Ce(ne._payload),Ae(le,ne,ue)}if(re(ne)||U(ne))return ne=cl(ne,le.mode,ue,null),ne.return=le,ne;if(typeof ne.then=="function")return Ae(le,Sm(ne),ue);if(ne.$$typeof===C)return Ae(le,dm(le,ne),ue);_m(le,ne)}return null}function me(le,ne,ue,Ce){var Ke=ne!==null?ne.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Ke!==null?null:z(le,ne,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:return ue.key===Ke?J(le,ne,ue,Ce):null;case b:return ue.key===Ke?fe(le,ne,ue,Ce):null;case M:return Ke=ue._init,ue=Ke(ue._payload),me(le,ne,ue,Ce)}if(re(ue)||U(ue))return Ke!==null?null:ke(le,ne,ue,Ce,null);if(typeof ue.then=="function")return me(le,ne,Sm(ue),Ce);if(ue.$$typeof===C)return me(le,ne,dm(le,ue),Ce);_m(le,ue)}return null}function pe(le,ne,ue,Ce,Ke){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return le=le.get(ue)||null,z(ne,le,""+Ce,Ke);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case g:return le=le.get(Ce.key===null?ue:Ce.key)||null,J(ne,le,Ce,Ke);case b:return le=le.get(Ce.key===null?ue:Ce.key)||null,fe(ne,le,Ce,Ke);case M:var ct=Ce._init;return Ce=ct(Ce._payload),pe(le,ne,ue,Ce,Ke)}if(re(Ce)||U(Ce))return le=le.get(ue)||null,ke(ne,le,Ce,Ke,null);if(typeof Ce.then=="function")return pe(le,ne,ue,Sm(Ce),Ke);if(Ce.$$typeof===C)return pe(le,ne,ue,dm(ne,Ce),Ke);_m(ne,Ce)}return null}function nt(le,ne,ue,Ce){for(var Ke=null,ct=null,Ye=ne,tt=ne=0,Pn=null;Ye!==null&&tt<ue.length;tt++){Ye.index>tt?(Pn=Ye,Ye=null):Pn=Ye.sibling;var wt=me(le,Ye,ue[tt],Ce);if(wt===null){Ye===null&&(Ye=Pn);break}i&&Ye&&wt.alternate===null&&o(le,Ye),ne=N(wt,ne,tt),ct===null?Ke=wt:ct.sibling=wt,ct=wt,Ye=Pn}if(tt===ue.length)return u(le,Ye),_t&&dl(le,tt),Ke;if(Ye===null){for(;tt<ue.length;tt++)Ye=Ae(le,ue[tt],Ce),Ye!==null&&(ne=N(Ye,ne,tt),ct===null?Ke=Ye:ct.sibling=Ye,ct=Ye);return _t&&dl(le,tt),Ke}for(Ye=p(Ye);tt<ue.length;tt++)Pn=pe(Ye,le,tt,ue[tt],Ce),Pn!==null&&(i&&Pn.alternate!==null&&Ye.delete(Pn.key===null?tt:Pn.key),ne=N(Pn,ne,tt),ct===null?Ke=Pn:ct.sibling=Pn,ct=Pn);return i&&Ye.forEach(function(Ei){return o(le,Ei)}),_t&&dl(le,tt),Ke}function Qe(le,ne,ue,Ce){if(ue==null)throw Error(a(151));for(var Ke=null,ct=null,Ye=ne,tt=ne=0,Pn=null,wt=ue.next();Ye!==null&&!wt.done;tt++,wt=ue.next()){Ye.index>tt?(Pn=Ye,Ye=null):Pn=Ye.sibling;var Ei=me(le,Ye,wt.value,Ce);if(Ei===null){Ye===null&&(Ye=Pn);break}i&&Ye&&Ei.alternate===null&&o(le,Ye),ne=N(Ei,ne,tt),ct===null?Ke=Ei:ct.sibling=Ei,ct=Ei,Ye=Pn}if(wt.done)return u(le,Ye),_t&&dl(le,tt),Ke;if(Ye===null){for(;!wt.done;tt++,wt=ue.next())wt=Ae(le,wt.value,Ce),wt!==null&&(ne=N(wt,ne,tt),ct===null?Ke=wt:ct.sibling=wt,ct=wt);return _t&&dl(le,tt),Ke}for(Ye=p(Ye);!wt.done;tt++,wt=ue.next())wt=pe(Ye,le,tt,wt.value,Ce),wt!==null&&(i&&wt.alternate!==null&&Ye.delete(wt.key===null?tt:wt.key),ne=N(wt,ne,tt),ct===null?Ke=wt:ct.sibling=wt,ct=wt);return i&&Ye.forEach(function(q$){return o(le,q$)}),_t&&dl(le,tt),Ke}function Dt(le,ne,ue,Ce){if(typeof ue=="object"&&ue!==null&&ue.type===w&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:e:{for(var Ke=ue.key;ne!==null;){if(ne.key===Ke){if(Ke=ue.type,Ke===w){if(ne.tag===7){u(le,ne.sibling),Ce=y(ne,ue.props.children),Ce.return=le,le=Ce;break e}}else if(ne.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&b4(Ke)===ne.type){u(le,ne.sibling),Ce=y(ne,ue.props),Ru(Ce,ue),Ce.return=le,le=Ce;break e}u(le,ne);break}else o(le,ne);ne=ne.sibling}ue.type===w?(Ce=cl(ue.props.children,le.mode,Ce,ue.key),Ce.return=le,le=Ce):(Ce=lm(ue.type,ue.key,ue.props,null,le.mode,Ce),Ru(Ce,ue),Ce.return=le,le=Ce)}return O(le);case b:e:{for(Ke=ue.key;ne!==null;){if(ne.key===Ke)if(ne.tag===4&&ne.stateNode.containerInfo===ue.containerInfo&&ne.stateNode.implementation===ue.implementation){u(le,ne.sibling),Ce=y(ne,ue.children||[]),Ce.return=le,le=Ce;break e}else{u(le,ne);break}else o(le,ne);ne=ne.sibling}Ce=Bx(ue,le.mode,Ce),Ce.return=le,le=Ce}return O(le);case M:return Ke=ue._init,ue=Ke(ue._payload),Dt(le,ne,ue,Ce)}if(re(ue))return nt(le,ne,ue,Ce);if(U(ue)){if(Ke=U(ue),typeof Ke!="function")throw Error(a(150));return ue=Ke.call(ue),Qe(le,ne,ue,Ce)}if(typeof ue.then=="function")return Dt(le,ne,Sm(ue),Ce);if(ue.$$typeof===C)return Dt(le,ne,dm(le,ue),Ce);_m(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ne!==null&&ne.tag===6?(u(le,ne.sibling),Ce=y(ne,ue),Ce.return=le,le=Ce):(u(le,ne),Ce=zx(ue,le.mode,Ce),Ce.return=le,le=Ce),O(le)):u(le,ne)}return function(le,ne,ue,Ce){try{Du=0;var Ke=Dt(le,ne,ue,Ce);return Oo=null,Ke}catch(Ye){if(Ye===_u||Ye===mm)throw Ye;var ct=Ar(29,Ye,null,le.mode);return ct.lanes=Ce,ct.return=le,ct}finally{}}}var Mo=w4(!0),j4=w4(!1),ta=D(null),Ha=null;function pi(i){var o=i.alternate;W(jn,jn.current&1),W(ta,i),Ha===null&&(o===null||Ao.current!==null||o.memoizedState!==null)&&(Ha=i)}function N4(i){if(i.tag===22){if(W(jn,jn.current),W(ta,i),Ha===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Ha=i)}}else xi()}function xi(){W(jn,jn.current),W(ta,ta.current)}function Ns(i){$(ta),Ha===i&&(Ha=null),$(jn)}var jn=D(0);function km(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||ov(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function yg(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:h({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var bg={enqueueSetState:function(i,o,u){i=i._reactInternals;var p=Or(),y=fi(p);y.payload=o,u!=null&&(y.callback=u),o=mi(i,y,p),o!==null&&(Mr(o,i,p),Cu(o,i,p))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=Or(),y=fi(p);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=mi(i,y,p),o!==null&&(Mr(o,i,p),Cu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Or(),p=fi(u);p.tag=2,o!=null&&(p.callback=o),o=mi(i,p,u),o!==null&&(Mr(o,i,u),Cu(o,i,u))}};function S4(i,o,u,p,y,N,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,O):o.prototype&&o.prototype.isPureReactComponent?!gu(u,p)||!gu(y,N):!0}function _4(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&bg.enqueueReplaceState(o,o.state,null)}function vl(i,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(i=i.defaultProps){u===o&&(u=h({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}var Cm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function k4(i){Cm(i)}function C4(i){console.error(i)}function A4(i){Cm(i)}function Am(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function T4(i,o,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function wg(i,o,u){return u=fi(u),u.tag=3,u.payload={element:null},u.callback=function(){Am(i,o)},u}function E4(i){return i=fi(i),i.tag=3,i}function P4(i,o,u,p){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var N=p.value;i.payload=function(){return y(N)},i.callback=function(){T4(o,u,p)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){T4(o,u,p),typeof y!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var z=p.stack;this.componentDidCatch(p.value,{componentStack:z!==null?z:""})})}function q7(i,o,u,p,y){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&ju(o,u,y,!0),u=ta.current,u!==null){switch(u.tag){case 13:return Ha===null?qg():u.alternate===null&&rn===0&&(rn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,p===Xx?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),Gg(i,p,y)),!1;case 22:return u.flags|=65536,p===Xx?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),Gg(i,p,y)),!1}throw Error(a(435,u.tag))}return Gg(i,p,y),qg(),!1}if(_t)return o=ta.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,p!==Vx&&(i=Error(a(422),{cause:p}),wu(Zr(i,u)))):(p!==Vx&&(o=Error(a(423),{cause:p}),wu(Zr(o,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,p=Zr(p,u),y=wg(i.stateNode,p,y),Jx(i,y),rn!==4&&(rn=2)),!1;var N=Error(a(520),{cause:p});if(N=Zr(N,u),Fu===null?Fu=[N]:Fu.push(N),rn!==4&&(rn=2),o===null)return!0;p=Zr(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=wg(u.stateNode,p,i),Jx(u,i),!1;case 1:if(o=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ji===null||!ji.has(N))))return u.flags|=65536,y&=-y,u.lanes|=y,y=E4(y),P4(y,i,u,p),Jx(u,y),!1}u=u.return}while(u!==null);return!1}var O4=Error(a(461)),Tn=!1;function zn(i,o,u,p){o.child=i===null?j4(o,null,u,p):Mo(o,i.child,u,p)}function M4(i,o,u,p,y){u=u.render;var N=o.ref;if("ref"in p){var O={};for(var z in p)z!=="ref"&&(O[z]=p[z])}else O=p;return pl(o),p=ag(i,o,u,O,N,y),z=sg(),i!==null&&!Tn?(ig(i,o,y),Ss(i,o,y)):(_t&&z&&Ux(o),o.flags|=1,zn(i,o,p,y),o.child)}function D4(i,o,u,p,y){if(i===null){var N=u.type;return typeof N=="function"&&!Ix(N)&&N.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=N,R4(i,o,N,p,y)):(i=lm(u.type,null,p,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Tg(i,y)){var O=N.memoizedProps;if(u=u.compare,u=u!==null?u:gu,u(O,p)&&i.ref===o.ref)return Ss(i,o,y)}return o.flags|=1,i=gs(N,p),i.ref=o.ref,i.return=o,o.child=i}function R4(i,o,u,p,y){if(i!==null){var N=i.memoizedProps;if(gu(N,p)&&i.ref===o.ref)if(Tn=!1,o.pendingProps=p=N,Tg(i,y))(i.flags&131072)!==0&&(Tn=!0);else return o.lanes=i.lanes,Ss(i,o,y)}return jg(i,o,u,p,y)}function L4(i,o,u){var p=o.pendingProps,y=p.children,N=i!==null?i.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=N!==null?N.baseLanes|u:u,i!==null){for(y=o.child=i.child,N=0;y!==null;)N=N|y.lanes|y.childLanes,y=y.sibling;o.childLanes=N&~p}else o.childLanes=0,o.child=null;return $4(i,o,p,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&fm(o,N!==null?N.cachePool:null),N!==null?RS(o,N):tg(),N4(o);else return o.lanes=o.childLanes=536870912,$4(i,o,N!==null?N.baseLanes|u:u,u)}else N!==null?(fm(o,N.cachePool),RS(o,N),xi(),o.memoizedState=null):(i!==null&&fm(o,null),tg(),xi());return zn(i,o,y,u),o.child}function $4(i,o,u,p){var y=Wx();return y=y===null?null:{parent:wn._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},i!==null&&fm(o,null),tg(),N4(o),i!==null&&ju(i,o,p,!0),null}function Tm(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function jg(i,o,u,p,y){return pl(o),u=ag(i,o,u,p,void 0,y),p=sg(),i!==null&&!Tn?(ig(i,o,y),Ss(i,o,y)):(_t&&p&&Ux(o),o.flags|=1,zn(i,o,u,y),o.child)}function I4(i,o,u,p,y,N){return pl(o),o.updateQueue=null,u=$S(o,p,u,y),LS(i),p=sg(),i!==null&&!Tn?(ig(i,o,N),Ss(i,o,N)):(_t&&p&&Ux(o),o.flags|=1,zn(i,o,u,N),o.child)}function z4(i,o,u,p,y){if(pl(o),o.stateNode===null){var N=No,O=u.contextType;typeof O=="object"&&O!==null&&(N=Gn(O)),N=new u(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=bg,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},Zx(o),O=u.contextType,N.context=typeof O=="object"&&O!==null?Gn(O):No,N.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(yg(o,u,O,p),N.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(O=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),O!==N.state&&bg.enqueueReplaceState(N,N.state,null),Tu(o,p,N,y),Au(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var z=o.memoizedProps,J=vl(u,z);N.props=J;var fe=N.context,ke=u.contextType;O=No,typeof ke=="object"&&ke!==null&&(O=Gn(ke));var Ae=u.getDerivedStateFromProps;ke=typeof Ae=="function"||typeof N.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,ke||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(z||fe!==O)&&_4(o,N,p,O),di=!1;var me=o.memoizedState;N.state=me,Tu(o,p,N,y),Au(),fe=o.memoizedState,z||me!==fe||di?(typeof Ae=="function"&&(yg(o,u,Ae,p),fe=o.memoizedState),(J=di||S4(o,u,J,p,me,fe,O))?(ke||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=fe),N.props=p,N.state=fe,N.context=O,p=J):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,Qx(i,o),O=o.memoizedProps,ke=vl(u,O),N.props=ke,Ae=o.pendingProps,me=N.context,fe=u.contextType,J=No,typeof fe=="object"&&fe!==null&&(J=Gn(fe)),z=u.getDerivedStateFromProps,(fe=typeof z=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==Ae||me!==J)&&_4(o,N,p,J),di=!1,me=o.memoizedState,N.state=me,Tu(o,p,N,y),Au();var pe=o.memoizedState;O!==Ae||me!==pe||di||i!==null&&i.dependencies!==null&&um(i.dependencies)?(typeof z=="function"&&(yg(o,u,z,p),pe=o.memoizedState),(ke=di||S4(o,u,ke,p,me,pe,J)||i!==null&&i.dependencies!==null&&um(i.dependencies))?(fe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,pe,J),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,pe,J)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||O===i.memoizedProps&&me===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&me===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=pe),N.props=p,N.state=pe,N.context=J,p=ke):(typeof N.componentDidUpdate!="function"||O===i.memoizedProps&&me===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&me===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,Tm(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=Mo(o,i.child,null,y),o.child=Mo(o,null,u,y)):zn(i,o,u,y),o.memoizedState=N.state,i=o.child):i=Ss(i,o,y),i}function B4(i,o,u,p){return bu(),o.flags|=256,zn(i,o,u,p),o.child}var Ng={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sg(i){return{baseLanes:i,cachePool:CS()}}function _g(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=na),i}function U4(i,o,u){var p=o.pendingProps,y=!1,N=(o.flags&128)!==0,O;if((O=N)||(O=i!==null&&i.memoizedState===null?!1:(jn.current&2)!==0),O&&(y=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(_t){if(y?pi(o):xi(),_t){var z=nn,J;if(J=z){e:{for(J=z,z=Va;J.nodeType!==8;){if(!z){z=null;break e}if(J=Na(J.nextSibling),J===null){z=null;break e}}z=J}z!==null?(o.memoizedState={dehydrated:z,treeContext:ul!==null?{id:vs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},J=Ar(18,null,null,0),J.stateNode=z,J.return=o,o.child=J,ar=o,nn=null,J=!0):J=!1}J||ml(o)}if(z=o.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return ov(z)?o.lanes=32:o.lanes=536870912,null;Ns(o)}return z=p.children,p=p.fallback,y?(xi(),y=o.mode,z=Em({mode:"hidden",children:z},y),p=cl(p,y,u,null),z.return=o,p.return=o,z.sibling=p,o.child=z,y=o.child,y.memoizedState=Sg(u),y.childLanes=_g(i,O,u),o.memoizedState=Ng,p):(pi(o),kg(o,z))}if(J=i.memoizedState,J!==null&&(z=J.dehydrated,z!==null)){if(N)o.flags&256?(pi(o),o.flags&=-257,o=Cg(i,o,u)):o.memoizedState!==null?(xi(),o.child=i.child,o.flags|=128,o=null):(xi(),y=p.fallback,z=o.mode,p=Em({mode:"visible",children:p.children},z),y=cl(y,z,u,null),y.flags|=2,p.return=o,y.return=o,p.sibling=y,o.child=p,Mo(o,i.child,null,u),p=o.child,p.memoizedState=Sg(u),p.childLanes=_g(i,O,u),o.memoizedState=Ng,o=y);else if(pi(o),ov(z)){if(O=z.nextSibling&&z.nextSibling.dataset,O)var fe=O.dgst;O=fe,p=Error(a(419)),p.stack="",p.digest=O,wu({value:p,source:null,stack:null}),o=Cg(i,o,u)}else if(Tn||ju(i,o,u,!1),O=(u&i.childLanes)!==0,Tn||O){if(O=Bt,O!==null&&(p=u&-u,p=(p&42)!==0?1:at(p),p=(p&(O.suspendedLanes|u))!==0?0:p,p!==0&&p!==J.retryLane))throw J.retryLane=p,jo(i,p),Mr(O,i,p),O4;z.data==="$?"||qg(),o=Cg(i,o,u)}else z.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=J.treeContext,nn=Na(z.nextSibling),ar=o,_t=!0,fl=null,Va=!1,i!==null&&(Jr[ea++]=vs,Jr[ea++]=ys,Jr[ea++]=ul,vs=i.id,ys=i.overflow,ul=o),o=kg(o,p.children),o.flags|=4096);return o}return y?(xi(),y=p.fallback,z=o.mode,J=i.child,fe=J.sibling,p=gs(J,{mode:"hidden",children:p.children}),p.subtreeFlags=J.subtreeFlags&65011712,fe!==null?y=gs(fe,y):(y=cl(y,z,u,null),y.flags|=2),y.return=o,p.return=o,p.sibling=y,o.child=p,p=y,y=o.child,z=i.child.memoizedState,z===null?z=Sg(u):(J=z.cachePool,J!==null?(fe=wn._currentValue,J=J.parent!==fe?{parent:fe,pool:fe}:J):J=CS(),z={baseLanes:z.baseLanes|u,cachePool:J}),y.memoizedState=z,y.childLanes=_g(i,O,u),o.memoizedState=Ng,p):(pi(o),u=i.child,i=u.sibling,u=gs(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function kg(i,o){return o=Em({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Em(i,o){return i=Ar(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Cg(i,o,u){return Mo(o,i.child,null,u),i=kg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function F4(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),qx(i.return,o,u)}function Ag(i,o,u,p,y){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=y)}function V4(i,o,u){var p=o.pendingProps,y=p.revealOrder,N=p.tail;if(zn(i,o,p.children,u),p=jn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&F4(i,u,o);else if(i.tag===19)F4(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(W(jn,p),y){case"forwards":for(u=o.child,y=null;u!==null;)i=u.alternate,i!==null&&km(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Ag(o,!1,y,u,N);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&km(i)===null){o.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}Ag(o,!0,u,null,N);break;case"together":Ag(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ss(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),wi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(ju(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(a(153));if(o.child!==null){for(i=o.child,u=gs(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=gs(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Tg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&um(i)))}function K7(i,o,u){switch(o.tag){case 3:se(o,o.stateNode.containerInfo),ui(o,wn,i.memoizedState.cache),bu();break;case 27:case 5:_e(o);break;case 4:se(o,o.stateNode.containerInfo);break;case 10:ui(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(pi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?U4(i,o,u):(pi(o),i=Ss(i,o,u),i!==null?i.sibling:null);pi(o);break;case 19:var y=(i.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(ju(i,o,u,!1),p=(u&o.childLanes)!==0),y){if(p)return V4(i,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),W(jn,jn.current),p)break;return null;case 22:case 23:return o.lanes=0,L4(i,o,u);case 24:ui(o,wn,i.memoizedState.cache)}return Ss(i,o,u)}function H4(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Tn=!0;else{if(!Tg(i,u)&&(o.flags&128)===0)return Tn=!1,K7(i,o,u);Tn=(i.flags&131072)!==0}else Tn=!1,_t&&(o.flags&1048576)!==0&&bS(o,cm,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var p=o.elementType,y=p._init;if(p=y(p._payload),o.type=p,typeof p=="function")Ix(p)?(i=vl(p,i),o.tag=1,o=z4(null,o,p,i,u)):(o.tag=0,o=jg(null,o,p,i,u));else{if(p!=null){if(y=p.$$typeof,y===P){o.tag=11,o=M4(null,o,p,i,u);break e}else if(y===L){o.tag=14,o=D4(null,o,p,i,u);break e}}throw o=we(p)||p,Error(a(306,o,""))}}return o;case 0:return jg(i,o,o.type,o.pendingProps,u);case 1:return p=o.type,y=vl(p,o.pendingProps),z4(i,o,p,y,u);case 3:e:{if(se(o,o.stateNode.containerInfo),i===null)throw Error(a(387));p=o.pendingProps;var N=o.memoizedState;y=N.element,Qx(i,o),Tu(o,p,null,u);var O=o.memoizedState;if(p=O.cache,ui(o,wn,p),p!==N.cache&&Kx(o,[wn],u,!0),Au(),p=O.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=B4(i,o,p,u);break e}else if(p!==y){y=Zr(Error(a(424)),o),wu(y),o=B4(i,o,p,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nn=Na(i.firstChild),ar=o,_t=!0,fl=null,Va=!0,u=j4(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(bu(),p===y){o=Ss(i,o,u);break e}zn(i,o,p,u)}o=o.child}return o;case 26:return Tm(i,o),i===null?(u=Y_(o.type,null,o.pendingProps,null))?o.memoizedState=u:_t||(u=o.type,i=o.pendingProps,p=Hm(Z.current).createElement(u),p[St]=o,p[en]=i,Un(p,u,i),oe(p),o.stateNode=p):o.memoizedState=Y_(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return _e(o),i===null&&_t&&(p=o.stateNode=q_(o.type,o.pendingProps,Z.current),ar=o,Va=!0,y=nn,_i(o.type)?(cv=y,nn=Na(p.firstChild)):nn=y),zn(i,o,o.pendingProps.children,u),Tm(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&_t&&((y=p=nn)&&(p=b$(p,o.type,o.pendingProps,Va),p!==null?(o.stateNode=p,ar=o,nn=Na(p.firstChild),Va=!1,y=!0):y=!1),y||ml(o)),_e(o),y=o.type,N=o.pendingProps,O=i!==null?i.memoizedProps:null,p=N.children,sv(y,N)?p=null:O!==null&&sv(y,O)&&(o.flags|=32),o.memoizedState!==null&&(y=ag(i,o,I7,null,null,u),Zu._currentValue=y),Tm(i,o),zn(i,o,p,u),o.child;case 6:return i===null&&_t&&((i=u=nn)&&(u=w$(u,o.pendingProps,Va),u!==null?(o.stateNode=u,ar=o,nn=null,i=!0):i=!1),i||ml(o)),null;case 13:return U4(i,o,u);case 4:return se(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Mo(o,null,p,u):zn(i,o,p,u),o.child;case 11:return M4(i,o,o.type,o.pendingProps,u);case 7:return zn(i,o,o.pendingProps,u),o.child;case 8:return zn(i,o,o.pendingProps.children,u),o.child;case 12:return zn(i,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,ui(o,o.type,p.value),zn(i,o,p.children,u),o.child;case 9:return y=o.type._context,p=o.pendingProps.children,pl(o),y=Gn(y),p=p(y),o.flags|=1,zn(i,o,p,u),o.child;case 14:return D4(i,o,o.type,o.pendingProps,u);case 15:return R4(i,o,o.type,o.pendingProps,u);case 19:return V4(i,o,u);case 31:return p=o.pendingProps,u=o.mode,p={mode:p.mode,children:p.children},i===null?(u=Em(p,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=gs(i.child,p),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return L4(i,o,u);case 24:return pl(o),p=Gn(wn),i===null?(y=Wx(),y===null&&(y=Bt,N=Gx(),y.pooledCache=N,N.refCount++,N!==null&&(y.pooledCacheLanes|=u),y=N),o.memoizedState={parent:p,cache:y},Zx(o),ui(o,wn,y)):((i.lanes&u)!==0&&(Qx(i,o),Tu(o,null,null,u),Au()),y=i.memoizedState,N=o.memoizedState,y.parent!==p?(y={parent:p,cache:p},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ui(o,wn,p)):(p=N.cache,ui(o,wn,p),p!==y.cache&&Kx(o,[wn],u,!0))),zn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function _s(i){i.flags|=4}function q4(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!J_(o)){if(o=ta.current,o!==null&&((gt&4194048)===gt?Ha!==null:(gt&62914560)!==gt&&(gt&536870912)===0||o!==Ha))throw ku=Xx,AS;i.flags|=8192}}function Pm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?X():536870912,i.lanes|=o,$o|=o)}function Lu(i,o){if(!_t)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function tn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function G7(i,o,u){var p=o.pendingProps;switch(Fx(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return tn(o),null;case 3:return u=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ws(wn),be(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(yu(o)?_s(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,NS())),tn(o),null;case 26:return u=o.memoizedState,i===null?(_s(o),u!==null?(tn(o),q4(o,u)):(tn(o),o.flags&=-16777217)):u?u!==i.memoizedState?(_s(o),tn(o),q4(o,u)):(tn(o),o.flags&=-16777217):(i.memoizedProps!==p&&_s(o),tn(o),o.flags&=-16777217),null;case 27:Ne(o),u=Z.current;var y=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==p&&_s(o);else{if(!p){if(o.stateNode===null)throw Error(a(166));return tn(o),null}i=ce.current,yu(o)?wS(o):(i=q_(y,p,u),o.stateNode=i,_s(o))}return tn(o),null;case 5:if(Ne(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&_s(o);else{if(!p){if(o.stateNode===null)throw Error(a(166));return tn(o),null}if(i=ce.current,yu(o))wS(o);else{switch(y=Hm(Z.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?y.createElement("select",{is:p.is}):y.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?y.createElement(u,{is:p.is}):y.createElement(u)}}i[St]=o,i[en]=p;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=i;e:switch(Un(i,u,p),u){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&_s(o)}}return tn(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&_s(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(a(166));if(i=Z.current,yu(o)){if(i=o.stateNode,u=o.memoizedProps,p=null,y=ar,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}i[St]=o,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||I_(i.nodeValue,u)),i||ml(o)}else i=Hm(i).createTextNode(p),i[St]=o,o.stateNode=i}return tn(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=yu(o),p!==null&&p.dehydrated!==null){if(i===null){if(!y)throw Error(a(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[St]=o}else bu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),y=!1}else y=NS(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ns(o),o):(Ns(o),null)}if(Ns(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=p!==null,i=i!==null&&i.memoizedState!==null,u){p=o.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==y&&(p.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),Pm(o,o.updateQueue),tn(o),null;case 4:return be(),i===null&&ev(o.stateNode.containerInfo),tn(o),null;case 10:return ws(o.type),tn(o),null;case 19:if($(jn),y=o.memoizedState,y===null)return tn(o),null;if(p=(o.flags&128)!==0,N=y.rendering,N===null)if(p)Lu(y,!1);else{if(rn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=km(i),N!==null){for(o.flags|=128,Lu(y,!1),i=N.updateQueue,o.updateQueue=i,Pm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)yS(u,i),u=u.sibling;return W(jn,jn.current&1|2),o.child}i=i.sibling}y.tail!==null&&ie()>Dm&&(o.flags|=128,p=!0,Lu(y,!1),o.lanes=4194304)}else{if(!p)if(i=km(N),i!==null){if(o.flags|=128,p=!0,i=i.updateQueue,o.updateQueue=i,Pm(o,i),Lu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!N.alternate&&!_t)return tn(o),null}else 2*ie()-y.renderingStartTime>Dm&&u!==536870912&&(o.flags|=128,p=!0,Lu(y,!1),o.lanes=4194304);y.isBackwards?(N.sibling=o.child,o.child=N):(i=y.last,i!==null?i.sibling=N:o.child=N,y.last=N)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ie(),o.sibling=null,i=jn.current,W(jn,p?i&1|2:i&1),o):(tn(o),null);case 22:case 23:return Ns(o),ng(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),u=o.updateQueue,u!==null&&Pm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),i!==null&&$(xl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ws(wn),tn(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function Y7(i,o){switch(Fx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ws(wn),be(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ne(o),null;case 13:if(Ns(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(a(340));bu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return $(jn),null;case 4:return be(),null;case 10:return ws(o.type),null;case 22:case 23:return Ns(o),ng(),i!==null&&$(xl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ws(wn),null;case 25:return null;default:return null}}function K4(i,o){switch(Fx(o),o.tag){case 3:ws(wn),be();break;case 26:case 27:case 5:Ne(o);break;case 4:be();break;case 13:Ns(o);break;case 19:$(jn);break;case 10:ws(o.type);break;case 22:case 23:Ns(o),ng(),i!==null&&$(xl);break;case 24:ws(wn)}}function $u(i,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){p=void 0;var N=u.create,O=u.inst;p=N(),O.destroy=p}u=u.next}while(u!==y)}}catch(z){Lt(o,o.return,z)}}function gi(i,o,u){try{var p=o.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var N=y.next;p=N;do{if((p.tag&i)===i){var O=p.inst,z=O.destroy;if(z!==void 0){O.destroy=void 0,y=o;var J=u,fe=z;try{fe()}catch(ke){Lt(y,J,ke)}}}p=p.next}while(p!==N)}}catch(ke){Lt(o,o.return,ke)}}function G4(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{DS(o,u)}catch(p){Lt(i,i.return,p)}}}function Y4(i,o,u){u.props=vl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){Lt(i,o,p)}}function Iu(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(y){Lt(i,o,y)}}function qa(i,o){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(y){Lt(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Lt(i,o,y)}else u.current=null}function W4(i){var o=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(y){Lt(i,i.return,y)}}function Eg(i,o,u){try{var p=i.stateNode;p$(p,i.type,u,o),p[en]=o}catch(y){Lt(i,i.return,y)}}function X4(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_i(i.type)||i.tag===4}function Pg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||X4(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_i(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Og(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Vm));else if(p!==4&&(p===27&&_i(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(Og(i,o,u),i=i.sibling;i!==null;)Og(i,o,u),i=i.sibling}function Om(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(p===27&&_i(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Om(i,o,u),i=i.sibling;i!==null;)Om(i,o,u),i=i.sibling}function Z4(i){var o=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Un(o,p,u),o[St]=i,o[en]=u}catch(N){Lt(i,i.return,N)}}var ks=!1,un=!1,Mg=!1,Q4=typeof WeakSet=="function"?WeakSet:Set,En=null;function W7(i,o){if(i=i.containerInfo,rv=Xm,i=cS(i),Px(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var O=0,z=-1,J=-1,fe=0,ke=0,Ae=i,me=null;t:for(;;){for(var pe;Ae!==u||y!==0&&Ae.nodeType!==3||(z=O+y),Ae!==N||p!==0&&Ae.nodeType!==3||(J=O+p),Ae.nodeType===3&&(O+=Ae.nodeValue.length),(pe=Ae.firstChild)!==null;)me=Ae,Ae=pe;for(;;){if(Ae===i)break t;if(me===u&&++fe===y&&(z=O),me===N&&++ke===p&&(J=O),(pe=Ae.nextSibling)!==null)break;Ae=me,me=Ae.parentNode}Ae=pe}u=z===-1||J===-1?null:{start:z,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(av={focusedElem:i,selectionRange:u},Xm=!1,En=o;En!==null;)if(o=En,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,En=i;else for(;En!==null;){switch(o=En,N=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,u=o,y=N.memoizedProps,N=N.memoizedState,p=u.stateNode;try{var nt=vl(u.type,y,u.elementType===u.type);i=p.getSnapshotBeforeUpdate(nt,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(Qe){Lt(u,u.return,Qe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)lv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":lv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=o.sibling,i!==null){i.return=o.return,En=i;break}En=o.return}}function J4(i,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:vi(i,u),p&4&&$u(5,u);break;case 1:if(vi(i,u),p&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){Lt(u,u.return,O)}else{var y=vl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Lt(u,u.return,O)}}p&64&&G4(u),p&512&&Iu(u,u.return);break;case 3:if(vi(i,u),p&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{DS(i,o)}catch(O){Lt(u,u.return,O)}}break;case 27:o===null&&p&4&&Z4(u);case 26:case 5:vi(i,u),o===null&&p&4&&W4(u),p&512&&Iu(u,u.return);break;case 12:vi(i,u);break;case 13:vi(i,u),p&4&&n_(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=a$.bind(null,u),j$(i,u))));break;case 22:if(p=u.memoizedState!==null||ks,!p){o=o!==null&&o.memoizedState!==null||un,y=ks;var N=un;ks=p,(un=o)&&!N?yi(i,u,(u.subtreeFlags&8772)!==0):vi(i,u),ks=y,un=N}break;case 30:break;default:vi(i,u)}}function e_(i){var o=i.alternate;o!==null&&(i.alternate=null,e_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&fo(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yt=null,gr=!1;function Cs(i,o,u){for(u=u.child;u!==null;)t_(i,o,u),u=u.sibling}function t_(i,o,u){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Oe,u)}catch{}switch(u.tag){case 26:un||qa(u,o),Cs(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:un||qa(u,o);var p=Yt,y=gr;_i(u.type)&&(Yt=u.stateNode,gr=!1),Cs(i,o,u),Gu(u.stateNode),Yt=p,gr=y;break;case 5:un||qa(u,o);case 6:if(p=Yt,y=gr,Yt=null,Cs(i,o,u),Yt=p,gr=y,Yt!==null)if(gr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(u.stateNode)}catch(N){Lt(u,o,N)}else try{Yt.removeChild(u.stateNode)}catch(N){Lt(u,o,N)}break;case 18:Yt!==null&&(gr?(i=Yt,V_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),td(i)):V_(Yt,u.stateNode));break;case 4:p=Yt,y=gr,Yt=u.stateNode.containerInfo,gr=!0,Cs(i,o,u),Yt=p,gr=y;break;case 0:case 11:case 14:case 15:un||gi(2,u,o),un||gi(4,u,o),Cs(i,o,u);break;case 1:un||(qa(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&Y4(u,o,p)),Cs(i,o,u);break;case 21:Cs(i,o,u);break;case 22:un=(p=un)||u.memoizedState!==null,Cs(i,o,u),un=p;break;default:Cs(i,o,u)}}function n_(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{td(i)}catch(u){Lt(o,o.return,u)}}function X7(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Q4),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Q4),o;default:throw Error(a(435,i.tag))}}function Dg(i,o){var u=X7(i);o.forEach(function(p){var y=s$.bind(null,i,p);u.has(p)||(u.add(p),p.then(y,y))})}function Tr(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p],N=i,O=o,z=O;e:for(;z!==null;){switch(z.tag){case 27:if(_i(z.type)){Yt=z.stateNode,gr=!1;break e}break;case 5:Yt=z.stateNode,gr=!1;break e;case 3:case 4:Yt=z.stateNode.containerInfo,gr=!0;break e}z=z.return}if(Yt===null)throw Error(a(160));t_(N,O,y),Yt=null,gr=!1,N=y.alternate,N!==null&&(N.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)r_(o,i),o=o.sibling}var ja=null;function r_(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tr(o,i),Er(i),p&4&&(gi(3,i,i.return),$u(3,i),gi(5,i,i.return));break;case 1:Tr(o,i),Er(i),p&512&&(un||u===null||qa(u,u.return)),p&64&&ks&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var y=ja;if(Tr(o,i),Er(i),p&512&&(un||u===null||qa(u,u.return)),p&4){var N=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":N=y.getElementsByTagName("title")[0],(!N||N[li]||N[St]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=y.createElement(p),y.head.insertBefore(N,y.querySelector("head > title"))),Un(N,p,u),N[St]=i,oe(N),p=N;break e;case"link":var O=Z_("link","href",y).get(p+(u.href||""));if(O){for(var z=0;z<O.length;z++)if(N=O[z],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(z,1);break t}}N=y.createElement(p),Un(N,p,u),y.head.appendChild(N);break;case"meta":if(O=Z_("meta","content",y).get(p+(u.content||""))){for(z=0;z<O.length;z++)if(N=O[z],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(z,1);break t}}N=y.createElement(p),Un(N,p,u),y.head.appendChild(N);break;default:throw Error(a(468,p))}N[St]=i,oe(N),p=N}i.stateNode=p}else Q_(y,i.type,i.stateNode);else i.stateNode=X_(y,p,i.memoizedProps);else N!==p?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,p===null?Q_(y,i.type,i.stateNode):X_(y,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Eg(i,i.memoizedProps,u.memoizedProps)}break;case 27:Tr(o,i),Er(i),p&512&&(un||u===null||qa(u,u.return)),u!==null&&p&4&&Eg(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Tr(o,i),Er(i),p&512&&(un||u===null||qa(u,u.return)),i.flags&32){y=i.stateNode;try{po(y,"")}catch(pe){Lt(i,i.return,pe)}}p&4&&i.stateNode!=null&&(y=i.memoizedProps,Eg(i,y,u!==null?u.memoizedProps:y)),p&1024&&(Mg=!0);break;case 6:if(Tr(o,i),Er(i),p&4){if(i.stateNode===null)throw Error(a(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(pe){Lt(i,i.return,pe)}}break;case 3:if(Gm=null,y=ja,ja=qm(o.containerInfo),Tr(o,i),ja=y,Er(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{td(o.containerInfo)}catch(pe){Lt(i,i.return,pe)}Mg&&(Mg=!1,a_(i));break;case 4:p=ja,ja=qm(i.stateNode.containerInfo),Tr(o,i),Er(i),ja=p;break;case 12:Tr(o,i),Er(i);break;case 13:Tr(o,i),Er(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Bg=ie()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Dg(i,p)));break;case 22:y=i.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,fe=ks,ke=un;if(ks=fe||y,un=ke||J,Tr(o,i),un=ke,ks=fe,Er(i),p&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||J||ks||un||yl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){J=u=o;try{if(N=J.stateNode,y)O=N.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{z=J.stateNode;var Ae=J.memoizedProps.style,me=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;z.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(pe){Lt(J,J.return,pe)}}}else if(o.tag===6){if(u===null){J=o;try{J.stateNode.nodeValue=y?"":J.memoizedProps}catch(pe){Lt(J,J.return,pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Dg(i,u))));break;case 19:Tr(o,i),Er(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Dg(i,p)));break;case 30:break;case 21:break;default:Tr(o,i),Er(i)}}function Er(i){var o=i.flags;if(o&2){try{for(var u,p=i.return;p!==null;){if(X4(p)){u=p;break}p=p.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var y=u.stateNode,N=Pg(i);Om(i,N,y);break;case 5:var O=u.stateNode;u.flags&32&&(po(O,""),u.flags&=-33);var z=Pg(i);Om(i,z,O);break;case 3:case 4:var J=u.stateNode.containerInfo,fe=Pg(i);Og(i,fe,J);break;default:throw Error(a(161))}}catch(ke){Lt(i,i.return,ke)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function a_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;a_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function vi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)J4(i,o.alternate,o),o=o.sibling}function yl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:gi(4,o,o.return),yl(o);break;case 1:qa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Y4(o,o.return,u),yl(o);break;case 27:Gu(o.stateNode);case 26:case 5:qa(o,o.return),yl(o);break;case 22:o.memoizedState===null&&yl(o);break;case 30:yl(o);break;default:yl(o)}i=i.sibling}}function yi(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,y=i,N=o,O=N.flags;switch(N.tag){case 0:case 11:case 15:yi(y,N,u),$u(4,N);break;case 1:if(yi(y,N,u),p=N,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(fe){Lt(p,p.return,fe)}if(p=N,y=p.updateQueue,y!==null){var z=p.stateNode;try{var J=y.shared.hiddenCallbacks;if(J!==null)for(y.shared.hiddenCallbacks=null,y=0;y<J.length;y++)MS(J[y],z)}catch(fe){Lt(p,p.return,fe)}}u&&O&64&&G4(N),Iu(N,N.return);break;case 27:Z4(N);case 26:case 5:yi(y,N,u),u&&p===null&&O&4&&W4(N),Iu(N,N.return);break;case 12:yi(y,N,u);break;case 13:yi(y,N,u),u&&O&4&&n_(y,N);break;case 22:N.memoizedState===null&&yi(y,N,u),Iu(N,N.return);break;case 30:break;default:yi(y,N,u)}o=o.sibling}}function Rg(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Nu(u))}function Lg(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nu(i))}function Ka(i,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)s_(i,o,u,p),o=o.sibling}function s_(i,o,u,p){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ka(i,o,u,p),y&2048&&$u(9,o);break;case 1:Ka(i,o,u,p);break;case 3:Ka(i,o,u,p),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nu(i)));break;case 12:if(y&2048){Ka(i,o,u,p),i=o.stateNode;try{var N=o.memoizedProps,O=N.id,z=N.onPostCommit;typeof z=="function"&&z(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){Lt(o,o.return,J)}}else Ka(i,o,u,p);break;case 13:Ka(i,o,u,p);break;case 23:break;case 22:N=o.stateNode,O=o.alternate,o.memoizedState!==null?N._visibility&2?Ka(i,o,u,p):zu(i,o):N._visibility&2?Ka(i,o,u,p):(N._visibility|=2,Do(i,o,u,p,(o.subtreeFlags&10256)!==0)),y&2048&&Rg(O,o);break;case 24:Ka(i,o,u,p),y&2048&&Lg(o.alternate,o);break;default:Ka(i,o,u,p)}}function Do(i,o,u,p,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=i,O=o,z=u,J=p,fe=O.flags;switch(O.tag){case 0:case 11:case 15:Do(N,O,z,J,y),$u(8,O);break;case 23:break;case 22:var ke=O.stateNode;O.memoizedState!==null?ke._visibility&2?Do(N,O,z,J,y):zu(N,O):(ke._visibility|=2,Do(N,O,z,J,y)),y&&fe&2048&&Rg(O.alternate,O);break;case 24:Do(N,O,z,J,y),y&&fe&2048&&Lg(O.alternate,O);break;default:Do(N,O,z,J,y)}o=o.sibling}}function zu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,p=o,y=p.flags;switch(p.tag){case 22:zu(u,p),y&2048&&Rg(p.alternate,p);break;case 24:zu(u,p),y&2048&&Lg(p.alternate,p);break;default:zu(u,p)}o=o.sibling}}var Bu=8192;function Ro(i){if(i.subtreeFlags&Bu)for(i=i.child;i!==null;)i_(i),i=i.sibling}function i_(i){switch(i.tag){case 26:Ro(i),i.flags&Bu&&i.memoizedState!==null&&R$(ja,i.memoizedState,i.memoizedProps);break;case 5:Ro(i);break;case 3:case 4:var o=ja;ja=qm(i.stateNode.containerInfo),Ro(i),ja=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Bu,Bu=16777216,Ro(i),Bu=o):Ro(i));break;default:Ro(i)}}function l_(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Uu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];En=p,c_(p,i)}l_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)o_(i),i=i.sibling}function o_(i){switch(i.tag){case 0:case 11:case 15:Uu(i),i.flags&2048&&gi(9,i,i.return);break;case 3:Uu(i);break;case 12:Uu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Mm(i)):Uu(i);break;default:Uu(i)}}function Mm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];En=p,c_(p,i)}l_(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:gi(8,o,o.return),Mm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Mm(o));break;default:Mm(o)}i=i.sibling}}function c_(i,o){for(;En!==null;){var u=En;switch(u.tag){case 0:case 11:case 15:gi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Nu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,En=p;else e:for(u=i;En!==null;){p=En;var y=p.sibling,N=p.return;if(e_(p),p===u){En=null;break e}if(y!==null){y.return=N,En=y;break e}En=N}}}var Z7={getCacheForType:function(i){var o=Gn(wn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},Q7=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Bt=null,dt=null,gt=0,At=0,Pr=null,bi=!1,Lo=!1,$g=!1,As=0,rn=0,wi=0,bl=0,Ig=0,na=0,$o=0,Fu=null,vr=null,zg=!1,Bg=0,Dm=1/0,Rm=null,ji=null,Bn=0,Ni=null,Io=null,zo=0,Ug=0,Fg=null,u_=null,Vu=0,Vg=null;function Or(){if((Ct&2)!==0&&gt!==0)return gt&-gt;if(R.T!==null){var i=ko;return i!==0?i:Xg()}return Pt()}function d_(){na===0&&(na=(gt&536870912)===0||_t?de():536870912);var i=ta.current;return i!==null&&(i.flags|=32),na}function Mr(i,o,u){(i===Bt&&(At===2||At===9)||i.cancelPendingCommit!==null)&&(Bo(i,0),Si(i,gt,na,!1)),ae(i,u),((Ct&2)===0||i!==Bt)&&(i===Bt&&((Ct&2)===0&&(bl|=u),rn===4&&Si(i,gt,na,!1)),Ga(i))}function f_(i,o,u){if((Ct&6)!==0)throw Error(a(327));var p=!u&&(o&124)===0&&(o&i.expiredLanes)===0||hr(i,o),y=p?t$(i,o):Kg(i,o,!0),N=p;do{if(y===0){Lo&&!p&&Si(i,o,0,!1);break}else{if(u=i.current.alternate,N&&!J7(u)){y=Kg(i,o,!1),N=!1;continue}if(y===2){if(N=o,i.errorRecoveryDisabledLanes&N)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var z=i;y=Fu;var J=z.current.memoizedState.isDehydrated;if(J&&(Bo(z,O).flags|=256),O=Kg(z,O,!1),O!==2){if($g&&!J){z.errorRecoveryDisabledLanes|=N,bl|=N,y=4;break e}N=vr,vr=y,N!==null&&(vr===null?vr=N:vr.push.apply(vr,N))}y=O}if(N=!1,y!==2)continue}}if(y===1){Bo(i,0),Si(i,o,0,!0);break}e:{switch(p=i,N=y,N){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:Si(p,o,na,!bi);break e;case 2:vr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(y=Bg+300-ie(),10<y)){if(Si(p,o,na,!bi),In(p,0,!0)!==0)break e;p.timeoutHandle=U_(m_.bind(null,p,u,vr,Rm,zg,o,na,bl,$o,bi,N,2,-0,0),y);break e}m_(p,u,vr,Rm,zg,o,na,bl,$o,bi,N,0,-0,0)}}break}while(!0);Ga(i)}function m_(i,o,u,p,y,N,O,z,J,fe,ke,Ae,me,pe){if(i.timeoutHandle=-1,Ae=o.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(Xu={stylesheets:null,count:0,unsuspend:D$},i_(o),Ae=L$(),Ae!==null)){i.cancelPendingCommit=Ae(b_.bind(null,i,o,N,u,p,y,O,z,J,ke,1,me,pe)),Si(i,N,O,!fe);return}b_(i,o,N,u,p,y,O,z,J)}function J7(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var y=u[p],N=y.getSnapshot;y=y.value;try{if(!Cr(N(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Si(i,o,u,p){o&=~Ig,o&=~bl,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var y=o;0<y;){var N=31-Ie(y),O=1<<N;p[N]=-1,y&=~O}u!==0&&et(i,u,o)}function Lm(){return(Ct&6)===0?(Hu(0),!1):!0}function Hg(){if(dt!==null){if(At===0)var i=dt.return;else i=dt,bs=hl=null,lg(i),Oo=null,Du=0,i=dt;for(;i!==null;)K4(i.alternate,i),i=i.return;dt=null}}function Bo(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,g$(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Hg(),Bt=i,dt=u=gs(i.current,null),gt=o,At=0,Pr=null,bi=!1,Lo=hr(i,o),$g=!1,$o=na=Ig=bl=wi=rn=0,vr=Fu=null,zg=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var y=31-Ie(p),N=1<<y;o|=i[y],p&=~N}return As=o,am(),u}function h_(i,o){lt=null,R.H=Nm,o===_u||o===mm?(o=PS(),At=3):o===AS?(o=PS(),At=4):At=o===O4?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Pr=o,dt===null&&(rn=1,Am(i,Zr(o,i.current)))}function p_(){var i=R.H;return R.H=Nm,i===null?Nm:i}function x_(){var i=R.A;return R.A=Z7,i}function qg(){rn=4,bi||(gt&4194048)!==gt&&ta.current!==null||(Lo=!0),(wi&134217727)===0&&(bl&134217727)===0||Bt===null||Si(Bt,gt,na,!1)}function Kg(i,o,u){var p=Ct;Ct|=2;var y=p_(),N=x_();(Bt!==i||gt!==o)&&(Rm=null,Bo(i,o)),o=!1;var O=rn;e:do try{if(At!==0&&dt!==null){var z=dt,J=Pr;switch(At){case 8:Hg(),O=6;break e;case 3:case 2:case 9:case 6:ta.current===null&&(o=!0);var fe=At;if(At=0,Pr=null,Uo(i,z,J,fe),u&&Lo){O=0;break e}break;default:fe=At,At=0,Pr=null,Uo(i,z,J,fe)}}e$(),O=rn;break}catch(ke){h_(i,ke)}while(!0);return o&&i.shellSuspendCounter++,bs=hl=null,Ct=p,R.H=y,R.A=N,dt===null&&(Bt=null,gt=0,am()),O}function e$(){for(;dt!==null;)g_(dt)}function t$(i,o){var u=Ct;Ct|=2;var p=p_(),y=x_();Bt!==i||gt!==o?(Rm=null,Dm=ie()+500,Bo(i,o)):Lo=hr(i,o);e:do try{if(At!==0&&dt!==null){o=dt;var N=Pr;t:switch(At){case 1:At=0,Pr=null,Uo(i,o,N,1);break;case 2:case 9:if(TS(N)){At=0,Pr=null,v_(o);break}o=function(){At!==2&&At!==9||Bt!==i||(At=7),Ga(i)},N.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:TS(N)?(At=0,Pr=null,v_(o)):(At=0,Pr=null,Uo(i,o,N,7));break;case 5:var O=null;switch(dt.tag){case 26:O=dt.memoizedState;case 5:case 27:var z=dt;if(!O||J_(O)){At=0,Pr=null;var J=z.sibling;if(J!==null)dt=J;else{var fe=z.return;fe!==null?(dt=fe,$m(fe)):dt=null}break t}}At=0,Pr=null,Uo(i,o,N,5);break;case 6:At=0,Pr=null,Uo(i,o,N,6);break;case 8:Hg(),rn=6;break e;default:throw Error(a(462))}}n$();break}catch(ke){h_(i,ke)}while(!0);return bs=hl=null,R.H=p,R.A=y,Ct=u,dt!==null?0:(Bt=null,gt=0,am(),rn)}function n$(){for(;dt!==null&&!Se();)g_(dt)}function g_(i){var o=H4(i.alternate,i,As);i.memoizedProps=i.pendingProps,o===null?$m(i):dt=o}function v_(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=I4(u,o,o.pendingProps,o.type,void 0,gt);break;case 11:o=I4(u,o,o.pendingProps,o.type.render,o.ref,gt);break;case 5:lg(o);default:K4(u,o),o=dt=yS(o,As),o=H4(u,o,As)}i.memoizedProps=i.pendingProps,o===null?$m(i):dt=o}function Uo(i,o,u,p){bs=hl=null,lg(o),Oo=null,Du=0;var y=o.return;try{if(q7(i,y,o,u,gt)){rn=1,Am(i,Zr(u,i.current)),dt=null;return}}catch(N){if(y!==null)throw dt=y,N;rn=1,Am(i,Zr(u,i.current)),dt=null;return}o.flags&32768?(_t||p===1?i=!0:Lo||(gt&536870912)!==0?i=!1:(bi=i=!0,(p===2||p===9||p===3||p===6)&&(p=ta.current,p!==null&&p.tag===13&&(p.flags|=16384))),y_(o,i)):$m(o)}function $m(i){var o=i;do{if((o.flags&32768)!==0){y_(o,bi);return}i=o.return;var u=G7(o.alternate,o,As);if(u!==null){dt=u;return}if(o=o.sibling,o!==null){dt=o;return}dt=o=i}while(o!==null);rn===0&&(rn=5)}function y_(i,o){do{var u=Y7(i.alternate,i);if(u!==null){u.flags&=32767,dt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){dt=i;return}dt=i=u}while(i!==null);rn=6,dt=null}function b_(i,o,u,p,y,N,O,z,J){i.cancelPendingCommit=null;do Im();while(Bn!==0);if((Ct&6)!==0)throw Error(a(327));if(o!==null){if(o===i.current)throw Error(a(177));if(N=o.lanes|o.childLanes,N|=Lx,qe(i,u,N,O,z,J),i===Bt&&(dt=Bt=null,gt=0),Io=o,Ni=i,zo=u,Ug=N,Fg=y,u_=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,i$(Re,function(){return __(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=R.T,R.T=null,y=G.p,G.p=2,O=Ct,Ct|=4;try{W7(i,o,u)}finally{Ct=O,G.p=y,R.T=p}}Bn=1,w_(),j_(),N_()}}function w_(){if(Bn===1){Bn=0;var i=Ni,o=Io,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=R.T,R.T=null;var p=G.p;G.p=2;var y=Ct;Ct|=4;try{r_(o,i);var N=av,O=cS(i.containerInfo),z=N.focusedElem,J=N.selectionRange;if(O!==z&&z&&z.ownerDocument&&oS(z.ownerDocument.documentElement,z)){if(J!==null&&Px(z)){var fe=J.start,ke=J.end;if(ke===void 0&&(ke=fe),"selectionStart"in z)z.selectionStart=fe,z.selectionEnd=Math.min(ke,z.value.length);else{var Ae=z.ownerDocument||document,me=Ae&&Ae.defaultView||window;if(me.getSelection){var pe=me.getSelection(),nt=z.textContent.length,Qe=Math.min(J.start,nt),Dt=J.end===void 0?Qe:Math.min(J.end,nt);!pe.extend&&Qe>Dt&&(O=Dt,Dt=Qe,Qe=O);var le=lS(z,Qe),ne=lS(z,Dt);if(le&&ne&&(pe.rangeCount!==1||pe.anchorNode!==le.node||pe.anchorOffset!==le.offset||pe.focusNode!==ne.node||pe.focusOffset!==ne.offset)){var ue=Ae.createRange();ue.setStart(le.node,le.offset),pe.removeAllRanges(),Qe>Dt?(pe.addRange(ue),pe.extend(ne.node,ne.offset)):(ue.setEnd(ne.node,ne.offset),pe.addRange(ue))}}}}for(Ae=[],pe=z;pe=pe.parentNode;)pe.nodeType===1&&Ae.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Ae.length;z++){var Ce=Ae[z];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Xm=!!rv,av=rv=null}finally{Ct=y,G.p=p,R.T=u}}i.current=o,Bn=2}}function j_(){if(Bn===2){Bn=0;var i=Ni,o=Io,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=R.T,R.T=null;var p=G.p;G.p=2;var y=Ct;Ct|=4;try{J4(i,o.alternate,o)}finally{Ct=y,G.p=p,R.T=u}}Bn=3}}function N_(){if(Bn===4||Bn===3){Bn=0,q();var i=Ni,o=Io,u=zo,p=u_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Bn=5:(Bn=0,Io=Ni=null,S_(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(ji=null),kt(u),o=o.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Oe,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=R.T,y=G.p,G.p=2,R.T=null;try{for(var N=i.onRecoverableError,O=0;O<p.length;O++){var z=p[O];N(z.value,{componentStack:z.stack})}}finally{R.T=o,G.p=y}}(zo&3)!==0&&Im(),Ga(i),y=i.pendingLanes,(u&4194090)!==0&&(y&42)!==0?i===Vg?Vu++:(Vu=0,Vg=i):Vu=0,Hu(0)}}function S_(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Nu(o)))}function Im(i){return w_(),j_(),N_(),__()}function __(){if(Bn!==5)return!1;var i=Ni,o=Ug;Ug=0;var u=kt(zo),p=R.T,y=G.p;try{G.p=32>u?32:u,R.T=null,u=Fg,Fg=null;var N=Ni,O=zo;if(Bn=0,Io=Ni=null,zo=0,(Ct&6)!==0)throw Error(a(331));var z=Ct;if(Ct|=4,o_(N.current),s_(N,N.current,O,u),Ct=z,Hu(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Oe,N)}catch{}return!0}finally{G.p=y,R.T=p,S_(i,o)}}function k_(i,o,u){o=Zr(u,o),o=wg(i.stateNode,o,2),i=mi(i,o,2),i!==null&&(ae(i,2),Ga(i))}function Lt(i,o,u){if(i.tag===3)k_(i,i,u);else for(;o!==null;){if(o.tag===3){k_(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ji===null||!ji.has(p))){i=Zr(u,i),u=E4(2),p=mi(o,u,2),p!==null&&(P4(u,p,o,i),ae(p,2),Ga(p));break}}o=o.return}}function Gg(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new Q7;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(u)||($g=!0,y.add(u),i=r$.bind(null,i,o,u),o.then(i,i))}function r$(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bt===i&&(gt&u)===u&&(rn===4||rn===3&&(gt&62914560)===gt&&300>ie()-Bg?(Ct&2)===0&&Bo(i,0):Ig|=u,$o===gt&&($o=0)),Ga(i)}function C_(i,o){o===0&&(o=X()),i=jo(i,o),i!==null&&(ae(i,o),Ga(i))}function a$(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),C_(i,u)}function s$(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(a(314))}p!==null&&p.delete(o),C_(i,u)}function i$(i,o){return ze(i,o)}var zm=null,Fo=null,Yg=!1,Bm=!1,Wg=!1,wl=0;function Ga(i){i!==Fo&&i.next===null&&(Fo===null?zm=Fo=i:Fo=Fo.next=i),Bm=!0,Yg||(Yg=!0,o$())}function Hu(i,o){if(!Wg&&Bm){Wg=!0;do for(var u=!1,p=zm;p!==null;){if(i!==0){var y=p.pendingLanes;if(y===0)var N=0;else{var O=p.suspendedLanes,z=p.pingedLanes;N=(1<<31-Ie(42|i)+1)-1,N&=y&~(O&~z),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,P_(p,N))}else N=gt,N=In(p,p===Bt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||hr(p,N)||(u=!0,P_(p,N));p=p.next}while(u);Wg=!1}}function l$(){A_()}function A_(){Bm=Yg=!1;var i=0;wl!==0&&(x$()&&(i=wl),wl=0);for(var o=ie(),u=null,p=zm;p!==null;){var y=p.next,N=T_(p,o);N===0?(p.next=null,u===null?zm=y:u.next=y,y===null&&(Fo=u)):(u=p,(i!==0||(N&3)!==0)&&(Bm=!0)),p=y}Hu(i)}function T_(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var O=31-Ie(N),z=1<<O,J=y[O];J===-1?((z&u)===0||(z&p)!==0)&&(y[O]=ii(z,o)):J<=o&&(i.expiredLanes|=z),N&=~z}if(o=Bt,u=gt,u=In(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===o&&(At===2||At===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Be(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||hr(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(p!==null&&Be(p),kt(u)){case 2:case 8:u=Te;break;case 32:u=Re;break;case 268435456:u=Je;break;default:u=Re}return p=E_.bind(null,i),u=ze(u,p),i.callbackPriority=o,i.callbackNode=u,o}return p!==null&&p!==null&&Be(p),i.callbackPriority=2,i.callbackNode=null,2}function E_(i,o){if(Bn!==0&&Bn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Im()&&i.callbackNode!==u)return null;var p=gt;return p=In(i,i===Bt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(f_(i,p,o),T_(i,ie()),i.callbackNode!=null&&i.callbackNode===u?E_.bind(null,i):null)}function P_(i,o){if(Im())return null;f_(i,o,!0)}function o$(){v$(function(){(Ct&6)!==0?ze(ge,l$):A_()})}function Xg(){return wl===0&&(wl=de()),wl}function O_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Zf(""+i)}function M_(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function c$(i,o,u,p,y){if(o==="submit"&&u&&u.stateNode===y){var N=O_((y[en]||null).action),O=p.submitter;O&&(o=(o=O[en]||null)?O_(o.formAction):O.getAttribute("formAction"),o!==null&&(N=o,O=null));var z=new tm("action","action",null,p,y);i.push({event:z,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(wl!==0){var J=O?M_(y,O):new FormData(y);xg(u,{pending:!0,data:J,method:y.method,action:N},null,J)}}else typeof N=="function"&&(z.preventDefault(),J=O?M_(y,O):new FormData(y),xg(u,{pending:!0,data:J,method:y.method,action:N},N,J))},currentTarget:y}]})}}for(var Zg=0;Zg<Rx.length;Zg++){var Qg=Rx[Zg],u$=Qg.toLowerCase(),d$=Qg[0].toUpperCase()+Qg.slice(1);wa(u$,"on"+d$)}wa(fS,"onAnimationEnd"),wa(mS,"onAnimationIteration"),wa(hS,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(A7,"onTransitionRun"),wa(T7,"onTransitionStart"),wa(E7,"onTransitionCancel"),wa(pS,"onTransitionEnd"),Ue("onMouseEnter",["mouseout","mouseover"]),Ue("onMouseLeave",["mouseout","mouseover"]),Ue("onPointerEnter",["pointerout","pointerover"]),Ue("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function D_(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],y=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var O=p.length-1;0<=O;O--){var z=p[O],J=z.instance,fe=z.currentTarget;if(z=z.listener,J!==N&&y.isPropagationStopped())break e;N=z,y.currentTarget=fe;try{N(y)}catch(ke){Cm(ke)}y.currentTarget=null,N=J}else for(O=0;O<p.length;O++){if(z=p[O],J=z.instance,fe=z.currentTarget,z=z.listener,J!==N&&y.isPropagationStopped())break e;N=z,y.currentTarget=fe;try{N(y)}catch(ke){Cm(ke)}y.currentTarget=null,N=J}}}}function ft(i,o){var u=o[uo];u===void 0&&(u=o[uo]=new Set);var p=i+"__bubble";u.has(p)||(R_(o,i,2,!1),u.add(p))}function Jg(i,o,u){var p=0;o&&(p|=4),R_(u,i,p,o)}var Um="_reactListening"+Math.random().toString(36).slice(2);function ev(i){if(!i[Um]){i[Um]=!0,Ee.forEach(function(u){u!=="selectionchange"&&(f$.has(u)||Jg(u,!1,i),Jg(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Um]||(o[Um]=!0,Jg("selectionchange",!1,o))}}function R_(i,o,u,p){switch(s5(o)){case 2:var y=z$;break;case 8:y=B$;break;default:y=hv}u=y.bind(null,o,u,i),y=void 0,!jx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(o,u,{capture:!0,passive:y}):i.addEventListener(o,u,!0):y!==void 0?i.addEventListener(o,u,{passive:y}):i.addEventListener(o,u,!1)}function tv(i,o,u,p,y){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var O=p.tag;if(O===3||O===4){var z=p.stateNode.containerInfo;if(z===y)break;if(O===4)for(O=p.return;O!==null;){var J=O.tag;if((J===3||J===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;z!==null;){if(O=fs(z),O===null)return;if(J=O.tag,J===5||J===6||J===26||J===27){p=N=O;continue e}z=z.parentNode}}p=p.return}FN(function(){var fe=N,ke=bx(u),Ae=[];e:{var me=xS.get(i);if(me!==void 0){var pe=tm,nt=i;switch(i){case"keypress":if(Jf(u)===0)break e;case"keydown":case"keyup":pe=i7;break;case"focusin":nt="focus",pe=kx;break;case"focusout":nt="blur",pe=kx;break;case"beforeblur":case"afterblur":pe=kx;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=qN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=YL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=c7;break;case fS:case mS:case hS:pe=ZL;break;case pS:pe=d7;break;case"scroll":case"scrollend":pe=KL;break;case"wheel":pe=m7;break;case"copy":case"cut":case"paste":pe=JL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=GN;break;case"toggle":case"beforetoggle":pe=p7}var Qe=(o&4)!==0,Dt=!Qe&&(i==="scroll"||i==="scrollend"),le=Qe?me!==null?me+"Capture":null:me;Qe=[];for(var ne=fe,ue;ne!==null;){var Ce=ne;if(ue=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||ue===null||le===null||(Ce=uu(ne,le),Ce!=null&&Qe.push(Ku(ne,Ce,ue))),Dt)break;ne=ne.return}0<Qe.length&&(me=new pe(me,nt,null,u,ke),Ae.push({event:me,listeners:Qe}))}}if((o&7)===0){e:{if(me=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",me&&u!==yx&&(nt=u.relatedTarget||u.fromElement)&&(fs(nt)||nt[ds]))break e;if((pe||me)&&(me=ke.window===ke?ke:(me=ke.ownerDocument)?me.defaultView||me.parentWindow:window,pe?(nt=u.relatedTarget||u.toElement,pe=fe,nt=nt?fs(nt):null,nt!==null&&(Dt=l(nt),Qe=nt.tag,nt!==Dt||Qe!==5&&Qe!==27&&Qe!==6)&&(nt=null)):(pe=null,nt=fe),pe!==nt)){if(Qe=qN,Ce="onMouseLeave",le="onMouseEnter",ne="mouse",(i==="pointerout"||i==="pointerover")&&(Qe=GN,Ce="onPointerLeave",le="onPointerEnter",ne="pointer"),Dt=pe==null?me:oi(pe),ue=nt==null?me:oi(nt),me=new Qe(Ce,ne+"leave",pe,u,ke),me.target=Dt,me.relatedTarget=ue,Ce=null,fs(ke)===fe&&(Qe=new Qe(le,ne+"enter",nt,u,ke),Qe.target=ue,Qe.relatedTarget=Dt,Ce=Qe),Dt=Ce,pe&&nt)t:{for(Qe=pe,le=nt,ne=0,ue=Qe;ue;ue=Vo(ue))ne++;for(ue=0,Ce=le;Ce;Ce=Vo(Ce))ue++;for(;0<ne-ue;)Qe=Vo(Qe),ne--;for(;0<ue-ne;)le=Vo(le),ue--;for(;ne--;){if(Qe===le||le!==null&&Qe===le.alternate)break t;Qe=Vo(Qe),le=Vo(le)}Qe=null}else Qe=null;pe!==null&&L_(Ae,me,pe,Qe,!1),nt!==null&&Dt!==null&&L_(Ae,Dt,nt,Qe,!0)}}e:{if(me=fe?oi(fe):window,pe=me.nodeName&&me.nodeName.toLowerCase(),pe==="select"||pe==="input"&&me.type==="file")var Ke=tS;else if(JN(me))if(nS)Ke=_7;else{Ke=N7;var ct=j7}else pe=me.nodeName,!pe||pe.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?fe&&vx(fe.elementType)&&(Ke=tS):Ke=S7;if(Ke&&(Ke=Ke(i,fe))){eS(Ae,Ke,u,ke);break e}ct&&ct(i,me,fe),i==="focusout"&&fe&&me.type==="number"&&fe.memoizedProps.value!=null&&gx(me,"number",me.value)}switch(ct=fe?oi(fe):window,i){case"focusin":(JN(ct)||ct.contentEditable==="true")&&(yo=ct,Ox=fe,vu=null);break;case"focusout":vu=Ox=yo=null;break;case"mousedown":Mx=!0;break;case"contextmenu":case"mouseup":case"dragend":Mx=!1,uS(Ae,u,ke);break;case"selectionchange":if(C7)break;case"keydown":case"keyup":uS(Ae,u,ke)}var Ye;if(Ax)e:{switch(i){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else vo?ZN(i,u)&&(tt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(tt="onCompositionStart");tt&&(YN&&u.locale!=="ko"&&(vo||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&vo&&(Ye=VN()):(ci=ke,Nx="value"in ci?ci.value:ci.textContent,vo=!0)),ct=Fm(fe,tt),0<ct.length&&(tt=new KN(tt,i,null,u,ke),Ae.push({event:tt,listeners:ct}),Ye?tt.data=Ye:(Ye=QN(u),Ye!==null&&(tt.data=Ye)))),(Ye=g7?v7(i,u):y7(i,u))&&(tt=Fm(fe,"onBeforeInput"),0<tt.length&&(ct=new KN("onBeforeInput","beforeinput",null,u,ke),Ae.push({event:ct,listeners:tt}),ct.data=Ye)),c$(Ae,i,fe,u,ke)}D_(Ae,o)})}function Ku(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Fm(i,o){for(var u=o+"Capture",p=[];i!==null;){var y=i,N=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||N===null||(y=uu(i,u),y!=null&&p.unshift(Ku(i,y,N)),y=uu(i,o),y!=null&&p.push(Ku(i,y,N))),i.tag===3)return p;i=i.return}return[]}function Vo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function L_(i,o,u,p,y){for(var N=o._reactName,O=[];u!==null&&u!==p;){var z=u,J=z.alternate,fe=z.stateNode;if(z=z.tag,J!==null&&J===p)break;z!==5&&z!==26&&z!==27||fe===null||(J=fe,y?(fe=uu(u,N),fe!=null&&O.unshift(Ku(u,fe,J))):y||(fe=uu(u,N),fe!=null&&O.push(Ku(u,fe,J)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var m$=/\r\n?/g,h$=/\u0000|\uFFFD/g;function $_(i){return(typeof i=="string"?i:""+i).replace(m$,`
`).replace(h$,"")}function I_(i,o){return o=$_(o),$_(i)===o}function Vm(){}function Mt(i,o,u,p,y,N){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||po(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&po(i,""+p);break;case"className":Yf(i,"class",p);break;case"tabIndex":Yf(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Yf(i,u,p);break;case"style":BN(i,p,N);break;case"data":if(o!=="object"){Yf(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Zf(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(o!=="input"&&Mt(i,o,"name",y.name,y,null),Mt(i,o,"formEncType",y.formEncType,y,null),Mt(i,o,"formMethod",y.formMethod,y,null),Mt(i,o,"formTarget",y.formTarget,y,null)):(Mt(i,o,"encType",y.encType,y,null),Mt(i,o,"method",y.method,y,null),Mt(i,o,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=Zf(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=Vm);break;case"onScroll":p!=null&&ft("scroll",i);break;case"onScrollEnd":p!=null&&ft("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=Zf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":ft("beforetoggle",i),ft("toggle",i),Gf(i,"popover",p);break;case"xlinkActuate":ps(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ps(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ps(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ps(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ps(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ps(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ps(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ps(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ps(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Gf(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=HL.get(u)||u,Gf(i,u,p))}}function nv(i,o,u,p,y,N){switch(u){case"style":BN(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof p=="string"?po(i,p):(typeof p=="number"||typeof p=="bigint")&&po(i,""+p);break;case"onScroll":p!=null&&ft("scroll",i);break;case"onScrollEnd":p!=null&&ft("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Vm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!He.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),N=i[en]||null,N=N!=null?N[u]:null,typeof N=="function"&&i.removeEventListener(o,N,y),typeof p=="function")){typeof N!="function"&&N!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,p,y);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):Gf(i,u,p)}}}function Un(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",i),ft("load",i);var p=!1,y=!1,N;for(N in u)if(u.hasOwnProperty(N)){var O=u[N];if(O!=null)switch(N){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:Mt(i,o,N,O,u,null)}}y&&Mt(i,o,"srcSet",u.srcSet,u,null),p&&Mt(i,o,"src",u.src,u,null);return;case"input":ft("invalid",i);var z=N=O=y=null,J=null,fe=null;for(p in u)if(u.hasOwnProperty(p)){var ke=u[p];if(ke!=null)switch(p){case"name":y=ke;break;case"type":O=ke;break;case"checked":J=ke;break;case"defaultChecked":fe=ke;break;case"value":N=ke;break;case"defaultValue":z=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(a(137,o));break;default:Mt(i,o,p,ke,u,null)}}LN(i,N,z,J,fe,O,y,!1),Wf(i);return;case"select":ft("invalid",i),p=O=N=null;for(y in u)if(u.hasOwnProperty(y)&&(z=u[y],z!=null))switch(y){case"value":N=z;break;case"defaultValue":O=z;break;case"multiple":p=z;default:Mt(i,o,y,z,u,null)}o=N,u=O,i.multiple=!!p,o!=null?ho(i,!!p,o,!1):u!=null&&ho(i,!!p,u,!0);return;case"textarea":ft("invalid",i),N=y=p=null;for(O in u)if(u.hasOwnProperty(O)&&(z=u[O],z!=null))switch(O){case"value":p=z;break;case"defaultValue":y=z;break;case"children":N=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(91));break;default:Mt(i,o,O,z,u,null)}IN(i,p,y,N),Wf(i);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(p=u[J],p!=null))switch(J){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Mt(i,o,J,p,u,null)}return;case"dialog":ft("beforetoggle",i),ft("toggle",i),ft("cancel",i),ft("close",i);break;case"iframe":case"object":ft("load",i);break;case"video":case"audio":for(p=0;p<qu.length;p++)ft(qu[p],i);break;case"image":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"embed":case"source":case"link":ft("error",i),ft("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in u)if(u.hasOwnProperty(fe)&&(p=u[fe],p!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:Mt(i,o,fe,p,u,null)}return;default:if(vx(o)){for(ke in u)u.hasOwnProperty(ke)&&(p=u[ke],p!==void 0&&nv(i,o,ke,p,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(p=u[z],p!=null&&Mt(i,o,z,p,u,null))}function p$(i,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,N=null,O=null,z=null,J=null,fe=null,ke=null;for(pe in u){var Ae=u[pe];if(u.hasOwnProperty(pe)&&Ae!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":J=Ae;default:p.hasOwnProperty(pe)||Mt(i,o,pe,null,p,Ae)}}for(var me in p){var pe=p[me];if(Ae=u[me],p.hasOwnProperty(me)&&(pe!=null||Ae!=null))switch(me){case"type":N=pe;break;case"name":y=pe;break;case"checked":fe=pe;break;case"defaultChecked":ke=pe;break;case"value":O=pe;break;case"defaultValue":z=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(a(137,o));break;default:pe!==Ae&&Mt(i,o,me,pe,p,Ae)}}xx(i,O,z,J,fe,ke,N,y);return;case"select":pe=O=z=me=null;for(N in u)if(J=u[N],u.hasOwnProperty(N)&&J!=null)switch(N){case"value":break;case"multiple":pe=J;default:p.hasOwnProperty(N)||Mt(i,o,N,null,p,J)}for(y in p)if(N=p[y],J=u[y],p.hasOwnProperty(y)&&(N!=null||J!=null))switch(y){case"value":me=N;break;case"defaultValue":z=N;break;case"multiple":O=N;default:N!==J&&Mt(i,o,y,N,p,J)}o=z,u=O,p=pe,me!=null?ho(i,!!u,me,!1):!!p!=!!u&&(o!=null?ho(i,!!u,o,!0):ho(i,!!u,u?[]:"",!1));return;case"textarea":pe=me=null;for(z in u)if(y=u[z],u.hasOwnProperty(z)&&y!=null&&!p.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Mt(i,o,z,null,p,y)}for(O in p)if(y=p[O],N=u[O],p.hasOwnProperty(O)&&(y!=null||N!=null))switch(O){case"value":me=y;break;case"defaultValue":pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==N&&Mt(i,o,O,y,p,N)}$N(i,me,pe);return;case"option":for(var nt in u)if(me=u[nt],u.hasOwnProperty(nt)&&me!=null&&!p.hasOwnProperty(nt))switch(nt){case"selected":i.selected=!1;break;default:Mt(i,o,nt,null,p,me)}for(J in p)if(me=p[J],pe=u[J],p.hasOwnProperty(J)&&me!==pe&&(me!=null||pe!=null))switch(J){case"selected":i.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:Mt(i,o,J,me,p,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in u)me=u[Qe],u.hasOwnProperty(Qe)&&me!=null&&!p.hasOwnProperty(Qe)&&Mt(i,o,Qe,null,p,me);for(fe in p)if(me=p[fe],pe=u[fe],p.hasOwnProperty(fe)&&me!==pe&&(me!=null||pe!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,o));break;default:Mt(i,o,fe,me,p,pe)}return;default:if(vx(o)){for(var Dt in u)me=u[Dt],u.hasOwnProperty(Dt)&&me!==void 0&&!p.hasOwnProperty(Dt)&&nv(i,o,Dt,void 0,p,me);for(ke in p)me=p[ke],pe=u[ke],!p.hasOwnProperty(ke)||me===pe||me===void 0&&pe===void 0||nv(i,o,ke,me,p,pe);return}}for(var le in u)me=u[le],u.hasOwnProperty(le)&&me!=null&&!p.hasOwnProperty(le)&&Mt(i,o,le,null,p,me);for(Ae in p)me=p[Ae],pe=u[Ae],!p.hasOwnProperty(Ae)||me===pe||me==null&&pe==null||Mt(i,o,Ae,me,p,pe)}var rv=null,av=null;function Hm(i){return i.nodeType===9?i:i.ownerDocument}function z_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function sv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var iv=null;function x$(){var i=window.event;return i&&i.type==="popstate"?i===iv?!1:(iv=i,!0):(iv=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,g$=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,v$=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(i){return F_.resolve(null).then(i).catch(y$)}:U_;function y$(i){setTimeout(function(){throw i})}function _i(i){return i==="head"}function V_(i,o){var u=o,p=0,y=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<p&&8>p){u=p;var O=i.ownerDocument;if(u&1&&Gu(O.documentElement),u&2&&Gu(O.body),u&4)for(u=O.head,Gu(u),O=u.firstChild;O;){var z=O.nextSibling,J=O.nodeName;O[li]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=z}}if(y===0){i.removeChild(N),td(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:p=u.charCodeAt(0)-48;else p=0;u=N}while(u);td(o)}function lv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":lv(u),fo(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function b$(i,o,u,p){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[li])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=Na(i.nextSibling),i===null)break}return null}function w$(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Na(i.nextSibling),i===null))return null;return i}function ov(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function j$(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Na(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var cv=null;function H_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function q_(i,o,u){switch(o=Hm(u),i){case"html":if(i=o.documentElement,!i)throw Error(a(452));return i;case"head":if(i=o.head,!i)throw Error(a(453));return i;case"body":if(i=o.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Gu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);fo(i)}var ra=new Map,K_=new Set;function qm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ts=G.d;G.d={f:N$,r:S$,D:_$,C:k$,L:C$,m:A$,X:E$,S:T$,M:P$};function N$(){var i=Ts.f(),o=Lm();return i||o}function S$(i){var o=ms(i);o!==null&&o.tag===5&&o.type==="form"?f4(o):Ts.r(i)}var Ho=typeof document>"u"?null:document;function G_(i,o,u){var p=Ho;if(p&&typeof o=="string"&&o){var y=Xr(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),K_.has(y)||(K_.add(y),i={rel:i,crossOrigin:u,href:o},p.querySelector(y)===null&&(o=p.createElement("link"),Un(o,"link",i),oe(o),p.head.appendChild(o)))}}function _$(i){Ts.D(i),G_("dns-prefetch",i,null)}function k$(i,o){Ts.C(i,o),G_("preconnect",i,o)}function C$(i,o,u){Ts.L(i,o,u);var p=Ho;if(p&&i&&o){var y='link[rel="preload"][as="'+Xr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Xr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Xr(u.imageSizes)+'"]')):y+='[href="'+Xr(i)+'"]';var N=y;switch(o){case"style":N=qo(i);break;case"script":N=Ko(i)}ra.has(N)||(i=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),ra.set(N,i),p.querySelector(y)!==null||o==="style"&&p.querySelector(Yu(N))||o==="script"&&p.querySelector(Wu(N))||(o=p.createElement("link"),Un(o,"link",i),oe(o),p.head.appendChild(o)))}}function A$(i,o){Ts.m(i,o);var u=Ho;if(u&&i){var p=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Xr(p)+'"][href="'+Xr(i)+'"]',N=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Ko(i)}if(!ra.has(N)&&(i=h({rel:"modulepreload",href:i},o),ra.set(N,i),u.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Wu(N)))return}p=u.createElement("link"),Un(p,"link",i),oe(p),u.head.appendChild(p)}}}function T$(i,o,u){Ts.S(i,o,u);var p=Ho;if(p&&i){var y=hs(p).hoistableStyles,N=qo(i);o=o||"default";var O=y.get(N);if(!O){var z={loading:0,preload:null};if(O=p.querySelector(Yu(N)))z.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":o},u),(u=ra.get(N))&&uv(i,u);var J=O=p.createElement("link");oe(J),Un(J,"link",i),J._p=new Promise(function(fe,ke){J.onload=fe,J.onerror=ke}),J.addEventListener("load",function(){z.loading|=1}),J.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Km(O,o,p)}O={type:"stylesheet",instance:O,count:1,state:z},y.set(N,O)}}}function E$(i,o){Ts.X(i,o);var u=Ho;if(u&&i){var p=hs(u).hoistableScripts,y=Ko(i),N=p.get(y);N||(N=u.querySelector(Wu(y)),N||(i=h({src:i,async:!0},o),(o=ra.get(y))&&dv(i,o),N=u.createElement("script"),oe(N),Un(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function P$(i,o){Ts.M(i,o);var u=Ho;if(u&&i){var p=hs(u).hoistableScripts,y=Ko(i),N=p.get(y);N||(N=u.querySelector(Wu(y)),N||(i=h({src:i,async:!0,type:"module"},o),(o=ra.get(y))&&dv(i,o),N=u.createElement("script"),oe(N),Un(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function Y_(i,o,u,p){var y=(y=Z.current)?qm(y):null;if(!y)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=qo(u.href),u=hs(y).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=qo(u.href);var N=hs(y).hoistableStyles,O=N.get(i);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,O),(N=y.querySelector(Yu(i)))&&!N._p&&(O.instance=N,O.state.loading=5),ra.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ra.set(i,u),N||O$(y,i,u,O.state))),o&&p===null)throw Error(a(528,""));return O}if(o&&p!==null)throw Error(a(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ko(u),u=hs(y).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function qo(i){return'href="'+Xr(i)+'"'}function Yu(i){return'link[rel="stylesheet"]['+i+"]"}function W_(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function O$(i,o,u,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Un(o,"link",u),oe(o),i.head.appendChild(o))}function Ko(i){return'[src="'+Xr(i)+'"]'}function Wu(i){return"script[async]"+i}function X_(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+Xr(u.href)+'"]');if(p)return o.instance=p,oe(p),p;var y=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),oe(p),Un(p,"style",y),Km(p,u.precedence,i),o.instance=p;case"stylesheet":y=qo(u.href);var N=i.querySelector(Yu(y));if(N)return o.state.loading|=4,o.instance=N,oe(N),N;p=W_(u),(y=ra.get(y))&&uv(p,y),N=(i.ownerDocument||i).createElement("link"),oe(N);var O=N;return O._p=new Promise(function(z,J){O.onload=z,O.onerror=J}),Un(N,"link",p),o.state.loading|=4,Km(N,u.precedence,i),o.instance=N;case"script":return N=Ko(u.src),(y=i.querySelector(Wu(N)))?(o.instance=y,oe(y),y):(p=u,(y=ra.get(N))&&(p=h({},u),dv(p,y)),i=i.ownerDocument||i,y=i.createElement("script"),oe(y),Un(y,"link",p),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Km(p,u.precedence,i));return o.instance}function Km(i,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,N=y,O=0;O<p.length;O++){var z=p[O];if(z.dataset.precedence===o)N=z;else if(N!==y)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function uv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function dv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Gm=null;function Z_(i,o,u){if(Gm===null){var p=new Map,y=Gm=new Map;y.set(u,p)}else y=Gm,p=y.get(u),p||(p=new Map,y.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var N=u[y];if(!(N[li]||N[St]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var O=N.getAttribute(o)||"";O=i+O;var z=p.get(O);z?z.push(N):p.set(O,[N])}}return p}function Q_(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function M$(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function J_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Xu=null;function D$(){}function R$(i,o,u){if(Xu===null)throw Error(a(475));var p=Xu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=qo(u.href),N=i.querySelector(Yu(y));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=Ym.bind(p),i.then(p,p)),o.state.loading|=4,o.instance=N,oe(N);return}N=i.ownerDocument||i,u=W_(u),(y=ra.get(y))&&uv(u,y),N=N.createElement("link"),oe(N);var O=N;O._p=new Promise(function(z,J){O.onload=z,O.onerror=J}),Un(N,"link",u),o.instance=N}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=Ym.bind(p),i.addEventListener("load",o),i.addEventListener("error",o))}}function L$(){if(Xu===null)throw Error(a(475));var i=Xu;return i.stylesheets&&i.count===0&&fv(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&fv(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Ym(){if(this.count--,this.count===0){if(this.stylesheets)fv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wm=null;function fv(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wm=new Map,o.forEach($$,i),Wm=null,Ym.call(i))}function $$(i,o){if(!(o.state.loading&4)){var u=Wm.get(i);if(u)var p=u.get(null);else{u=new Map,Wm.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<y.length;N++){var O=y[N];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),p=O)}p&&u.set(null,p)}y=o.instance,O=y.getAttribute("data-precedence"),N=u.get(O)||p,N===p&&u.set(null,y),u.set(O,y),this.count++,p=Ym.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),N?N.parentNode.insertBefore(y,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Zu={$$typeof:C,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function I$(i,o,u,p,y,N,O,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ee(0),this.hiddenUpdates=ee(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=N,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function e5(i,o,u,p,y,N,O,z,J,fe,ke,Ae){return i=new I$(i,o,u,O,z,J,fe,Ae),o=1,N===!0&&(o|=24),N=Ar(3,null,null,o),i.current=N,N.stateNode=i,o=Gx(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:u,cache:o},Zx(N),i}function t5(i){return i?(i=No,i):No}function n5(i,o,u,p,y,N){y=t5(y),p.context===null?p.context=y:p.pendingContext=y,p=fi(o),p.payload={element:u},N=N===void 0?null:N,N!==null&&(p.callback=N),u=mi(i,p,o),u!==null&&(Mr(u,i,o),Cu(u,i,o))}function r5(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function mv(i,o){r5(i,o),(i=i.alternate)&&r5(i,o)}function a5(i){if(i.tag===13){var o=jo(i,67108864);o!==null&&Mr(o,i,67108864),mv(i,67108864)}}var Xm=!0;function z$(i,o,u,p){var y=R.T;R.T=null;var N=G.p;try{G.p=2,hv(i,o,u,p)}finally{G.p=N,R.T=y}}function B$(i,o,u,p){var y=R.T;R.T=null;var N=G.p;try{G.p=8,hv(i,o,u,p)}finally{G.p=N,R.T=y}}function hv(i,o,u,p){if(Xm){var y=pv(p);if(y===null)tv(i,o,p,Zm,u),i5(i,p);else if(F$(y,i,o,u,p))p.stopPropagation();else if(i5(i,p),o&4&&-1<U$.indexOf(i)){for(;y!==null;){var N=ms(y);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var O=$n(N.pendingLanes);if(O!==0){var z=N;for(z.pendingLanes|=2,z.entangledLanes|=2;O;){var J=1<<31-Ie(O);z.entanglements[1]|=J,O&=~J}Ga(N),(Ct&6)===0&&(Dm=ie()+500,Hu(0))}}break;case 13:z=jo(N,2),z!==null&&Mr(z,N,2),Lm(),mv(N,2)}if(N=pv(p),N===null&&tv(i,o,p,Zm,u),N===y)break;y=N}y!==null&&p.stopPropagation()}else tv(i,o,p,null,u)}}function pv(i){return i=bx(i),xv(i)}var Zm=null;function xv(i){if(Zm=null,i=fs(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Zm=i,null}function s5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Y()){case ge:return 2;case Te:return 8;case Re:case Pe:return 32;case Je:return 268435456;default:return 32}default:return 32}}var gv=!1,ki=null,Ci=null,Ai=null,Qu=new Map,Ju=new Map,Ti=[],U$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i5(i,o){switch(i){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Qu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(o.pointerId)}}function ed(i,o,u,p,y,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:N,targetContainers:[y]},o!==null&&(o=ms(o),o!==null&&a5(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function F$(i,o,u,p,y){switch(o){case"focusin":return ki=ed(ki,i,o,u,p,y),!0;case"dragenter":return Ci=ed(Ci,i,o,u,p,y),!0;case"mouseover":return Ai=ed(Ai,i,o,u,p,y),!0;case"pointerover":var N=y.pointerId;return Qu.set(N,ed(Qu.get(N)||null,i,o,u,p,y)),!0;case"gotpointercapture":return N=y.pointerId,Ju.set(N,ed(Ju.get(N)||null,i,o,u,p,y)),!0}return!1}function l5(i){var o=fs(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,ba(i.priority,function(){if(u.tag===13){var p=Or();p=at(p);var y=jo(u,p);y!==null&&Mr(y,u,p),mv(u,p)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Qm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=pv(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);yx=p,u.target.dispatchEvent(p),yx=null}else return o=ms(u),o!==null&&a5(o),i.blockedOn=u,!1;o.shift()}return!0}function o5(i,o,u){Qm(i)&&u.delete(o)}function V$(){gv=!1,ki!==null&&Qm(ki)&&(ki=null),Ci!==null&&Qm(Ci)&&(Ci=null),Ai!==null&&Qm(Ai)&&(Ai=null),Qu.forEach(o5),Ju.forEach(o5)}function Jm(i,o){i.blockedOn===o&&(i.blockedOn=null,gv||(gv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,V$)))}var eh=null;function c5(i){eh!==i&&(eh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){eh===i&&(eh=null);for(var o=0;o<i.length;o+=3){var u=i[o],p=i[o+1],y=i[o+2];if(typeof p!="function"){if(xv(p||u)===null)continue;break}var N=ms(u);N!==null&&(i.splice(o,3),o-=3,xg(N,{pending:!0,data:y,method:u.method,action:p},p,y))}}))}function td(i){function o(J){return Jm(J,i)}ki!==null&&Jm(ki,i),Ci!==null&&Jm(Ci,i),Ai!==null&&Jm(Ai,i),Qu.forEach(o),Ju.forEach(o);for(var u=0;u<Ti.length;u++){var p=Ti[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Ti.length&&(u=Ti[0],u.blockedOn===null);)l5(u),u.blockedOn===null&&Ti.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var y=u[p],N=u[p+1],O=y[en]||null;if(typeof N=="function")O||c5(u);else if(O){var z=null;if(N&&N.hasAttribute("formAction")){if(y=N,O=N[en]||null)z=O.formAction;else if(xv(y)!==null)continue}else z=O.action;typeof z=="function"?u[p+1]=z:(u.splice(p,3),p-=3),c5(u)}}}function vv(i){this._internalRoot=i}th.prototype.render=vv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(a(409));var u=o.current,p=Or();n5(u,p,i,o,null,null)},th.prototype.unmount=vv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;n5(i.current,2,null,i,null,null),Lm(),o[ds]=null}};function th(i){this._internalRoot=i}th.prototype.unstable_scheduleHydration=function(i){if(i){var o=Pt();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ti.length&&o!==0&&o<Ti[u].priority;u++);Ti.splice(u,0,i),u===0&&l5(i)}};var u5=t.version;if(u5!=="19.1.0")throw Error(a(527,u5,"19.1.0"));G.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=f(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var H$={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Oe=nh.inject(H$),Le=nh}catch{}}return rd.createRoot=function(i,o){if(!s(i))throw Error(a(299));var u=!1,p="",y=k4,N=C4,O=A4,z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks)),o=e5(i,1,!1,null,null,u,p,y,N,O,z,null),i[ds]=o.current,ev(i),new vv(o)},rd.hydrateRoot=function(i,o,u){if(!s(i))throw Error(a(299));var p=!1,y="",N=k4,O=C4,z=A4,J=null,fe=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(J=u.unstable_transitionCallbacks),u.formState!==void 0&&(fe=u.formState)),o=e5(i,1,!0,o,u??null,p,y,N,O,z,J,fe),o.context=t5(null),u=o.current,p=Or(),p=at(p),y=fi(p),y.callback=null,mi(u,y,p),u=p,o.current.lanes=u,ae(o,u),Ga(o),i[ds]=o.current,ev(i),new th(o)},rd.version="19.1.0",rd}var b5;function r9(){if(b5)return jv.exports;b5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jv.exports=n9(),jv.exports}var a9=r9();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w5="popstate";function s9(e={}){function t(a,s){let{pathname:l,search:c,hash:d}=a.location;return c1("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Xd(s)}return l9(t,n,null,e)}function Qt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ia(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function i9(){return Math.random().toString(36).substring(2,10)}function j5(e,t){return{usr:e.state,key:e.key,idx:t}}function c1(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vc(t):t,state:n,key:t&&t.key||a||i9()}}function Xd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function l9(e,t,n,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,d="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function x(){d="POP";let S=h(),k=S==null?null:S-m;m=S,f&&f({action:d,location:j.location,delta:k})}function g(S,k){d="PUSH";let _=c1(j.location,S,k);m=h()+1;let C=j5(_,m),P=j.createHref(_);try{c.pushState(C,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(P)}l&&f&&f({action:d,location:j.location,delta:1})}function b(S,k){d="REPLACE";let _=c1(j.location,S,k);m=h();let C=j5(_,m),P=j.createHref(_);c.replaceState(C,"",P),l&&f&&f({action:d,location:j.location,delta:0})}function w(S){return o9(S)}let j={get action(){return d},get location(){return e(s,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(w5,x),f=S,()=>{s.removeEventListener(w5,x),f=null}},createHref(S){return t(s,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:b,go(S){return c.go(S)}};return j}function o9(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Xd(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function vE(e,t,n="/"){return c9(e,t,n,!1)}function c9(e,t,n,a){let s=typeof t=="string"?Vc(t):t,l=Vs(s.pathname||"/",n);if(l==null)return null;let c=yE(e);u9(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=w9(l);d=y9(c[f],m,a)}return d}function yE(e,t=[],n=[],a=""){let s=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Qt(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length));let m=Is([a,f.relativePath]),h=n.concat(f);l.children&&l.children.length>0&&(Qt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),yE(l.children,t,h,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:g9(m,l.index),routesMeta:h})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let f of bE(l.path))s(l,c,f)}),t}function bE(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let c=bE(a.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),s&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function u9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:v9(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var d9=/^:[\w-]+$/,f9=3,m9=2,h9=1,p9=10,x9=-2,N5=e=>e==="*";function g9(e,t){let n=e.split("/"),a=n.length;return n.some(N5)&&(a+=x9),t&&(a+=m9),n.filter(s=>!N5(s)).reduce((s,l)=>s+(d9.test(l)?f9:l===""?h9:p9),a)}function v9(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function y9(e,t,n=!1){let{routesMeta:a}=e,s={},l="/",c=[];for(let d=0;d<a.length;++d){let f=a[d],m=d===a.length-1,h=l==="/"?t:t.slice(l.length)||"/",x=y0({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),g=f.route;if(!x&&m&&n&&!a[a.length-1].route.index&&(x=y0({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:Is([l,x.pathname]),pathnameBase:_9(Is([l,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(l=Is([l,x.pathnameBase]))}return c}function y0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=b9(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((m,{paramName:h,isOptional:x},g)=>{if(h==="*"){let w=d[g]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[g];return x&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function b9(e,t=!1,n=!0){Ia(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function w9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ia(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Vs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function j9(e,t="/"){let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Vc(e):e;return{pathname:n?n.startsWith("/")?n:N9(n,t):t,search:k9(a),hash:C9(s)}}function N9(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kv(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S9(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Iw(e){let t=S9(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function zw(e,t,n,a=!1){let s;typeof e=="string"?s=Vc(e):(s={...e},Qt(!s.pathname||!s.pathname.includes("?"),kv("?","pathname","search",s)),Qt(!s.pathname||!s.pathname.includes("#"),kv("#","pathname","hash",s)),Qt(!s.search||!s.search.includes("#"),kv("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let x=t.length-1;if(!a&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),x-=1;s.pathname=g.join("/")}d=x>=0?t[x]:"/"}let f=j9(s,d),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Is=e=>e.join("/").replace(/\/\/+/g,"/"),_9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,C9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var wE=["POST","PUT","PATCH","DELETE"];new Set(wE);var T9=["GET",...wE];new Set(T9);var Hc=v.createContext(null);Hc.displayName="DataRouter";var xp=v.createContext(null);xp.displayName="DataRouterState";v.createContext(!1);var jE=v.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var E9=v.createContext(new Map);E9.displayName="Fetchers";var P9=v.createContext(null);P9.displayName="Await";var Ua=v.createContext(null);Ua.displayName="Navigation";var yf=v.createContext(null);yf.displayName="Location";var va=v.createContext({outlet:null,matches:[],isDataRoute:!1});va.displayName="Route";var Bw=v.createContext(null);Bw.displayName="RouteError";function O9(e,{relative:t}={}){Qt(qc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=v.useContext(Ua),{hash:s,pathname:l,search:c}=wf(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Is([n,l])),a.createHref({pathname:d,search:c,hash:s})}function qc(){return v.useContext(yf)!=null}function us(){return Qt(qc(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(yf).location}var NE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SE(e){v.useContext(Ua).static||v.useLayoutEffect(e)}function Gt(){let{isDataRoute:e}=v.useContext(va);return e?G9():M9()}function M9(){Qt(qc(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Hc),{basename:t,navigator:n}=v.useContext(Ua),{matches:a}=v.useContext(va),{pathname:s}=us(),l=JSON.stringify(Iw(a)),c=v.useRef(!1);return SE(()=>{c.current=!0}),v.useCallback((f,m={})=>{if(Ia(c.current,NE),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=zw(f,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Is([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,l,s,e])}var D9=v.createContext(null);function R9(e){let t=v.useContext(va).outlet;return t&&v.createElement(D9.Provider,{value:e},t)}function bf(){let{matches:e}=v.useContext(va),t=e[e.length-1];return t?t.params:{}}function wf(e,{relative:t}={}){let{matches:n}=v.useContext(va),{pathname:a}=us(),s=JSON.stringify(Iw(n));return v.useMemo(()=>zw(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function L9(e,t){return _E(e,t)}function _E(e,t,n,a){var k;Qt(qc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext(Ua),{matches:l}=v.useContext(va),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",h=c&&c.route;{let _=h&&h.path||"";kE(f,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=us(),g;if(t){let _=typeof t=="string"?Vc(t):t;Qt(m==="/"||((k=_.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),g=_}else g=x;let b=g.pathname||"/",w=b;if(m!=="/"){let _=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=vE(e,{pathname:w});Ia(h||j!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ia(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=U9(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:Is([m,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:Is([m,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,n,a);return t&&S?v.createElement(yf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function $9(){let e=K9(),t=A9(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,c)}var I9=v.createElement($9,null),z9=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(va.Provider,{value:this.props.routeContext},v.createElement(Bw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B9({routeContext:e,match:t,children:n}){let a=v.useContext(Hc);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(va.Provider,{value:e},n)}function U9(e,t=[],n=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n==null?void 0:n.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Qt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:h,errors:x}=n,g=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,h)=>{let x,g=!1,b=null,w=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||I9,c&&(d<0&&h===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):d===h&&(g=!0,w=m.route.hydrateFallbackElement||null)));let j=t.concat(s.slice(0,h+1)),S=()=>{let k;return x?k=b:g?k=w:m.route.Component?k=v.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=f,v.createElement(B9,{match:m,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?v.createElement(z9,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):S()},null)}function Uw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F9(e){let t=v.useContext(Hc);return Qt(t,Uw(e)),t}function V9(e){let t=v.useContext(xp);return Qt(t,Uw(e)),t}function H9(e){let t=v.useContext(va);return Qt(t,Uw(e)),t}function Fw(e){let t=H9(e),n=t.matches[t.matches.length-1];return Qt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function q9(){return Fw("useRouteId")}function K9(){var a;let e=v.useContext(Bw),t=V9("useRouteError"),n=Fw("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function G9(){let{router:e}=F9("useNavigate"),t=Fw("useNavigate"),n=v.useRef(!1);return SE(()=>{n.current=!0}),v.useCallback(async(s,l={})=>{Ia(n.current,NE),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var S5={};function kE(e,t,n){!t&&!S5[e]&&(S5[e]=!0,Ia(!1,n))}v.memo(Y9);function Y9({routes:e,future:t,state:n}){return _E(e,void 0,n,t)}function W9({to:e,replace:t,state:n,relative:a}){Qt(qc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(Ua);Ia(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=v.useContext(va),{pathname:c}=us(),d=Gt(),f=zw(e,Iw(l),c,a==="path"),m=JSON.stringify(f);return v.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:a})},[d,m,a,t,n]),null}function CE(e){return R9(e.context)}function ht(e){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X9({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:s,static:l=!1}){Qt(!qc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=Vc(n));let{pathname:f="/",search:m="",hash:h="",state:x=null,key:g="default"}=n,b=v.useMemo(()=>{let w=Vs(f,c);return w==null?null:{location:{pathname:w,search:m,hash:h,state:x,key:g},navigationType:a}},[c,f,m,h,x,g,a]);return Ia(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:v.createElement(Ua.Provider,{value:d},v.createElement(yf.Provider,{children:t,value:b}))}function Z9({children:e,location:t}){return L9(u1(e),t)}function u1(e,t=[]){let n=[];return v.Children.forEach(e,(a,s)=>{if(!v.isValidElement(a))return;let l=[...t,s];if(a.type===v.Fragment){n.push.apply(n,u1(a.props.children,l));return}Qt(a.type===ht,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=u1(a.props.children,l)),n.push(c)}),n}var i0="get",l0="application/x-www-form-urlencoded";function gp(e){return e!=null&&typeof e.tagName=="string"}function Q9(e){return gp(e)&&e.tagName.toLowerCase()==="button"}function J9(e){return gp(e)&&e.tagName.toLowerCase()==="form"}function eI(e){return gp(e)&&e.tagName.toLowerCase()==="input"}function tI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nI(e,t){return e.button===0&&(!t||t==="_self")&&!tI(e)}var rh=null;function rI(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var aI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cv(e){return e!=null&&!aI.has(e)?(Ia(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${l0}"`),null):e}function sI(e,t){let n,a,s,l,c;if(J9(e)){let d=e.getAttribute("action");a=d?Vs(d,t):null,n=e.getAttribute("method")||i0,s=Cv(e.getAttribute("enctype"))||l0,l=new FormData(e)}else if(Q9(e)||eI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(a=f?Vs(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||i0,s=Cv(e.getAttribute("formenctype"))||Cv(d.getAttribute("enctype"))||l0,l=new FormData(d,e),!rI()){let{name:m,type:h,value:x}=e;if(h==="image"){let g=m?`${m}.`:"";l.append(`${g}x`,"0"),l.append(`${g}y`,"0")}else m&&l.append(m,x)}}else{if(gp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=i0,a=null,s=l0,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iI(e,t,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:t&&Vs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function lI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function cI(e,t,n){let a=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await lI(l,n);return c.links?c.links():[]}return[]}));return mI(a.flat(1).filter(oI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _5(e,t,n,a,s,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var h;return n[m].pathname!==f.pathname||((h=n[m].route.path)==null?void 0:h.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?t.filter((f,m)=>{var x;let h=a.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function uI(e,t,{includeHydrateFallback:n}={}){return dI(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function dI(e){return[...new Set(e)]}function fI(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function mI(e,t){let n=new Set;return new Set(t),e.reduce((a,s)=>{let l=JSON.stringify(fI(s));return n.has(l)||(n.add(l),a.push({key:l,link:s})),a},[])}function AE(){let e=v.useContext(Hc);return Vw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hI(){let e=v.useContext(xp);return Vw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hw=v.createContext(void 0);Hw.displayName="FrameworkContext";function TE(){let e=v.useContext(Hw);return Vw(e,"You must render this element inside a <HydratedRouter> element"),e}function pI(e,t){let n=v.useContext(Hw),[a,s]=v.useState(!1),[l,c]=v.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:x}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=k=>{k.forEach(_=>{c(_.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),v.useEffect(()=>{if(a){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[a]);let b=()=>{s(!0)},w=()=>{s(!1),c(!1)};return n?e!=="intent"?[l,g,{}]:[l,g,{onFocus:ad(d,b),onBlur:ad(f,w),onMouseEnter:ad(m,b),onMouseLeave:ad(h,w),onTouchStart:ad(x,b)}]:[!1,g,{}]}function ad(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function xI({page:e,...t}){let{router:n}=AE(),a=v.useMemo(()=>vE(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?v.createElement(vI,{page:e,matches:a,...t}):null}function gI(e){let{manifest:t,routeModules:n}=TE(),[a,s]=v.useState([]);return v.useEffect(()=>{let l=!1;return cI(e,t,n).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,n]),a}function vI({page:e,matches:t,...n}){let a=us(),{manifest:s,routeModules:l}=TE(),{basename:c}=AE(),{loaderData:d,matches:f}=hI(),m=v.useMemo(()=>_5(e,t,f,s,a,"data"),[e,t,f,s,a]),h=v.useMemo(()=>_5(e,t,f,s,a,"assets"),[e,t,f,s,a]),x=v.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let w=new Set,j=!1;if(t.forEach(k=>{var C;let _=s.routes[k.route.id];!_||!_.hasLoader||(!m.some(P=>P.route.id===k.route.id)&&k.route.id in d&&((C=l[k.route.id])!=null&&C.shouldRevalidate)||_.hasClientLoader?j=!0:w.add(k.route.id))}),w.size===0)return[];let S=iI(e,c,"data");return j&&w.size>0&&S.searchParams.set("_routes",t.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[c,d,a,s,m,t,e,l]),g=v.useMemo(()=>uI(h,s),[h,s]),b=gI(h);return v.createElement(v.Fragment,null,x.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:j})=>v.createElement("link",{key:w,...j})))}function yI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var EE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EE&&(window.__reactRouterVersion="7.7.1")}catch{}function bI({basename:e,children:t,window:n}){let a=v.useRef();a.current==null&&(a.current=s9({window:n,v5Compat:!0}));let s=a.current,[l,c]=v.useState({action:s.action,location:s.location}),d=v.useCallback(f=>{v.startTransition(()=>c(f))},[c]);return v.useLayoutEffect(()=>s.listen(d),[s,d]),v.createElement(X9,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OE=v.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:h,viewTransition:x,...g},b){let{basename:w}=v.useContext(Ua),j=typeof m=="string"&&PE.test(m),S,k=!1;if(typeof m=="string"&&j&&(S=m,EE))try{let B=new URL(window.location.href),K=m.startsWith("//")?new URL(B.protocol+m):new URL(m),F=Vs(K.pathname,w);K.origin===B.origin&&F!=null?m=F+K.search+K.hash:k=!0}catch{Ia(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=O9(m,{relative:s}),[C,P,T]=pI(a,g),E=SI(m,{replace:c,state:d,target:f,preventScrollReset:h,relative:s,viewTransition:x});function L(B){t&&t(B),B.defaultPrevented||E(B)}let M=v.createElement("a",{...g,...T,href:S||_,onClick:k||l?t:L,ref:yI(b,P),target:f,"data-discover":!j&&n==="render"?"true":void 0});return C&&!j?v.createElement(v.Fragment,null,M,v.createElement(xI,{page:_})):M});OE.displayName="Link";var wI=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:d,children:f,...m},h){let x=wf(c,{relative:m.relative}),g=us(),b=v.useContext(xp),{navigator:w,basename:j}=v.useContext(Ua),S=b!=null&&TI(x)&&d===!0,k=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,_=g.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(_=_.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&j&&(C=Vs(C,j)||C);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let T=_===k||!s&&_.startsWith(k)&&_.charAt(P)==="/",E=C!=null&&(C===k||!s&&C.startsWith(k)&&C.charAt(k.length)==="/"),L={isActive:T,isPending:E,isTransitioning:S},M=T?t:void 0,B;typeof a=="function"?B=a(L):B=[a,T?"active":null,E?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(L):l;return v.createElement(OE,{...m,"aria-current":M,className:B,ref:h,style:K,to:c,viewTransition:d},typeof f=="function"?f(L):f)});wI.displayName="NavLink";var jI=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:s,state:l,method:c=i0,action:d,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:x,...g},b)=>{let w=CI(),j=AI(d,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&PE.test(d),_=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,T=(P==null?void 0:P.getAttribute("formmethod"))||c;w(P||C.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:s,state:l,relative:m,preventScrollReset:h,viewTransition:x})};return v.createElement("form",{ref:b,method:S,action:j,onSubmit:a?f:_,...g,"data-discover":!k&&e==="render"?"true":void 0})});jI.displayName="Form";function NI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ME(e){let t=v.useContext(Hc);return Qt(t,NI(e)),t}function SI(e,{target:t,replace:n,state:a,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Gt(),f=us(),m=wf(e,{relative:l});return v.useCallback(h=>{if(nI(h,t)){h.preventDefault();let x=n!==void 0?n:Xd(f)===Xd(m);d(e,{replace:x,state:a,preventScrollReset:s,relative:l,viewTransition:c})}},[f,d,m,n,a,t,e,s,l,c])}var _I=0,kI=()=>`__${String(++_I)}__`;function CI(){let{router:e}=ME("useSubmit"),{basename:t}=v.useContext(Ua),n=q9();return v.useCallback(async(a,s={})=>{let{action:l,method:c,encType:d,formData:f,body:m}=sI(a,t);if(s.navigate===!1){let h=s.fetcherKey||kI();await e.fetch(h,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function AI(e,{relative:t}={}){let{basename:n}=v.useContext(Ua),a=v.useContext(va);Qt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...wf(e||".",{relative:t})},c=us();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(h=>h==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let h=d.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Is([n,l.pathname])),Xd(l)}function TI(e,{relative:t}={}){let n=v.useContext(jE);Qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ME("useViewTransitionState"),s=wf(e,{relative:t});if(!n.isTransitioning)return!1;let l=Vs(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Vs(n.nextLocation.pathname,a)||n.nextLocation.pathname;return y0(s.pathname,c)!=null||y0(s.pathname,l)!=null}var EI=gE();function DE(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=DE(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function ut(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=DE(e))&&(a&&(a+=" "),a+=t);return a}function PI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}PI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var jf=e=>typeof e=="number"&&!isNaN(e),Zl=e=>typeof e=="string",Hs=e=>typeof e=="function",OI=e=>Zl(e)||jf(e),d1=e=>Zl(e)||Hs(e)?e:null,MI=(e,t)=>e===!1||jf(e)&&e>0?e:t,f1=e=>v.isValidElement(e)||Zl(e)||Hs(e)||jf(e);function DI(e,t,n=300){let{scrollHeight:a,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=a+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function RI({enter:e,exit:t,appendPosition:n=!1,collapse:a=!0,collapseDuration:s=300}){return function({children:l,position:c,preventExitTransition:d,done:f,nodeRef:m,isIn:h,playToast:x}){let g=n?`${e}--${c}`:e,b=n?`${t}--${c}`:t,w=v.useRef(0);return v.useLayoutEffect(()=>{let j=m.current,S=g.split(" "),k=_=>{_.target===m.current&&(x(),j.removeEventListener("animationend",k),j.removeEventListener("animationcancel",k),w.current===0&&_.type!=="animationcancel"&&j.classList.remove(...S))};j.classList.add(...S),j.addEventListener("animationend",k),j.addEventListener("animationcancel",k)},[]),v.useEffect(()=>{let j=m.current,S=()=>{j.removeEventListener("animationend",S),a?DI(j,f,s):f()};h||(d?S():(w.current=1,j.className+=` ${b}`,j.addEventListener("animationend",S)))},[h]),bt.createElement(bt.Fragment,null,l)}}function k5(e,t){return{content:RE(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function RE(e,t,n=!1){return v.isValidElement(e)&&!Zl(e.type)?v.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Hs(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function LI({closeToast:e,theme:t,ariaLabel:n="close"}){return bt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),e(!0)},"aria-label":n},bt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},bt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $I({delay:e,isRunning:t,closeToast:n,type:a="default",hide:s,className:l,controlledProgress:c,progress:d,rtl:f,isIn:m,theme:h}){let x=s||c&&d===0,g={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(g.transform=`scaleX(${d})`);let b=ut("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":f}),w=Hs(l)?l({rtl:f,type:a,defaultClassName:b}):ut(b,l),j={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{m&&n()}};return bt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},bt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${a}`}),bt.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:w,style:g,...j}))}var II=1,LE=()=>`${II++}`;function zI(e,t,n){let a=1,s=0,l=[],c=[],d=t,f=new Map,m=new Set,h=_=>(m.add(_),()=>m.delete(_)),x=()=>{c=Array.from(f.values()),m.forEach(_=>_())},g=({containerId:_,toastId:C,updateId:P})=>{let T=_?_!==e:e!==1,E=f.has(C)&&P==null;return T||E},b=(_,C)=>{f.forEach(P=>{var T;(C==null||C===P.props.toastId)&&((T=P.toggle)==null||T.call(P,_))})},w=_=>{var C,P;(P=(C=_.props)==null?void 0:C.onClose)==null||P.call(C,_.removalReason),_.isActive=!1},j=_=>{if(_==null)f.forEach(w);else{let C=f.get(_);C&&w(C)}x()},S=()=>{s-=l.length,l=[]},k=_=>{var C,P;let{toastId:T,updateId:E}=_.props,L=E==null;_.staleId&&f.delete(_.staleId),_.isActive=!0,f.set(T,_),x(),n(k5(_,L?"added":"updated")),L&&((P=(C=_.props).onOpen)==null||P.call(C))};return{id:e,props:d,observe:h,toggle:b,removeToast:j,toasts:f,clearQueue:S,buildToast:(_,C)=>{if(g(C))return;let{toastId:P,updateId:T,data:E,staleId:L,delay:M}=C,B=T==null;B&&s++;let K={...d,style:d.toastStyle,key:a++,...Object.fromEntries(Object.entries(C).filter(([U,te])=>te!=null)),toastId:P,updateId:T,data:E,isIn:!1,className:d1(C.className||d.toastClassName),progressClassName:d1(C.progressClassName||d.progressClassName),autoClose:C.isLoading?!1:MI(C.autoClose,d.autoClose),closeToast(U){f.get(P).removalReason=U,j(P)},deleteToast(){let U=f.get(P);if(U!=null){if(n(k5(U,"removed")),f.delete(P),s--,s<0&&(s=0),l.length>0){k(l.shift());return}x()}}};K.closeButton=d.closeButton,C.closeButton===!1||f1(C.closeButton)?K.closeButton=C.closeButton:C.closeButton===!0&&(K.closeButton=f1(d.closeButton)?d.closeButton:!0);let F={content:_,props:K,staleId:L};d.limit&&d.limit>0&&s>d.limit&&B?l.push(F):jf(M)?setTimeout(()=>{k(F)},M):k(F)},setProps(_){d=_},setToggle:(_,C)=>{let P=f.get(_);P&&(P.toggle=C)},isToastActive:_=>{var C;return(C=f.get(_))==null?void 0:C.isActive},getSnapshot:()=>c}}var lr=new Map,Zd=[],m1=new Set,BI=e=>m1.forEach(t=>t(e)),$E=()=>lr.size>0;function UI(){Zd.forEach(e=>zE(e.content,e.options)),Zd=[]}var FI=(e,{containerId:t})=>{var n;return(n=lr.get(t||1))==null?void 0:n.toasts.get(e)};function IE(e,t){var n;if(t)return!!((n=lr.get(t))!=null&&n.isToastActive(e));let a=!1;return lr.forEach(s=>{s.isToastActive(e)&&(a=!0)}),a}function VI(e){if(!$E()){Zd=Zd.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||OI(e))lr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=lr.get(e.containerId);t?t.removeToast(e.id):lr.forEach(n=>{n.removeToast(e.id)})}}var HI=(e={})=>{lr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function zE(e,t){f1(e)&&($E()||Zd.push({content:e,options:t}),lr.forEach(n=>{n.buildToast(e,t)}))}function qI(e){var t;(t=lr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function BE(e,t){lr.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function KI(e){let t=e.containerId||1;return{subscribe(n){let a=zI(t,e,BI);lr.set(t,a);let s=a.observe(n);return UI(),()=>{s(),lr.delete(t)}},setProps(n){var a;(a=lr.get(t))==null||a.setProps(n)},getSnapshot(){var n;return(n=lr.get(t))==null?void 0:n.getSnapshot()}}}function GI(e){return m1.add(e),()=>{m1.delete(e)}}function YI(e){return e&&(Zl(e.toastId)||jf(e.toastId))?e.toastId:LE()}function Nf(e,t){return zE(e,t),t.toastId}function vp(e,t){return{...t,type:t&&t.type||e,toastId:YI(t)}}function yp(e){return(t,n)=>Nf(t,vp(e,n))}function V(e,t){return Nf(e,vp("default",t))}V.loading=(e,t)=>Nf(e,vp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function WI(e,{pending:t,error:n,success:a},s){let l;t&&(l=Zl(t)?V.loading(t,s):V.loading(t.render,{...s,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,h,x)=>{if(h==null){V.dismiss(l);return}let g={type:m,...c,...s,data:x},b=Zl(h)?{render:h}:h;return l?V.update(l,{...g,...b}):V(b.render,{...g,...b}),x},f=Hs(e)?e():e;return f.then(m=>d("success",a,m)).catch(m=>d("error",n,m)),f}V.promise=WI;V.success=yp("success");V.info=yp("info");V.error=yp("error");V.warning=yp("warning");V.warn=V.warning;V.dark=(e,t)=>Nf(e,vp("default",{theme:"dark",...t}));function XI(e){VI(e)}V.dismiss=XI;V.clearWaitingQueue=HI;V.isActive=IE;V.update=(e,t={})=>{let n=FI(e,t);if(n){let{props:a,content:s}=n,l={delay:100,...a,...t,toastId:t.toastId||e,updateId:LE()};l.toastId!==e&&(l.staleId=e);let c=l.render||s;delete l.render,Nf(c,l)}};V.done=e=>{V.update(e,{progress:1})};V.onChange=GI;V.play=e=>BE(!0,e);V.pause=e=>BE(!1,e);function ZI(e){var t;let{subscribe:n,getSnapshot:a,setProps:s}=v.useRef(KI(e)).current;s(e);let l=(t=v.useSyncExternalStore(n,a,a))==null?void 0:t.slice();function c(d){if(!l)return[];let f=new Map;return e.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:h}=m.props;f.has(h)||f.set(h,[]),f.get(h).push(m)}),Array.from(f,m=>d(m[0],m[1]))}return{getToastToRender:c,isToastActive:IE,count:l==null?void 0:l.length}}function QI(e){let[t,n]=v.useState(!1),[a,s]=v.useState(!1),l=v.useRef(null),c=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:m,onClick:h,closeOnClick:x}=e;qI({id:e.toastId,containerId:e.containerId,fn:n}),v.useEffect(()=>{if(e.pauseOnFocusLoss)return g(),()=>{b()}},[e.pauseOnFocusLoss]);function g(){document.hasFocus()||k(),window.addEventListener("focus",S),window.addEventListener("blur",k)}function b(){window.removeEventListener("focus",S),window.removeEventListener("blur",k)}function w(L){if(e.draggable===!0||e.draggable===L.pointerType){_();let M=l.current;c.canCloseOnClick=!0,c.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(c.start=L.clientX,c.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(c.start=L.clientY,c.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function j(L){let{top:M,bottom:B,left:K,right:F}=l.current.getBoundingClientRect();L.nativeEvent.type!=="touchend"&&e.pauseOnHover&&L.clientX>=K&&L.clientX<=F&&L.clientY>=M&&L.clientY<=B?k():S()}function S(){n(!0)}function k(){n(!1)}function _(){c.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",T)}function C(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",T)}function P(L){let M=l.current;if(c.canDrag&&M){c.didMove=!0,t&&k(),e.draggableDirection==="x"?c.delta=L.clientX-c.start:c.delta=L.clientY-c.start,c.start!==L.clientX&&(c.canCloseOnClick=!1);let B=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;M.style.transform=`translate3d(${B},0)`,M.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function T(){C();let L=l.current;if(c.canDrag&&c.didMove&&L){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}L.style.transition="transform 0.2s, opacity 0.2s",L.style.removeProperty("transform"),L.style.removeProperty("opacity")}}let E={onPointerDown:w,onPointerUp:j};return d&&f&&(E.onMouseEnter=k,e.stacked||(E.onMouseLeave=S)),x&&(E.onClick=L=>{h&&h(L),c.canCloseOnClick&&m(!0)}),{playToast:S,pauseToast:k,isRunning:t,preventExitTransition:a,toastRef:l,eventHandlers:E}}var JI=typeof window<"u"?v.useLayoutEffect:v.useEffect,bp=({theme:e,type:t,isLoading:n,...a})=>bt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function ez(e){return bt.createElement(bp,{...e},bt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function tz(e){return bt.createElement(bp,{...e},bt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function nz(e){return bt.createElement(bp,{...e},bt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function rz(e){return bt.createElement(bp,{...e},bt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function az(){return bt.createElement("div",{className:"Toastify__spinner"})}var h1={info:tz,warning:ez,success:nz,error:rz,spinner:az},sz=e=>e in h1;function iz({theme:e,type:t,isLoading:n,icon:a}){let s=null,l={theme:e,type:t};return a===!1||(Hs(a)?s=a({...l,isLoading:n}):v.isValidElement(a)?s=v.cloneElement(a,l):n?s=h1.spinner():sz(t)&&(s=h1[t](l))),s}var lz=e=>{let{isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:s,playToast:l}=QI(e),{closeButton:c,children:d,autoClose:f,onClick:m,type:h,hideProgressBar:x,closeToast:g,transition:b,position:w,className:j,style:S,progressClassName:k,updateId:_,role:C,progress:P,rtl:T,toastId:E,deleteToast:L,isIn:M,isLoading:B,closeOnClick:K,theme:F,ariaLabel:U}=e,te=ut("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":K}),we=Hs(j)?j({rtl:T,position:w,type:h,defaultClassName:te}):ut(te,j),re=iz(e),R=!!P||!f,G={closeToast:g,type:h,theme:F},H=null;return c===!1||(Hs(c)?H=c(G):v.isValidElement(c)?H=v.cloneElement(c,G):H=LI(G)),bt.createElement(b,{isIn:M,done:L,position:w,preventExitTransition:n,nodeRef:a,playToast:l},bt.createElement("div",{id:E,tabIndex:0,onClick:m,"data-in":M,className:we,...s,style:S,ref:a,...M&&{role:C,"aria-label":U}},re!=null&&bt.createElement("div",{className:ut("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},re),RE(d,e,!t),H,!e.customProgressBar&&bt.createElement($I,{..._&&!R?{key:`p-${_}`}:{},rtl:T,theme:F,delay:f,isRunning:t,isIn:M,closeToast:g,hide:x,type:h,className:k,controlledProgress:R,progress:P||0})))},oz=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),cz=RI(oz("bounce",!0)),uz={position:"top-right",transition:cz,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function dz(e){let t={...uz,...e},n=e.stacked,[a,s]=v.useState(!0),l=v.useRef(null),{getToastToRender:c,isToastActive:d,count:f}=ZI(t),{className:m,style:h,rtl:x,containerId:g,hotKeys:b}=t;function w(S){let k=ut("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":x});return Hs(m)?m({position:S,rtl:x,defaultClassName:k}):ut(k,d1(m))}function j(){n&&(s(!0),V.play())}return JI(()=>{var S;if(n){let k=l.current.querySelectorAll('[data-in="true"]'),_=12,C=(S=t.position)==null?void 0:S.includes("top"),P=0,T=0;Array.from(k).reverse().forEach((E,L)=>{let M=E;M.classList.add("Toastify__toast--stacked"),L>0&&(M.dataset.collapsed=`${a}`),M.dataset.pos||(M.dataset.pos=C?"top":"bot");let B=P*(a?.2:1)+(a?0:_*L);M.style.setProperty("--y",`${C?B:B*-1}px`),M.style.setProperty("--g",`${_}`),M.style.setProperty("--s",`${1-(a?T:0)}`),P+=M.offsetHeight,T+=.025})}},[a,f,n]),v.useEffect(()=>{function S(k){var _;let C=l.current;b(k)&&((_=C.querySelector('[tabIndex="0"]'))==null||_.focus(),s(!1),V.pause()),k.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(s(!0),V.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[b]),bt.createElement("section",{ref:l,className:"Toastify",id:g,onMouseEnter:()=>{n&&(s(!1),V.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((S,k)=>{let _=k.length?{...h}:{...h,pointerEvents:"none"};return bt.createElement("div",{tabIndex:-1,className:w(S),"data-stacked":n,style:_,key:`c-${S}`},k.map(({content:C,props:P})=>bt.createElement(lz,{...P,stacked:n,collapseAll:j,isIn:d(P.toastId,P.containerId),key:`t-${P.key}`},C)))}))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),C5=e=>{const t=mz(e);return t.charAt(0).toUpperCase()+t.slice(1)},UE=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),hz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...d},f)=>v.createElement("svg",{ref:f,...pz,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:UE("lucide",s),...!l&&!hz(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>v.createElement(m,h)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(e,t)=>{const n=v.forwardRef(({className:a,...s},l)=>v.createElement(xz,{ref:l,iconNode:t,className:UE(`lucide-${fz(C5(e))}`,`lucide-${e}`,a),...s}));return n.displayName=C5(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],FE=Me("arrow-left",gz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wp=Me("arrow-right",vz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],VE=Me("bot",yz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],qw=Me("brain-circuit",bz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],A5=Me("building-2",wz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Nz=Me("calendar-days",jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],T5=Me("calendar-range",Sz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ra=Me("calendar",_z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Cz=Me("camera",kz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],b0=Me("check",Az);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ez=Me("chevron-down",Tz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ha=Me("chevron-left",Pz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kn=Me("chevron-right",Oz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Dz=Me("chevron-up",Mz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],La=Me("circle-alert",Rz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],p1=Me("circle-check-big",Lz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jn=Me("circle-check",$z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fa=Me("circle-x",Iz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x1=Me("circle",zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Uz=Me("clock-3",Bz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ql=Me("clock",Fz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Hz=Me("cloud-upload",Vz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Kz=Me("code",qz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ea=Me("copy",Gz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],E5=Me("crop",Yz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Av=Me("crown",Wz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Rd=Me("database",Xz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],P5=Me("dollar-sign",Zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Qd=Me("download",Qz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],eB=Me("external-link",Jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Sc=Me("eye-off",tB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sn=Me("eye",nB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],aB=Me("file-code-2",rB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ad=Me("file-spreadsheet",sB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],HE=Me("file-text",iB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Kc=Me("funnel",lB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ld=Me("globe",oB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],O5=Me("hash",cB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Tv=Me("history",uB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Kw=Me("house",dB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],M5=Me("image-off",fB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],hB=Me("image",mB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Td=Me("key-round",pB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],gB=Me("key",xB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],pc=Me("link",vB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qn=Me("loader-circle",yB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gw=Me("lock",bB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ah=Me("log-in",wB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],w0=Me("log-out",jB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pa=Me("mail",NB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qs=Me("map-pin",SB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],kB=Me("pause",_B);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],D5=Me("pen-line",CB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],g1=Me("phone-call",AB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pt=Me("phone",TB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Sf=Me("play",EB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],OB=Me("plug-zap",PB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rs=Me("plus",MB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],RB=Me("puzzle",DB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$B=Me("radio",LB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],zB=Me("refresh-ccw",IB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xe=Me("refresh-cw",BB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Yw=Me("rocket",UB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],VB=Me("rotate-ccw",FB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_r=Me("search",HB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],KB=Me("send",qB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qE=Me("settings",GB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],WB=Me("shield-alert",YB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KE=Me("shield-check",XB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_c=Me("shield",ZB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],sh=Me("shopping-cart",QB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],eU=Me("skip-forward",JB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],R5=Me("smartphone",tU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Gc=Me("sparkles",nU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],L5=Me("square-check-big",rU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],Ev=Me("square-kanban",aU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$d=Me("square-pen",sU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],lU=Me("square-terminal",iU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],kc=Me("square",oU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],uU=Me("sticky-note",cU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],er=Me("trash-2",dU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mU=Me("triangle-alert",fU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],pU=Me("unlink",hU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],GE=Me("user-round",xU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xc=Me("user",gU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],or=Me("users",vU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ww=Me("volume-2",yU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],wU=Me("wand-sparkles",bU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fr=Me("x",jU);function NU(){const[e,t]=v.useState({username:"",email:"",password:""}),[n,a]=v.useState(!1),[s,l]=v.useState({}),[c,d]=v.useState(!1),f=Gt(),m="https://aisdr-dbt.ddns.net",h=j=>{const{name:S,value:k}=j.target;t(_=>({..._,[S]:k})),s[S]&&l(_=>({..._,[S]:""}))},x=()=>{const j={};return e.username.trim()?e.username.length<3&&(j.username="Username must be at least 3 characters"):j.username="Username is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(j.email="Please enter a valid email address"):j.email="Email is required",e.password?e.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",l(j),Object.keys(j).length===0},g=async j=>{if(j.preventDefault(),!!x()){d(!0),l({});try{localStorage.setItem("name",e.username),localStorage.setItem("email",e.email)}catch{}try{const S=await fetch(`${m}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,email:e.email,password:e.password})}),k=await S.json();if(S.ok)V.success("Account created successfully! "),setTimeout(()=>{f(`/otp?email=${encodeURIComponent(e.email)}`)},1200);else{const _=k.message||k.detail||"Something went wrong. Please try again.";l({submit:_}),V.error(_)}}catch{const S="Network error. Please check your connection and try again.";l({submit:S}),V.error(S)}finally{d(!1)}}},b=e.password.length,w=b>=6?"bg-green-500 w-full":b>=4?"bg-blue-500 w-3/4":b>=2?"bg-yellow-500 w-1/2":b>0?"bg-red-500 w-1/4":"w-0";return r.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:r.jsx(xc,{className:"w-8 h-8 text-white"})})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),r.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",r.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign in here"})]})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsx("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:r.jsxs("form",{className:"space-y-6",onSubmit:g,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(xc,{className:`h-5 w-5 ${e.username?"text-blue-500":"text-gray-400"}`})}),r.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.username?"border-red-300 focus:border-red-500 focus:ring-red-500":e.username?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username"}),e.username&&!s.username&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx(p1,{className:"h-5 w-5 text-green-500"})})]}),s.username&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(La,{className:"h-4 w-4 mr-1"}),s.username]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(pa,{className:`h-5 w-5 ${e.email?"text-blue-500":"text-gray-400"}`})}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx(p1,{className:"h-5 w-5 text-green-500"})})]}),s.email&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(La,{className:"h-4 w-4 mr-1"}),s.email]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Gw,{className:`h-5 w-5 ${e.password?"text-blue-500":"text-gray-400"}`})}),r.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Create a password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200",onClick:()=>a(!n),children:n?r.jsx(Sc,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):r.jsx(Sn,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),r.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:r.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${w}`})}),r.jsx("span",{className:"text-xs text-gray-500",children:"6+ characters"})]}),s.password&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(La,{className:"h-4 w-4 mr-1"}),s.password]})]}),s.submit&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[r.jsx(La,{className:"h-5 w-5 text-red-600 mr-3"}),r.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Creating account..."]}):r.jsxs("div",{className:"flex items-center",children:["Create account",r.jsx(wp,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})})})]})}function SU(){const[e,t]=v.useState(30),n="/",a="/bg.gif";v.useEffect(()=>{const d=setInterval(()=>{t(f=>f<=1?(window.location.href=n,0):f-1)},1e3);return()=>clearInterval(d)},[]);const s=()=>window.location.href=n,l=()=>window.history.back(),c=()=>window.location.reload();return r.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[r.jsx("div",{className:"fixed inset-0 flex justify-center pointer-events-none",children:r.jsx("img",{src:a,alt:"Animated 404 background",className:`\r
      h-screen\r
      w-[68vw]              /*  your final locked width */\r
      max-w-[1280px]        /*  prevent over-expanding on ultra-wide */\r
      min-w-[320px]         /*  prevent too-narrow on small phones */\r
      object-cover\r
      translate-y-[8vh] sm:translate-y-[10vh] md:translate-y-[23vh]\r
    `,style:{objectPosition:"center 78%"},loading:"eager",decoding:"async",fetchPriority:"high"})}),r.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 py-10",children:r.jsxs("div",{className:`w-full max-w-4xl text-center\r
                     -translate-y-6 sm:-translate-y-10 md:-translate-y-74\r
                     transform-gpu`,children:[r.jsx("h1",{className:`\r
              text-[56px] sm:text-[80px] md:text-[110px]\r
              font-bold tracking-tight text-blue-900\r
              select-none\r
            `,style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"404"}),r.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-blue-900",style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"Looks like youre lost"}),r.jsx("p",{className:"mt-2 text-blue-800",children:"The page you are looking for is not available."}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs("button",{onClick:s,className:`\r
                w-full sm:w-auto inline-flex items-center justify-center\r
                rounded-lg px-5 py-3\r
                text-white bg-blue-600 hover:bg-blue-700\r
                transition-all duration-200 shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700\r
              `,children:[r.jsx(Kw,{className:"mr-2 h-5 w-5"}),"Go to Home"]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-center",children:[r.jsxs("button",{onClick:l,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[r.jsx(FE,{className:"mr-2 h-4 w-4"}),"Go Back"]}),r.jsxs("button",{onClick:c,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),r.jsxs("div",{className:"mt-3 text-sm text-blue-900",children:[r.jsx("a",{href:"/login",className:"underline hover:opacity-80",children:"Login"}),r.jsx("span",{className:"mx-2",children:""}),r.jsx("a",{href:"/signup",className:"underline hover:opacity-80",children:"Sign Up"})]})]}),r.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-blue-50/90 px-4 py-2 text-blue-900 border border-blue-200",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),r.jsxs("p",{className:"text-sm",children:["Redirecting to homepage in"," ",r.jsx("span",{className:"font-semibold",children:e})," seconds"]})]})]})})]})}const Xw=v.createContext({});function _f(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Zw=typeof window<"u",Qw=Zw?v.useLayoutEffect:v.useEffect,jp=v.createContext(null);function Jw(e,t){e.indexOf(t)===-1&&e.push(t)}function Np(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ks=(e,t,n)=>n>t?t:n<e?e:n;let ej=()=>{};const Gs={},YE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function WE(e){return typeof e=="object"&&e!==null}const XE=e=>/^0[^.\s]+$/u.test(e);function tj(e){let t;return()=>(t===void 0&&(t=e()),t)}const ma=e=>e,_U=(e,t)=>n=>t(e(n)),kf=(...e)=>e.reduce(_U),Cc=(e,t,n)=>{const a=t-e;return a===0?1:(n-e)/a};class nj{constructor(){this.subscriptions=[]}add(t){return Jw(this.subscriptions,t),()=>Np(this.subscriptions,t)}notify(t,n,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,a);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $a=e=>e*1e3,as=e=>e/1e3;function ZE(e,t){return t?e*(1e3/t):0}const kU=(e,t,n)=>{const a=t-e;return((n-e)%a+a)%a+e},QE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,CU=1e-7,AU=12;function TU(e,t,n,a,s){let l,c,d=0;do c=t+(n-t)/2,l=QE(c,a,s)-e,l>0?n=c:t=c;while(Math.abs(l)>CU&&++d<AU);return c}function Cf(e,t,n,a){if(e===t&&n===a)return ma;const s=l=>TU(l,0,1,e,n);return l=>l===0||l===1?l:QE(s(l),t,a)}const JE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eP=e=>t=>1-e(1-t),tP=Cf(.33,1.53,.69,.99),rj=eP(tP),nP=JE(rj),rP=e=>(e*=2)<1?.5*rj(e):.5*(2-Math.pow(2,-10*(e-1))),aj=e=>1-Math.sin(Math.acos(e)),aP=eP(aj),sP=JE(aj),EU=Cf(.42,0,1,1),PU=Cf(0,0,.58,1),iP=Cf(.42,0,.58,1),lP=e=>Array.isArray(e)&&typeof e[0]!="number";function oP(e,t){return lP(e)?e[kU(0,e.length,t)]:e}const cP=e=>Array.isArray(e)&&typeof e[0]=="number",OU={linear:ma,easeIn:EU,easeInOut:iP,easeOut:PU,circIn:aj,circInOut:sP,circOut:aP,backIn:rj,backInOut:nP,backOut:tP,anticipate:rP},MU=e=>typeof e=="string",$5=e=>{if(cP(e)){ej(e.length===4);const[t,n,a,s]=e;return Cf(t,n,a,s)}else if(MU(e))return OU[e];return e},ih=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DU(e,t){let n=new Set,a=new Set,s=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(h){c.has(h)&&(m.schedule(h),e()),h(d)}const m={schedule:(h,x=!1,g=!1)=>{const w=g&&s?n:a;return x&&c.add(h),w.has(h)||w.add(h),h},cancel:h=>{a.delete(h),c.delete(h)},process:h=>{if(d=h,s){l=!0;return}s=!0,[n,a]=[a,n],n.forEach(f),n.clear(),s=!1,l&&(l=!1,m.process(h))}};return m}const RU=40;function uP(e,t){let n=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=ih.reduce((C,P)=>(C[P]=DU(l),C),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:h,update:x,preRender:g,render:b,postRender:w}=c,j=()=>{const C=Gs.useManualTiming?s.timestamp:performance.now();n=!1,Gs.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(C-s.timestamp,RU),1)),s.timestamp=C,s.isProcessing=!0,d.process(s),f.process(s),m.process(s),h.process(s),x.process(s),g.process(s),b.process(s),w.process(s),s.isProcessing=!1,n&&t&&(a=!1,e(j))},S=()=>{n=!0,a=!0,s.isProcessing||e(j)};return{schedule:ih.reduce((C,P)=>{const T=c[P];return C[P]=(E,L=!1,M=!1)=>(n||S(),T.schedule(E,L,M)),C},{}),cancel:C=>{for(let P=0;P<ih.length;P++)c[ih[P]].cancel(C)},state:s,steps:c}}const{schedule:qt,cancel:Ys,state:Vn,steps:Pv}=uP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ma,!0);let o0;function LU(){o0=void 0}const Nr={now:()=>(o0===void 0&&Nr.set(Vn.isProcessing||Gs.useManualTiming?Vn.timestamp:performance.now()),o0),set:e=>{o0=e,queueMicrotask(LU)}},dP=e=>t=>typeof t=="string"&&t.startsWith(e),sj=dP("--"),$U=dP("var(--"),ij=e=>$U(e)?IU.test(e.split("/*")[0].trim()):!1,IU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jd={...Yc,transform:e=>Ks(0,1,e)},lh={...Yc,default:1},Id=e=>Math.round(e*1e5)/1e5,lj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zU(e){return e==null}const BU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oj=(e,t)=>n=>!!(typeof n=="string"&&BU.test(n)&&n.startsWith(e)||t&&!zU(n)&&Object.prototype.hasOwnProperty.call(n,t)),fP=(e,t,n)=>a=>{if(typeof a!="string")return a;const[s,l,c,d]=a.match(lj);return{[e]:parseFloat(s),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},UU=e=>Ks(0,255,e),Ov={...Yc,transform:e=>Math.round(UU(e))},Il={test:oj("rgb","red"),parse:fP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:a=1})=>"rgba("+Ov.transform(e)+", "+Ov.transform(t)+", "+Ov.transform(n)+", "+Id(Jd.transform(a))+")"};function FU(e){let t="",n="",a="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const v1={test:oj("#"),parse:FU,transform:Il.transform},Af=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bi=Af("deg"),ss=Af("%"),rt=Af("px"),VU=Af("vh"),HU=Af("vw"),I5={...ss,parse:e=>ss.parse(e)/100,transform:e=>ss.transform(e*100)},lc={test:oj("hsl","hue"),parse:fP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+ss.transform(Id(t))+", "+ss.transform(Id(n))+", "+Id(Jd.transform(a))+")"},gn={test:e=>Il.test(e)||v1.test(e)||lc.test(e),parse:e=>Il.test(e)?Il.parse(e):lc.test(e)?lc.parse(e):v1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Il.transform(e):lc.transform(e),getAnimatableNone:e=>{const t=gn.parse(e);return t.alpha=0,gn.transform(t)}},qU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KU(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lj))==null?void 0:t.length)||0)+(((n=e.match(qU))==null?void 0:n.length)||0)>0}const mP="number",hP="color",GU="var",YU="var(",z5="${}",WU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ef(e){const t=e.toString(),n=[],a={color:[],number:[],var:[]},s=[];let l=0;const d=t.replace(WU,f=>(gn.test(f)?(a.color.push(l),s.push(hP),n.push(gn.parse(f))):f.startsWith(YU)?(a.var.push(l),s.push(GU),n.push(f)):(a.number.push(l),s.push(mP),n.push(parseFloat(f))),++l,z5)).split(z5);return{values:n,split:d,indexes:a,types:s}}function pP(e){return ef(e).values}function xP(e){const{split:t,types:n}=ef(e),a=t.length;return s=>{let l="";for(let c=0;c<a;c++)if(l+=t[c],s[c]!==void 0){const d=n[c];d===mP?l+=Id(s[c]):d===hP?l+=gn.transform(s[c]):l+=s[c]}return l}}const XU=e=>typeof e=="number"?0:gn.test(e)?gn.getAnimatableNone(e):e;function ZU(e){const t=pP(e);return xP(e)(t.map(XU))}const Yi={test:KU,parse:pP,createTransformer:xP,getAnimatableNone:ZU};function Mv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function QU({hue:e,saturation:t,lightness:n,alpha:a}){e/=360,t/=100,n/=100;let s=0,l=0,c=0;if(!t)s=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;s=Mv(f,d,e+1/3),l=Mv(f,d,e),c=Mv(f,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:a}}function j0(e,t){return n=>n>0?t:e}const Wt=(e,t,n)=>e+(t-e)*n,Dv=(e,t,n)=>{const a=e*e,s=n*(t*t-a)+a;return s<0?0:Math.sqrt(s)},JU=[v1,Il,lc],eF=e=>JU.find(t=>t.test(e));function B5(e){const t=eF(e);if(!t)return!1;let n=t.parse(e);return t===lc&&(n=QU(n)),n}const U5=(e,t)=>{const n=B5(e),a=B5(t);if(!n||!a)return j0(e,t);const s={...n};return l=>(s.red=Dv(n.red,a.red,l),s.green=Dv(n.green,a.green,l),s.blue=Dv(n.blue,a.blue,l),s.alpha=Wt(n.alpha,a.alpha,l),Il.transform(s))},y1=new Set(["none","hidden"]);function tF(e,t){return y1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function nF(e,t){return n=>Wt(e,t,n)}function cj(e){return typeof e=="number"?nF:typeof e=="string"?ij(e)?j0:gn.test(e)?U5:sF:Array.isArray(e)?gP:typeof e=="object"?gn.test(e)?U5:rF:j0}function gP(e,t){const n=[...e],a=n.length,s=e.map((l,c)=>cj(l)(l,t[c]));return l=>{for(let c=0;c<a;c++)n[c]=s[c](l);return n}}function rF(e,t){const n={...e,...t},a={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(a[s]=cj(e[s])(e[s],t[s]));return s=>{for(const l in a)n[l]=a[l](s);return n}}function aF(e,t){const n=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][a[l]],d=e.values[c]??0;n[s]=d,a[l]++}return n}const sF=(e,t)=>{const n=Yi.createTransformer(t),a=ef(e),s=ef(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?y1.has(e)&&!s.values.length||y1.has(t)&&!a.values.length?tF(e,t):kf(gP(aF(a,s),s.values),n):j0(e,t)};function vP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Wt(e,t,n):cj(e)(e,t)}const iF=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>qt.update(t,n),stop:()=>Ys(t),now:()=>Vn.isProcessing?Vn.timestamp:Nr.now()}},yP=(e,t,n=10)=>{let a="";const s=Math.max(Math.round(t/n),2);for(let l=0;l<s;l++)a+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},N0=2e4;function uj(e){let t=0;const n=50;let a=e.next(t);for(;!a.done&&t<N0;)t+=n,a=e.next(t);return t>=N0?1/0:t}function bP(e,t=100,n){const a=n({...e,keyframes:[0,t]}),s=Math.min(uj(a),N0);return{type:"keyframes",ease:l=>a.next(s*l).value/t,duration:as(s)}}const lF=5;function wP(e,t,n){const a=Math.max(t-lF,0);return ZE(n-e(a),t-a)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rv=.001;function oF({duration:e=ln.duration,bounce:t=ln.bounce,velocity:n=ln.velocity,mass:a=ln.mass}){let s,l,c=1-t;c=Ks(ln.minDamping,ln.maxDamping,c),e=Ks(ln.minDuration,ln.maxDuration,as(e)),c<1?(s=m=>{const h=m*c,x=h*e,g=h-n,b=b1(m,c),w=Math.exp(-x);return Rv-g/b*w},l=m=>{const x=m*c*e,g=x*n+n,b=Math.pow(c,2)*Math.pow(m,2)*e,w=Math.exp(-x),j=b1(Math.pow(m,2),c);return(-s(m)+Rv>0?-1:1)*((g-b)*w)/j}):(s=m=>{const h=Math.exp(-m*e),x=(m-n)*e+1;return-Rv+h*x},l=m=>{const h=Math.exp(-m*e),x=(n-m)*(e*e);return h*x});const d=5/e,f=uF(s,l,d);if(e=$a(e),isNaN(f))return{stiffness:ln.stiffness,damping:ln.damping,duration:e};{const m=Math.pow(f,2)*a;return{stiffness:m,damping:c*2*Math.sqrt(a*m),duration:e}}}const cF=12;function uF(e,t,n){let a=n;for(let s=1;s<cF;s++)a=a-e(a)/t(a);return a}function b1(e,t){return e*Math.sqrt(1-t*t)}const dF=["duration","bounce"],fF=["stiffness","damping","mass"];function F5(e,t){return t.some(n=>e[n]!==void 0)}function mF(e){let t={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...e};if(!F5(e,fF)&&F5(e,dF))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),s=a*a,l=2*Ks(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ln.mass,stiffness:s,damping:l}}else{const n=oF(e);t={...t,...n,mass:ln.mass},t.isResolvedFromDuration=!0}return t}function tf(e=ln.visualDuration,t=ln.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:h,duration:x,velocity:g,isResolvedFromDuration:b}=mF({...n,velocity:-as(n.velocity||0)}),w=g||0,j=m/(2*Math.sqrt(f*h)),S=c-l,k=as(Math.sqrt(f/h)),_=Math.abs(S)<5;a||(a=_?ln.restSpeed.granular:ln.restSpeed.default),s||(s=_?ln.restDelta.granular:ln.restDelta.default);let C;if(j<1){const T=b1(k,j);C=E=>{const L=Math.exp(-j*k*E);return c-L*((w+j*k*S)/T*Math.sin(T*E)+S*Math.cos(T*E))}}else if(j===1)C=T=>c-Math.exp(-k*T)*(S+(w+k*S)*T);else{const T=k*Math.sqrt(j*j-1);C=E=>{const L=Math.exp(-j*k*E),M=Math.min(T*E,300);return c-L*((w+j*k*S)*Math.sinh(M)+T*S*Math.cosh(M))/T}}const P={calculatedDuration:b&&x||null,next:T=>{const E=C(T);if(b)d.done=T>=x;else{let L=T===0?w:0;j<1&&(L=T===0?$a(w):wP(C,T,E));const M=Math.abs(L)<=a,B=Math.abs(c-E)<=s;d.done=M&&B}return d.value=d.done?c:E,d},toString:()=>{const T=Math.min(uj(P),N0),E=yP(L=>P.next(T*L).value,T,30);return T+"ms "+E},toTransition:()=>{}};return P}tf.applyToOptions=e=>{const t=bP(e,100,tf);return e.ease=t.ease,e.duration=$a(t.duration),e.type="keyframes",e};function w1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:h}){const x=e[0],g={done:!1,value:x},b=M=>d!==void 0&&M<d||f!==void 0&&M>f,w=M=>d===void 0?f:f===void 0||Math.abs(d-M)<Math.abs(f-M)?d:f;let j=n*t;const S=x+j,k=c===void 0?S:c(S);k!==S&&(j=k-x);const _=M=>-j*Math.exp(-M/a),C=M=>k+_(M),P=M=>{const B=_(M),K=C(M);g.done=Math.abs(B)<=m,g.value=g.done?k:K};let T,E;const L=M=>{b(g.value)&&(T=M,E=tf({keyframes:[g.value,w(g.value)],velocity:wP(C,M,g.value),damping:s,stiffness:l,restDelta:m,restSpeed:h}))};return L(0),{calculatedDuration:null,next:M=>{let B=!1;return!E&&T===void 0&&(B=!0,P(M),L(M)),T!==void 0&&M>=T?E.next(M-T):(!B&&P(M),g)}}}function hF(e,t,n){const a=[],s=n||Gs.mix||vP,l=e.length-1;for(let c=0;c<l;c++){let d=s(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||ma:t;d=kf(f,d)}a.push(d)}return a}function jP(e,t,{clamp:n=!0,ease:a,mixer:s}={}){const l=e.length;if(ej(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=hF(t,a,s),f=d.length,m=h=>{if(c&&h<e[0])return t[0];let x=0;if(f>1)for(;x<e.length-2&&!(h<e[x+1]);x++);const g=Cc(e[x],e[x+1],h);return d[x](g)};return n?h=>m(Ks(e[0],e[l-1],h)):m}function NP(e,t){const n=e[e.length-1];for(let a=1;a<=t;a++){const s=Cc(0,t,a);e.push(Wt(n,1,s))}}function SP(e){const t=[0];return NP(t,e.length-1),t}function pF(e,t){return e.map(n=>n*t)}function xF(e,t){return e.map(()=>t||iP).splice(0,e.length-1)}function zd({duration:e=300,keyframes:t,times:n,ease:a="easeInOut"}){const s=lP(a)?a.map($5):$5(a),l={done:!1,value:t[0]},c=pF(n&&n.length===t.length?n:SP(t),e),d=jP(c,t,{ease:Array.isArray(s)?s:xF(t,s)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const gF=e=>e!==null;function dj(e,{repeat:t,repeatType:n="loop"},a,s=1){const l=e.filter(gF),d=s<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||a===void 0?l[d]:a}const vF={decay:w1,inertia:w1,tween:zd,keyframes:zd,spring:tf};function _P(e){typeof e.type=="string"&&(e.type=vF[e.type])}class fj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const yF=e=>e/100;class mj extends fj{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Nr.now()&&this.tick(Nr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(a=this.options).onStop)==null||s.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;_P(t);const{type:n=zd,repeat:a=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||zd;f!==zd&&typeof d[0]!="number"&&(this.mixKeyframes=kf(yF,vP(d[0],d[1])),d=[0,100]);const m=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=uj(m));const{calculatedDuration:h}=m;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:a,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:h,repeat:x,repeatType:g,repeatDelay:b,type:w,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-m*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,P=a;if(x){const M=Math.min(this.currentTime,s)/d;let B=Math.floor(M),K=M%1;!K&&M>=1&&(K=1),K===1&&B--,B=Math.min(B,x+1),!!(B%2)&&(g==="reverse"?(K=1-K,b&&(K-=b/d)):g==="mirror"&&(P=c)),C=Ks(0,1,K)*d}const T=_?{done:!1,value:h[0]}:P.next(C);l&&(T.value=l(T.value));let{done:E}=T;!_&&f!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return L&&w!==w1&&(T.value=dj(h,this.options,S,this.speed)),j&&j(T.value),L&&this.finish(),T}then(t,n){return this.finished.then(t,n)}get duration(){return as(this.calculatedDuration)}get time(){return as(this.currentTime)}set time(t){var n;t=$a(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Nr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=as(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:t=iF,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(s=this.options).onPlay)==null||l.call(s);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function bF(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const zl=e=>e*180/Math.PI,j1=e=>{const t=zl(Math.atan2(e[1],e[0]));return N1(t)},wF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:j1,rotateZ:j1,skewX:e=>zl(Math.atan(e[1])),skewY:e=>zl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},N1=e=>(e=e%360,e<0&&(e+=360),e),V5=j1,H5=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),q5=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),jF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:H5,scaleY:q5,scale:e=>(H5(e)+q5(e))/2,rotateX:e=>N1(zl(Math.atan2(e[6],e[5]))),rotateY:e=>N1(zl(Math.atan2(-e[2],e[0]))),rotateZ:V5,rotate:V5,skewX:e=>zl(Math.atan(e[4])),skewY:e=>zl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function S1(e){return e.includes("scale")?1:0}function _1(e,t){if(!e||e==="none")return S1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(n)a=jF,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=wF,s=d}if(!s)return S1(t);const l=a[t],c=s[1].split(",").map(SF);return typeof l=="function"?l(c):c[l]}const NF=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return _1(n,t)};function SF(e){return parseFloat(e.trim())}const Wc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xc=new Set(Wc),K5=e=>e===Yc||e===rt,_F=new Set(["x","y","z"]),kF=Wc.filter(e=>!_F.has(e));function CF(e){const t=[];return kF.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const ql={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>_1(t,"x"),y:(e,{transform:t})=>_1(t,"y")};ql.translateX=ql.x;ql.translateY=ql.y;const Kl=new Set;let k1=!1,C1=!1,A1=!1;function kP(){if(C1){const e=Array.from(Kl).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const s=CF(a);s.length&&(n.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=n.get(a);s&&s.forEach(([l,c])=>{var d;(d=a.getValue(l))==null||d.set(c)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}C1=!1,k1=!1,Kl.forEach(e=>e.complete(A1)),Kl.clear()}function CP(){Kl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(C1=!0)})}function AF(){A1=!0,CP(),kP(),A1=!1}class hj{constructor(t,n,a,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Kl.add(this),k1||(k1=!0,qt.read(CP),qt.resolveKeyframes(kP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:s}=this;if(t[0]===null){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(a&&n){const d=a.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}bF(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Kl.delete(this)}cancel(){this.state==="scheduled"&&(Kl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TF=e=>e.startsWith("--");function EF(e,t,n){TF(t)?e.style.setProperty(t,n):e.style[t]=n}const PF=tj(()=>window.ScrollTimeline!==void 0),OF={};function MF(e,t){const n=tj(e);return()=>OF[t]??n()}const AP=MF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ed=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,G5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ed([0,.65,.55,1]),circOut:Ed([.55,0,1,.45]),backIn:Ed([.31,.01,.66,-.59]),backOut:Ed([.33,1.53,.69,.99])};function TP(e,t){if(e)return typeof e=="function"?AP()?yP(e,t):"ease-out":cP(e)?Ed(e):Array.isArray(e)?e.map(n=>TP(n,t)||G5.easeOut):G5[e]}function DF(e,t,n,{delay:a=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const h={[t]:n};f&&(h.offset=f);const x=TP(d,s);Array.isArray(x)&&(h.easing=x);const g={delay:a,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(g.pseudoElement=m),e.animate(h,g)}function pj(e){return typeof e=="function"&&"applyToOptions"in e}function RF({type:e,...t}){return pj(e)&&AP()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class LF extends fj{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:a,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,ej(typeof t.type!="string");const m=RF(t);this.animation=DF(n,a,s,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=dj(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(h):EF(n,a,h),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,a;const t=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return as(Number(t))}get time(){return as(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=$a(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&PF()?(this.animation.timeline=t,ma):n(this)}}const EP={anticipate:rP,backInOut:nP,circInOut:sP};function $F(e){return e in EP}function IF(e){typeof e.ease=="string"&&$F(e.ease)&&(e.ease=EP[e.ease])}const Y5=10;class zF extends LF{constructor(t){IF(t),_P(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:a,onComplete:s,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new mj({...c,autoplay:!1}),f=$a(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-Y5).value,d.sample(f).value,Y5),d.stop()}}const W5=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yi.test(e)||e==="0")&&!e.startsWith("url("));function BF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function UF(e,t,n,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=W5(s,t),d=W5(l,t);return!c||!d?!1:BF(e)||(n==="spring"||pj(n))&&a}function T1(e){e.duration=0,e.type}const FF=new Set(["opacity","clipPath","filter","transform"]),VF=tj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HF(e){var h;const{motionValue:t,name:n,repeatDelay:a,repeatType:s,damping:l,type:c}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return VF()&&n&&FF.has(n)&&(n!=="transform"||!m)&&!f&&!a&&s!=="mirror"&&l!==0&&c!=="inertia"}const qF=40;class KF extends fj{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:h,...x}){var w;super(),this.stop=()=>{var j,S;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Nr.now();const g={autoplay:t,delay:n,type:a,repeat:s,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:h,...x},b=(h==null?void 0:h.KeyframeResolver)||hj;this.keyframeResolver=new b(d,(j,S,k)=>this.onKeyframesResolved(j,S,g,!k),f,m,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,a,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:h}=a;this.resolvedAt=Nr.now(),UF(t,l,c,d)||((Gs.instantAnimations||!f)&&(h==null||h(dj(t,a,n))),t[0]=t[t.length-1],T1(a),a.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>qF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:t},b=!m&&HF(g)?new zF({...g,element:g.motionValue.owner.current}):new mj(g);b.finished.then(()=>this.notifyFinished()).catch(ma),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),AF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class GF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let a=0;a<this.animations.length;a++)this.animations[a][t]=n}attachTimeline(t){const n=this.animations.map(a=>a.attachTimeline(t));return()=>{n.forEach((a,s)=>{a&&a(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class YF extends GF{then(t,n){return this.finished.finally(t).then(()=>{})}}const WF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XF(e){const t=WF.exec(e);if(!t)return[,];const[,n,a,s]=t;return[`--${n??a}`,s]}function PP(e,t,n=1){const[a,s]=XF(e);if(!a)return;const l=window.getComputedStyle(t).getPropertyValue(a);if(l){const c=l.trim();return YE(c)?parseFloat(c):c}return ij(s)?PP(s,t,n+1):s}function xj(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const OP=new Set(["width","height","top","left","right","bottom",...Wc]),ZF={test:e=>e==="auto",parse:e=>e},MP=e=>t=>t.test(e),DP=[Yc,rt,ss,Bi,HU,VU,ZF],X5=e=>DP.find(MP(e));function QF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||XE(e):!0}const JF=new Set(["brightness","contrast","saturate","opacity"]);function eV(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=n.match(lj)||[];if(!a)return e;const s=n.replace(a,"");let l=JF.has(t)?1:0;return a!==n&&(l*=100),t+"("+l+s+")"}const tV=/\b([a-z-]*)\(.*?\)/gu,E1={...Yi,getAnimatableNone:e=>{const t=e.match(tV);return t?t.map(eV).join(" "):e}},Z5={...Yc,transform:Math.round},nV={rotate:Bi,rotateX:Bi,rotateY:Bi,rotateZ:Bi,scale:lh,scaleX:lh,scaleY:lh,scaleZ:lh,skew:Bi,skewX:Bi,skewY:Bi,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:Jd,originX:I5,originY:I5,originZ:rt},gj={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt,...nV,zIndex:Z5,fillOpacity:Jd,strokeOpacity:Jd,numOctaves:Z5},rV={...gj,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:E1,WebkitFilter:E1},RP=e=>rV[e];function LP(e,t){let n=RP(e);return n!==E1&&(n=Yi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const aV=new Set(["auto","none","0"]);function sV(e,t,n){let a=0,s;for(;a<e.length&&!s;){const l=e[a];typeof l=="string"&&!aV.has(l)&&ef(l).values.length&&(s=e[a]),a++}if(s&&n)for(const l of t)e[l]=LP(n,s)}class iV extends hj{constructor(t,n,a,s,l){super(t,n,a,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),ij(m))){const h=PP(m,n.current);h!==void 0&&(t[f]=h),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!OP.has(a)||t.length!==2)return;const[s,l]=t,c=X5(s),d=X5(l);if(c!==d)if(K5(c)&&K5(d))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else ql[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,a=[];for(let s=0;s<t.length;s++)(t[s]===null||QF(t[s]))&&a.push(s);a.length&&sV(t,a,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ql[a](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const l=a.length-1,c=a[l];a[l]=ql[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function $P(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const s=(n==null?void 0:n[e])??a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const IP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function zP(e){return WE(e)&&"offsetHeight"in e}const Q5=30,lV=e=>!isNaN(parseFloat(e)),Bd={current:void 0};class oV{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var l;const s=Nr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Nr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new nj);const a=this.events[t].add(n);return t==="change"?()=>{a(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Bd.current&&Bd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Q5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Q5);return ZE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jl(e,t){return new oV(e,t)}const{schedule:vj}=uP(queueMicrotask,!1),Ca={x:!1,y:!1};function BP(){return Ca.x||Ca.y}function cV(e){return e==="x"||e==="y"?Ca[e]?null:(Ca[e]=!0,()=>{Ca[e]=!1}):Ca.x||Ca.y?null:(Ca.x=Ca.y=!0,()=>{Ca.x=Ca.y=!1})}function UP(e,t){const n=$P(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[n,s,()=>a.abort()]}function J5(e){return!(e.pointerType==="touch"||BP())}function uV(e,t,n={}){const[a,s,l]=UP(e,n),c=d=>{if(!J5(d))return;const{target:f}=d,m=t(f,d);if(typeof m!="function"||!f)return;const h=x=>{J5(x)&&(m(x),f.removeEventListener("pointerleave",h))};f.addEventListener("pointerleave",h,s)};return a.forEach(d=>{d.addEventListener("pointerenter",c,s)}),l}const FP=(e,t)=>t?e===t?!0:FP(e,t.parentElement):!1,yj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,dV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fV(e){return dV.has(e.tagName)||e.tabIndex!==-1}const c0=new WeakSet;function e3(e){return t=>{t.key==="Enter"&&e(t)}}function Lv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mV=(e,t)=>{const n=e.currentTarget;if(!n)return;const a=e3(()=>{if(c0.has(n))return;Lv(n,"down");const s=e3(()=>{Lv(n,"up")}),l=()=>Lv(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",a,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),t)};function t3(e){return yj(e)&&!BP()}function hV(e,t,n={}){const[a,s,l]=UP(e,n),c=d=>{const f=d.currentTarget;if(!t3(d))return;c0.add(f);const m=t(f,d),h=(b,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",g),c0.has(f)&&c0.delete(f),t3(b)&&typeof m=="function"&&m(b,{success:w})},x=b=>{h(b,f===window||f===document||n.useGlobalTarget||FP(f,b.target))},g=b=>{h(b,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",g,s)};return a.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),zP(d)&&(d.addEventListener("focus",m=>mV(m,s)),!fV(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function bj(e){return WE(e)&&"ownerSVGElement"in e}function VP(e){return bj(e)&&e.tagName==="svg"}function pV(...e){const t=!Array.isArray(e[0]),n=t?0:-1,a=e[0+n],s=e[1+n],l=e[2+n],c=e[3+n],d=jP(s,l,c);return t?d(a):d}const Dn=e=>!!(e&&e.getVelocity),xV=[...DP,gn,Yi],gV=e=>xV.find(MP(e)),Sp=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class vV extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const a=n.offsetParent,s=zP(a)&&a.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yV({children:e,isPresent:t,anchorX:n,root:a}){const s=v.useId(),l=v.useRef(null),c=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=v.useContext(Sp);return v.useInsertionEffect(()=>{const{width:f,height:m,top:h,left:x,right:g}=c.current;if(t||!l.current||!f||!m)return;const b=n==="left"?`left: ${x}`:`right: ${g}`;l.current.dataset.motionPopId=s;const w=document.createElement("style");d&&(w.nonce=d);const j=a??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${h}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[t]),r.jsx(vV,{isPresent:t,childRef:l,sizeRef:c,children:v.cloneElement(e,{ref:l})})}const bV=({children:e,initial:t,isPresent:n,onExitComplete:a,custom:s,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const m=_f(wV),h=v.useId();let x=!0,g=v.useMemo(()=>(x=!1,{id:h,initial:t,isPresent:n,custom:s,onExitComplete:b=>{m.set(b,!0);for(const w of m.values())if(!w)return;a&&a()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,a]);return l&&x&&(g={...g}),v.useMemo(()=>{m.forEach((b,w)=>m.set(w,!1))},[n]),v.useEffect(()=>{!n&&!m.size&&a&&a()},[n]),c==="popLayout"&&(e=r.jsx(yV,{isPresent:n,anchorX:d,root:f,children:e})),r.jsx(jp.Provider,{value:g,children:e})};function wV(){return new Map}function HP(e=!0){const t=v.useContext(jp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:s}=t,l=v.useId();v.useEffect(()=>{if(e)return s(l)},[e]);const c=v.useCallback(()=>e&&a&&a(l),[l,a,e]);return!n&&a?[!1,c]:[!0]}const oh=e=>e.key||"";function n3(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Et=({children:e,custom:t,initial:n=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[m,h]=HP(c),x=v.useMemo(()=>n3(e),[e]),g=c&&!m?[]:x.map(oh),b=v.useRef(!0),w=v.useRef(x),j=_f(()=>new Map),[S,k]=v.useState(x),[_,C]=v.useState(x);Qw(()=>{b.current=!1,w.current=x;for(let E=0;E<_.length;E++){const L=oh(_[E]);g.includes(L)?j.delete(L):j.get(L)!==!0&&j.set(L,!1)}},[_,g.length,g.join("-")]);const P=[];if(x!==S){let E=[...x];for(let L=0;L<_.length;L++){const M=_[L],B=oh(M);g.includes(B)||(E.splice(L,0,M),P.push(M))}return l==="wait"&&P.length&&(E=P),C(n3(E)),k(x),null}const{forceRender:T}=v.useContext(Xw);return r.jsx(r.Fragment,{children:_.map(E=>{const L=oh(E),M=c&&!m?!1:x===_||g.includes(L),B=()=>{if(j.has(L))j.set(L,!0);else return;let K=!0;j.forEach(F=>{F||(K=!1)}),K&&(T==null||T(),C(w.current),c&&(h==null||h()),a&&a())};return r.jsx(bV,{isPresent:M,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:f,onExitComplete:M?void 0:B,anchorX:d,children:E},L)})})},qP=v.createContext({strict:!1}),r3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ac={};for(const e in r3)Ac[e]={isEnabled:t=>r3[e].some(n=>!!t[n])};function jV(e){for(const t in e)Ac[t]={...Ac[t],...e[t]}}const NV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function S0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NV.has(e)}let KP=e=>!S0(e);function SV(e){typeof e=="function"&&(KP=t=>t.startsWith("on")?!S0(t):e(t))}try{SV(require("@emotion/is-prop-valid").default)}catch{}function _V(e,t,n){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(KP(s)||n===!0&&S0(s)||!t&&!S0(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}const _p=v.createContext({});function kp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function nf(e){return typeof e=="string"||Array.isArray(e)}const wj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jj=["initial",...wj];function Cp(e){return kp(e.animate)||jj.some(t=>nf(e[t]))}function GP(e){return!!(Cp(e)||e.variants)}function kV(e,t){if(Cp(e)){const{initial:n,animate:a}=e;return{initial:n===!1||nf(n)?n:void 0,animate:nf(a)?a:void 0}}return e.inherit!==!1?t:{}}function CV(e){const{initial:t,animate:n}=kV(e,v.useContext(_p));return v.useMemo(()=>({initial:t,animate:n}),[a3(t),a3(n)])}function a3(e){return Array.isArray(e)?e.join(" "):e}const rf={};function AV(e){for(const t in e)rf[t]=e[t],sj(t)&&(rf[t].isCSSVariable=!0)}function YP(e,{layout:t,layoutId:n}){return Xc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!rf[e]||e==="opacity")}const TV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EV=Wc.length;function PV(e,t,n){let a="",s=!0;for(let l=0;l<EV;l++){const c=Wc[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=IP(d,gj[c]);if(!f){s=!1;const h=TV[c]||c;a+=`${h}(${m}) `}n&&(t[c]=m)}}return a=a.trim(),n?a=n(t,s?"":a):s&&(a="none"),a}function Nj(e,t,n){const{style:a,vars:s,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const m=t[f];if(Xc.has(f)){c=!0;continue}else if(sj(f)){s[f]=m;continue}else{const h=IP(m,gj[f]);f.startsWith("origin")?(d=!0,l[f]=h):a[f]=h}}if(t.transform||(c||n?a.transform=PV(t,e.transform,n):a.transform&&(a.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:h=0}=l;a.transformOrigin=`${f} ${m} ${h}`}}const Sj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WP(e,t,n){for(const a in t)!Dn(t[a])&&!YP(a,n)&&(e[a]=t[a])}function OV({transformTemplate:e},t){return v.useMemo(()=>{const n=Sj();return Nj(n,t,e),Object.assign({},n.vars,n.style)},[t])}function MV(e,t){const n=e.style||{},a={};return WP(a,n,e),Object.assign(a,OV(e,t)),a}function DV(e,t){const n={},a=MV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const RV={offset:"stroke-dashoffset",array:"stroke-dasharray"},LV={offset:"strokeDashoffset",array:"strokeDasharray"};function $V(e,t,n=1,a=0,s=!0){e.pathLength=1;const l=s?RV:LV;e[l.offset]=rt.transform(-a);const c=rt.transform(t),d=rt.transform(n);e[l.array]=`${c} ${d}`}function XP(e,{attrX:t,attrY:n,attrScale:a,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...d},f,m,h){if(Nj(e,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:g}=e;x.transform&&(g.transform=x.transform,delete x.transform),(g.transform||x.transformOrigin)&&(g.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),a!==void 0&&(x.scale=a),s!==void 0&&$V(x,s,l,c,!1)}const ZP=()=>({...Sj(),attrs:{}}),QP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function IV(e,t,n,a){const s=v.useMemo(()=>{const l=ZP();return XP(l,t,QP(a),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};WP(l,e.style,e),s.style={...l,...s.style}}return s}const zV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _j(e){return typeof e!="string"||e.includes("-")?!1:!!(zV.indexOf(e)>-1||/[A-Z]/u.test(e))}function BV(e,t,n,{latestValues:a},s,l=!1){const d=(_j(e)?IV:DV)(t,a,s,e),f=_V(t,typeof e=="string",l),m=e!==v.Fragment?{...f,...d,ref:n}:{},{children:h}=t,x=v.useMemo(()=>Dn(h)?h.get():h,[h]);return v.createElement(e,{...m,children:x})}function s3(e){const t=[{},{}];return e==null||e.values.forEach((n,a)=>{t[0][a]=n.get(),t[1][a]=n.getVelocity()}),t}function kj(e,t,n,a){if(typeof t=="function"){const[s,l]=s3(a);t=t(n!==void 0?n:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=s3(a);t=t(n!==void 0?n:e.custom,s,l)}return t}function u0(e){return Dn(e)?e.get():e}function UV({scrapeMotionValuesFromProps:e,createRenderState:t},n,a,s){return{latestValues:FV(n,a,s,e),renderState:t()}}function FV(e,t,n,a){const s={},l=a(e,{});for(const g in l)s[g]=u0(l[g]);let{initial:c,animate:d}=e;const f=Cp(e),m=GP(e);t&&m&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let h=n?n.initial===!1:!1;h=h||c===!1;const x=h?d:c;if(x&&typeof x!="boolean"&&!kp(x)){const g=Array.isArray(x)?x:[x];for(let b=0;b<g.length;b++){const w=kj(e,g[b]);if(w){const{transitionEnd:j,transition:S,...k}=w;for(const _ in k){let C=k[_];if(Array.isArray(C)){const P=h?C.length-1:0;C=C[P]}C!==null&&(s[_]=C)}for(const _ in j)s[_]=j[_]}}}return s}const JP=e=>(t,n)=>{const a=v.useContext(_p),s=v.useContext(jp),l=()=>UV(e,t,a,s);return n?l():_f(l)};function Cj(e,t,n){var l;const{style:a}=e,s={};for(const c in a)(Dn(a[c])||t.style&&Dn(t.style[c])||YP(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(s[c]=a[c]);return s}const VV=JP({scrapeMotionValuesFromProps:Cj,createRenderState:Sj});function eO(e,t,n){const a=Cj(e,t,n);for(const s in e)if(Dn(e[s])||Dn(t[s])){const l=Wc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[l]=e[s]}return a}const HV=JP({scrapeMotionValuesFromProps:eO,createRenderState:ZP}),qV=Symbol.for("motionComponentSymbol");function oc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function KV(e,t,n){return v.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),n&&(typeof n=="function"?n(a):oc(n)&&(n.current=a))},[t])}const Aj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GV="framerAppearId",tO="data-"+Aj(GV),nO=v.createContext({});function YV(e,t,n,a,s){var j,S;const{visualElement:l}=v.useContext(_p),c=v.useContext(qP),d=v.useContext(jp),f=v.useContext(Sp).reducedMotion,m=v.useRef(null);a=a||c.renderer,!m.current&&a&&(m.current=a(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const h=m.current,x=v.useContext(nO);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&WV(m.current,n,s,x);const g=v.useRef(!1);v.useInsertionEffect(()=>{h&&g.current&&h.update(n,d)});const b=n[tO],w=v.useRef(!!b&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return Qw(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,b)}),w.current=!1),h.enteringChildren=void 0)}),h}function WV(e,t,n,a){const{layoutId:s,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:rO(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||d&&oc(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:h,layoutScroll:f,layoutRoot:m})}function rO(e){if(e)return e.options.allowProjection!==!1?e.projection:rO(e.parent)}function $v(e,{forwardMotionProps:t=!1}={},n,a){n&&jV(n);const s=_j(e)?HV:VV;function l(d,f){let m;const h={...v.useContext(Sp),...d,layoutId:XV(d)},{isStatic:x}=h,g=CV(d),b=s(d,x);if(!x&&Zw){ZV();const w=QV(h);m=w.MeasureLayout,g.visualElement=YV(e,b,h,a,w.ProjectionNode)}return r.jsxs(_p.Provider,{value:g,children:[m&&g.visualElement?r.jsx(m,{visualElement:g.visualElement,...h}):null,BV(e,d,KV(b,g.visualElement,f),b,x,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=v.forwardRef(l);return c[qV]=e,c}function XV({layoutId:e}){const t=v.useContext(Xw).id;return t&&e!==void 0?t+"-"+e:e}function ZV(e,t){v.useContext(qP).strict}function QV(e){const{drag:t,layout:n}=Ac;if(!t&&!n)return{};const a={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function JV(e,t){if(typeof Proxy>"u")return $v;const n=new Map,a=(l,c)=>$v(l,c,e,t),s=(l,c)=>a(l,c);return new Proxy(s,{get:(l,c)=>c==="create"?a:(n.has(c)||n.set(c,$v(c,void 0,e,t)),n.get(c))})}function aO({top:e,left:t,right:n,bottom:a}){return{x:{min:t,max:n},y:{min:e,max:a}}}function eH({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tH(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function Iv(e){return e===void 0||e===1}function P1({scale:e,scaleX:t,scaleY:n}){return!Iv(e)||!Iv(t)||!Iv(n)}function El(e){return P1(e)||sO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sO(e){return i3(e.x)||i3(e.y)}function i3(e){return e&&e!=="0%"}function _0(e,t,n){const a=e-n,s=t*a;return n+s}function l3(e,t,n,a,s){return s!==void 0&&(e=_0(e,s,a)),_0(e,n,a)+t}function O1(e,t=0,n=1,a,s){e.min=l3(e.min,t,n,a,s),e.max=l3(e.max,t,n,a,s)}function iO(e,{x:t,y:n}){O1(e.x,t.translate,t.scale,t.originPoint),O1(e.y,n.translate,n.scale,n.originPoint)}const o3=.999999999999,c3=1.0000000000001;function nH(e,t,n,a=!1){const s=n.length;if(!s)return;t.x=t.y=1;let l,c;for(let d=0;d<s;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&uc(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,iO(e,c)),a&&El(l.latestValues)&&uc(e,l.latestValues))}t.x<c3&&t.x>o3&&(t.x=1),t.y<c3&&t.y>o3&&(t.y=1)}function cc(e,t){e.min=e.min+t,e.max=e.max+t}function u3(e,t,n,a,s=.5){const l=Wt(e.min,e.max,s);O1(e,t,n,l,a)}function uc(e,t){u3(e.x,t.x,t.scaleX,t.scale,t.originX),u3(e.y,t.y,t.scaleY,t.scale,t.originY)}function lO(e,t){return aO(tH(e.getBoundingClientRect(),t))}function rH(e,t,n){const a=lO(e,n),{scroll:s}=t;return s&&(cc(a.x,s.offset.x),cc(a.y,s.offset.y)),a}const d3=()=>({translate:0,scale:1,origin:0,originPoint:0}),dc=()=>({x:d3(),y:d3()}),f3=()=>({min:0,max:0}),sn=()=>({x:f3(),y:f3()}),M1={current:null},oO={current:!1};function aH(){if(oO.current=!0,!!Zw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>M1.current=e.matches;e.addEventListener("change",t),t()}else M1.current=!1}const af=new WeakMap;function sH(e,t,n){for(const a in t){const s=t[a],l=n[a];if(Dn(s))e.addValue(a,s);else if(Dn(l))e.addValue(a,Jl(s,{owner:e}));else if(l!==s)if(e.hasValue(a)){const c=e.getValue(a);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(a);e.addValue(a,Jl(c!==void 0?c:s,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const m3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cO{scrapeMotionValuesFromProps(t,n,a){return{}}constructor({parent:t,props:n,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Nr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,qt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Cp(n),this.isVariantNode=GP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in x){const b=x[g];f[g]!==void 0&&Dn(b)&&b.set(f[g])}}mount(t){var n;this.current=t,af.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),oO.current||aH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:M1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const a=this.features[n];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Xc.has(t);a&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&qt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ac){const n=Ac[t];if(!n)continue;const{isEnabled:a,Feature:s}=n;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<m3.length;a++){const s=m3[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=sH(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const a=this.values.get(t);n!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&n!==void 0&&(a=Jl(n===null?void 0:n,{owner:this}),this.addValue(t,a)),a}readValue(t,n){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(YE(a)||XE(a))?a=parseFloat(a):!gV(a)&&Yi.test(n)&&(a=LP(t,n)),this.setBaseTarget(t,Dn(a)?a.get():a)),Dn(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=kj(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(a=c[t])}if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Dn(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new nj),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){vj.render(this.render)}}class uO extends cO{constructor(){super(...arguments),this.KeyframeResolver=iV}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:a}){delete n[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Dn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dO(e,{style:t,vars:n},a,s){const l=e.style;let c;for(c in t)l[c]=t[c];s==null||s.applyProjectionStyles(l,a);for(c in n)l.setProperty(c,n[c])}function iH(e){return window.getComputedStyle(e)}class fO extends uO{constructor(){super(...arguments),this.type="html",this.renderInstance=dO}readValueFromInstance(t,n){var a;if(Xc.has(n))return(a=this.projection)!=null&&a.isProjecting?S1(n):NF(t,n);{const s=iH(t),l=(sj(n)?s.getPropertyValue(n):s[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return lO(t,n)}build(t,n,a){Nj(t,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,n,a){return Cj(t,n,a)}}const mO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lH(e,t,n,a){dO(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(mO.has(s)?s:Aj(s),t.attrs[s])}class hO extends uO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Xc.has(n)){const a=RP(n);return a&&a.default||0}return n=mO.has(n)?n:Aj(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,a){return eO(t,n,a)}build(t,n,a){XP(t,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,n,a,s){lH(t,n,a,s)}mount(t){this.isSVGTag=QP(t.tagName),super.mount(t)}}const oH=(e,t)=>_j(e)?new hO(t):new fO(t,{allowProjection:e!==v.Fragment});function gc(e,t,n){const a=e.getProps();return kj(a,t,n!==void 0?n:a.custom,e)}const D1=e=>Array.isArray(e);function cH(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Jl(n))}function uH(e){return D1(e)?e[e.length-1]||0:e}function dH(e,t){const n=gc(e,t);let{transitionEnd:a={},transition:s={},...l}=n||{};l={...l,...a};for(const c in l){const d=uH(l[c]);cH(e,c,d)}}function fH(e){return!!(Dn(e)&&e.add)}function R1(e,t){const n=e.getValue("willChange");if(fH(n))return n.add(t);if(!n&&Gs.WillChange){const a=new Gs.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function pO(e){return e.props[tO]}const mH=e=>e!==null;function hH(e,{repeat:t,repeatType:n="loop"},a){const s=e.filter(mH),l=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[l]}const pH={type:"spring",stiffness:500,damping:25,restSpeed:10},xH=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gH={type:"keyframes",duration:.8},vH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yH=(e,{keyframes:t})=>t.length>2?gH:Xc.has(e)?e.startsWith("scale")?xH(t[1]):pH:vH;function bH({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:m,...h}){return!!Object.keys(h).length}const Tj=(e,t,n,a={},s,l)=>c=>{const d=xj(a,e)||{},f=d.delay||a.delay||0;let{elapsed:m=0}=a;m=m-$a(f);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:g=>{t.set(g),d.onUpdate&&d.onUpdate(g)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:s};bH(d)||Object.assign(h,yH(e,h)),h.duration&&(h.duration=$a(h.duration)),h.repeatDelay&&(h.repeatDelay=$a(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let x=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(T1(h),h.delay===0&&(x=!0)),(Gs.instantAnimations||Gs.skipAnimations)&&(x=!0,T1(h),h.delay=0),h.allowFlatten=!d.type&&!d.ease,x&&!l&&t.get()!==void 0){const g=hH(h.keyframes,d);if(g!==void 0){qt.update(()=>{h.onUpdate(g),h.onComplete()});return}}return d.isSync?new mj(h):new KF(h)};function wH({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function Ej(e,t,{delay:n=0,transitionOverride:a,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;a&&(l=a);const f=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const h in d){const x=e.getValue(h,e.latestValues[h]??null),g=d[h];if(g===void 0||m&&wH(m,h))continue;const b={delay:n,...xj(l||{},h)},w=x.get();if(w!==void 0&&!x.isAnimating&&!Array.isArray(g)&&g===w&&!b.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const k=pO(e);if(k){const _=window.MotionHandoffAnimation(k,h,qt);_!==null&&(b.startTime=_,j=!0)}}R1(e,h),x.start(Tj(h,x,g,e.shouldReduceMotion&&OP.has(h)?{type:!1}:b,e,j));const S=x.animation;S&&f.push(S)}return c&&Promise.all(f).then(()=>{qt.update(()=>{c&&dH(e,c)})}),f}function xO(e,t,n,a=0,s=1){const l=Array.from(e).sort((m,h)=>m.sortNodePosition(h)).indexOf(t),c=e.size,d=(c-1)*a;return typeof n=="function"?n(l,c):s===1?l*a:d-l*a}function L1(e,t,n={}){var f;const a=gc(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const l=a?()=>Promise.all(Ej(e,a,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:h=0,staggerChildren:x,staggerDirection:g}=s;return jH(e,t,m,h,x,g,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[m,h]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>h())}else return Promise.all([l(),c(n.delay)])}function jH(e,t,n=0,a=0,s=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(L1(f,t,{...c,delay:n+(typeof a=="function"?0:a)+xO(e.variantChildren,f,a,s,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function NH(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(l=>L1(e,l,n));a=Promise.all(s)}else if(typeof t=="string")a=L1(e,t,n);else{const s=typeof t=="function"?gc(e,t,n.custom):t;a=Promise.all(Ej(e,s,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}function gO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0}const SH=jj.length;function vO(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?vO(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<SH;n++){const a=jj[n],s=e.props[a];(nf(s)||s===!1)&&(t[a]=s)}return t}const _H=[...wj].reverse(),kH=wj.length;function CH(e){return t=>Promise.all(t.map(({animation:n,options:a})=>NH(e,n,a)))}function AH(e){let t=CH(e),n=h3(),a=!0;const s=f=>(m,h)=>{var g;const x=gc(e,h,f==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(x){const{transition:b,transitionEnd:w,...j}=x;m={...m,...j,...w}}return m};function l(f){t=f(e)}function c(f){const{props:m}=e,h=vO(e.parent)||{},x=[],g=new Set;let b={},w=1/0;for(let S=0;S<kH;S++){const k=_H[S],_=n[k],C=m[k]!==void 0?m[k]:h[k],P=nf(C),T=k===f?_.isActive:null;T===!1&&(w=S);let E=C===h[k]&&C!==m[k]&&P;if(E&&a&&e.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...b},!_.isActive&&T===null||!C&&!_.prevProp||kp(C)||typeof C=="boolean")continue;const L=TH(_.prevProp,C);let M=L||k===f&&_.isActive&&!E&&P||S>w&&P,B=!1;const K=Array.isArray(C)?C:[C];let F=K.reduce(s(k),{});T===!1&&(F={});const{prevResolvedValues:U={}}=_,te={...U,...F},we=G=>{M=!0,g.has(G)&&(B=!0,g.delete(G)),_.needsAnimating[G]=!0;const H=e.getValue(G);H&&(H.liveStyle=!1)};for(const G in te){const H=F[G],I=U[G];if(b.hasOwnProperty(G))continue;let A=!1;D1(H)&&D1(I)?A=!gO(H,I):A=H!==I,A?H!=null?we(G):g.add(G):H!==void 0&&g.has(G)?we(G):_.protectedKeys[G]=!0}_.prevProp=C,_.prevResolvedValues=F,_.isActive&&(b={...b,...F}),a&&e.blockInitialAnimation&&(M=!1);const re=E&&L;M&&(!re||B)&&x.push(...K.map(G=>{const H={type:k};if(typeof G=="string"&&a&&!re&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,A=gc(I,G);if(I.enteringChildren&&A){const{delayChildren:D}=A.transition||{};H.delay=xO(I.enteringChildren,e,D)}}return{animation:G,options:H}}))}if(g.size){const S={};if(typeof m.initial!="boolean"){const k=gc(e,Array.isArray(m.initial)?m.initial[0]:m.initial);k&&k.transition&&(S.transition=k.transition)}g.forEach(k=>{const _=e.getBaseTarget(k),C=e.getValue(k);C&&(C.liveStyle=!0),S[k]=_??null}),x.push({animation:S})}let j=!!x.length;return a&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(j=!1),a=!1,j?t(x):Promise.resolve()}function d(f,m){var x;if(n[f].isActive===m)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(g=>{var b;return(b=g.animationState)==null?void 0:b.setActive(f,m)}),n[f].isActive=m;const h=c(f);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=h3(),a=!0}}}function TH(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gO(t,e):!1}function jl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h3(){return{animate:jl(!0),whileInView:jl(),whileHover:jl(),whileTap:jl(),whileDrag:jl(),whileFocus:jl(),exit:jl()}}class Ji{constructor(t){this.isMounted=!1,this.node=t}update(){}}class EH extends Ji{constructor(t){super(t),t.animationState||(t.animationState=AH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();kp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let PH=0;class OH extends Ji{constructor(){super(...arguments),this.id=PH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const MH={animation:{Feature:EH},exit:{Feature:OH}};function sf(e,t,n,a={passive:!0}){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n)}function Tf(e){return{point:{x:e.pageX,y:e.pageY}}}const DH=e=>t=>yj(t)&&e(t,Tf(t));function Ud(e,t,n,a){return sf(e,t,DH(n),a)}const yO=1e-4,RH=1-yO,LH=1+yO,bO=.01,$H=0-bO,IH=0+bO;function cr(e){return e.max-e.min}function zH(e,t,n){return Math.abs(e-t)<=n}function p3(e,t,n,a=.5){e.origin=a,e.originPoint=Wt(t.min,t.max,e.origin),e.scale=cr(n)/cr(t),e.translate=Wt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=RH&&e.scale<=LH||isNaN(e.scale))&&(e.scale=1),(e.translate>=$H&&e.translate<=IH||isNaN(e.translate))&&(e.translate=0)}function Fd(e,t,n,a){p3(e.x,t.x,n.x,a?a.originX:void 0),p3(e.y,t.y,n.y,a?a.originY:void 0)}function x3(e,t,n){e.min=n.min+t.min,e.max=e.min+cr(t)}function BH(e,t,n){x3(e.x,t.x,n.x),x3(e.y,t.y,n.y)}function g3(e,t,n){e.min=t.min-n.min,e.max=e.min+cr(t)}function Vd(e,t,n){g3(e.x,t.x,n.x),g3(e.y,t.y,n.y)}function ca(e){return[e("x"),e("y")]}const wO=({current:e})=>e?e.ownerDocument.defaultView:null,v3=(e,t)=>Math.abs(e-t);function UH(e,t){const n=v3(e.x,t.x),a=v3(e.y,t.y);return Math.sqrt(n**2+a**2)}class jO{constructor(t,n,{transformPagePoint:a,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Bv(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=UH(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:j}=g,{timestamp:S}=Vn;this.history.push({...j,timestamp:S});const{onStart:k,onMove:_}=this.handlers;b||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=zv(b,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Bv(g.type==="pointercancel"?this.lastMoveEventInfo:zv(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,k),j&&j(g,k)},!yj(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=a,this.distanceThreshold=c,this.contextWindow=s||window;const d=Tf(t),f=zv(d,this.transformPagePoint),{point:m}=f,{timestamp:h}=Vn;this.history=[{...m,timestamp:h}];const{onSessionStart:x}=n;x&&x(t,Bv(f,this.history)),this.removeListeners=kf(Ud(this.contextWindow,"pointermove",this.handlePointerMove),Ud(this.contextWindow,"pointerup",this.handlePointerUp),Ud(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function zv(e,t){return t?{point:t(e.point)}:e}function y3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bv({point:e},t){return{point:e,delta:y3(e,NO(t)),offset:y3(e,FH(t)),velocity:VH(t,.1)}}function FH(e){return e[0]}function NO(e){return e[e.length-1]}function VH(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const s=NO(e);for(;n>=0&&(a=e[n],!(s.timestamp-a.timestamp>$a(t)));)n--;if(!a)return{x:0,y:0};const l=as(s.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-a.x)/l,y:(s.y-a.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function HH(e,{min:t,max:n},a){return t!==void 0&&e<t?e=a?Wt(t,e,a.min):Math.max(e,t):n!==void 0&&e>n&&(e=a?Wt(n,e,a.max):Math.min(e,n)),e}function b3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function qH(e,{top:t,left:n,bottom:a,right:s}){return{x:b3(e.x,n,s),y:b3(e.y,t,a)}}function w3(e,t){let n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function KH(e,t){return{x:w3(e.x,t.x),y:w3(e.y,t.y)}}function GH(e,t){let n=.5;const a=cr(e),s=cr(t);return s>a?n=Cc(t.min,t.max-a,e.min):a>s&&(n=Cc(e.min,e.max-s,t.min)),Ks(0,1,n)}function YH(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const $1=.35;function WH(e=$1){return e===!1?e=0:e===!0&&(e=$1),{x:j3(e,"left","right"),y:j3(e,"top","bottom")}}function j3(e,t,n){return{min:N3(e,t),max:N3(e,n)}}function N3(e,t){return typeof e=="number"?e:e[t]||0}const XH=new WeakMap;class ZH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:a}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tf(x).point)},c=(x,g)=>{const{drag:b,dragPropagation:w,onDragStart:j}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cV(b),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ca(k=>{let _=this.getAxisMotionValue(k).get()||0;if(ss.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const P=C.layout.layoutBox[k];P&&(_=cr(P)*(parseFloat(_)/100))}}this.originPoint[k]=_}),j&&qt.postRender(()=>j(x,g)),R1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:j,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:k}=g;if(w&&this.currentDirection===null){this.currentDirection=QH(k),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),S&&S(x,g)},f=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g,this.stop(x,g),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ca(x=>{var g;return this.getAnimationState(x)==="paused"&&((g=this.getAxisMotionValue(x).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new jO(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:a,contextWindow:wO(this.visualElement)})}stop(t,n){const a=t||this.latestPointerEvent,s=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!a)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&qt.postRender(()=>d(a,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,a){const{drag:s}=this.getProps();if(!a||!ch(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(c=HH(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;t&&oc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=qH(a.layoutBox,t):this.constraints=!1,this.elastic=WH(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ca(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=YH(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!oc(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=rH(a,s.root,this.visualElement.getTransformPagePoint());let c=KH(s.layout.layoutBox,l);if(n){const d=n(eH(c));this.hasMutatedConstraints=!!d,d&&(c=aO(d))}return c}startAnimation(t){const{drag:n,dragMomentum:a,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=ca(h=>{if(!ch(h,n,this.currentDirection))return;let x=f&&f[h]||{};c&&(x={min:0,max:0});const g=s?200:1e6,b=s?40:1e7,w={type:"inertia",velocity:a?t[h]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(h,w)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const a=this.getAxisMotionValue(t);return R1(this.visualElement,t),a.start(Tj(t,a,0,n,this.visualElement,!1))}stopAnimation(){ca(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ca(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[n];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){ca(n=>{const{drag:a}=this.getProps();if(!ch(n,a,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[n];l.set(t[n]-Wt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!oc(n)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ca(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();s[c]=GH({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),ca(c=>{if(!ch(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Wt(f,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;XH.set(this.visualElement,this);const t=this.visualElement.current,n=Ud(t,"pointerdown",f=>{const{drag:m,dragListener:h=!0}=this.getProps();m&&h&&this.start(f)}),a=()=>{const{dragConstraints:f}=this.getProps();oc(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),qt.read(a);const c=sf(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(ca(h=>{const x=this.getAxisMotionValue(h);x&&(this.originPoint[h]+=f[h].translate,x.set(x.get()+f[h].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=$1,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:a,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function ch(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function QH(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JH extends Ji{constructor(t){super(t),this.removeGroupControls=ma,this.removeListeners=ma,this.controls=new ZH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ma}unmount(){this.removeGroupControls(),this.removeListeners()}}const S3=e=>(t,n)=>{e&&qt.postRender(()=>e(t,n))};class eq extends Ji{constructor(){super(...arguments),this.removePointerDownListener=ma}onPointerDown(t){this.session=new jO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:S3(t),onStart:S3(n),onMove:a,onEnd:(l,c)=>{delete this.session,s&&qt.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=Ud(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const d0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rt.test(e))e=parseFloat(e);else return e;const n=_3(e,t.target.x),a=_3(e,t.target.y);return`${n}% ${a}%`}},tq={correct:(e,{treeScale:t,projectionDelta:n})=>{const a=e,s=Yi.parse(e);if(s.length>5)return a;const l=Yi.createTransformer(e),c=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;s[0+c]/=d,s[1+c]/=f;const m=Wt(d,f,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),l(s)}};let Uv=!1;class nq extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a,layoutId:s}=this.props,{projection:l}=t;AV(rq),l&&(n.group&&n.group.add(l),a&&a.register&&s&&a.register(l),Uv&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),d0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:a,drag:s,isPresent:l}=this.props,{projection:c}=a;return c&&(c.isPresent=l,Uv=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||qt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:s}=t;Uv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SO(e){const[t,n]=HP(),a=v.useContext(Xw);return r.jsx(nq,{...e,layoutGroup:a,switchLayoutGroup:v.useContext(nO),isPresent:t,safeToRemove:n})}const rq={borderRadius:{...sd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sd,borderTopRightRadius:sd,borderBottomLeftRadius:sd,borderBottomRightRadius:sd,boxShadow:tq};function _O(e,t,n){const a=Dn(e)?e:Jl(e);return a.start(Tj("",a,t,n)),a.animation}const aq=(e,t)=>e.depth-t.depth;class sq{constructor(){this.children=[],this.isDirty=!1}add(t){Jw(this.children,t),this.isDirty=!0}remove(t){Np(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aq),this.isDirty=!1,this.children.forEach(t)}}function iq(e,t){const n=Nr.now(),a=({timestamp:s})=>{const l=s-n;l>=t&&(Ys(a),e(l-t))};return qt.setup(a,!0),()=>Ys(a)}const kO=["TopLeft","TopRight","BottomLeft","BottomRight"],lq=kO.length,k3=e=>typeof e=="string"?parseFloat(e):e,C3=e=>typeof e=="number"||rt.test(e);function oq(e,t,n,a,s,l){s?(e.opacity=Wt(0,n.opacity??1,cq(a)),e.opacityExit=Wt(t.opacity??1,0,uq(a))):l&&(e.opacity=Wt(t.opacity??1,n.opacity??1,a));for(let c=0;c<lq;c++){const d=`border${kO[c]}Radius`;let f=A3(t,d),m=A3(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||C3(f)===C3(m)?(e[d]=Math.max(Wt(k3(f),k3(m),a),0),(ss.test(m)||ss.test(f))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=Wt(t.rotate||0,n.rotate||0,a))}function A3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cq=CO(0,.5,aP),uq=CO(.5,.95,ma);function CO(e,t,n){return a=>a<e?0:a>t?1:n(Cc(e,t,a))}function T3(e,t){e.min=t.min,e.max=t.max}function aa(e,t){T3(e.x,t.x),T3(e.y,t.y)}function E3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function P3(e,t,n,a,s){return e-=t,e=_0(e,1/n,a),s!==void 0&&(e=_0(e,1/s,a)),e}function dq(e,t=0,n=1,a=.5,s,l=e,c=e){if(ss.test(t)&&(t=parseFloat(t),t=Wt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Wt(l.min,l.max,a);e===l&&(d-=t),e.min=P3(e.min,t,n,d,s),e.max=P3(e.max,t,n,d,s)}function O3(e,t,[n,a,s],l,c){dq(e,t[n],t[a],t[s],t.scale,l,c)}const fq=["x","scaleX","originX"],mq=["y","scaleY","originY"];function M3(e,t,n,a){O3(e.x,t,fq,n?n.x:void 0,a?a.x:void 0),O3(e.y,t,mq,n?n.y:void 0,a?a.y:void 0)}function D3(e){return e.translate===0&&e.scale===1}function AO(e){return D3(e.x)&&D3(e.y)}function R3(e,t){return e.min===t.min&&e.max===t.max}function hq(e,t){return R3(e.x,t.x)&&R3(e.y,t.y)}function L3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function TO(e,t){return L3(e.x,t.x)&&L3(e.y,t.y)}function $3(e){return cr(e.x)/cr(e.y)}function I3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class pq{constructor(){this.members=[]}add(t){Jw(this.members,t),t.scheduleRender()}remove(t){if(Np(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let a;for(let s=n;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(t,n){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,n&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:a}=t;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xq(e,t,n){let a="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((s||l||c)&&(a=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:h,rotateX:x,rotateY:g,skewX:b,skewY:w}=n;m&&(a=`perspective(${m}px) ${a}`),h&&(a+=`rotate(${h}deg) `),x&&(a+=`rotateX(${x}deg) `),g&&(a+=`rotateY(${g}deg) `),b&&(a+=`skewX(${b}deg) `),w&&(a+=`skewY(${w}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(a+=`scale(${d}, ${f})`),a||"none"}const Fv=["","X","Y","Z"],gq=1e3;let vq=0;function Vv(e,t,n,a){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function EO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=pO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",qt,!(s||l))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&EO(a)}function PO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(c={},d=t==null?void 0:t()){this.id=vq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wq),this.nodes.forEach(_q),this.nodes.forEach(kq),this.nodes.forEach(jq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new sq)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new nj),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=bj(c)&&!VP(c),this.instance=c;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let h,x=0;const g=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{x=window.innerWidth}),e(c,()=>{const b=window.innerWidth;b!==x&&(x=b,this.root.updateBlockedByResize=!0,h&&h(),h=iq(g,250),d0.hasAnimatedSinceResize&&(d0.hasAnimatedSinceResize=!1,this.nodes.forEach(U3)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||Pq,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=m.getProps(),k=!this.targetLayout||!TO(this.targetLayout,b),_=!x&&g;if(this.options.layoutRoot||this.resumeFrom||_||x&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...xj(w,"layout"),onPlay:j,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(h,_)}else x||U3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Cq),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&EO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const x=this.path[h];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(B3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Sq),this.nodes.forEach(yq),this.nodes.forEach(bq)):this.nodes.forEach(B3),this.clearAllSnapshots();const d=Nr.now();Vn.delta=Ks(0,1e3/60,d-Vn.timestamp),Vn.timestamp=d,Vn.isProcessing=!0,Pv.update.process(Vn),Pv.preRender.process(Vn),Pv.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nq),this.sharedNodes.forEach(Aq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cr(this.snapshot.measuredBox.x)&&!cr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!AO(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,h=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||El(this.latestValues)||h)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),Oq(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return sn();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(Mq))){const{scroll:h}=this.root;h&&(cc(d.x,h.offset.x),cc(d.y,h.offset.y))}return d}removeElementScroll(c){var f;const d=sn();if(aa(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const h=this.path[m],{scroll:x,options:g}=h;h!==this.root&&x&&g.layoutScroll&&(x.wasRoot&&aa(d,c),cc(d.x,x.offset.x),cc(d.y,x.offset.y))}return d}applyTransform(c,d=!1){const f=sn();aa(f,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];!d&&h.options.layoutScroll&&h.scroll&&h!==h.root&&uc(f,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),El(h.latestValues)&&uc(f,h.latestValues)}return El(this.latestValues)&&uc(f,this.latestValues),f}removeTransform(c){const d=sn();aa(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!El(m.latestValues))continue;P1(m.latestValues)&&m.updateSnapshot();const h=sn(),x=m.measurePageBox();aa(h,x),M3(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,h)}return El(this.latestValues)&&M3(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Vd(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),aa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):aa(this.target,this.layout.layoutBox),iO(this.target,this.targetDelta)):aa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Vd(this.relativeTargetOrigin,this.target,b.target),aa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||P1(this.parent.latestValues)||sO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;aa(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,g=this.treeScale.y;nH(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=sn());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E3(this.prevProjectionDelta.x,this.projectionDelta.x),E3(this.prevProjectionDelta.y,this.projectionDelta.y)),Fd(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==g||!I3(this.projectionDelta.x,this.prevProjectionDelta.x)||!I3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dc(),this.projectionDelta=dc(),this.projectionDeltaWithTransform=dc()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},h={...this.latestValues},x=dc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const g=sn(),b=f?f.source:void 0,w=this.layout?this.layout.source:void 0,j=b!==w,S=this.getStack(),k=!S||S.members.length<=1,_=!!(j&&!k&&this.options.crossfade===!0&&!this.path.some(Eq));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const T=P/1e3;F3(x.x,c.x,T),F3(x.y,c.y,T),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Tq(this.relativeTarget,this.relativeTargetOrigin,g,T),C&&hq(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=sn()),aa(C,this.relativeTarget)),j&&(this.animationValues=h,oq(h,m,this.latestValues,T,_,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{d0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jl(0)),this.currentAnimation=_O(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:h}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&OO(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||sn();const x=cr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const g=cr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+g}aa(d,f),uc(d,h),Fd(this.projectionDeltaWithTransform,this.layoutCorrected,d,h)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new pq),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Vv("z",c,m,this.animationValues);for(let h=0;h<Fv.length;h++)Vv(`rotate${Fv[h]}`,c,m,this.animationValues),Vv(`skew${Fv[h]}`,c,m,this.animationValues);c.render();for(const h in m)c.setStaticValue(h,m[h]),this.animationValues&&(this.animationValues[h]=m[h]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=u0(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=u0(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!El(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const h=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=xq(this.projectionDeltaWithTransform,this.treeScale,h);f&&(x=f(h,x)),c.transform=x;const{x:g,y:b}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,m.animationValues?c.opacity=m===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in rf){if(h[w]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:k}=rf[w],_=x==="none"?h[w]:j(h[w],m);if(S){const C=S.length;for(let P=0;P<C;P++)c[S[P]]=_}else k?this.options.visualElement.renderState.vars[w]=_:c[w]=_}this.options.layoutId&&(c.pointerEvents=m===this?u0(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(z3),this.root.sharedNodes.clear()}}}function yq(e){e.updateLayout()}function bq(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?ca(x=>{const g=c?t.measuredBox[x]:t.layoutBox[x],b=cr(g);g.min=a[x].min,g.max=g.min+b}):OO(l,t.layoutBox,a)&&ca(x=>{const g=c?t.measuredBox[x]:t.layoutBox[x],b=cr(a[x]);g.max=g.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+b)});const d=dc();Fd(d,a,t.layoutBox);const f=dc();c?Fd(f,e.applyTransform(s,!0),t.measuredBox):Fd(f,a,t.layoutBox);const m=!AO(d);let h=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:g,layout:b}=x;if(g&&b){const w=sn();Vd(w,t.layoutBox,g.layoutBox);const j=sn();Vd(j,a,b.layoutBox),TO(w,j)||(h=!0),x.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=w,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function wq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Nq(e){e.clearSnapshot()}function z3(e){e.clearMeasurements()}function B3(e){e.isLayoutDirty=!1}function Sq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function U3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _q(e){e.resolveTargetDelta()}function kq(e){e.calcProjection()}function Cq(e){e.resetSkewAndRotation()}function Aq(e){e.removeLeadSnapshot()}function F3(e,t,n){e.translate=Wt(t.translate,0,n),e.scale=Wt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function V3(e,t,n,a){e.min=Wt(t.min,n.min,a),e.max=Wt(t.max,n.max,a)}function Tq(e,t,n,a){V3(e.x,t.x,n.x,a),V3(e.y,t.y,n.y,a)}function Eq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Pq={duration:.45,ease:[.4,0,.1,1]},H3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),q3=H3("applewebkit/")&&!H3("chrome/")?Math.round:ma;function K3(e){e.min=q3(e.min),e.max=q3(e.max)}function Oq(e){K3(e.x),K3(e.y)}function OO(e,t,n){return e==="position"||e==="preserve-aspect"&&!zH($3(t),$3(n),.2)}function Mq(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Dq=PO({attachResizeListener:(e,t)=>sf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hv={current:void 0},MO=PO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hv.current){const e=new Dq({});e.mount(window),e.setOptions({layoutScroll:!0}),Hv.current=e}return Hv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Rq={pan:{Feature:eq},drag:{Feature:JH,ProjectionNode:MO,MeasureLayout:SO}};function G3(e,t,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,l=a[s];l&&qt.postRender(()=>l(t,Tf(t)))}class Lq extends Ji{mount(){const{current:t}=this.node;t&&(this.unmount=uV(t,(n,a)=>(G3(this.node,a,"Start"),s=>G3(this.node,s,"End"))))}unmount(){}}class $q extends Ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kf(sf(this.node.current,"focus",()=>this.onFocus()),sf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Y3(e,t,n){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),l=a[s];l&&qt.postRender(()=>l(t,Tf(t)))}class Iq extends Ji{mount(){const{current:t}=this.node;t&&(this.unmount=hV(t,(n,a)=>(Y3(this.node,a,"Start"),(s,{success:l})=>Y3(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const I1=new WeakMap,qv=new WeakMap,zq=e=>{const t=I1.get(e.target);t&&t(e)},Bq=e=>{e.forEach(zq)};function Uq({root:e,...t}){const n=e||document;qv.has(n)||qv.set(n,{});const a=qv.get(n),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(Bq,{root:e,...t})),a[s]}function Fq(e,t,n){const a=Uq(t);return I1.set(e,n),a.observe(e),()=>{I1.delete(e),a.unobserve(e)}}const Vq={some:0,all:1};class Hq extends Ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:a,amount:s="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:Vq[s]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:h,onViewportLeave:x}=this.node.getProps(),g=m?h:x;g&&g(f)};return Fq(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(qq(t,n))&&this.startObserver()}unmount(){}}function qq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Kq={inView:{Feature:Hq},tap:{Feature:Iq},focus:{Feature:$q},hover:{Feature:Lq}},Gq={layout:{ProjectionNode:MO,MeasureLayout:SO}},Yq={...MH,...Kq,...Rq,...Gq},he=JV(Yq,oH);function Tc(e){const t=_f(()=>Jl(e)),{isStatic:n}=v.useContext(Sp);if(n){const[,a]=v.useState(e);v.useEffect(()=>t.on("change",a),[])}return t}function DO(e,t){const n=Tc(t()),a=()=>n.set(t());return a(),Qw(()=>{const s=()=>qt.preRender(a,!1,!0),l=e.map(c=>c.on("change",s));return()=>{l.forEach(c=>c()),Ys(a)}}),n}function Wq(e){Bd.current=[],e();const t=DO(Bd.current,e);return Bd.current=void 0,t}function k0(e,t,n,a){if(typeof e=="function")return Wq(e);const s=typeof t=="function"?t:pV(t,n,a);return Array.isArray(e)?W3(e,s):W3([e],([l])=>s(l))}function W3(e,t){const n=_f(()=>[]);return DO(e,()=>{n.length=0;const a=e.length;for(let s=0;s<a;s++)n[s]=e[s].get();return t(n)})}function Pj(e){return typeof e=="object"&&!Array.isArray(e)}function RO(e,t,n,a){return typeof e=="string"&&Pj(t)?$P(e,n,a):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Xq(e,t,n){return e*(t+1)}function X3(e,t,n,a){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):a.get(t)??e}function Zq(e,t,n){for(let a=0;a<e.length;a++){const s=e[a];s.at>t&&s.at<n&&(Np(e,s),a--)}}function Qq(e,t,n,a,s,l){Zq(e,s,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:Wt(s,l,a[c]),easing:oP(n,c)})}function Jq(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function eK(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const tK="easeInOut";function nK(e,{defaultTransition:t={},...n}={},a,s){const l=t.duration||.3,c=new Map,d=new Map,f={},m=new Map;let h=0,x=0,g=0;for(let b=0;b<e.length;b++){const w=e[b];if(typeof w=="string"){m.set(w,x);continue}else if(!Array.isArray(w)){m.set(w.name,X3(x,w.at,h,m));continue}let[j,S,k={}]=w;k.at!==void 0&&(x=X3(x,k.at,h,m));let _=0;const C=(P,T,E,L=0,M=0)=>{const B=rK(P),{delay:K=0,times:F=SP(B),type:U="keyframes",repeat:te,repeatType:we,repeatDelay:re=0,...R}=T;let{ease:G=t.ease||"easeOut",duration:H}=T;const I=typeof K=="function"?K(L,M):K,A=B.length,D=pj(U)?U:s==null?void 0:s[U||"keyframes"];if(A<=2&&D){let Q=100;if(A===2&&iK(B)){const se=B[1]-B[0];Q=Math.abs(se)}const Z={...R};H!==void 0&&(Z.duration=$a(H));const je=bP(Z,Q,D);G=je.ease,H=je.duration}H??(H=l);const $=x+I;F.length===1&&F[0]===0&&(F[1]=1);const W=F.length-B.length;if(W>0&&NP(F,W),B.length===1&&B.unshift(null),te){H=Xq(H,te);const Q=[...B],Z=[...F];G=Array.isArray(G)?[...G]:[G];const je=[...G];for(let se=0;se<te;se++){B.push(...Q);for(let be=0;be<Q.length;be++)F.push(Z[be]+(se+1)),G.push(be===0?"linear":oP(je,be-1))}Jq(F,te)}const ce=$+H;Qq(E,B,G,F,$,ce),_=Math.max(I+H,_),g=Math.max(ce,g)};if(Dn(j)){const P=Z3(j,d);C(S,k,Q3("default",P))}else{const P=RO(j,S,a,f),T=P.length;for(let E=0;E<T;E++){S=S,k=k;const L=P[E],M=Z3(L,d);for(const B in S)C(S[B],aK(k,B),Q3(B,M),E,T)}}h=x,x+=_}return d.forEach((b,w)=>{for(const j in b){const S=b[j];S.sort(eK);const k=[],_=[],C=[];for(let T=0;T<S.length;T++){const{at:E,value:L,easing:M}=S[T];k.push(L),_.push(Cc(0,g,E)),C.push(M||"easeOut")}_[0]!==0&&(_.unshift(0),k.unshift(k[0]),C.unshift(tK)),_[_.length-1]!==1&&(_.push(1),k.push(null)),c.has(w)||c.set(w,{keyframes:{},transition:{}});const P=c.get(w);P.keyframes[j]=k,P.transition[j]={...t,duration:g,ease:C,times:_,...n}}}),c}function Z3(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Q3(e,t){return t[e]||(t[e]=[]),t[e]}function rK(e){return Array.isArray(e)?e:[e]}function aK(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const sK=e=>typeof e=="number",iK=e=>e.every(sK);function lK(e,t){return e in t}class oK extends cO{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(lK(n,t)){const a=t[n];if(typeof a=="string"||typeof a=="number")return a}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return sn()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function cK(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=bj(e)&&!VP(e)?new hO(t):new fO(t);n.mount(e),af.set(e,n)}function uK(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new oK(t);n.mount(e),af.set(e,n)}function dK(e,t){return Dn(e)||typeof e=="number"||typeof e=="string"&&!Pj(t)}function LO(e,t,n,a){const s=[];if(dK(e,t))s.push(_O(e,Pj(t)&&t.default||t,n&&(n.default||n)));else{const l=RO(e,t,a),c=l.length;for(let d=0;d<c;d++){const f=l[d],m=f instanceof Element?cK:uK;af.has(f)||m(f);const h=af.get(f),x={...n};"delay"in x&&typeof x.delay=="function"&&(x.delay=x.delay(d,c)),s.push(...Ej(h,{...t,transition:x},{}))}}return s}function fK(e,t,n){const a=[];return nK(e,t,n,{spring:tf}).forEach(({keyframes:l,transition:c},d)=>{a.push(...LO(d,l,c))}),a}function mK(e){return Array.isArray(e)&&e.some(Array.isArray)}function hK(e){function t(n,a,s){let l=[];return mK(n)?l=fK(n,a,e):l=LO(n,a,s,e),new YF(l)}return t}const pK=hK(),xK="https://aisdr-dbt.ddns.net";function gK({isOpen:e,onSuccess:t}){const[n,a]=v.useState(""),[s,l]=v.useState(""),[c,d]=v.useState(!1),[f,m]=v.useState(!1),[h,x]=v.useState(!0),[g,b]=v.useState(!1);if(!e)return null;const w=async j=>{if(j.preventDefault(),!n.trim()||!s.trim()){V.error("Please enter both Account SID and Auth Token.");return}const S=localStorage.getItem("token");if(!S){V.error("You must be logged in."),window.location.href="/login";return}b(!0);try{const k=await fetch(`${xK}/api/twilio/credentials`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({account_sid:n.trim(),auth_token:s.trim(),validate:h})}),_=await k.json().catch(()=>({}));if(k.ok)V.success("Twilio credentials saved "),t==null||t();else{const C=(_==null?void 0:_.detail)||(_==null?void 0:_.message)||(typeof _=="string"?_:"Failed to save Twilio credentials.");V.error(C)}}catch{V.error("Network error. Please try again.")}finally{b(!1)}};return r.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm"}),r.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-50",children:r.jsx(_c,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Connect Twilio"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Enter your Twilio Account SID and Auth Token to continue."})]})]}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Account SID"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:c?"text":"password",autoComplete:"off",value:n,onChange:j=>a(j.target.value),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),r.jsx("button",{type:"button",onClick:()=>d(j=>!j),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":c?"Hide SID":"Show SID",children:c?r.jsx(Sc,{className:"h-5 w-5"}):r.jsx(Sn,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Auth Token"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:f?"text":"password",autoComplete:"off",value:s,onChange:j=>l(j.target.value),placeholder:"",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),r.jsx("button",{type:"button",onClick:()=>m(j=>!j),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":f?"Hide Token":"Show Token",children:f?r.jsx(Sc,{className:"h-5 w-5"}):r.jsx(Sn,{className:"h-5 w-5"})})]})]}),r.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-blue-600",checked:h,onChange:j=>x(j.target.checked)}),r.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]}),r.jsx("button",{type:"submit",disabled:g,className:"group relative flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 py-3 font-semibold text-white shadow-lg transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60",children:g?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Saving"]}):r.jsxs(r.Fragment,{children:["Save & Continue",r.jsx(Td,{className:"h-4 w-4 transition group-hover:translate-x-0.5"})]})}),r.jsx("p",{className:"text-xs text-slate-500",children:"We store your credentials on your user record and use them only to manage your Twilio numbers on your behalf."})]})]})]})}const J3="https://aisdr-dbt.ddns.net";function vK(){const[e,t]=v.useState(["","","",""]),[n,a]=v.useState(""),[s,l]=v.useState(!1),[c,d]=v.useState(0),[f,m]=v.useState(!1),h=[v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null)],x=Gt();v.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("email");C&&a(decodeURIComponent(C)),setTimeout(()=>{var P;return(P=h[0].current)==null?void 0:P.focus()},50)},[]),v.useEffect(()=>{if(c>0){const _=setTimeout(()=>d(C=>C-1),1e3);return()=>clearTimeout(_)}},[c]);const g=(_,C)=>{var E;const P=C.replace(/\D/g,"");if(P.length>1)return;const T=[...e];T[_]=P,t(T),P&&_<3&&((E=h[_+1].current)==null||E.focus()),T.every(L=>L!=="")&&T.join("").length===4&&j(T.join(""))},b=(_,C)=>{var P,T,E;C.key==="Backspace"&&!e[_]&&_>0&&((P=h[_-1].current)==null||P.focus()),C.key==="Enter"&&j(e.join("")),C.key==="ArrowLeft"&&_>0&&((T=h[_-1].current)==null||T.focus()),C.key==="ArrowRight"&&_<3&&((E=h[_+1].current)==null||E.focus())},w=_=>{var E,L;_.preventDefault();const C=_.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(!C)return;const P=["","","",""];for(let M=0;M<C.length;M++)P[M]=C[M];t(P);const T=P.findIndex(M=>M==="");T!==-1?(E=h[T].current)==null||E.focus():(L=h[3].current)==null||L.focus(),P.every(M=>M!=="")&&j(P.join(""))},j=async(_=null)=>{var P,T,E;const C=_||e.join("");if(C.length!==4){V.error("Please enter all 4 digits");return}if(!n){V.error("Email is required for verification");return}l(!0);try{const L=await fetch(`${J3}/api/account-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:C,email:n})}),M=await L.json().catch(()=>({}));L.ok?(M.token&&localStorage.setItem("token",M.token),(P=M.user)!=null&&P.role&&localStorage.setItem("role",M.user.role),V.success("Account verified successfully! "),m(!0)):(V.error("Invalid OTP. Please try again."),t(["","","",""]),(T=h[0].current)==null||T.focus())}catch{V.error("Network error. Please check your connection and try again."),t(["","","",""]),(E=h[0].current)==null||E.focus()}finally{l(!1)}},S=async()=>{var _;if(!(c>0||!n)){l(!0);try{(await fetch(`${J3}/api/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).ok?(V.success("New verification code sent to your email."),d(60),t(["","","",""]),(_=h[0].current)==null||_.focus()):V.error("Failed to resend code. Please try again.")}catch{V.error("Network error. Please try again.")}finally{l(!1)}}},k="shadow-[0_0_30px_rgba(37,99,235,0.35)]";return r.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[r.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[r.jsx(he.div,{className:"absolute -top-40 -left-40 h-[32rem] w-[32rem] rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(closest-side, #93c5fd, transparent)"},animate:{y:[0,20,0],x:[0,12,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),r.jsx(he.div,{className:"absolute -bottom-48 -right-48 h-[36rem] w-[36rem] rounded-full blur-3xl opacity-70",style:{background:"radial-gradient(closest-side, #a5f3fc, transparent)"},animate:{y:[0,-16,0],x:[0,-10,0]},transition:{duration:9,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),r.jsx(he.div,{className:"absolute inset-0",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.12), rgba(6,182,212,0.12), rgba(59,130,246,0.12))"},animate:{rotate:360},transition:{duration:24,repeat:1/0,ease:"linear"},"aria-hidden":!0})]}),r.jsxs("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("div",{className:"flex justify-center",children:r.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},className:`relative h-16 w-16 rounded-2xl bg-white border border-blue-200/70 ${k} flex items-center justify-center`,children:[r.jsx(he.div,{className:"absolute inset-0 rounded-2xl",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.25), rgba(6,182,212,0.25), rgba(59,130,246,0.25))"},animate:{rotate:-360},transition:{duration:12,repeat:1/0,ease:"linear"},"aria-hidden":!0}),r.jsx("div",{className:"absolute inset-[3px] rounded-2xl bg-white"}),r.jsx(pa,{className:"relative w-7 h-7 text-blue-600"})]})}),r.jsx(he.h2,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-slate-900",children:"Verify your account"}),r.jsxs(he.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-2 text-center text-sm text-slate-600",children:["We sent a 4-digit code to",r.jsx("br",{}),r.jsx("span",{className:"font-medium text-blue-600",children:n||"your email"})]})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsx(he.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:`bg-white/90 backdrop-blur-sm py-8 px-6 sm:px-10 border border-slate-200 rounded-2xl shadow-xl ${k}`,children:r.jsxs("form",{onSubmit:_=>{_.preventDefault(),j()},children:[r.jsx("label",{className:"mb-4 block text-center text-sm font-medium text-slate-700",children:"Enter verification code"}),r.jsx("div",{className:"mb-6 flex justify-center gap-3 sm:gap-4",children:e.map((_,C)=>r.jsx(he.input,{ref:h[C],type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:_,onFocus:P=>P.target.select(),onChange:P=>g(C,P.target.value),onKeyDown:P=>b(C,P),onPaste:w,"aria-label":`OTP digit ${C+1}`,disabled:s,className:`h-16 w-14 text-center text-2xl font-bold sm:h-18 sm:w-16 sm:text-3xl
                      rounded-xl border-2 bg-white/90 text-slate-900 placeholder-slate-400 outline-none transition
                      ${_?"border-blue-400":"border-slate-200 focus:border-blue-400"}
                      focus:ring-2 focus:ring-blue-300`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*C}},C))}),r.jsxs(he.button,{type:"submit",disabled:s||e.join("").length!==4,className:`group relative w-full overflow-hidden rounded-xl py-3 px-4 text-sm font-semibold text-white shadow-lg transition
                  ${s||e.join("").length!==4?"bg-blue-500/80":"bg-blue-600 hover:bg-blue-700"}
                  focus:outline-none focus:ring-2 focus:ring-blue-500`,whileTap:{scale:.98},children:[r.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-40",children:r.jsx("span",{className:"absolute -inset-12 h-[200%] w-2/3 -translate-x-[150%] rotate-12 bg-gradient-to-r from-transparent via-white/50 to-transparent transition-transform duration-700 group-hover:translate-x-[120%]"})}),s?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("span",{className:"mr-3 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Verifying"]}):r.jsxs("div",{className:"flex items-center justify-center",children:["Verify Account",r.jsx(wp,{className:"ml-2 h-4 w-4 transition-transform duration-200 group-hover:translate-x-1"})]})]}),r.jsxs("div",{className:"mt-5 text-center",children:[r.jsx("p",{className:"mb-2 text-sm text-slate-600",children:"Didn't receive the code?"}),r.jsxs("button",{type:"button",onClick:S,disabled:c>0||s||!n,className:"inline-flex items-center text-sm font-medium text-blue-600 transition-colors hover:text-blue-700 disabled:cursor-not-allowed disabled:text-slate-400",children:[r.jsx(Xe,{className:"mr-1 h-4 w-4"}),c>0?`Resend in ${c}s`:"Resend Code"]})]})]})})})]}),r.jsx(gK,{isOpen:f,onSuccess:()=>{m(!1),setTimeout(()=>x("/profile"),300)}})]})}function yK(){const[e,t]=v.useState({email:"",password:""}),[n,a]=v.useState(!1),[s,l]=v.useState({}),[c,d]=v.useState(!1),f=Gt(),m="https://aisdr-dbt.ddns.net",h=b=>{const{name:w,value:j}=b.target;t(S=>({...S,[w]:j})),s[w]&&l(S=>({...S,[w]:""}))},x=()=>{const b={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(b.email="Please enter a valid email address"):b.email="Email is required",e.password?e.password.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",l(b),Object.keys(b).length===0},g=async b=>{var w,j,S;if(b.preventDefault(),!!x()){d(!0),l({});try{const k=await fetch(`${m}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),_=await k.json();if(k.ok)_.token&&localStorage.setItem("token",_.token),(w=_.user)!=null&&w.role&&localStorage.setItem("role",_.user.role),(j=_.user)!=null&&j.name&&localStorage.setItem("name",_.user.name),(S=_.user)!=null&&S.email&&localStorage.setItem("email",_.user.email),V.success("Login successful! "),setTimeout(()=>{var P,T,E;const C=((E=(T=(P=_.user)==null?void 0:P.role)==null?void 0:T.toLowerCase)==null?void 0:E.call(T))||"";f(C==="user"?"/user/dashboard":C==="admin"?"/admin/dashboard":"/dashboard")},1200);else{const C=_.message||_.detail||"Invalid email or password. Please try again.";V.error(C),l({submit:C})}}catch{const k="Network error. Please check your connection and try again.";V.error(k),l({submit:k})}finally{d(!1)}}};return r.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:r.jsx(xc,{className:"w-8 h-8 text-white"})})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),r.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",r.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign up here"})]})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[s.submit&&r.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[r.jsx(La,{className:"h-5 w-5 text-red-600 mr-3"}),r.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),r.jsxs("form",{className:"space-y-6",onSubmit:g,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(pa,{className:`h-5 w-5 transition-colors duration-200 ${e.email?"text-blue-500":"text-gray-400"}`})}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx(p1,{className:"h-5 w-5 text-green-500"})})]}),s.email&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(La,{className:"h-4 w-4 mr-1"}),s.email]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Gw,{className:`h-5 w-5 transition-colors duration-200 ${e.password?"text-blue-500":"text-gray-400"}`})}),r.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200 cursor-pointer",onClick:()=>a(!n),children:n?r.jsx(Sc,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):r.jsx(Sn,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),r.jsx("div",{className:"mt-2 flex justify-end",children:r.jsx("a",{href:"/forget_password",className:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Forgot password?"})}),s.password&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(La,{className:"h-4 w-4 mr-1"}),s.password]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 cursor-pointer",children:c?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Signing in..."]}):r.jsxs("div",{className:"flex items-center",children:["Sign in",r.jsx(wp,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})]})})]})}function bK({length:e=4,value:t,onChange:n}){const a=v.useRef([]),s=f=>{const m=a.current[f];m&&m.focus()},l=(f,m)=>{const h=m.replace(/\D/g,"").slice(0,1),x=(t||"").split("");x[f]=h;const g=x.join("");n(g),h&&f<e-1&&s(f+1)},c=(f,m)=>{const h=(t||"")[f]||"";if(m.key==="Backspace"){if(!h&&f>0){m.preventDefault();const x=(t||"").split("");x[f-1]="",n(x.join("")),s(f-1)}}else m.key==="ArrowLeft"&&f>0?(m.preventDefault(),s(f-1)):m.key==="ArrowRight"&&f<e-1&&(m.preventDefault(),s(f+1))},d=f=>{f.preventDefault();const m=(f.clipboardData.getData("text")||"").replace(/\D/g,"");if(!m)return;const h=(t||"").split("");for(let g=0;g<e;g++)h[g]=m[g]||"";n(h.join(""));const x=Math.min(m.length,e)-1;s(x>=0?x:0)};return r.jsx("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:Array.from({length:e}).map((f,m)=>{const h=(t||"")[m]||"";return r.jsx("input",{ref:x=>a.current[m]=x,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:h,onChange:x=>l(m,x.target.value),onKeyDown:x=>c(m,x),onPaste:m===0?d:void 0,className:`w-11 h-11 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-semibold\r
                       rounded-2xl border bg-white/80 backdrop-blur\r
                       border-gray-200 shadow-sm hover:shadow transition-all\r
                       focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500\r
                       focus:shadow-[0_6px_24px_rgba(59,130,246,0.18)] focus:scale-105\r
                       caret-transparent select-none`,"aria-label":`OTP digit ${m+1}`},m)})})}function wK(){const[e,t]=v.useState(1),[n,a]=v.useState(""),[s,l]=v.useState(""),[c,d]=v.useState(""),[f,m]=v.useState(!1),[h,x]=v.useState({}),[g,b]=v.useState(!1),w=Gt(),j="https://aisdr-dbt.ddns.net",S=()=>{const P={};return n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(P.email="Please enter a valid email address"):P.email="Email is required",x(P),Object.keys(P).length===0},k=()=>{const P={};return(!s||s.length!==4)&&(P.code="Enter the 4-digit OTP"),c.trim()?c.length<6&&(P.password="Password must be at least 6 characters"):P.password="Password is required",x(P),Object.keys(P).length===0},_=async P=>{if(P.preventDefault(),!!S()){b(!0);try{const T=await fetch(`${j}/api/password-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}),E=await T.json();T.ok?(V.success("Password reset OTP sent to your email! "),t(2)):V.error(E.detail||"Something went wrong.")}catch{V.error("Network error. Please try again.")}finally{b(!1)}}},C=async P=>{if(P.preventDefault(),!!k()){b(!0);try{const T=await fetch(`${j}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,code:s,password:c})}),E=await T.json();T.ok?(V.success("Password changed successfully! "),w("/user")):V.error(E.detail||"Failed to reset password.")}catch{V.error("Network error. Please try again.")}finally{b(!1)}}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:r.jsx(gB,{className:"w-8 h-8 text-white"})})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e===1?"Reset your password":"Enter OTP & New Password"}),e===2&&r.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Weve sent a 4-digit code to"," ",r.jsx("span",{className:"font-medium",children:n})]})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsxs("div",{className:"bg-white/90 backdrop-blur py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&r.jsxs("form",{className:"space-y-6",onSubmit:_,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx(pa,{className:`h-5 w-5 absolute left-3 top-3 ${n?"text-blue-500":"text-gray-400"}`}),r.jsx("input",{type:"email",value:n,onChange:P=>a(P.target.value),className:"pl-10 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter your email",autoComplete:"email",autoFocus:!0})]}),h.email&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(La,{className:"h-4 w-4 mr-1"}),h.email]})]}),r.jsx("button",{type:"submit",disabled:g,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:g?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending"]}):r.jsxs("div",{className:"flex items-center",children:["Send OTP",r.jsx(wp,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e===2&&r.jsxs("form",{className:"space-y-6",onSubmit:C,children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),r.jsx("span",{className:"text-xs text-gray-500",children:"4 digits"})]}),r.jsx(bK,{length:4,value:s,onChange:l}),h.code&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(La,{className:"h-4 w-4 mr-1"}),h.code]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Gw,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:f?"text":"password",value:c,onChange:P=>d(P.target.value),className:"pl-10 pr-12 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter new password",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>m(P=>!P),className:"absolute right-3 top-2.5 p-1.5 rounded-lg hover:bg-gray-100 text-gray-500","aria-label":f?"Hide password":"Show password",children:f?r.jsx(Sc,{className:"h-5 w-5"}):r.jsx(Sn,{className:"h-5 w-5"})})]}),h.password&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[r.jsx(La,{className:"h-4 w-4 mr-1"}),h.password]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use at least 6 characters."})]}),r.jsx("button",{type:"submit",disabled:g||!(s.length===4&&c.length>=6),className:"w-full py-3 rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Resetting":"Reset Password"}),r.jsx("div",{className:"text-center",children:r.jsxs("button",{type:"button",onClick:()=>t(1),className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:[r.jsx(FE,{className:"mr-1 h-4 w-4"}),"Change email"]})})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:r.jsxs("p",{className:"text-xs text-gray-500",children:["Remember your password?"," ",r.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in here"})]})})]})})]})}var z1=function(e,t){return z1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},z1(e,t)};function jK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");z1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var On=function(){return On=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},On.apply(this,arguments)};var Kv,ek;function NK(){if(ek)return Kv;ek=1;var e=!1,t,n,a,s,l,c,d,f,m,h,x,g,b,w,j;function S(){if(!e){e=!0;var _=navigator.userAgent,C=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(_),P=/(Mac OS X)|(Windows)|(Linux)/.exec(_);if(g=/\b(iPhone|iP[ao]d)/.exec(_),b=/\b(iP[ao]d)/.exec(_),h=/Android/i.exec(_),w=/FBAN\/\w+;/i.exec(_),j=/Mobile/i.exec(_),x=!!/Win64/.exec(_),C){t=C[1]?parseFloat(C[1]):C[5]?parseFloat(C[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var T=/(?:Trident\/(\d+.\d+))/.exec(_);c=T?parseFloat(T[1])+4:t,n=C[2]?parseFloat(C[2]):NaN,a=C[3]?parseFloat(C[3]):NaN,s=C[4]?parseFloat(C[4]):NaN,s?(C=/(?:Chrome\/(\d+\.\d+))/.exec(_),l=C&&C[1]?parseFloat(C[1]):NaN):l=NaN}else t=n=a=l=s=NaN;if(P){if(P[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(_);d=E?parseFloat(E[1].replace("_",".")):!0}else d=!1;f=!!P[2],m=!!P[3]}else d=f=m=!1}}var k={ie:function(){return S()||t},ieCompatibilityMode:function(){return S()||c>t},ie64:function(){return k.ie()&&x},firefox:function(){return S()||n},opera:function(){return S()||a},webkit:function(){return S()||s},safari:function(){return k.webkit()},chrome:function(){return S()||l},windows:function(){return S()||f},osx:function(){return S()||d},linux:function(){return S()||m},iphone:function(){return S()||g},mobile:function(){return S()||g||b||h||j},nativeApp:function(){return S()||w},android:function(){return S()||h},ipad:function(){return S()||b}};return Kv=k,Kv}var Gv,tk;function SK(){if(tk)return Gv;tk=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return Gv=t,Gv}var Yv,nk;function _K(){if(nk)return Yv;nk=1;var e=SK(),t;e.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(a,s){if(!e.canUseDOM||s&&!("addEventListener"in document))return!1;var l="on"+a,c=l in document;if(!c){var d=document.createElement("div");d.setAttribute(l,"return;"),c=typeof d[l]=="function"}return!c&&t&&a==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return Yv=n,Yv}var Wv,rk;function kK(){if(rk)return Wv;rk=1;var e=NK(),t=_K(),n=10,a=40,s=800;function l(c){var d=0,f=0,m=0,h=0;return"detail"in c&&(f=c.detail),"wheelDelta"in c&&(f=-c.wheelDelta/120),"wheelDeltaY"in c&&(f=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(d=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(d=f,f=0),m=d*n,h=f*n,"deltaY"in c&&(h=c.deltaY),"deltaX"in c&&(m=c.deltaX),(m||h)&&c.deltaMode&&(c.deltaMode==1?(m*=a,h*=a):(m*=s,h*=s)),m&&!d&&(d=m<1?-1:1),h&&!f&&(f=h<1?-1:1),{spinX:d,spinY:f,pixelX:m,pixelY:h}}return l.getEventType=function(){return e.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},Wv=l,Wv}var Xv,ak;function CK(){return ak||(ak=1,Xv=kK()),Xv}var AK=CK();const TK=Ba(AK);function EK(e,t,n,a,s,l){l===void 0&&(l=0);var c=Ec(e,t,l),d=c.width,f=c.height,m=Math.min(d,n),h=Math.min(f,a);return m>h*s?{width:h*s,height:h}:{width:m,height:m/s}}function PK(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function id(e,t,n,a,s){s===void 0&&(s=0);var l=Ec(t.width,t.height,s),c=l.width,d=l.height;return{x:sk(e.x,c,n.width,a),y:sk(e.y,d,n.height,a)}}function sk(e,t,n,a){var s=t*a/2-n/2;return Ap(e,-s,s)}function ik(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function lk(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function OK(e,t,n,a,s,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var d=c?MK:DK,f=Ec(t.width,t.height,l),m=Ec(t.naturalWidth,t.naturalHeight,l),h={x:d(100,((f.width-n.width/s)/2-e.x/s)/f.width*100),y:d(100,((f.height-n.height/s)/2-e.y/s)/f.height*100),width:d(100,n.width/f.width*100/s),height:d(100,n.height/f.height*100/s)},x=Math.round(d(m.width,h.width*m.width/100)),g=Math.round(d(m.height,h.height*m.height/100)),b=m.width>=m.height*a,w=b?{width:Math.round(g*a),height:g}:{width:x,height:Math.round(x/a)},j=On(On({},w),{x:Math.round(d(m.width-w.width,h.x*m.width/100)),y:Math.round(d(m.height-w.height,h.y*m.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:j}}function MK(e,t){return Math.min(e,Math.max(0,t))}function DK(e,t){return t}function RK(e,t,n,a,s,l){var c=Ec(t.width,t.height,n),d=Ap(a.width/c.width*(100/e.width),s,l),f={x:d*c.width/2-a.width/2-c.width*d*(e.x/100),y:d*c.height/2-a.height/2-c.height*d*(e.y/100)};return{crop:f,zoom:d}}function LK(e,t,n){var a=PK(t);return n.height>n.width?n.height/(e.height*a):n.width/(e.width*a)}function $K(e,t,n,a,s,l){n===void 0&&(n=0);var c=Ec(t.naturalWidth,t.naturalHeight,n),d=Ap(LK(e,t,a),s,l),f=a.height>a.width?a.height/e.height:a.width/e.width,m={x:((c.width-e.width)/2-e.x)*f,y:((c.height-e.height)/2-e.y)*f};return{crop:m,zoom:d}}function ok(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function IK(e){return e*Math.PI/180}function Ec(e,t,n){var a=IK(n);return{width:Math.abs(Math.cos(a)*e)+Math.abs(Math.sin(a)*t),height:Math.abs(Math.sin(a)*e)+Math.abs(Math.cos(a)*t)}}function Ap(e,t,n){return Math.min(Math.max(e,t),n)}function uh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var zK=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,BK=1,UK=3,FK=1,VK=function(e){jK(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=v.createRef(),n.imageRef=v.createRef(),n.videoRef=v.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var a=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(a){a=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(a){return a.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var a=n.computeSizes();a&&(n.emitCropData(),n.setInitialCrop(a)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(a){if(n.props.initialCroppedAreaPercentages){var s=RK(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,a,n.props.minZoom,n.props.maxZoom),l=s.crop,c=s.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}else if(n.props.initialCroppedAreaPixels){var d=$K(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,a,n.props.minZoom,n.props.maxZoom),l=d.crop,c=d.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}},n.computeSizes=function(){var a,s,l,c,d,f,m=n.imageRef.current||n.videoRef.current;if(m&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var h=n.containerRect.width/n.containerRect.height,x=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,g=((l=n.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=n.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,b=m.offsetWidth<x||m.offsetHeight<g,w=x/g,j=void 0;if(b)switch(n.state.mediaObjectFit){default:case"contain":j=h>w?{width:n.containerRect.height*w,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/w};break;case"horizontal-cover":j={width:n.containerRect.width,height:n.containerRect.width/w};break;case"vertical-cover":j={width:n.containerRect.height*w,height:n.containerRect.height};break}else j={width:m.offsetWidth,height:m.offsetHeight};n.mediaSize=On(On({},j),{naturalWidth:x,naturalHeight:g}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:EK(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((d=n.state.cropSize)===null||d===void 0?void 0:d.height)!==S.height||((f=n.state.cropSize)===null||f===void 0?void 0:f.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var a=n.containerRef.getBoundingClientRect();n.containerPosition={x:a.left,y:a.top}}},n.onMouseDown=function(a){n.currentDoc&&(a.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(a)))},n.onMouseMove=function(a){return n.onDrag(t.getMousePoint(a))},n.onScroll=function(a){n.currentDoc&&(a.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(a){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(a))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),a.touches.length===2?n.onPinchStart(a):a.touches.length===1&&n.onDragStart(t.getTouchPoint(a.touches[0]))))},n.onTouchMove=function(a){a.preventDefault(),a.touches.length===2?n.onPinchMove(a):a.touches.length===1&&n.onDrag(t.getTouchPoint(a.touches[0]))},n.onGestureStart=function(a){n.currentDoc&&(a.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(a){if(a.preventDefault(),!n.isTouching){var s=t.getMousePoint(a),l=n.gestureZoomStart-1+a.scale;if(n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var c=n.gestureRotationStart+a.rotation;n.props.onRotationChange(c)}}},n.onGestureEnd=function(a){n.cleanEvents()},n.onDragStart=function(a){var s,l,c=a.x,d=a.y;n.dragStartPosition={x:c,y:d},n.dragStartCrop=On({},n.props.crop),(l=(s=n.props).onInteractionStart)===null||l===void 0||l.call(s)},n.onDrag=function(a){var s=a.x,l=a.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||l===void 0)){var c=s-n.dragStartPosition.x,d=l-n.dragStartPosition.y,f={x:n.dragStartCrop.x+c,y:n.dragStartCrop.y+d},m=n.props.restrictPosition?id(f,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):f;n.props.onCropChange(m)}}))},n.onDragStopped=function(){var a,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(a=n.props).onInteractionEnd)===null||s===void 0||s.call(a)},n.onWheel=function(a){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(a))){a.preventDefault();var s=t.getMousePoint(a),l=TK(a).pixelY,c=n.props.zoom-l*n.props.zoomSpeed/200;n.setNewZoom(c,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var d,f;return(f=(d=n.props).onInteractionStart)===null||f===void 0?void 0:f.call(d)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var d,f;return(f=(d=n.props).onInteractionEnd)===null||f===void 0?void 0:f.call(d)})},250)}},n.getPointOnContainer=function(a,s){var l=a.x,c=a.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(l-s.x),y:n.containerRect.height/2-(c-s.y)}},n.getPointOnMedia=function(a){var s=a.x,l=a.y,c=n.props,d=c.crop,f=c.zoom;return{x:(s+d.x)/f,y:(l+d.y)/f}},n.setNewZoom=function(a,s,l){var c=l===void 0?{}:l,d=c.shouldUpdatePosition,f=d===void 0?!0:d;if(!(!n.state.cropSize||!n.props.onZoomChange)){var m=Ap(a,n.props.minZoom,n.props.maxZoom);if(f){var h=n.getPointOnContainer(s,n.containerPosition),x=n.getPointOnMedia(h),g={x:x.x*m-h.x,y:x.y*m-h.y},b=n.props.restrictPosition?id(g,n.mediaSize,n.state.cropSize,m,n.props.rotation):g;n.props.onCropChange(b)}n.props.onZoomChange(m)}},n.getCropData=function(){if(!n.state.cropSize)return null;var a=n.props.restrictPosition?id(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return OK(a,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var a=n.getCropData();if(a){var s=a.croppedAreaPercentages,l=a.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,l),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,l)}},n.emitCropAreaChange=function(){var a=n.getCropData();if(a){var s=a.croppedAreaPercentages,l=a.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,l)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var a=n.props.restrictPosition?id(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(a),n.emitCropData()}},n.onKeyDown=function(a){var s,l,c=n.props,d=c.crop,f=c.onCropChange,m=c.keyboardStep,h=c.zoom,x=c.rotation,g=m;if(n.state.cropSize){a.shiftKey&&(g*=.2);var b=On({},d);switch(a.key){case"ArrowUp":b.y-=g,a.preventDefault();break;case"ArrowDown":b.y+=g,a.preventDefault();break;case"ArrowLeft":b.x-=g,a.preventDefault();break;case"ArrowRight":b.x+=g,a.preventDefault();break;default:return}n.props.restrictPosition&&(b=id(b,n.mediaSize,n.state.cropSize,h,x)),a.repeat||(l=(s=n.props).onInteractionStart)===null||l===void 0||l.call(s),f(b)}},n.onKeyUp=function(a){var s,l;switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":a.preventDefault();break;default:return}n.emitCropData(),(l=(s=n.props).onInteractionEnd)===null||l===void 0||l.call(s)},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=zK,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var n,a;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((a=this.styleRef.parentNode)===null||a===void 0||a.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var a,s,l,c,d,f,m,h,x;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((a=n.cropSize)===null||a===void 0?void 0:a.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((l=n.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((d=n.crop)===null||d===void 0?void 0:d.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((m=n.crop)===null||m===void 0?void 0:m.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((x=this.videoRef.current)===null||x===void 0||x.load());var g=this.getObjectFit();g!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:g},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,a=n.cropSize,s=n.aspect;return a?a.width/a.height:s},t.prototype.getObjectFit=function(){var n,a,s,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,f=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,m=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,h=f/m;return h<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var a=t.getTouchPoint(n.touches[0]),s=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=ik(a,s),this.lastPinchRotation=lk(a,s),this.onDragStart(ok(a,s))},t.prototype.onPinchMove=function(n){var a=this;if(!(!this.currentDoc||!this.currentWindow)){var s=t.getTouchPoint(n.touches[0]),l=t.getTouchPoint(n.touches[1]),c=ok(s,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=ik(s,l),f=a.props.zoom*(d/a.lastPinchDistance);a.setNewZoom(f,c,{shouldUpdatePosition:!1}),a.lastPinchDistance=d;var m=lk(s,l),h=a.props.rotation+(m-a.lastPinchRotation);a.props.onRotationChange&&a.props.onRotationChange(h),a.lastPinchRotation=m})}},t.prototype.render=function(){var n=this,a,s=this.props,l=s.image,c=s.video,d=s.mediaProps,f=s.cropperProps,m=s.transform,h=s.crop,x=h.x,g=h.y,b=s.rotation,w=s.zoom,j=s.cropShape,S=s.showGrid,k=s.roundCropAreaPixels,_=s.style,C=_.containerStyle,P=_.cropAreaStyle,T=_.mediaStyle,E=s.classes,L=E.containerClassName,M=E.cropAreaClassName,B=E.mediaClassName,K=(a=this.state.mediaObjectFit)!==null&&a!==void 0?a:this.getObjectFit();return v.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(U){return n.containerRef=U},"data-testid":"container",style:C,className:uh("reactEasyCrop_Container",L)},l?v.createElement("img",On({alt:"",className:uh("reactEasyCrop_Image",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",B)},d,{src:l,ref:this.imageRef,style:On(On({},T),{transform:m||"translate(".concat(x,"px, ").concat(g,"px) rotate(").concat(b,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):c&&v.createElement("video",On({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:uh("reactEasyCrop_Video",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",B)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:On(On({},T),{transform:m||"translate(".concat(x,"px, ").concat(g,"px) rotate(").concat(b,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(F){return v.createElement("source",On({key:F.src},F))})),this.state.cropSize&&v.createElement("div",On({ref:this.cropperRef,style:On(On({},P),{width:k?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:k?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:uh("reactEasyCrop_CropArea",j==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",M)},f)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:UK,minZoom:BK,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:FK},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(v.Component);const ck="https://aisdr-dbt.ddns.net",uk=["image/png","image/jpeg","image/webp"],HK=5*1024*1024,qK=[`${ck}/api/auth`,`${ck}/api`];function dh(...e){return e.filter(Boolean).join(" ")}async function KK(e,t,n=0){const s=await(k=>new Promise((_,C)=>{const P=new Image;P.addEventListener("load",()=>_(P)),P.addEventListener("error",T=>C(T)),P.crossOrigin="anonymous",P.src=k}))(e),l=n*Math.PI/180,c=s.naturalWidth||s.width,d=s.naturalHeight||s.height,f=document.createElement("canvas"),m=f.getContext("2d"),h=Math.abs(Math.sin(l)),x=Math.abs(Math.cos(l)),g=Math.floor(c*x+d*h),b=Math.floor(c*h+d*x);f.width=g,f.height=b,m.translate(g/2,b/2),m.rotate(l),m.drawImage(s,-c/2,-d/2);const w=m.getImageData(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height)),j=document.createElement("canvas");return j.width=Math.round(t.width),j.height=Math.round(t.height),j.getContext("2d").putImageData(w,0,0),new Promise(k=>{j.toBlob(_=>k(_),"image/jpeg",.92)})}function GK(){const e=Gt(),[t,n]=v.useState(null),[a,s]=v.useState(null),[l,c]=v.useState(null),[d,f]=v.useState({init:!0,saving:!1,delete:!1,refresh:!1}),[m,h]=v.useState({name:"",email:""}),[x,g]=v.useState(!1),[b,w]=v.useState({x:0,y:0}),[j,S]=v.useState(1),[k,_]=v.useState(0),[C,P]=v.useState(null),[T,E]=v.useState(!1),[L,M]=v.useState(!1),B=v.useRef(null),K=()=>localStorage.getItem("token")||"",F=()=>K()?{Authorization:`Bearer ${K()}`}:{},U=()=>K()?!0:(V.error("Authentication required. Please login again."),e("/login"),!1),te=async(Q,Z={},{expectJson:je=!0}={})=>{const se=[];for(const _e of qK)try{const Ne=await fetch(`${_e}${Q}`,Z);if(Ne.status===401||Ne.status===403){const ze=await Ne.text().catch(()=>"");throw new Error(ze||"Unauthorized")}if(Ne.ok)return je?await Ne.json():Ne;if(Ne.status===404){se.push({base:_e,status:404});continue}const xe=await Ne.json().catch(()=>({}));throw new Error((xe==null?void 0:xe.detail)||`Request failed (${Ne.status})`)}catch(Ne){if(se.push({base:_e,err:Ne==null?void 0:Ne.message}),(Ne==null?void 0:Ne.message)==="Unauthorized")throw Ne}const be=se!=null&&se.length?`Request failed: ${se.map(_e=>`${_e.base}${_e.status||_e.err}`).join(" | ")}`:"Network error";throw new Error(be)},we=v.useMemo(()=>((m==null?void 0:m.name)||localStorage.getItem("name")||"User").trim().split(" ").map(Z=>Z[0]).join("").slice(0,2).toUpperCase(),[m==null?void 0:m.name]),re=v.useCallback(()=>{const Q=(localStorage.getItem("role")||"").toLowerCase();return Q==="user"?e("/user/dashboard",{replace:!0}):Q==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})},[e]);v.useEffect(()=>{if(x){const Q=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=Q}}},[x]);const R=async()=>{var Q,Z,je;if(U())try{const se=await te("/user-info",{headers:{...F(),Accept:"application/json"}}),be=((Q=se==null?void 0:se.data)==null?void 0:Q.email)||"";h({name:(Z=se==null?void 0:se.data)==null?void 0:Z.name,email:be});const _e=((je=se==null?void 0:se.data)==null?void 0:je.profile_photo_url)||null,Ne=_e?_e+(_e.includes("?")?"&":"?")+"t="+Date.now():null;if(n(Ne),Ne&&!a&&s(Ne),be){const xe=`profileComplete:${be.toLowerCase()}`;if(localStorage.getItem(xe)==="1"){re();return}}}catch(se){V.error(se.message||"Could not load profile info")}};v.useEffect(()=>{(async()=>(f(Q=>({...Q,init:!0})),await R(),f(Q=>({...Q,init:!1}))))()},[]);const G=Q=>{if(!Q)return;if(!uk.includes(Q.type)){V.error("Only PNG, JPEG or WEBP images are allowed.");return}if(Q.size>HK){V.error("Image too large. Max allowed is 5 MB.");return}a&&a.startsWith("blob:")&&URL.revokeObjectURL(a),c(Q);const Z=URL.createObjectURL(Q);s(Z),g(!1)},H=Q=>{var je;const Z=(je=Q.target.files)==null?void 0:je[0];G(Z)},I=Q=>{var je;Q.preventDefault(),Q.stopPropagation();const Z=(je=Q.dataTransfer.files)==null?void 0:je[0];G(Z)},A=Q=>{Q.preventDefault(),Q.stopPropagation()};v.useCallback((Q,Z)=>{P(Z),E(!0)},[]);const D=async()=>{if(!a&&!t){V.info("Choose an image first.");return}if(!T||!C){V.info("Adjust the crop a tiny bit, then save.");return}try{f(ze=>({...ze,saving:!0}));const Z=await KK(a||t,C,k),je=URL.createObjectURL(Z);a&&a.startsWith("blob:")&&URL.revokeObjectURL(a),s(je);const se=new FormData,be=`avatar_${Date.now()}.jpg`;se.append("file",Z,be);const _e=await te("/profile-photo",{method:"POST",headers:{...F()},body:se}),Ne=_e==null?void 0:_e.photo_url,xe=Ne?Ne+(Ne.includes("?")?"&":"?")+"t="+Date.now():null;n(xe),g(!1),c(null),E(!1),M(!0),setTimeout(()=>M(!1),1400),V.success("Profile photo saved!")}catch(Q){V.error(Q.message||"Could not save the cropped photo")}finally{f(Q=>({...Q,saving:!1}))}},$=async()=>{if(!t){V.info("No profile photo to delete.");return}try{f(Q=>({...Q,delete:!0})),await te("/profile-photo",{method:"DELETE",headers:{...F(),Accept:"application/json"}}),a&&a.startsWith("blob:")&&URL.revokeObjectURL(a),n(null),s(null),c(null),V.success("Profile photo deleted.")}catch(Q){V.error(Q.message||"Delete error")}finally{f(Q=>({...Q,delete:!1}))}},W=async()=>{f(Q=>({...Q,refresh:!0})),await R(),f(Q=>({...Q,refresh:!1}))},ce=()=>{const Q=((m==null?void 0:m.email)||"").toLowerCase();Q&&localStorage.setItem(`profileComplete:${Q}`,"1"),re()};return r.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-white relative",children:[r.jsx("div",{className:"absolute inset-x-0 top-0 h-44",style:{background:"linear-gradient(180deg, rgba(59,130,246,0.18) 0%, rgba(255,255,255,0) 100%)"}}),r.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 tracking-tight",children:"Profile Photo"}),r.jsx("p",{className:"text-slate-500",children:"Click the ring to upload/replace. Use the Crop button to fine-tune your avatar."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:W,disabled:d.refresh||d.init,className:dh("inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border transition","border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-50"),children:[d.refresh?r.jsx(qn,{className:"h-4 w-4 animate-spin"}):r.jsx(zB,{className:"h-4 w-4"}),"Refresh"]}),r.jsxs("button",{onClick:ce,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 shadow-sm",children:[r.jsx(b0,{className:"h-4 w-4"}),"Confirm"]}),r.jsxs("button",{onClick:ce,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[r.jsx(eU,{className:"h-4 w-4"}),"Skip for now"]})]})]}),r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 backdrop-blur-sm shadow-[0_8px_30px_rgb(0,0,0,0.06)] p-6 md:p-8",children:r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsx("div",{className:"pointer-events-none absolute -top-6 h-24 w-48 rounded-full blur-2xl opacity-50",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(59,130,246,0.25) 0%, rgba(34,211,238,0.18) 60%, transparent 100%)"}}),r.jsxs("div",{className:dh("group relative h-40 w-40 rounded-full p-[3px] cursor-pointer select-none transition-transform duration-200",L?"animate-pulse":"hover:scale-[1.02]"),onClick:()=>{var Q;return(Q=B.current)==null?void 0:Q.click()},onDrop:I,onDragOver:A,style:{background:"conic-gradient(rgba(59,130,246,0.9), rgba(34,211,238,0.9), rgba(59,130,246,0.9))"},title:"Click to upload/replace",children:[r.jsx("div",{className:"rounded-full h-full w-full bg-white grid place-items-center",children:r.jsxs("div",{className:"relative rounded-full h-[148px] w-[148px] overflow-hidden ring-2 ring-blue-500/30 shadow-md bg-slate-50 flex items-center justify-center",children:[d.init?r.jsx(qn,{className:"h-6 w-6 animate-spin text-slate-400"}):a||t?r.jsx("img",{src:a||t,alt:"Profile",className:"h-full w-full object-cover",onError:()=>{n(null),a&&a.startsWith("blob:")&&URL.revokeObjectURL(a),s(null)}}):r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(GE,{className:"h-10 w-10 text-slate-400"}),r.jsx("span",{className:"mt-1 text-sm font-semibold text-slate-600",children:we})]}),r.jsxs("div",{className:"absolute inset-0 bg-black/35 opacity-0 group-hover:opacity-100 transition-opacity grid place-items-center",children:[r.jsx("div",{className:"rounded-full bg-white/90 p-2 shadow-md",children:r.jsx(Cz,{className:"h-5 w-5 text-blue-600"})}),r.jsx("span",{className:"absolute bottom-2 text-xs text-white/90",children:"Change photo"})]})]})}),r.jsx("input",{ref:B,type:"file",accept:uk.join(","),className:"hidden",onChange:H})]}),r.jsxs("div",{className:"mt-3 bg-white border border-slate-200 px-2 py-1 rounded-full text-[11px] text-slate-600 shadow-sm flex items-center gap-1",children:[r.jsx(Jn,{className:"h-3.5 w-3.5 text-emerald-500"}),t?"Photo set":"No photo yet"]}),r.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>{if(!a&&!t){V.info("Select or upload an image first.");return}_(0),S(1),E(!1),g(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold text-white transition shadow-sm bg-blue-600 hover:bg-blue-700",children:[r.jsx(E5,{className:"h-4 w-4"}),"Crop"]}),r.jsx("button",{type:"button",onClick:$,disabled:d.delete||!t,className:dh("inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold border transition",t?"border-rose-200 text-rose-600 hover:bg-rose-50":"border-slate-200 text-slate-400 cursor-not-allowed"),children:d.delete?r.jsxs(r.Fragment,{children:[r.jsx(qn,{className:"h-4 w-4 animate-spin"})," Deleting"]}):r.jsxs(r.Fragment,{children:[r.jsx(er,{className:"h-4 w-4"})," Delete Photo"]})})]})]})})]}),x&&(a||t)&&r.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>g(!1)}),r.jsxs("div",{className:"relative z-[10001] w-full max-w-lg mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(E5,{className:"h-4 w-4 text-blue-600"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Crop your photo"})]}),r.jsx("button",{onClick:()=>g(!1),className:"p-1 rounded-md hover:bg-slate-100",children:r.jsx(fr,{className:"h-4 w-4 text-slate-500"})})]}),r.jsxs("div",{className:"bg-slate-900",children:[r.jsx("div",{className:"relative h-[360px] overflow-hidden",children:r.jsx(VK,{image:a||t,crop:b,zoom:j,rotation:k,aspect:1,cropShape:"round",showGrid:!1,objectFit:"contain",onCropChange:w,onRotationChange:_,onZoomChange:S,onCropComplete:(Q,Z)=>{P(Z),E(!0)}})}),r.jsxs("div",{className:"relative border-t border-white/10 bg-slate-900/70 p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("label",{className:"text-xs text-white/80 w-16",children:"Zoom"}),r.jsx("input",{type:"range",min:1,max:3,step:.01,value:j,onChange:Q=>S(parseFloat(Q.target.value)),className:"w-full accent-blue-500"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("label",{className:"text-xs text-white/80 w-16",children:"Rotate"}),r.jsx("input",{type:"range",min:-180,max:180,step:1,value:k,onChange:Q=>_(parseFloat(Q.target.value)),className:"w-full accent-blue-500"}),r.jsxs("button",{type:"button",onClick:()=>_(0),className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs text-white bg-white/10 hover:bg-white/20",children:[r.jsx(VB,{className:"h-3.5 w-3.5"}),"Reset"]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 bg-white",children:[r.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:D,disabled:d.saving||!T,className:dh("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",T?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:d.saving?r.jsxs(r.Fragment,{children:[r.jsx(qn,{className:"h-4 w-4 animate-spin"})," Saving"]}):r.jsxs(r.Fragment,{children:[r.jsx(b0,{className:"h-4 w-4"})," Crop & Save"]})})]})]})]})]})}function YK(...e){return e.filter(Boolean).join(" ")}const dk="https://aisdr-dbt.ddns.net";function WK({onClick:e}){const t=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return r.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[r.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),r.jsxs(he.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),r.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),r.jsxs("filter",{id:"glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx(he.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),r.jsx(he.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),r.jsx(he.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function XK({className:e="",onMenuToggle:t,profilePath:n="/user/settings"}){const[a,s]=v.useState(""),[l,c]=v.useState(null),[d,f]=v.useState(!1),m=Gt();v.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),v.useEffect(()=>{const b=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${dk}/api/profile-photo`,{headers:b?{Authorization:`Bearer ${b}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${dk}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=b=>b.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:b=40})=>{const w=b;return r.jsxs("button",{type:"button",onClick:()=>m(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[r.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?r.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):r.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(a)})}),r.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),r.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},g=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return r.jsxs("header",{className:YK("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[r.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:r.jsxs("div",{className:"flex items-center justify-between h-full",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[r.jsx(WK,{onClick:g}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"hidden lg:block",children:[r.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),r.jsxs("div",{className:"relative",children:[r.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Convert interest into booked meetings  automatically"}),r.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),r.jsxs("div",{className:"hidden sm:block lg:hidden",children:[r.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),r.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Smart lead capture & scheduling"})]}),r.jsxs("div",{className:"sm:hidden relative",children:[r.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),r.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[r.jsxs(he.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[r.jsx("div",{className:"relative",children:r.jsx(x,{size:40})}),r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome back!"}),r.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:a})]})]}),r.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[r.jsx(x,{size:32}),r.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:a})]}),r.jsx("div",{className:"sm:hidden",children:r.jsx(x,{size:36})}),r.jsxs(he.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[r.jsx(w0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),r.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),r.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}var $O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fk=bt.createContext&&bt.createContext($O),ZK=["attr","size","title"];function QK(e,t){if(e==null)return{};var n=JK(e,t),a,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)a=l[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function JK(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C0.apply(this,arguments)}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function A0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(a){eG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function eG(e,t,n){return t=tG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IO(e){return e&&e.map((t,n)=>bt.createElement(t.tag,A0({key:n},t.attr),IO(t.child)))}function zt(e){return t=>bt.createElement(rG,C0({attr:A0({},e.attr)},t),IO(e.child))}function rG(e){var t=n=>{var{attr:a,size:s,title:l}=e,c=QK(e,ZK),d=s||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),bt.createElement("svg",C0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,c,{className:f,style:A0(A0({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&bt.createElement("title",null,l),e.children)};return fk!==void 0?bt.createElement(fk.Consumer,null,n=>t(n)):t($O)}function zO(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function BO(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function aG(e){return zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function UO(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function sG(e){return zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function iG(e){return zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function Oj(e){return zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function lG(e){return zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function FO(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function oG({compact:e=!1}){const t=v.useMemo(()=>[{text:"Make Calls",Icon:pt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Ra,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:Oj,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:or,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Ra,from:"#22D3EE",to:"#2563EB"}],[]),[n,a]=v.useState(0),[s,l]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{const x=t[n].text,g=40,b=28,w=1100;let j;return!c&&s.length<x.length?j=setTimeout(()=>l(x.slice(0,s.length+1)),g):!c&&s.length===x.length?j=setTimeout(()=>d(!0),w):c&&s.length>0?j=setTimeout(()=>l(x.slice(0,s.length-1)),b):c&&s.length===0&&(d(!1),a(S=>(S+1)%t.length)),()=>clearTimeout(j)},[s,c,n,t]);const{Icon:f,from:m,to:h}=t[n];return r.jsxs("div",{className:["relative flex items-center",e?"justify-center p-3 sm:p-4":"p-4 sm:p-6",e?"":"gap-4 sm:gap-6"].join(" "),children:[r.jsxs("div",{className:"relative shrink-0",children:[r.jsx(he.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:r.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),r.jsx(he.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[r.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:s}),r.jsx(he.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),r.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function cG(){const[e,t]=v.useState(!1),[n,a]=v.useState(!1),[s,l]=v.useState(!1),c=us(),d=Gt();v.useEffect(()=>{const h=()=>{const x=window.innerWidth;l(x<768),t(x<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),v.useEffect(()=>{a(!1)},[c.pathname]),v.useEffect(()=>{const h=()=>{s?a(x=>!x):t(x=>!x)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[s]);const f=[{id:"dashboard",label:"Dashboard",icon:Kw,href:"/user/dashboard",color:"text-blue-600"},{id:"phoneCalls",label:"Phone Numbers",icon:pt,href:"/user/callhistory",color:"text-orange-600"},{id:"callassistence",label:"Assistants",icon:Oj,href:"/user/callassistent",color:"text-green-600"},{id:"Leads",label:"Leads",icon:or,href:"/user/leads",color:"text-purple-600"},{id:"Campain",label:"Campaigns",icon:Ra,href:"/user/campain",color:"text-blue-600"},{id:"settings",label:"Settings",icon:qE,href:"/user/settings",color:"text-gray-600"},{id:"CRM",label:"CRMS",icon:iG,href:"/user/CRM",color:"text-orange-600"},{id:"Appointments",label:"Appointments",icon:T5,href:"/user/Appointments",color:"text-purple-600"},{id:"FormConnection",label:"FormConnection",icon:T5,href:"/user/FormConnection",color:"text-purple-600"}],m=()=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:r.jsx(oG,{compact:e&&!s})}),r.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:f.map(h=>{const x=h.icon,g=c.pathname===h.href,b=g&&(!e||s)?s?"pl-5":"pl-4":"",w=e&&!s?"gap-0":s?"gap-4":"gap-3";return r.jsxs("button",{type:"button",onClick:()=>d(h.href),className:`group relative w-full text-left flex items-center ${w} rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                ${g?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                ${e&&!s?"justify-center p-2 sm:p-3":`p-3 sm:p-3 ${b}`}
                ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?h.label:"",children:[g&&!e&&r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),r.jsx("div",{className:"relative z-10",children:r.jsx(x,{className:`flex-shrink-0 transition-all duration-200
                    ${e&&!s?"w-6 h-6":"w-5 h-5"}
                    ${g?h.color:"text-slate-500 group-hover:text-slate-700"}
                    ${g?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&r.jsx("span",{className:"font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:h.label}),g&&(!e||s)&&r.jsx("div",{className:"ml-auto flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!s&&r.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:r.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?r.jsx(Kn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):r.jsxs(r.Fragment,{children:[r.jsx(ha,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),r.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return r.jsxs(r.Fragment,{children:[!s&&r.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:r.jsx("div",{className:"flex flex-col h-full",children:r.jsx(m,{})})}),s&&r.jsxs("div",{className:"md:hidden",children:[n&&r.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>a(!1),"aria-hidden":"true"}),r.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:r.jsx("div",{className:"flex flex-col h-full",children:r.jsx(m,{})})})]})]})}function uG(){return r.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[r.jsx(cG,{}),r.jsxs("div",{className:"flex flex-1 flex-col",children:[r.jsx(XK,{className:"h-16 border-b"}),r.jsx("main",{className:"flex-1 p-6",children:r.jsx(CE,{})})]})]})}var Zv={},Qv={},hk;function dG(){return hk||(hk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(Qv)),Qv}var Jv={},pk;function VO(){return pk||(pk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(Jv)),Jv}var ey={},xk;function HO(){return xk||(xk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;return typeof n=="string"||typeof n=="symbol"?n:Object.is((a=n==null?void 0:n.valueOf)==null?void 0:a.call(n),-0)?"-0":String(n)}e.toKey=t}(ey)),ey}var ty={},gk;function Mj(){return gk||(gk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const a=[],s=n.length;if(s===0)return a;let l=0,c="",d="",f=!1;for(n.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const m=n[l];d?m==="\\"&&l+1<s?(l++,c+=n[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,a.push(c),c=""):c+=m:m==="["?(f=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,l++}return c&&a.push(c),a}e.toPath=t}(ty)),ty}var vk;function Dj(){return vk||(vk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dG(),n=VO(),a=HO(),s=Mj();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?n.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=a.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let x=0;x<f.length;x++){if(h==null||t.isUnsafeProperty(f[x]))return m;h=h[f[x]]}return h===void 0?m:h}e.get=l}(Zv)),Zv}var ny,yk;function fG(){return yk||(yk=1,ny=Dj().get),ny}var mG=fG();const Wi=Ba(mG);var ry={exports:{}},Rt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk;function hG(){if(bk)return Rt;bk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case n:case s:case a:case f:case m:case g:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case x:case h:return j;case l:return j;default:return S}}case t:return S}}}return Rt.ContextConsumer=l,Rt.ContextProvider=c,Rt.Element=e,Rt.ForwardRef=d,Rt.Fragment=n,Rt.Lazy=x,Rt.Memo=h,Rt.Portal=t,Rt.Profiler=s,Rt.StrictMode=a,Rt.Suspense=f,Rt.SuspenseList=m,Rt.isContextConsumer=function(j){return w(j)===l},Rt.isContextProvider=function(j){return w(j)===c},Rt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Rt.isForwardRef=function(j){return w(j)===d},Rt.isFragment=function(j){return w(j)===n},Rt.isLazy=function(j){return w(j)===x},Rt.isMemo=function(j){return w(j)===h},Rt.isPortal=function(j){return w(j)===t},Rt.isProfiler=function(j){return w(j)===s},Rt.isStrictMode=function(j){return w(j)===a},Rt.isSuspense=function(j){return w(j)===f},Rt.isSuspenseList=function(j){return w(j)===m},Rt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===s||j===a||j===f||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===h||j.$$typeof===c||j.$$typeof===l||j.$$typeof===d||j.$$typeof===b||j.getModuleId!==void 0)},Rt.typeOf=w,Rt}var wk;function pG(){return wk||(wk=1,ry.exports=hG()),ry.exports}var xG=pG(),Rn=e=>e===0?0:e>0?1:-1,Vr=e=>typeof e=="number"&&e!=+e,Bl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Fe=e=>(typeof e=="number"||e instanceof Number)&&!Vr(e),ls=e=>Fe(e)||typeof e=="string",gG=0,lf=e=>{var t=++gG;return"".concat(e||"").concat(t)},dr=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(t)&&typeof t!="string")return a;var l;if(Bl(t)){if(n==null)return a;var c=t.indexOf("%");l=n*parseFloat(t.slice(0,c))/100}else l=+t;return Vr(l)&&(l=a),s&&n!=null&&l>n&&(l=n),l},qO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},a=0;a<t;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},jk=(e,t)=>Fe(e)&&Fe(t)?n=>e+n*(t-e):()=>t;function Pa(e,t,n){return Fe(e)&&Fe(t)?e+n*(t-e):t}function KO(e,t,n){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Wi(a,t))===n)}var Kt=e=>e===null||typeof e>"u",Ef=e=>Kt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),vG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Rj(e){if(typeof e!="string")return!1;var t=vG;return t.includes(e)}var yG=["viewBox","children"],Nk=["points","pathLength"],ay={svg:yG,polygon:Nk,polyline:Nk},Lj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{Rj(s)&&(a[s]=l=>n[s](n,l))}),a},bG=(e,t,n)=>a=>(e(t,n,a),null),Tp=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var l=e[s];Rj(s)&&typeof l=="function"&&(a||(a={}),a[s]=bG(l,t,n))}),a},wG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function GO(e){if(typeof e!="string")return!1;var t=wG;return t.includes(e)}function ei(e){var t=Object.entries(e).filter(n=>{var[a]=n;return GO(a)});return Object.fromEntries(t)}var Sk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",_k=null,sy=null,YO=e=>{if(e===_k&&Array.isArray(sy))return sy;var t=[];return v.Children.forEach(e,n=>{Kt(n)||(xG.isFragment(n)?t=t.concat(YO(n.props.children)):t.push(n))}),sy=t,_k=e,t};function Pf(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(s=>Sk(s)):a=[Sk(t)],YO(e).forEach(s=>{var l=Wi(s,"type.displayName")||Wi(s,"type.name");a.indexOf(l)!==-1&&n.push(s)}),n}var WO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,jG=(e,t,n,a)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var l=(s=a&&(ay==null?void 0:ay[a]))!==null&&s!==void 0?s:[],c=t.startsWith("data-"),d=typeof e!="function"&&(!!a&&l.includes(t)||GO(t)),f=!!n&&Rj(t);return c||d||f},Xt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(v.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var s={};return Object.keys(a).forEach(l=>{var c;jG((c=a)===null||c===void 0?void 0:c[l],l,t,n)&&(s[l]=a[l])}),s},NG=["children","width","height","viewBox","className","style","title","desc"];function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},B1.apply(null,arguments)}function SG(e,t){if(e==null)return{};var n,a,s=_G(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function _G(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var XO=v.forwardRef((e,t)=>{var{children:n,width:a,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=SG(e,NG),x=l||{width:a,height:s,x:0,y:0},g=ut("recharts-surface",c);return v.createElement("svg",B1({},Xt(h,!0,"svg"),{className:g,width:a,height:s,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),v.createElement("title",null,f),v.createElement("desc",null,m),n)}),kG=["children","className"];function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},U1.apply(null,arguments)}function CG(e,t){if(e==null)return{};var n,a,s=AG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function AG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var tr=v.forwardRef((e,t)=>{var{children:n,className:a}=e,s=CG(e,kG),l=ut("recharts-layer",a);return v.createElement("g",U1({className:l},Xt(s,!0),{ref:t}),n)}),TG=v.createContext(null);function Ft(e){return function(){return e}}const ZO=Math.cos,T0=Math.sin,Fa=Math.sqrt,E0=Math.PI,Ep=2*E0,F1=Math.PI,V1=2*F1,Pl=1e-6,EG=V1-Pl;function QO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function PG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QO;const n=10**t;return function(a){this._+=a[0];for(let s=1,l=a.length;s<l;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class OG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QO:PG(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,l,c){this._append`C${+t},${+n},${+a},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,n,a,s,l){if(t=+t,n=+n,a=+a,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=a-t,m=s-n,h=c-t,x=d-n,g=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Pl)if(!(Math.abs(x*f-m*h)>Pl)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let b=a-c,w=s-d,j=f*f+m*m,S=b*b+w*w,k=Math.sqrt(j),_=Math.sqrt(g),C=l*Math.tan((F1-Math.acos((j+g-S)/(2*k*_)))/2),P=C/_,T=C/k;Math.abs(P-1)>Pl&&this._append`L${t+P*h},${n+P*x}`,this._append`A${l},${l},0,0,${+(x*b>h*w)},${this._x1=t+T*f},${this._y1=n+T*m}`}}arc(t,n,a,s,l,c){if(t=+t,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),f=a*Math.sin(s),m=t+d,h=n+f,x=1^c,g=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Pl||Math.abs(this._y1-h)>Pl)&&this._append`L${m},${h}`,a&&(g<0&&(g=g%V1+V1),g>EG?this._append`A${a},${a},0,1,${x},${t-d},${n-f}A${a},${a},0,1,${x},${this._x1=m},${this._y1=h}`:g>Pl&&this._append`A${a},${a},0,${+(g>=F1)},${x},${this._x1=t+a*Math.cos(l)},${this._y1=n+a*Math.sin(l)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function $j(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new OG(t)}function Ij(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JO(e){this._context=e}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pp(e){return new JO(e)}function eM(e){return e[0]}function tM(e){return e[1]}function nM(e,t){var n=Ft(!0),a=null,s=Pp,l=null,c=$j(d);e=typeof e=="function"?e:e===void 0?eM:Ft(e),t=typeof t=="function"?t:t===void 0?tM:Ft(t);function d(f){var m,h=(f=Ij(f)).length,x,g=!1,b;for(a==null&&(l=s(b=c())),m=0;m<=h;++m)!(m<h&&n(x=f[m],m,f))===g&&((g=!g)?l.lineStart():l.lineEnd()),g&&l.point(+e(x,m,f),+t(x,m,f));if(b)return l=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ft(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ft(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ft(!!f),d):n},d.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),d):s},d.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),d):a},d}function fh(e,t,n){var a=null,s=Ft(!0),l=null,c=Pp,d=null,f=$j(m);e=typeof e=="function"?e:e===void 0?eM:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?tM:Ft(+n);function m(x){var g,b,w,j=(x=Ij(x)).length,S,k=!1,_,C=new Array(j),P=new Array(j);for(l==null&&(d=c(_=f())),g=0;g<=j;++g){if(!(g<j&&s(S=x[g],g,x))===k)if(k=!k)b=g,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=g-1;w>=b;--w)d.point(C[w],P[w]);d.lineEnd(),d.areaEnd()}k&&(C[g]=+e(S,g,x),P[g]=+t(S,g,x),d.point(a?+a(S,g,x):C[g],n?+n(S,g,x):P[g]))}if(_)return d=null,_+""||null}function h(){return nM().defined(s).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:Ft(+x),a=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Ft(+x),m):e},m.x1=function(x){return arguments.length?(a=x==null?null:typeof x=="function"?x:Ft(+x),m):a},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:Ft(+x),n=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Ft(+x),m):t},m.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Ft(+x),m):n},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(n)},m.lineX1=function(){return h().x(a).y(t)},m.defined=function(x){return arguments.length?(s=typeof x=="function"?x:Ft(!!x),m):s},m.curve=function(x){return arguments.length?(c=x,l!=null&&(d=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=d=null:d=c(l=x),m):l},m}class rM{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function MG(e){return new rM(e,!0)}function DG(e){return new rM(e,!1)}const zj={draw(e,t){const n=Fa(t/E0);e.moveTo(n,0),e.arc(0,0,n,0,Ep)}},RG={draw(e,t){const n=Fa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},aM=Fa(1/3),LG=aM*2,$G={draw(e,t){const n=Fa(t/LG),a=n*aM;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},IG={draw(e,t){const n=Fa(t),a=-n/2;e.rect(a,a,n,n)}},zG=.8908130915292852,sM=T0(E0/10)/T0(7*E0/10),BG=T0(Ep/10)*sM,UG=-ZO(Ep/10)*sM,FG={draw(e,t){const n=Fa(t*zG),a=BG*n,s=UG*n;e.moveTo(0,-n),e.lineTo(a,s);for(let l=1;l<5;++l){const c=Ep*l/5,d=ZO(c),f=T0(c);e.lineTo(f*n,-d*n),e.lineTo(d*a-f*s,f*a+d*s)}e.closePath()}},iy=Fa(3),VG={draw(e,t){const n=-Fa(t/(iy*3));e.moveTo(0,n*2),e.lineTo(-iy*n,-n),e.lineTo(iy*n,-n),e.closePath()}},sa=-.5,ia=Fa(3)/2,H1=1/Fa(12),HG=(H1/2+1)*3,qG={draw(e,t){const n=Fa(t/HG),a=n/2,s=n*H1,l=a,c=n*H1+n,d=-l,f=c;e.moveTo(a,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(sa*a-ia*s,ia*a+sa*s),e.lineTo(sa*l-ia*c,ia*l+sa*c),e.lineTo(sa*d-ia*f,ia*d+sa*f),e.lineTo(sa*a+ia*s,sa*s-ia*a),e.lineTo(sa*l+ia*c,sa*c-ia*l),e.lineTo(sa*d+ia*f,sa*f-ia*d),e.closePath()}};function KG(e,t){let n=null,a=$j(s);e=typeof e=="function"?e:Ft(e||zj),t=typeof t=="function"?t:Ft(t===void 0?64:+t);function s(){let l;if(n||(n=l=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:Ft(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:Ft(+l),s):t},s.context=function(l){return arguments.length?(n=l??null,s):n},s}function P0(){}function O0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function iM(e){this._context=e}iM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:O0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:O0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GG(e){return new iM(e)}function lM(e){this._context=e}lM.prototype={areaStart:P0,areaEnd:P0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:O0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YG(e){return new lM(e)}function oM(e){this._context=e}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:O0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WG(e){return new oM(e)}function cM(e){this._context=e}cM.prototype={areaStart:P0,areaEnd:P0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function XG(e){return new cM(e)}function kk(e){return e<0?-1:1}function Ck(e,t,n){var a=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(a||s<0&&-0),c=(n-e._y1)/(s||a<0&&-0),d=(l*s+c*a)/(a+s);return(kk(l)+kk(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function Ak(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ly(e,t,n){var a=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-a)/3;e._context.bezierCurveTo(a+d,s+d*t,l-d,c-d*n,l,c)}function M0(e){this._context=e}M0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ly(this,this._t0,Ak(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ly(this,Ak(this,n=Ck(this,e,t)),n);break;default:ly(this,this._t0,n=Ck(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function uM(e){this._context=new dM(e)}(uM.prototype=Object.create(M0.prototype)).point=function(e,t){M0.prototype.point.call(this,t,e)};function dM(e){this._context=e}dM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,s,l){this._context.bezierCurveTo(t,e,a,n,l,s)}};function ZG(e){return new M0(e)}function QG(e){return new uM(e)}function fM(e){this._context=e}fM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=Tk(e),s=Tk(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(a[0][l],s[0][l],a[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Tk(e){var t,n=e.length-1,a,s=new Array(n),l=new Array(n),c=new Array(n);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/l[t-1],l[t]-=a,c[t]-=a*c[t-1];for(s[n-1]=c[n-1]/l[n-1],t=n-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function JG(e){return new fM(e)}function Op(e,t){this._context=e,this._t=t}Op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function eY(e){return new Op(e,.5)}function tY(e){return new Op(e,0)}function nY(e){return new Op(e,1)}function Pc(e,t){if((c=e.length)>1)for(var n=1,a,s,l=e[t[0]],c,d=l.length;n<c;++n)for(s=l,l=e[t[n]],a=0;a<d;++a)l[a][1]+=l[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function q1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function rY(e,t){return e[t]}function aY(e){const t=[];return t.key=e,t}function sY(){var e=Ft([]),t=q1,n=Pc,a=rY;function s(l){var c=Array.from(e.apply(this,arguments),aY),d,f=c.length,m=-1,h;for(const x of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+a(x,c[d].key,m,l)]).data=x;for(d=0,h=Ij(t(c));d<f;++d)c[h[d]].index=d;return n(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Ft(Array.from(l)),s):e},s.value=function(l){return arguments.length?(a=typeof l=="function"?l:Ft(+l),s):a},s.order=function(l){return arguments.length?(t=l==null?q1:typeof l=="function"?l:Ft(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(n=l??Pc,s):n},s}function iY(e,t){if((a=e.length)>0){for(var n,a,s=0,l=e[0].length,c;s<l;++s){for(c=n=0;n<a;++n)c+=e[n][s][1]||0;if(c)for(n=0;n<a;++n)e[n][s][1]/=c}Pc(e,t)}}function lY(e,t){if((s=e.length)>0){for(var n=0,a=e[t[0]],s,l=a.length;n<l;++n){for(var c=0,d=0;c<s;++c)d+=e[c][n][1]||0;a[n][1]+=a[n][0]=-d/2}Pc(e,t)}}function oY(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var n=0,a=1,s,l,c;a<l;++a){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],x=h[a][1]||0,g=h[a-1][1]||0,b=(x-g)/2,w=0;w<d;++w){var j=e[t[w]],S=j[a][1]||0,k=j[a-1][1]||0;b+=S-k}f+=x,m+=b*x}s[a-1][1]+=s[a-1][0]=n,f&&(n-=m/f)}s[a-1][1]+=s[a-1][0]=n,Pc(e,t)}}var cY=["type","size","sizeType"];function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},K1.apply(null,arguments)}function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Pk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(a){uY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uY(e,t,n){return(t=dY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dY(e){var t=fY(e,"string");return typeof t=="symbol"?t:t+""}function fY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mY(e,t){if(e==null)return{};var n,a,s=hY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function hY(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var mM={symbolCircle:zj,symbolCross:RG,symbolDiamond:$G,symbolSquare:IG,symbolStar:FG,symbolTriangle:VG,symbolWye:qG},pY=Math.PI/180,xY=e=>{var t="symbol".concat(Ef(e));return mM[t]||zj},gY=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*pY;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vY=(e,t)=>{mM["symbol".concat(Ef(e))]=t},hM=e=>{var{type:t="circle",size:n=64,sizeType:a="area"}=e,s=mY(e,cY),l=Pk(Pk({},s),{},{type:t,size:n,sizeType:a}),c=()=>{var x=xY(t),g=KG().type(x).size(gY(n,a,t));return g()},{className:d,cx:f,cy:m}=l,h=Xt(l,!0);return f===+f&&m===+m&&n===+n?v.createElement("path",K1({},h,{className:ut("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};hM.registerSymbol=vY;var oy={},cy={},Ok;function yY(){return Ok||(Ok=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){const s=new Map;for(let l=0;l<n.length;l++){const c=n[l],d=a(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t}(cy)),cy}var uy={},Mk;function pM(){return Mk||(Mk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(uy)),uy}var dy={},fy={},my={},Dk;function bY(){return Dk||(Dk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(my)),my}var Rk;function Bj(){return Rk||(Rk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bY();function n(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=n}(fy)),fy}var hy={},Lk;function wY(){return Lk||(Lk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(hy)),hy}var $k;function jY(){return $k||($k=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bj(),n=wY();function a(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a}(dy)),dy}var py={},xy={},Ik;function NY(){return Ik||(Ik=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dj();function n(a){return function(s){return t.get(s,a)}}e.property=n}(xy)),xy}var gy={},vy={},yy={},by={},zk;function xM(){return zk||(zk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(by)),by}var wy={},Bk;function gM(){return Bk||(Bk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(wy)),wy}var jy={},Uk;function Uj(){return Uk||(Uk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){return n===a||Number.isNaN(n)&&Number.isNaN(a)}e.eq=t}(jy)),jy}var Fk;function SY(){return Fk||(Fk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fj(),n=xM(),a=gM(),s=Uj();function l(x,g,b){return typeof b!="function"?t.isMatch(x,g):c(x,g,function w(j,S,k,_,C,P){const T=b(j,S,k,_,C,P);return T!==void 0?!!T:c(j,S,w,P)},new Map)}function c(x,g,b,w){if(g===x)return!0;switch(typeof g){case"object":return d(x,g,b,w);case"function":return Object.keys(g).length>0?c(x,{...g},b,w):s.eq(x,g);default:return n.isObject(x)?typeof g=="string"?g==="":!0:s.eq(x,g)}}function d(x,g,b,w){if(g==null)return!0;if(Array.isArray(g))return m(x,g,b,w);if(g instanceof Map)return f(x,g,b,w);if(g instanceof Set)return h(x,g,b,w);const j=Object.keys(g);if(x==null)return j.length===0;if(j.length===0)return!0;if(w&&w.has(g))return w.get(g)===x;w&&w.set(g,x);try{for(let S=0;S<j.length;S++){const k=j[S];if(!a.isPrimitive(x)&&!(k in x)||g[k]===void 0&&x[k]!==void 0||g[k]===null&&x[k]!==null||!b(x[k],g[k],k,x,g,w))return!1}return!0}finally{w&&w.delete(g)}}function f(x,g,b,w){if(g.size===0)return!0;if(!(x instanceof Map))return!1;for(const[j,S]of g.entries()){const k=x.get(j);if(b(k,S,j,x,g,w)===!1)return!1}return!0}function m(x,g,b,w){if(g.length===0)return!0;if(!Array.isArray(x))return!1;const j=new Set;for(let S=0;S<g.length;S++){const k=g[S];let _=!1;for(let C=0;C<x.length;C++){if(j.has(C))continue;const P=x[C];let T=!1;if(b(P,k,S,x,g,w)&&(T=!0),T){j.add(C),_=!0;break}}if(!_)return!1}return!0}function h(x,g,b,w){return g.size===0?!0:x instanceof Set?m([...x],[...g],b,w):!1}e.isMatchWith=l,e.isSetMatch=h}(yy)),yy}var Vk;function Fj(){return Vk||(Vk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SY();function n(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=n}(vy)),vy}var Ny={},Sy={},_y={},Hk;function vM(){return Hk||(Hk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(a=>Object.prototype.propertyIsEnumerable.call(n,a))}e.getSymbols=t}(_y)),_y}var ky={},qk;function Vj(){return qk||(qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(ky)),ky}var Cy={},Kk;function Hj(){return Kk||(Kk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",a="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",x="[object Function]",g="[object ArrayBuffer]",b="[object Object]",w="[object Error]",j="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",C="[object Uint32Array]",P="[object BigUint64Array]",T="[object Int8Array]",E="[object Int16Array]",L="[object Int32Array]",M="[object BigInt64Array]",B="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=P,e.booleanTag=s,e.dataViewTag=j,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=B,e.float64ArrayTag=K,e.functionTag=x,e.int16ArrayTag=E,e.int32ArrayTag=L,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=a,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=_,e.uint32ArrayTag=C,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=k}(Cy)),Cy}var Ay={},Gk;function _Y(){return Gk||(Gk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(Ay)),Ay}var Yk;function yM(){return Yk||(Yk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vM(),n=Vj(),a=Hj(),s=gM(),l=_Y();function c(h,x){return d(h,void 0,h,new Map,x)}function d(h,x,g,b=new Map,w=void 0){const j=w==null?void 0:w(h,x,g,b);if(j!==void 0)return j;if(s.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const S=new Array(h.length);b.set(h,S);for(let k=0;k<h.length;k++)S[k]=d(h[k],k,g,b,w);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;b.set(h,S);for(const[k,_]of h)S.set(k,d(_,k,g,b,w));return S}if(h instanceof Set){const S=new Set;b.set(h,S);for(const k of h)S.add(d(k,void 0,g,b,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,S);for(let k=0;k<h.length;k++)S[k]=d(h[k],k,g,b,w);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,S),f(S,h,g,b,w),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return b.set(h,S),f(S,h,g,b,w),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return b.set(h,S),f(S,h,g,b,w),S}if(h instanceof Error){const S=new h.constructor;return b.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,g,b,w),S}if(typeof h=="object"&&m(h)){const S=Object.create(Object.getPrototypeOf(h));return b.set(h,S),f(S,h,g,b,w),S}return h}function f(h,x,g=h,b,w){const j=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<j.length;S++){const k=j[S],_=Object.getOwnPropertyDescriptor(h,k);(_==null||_.writable)&&(h[k]=d(x[k],k,g,b,w))}}function m(h){switch(n.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f}(Sy)),Sy}var Wk;function kY(){return Wk||(Wk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yM();function n(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=n}(Ny)),Ny}var Xk;function CY(){return Xk||(Xk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fj(),n=kY();function a(s){return s=n.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=a}(gy)),gy}var Ty={},Ey={},Py={},Zk;function AY(){return Zk||(Zk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yM(),n=Hj();function a(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l==null?void 0:l(c,d,f,m);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(x,s),x}case n.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=a}(Py)),Py}var Qk;function TY(){return Qk||(Qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AY();function n(a){return t.cloneDeepWith(a)}e.cloneDeep=n}(Ey)),Ey}var Oy={},My={},Jk;function bM(){return Jk||(Jk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=n}(My)),My}var Dy={},eC;function EY(){return eC||(eC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vj();function n(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=n}(Dy)),Dy}var tC;function PY(){return tC||(tC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO(),n=bM(),a=EY(),s=Mj();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const x=f[h];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||a.isArguments(m))&&n.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l}(Oy)),Oy}var nC;function OY(){return nC||(nC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fj(),n=HO(),a=TY(),s=Dj(),l=PY();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=a.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c}(Ty)),Ty}var rC;function MY(){return rC||(rC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pM(),n=NY(),a=CY(),s=OY();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=l}(py)),py}var aC;function DY(){return aC||(aC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yY(),n=pM(),a=jY(),s=MY();function l(c,d=n.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l}(oy)),oy}var Ry,sC;function RY(){return sC||(sC=1,Ry=DY().uniqBy),Ry}var LY=RY();const iC=Ba(LY);function $Y(e,t,n){return t===!0?iC(e,n):typeof t=="function"?iC(e,t):e}var Ly={exports:{}},$y={},Iy={exports:{}},zy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function IY(){if(lC)return zy;lC=1;var e=Fc();function t(x,g){return x===g&&(x!==0||1/x===1/g)||x!==x&&g!==g}var n=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(x,g){var b=g(),w=a({inst:{value:b,getSnapshot:g}}),j=w[0].inst,S=w[1];return l(function(){j.value=b,j.getSnapshot=g,f(j)&&S({inst:j})},[x,b,g]),s(function(){return f(j)&&S({inst:j}),x(function(){f(j)&&S({inst:j})})},[x]),c(b),b}function f(x){var g=x.getSnapshot;x=x.value;try{var b=g();return!n(x,b)}catch{return!0}}function m(x,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return zy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,zy}var oC;function zY(){return oC||(oC=1,Iy.exports=IY()),Iy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC;function BY(){if(cC)return $y;cC=1;var e=Fc(),t=zY();function n(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return $y.useSyncExternalStoreWithSelector=function(m,h,x,g,b){var w=l(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=d(function(){function k(E){if(!_){if(_=!0,C=E,E=g(E),b!==void 0&&j.hasValue){var L=j.value;if(b(L,E))return P=L}return P=E}if(L=P,a(C,E))return L;var M=g(E);return b!==void 0&&b(L,M)?(C=E,L):(C=E,P=M)}var _=!1,C,P,T=x===void 0?null:x;return[function(){return k(h())},T===null?void 0:function(){return k(T())}]},[h,x,g,b]);var S=s(m,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=S},[S]),f(S),S},$y}var uC;function UY(){return uC||(uC=1,Ly.exports=BY()),Ly.exports}var FY=UY(),qj=v.createContext(null),VY=e=>e,dn=()=>{var e=v.useContext(qj);return e?e.store.dispatch:VY},f0=()=>{},HY=()=>f0,qY=(e,t)=>e===t;function Ge(e){var t=v.useContext(qj);return FY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:HY,t?t.store.getState:f0,t?t.store.getState:f0,t?e:f0,qY)}function KY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function GY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function YY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${n}]`)}}var dC=e=>Array.isArray(e)?e:[e];function WY(e){const t=Array.isArray(e[0])?e[0]:e;return YY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function XY(e,t){const n=[],{length:a}=e;for(let s=0;s<a;s++)n.push(e[s].apply(null,t));return n}var ZY=class{constructor(e){this.value=e}deref(){return this.value}},QY=typeof WeakRef<"u"?WeakRef:ZY,JY=0,fC=1;function mh(){return{s:JY,v:void 0,o:null,p:null}}function wM(e,t={}){let n=mh();const{resultEqualityCheck:a}=t;let s,l=0;function c(){var x;let d=n;const{length:f}=arguments;for(let g=0,b=f;g<b;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const S=j.get(w);S===void 0?(d=mh(),j.set(w,d)):d=S}else{let j=d.p;j===null&&(d.p=j=new Map);const S=j.get(w);S===void 0?(d=mh(),j.set(w,d)):d=S}}const m=d;let h;if(d.s===fC)h=d.v;else if(h=e.apply(null,arguments),l++,a){const g=((x=s==null?void 0:s.deref)==null?void 0:x.call(s))??s;g!=null&&a(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new QY(h):h}return m.s=fC,m.v=h,h}return c.clearCache=()=>{n=mh(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function eW(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),KY(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...n,...f},{memoize:x,memoizeOptions:g=[],argsMemoize:b=wM,argsMemoizeOptions:w=[]}=h,j=dC(g),S=dC(w),k=WY(s),_=x(function(){return l++,m.apply(null,arguments)},...j),C=b(function(){c++;const T=XY(k,arguments);return d=_.apply(null,T),d},...S);return Object.assign(C,{resultFunc:m,memoizedResultFunc:_,dependencies:k,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:b})};return Object.assign(a,{withTypes:()=>a}),a}var ve=eW(wM),tW=Object.assign((e,t=ve)=>{GY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),a=n.map(l=>e[l]);return t(a,(...l)=>l.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>tW}),By={},Uy={},Fy={},mC;function nW(){return mC||(mC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const n=(a,s,l)=>{if(a!==s){const c=t(a),d=t(s);if(c===d&&c===0){if(a<s)return l==="desc"?1:-1;if(a>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=n}(Fy)),Fy}var Vy={},Hy={},hC;function jM(){return hC||(hC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(Hy)),Hy}var pC;function rW(){return pC||(pC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(a.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s}(Vy)),Vy}var xC;function aW(){return xC||(xC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nW(),n=rW(),a=Mj();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const m=(b,w)=>{let j=b;for(let S=0;S<w.length&&j!=null;++S)j=j[w[S]];return j},h=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:m(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?m(w,b):typeof w=="object"?w[b]:w,x=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:a.toPath(b)}));return l.map(b=>({original:b,criteria:x.map(w=>h(w,b))})).slice().sort((b,w)=>{for(let j=0;j<x.length;j++){const S=t.compareValues(b.criteria[j],w.criteria[j],d[j]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=s}(Uy)),Uy}var qy={},gC;function sW(){return gC||(gC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a=1){const s=[],l=Math.floor(a),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(n,0),s}e.flatten=t}(qy)),qy}var Ky={},vC;function NM(){return vC||(vC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bM(),n=Bj(),a=xM(),s=Uj();function l(c,d,f){return a.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l}(Ky)),Ky}var yC;function iW(){return yC||(yC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aW(),n=sW(),a=NM();function s(l,...c){const d=c.length;return d>1&&a.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,n.flatten(c),["asc"])}e.sortBy=s}(By)),By}var Gy,bC;function lW(){return bC||(bC=1,Gy=iW().sortBy),Gy}var oW=lW();const Mp=Ba(oW);var SM=e=>e.legend.settings,cW=e=>e.legend.size,uW=e=>e.legend.payload;ve([uW,SM],(e,t)=>{var{itemSorter:n}=t,a=e.flat(1);return n?Mp(a,n):a});var hh=1;function dW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),a=v.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>hh||Math.abs(c.left-t.left)>hh||Math.abs(c.top-t.top)>hh||Math.abs(c.width-t.width)>hh)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Fn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fW=typeof Symbol=="function"&&Symbol.observable||"@@observable",wC=fW,Yy=()=>Math.random().toString(36).substring(7).split("").join("."),mW={INIT:`@@redux/INIT${Yy()}`,REPLACE:`@@redux/REPLACE${Yy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yy()}`},D0=mW;function Kj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _M(e,t,n){if(typeof e!="function")throw new Error(Fn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Fn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Fn(1));return n(_M)(e,t)}let a=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((S,k)=>{c.set(k,S)}))}function h(){if(f)throw new Error(Fn(3));return s}function x(S){if(typeof S!="function")throw new Error(Fn(4));if(f)throw new Error(Fn(5));let k=!0;m();const _=d++;return c.set(_,S),function(){if(k){if(f)throw new Error(Fn(6));k=!1,m(),c.delete(_),l=null}}}function g(S){if(!Kj(S))throw new Error(Fn(7));if(typeof S.type>"u")throw new Error(Fn(8));if(typeof S.type!="string")throw new Error(Fn(17));if(f)throw new Error(Fn(9));try{f=!0,s=a(s,S)}finally{f=!1}return(l=c).forEach(_=>{_()}),S}function b(S){if(typeof S!="function")throw new Error(Fn(10));a=S,g({type:D0.REPLACE})}function w(){const S=x;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Fn(11));function _(){const P=k;P.next&&P.next(h())}return _(),{unsubscribe:S(_)}},[wC](){return this}}}return g({type:D0.INIT}),{dispatch:g,subscribe:x,getState:h,replaceReducer:b,[wC]:w}}function hW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:D0.INIT})>"u")throw new Error(Fn(12));if(typeof n(void 0,{type:D0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fn(13))})}function kM(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(n[c]=e[c])}const a=Object.keys(n);let s;try{hW(n)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<a.length;h++){const x=a[h],g=n[x],b=c[x],w=g(b,d);if(typeof w>"u")throw d&&d.type,new Error(Fn(14));m[x]=w,f=f||w!==b}return f=f||a.length!==Object.keys(c).length,f?m:c}}function R0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...a)=>t(n(...a)))}function pW(...e){return t=>(n,a)=>{const s=t(n,a);let l=()=>{throw new Error(Fn(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=R0(...d)(s.dispatch),{...s,dispatch:l}}}function CM(e){return Kj(e)&&"type"in e&&typeof e.type=="string"}var AM=Symbol.for("immer-nothing"),jC=Symbol.for("immer-draftable"),Hr=Symbol.for("immer-state");function Ma(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Oc=Object.getPrototypeOf;function eo(e){return!!e&&!!e[Hr]}function Ws(e){var t;return e?TM(e)||Array.isArray(e)||!!e[jC]||!!((t=e.constructor)!=null&&t[jC])||Rp(e)||Lp(e):!1}var xW=Object.prototype.constructor.toString();function TM(e){if(!e||typeof e!="object")return!1;const t=Oc(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===xW}function L0(e,t){Dp(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,a)=>t(a,n,e))}function Dp(e){const t=e[Hr];return t?t.type_:Array.isArray(e)?1:Rp(e)?2:Lp(e)?3:0}function G1(e,t){return Dp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function EM(e,t,n){const a=Dp(e);a===2?e.set(t,n):a===3?e.add(n):e[t]=n}function gW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Rp(e){return e instanceof Map}function Lp(e){return e instanceof Set}function Ol(e){return e.copy_||e.base_}function Y1(e,t){if(Rp(e))return new Map(e);if(Lp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=TM(e);if(t===!0||t==="class_only"&&!n){const a=Object.getOwnPropertyDescriptors(e);delete a[Hr];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Oc(e),a)}else{const a=Oc(e);if(a!==null&&n)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function Gj(e,t=!1){return $p(e)||eo(e)||!Ws(e)||(Dp(e)>1&&(e.set=e.add=e.clear=e.delete=vW),Object.freeze(e),t&&Object.entries(e).forEach(([n,a])=>Gj(a,!0))),e}function vW(){Ma(2)}function $p(e){return Object.isFrozen(e)}var yW={};function to(e){const t=yW[e];return t||Ma(0,e),t}var of;function PM(){return of}function bW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function NC(e,t){t&&(to("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function W1(e){X1(e),e.drafts_.forEach(wW),e.drafts_=null}function X1(e){e===of&&(of=e.parent_)}function SC(e){return of=bW(of,e)}function wW(e){const t=e[Hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _C(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Hr].modified_&&(W1(t),Ma(4)),Ws(e)&&(e=$0(t,e),t.parent_||I0(t,e)),t.patches_&&to("Patches").generateReplacementPatches_(n[Hr].base_,e,t.patches_,t.inversePatches_)):e=$0(t,n,[]),W1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==AM?e:void 0}function $0(e,t,n){if($p(t))return t;const a=t[Hr];if(!a)return L0(t,(s,l)=>kC(e,a,t,s,l,n)),t;if(a.scope_!==e)return t;if(!a.modified_)return I0(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,c=!1;a.type_===3&&(l=new Set(s),s.clear(),c=!0),L0(l,(d,f)=>kC(e,a,s,d,f,n,c)),I0(e,s,!1),n&&e.patches_&&to("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function kC(e,t,n,a,s,l,c){if(eo(s)){const d=l&&t&&t.type_!==3&&!G1(t.assigned_,a)?l.concat(a):void 0,f=$0(e,s,d);if(EM(n,a,f),eo(f))e.canAutoFreeze_=!1;else return}else c&&n.add(s);if(Ws(s)&&!$p(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$0(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,a)&&I0(e,s)}}function I0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gj(t,n)}function jW(e,t){const n=Array.isArray(e),a={type_:n?1:0,scope_:t?t.scope_:PM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,l=Yj;n&&(s=[a],l=cf);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,d}var Yj={get(e,t){if(t===Hr)return e;const n=Ol(e);if(!G1(n,t))return NW(e,n,t);const a=n[t];return e.finalized_||!Ws(a)?a:a===Wy(e.base_,t)?(Xy(e),e.copy_[t]=Q1(a,e)):a},has(e,t){return t in Ol(e)},ownKeys(e){return Reflect.ownKeys(Ol(e))},set(e,t,n){const a=OM(Ol(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const s=Wy(Ol(e),t),l=s==null?void 0:s[Hr];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(gW(n,s)&&(n!==void 0||G1(e.base_,t)))return!0;Xy(e),Z1(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Wy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xy(e),Z1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ol(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:n[t]}},defineProperty(){Ma(11)},getPrototypeOf(e){return Oc(e.base_)},setPrototypeOf(){Ma(12)}},cf={};L0(Yj,(e,t)=>{cf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cf.deleteProperty=function(e,t){return cf.set.call(this,e,t,void 0)};cf.set=function(e,t,n){return Yj.set.call(this,e[0],t,n,e[0])};function Wy(e,t){const n=e[Hr];return(n?Ol(n):e)[t]}function NW(e,t,n){var s;const a=OM(t,n);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function OM(e,t){if(!(t in e))return;let n=Oc(e);for(;n;){const a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=Oc(n)}}function Z1(e){e.modified_||(e.modified_=!0,e.parent_&&Z1(e.parent_))}function Xy(e){e.copy_||(e.copy_=Y1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var SW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,a)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(f=l,...m){return c.produce(f,h=>n.call(this,h,...m))}}typeof n!="function"&&Ma(6),a!==void 0&&typeof a!="function"&&Ma(7);let s;if(Ws(t)){const l=SC(this),c=Q1(t,void 0);let d=!0;try{s=n(c),d=!1}finally{d?W1(l):X1(l)}return NC(l,a),_C(s,l)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===AM&&(s=void 0),this.autoFreeze_&&Gj(s,!0),a){const l=[],c=[];to("Patches").generateReplacementPatches_(t,s,l,c),a(l,c)}return s}else Ma(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let a,s;return[this.produce(t,n,(c,d)=>{a=c,s=d}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ws(e)||Ma(8),eo(e)&&(e=zs(e));const t=SC(this),n=Q1(e,void 0);return n[Hr].isManual_=!0,X1(t),n}finishDraft(e,t){const n=e&&e[Hr];(!n||!n.isManual_)&&Ma(9);const{scope_:a}=n;return NC(a,t),_C(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const a=to("Patches").applyPatches_;return eo(e)?a(e,t):this.produce(e,s=>a(s,t))}};function Q1(e,t){const n=Rp(e)?to("MapSet").proxyMap_(e,t):Lp(e)?to("MapSet").proxySet_(e,t):jW(e,t);return(t?t.scope_:PM()).drafts_.push(n),n}function zs(e){return eo(e)||Ma(10,e),MM(e)}function MM(e){if(!Ws(e)||$p(e))return e;const t=e[Hr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Y1(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Y1(e,!0);return L0(n,(a,s)=>{EM(n,a,MM(s))}),t&&(t.finalized_=!1),n}var qr=new SW,DM=qr.produce;qr.produceWithPatches.bind(qr);qr.setAutoFreeze.bind(qr);qr.setUseStrictShallowCopy.bind(qr);qr.applyPatches.bind(qr);qr.createDraft.bind(qr);qr.finishDraft.bind(qr);function RM(e){return({dispatch:n,getState:a})=>s=>l=>typeof l=="function"?l(n,a,e):s(l)}var _W=RM(),kW=RM,CW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?R0:R0.apply(null,arguments)};function xa(e,t){function n(...a){if(t){let s=t(...a);if(!s)throw new Error(Fr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=a=>CM(a)&&a.type===e,n}var LM=class Pd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Pd.prototype)}static get[Symbol.species](){return Pd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Pd(...t[0].concat(this)):new Pd(...t.concat(this))}};function CC(e){return Ws(e)?DM(e,()=>{}):e}function ph(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function AW(e){return typeof e=="boolean"}var TW=()=>function(t){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new LM;return n&&(AW(n)?c.push(_W):c.push(kW(n.extraArgument))),c},EW="RTK_autoBatch",AC=e=>t=>{setTimeout(t,e)},PW=(e={type:"raf"})=>t=>(...n)=>{const a=t(...n);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:AC(10):e.type==="callback"?e.queueNotification:AC(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const x=()=>s&&h(),g=a.subscribe(x);return d.add(h),()=>{g(),d.delete(h)}},dispatch(h){var x;try{return s=!((x=h==null?void 0:h.meta)!=null&&x[EW]),l=!s,l&&(c||(c=!0,f(m))),a.dispatch(h)}finally{s=!0}}})},OW=e=>function(n){const{autoBatch:a=!0}=n??{};let s=new LM(e);return a&&s.push(PW(typeof a=="object"?a:void 0)),s};function MW(e){const t=TW(),{reducer:n=void 0,middleware:a,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Kj(n))d=kM(n);else throw new Error(Fr(1));let f;typeof a=="function"?f=a(t):f=t();let m=R0;s&&(m=CW({trace:!1,...typeof s=="object"&&s}));const h=pW(...f),x=OW(h);let g=typeof c=="function"?c(x):x();const b=m(...g);return _M(d,l,b)}function $M(e){const t={},n=[];let a;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Fr(28));if(d in t)throw new Error(Fr(29));return t[d]=c,s},addMatcher(l,c){return n.push({matcher:l,reducer:c}),s},addDefaultCase(l){return a=l,s}};return e(s),[t,n,a]}function DW(e){return typeof e=="function"}function RW(e,t){let[n,a,s]=$M(t),l;if(DW(e))l=()=>CC(e());else{const d=CC(e);l=()=>d}function c(d=l(),f){let m=[n[f.type],...a.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,x)=>{if(x)if(eo(h)){const b=x(h,f);return b===void 0?h:b}else{if(Ws(h))return DM(h,g=>x(g,f));{const g=x(h,f);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},d)}return c.getInitialState=l,c}var LW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$W=(e=21)=>{let t="",n=e;for(;n--;)t+=LW[Math.random()*64|0];return t},IW=Symbol.for("rtk-slice-createasyncthunk");function zW(e,t){return`${e}/${t}`}function BW({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[IW];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(Fr(11));const d=(typeof s.reducers=="function"?s.reducers(FW()):s.reducers)||{},f=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,T){const E=typeof P=="string"?P:P.type;if(!E)throw new Error(Fr(12));if(E in m.sliceCaseReducersByType)throw new Error(Fr(13));return m.sliceCaseReducersByType[E]=T,h},addMatcher(P,T){return m.sliceMatchers.push({matcher:P,reducer:T}),h},exposeAction(P,T){return m.actionCreators[P]=T,h},exposeCaseReducer(P,T){return m.sliceCaseReducersByName[P]=T,h}};f.forEach(P=>{const T=d[P],E={reducerName:P,type:zW(l,P),createNotation:typeof s.reducers=="function"};HW(T)?KW(E,T,h,t):VW(E,T,h)});function x(){const[P={},T=[],E=void 0]=typeof s.extraReducers=="function"?$M(s.extraReducers):[s.extraReducers],L={...P,...m.sliceCaseReducersByType};return RW(s.initialState,M=>{for(let B in L)M.addCase(B,L[B]);for(let B of m.sliceMatchers)M.addMatcher(B.matcher,B.reducer);for(let B of T)M.addMatcher(B.matcher,B.reducer);E&&M.addDefaultCase(E)})}const g=P=>P,b=new Map,w=new WeakMap;let j;function S(P,T){return j||(j=x()),j(P,T)}function k(){return j||(j=x()),j.getInitialState()}function _(P,T=!1){function E(M){let B=M[P];return typeof B>"u"&&T&&(B=ph(w,E,k)),B}function L(M=g){const B=ph(b,T,()=>new WeakMap);return ph(B,M,()=>{const K={};for(const[F,U]of Object.entries(s.selectors??{}))K[F]=UW(U,M,()=>ph(w,M,k),T);return K})}return{reducerPath:P,getSelectors:L,get selectors(){return L(E)},selectSlice:E}}const C={name:l,reducer:S,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:k,..._(c),injectInto(P,{reducerPath:T,...E}={}){const L=T??c;return P.inject({reducerPath:L,reducer:S},E),{...C,..._(L,!0)}}};return C}}function UW(e,t,n,a){function s(l,...c){let d=t(l);return typeof d>"u"&&a&&(d=n()),e(d,...c)}return s.unwrapped=e,s}var Gr=BW();function FW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function VW({type:e,reducerName:t,createNotation:n},a,s){let l,c;if("reducer"in a){if(n&&!qW(a))throw new Error(Fr(17));l=a.reducer,c=a.prepare}else l=a;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?xa(e,c):xa(e))}function HW(e){return e._reducerDefinitionType==="asyncThunk"}function qW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function KW({type:e,reducerName:t},n,a,s){if(!s)throw new Error(Fr(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=n,x=s(e,l,h);a.exposeAction(t,x),c&&a.addCase(x.fulfilled,c),d&&a.addCase(x.pending,d),f&&a.addCase(x.rejected,f),m&&a.addMatcher(x.settled,m),a.exposeCaseReducer(t,{fulfilled:c||xh,pending:d||xh,rejected:f||xh,settled:m||xh})}function xh(){}var GW="task",IM="listener",zM="completed",Wj="cancelled",YW=`task-${Wj}`,WW=`task-${zM}`,J1=`${IM}-${Wj}`,XW=`${IM}-${zM}`,Ip=class{constructor(e){yv(this,"name","TaskAbortError");yv(this,"message");this.code=e,this.message=`${GW} ${Wj} (reason: ${e})`}},Xj=(e,t)=>{if(typeof e!="function")throw new TypeError(Fr(32))},z0=()=>{},BM=(e,t=z0)=>(e.catch(t),e),UM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Gl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Yl=e=>{if(e.aborted){const{reason:t}=e;throw new Ip(t)}};function FM(e,t){let n=z0;return new Promise((a,s)=>{const l=()=>s(new Ip(e.reason));if(e.aborted){l();return}n=UM(e,l),t.finally(()=>n()).then(a,s)}).finally(()=>{n=z0})}var ZW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ip?"cancelled":"rejected",error:n}}finally{t==null||t()}},B0=e=>t=>BM(FM(e,t).then(n=>(Yl(e),n))),VM=e=>{const t=B0(e);return n=>t(new Promise(a=>setTimeout(a,n)))},{assign:vc}=Object,TC={},zp="listenerMiddleware",QW=(e,t)=>{const n=a=>UM(e,()=>Gl(a,e.reason));return(a,s)=>{Xj(a);const l=new AbortController;n(l);const c=ZW(async()=>{Yl(e),Yl(l.signal);const d=await a({pause:B0(l.signal),delay:VM(l.signal),signal:l.signal});return Yl(l.signal),d},()=>Gl(l,WW));return s!=null&&s.autoJoin&&t.push(c.catch(z0)),{result:B0(e)(c),cancel(){Gl(l,YW)}}}},JW=(e,t)=>{const n=async(a,s)=>{Yl(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:a,effect:(x,g)=>{g.unsubscribe(),f([x,g.getState(),g.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await FM(t,Promise.race(d));return Yl(t),f}finally{l()}};return(a,s)=>BM(n(a,s))},HM=e=>{let{type:t,actionCreator:n,matcher:a,predicate:s,effect:l}=e;if(t)s=xa(t).match;else if(n)t=n.type,s=n.match;else if(a)s=a;else if(!s)throw new Error(Fr(21));return Xj(l),{predicate:s,type:t,effect:l}},qM=vc(e=>{const{type:t,predicate:n,effect:a}=HM(e);return{id:$W(),effect:a,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fr(22))}}},{withTypes:()=>qM}),EC=(e,t)=>{const{type:n,effect:a,predicate:s}=HM(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===s)&&l.effect===a)},ew=e=>{e.pending.forEach(t=>{Gl(t,J1)})},eX=e=>()=>{e.forEach(ew),e.clear()},PC=(e,t,n)=>{try{e(t,n)}catch(a){setTimeout(()=>{throw a},0)}},KM=vc(xa(`${zp}/add`),{withTypes:()=>KM}),tX=xa(`${zp}/removeAll`),GM=vc(xa(`${zp}/remove`),{withTypes:()=>GM}),nX=(...e)=>{console.error(`${zp}/error`,...e)},Of=(e={})=>{const t=new Map,{extra:n,onError:a=nX}=e;Xj(a);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),x=>{h.unsubscribe(),x!=null&&x.cancelActive&&ew(h)}),l=h=>{const x=EC(t,h)??qM(h);return s(x)};vc(l,{withTypes:()=>l});const c=h=>{const x=EC(t,h);return x&&(x.unsubscribe(),h.cancelActive&&ew(x)),!!x};vc(c,{withTypes:()=>c});const d=async(h,x,g,b)=>{const w=new AbortController,j=JW(l,w.signal),S=[];try{h.pending.add(w),await Promise.resolve(h.effect(x,vc({},g,{getOriginalState:b,condition:(k,_)=>j(k,_).then(Boolean),take:j,delay:VM(w.signal),pause:B0(w.signal),extra:n,signal:w.signal,fork:QW(w.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((k,_,C)=>{k!==w&&(Gl(k,J1),C.delete(k))})},cancel:()=>{Gl(w,J1),h.pending.delete(w)},throwIfCancelled:()=>{Yl(w.signal)}})))}catch(k){k instanceof Ip||PC(a,k,{raisedBy:"effect"})}finally{await Promise.all(S),Gl(w,XW),h.pending.delete(w)}},f=eX(t);return{middleware:h=>x=>g=>{if(!CM(g))return x(g);if(KM.match(g))return l(g.payload);if(tX.match(g)){f();return}if(GM.match(g))return c(g.payload);let b=h.getState();const w=()=>{if(b===TC)throw new Error(Fr(23));return b};let j;try{if(j=x(g),t.size>0){const S=h.getState(),k=Array.from(t.values());for(const _ of k){let C=!1;try{C=_.predicate(g,S,b)}catch(P){C=!1,PC(a,P,{raisedBy:"predicate"})}C&&d(_,g,h,w)}}}finally{b=TC}return j},startListening:l,stopListening:c,clearListeners:f}};function Fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},YM=Gr({name:"chartLayout",initialState:rX,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:aX,setLayout:sX,setChartSize:iX,setScale:lX}=YM.actions,oX=YM.reducer;function OC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function MC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(n),!0).forEach(function(a){cX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function cX(e,t,n){return(t=uX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uX(e){var t=dX(e,"string");return typeof t=="symbol"?t:t+""}function dX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U0=Math.PI/180,fX=e=>e*180/Math.PI,vn=(e,t,n,a)=>({x:e+Math.cos(-U0*a)*n,y:t+Math.sin(-U0*a)*n}),WM=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},mX=(e,t)=>{var{x:n,y:a}=e,{x:s,y:l}=t;return Math.sqrt((n-s)**2+(a-l)**2)},hX=(e,t)=>{var{x:n,y:a}=e,{cx:s,cy:l}=t,c=mX({x:n,y:a},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(n-s)/c,f=Math.acos(d);return a>l&&(f=2*Math.PI-f),{radius:c,angle:fX(f),angleInRadian:f}},pX=e=>{var{startAngle:t,endAngle:n}=e,a=Math.floor(t/360),s=Math.floor(n/360),l=Math.min(a,s);return{startAngle:t-l*360,endAngle:n-l*360}},xX=(e,t)=>{var{startAngle:n,endAngle:a}=t,s=Math.floor(n/360),l=Math.floor(a/360),c=Math.min(s,l);return e+c*360},gX=(e,t)=>{var{x:n,y:a}=e,{radius:s,angle:l}=hX({x:n,y:a},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=pX(t),h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?MC(MC({},t),{},{radius:s,angle:xX(h,t)}):null};function XM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function DC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(n),!0).forEach(function(a){vX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function vX(e,t,n){return(t=yX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t,n){return Kt(e)||Kt(t)?n:ls(t)?Wi(e,t,n):typeof t=="function"?t(e):n}var wX=(e,t,n,a,s)=>{var l,c=-1,d=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?n[f-1].coordinate:n[d-1].coordinate,h=n[f].coordinate,x=f>=d-1?n[0].coordinate:n[f+1].coordinate,g=void 0;if(Rn(h-m)!==Rn(x-h)){var b=[];if(Rn(x-h)===Rn(s[1]-s[0])){g=x;var w=h+s[1]-s[0];b[0]=Math.min(w,(w+m)/2),b[1]=Math.max(w,(w+m)/2)}else{g=m;var j=x+s[1]-s[0];b[0]=Math.min(h,(j+h)/2),b[1]=Math.max(h,(j+h)/2)}var S=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:c}=n[f]);break}}else{var k=Math.min(m,x),_=Math.max(m,x);if(e>(k+h)/2&&e<=(_+h)/2){({index:c}=n[f]);break}}}else if(t){for(var C=0;C<d;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<d-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===d-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:c}=t[C]);break}}return c},jX=(e,t,n)=>{if(t&&n){var{width:a,height:s}=n,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Fe(e[l]))return ua(ua({},e),{},{[l]:e[l]+(a||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Fe(e[c]))return ua(ua({},e),{},{[c]:e[c]+(s||0)})}return e},el=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ZM=(e,t,n,a)=>{if(a)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===n&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(n),c},QM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:x,niceTicks:g,axisType:b}=e;if(!c)return null;var w=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=s==="category"&&c.bandwidth?c.bandwidth()/w:0;if(j=b==="angleAxis"&&l&&l.length>=2?Rn(l[0]-l[1])*2*j:j,x||g){var S=(x||g||[]).map((k,_)=>{var C=a?a.indexOf(k):k;return{coordinate:c(C)+j,value:k,offset:j,index:_}});return S.filter(k=>!Vr(k.coordinate))}return f&&m?m.map((k,_)=>({coordinate:c(k)+j,value:k,index:_,offset:j})):c.ticks&&h!=null?c.ticks(h).map((k,_)=>({coordinate:c(k)+j,value:k,offset:j,index:_})):c.domain().map((k,_)=>({coordinate:c(k)+j,value:a?a[k]:k,index:_,offset:j}))},RC=1e-4,NX=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,a=e.range(),s=Math.min(a[0],a[1])-RC,l=Math.max(a[0],a[1])+RC,c=e(t[0]),d=e(t[n-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[n-1]])}},SX=(e,t)=>{if(!t||t.length!==2||!Fe(t[0])||!Fe(t[1]))return e;var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Fe(e[0])||e[0]<n)&&(s[0]=n),(!Fe(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},_X=e=>{var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,l=0,c=0;c<t;++c){var d=Vr(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},kX=e=>{var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,l=0;l<t;++l){var c=Vr(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},CX={sign:_X,expand:iY,none:Pc,silhouette:lY,wiggle:oY,positive:kX},AX=(e,t,n)=>{var a=CX[n],s=sY().keys(t).value((l,c)=>+$t(l,c,0)).order(q1).offset(a);return s(e)};function TX(e){return e==null?void 0:String(e)}function LC(e){var{axis:t,ticks:n,bandSize:a,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kt(s[t.dataKey])){var d=KO(n,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return n[l]?n[l].coordinate+a/2:null}var f=$t(s,Kt(c)?t.dataKey:c);return Kt(f)?null:t.scale(f)}var $C=e=>{var{axis:t,ticks:n,offset:a,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+a:null;var d=$t(l,t.dataKey,t.scale.domain()[c]);return Kt(d)?null:t.scale(d)-s/2+a},EX=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},PX=e=>{var t=e.flat(2).filter(Fe);return[Math.min(...t),Math.max(...t)]},OX=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],MX=(e,t,n)=>{if(e!=null)return OX(Object.keys(e).reduce((a,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=XM(m,t,n),x=PX(h);return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},IC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&t&&t.length>=2){for(var s=Mp(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function BC(e){var{tooltipEntrySettings:t,dataKey:n,payload:a,value:s,name:l}=e;return ua(ua({},t),{},{dataKey:n,payload:a,value:s,name:l})}function Zc(e,t){if(e)return String(e);if(typeof t=="string")return t}function DX(e,t,n,a,s){if(n==="horizontal"||n==="vertical"){var l=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return l?{x:e,y:t}:null}return a?gX({x:e,y:t},a):null}var RX=(e,t,n,a)=>{var s=t.find(m=>m&&m.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,{radius:c}=a;return ua(ua(ua({},a),vn(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=a;return ua(ua(ua({},a),vn(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},LX=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ti=e=>e.layout.width,ni=e=>e.layout.height,$X=e=>e.layout.scale,JM=e=>e.layout.margin,Zj=ve(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Qj=ve(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),eD="data-recharts-item-index",tD="data-recharts-item-data-key",Bp=60;function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(a){IX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function IX(e,t,n){return(t=zX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zX(e){var t=BX(e,"string");return typeof t=="symbol"?t:t+""}function BX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UX=e=>e.brush.height,_n=ve([ti,ni,JM,UX,Zj,Qj,SM,cW],(e,t,n,a,s,l,c,d)=>{var f=l.reduce((w,j)=>{var{orientation:S}=j;if(!j.mirror&&!j.hide){var k=typeof j.width=="number"?j.width:Bp;return Pi(Pi({},w),{},{[S]:w[S]+k})}return w},{left:n.left||0,right:n.right||0}),m=s.reduce((w,j)=>{var{orientation:S}=j;return!j.mirror&&!j.hide?Pi(Pi({},w),{},{[S]:Wi(w,"".concat(S))+j.height}):w},{top:n.top||0,bottom:n.bottom||0}),h=Pi(Pi({},m),f),x=h.bottom;h.bottom+=a,h=jX(h,c,d);var g=e-h.left-h.right,b=t-h.top-h.bottom;return Pi(Pi({brushBottom:x},h),{},{width:Math.max(g,0),height:Math.max(b,0)})}),FX=ve(_n,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),nD=ve(ti,ni,(e,t)=>({x:0,y:0,width:e,height:t})),VX=v.createContext(null),kr=()=>v.useContext(VX)!=null,Up=e=>e.brush,Fp=ve([Up,_n,JM],(e,t,n)=>({height:e.height,x:Fe(e.x)?e.x:t.left,y:Fe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Fe(e.width)?e.width:t.width})),Jj=()=>{var e,t=kr(),n=Ge(FX),a=Ge(Fp),s=(e=Ge(Up))===null||e===void 0?void 0:e.padding;return!t||!a||!s?n:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},HX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},rD=()=>{var e;return(e=Ge(_n))!==null&&e!==void 0?e:HX},aD=()=>Ge(ti),sD=()=>Ge(ni),vt=e=>e.layout.layoutType,Vp=()=>Ge(vt),qX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iD=Gr({name:"legend",initialState:qX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=zs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:Cfe,setLegendSettings:Afe,addLegendPayload:lD,removeLegendPayload:oD}=iD.actions,KX=iD.reducer;function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tw.apply(null,arguments)}function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Zy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(a){GX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function GX(e,t,n){return(t=YX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XX(e){return Array.isArray(e)&&ls(e[0])&&ls(e[1])?e.join(" ~ "):e}var ZX=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:a={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:x,accessibilityLayer:g=!1}=e,b=()=>{if(l&&l.length){var T={padding:0,margin:0},E=(d?Mp(l,d):l).map((L,M)=>{if(L.type==="none")return null;var B=L.formatter||c||XX,{value:K,name:F}=L,U=K,te=F;if(B){var we=B(K,F,L,M,l);if(Array.isArray(we))[U,te]=we;else if(we!=null)U=we;else return null}var re=Zy({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},a);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:re},ls(te)?v.createElement("span",{className:"recharts-tooltip-item-name"},te):null,ls(te)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},U),v.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:T},E)}return null},w=Zy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=Zy({margin:0},s),S=!Kt(h),k=S?h:"",_=ut("recharts-default-tooltip",f),C=ut("recharts-tooltip-label",m);S&&x&&l!==void 0&&l!==null&&(k=x(h,l));var P=g?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",tw({className:_,style:w},P),v.createElement("p",{className:C,style:j},v.isValidElement(k)?k:"".concat(k)),b())},ld="recharts-tooltip-wrapper",QX={visibility:"hidden"};function JX(e){var{coordinate:t,translateX:n,translateY:a}=e;return ut(ld,{["".concat(ld,"-right")]:Fe(n)&&t&&Fe(t.x)&&n>=t.x,["".concat(ld,"-left")]:Fe(n)&&t&&Fe(t.x)&&n<t.x,["".concat(ld,"-bottom")]:Fe(a)&&t&&Fe(t.y)&&a>=t.y,["".concat(ld,"-top")]:Fe(a)&&t&&Fe(t.y)&&a<t.y})}function VC(e){var{allowEscapeViewBox:t,coordinate:n,key:a,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&Fe(l[a]))return l[a];var h=n[a]-d-(s>0?s:0),x=n[a]+s;if(t[a])return c[a]?h:x;var g=f[a];if(g==null)return 0;if(c[a]){var b=h,w=g;return b<w?Math.max(x,g):Math.max(h,g)}if(m==null)return 0;var j=x+d,S=g+m;return j>S?Math.max(h,g):Math.max(x,g)}function eZ(e){var{translateX:t,translateY:n,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function tZ(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,x;return c.height>0&&c.width>0&&n?(h=VC({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),x=VC({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=eZ({translateX:h,translateY:x,useTranslate3d:d})):m=QX,{cssProperties:m,cssClasses:JX({translateX:h,translateY:x,coordinate:n})}}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(a){nw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function nw(e,t,n){return(t=nZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aZ extends v.PureComponent{constructor(){super(...arguments),nw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),nw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,a,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:x,useTranslate3d:g,viewBox:b,wrapperStyle:w,lastBoundingBox:j,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:_,cssProperties:C}=tZ({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:x,tooltipBox:{height:j.height,width:j.width},useTranslate3d:g,viewBox:b}),P=k?{}:gh(gh({transition:f&&t?"transform ".concat(a,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),T=gh(gh({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:T,ref:S},l)}}var sZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),so={isSsr:sZ()},cD=()=>Ge(e=>e.rootProps.accessibilityLayer);function Kr(e){return Number.isFinite(e)}function Mc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rw.apply(null,arguments)}function qC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function KC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(n),!0).forEach(function(a){iZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function iZ(e,t,n){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GC={curveBasisClosed:YG,curveBasisOpen:WG,curveBasis:GG,curveBumpX:MG,curveBumpY:DG,curveLinearClosed:XG,curveLinear:Pp,curveMonotoneX:ZG,curveMonotoneY:QG,curveNatural:JG,curveStep:eY,curveStepAfter:nY,curveStepBefore:tY},vh=e=>Kr(e.x)&&Kr(e.y),od=e=>e.x,cd=e=>e.y,cZ=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ef(e));return(n==="curveMonotone"||n==="curveBump")&&t?GC["".concat(n).concat(t==="vertical"?"Y":"X")]:GC[n]||Pp},uZ=e=>{var{type:t="linear",points:n=[],baseLine:a,layout:s,connectNulls:l=!1}=e,c=cZ(t,s),d=l?n.filter(vh):n,f;if(Array.isArray(a)){var m=l?a.filter(x=>vh(x)):a,h=d.map((x,g)=>KC(KC({},x),{},{base:m[g]}));return s==="vertical"?f=fh().y(cd).x1(od).x0(x=>x.base.x):f=fh().x(od).y1(cd).y0(x=>x.base.y),f.defined(vh).curve(c),f(h)}return s==="vertical"&&Fe(a)?f=fh().y(cd).x1(od).x0(a):Fe(a)?f=fh().x(od).y1(cd).y0(a):f=nM().x(od).y(cd),f.defined(vh).curve(c),f(d)},e2=e=>{var{className:t,points:n,path:a,pathRef:s}=e;if((!n||!n.length)&&!a)return null;var l=n&&n.length?uZ(e):a;return v.createElement("path",rw({},ei(e),Lj(e),{className:ut("recharts-curve",t),d:l===null?void 0:l,ref:s}))},dZ=["x","y","top","left","width","height","className"];function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},aw.apply(null,arguments)}function YC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(n),!0).forEach(function(a){mZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mZ(e,t,n){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xZ(e,t){if(e==null)return{};var n,a,s=gZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function gZ(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var vZ=(e,t,n,a,s,l)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(l,",").concat(t,"h").concat(n),yZ=e=>{var{x:t=0,y:n=0,top:a=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=xZ(e,dZ),m=fZ({x:t,y:n,top:a,left:s,width:l,height:c},f);return!Fe(t)||!Fe(n)||!Fe(l)||!Fe(c)||!Fe(a)||!Fe(s)?null:v.createElement("path",aw({},Xt(m,!0),{className:ut("recharts-cross",d),d:vZ(t,n,l,c,a,s)}))};function bZ(e,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function WC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function wZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(n),!0).forEach(function(a){jZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function jZ(e,t,n){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NZ(e){var t=SZ(e,"string");return typeof t=="symbol"?t:t+""}function SZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(e,t){var n=wZ({},e),a=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&a[d]!==void 0&&(c[d]=a[d]),c),n);return l}var Qy={},Jy={},eb={},XC;function _Z(){return XC||(XC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const a=Object.getPrototypeOf(n);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(eb)),eb}var ZC;function kZ(){return ZC||(ZC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_Z(),n=vM(),a=Vj(),s=Hj(),l=Uj();function c(m,h,x){return d(m,h,void 0,void 0,void 0,void 0,x)}function d(m,h,x,g,b,w,j){const S=j(m,h,x,g,b,w);if(S!==void 0)return S;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return f(m,h,w,j)}return f(m,h,w,j)}function f(m,h,x,g){if(Object.is(m,h))return!0;let b=a.getTag(m),w=a.getTag(h);if(b===s.argumentsTag&&(b=s.objectTag),w===s.argumentsTag&&(w=s.objectTag),b!==w)return!1;switch(b){case s.stringTag:return m.toString()===h.toString();case s.numberTag:{const k=m.valueOf(),_=h.valueOf();return l.eq(k,_)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(m.valueOf(),h.valueOf());case s.regexpTag:return m.source===h.source&&m.flags===h.flags;case s.functionTag:return m===h}x=x??new Map;const j=x.get(m),S=x.get(h);if(j!=null&&S!=null)return j===h;x.set(m,h),x.set(h,m);try{switch(b){case s.mapTag:{if(m.size!==h.size)return!1;for(const[k,_]of m.entries())if(!h.has(k)||!d(_,h.get(k),k,m,h,x,g))return!1;return!0}case s.setTag:{if(m.size!==h.size)return!1;const k=Array.from(m.values()),_=Array.from(h.values());for(let C=0;C<k.length;C++){const P=k[C],T=_.findIndex(E=>d(P,E,void 0,m,h,x,g));if(T===-1)return!1;_.splice(T,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let k=0;k<m.length;k++)if(!d(m[k],h[k],k,m,h,x,g))return!1;return!0}case s.arrayBufferTag:return m.byteLength!==h.byteLength?!1:f(new Uint8Array(m),new Uint8Array(h),x,g);case s.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:f(new Uint8Array(m),new Uint8Array(h),x,g);case s.errorTag:return m.name===h.name&&m.message===h.message;case s.objectTag:{if(!(f(m.constructor,h.constructor,x,g)||t.isPlainObject(m)&&t.isPlainObject(h)))return!1;const _=[...Object.keys(m),...n.getSymbols(m)],C=[...Object.keys(h),...n.getSymbols(h)];if(_.length!==C.length)return!1;for(let P=0;P<_.length;P++){const T=_[P],E=m[T];if(!Object.hasOwn(h,T))return!1;const L=h[T];if(!d(E,L,T,m,h,x,g))return!1}return!0}default:return!1}}finally{x.delete(m),x.delete(h)}}e.isEqualWith=c}(Jy)),Jy}var tb={},QC;function CZ(){return QC||(QC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(tb)),tb}var JC;function AZ(){return JC||(JC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kZ(),n=CZ();function a(s,l){return t.isEqualWith(s,l,n.noop)}e.isEqual=a}(Qy)),Qy}var nb,eA;function TZ(){return eA||(eA=1,nb=AZ().isEqual),nb}var EZ=TZ();const PZ=Ba(EZ);var F0=1e-4,uD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],dD=(e,t)=>e.map((n,a)=>n*t**a).reduce((n,a)=>n+a),tA=(e,t)=>n=>{var a=uD(e,t);return dD(a,n)},OZ=(e,t)=>n=>{var a=uD(e,t),s=[...a.map((l,c)=>l*c).slice(1),0];return dD(s,n)},nA=function(){for(var t,n,a,s,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[t,a,n,s]=[0,0,1,1];break;case"ease":[t,a,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,a,n,s]=[.42,0,1,1];break;case"ease-out":[t,a,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,a,n,s]=[0,0,.58,1];break;default:{var f=c[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,a,n,s]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else c.length===4&&([t,a,n,s]=c);var m=tA(t,n),h=tA(a,s),x=OZ(t,n),g=w=>w>1?1:w<0?0:w,b=w=>{for(var j=w>1?1:w,S=j,k=0;k<8;++k){var _=m(S)-j,C=x(S);if(Math.abs(_-j)<F0||C<F0)return h(S);S=g(S-_/C)}return h(S)};return b.isStepper=!1,b},MZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:a=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*n,h=f*a,x=f+(m-h)*s/1e3,g=f*s/1e3+c;return Math.abs(g-d)<F0&&Math.abs(x)<F0?[d,0]:[g,x]};return l.isStepper=!0,l.dt=s,l},fD=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nA(e);case"spring":return MZ();default:if(e.split("(")[0]==="cubic-bezier")return nA(e)}return typeof e=="function"?e:null};function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function aA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(a){DZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function DZ(e,t,n){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RZ(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Z=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),IZ=(e,t,n)=>e.map(a=>"".concat($Z(a)," ").concat(t,"ms ").concat(n)).join(","),zZ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,a)=>n.filter(s=>a.includes(s))),df=(e,t)=>Object.keys(t).reduce((n,a)=>aA(aA({},n),{},{[a]:e(a,t[a])}),{});function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(a){BZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function BZ(e,t,n){return(t=UZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UZ(e){var t=FZ(e,"string");return typeof t=="symbol"?t:t+""}function FZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V0=(e,t,n)=>e+(t-e)*n,sw=e=>{var{from:t,to:n}=e;return t!==n},mD=(e,t,n)=>{var a=df((s,l)=>{if(sw(l)){var[c,d]=e(l.from,l.to,l.velocity);return Hn(Hn({},l),{},{from:c,velocity:d})}return l},t);return n<1?df((s,l)=>sw(l)?Hn(Hn({},l),{},{velocity:V0(l.velocity,a[s].velocity,n),from:V0(l.from,a[s].from,n)}):l,t):mD(e,a,n-1)};function VZ(e,t,n,a,s,l){var c,d=a.reduce((g,b)=>Hn(Hn({},g),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>df((g,b)=>b.from,d),m=()=>!Object.values(d).filter(sw).length,h=null,x=g=>{c||(c=g);var b=g-c,w=b/n.dt;d=mD(n,d,w),s(Hn(Hn(Hn({},e),t),f())),c=g,m()||(h=l.setTimeout(x))};return()=>(h=l.setTimeout(x),()=>{h()})}function HZ(e,t,n,a,s,l,c){var d=null,f=s.reduce((x,g)=>Hn(Hn({},x),{},{[g]:[e[g],t[g]]}),{}),m,h=x=>{m||(m=x);var g=(x-m)/a,b=df((j,S)=>V0(...S,n(g)),f);if(l(Hn(Hn(Hn({},e),t),b)),g<1)d=c.setTimeout(h);else{var w=df((j,S)=>V0(...S,n(1)),f);l(Hn(Hn(Hn({},e),t),w))}};return()=>(d=c.setTimeout(h),()=>{d()})}const hD=(e,t,n,a,s,l)=>{var c=zZ(e,t);return n.isStepper===!0?VZ(e,t,n,c,s,l):HZ(e,t,n,a,c,s,l)};function qZ(e){var t,n=()=>null,a=!1,s=null,l=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class KZ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,l=c=>{c-a>=n?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{cancelAnimationFrame(s)}}}function GZ(){return qZ(new KZ)}var YZ=v.createContext(GZ);function pD(e,t){var n=v.useContext(YZ);return v.useMemo(()=>t??n(e),[e,t,n])}var WZ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},iw.apply(null,arguments)}function XZ(e,t){if(e==null)return{};var n,a,s=ZZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ZZ(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(a){Ul(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ul(e,t,n){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class t2 extends v.PureComponent{constructor(t,n){super(t,n),Ul(this,"mounted",!1),Ul(this,"manager",void 0),Ul(this,"stopJSAnimation",null),Ul(this,"unSubscribe",null);var{isActive:a,attributeName:s,from:l,to:c,children:d,duration:f,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||f<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:c});return}if(l){if(typeof d=="function"){this.state={style:l};return}this.state={style:s?{[s]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:a,attributeName:s,shouldReAnimate:l,to:c,from:d}=this.props,{style:f}=this.state;if(a){if(!n){var m={style:s?{[s]:c}:c};this.state&&f&&(s&&f[s]!==c||!s&&f!==c)&&this.setState(m);return}if(!(PZ(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=h||l?d:t.to;if(this.state&&f){var g={style:s?{[s]:x}:x};(s&&f[s]!==x||!s&&f!==x)&&this.setState(g)}this.runAnimation(Oi(Oi({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:a,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f}=t,m=hD(n,a,fD(l),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([f,c,h,s,d])}runAnimation(t){var{begin:n,duration:a,attributeName:s,to:l,easing:c,onAnimationStart:d,onAnimationEnd:f,children:m}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:l}:l,x=IZ(Object.keys(h),a,c);this.manager.start([d,n,Oi(Oi({},h),{},{transition:x}),a,f])}render(){var t=this.props,{children:n,begin:a,duration:s,attributeName:l,easing:c,isActive:d,from:f,to:m,canBegin:h,onAnimationEnd:x,shouldReAnimate:g,onAnimationReStart:b,animationManager:w}=t,j=XZ(t,WZ),S=v.Children.count(n),k=this.state.style;if(typeof n=="function")return n(k);if(!d||S===0||s<=0)return n;var _=C=>{var{style:P={},className:T}=C.props,E=v.cloneElement(C,Oi(Oi({},j),{},{style:Oi(Oi({},P),k),className:T}));return E};return S===1?_(v.Children.only(n)):v.createElement("div",null,v.Children.map(n,C=>_(C)))}}Ul(t2,"displayName","Animate");Ul(t2,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function H0(e){var t,n=pD((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return v.createElement(t2,iw({},e,{animationManager:n}))}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},q0.apply(null,arguments)}var lA=(e,t,n,a,s)=>{var l=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],x=0,g=4;x<g;x++)h[x]=s[x]>l?l:s[x];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+n-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+c*h[1])),m+="L ".concat(e+n,",").concat(t+a-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-d*h[2],",").concat(t+a)),m+="L ".concat(e+d*h[3],",").concat(t+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+a-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var b=Math.min(l,s);m="M ".concat(e,",").concat(t+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+n-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+c*b,`
            L `).concat(e+n,",").concat(t+a-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-d*b,",").concat(t+a,`
            L `).concat(e+d*b,",").concat(t+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+a-c*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return m},eQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xD=e=>{var t=Yr(e,eQ),n=v.useRef(null),[a,s]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:x,animationDuration:g,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:j}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var S=ut("recharts-rectangle",h);return j?v.createElement(H0,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:x,isActive:j},k=>{var{width:_,height:C,x:P,y:T}=k;return v.createElement(H0,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:w,easing:x},v.createElement("path",q0({},Xt(t,!0),{className:S,d:lA(P,T,_,C,m),ref:n})))}):v.createElement("path",q0({},Xt(t,!0),{className:S,d:lA(l,c,d,f,m)}))};function gD(e){var{cx:t,cy:n,radius:a,startAngle:s,endAngle:l}=e,c=vn(t,n,a,s),d=vn(t,n,a,l);return{points:[c,d],cx:t,cy:n,radius:a,startAngle:s,endAngle:l}}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lw.apply(null,arguments)}var tQ=(e,t)=>{var n=Rn(t-e),a=Math.min(Math.abs(t-e),359.999);return n*a},yh=e=>{var{cx:t,cy:n,radius:a,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+a,h=Math.asin(d/m)/U0,x=f?s:s+l*h,g=vn(t,n,m,x),b=vn(t,n,a,x),w=f?s-l*h:s,j=vn(t,n,m*Math.cos(h*U0),w);return{center:g,circleTangency:b,lineTangency:j,theta:h}},vD=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,d=tQ(l,c),f=l+d,m=vn(t,n,s,l),h=vn(t,n,s,f),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=vn(t,n,a,l),b=vn(t,n,a,f);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(g.x,",").concat(g.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},nQ=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=Rn(m-f),{circleTangency:x,lineTangency:g,theta:b}=yh({cx:t,cy:n,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:w,lineTangency:j,theta:S}=yh({cx:t,cy:n,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),k=d?Math.abs(f-m):Math.abs(f-m)-b-S;if(k<0)return c?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):vD({cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var{circleTangency:C,lineTangency:P,theta:T}=yh({cx:t,cy:n,radius:a,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:E,lineTangency:L,theta:M}=yh({cx:t,cy:n,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),B=d?Math.abs(f-m):Math.abs(f-m)-T-M;if(B<0&&l===0)return"".concat(_,"L").concat(t,",").concat(n,"Z");_+="L".concat(L.x,",").concat(L.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(t,",").concat(n,"Z");return _},rQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n2=e=>{var t=Yr(e,rQ),{cx:n,cy:a,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:x}=t;if(l<s||m===h)return null;var g=ut("recharts-sector",x),b=l-s,w=dr(c,b,0,!0),j;return w>0&&Math.abs(m-h)<360?j=nQ({cx:n,cy:a,innerRadius:s,outerRadius:l,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):j=vD({cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),v.createElement("path",lw({},Xt(t,!0),{className:g,d:j}))};function aQ(e,t,n){var a,s,l,c;if(e==="horizontal")a=t.x,l=a,s=n.top,c=n.top+n.height;else if(e==="vertical")s=t.y,c=s,a=n.left,l=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:h,angle:x}=t,g=vn(d,f,m,x),b=vn(d,f,h,x);a=g.x,s=g.y,l=b.x,c=b.y}else return gD(t);return[{x:a,y:s},{x:l,y:c}]}var rb={},ab={},sb={},oA;function sQ(){return oA||(oA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jM();function n(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=n}(sb)),sb}var cA;function iQ(){return cA||(cA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sQ();function n(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=n}(ab)),ab}var uA;function lQ(){return uA||(uA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NM(),n=iQ();function a(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=n.toFinite(s),l===void 0?(l=s,s=0):l=n.toFinite(l),c=c===void 0?s<l?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=a}(rb)),rb}var ib,dA;function oQ(){return dA||(dA=1,ib=lQ().range),ib}var cQ=oQ();const yD=Ba(cQ);function Hi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r2(e){let t,n,a;e.length!==2?(t=Hi,n=(d,f)=>Hi(e(d),f),a=(d,f)=>e(d)-f):(t=e===Hi||e===uQ?e:dQ,n=e,a=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;n(d[x],f)<0?m=x+1:h=x}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;n(d[x],f)<=0?m=x+1:h=x}while(m<h)}return m}function c(d,f,m=0,h=d.length){const x=s(d,f,m,h-1);return x>m&&a(d[x-1],f)>-a(d[x],f)?x-1:x}return{left:s,center:c,right:l}}function dQ(){return 0}function bD(e){return e===null?NaN:+e}function*fQ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const mQ=r2(Hi),Mf=mQ.right;r2(bD).center;class fA extends Map{constructor(t,n=xQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(mA(this,t))}has(t){return super.has(mA(this,t))}set(t,n){return super.set(hQ(this,t),n)}delete(t){return super.delete(pQ(this,t))}}function mA({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function hQ({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function pQ({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function xQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gQ(e=Hi){if(e===Hi)return wD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function wD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const vQ=Math.sqrt(50),yQ=Math.sqrt(10),bQ=Math.sqrt(2);function K0(e,t,n){const a=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),l=a/Math.pow(10,s),c=l>=vQ?10:l>=yQ?5:l>=bQ?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=n&&n<2?K0(e,t,n*2):[d,f,m]}function ow(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[s,l,c]=a?K0(t,e,n):K0(e,t,n);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(a)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function cw(e,t,n){return t=+t,e=+e,n=+n,K0(e,t,n)[2]}function uw(e,t,n){t=+t,e=+e,n=+n;const a=t<e,s=a?cw(t,e,n):cw(e,t,n);return(a?-1:1)*(s<0?1/-s:s)}function hA(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function pA(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function jD(e,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(s=s===void 0?wD:gQ(s);a>n;){if(a-n>600){const f=a-n+1,m=t-n+1,h=Math.log(f),x=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*x*(f-x)/f)*(m-f/2<0?-1:1),b=Math.max(n,Math.floor(t-m*x/f+g)),w=Math.min(a,Math.floor(t+(f-m)*x/f+g));jD(e,t,b,w,s)}const l=e[t];let c=n,d=a;for(ud(e,n,t),s(e[a],l)>0&&ud(e,n,a);c<d;){for(ud(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[n],l)===0?ud(e,n,d):(++d,ud(e,d,a)),d<=t&&(n=d+1),t<=d&&(a=d-1)}return e}function ud(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function wQ(e,t,n){if(e=Float64Array.from(fQ(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return pA(e);if(t>=1)return hA(e);var a,s=(a-1)*t,l=Math.floor(s),c=hA(jD(e,l).subarray(0,l+1)),d=pA(e.subarray(l+1));return c+(d-c)*(s-l)}}function jQ(e,t,n=bD){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*t,l=Math.floor(s),c=+n(e[l],l,e),d=+n(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function NQ(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(s);++a<s;)l[a]=e+a*n;return l}function ya(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ri(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dw=Symbol("implicit");function a2(){var e=new fA,t=[],n=[],a=dw;function s(l){let c=e.get(l);if(c===void 0){if(a!==dw)return a;e.set(l,c=t.push(l)-1)}return n[c%n.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new fA;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(n=Array.from(l),s):n.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return a2(t,n).unknown(a)},ya.apply(s,arguments),s}function s2(){var e=a2().unknown(void 0),t=e.domain,n=e.range,a=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function x(){var g=t().length,b=s<a,w=b?s:a,j=b?a:s;l=(j-w)/Math.max(1,g-f+m*2),d&&(l=Math.floor(l)),w+=(j-w-l*(g-f))*h,c=l*(1-f),d&&(w=Math.round(w),c=Math.round(c));var S=NQ(g).map(function(k){return w+l*k});return n(b?S.reverse():S)}return e.domain=function(g){return arguments.length?(t(g),x()):t()},e.range=function(g){return arguments.length?([a,s]=g,a=+a,s=+s,x()):[a,s]},e.rangeRound=function(g){return[a,s]=g,a=+a,s=+s,d=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(g){return arguments.length?(d=!!g,x()):d},e.padding=function(g){return arguments.length?(f=Math.min(1,m=+g),x()):f},e.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),x()):f},e.paddingOuter=function(g){return arguments.length?(m=+g,x()):m},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),x()):h},e.copy=function(){return s2(t(),[a,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},ya.apply(x(),arguments)}function ND(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ND(t())},e}function SQ(){return ND(s2.apply(null,arguments).paddingInner(1))}function i2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function SD(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Df(){}var ff=.7,G0=1/ff,yc="\\s*([+-]?\\d+)\\s*",mf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Q=/^#([0-9a-f]{3,8})$/,kQ=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),CQ=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),AQ=new RegExp(`^rgba\\(${yc},${yc},${yc},${mf}\\)$`),TQ=new RegExp(`^rgba\\(${is},${is},${is},${mf}\\)$`),EQ=new RegExp(`^hsl\\(${mf},${is},${is}\\)$`),PQ=new RegExp(`^hsla\\(${mf},${is},${is},${mf}\\)$`),xA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i2(Df,hf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gA,formatHex:gA,formatHex8:OQ,formatHsl:MQ,formatRgb:vA,toString:vA});function gA(){return this.rgb().formatHex()}function OQ(){return this.rgb().formatHex8()}function MQ(){return _D(this).formatHsl()}function vA(){return this.rgb().formatRgb()}function hf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_Q.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?yA(t):n===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kQ.exec(e))?new Sr(t[1],t[2],t[3],1):(t=CQ.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AQ.exec(e))?bh(t[1],t[2],t[3],t[4]):(t=TQ.exec(e))?bh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EQ.exec(e))?jA(t[1],t[2]/100,t[3]/100,1):(t=PQ.exec(e))?jA(t[1],t[2]/100,t[3]/100,t[4]):xA.hasOwnProperty(e)?yA(xA[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function yA(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function bh(e,t,n,a){return a<=0&&(e=t=n=NaN),new Sr(e,t,n,a)}function DQ(e){return e instanceof Df||(e=hf(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function fw(e,t,n,a){return arguments.length===1?DQ(e):new Sr(e,t,n,a??1)}function Sr(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}i2(Sr,fw,SD(Df,{brighter(e){return e=e==null?G0:Math.pow(G0,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ff:Math.pow(ff,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(Wl(this.r),Wl(this.g),Wl(this.b),Y0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bA,formatHex:bA,formatHex8:RQ,formatRgb:wA,toString:wA}));function bA(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}`}function RQ(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}${Fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function wA(){const e=Y0(this.opacity);return`${e===1?"rgb(":"rgba("}${Wl(this.r)}, ${Wl(this.g)}, ${Wl(this.b)}${e===1?")":`, ${e})`}`}function Y0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fl(e){return e=Wl(e),(e<16?"0":"")+e.toString(16)}function jA(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Da(e,t,n,a)}function _D(e){if(e instanceof Da)return new Da(e.h,e.s,e.l,e.opacity);if(e instanceof Df||(e=hf(e)),!e)return new Da;if(e instanceof Da)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(t,n,a),l=Math.max(t,n,a),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(n-a)/d+(n<a)*6:n===l?c=(a-t)/d+2:c=(t-n)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new Da(c,d,f,e.opacity)}function LQ(e,t,n,a){return arguments.length===1?_D(e):new Da(e,t,n,a??1)}function Da(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}i2(Da,LQ,SD(Df,{brighter(e){return e=e==null?G0:Math.pow(G0,e),new Da(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ff:Math.pow(ff,e),new Da(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new Sr(lb(e>=240?e-240:e+120,s,a),lb(e,s,a),lb(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Da(NA(this.h),wh(this.s),wh(this.l),Y0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Y0(this.opacity);return`${e===1?"hsl(":"hsla("}${NA(this.h)}, ${wh(this.s)*100}%, ${wh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NA(e){return e=(e||0)%360,e<0?e+360:e}function wh(e){return Math.max(0,Math.min(1,e||0))}function lb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const l2=e=>()=>e;function $Q(e,t){return function(n){return e+n*t}}function IQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function zQ(e){return(e=+e)==1?kD:function(t,n){return n-t?IQ(t,n,e):l2(isNaN(t)?n:t)}}function kD(e,t){var n=t-e;return n?$Q(e,n):l2(isNaN(e)?t:e)}const SA=function e(t){var n=zQ(t);function a(s,l){var c=n((s=fw(s)).r,(l=fw(l)).r),d=n(s.g,l.g),f=n(s.b,l.b),m=kD(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return a.gamma=e,a}(1);function BQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(l){for(s=0;s<n;++s)a[s]=e[s]*(1-l)+t[s]*l;return a}}function UQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function FQ(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),l=new Array(n),c;for(c=0;c<a;++c)s[c]=Qc(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(d){for(c=0;c<a;++c)l[c]=s[c](d);return l}}function VQ(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function W0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function HQ(e,t){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Qc(e[s],t[s]):a[s]=t[s];return function(l){for(s in n)a[s]=n[s](l);return a}}var mw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ob=new RegExp(mw.source,"g");function qQ(e){return function(){return e}}function KQ(e){return function(t){return e(t)+""}}function GQ(e,t){var n=mw.lastIndex=ob.lastIndex=0,a,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(a=mw.exec(e))&&(s=ob.exec(t));)(l=s.index)>n&&(l=t.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(a=a[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:W0(a,s)})),n=ob.lastIndex;return n<t.length&&(l=t.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?KQ(f[0].x):qQ(t):(t=f.length,function(m){for(var h=0,x;h<t;++h)d[(x=f[h]).i]=x.x(m);return d.join("")})}function Qc(e,t){var n=typeof t,a;return t==null||n==="boolean"?l2(t):(n==="number"?W0:n==="string"?(a=hf(t))?(t=a,SA):GQ:t instanceof hf?SA:t instanceof Date?VQ:UQ(t)?BQ:Array.isArray(t)?FQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?HQ:W0)(e,t)}function o2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function YQ(e,t){t===void 0&&(t=e,e=Qc);for(var n=0,a=t.length-1,s=t[0],l=new Array(a<0?0:a);n<a;)l[n]=e(s,s=t[++n]);return function(c){var d=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return l[d](c-d)}}function WQ(e){return function(){return e}}function X0(e){return+e}var _A=[0,1];function ur(e){return e}function hw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:WQ(isNaN(t)?NaN:.5)}function XQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function ZQ(e,t,n){var a=e[0],s=e[1],l=t[0],c=t[1];return s<a?(a=hw(s,a),l=n(c,l)):(a=hw(a,s),l=n(l,c)),function(d){return l(a(d))}}function QQ(e,t,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),l=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=hw(e[c],e[c+1]),l[c]=n(t[c],t[c+1]);return function(d){var f=Mf(e,d,1,a)-1;return l[f](s[f](d))}}function Rf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hp(){var e=_A,t=_A,n=Qc,a,s,l,c=ur,d,f,m;function h(){var g=Math.min(e.length,t.length);return c!==ur&&(c=XQ(e[0],e[g-1])),d=g>2?QQ:ZQ,f=m=null,x}function x(g){return g==null||isNaN(g=+g)?l:(f||(f=d(e.map(a),t,n)))(a(c(g)))}return x.invert=function(g){return c(s((m||(m=d(t,e.map(a),W0)))(g)))},x.domain=function(g){return arguments.length?(e=Array.from(g,X0),h()):e.slice()},x.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},x.rangeRound=function(g){return t=Array.from(g),n=o2,h()},x.clamp=function(g){return arguments.length?(c=g?!0:ur,h()):c!==ur},x.interpolate=function(g){return arguments.length?(n=g,h()):n},x.unknown=function(g){return arguments.length?(l=g,x):l},function(g,b){return a=g,s=b,h()}}function c2(){return Hp()(ur,ur)}function JQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Z0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function Dc(e){return e=Z0(Math.abs(e)),e?e[1]:NaN}function eJ(e,t){return function(n,a){for(var s=n.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>a&&(d=Math.max(1,a-f)),l.push(n.substring(s-=d,s+d)),!((f+=d+1)>a));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function tJ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var nJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pf(e){if(!(t=nJ.exec(e)))throw new Error("invalid format: "+e);var t;return new u2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pf.prototype=u2.prototype;function u2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}u2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rJ(e){e:for(var t=e.length,n=1,a=-1,s;n<t;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var CD;function aJ(e,t){var n=Z0(e,t);if(!n)return e+"";var a=n[0],s=n[1],l=s-(CD=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return l===c?a:l>c?a+new Array(l-c+1).join("0"):l>0?a.slice(0,l)+"."+a.slice(l):"0."+new Array(1-l).join("0")+Z0(e,Math.max(0,t+l-1))[0]}function kA(e,t){var n=Z0(e,t);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const CA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:JQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kA(e*100,t),r:kA,s:aJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AA(e){return e}var TA=Array.prototype.map,EA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sJ(e){var t=e.grouping===void 0||e.thousands===void 0?AA:eJ(TA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?AA:tJ(TA.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x){x=pf(x);var g=x.fill,b=x.align,w=x.sign,j=x.symbol,S=x.zero,k=x.width,_=x.comma,C=x.precision,P=x.trim,T=x.type;T==="n"?(_=!0,T="g"):CA[T]||(C===void 0&&(C=12),P=!0,T="g"),(S||g==="0"&&b==="=")&&(S=!0,g="0",b="=");var E=j==="$"?n:j==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",L=j==="$"?a:/[%p]/.test(T)?c:"",M=CA[T],B=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function K(F){var U=E,te=L,we,re,R;if(T==="c")te=M(F)+te,F="";else{F=+F;var G=F<0||1/F<0;if(F=isNaN(F)?f:M(Math.abs(F),C),P&&(F=rJ(F)),G&&+F==0&&w!=="+"&&(G=!1),U=(G?w==="("?w:d:w==="-"||w==="("?"":w)+U,te=(T==="s"?EA[8+CD/3]:"")+te+(G&&w==="("?")":""),B){for(we=-1,re=F.length;++we<re;)if(R=F.charCodeAt(we),48>R||R>57){te=(R===46?s+F.slice(we+1):F.slice(we))+te,F=F.slice(0,we);break}}}_&&!S&&(F=t(F,1/0));var H=U.length+F.length+te.length,I=H<k?new Array(k-H+1).join(g):"";switch(_&&S&&(F=t(I+F,I.length?k-te.length:1/0),I=""),b){case"<":F=U+F+te+I;break;case"=":F=U+I+F+te;break;case"^":F=I.slice(0,H=I.length>>1)+U+F+te+I.slice(H);break;default:F=I+U+F+te;break}return l(F)}return K.toString=function(){return x+""},K}function h(x,g){var b=m((x=pf(x),x.type="f",x)),w=Math.max(-8,Math.min(8,Math.floor(Dc(g)/3)))*3,j=Math.pow(10,-w),S=EA[8+w/3];return function(k){return b(j*k)+S}}return{format:m,formatPrefix:h}}var jh,d2,AD;iJ({thousands:",",grouping:[3],currency:["$",""]});function iJ(e){return jh=sJ(e),d2=jh.format,AD=jh.formatPrefix,jh}function lJ(e){return Math.max(0,-Dc(Math.abs(e)))}function oJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dc(t)/3)))*3-Dc(Math.abs(e)))}function cJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Dc(t)-Dc(e))+1}function TD(e,t,n,a){var s=uw(e,t,n),l;switch(a=pf(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(l=oJ(s,c))&&(a.precision=l),AD(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(l=cJ(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=l-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(l=lJ(s))&&(a.precision=l-(a.type==="%")*2);break}}return d2(a)}function tl(e){var t=e.domain;return e.ticks=function(n){var a=t();return ow(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=t();return TD(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),s=0,l=a.length-1,c=a[s],d=a[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=cw(c,d,n),m===f)return a[s]=c,a[l]=d,t(a);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function ED(){var e=c2();return e.copy=function(){return Rf(e,ED())},ya.apply(e,arguments),tl(e)}function PD(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,X0),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return PD(e).unknown(t)},e=arguments.length?Array.from(e,X0):[0,1],tl(n)}function OD(e,t){e=e.slice();var n=0,a=e.length-1,s=e[n],l=e[a],c;return l<s&&(c=n,n=a,a=c,c=s,s=l,l=c),e[n]=t.floor(s),e[a]=t.ceil(l),e}function PA(e){return Math.log(e)}function OA(e){return Math.exp(e)}function uJ(e){return-Math.log(-e)}function dJ(e){return-Math.exp(-e)}function fJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mJ(e){return e===10?fJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function MA(e){return(t,n)=>-e(-t,n)}function f2(e){const t=e(PA,OA),n=t.domain;let a=10,s,l;function c(){return s=hJ(a),l=mJ(a),n()[0]<0?(s=MA(s),l=MA(l),e(uJ,dJ)):e(PA,OA),t}return t.base=function(d){return arguments.length?(a=+d,c()):a},t.domain=function(d){return arguments.length?(n(d),c()):n()},t.ticks=d=>{const f=n();let m=f[0],h=f[f.length-1];const x=h<m;x&&([m,h]=[h,m]);let g=s(m),b=s(h),w,j;const S=d==null?10:+d;let k=[];if(!(a%1)&&b-g<S){if(g=Math.floor(g),b=Math.ceil(b),m>0){for(;g<=b;++g)for(w=1;w<a;++w)if(j=g<0?w/l(-g):w*l(g),!(j<m)){if(j>h)break;k.push(j)}}else for(;g<=b;++g)for(w=a-1;w>=1;--w)if(j=g>0?w/l(-g):w*l(g),!(j<m)){if(j>h)break;k.push(j)}k.length*2<S&&(k=ow(m,h,S))}else k=ow(g,b,Math.min(b-g,S)).map(l);return x?k.reverse():k},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=a===10?"s":","),typeof f!="function"&&(!(a%1)&&(f=pf(f)).precision==null&&(f.trim=!0),f=d2(f)),d===1/0)return f;const m=Math.max(1,a*d/t.ticks().length);return h=>{let x=h/l(Math.round(s(h)));return x*a<a-.5&&(x*=a),x<=m?f(h):""}},t.nice=()=>n(OD(n(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function MD(){const e=f2(Hp()).domain([1,10]);return e.copy=()=>Rf(e,MD()).base(e.base()),ya.apply(e,arguments),e}function DA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function RA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function m2(e){var t=1,n=e(DA(t),RA(t));return n.constant=function(a){return arguments.length?e(DA(t=+a),RA(t)):t},tl(n)}function DD(){var e=m2(Hp());return e.copy=function(){return Rf(e,DD()).constant(e.constant())},ya.apply(e,arguments)}function LA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xJ(e){return e<0?-e*e:e*e}function h2(e){var t=e(ur,ur),n=1;function a(){return n===1?e(ur,ur):n===.5?e(pJ,xJ):e(LA(n),LA(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},tl(t)}function p2(){var e=h2(Hp());return e.copy=function(){return Rf(e,p2()).exponent(e.exponent())},ya.apply(e,arguments),e}function gJ(){return p2.apply(null,arguments).exponent(.5)}function $A(e){return Math.sign(e)*e*e}function vJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RD(){var e=c2(),t=[0,1],n=!1,a;function s(l){var c=vJ(e(l));return isNaN(c)?a:n?Math.round(c):c}return s.invert=function(l){return e.invert($A(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,X0)).map($A)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(n=!!l,s):n},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return RD(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},ya.apply(s,arguments),tl(s)}function LD(){var e=[],t=[],n=[],a;function s(){var c=0,d=Math.max(1,t.length);for(n=new Array(d-1);++c<d;)n[c-1]=jQ(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?a:t[Mf(n,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Hi),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(a=c,l):a},l.quantiles=function(){return n.slice()},l.copy=function(){return LD().domain(e).range(t).unknown(a)},ya.apply(l,arguments)}function $D(){var e=0,t=1,n=1,a=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[Mf(a,f,0,n)]:l}function d(){var f=-1;for(a=new Array(n);++f<n;)a[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=n?[a[n-1],t]:[a[m-1],a[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return a.slice()},c.copy=function(){return $D().domain([e,t]).range(s).unknown(l)},ya.apply(tl(c),arguments)}function ID(){var e=[.5],t=[0,1],n,a=1;function s(l){return l!=null&&l<=l?t[Mf(e,l,0,a)]:n}return s.domain=function(l){return arguments.length?(e=Array.from(l),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(n=l,s):n},s.copy=function(){return ID().domain(e).range(t).unknown(n)},ya.apply(s,arguments)}const cb=new Date,ub=new Date;function kn(e,t,n,a){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>kn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),n&&(s.count=(l,c)=>(cb.setTime(+l),ub.setTime(+c),e(cb),e(ub),Math.floor(n(cb,ub))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(a?c=>a(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const Q0=kn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Q0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Q0);Q0.range;const Rs=1e3,da=Rs*60,Ls=da*60,Xs=Ls*24,x2=Xs*7,IA=Xs*30,db=Xs*365,Vl=kn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCSeconds());Vl.range;const g2=kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getMinutes());g2.range;const v2=kn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCMinutes());v2.range;const y2=kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs-e.getMinutes()*da)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getHours());y2.range;const b2=kn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getUTCHours());b2.range;const Lf=kn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*da)/Xs,e=>e.getDate()-1);Lf.range;const qp=kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xs,e=>e.getUTCDate()-1);qp.range;const zD=kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xs,e=>Math.floor(e/Xs));zD.range;function io(e){return kn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*da)/x2)}const Kp=io(0),J0=io(1),yJ=io(2),bJ=io(3),Rc=io(4),wJ=io(5),jJ=io(6);Kp.range;J0.range;yJ.range;bJ.range;Rc.range;wJ.range;jJ.range;function lo(e){return kn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/x2)}const Gp=lo(0),ep=lo(1),NJ=lo(2),SJ=lo(3),Lc=lo(4),_J=lo(5),kJ=lo(6);Gp.range;ep.range;NJ.range;SJ.range;Lc.range;_J.range;kJ.range;const w2=kn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());w2.range;const j2=kn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());j2.range;const Zs=kn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Zs.range;const Qs=kn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Qs.range;function BD(e,t,n,a,s,l){const c=[[Vl,1,Rs],[Vl,5,5*Rs],[Vl,15,15*Rs],[Vl,30,30*Rs],[l,1,da],[l,5,5*da],[l,15,15*da],[l,30,30*da],[s,1,Ls],[s,3,3*Ls],[s,6,6*Ls],[s,12,12*Ls],[a,1,Xs],[a,2,2*Xs],[n,1,x2],[t,1,IA],[t,3,3*IA],[e,1,db]];function d(m,h,x){const g=h<m;g&&([m,h]=[h,m]);const b=x&&typeof x.range=="function"?x:f(m,h,x),w=b?b.range(m,+h+1):[];return g?w.reverse():w}function f(m,h,x){const g=Math.abs(h-m)/x,b=r2(([,,S])=>S).right(c,g);if(b===c.length)return e.every(uw(m/db,h/db,x));if(b===0)return Q0.every(Math.max(uw(m,h,x),1));const[w,j]=c[g/c[b-1][2]<c[b][2]/g?b-1:b];return w.every(j)}return[d,f]}const[CJ,AJ]=BD(Qs,j2,Gp,zD,b2,v2),[TJ,EJ]=BD(Zs,w2,Kp,Lf,y2,g2);function fb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function PJ(e){var t=e.dateTime,n=e.date,a=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=fd(s),h=md(s),x=fd(l),g=md(l),b=fd(c),w=md(c),j=fd(d),S=md(d),k=fd(f),_=md(f),C={a:G,A:H,b:I,B:A,c:null,d:HA,e:HA,f:eee,g:uee,G:fee,H:ZJ,I:QJ,j:JJ,L:UD,m:tee,M:nee,p:D,q:$,Q:GA,s:YA,S:ree,u:aee,U:see,V:iee,w:lee,W:oee,x:null,X:null,y:cee,Y:dee,Z:mee,"%":KA},P={a:W,A:ce,b:Q,B:Z,c:null,d:qA,e:qA,f:gee,g:Cee,G:Tee,H:hee,I:pee,j:xee,L:VD,m:vee,M:yee,p:je,q:se,Q:GA,s:YA,S:bee,u:wee,U:jee,V:Nee,w:See,W:_ee,x:null,X:null,y:kee,Y:Aee,Z:Eee,"%":KA},T={a:K,A:F,b:U,B:te,c:we,d:FA,e:FA,f:GJ,g:UA,G:BA,H:VA,I:VA,j:VJ,L:KJ,m:FJ,M:HJ,p:B,q:UJ,Q:WJ,s:XJ,S:qJ,u:LJ,U:$J,V:IJ,w:RJ,W:zJ,x:re,X:R,y:UA,Y:BA,Z:BJ,"%":YJ};C.x=E(n,C),C.X=E(a,C),C.c=E(t,C),P.x=E(n,P),P.X=E(a,P),P.c=E(t,P);function E(be,_e){return function(Ne){var xe=[],ze=-1,Be=0,Se=be.length,q,ie,Y;for(Ne instanceof Date||(Ne=new Date(+Ne));++ze<Se;)be.charCodeAt(ze)===37&&(xe.push(be.slice(Be,ze)),(ie=zA[q=be.charAt(++ze)])!=null?q=be.charAt(++ze):ie=q==="e"?" ":"0",(Y=_e[q])&&(q=Y(Ne,ie)),xe.push(q),Be=ze+1);return xe.push(be.slice(Be,ze)),xe.join("")}}function L(be,_e){return function(Ne){var xe=dd(1900,void 0,1),ze=M(xe,be,Ne+="",0),Be,Se;if(ze!=Ne.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(_e&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Be=mb(dd(xe.y,0,1)),Se=Be.getUTCDay(),Be=Se>4||Se===0?ep.ceil(Be):ep(Be),Be=qp.offset(Be,(xe.V-1)*7),xe.y=Be.getUTCFullYear(),xe.m=Be.getUTCMonth(),xe.d=Be.getUTCDate()+(xe.w+6)%7):(Be=fb(dd(xe.y,0,1)),Se=Be.getDay(),Be=Se>4||Se===0?J0.ceil(Be):J0(Be),Be=Lf.offset(Be,(xe.V-1)*7),xe.y=Be.getFullYear(),xe.m=Be.getMonth(),xe.d=Be.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),Se="Z"in xe?mb(dd(xe.y,0,1)).getUTCDay():fb(dd(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(Se+5)%7:xe.w+xe.U*7-(Se+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,mb(xe)):fb(xe)}}function M(be,_e,Ne,xe){for(var ze=0,Be=_e.length,Se=Ne.length,q,ie;ze<Be;){if(xe>=Se)return-1;if(q=_e.charCodeAt(ze++),q===37){if(q=_e.charAt(ze++),ie=T[q in zA?_e.charAt(ze++):q],!ie||(xe=ie(be,Ne,xe))<0)return-1}else if(q!=Ne.charCodeAt(xe++))return-1}return xe}function B(be,_e,Ne){var xe=m.exec(_e.slice(Ne));return xe?(be.p=h.get(xe[0].toLowerCase()),Ne+xe[0].length):-1}function K(be,_e,Ne){var xe=b.exec(_e.slice(Ne));return xe?(be.w=w.get(xe[0].toLowerCase()),Ne+xe[0].length):-1}function F(be,_e,Ne){var xe=x.exec(_e.slice(Ne));return xe?(be.w=g.get(xe[0].toLowerCase()),Ne+xe[0].length):-1}function U(be,_e,Ne){var xe=k.exec(_e.slice(Ne));return xe?(be.m=_.get(xe[0].toLowerCase()),Ne+xe[0].length):-1}function te(be,_e,Ne){var xe=j.exec(_e.slice(Ne));return xe?(be.m=S.get(xe[0].toLowerCase()),Ne+xe[0].length):-1}function we(be,_e,Ne){return M(be,t,_e,Ne)}function re(be,_e,Ne){return M(be,n,_e,Ne)}function R(be,_e,Ne){return M(be,a,_e,Ne)}function G(be){return c[be.getDay()]}function H(be){return l[be.getDay()]}function I(be){return f[be.getMonth()]}function A(be){return d[be.getMonth()]}function D(be){return s[+(be.getHours()>=12)]}function $(be){return 1+~~(be.getMonth()/3)}function W(be){return c[be.getUTCDay()]}function ce(be){return l[be.getUTCDay()]}function Q(be){return f[be.getUTCMonth()]}function Z(be){return d[be.getUTCMonth()]}function je(be){return s[+(be.getUTCHours()>=12)]}function se(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var _e=E(be+="",C);return _e.toString=function(){return be},_e},parse:function(be){var _e=L(be+="",!1);return _e.toString=function(){return be},_e},utcFormat:function(be){var _e=E(be+="",P);return _e.toString=function(){return be},_e},utcParse:function(be){var _e=L(be+="",!0);return _e.toString=function(){return be},_e}}}var zA={"-":"",_:" ",0:"0"},Ln=/^\s*\d+/,OJ=/^%/,MJ=/[\\^$*+?|[\]().{}]/g;function jt(e,t,n){var a=e<0?"-":"",s=(a?-e:e)+"",l=s.length;return a+(l<n?new Array(n-l+1).join(t)+s:s)}function DJ(e){return e.replace(MJ,"\\$&")}function fd(e){return new RegExp("^(?:"+e.map(DJ).join("|")+")","i")}function md(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function RJ(e,t,n){var a=Ln.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function LJ(e,t,n){var a=Ln.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function $J(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function IJ(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function zJ(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function BA(e,t,n){var a=Ln.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function UA(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function BJ(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function UJ(e,t,n){var a=Ln.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function FJ(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function FA(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function VJ(e,t,n){var a=Ln.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function VA(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function HJ(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function qJ(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function KJ(e,t,n){var a=Ln.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function GJ(e,t,n){var a=Ln.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function YJ(e,t,n){var a=OJ.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function WJ(e,t,n){var a=Ln.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function XJ(e,t,n){var a=Ln.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function HA(e,t){return jt(e.getDate(),t,2)}function ZJ(e,t){return jt(e.getHours(),t,2)}function QJ(e,t){return jt(e.getHours()%12||12,t,2)}function JJ(e,t){return jt(1+Lf.count(Zs(e),e),t,3)}function UD(e,t){return jt(e.getMilliseconds(),t,3)}function eee(e,t){return UD(e,t)+"000"}function tee(e,t){return jt(e.getMonth()+1,t,2)}function nee(e,t){return jt(e.getMinutes(),t,2)}function ree(e,t){return jt(e.getSeconds(),t,2)}function aee(e){var t=e.getDay();return t===0?7:t}function see(e,t){return jt(Kp.count(Zs(e)-1,e),t,2)}function FD(e){var t=e.getDay();return t>=4||t===0?Rc(e):Rc.ceil(e)}function iee(e,t){return e=FD(e),jt(Rc.count(Zs(e),e)+(Zs(e).getDay()===4),t,2)}function lee(e){return e.getDay()}function oee(e,t){return jt(J0.count(Zs(e)-1,e),t,2)}function cee(e,t){return jt(e.getFullYear()%100,t,2)}function uee(e,t){return e=FD(e),jt(e.getFullYear()%100,t,2)}function dee(e,t){return jt(e.getFullYear()%1e4,t,4)}function fee(e,t){var n=e.getDay();return e=n>=4||n===0?Rc(e):Rc.ceil(e),jt(e.getFullYear()%1e4,t,4)}function mee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jt(t/60|0,"0",2)+jt(t%60,"0",2)}function qA(e,t){return jt(e.getUTCDate(),t,2)}function hee(e,t){return jt(e.getUTCHours(),t,2)}function pee(e,t){return jt(e.getUTCHours()%12||12,t,2)}function xee(e,t){return jt(1+qp.count(Qs(e),e),t,3)}function VD(e,t){return jt(e.getUTCMilliseconds(),t,3)}function gee(e,t){return VD(e,t)+"000"}function vee(e,t){return jt(e.getUTCMonth()+1,t,2)}function yee(e,t){return jt(e.getUTCMinutes(),t,2)}function bee(e,t){return jt(e.getUTCSeconds(),t,2)}function wee(e){var t=e.getUTCDay();return t===0?7:t}function jee(e,t){return jt(Gp.count(Qs(e)-1,e),t,2)}function HD(e){var t=e.getUTCDay();return t>=4||t===0?Lc(e):Lc.ceil(e)}function Nee(e,t){return e=HD(e),jt(Lc.count(Qs(e),e)+(Qs(e).getUTCDay()===4),t,2)}function See(e){return e.getUTCDay()}function _ee(e,t){return jt(ep.count(Qs(e)-1,e),t,2)}function kee(e,t){return jt(e.getUTCFullYear()%100,t,2)}function Cee(e,t){return e=HD(e),jt(e.getUTCFullYear()%100,t,2)}function Aee(e,t){return jt(e.getUTCFullYear()%1e4,t,4)}function Tee(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Lc(e):Lc.ceil(e),jt(e.getUTCFullYear()%1e4,t,4)}function Eee(){return"+0000"}function KA(){return"%"}function GA(e){return+e}function YA(e){return Math.floor(+e/1e3)}var Go,qD,KD;Pee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pee(e){return Go=PJ(e),qD=Go.format,Go.parse,KD=Go.utcFormat,Go.utcParse,Go}function Oee(e){return new Date(e)}function Mee(e){return e instanceof Date?+e:+new Date(+e)}function N2(e,t,n,a,s,l,c,d,f,m){var h=c2(),x=h.invert,g=h.domain,b=m(".%L"),w=m(":%S"),j=m("%I:%M"),S=m("%I %p"),k=m("%a %d"),_=m("%b %d"),C=m("%B"),P=m("%Y");function T(E){return(f(E)<E?b:d(E)<E?w:c(E)<E?j:l(E)<E?S:a(E)<E?s(E)<E?k:_:n(E)<E?C:P)(E)}return h.invert=function(E){return new Date(x(E))},h.domain=function(E){return arguments.length?g(Array.from(E,Mee)):g().map(Oee)},h.ticks=function(E){var L=g();return e(L[0],L[L.length-1],E??10)},h.tickFormat=function(E,L){return L==null?T:m(L)},h.nice=function(E){var L=g();return(!E||typeof E.range!="function")&&(E=t(L[0],L[L.length-1],E??10)),E?g(OD(L,E)):h},h.copy=function(){return Rf(h,N2(e,t,n,a,s,l,c,d,f,m))},h}function Dee(){return ya.apply(N2(TJ,EJ,Zs,w2,Kp,Lf,y2,g2,Vl,qD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ree(){return ya.apply(N2(CJ,AJ,Qs,j2,Gp,qp,b2,v2,Vl,KD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yp(){var e=0,t=1,n,a,s,l,c=ur,d=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(s===0?.5:(x=(l(x)-n)*s,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,n=l(e=+e),a=l(t=+t),s=n===a?0:1/(a-n),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(c=x,m):c};function h(x){return function(g){var b,w;return arguments.length?([b,w]=g,c=x(b,w),m):[c(0),c(1)]}}return m.range=h(Qc),m.rangeRound=h(o2),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,n=x(e),a=x(t),s=n===a?0:1/(a-n),m}}function nl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GD(){var e=tl(Yp()(ur));return e.copy=function(){return nl(e,GD())},ri.apply(e,arguments)}function YD(){var e=f2(Yp()).domain([1,10]);return e.copy=function(){return nl(e,YD()).base(e.base())},ri.apply(e,arguments)}function WD(){var e=m2(Yp());return e.copy=function(){return nl(e,WD()).constant(e.constant())},ri.apply(e,arguments)}function S2(){var e=h2(Yp());return e.copy=function(){return nl(e,S2()).exponent(e.exponent())},ri.apply(e,arguments)}function Lee(){return S2.apply(null,arguments).exponent(.5)}function XD(){var e=[],t=ur;function n(a){if(a!=null&&!isNaN(a=+a))return t((Mf(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Hi),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,l)=>wQ(e,l/a))},n.copy=function(){return XD(t).domain(e)},ri.apply(n,arguments)}function Wp(){var e=0,t=.5,n=1,a=1,s,l,c,d,f,m=ur,h,x=!1,g;function b(j){return isNaN(j=+j)?g:(j=.5+((j=+h(j))-l)*(a*j<a*l?d:f),m(x?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([e,t,n]=j,s=h(e=+e),l=h(t=+t),c=h(n=+n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,b):[e,t,n]},b.clamp=function(j){return arguments.length?(x=!!j,b):x},b.interpolator=function(j){return arguments.length?(m=j,b):m};function w(j){return function(S){var k,_,C;return arguments.length?([k,_,C]=S,m=YQ(j,[k,_,C]),b):[m(0),m(.5),m(1)]}}return b.range=w(Qc),b.rangeRound=w(o2),b.unknown=function(j){return arguments.length?(g=j,b):g},function(j){return h=j,s=j(e),l=j(t),c=j(n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,b}}function ZD(){var e=tl(Wp()(ur));return e.copy=function(){return nl(e,ZD())},ri.apply(e,arguments)}function QD(){var e=f2(Wp()).domain([.1,1,10]);return e.copy=function(){return nl(e,QD()).base(e.base())},ri.apply(e,arguments)}function JD(){var e=m2(Wp());return e.copy=function(){return nl(e,JD()).constant(e.constant())},ri.apply(e,arguments)}function _2(){var e=h2(Wp());return e.copy=function(){return nl(e,_2()).exponent(e.exponent())},ri.apply(e,arguments)}function $ee(){return _2.apply(null,arguments).exponent(.5)}const Od=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:s2,scaleDiverging:ZD,scaleDivergingLog:QD,scaleDivergingPow:_2,scaleDivergingSqrt:$ee,scaleDivergingSymlog:JD,scaleIdentity:PD,scaleImplicit:dw,scaleLinear:ED,scaleLog:MD,scaleOrdinal:a2,scalePoint:SQ,scalePow:p2,scaleQuantile:LD,scaleQuantize:$D,scaleRadial:RD,scaleSequential:GD,scaleSequentialLog:YD,scaleSequentialPow:S2,scaleSequentialQuantile:XD,scaleSequentialSqrt:Lee,scaleSequentialSymlog:WD,scaleSqrt:gJ,scaleSymlog:DD,scaleThreshold:ID,scaleTime:Dee,scaleUtc:Ree,tickFormat:TD},Symbol.toStringTag,{value:"Module"}));var rl=e=>e.chartData,k2=ve([rl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Xp=(e,t,n,a)=>a?k2(e):rl(e);function $c(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Kr(t)&&Kr(n))return!0}return!1}function WA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Iee(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,a]=e,s,l;if(Kr(n))s=n;else if(typeof n=="function")return;if(Kr(a))l=a;else if(typeof a=="function")return;var c=[s,l];if($c(c))return c}}function zee(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,n);if($c(a))return WA(a,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Fe(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&IC.test(s)){var f=IC.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t==null?void 0:t[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(Fe(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&zC.test(l)){var h=zC.exec(l);if(h==null||t==null)d=void 0;else{var x=+h[1];d=t[1]+x}}else d=t==null?void 0:t[1];var g=[c,d];if($c(g))return t==null?g:WA(g,t,n)}}}var Jc=1e9,Bee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},A2,Zt=!0,ga="[DecimalError] ",Xl=ga+"Invalid argument: ",C2=ga+"Exponent out of range: ",eu=Math.floor,Ml=Math.pow,Uee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ur,Mn=1e7,Ht=7,e8=9007199254740991,tp=eu(e8/Ht),Ve={};Ve.absoluteValue=Ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ve.comparedTo=Ve.cmp=function(e){var t,n,a,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(a=l.d.length,s=e.d.length,t=0,n=a<s?a:s;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return a===s?0:a>s^l.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ht;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(e){return Bs(this,new this.constructor(e))};Ve.dividedToIntegerBy=Ve.idiv=function(e){var t=this,n=t.constructor;return It(Bs(t,new n(e),0,1),n.precision)};Ve.equals=Ve.eq=function(e){return!this.cmp(e)};Ve.exponent=function(){return yn(this)};Ve.greaterThan=Ve.gt=function(e){return this.cmp(e)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(e){return this.cmp(e)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(e){return this.cmp(e)<0};Ve.lessThanOrEqualTo=Ve.lte=function(e){return this.cmp(e)<1};Ve.logarithm=Ve.log=function(e){var t,n=this,a=n.constructor,s=a.precision,l=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Ur))throw Error(ga+"NaN");if(n.s<1)throw Error(ga+(n.s?"NaN":"-Infinity"));return n.eq(Ur)?new a(0):(Zt=!1,t=Bs(xf(n,l),xf(e,l),l),Zt=!0,It(t,s))};Ve.minus=Ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?r8(t,e):t8(t,(e.s=-e.s,e))};Ve.modulo=Ve.mod=function(e){var t,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(ga+"NaN");return n.s?(Zt=!1,t=Bs(n,e,0,1).times(e),Zt=!0,n.minus(t)):It(new a(n),s)};Ve.naturalExponential=Ve.exp=function(){return n8(this)};Ve.naturalLogarithm=Ve.ln=function(){return xf(this)};Ve.negated=Ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ve.plus=Ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?t8(t,e):r8(t,(e.s=-e.s,e))};Ve.precision=Ve.sd=function(e){var t,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xl+e);if(t=yn(s)+1,a=s.d.length-1,n=a*Ht+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};Ve.squareRoot=Ve.sqrt=function(){var e,t,n,a,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(ga+"NaN")}for(e=yn(d),Zt=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=ns(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=eu((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new f(t)):a=new f(s.toString()),n=f.precision,s=c=n+3;;)if(l=a,a=l.plus(Bs(d,l,c+2)).times(.5),ns(l.d).slice(0,c)===(t=ns(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(It(l,n+1,0),l.times(l).eq(d)){a=l;break}}else if(t!="9999")break;c+=4}return Zt=!0,It(a,n)};Ve.times=Ve.mul=function(e){var t,n,a,s,l,c,d,f,m,h=this,x=h.constructor,g=h.d,b=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,n=h.e+e.e,f=g.length,m=b.length,f<m&&(l=g,g=b,b=l,c=f,f=m,m=c),l=[],c=f+m,a=c;a--;)l.push(0);for(a=m;--a>=0;){for(t=0,s=f+a;s>a;)d=l[s]+b[a]*g[s-a-1]+t,l[s--]=d%Mn|0,t=d/Mn|0;l[s]=(l[s]+t)%Mn|0}for(;!l[--c];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,Zt?It(e,x.precision):e};Ve.toDecimalPlaces=Ve.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(os(e,0,Jc),t===void 0?t=a.rounding:os(t,0,8),It(n,e+yn(n)+1,t))};Ve.toExponential=function(e,t){var n,a=this,s=a.constructor;return e===void 0?n=no(a,!0):(os(e,0,Jc),t===void 0?t=s.rounding:os(t,0,8),a=It(new s(a),e+1,t),n=no(a,!0,e+1)),n};Ve.toFixed=function(e,t){var n,a,s=this,l=s.constructor;return e===void 0?no(s):(os(e,0,Jc),t===void 0?t=l.rounding:os(t,0,8),a=It(new l(s),e+yn(s)+1,t),n=no(a.abs(),!1,e+yn(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var e=this,t=e.constructor;return It(new t(e),yn(e)+1,t.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(e){var t,n,a,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Ur);if(d=new f(d),!d.s){if(e.s<1)throw Error(ga+"Infinity");return d}if(d.eq(Ur))return d;if(a=f.precision,e.eq(Ur))return It(d,a);if(t=e.e,n=e.d.length-1,c=t>=n,l=d.s,c){if((n=h<0?-h:h)<=e8){for(s=new f(Ur),t=Math.ceil(a/Ht+4),Zt=!1;n%2&&(s=s.times(d),ZA(s.d,t)),n=eu(n/2),n!==0;)d=d.times(d),ZA(d.d,t);return Zt=!0,e.s<0?new f(Ur).div(s):It(s,a)}}else if(l<0)throw Error(ga+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Zt=!1,s=e.times(xf(d,a+m)),Zt=!0,s=n8(s),s.s=l,s};Ve.toPrecision=function(e,t){var n,a,s=this,l=s.constructor;return e===void 0?(n=yn(s),a=no(s,n<=l.toExpNeg||n>=l.toExpPos)):(os(e,1,Jc),t===void 0?t=l.rounding:os(t,0,8),s=It(new l(s),e,t),n=yn(s),a=no(s,e<=n||n<=l.toExpNeg,e)),a};Ve.toSignificantDigits=Ve.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(os(e,1,Jc),t===void 0?t=a.rounding:os(t,0,8)),It(new a(n),e,t)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yn(e),n=e.constructor;return no(e,t<=n.toExpNeg||t>=n.toExpPos)};function t8(e,t){var n,a,s,l,c,d,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Zt?It(t,x):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(a=f,l=-l,d=m.length):(a=m,s=c,d=f.length),c=Math.ceil(x/Ht),d=c>d?c+1:d+1,l>d&&(l=d,a.length=1),a.reverse();l--;)a.push(0);a.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,a=m,m=f,f=a),n=0;l;)n=(f[--l]=f[l]+m[l]+n)/Mn|0,f[l]%=Mn;for(n&&(f.unshift(n),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,Zt?It(t,x):t}function os(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Xl+e)}function ns(e){var t,n,a,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)a=e[t]+"",n=Ht-a.length,n&&(l+=Ui(n)),l+=a;c=e[t],a=c+"",n=Ht-a.length,n&&(l+=Ui(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Bs=function(){function e(a,s){var l,c=0,d=a.length;for(a=a.slice();d--;)l=a[d]*s+c,a[d]=l%Mn|0,c=l/Mn|0;return c&&a.unshift(c),a}function t(a,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(a[d]!=s[d]){f=a[d]>s[d]?1:-1;break}return f}function n(a,s,l){for(var c=0;l--;)a[l]-=c,c=a[l]<s[l]?1:0,a[l]=c*Mn+a[l]-s[l];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,l,c){var d,f,m,h,x,g,b,w,j,S,k,_,C,P,T,E,L,M,B=a.constructor,K=a.s==s.s?1:-1,F=a.d,U=s.d;if(!a.s)return new B(a);if(!s.s)throw Error(ga+"Division by zero");for(f=a.e-s.e,L=U.length,T=F.length,b=new B(K),w=b.d=[],m=0;U[m]==(F[m]||0);)++m;if(U[m]>(F[m]||0)&&--f,l==null?_=l=B.precision:c?_=l+(yn(a)-yn(s))+1:_=l,_<0)return new B(0);if(_=_/Ht+2|0,m=0,L==1)for(h=0,U=U[0],_++;(m<T||h)&&_--;m++)C=h*Mn+(F[m]||0),w[m]=C/U|0,h=C%U|0;else{for(h=Mn/(U[0]+1)|0,h>1&&(U=e(U,h),F=e(F,h),L=U.length,T=F.length),P=L,j=F.slice(0,L),S=j.length;S<L;)j[S++]=0;M=U.slice(),M.unshift(0),E=U[0],U[1]>=Mn/2&&++E;do h=0,d=t(U,j,L,S),d<0?(k=j[0],L!=S&&(k=k*Mn+(j[1]||0)),h=k/E|0,h>1?(h>=Mn&&(h=Mn-1),x=e(U,h),g=x.length,S=j.length,d=t(x,j,g,S),d==1&&(h--,n(x,L<g?M:U,g))):(h==0&&(d=h=1),x=U.slice()),g=x.length,g<S&&x.unshift(0),n(j,x,S),d==-1&&(S=j.length,d=t(U,j,L,S),d<1&&(h++,n(j,L<S?M:U,S))),S=j.length):d===0&&(h++,j=[0]),w[m++]=h,d&&j[0]?j[S++]=F[P]||0:(j=[F[P]],S=1);while((P++<T||j[0]!==void 0)&&_--)}return w[0]||w.shift(),b.e=f,It(b,c?l+yn(b)+1:l)}}();function n8(e,t){var n,a,s,l,c,d,f=0,m=0,h=e.constructor,x=h.precision;if(yn(e)>16)throw Error(C2+yn(e));if(!e.s)return new h(Ur);for(Zt=!1,d=x,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(a=Math.log(Ml(2,m))/Math.LN10*2+5|0,d+=a,n=s=l=new h(Ur),h.precision=d;;){if(s=It(s.times(e),d),n=n.times(++f),c=l.plus(Bs(s,n,d)),ns(c.d).slice(0,d)===ns(l.d).slice(0,d)){for(;m--;)l=It(l.times(l),d);return h.precision=x,t==null?(Zt=!0,It(l,x)):l}l=c}}function yn(e){for(var t=e.e*Ht,n=e.d[0];n>=10;n/=10)t++;return t}function hb(e,t,n){if(t>e.LN10.sd())throw Zt=!0,n&&(e.precision=n),Error(ga+"LN10 precision limit exceeded");return It(new e(e.LN10),t)}function Ui(e){for(var t="";e--;)t+="0";return t}function xf(e,t){var n,a,s,l,c,d,f,m,h,x=1,g=10,b=e,w=b.d,j=b.constructor,S=j.precision;if(b.s<1)throw Error(ga+(b.s?"NaN":"-Infinity"));if(b.eq(Ur))return new j(0);if(t==null?(Zt=!1,m=S):m=t,b.eq(10))return t==null&&(Zt=!0),hb(j,m);if(m+=g,j.precision=m,n=ns(w),a=n.charAt(0),l=yn(b),Math.abs(l)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)b=b.times(e),n=ns(b.d),a=n.charAt(0),x++;l=yn(b),a>1?(b=new j("0."+n),l++):b=new j(a+"."+n.slice(1))}else return f=hb(j,m+2,S).times(l+""),b=xf(new j(a+"."+n.slice(1)),m-g).plus(f),j.precision=S,t==null?(Zt=!0,It(b,S)):b;for(d=c=b=Bs(b.minus(Ur),b.plus(Ur),m),h=It(b.times(b),m),s=3;;){if(c=It(c.times(h),m),f=d.plus(Bs(c,new j(s),m)),ns(f.d).slice(0,m)===ns(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(hb(j,m+2,S).times(l+""))),d=Bs(d,new j(x),m),j.precision=S,t==null?(Zt=!0,It(d,S)):d;d=f,s+=2}}function XA(e,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,e.e=eu(n/Ht),e.d=[],a=(n+1)%Ht,n<0&&(a+=Ht),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Ht;a<s;)e.d.push(+t.slice(a,a+=Ht));t=t.slice(a),a=Ht-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Zt&&(e.e>tp||e.e<-tp))throw Error(C2+n)}else e.s=0,e.e=0,e.d=[0];return e}function It(e,t,n){var a,s,l,c,d,f,m,h,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(a=t-c,a<0)a+=Ht,s=t,m=x[h=0];else{if(h=Math.ceil((a+1)/Ht),l=x.length,h>=l)return e;for(m=l=x[h],c=1;l>=10;l/=10)c++;a%=Ht,s=a-Ht+c}if(n!==void 0&&(l=Ml(10,c-s-1),d=m/l%10|0,f=t<0||x[h+1]!==void 0||m%l,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(a>0?s>0?m/Ml(10,c-s):0:x[h-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return f?(l=yn(e),x.length=1,t=t-l-1,x[0]=Ml(10,(Ht-t%Ht)%Ht),e.e=eu(-t/Ht)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(a==0?(x.length=h,l=1,h--):(x.length=h+1,l=Ml(10,Ht-a),x[h]=s>0?(m/Ml(10,c-s)%Ml(10,s)|0)*l:0),f)for(;;)if(h==0){(x[0]+=l)==Mn&&(x[0]=1,++e.e);break}else{if(x[h]+=l,x[h]!=Mn)break;x[h--]=0,l=1}for(a=x.length;x[--a]===0;)x.pop();if(Zt&&(e.e>tp||e.e<-tp))throw Error(C2+yn(e));return e}function r8(e,t){var n,a,s,l,c,d,f,m,h,x,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Zt?It(t,b):t;if(f=e.d,x=t.d,a=t.e,m=e.e,f=f.slice(),c=m-a,c){for(h=c<0,h?(n=f,c=-c,d=x.length):(n=x,a=m,d=f.length),s=Math.max(Math.ceil(b/Ht),d)+2,c>s&&(c=s,n.length=1),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else{for(s=f.length,d=x.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=x[s]){h=f[s]<x[s];break}c=0}for(h&&(n=f,f=x,x=n,t.s=-t.s),d=f.length,s=x.length-d;s>0;--s)f[d++]=0;for(s=x.length;s>c;){if(f[--s]<x[s]){for(l=s;l&&f[--l]===0;)f[l]=Mn-1;--f[l],f[s]+=Mn}f[s]-=x[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--a;return f[0]?(t.d=f,t.e=a,Zt?It(t,b):t):new g(0)}function no(e,t,n){var a,s=yn(e),l=ns(e.d),c=l.length;return t?(n&&(a=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+Ui(a):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+Ui(-s-1)+l,n&&(a=n-c)>0&&(l+=Ui(a))):s>=c?(l+=Ui(s+1-c),n&&(a=n-s-1)>0&&(l=l+"."+Ui(a))):((a=s+1)<c&&(l=l.slice(0,a)+"."+l.slice(a)),n&&(a=n-c)>0&&(s+1===c&&(l+="."),l+=Ui(a))),e.s<0?"-"+l:l}function ZA(e,t){if(e.length>t)return e.length=t,!0}function a8(e){var t,n,a;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Xl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return XA(c,l.toString())}else if(typeof l!="string")throw Error(Xl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,Uee.test(l))XA(c,l);else throw Error(Xl+l)}if(s.prototype=Ve,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=a8,s.config=s.set=Fee,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return s.config(e),s}function Fee(e){if(!e||typeof e!="object")throw Error(ga+"Object expected");var t,n,a,s=["precision",1,Jc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[n=s[t]])!==void 0)if(eu(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(Xl+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(Xl+n+": "+a);return this}var A2=a8(Bee);Ur=new A2(1);const Tt=A2;var Vee=e=>e,s8={},i8=e=>e===s8,QA=e=>function t(){return arguments.length===0||arguments.length===1&&i8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},l8=(e,t)=>e===1?t:QA(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var l=a.filter(c=>c!==s8).length;return l>=e?t(...a):l8(e-l,QA(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=a.map(h=>i8(h)?d.shift():h);return t(...m,...d)}))}),Zp=e=>l8(e.length,e),pw=(e,t)=>{for(var n=[],a=e;a<t;++a)n[a-e]=a;return n},Hee=Zp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),qee=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return Vee;var s=n.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},xw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),o8=e=>{var t=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t&&s.every((c,d)=>{var f;return c===((f=t)===null||f===void 0?void 0:f[d])})||(t=s,n=e(...s)),n}};function c8(e){var t;return e===0?t=1:t=Math.floor(new Tt(e).abs().log(10).toNumber())+1,t}function u8(e,t,n){for(var a=new Tt(e),s=0,l=[];a.lt(t)&&s<1e5;)l.push(a.toNumber()),a=a.add(n),s++;return l}Zp((e,t,n)=>{var a=+e,s=+t;return a+n*(s-a)});Zp((e,t,n)=>{var a=t-+e;return a=a||1/0,(n-e)/a});Zp((e,t,n)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});var d8=e=>{var[t,n]=e,[a,s]=[t,n];return t>n&&([a,s]=[n,t]),[a,s]},f8=(e,t,n)=>{if(e.lte(0))return new Tt(0);var a=c8(e.toNumber()),s=new Tt(10).pow(a),l=e.div(s),c=a!==1?.05:.1,d=new Tt(Math.ceil(l.div(c).toNumber())).add(n).mul(c),f=d.mul(s);return t?new Tt(f.toNumber()):new Tt(Math.ceil(f.toNumber()))},Kee=(e,t,n)=>{var a=new Tt(1),s=new Tt(e);if(!s.isint()&&n){var l=Math.abs(e);l<1?(a=new Tt(10).pow(c8(e)-1),s=new Tt(Math.floor(s.div(a).toNumber())).mul(a)):l>1&&(s=new Tt(Math.floor(e)))}else e===0?s=new Tt(Math.floor((t-1)/2)):n||(s=new Tt(Math.floor(e)));var c=Math.floor((t-1)/2),d=qee(Hee(f=>s.add(new Tt(f-c).mul(a)).toNumber()),pw);return d(0,t)},m8=function(t,n,a,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(a-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var c=f8(new Tt(n).sub(t).div(a-1),s,l),d;t<=0&&n>=0?d=new Tt(0):(d=new Tt(t).add(n).div(2),d=d.sub(new Tt(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new Tt(n).sub(d).div(c).toNumber()),h=f+m+1;return h>a?m8(t,n,a,s,l+1):(h<a&&(m=n>0?m+(a-h):m,f=n>0?f:f+(a-h)),{step:c,tickMin:d.sub(new Tt(f).mul(c)),tickMax:d.add(new Tt(m).mul(c))})};function Gee(e){var[t,n]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[c,d]=d8([t,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...pw(0,a-1).map(()=>1/0)]:[...pw(0,a-1).map(()=>-1/0),d];return t>n?xw(f):f}if(c===d)return Kee(c,a,s);var{step:m,tickMin:h,tickMax:x}=m8(c,d,l,s,0),g=u8(h,x.add(new Tt(.1).mul(m)),m);return t>n?xw(g):g}function Yee(e,t){var[n,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=d8([n,a]);if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(t,2),f=f8(new Tt(c).sub(l).div(d-1),s,0),m=[...u8(new Tt(l),new Tt(c),f),c];return s===!1&&(m=m.map(h=>Math.round(h))),n>a?xw(m):m}var Wee=o8(Gee),Xee=o8(Yee),h8=e=>e.rootProps.maxBarSize,Zee=e=>e.rootProps.barGap,p8=e=>e.rootProps.barCategoryGap,Qee=e=>e.rootProps.barSize,$f=e=>e.rootProps.stackOffset,T2=e=>e.options.chartName,E2=e=>e.rootProps.syncId,x8=e=>e.rootProps.syncMethod,P2=e=>e.options.eventEmitter,Ms={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},zr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Qp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Jee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ms.angleAxisId,includeHidden:!1,name:void 0,reversed:Ms.reversed,scale:Ms.scale,tick:Ms.tick,tickCount:void 0,ticks:void 0,type:Ms.type,unit:void 0},ete={allowDataOverflow:zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zr.scale,tick:zr.tick,tickCount:zr.tickCount,ticks:void 0,type:zr.type,unit:void 0},tte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ms.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ms.scale,tick:Ms.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},nte={allowDataOverflow:zr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zr.scale,tick:zr.tick,tickCount:zr.tickCount,ticks:void 0,type:"category",unit:void 0},O2=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?tte:Jee,M2=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?nte:ete,Jp=e=>e.polarOptions,D2=ve([ti,ni,_n],WM),g8=ve([Jp,D2],(e,t)=>{if(e!=null)return dr(e.innerRadius,t,0)}),v8=ve([Jp,D2],(e,t)=>{if(e!=null)return dr(e.outerRadius,t,t*.8)}),rte=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},y8=ve([Jp],rte);ve([O2,y8],Qp);var b8=ve([D2,g8,v8],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ve([M2,b8],Qp);var w8=ve([vt,Jp,g8,v8,ti,ni],(e,t,n,a,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||a==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:dr(c,s,s/2),cy:dr(d,l,l/2),innerRadius:n,outerRadius:a,startAngle:f,endAngle:m,clockWise:!1}}}),Jt=(e,t)=>t,If=(e,t,n)=>n;function R2(e){return e==null?void 0:e.id}var Cn=e=>{var t=vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},tu=e=>e.tooltip.settings.axisId,An=e=>{var t=Cn(e),n=tu(e);return zf(e,t,n)};function j8(e,t,n){var{chartData:a=[]}=t,s=n==null?void 0:n.dataKey,l=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:a;if(!(f==null||f.length===0)){var m=R2(c);f.forEach((h,x)=>{var g=s==null?x:String($t(h,s,null)),b=$t(h,c.dataKey,0),w;l.has(g)?w=l.get(g):w={},Object.assign(w,{[m]:b}),l.set(g,w)})}}),Array.from(l.values())}function ex(e){return e.stackId!=null&&e.dataKey!=null}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function np(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(a){ate(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ate(e,t,n){return(t=ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ste(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gw=[0,"auto"],$r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ai=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??$r},Ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:gw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Bp},al=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??Ir},lte={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},L2=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??lte},fn=(e,t,n)=>{switch(t){case"xAxis":return ai(e,n);case"yAxis":return al(e,n);case"zAxis":return L2(e,n);case"angleAxis":return O2(e,n);case"radiusAxis":return M2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ote=(e,t,n)=>{switch(t){case"xAxis":return ai(e,n);case"yAxis":return al(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},zf=(e,t,n)=>{switch(t){case"xAxis":return ai(e,n);case"yAxis":return al(e,n);case"angleAxis":return O2(e,n);case"radiusAxis":return M2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},N8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var tx=e=>e.graphicalItems.cartesianItems,cte=ve([Jt,If],$2),I2=(e,t,n)=>e.filter(n).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),Bf=ve([tx,fn,cte],I2),S8=ve([Bf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ex)),_8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),k8=ve([Bf],_8),z2=e=>e.map(t=>t.data).filter(Boolean).flat(1),ute=ve([Bf],z2),B2=(e,t)=>{var{chartData:n=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:n.slice(a,s+1)},U2=ve([ute,Xp],B2),F2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:$t(a,t.dataKey)})):n.length>0?n.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:$t(s,a)}))):e.map(a=>({value:a})),nx=ve([U2,fn,Bf],F2);function C8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function oo(e){return e.filter(t=>ls(t)||t instanceof Date).map(Number).filter(t=>Vr(t)===!1)}function dte(e,t,n){return!n||typeof t!="number"||Vr(t)?[]:n.length?oo(n.flatMap(a=>{var s=$t(e,a.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!Kr(l)||!Kr(c)))return[t-l,t+c]})):[]}var fte=ve([S8,Xp,An],j8),A8=(e,t,n)=>{var a={},s=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=d.map(R2);return[c,{stackedData:AX(e,f,n),graphicalItems:d}]}))},vw=ve([fte,S8,$f],A8),T8=(e,t,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n!=="zAxis"){var l=MX(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},mte=ve([vw,rl,Jt],T8),E8=(e,t,n,a,s)=>n.length>0?e.flatMap(l=>n.flatMap(c=>{var d,f,m=(d=a[c.id])===null||d===void 0?void 0:d.filter(x=>C8(s,x)),h=$t(l,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey);return{value:h,errorDomain:dte(l,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(l=>({value:$t(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),rx=e=>e.errorBars,P8=(e,t,n)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>C8(n,a));ve([k8,rx,Jt],P8);var hte=ve([U2,fn,k8,rx,Jt],E8);function pte(e){var{value:t}=e;if(ls(t)||t instanceof Date)return t}var e6=e=>{var t=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),n=oo(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xte=(e,t,n)=>{var a=e.map(pte).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&qO(a))?yD(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},V2=e=>{var t;if(e==null||!("domain"in e))return gw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=oo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:gw},rp=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},O8=e=>e.referenceElements.dots,nu=(e,t,n)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===n:a.yAxisId===n),gte=ve([O8,Jt,If],nu),M8=e=>e.referenceElements.areas,vte=ve([M8,Jt,If],nu),D8=e=>e.referenceElements.lines,yte=ve([D8,Jt,If],nu),R8=(e,t)=>{var n=oo(e.map(a=>t==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bte=ve(gte,Jt,R8),L8=(e,t)=>{var n=oo(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wte=ve([vte,Jt],L8),$8=(e,t)=>{var n=oo(e.map(a=>t==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jte=ve(yte,Jt,$8),Nte=ve(bte,jte,wte,(e,t,n)=>rp(e,n,t)),I8=ve([fn],V2),H2=(e,t,n,a,s,l,c)=>{var d=Iee(t,e.allowDataOverflow);if(d!=null)return d;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",m=f?rp(n,s,e6(a)):rp(s,e6(a));return zee(t,m,e.allowDataOverflow)},Ste=ve([fn,I8,mte,hte,Nte,vt,Jt],H2),_te=[0,1],q2=(e,t,n,a,s,l,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=el(t,l);return m&&d==null?yD(0,n.length):f==="category"?xte(a,e,m):s==="expand"?_te:c}},K2=ve([fn,vt,U2,nx,$f,Jt,Ste],q2),z8=(e,t,n,a,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(Ef(l));return d in Od?d:"point"}}},ru=ve([fn,vt,N8,T2,Jt],z8);function kte(e){if(e!=null){if(e in Od)return Od[e]();var t="scale".concat(Ef(e));if(t in Od)return Od[t]()}}function G2(e,t,n,a){if(!(n==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(a);var s=kte(t);if(s!=null){var l=s.domain(n).range(a);return NX(l),l}}}var Y2=(e,t,n)=>{var a=V2(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&$c(e))return Wee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$c(e))return Xee(e,t.tickCount,t.allowDecimals)}},W2=ve([K2,zf,ru],Y2),X2=(e,t,n,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$c(t)&&Array.isArray(n)&&n.length>0){var s=t[0],l=n[0],c=t[1],d=n[n.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},Cte=ve([fn,K2,W2,Jt],X2),Ate=ve(nx,fn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,a=Array.from(oo(e.map(d=>d.value))).sort((d,f)=>d-f);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var l=0;l<a.length-1;l++){var c=a[l+1]-a[l];n=Math.min(n,c)}return n/s}}),B8=ve(Ate,vt,p8,_n,(e,t,n,a)=>a,(e,t,n,a,s)=>{if(!Kr(e))return 0;var l=t==="vertical"?a.height:a.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=dr(n,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),Tte=(e,t)=>{var n=ai(e,t);return n==null||typeof n.padding!="string"?0:B8(e,"xAxis",t,n.padding)},Ete=(e,t)=>{var n=al(e,t);return n==null||typeof n.padding!="string"?0:B8(e,"yAxis",t,n.padding)},Pte=ve(ai,Tte,(e,t)=>{var n,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),Ote=ve(al,Ete,(e,t)=>{var n,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),Mte=ve([_n,Pte,Fp,Up,(e,t,n)=>n],(e,t,n,a,s)=>{var{padding:l}=a;return s?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),Dte=ve([_n,vt,Ote,Fp,Up,(e,t,n)=>n],(e,t,n,a,s,l)=>{var{padding:c}=s;return l?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Uf=(e,t,n,a)=>{var s;switch(t){case"xAxis":return Mte(e,n,a);case"yAxis":return Dte(e,n,a);case"zAxis":return(s=L2(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return y8(e);case"radiusAxis":return b8(e,n);default:return}},U8=ve([fn,Uf],Qp),au=ve([fn,ru,Cte,U8],G2);ve([Bf,rx,Jt],P8);function F8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ax=(e,t)=>t,sx=(e,t,n)=>n,Rte=ve(Zj,ax,sx,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort(F8)),Lte=ve(Qj,ax,sx,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort(F8)),V8=(e,t)=>({width:e.width,height:t.height}),$te=(e,t)=>{var n=typeof t.width=="number"?t.width:Bp;return{width:n,height:e.height}},H8=ve(_n,ai,V8),Ite=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},zte=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Bte=ve(ni,_n,Rte,ax,sx,(e,t,n,a,s)=>{var l={},c;return n.forEach(d=>{var f=V8(t,d);c==null&&(c=Ite(t,a,e));var m=a==="top"&&!s||a==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),Ute=ve(ti,_n,Lte,ax,sx,(e,t,n,a,s)=>{var l={},c;return n.forEach(d=>{var f=$te(t,d);c==null&&(c=zte(t,a,e));var m=a==="left"&&!s||a==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),Fte=(e,t)=>{var n=_n(e),a=ai(e,t);if(a!=null){var s=Bte(e,a.orientation,a.mirror),l=s[t];return l==null?{x:n.left,y:0}:{x:n.left,y:l}}},Vte=(e,t)=>{var n=_n(e),a=al(e,t);if(a!=null){var s=Ute(e,a.orientation,a.mirror),l=s[t];return l==null?{x:0,y:n.top}:{x:l,y:n.top}}},q8=ve(_n,al,(e,t)=>{var n=typeof t.width=="number"?t.width:Bp;return{width:n,height:e.height}}),t6=(e,t,n)=>{switch(t){case"xAxis":return H8(e,n).width;case"yAxis":return q8(e,n).height;default:return}},K8=(e,t,n,a)=>{if(n!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=n,d=el(e,a),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&qO(f))return f}},Z2=ve([vt,nx,fn,Jt],K8),G8=(e,t,n,a)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:l}=n,c=el(e,a);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},Q2=ve([vt,nx,zf,Jt],G8),n6=ve([vt,ote,ru,au,Z2,Q2,Uf,W2,Jt],(e,t,n,a,s,l,c,d,f)=>{if(t==null)return null;var m=el(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:n,scale:a}}),Hte=(e,t,n,a,s,l,c,d,f)=>{if(!(t==null||a==null)){var m=el(e,f),{type:h,ticks:x,tickCount:g}=t,b=n==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,w=h==="category"&&a.bandwidth?a.bandwidth()/b:0;w=f==="angleAxis"&&l!=null&&l.length>=2?Rn(l[0]-l[1])*2*w:w;var j=x||s;if(j){var S=j.map((k,_)=>{var C=c?c.indexOf(k):k;return{index:_,coordinate:a(C)+w,value:k,offset:w}});return S.filter(k=>!Vr(k.coordinate))}return m&&d?d.map((k,_)=>({coordinate:a(k)+w,value:k,index:_,offset:w})):a.ticks?a.ticks(g).map(k=>({coordinate:a(k)+w,value:k,offset:w})):a.domain().map((k,_)=>({coordinate:a(k)+w,value:c?c[k]:k,index:_,offset:w}))}},Y8=ve([vt,zf,ru,au,W2,Uf,Z2,Q2,Jt],Hte),qte=(e,t,n,a,s,l,c)=>{if(!(t==null||n==null||a==null||a[0]===a[1])){var d=el(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&(a==null?void 0:a.length)>=2?Rn(a[0]-a[1])*2*m:m,d&&l?l.map((h,x)=>({coordinate:n(h)+m,value:h,index:x,offset:m})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+m,value:h,offset:m})):n.domain().map((h,x)=>({coordinate:n(h)+m,value:s?s[h]:h,index:x,offset:m}))}},Xi=ve([vt,zf,au,Uf,Z2,Q2,Jt],qte),Zi=ve(fn,au,(e,t)=>{if(!(e==null||t==null))return np(np({},e),{},{scale:t})}),Kte=ve([fn,ru,K2,U8],G2);ve((e,t,n)=>L2(e,n),Kte,(e,t)=>{if(!(e==null||t==null))return np(np({},e),{},{scale:t})});var Gte=ve([vt,Zj,Qj],(e,t,n)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),W8=e=>e.options.defaultTooltipEventType,X8=e=>e.options.validateTooltipEventTypes;function Z8(e,t,n){if(e==null)return t;var a=e?"axis":"item";return n==null?t:n.includes(a)?a:t}function J2(e,t){var n=W8(e),a=X8(e);return Z8(t,n,a)}function Yte(e){return Ge(t=>J2(t,e))}var Q8=(e,t)=>{var n,a=Number(t);if(!(Vr(a)||t==null))return a>=0?e==null||(n=e[a])===null||n===void 0?void 0:n.value:void 0},Wte=e=>e.tooltip.settings,Fi={active:!1,index:null,dataKey:void 0,coordinate:void 0},Xte={itemInteraction:{click:Fi,hover:Fi},axisInteraction:{click:Fi,hover:Fi},keyboardInteraction:Fi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},J8=Gr({name:"tooltip",initialState:Xte,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=zs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Zte,removeTooltipEntrySettings:Qte,setTooltipSettingsState:Jte,setActiveMouseOverItemIndex:eR,mouseLeaveItem:ene,mouseLeaveChart:tR,setActiveClickItemIndex:tne,setMouseOverAxisIndex:nR,setMouseClickAxisIndex:nne,setSyncInteraction:yw,setKeyboardInteraction:bw}=J8.actions,rne=J8.reducer;function r6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(n),!0).forEach(function(a){ane(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ane(e,t,n){return(t=sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sne(e){var t=ine(e,"string");return typeof t=="symbol"?t:t+""}function ine(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lne(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function one(e){return e.index!=null}var rR=(e,t,n,a)=>{if(t==null)return Fi;var s=lne(e,t,n);if(s==null)return Fi;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(one(s)){if(l)return Nh(Nh({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Nh(Nh({},Fi),{},{coordinate:s.coordinate})},eN=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var a=Number(n);if(!Kr(a))return n;var s=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(s,Math.min(a,l)))},aR=(e,t,n,a,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s==null?void 0:s[Number(l)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},sR=(e,t,n,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},Ff=e=>e.options.tooltipPayloadSearcher,su=e=>e.tooltip;function a6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function s6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(n),!0).forEach(function(a){cne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function cne(e,t,n){return(t=une(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function une(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fne(e,t){return e??t}var iR=(e,t,n,a,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=n,x=[];return e.reduce((g,b)=>{var w,{dataDefinedOnItem:j,settings:S}=b,k=fne(j,d),_=Array.isArray(k)?XM(k,m,h):k,C=(w=S==null?void 0:S.dataKey)!==null&&w!==void 0?w:a==null?void 0:a.dataKey,P=S==null?void 0:S.nameKey,T;if(a!=null&&a.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&c==="axis"?T=KO(_,a.dataKey,s):T=l(_,t,f,P),Array.isArray(T))T.forEach(L=>{var M=s6(s6({},S),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(BC({tooltipEntrySettings:M,dataKey:L.dataKey,payload:L.payload,value:$t(L.payload,L.dataKey),name:L.name}))});else{var E;g.push(BC({tooltipEntrySettings:S,dataKey:C,payload:T,value:$t(T,C),name:(E=$t(T,P))!==null&&E!==void 0?E:S==null?void 0:S.name}))}return g},x)}},tN=ve([An,vt,N8,T2,Cn],z8),mne=ve([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),hne=ve([Cn,tu],$2),Vf=ve([mne,An,hne],I2),pne=ve([Vf],e=>e.filter(ex)),xne=ve([Vf],z2),iu=ve([xne,rl],B2),gne=ve([pne,rl,An],j8),nN=ve([iu,An,Vf],F2),vne=ve([An],V2),yne=ve([Vf],e=>e.filter(ex)),bne=ve([gne,yne,$f],A8),wne=ve([bne,rl,Cn],T8),jne=ve([Vf],_8),Nne=ve([iu,An,jne,rx,Cn],E8),Sne=ve([O8,Cn,tu],nu),_ne=ve([Sne,Cn],R8),kne=ve([M8,Cn,tu],nu),Cne=ve([kne,Cn],L8),Ane=ve([D8,Cn,tu],nu),Tne=ve([Ane,Cn],$8),Ene=ve([_ne,Tne,Cne],rp),Pne=ve([An,vne,wne,Nne,Ene,vt,Cn],H2),lR=ve([An,vt,iu,nN,$f,Cn,Pne],q2),One=ve([lR,An,tN],Y2),Mne=ve([An,lR,One,Cn],X2),oR=e=>{var t=Cn(e),n=tu(e),a=!1;return Uf(e,t,n,a)},cR=ve([An,oR],Qp),uR=ve([An,tN,Mne,cR],G2),Dne=ve([vt,nN,An,Cn],K8),Rne=ve([vt,nN,An,Cn],G8),Lne=(e,t,n,a,s,l,c,d)=>{if(t){var{type:f}=t,m=el(e,d);if(a){var h=n==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=f==="category"&&a.bandwidth?a.bandwidth()/h:0;return x=d==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Rn(s[0]-s[1])*2*x:x,m&&c?c.map((g,b)=>({coordinate:a(g)+x,value:g,index:b,offset:x})):a.domain().map((g,b)=>({coordinate:a(g)+x,value:l?l[g]:g,index:b,offset:x}))}}},si=ve([vt,An,tN,uR,oR,Dne,Rne,Cn],Lne),rN=ve([W8,X8,Wte],(e,t,n)=>Z8(n.shared,e,t)),dR=e=>e.tooltip.settings.trigger,aN=e=>e.tooltip.settings.defaultIndex,ix=ve([su,rN,dR,aN],rR),Qi=ve([ix,iu],eN),fR=ve([si,Qi],Q8),mR=ve([ix],e=>{if(e)return e.dataKey}),hR=ve([su,rN,dR,aN],sR),$ne=ve([ti,ni,vt,_n,si,aN,hR,Ff],aR),Ine=ve([ix,$ne],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),zne=ve([ix],e=>e.active),Bne=ve([hR,Qi,rl,An,fR,Ff,rN],iR),Une=ve([Bne],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function i6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function l6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i6(Object(n),!0).forEach(function(a){Fne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Fne(e,t,n){return(t=Vne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vne(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qne=()=>Ge(An),Kne=()=>{var e=qne(),t=Ge(si),n=Ge(uR);return uf(l6(l6({},e),{},{scale:n}),t)},Gne=()=>Ge(T2),sN=(e,t)=>t,pR=(e,t,n)=>n,iN=(e,t,n,a)=>a,Yne=ve(si,e=>Mp(e,t=>t.coordinate)),lN=ve([su,sN,pR,iN],rR),xR=ve([lN,iu],eN),Wne=(e,t,n)=>{if(t!=null){var a=su(e);return t==="axis"?n==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:n==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},gR=ve([su,sN,pR,iN],sR),ap=ve([ti,ni,vt,_n,si,iN,gR,Ff],aR),Xne=ve([lN,ap],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),vR=ve(si,xR,Q8),Zne=ve([gR,xR,rl,An,vR,Ff,sN],iR),Qne=ve([lN],e=>({isActive:e.active,activeIndex:e.index})),Jne=(e,t,n,a,s,l,c,d)=>{if(!(!e||!t||!a||!s||!l)){var f=DX(e.chartX,e.chartY,t,n,d);if(f){var m=LX(f,t),h=wX(m,c,l,a,s),x=RX(t,l,h,f);return{activeIndex:String(h),activeCoordinate:x}}}};function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ww.apply(null,arguments)}function o6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(n),!0).forEach(function(a){ere(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ere(e,t,n){return(t=tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rre(e){var{coordinate:t,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,h=t,x=n,g=a;if(!d||!h||m!=="ScatterChart"&&f!=="axis")return null;var b,w;if(m==="ScatterChart")b=h,w=yZ;else if(m==="BarChart")b=bZ(c,h,s,l),w=xD;else if(c==="radial"){var{cx:j,cy:S,radius:k,startAngle:_,endAngle:C}=gD(h);b={cx:j,cy:S,startAngle:_,endAngle:C,innerRadius:k,outerRadius:k},w=n2}else b={points:aQ(c,h,s)},w=e2;var P=typeof d=="object"&&"className"in d?d.className:void 0,T=Sh(Sh(Sh(Sh({stroke:"#ccc",pointerEvents:"none"},s),b),Xt(d,!1)),{},{payload:x,payloadIndex:g,className:ut("recharts-tooltip-cursor",P)});return v.isValidElement(d)?v.cloneElement(d,T):v.createElement(w,T)}function are(e){var t=Kne(),n=rD(),a=Vp(),s=Gne();return v.createElement(rre,ww({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:a,tooltipAxisBandSize:t,chartName:s}))}var yR=v.createContext(null),sre=()=>v.useContext(yR),pb={exports:{}},c6;function ire(){return c6||(c6=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,x,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new s(h,x||f,g),w=n?n+m:m;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new a:delete f._events[m]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,x;if(this._eventsCount===0)return m;for(x in h=this._events)t.call(h,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=n?n+m:m,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var g=0,b=x.length,w=new Array(b);g<b;g++)w[g]=x[g].fn;return w},d.prototype.listenerCount=function(m){var h=n?n+m:m,x=this._events[h];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,h,x,g,b,w){var j=n?n+m:m;if(!this._events[j])return!1;var S=this._events[j],k=arguments.length,_,C;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,x),!0;case 4:return S.fn.call(S.context,h,x,g),!0;case 5:return S.fn.call(S.context,h,x,g,b),!0;case 6:return S.fn.call(S.context,h,x,g,b,w),!0}for(C=1,_=new Array(k-1);C<k;C++)_[C-1]=arguments[C];S.fn.apply(S.context,_)}else{var P=S.length,T;for(C=0;C<P;C++)switch(S[C].once&&this.removeListener(m,S[C].fn,void 0,!0),k){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,h);break;case 3:S[C].fn.call(S[C].context,h,x);break;case 4:S[C].fn.call(S[C].context,h,x,g);break;default:if(!_)for(T=1,_=new Array(k-1);T<k;T++)_[T-1]=arguments[T];S[C].fn.apply(S[C].context,_)}}return!0},d.prototype.on=function(m,h,x){return l(this,m,h,x,!1)},d.prototype.once=function(m,h,x){return l(this,m,h,x,!0)},d.prototype.removeListener=function(m,h,x,g){var b=n?n+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var w=this._events[b];if(w.fn)w.fn===h&&(!g||w.once)&&(!x||w.context===x)&&c(this,b);else{for(var j=0,S=[],k=w.length;j<k;j++)(w[j].fn!==h||g&&!w[j].once||x&&w[j].context!==x)&&S.push(w[j]);S.length?this._events[b]=S.length===1?S[0]:S:c(this,b)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=n?n+m:m,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d}(pb)),pb.exports}var lre=ire();const ore=Ba(lre);var gf=new ore,jw="recharts.syncEvent.tooltip",u6="recharts.syncEvent.brush";function oN(e,t){if(t){var n=Number.parseInt(t,10);if(!Vr(n))return e==null?void 0:e[n]}}var cre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},bR=Gr({name:"options",initialState:cre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ure=bR.reducer,{createEventEmitter:dre}=bR.actions;function fre(e){return e.tooltip.syncInteraction}var mre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},wR=Gr({name:"chartData",initialState:mre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:a}=t.payload;n!=null&&(e.dataStartIndex=n),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:d6,setDataStartEndIndexes:hre,setComputedData:Tfe}=wR.actions,pre=wR.reducer,jR=()=>{};function xre(){var e=Ge(E2),t=Ge(P2),n=dn(),a=Ge(x8),s=Ge(si),l=Vp(),c=Jj(),d=Ge(f=>f.rootProps.className);v.useEffect(()=>{if(e==null)return jR;var f=(m,h,x)=>{if(t!==x&&e===m){if(a==="index"){n(h);return}if(s!=null){var g;if(typeof a=="function"){var b={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},w=a(s,b);g=s[w]}else a==="value"&&(g=s.find(E=>String(E.value)===h.payload.label));var{coordinate:j}=h.payload;if(g==null||h.payload.active===!1||j==null||c==null){n(yw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:k}=j,_=Math.min(S,c.x+c.width),C=Math.min(k,c.y+c.height),P={x:l==="horizontal"?g.coordinate:_,y:l==="horizontal"?C:g.coordinate},T=yw({active:h.payload.active,coordinate:P,dataKey:h.payload.dataKey,index:String(g.index),label:h.payload.label});n(T)}}};return gf.on(jw,f),()=>{gf.off(jw,f)}},[d,n,t,e,a,s,l,c])}function gre(){var e=Ge(E2),t=Ge(P2),n=dn();v.useEffect(()=>{if(e==null)return jR;var a=(s,l,c)=>{t!==c&&e===s&&n(hre(l))};return gf.on(u6,a),()=>{gf.off(u6,a)}},[n,t,e])}function vre(){var e=dn();v.useEffect(()=>{e(dre())},[e]),xre(),gre()}function yre(e,t,n,a,s,l){var c=Ge(g=>Wne(g,e,t)),d=Ge(P2),f=Ge(E2),m=Ge(x8),h=Ge(fre),x=h==null?void 0:h.active;v.useEffect(()=>{if(!x&&f!=null&&d!=null){var g=yw({active:l,coordinate:n,dataKey:c,index:s,label:typeof a=="number"?String(a):a});gf.emit(jw,f,g,d)}},[x,n,c,s,a,d,f,m,l])}function f6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function m6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(n),!0).forEach(function(a){bre(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bre(e,t,n){return(t=wre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wre(e){var t=jre(e,"string");return typeof t=="symbol"?t:t+""}function jre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nre(e){return e.dataKey}function Sre(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(ZX,t)}var h6=[],_re={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!so.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function es(e){var t=Yr(e,_re),{active:n,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:h,position:x,reverseDirection:g,useTranslate3d:b,wrapperStyle:w,cursor:j,shared:S,trigger:k,defaultIndex:_,portal:C,axisId:P}=t,T=dn(),E=typeof _=="number"?String(_):_;v.useEffect(()=>{T(Jte({shared:S,trigger:k,axisId:P,active:n,defaultIndex:E}))},[T,S,k,P,n,E]);var L=Jj(),M=cD(),B=Yte(S),{activeIndex:K,isActive:F}=Ge(Q=>Qne(Q,B,k,E)),U=Ge(Q=>Zne(Q,B,k,E)),te=Ge(Q=>vR(Q,B,k,E)),we=Ge(Q=>Xne(Q,B,k,E)),re=U,R=sre(),G=n??F,[H,I]=dW([re,G]),A=B==="axis"?te:void 0;yre(B,k,we,A,K,G);var D=C??R;if(D==null)return null;var $=re??h6;G||($=h6),d&&$.length&&($=$Y(re.filter(Q=>Q.value!=null&&(Q.hide!==!0||t.includeHidden)),h,Nre));var W=$.length>0,ce=v.createElement(aZ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:G,coordinate:we,hasPayload:W,offset:m,position:x,reverseDirection:g,useTranslate3d:b,viewBox:L,wrapperStyle:w,lastBoundingBox:H,innerRef:I,hasPortalFromProps:!!C},Sre(c,m6(m6({},t),{},{payload:$,label:A,active:G,coordinate:we,accessibilityLayer:M})));return v.createElement(v.Fragment,null,EI.createPortal(ce,D),G&&v.createElement(are,{cursor:j,tooltipEventType:B,coordinate:we,payload:re,index:K}))}var xb={},gb={},vb={},p6;function kre(){return p6||(p6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a,{signal:s,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},x=()=>{m&&h(),j()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,x()},a)},w=()=>{g!==null&&(clearTimeout(g),g=null)},j=()=>{w(),c=void 0,d=null},S=()=>{h()},k=function(..._){if(s!=null&&s.aborted)return;c=this,d=_;const C=g==null;b(),f&&C&&h()};return k.schedule=b,k.cancel=j,k.flush=S,s==null||s.addEventListener("abort",j,{once:!0}),k}e.debounce=t}(vb)),vb}var x6;function Cre(){return x6||(x6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kre();function n(a,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,x=null;const g=t.debounce(function(...j){h=a.apply(this,j),x=null},s,{edges:m}),b=function(...j){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(h=a.apply(this,j),x=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,j),h)},w=()=>(g.flush(),h);return b.cancel=g.cancel,b.flush=w,b}e.debounce=n}(gb)),gb}var g6;function Are(){return g6||(g6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cre();function n(a,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(a,s,{leading:c,maxWait:s,trailing:d})}e.throttle=n}(xb)),xb}var yb,v6;function Tre(){return v6||(v6=1,yb=Are().throttle),yb}var Ere=Tre();const Pre=Ba(Ere);var Hd=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l]};function y6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y6(Object(n),!0).forEach(function(a){Ore(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ore(e,t,n){return(t=Mre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mre(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ts=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:s="100%",height:l="100%",minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:x,className:g,onResize:b,style:w={}}=e,j=v.useRef(null),S=v.useRef();S.current=b,v.useImperativeHandle(t,()=>j.current);var[k,_]=v.useState({containerWidth:a.width,containerHeight:a.height}),C=v.useCallback((T,E)=>{_(L=>{var M=Math.round(T),B=Math.round(E);return L.containerWidth===M&&L.containerHeight===B?L:{containerWidth:M,containerHeight:B}})},[]);v.useEffect(()=>{var T=B=>{var K,{width:F,height:U}=B[0].contentRect;C(F,U),(K=S.current)===null||K===void 0||K.call(S,F,U)};h>0&&(T=Pre(T,h,{trailing:!0,leading:!1}));var E=new ResizeObserver(T),{width:L,height:M}=j.current.getBoundingClientRect();return C(L,M),E.observe(j.current),()=>{E.disconnect()}},[C,h]);var P=v.useMemo(()=>{var{containerWidth:T,containerHeight:E}=k;if(T<0||E<0)return null;Hd(Bl(s)||Bl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Hd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=Bl(s)?T:s,M=Bl(l)?E:l;return n&&n>0&&(L?M=L/n:M&&(L=M*n),f&&M>f&&(M=f)),Hd(L>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,M,s,l,c,d,n),v.Children.map(m,B=>v.cloneElement(B,{width:L,height:M,style:bb({width:L,height:M},B.props.style)}))},[n,m,l,f,d,c,k,s]);return v.createElement("div",{id:x?"".concat(x):void 0,className:ut("recharts-responsive-container",g),style:bb(bb({},w),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:j},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),$s=e=>null;$s.displayName="Cell";function Rre(e,t,n){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lre(e){var t=$re(e,"string");return typeof t=="symbol"?t:t+""}function $re(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ire{constructor(t){Rre(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function b6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function zre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b6(Object(n),!0).forEach(function(a){Bre(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Bre(e,t,n){return(t=Ure(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ure(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vre={cacheSize:2e3,enableCache:!0},NR=zre({},Vre),w6=new Ire(NR.cacheSize),Hre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},j6="recharts_measurement_span";function qre(e,t){var n=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var N6=(e,t)=>{try{var n=document.getElementById(j6);n||(n=document.createElement("span"),n.setAttribute("id",j6),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Hre,t),n.textContent="".concat(e);var a=n.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},qd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||so.isSsr)return{width:0,height:0};if(!NR.enableCache)return N6(t,n);var a=qre(t,n),s=w6.get(a);if(s)return s;var l=N6(t,n);return w6.set(a,l),l},S6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Yre=Object.keys(SR),fc="NaN";function Wre(e,t){return e*SR[t]}class wr{static parse(t){var n,[,a,s]=(n=Gre.exec(t))!==null&&n!==void 0?n:[];return new wr(parseFloat(a),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Vr(t)&&(this.unit=""),n!==""&&!Kre.test(n)&&(this.num=NaN,this.unit=""),Yre.includes(n)&&(this.num=Wre(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Vr(this.num)}}function _R(e){if(e.includes(fc))return fc;for(var t=e;t.includes("*")||t.includes("/");){var n,[,a,s,l]=(n=S6.exec(t))!==null&&n!==void 0?n:[],c=wr.parse(a??""),d=wr.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return fc;t=t.replace(S6,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,x,g]=(m=_6.exec(t))!==null&&m!==void 0?m:[],b=wr.parse(h??""),w=wr.parse(g??""),j=x==="+"?b.add(w):b.subtract(w);if(j.isNaN())return fc;t=t.replace(_6,j.toString())}return t}var k6=/\(([^()]*)\)/;function Xre(e){for(var t=e,n;(n=k6.exec(t))!=null;){var[,a]=n;t=t.replace(k6,_R(a))}return t}function Zre(e){var t=e.replace(/\s+/g,"");return t=Xre(t),t=_R(t),t}function Qre(e){try{return Zre(e)}catch{return fc}}function wb(e){var t=Qre(e.slice(5,-1));return t===fc?"":t}var Jre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eae=["dx","dy","angle","className","breakAll"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Nw.apply(null,arguments)}function C6(e,t){if(e==null)return{};var n,a,s=tae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function tae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var kR=/[ \f\n\r\t\v\u2028\u2029]+/,CR=e=>{var{children:t,breakAll:n,style:a}=e;try{var s=[];Kt(t)||(n?s=t.toString().split(""):s=t.toString().split(kR));var l=s.map(d=>({word:d,width:qd(d,a).width})),c=n?0:qd("",a).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},nae=(e,t,n,a,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=Fe(l),h=c,x=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((U,te)=>{var{word:we,width:re}=te,R=U[U.length-1];if(R&&(a==null||s||R.width+re+n<Number(a)))R.words.push(we),R.width+=re+n;else{var G={words:[we],width:re};U.push(G)}return U},[])},g=x(t),b=K=>K.reduce((F,U)=>F.width>U.width?F:U);if(!m||s)return g;var w=g.length>l||b(g).width>Number(a);if(!w)return g;for(var j="",S=K=>{var F=h.slice(0,K),U=CR({breakAll:f,style:d,children:F+j}).wordsWithComputedWidth,te=x(U),we=te.length>l||b(te).width>Number(a);return[we,te]},k=0,_=h.length-1,C=0,P;k<=_&&C<=h.length-1;){var T=Math.floor((k+_)/2),E=T-1,[L,M]=S(E),[B]=S(T);if(!L&&!B&&(k=T+1),L&&B&&(_=T-1),!L&&B){P=M;break}C++}return P||g},A6=e=>{var t=Kt(e)?[]:e.toString().split(kR);return[{words:t}]},rae=e=>{var{width:t,scaleToFit:n,children:a,style:s,breakAll:l,maxLines:c}=e;if((t||n)&&!so.isSsr){var d,f,m=CR({breakAll:l,children:a,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:x}=m;d=h,f=x}else return A6(a);return nae({breakAll:l,children:a,maxLines:c,style:s},d,f,t,n)}return A6(a)},T6="#808080",lx=v.forwardRef((e,t)=>{var{x:n=0,y:a=0,lineHeight:s="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=T6}=e,h=C6(e,Jre),x=v.useMemo(()=>rae({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:g,dy:b,angle:w,className:j,breakAll:S}=h,k=C6(h,eae);if(!ls(n)||!ls(a))return null;var _=n+(Fe(g)?g:0),C=a+(Fe(b)?b:0),P;switch(f){case"start":P=wb("calc(".concat(l,")"));break;case"middle":P=wb("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:P=wb("calc(".concat(x.length-1," * -").concat(s,")"));break}var T=[];if(c){var E=x[0].width,{width:L}=h;T.push("scale(".concat(Fe(L)?L/E:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(_,", ").concat(C,")")),T.length&&(k.transform=T.join(" ")),v.createElement("text",Nw({},Xt(k,!0),{ref:t,x:_,y:C,className:ut("recharts-text",j),textAnchor:d,fill:m.includes("url")?T6:m}),x.map((M,B)=>{var K=M.words.join(S?"":" ");return v.createElement("tspan",{x:_,dy:B===0?P:s,key:"".concat(K,"-").concat(B)},K)}))});lx.displayName="Text";var aae=["offset"],sae=["labelRef"];function E6(e,t){if(e==null)return{};var n,a,s=iae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function iae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function P6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(n),!0).forEach(function(a){lae(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lae(e,t,n){return(t=oae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oae(e){var t=cae(e,"string");return typeof t=="symbol"?t:t+""}function cae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ds.apply(null,arguments)}var uae=e=>{var{value:t,formatter:n}=e,a=Kt(e.children)?t:e.children;return typeof n=="function"?n(a):a},cN=e=>e!=null&&typeof e=="function",dae=(e,t)=>{var n=Rn(t-e),a=Math.min(Math.abs(t-e),360);return n*a},fae=(e,t,n,a)=>{var{position:s,offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:x,endAngle:g,clockWise:b}=a,w=(m+h)/2,j=dae(x,g),S=j>=0?1:-1,k,_;s==="insideStart"?(k=x+S*l,_=b):s==="insideEnd"?(k=g-S*l,_=!b):s==="end"&&(k=g+S*l,_=b),_=j<=0?_:!_;var C=vn(d,f,w,k),P=vn(d,f,w,k+(_?1:-1)*359),T="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),E=Kt(e.id)?lf("recharts-radial-line-"):e.id;return v.createElement("text",Ds({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",c)}),v.createElement("defs",null,v.createElement("path",{id:E,d:T})),v.createElement("textPath",{xlinkHref:"#".concat(E)},t))},mae=(e,t,n)=>{var{cx:a,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(n==="outside"){var{x:h,y:x}=vn(a,s,c+t,m);return{x:h,y:x,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,{x:b,y:w}=vn(a,s,g,m);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},hae=(e,t)=>{var{parentViewBox:n,offset:a,position:s}=e,{x:l,y:c,width:d,height:f}=t,m=f>=0?1:-1,h=m*a,x=m>0?"end":"start",g=m>0?"start":"end",b=d>=0?1:-1,w=b*a,j=b>0?"end":"start",S=b>0?"start":"end";if(s==="top"){var k={x:l+d/2,y:c-m*a,textAnchor:"middle",verticalAnchor:x};return an(an({},k),n?{height:Math.max(c-n.y,0),width:d}:{})}if(s==="bottom"){var _={x:l+d/2,y:c+f+h,textAnchor:"middle",verticalAnchor:g};return an(an({},_),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(s==="left"){var C={x:l-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return an(an({},C),n?{width:Math.max(C.x-n.x,0),height:f}:{})}if(s==="right"){var P={x:l+d+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return an(an({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:f}:{})}var T=n?{width:d,height:f}:{};return s==="insideLeft"?an({x:l+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},T):s==="insideRight"?an({x:l+d-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},T):s==="insideTop"?an({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:g},T):s==="insideBottom"?an({x:l+d/2,y:c+f-h,textAnchor:"middle",verticalAnchor:x},T):s==="insideTopLeft"?an({x:l+w,y:c+h,textAnchor:S,verticalAnchor:g},T):s==="insideTopRight"?an({x:l+d-w,y:c+h,textAnchor:j,verticalAnchor:g},T):s==="insideBottomLeft"?an({x:l+w,y:c+f-h,textAnchor:S,verticalAnchor:x},T):s==="insideBottomRight"?an({x:l+d-w,y:c+f-h,textAnchor:j,verticalAnchor:x},T):s&&typeof s=="object"&&(Fe(s.x)||Bl(s.x))&&(Fe(s.y)||Bl(s.y))?an({x:l+dr(s.x,d),y:c+dr(s.y,f),textAnchor:"end",verticalAnchor:"end"},T):an({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},T)},pae=e=>"cx"in e&&Fe(e.cx);function Br(e){var{offset:t=5}=e,n=E6(e,aae),a=an({offset:t},n),{viewBox:s,position:l,value:c,children:d,content:f,className:m="",textBreakAll:h,labelRef:x}=a,g=Ge(w8),b=Jj(),w=l==="center"?b:g??b,j=s||w;if(!j||Kt(c)&&Kt(d)&&!v.isValidElement(f)&&typeof f!="function")return null;var S=an(an({},a),{},{viewBox:j});if(v.isValidElement(f)){var{labelRef:k}=S,_=E6(S,sae);return v.cloneElement(f,_)}var C;if(typeof f=="function"){if(C=v.createElement(f,S),v.isValidElement(C))return C}else C=uae(a);var P=pae(j),T=Xt(a,!0);if(P&&(l==="insideStart"||l==="insideEnd"||l==="end"))return fae(a,C,T,j);var E=P?mae(j,a.offset,a.position):hae(a,j);return v.createElement(lx,Ds({ref:x,className:ut("recharts-label",m)},T,E,{breakAll:h}),C)}Br.displayName="Label";var AR=e=>{var{cx:t,cy:n,angle:a,startAngle:s,endAngle:l,r:c,radius:d,innerRadius:f,outerRadius:m,x:h,y:x,top:g,left:b,width:w,height:j,clockWise:S,labelViewBox:k}=e;if(k)return k;if(Fe(w)&&Fe(j)){if(Fe(h)&&Fe(x))return{x:h,y:x,width:w,height:j};if(Fe(g)&&Fe(b))return{x:g,y:b,width:w,height:j}}if(Fe(h)&&Fe(x))return{x:h,y:x,width:0,height:0};if(Fe(t)&&Fe(n))return{cx:t,cy:n,startAngle:s||a||0,endAngle:l||a||0,innerRadius:f||0,outerRadius:m||d||c||0,clockWise:S};if(e.viewBox)return e.viewBox},xae=(e,t,n)=>{if(!e)return null;var a={viewBox:t,labelRef:n};return e===!0?v.createElement(Br,Ds({key:"label-implicit"},a)):ls(e)?v.createElement(Br,Ds({key:"label-implicit",value:e},a)):v.isValidElement(e)?e.type===Br?v.cloneElement(e,an({key:"label-implicit"},a)):v.createElement(Br,Ds({key:"label-implicit",content:e},a)):cN(e)?v.createElement(Br,Ds({key:"label-implicit",content:e},a)):e&&typeof e=="object"?v.createElement(Br,Ds({},e,{key:"label-implicit"},a)):null},gae=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var{children:s,labelRef:l}=t,c=AR(t),d=Pf(s,Br).map((m,h)=>v.cloneElement(m,{viewBox:n||c,key:"label-".concat(h)}));if(!a)return d;var f=xae(t.label,n||c,l);return[f,...d]};Br.parseViewBox=AR;Br.renderCallByParent=gae;var jb={},Nb={},O6;function vae(){return O6||(O6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(Nb)),Nb}var Sb={},M6;function yae(){return M6||(M6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(Sb)),Sb}var D6;function bae(){return D6||(D6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vae(),n=yae(),a=Bj();function s(l){if(a.isArrayLike(l))return t.last(n.toArray(l))}e.last=s}(jb)),jb}var _b,R6;function wae(){return R6||(R6=1,_b=bae().last),_b}var jae=wae();const Nae=Ba(jae);var Sae=["valueAccessor"],_ae=["data","dataKey","clockWise","id","textBreakAll"];function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sp.apply(null,arguments)}function L6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L6(Object(n),!0).forEach(function(a){kae(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kae(e,t,n){return(t=Cae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cae(e){var t=Aae(e,"string");return typeof t=="symbol"?t:t+""}function Aae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I6(e,t){if(e==null)return{};var n,a,s=Tae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Tae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Eae=e=>Array.isArray(e.value)?Nae(e.value):e.value;function qi(e){var{valueAccessor:t=Eae}=e,n=I6(e,Sae),{data:a,dataKey:s,clockWise:l,id:c,textBreakAll:d}=n,f=I6(n,_ae);return!a||!a.length?null:v.createElement(tr,{className:"recharts-label-list"},a.map((m,h)=>{var x=Kt(s)?t(m,h):$t(m&&m.payload,s),g=Kt(c)?{}:{id:"".concat(c,"-").concat(h)};return v.createElement(Br,sp({},Xt(m,!0),f,g,{parentViewBox:m.parentViewBox,value:x,textBreakAll:d,viewBox:Br.parseViewBox(Kt(l)?m:$6($6({},m),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}qi.displayName="LabelList";function Pae(e,t){return e?e===!0?v.createElement(qi,{key:"labelList-implicit",data:t}):v.isValidElement(e)||cN(e)?v.createElement(qi,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(qi,sp({data:t},e,{key:"labelList-implicit"})):null:null}function Oae(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:a}=e,s=Pf(a,qi).map((c,d)=>v.cloneElement(c,{data:t,key:"labelList-".concat(d)}));if(!n)return s;var l=Pae(e.label,t);return[l,...s]}qi.renderCallByParent=Oae;function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sw.apply(null,arguments)}var TR=e=>{var{cx:t,cy:n,r:a,className:s}=e,l=ut("recharts-dot",s);return t===+t&&n===+n&&a===+a?v.createElement("circle",Sw({},ei(e),Lj(e),{className:l,cx:t,cy:n,r:a})):null},ER=e=>e.graphicalItems.polarItems,Mae=ve([Jt,If],$2),uN=ve([ER,fn,Mae],I2),Dae=ve([uN],z2),dN=ve([Dae,k2],B2),Rae=ve([dN,fn,uN],F2),Lae=ve([dN,fn,uN],(e,t,n)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var l,c=$t(a,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:$t(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),z6=()=>{},$ae=ve([fn,I8,z6,Lae,z6,vt,Jt],H2),PR=ve([fn,vt,dN,Rae,$f,Jt,$ae],q2),Iae=ve([PR,fn,ru],Y2);ve([fn,PR,Iae,Jt],X2);var zae={radiusAxis:{},angleAxis:{}},OR=Gr({name:"polarAxis",initialState:zae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Efe,removeRadiusAxis:Pfe,addAngleAxis:Ofe,removeAngleAxis:Mfe}=OR.actions,Bae=OR.reducer;function B6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function U6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(n),!0).forEach(function(a){Uae(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Uae(e,t,n){return(t=Fae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fae(e){var t=Vae(e,"string");return typeof t=="symbol"?t:t+""}function Vae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hae=(e,t)=>t,fN=ve([ER,Hae],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),qae=[],mN=(e,t,n)=>(n==null?void 0:n.length)===0?qae:n,MR=ve([k2,fN,mN],(e,t,n)=>{var{chartData:a}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&n!=null&&(s=n.map(l=>U6(U6({},t.presentationProps),l.props))),s!=null)return s}}),Kae=ve([MR,fN,mN],(e,t,n)=>{if(!(e==null||t==null))return e.map((a,s)=>{var l,c=$t(a,t.nameKey,t.name),d;return n!=null&&(l=n[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=n[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?d=a.fill:d=t.fill,{value:Zc(c,t.dataKey),color:d,payload:a,type:t.legendType}})}),Gae=ve([MR,fN,mN,_n],(e,t,n,a)=>{if(!(t==null||e==null))return Bse({offset:a,pieSettings:t,displayedData:e,cells:n})}),kb={},F6;function Yae(){return F6||(F6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${l}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t}(kb)),kb}var Cb,V6;function Wae(){return V6||(V6=1,Cb=Yae().isPlainObject),Cb}var Xae=Wae();const Zae=Ba(Xae);function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ip.apply(null,arguments)}var H6=(e,t,n,a,s)=>{var l=n-a,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+n,",").concat(t),c+="L ".concat(e+n-l/2,",").concat(t+s),c+="L ".concat(e+n-l/2-a,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},Qae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jae=e=>{var t=Yr(e,Qae),n=v.useRef(),[a,s]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m,className:h}=t,{animationEasing:x,animationDuration:g,animationBegin:b,isUpdateAnimationActive:w}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=ut("recharts-trapezoid",h);return w?v.createElement(H0,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:m,x:l,y:c},duration:g,animationEasing:x,isActive:w},S=>{var{upperWidth:k,lowerWidth:_,height:C,x:P,y:T}=S;return v.createElement(H0,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:x},v.createElement("path",ip({},Xt(t,!0),{className:j,d:H6(P,T,k,_,C),ref:n})))}):v.createElement("g",null,v.createElement("path",ip({},Xt(t,!0),{className:j,d:H6(l,c,d,f,m)})))},ese=["option","shapeType","propTransformer","activeClassName","isActive"];function tse(e,t){if(e==null)return{};var n,a,s=nse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nse(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function q6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function lp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q6(Object(n),!0).forEach(function(a){rse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rse(e,t,n){return(t=ase(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ase(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ise(e,t){return lp(lp({},t),e)}function lse(e,t){return e==="symbols"}function K6(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(xD,n);case"trapezoid":return v.createElement(Jae,n);case"sector":return v.createElement(n2,n);case"symbols":if(lse(t))return v.createElement(hM,n);break;default:return null}}function ose(e){return v.isValidElement(e)?e.props:e}function DR(e){var{option:t,shapeType:n,propTransformer:a=ise,activeClassName:s="recharts-active-shape",isActive:l}=e,c=tse(e,ese),d;if(v.isValidElement(t))d=v.cloneElement(t,lp(lp({},c),ose(t)));else if(typeof t=="function")d=t(c);else if(Zae(t)&&typeof t!="boolean"){var f=a(t,c);d=v.createElement(K6,{shapeType:n,elementProps:f})}else{var m=c;d=v.createElement(K6,{shapeType:n,elementProps:m})}return l?v.createElement(tr,{className:s},d):d}var hN=(e,t)=>{var n=dn();return(a,s)=>l=>{e==null||e(a,s,l),n(eR({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},pN=e=>{var t=dn();return(n,a)=>s=>{e==null||e(n,a,s),t(ene())}},xN=(e,t)=>{var n=dn();return(a,s)=>l=>{e==null||e(a,s,l),n(tne({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function gN(e){var{fn:t,args:n}=e,a=dn(),s=kr();return v.useEffect(()=>{if(!s){var l=t(n);return a(Zte(l)),()=>{a(Qte(l))}}},[t,n,a,s]),null}var RR=()=>{};function LR(e){var{legendPayload:t}=e,n=dn(),a=kr();return v.useEffect(()=>a?RR:(n(lD(t)),()=>{n(oD(t))}),[n,a,t]),null}function cse(e){var{legendPayload:t}=e,n=dn(),a=Ge(vt);return v.useEffect(()=>a!=="centric"&&a!=="radial"?RR:(n(lD(t)),()=>{n(oD(t))}),[n,a,t]),null}function vN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(lf(t)),a=v.useRef(e);return a.current!==e&&(n.current=lf(t),a.current=e),n.current}var Ab,use=()=>{var[e]=v.useState(()=>lf("uid-"));return e},dse=(Ab=Q$.useId)!==null&&Ab!==void 0?Ab:use;function fse(e,t){var n=dse();return t||(e?"".concat(e,"-").concat(n):n)}var mse=v.createContext(void 0),yN=e=>{var{id:t,type:n,children:a}=e,s=fse("recharts-".concat(n),t);return v.createElement(mse.Provider,{value:s},a(s))},hse={cartesianItems:[],polarItems:[]},$R=Gr({name:"graphicalItems",initialState:hse,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:a}=t.payload,s=zs(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=a)},removeCartesianGraphicalItem(e,t){var n=zs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=zs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:pse,replaceCartesianGraphicalItem:xse,removeCartesianGraphicalItem:gse,addPolarGraphicalItem:vse,removePolarGraphicalItem:yse}=$R.actions,bse=$R.reducer;function IR(e){var t=dn(),n=v.useRef(null);return v.useEffect(()=>{n.current===null?t(pse(e)):n.current!==e&&t(xse({prev:n.current,next:e})),n.current=e},[t,e]),v.useEffect(()=>()=>{n.current&&(t(gse(n.current)),n.current=null)},[t]),null}function wse(e){var t=dn();return v.useEffect(()=>(t(vse(e)),()=>{t(yse(e))}),[t,e]),null}function jse(){}var Nse={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},G6={t:0},Tb={t:1};function bN(e){var t=Yr(e,Nse),{isActive:n,canBegin:a,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=pD("JavascriptAnimate",t.animationManager),[x,g]=v.useState(n?G6:Tb),b=v.useRef(null);return v.useEffect(()=>{n||g(Tb)},[n]),v.useEffect(()=>{if(!n||!a)return jse;var w=hD(G6,Tb,fD(l),s,g,h.getTimeoutController()),j=()=>{b.current=w()};return h.start([f,c,j,s,d]),()=>{h.stop(),b.current&&b.current(),d()}},[n,a,s,l,c,f,d,h]),m(x.t)}var Sse=["onMouseEnter","onClick","onMouseLeave"],_se=["id"],kse=["id"];function wN(e,t){if(e==null)return{};var n,a,s=Cse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Cse(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Y6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y6(Object(n),!0).forEach(function(a){Ase(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ase(e,t,n){return(t=Tse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tse(e){var t=Ese(e,"string");return typeof t=="symbol"?t:t+""}function Ese(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Js.apply(null,arguments)}function Pse(e){var t=v.useMemo(()=>Pf(e.children,$s),[e.children]),n=Ge(a=>Kae(a,e.id,t));return n==null?null:v.createElement(cse,{legendPayload:n})}function Ose(e){var{dataKey:t,nameKey:n,sectors:a,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:a==null?void 0:a.map(h=>h.tooltipPayload),positions:a==null?void 0:a.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:n,name:Zc(d,t),hide:f,type:m,color:c,unit:""}}}var Mse=(e,t)=>e>t?"start":e<t?"end":"middle",Dse=(e,t,n)=>typeof t=="function"?t(e):dr(t,n,n*.8),Rse=(e,t,n)=>{var{top:a,left:s,width:l,height:c}=t,d=WM(l,c),f=s+dr(e.cx,l,l/2),m=a+dr(e.cy,c,c/2),h=dr(e.innerRadius,d,0),x=Dse(n,e.outerRadius,d),g=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:x,maxRadius:g}},Lse=(e,t)=>{var n=Rn(t-e),a=Math.min(Math.abs(t-e),360);return n*a},$se=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ut("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(e2,Js({},t,{type:"linear",className:n}))},Ise=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var a=n;if(typeof e=="function"&&(a=e(t),v.isValidElement(a)))return a;var s=ut("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return v.createElement(lx,Js({},t,{alignmentBaseline:"middle",className:s}),a)};function zse(e){var{sectors:t,props:n,showLabels:a}=e,{label:s,labelLine:l,dataKey:c}=n;if(!a||!s||!t)return null;var d=ei(n),f=Xt(s,!1),m=Xt(l,!1),h=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,x=t.map((g,b)=>{var w=(g.startAngle+g.endAngle)/2,j=vn(g.cx,g.cy,g.outerRadius+h,w),S=on(on(on(on({},d),g),{},{stroke:"none"},f),{},{index:b,textAnchor:Mse(j.x,g.cx)},j),k=on(on(on(on({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:b,points:[vn(g.cx,g.cy,g.outerRadius,w),j],key:"line"});return v.createElement(tr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},l&&$se(l,k),Ise(s,S,$t(g,c)))});return v.createElement(tr,{className:"recharts-pie-labels"},x)}function zR(e){var{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:s,showLabels:l}=e,c=Ge(Qi),{onMouseEnter:d,onClick:f,onMouseLeave:m}=s,h=wN(s,Sse),x=hN(d,s.dataKey),g=pN(m),b=xN(f,s.dataKey);return t==null?null:v.createElement(v.Fragment,null,t.map((w,j)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&t.length!==1)return null;var S=n&&String(j)===c,k=c?a:null,_=S?n:k,C=on(on({},w),{},{stroke:w.stroke,tabIndex:-1,[eD]:j,[tD]:s.dataKey});return v.createElement(tr,Js({tabIndex:-1,className:"recharts-pie-sector"},Tp(h,w,j),{onMouseEnter:x(w,j),onMouseLeave:g(w,j),onClick:b(w,j),key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(j)}),v.createElement(DR,Js({option:_,isActive:S,shapeType:"sector"},C)))}),v.createElement(zse,{sectors:t,props:s,showLabels:l}))}function Bse(e){var t,{pieSettings:n,displayedData:a,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:x}=n,g=Math.abs(n.minAngle),b=Lse(d,f),w=Math.abs(b),j=a.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=a.filter(E=>$t(E,m,0)!==0).length,k=(w>=360?S:S-1)*j,_=w-S*g-k,C=a.reduce((E,L)=>{var M=$t(L,m,0);return E+(Fe(M)?M:0)},0),P;if(C>0){var T;P=a.map((E,L)=>{var M=$t(E,m,0),B=$t(E,h,L),K=Rse(n,l,E),F=(Fe(M)?M:0)/C,U,te=on(on({},E),s&&s[L]&&s[L].props);L?U=T.endAngle+Rn(b)*j*(M!==0?1:0):U=d;var we=U+Rn(b)*((M!==0?g:0)+F*_),re=(U+we)/2,R=(K.innerRadius+K.outerRadius)/2,G=[{name:B,value:M,payload:te,dataKey:m,type:x}],H=vn(K.cx,K.cy,R,re);return T=on(on(on(on({},n.presentationProps),{},{percent:F,cornerRadius:c,name:B,tooltipPayload:G,midAngle:re,middleRadius:R,tooltipPosition:H},te),K),{},{value:$t(E,m),startAngle:U,endAngle:we,payload:te,paddingAngle:Rn(b)*j}),T})}return P}function Use(e){var{props:t,previousSectorsRef:n}=e,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:h,onAnimationEnd:x}=t,g=vN(t,"recharts-pie-"),b=n.current,[w,j]=v.useState(!0),S=v.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),k=v.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return v.createElement(bN,{begin:l,duration:c,isActive:s,easing:d,onAnimationStart:k,onAnimationEnd:S,key:g},_=>{var C=[],P=a&&a[0],T=P.startAngle;return a.forEach((E,L)=>{var M=b&&b[L],B=L>0?Wi(E,"paddingAngle",0):0;if(M){var K=jk(M.endAngle-M.startAngle,E.endAngle-E.startAngle),F=on(on({},E),{},{startAngle:T+B,endAngle:T+K(_)+B});C.push(F),T=F.endAngle}else{var{endAngle:U,startAngle:te}=E,we=jk(0,U-te),re=we(_),R=on(on({},E),{},{startAngle:T+B,endAngle:T+re+B});C.push(R),T=R.endAngle}}),n.current=C,v.createElement(tr,null,v.createElement(zR,{sectors:C,activeShape:f,inactiveShape:m,allOtherPieProps:t,showLabels:!w}))})}function Fse(e){var{sectors:t,isAnimationActive:n,activeShape:a,inactiveShape:s}=e,l=v.useRef(null),c=l.current;return n&&t&&t.length&&(!c||c!==t)?v.createElement(Use,{props:e,previousSectorsRef:l}):v.createElement(zR,{sectors:t,activeShape:a,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function Vse(e){var{hide:t,className:n,rootTabIndex:a}=e,s=ut("recharts-pie",n);return t?null:v.createElement(tr,{tabIndex:a,className:s},v.createElement(Fse,e))}var Hse={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!so.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function qse(e){var{id:t}=e,n=wN(e,_se),a=v.useMemo(()=>Pf(e.children,$s),[e.children]),s=Ge(l=>Gae(l,t,a));return v.createElement(v.Fragment,null,v.createElement(gN,{fn:Ose,args:on(on({},e),{},{sectors:s})}),v.createElement(Vse,Js({},n,{sectors:s})))}function vf(e){var t=Yr(e,Hse),{id:n}=t,a=wN(t,kse),s=ei(a);return v.createElement(yN,{id:n,type:"pie"},l=>v.createElement(v.Fragment,null,v.createElement(wse,{type:"pie",id:l,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s}),v.createElement(Pse,Js({},a,{id:l})),v.createElement(qse,Js({},a,{id:l})),a.children))}vf.displayName="Pie";var Kse=ve([_n],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Gse=ve([Kse,ti,ni],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),jN=()=>Ge(Gse),Yse=()=>Ge(Une);function W6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function X6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W6(Object(n),!0).forEach(function(a){Wse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Wse(e,t,n){return(t=Xse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xse(e){var t=Zse(e,"string");return typeof t=="symbol"?t:t+""}function Zse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qse=e=>{var{point:t,childIndex:n,mainColor:a,activeDot:s,dataKey:l}=e;if(s===!1||t.x==null||t.y==null)return null;var c=X6(X6({index:n,dataKey:l,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Xt(s,!1)),Lj(s)),d;return v.isValidElement(s)?d=v.cloneElement(s,c):typeof s=="function"?d=s(c):d=v.createElement(TR,c),v.createElement(tr,{className:"recharts-active-dot"},d)};function Jse(e){var{points:t,mainColor:n,activeDot:a,itemDataKey:s}=e,l=Ge(Qi),c=Yse();if(t==null||c==null)return null;var d=t.find(f=>c.includes(f.payload));return Kt(d)?null:Qse({point:d,childIndex:Number(l),mainColor:n,dataKey:s,activeDot:a})}var eie="Invariant failed";function tie(e,t){throw new Error(eie)}var nie=["x","y"];function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_w.apply(null,arguments)}function Z6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(n),!0).forEach(function(a){rie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rie(e,t,n){return(t=aie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aie(e){var t=sie(e,"string");return typeof t=="symbol"?t:t+""}function sie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iie(e,t){if(e==null)return{};var n,a,s=lie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function lie(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function oie(e,t){var{x:n,y:a}=e,s=iie(e,nie),l="".concat(n),c=parseInt(l,10),d="".concat(a),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),x="".concat(t.width||s.width),g=parseInt(x,10);return hd(hd(hd(hd(hd({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function BR(e){return v.createElement(DR,_w({shapeType:"rectangle",propTransformer:oie,activeClassName:"recharts-active-bar"},e))}var cie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Fe(t))return t;var l=Fe(a)||Kt(a);return l?t(a,s):(l||tie(),n)}},uie={},UR=Gr({name:"errorBars",initialState:uie,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:a}=t.payload;e[n]||(e[n]=[]),e[n].push(a)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:a}=t.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:Dfe,removeErrorBar:Rfe}=UR.actions,die=UR.reducer,fie=["children"];function mie(e,t){if(e==null)return{};var n,a,s=hie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function hie(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var pie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xie=v.createContext(pie);function FR(e){var{children:t}=e,n=mie(e,fie);return v.createElement(xie.Provider,{value:n},t)}function NN(e,t){var n,a,s=Ge(m=>ai(m,e)),l=Ge(m=>al(m,t)),c=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:$r.allowDataOverflow,d=(a=l==null?void 0:l.allowDataOverflow)!==null&&a!==void 0?a:Ir.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function VR(e){var{xAxisId:t,yAxisId:n,clipPathId:a}=e,s=jN(),{needClipX:l,needClipY:c,needClip:d}=NN(t,n);if(!d)return null;var{x:f,y:m,width:h,height:x}=s;return v.createElement("clipPath",{id:"clipPath-".concat(a)},v.createElement("rect",{x:l?f:f-h/2,y:c?m:m-x/2,width:l?h:h*2,height:c?x:x*2}))}var gie=["onMouseEnter","onMouseLeave","onClick"],vie=["value","background","tooltipPosition"],yie=["id"],bie=["onMouseEnter","onClick","onMouseLeave"];function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ic.apply(null,arguments)}function Q6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q6(Object(n),!0).forEach(function(a){wie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function wie(e,t,n){return(t=jie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jie(e){var t=Nie(e,"string");return typeof t=="symbol"?t:t+""}function Nie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function op(e,t){if(e==null)return{};var n,a,s=Sie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Sie(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var _ie=e=>{var{dataKey:t,name:n,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:a,value:Zc(n,t),payload:e}]};function kie(e){var{dataKey:t,stroke:n,strokeWidth:a,fill:s,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Zc(l,t),hide:c,type:e.tooltipType,color:e.fill,unit:d}}}function Cie(e){var t=Ge(Qi),{data:n,dataKey:a,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=op(l,gie),h=hN(c,a),x=pN(d),g=xN(f,a);if(!s||n==null)return null;var b=Xt(s,!1);return v.createElement(v.Fragment,null,n.map((w,j)=>{var{value:S,background:k,tooltipPosition:_}=w,C=op(w,vie);if(!k)return null;var P=h(w,j),T=x(w,j),E=g(w,j),L=Zn(Zn(Zn(Zn(Zn({option:s,isActive:String(j)===t},C),{},{fill:"#eee"},k),b),Tp(m,w,j)),{},{onMouseEnter:P,onMouseLeave:T,onClick:E,dataKey:a,index:j,className:"recharts-bar-background-rectangle"});return v.createElement(BR,Ic({key:"background-bar-".concat(j)},L))}))}function HR(e){var{data:t,props:n,showLabels:a}=e,s=ei(n),{id:l}=s,c=op(s,yie),{shape:d,dataKey:f,activeBar:m}=n,h=Ge(Qi),x=Ge(mR),{onMouseEnter:g,onClick:b,onMouseLeave:w}=n,j=op(n,bie),S=hN(g,f),k=pN(w),_=xN(b,f);return t?v.createElement(v.Fragment,null,t.map((C,P)=>{var T=m&&String(P)===h&&(x==null||f===x),E=T?m:d,L=Zn(Zn(Zn({},c),C),{},{isActive:T,option:E,index:P,dataKey:f});return v.createElement(tr,Ic({className:"recharts-bar-rectangle"},Tp(j,C,P),{onMouseEnter:S(C,P),onMouseLeave:k(C,P),onClick:_(C,P),key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(P)}),v.createElement(BR,L))}),a&&qi.renderCallByParent(n,t)):null}function Aie(e){var{props:t,previousRectanglesRef:n}=e,{data:a,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,x=n.current,g=vN(t,"recharts-bar-"),[b,w]=v.useState(!1),j=v.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),S=v.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return v.createElement(bN,{begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:S,key:g},k=>{var _=k===1?a:a==null?void 0:a.map((C,P)=>{var T=x&&x[P];if(T)return Zn(Zn({},C),{},{x:Pa(T.x,C.x,k),y:Pa(T.y,C.y,k),width:Pa(T.width,C.width,k),height:Pa(T.height,C.height,k)});if(s==="horizontal"){var E=Pa(0,C.height,k);return Zn(Zn({},C),{},{y:C.y+C.height-E,height:E})}var L=Pa(0,C.width,k);return Zn(Zn({},C),{},{width:L})});return k>0&&(n.current=_??null),_==null?null:v.createElement(tr,null,v.createElement(HR,{props:t,data:_,showLabels:!b}))})}function Tie(e){var{data:t,isAnimationActive:n}=e,a=v.useRef(null);return n&&t&&t.length&&(a.current==null||a.current!==t)?v.createElement(Aie,{previousRectanglesRef:a,props:e}):v.createElement(HR,{props:e,data:t,showLabels:!0})}var qR=0,Eie=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:$t(e,t)}};class Pie extends v.PureComponent{render(){var{hide:t,data:n,dataKey:a,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t)return null;var h=ut("recharts-bar",s),x=m;return v.createElement(tr,{className:h,id:m},d&&v.createElement("defs",null,v.createElement(VR,{clipPathId:x,xAxisId:l,yAxisId:c})),v.createElement(tr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},v.createElement(Cie,{data:n,dataKey:a,background:f,allOtherBarProps:this.props}),v.createElement(Tie,this.props)),this.props.children)}}var Oie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!so.isSsr,legendType:"rect",minPointSize:qR,xAxisId:0,yAxisId:0};function Mie(e){var{xAxisId:t,yAxisId:n,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:x}=NN(t,n),g=Vp(),b=kr(),w=Pf(e.children,$s),j=Ge(_=>ile(_,t,n,b,e.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var S,k=j==null?void 0:j[0];return k==null||k.height==null||k.width==null?S=0:S=g==="vertical"?k.height/2:k.width/2,v.createElement(FR,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:Eie,errorBarOffset:S},v.createElement(Pie,Ic({},e,{layout:g,needClip:x,data:j,xAxisId:t,yAxisId:n,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function Die(e){var{layout:t,barSettings:{dataKey:n,minPointSize:a},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:x,offset:g,cells:b}=e,w=t==="horizontal"?d:c,j=h?w.scale.domain():null,S=EX({numericAxis:w});return x.map((k,_)=>{var C,P,T,E,L,M;h?C=SX(h[_],j):(C=$t(k,n),Array.isArray(C)||(C=[S,C]));var B=cie(a,qR)(C[1],_);if(t==="horizontal"){var K,[F,U]=[d.scale(C[0]),d.scale(C[1])];P=$C({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:k,index:_}),T=(K=U??F)!==null&&K!==void 0?K:void 0,E=s.size;var te=F-U;if(L=Vr(te)?0:te,M={x:P,y:g.top,width:E,height:g.height},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var we=Rn(L||B)*(Math.abs(B)-Math.abs(L));T-=we,L+=we}}else{var[re,R]=[c.scale(C[0]),c.scale(C[1])];if(P=re,T=$C({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:k,index:_}),E=R-re,L=s.size,M={x:g.left,y:T,width:g.width,height:L},Math.abs(B)>0&&Math.abs(E)<Math.abs(B)){var G=Rn(E||B)*(Math.abs(B)-Math.abs(E));E+=G}}if(P==null||T==null||E==null||L==null)return null;var H=Zn(Zn({},k),{},{x:P,y:T,width:E,height:L,value:h?C:C[1],payload:k,background:M,tooltipPosition:{x:P+E/2,y:T+L/2}},b&&b[_]&&b[_].props);return H}).filter(Boolean)}function Kd(e){var t=Yr(e,Oie),n=kr();return v.createElement(yN,{id:t.id,type:"bar"},a=>v.createElement(v.Fragment,null,v.createElement(LR,{legendPayload:_ie(t)}),v.createElement(gN,{fn:kie,args:t}),v.createElement(IR,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:TX(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),v.createElement(Mie,Ic({},t,{id:a}))))}Kd.displayName="Bar";function J6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J6(Object(n),!0).forEach(function(a){Rie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Rie(e,t,n){return(t=Lie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lie(e){var t=$ie(e,"string");return typeof t=="symbol"?t:t+""}function $ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iie=(e,t)=>t,zie=(e,t,n)=>n,Bie=(e,t,n,a)=>a,Uie=(e,t,n,a,s)=>s,Hf=ve([tx,Uie],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Fie=ve([Hf],e=>e==null?void 0:e.maxBarSize),Vie=(e,t,n,a,s,l)=>l,eT=(e,t,n)=>{var a=n??e;if(!Kt(a))return dr(a,t,0)},Hie=ve([vt,tx,Iie,zie,Bie],(e,t,n,a,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===a).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),qie=(e,t,n,a)=>{var s=vt(e);return s==="horizontal"?vw(e,"yAxis",n,a):vw(e,"xAxis",t,a)},Kie=(e,t,n)=>{var a=vt(e);return a==="horizontal"?t6(e,"xAxis",t):t6(e,"yAxis",n)},Gie=(e,t,n)=>{var a={},s=e.filter(ex),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),d=Object.entries(c).map(m=>{var[h,x]=m,g=x.map(w=>w.dataKey),b=eT(t,n,x[0].barSize);return{stackId:h,dataKeys:g,barSize:b}}),f=l.map(m=>{var h=[m.dataKey].filter(g=>g!=null),x=eT(t,n,m.barSize);return{stackId:void 0,dataKeys:h,barSize:x}});return[...d,...f]},Yie=ve([Hie,Qee,Kie],Gie),Wie=(e,t,n,a,s)=>{var l,c,d=Hf(e,t,n,a,s);if(d!=null){var f=vt(e),m=h8(e),{maxBarSize:h}=d,x=Kt(h)?m:h,g,b;return f==="horizontal"?(g=Zi(e,"xAxis",t,a),b=Xi(e,"xAxis",t,a)):(g=Zi(e,"yAxis",n,a),b=Xi(e,"yAxis",n,a)),(l=(c=uf(g,b,!0))!==null&&c!==void 0?c:x)!==null&&l!==void 0?l:0}},KR=(e,t,n,a)=>{var s=vt(e),l,c;return s==="horizontal"?(l=Zi(e,"xAxis",t,a),c=Xi(e,"xAxis",t,a)):(l=Zi(e,"yAxis",n,a),c=Xi(e,"yAxis",n,a)),uf(l,c)};function Xie(e,t,n,a,s){var l=a.length;if(!(l<1)){var c=dr(e,n,0,!0),d,f=[];if(Kr(a[0].barSize)){var m=!1,h=n/l,x=a.reduce((k,_)=>k+(_.barSize||0),0);x+=(l-1)*c,x>=n&&(x-=(l-1)*c,c=0),x>=n&&h>0&&(m=!0,h*=.9,x=l*h);var g=(n-x)/2>>0,b={offset:g-c,size:0};d=a.reduce((k,_)=>{var C,P={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:b.offset+b.size+c,size:m?h:(C=_.barSize)!==null&&C!==void 0?C:0}},T=[...k,P];return b=T[T.length-1].position,T},f)}else{var w=dr(t,n,0,!0);n-2*w-(l-1)*c<=0&&(c=0);var j=(n-2*w-(l-1)*c)/l;j>1&&(j>>=0);var S=Kr(s)?Math.min(j,s):j;d=a.reduce((k,_,C)=>[...k,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:w+(j+c)*C+(j-S)/2,size:S}}],f)}return d}}var Zie=(e,t,n,a,s,l,c)=>{var d=Kt(c)?t:c,f=Xie(n,a,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>_h(_h({},m),{},{position:_h(_h({},m.position),{},{offset:m.position.offset-s/2})}))),f},Qie=ve([Yie,h8,Zee,p8,Wie,KR,Fie],Zie),Jie=(e,t,n,a)=>Zi(e,"xAxis",t,a),ele=(e,t,n,a)=>Zi(e,"yAxis",n,a),tle=(e,t,n,a)=>Xi(e,"xAxis",t,a),nle=(e,t,n,a)=>Xi(e,"yAxis",n,a),rle=ve([Qie,Hf],(e,t)=>{if(!(e==null||t==null)){var n=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),ale=(e,t)=>{var n=R2(t);if(!(!e||n==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===n)}}}},sle=ve([qie,Hf],ale),ile=ve([_n,Jie,ele,tle,nle,rle,vt,Xp,KR,sle,Hf,Vie],(e,t,n,a,s,l,c,d,f,m,h,x)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:w}=d;if(!(h==null||l==null||c!=="horizontal"&&c!=="vertical"||t==null||n==null||a==null||s==null||f==null)){var{data:j}=h,S;if(j!=null&&j.length>0?S=j:S=g==null?void 0:g.slice(b,w+1),S!=null)return Die({layout:c,barSettings:h,pos:l,bandSize:f,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:m,displayedData:S,offset:e,cells:x})}}),GR=e=>{var{chartData:t}=e,n=dn(),a=kr();return v.useEffect(()=>a?()=>{}:(n(d6(t)),()=>{n(d6(void 0))}),[t,n,a]),null},tT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YR=Gr({name:"brush",initialState:tT,reducers:{setBrushSettings(e,t){return t.payload==null?tT:t.payload}}}),{setBrushSettings:Lfe}=YR.actions,lle=YR.reducer;function ole(e,t,n){return(t=cle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cle(e){var t=ule(e,"string");return typeof t=="symbol"?t:t+""}function ule(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SN{static create(t){return new SN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}ole(SN,"EPS",1e-4);function dle(e){return(e%180+180)%180}var fle=function(t){var{width:n,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=dle(s),c=l*Math.PI/180,d=Math.atan(a/n),f=c>d&&c<Math.PI-d?a/Math.sin(c):n/Math.cos(c);return Math.abs(f)},mle={dots:[],areas:[],lines:[]},WR=Gr({name:"referenceElements",initialState:mle,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=zs(e).dots.findIndex(a=>a===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=zs(e).areas.findIndex(a=>a===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=zs(e).lines.findIndex(a=>a===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:$fe,removeDot:Ife,addArea:zfe,removeArea:Bfe,addLine:Ufe,removeLine:Ffe}=WR.actions,hle=WR.reducer,ple=v.createContext(void 0),xle=e=>{var{children:t}=e,[n]=v.useState("".concat(lf("recharts"),"-clip")),a=jN();if(a==null)return null;var{x:s,y:l,width:c,height:d}=a;return v.createElement(ple.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:s,y:l,height:d,width:c}))),t)};function Eb(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function XR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function gle(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return fle(a,n)}function vle(e,t,n){var a=n==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:a?s:l,end:a?s+c:l+d}:{start:a?s+c:l+d,end:a?s:l}}function cp(e,t,n,a,s){if(e*t<e*a||e*t>e*s)return!1;var l=n();return e*(t-e*l/2-a)>=0&&e*(t+e*l/2-s)<=0}function yle(e,t){return XR(e,t+1)}function ble(e,t,n,a,s){for(var l=(a||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,x=function(){var w=a==null?void 0:a[f];if(w===void 0)return{v:XR(a,m)};var j=f,S,k=()=>(S===void 0&&(S=n(w,j)),S),_=w.coordinate,C=f===0||cp(e,_,k,h,d);C||(f=0,h=c,m+=1),C&&(h=_+e*(k()/2+s),f+=m)},g;m<=l.length;)if(g=x(),g)return g.v;return[]}function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(n),!0).forEach(function(a){wle(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function wle(e,t,n){return(t=jle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jle(e){var t=Nle(e,"string");return typeof t=="symbol"?t:t+""}function Nle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sle(e,t,n,a,s){for(var l=(a||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(g){var b=l[g],w,j=()=>(w===void 0&&(w=n(b,g)),w);if(g===c-1){var S=e*(b.coordinate+e*j()/2-f);l[g]=b=Xn(Xn({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else l[g]=b=Xn(Xn({},b),{},{tickCoord:b.coordinate});var k=cp(e,b.tickCoord,j,d,f);k&&(f=b.tickCoord-e*(j()/2+s),l[g]=Xn(Xn({},b),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return l}function _le(e,t,n,a,s,l){var c=(a||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=a[d-1],x=n(h,d-1),g=e*(h.coordinate+e*x/2-m);c[d-1]=h=Xn(Xn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var b=cp(e,h.tickCoord,()=>x,f,m);b&&(m=h.tickCoord-e*(x/2+s),c[d-1]=Xn(Xn({},h),{},{isShow:!0}))}for(var w=l?d-1:d,j=function(_){var C=c[_],P,T=()=>(P===void 0&&(P=n(C,_)),P);if(_===0){var E=e*(C.coordinate-e*T()/2-f);c[_]=C=Xn(Xn({},C),{},{tickCoord:E<0?C.coordinate-E*e:C.coordinate})}else c[_]=C=Xn(Xn({},C),{},{tickCoord:C.coordinate});var L=cp(e,C.tickCoord,T,f,m);L&&(f=C.tickCoord+e*(T()/2+s),c[_]=Xn(Xn({},C),{},{isShow:!0}))},S=0;S<w;S++)j(S);return c}function _N(e,t,n){var{tick:a,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:x}=e;if(!s||!s.length||!a)return[];if(Fe(f)||so.isSsr){var g;return(g=yle(s,Fe(f)?f:0))!==null&&g!==void 0?g:[]}var b=[],w=d==="top"||d==="bottom"?"width":"height",j=h&&w==="width"?qd(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(C,P)=>{var T=typeof m=="function"?m(C.value,P):C.value;return w==="width"?gle(qd(T,{fontSize:t,letterSpacing:n}),j,x):qd(T,{fontSize:t,letterSpacing:n})[w]},k=s.length>=2?Rn(s[1].coordinate-s[0].coordinate):1,_=vle(l,k,w);return f==="equidistantPreserveStart"?ble(k,_,S,s,c):(f==="preserveStart"||f==="preserveStartEnd"?b=_le(k,_,S,s,c,f==="preserveStartEnd"):b=Sle(k,_,S,s,c),b.filter(C=>C.isShow))}var kle=["viewBox"],Cle=["viewBox"];function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mc.apply(null,arguments)}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(a){kN(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function aT(e,t){if(e==null)return{};var n,a,s=Ale(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ale(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function kN(e,t,n){return(t=Tle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tle(e){var t=Ele(e,"string");return typeof t=="symbol"?t:t+""}function Ele(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sl extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:a}=t,s=aT(t,kle),l=this.props,{viewBox:c}=l,d=aT(l,Cle);return!Eb(a,c)||!Eb(s,d)||!Eb(n,this.state)}getTickLineCoord(t){var{x:n,y:a,width:s,height:l,orientation:c,tickSize:d,mirror:f,tickMargin:m}=this.props,h,x,g,b,w,j,S=f?-1:1,k=t.tickSize||d,_=Fe(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=x=t.coordinate,b=a+ +!f*l,g=b-S*k,j=g-S*m,w=_;break;case"left":g=b=t.coordinate,x=n+ +!f*s,h=x-S*k,w=h-S*m,j=_;break;case"right":g=b=t.coordinate,x=n+ +f*s,h=x+S*k,w=h+S*m,j=_;break;default:h=x=t.coordinate,b=a+ +f*l,g=b+S*k,j=g+S*m,w=_;break}return{line:{x1:h,y1:g,x2:x,y2:b},tick:{x:w,y:j}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,a;switch(t){case"left":a=n?"start":"end";break;case"right":a=n?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:a,height:s,orientation:l,mirror:c,axisLine:d}=this.props,f=Nn(Nn(Nn({},Xt(this.props,!1)),Xt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);f=Nn(Nn({},f),{},{x1:t,y1:n+m*s,x2:t+a,y2:n+m*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=Nn(Nn({},f),{},{x1:t+h*a,y1:n,x2:t+h*a,y2:n+s})}return v.createElement("line",mc({},f,{className:ut("recharts-cartesian-axis-line",Wi(d,"className"))}))}static renderTickItem(t,n,a){var s,l=ut(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))s=v.cloneElement(t,Nn(Nn({},n),{},{className:l}));else if(typeof t=="function")s=t(Nn(Nn({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=ut(c,t.className)),s=v.createElement(lx,mc({},n,{className:c}),a)}return s}renderTicks(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:l,tick:c,tickFormatter:d,unit:f,padding:m}=this.props,h=_N(Nn(Nn({},this.props),{},{ticks:a}),t,n),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=ei(this.props),w=Xt(c,!1),j=Nn(Nn({},b),{},{fill:"none"},Xt(s,!1)),S=h.map((k,_)=>{var{line:C,tick:P}=this.getTickLineCoord(k),T=Nn(Nn(Nn(Nn({textAnchor:x,verticalAnchor:g},b),{},{stroke:"none",fill:l},w),P),{},{index:_,payload:k,visibleTicksCount:h.length,tickFormatter:d,padding:m});return v.createElement(tr,mc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Tp(this.props,k,_)),s&&v.createElement("line",mc({},j,C,{className:ut("recharts-cartesian-axis-tick-line",Wi(s,"className"))})),c&&sl.renderTickItem(c,T,"".concat(typeof d=="function"?d(k.value,_):k.value).concat(f||"")))});return S.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:t,width:n,height:a,className:s,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return n!=null&&n<=0||a!=null&&a<=0?null:v.createElement(tr,{className:ut("recharts-cartesian-axis",s),ref:d=>{if(d){var f=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var m=f[0];if(m){var h=window.getComputedStyle(m).fontSize,x=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),Br.renderCallByParent(this.props))}}kN(sl,"displayName","CartesianAxis");kN(sl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ple=["x1","y1","x2","y2","key"],Ole=["offset"],Mle=["xAxisId","yAxisId"],Dle=["xAxisId","yAxisId"];function sT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(a){Rle(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Rle(e,t,n){return(t=Lle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lle(e){var t=$le(e,"string");return typeof t=="symbol"?t:t+""}function $le(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hl.apply(null,arguments)}function up(e,t){if(e==null)return{};var n,a,s=Ile(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ile(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var zle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:a,y:s,width:l,height:c,ry:d}=e;return v.createElement("rect",{x:a,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZR(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:a,y1:s,x2:l,y2:c,key:d}=t,f=up(t,Ple),m=ei(f),{offset:h}=m,x=up(m,Ole);n=v.createElement("line",Hl({},x,{x1:a,y1:s,x2:l,y2:c,fill:"none",key:d}))}return n}function Ble(e){var{x:t,width:n,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=up(e,Mle),f=s.map((m,h)=>{var x=Qn(Qn({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(h),index:h});return ZR(a,x)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Ule(e){var{y:t,height:n,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=up(e,Dle),f=s.map((m,h)=>{var x=Qn(Qn({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(h),index:h});return ZR(a,x)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Fle(e){var{horizontalFill:t,fillOpacity:n,x:a,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(x=>Math.round(x+s-s)).sort((x,g)=>x-g);s!==m[0]&&m.unshift(0);var h=m.map((x,g)=>{var b=!m[g+1],w=b?s+c-x:m[g+1]-x;if(w<=0)return null;var j=g%t.length;return v.createElement("rect",{key:"react-".concat(g),y:x,x:a,height:w,width:l,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Vle(e){var{vertical:t=!0,verticalFill:n,fillOpacity:a,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(x=>Math.round(x+s-s)).sort((x,g)=>x-g);s!==m[0]&&m.unshift(0);var h=m.map((x,g)=>{var b=!m[g+1],w=b?s+c-x:m[g+1]-x;if(w<=0)return null;var j=g%n.length;return v.createElement("rect",{key:"react-".concat(g),x,y:l,width:w,height:d,stroke:"none",fill:n[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Hle=(e,t)=>{var{xAxis:n,width:a,height:s,offset:l}=e;return ZM(_N(Qn(Qn(Qn({},sl.defaultProps),n),{},{ticks:QM(n),viewBox:{x:0,y:0,width:a,height:s}})),l.left,l.left+l.width,t)},qle=(e,t)=>{var{yAxis:n,width:a,height:s,offset:l}=e;return ZM(_N(Qn(Qn(Qn({},sl.defaultProps),n),{},{ticks:QM(n),viewBox:{x:0,y:0,width:a,height:s}})),l.top,l.top+l.height,t)},Kle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ki(e){var t=aD(),n=sD(),a=rD(),s=Qn(Qn({},Yr(e,Kle)),{},{x:Fe(e.x)?e.x:a.left,y:Fe(e.y)?e.y:a.top,width:Fe(e.width)?e.width:a.width,height:Fe(e.height)?e.height:a.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:x,horizontalValues:g,verticalValues:b}=s,w=kr(),j=Ge(B=>n6(B,"xAxis",l,w)),S=Ge(B=>n6(B,"yAxis",c,w));if(!Fe(m)||m<=0||!Fe(h)||h<=0||!Fe(d)||d!==+d||!Fe(f)||f!==+f)return null;var k=s.verticalCoordinatesGenerator||Hle,_=s.horizontalCoordinatesGenerator||qle,{horizontalPoints:C,verticalPoints:P}=s;if((!C||!C.length)&&typeof _=="function"){var T=g&&g.length,E=_({yAxis:S?Qn(Qn({},S),{},{ticks:T?g:S.ticks}):void 0,width:t,height:n,offset:a},T?!0:x);Hd(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(C=E)}if((!P||!P.length)&&typeof k=="function"){var L=b&&b.length,M=k({xAxis:j?Qn(Qn({},j),{},{ticks:L?b:j.ticks}):void 0,width:t,height:n,offset:a},L?!0:x);Hd(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(P=M)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(zle,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),v.createElement(Fle,Hl({},s,{horizontalPoints:C})),v.createElement(Vle,Hl({},s,{verticalPoints:P})),v.createElement(Ble,Hl({},s,{offset:a,horizontalPoints:C,xAxis:j,yAxis:S})),v.createElement(Ule,Hl({},s,{offset:a,verticalPoints:P,xAxis:j,yAxis:S})))}Ki.displayName="CartesianGrid";var QR=(e,t,n,a)=>Zi(e,"xAxis",t,a),JR=(e,t,n,a)=>Xi(e,"xAxis",t,a),eL=(e,t,n,a)=>Zi(e,"yAxis",n,a),tL=(e,t,n,a)=>Xi(e,"yAxis",n,a),Gle=ve([vt,QR,eL,JR,tL],(e,t,n,a,s)=>el(e,"xAxis")?uf(t,a,!1):uf(n,s,!1)),Yle=(e,t,n,a,s)=>s;function Wle(e){return e.type==="line"}var Xle=ve([tx,Yle],(e,t)=>e.filter(Wle).find(n=>n.id===t)),Zle=ve([vt,QR,eL,JR,tL,Xle,Gle,Xp],(e,t,n,a,s,l,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:h}=d;if(!(l==null||t==null||n==null||a==null||s==null||a.length===0||s.length===0||c==null)){var{dataKey:x,data:g}=l,b;if(g!=null&&g.length>0?b=g:b=f==null?void 0:f.slice(m,h+1),b!=null)return voe({layout:e,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:x,bandSize:c,displayedData:b})}}),Qle=["id"],Jle=["type","layout","connectNulls","needClip"],eoe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(a){toe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function toe(e,t,n){return(t=noe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function noe(e){var t=roe(e,"string");return typeof t=="symbol"?t:t+""}function roe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CN(e,t){if(e==null)return{};var n,a,s=aoe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function aoe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ro.apply(null,arguments)}var soe=e=>{var{dataKey:t,name:n,stroke:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:a,value:Zc(n,t),payload:e}]};function ioe(e){var{dataKey:t,data:n,stroke:a,strokeWidth:s,fill:l,name:c,hide:d,unit:f}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:Zc(c,t),hide:d,type:e.tooltipType,color:e.stroke,unit:f}}}var nL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function loe(e,t){for(var n=e.length%2!==0?[...e,0]:e,a=[],s=0;s<t;++s)a=[...a,...n];return a}var ooe=(e,t,n)=>{var a=n.reduce((x,g)=>x+g);if(!a)return nL(t,e);for(var s=Math.floor(e/a),l=e%a,c=t-e,d=[],f=0,m=0;f<n.length;m+=n[f],++f)if(m+n[f]>l){d=[...n.slice(0,f),l-m];break}var h=d.length%2===0?[0,c]:[c];return[...loe(n,s),...d,...h].map(x=>"".concat(x,"px")).join(", ")};function coe(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var a=ut("recharts-line-dot",typeof e!="boolean"?e.className:"");n=v.createElement(TR,ro({},t,{className:a}))}return n}function uoe(e,t){return e==null?!1:t?!0:e.length===1}function doe(e){var{clipPathId:t,points:n,props:a}=e,{dot:s,dataKey:l,needClip:c}=a;if(!uoe(n,s))return null;var{id:d}=a,f=CN(a,Qle),m=WO(s),h=ei(f),x=Xt(s,!0),g=n.map((w,j)=>{var S=Oa(Oa(Oa({key:"dot-".concat(j),r:3},h),x),{},{index:j,cx:w.x,cy:w.y,dataKey:l,value:w.value,payload:w.payload,points:n});return coe(s,S)}),b={clipPath:c?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return v.createElement(tr,ro({className:"recharts-line-dots",key:"dots"},b),g)}function kw(e){var{clipPathId:t,pathRef:n,points:a,strokeDasharray:s,props:l,showLabels:c}=e,{type:d,layout:f,connectNulls:m,needClip:h}=l,x=CN(l,Jle),g=Oa(Oa({},Xt(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:a,type:d,layout:f,connectNulls:m,strokeDasharray:s??l.strokeDasharray});return v.createElement(v.Fragment,null,(a==null?void 0:a.length)>1&&v.createElement(e2,ro({},g,{pathRef:n})),v.createElement(doe,{points:a,clipPathId:t,props:l}),c&&qi.renderCallByParent(l,a))}function foe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function moe(e){var{clipPathId:t,props:n,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:d,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:x,animateNewValues:g,width:b,height:w,onAnimationEnd:j,onAnimationStart:S}=n,k=s.current,_=vN(n,"recharts-line-"),[C,P]=v.useState(!1),T=v.useCallback(()=>{typeof j=="function"&&j(),P(!1)},[j]),E=v.useCallback(()=>{typeof S=="function"&&S(),P(!0)},[S]),L=foe(a.current),M=l.current;return v.createElement(bN,{begin:m,duration:h,isActive:f,easing:x,onAnimationEnd:T,onAnimationStart:E,key:_},B=>{var K=Pa(M,L+M,B),F=Math.min(K,L),U;if(d){var te="".concat(d).split(/[,\s]+/gim).map(R=>parseFloat(R));U=ooe(F,L,te)}else U=nL(L,F);if(k){var we=k.length/c.length,re=B===1?c:c.map((R,G)=>{var H=Math.floor(G*we);if(k[H]){var I=k[H];return Oa(Oa({},R),{},{x:Pa(I.x,R.x,B),y:Pa(I.y,R.y,B)})}return g?Oa(Oa({},R),{},{x:Pa(b*2,R.x,B),y:Pa(w/2,R.y,B)}):Oa(Oa({},R),{},{x:R.x,y:R.y})});return s.current=re,v.createElement(kw,{props:n,points:re,clipPathId:t,pathRef:a,showLabels:!C,strokeDasharray:U})}return B>0&&L>0&&(s.current=c,l.current=F),v.createElement(kw,{props:n,points:c,clipPathId:t,pathRef:a,showLabels:!C,strokeDasharray:U})})}function hoe(e){var{clipPathId:t,props:n}=e,{points:a,isAnimationActive:s}=n,l=v.useRef(null),c=v.useRef(0),d=v.useRef(null),f=l.current;return s&&a&&a.length&&f!==a?v.createElement(moe,{props:n,clipPathId:t,previousPointsRef:l,longestAnimatedLengthRef:c,pathRef:d}):v.createElement(kw,{props:n,points:a,clipPathId:t,pathRef:d,showLabels:!0})}var poe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:$t(e.payload,t)});class xoe extends v.Component{render(){var t,{hide:n,dot:a,points:s,className:l,xAxisId:c,yAxisId:d,top:f,left:m,width:h,height:x,id:g,needClip:b}=this.props;if(n)return null;var w=ut("recharts-line",l),j=g,{r:S=3,strokeWidth:k=2}=(t=Xt(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=WO(a),C=S*2+k;return v.createElement(v.Fragment,null,v.createElement(tr,{className:w},b&&v.createElement("defs",null,v.createElement(VR,{clipPathId:j,xAxisId:c,yAxisId:d}),!_&&v.createElement("clipPath",{id:"clipPath-dots-".concat(j)},v.createElement("rect",{x:m-C/2,y:f-C/2,width:h+C,height:x+C}))),v.createElement(hoe,{props:this.props,clipPathId:j}),v.createElement(FR,{xAxisId:c,yAxisId:d,data:s,dataPointFormatter:poe,errorBarOffset:0},this.props.children)),v.createElement(Jse,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var rL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!so.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function goe(e){var t=Yr(e,rL),{activeDot:n,animateNewValues:a,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:f,hide:m,isAnimationActive:h,label:x,legendType:g,xAxisId:b,yAxisId:w,id:j}=t,S=CN(t,eoe),{needClip:k}=NN(b,w),_=jN(),C=Vp(),P=kr(),T=Ge(K=>Zle(K,b,w,P,j));if(C!=="horizontal"&&C!=="vertical"||T==null||_==null)return null;var{height:E,width:L,x:M,y:B}=_;return v.createElement(xoe,ro({},S,{id:j,connectNulls:d,dot:f,activeDot:n,animateNewValues:a,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:m,label:x,legendType:g,xAxisId:b,yAxisId:w,points:T,layout:C,height:E,width:L,left:M,top:B,needClip:k}))}function voe(e){var{layout:t,xAxis:n,yAxis:a,xAxisTicks:s,yAxisTicks:l,dataKey:c,bandSize:d,displayedData:f}=e;return f.map((m,h)=>{var x=$t(m,c);if(t==="horizontal"){var g=LC({axis:n,ticks:s,bandSize:d,entry:m,index:h}),b=Kt(x)?null:a.scale(x);return{x:g,y:b,value:x,payload:m}}var w=Kt(x)?null:n.scale(x),j=LC({axis:a,ticks:l,bandSize:d,entry:m,index:h});return w==null||j==null?null:{x:w,y:j,value:x,payload:m}}).filter(Boolean)}function ox(e){var t=Yr(e,rL),n=kr();return v.createElement(yN,{id:t.id,type:"line"},a=>v.createElement(v.Fragment,null,v.createElement(LR,{legendPayload:soe(t)}),v.createElement(gN,{fn:ioe,args:t}),v.createElement(IR,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(goe,ro({},t,{id:a}))))}ox.displayName="Line";function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function oT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(a){yoe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function yoe(e,t,n){return(t=boe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function boe(e){var t=woe(e,"string");return typeof t=="symbol"?t:t+""}function woe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var joe={xAxis:{},yAxis:{},zAxis:{}},aL=Gr({name:"cartesianAxis",initialState:joe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:a}=t.payload;e.yAxis[n]&&(e.yAxis[n]=oT(oT({},e.yAxis[n]),{},{width:a}))}}}),{addXAxis:Noe,removeXAxis:Soe,addYAxis:_oe,removeYAxis:koe,addZAxis:Vfe,removeZAxis:Hfe,updateYAxisWidth:Coe}=aL.actions,Aoe=aL.reducer,Toe=["children"],Eoe=["dangerouslySetInnerHTML","ticks"];function sL(e,t,n){return(t=Poe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Poe(e){var t=Ooe(e,"string");return typeof t=="symbol"?t:t+""}function Ooe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cw.apply(null,arguments)}function iL(e,t){if(e==null)return{};var n,a,s=Moe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Moe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Doe(e){var t=dn(),n=v.useMemo(()=>{var{children:l}=e,c=iL(e,Toe);return c},[e]),a=Ge(l=>ai(l,n.id)),s=n===a;return v.useEffect(()=>(t(Noe(n)),()=>{t(Soe(n))}),[n,t]),s?e.children:null}var Roe=e=>{var{xAxisId:t,className:n}=e,a=Ge(nD),s=kr(),l="xAxis",c=Ge(b=>au(b,l,t,s)),d=Ge(b=>Y8(b,l,t,s)),f=Ge(b=>H8(b,t)),m=Ge(b=>Fte(b,t));if(f==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:x}=e,g=iL(e,Eoe);return v.createElement(sl,Cw({},g,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:ut("recharts-".concat(l," ").concat(l),n),viewBox:a,ticks:d}))},Loe=e=>{var t,n,a,s,l;return v.createElement(Doe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},v.createElement(Roe,e))};class Us extends v.Component{render(){return v.createElement(Loe,this.props)}}sL(Us,"displayName","XAxis");sL(Us,"defaultProps",{allowDataOverflow:$r.allowDataOverflow,allowDecimals:$r.allowDecimals,allowDuplicatedCategory:$r.allowDuplicatedCategory,height:$r.height,hide:!1,mirror:$r.mirror,orientation:$r.orientation,padding:$r.padding,reversed:$r.reversed,scale:$r.scale,tickCount:$r.tickCount,type:$r.type,xAxisId:0});var $oe=e=>{var{ticks:t,label:n,labelGapWithTick:a=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){t.forEach(h=>{if(h){var x=h.getBoundingClientRect();x.width>c&&(c=x.width)}});var d=n?n.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(n?a:0);return Math.round(m)}return 0},Ioe=["dangerouslySetInnerHTML","ticks"];function lL(e,t,n){return(t=zoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zoe(e){var t=Boe(e,"string");return typeof t=="symbol"?t:t+""}function Boe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Aw.apply(null,arguments)}function Uoe(e,t){if(e==null)return{};var n,a,s=Foe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Foe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Voe(e){var t=dn();return v.useEffect(()=>(t(_oe(e)),()=>{t(koe(e))}),[e,t]),null}var Hoe=e=>{var t,{yAxisId:n,className:a,width:s,label:l}=e,c=v.useRef(null),d=v.useRef(null),f=Ge(nD),m=kr(),h=dn(),x="yAxis",g=Ge(C=>au(C,x,n,m)),b=Ge(C=>q8(C,n)),w=Ge(C=>Vte(C,n)),j=Ge(C=>Y8(C,x,n,m));if(v.useLayoutEffect(()=>{var C;if(!(s!=="auto"||!b||cN(l)||v.isValidElement(l))){var P=c.current,T=P==null||(C=P.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:E,tickMargin:L}=P.props,M=$oe({ticks:T,label:d.current,labelGapWithTick:5,tickSize:E,tickMargin:L});Math.round(b.width)!==Math.round(M)&&h(Coe({id:n,width:M}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b==null?void 0:b.width,b,h,l,n,s]),b==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:k}=e,_=Uoe(e,Ioe);return v.createElement(sl,Aw({},_,{ref:c,labelRef:d,scale:g,x:w.x,y:w.y,width:b.width,height:b.height,className:ut("recharts-".concat(x," ").concat(x),a),viewBox:f,ticks:j}))},qoe=e=>{var t,n,a,s,l;return v.createElement(v.Fragment,null,v.createElement(Voe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),v.createElement(Hoe,e))},Koe={allowDataOverflow:Ir.allowDataOverflow,allowDecimals:Ir.allowDecimals,allowDuplicatedCategory:Ir.allowDuplicatedCategory,hide:!1,mirror:Ir.mirror,orientation:Ir.orientation,padding:Ir.padding,reversed:Ir.reversed,scale:Ir.scale,tickCount:Ir.tickCount,type:Ir.type,width:Ir.width,yAxisId:0};class Fs extends v.Component{render(){return v.createElement(qoe,this.props)}}lL(Fs,"displayName","YAxis");lL(Fs,"defaultProps",Koe);var Pb={exports:{}},Ob={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function Goe(){if(cT)return Ob;cT=1;var e=Fc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Ob.useSyncExternalStoreWithSelector=function(f,m,h,x,g){var b=s(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function S(T){if(!k){if(k=!0,_=T,T=x(T),g!==void 0&&w.hasValue){var E=w.value;if(g(E,T))return C=E}return C=T}if(E=C,n(_,T))return E;var L=x(T);return g!==void 0&&g(E,L)?(_=T,E):(_=T,C=L)}var k=!1,_,C,P=h===void 0?null:h;return[function(){return S(m())},P===null?void 0:function(){return S(P())}]},[m,h,x,g]);var j=a(f,b[0],b[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},Ob}var uT;function Yoe(){return uT||(uT=1,Pb.exports=Goe()),Pb.exports}Yoe();function Woe(e){e()}function Xoe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Woe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let a=e;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var dT={notify(){},get:()=>[]};function Zoe(e,t){let n,a=dT,s=0,l=!1;function c(j){h();const S=a.subscribe(j);let k=!1;return()=>{k||(k=!0,S(),x())}}function d(){a.notify()}function f(){w.onStateChange&&w.onStateChange()}function m(){return l}function h(){s++,n||(n=e.subscribe(f),a=Xoe())}function x(){s--,n&&s===0&&(n(),n=void 0,a.clear(),a=dT)}function g(){l||(l=!0,h())}function b(){l&&(l=!1,x())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>a};return w}var Qoe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Joe=Qoe(),ece=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tce=ece(),nce=()=>Joe||tce?v.useLayoutEffect:v.useEffect,rce=nce(),Mb=Symbol.for("react-redux-context"),Db=typeof globalThis<"u"?globalThis:{};function ace(){if(!v.createContext)return{};const e=Db[Mb]??(Db[Mb]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var sce=ace();function ice(e){const{children:t,context:n,serverState:a,store:s}=e,l=v.useMemo(()=>{const f=Zoe(s);return{store:s,subscription:f,getServerState:a?()=>a:void 0}},[s,a]),c=v.useMemo(()=>s.getState(),[s]);rce(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=n||sce;return v.createElement(d.Provider,{value:l},t)}var lce=ice,oce=(e,t)=>t,AN=ve([oce,vt,w8,Cn,cR,si,Yne,_n],Jne),TN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/a)}},oL=xa("mouseClick"),cL=Of();cL.startListening({actionCreator:oL,effect:(e,t)=>{var n=e.payload,a=AN(t.getState(),TN(n));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(nne({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var Tw=xa("mouseMove"),uL=Of();uL.startListening({actionCreator:Tw,effect:(e,t)=>{var n=e.payload,a=t.getState(),s=J2(a,a.tooltip.settings.shared),l=AN(a,TN(n));s==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(nR({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(tR()))}});function cce(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var fT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},dL=Gr({name:"rootProps",initialState:fT,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:fT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),uce=dL.reducer,{updateOptions:dce}=dL.actions,fL=Gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:fce}=fL.actions,mce=fL.reducer,mL=xa("keyDown"),hL=xa("focus"),EN=Of();EN.startListening({actionCreator:mL,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(eN(s,iu(n))),d=si(n);if(l==="Enter"){var f=ap(n,"axis","hover",String(s.index));t.dispatch(bw({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=Gte(n),h=m==="left-to-right"?1:-1,x=l==="ArrowRight"?1:-1,g=c+x*h;if(!(d==null||g>=d.length||g<0)){var b=ap(n,"axis","hover",String(g));t.dispatch(bw({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});EN.startListening({actionCreator:hL,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var l="0",c=ap(n,"axis","hover",String(l));t.dispatch(bw({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var oa=xa("externalEvent"),pL=Of();pL.startListening({actionCreator:oa,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),a={activeCoordinate:Ine(n),activeDataKey:mR(n),activeIndex:Qi(n),activeLabel:fR(n),activeTooltipIndex:Qi(n),isTooltipActive:zne(n)};e.payload.handler(a,e.payload.reactEvent)}}});var hce=ve([su],e=>e.tooltipItemPayloads),pce=ve([hce,Ff,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,a)=>{var s=e.find(d=>d.settings.dataKey===a);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,n);return c}}}),xL=xa("touchMove"),gL=Of();gL.startListening({actionCreator:xL,effect:(e,t)=>{var n=e.payload,a=t.getState(),s=J2(a,a.tooltip.settings.shared);if(s==="axis"){var l=AN(a,TN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(nR({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(eD),h=(c=f.getAttribute(tD))!==null&&c!==void 0?c:void 0,x=pce(t.getState(),m,h);t.dispatch(eR({activeDataKey:h,activeIndex:m,activeCoordinate:x}))}}});var xce=kM({brush:lle,cartesianAxis:Aoe,chartData:pre,errorBars:die,graphicalItems:bse,layout:oX,legend:KX,options:ure,polarAxis:Bae,polarOptions:mce,referenceElements:hle,rootProps:uce,tooltip:rne}),gce=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return MW({reducer:xce,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([cL.middleware,uL.middleware,EN.middleware,pL.middleware,gL.middleware]),devTools:{serialize:{replacer:cce},name:"recharts-".concat(n)}})};function vL(e){var{preloadedState:t,children:n,reduxStoreName:a}=e,s=kr(),l=v.useRef(null);if(s)return n;l.current==null&&(l.current=gce(t,a));var c=qj;return v.createElement(lce,{context:c,store:l.current},n)}function yL(e){var{layout:t,width:n,height:a,margin:s}=e,l=dn(),c=kr();return v.useEffect(()=>{c||(l(sX(t)),l(iX({width:n,height:a})),l(aX(s)))},[l,c,t,n,a,s]),null}function bL(e){var t=dn();return v.useEffect(()=>{t(dce(e))},[t,e]),null}var vce=["children"];function yce(e,t){if(e==null)return{};var n,a,s=bce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function bce(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},dp.apply(null,arguments)}var wce={width:"100%",height:"100%"},jce=v.forwardRef((e,t)=>{var n=aD(),a=sD(),s=cD();if(!Mc(n)||!Mc(a))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,v.createElement(XO,dp({},c,{title:d,desc:f,role:h,tabIndex:m,width:n,height:a,style:wce,ref:t}),l)}),Nce=e=>{var{children:t}=e,n=Ge(Fp);if(!n)return null;var{width:a,height:s,y:l,x:c}=n;return v.createElement(XO,{width:a,height:s,x:c,y:l},t)},mT=v.forwardRef((e,t)=>{var{children:n}=e,a=yce(e,vce),s=kr();return s?v.createElement(Nce,null,n):v.createElement(jce,dp({ref:t},a),n)});function Sce(){var e=dn(),[t,n]=v.useState(null),a=Ge($X);return v.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;Kr(l)&&l!==a&&e(lX(l))}},[t,e,a]),n}function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(a){kce(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kce(e,t,n){return(t=Cce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cce(e){var t=Ace(e,"string");return typeof t=="symbol"?t:t+""}function Ace(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tce=v.forwardRef((e,t)=>{var{children:n,className:a,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:x,onMouseUp:g,onTouchEnd:b,onTouchMove:w,onTouchStart:j,style:S,width:k}=e,_=dn(),[C,P]=v.useState(null),[T,E]=v.useState(null);vre();var L=Sce(),M=v.useCallback($=>{L($),typeof t=="function"&&t($),P($),E($)},[L,t,P,E]),B=v.useCallback($=>{_(oL($)),_(oa({handler:l,reactEvent:$}))},[_,l]),K=v.useCallback($=>{_(Tw($)),_(oa({handler:m,reactEvent:$}))},[_,m]),F=v.useCallback($=>{_(tR()),_(oa({handler:h,reactEvent:$}))},[_,h]),U=v.useCallback($=>{_(Tw($)),_(oa({handler:x,reactEvent:$}))},[_,x]),te=v.useCallback(()=>{_(hL())},[_]),we=v.useCallback($=>{_(mL($.key))},[_]),re=v.useCallback($=>{_(oa({handler:c,reactEvent:$}))},[_,c]),R=v.useCallback($=>{_(oa({handler:d,reactEvent:$}))},[_,d]),G=v.useCallback($=>{_(oa({handler:f,reactEvent:$}))},[_,f]),H=v.useCallback($=>{_(oa({handler:g,reactEvent:$}))},[_,g]),I=v.useCallback($=>{_(oa({handler:j,reactEvent:$}))},[_,j]),A=v.useCallback($=>{_(xL($)),_(oa({handler:w,reactEvent:$}))},[_,w]),D=v.useCallback($=>{_(oa({handler:b,reactEvent:$}))},[_,b]);return v.createElement(yR.Provider,{value:C},v.createElement(TG.Provider,{value:T},v.createElement("div",{className:ut("recharts-wrapper",a),style:_ce({position:"relative",cursor:"default",width:k,height:s},S),onClick:B,onContextMenu:re,onDoubleClick:R,onFocus:te,onKeyDown:we,onMouseDown:G,onMouseEnter:K,onMouseLeave:F,onMouseMove:U,onMouseUp:H,onTouchEnd:D,onTouchMove:A,onTouchStart:I,ref:M},n)))}),Ece=["children","className","width","height","style","compact","title","desc"];function Pce(e,t){if(e==null)return{};var n,a,s=Oce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Oce(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var wL=v.forwardRef((e,t)=>{var{children:n,className:a,width:s,height:l,style:c,compact:d,title:f,desc:m}=e,h=Pce(e,Ece),x=ei(h);return d?v.createElement(mT,{otherAttributes:x,title:f,desc:m},n):v.createElement(Tce,{className:a,style:c,width:s,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(mT,{otherAttributes:x,title:f,desc:m,ref:t},v.createElement(xle,null,n)))}),Mce=["width","height"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ew.apply(null,arguments)}function Dce(e,t){if(e==null)return{};var n,a,s=Rce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Rce(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Lce={top:5,right:5,bottom:5,left:5},$ce={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Lce,reverseStackOrder:!1,syncMethod:"index"},jL=v.forwardRef(function(t,n){var a,s=Yr(t.categoricalChartProps,$ce),{width:l,height:c}=s,d=Dce(s,Mce);if(!Mc(l)||!Mc(c))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,categoricalChartProps:g}=t,b={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return v.createElement(vL,{preloadedState:{options:b},reduxStoreName:(a=g.id)!==null&&a!==void 0?a:f},v.createElement(GR,{chartData:g.data}),v.createElement(yL,{width:l,height:c,layout:s.layout,margin:s.margin}),v.createElement(bL,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),v.createElement(wL,Ew({},d,{width:l,height:c,ref:n})))}),Ice=["axis"],PN=v.forwardRef((e,t)=>v.createElement(jL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ice,tooltipPayloadSearcher:oN,categoricalChartProps:e,ref:t})),zce=["axis","item"],m0=v.forwardRef((e,t)=>v.createElement(jL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zce,tooltipPayloadSearcher:oN,categoricalChartProps:e,ref:t}));function Bce(e){var t=dn();return v.useEffect(()=>{t(fce(e))},[t,e]),null}var Uce=["width","height","layout"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pw.apply(null,arguments)}function Fce(e,t){if(e==null)return{};var n,a,s=Vce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Vce(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Hce={top:5,right:5,bottom:5,left:5},qce={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Hce,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Kce=v.forwardRef(function(t,n){var a,s=Yr(t.categoricalChartProps,qce),{width:l,height:c,layout:d}=s,f=Fce(s,Uce);if(!Mc(l)||!Mc(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:g}=t,b={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:g,eventEmitter:void 0};return v.createElement(vL,{preloadedState:{options:b},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:m},v.createElement(GR,{chartData:s.data}),v.createElement(yL,{width:l,height:c,layout:d,margin:s.margin}),v.createElement(bL,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),v.createElement(Bce,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),v.createElement(wL,Pw({width:l,height:c},f,{ref:n})))}),Gce=["item"],Yce={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},fp=v.forwardRef((e,t)=>{var n=Yr(e,Yce);return v.createElement(Kce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Gce,tooltipPayloadSearcher:oN,categoricalChartProps:n,ref:t})});function Wce(){const[e,t]=v.useState({leads:0,files:0,assistants:0,phone_numbers:0,knowledge_base:0}),[n,a]=v.useState(!0),[s,l]=v.useState(""),c="https://aisdr-dbt.ddns.net",{width:d}=Xce(),f=(d||0)>=1024,m=!f;v.useEffect(()=>{let j=!0;return(async()=>{try{a(!0),l("");const S=localStorage.getItem("token"),k=`${c}/api/statistics`,_=await fetch(k,{method:"GET",headers:{Accept:"application/json",...S?{Authorization:`Bearer ${S}`}:{}},mode:"cors"});if(!_.ok){const P=await _.text();throw new Error(`HTTP ${_.status}${P?`  ${P}`:""}`)}const C=await _.json();if(!j)return;t({leads:Number((C==null?void 0:C.leads)??0),files:Number((C==null?void 0:C.files)??0),assistants:Number((C==null?void 0:C.assistants)??0),phone_numbers:Number((C==null?void 0:C.phone_numbers)??0),knowledge_base:Number((C==null?void 0:C.knowledge_base)??0)})}catch(S){if(!j)return;const k=S&&S.message||"Failed to load stats",_=k.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(k+_)}finally{j&&a(!1)}})(),()=>{j=!1}},[c]);const h={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4"},x=j=>{const k=Math.max(0,Number(j)||0),_=Array.from({length:12},(C,P)=>{const T=P/11,E=Math.sin(T*Math.PI)*.4,L=(Math.random()-.5)*.12,M=Math.max(0,Math.round(k*(.6+E+L)));return{label:`P${P+1}`,value:M}});return _.length&&(_[_.length-1].value=k),_},g=v.useMemo(()=>[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}],[e]),b=v.useMemo(()=>{const j=Math.max(1,e.leads+e.files+e.assistants+e.phone_numbers+e.knowledge_base);return[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}].map(S=>({...S,percent:S.value/j*100}))},[e]),w=v.useMemo(()=>[{key:"leads",label:"Leads",value:e.leads,icon:or,series:x(e.leads),color:h.blue},{key:"files",label:"Files",value:e.files,icon:HE,series:x(e.files),color:h.sky},{key:"assistants",label:"Assistants",value:e.assistants,icon:VE,series:x(e.assistants),color:h.cyan},{key:"phone_numbers",label:"Phone Numbers",value:e.phone_numbers,icon:pt,series:x(e.phone_numbers),color:h.sky},{key:"knowledge_base",label:"Knowledge Base",value:e.knowledge_base,icon:Rd,series:x(e.knowledge_base),color:h.blue}],[e]);return r.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[s&&r.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s}),r.jsx(Zce,{}),r.jsxs("header",{className:"w-full px-4 md:px-8 pt-10 pb-6",children:[r.jsx(he.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"User Dashboard"}),r.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Live stats  Animated charts  Arrow labels"})]}),r.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[r.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-5",children:w.map(j=>r.jsx(Jce,{...j,loading:n},j.key))}),r.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsx(Rb,{title:"Leads Trend (Synthetic)",children:r.jsx("div",{className:"h-72 w-full",children:r.jsx(ts,{children:r.jsxs(PN,{data:w[0].series,margin:{top:12,right:20,left:-10,bottom:0},children:[r.jsxs("defs",{children:[r.jsxs("filter",{id:"glowLineMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[r.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),r.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),r.jsx(Ki,{strokeDasharray:"3 3",strokeOpacity:.2}),r.jsx(Us,{dataKey:"label",tick:{fontSize:12}}),r.jsx(Fs,{tick:{fontSize:12}}),r.jsx(es,{contentStyle:{borderRadius:12}}),r.jsx(ox,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3.5,dot:!1,activeDot:{r:6},style:{filter:"url(#glowLineMain)"},isAnimationActive:!0,animationBegin:120,animationDuration:900,animationEasing:"ease"})]})})})}),r.jsx(Rb,{title:"Overview by Metric",children:r.jsx("div",{className:"h-72 w-full",children:r.jsx(ts,{children:r.jsxs(m0,{data:g,margin:{top:10,right:20,left:m?0:-10,bottom:0},children:[r.jsxs("defs",{children:[r.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),r.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})]}),r.jsx(Ki,{strokeDasharray:"3 3",strokeOpacity:.2}),r.jsx(Us,{dataKey:"name",tick:{fontSize:12},hide:m}),r.jsx(Fs,{tick:{fontSize:12}}),r.jsx(es,{contentStyle:{borderRadius:12}}),r.jsx(Kd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},isAnimationActive:!0,animationBegin:140,animationDuration:800,animationEasing:"ease-out"})]})})})}),r.jsx(Rb,{title:"Share by Metric",className:"lg:col-span-2",children:r.jsx("div",{className:"h-80 w-full",children:r.jsx(ts,{children:r.jsx(aue,{data:b,mode:f?"desktop":"compact"})})})})]}),r.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon (white/blue) dashboard."]})]})]})}function Xce(){const[e,t]=v.useState({width:null,height:null});return v.useEffect(()=>{function n(){t({width:window.innerWidth,height:window.innerHeight})}return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function Zce(){return r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),r.jsx(he.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function Rb({title:e,children:t,className:n=""}){return r.jsxs(he.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${n}`,children:[r.jsx(Qce,{}),r.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),t]})}function Qce(){return r.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[r.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),r.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function Jce({label:e,value:t,icon:n,series:a,color:s,loading:l}){const c=Tc(0),d=Tc(0),f=k0(d,[-50,50],[8,-8]),m=k0(c,[-50,50],[-8,8]),h=v.useRef(null);return r.jsxs(he.div,{ref:h,onMouseMove:x=>{var b;const g=(b=h.current)==null?void 0:b.getBoundingClientRect();g&&(c.set(x.clientX-g.left-g.width/2),d.set(x.clientY-g.top-g.height/2))},onMouseLeave:()=>{c.set(0),d.set(0)},style:{rotateX:f,rotateY:m},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${s}66, #ffffff00)`}}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:r.jsx(n,{className:"h-6 w-6",style:{color:s}})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("h3",{className:"text-2xl font-black text-slate-900",children:l?r.jsx(tue,{}):r.jsx(eue,{value:t})}),r.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:"Live"})]})]})]}),r.jsx("div",{className:"mt-3 h-20",children:l?r.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):r.jsx(ts,{children:r.jsxs(PN,{data:a,margin:{top:2,right:8,left:-10,bottom:0},children:[r.jsx("defs",{children:r.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),r.jsx(Ki,{strokeDasharray:"3 3",strokeOpacity:.12}),r.jsx(Us,{dataKey:"label",hide:!0}),r.jsx(Fs,{hide:!0,domain:[0,"dataMax+"]}),r.jsx(es,{contentStyle:{borderRadius:12}}),r.jsx(ox,{type:"monotone",dataKey:"value",stroke:s,strokeWidth:2.5,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"},isAnimationActive:!0,animationBegin:120,animationDuration:700})]})})})]})]})}function eue({value:e,duration:t=800}){const[n,a]=v.useState(0);return v.useEffect(()=>{let s;const l=n,c=Number(e)||0,d=performance.now(),f=h=>1-Math.pow(1-h,3);function m(h){const x=Math.min(1,(h-d)/t);a(Math.round(l+(c-l)*f(x))),x<1&&(s=requestAnimationFrame(m))}return s=requestAnimationFrame(m),()=>cancelAnimationFrame(s)},[e]),r.jsx("span",{children:(n||0).toLocaleString()})}function tue(){return r.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function nue(e){const{cx:t,cy:n,midAngle:a,outerRadius:s,name:l,value:c,percent:d,laneSlot:f,sideRight:m,laneGap:h=24,fixedTy:x}=e,g=Math.PI/180,b=-a*g,w=s+6,j=t+Math.cos(b)*w,S=n+Math.sin(b)*w,k=s+22,_=t+Math.cos(b)*k,C=n+Math.sin(b)*k,P=!!m;let T=P?_+36:_-36,E=typeof x=="number"?x:n+f*h;const L=34,M=t+s+L,B=t-s-L;P?T=Math.max(T,M+12):T=Math.min(T,B-12);const F=(typeof f=="number"?f:0)*18,U=P?_+16:_-16,te=C+F*.25,we=P?T-22:T+22,re=E+F*.75,R=typeof d=="number"?Math.round(d*100):0,G=`${l}`,H=`${c}  ${R}%`,I=Math.max(136,G.length*8+H.length*4.2),A=P?0:-I,D=P?"start":"end";return r.jsxs(he.g,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.42},whileHover:{scale:1.02,transition:{duration:.15}},pointerEvents:"none",children:[r.jsx("path",{d:`M ${j},${S} C ${U},${te} ${we},${re} ${T},${E}`,stroke:"url(#neonStroke)",strokeWidth:"6",strokeOpacity:"0.22",fill:"none",filter:"url(#neonGlow)"}),r.jsxs("path",{d:`M ${j},${S} C ${U},${te} ${we},${re} ${T},${E}`,stroke:"url(#neonStroke)",strokeWidth:"2.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",markerEnd:"url(#arrowheadGrad)",children:[r.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;40,200;0,200",dur:"3s",repeatCount:"indefinite"}),r.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-60;0",dur:"3s",repeatCount:"indefinite"})]}),r.jsxs("g",{transform:`translate(${T}, ${E})`,children:[r.jsx("rect",{x:A-6,y:-22,rx:"14",ry:"14",width:I+12,height:40,fill:"url(#pillGlow)",opacity:"0.55",filter:"url(#pillBlur)"}),r.jsx("rect",{x:A,y:-18,rx:"12",ry:"12",width:I,height:32,fill:"url(#pillGrad)",stroke:"url(#pillStroke)",strokeWidth:"1"}),r.jsx("text",{x:A+(P?14:I-14),y:-2,textAnchor:D,fill:"url(#labelTextGrad)",style:{fontSize:12.5,fontWeight:800,letterSpacing:.2},children:G}),r.jsx("text",{x:A+(P?14:I-14),y:12,textAnchor:D,className:"fill-slate-700",style:{fontSize:11.2,fontWeight:600,opacity:.85},children:H})]})]})}function rue(e){const t=Math.PI/180,{cx:n,cy:a,midAngle:s,innerRadius:l,outerRadius:c,name:d,value:f,percent:m}=e,h=l+(c-l)*.58,x=n+Math.cos(-s*t)*h,g=a+Math.sin(-s*t)*h,b=Math.round((m||0)*100);return b<7?null:r.jsxs("g",{children:[r.jsx("text",{x,y:g-6,textAnchor:"middle",className:"fill-slate-800",style:{fontSize:11.5,fontWeight:800},children:d}),r.jsxs("text",{x,y:g+10,textAnchor:"middle",className:"fill-slate-600",style:{fontSize:10.5,fontWeight:700},children:[f,"  ",b,"%"]})]})}function aue({data:e,mode:t="desktop",width:n,height:a}){const d=Math.PI/180,f=e.reduce((F,U)=>F+(Number(U.value)||0),0),m=(n||0)*.5,h=(a||0)*.5,x=t==="desktop";if(f===0)return r.jsxs(fp,{width:n,height:a,children:[r.jsx(vf,{data:[{name:"No data",value:1}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:110,innerRadius:70,fill:"#e5e7eb",stroke:"#cbd5e1",isAnimationActive:!0}),r.jsx("text",{x:m,y:h,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-500",style:{fontSize:12},children:"No data"})]});const g=-90,w=270-g;let j=g;const k=e.map((F,U)=>({index:U,value:Number(F.value)||0})).filter(F=>F.value>0).map(F=>{const U=f?F.value/f*w:0,te=j+U/2;j+=U;const we=-te*d,re=Math.cos(we)>=0,R=h+Math.sin(we)*110;return{index:F.index,ang:we,right:re,ty0:R,mid:te}}),_=k.filter(F=>!F.right).sort((F,U)=>F.ty0-U.ty0),C=k.filter(F=>F.right).sort((F,U)=>F.ty0-U.ty0),P=28,T=40,E=h-(110+T),L=h+(110+T),M=F=>{if(!F.length)return[];const U=F.length,te=L-E,we=Math.min(Math.max(P,U>1?te/(U-1):P),36),re=new Array(U);re[0]=Math.max(F[0].ty0,E);for(let G=1;G<U;G++)re[G]=Math.max(F[G].ty0,re[G-1]+we);const R=re[U-1]-L;if(R>0){for(let G=0;G<U;G++)re[G]-=R;if(re[0]<E){const G=E-re[0];for(let H=0;H<U;H++)re[H]+=G}}return re},B=M(_),K=M(C);return r.jsxs(fp,{width:n,height:a,children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),r.jsx("stop",{offset:"50%",stopColor:"#60a5fa"}),r.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),r.jsxs("marker",{id:"arrowheadGrad",markerWidth:"12",markerHeight:"8",refX:"10",refY:"4",orient:"auto",children:[r.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"url(#neonStroke)"}),r.jsxs("filter",{id:"arrowGlow",children:[r.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.8",result:"b"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"b"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsxs("filter",{id:"neonGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),r.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.2  0 0 0 0 0.6  0 0 0 0 1  0 0 0 1 0"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("linearGradient",{id:"pillGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),r.jsx("stop",{offset:"100%",stopColor:"#eff6ff"})]}),r.jsxs("linearGradient",{id:"pillStroke",x1:"0",y1:"0",x2:"1",y2:"0",children:[r.jsx("stop",{offset:"0%",stopColor:"#a5f3fc"}),r.jsx("stop",{offset:"100%",stopColor:"#93c5fd"})]}),r.jsxs("radialGradient",{id:"pillGlow",cx:"50%",cy:"50%",r:"60%",children:[r.jsx("stop",{offset:"0%",stopColor:"#67e8f9",stopOpacity:"0.6"}),r.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),r.jsx("filter",{id:"pillBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:r.jsx("feGaussianBlur",{stdDeviation:"8"})}),r.jsxs("linearGradient",{id:"labelTextGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[r.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),r.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),r.jsxs("linearGradient",{id:"pieGradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),r.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),r.jsx(es,{contentStyle:{borderRadius:12}}),r.jsx(vf,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",startAngle:-90,endAngle:270,outerRadius:110,innerRadius:70,paddingAngle:2,isAnimationActive:!0,animationBegin:140,animationDuration:900,animationEasing:"ease-out",label:x?F=>{if(!(F&&F.value>0))return null;const U=Math.PI/180,te=Math.cos(-F.midAngle*U)>=0,re=(te?C:_).findIndex(I=>I.index===F.index);if(re===-1)return null;const R=te?K:B,G=R[re];if(typeof G!="number")return null;const H=re-(R.length-1)/2;return r.jsx(nue,{...F,laneSlot:H,sideRight:te,fixedTy:G,laneGap:30})}:F=>r.jsx(rue,{...F}),labelLine:!1,children:e.map((F,U)=>r.jsx($s,{fill:U===0?"url(#pieGradBlue)":["#bfe9ff","#8ed8ff","#60cfff","#a3d8ff"][U-1]||"#bfe9ff",stroke:"#ffffff",strokeOpacity:.9},`cell-${U}`))})]})}const sue={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://aisdr-dbt.ddns.net"};var pT={};const xT=typeof import.meta<"u"&&sue&&"https://aisdr-dbt.ddns.net"||typeof process<"u"&&pT&&pT.NEXT_PUBLIC_API_URL||"http://localhost:8000";function Yo(...e){return e.filter(Boolean).join(" ")}function gT({iso:e}){if(!e||typeof e!="string"||e.length!==2)return null;const t=[...e.toUpperCase()].map(n=>127397+n.charCodeAt(0));return r.jsx("span",{className:"mr-1","aria-hidden":!0,children:String.fromCodePoint(...t)})}function iue({open:e,onClose:t,onConfirm:n,numbers:a=[]}){if(!e)return null;const s=a.slice(0,5),l=Math.max(0,a.length-s.length);return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:"Confirm Purchase"}),r.jsxs("p",{className:"mb-4 text-gray-700",children:["You are about to purchase"," ",r.jsx("span",{className:"font-semibold",children:a.length})," ","number",a.length>1?"s":"","."]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 max-h-48 overflow-auto border border-gray-100 mb-5",children:[s.map(c=>r.jsx("div",{className:"font-mono text-sm text-gray-800 py-0.5",children:c},c)),l>0&&r.jsxs("div",{className:"text-xs text-gray-500",children:["and ",l," more"]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition",children:"Cancel"}),r.jsx("button",{onClick:()=>n(a),className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Yes, Buy"})]})]})})}function lue(){const[e,t]=v.useState("US"),[n,a]=v.useState([]),[s,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(20),[g,b]=v.useState(1),[w,j]=v.useState(!1),[S,k]=v.useState([]),_=10,C=[{code:"US",name:"United States",flag:""},{code:"CA",name:"Canada",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],P=()=>{try{return localStorage.getItem("token")}catch{return null}},T=H=>H.split(/[,\s]+/).map(I=>I.trim()).filter(Boolean),[E,L]=v.useState(()=>new Set),M=H=>E.has(H),B=H=>{L(I=>{const A=new Set(I);return A.has(H)?A.delete(H):A.add(H),A})},K=()=>L(new Set),F=v.useMemo(()=>{const H=g*_,I=H-_;return n.slice(I,H)},[n,g]),U=Math.ceil(n.length/_)||1,te=async()=>{const H=T(f);l(!0);try{const I=P(),A=await fetch(`${xT}/api/available_phone_numbers`,{method:"POST",headers:{"Content-Type":"application/json",...I?{Authorization:`Bearer ${I}`}:{}},body:JSON.stringify({country:e,area_codes:H.length?H:null,limit:h})}),D=await A.json();if(!A.ok){const W=D&&D.detail&&(D.detail.error||D.detail)||(D==null?void 0:D.message)||"Failed to fetch phone numbers.";a([]),V.error(W);return}const $=Array.isArray(D)?D:[];a($),b(1),K(),$.length===0&&V.info("No numbers found for your query.")}catch(I){console.error(I),a([]),V.error("Network error while fetching numbers.")}finally{l(!1)}},we=async H=>{if(H!=null&&H.length){d(!0);try{const I=P(),A=await fetch(`${xT}/api/purchase_phone_number`,{method:"POST",headers:{"Content-Type":"application/json",...I?{Authorization:`Bearer ${I}`}:{}},body:JSON.stringify({phone_number:H})}),D=await A.json();if(!A.ok||!(D!=null&&D.success)){const $=D&&D.detail&&(D.detail.error||D.detail)||(D==null?void 0:D.message)||"Failed to purchase numbers.";V.error($);return}a($=>$.filter(W=>!H.includes(W.phone_number))),K(),V.success(` Purchased ${H.length} number${H.length>1?"s":""}.`)}catch(I){console.error(I),V.error("Network error while purchasing.")}finally{d(!1),j(!1),k([])}}},re=H=>{if(!H)return"";if(e==="US"||e==="CA"){const A=H.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);if(A)return`+1 (${A[1]}) ${A[2]}-${A[3]}`}return H},R=async H=>{try{await navigator.clipboard.writeText(H),V.success("Copied!")}catch{V.error("Copy failed.")}},G=(()=>{const H=n.length===0?0:(g-1)*_+1,I=Math.min(g*_,n.length);return{start:H,end:I}})();return r.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_55%),linear-gradient(to_bottom,white,white)]",children:[r.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-blue-600 via-purple-600 to-fuchsia-500"}),r.jsx(iue,{open:w,onClose:()=>j(!1),onConfirm:H=>we(H),numbers:S}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[r.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:r.jsx(pt,{className:"w-8 h-8"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:"Premium Phone Numbers"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Search, select, and purchase numbers worldwide in seconds."})]})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3 lg:ml-auto w-full lg:w-auto",children:[{label:"Available",value:n.length?`${n.length}+`:""},{label:"Uptime",value:"99.9%"},{label:"Support",value:"24/7"}].map((H,I)=>r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50/60 px-4 py-3 text-center hover:shadow transition",children:[r.jsx("div",{className:"text-xl font-bold text-gray-900",children:H.value}),r.jsx("div",{className:"text-xs text-gray-500",children:H.label})]},I))})]})}),r.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:r.jsx(_r,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Number"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ld,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Country"]}),r.jsx("select",{value:e,onChange:H=>t(H.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:C.map(H=>r.jsxs("option",{value:H.code,children:[H.flag," ",H.name]},H.code))})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(_r,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Area Codes (comma-separated, optional)"]}),r.jsx("input",{type:"text",value:f,onChange:H=>m(H.target.value),placeholder:"e.g., 212, 415",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Kc,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Results Limit"]}),r.jsxs("select",{value:h,onChange:H=>x(Number.parseInt(H.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:10,children:"10"}),r.jsx("option",{value:20,children:"20"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"})]})]}),r.jsx("div",{className:"lg:col-span-1 flex items-end",children:r.jsx("button",{onClick:te,disabled:s,className:Yo("w-full px-6 py-3 rounded-xl font-semibold text-white transition shadow-sm",s?"bg-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"),children:s?r.jsxs("span",{className:"inline-flex items-center justify-center",children:[r.jsx(qn,{className:"w-5 h-5 animate-spin mr-2"}),"Searching"]}):r.jsxs("span",{className:"inline-flex items-center justify-center",children:[r.jsx(_r,{className:"w-5 h-5 mr-2"}),"Search"]})})})]}),r.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tip: leave area codes empty to search nationwide."}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{const H=F.map(A=>A.phone_number),I=H.every(A=>E.has(A));L(A=>{const D=new Set(A);return I?H.forEach($=>D.delete($)):H.forEach($=>D.add($)),D})},className:"px-3 py-2 rounded-lg border text-sm hover:bg-gray-50 transition",children:F.every(H=>E.has(H.phone_number))?"Unselect Page":"Select Page"}),r.jsx("button",{onClick:()=>{if(E.size===0){V.info("Select numbers first.");return}const H=Array.from(E);k(H),j(!0)},disabled:E.size===0||c,className:Yo("px-4 py-2 rounded-lg font-semibold transition shadow-sm",E.size===0||c?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(sh,{className:"w-4 h-4"}),"Buy Selected (",E.size,")"]})})]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[r.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(pt,{className:"w-4 h-4 text-white"})}),r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:s?"Searching":`Available Numbers (${n.length})`})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",G.start,"  ",G.end," of"," ",n.length]})]})}),s?r.jsx("div",{className:"p-6 sm:p-8",children:r.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((H,I)=>r.jsx("div",{className:"h-16 rounded-xl bg-gray-100 animate-pulse"},I))})}):n.length===0?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsxs("div",{className:"text-center max-w-sm",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(pt,{className:"w-10 h-10 text-gray-400"})}),r.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No numbers available"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Try different area codes or another country."}),r.jsx("button",{onClick:te,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden lg:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Select"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Phone Number"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Region"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Capabilities"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:F.map((H,I)=>{var D,$,W;const A=M(H.phone_number);return r.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>B(H.phone_number),className:"text-gray-700 hover:scale-105 transition","aria-label":A?"Unselect":"Select",children:A?r.jsx(L5,{className:"w-5 h-5 text-blue-600"}):r.jsx(kc,{className:"w-5 h-5"})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:r.jsx(pt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-900",children:re(H.phone_number)}),r.jsx("button",{onClick:()=>R(H.phone_number),className:"p-1 rounded hover:bg-gray-100 transition",title:"Copy",children:r.jsx(Ea,{className:"w-4 h-4 text-gray-500"})})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[r.jsx(qs,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx(gT,{iso:H.iso_country}),H.region||"N/A"]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[((D=H.capabilities)==null?void 0:D.SMS)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),(($=H.capabilities)==null?void 0:$.MMS)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((W=H.capabilities)==null?void 0:W.voice)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{onClick:()=>{k([H.phone_number]),j(!0)},disabled:c,className:Yo("px-5 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(qn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(sh,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})})]},I)})})]})}),r.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:F.map((H,I)=>{var D,$,W;const A=M(H.phone_number);return r.jsxs("div",{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("button",{onClick:()=>B(H.phone_number),className:"text-gray-700 mr-3","aria-label":A?"Unselect":"Select",children:A?r.jsx(L5,{className:"w-5 h-5 text-blue-600"}):r.jsx(kc,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:r.jsx(pt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold text-gray-900",children:re(H.phone_number)}),r.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-700",children:[r.jsx(qs,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx(gT,{iso:H.iso_country}),H.region||"N/A"]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[((D=H.capabilities)==null?void 0:D.SMS)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),(($=H.capabilities)==null?void 0:$.MMS)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((W=H.capabilities)==null?void 0:W.voice)&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})]})]}),r.jsx("button",{onClick:()=>R(H.phone_number),className:"p-1 rounded hover:bg-gray-100 ml-3",title:"Copy",children:r.jsx(Ea,{className:"w-4 h-4 text-gray-500"})})]}),r.jsx("button",{onClick:()=>{k([H.phone_number]),j(!0)},disabled:c,className:Yo("mt-4 w-full px-4 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(qn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(sh,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},I)})})]}),n.length>_&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"text-sm text-gray-700 mb-3 sm:mb-0",children:["Showing ",G.start," to ",G.end," of ",n.length," results"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>b(H=>Math.max(1,H-1)),disabled:g===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,U)},(H,I)=>{let A;return U<=5||g<=3?A=I+1:g>=U-2?A=U-4+I:A=g-2+I,r.jsx("button",{onClick:()=>b(A),className:Yo("px-3 py-2 text-sm font-medium rounded-lg transition",g===A?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:A},A)})}),r.jsx("button",{onClick:()=>b(H=>Math.min(U,H+1)),disabled:g>=U,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]}),E.size>0&&r.jsx("div",{className:"fixed bottom-4 inset-x-0 px-4 sm:px-6 lg:px-8 z-40",children:r.jsxs("div",{className:"max-w-7xl mx-auto rounded-2xl bg-white/90 backdrop-blur border border-gray-200 shadow-lg p-3 sm:p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm sm:text-base",children:[r.jsx("span",{className:"font-semibold",children:E.size})," selected"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:K,className:"px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 transition text-sm",children:"Clear"}),r.jsx("button",{onClick:()=>{const H=Array.from(E);k(H),j(!0)},disabled:c,className:Yo("px-4 py-2 rounded-lg font-semibold text-white transition text-sm",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(sh,{className:"w-4 h-4"}),"Buy Selected"]})})]})]})})]})}function oue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const cue=v.forwardRef(oue);function uue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ow=v.forwardRef(uue);function due({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const NL=v.forwardRef(due);function fue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const mp=v.forwardRef(fue);function mue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Md=v.forwardRef(mue);function hue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Dd=v.forwardRef(hue);function pue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const vT=v.forwardRef(pue);function xue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const SL=v.forwardRef(xue);function gue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const vue=v.forwardRef(gue);function yue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Mw=v.forwardRef(yue);function bue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Dw=v.forwardRef(bue);function wue({title:e,titleId:t,...n},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const bc=v.forwardRef(wue),jue="https://aisdr-dbt.ddns.net",Nue=[`${jue}/api`];function Sue(){var _e,Ne,xe,ze,Be;const e=Gt(),[t,n]=v.useState({name:"",email:""}),[a,s]=v.useState(!1),[l,c]=v.useState(null),[d,f]=v.useState(!1),[m,h]=v.useState(!1),x=v.useRef(null),[g,b]=v.useState(!1),[w,j]=v.useState({old:!1,next:!1}),[S,k]=v.useState({old_password:"",new_password:""}),[_,C]=v.useState(!1),[P,T]=v.useState({sid:"",token:"",validate:!0}),[E,L]=v.useState(null),[M,B]=v.useState(!1),[K,F]=v.useState({sid:!1,token:!1}),[U,te]=v.useState(!1),[we,re]=v.useState(!1),[R,G]=v.useState(!1),H=()=>localStorage.getItem("token")||"",I=()=>H()?{Authorization:`Bearer ${H()}`}:{},A=()=>H()?!0:(V.error("Authentication required. Please login again."),e("/login"),!1),D=async(Se,q={},{expectJson:ie=!0}={})=>{const Y=[];for(const Te of Nue)try{const Re=await fetch(`${Te}${Se}`,q);if(Re.status===401||Re.status===403){const Je=await Re.text().catch(()=>"");throw new Error(Je||"Unauthorized")}if(Re.ok)return ie?await Re.json():Re;if(Re.status===404){Y.push({base:Te,status:404});continue}const Pe=await Re.json().catch(()=>({}));throw new Error((Pe==null?void 0:Pe.detail)||`Request failed (${Re.status})`)}catch(Re){if(Y.push({base:Te,err:Re==null?void 0:Re.message}),(Re==null?void 0:Re.message)==="Unauthorized")throw Re}const ge=Y!=null&&Y.length?`Request failed on all bases: ${Y.map(Te=>`${Te.base}${Te.status||Te.err}`).join(" | ")}`:"Network error";throw new Error(ge)};v.useEffect(()=>{(async()=>{var Se,q,ie;if(A())try{const Y=await D("/user-info",{headers:{...I(),Accept:"application/json"}});n({name:((Se=Y==null?void 0:Y.data)==null?void 0:Se.name)||"",email:((q=Y==null?void 0:Y.data)==null?void 0:q.email)||""});const ge=(ie=Y==null?void 0:Y.data)==null?void 0:ie.profile_photo_url;if(ge)c(ge+(ge.includes("?")?"&":"?")+"t="+Date.now());else try{const Te=await D("/profile-photo?redirect=false",{headers:{...I(),Accept:"application/json"}}),Re=Te==null?void 0:Te.photo_url;Re&&c(Re+(Re.includes("?")?"&":"?")+"t="+Date.now())}catch{}}catch{V.error("Unable to load profile")}finally{s(!0)}})()},[]),v.useEffect(()=>{(async()=>{if(A())try{const Se=await D("/twilio/credentials",{headers:{...I(),Accept:"application/json"}});L(Se)}catch{}})()},[]);const $=async Se=>{var q;if((q=Se==null?void 0:Se.preventDefault)==null||q.call(Se),!!A()){if(!t.name.trim())return V.error("Name is required");if(!t.email.trim())return V.error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return V.error("Please enter a valid email");G(!0);try{await D("/update-profile",{method:"POST",headers:{"Content-Type":"application/json",...I(),Accept:"application/json"},body:JSON.stringify({name:t.name,email:t.email})}),localStorage.setItem("name",t.name),V.success("Profile updated")}catch(ie){V.error(ie.message||"Update failed")}finally{G(!1)}}},W=async Se=>{var q;if((q=Se==null?void 0:Se.preventDefault)==null||q.call(Se),!!A()){if(!S.old_password||!S.new_password)return V.error("Please fill both password fields");if(S.new_password.length<8)return V.error("New password must be at least 8 characters");C(!0);try{await D("/change-password",{method:"POST",headers:{"Content-Type":"application/json",...I(),Accept:"application/json"},body:JSON.stringify(S)}),V.success("Password changed successfully"),k({old_password:"",new_password:""})}catch(ie){V.error(ie.message||"Password change failed")}finally{C(!1)}}},ce=async Se=>{var Y;if((Y=Se==null?void 0:Se.preventDefault)==null||Y.call(Se),!A())return;const q=P.sid.trim(),ie=P.token.trim();if(!q||!ie)return V.error("Please enter both Account SID and Auth Token");if(!q.startsWith("AC")||q.length<20)return V.error("Account SID should start with AC");if(ie.length<10)return V.error("Auth Token looks too short");B(!0);try{const ge=await D("/twilio/credentials",{method:"PUT",headers:{"Content-Type":"application/json",...I(),Accept:"application/json"},body:JSON.stringify({account_sid:q,auth_token:ie,validate:!!P.validate})});L((ge==null?void 0:ge.masked)||null),T({sid:"",token:"",validate:!0}),V.success("Twilio credentials saved")}catch(ge){V.error(ge.message||"Failed to save Twilio credentials")}finally{B(!1)}},Q=async Se=>{if(!Se||!A())return;if(!["image/png","image/jpeg","image/webp"].includes(Se.type))return V.error("Please upload PNG, JPG or WebP");if(Se.size>5*1024*1024)return V.error("Max file size is 5MB");f(!0);try{const ie=new FormData;ie.append("file",Se);const Y=await D("/profile-photo",{method:"POST",headers:{...I()},body:ie}),ge=Y==null?void 0:Y.photo_url;if(!ge)throw new Error("Upload returned no URL");c(ge+(ge.includes("?")?"&":"?")+"t="+Date.now()),V.success("Profile photo updated")}catch(ie){V.error(ie.message||"Upload failed")}finally{f(!1)}},Z=async()=>{if(A()){h(!0);try{await D("/profile-photo",{method:"DELETE",headers:{...I(),Accept:"application/json"}}),c(null),V.success("Profile photo removed")}catch(Se){V.error(Se.message||"Delete failed")}finally{h(!1)}}},je=Se=>{Se.preventDefault(),b(!1);const q=Se.dataTransfer.files&&Se.dataTransfer.files[0]||void 0;Q(q)},se=Se=>{Se.preventDefault(),b(!0)},be=Se=>{Se.preventDefault(),b(!1)};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[r.jsx("div",{className:"border-b border-slate-200 bg-white/70 backdrop-blur",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:r.jsxs(he.div,{className:"flex items-center gap-3 py-6",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3},children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-600 grid place-items-center shadow-md",children:r.jsx(bc,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Account Settings"}),r.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your profile, security and preferences"})]})]})})}),r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[r.jsx(he.section,{className:"lg:col-span-4 lg:order-10 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(vue,{className:"w-5 h-5 text-blue-600"}),"Profile Photo"]}),r.jsxs("div",{className:"mt-5 flex items-center gap-4",children:[r.jsxs("div",{className:"relative shrink-0",children:[r.jsx("div",{className:"rounded-full p-[6px] bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 shadow-[0_8px_24px_rgba(59,130,246,0.25)]",children:r.jsx("div",{className:"rounded-full bg-white p-1",children:r.jsx("div",{className:"rounded-full overflow-hidden w-24 h-24",children:r.jsx(Et,{mode:"wait",children:l?r.jsx(he.img,{src:l,alt:"Profile",className:"w-full h-full object-cover",onError:()=>c(null),initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2}},l):r.jsx(he.div,{className:"w-full h-full bg-gradient-to-br from-blue-600 to-cyan-500 grid place-items-center text-white text-2xl font-bold",initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:((Be=(ze=(xe=(Ne=(_e=t.name)==null?void 0:_e.split(" "))==null?void 0:Ne.map(Se=>Se[0]))==null?void 0:xe.join(""))==null?void 0:ze.toUpperCase())==null?void 0:Be.slice(0,2))||"U"},"initials")})})})}),r.jsx("span",{className:"absolute -right-1 -bottom-1 h-4 w-4 rounded-full bg-emerald-400 ring-2 ring-white"})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-slate-900 font-semibold leading-tight truncate",children:t.name||"User"}),r.jsx("p",{className:"text-slate-600 text-sm break-all",children:t.email||"-"})]})]}),r.jsxs("div",{className:`mt-5 rounded-xl border-2 ${g?"border-blue-400 bg-blue-50/60":"border-dashed border-slate-300"} p-4 transition-colors`,onDrop:je,onDragOver:se,onDragLeave:be,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600/90 grid place-items-center text-white shrink-0",children:r.jsx(cue,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("p",{className:"font-semibold text-slate-900",children:["Drag & drop a photo here, or"," ",r.jsx("button",{type:"button",onClick:()=>{var Se;return(Se=x.current)==null?void 0:Se.click()},className:"text-blue-600 underline underline-offset-2 hover:opacity-80",children:"choose file"})]}),r.jsx("p",{className:"text-slate-600",children:"PNG, JPG, or WebP up to 5MB. Square images look best."})]})]}),r.jsx("input",{ref:x,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:Se=>{var q;return Q((q=Se.target.files)==null?void 0:q[0])}})]}),r.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{var Se;return(Se=x.current)==null?void 0:Se.click()},disabled:d,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50",children:d?"Uploading...":"Upload New"}),r.jsx("button",{type:"button",onClick:Z,disabled:m||!l,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:m?"Removing...":"Remove"})]})]})}),r.jsx(he.section,{className:"lg:col-span-8 lg:order-20 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.05},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-9 w-9 rounded-lg bg-blue-600 grid place-items-center",children:r.jsx(bc,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Profile Information"})]}),r.jsxs("form",{onSubmit:$,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[r.jsx(bc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),r.jsx("input",{type:"text",value:t.name,onChange:Se=>n({...t,name:Se.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:!a||R,required:!0})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[r.jsx(NL,{className:"w-4 h-4 inline mr-2 text-emerald-500"}),"Email Address"]}),r.jsx("input",{type:"email",value:t.email,onChange:Se=>n({...t,email:Se.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",disabled:!a||R,required:!0})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",disabled:!a||R,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:R?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ow,{className:"w-4 h-4"}),"Save Changes"]})})})]})]})}),r.jsx(he.section,{className:"lg:col-span-8 lg:order-30 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.08},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-600 grid place-items-center",children:r.jsx(vT,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Twilio Credentials"})]}),E?r.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-200",children:"Connected"}):r.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-slate-100 text-slate-700 border border-slate-200",children:"Not Connected"})]}),E&&r.jsxs("div",{className:"mb-4 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-900 break-words",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Account SID:"})," ",E.account_sid]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Auth Token:"})," ",E.auth_token]})]}),r.jsxs("form",{onSubmit:ce,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Account SID"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:K.sid?"text":"password",value:P.sid,onChange:Se=>T(q=>({...q,sid:Se.target.value})),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),r.jsx("button",{type:"button",onClick:()=>F(Se=>({...Se,sid:!Se.sid})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":K.sid?"Hide SID":"Show SID",children:K.sid?r.jsx(Md,{className:"w-5 h-5"}):r.jsx(Dd,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Auth Token"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:K.token?"text":"password",value:P.token,onChange:Se=>T(q=>({...q,token:Se.target.value})),placeholder:"",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),r.jsx("button",{type:"button",onClick:()=>F(Se=>({...Se,token:!Se.token})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":K.token?"Hide Token":"Show Token",children:K.token?r.jsx(Md,{className:"w-5 h-5"}):r.jsx(Dd,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"We store your credentials on your user record and only use them to manage Twilio on your behalf."})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-cyan-600",checked:P.validate,onChange:Se=>T(q=>({...q,validate:Se.target.checked}))}),r.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",disabled:M,className:"w-full sm:w-auto inline-flex items-center gap-2 bg-cyan-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:opacity-50",children:M?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving"]}):r.jsxs(r.Fragment,{children:[r.jsx(vT,{className:"w-4 h-4"}),"Save Twilio Credentials"]})})})]})]})}),r.jsx(he.section,{className:"lg:col-span-4 lg:order-40 rounded-2xl border border-red-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.1},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-600 grid place-items-center",children:r.jsx(mp,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Danger Zone"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[r.jsx("p",{className:"text-red-900 font-semibold mb-1",children:"Delete Account"}),r.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),r.jsxs("button",{onClick:()=>te(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:[r.jsx(Dw,{className:"w-4 h-4"}),"Delete Account"]})]})]})}),r.jsx(he.section,{className:"lg:col-span-12 lg:order-50 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.12},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-9 w-9 rounded-lg bg-purple-600 grid place-items-center",children:r.jsx(SL,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Change Password"})]}),r.jsxs("form",{onSubmit:W,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:w.old?"text":"password",value:S.old_password,onChange:Se=>k({...S,old_password:Se.target.value}),placeholder:"Enter current password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:1}),r.jsx("button",{type:"button",onClick:()=>j(Se=>({...Se,old:!Se.old})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.old?r.jsx(Md,{className:"w-5 h-5"}):r.jsx(Dd,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:w.next?"text":"password",value:S.new_password,onChange:Se=>k({...S,new_password:Se.target.value}),placeholder:"Enter new password (min 8 chars)",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:8}),r.jsx("button",{type:"button",onClick:()=>j(Se=>({...Se,next:!Se.next})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.next?r.jsx(Md,{className:"w-5 h-5"}):r.jsx(Dd,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"submit",disabled:_,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:_?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Mw,{className:"w-4 h-4"}),"Update Password"]})})})]})]})})]})}),r.jsx(Et,{children:U&&r.jsx(he.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsxs(he.div,{className:"w-full max-w-md rounded-2xl bg-white shadow-xl border border-slate-200 p-6",initial:{y:20,opacity:.9},animate:{y:0,opacity:1},exit:{y:12,opacity:0},transition:{type:"spring",stiffness:260,damping:22},children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-600 grid place-items-center",children:r.jsx(mp,{className:"w-5 h-5 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Delete"})]}),r.jsx("p",{className:"text-slate-600",children:"Are you sure you want to delete your account? This action cannot be undone."}),r.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[r.jsx("button",{onClick:()=>te(!1),disabled:we,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-800 text-white font-medium",children:"Cancel"}),r.jsx("button",{onClick:async()=>{if(A()){re(!0);try{await D("/delete-account",{method:"DELETE",headers:{...I(),Accept:"application/json"}}),V.success("Account deleted"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(Se){V.error(Se.message||"Delete failed")}finally{re(!1),te(!1)}}},disabled:we,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:we?"Deleting...":"Delete Forever"})]})]})})})]})}const yT="https://aisdr-dbt.ddns.net";function _ue(){var M,B;const[e,t]=v.useState([]),[n,a]=v.useState(!1),[s,l]=v.useState(1),[c,d]=v.useState({open:!1,number:null}),[f,m]=v.useState(!1),h=10,x=Gt(),g=K=>Array.isArray(K)?K:K&&Array.isArray(K.purchased_numbers)?K.purchased_numbers:[],b=K=>{if(!K)return"N/A";const U=String(K).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return U?`+1 (${U[1]}) ${U[2]}-${U[3]}`:K},w=K=>{if(!K)return"N/A";const F=new Date(K);return isNaN(F.getTime())?"N/A":F.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},j=async()=>{a(!0);try{const K=localStorage.getItem("token");if(!K){console.error("No token found in localStorage"),t([]);return}const F=await fetch(`${yT}/api/purchased_numbers`,{headers:{Authorization:`Bearer ${K}`}});let U;try{U=await F.json()}catch{U=[]}if(!F.ok){console.error("Failed to fetch purchased numbers:",(U==null?void 0:U.message)||(U==null?void 0:U.detail)||"Unknown error"),t([]);return}t(g(U))}catch(K){console.error("Error fetching purchased numbers:",K),t([])}finally{a(!1)}},S=async()=>{var K;if((K=c.number)!=null&&K.phone_number){m(!0);try{const F=localStorage.getItem("token");if(!F)throw new Error("No token found in localStorage");const U=await fetch(`${yT}/api/remove-phone-number`,{method:"POST",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:c.number.phone_number})});let te;try{te=await U.json()}catch{te=null}if(!U.ok||(te==null?void 0:te.success)===!1)throw new Error((te==null?void 0:te.detail)||(te==null?void 0:te.error)||"Failed to remove phone number");t(we=>we.filter(re=>re.phone_number!==c.number.phone_number)),d({open:!1,number:null})}catch(F){alert("Failed to delete number: "+F.message)}finally{m(!1)}}};v.useEffect(()=>{j()},[]);const k=Math.ceil(e.length/h)||1,_=Math.min(s*h,e.length),C=Math.max(0,_-h),P=e.slice(C,_),T=()=>s<k&&l(K=>K+1),E=()=>s>1&&l(K=>K-1),L=K=>K>=1&&K<=k&&l(K);return v.useEffect(()=>{s>k&&l(1)},[e]),r.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:[c.open&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>!f&&d({open:!1,number:null})}),r.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(er,{className:"w-6 h-6 text-red-500"}),r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Number"})]}),r.jsxs("div",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete this number?",r.jsx("div",{className:"mt-2 text-gray-900 font-semibold",children:b((M=c.number)==null?void 0:M.phone_number)}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",w((B=c.number)==null?void 0:B.date_purchased)]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors",onClick:()=>!f&&d({open:!1,number:null}),disabled:f,children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",onClick:S,disabled:f,children:f?"Deleting...":"Delete"})]})]})]}),r.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(pt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Purchased Numbers"}),r.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1 sm:mt-2",children:"View your purchased phone numbers"})]})]}),r.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(pt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Buy Numbers"}),r.jsx("span",{className:"sm:hidden",children:"Buy"})]})})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 text-center",children:[r.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600",children:e.length}),r.jsx("div",{className:"text-sm sm:text-base text-gray-600 font-medium mt-2",children:"Total Purchased Numbers"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(pt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),r.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Purchased Numbers (",e.length,")"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[r.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full"}),r.jsx("span",{className:"font-semibold",children:"Live Data"})]})]})}),n?r.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx(pt,{className:"w-8 h-8 sm:w-12 sm:h-12 animate-pulse text-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"Loading purchased numbers..."}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Please wait while we fetch your data"})]})}):e.length===0?r.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(pt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),r.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No purchased numbers found"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Your purchased numbers will appear here"}),r.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:"Buy Numbers"})]})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden lg:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Phone Number"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Friendly Name"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date Purchased"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Attached Assistant"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((K,F)=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:r.jsx(pt,{className:"w-5 h-5 text-blue-600"})}),r.jsx("div",{className:"text-lg font-bold text-gray-900",children:b(K.phone_number)})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(qs,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.friendly_name||""})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-xs font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:w(K.date_purchased)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-700",children:K.attached_assistant??""})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:K}),children:[r.jsx(er,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},K.phone_number||F))})]})}),r.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:P.map((K,F)=>r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(pt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 mb-2",children:b(K.phone_number)}),r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(qs,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("span",{className:"text-sm text-gray-600",children:K.friendly_name||""})]}),r.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded inline-block mb-2",children:w(K.date_purchased)}),r.jsxs("div",{className:"text-sm text-gray-700 mb-3",children:["Assistant: ",K.attached_assistant??""]}),r.jsx("div",{children:r.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:K}),children:[r.jsx(er,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]})},K.phone_number||F))})]})]}),e.length>h&&r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",e.length===0?0:C+1," to ",_," of ",e.length," results"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:E,disabled:s===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:"Previous"}),r.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const K=[];let F=1,U=k;k>5&&(s<=3?(F=1,U=5):s>=k-2?(F=k-4,U=k):(F=s-2,U=s+2));for(let te=F;te<=U;te++)K.push(r.jsx("button",{onClick:()=>L(te),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s===te?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,"aria-current":s===te?"page":void 0,children:te},te));return K})()}),r.jsx("button",{onClick:T,disabled:s>=k,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:"Next"})]})]})})]})]})}function cs(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function cx(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function _L(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function kL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function CL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function hp(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function AL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function TL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function ux(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function dx(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function EL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function zc(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function Gi(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function fx(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function PL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function OL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Bc(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Uc(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const kh="https://aisdr-dbt.ddns.net";function kue(){const e=Gt(),[t,n]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(!0),[m,h]=v.useState(""),[x,g]=v.useState("all"),[b,w]=v.useState("all"),[j,S]=v.useState("created_at"),[k,_]=v.useState("desc"),[C,P]=v.useState(!1),[T,E]=v.useState(null),[L,M]=v.useState([]),[B,K]=v.useState(!1),[F,U]=v.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[te,we]=v.useState(1),re=10,R=v.useMemo(()=>localStorage.getItem("token"),[]),G=async()=>{try{c(!0);const q=await fetch(`${kh}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});if(!q.ok)throw new Error(`HTTP ${q.status}`);const ie=await q.json(),Y=Array.isArray(ie)?ie:Array.isArray(ie==null?void 0:ie.assistants)?ie.assistants:[];n(Y)}catch(q){console.error(q),V.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};v.useEffect(()=>{G()},[]),v.useEffect(()=>{if(!d)return;const q=setInterval(G,15e3);return()=>clearInterval(q)},[d]);const H=v.useMemo(()=>{let q=[...t];x!=="all"&&(q=q.filter(Y=>((Y==null?void 0:Y.provider)||"").toLowerCase()===x)),b!=="all"&&(q=q.filter(Y=>((Y==null?void 0:Y.category)||"").toLowerCase()===b));const ie=m.trim().toLowerCase();return ie&&(q=q.filter(Y=>[Y==null?void 0:Y.name,Y==null?void 0:Y.model,Y==null?void 0:Y.voice,Y==null?void 0:Y.category,Y==null?void 0:Y.attached_Number].filter(Boolean).map(String).map(Te=>Te.toLowerCase()).some(Te=>Te.includes(ie)))),q.sort((Y,ge)=>{if(j==="created_at"){const Pe=Y!=null&&Y.created_at?new Date(Y.created_at).getTime():0,Je=ge!=null&&ge.created_at?new Date(ge.created_at).getTime():0;return k==="asc"?Pe-Je:Je-Pe}const Te=((Y==null?void 0:Y[j])??"").toString().toLowerCase(),Re=((ge==null?void 0:ge[j])??"").toString().toLowerCase();return Te<Re?k==="asc"?-1:1:Te>Re?k==="asc"?1:-1:0}),q},[t,m,x,b,j,k]),I=v.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),A=v.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),D=Math.max(1,Math.ceil(H.length/re)),$=Math.min(te,D),W=H.slice(($-1)*re,$*re),ce=v.useMemo(()=>H.length?H.reduce((q,ie)=>{const Y=q!=null&&q.created_at?new Date(q.created_at):null,ge=ie!=null&&ie.created_at?new Date(ie.created_at):null;return!Y&&ge?ie:!ge&&Y||!Y&&!ge?q:ge>Y?ie:q},H[0]):null,[H]),Q=q=>{j===q?_(ie=>ie==="asc"?"desc":"asc"):(S(q),_("asc"))},Z=q=>{E(q),P(!0)},je=async()=>{if(T)try{const q=await fetch(`${kh}/api/assistants/${T}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});if(!q.ok){let ie=`HTTP ${q.status}`;try{const Y=await q.json();Y!=null&&Y.detail&&(ie=Y.detail)}catch{}throw new Error(ie)}V.success("Assistant deleted"),M(ie=>ie.filter(Y=>Y!==T)),G()}catch(q){console.error(q),V.error((q==null?void 0:q.message)||"Delete failed")}finally{P(!1),E(null)}},se=q=>{const ie=q==null?void 0:q.knowledge_base;if(Array.isArray(ie)&&ie.length){const Y=ie.filter(ge=>typeof ge=="string"&&/^https?:\/\//i.test(ge));if(Y.length){Y.forEach(ge=>window.open(ge,"_blank","noopener"));return}}V.info("No file URLs available for this assistant.")},be=q=>{if(!(q!=null&&q.vapi_assistant_id)){V.error("Missing VAPI Assistant ID");return}U({vapi_assistant_id:q.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),K(!0)},_e=async q=>{q.preventDefault();const{vapi_assistant_id:ie,number:Y,first_name:ge,last_name:Te,email:Re}=F;if(!Y)return V.error("Enter the customer's phone number (E.164 preferred)");try{const Pe=`${kh}/api/phone-call/${encodeURIComponent(ie)}/${encodeURIComponent(Y)}`,Je={first_name:ge||"Caller",last_name:Te||"",email:Re||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Y,custom_field_01:null,custom_field_02:null},Ze=await fetch(Pe,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R?`Bearer ${R}`:""},body:JSON.stringify(Je)}),ye=await Ze.json().catch(()=>({}));if(!Ze.ok||(ye==null?void 0:ye.success)===!1)throw new Error((ye==null?void 0:ye.detail)||`HTTP ${Ze.status}`);V.success("Call initiated"),K(!1)}catch(Pe){console.error(Pe),V.error((Pe==null?void 0:Pe.message)||"Failed to initiate call")}},Ne=q=>L.includes(q),xe=q=>{M(ie=>ie.includes(q)?ie.filter(Y=>Y!==q):[...ie,q])},ze=()=>{const q=W.map(Y=>Y.id).filter(Boolean),ie=q.every(Y=>L.includes(Y));M(Y=>ie?Y.filter(ge=>!q.includes(ge)):Array.from(new Set([...Y,...q])))},Be=async()=>{if(!L.length)return V.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const q of L)await fetch(`${kh}/api/assistants/${q}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});V.success("Bulk delete complete"),M([]),G()}catch(q){console.error(q),V.error("Bulk delete encountered an error")}},Se=()=>{const q=["Name","Model","Voice","Attached Number","Category","Created"],ie=H.map(Pe=>[(Pe==null?void 0:Pe.name)??"",(Pe==null?void 0:Pe.model)??"",(Pe==null?void 0:Pe.voice)??"",(Pe==null?void 0:Pe.attached_Number)??"",(Pe==null?void 0:Pe.category)??"",Pe!=null&&Pe.created_at?new Date(Pe.created_at).toLocaleString():""]),Y=[q,...ie].map(Pe=>Pe.map(Je=>`"${String(Je).replace(/"/g,'""')}"`).join(",")).join(`
`),ge=new Blob([Y],{type:"text/csv;charset=utf-8;"}),Te=URL.createObjectURL(ge),Re=document.createElement("a");Re.href=Te,Re.download="assistants.csv",Re.click(),URL.revokeObjectURL(Te)};return a?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:r.jsx("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[r.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),r.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),r.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((q,ie)=>r.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[r.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),r.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},ie))}),r.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[r.jsx("div",{className:"border-b border-gray-100 p-6",children:r.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((q,ie)=>r.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),r.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),r.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((Y,ge)=>r.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},ge))})]})},ie))]})]})})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),r.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),r.jsxs("div",{className:"relative mx-auto w-full max-w-[1600px] px-6 py-12",children:[r.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"text-white",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:r.jsx(Uc,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),r.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),r.jsxs("span",{children:[H.length," Active"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hp,{className:"h-4 w-4"}),r.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("button",{onClick:()=>f(q=>!q),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[r.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),r.jsxs("button",{onClick:G,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[r.jsx(PL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),r.jsxs("button",{onClick:Se,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[r.jsx(TL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),r.jsxs("button",{onClick:()=>e("/user/assistant/create"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[r.jsx(fx,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(OL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),r.jsx("input",{value:m,onChange:q=>h(q.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsx(bT,{label:"Provider",value:x,onChange:g,options:I,icon:r.jsx(EL,{className:"h-4 w-4"})}),r.jsx(bT,{label:"Category",value:b,onChange:w,options:A,icon:r.jsx(zc,{className:"h-4 w-4"})})]})]})]})]}),r.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Ch,{title:"Total Assistants",value:H.length,icon:r.jsx(Uc,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),r.jsx(Ch,{title:"Active Calls",value:"24",icon:r.jsx(Gi,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),r.jsx(Ch,{title:"Success Rate",value:"94.2%",icon:r.jsx(cs,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),r.jsx(Ch,{title:"Last Created",value:ce!=null&&ce.name?ce.name.length>12?`${ce.name.slice(0,12)}`:ce.name:"",icon:r.jsx(hp,{className:"h-6 w-6 text-cyan-600"}),subtitle:ce!=null&&ce.created_at?new Date(ce.created_at).toLocaleDateString():""})]}),L.length>0&&r.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:r.jsx(cs,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-blue-900",children:[L.length," assistants selected"]}),r.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:ze,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),r.jsx("button",{onClick:Be,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),H.length===0?r.jsx(Eue,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[r.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),r.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[r.jsx("thead",{className:"bg-gray-50/60",children:r.jsxs("tr",{children:[r.jsx(Cue,{className:"w-12 text-center",checked:W.every(q=>L.includes(q.id))&&W.length>0,onChange:ze}),r.jsx(Wo,{className:"w-[26%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?k:null,onSort:Q}),r.jsx(Wo,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?k:null,onSort:Q}),r.jsx(Wo,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?k:null,onSort:Q}),r.jsx(Wo,{className:"w-[18%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?k:null,onSort:Q}),r.jsx(Wo,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?k:null,onSort:Q}),r.jsx(Wo,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?k:null,onSort:Q}),r.jsx("th",{className:"w-[14%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:W.map(q=>r.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Ne(q.id)?"bg-blue-50/50":""}`,children:[r.jsx(Aue,{className:"w-12 text-center",checked:Ne(q.id),onChange:()=>xe(q.id)}),r.jsx("td",{className:"w-[26%] px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:r.jsx(zc,{className:"h-5 w-5"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"max-w-[40ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:q.name||""}),r.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(q.knowledge_base)?q.knowledge_base.length:0," KB items"]})]})]})}),r.jsx("td",{className:"w-[12%] px-6 py-4",children:r.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:r.jsx(wc,{variant:"secondary",children:q.model||""})})}),r.jsx("td",{className:"w-[12%] px-6 py-4",children:r.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:r.jsx(wc,{variant:"accent",children:q.voice||""})})}),r.jsx("td",{className:"w-[18%] px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"break-all font-mono text-sm text-gray-700",children:q.attached_Number||""}),q.attached_Number&&r.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>Pue(q.attached_Number),children:r.jsx(AL,{className:"h-4 w-4"})})]})}),r.jsx("td",{className:"w-[10%] px-6 py-4",children:r.jsx("div",{className:"text-center",children:q.category?r.jsx(wc,{variant:"primary",children:q.category}):r.jsx("span",{className:"text-gray-400",children:""})})}),r.jsx("td",{className:"w-[8%] px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:q.created_at?new Date(q.created_at).toLocaleDateString():""}),r.jsx("td",{className:"w-[14%] px-6 py-4",children:r.jsxs("div",{className:"mx-auto flex w-full min-w-[220px] items-center justify-center gap-2 whitespace-nowrap",children:[r.jsx(Ah,{title:"Edit Assistant",onClick:()=>e(`/user/edit-assistant/${q.id}`),variant:"primary",children:r.jsx(ux,{className:"h-4 w-4"})}),r.jsx(Ah,{title:"View Files",onClick:()=>se(q),variant:"success",children:r.jsx(dx,{className:"h-4 w-4"})}),r.jsx(Ah,{title:"Start Call",onClick:()=>be(q),variant:"secondary",children:r.jsx(Gi,{className:"h-4 w-4"})}),r.jsx(Ah,{title:"Delete",onClick:()=>Z(q.id),variant:"danger",children:r.jsx(Bc,{className:"h-4 w-4"})})]})})]},q.id??q.name))})]})]}),r.jsx("div",{className:"space-y-4 xl:hidden",children:W.map(q=>r.jsx(Tue,{assistant:q,isSelected:Ne(q.id),onToggleSelect:()=>xe(q.id),onEdit:()=>e(`/user/edit-assistant/${q.id}`),onViewFiles:()=>se(q),onCall:()=>be(q),onDelete:()=>Z(q.id)},q.id??q.name))}),r.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",($-1)*re+1," to ",Math.min($*re,H.length)," of"," ",H.length," assistants"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(wT,{disabled:$<=1,onClick:()=>we(q=>Math.max(1,q-1)),children:[r.jsx(_L,{className:"h-4 w-4"}),"Previous"]}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,D)},(q,ie)=>{const Y=ie+1;return r.jsx("button",{onClick:()=>we(Y),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${Y===$?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:Y},Y)})}),r.jsxs(wT,{disabled:$>=D,onClick:()=>we(q=>Math.min(D,q+1)),children:["Next",r.jsx(kL,{className:"h-4 w-4"})]})]})]})]})]}),C&&r.jsx(jT,{onClose:()=>P(!1),children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:r.jsx(Bc,{className:"h-8 w-8 text-red-600"})}),r.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),r.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),r.jsxs("div",{className:"flex justify-center gap-3",children:[r.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>P(!1),children:"Cancel"}),r.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:je,children:"Delete Assistant"})]})]})}),B&&r.jsxs(jT,{onClose:()=>K(!1),children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:r.jsx(Gi,{className:"h-8 w-8 text-blue-600"})}),r.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),r.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),r.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[r.jsx(Th,{label:"Customer Phone Number",value:F.number,onChange:q=>U(ie=>({...ie,number:q})),placeholder:"+1 (555) 123-4567",required:!0}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(Th,{label:"First Name",value:F.first_name,onChange:q=>U(ie=>({...ie,first_name:q})),placeholder:"John"}),r.jsx(Th,{label:"Last Name",value:F.last_name,onChange:q=>U(ie=>({...ie,last_name:q})),placeholder:"Doe"})]}),r.jsx(Th,{label:"Email Address",value:F.email,onChange:q=>U(ie=>({...ie,email:q})),placeholder:"john@example.com",type:"email"}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>K(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function Ch({title:e,value:t,icon:n,trend:a,trendUp:s,subtitle:l}){return r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),r.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&r.jsx("div",{className:"text-sm text-gray-500",children:l}),a&&r.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[a," from last month"]})]})]})}function bT({label:e,value:t,onChange:n,options:a}){return r.jsxs("div",{className:"relative",children:[r.jsx("select",{value:t,onChange:s=>n(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:a.map(s=>r.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx(cx,{className:"h-4 w-4 text-white/70"})})]})}function wc({children:e,variant:t="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return r.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[t]}`,children:e})}function Ah({title:e,onClick:t,children:n,variant:a="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return r.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[a]}`,children:n})}function Wo({label:e,sortKey:t,sortDir:n,onSort:a,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return r.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:r.jsxs("button",{onClick:()=>a(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,r.jsxs("div",{className:"flex flex-col",children:[r.jsx(CL,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),r.jsx(cx,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Cue({checked:e,onChange:t,className:n=""}){return r.jsx("th",{className:`px-6 py-4 ${n}`,children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&r.jsx(cs,{className:"h-3 w-3"})})})})}function Aue({checked:e,onChange:t,className:n=""}){return r.jsx("td",{className:`px-6 py-4 ${n}`,children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&r.jsx(cs,{className:"h-3 w-3"})})})})}function Tue({assistant:e,isSelected:t,onToggleSelect:n,onEdit:a,onViewFiles:s,onCall:l,onDelete:c}){return r.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[r.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&r.jsx(cs,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:r.jsx(zc,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),r.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),r.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),r.jsx(wc,{variant:"secondary",children:e.model||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),r.jsx(wc,{variant:"accent",children:e.voice||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),r.jsx("div",{className:"break-all font-mono text-sm",children:e.attached_Number||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?r.jsx(wc,{variant:"primary",children:e.category}):r.jsx("span",{className:"text-gray-400",children:""})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:a,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[r.jsx(ux,{className:"h-4 w-4"}),"Edit"]}),r.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[r.jsx(dx,{className:"h-4 w-4"}),"Files"]}),r.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[r.jsx(Gi,{className:"h-4 w-4"}),"Call"]}),r.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[r.jsx(Bc,{className:"h-4 w-4"}),"Delete"]})]})]})}function wT({disabled:e,onClick:t,children:n}){return r.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function jT({children:e,onClose:t}){return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),r.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[r.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function Th({label:e,value:t,onChange:n,placeholder:a,required:s,type:l="text"}){return r.jsxs("div",{children:[r.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:l,value:t,onChange:c=>n(c.target.value),placeholder:a,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Eue(){return r.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:r.jsx(Uc,{className:"h-10 w-10 text-blue-600"})}),r.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),r.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),r.jsxs("a",{href:"/user/assistant/create",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[r.jsx(fx,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function Pue(e){e&&navigator.clipboard.writeText(e).then(()=>V.success("Copied to clipboard")).catch(()=>V.info(e))}const co=[{showName:"Asteria",name:"asteria",voice:"aura-asteria-en",gender:"female",audioSr:"/Audios/output_Asteria.wav",provider:"deepgram"},{showName:"Luna",name:"luna",voice:"aura-luna-en",gender:"female",audioSr:"/Audios/output_Luna.wav",provider:"deepgram"},{showName:"Stella",name:"stella",voice:"aura-stella-en",gender:"female",audioSr:"/Audios/output_Stella.wav",provider:"deepgram"},{showName:"Athena",name:"athena",voice:"aura-athena-en",gender:"female",audioSr:"/Audios/output_Athena.wav",provider:"deepgram"},{showName:"Hera",name:"hera",voice:"aura-hera-en",gender:"female",audioSr:"/Audios/output_Hera.wav",provider:"deepgram"},{showName:"Orion",name:"orion",voice:"aura-orion-en",gender:"male",audioSr:"/Audios/output_Orion.wav",provider:"deepgram"},{showName:"Arcas",name:"arcas",voice:"aura-arcas-en",gender:"male",audioSr:"/Audios/output_Arcas.wav",provider:"deepgram"},{showName:"Perseus",name:"perseus",voice:"aura-perseus-en",gender:"male",audioSr:"/Audios/output_Perseus.wav",provider:"deepgram"},{showName:"Angus",name:"angus",voice:"aura-angus-en",gender:"male",audioSr:"/Audios/output_Angus.wav",provider:"deepgram"},{showName:"Orpheus",name:"orpheus",voice:"aura-orpheus-en",gender:"male",audioSr:"/Audios/output_Orpheus.wav",provider:"deepgram"},{showName:"Helios",name:"helios",voice:"aura-helios-en",gender:"male",audioSr:"/Audios/output_Helios.wav",provider:"deepgram"},{showName:"Zeus",name:"zeus",voice:"aura-zeus-en",gender:"male",audioSr:"/Audios/output_Zeus.wav",provider:"deepgram"}],lu=[{showName:"nova",name:"nova",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/nova.mp3",provider:"openai"},{showName:"onyx",name:"onyx",voice:"gpt-4o-mini-tts",gender:"male",audioSr:"/Audios/onyx.mp3",provider:"openai"},{showName:"alloy",name:"alloy",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/alloy.mp3",provider:"openai"}];[...co,...lu];co.filter(e=>e.gender==="female");const Lb=co.filter(e=>e.gender==="male"),$b=co;lu.filter(e=>e.gender==="female");lu.filter(e=>e.gender==="male");const it={danger:"#EF4444",text:"#0F172A",lightText:"#64748B",border:"#E2E8F0",background:"#F8FAFC",card:"#FFFFFF"},NT=/^\+\d{7,15}$/,ST=[{id:1,label:"Core & Transcription",Icon:qw},{id:2,label:"Voice",Icon:Ww},{id:3,label:"Review & Save",Icon:Gc}],Oue=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Mue=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Due(){const{assistantId:e}=bf(),t=Gt(),n="https://aisdr-dbt.ddns.net",[a,s]=v.useState(1),[l,c]=v.useState(!0),[d,f]=v.useState(!1),[m,h]=v.useState(!1),x=v.useRef(null),[g,b]=v.useState(!1),[w,j]=v.useState([]),[S,k]=v.useState(!1),[_,C]=v.useState(""),[P,T]=v.useState("all"),[E,L]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],voice_provider:"deepgram",voice_model:"",voice:"",speed:.8,stability:.5,similarityBoost:.75,draft:!1,assistant_toggle:!0}),[M,B]=v.useState({}),K=v.useMemo(()=>{const A=E.voice_provider==="openai"?lu:co;return(P==="all"?A:A.filter($=>$.gender===P)).slice().sort(($,W)=>(($==null?void 0:$.showName)||"").localeCompare((W==null?void 0:W.showName)||""))},[E.voice_provider,P]);v.useEffect(()=>{if(!E.voice)return;const A=K.find(D=>(D==null?void 0:D.name)===E.voice);A!=null&&A.voice&&(L(D=>({...D,voice_model:A.voice})),B(D=>({...D,voice_model:""})))},[E.voice,K]),v.useEffect(()=>{if(!E.voice)return b(!1);K.some(D=>D.name===E.voice)||b(!1)},[K,E.voice]);const F=async()=>{k(!0),C("");try{const A=localStorage.getItem("token"),D=await fetch(`${n}/api/purchased_numbers`,{headers:{Accept:"application/json",...A?{Authorization:`Bearer ${A}`}:{}}});if(!D.ok)throw new Error(`HTTP ${D.status}`);const $=await D.json(),ce=(Array.isArray($)?$:($==null?void 0:$.purchased_numbers)||[]).filter(Boolean).map(Q=>({phone_number:(Q==null?void 0:Q.phone_number)||"",friendly_name:(Q==null?void 0:Q.friendly_name)||"",attached_assistant:(Q==null?void 0:Q.attached_assistant)??null})).filter(Q=>Q.phone_number);j(ce)}catch(A){console.error(A),C("Failed to load your purchased numbers"),j([])}finally{k(!1)}};v.useEffect(()=>{(async()=>{try{const D=localStorage.getItem("token");if(!D){V.error("No authentication token found. Please log in."),t("/login");return}const $=await fetch(`${n}/api/get-assistants`,{headers:{Authorization:`Bearer ${D}`,Accept:"application/json"}});if(!$.ok)throw new Error(`HTTP ${$.status}`);const W=await $.json(),ce=Number(e),Q=W.find(be=>Number(be.id)===ce);if(!Q)throw new Error("Assistant not found");const Z=Q.voice_provider==="openai"||Q.voice_provider==="deepgram"?Q.voice_provider:"deepgram",je={name:Q.name||"",provider:Q.provider||"openai",model:Q.model||"gpt-4o-mini",temperature:Q.temperature??.7,maxTokens:Q.max_tokens??Q.maxTokens??250,systemPrompt:Q.system_prompt||Q.systemPrompt||"",first_message:Q.first_message||"",transcribe_provider:Q.transcribe_provider||"google",transcribe_language:Q.transcribe_language||"English",transcribe_model:Q.transcribe_model||"gemini-2.0-flash",forwardingPhoneNumber:Q.forwardingPhoneNumber||"",attached_Number:Q.attached_Number||"",category:Q.category||"",knowledgeBase:Q.knowledge_base||Q.knowledgeBase||[],leadsfile:Q.leadsfile||[],languages:Q.languages||[],endCallPhrases:Q.endCallPhrases||[],voice_provider:Z,voice_model:Q.voice_model||"",voice:Q.voice||"",speed:Q.speed??.8,stability:Q.stability??.5,similarityBoost:Q.similarityBoost??.75,draft:!!Q.draft,assistant_toggle:!!(Q.assistant_toggle??!0)};L(be=>({...be,...je}));const se=je.voice&&je.voice_model&&(je.voice_provider==="deepgram"||je.voice_provider==="openai");b(!!se),F(),c(!1)}catch(D){console.error("Error loading assistant:",D),V.error((D==null?void 0:D.message)||"Failed to load assistant"),t("/")}})()},[e]);const U=A=>{const{id:D,value:$,type:W,checked:ce}=A.target,Q=W==="checkbox"?ce:$;L(Z=>({...Z,[D]:Q})),B(Z=>({...Z,[D]:""}))},te=A=>{try{x.current&&(x.current.pause(),x.current=null);const D=new Audio(A);x.current=D,h(!0),D.play().catch(()=>{V.error("Failed to play voice preview"),h(!1),x.current=null}),D.onended=()=>{h(!1),x.current=null}}catch{V.error("Failed to play voice preview"),h(!1)}},we=()=>{x.current&&(x.current.pause(),x.current=null,h(!1))},re=A=>{if(A!==a){if(A===3&&(!E.voice||!g)){B(D=>({...D,voice:"Select a voice and press Next to continue"})),V.error("Please select a voice and press Next to continue.");return}we(),s(A)}},R=()=>{if(a===1)return s(2);if(a===2){if(!E.voice){B(A=>({...A,voice:"Please select a voice"})),V.error("Select a voice to continue.");return}if(!g){B(A=>({...A,voice:"Click a voice card to confirm your choice"})),V.info("Click a voice card to confirm your choice.");return}return s(3)}},G=A=>{we();const D=A.target.value;L($=>({...$,voice_provider:D,voice:"",voice_model:""})),b(!1),B($=>({...$,voice:"",voice_model:""}))},H=()=>{const A=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],D={};let $=!0;return A.forEach(W=>{const ce=E[W];(ce==null||ce===""||Number.isNaN(ce))&&(D[W]="Required",$=!1)}),(E.temperature<0||E.temperature>2)&&(D.temperature="Temperature must be between 0 and 2",$=!1),Number(E.maxTokens)<1&&(D.maxTokens="maxTokens must be a positive integer",$=!1),E.forwardingPhoneNumber&&!NT.test(E.forwardingPhoneNumber)&&(D.forwardingPhoneNumber="Must be E.164 (+123...)",$=!1),E.attached_Number&&!NT.test(E.attached_Number)&&(D.attached_Number="Invalid number format",$=!1),B(D),$||((Q=>Q.some(Z=>D[Z]))(["name","systemPrompt","first_message","forwardingPhoneNumber","attached_Number","category"])?s(1):s(2)),$},I=async A=>{if(A.preventDefault(),!d){if(a!==3){V.error("Please complete the steps first.");return}if(!H()){V.error("Fix the highlighted fields.");return}f(!0),we();try{const D=localStorage.getItem("token");if(!D)throw new Error("No authentication token found. Please log in.");const $={name:E.name,provider:E.provider,first_message:E.first_message||null,model:E.model,systemPrompt:E.systemPrompt||null,knowledgeBase:E.knowledgeBase,leadsfile:E.leadsfile,temperature:Number(E.temperature),maxTokens:Number(E.maxTokens),transcribe_provider:E.transcribe_provider,transcribe_language:E.transcribe_language,transcribe_model:E.transcribe_model,languages:E.languages,forwardingPhoneNumber:E.forwardingPhoneNumber||null,endCallPhrases:E.endCallPhrases,voice_provider:E.voice_provider,voice:E.voice,voice_model:E.voice_model,attached_Number:E.attached_Number||null,draft:!!E.draft,assistant_toggle:!!E.assistant_toggle,category:E.category||null,speed:Number(E.speed),stability:Number(E.stability),similarityBoost:Number(E.similarityBoost)},W=await fetch(`${n}/api/update_assistant/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify($)});if(!W.ok){let ce=`HTTP ${W.status}`;try{const Q=await W.json();Q!=null&&Q.detail&&(ce=Q.detail)}catch{const Q=await W.text();Q&&(ce=`${ce}  ${Q}`)}throw new Error(ce)}V.success("Assistant updated successfully!"),t("/user/callassistent")}catch(D){console.error("Update error",D),V.error((D==null?void 0:D.message)||"Failed to update assistant")}finally{f(!1)}}};return l?r.jsx("div",{className:"min-h-screen grid place-items-center",style:{background:it.background},children:r.jsxs("div",{className:"flex items-center gap-3 text-lg",style:{color:it.text},children:[r.jsx(qn,{className:"h-6 w-6 animate-spin"}),"Loading assistant"]})}):r.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:it.background},children:[r.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:r.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(99,102,241,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(16,185,129,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(59,130,246,0.12) 0%, transparent 60%)"}})}),r.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),r.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[r.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:it.border,backgroundColor:it.card},children:r.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-indigo-300/30 blur-2xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-emerald-300/30 blur-2xl"}),r.jsxs("div",{className:"relative p-6 text-center",children:[r.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold",style:{color:it.text},children:[r.jsx(Gc,{className:"h-7 w-7 text-indigo-600"})," Edit Assistant"]}),r.jsx("p",{className:"mt-2 text-sm",style:{color:it.lightText},children:"Minimal UI  Voice required  Create-aligned defaults"})]})]})}),r.jsx(Rue,{currentStep:a,onChange:re}),r.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:it.card,borderColor:it.border},children:r.jsxs("form",{onSubmit:I,noValidate:!0,children:[r.jsxs(Et,{mode:"wait",children:[a===1&&r.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsx(Eh,{id:"name",label:"Assistant Name",value:E.name,onChange:U,error:M.name,placeholder:"SupportBot"}),r.jsx(Eh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:E.forwardingPhoneNumber,onChange:U,error:M.forwardingPhoneNumber,placeholder:"+12345678901"}),r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Gd,{children:"Attach Purchased Number (optional)"}),r.jsxs("button",{type:"button",onClick:F,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1 text-sm font-medium hover:bg-slate-50",style:{borderColor:it.border,color:it.text,backgroundColor:it.card},disabled:S,title:"Refresh list",children:[r.jsx(Xe,{className:S?"h-4 w-4 animate-spin":"h-4 w-4"}),S?"Loading":"Refresh"]})]}),r.jsxs("select",{id:"attached_Number",value:E.attached_Number,onChange:U,disabled:S,className:"w-full rounded-xl border p-3 outline-none transition disabled:opacity-60 focus:border-indigo-500",style:{borderColor:it.border,color:it.text,backgroundColor:it.card},children:[r.jsx("option",{value:"",children:w.length?"Do not change":"No purchased numbers found"}),w.map(A=>r.jsx("option",{value:A.phone_number,children:A.friendly_name?`${A.friendly_name}  ${A.phone_number}`:A.phone_number},A.phone_number))]}),_&&r.jsx(Rl,{children:_}),M.attached_Number&&r.jsx(Rl,{children:M.attached_Number})]}),r.jsx(Eh,{id:"category",label:"Category (optional)",value:E.category,onChange:U}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Gd,{children:"System Prompt"}),r.jsx(CT,{id:"systemPrompt",value:E.systemPrompt,onChange:U,placeholder:"Write your system prompt",rows:4}),M.systemPrompt&&r.jsx(Rl,{children:M.systemPrompt})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Gd,{children:"First Message"}),r.jsx(CT,{id:"first_message",value:E.first_message,onChange:U,placeholder:"Hello! ",rows:3}),M.first_message&&r.jsx(Rl,{children:M.first_message})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[r.jsx(AT,{id:"draft",label:"Save as Draft",checked:E.draft,onChange:U}),r.jsx(AT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:E.assistant_toggle,onChange:U})]})]},"step1"),a===2&&r.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[r.jsx(kT,{id:"voice_provider",label:"Voice Provider",value:E.voice_provider,onChange:G,options:Oue,error:M.voice_provider}),r.jsx(kT,{id:"genderFilter",label:"Gender",value:P,onChange:A=>{we(),T(A.target.value)},options:Mue}),r.jsx(Eh,{id:"voice_model",label:"Voice Model",value:E.voice_model,onChange:()=>{},error:M.voice_model,placeholder:E.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!g&&r.jsxs("p",{className:"text-sm",style:{color:it.lightText},children:["Tip: ",r.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press ",r.jsx("span",{className:"font-medium",children:"Next"}),"."]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"text-sm",style:{color:it.lightText},children:["Showing ",r.jsx("span",{className:"font-medium",children:K.length})," voices"]})}),r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:K.map(A=>r.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:E.voice===A.name?"#93c5fd":it.border,backgroundColor:E.voice===A.name?"#eff6ff":it.card},onClick:()=>{L(D=>({...D,voice:A.name,voice_model:A.voice,voice_provider:A.provider||E.voice_provider})),b(!0),B(D=>({...D,voice:"",voice_model:""}))},children:[r.jsx("div",{className:"absolute left-3 top-3",children:r.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${E.voice===A.name?"border-indigo-500 bg-indigo-500":"border-slate-400 bg-transparent"}`})}),r.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold",style:{color:it.text},children:A.showName||A.name}),r.jsxs("div",{className:"text-sm capitalize",style:{color:it.lightText},children:[A.gender||"unknown","  ",A.provider]}),r.jsx("div",{className:"mt-1 text-xs",style:{color:it.lightText},children:A.voice})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(Lue,{isActive:m&&E.voice===A.name,onPlay:()=>te(A.audioSr||""),onStop:we})})]})]},`${A.provider}-${A.name}`))}),M.voice&&r.jsx(Rl,{children:M.voice})]},"step2"),a===3&&r.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:r.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:it.border},children:[r.jsx("h3",{className:"mb-3 text-lg font-semibold",style:{color:it.text},children:"Review"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsx(Nl,{label:"Name",value:E.name||""}),r.jsx(Nl,{label:"Model",value:`${E.provider}  ${E.model}`}),r.jsx(Nl,{label:"Voice Provider",value:E.voice_provider}),r.jsx(Nl,{label:"Voice",value:E.voice||""}),r.jsx(Nl,{label:"Voice Model",value:E.voice_model||""}),r.jsx(Nl,{label:"Forwarding Number",value:E.forwardingPhoneNumber||""}),r.jsx(Nl,{label:"Attach Number",value:E.attached_Number||""})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[r.jsx(Ib,{onClick:()=>s(2),children:"Edit Voice"}),r.jsx(Ib,{onClick:()=>s(1),children:"Edit Core"})]})]})},"step3")]}),r.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[a>1?r.jsx(Ib,{onClick:()=>re(a-1),children:"Back"}):r.jsx("span",{}),a<3?r.jsxs(_T,{onClick:R,children:["Next ",r.jsx(Kn,{className:"ml-1 h-4 w-4"})]}):r.jsx(_T,{type:"submit",disabled:d,children:d?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-4 w-4 animate-spin"})," Updating"]}):"Update Assistant"})]})]})})]})]})}function Rue({currentStep:e,onChange:t}){const n=ST;return r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:n.map(({id:a,label:s,Icon:l})=>{const c=e===a;return r.jsxs(he.button,{onClick:()=>t(a),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${c?"border-indigo-500/40 bg-indigo-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[r.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${c?"bg-indigo-100":"bg-slate-100"}`,children:r.jsx(l,{className:`h-5 w-5 ${c?"text-indigo-600":"text-slate-600"}`})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:`text-sm font-semibold ${c?"text-slate-900":"text-slate-700"}`,children:s}),r.jsx("div",{className:`text-xs ${c?"text-indigo-600":"text-slate-500"}`,children:c?"Active":"Click to open"})]})]},a)})}),r.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-4xl rounded-full bg-slate-200",children:r.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-indigo-600 to-emerald-500",style:{width:`${e/ST.length*100}%`}})})]})}function _T({children:e,onClick:t,type:n="button",disabled:a}){return r.jsx("button",{type:n,onClick:t,disabled:a,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-indigo-200 transition ${a?"bg-indigo-400/60":"bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600"}`,children:e})}function Ib({children:e,onClick:t}){return r.jsx("button",{type:"button",onClick:t,className:"rounded-xl border px-4 py-2 font-semibold hover:bg-slate-50",style:{borderColor:it.border,color:it.text,backgroundColor:it.card},children:e})}function Gd({children:e}){return r.jsx("label",{className:"mb-2 block text-sm font-semibold",style:{color:it.text},children:e})}function Rl({children:e}){return r.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm",style:{color:it.danger},children:e})}function Eh({id:e,label:t,value:n,onChange:a,error:s,placeholder:l,readOnly:c=!1}){return r.jsxs("div",{className:"mb-2",children:[r.jsx(Gd,{children:t}),r.jsx("input",{id:e,type:"text",value:n,onChange:a,placeholder:l,readOnly:c,className:`w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500 ${c?"bg-slate-50":""}`,style:{borderColor:it.border,color:it.text,backgroundColor:it.card}}),s&&r.jsx(Rl,{children:s})]})}function kT({id:e,label:t,value:n,onChange:a,options:s,error:l}){return r.jsxs("div",{className:"mb-2",children:[r.jsx(Gd,{children:t}),r.jsx("select",{id:e,value:n,onChange:a,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:it.border,color:it.text,backgroundColor:it.card},children:s.map(c=>r.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&r.jsx(Rl,{children:l})]})}function CT({id:e,value:t,onChange:n,placeholder:a,rows:s=4}){return r.jsx("textarea",{id:e,value:t,onChange:n,placeholder:a,rows:s,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:it.border,color:it.text,backgroundColor:it.card}})}function AT({id:e,label:t,checked:n,onChange:a}){return r.jsxs("label",{className:"flex cursor-pointer items-center gap-2",style:{color:it.text},children:[r.jsx("input",{id:e,type:"checkbox",checked:n,onChange:a,className:"accent-indigo-600"}),r.jsx("span",{children:t})]})}function Nl({label:e,value:t}){return r.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:it.border},children:[r.jsx("div",{className:"text-slate-500",children:e}),r.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function Lue({isActive:e,onPlay:t,onStop:n}){return r.jsx("div",{className:"flex items-center gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((a,s)=>r.jsx("div",{className:"w-1.5 rounded-sm bg-indigo-500",style:{animation:`eqbar 0.9s ${a}ms ease-in-out infinite`}},s))}),r.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-rose-200 transition hover:brightness-110 bg-gradient-to-br from-rose-500 to-red-500",title:"Stop",children:r.jsx(kc,{className:"h-5 w-5"})})]}):r.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-indigo-200 transition hover:brightness-110 bg-gradient-to-br from-indigo-600 to-blue-500",title:"Play preview",children:r.jsx(Sf,{className:"h-5 w-5"})})})}const Qa={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},$ue=`
You are a professional and friendly assistant. Always speak in a natural, conversational way that feels human, polite, and approachable. Your goal is to sound like a helpful representative who is confident and enthusiastic . Keep your replies brief and natural, as if you were speaking in real conversation, without sounding robotic or scripted.

Stay focused only on the system prompt you are give and be the agent just for that prompt . If someone asks about something unrelated, politely guide them back by saying something like, I can only answer questions related to our company, could you please ask me something in that area? Always remain polite and respectful when doing so. If the customer wants to end the call, acknowledge them warmly and end it immediately.

You must only communicate in English. If someone speaks in another language, respond politely by saying, I can only communicate in English, lets continue in English please. Throughout every interaction, keep your answers short, clear, and professional, Donot make pause or delay after the first message . Reply as fast as you can while still sounding human, friendly, and approachable.
`.trim(),TT=/^\+\d{7,15}$/,ET=[{id:1,key:"core",label:"Core & Transcription",Icon:qw},{id:2,key:"voice",label:"Voice",Icon:Ww},{id:3,key:"review",label:"Review & Create",Icon:Gc}],Iue=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],zue=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Bue(){const e=Gt(),[t,n]=v.useState(1),[a,s]=v.useState(!1),[l,c]=v.useState(!1),d=v.useRef(null),[f,m]=v.useState(!1),[h,x]=v.useState("all"),[g,b]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.6,maxTokens:200,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=v.useState({}),[S,k]=v.useState([]),[_,C]=v.useState(!1),[P,T]=v.useState(""),E=v.useMemo(()=>{const R=g.voice_provider==="openai"?lu:co;return(h==="all"?R:R.filter(H=>H.gender===h)).slice().sort((H,I)=>((H==null?void 0:H.showName)||"").localeCompare((I==null?void 0:I.showName)||""))},[g.voice_provider,h]);v.useEffect(()=>{if(!g.voice)return;const R=E.find(G=>(G==null?void 0:G.name)===g.voice);R!=null&&R.voice&&(b(G=>({...G,voice_model:R.voice})),j(G=>({...G,voice_model:""})))},[g.voice,E]);const L="https://aisdr-dbt.ddns.net",M=R=>{const{id:G,value:H,type:I,checked:A}=R.target,D=I==="checkbox"?A:H;b($=>({...$,[G]:D})),j($=>({...$,[G]:""}))},B=R=>{try{d.current&&(d.current.pause(),d.current=null);const G=new Audio(R||"");d.current=G,c(!0),G.play().catch(()=>{V.error("Failed to play voice preview"),c(!1),d.current=null}),G.onended=()=>{c(!1),d.current=null}}catch{V.error("Failed to play voice preview"),c(!1)}},K=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},F=R=>{if(R!==t){if(R===3&&(!g.voice||!f)){j(G=>({...G,voice:"Select a voice and press Next to continue"})),V.error("Please select a voice and press Next to continue.");return}K(),n(R)}},U=()=>{if(t===1)return n(2);if(t===2){if(!g.voice){j(R=>({...R,voice:"Please select a voice"})),V.error("Select a voice to continue.");return}if(!f){j(R=>({...R,voice:"Click a voice card to confirm your choice"})),V.info("Click a voice card to confirm your choice.");return}n(3)}},te=async()=>{C(!0),T("");try{const R=localStorage.getItem("token"),G=await fetch(`${L}/api/purchased_numbers`,{headers:{Accept:"application/json",...R?{Authorization:`Bearer ${R}`}:{}}});if(!G.ok)throw new Error(`HTTP ${G.status}`);const H=await G.json(),A=(Array.isArray(H)?H:(H==null?void 0:H.purchased_numbers)||[]).filter(Boolean).map(D=>({phone_number:(D==null?void 0:D.phone_number)||"",friendly_name:(D==null?void 0:D.friendly_name)||"",attached_assistant:(D==null?void 0:D.attached_assistant)??null})).filter(D=>D.phone_number);k(A)}catch(R){console.error(R),T("Failed to load your purchased numbers"),k([])}finally{C(!1)}};v.useEffect(()=>{te()},[]);const we=()=>{const R=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],G={};let H=!0;if(R.forEach(I=>{const A=g[I];(A==null||A===""||Number.isNaN(A))&&(G[I]="Required",H=!1)}),(g.temperature<0||g.temperature>2)&&(G.temperature="Temperature must be between 0 and 2",H=!1),g.maxTokens<1&&(G.maxTokens="maxTokens must be a positive integer",H=!1),g.forwardingPhoneNumber&&!TT.test(g.forwardingPhoneNumber)&&(G.forwardingPhoneNumber="Must be E.164 (+123...)",H=!1),g.attached_Number&&!TT.test(g.attached_Number)&&(G.attached_Number="Invalid number format",H=!1),j(G),!H){const I=$=>$.some(W=>G[W]),A=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],D=["voice_provider","voice_model","voice"];I(A)?n(1):I(D)&&n(2)}return H},re=async R=>{if(R.preventDefault(),!a){if(t!==3){V.error("Please complete the steps first.");return}if(we()){s(!0),K();try{const G=localStorage.getItem("token"),H=`${L}/api/assistants`,I=[$ue,(g.systemPrompt||"").trim()].filter(Boolean).join(`

`),A={name:g.name,provider:g.provider,first_message:g.first_message||null,model:g.model,systemPrompt:I,knowledgeBase:g.knowledgeBase,leadsfile:g.leadsfile,temperature:Number(g.temperature),maxTokens:Number(g.maxTokens),transcribe_provider:g.transcribe_provider,transcribe_language:g.transcribe_language,transcribe_model:g.transcribe_model,languages:g.languages,forwardingPhoneNumber:g.forwardingPhoneNumber||null,endCallPhrases:g.endCallPhrases,voice_provider:g.voice_provider,voice:g.voice,voice_model:g.voice_model,attached_Number:g.attached_Number||null,draft:!!g.draft,assistant_toggle:!!g.assistant_toggle,category:g.category||null,speed:Number(g.speed),stability:Number(g.stability),similarityBoost:Number(g.similarityBoost)},D=await fetch(H,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...G?{Authorization:`Bearer ${G}`}:{}},body:JSON.stringify(A)});if(!D.ok){let $=`HTTP ${D.status}`;try{const W=await D.json();W!=null&&W.detail&&($=W.detail)}catch{const W=await D.text();W&&($=`${$}  ${W}`)}throw new Error($)}V.success("Assistant created successfully!"),e("/user/callassistent")}catch(G){V.error((G==null?void 0:G.message)||"Failed to create assistant")}finally{s(!1)}}}};return v.useEffect(()=>{m(!1),b(R=>({...R,voice:"",voice_model:""}))},[g.voice_provider]),r.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Qa.background},children:[r.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:r.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),r.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),r.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[r.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Qa.border,backgroundColor:Qa.card},children:r.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),r.jsxs("div",{className:"relative p-6 text-center",children:[r.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[r.jsx(Gc,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),r.jsx(Uue,{currentStep:t,onChange:F}),r.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Qa.card,borderColor:Qa.border},children:r.jsxs("form",{onSubmit:re,noValidate:!0,children:[r.jsxs(Et,{mode:"wait",children:[t===1&&r.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsx(Ph,{id:"name",label:"Assistant Name",value:g.name,onChange:M,error:w.name,placeholder:"SupportBot"}),r.jsx(Ph,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:g.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Yd,{children:"Attach Purchased Number (optional)"}),r.jsx("button",{type:"button",onClick:te,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),r.jsxs("select",{id:"attached_Number",value:g.attached_Number,onChange:M,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[r.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(R=>r.jsx("option",{value:R.phone_number,className:"bg-white",children:R.friendly_name?`${R.friendly_name}  ${R.phone_number}`:R.phone_number},R.phone_number))]}),P&&r.jsx(Ll,{children:P}),w.attached_Number&&r.jsx(Ll,{children:w.attached_Number})]}),r.jsx(Ph,{id:"category",label:"Category (optional)",value:g.category,onChange:M}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Yd,{children:"System Prompt"}),r.jsx(MT,{id:"systemPrompt",value:g.systemPrompt,onChange:M,placeholder:"Add any custom instructions for your Carsaz agent",rows:4}),w.systemPrompt&&r.jsx(Ll,{children:w.systemPrompt})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Yd,{children:"First Message"}),r.jsx(MT,{id:"first_message",value:g.first_message,onChange:M,placeholder:"Hello! Thanks for calling Carsazhow can I help you today?",rows:3}),w.first_message&&r.jsx(Ll,{children:w.first_message})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[r.jsx(DT,{id:"draft",label:"Save as Draft",checked:g.draft,onChange:M}),r.jsx(DT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:g.assistant_toggle,onChange:M})]})]},"step1"),t===2&&r.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[r.jsx(OT,{id:"voice_provider",label:"Voice Provider",value:g.voice_provider,onChange:R=>{K();const G=R.target.value;b(H=>({...H,voice_provider:G,voice:"",voice_model:""})),m(!1),j(H=>({...H,voice:"",voice_model:""}))},options:Iue,error:w.voice_provider}),r.jsx(OT,{id:"genderFilter",label:"Gender",value:h,onChange:R=>{K(),x(R.target.value),m(!1)},options:zue}),r.jsx(Ph,{id:"voice_model",label:"Voice Model",value:g.voice_model,onChange:()=>{},error:w.voice_model,placeholder:g.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",r.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",r.jsx("span",{className:"font-medium",children:"Next"}),"."]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&r.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:Qa.border},children:"No voices match this filter."}),E.map(R=>r.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:g.voice===R.name?"#93c5fd":Qa.border,backgroundColor:g.voice===R.name?"#eff6ff":Qa.card},onClick:()=>{b(G=>({...G,voice:R.name,voice_model:R.voice,voice_provider:R.provider||g.voice_provider})),m(!0),j(G=>({...G,voice:"",voice_model:""}))},children:[r.jsx("div",{className:"absolute left-3 top-3",children:r.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${g.voice===R.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),r.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold text-slate-900",children:R.showName||R.name}),r.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[R.gender||"unknown","  ",R.provider]}),r.jsx("div",{className:"mt-1 text-xs text-slate-500",children:R.voice})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(Fue,{isActive:l&&g.voice===R.name,onPlay:()=>B(R.audioSr||""),onStop:K})})]})]},`${R.provider}-${R.name}`))]}),w.voice&&r.jsx(Ll,{children:w.voice})]},"step2"),t===3&&r.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:r.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Qa.border},children:[r.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsx(Sl,{label:"Name",value:g.name||""}),r.jsx(Sl,{label:"Model",value:`${g.provider}  ${g.model}`}),r.jsx(Sl,{label:"Voice Provider",value:g.voice_provider}),r.jsx(Sl,{label:"Voice",value:g.voice||""}),r.jsx(Sl,{label:"Voice Model",value:g.voice_model||""}),r.jsx(Sl,{label:"Forwarding Number",value:g.forwardingPhoneNumber||""}),r.jsx(Sl,{label:"Attach Number",value:g.attached_Number||""})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[r.jsx(zb,{onClick:()=>n(2),children:"Edit Voice"}),r.jsx(zb,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),r.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?r.jsx(zb,{onClick:()=>F(t-1),children:"Back"}):r.jsx("span",{}),t<3?r.jsxs(PT,{onClick:U,children:["Next ",r.jsx(Kn,{className:"ml-1 h-4 w-4"})]}):r.jsx(PT,{type:"submit",disabled:a,children:a?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function Uue({currentStep:e,onChange:t}){return r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:ET.map(({id:n,label:a,Icon:s})=>{const l=e===n;return r.jsxs(he.button,{onClick:()=>t(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[r.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:r.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:a}),r.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),r.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:r.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/ET.length*100}%`}})})]})}function PT({children:e,onClick:t,type:n="button",disabled:a}){return r.jsx("button",{type:n,onClick:t,disabled:a,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${a?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function zb({children:e,onClick:t}){return r.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Yd({children:e}){return r.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Ll({children:e}){return r.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function Ph({id:e,label:t,value:n,onChange:a,error:s,placeholder:l,readOnly:c=!1,disabled:d=!1}){return r.jsxs("div",{className:"mb-2",children:[r.jsx(Yd,{children:t}),r.jsx("input",{id:e,type:"text",value:n,onChange:a,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&r.jsx(Ll,{children:s})]})}function OT({id:e,label:t,value:n,onChange:a,options:s,error:l}){return r.jsxs("div",{className:"mb-2",children:[r.jsx(Yd,{children:t}),r.jsx("select",{id:e,value:n,onChange:a,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>r.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&r.jsx(Ll,{children:l})]})}function MT({id:e,value:t,onChange:n,placeholder:a,rows:s=4}){return r.jsx("textarea",{id:e,value:t,onChange:n,placeholder:a,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function DT({id:e,label:t,checked:n,onChange:a}){return r.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[r.jsx("input",{id:e,type:"checkbox",checked:n,onChange:a,className:"accent-blue-600"}),r.jsx("span",{children:t})]})}function Sl({label:e,value:t}){return r.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Qa.border},children:[r.jsx("div",{className:"text-slate-500",children:e}),r.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function Fue({isActive:e,onPlay:t,onStop:n}){return r.jsx("div",{className:"flex items-center gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((a,s)=>r.jsx("div",{className:"w-1.5 rounded-sm",style:{backgroundColor:"#3B82F6",animation:`eqbar 0.9s ${a}ms ease-in-out infinite`}},s))}),r.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:r.jsx(kc,{className:"h-5 w-5"})})]}):r.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:r.jsx(Sf,{className:"h-5 w-5"})})})}const pd="https://aisdr-dbt.ddns.net",Xo={FILES:`${pd}/api/files`,FILE:e=>`${pd}/api/files/${e}`,SYNC:{HUBSPOT:`${pd}/api/crm/ingest/hubspot`,GHL:`${pd}/api/crm/ingest/ghl`,MONDAY:`${pd}/api/crm/ingest/monday`}},Vue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function ML(...e){return e.filter(Boolean).join(" ")}function br({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function RT({children:e,onClose:t,title:n}){return r.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),r.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(br,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:r.jsx(fr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Oh({label:e,value:t,tone:n="blue"}){const a=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",s=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${s} text-white shadow-inner ring-1 ${a}`,children:r.jsx(Ad,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Mh({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Dh({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function LT({id:e}){const[t,n]=v.useState(!1);return r.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(String(e||"")),n(!0),setTimeout(()=>n(!1),1e3)}catch{}},className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-600 hover:bg-slate-100 max-w-full",title:"Copy alphanumeric id",children:[t?r.jsx(b0,{className:"h-3.5 w-3.5"}):r.jsx(Ea,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"truncate max-w-[9rem]",children:e})]})}function Hue(){const e=Gt(),[t,n]=v.useState([]),[a,s]=v.useState(!1),[l,c]=v.useState(""),[d,f]=v.useState(""),[m,h]=v.useState("created_at"),[x,g]=v.useState("desc"),[b,w]=v.useState(!1),[j,S]=v.useState("New List"),[k,_]=v.useState(null),[C,P]=v.useState(!1),[T,E]=v.useState(!1),L=v.useRef(null),[M,B]=v.useState({open:!1,id:null,name:""}),[K,F]=v.useState(!1),U=v.useCallback(async()=>{const Z=localStorage.getItem("token");if(!Z){n([]),c("No auth token found."),V.error("No authentication token found.");return}try{s(!0),c("");const je=await fetch(Xo.FILES,{headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}});if(!je.ok)throw new Error(`HTTP ${je.status}`);const se=await je.json();n(Array.isArray(se)?se:[])}catch(je){c((je==null?void 0:je.message)||"Failed to load lists"),V.error((je==null?void 0:je.message)||"Failed to load lists")}finally{s(!1)}},[]);v.useEffect(()=>{U()},[U]);const te=v.useMemo(()=>{const Z=d.trim().toLowerCase();return[...Z?t.filter(be=>[be.name,be.alphanumeric_id,be.created_at].filter(Boolean).some(_e=>String(_e).toLowerCase().includes(Z))):t].sort((be,_e)=>{let Ne=be[m],xe=_e[m];return m==="created_at"&&(Ne=new Date(be.created_at).getTime(),xe=new Date(_e.created_at).getTime()),Ne<xe?x==="asc"?-1:1:Ne>xe?x==="asc"?1:-1:0})},[t,d,m,x]),we=t.length,re=t.reduce((Z,je)=>Z+(Number(je.leads_count)||0),0),R=t[0]||null,G=Z=>{m===Z?g(je=>je==="asc"?"desc":"asc"):(h(Z),g("desc"))},H=Z=>e(`/user/lead/${Z.id}`);async function I(Z){const je=localStorage.getItem("token");if(!je)return V.error("No authentication token found.");try{const se=await fetch(Xo.FILE(Z),{method:"DELETE",headers:{Authorization:`Bearer ${je}`,Accept:"application/json"}});if(!se.ok)throw new Error(`HTTP ${se.status}`);V.success(" List deleted"),B({open:!1,id:null,name:""}),n(be=>be.filter(_e=>_e.id!==Z))}catch(se){V.error((se==null?void 0:se.message)||"Delete failed")}}async function A(){const Z=localStorage.getItem("token");if(!Z)return V.error("No authentication token found.");if(!k)return V.info("Choose a CSV file");if(!j.trim())return V.info("Enter a name");P(!0);try{const je=new FormData;je.append("file",k),je.append("name",j.trim());const se=await fetch(Xo.FILES,{method:"POST",headers:{Authorization:`Bearer ${Z}`},body:je});if(!se.ok){const be=await se.text();throw new Error(be||`HTTP ${se.status}`)}V.success(" List created"),w(!1),_(null),S("New List"),U()}catch(je){V.error((je==null?void 0:je.message)||"Upload failed")}finally{P(!1)}}async function D(){const Z=localStorage.getItem("token");if(!Z)return V.error("No authentication token found.");const je=async be=>{const _e=await fetch(be,{method:"POST",headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}});let Ne={};try{Ne=await _e.json()}catch{}if(!_e.ok){const xe=(Ne==null?void 0:Ne.detail)||(Ne==null?void 0:Ne.error)||(Ne==null?void 0:Ne.message)||`HTTP ${_e.status}`;throw new Error(xe)}return Ne},se=[{name:"HubSpot",url:Xo.SYNC.HUBSPOT},{name:"GHL",url:Xo.SYNC.GHL},{name:"monday.com",url:Xo.SYNC.MONDAY}];try{F(!0);const be=await Promise.allSettled(se.map(Be=>je(Be.url)));let _e=0,Ne=0,xe=0,ze=0;be.forEach((Be,Se)=>{var ie,Y,ge;const q=se[Se].name;if(Be.status==="fulfilled"){ze++;const Te=Array.isArray((ie=Be.value)==null?void 0:ie.details)?Be.value.details[0]:((Y=Be.value)==null?void 0:Y.details)||{};_e+=Number((Te==null?void 0:Te.created_leads)||0),Ne+=Number((Te==null?void 0:Te.updated_leads)||0),xe+=Number((Te==null?void 0:Te.fetched_contacts)||0),V.success(`${q}:  ${(Te==null?void 0:Te.created_leads)||0} new, ${(Te==null?void 0:Te.updated_leads)||0} updated`,{autoClose:2500})}else{const Te=String(((ge=Be.reason)==null?void 0:ge.message)||Be.reason||"error");V.info(`${q}: ${Te.includes("Not connected")?"Not connected":` ${Te}`}`,{autoClose:3e3})}}),V.success(`Sync complete: ${ze}/${se.length} OK  fetched ${xe}, created ${_e}, updated ${Ne}.`),setTimeout(U,1200)}catch(be){V.error((be==null?void 0:be.message)||"Sync failed")}finally{F(!1)}}function $(Z){Z.preventDefault(),E(!0)}function W(Z){Z.preventDefault(),E(!1)}function ce(Z){var se;Z.preventDefault(),E(!1);const je=(se=Z.dataTransfer.files)==null?void 0:se[0];if(je){if(!Q(je))return V.info("Please drop a .csv file");_(je)}}function Q(Z){const je=/\.csv$/i.test(Z.name),se=Z.type==="text/csv"||Z.type==="application/vnd.ms-excel"||Z.type==="";return je||se}return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(Ad,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${Vue}`,children:"Lists"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create and manage your CSV lists. Sync leads from connected CRMs (HubSpot, GHL, monday.com)."})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(br,{onClick:()=>w(!0),variant:"primary",children:[r.jsx(rs,{className:"mr-2 h-4 w-4"})," New List"]}),r.jsx(br,{onClick:U,disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"})," Refresh"]})}),r.jsx(br,{onClick:D,disabled:K,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:K?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):r.jsx(r.Fragment,{children:"SYNC LEADS"})})]})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Oh,{label:"Total Lists",value:we}),r.jsx(Oh,{label:"Total Leads",value:re,tone:"cyan"}),r.jsx(Oh,{label:"Last Created",value:R&&R.name||""}),r.jsx(Oh,{label:"Newest Date",value:R?Rh(R.created_at):"",tone:"cyan"})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:d,onChange:Z=>f(Z.target.value),placeholder:"Search by name, ID, date",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),r.jsx("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0 text-xs font-medium",children:"Sort"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Bb,{label:"Name",active:m==="name",dir:x,onClick:()=>G("name")}),r.jsx(Bb,{label:"Leads",active:m==="leads_count",dir:x,onClick:()=>G("leads_count")}),r.jsx(Bb,{label:"Created",active:m==="created_at",dir:x,onClick:()=>G("created_at")})]})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:["All Lists (",te.length,")"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"})," Live"]})]}),a?r.jsxs("div",{className:"grid place-content-center py-16",children:[r.jsx(Xe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading lists"})]}):l?r.jsx("div",{className:"grid place-content-center py-16 px-4 text-center text-sm text-red-600",children:l}):te.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(Ad,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try searching or upload a CSV"}),r.jsx("div",{className:"mt-3",children:r.jsxs(br,{onClick:()=>w(!0),variant:"primary",children:[r.jsx(rs,{className:"h-4 w-4 mr-2"})," New List"]})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block w-full",children:r.jsxs("table",{className:"w-full table-fixed",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Mh,{children:"Name"}),r.jsx(Mh,{children:"Leads"}),r.jsx(Mh,{children:"Created"}),r.jsx(Mh,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:te.map(Z=>r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsxs(Dh,{children:[r.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-2 min-w-0",children:[r.jsx("span",{className:"truncate max-w-[22rem]",children:Z.name}),r.jsx(LT,{id:Z.alphanumeric_id})]}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["#",Z.id]})]}),r.jsx(Dh,{children:r.jsx("span",{className:"text-sm font-semibold text-slate-800",children:Z.leads_count??0})}),r.jsx(Dh,{children:r.jsx("span",{className:"text-sm text-slate-800",children:Rh(Z.created_at)})}),r.jsx(Dh,{children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(br,{onClick:()=>H(Z),size:"sm",title:"View",children:r.jsx(Sn,{className:"h-4 w-4"})}),r.jsx(br,{onClick:()=>B({open:!0,id:Z.id,name:Z.name}),variant:"danger",size:"sm",title:"Delete",children:r.jsx(er,{className:"h-4 w-4"})})]})})]},Z.id))})]})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:te.map(Z=>r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-4",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-base font-bold text-slate-900 truncate",title:Z.name,children:Z.name}),r.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-600",children:[r.jsx(LT,{id:Z.alphanumeric_id}),r.jsxs("span",{className:"text-[11px] text-slate-500",children:["ID #",Z.id]})]}),r.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("div",{className:"text-xs text-slate-500",children:"Leads"}),r.jsx("div",{className:"font-semibold text-slate-900",children:Z.leads_count??0})]}),r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("div",{className:"text-xs text-slate-500",children:"Created"}),r.jsx("div",{className:"font-semibold text-slate-900 truncate",title:Rh(Z.created_at),children:Rh(Z.created_at)})]})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsxs(br,{onClick:()=>H(Z),size:"sm",className:"grow sm:grow-0",children:[r.jsx(Sn,{className:"h-4 w-4 mr-1"})," View"]}),r.jsxs(br,{onClick:()=>B({open:!0,id:Z.id,name:Z.name}),variant:"danger",size:"sm",className:"grow sm:grow-0",children:[r.jsx(er,{className:"h-4 w-4 mr-1"})," Delete"]})]})]},Z.id))})})]})]})]}),r.jsx(Et,{children:b&&r.jsx(RT,{onClose:()=>w(!1),title:"Create New List",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"List name"}),r.jsx("input",{value:j,onChange:Z=>S(Z.target.value),placeholder:"e.g., July Prospects",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),r.jsxs("div",{onDragOver:$,onDragLeave:W,onDrop:ce,className:ML("relative grid place-items-center rounded-2xl border-2 border-dashed px-4 py-10 transition",T?"border-blue-500 bg-blue-50/60":"border-slate-300 bg-slate-50/60 hover:bg-slate-50"),children:[r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"mb-2 rounded-xl bg-white p-3 shadow",children:r.jsx(Ad,{className:"h-6 w-6 text-slate-700"})}),r.jsx("p",{className:"text-sm text-slate-700",children:"Drag & drop your CSV here, or"}),r.jsxs(br,{type:"button",onClick:()=>{var Z;return(Z=L.current)==null?void 0:Z.click()},variant:"primary",className:"mt-2",children:[r.jsx(Hz,{className:"h-4 w-4 mr-2"})," Browse Files"]}),r.jsx("input",{ref:L,type:"file",accept:".csv,text/csv",onChange:Z=>{var se;const je=((se=Z.target.files)==null?void 0:se[0])||null;if(!je)return _(null);if(!Q(je)){V.info("Please choose a .csv file"),Z.target.value="";return}_(je)},className:"hidden"}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Only .csv files are supported."})]}),k&&r.jsxs("div",{className:"absolute left-4 bottom-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow",children:[r.jsx(Ad,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate max-w-[14rem]",children:k.name}),r.jsxs("span",{className:"opacity-70",children:[" ",que(k.size)]}),r.jsx("button",{onClick:()=>_(null),className:"ml-1 rounded-full p-1 hover:bg-slate-100",title:"Remove file",children:r.jsx(fr,{className:"h-3.5 w-3.5"})})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[r.jsx(br,{onClick:()=>w(!1),variant:"subtle",children:"Cancel"}),r.jsx(br,{onClick:A,disabled:C,variant:"primary",children:C?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"})," Uploading"]}):r.jsxs(r.Fragment,{children:[r.jsx(rs,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})}),r.jsx(Et,{children:M.open&&r.jsxs(RT,{onClose:()=>B({open:!1,id:null,name:""}),title:"Delete List?",children:[r.jsxs("p",{className:"text-slate-700 mb-4",children:["This will permanently remove ",r.jsx("b",{className:"text-slate-900 break-words",children:M.name})," and all its leads."]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(br,{onClick:()=>B({open:!1,id:null,name:""}),variant:"subtle",children:"Cancel"}),r.jsxs(br,{onClick:()=>I(M.id),variant:"danger",children:[r.jsx(er,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]})}function Rh(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function que(e){if(!Number.isFinite(e))return"0 B";const t=["B","KB","MB","GB"];let n=0;for(;e>=1024&&n<t.length-1;)e/=1024,n++;return`${e.toFixed(e>=10||n===0?0:1)} ${t[n]}`}function Bb({label:e,active:t,dir:n,onClick:a}){const s=n==="asc"?Dz:Ez;return r.jsxs("button",{onClick:a,className:ML("inline-flex items-center gap-1 rounded-xl border px-3 py-2",t?"border-blue-300 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[e," ",t&&r.jsx(s,{className:"h-4 w-4"})]})}const Mi="https://aisdr-dbt.ddns.net",Kue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Gue(e,t=250){const[n,a]=v.useState(e);return v.useEffect(()=>{const s=setTimeout(()=>a(e),t);return()=>clearTimeout(s)},[e,t]),n}function Yue(){const e=Gt(),{id:t}=bf(),n=Number(t),[a,s]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState([]),[m,h]=v.useState(!0),[x,g]=v.useState(!1),[b,w]=v.useState(""),[j,S]=v.useState(""),k=Gue(j,250),[_,C]=v.useState(""),[P,T]=v.useState("add_date"),[E,L]=v.useState("desc"),[M,B]=v.useState(1),[K,F]=v.useState(10),[U,te]=v.useState(!1),[we,re]=v.useState(!1),[R,G]=v.useState(!1),[H,I]=v.useState(!1),[A,D]=v.useState(null),[$,W]=v.useState(null),[ce,Q]=v.useState(!1),[Z,je]=v.useState(!1),[se,be]=v.useState(!1),[_e,Ne]=v.useState(null),xe=v.useRef(localStorage.getItem("token")||null),[ze,Be]=v.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[Se,q]=v.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[ie,Y]=v.useState({vapi_assistant_id:"",assistant_id:"",number:"",first_name:"",last_name:"",email:"",lead_id:null}),ge=v.useCallback(async()=>{const X=xe.current;if(!X){h(!1),w("No auth token found"),V.error("No authentication token found.");return}try{h(!0),w("");const ee=await fetch(`${Mi}/api/leads${n?`?file_id=${n}`:""}`,{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ae=await ee.json();s(Array.isArray(ae)?ae:[])}catch(ee){w((ee==null?void 0:ee.message)||"Failed to load leads"),V.error((ee==null?void 0:ee.message)||"Failed to load leads")}finally{h(!1)}},[n]),Te=v.useCallback(async()=>{const X=xe.current;if(!X||!n){c([]);return}try{const ee=await fetch(`${Mi}/api/files/${n}/dynamic-columns`,{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ae=await ee.json();c(Array.isArray(ae==null?void 0:ae.columns)?ae.columns:[])}catch(ee){c([]),console.warn("Dynamic columns fetch failed:",ee)}},[n]),Re=v.useCallback(async()=>{const X=xe.current;try{const ee=await fetch(`${Mi}/api/get-assistants`,{headers:{Authorization:X?`Bearer ${X}`:"",Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ae=await ee.json(),et=(Array.isArray(ae)?ae:Array.isArray(ae==null?void 0:ae.assistants)?ae.assistants:[]).filter(mt=>mt==null?void 0:mt.vapi_assistant_id);f(et)}catch(ee){console.error(ee),V.error("Failed to load assistants"),f([])}},[]);v.useEffect(()=>{ge(),Te(),Re()},[t]);const Pe=v.useMemo(()=>{const X=new Set;return a.forEach(ee=>(ee==null?void 0:ee.state)&&X.add(ee.state)),Array.from(X).sort((ee,ae)=>ee.localeCompare(ae))},[a]),Je=v.useMemo(()=>{const X=k.trim().toLowerCase();return a.filter(ae=>{var et,mt;return _&&(ae.state||"")!==_?!1:X?[ae.first_name,ae.last_name,ae.email,ae.mobile,ae.salesforce_id,(et=ae==null?void 0:ae.other_data)==null?void 0:et.Custom_0,(mt=ae==null?void 0:ae.other_data)==null?void 0:mt.Custom_1].concat(Object.values((ae==null?void 0:ae.other_data)||{})).filter(Boolean).map(at=>String(at).toLowerCase()).some(at=>at.includes(X)):!0})},[a,k,_]),Ze=v.useMemo(()=>{const X=[...Je],ee=E==="asc"?1:-1;return X.sort((ae,qe)=>{const et=`${ae.first_name||""} ${ae.last_name||""}`.trim(),mt=`${qe.first_name||""} ${qe.last_name||""}`.trim();let at,kt;switch(P){case"name":at=et.toLowerCase(),kt=mt.toLowerCase();break;case"email":at=(ae.email||"").toLowerCase(),kt=(qe.email||"").toLowerCase();break;case"mobile":at=(ae.mobile||"").toLowerCase(),kt=(qe.mobile||"").toLowerCase();break;case"add_date":default:at=new Date(ae.add_date||0).getTime(),kt=new Date(qe.add_date||0).getTime()}return at<kt?-1*ee:at>kt?1*ee:0}),X},[Je,P,E]),ye=Ze.length,Oe=Math.max(1,Math.ceil(ye/K));v.useEffect(()=>{M>Oe&&B(Oe)},[M,Oe]);const Le=(M-1)*K,De=Ze.slice(Le,Le+K),Ie=a[a.length-1]||null,ot=X=>{var ee,ae;D(X.id),q({first_name:X.first_name||"",last_name:X.last_name||"",email:X.email||"",mobile:X.mobile||"",salesforce_id:X.salesforce_id||"",custom0:((ee=X==null?void 0:X.other_data)==null?void 0:ee.Custom_0)||"",custom1:((ae=X==null?void 0:X.other_data)==null?void 0:ae.Custom_1)||"",add_date:X.add_date||new Date().toISOString()}),G(!0)},Nt=async()=>{const X=xe.current;if(!(!X||!A))try{I(!0);const ee={first_name:Se.first_name.trim(),last_name:Se.last_name.trim(),email:Se.email.trim(),mobile:Se.mobile.trim(),salesforce_id:Se.salesforce_id.trim(),add_date:Se.add_date,other_data:{Custom_0:Se.custom0||"",Custom_1:Se.custom1||""}},ae=await fetch(`${Mi}/api/leads/${A}`,{method:"PUT",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"},body:JSON.stringify(ee)}),qe=await ae.json();if(!ae.ok||(qe==null?void 0:qe.success)===!1)throw new Error((qe==null?void 0:qe.detail)||`HTTP ${ae.status}`);V.success((qe==null?void 0:qe.detail)||"Lead updated"),G(!1),D(null),ge()}catch(ee){V.error((ee==null?void 0:ee.message)||"Update failed")}finally{I(!1)}},nr=async()=>{const X=xe.current;if(!X)return V.error("Missing token");if(!ze.first_name||!ze.last_name||!ze.email||!ze.mobile)return V.info("Please fill first, last, email and mobile.");try{re(!0);const ee={first_name:ze.first_name.trim(),last_name:ze.last_name.trim(),email:ze.email.trim(),add_date:ze.add_date,mobile:ze.mobile.trim(),file_id:n||null,salesforce_id:ze.salesforce_id.trim(),other_data:{Custom_0:ze.custom0||"",Custom_1:ze.custom1||""}},ae=await fetch(`${Mi}/api/add_manually_lead`,{method:"POST",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"},body:JSON.stringify(ee)});if(!ae.ok)throw new Error(`HTTP ${ae.status}`);await ae.json(),V.success("Lead added"),te(!1),Be({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),ge()}catch(ee){V.error((ee==null?void 0:ee.message)||"Failed to add lead")}finally{re(!1)}},mr=async()=>{const X=xe.current;if(!(!X||!$))try{const ee=await fetch(`${Mi}/api/leads`,{method:"DELETE",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"},body:JSON.stringify({ids:[$]})});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);await ee.json(),V.success("Lead deleted"),W(null),se&&be(!1),ge()}catch(ee){V.error((ee==null?void 0:ee.message)||"Delete failed")}},bn=async()=>{const X=xe.current;if(!X)return V.error("Missing token");try{g(!0);const ee=await fetch(`${Mi}/api/crm/ingest/hubspot`,{method:"POST",headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),ae=await ee.json().catch(()=>({}));if(!ee.ok||(ae==null?void 0:ae.success)===!1)throw new Error((ae==null?void 0:ae.detail)||`HTTP ${ee.status}`);V.success(`Synced HubSpot: ${(ae==null?void 0:ae.created)||0} created, ${(ae==null?void 0:ae.updated)||0} updated`),ge()}catch(ee){V.error((ee==null?void 0:ee.message)||"HubSpot sync failed")}finally{g(!1)}},$n=X=>{if(!X)return"";const ee=String(X).trim();return ee.startsWith("+")?"+"+ee.slice(1).replace(/\D+/g,""):ee.replace(/\D+/g,"")},In=X=>{var qe,et,mt,at,kt,Pt,ba,mn,St,en;const ae=[X==null?void 0:X.mobile,X==null?void 0:X.phone,(qe=X==null?void 0:X.other_data)==null?void 0:qe.phone,(et=X==null?void 0:X.other_data)==null?void 0:et.Phone,(mt=X==null?void 0:X.other_data)==null?void 0:mt.mobile,(at=X==null?void 0:X.other_data)==null?void 0:at.Mobile,(kt=X==null?void 0:X.other_data)==null?void 0:kt.telephone,(Pt=X==null?void 0:X.other_data)==null?void 0:Pt.Telephone,(ba=X==null?void 0:X.other_data)==null?void 0:ba.cell,(mn=X==null?void 0:X.other_data)==null?void 0:mn.Cell,(St=X==null?void 0:X.other_data)==null?void 0:St.Custom_0,(en=X==null?void 0:X.other_data)==null?void 0:en.Custom_1].filter(Boolean).find(Boolean);return $n(ae||"")},hr=X=>{const ee=In(X);ee||V.info("No phone number on this lead  you can still enter one to call.");const ae=localStorage.getItem("lastAssistantId")||"",qe=d.find(et=>String(et.id)===String(ae)&&(et==null?void 0:et.vapi_assistant_id))||d.find(et=>et==null?void 0:et.vapi_assistant_id)||null;Y({vapi_assistant_id:(qe==null?void 0:qe.vapi_assistant_id)||"",assistant_id:(qe==null?void 0:qe.id)||"",number:ee,first_name:X.first_name||"",last_name:X.last_name||"",email:X.email||"",lead_id:X.id}),Q(!0)},ii=async X=>{if(X.preventDefault(),Z)return;const ee=xe.current,{vapi_assistant_id:ae,number:qe,first_name:et,last_name:mt,email:at}=ie;if(!ae)return V.error("Select an assistant first");if(!qe)return V.error("Enter a phone number");const kt=$n(qe);if(!kt)return V.error("Invalid phone number");try{je(!0);const Pt=`${Mi}/api/phone-call/${encodeURIComponent(ae)}/${encodeURIComponent(kt)}`,ba={first_name:et||"Caller",last_name:mt||"",email:at||"caller@example.com",add_date:new Date().toISOString(),mobile_no:kt,custom_field_01:null,custom_field_02:null},mn=await fetch(Pt,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:ee?`Bearer ${ee}`:""},body:JSON.stringify(ba)}),St=await mn.json().catch(()=>({}));if(!mn.ok||(St==null?void 0:St.success)===!1)throw new Error((St==null?void 0:St.detail)||`HTTP ${mn.status}`);ie.assistant_id&&localStorage.setItem("lastAssistantId",String(ie.assistant_id)),V.success("Call initiated"),Q(!1)}catch(Pt){V.error((Pt==null?void 0:Pt.message)||"Failed to initiate call")}finally{je(!1)}},de=()=>{if(Ze.length===0)return V.info("Nothing to export.");const X=["id","first_name","last_name","email","mobile","salesforce_id","state","add_date"],ee=Array.from(new Set(["Custom_0","Custom_1",...l])),ae=[...X,...ee],qe=Ze.map(Pt=>{const ba=[Pt.id??"",Di(Pt.first_name),Di(Pt.last_name),Di(Pt.email),Di(Pt.mobile),Di(Pt.salesforce_id),Di(Pt.state),Di(Pt.add_date)],mn=ee.map(St=>{var en;return Di((en=Pt==null?void 0:Pt.other_data)==null?void 0:en[St])});return[...ba,...mn]}),et=[ae,...qe].map(Pt=>Pt.join(",")).join(`
`),mt=new Blob([et],{type:"text/csv;charset=utf-8;"}),at=URL.createObjectURL(mt),kt=document.createElement("a");kt.href=at,kt.download=`leads_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(kt),kt.click(),document.body.removeChild(kt),URL.revokeObjectURL(at)};return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(Sn,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${Kue}`,children:"Leads"})}),r.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["File: ",r.jsx("b",{children:n||""})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(Ut,{onClick:()=>te(!0),variant:"primary",children:[r.jsx(rs,{className:"mr-2 h-4 w-4"})," New Lead"]}),r.jsx(Ut,{onClick:bn,disabled:x,children:x?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Sync HubSpot"]})}),r.jsx(Ut,{onClick:()=>e("/user/upload-csv"),children:"Upload CSV"}),r.jsxs(Ut,{onClick:de,children:[r.jsx(Qd,{className:"mr-2 h-4 w-4"}),"Export"]}),r.jsxs(Ut,{onClick:ge,children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[r.jsx(Ub,{label:"Total Leads",value:ye}),r.jsx(Ub,{label:"Selected File",value:n||""}),r.jsx(Ub,{label:"Last Created",value:Ie&&`${Ie.first_name||""} ${Ie.last_name||""}`.trim()||"",sub:Ie!=null&&Ie.add_date?$T(Ie.add_date):Ie?"Just now":"No leads yet"})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:j,onChange:X=>{S(X.target.value),B(1)},placeholder:"Search name, email, phone, Salesforce ID",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[r.jsx(Kc,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("select",{value:_,onChange:X=>{C(X.target.value),B(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"",children:"All states"}),Pe.map(X=>r.jsx("option",{value:X,children:X},X))]}),r.jsx("select",{value:`${P}:${E}`,onChange:X=>{const[ee,ae]=X.target.value.split(":");T(ee),L(ae)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[["add_date","desc","Newest"],["add_date","asc","Oldest"],["name","asc","Name AZ"],["name","desc","Name ZA"],["email","asc","Email AZ"],["email","desc","Email ZA"]].map(([X,ee,ae])=>r.jsx("option",{value:`${X}:${ee}`,children:ae},`${X}:${ee}`))}),r.jsx("select",{value:K,onChange:X=>{F(Number(X.target.value)),B(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(X=>r.jsxs("option",{value:X,children:[X," / page"]},X))})]})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:r.jsx(Sn,{className:"h-4 w-4"})}),r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Leads (",Ze.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),m?r.jsxs("div",{className:"grid place-content-center py-16",children:[r.jsx(Xe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading leads"})]}):Ze.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(Sn,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or add a new lead"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Lh,{children:"Name"}),r.jsx(Lh,{children:"Email"}),r.jsx(Lh,{children:"Phone"}),r.jsx(Lh,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:De.map(X=>{const ee=`${X.first_name||""} ${X.last_name||""}`.trim()||"",ae=X.mobile||In(X)||"";return r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx($h,{children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:ee}),r.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",X.id,"  ",X.salesforce_id||"No Ext ID"]})]})}),r.jsx($h,{children:r.jsx("div",{className:"text-xs font-medium text-slate-700 break-words",children:X.email||""})}),r.jsx($h,{children:r.jsx("div",{className:"text-xs font-medium text-slate-700 break-all",children:ae})}),r.jsx($h,{children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Ut,{onClick:()=>hr(X),size:"sm",children:[r.jsx(pt,{className:"h-4 w-4 mr-1"}),"Call"]}),r.jsxs(Ut,{onClick:()=>ot(X),size:"sm",children:[r.jsx($d,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(Ut,{onClick:()=>{Ne(X),be(!0)},size:"sm",children:[r.jsx(Sn,{className:"h-4 w-4 mr-1"}),"More"]})]})})]},X.id)})})]})})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:De.map((X,ee)=>{const ae=`${X.first_name||""} ${X.last_name||""}`.trim()||"",qe=X.mobile||In(X)||"";return r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[ee===0&&r.jsx(Wue,{}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:ae}),r.jsx("div",{className:"mt-1 text-sm text-slate-600 break-words",children:X.email||""}),r.jsx("div",{className:"text-xs text-slate-500 break-all",children:qe})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsxs(Ut,{onClick:()=>hr(X),size:"sm",className:"grow sm:grow-0",children:[r.jsx(pt,{className:"h-4 w-4 mr-1"}),"Call"]}),r.jsxs(Ut,{onClick:()=>ot(X),size:"sm",className:"grow sm:grow-0",children:[r.jsx($d,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(Ut,{onClick:()=>{Ne(X),be(!0)},size:"sm",className:"grow sm:grow-0",children:[r.jsx(Sn,{className:"h-4 w-4 mr-1"}),"More"]})]}),r.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",X.id,"  ",X.salesforce_id||"No Ext ID"]})]},X.id)})})}),Ze.length>K&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("b",{children:Le+1}),"",r.jsx("b",{children:Math.min(Le+K,Ze.length)})," of ",r.jsx("b",{children:Ze.length})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(Ut,{onClick:()=>B(X=>Math.max(1,X-1)),disabled:M===1,children:[r.jsx(ha,{className:"h-4 w-4 mr-1"}),"Prev"]}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Oe)},(X,ee)=>{let ae;if(Oe<=5||M<=3?ae=ee+1:M>=Oe-2?ae=Oe-4+ee:ae=M-2+ee,ae<1||ae>Oe)return null;const qe=M===ae;return r.jsx("button",{onClick:()=>B(ae),className:`px-3 py-2 text-sm font-semibold rounded-xl ${qe?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:ae},ae)})}),r.jsxs(Ut,{onClick:()=>B(X=>Math.min(Oe,X+1)),disabled:M>=Oe,children:["Next",r.jsx(Kn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),r.jsx(Et,{children:U&&r.jsxs(Ih,{onClose:()=>te(!1),title:"Create Lead",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(xn,{label:"First name",children:r.jsx("input",{value:ze.first_name,onChange:X=>Be(ee=>({...ee,first_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Last name",children:r.jsx("input",{value:ze.last_name,onChange:X=>Be(ee=>({...ee,last_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Email",children:r.jsx("input",{type:"email",value:ze.email,onChange:X=>Be(ee=>({...ee,email:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Mobile (digits only)",children:r.jsx("input",{value:ze.mobile,onChange:X=>Be(ee=>({...ee,mobile:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"External ID",children:r.jsx("input",{value:ze.salesforce_id,onChange:X=>Be(ee=>({...ee,salesforce_id:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Add date (ISO)",children:r.jsx("input",{value:ze.add_date,onChange:X=>Be(ee=>({...ee,add_date:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"2025-08-13T10:00:00.000Z"})}),r.jsx(xn,{label:"Custom_0",children:r.jsx("input",{value:ze.custom0,onChange:X=>Be(ee=>({...ee,custom0:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Custom_1",children:r.jsx("input",{value:ze.custom1,onChange:X=>Be(ee=>({...ee,custom1:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[r.jsx(Ut,{onClick:()=>te(!1),variant:"subtle",children:"Cancel"}),r.jsx(Ut,{onClick:nr,disabled:we||!ze.first_name||!ze.last_name||!ze.email||!ze.mobile,variant:"primary",children:we?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):r.jsxs(r.Fragment,{children:[r.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),r.jsx(Et,{children:R&&r.jsxs(Ih,{onClose:()=>G(!1),title:"Edit Lead",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(xn,{label:"First name",children:r.jsx("input",{value:Se.first_name,onChange:X=>q(ee=>({...ee,first_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Last name",children:r.jsx("input",{value:Se.last_name,onChange:X=>q(ee=>({...ee,last_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Email",children:r.jsx("input",{type:"email",value:Se.email,onChange:X=>q(ee=>({...ee,email:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Mobile (digits only)",children:r.jsx("input",{value:Se.mobile,onChange:X=>q(ee=>({...ee,mobile:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"External ID",children:r.jsx("input",{value:Se.salesforce_id,onChange:X=>q(ee=>({...ee,salesforce_id:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Add date (ISO)",children:r.jsx("input",{value:Se.add_date,onChange:X=>q(ee=>({...ee,add_date:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Custom_0",children:r.jsx("input",{value:Se.custom0,onChange:X=>q(ee=>({...ee,custom0:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Custom_1",children:r.jsx("input",{value:Se.custom1,onChange:X=>q(ee=>({...ee,custom1:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[r.jsx(Ut,{onClick:()=>G(!1),variant:"subtle",children:"Cancel"}),r.jsx(Ut,{onClick:Nt,disabled:H,variant:"primary",children:H?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),r.jsx(Et,{children:ce&&r.jsx(Ih,{onClose:()=>Q(!1),title:"Start Phone Call",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Assistant"}),r.jsxs("select",{value:ie.assistant_id,onChange:X=>{const ee=d.find(ae=>String(ae.id)===String(X.target.value));Y(ae=>({...ae,assistant_id:X.target.value,vapi_assistant_id:(ee==null?void 0:ee.vapi_assistant_id)||""}))},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select assistant"}),d.map(X=>r.jsx("option",{value:X.id,children:X.name||`Assistant ${X.id}`},X.id))]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(xn,{label:"Phone Number",children:r.jsx("input",{value:ie.number,onChange:X=>Y(ee=>({...ee,number:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})}),r.jsx(xn,{label:"Email",children:r.jsx("input",{type:"email",value:ie.email,onChange:X=>Y(ee=>({...ee,email:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"First name",children:r.jsx("input",{value:ie.first_name,onChange:X=>Y(ee=>({...ee,first_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(xn,{label:"Last name",children:r.jsx("input",{value:ie.last_name,onChange:X=>Y(ee=>({...ee,last_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(Ut,{onClick:()=>Q(!1),variant:"subtle",children:"Cancel"}),r.jsx(Ut,{onClick:ii,disabled:Z,variant:"primary",children:Z?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Calling"]}):r.jsxs(r.Fragment,{children:[r.jsx(pt,{className:"h-4 w-4 mr-1"}),"Start Call"]})})]})]})})}),r.jsx(Et,{children:$&&r.jsxs(Ih,{onClose:()=>W(null),title:"Delete Lead?",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"rounded-xl bg-rose-50 p-2 text-rose-600",children:r.jsx(WB,{className:"h-5 w-5"})}),r.jsx("div",{className:"text-slate-800",children:"This will permanently delete this lead. This action cannot be undone."})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[r.jsx(Ut,{onClick:()=>W(null),variant:"subtle",children:"Cancel"}),r.jsxs(Ut,{onClick:mr,variant:"danger",children:[r.jsx(er,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),r.jsx(Et,{children:se&&_e&&r.jsx(Xue,{onClose:()=>be(!1),title:"Lead Details",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-bold text-slate-900 truncate",children:`${_e.first_name||""} ${_e.last_name||""}`.trim()||""}),r.jsx("div",{className:"text-sm text-slate-600 break-words",children:_e.email||""}),r.jsx("div",{className:"text-xs text-slate-500 break-all",children:_e.mobile||In(_e)||""}),r.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID #",_e.id,"  ",_e.salesforce_id||"No Ext ID"]})]})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[r.jsx(Fb,{label:"State",value:_e.state||""}),r.jsx(Fb,{label:"Timezone",value:_e.timezone||""}),r.jsx(Fb,{label:"Added",value:$T(_e.add_date)||""})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Basic Fields"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(Zo,{label:"First name",value:_e.first_name||""}),r.jsx(Zo,{label:"Last name",value:_e.last_name||""}),r.jsx(Zo,{label:"Email",value:_e.email||""}),r.jsx(Zo,{label:"Mobile",value:_e.mobile||In(_e)||""}),r.jsx(Zo,{label:"External ID",value:_e.salesforce_id||""})]})]}),l&&l.length>0&&r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Extra Fields"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(X=>{var ee;return r.jsx(Zo,{label:X,value:((ee=_e==null?void 0:_e.other_data)==null?void 0:ee[X])??""},X)})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Ut,{onClick:()=>hr(_e),children:[r.jsx(pt,{className:"h-4 w-4 mr-1"}),"Call"]}),r.jsxs(Ut,{onClick:()=>ot(_e),children:[r.jsx($d,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(Ut,{onClick:()=>W(_e.id),variant:"danger",children:[r.jsx(er,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})})]})}function Ut({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function Ub({label:e,value:t,sub:n}){return r.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t}),n&&r.jsx("div",{className:"text-sm text-slate-500 mt-1",children:n})]})]})}function Wue(){return r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Lh({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function $h({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function xn({label:e,children:t}){return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Fb({label:e,value:t}){return r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-xs text-slate-500",children:e}),r.jsx("div",{className:"text-lg font-extrabold text-slate-900 break-all",children:t})]})}function Zo({label:e,value:t}){return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),r.jsx("div",{className:"text-sm font-semibold text-slate-800 break-words",children:String(t??"")})]})}function Ih({children:e,onClose:t,title:n}){return r.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(Ut,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:r.jsx(fr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Xue({children:e,onClose:t,title:n}){return r.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),r.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(Ut,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:r.jsx(fr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function $T(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function Di(e){if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t}const Zue=()=>{const[e,t]=v.useState(null),[n,a]=v.useState(!1),[s,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(!0),[h,x]=v.useState(0),[g,b]=v.useState(""),w=v.useRef(null),{id:j}=bf(),S=5*1024*1024,k="https://aisdr-dbt.ddns.net",_=()=>localStorage.getItem("token"),C=K=>{K&&K.type==="text/csv"?K.size>S?M("File size exceeds 5MB limit.",!1):t(K):M("Please upload a valid CSV file.",!1)},P=K=>{const F=K.target.files[0];C(F)},T=()=>w.current.click(),E=()=>{const K=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,F=new Blob([K],{type:"text/csv"}),U=window.URL.createObjectURL(F),te=document.createElement("a");te.href=U,te.download="sample_users.csv",te.click(),window.URL.revokeObjectURL(U)},L=async()=>{if(!e)return M("No file selected.",!1);if(!g.trim())return M("Please provide a list name.",!1);const K=_();if(!K)return M("Please log in first.",!1);const F=new FormData;F.append("file",e),F.append("name",g);try{a(!0),x(50);const U=await fetch(`${k}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${K}`},body:F});if(x(100),U.ok)M("CSV file uploaded successfully!",!0),t(null),b(""),w.current&&(w.current.value="");else{const te=await U.json();throw new Error(te.detail||`HTTP ${U.status}`)}}catch(U){console.error(U),M("Upload failed. Please try again.",!1)}finally{a(!1),x(0)}},M=(K,F)=>{d(K),m(F),l(!0)},B=K=>K<1024?`${K} B`:K<1024*1024?`${(K/1024).toFixed(2)} KB`:`${(K/(1024*1024)).toFixed(2)} MB`;return r.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[r.jsx("div",{className:"w-full max-w-3xl bg-white p-10 rounded-2xl shadow-lg border border-gray-200 transition-all hover:shadow-xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx(FO,{className:"mx-auto text-5xl text-blue-400 mb-6 animate-pulse"}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Upload Your CSV File"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Drag & drop a CSV file or click to select. Max size: 5MB."}),r.jsx("input",{type:"text",placeholder:"Enter list name",value:g,onChange:K=>b(K.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[r.jsx("input",{type:"file",accept:".csv",onChange:P,ref:w,className:"hidden"}),r.jsx("button",{onClick:T,className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600 transition",children:"Choose File"}),r.jsxs("button",{onClick:E,className:"bg-white text-blue-600 border border-blue-300 px-6 py-3 rounded-xl shadow-sm hover:bg-blue-50 transition flex items-center gap-2",children:[r.jsx(BO,{})," Sample CSV"]})]}),e&&r.jsxs("div",{className:"mt-6 text-gray-600 bg-blue-50 p-4 rounded-xl border border-blue-200 text-left",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"File:"})," ",e.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Size:"})," ",B(e.size)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),r.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[r.jsx("button",{onClick:L,disabled:n||!e,className:`w-full bg-blue-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition 
            ${n||!e?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:n?"Uploading...":"Upload CSV"}),n&&r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]}),s&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f?r.jsx(zO,{className:"text-green-500 text-2xl"}):r.jsx(UO,{className:"text-red-500 text-2xl"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload Status"})]}),r.jsx("p",{className:"text-gray-600 mb-6",children:c}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>l(!1),className:"bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600 transition",children:"Okay"})})]})})]})},Vb={},h0="https://aisdr-dbt.ddns.net",p0=(Vb==null?void 0:Vb.VITE_API_PREFIX)||"/api",Dr=`${h0}${p0}/campaigns/campaigns`,Rr={LIST:Dr,CREATE:Dr,DETAIL:e=>`${Dr}/${e}`,STATS:e=>`${Dr}/${e}/stats`,SCHEDULE:e=>`${Dr}/${e}/schedule`,RETRY:e=>`${Dr}/${e}/retry-policy`,PAUSE:e=>`${Dr}/${e}/pause`,RESUME:e=>`${Dr}/${e}/resume`,STOP:e=>`${Dr}/${e}/stop`,RUN_NOW:e=>`${Dr}/${e}/run-now`,ICS:e=>`${Dr}/${e}/calendar.ics`,DELETE:e=>`${Dr}/${e}`,REFRESH_LEADS:e=>`${Dr}/${e}/refresh-leads`},Hb={FILES:`${h0}${p0}/files`,ASSISTANTS:`${h0}${p0}/get-assistants`,LEADS:e=>`${h0}${p0}/leads${e?`?file_id=${e}`:""}`};function za(...e){return e.filter(Boolean).join(" ")}const x0=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function Que(e,t=250){const[n,a]=v.useState(e);return v.useEffect(()=>{const s=setTimeout(()=>a(e),t);return()=>clearTimeout(s)},[e,t]),n}function qb(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}function Jue(e){try{const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function zh(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${n}-${a}-${s}T${l}:${c}`}function Bh(e){if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()}function ede(e){if(!e)return"";const t=new Date(e).getTime();if(Number.isNaN(t))return"";const n=Math.max(0,t-Date.now()),a=Math.floor(n/1e3),s=Math.floor(a/60),l=a%60;return s>0?`${s}m ${l}s`:`${l}s`}const la={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},Kb={show:{transition:{staggerChildren:.05}}},IT={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}},zT={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:30,duration:.4}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},tde={hidden:{opacity:0,scale:.8,y:50},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,duration:.5}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.3}}},nde={hidden:{opacity:0,x:20},show:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2}}};function Aa({children:e,tone:t="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200",orange:"bg-orange-100 text-orange-700 ring-orange-200",purple:"bg-purple-100 text-purple-700 ring-purple-200",amber:"bg-amber-100 text-amber-700 ring-amber-200",indigo:"bg-indigo-100 text-indigo-700 ring-indigo-200"};return r.jsx(he.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},className:za("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[t]||n.slate),children:e})}function Gb({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":a==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":a==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return r.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Uh({status:e}){const t=String(e||"").toLowerCase();return t==="scheduled"?r.jsx(Aa,{tone:"blue",children:"Scheduled"}):t==="running"?r.jsx(Aa,{tone:"green",children:"Running"}):t==="paused"?r.jsx(Aa,{tone:"orange",children:"Paused"}):t==="stopped"?r.jsx(Aa,{tone:"red",children:"Stopped"}):t==="completed"?r.jsx(Aa,{tone:"purple",children:"Completed"}):t==="draft"?r.jsx(Aa,{tone:"slate",children:"Draft"}):r.jsx(Aa,{tone:"slate",children:x0(e)})}const DL=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York"},{value:"America/Chicago",label:"America/Chicago"},{value:"America/Denver",label:"America/Denver"},{value:"America/Los_Angeles",label:"America/Los_Angeles"},{value:"America/Phoenix",label:"America/Phoenix"},{value:"Europe/London",label:"Europe/London"},{value:"Europe/Berlin",label:"Europe/Berlin"},{value:"Europe/Paris",label:"Europe/Paris"},{value:"Asia/Karachi",label:"Asia/Karachi"},{value:"Asia/Kolkata",label:"Asia/Kolkata"},{value:"Asia/Singapore",label:"Asia/Singapore"},{value:"Asia/Tokyo",label:"Asia/Tokyo"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Australia/Sydney",label:"Australia/Sydney"}];function RL(e,t){const n=Number(e)||0,a=Number(t)||0;if(a<=0)return 0;const s=Math.round(n/a*100);return Math.min(100,Math.max(0,s))}function LL({active:e=!1}){return e?r.jsxs("span",{className:"relative inline-flex h-2.5 w-2.5",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60"}),r.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}):null}function BT({done:e,total:t,status:n}){const a=RL(e,t),s=["scheduled","running"].includes(String(n||"").toLowerCase());return r.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[r.jsx("div",{className:"relative h-2 w-36 rounded-full bg-slate-200 overflow-hidden",children:r.jsx(he.div,{className:za("h-full bg-gradient-to-r from-blue-500 to-cyan-500",s&&"shadow-[0_0_0_2px_rgba(59,130,246,0.15)]"),initial:{width:0},animate:{width:`${a}%`},transition:{type:"spring",stiffness:160,damping:20}})}),r.jsxs("div",{className:"text-xs font-medium text-slate-700 tabular-nums",children:[Number(e)||0,"/",Number(t)||0]}),r.jsx(LL,{active:s})]})}function rde({totals:e}){const t=(e==null?void 0:e.total)||0,n=(e==null?void 0:e.done)||0,a=(e==null?void 0:e.calling)||0,s=(e==null?void 0:e.retry)||0,l=(e==null?void 0:e.pending)||0,c=d=>t>0?`${d/t*100}%`:"0%";return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"h-3 w-full rounded-full bg-slate-200 overflow-hidden ring-1 ring-white/60 relative",children:[r.jsx(he.div,{className:"h-full bg-emerald-500 absolute left-0 top-0",style:{width:c(n)},initial:{width:0},animate:{width:c(n)}}),r.jsx(he.div,{className:"h-full bg-indigo-500 absolute left-0 top-0",style:{width:c(n+a)},initial:{width:0},animate:{width:c(n+a)}}),r.jsx(he.div,{className:"h-full bg-amber-500 absolute left-0 top-0",style:{width:c(n+a+s)},initial:{width:0},animate:{width:c(n+a+s)}})]}),r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-700",children:[r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx("span",{className:"h-2 w-2 rounded bg-emerald-500"}),"Done ",n]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx("span",{className:"h-2 w-2 rounded bg-indigo-500"}),"Calling ",a]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx("span",{className:"h-2 w-2 rounded bg-amber-500"}),"Retry ",s]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx("span",{className:"h-2 w-2 rounded bg-slate-400"}),"Pending ",l]}),r.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[RL(n,t),"%"]})]})]})}function UT(){var et,mt,at,kt,Pt,ba,mn,St,en,ds,uo,qf,Kf,ou,li,fo,fs,ms,oi,hs;const e=v.useRef(localStorage.getItem("token")||null),[t,n]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState([]),[m,h]=v.useState([]),[x,g]=v.useState([]),[b,w]=v.useState(!1),[j,S]=v.useState(""),k=Que(j,250),[_,C]=v.useState("created_at"),[P,T]=v.useState("desc"),[E,L]=v.useState(1),[M,B]=v.useState(10),[K,F]=v.useState(!1),[U,te]=v.useState(1),[we,re]=v.useState(!1),[R,G]=v.useState({name:"",file_id:"",assistant_id:"",selection_mode:"ALL",include_lead_ids:[],exclude_lead_ids:[],timezone:"America/Los_Angeles",days_of_week:[0,1,2,3,4],daily_start:"09:00",daily_end:"18:00",start_at:"",end_at:"",calls_per_minute:10,parallel_calls:2,retry_on_busy:!0,busy_retry_delay_minutes:15,max_attempts:3,description:""}),[H,I]=v.useState(""),[A,D]=v.useState(!1),[$,W]=v.useState(null),[ce,Q]=v.useState(!1),[Z,je]=v.useState(null),[se,be]=v.useState(null);v.useEffect(()=>{if(!A||!($!=null&&$.id))return;De($.id),Ie($.id);const oe=setInterval(()=>{De($.id),Ie($.id),xe()},4e3);return()=>clearInterval(oe)},[A,$==null?void 0:$.id]),v.useEffect(()=>{if(!e.current){s(!1),V.error("No auth token found. Please log in.");return}_e()},[]);async function _e(){s(!0);try{await Promise.all([xe(),ze(),Be()])}finally{s(!1)}}async function Ne(oe,Ee={}){if(!e.current)throw V.error("No auth token found. Please log in."),new Error("No token");return await fetch(oe,{...Ee,headers:{...Ee.headers||{},Authorization:`Bearer ${e.current}`}})}async function xe(){try{const oe=await Ne(Rr.LIST);if(!oe.ok)throw new Error(`HTTP ${oe.status}`);const Ee=await oe.json();n(Array.isArray(Ee)?Ee:[])}catch(oe){console.error(oe),V.error("Failed to fetch campaigns"),n([])}}async function ze(){try{const oe=await Ne(Hb.FILES);if(!oe.ok)throw new Error(`HTTP ${oe.status}`);const Ee=await oe.json();f(Array.isArray(Ee)?Ee:(Ee==null?void 0:Ee.items)||[])}catch(oe){console.warn("Files fetch failed:",oe.message),f([])}}async function Be(){try{const oe=await Ne(Hb.ASSISTANTS);if(!oe.ok)throw new Error(`HTTP ${oe.status}`);const Ee=await oe.json(),$e=(Array.isArray(Ee)&&Ee||(Ee==null?void 0:Ee.items)||(Ee==null?void 0:Ee.assistants)||(Ee==null?void 0:Ee.data)||[]).filter(Ue=>Ue&&Ue.id!==void 0&&Ue.id!==null);h($e)}catch(oe){console.warn("Assistants fetch failed:",oe.message),h([])}}async function Se(oe){if(!oe){g([]);return}try{w(!0);const Ee=await Ne(Hb.LEADS(oe));if(!Ee.ok)throw new Error(`HTTP ${Ee.status}`);const He=await Ee.json(),$e=Array.isArray(He)?He:(He==null?void 0:He.leads)||(He==null?void 0:He.items)||[];g($e)}catch(Ee){console.warn("Leads fetch failed:",Ee.message),g([])}finally{w(!1)}}async function q(){c(!0);try{await xe()}finally{c(!1)}}const ie=v.useMemo(()=>{const oe=k.trim().toLowerCase(),Ee=t.filter($e=>oe?[($e.name||"").toLowerCase(),($e.status||"").toLowerCase(),String($e.id||""),String($e.file_id||""),String($e.assistant_id||"")].some(xt=>xt.includes(oe)):!0),He=P==="asc"?1:-1;return Ee.sort(($e,Ue)=>{let xt,rr;switch(_){case"name":xt=($e.name||"").toLowerCase(),rr=(Ue.name||"").toLowerCase();break;case"status":xt=($e.status||"").toLowerCase(),rr=(Ue.status||"").toLowerCase();break;case"calls_per_minute":xt=$e.calls_per_minute||0,rr=Ue.calls_per_minute||0;break;case"created_at":default:xt=new Date($e.created_at||0).getTime(),rr=new Date(Ue.created_at||0).getTime()}return xt<rr?-1*He:xt>rr?1*He:0}),Ee},[t,k,_,P]),Y=ie.length,ge=Math.max(1,Math.ceil(Y/M));v.useEffect(()=>{E>ge&&L(ge)},[E,ge]);const Te=(E-1)*M,Re=Te+M,Pe=ie.slice(Te,Re),Je=v.useMemo(()=>{const oe=ie.length,Ee=ie.filter($e=>($e.status||"").toLowerCase()==="running").length,He=ie.filter($e=>($e.status||"").toLowerCase()==="paused").length;return{total:oe,running:Ee,paused:He}},[ie]);function Ze(oe){const{name:Ee,value:He,type:$e,checked:Ue}=oe.target;G(xt=>{const rr={...xt,[Ee]:$e==="checkbox"?Ue:He};if(Ee==="file_id"){const cu=Number(He)||"";cu?Se(cu):g([]),rr.include_lead_ids=[],rr.exclude_lead_ids=[]}return Ee==="selection_mode"&&(rr.include_lead_ids=[],rr.exclude_lead_ids=[]),rr})}function ye(oe){G(Ee=>{const $e=Ee.days_of_week.includes(oe)?Ee.days_of_week.filter(Ue=>Ue!==oe):[...Ee.days_of_week,oe];return $e.sort((Ue,xt)=>Ue-xt),{...Ee,days_of_week:$e}})}async function Oe(){var Ee,He;if(!R.name||!R.file_id||!R.assistant_id){V.error("Name, File and Assistant are required.");return}if(R.selection_mode!=="ALL"&&R.file_id&&x.length===0){V.error("No leads available for the selected file.");return}const oe={name:String(R.name).trim(),file_id:Number(R.file_id),assistant_id:Number(R.assistant_id),selection_mode:R.selection_mode,include_lead_ids:R.selection_mode==="ONLY"&&((Ee=R.include_lead_ids)!=null&&Ee.length)?R.include_lead_ids:null,exclude_lead_ids:R.selection_mode==="SKIP"&&((He=R.exclude_lead_ids)!=null&&He.length)?R.exclude_lead_ids:null,timezone:R.timezone||"America/Los_Angeles",days_of_week:R.days_of_week,daily_start:R.daily_start||"09:00",daily_end:R.daily_end||"18:00",start_at:Bh(R.start_at),end_at:Bh(R.end_at),calls_per_minute:Number(R.calls_per_minute)||10,parallel_calls:Number(R.parallel_calls)||2,retry_on_busy:!!R.retry_on_busy,busy_retry_delay_minutes:Number(R.busy_retry_delay_minutes)||15,max_attempts:Number(R.max_attempts)||3};try{re(!0);const $e=await Ne(Rr.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)}),Ue=await $e.json().catch(()=>({}));if(!$e.ok||(Ue==null?void 0:Ue.success)===!1)throw new Error((Ue==null?void 0:Ue.detail)||`HTTP ${$e.status}`);V.success((Ue==null?void 0:Ue.detail)||"Campaign created."),F(!1),te(1),G(xt=>({...xt,name:"",include_lead_ids:[],exclude_lead_ids:[]})),await xe()}catch($e){console.error($e),V.error(($e==null?void 0:$e.message)||"Create failed")}finally{re(!1)}}async function Le(oe){W(oe),D(!0),await Promise.all([De(oe.id),Ie(oe.id)])}async function De(oe){if(oe)try{Q(!0);const Ee=await Ne(Rr.DETAIL(oe));if(!Ee.ok)throw new Error(`HTTP ${Ee.status}`);const He=await Ee.json();je(He)}catch(Ee){console.error(Ee),V.error("Failed to load campaign details"),je(null)}finally{Q(!1)}}async function Ie(oe){if(oe)try{const Ee=await Ne(Rr.STATS(oe));if(!Ee.ok)throw new Error(`HTTP ${Ee.status}`);const He=await Ee.json();be(He)}catch(Ee){console.error(Ee)}}async function ot(oe,Ee,He){try{const $e=await Ne(oe(Ee),{method:"POST"}),Ue=await $e.json().catch(()=>({}));if(!$e.ok||(Ue==null?void 0:Ue.success)===!1)throw new Error((Ue==null?void 0:Ue.detail)||`HTTP ${$e.status}`);V.success((Ue==null?void 0:Ue.detail)||He),await xe(),$&&$.id===Ee&&(await De(Ee),await Ie(Ee))}catch($e){console.error($e),V.error(($e==null?void 0:$e.message)||"Action failed")}}const Nt=oe=>ot(Rr.PAUSE,oe,"Paused"),nr=oe=>ot(Rr.RESUME,oe,"Resumed"),mr=oe=>ot(Rr.STOP,oe,"Stopped"),bn=oe=>ot(Rr.REFRESH_LEADS,oe,"Leads synced");async function $n(oe){if(confirm("Delete this campaign and its progress rows?"))try{const Ee=await Ne(Rr.DELETE(oe),{method:"DELETE"}),He=await Ee.json().catch(()=>({}));if(!Ee.ok||(He==null?void 0:He.success)===!1)throw new Error((He==null?void 0:He.detail)||`HTTP ${Ee.status}`);V.success((He==null?void 0:He.detail)||"Deleted"),D(!1),W(null),await xe()}catch(Ee){console.error(Ee),V.error((Ee==null?void 0:Ee.message)||"Delete failed")}}async function In(oe,Ee){try{const He=await Ne(Rr.RUN_NOW(oe),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch_size:Number(Ee)||5})}),$e=await He.json().catch(()=>({}));if(!He.ok||($e==null?void 0:$e.success)===!1)throw new Error(($e==null?void 0:$e.detail)||`HTTP ${He.status}`);V.success(($e==null?void 0:$e.detail)||"Triggered."),await Ie(oe)}catch(He){console.error(He),V.error((He==null?void 0:He.message)||"Run-now failed")}}async function hr(oe,Ee){var $e;const He={timezone:Ee.timezone||void 0,days_of_week:($e=Ee.days_of_week)!=null&&$e.length?Ee.days_of_week:void 0,daily_start:Ee.daily_start||void 0,daily_end:Ee.daily_end||void 0,start_at:Bh(Ee.start_at),end_at:Bh(Ee.end_at)};try{const Ue=await Ne(Rr.SCHEDULE(oe),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(He)}),xt=await Ue.json().catch(()=>({}));if(!Ue.ok||(xt==null?void 0:xt.success)===!1)throw new Error((xt==null?void 0:xt.detail)||`HTTP ${Ue.status}`);V.success((xt==null?void 0:xt.detail)||"Schedule updated"),await xe(),await De(oe),await Ie(oe)}catch(Ue){console.error(Ue),V.error((Ue==null?void 0:Ue.message)||"Update failed")}}async function ii(oe,Ee){const He={retry_on_busy:!!Ee.retry_on_busy,busy_retry_delay_minutes:Number(Ee.busy_retry_delay_minutes)||15,max_attempts:Number(Ee.max_attempts)||3};try{const $e=await Ne(Rr.RETRY(oe),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(He)}),Ue=await $e.json().catch(()=>({}));if(!$e.ok||(Ue==null?void 0:Ue.success)===!1)throw new Error((Ue==null?void 0:Ue.detail)||`HTTP ${$e.status}`);V.success((Ue==null?void 0:Ue.detail)||"Retry policy updated"),await De(oe),await Ie(oe)}catch($e){console.error($e),V.error(($e==null?void 0:$e.message)||"Update failed")}}async function de(oe,Ee="campaign"){try{const He=await Ne(Rr.ICS(oe));if(!He.ok)throw new Error(`HTTP ${He.status}`);const $e=await He.blob(),Ue=URL.createObjectURL($e),xt=document.createElement("a");xt.href=Ue,xt.download=`${Ee||"campaign"}.ics`,document.body.appendChild(xt),xt.click(),xt.remove(),URL.revokeObjectURL(Ue)}catch(He){console.error(He),V.error("ICS download failed")}}const X=()=>{F(!0),te(1)},ee=()=>{F(!1),te(1),G(oe=>({...oe,name:"",include_lead_ids:[],exclude_lead_ids:[]}))},ae=()=>{te(oe=>Math.min(6,oe+1))},qe=()=>{te(oe=>Math.max(1,oe-1))};return r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsxs("main",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[r.jsxs(he.div,{initial:"hidden",animate:"show",variants:la,className:"mb-6 sm:mb-8 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:"Campaigns"}),r.jsx("p",{className:"mt-1 text-sm sm:text-base text-slate-600",children:"Manage your calling campaigns and schedules."})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx(Ri,{onClick:q,disabled:l,icon:l?r.jsx(qn,{className:"h-4 w-4 animate-spin"}):r.jsx(Xe,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Refresh"})}),r.jsxs(Vi,{onClick:X,icon:r.jsx(rs,{className:"h-4 w-4"}),children:[r.jsx("span",{className:"hidden sm:inline",children:"Create Campaign"}),r.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),r.jsxs(he.div,{initial:"hidden",animate:"show",variants:zT,className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{className:"relative sm:col-span-1 lg:col-span-2",children:[r.jsx(_r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),r.jsx("input",{value:j,onChange:oe=>{S(oe.target.value),L(1)},placeholder:"Search name, status, IDs",className:"w-full rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 pl-9 sm:pl-10 pr-3 py-2 sm:py-2.5 text-sm sm:text-base text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search campaigns"})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[r.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 hidden sm:block",children:["Total: ",r.jsx("span",{className:"font-semibold text-slate-900",children:Y})]}),r.jsx("select",{value:M,onChange:oe=>{B(Number(oe.target.value)),L(1)},className:"rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[10,20,40,80].map(oe=>r.jsxs("option",{value:oe,children:[oe," / page"]},oe))})]})]}),r.jsxs(he.div,{initial:"hidden",animate:"show",variants:Kb,className:"mt-4 sm:mt-6 grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[r.jsx(he.div,{variants:la,children:r.jsx(Gb,{label:"Total Campaigns",value:Je.total,Icon:or,tone:"blue"})}),r.jsx(he.div,{variants:la,children:r.jsx(Gb,{label:"Running",value:Je.running,Icon:Jn,tone:"cyan"})}),r.jsx(he.div,{variants:la,className:"sm:col-span-2 lg:col-span-1",children:r.jsx(Gb,{label:"Paused",value:Je.paused,Icon:fa,tone:"blue"})})]}),r.jsx(he.div,{initial:"hidden",animate:"show",variants:zT,className:"mt-4 sm:mt-6 overflow-x-auto rounded-2xl sm:rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:r.jsxs("div",{className:"min-w-full",children:[r.jsx("div",{className:"block sm:hidden",children:a?r.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3}).map((oe,Ee)=>r.jsx("div",{className:"animate-pulse bg-slate-100 rounded-xl p-4 h-24"},Ee))}):r.jsx("div",{className:"divide-y divide-slate-200",children:Pe.map((oe,Ee)=>{var Ue,xt;const He=((Ue=oe.counts)==null?void 0:Ue.total)||0,$e=((xt=oe.counts)==null?void 0:xt.completed_or_failed)||0;return r.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Ee*.05},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>Le(oe),children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:x0(oe.name)}),r.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",oe.id]})]}),r.jsx(Uh,{status:oe.status})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[r.jsx("span",{children:qb(oe.created_at)}),r.jsxs("span",{children:[He," leads"]})]}),r.jsx(BT,{done:$e,total:He,status:oe.status})]},oe.id)})})}),r.jsxs("table",{className:"hidden sm:table min-w-full text-left",children:[r.jsx("thead",{className:"bg-slate-50/50 backdrop-blur",children:r.jsxs("tr",{children:[r.jsx(Xb,{sortKey:"name",sortBy:_,sortDir:P,onSort:oe=>Wb(oe,C,T),children:"Name"}),r.jsx(Xb,{sortKey:"status",sortBy:_,sortDir:P,onSort:oe=>Wb(oe,C,T),children:"Status"}),r.jsx("th",{className:"px-5 py-3 font-semibold",children:"File"}),r.jsx("th",{className:"px-5 py-3 font-semibold",children:"Assistant"}),r.jsx(Xb,{sortKey:"calls_per_minute",sortBy:_,sortDir:P,onSort:oe=>Wb(oe,C,T),children:"Pacing"}),r.jsx("th",{className:"px-5 py-3 font-semibold",children:"Created"}),r.jsx("th",{className:"px-5 py-3 font-semibold",children:"Leads"}),r.jsx("th",{className:"px-5 py-3 font-semibold",children:"Progress"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:a?r.jsx(ode,{rows:M,cols:9}):Pe.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-5 py-4 text-center text-sm text-slate-500",children:"No campaigns found."})}):Pe.map(oe=>{var $e,Ue;const Ee=(($e=oe.counts)==null?void 0:$e.total)||0,He=((Ue=oe.counts)==null?void 0:Ue.completed_or_failed)||0;return r.jsxs("tr",{className:"group/row hover:bg-slate-50/50 transition-colors",children:[r.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:r.jsx("button",{onClick:()=>Le(oe),className:"group/cell flex items-center gap-2 text-left",children:x0(oe.name)})}),r.jsx("td",{className:"px-5 py-3",children:r.jsx(Uh,{status:oe.status})}),r.jsx("td",{className:"px-5 py-3 text-slate-700",children:oe.file_id}),r.jsx("td",{className:"px-5 py-3 text-slate-700",children:oe.assistant_id}),r.jsx("td",{className:"px-5 py-3 text-slate-700",children:oe.calls_per_minute}),r.jsx("td",{className:"px-5 py-3 text-slate-600",children:qb(oe.created_at)}),r.jsx("td",{className:"px-5 py-3 text-slate-700",children:Ee}),r.jsx("td",{className:"px-5 py-3",children:r.jsx(BT,{done:He,total:Ee,status:oe.status})}),r.jsx("td",{className:"px-5 py-3 text-right",children:r.jsxs("div",{className:"invisible group-hover/row:visible flex items-center justify-end gap-2",children:[r.jsx(Ri,{onClick:()=>de(oe.id,oe==null?void 0:oe.name),icon:r.jsx(Qd,{className:"h-4 w-4"}),children:"ICS"}),r.jsx(Ri,{onClick:()=>Le(oe),icon:r.jsx(Sn,{className:"h-4 w-4"}),children:"Details"})]})})]},oe.id)})})]})]})}),r.jsxs(he.div,{initial:"hidden",animate:"show",variants:la,className:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 order-2 sm:order-1",children:["Showing ",Y===0?0:(E-1)*M+1,"",Math.min(E*M,Y)," of ",Y]}),r.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[r.jsxs(pp,{disabled:E<=1,onClick:()=>L(E-1),children:[r.jsx(ha,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),r.jsxs("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-slate-700",children:[E," of ",ge]}),r.jsxs(pp,{disabled:E>=ge,onClick:()=>L(E+1),children:[r.jsx("span",{className:"hidden sm:inline",children:"Next"}),r.jsx(Kn,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]}),r.jsx(Et,{children:K&&r.jsxs(r.Fragment,{children:[r.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:IT,initial:"hidden",animate:"show",exit:"exit",onClick:ee}),r.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:tde,initial:"hidden",animate:"show",exit:"exit",children:r.jsxs("div",{className:"w-full max-w-xs sm:max-w-md lg:max-w-2xl xl:max-w-4xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:r.jsx(rs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Create Campaign"}),r.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Step ",U," of 6"]})]})]}),r.jsx("button",{onClick:ee,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl border border-slate-200 hover:bg-slate-50 flex items-center justify-center transition-colors","aria-label":"Close",children:r.jsx(fr,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),r.jsxs("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-50/50",children:[r.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:[1,2,3,4,5,6].map(oe=>r.jsx(he.div,{className:za("flex-1 h-1.5 sm:h-2 rounded-full transition-colors duration-300",oe<=U?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-slate-200"),initial:{scaleX:0},animate:{scaleX:oe<=U?1:0},transition:{duration:.3,delay:oe*.05}},oe))}),r.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[r.jsx("span",{className:"hidden sm:inline",children:"Details"}),r.jsx("span",{className:"hidden sm:inline",children:"Files"}),r.jsx("span",{className:"hidden sm:inline",children:"Leads"}),r.jsx("span",{className:"hidden sm:inline",children:"Schedule"}),r.jsx("span",{className:"hidden sm:inline",children:"Pacing"}),r.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx(Et,{mode:"wait",children:r.jsxs(he.div,{variants:nde,initial:"hidden",animate:"show",exit:"exit",className:"p-4 sm:p-6 lg:p-8",children:[U===1&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Campaign Details"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Set up the basic information for your campaign."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Name"}),r.jsx("input",{value:R.name,onChange:Ze,name:"name",placeholder:"Enter campaign name",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assistant"}),r.jsxs("select",{value:R.assistant_id,onChange:Ze,name:"assistant_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[r.jsx("option",{value:"",children:"Select assistant"}),m.map(oe=>r.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (optional)"}),r.jsx("textarea",{value:R.description,onChange:Ze,name:"description",placeholder:"Describe your campaign...",rows:3,className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition resize-none"})]})]}),U===2&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select File"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Choose the file containing the leads for your campaign."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File"}),r.jsxs("select",{value:R.file_id,onChange:Ze,name:"file_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[r.jsx("option",{value:"",children:"Select file"}),d.map(oe=>r.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]})]}),U===3&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select Leads"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Choose which leads to include in your campaign."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selection Mode"}),r.jsxs("select",{value:R.selection_mode,onChange:Ze,name:"selection_mode",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[r.jsx("option",{value:"ALL",children:"All Leads"}),r.jsx("option",{value:"ONLY",children:"Only These Leads"}),r.jsx("option",{value:"SKIP",children:"Skip These Leads"})]})]}),R.selection_mode!=="ALL"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(_r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),r.jsx("input",{value:H,onChange:oe=>I(oe.target.value),placeholder:"Search leads",className:"w-full rounded-xl border border-slate-200 px-9 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),b?r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center text-sm text-slate-600",children:[r.jsx(qn,{className:"h-5 w-5 animate-spin mx-auto mb-3"})," Loading leads"]}):r.jsx(lde,{leads:x,mode:R.selection_mode,search:H,selectedIds:R.selection_mode==="ONLY"?R.include_lead_ids:R.exclude_lead_ids,onChange:oe=>{R.selection_mode==="ONLY"?G(Ee=>({...Ee,include_lead_ids:oe})):G(Ee=>({...Ee,exclude_lead_ids:oe}))}})]})]}),U===4&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Schedule"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Set up the schedule for your campaign."})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),r.jsx("select",{name:"timezone",value:R.timezone,onChange:Ze,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:DL.map(oe=>r.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(oe=>r.jsx("button",{type:"button",onClick:()=>ye(oe),className:za("px-3 py-1.5 rounded-xl border text-sm",R.days_of_week.includes(oe)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][oe]},oe))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(jr,{label:"Daily start",name:"daily_start",value:R.daily_start,onChange:Ze,placeholder:"HH:MM"}),r.jsx(jr,{label:"Daily end",name:"daily_end",value:R.daily_end,onChange:Ze,placeholder:"HH:MM"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(jr,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:R.start_at,onChange:Ze}),r.jsx(jr,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:R.end_at,onChange:Ze})]})]})]}),U===5&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Pacing"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Set up the pacing for your campaign."})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsx(jr,{label:"Calls per minute",name:"calls_per_minute",value:R.calls_per_minute,onChange:Ze}),r.jsx(jr,{label:"Parallel calls",name:"parallel_calls",value:R.parallel_calls,onChange:Ze}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!R.retry_on_busy,onChange:Ze}),r.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),r.jsx(jr,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:R.busy_retry_delay_minutes,onChange:Ze}),r.jsx(jr,{label:"Max attempts",name:"max_attempts",value:R.max_attempts,onChange:Ze})]})]}),U===6&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Review"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Review your campaign details before creating."})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Name"}),r.jsx("div",{className:"text-sm text-slate-600",children:R.name||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"File"}),r.jsx("div",{className:"text-sm text-slate-600",children:((et=d.find(oe=>String(oe.id)===String(R.file_id)))==null?void 0:et.name)||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Assistant"}),r.jsx("div",{className:"text-sm text-slate-600",children:((mt=m.find(oe=>String(oe.id)===String(R.assistant_id)))==null?void 0:mt.name)||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Schedule"}),r.jsxs("div",{className:"text-sm text-slate-600",children:[Yb(R.days_of_week),"  ",R.daily_start,"",R.daily_end," (",R.timezone,")"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Pacing"}),r.jsxs("div",{className:"text-sm text-slate-600",children:[R.calls_per_minute," CPM  ",R.parallel_calls," parallel"]})]})]})]})]},U)})}),r.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[r.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:U>1&&r.jsxs(Ri,{onClick:qe,icon:r.jsx(ha,{className:"h-4 w-4"}),children:[r.jsx("span",{className:"hidden sm:inline",children:"Previous"}),r.jsx("span",{className:"sm:hidden",children:"Back"})]})}),r.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:U<6?r.jsxs(Vi,{onClick:ae,icon:r.jsx(Kn,{className:"h-4 w-4"}),children:[r.jsx("span",{className:"hidden sm:inline",children:"Next Step"}),r.jsx("span",{className:"sm:hidden",children:"Next"})]}):r.jsx(Vi,{onClick:Oe,disabled:we,icon:we?r.jsx(qn,{className:"h-4 w-4 animate-spin"}):r.jsx(b0,{className:"h-4 w-4"}),children:we?"Creating...":"Create Campaign"})})]})]})})]})}),r.jsx(Et,{children:A&&r.jsxs(r.Fragment,{children:[r.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:IT,initial:"hidden",animate:"show",exit:"exit",onClick:()=>D(!1)}),r.jsxs(he.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[90vw] md:w-[620px] lg:w-[880px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Campaign details",children:[r.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[r.jsx("button",{onClick:()=>D(!1),className:"grid h-8 w-8 sm:h-9 sm:w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50 flex-shrink-0","aria-label":"Close",children:r.jsx(fr,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight truncate",children:["Campaign #",$==null?void 0:$.id]}),r.jsx("p",{className:"text-xs text-slate-600 truncate",children:x0($==null?void 0:$.name)})]})]}),r.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:r.jsx(Ri,{onClick:()=>de($.id,$==null?void 0:$.name),icon:r.jsx(Qd,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"ICS"})})})]}),r.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Uh,{status:(se==null?void 0:se.status)||(Z==null?void 0:Z.status)||($==null?void 0:$.status)}),r.jsx(LL,{active:!!(se!=null&&se.active_now)}),se!=null&&se.active_now?r.jsx(Aa,{tone:"green",children:"Active now"}):r.jsx(Aa,{tone:"amber",children:"Idle"})]}),r.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-xs sm:text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Uz,{className:"h-4 w-4 text-slate-500"}),r.jsxs("div",{className:"truncate",children:[r.jsx("span",{className:"text-slate-500",children:"Local:"})," ",r.jsx("span",{className:"font-medium text-slate-800",children:qb((at=se==null?void 0:se.now)==null?void 0:at.local)||""})]})]}),r.jsxs("div",{className:"truncate",children:[r.jsx("span",{className:"text-slate-500",children:"Window: "}),r.jsxs("span",{className:"font-medium text-slate-800",children:[Yb(((kt=se==null?void 0:se.window)==null?void 0:kt.days_of_week)??(Z==null?void 0:Z.days_of_week)??($==null?void 0:$.days_of_week))," "," ",((Pt=se==null?void 0:se.window)==null?void 0:Pt.daily_start)||(Z==null?void 0:Z.daily_start)||($==null?void 0:$.daily_start)||"09:00","",((ba=se==null?void 0:se.window)==null?void 0:ba.daily_end)||(Z==null?void 0:Z.daily_end)||($==null?void 0:$.daily_end)||"18:00"," ","(",(se==null?void 0:se.timezone)||(Z==null?void 0:Z.timezone)||($==null?void 0:$.timezone)||"Local",")"]})]}),r.jsxs("div",{className:"truncate",children:[r.jsx("span",{className:"text-slate-500",children:"Next tick:"})," ",r.jsx("span",{className:"font-medium text-slate-800",children:se!=null&&se.next_tick_at?`${Jue(se.next_tick_at)}  in ${ede(se.next_tick_at)}`:""})]})]})]}),r.jsx("div",{className:"mt-3",children:r.jsx(rde,{totals:(se==null?void 0:se.totals)||(Z==null?void 0:Z.totals)})})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[r.jsxs(he.div,{initial:"hidden",animate:"show",variants:Kb,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs(he.div,{variants:la,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[r.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Status"}),r.jsx(Uh,{status:(se==null?void 0:se.status)||(Z==null?void 0:Z.status)||($==null?void 0:$.status)})]}),r.jsxs(he.div,{variants:la,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[r.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Window"}),r.jsxs("div",{className:"text-sm text-slate-800",children:[r.jsx("div",{className:"truncate",children:Yb(((mn=se==null?void 0:se.window)==null?void 0:mn.days_of_week)??(Z==null?void 0:Z.days_of_week)??($==null?void 0:$.days_of_week))}),r.jsx("div",{className:"text-xs sm:text-sm",children:(((St=se==null?void 0:se.window)==null?void 0:St.daily_start)||(Z==null?void 0:Z.daily_start)||($==null?void 0:$.daily_start)||"09:00")+""+(((en=se==null?void 0:se.window)==null?void 0:en.daily_end)||(Z==null?void 0:Z.daily_end)||($==null?void 0:$.daily_end)||"18:00")}),r.jsx("div",{className:"text-xs text-slate-500 truncate",children:(se==null?void 0:se.timezone)||(Z==null?void 0:Z.timezone)||($==null?void 0:$.timezone)||"Local"})]})]}),r.jsxs(he.div,{variants:la,className:"rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 sm:col-span-2 lg:col-span-1",children:[r.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Counts"}),r.jsxs("div",{className:"text-sm text-slate-800 grid grid-cols-2 gap-y-1",children:[r.jsxs("div",{children:["Total: ",((ds=se==null?void 0:se.totals)==null?void 0:ds.total)??((uo=Z==null?void 0:Z.totals)==null?void 0:uo.total)??((qf=$==null?void 0:$.counts)==null?void 0:qf.total)??""]}),r.jsxs("div",{children:["Done: ",((Kf=se==null?void 0:se.totals)==null?void 0:Kf.done)??((ou=Z==null?void 0:Z.totals)==null?void 0:ou.done)??((li=$==null?void 0:$.counts)==null?void 0:li.completed_or_failed)??""]}),r.jsxs("div",{children:["Calling: ",((fo=se==null?void 0:se.totals)==null?void 0:fo.calling)??""]}),r.jsxs("div",{children:["Retry: ",((fs=se==null?void 0:se.totals)==null?void 0:fs.retry)??""]})]})]})]}),r.jsxs(he.div,{initial:"hidden",animate:"show",variants:la,className:"mt-4 flex flex-wrap items-center gap-2",children:[String((se==null?void 0:se.status)||(Z==null?void 0:Z.status)||($==null?void 0:$.status)).toLowerCase()==="paused"?r.jsx(Vi,{onClick:()=>nr($.id),icon:r.jsx(Sf,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Resume"})}):r.jsx(Vi,{onClick:()=>Nt($.id),icon:r.jsx(kB,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Pause"})}),r.jsx(Ri,{onClick:()=>mr($.id),icon:r.jsx(kc,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Stop"})}),r.jsx(Ri,{onClick:()=>bn($.id),icon:r.jsx(Xe,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Sync Leads"})}),r.jsx(Ri,{onClick:()=>$n($.id),icon:r.jsx(er,{className:"h-4 w-4"}),children:r.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]}),r.jsxs(he.div,{initial:"hidden",animate:"show",variants:Kb,className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsx(he.div,{variants:la,children:r.jsx(sde,{details:se!=null&&se.window?{...Z,...se,days_of_week:(ms=se.window)==null?void 0:ms.days_of_week,daily_start:(oi=se.window)==null?void 0:oi.daily_start,daily_end:(hs=se.window)==null?void 0:hs.daily_end,timezone:se.timezone}:Z,onSubmit:oe=>hr($.id,oe),loading:ce})}),r.jsx(he.div,{variants:la,children:r.jsx(ide,{details:Z,onSubmit:oe=>ii($.id,oe),loading:ce})})]}),r.jsx(he.div,{initial:"hidden",animate:"show",variants:la,children:r.jsx(ade,{onRun:oe=>In($.id,oe)})})]})]})]})})]})}function ade({onRun:e}){const[t,n]=v.useState(5);return r.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsxs("div",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[r.jsx(Yw,{className:"h-4 w-4"})," Run Now"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",min:1,className:"w-24 rounded-xl border border-slate-200 px-3 py-2 text-sm",value:t,onChange:a=>n(Number(a.target.value)||5)}),r.jsx(Vi,{onClick:()=>e(t),icon:r.jsx(Sf,{className:"h-4 w-4"}),children:"Trigger"})]})]}),r.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Immediately place a small batch of calls (ignores schedule window)."})]})}function sde({details:e,onSubmit:t,loading:n}){const[a,s]=v.useState({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:zh(e==null?void 0:e.start_at),end_at:zh(e==null?void 0:e.end_at)});v.useEffect(()=>{s({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:zh(e==null?void 0:e.start_at),end_at:zh(e==null?void 0:e.end_at)})},[e]);function l(d){const{name:f,value:m}=d.target;s(h=>({...h,[f]:m}))}function c(d){s(f=>{const h=f.days_of_week.includes(d)?f.days_of_week.filter(x=>x!==d):[...f.days_of_week,d];return h.sort((x,g)=>x-g),{...f,days_of_week:h}})}return r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[r.jsx(qE,{className:"h-4 w-4"})," Schedule"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),r.jsx("select",{name:"timezone",value:a.timezone,onChange:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:DL.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(d=>r.jsx("button",{type:"button",onClick:()=>c(d),className:za("px-3 py-1.5 rounded-xl border text-sm",a.days_of_week.includes(d)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][d]},d))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(jr,{label:"Daily start",name:"daily_start",value:a.daily_start,onChange:l,placeholder:"HH:MM"}),r.jsx(jr,{label:"Daily end",name:"daily_end",value:a.daily_end,onChange:l,placeholder:"HH:MM"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(jr,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:a.start_at,onChange:l}),r.jsx(jr,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:a.end_at,onChange:l})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Vi,{onClick:()=>t(a),disabled:n,children:"Save Schedule"})})]})]})}function ide({details:e,onSubmit:t,loading:n}){const[a,s]=v.useState({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3});v.useEffect(()=>{s({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3})},[e]);function l(c){const{name:d,value:f,type:m,checked:h}=c.target;s(x=>({...x,[d]:m==="checkbox"?h:f}))}return r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[r.jsx(Yw,{className:"h-4 w-4"})," Retry Policy"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!a.retry_on_busy,onChange:l}),r.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),r.jsx(jr,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:a.busy_retry_delay_minutes,onChange:l}),r.jsx(jr,{label:"Max attempts",name:"max_attempts",value:a.max_attempts,onChange:l}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Vi,{onClick:()=>t(a),disabled:n,children:"Save Retry Policy"})})]})]})}function lde({leads:e,mode:t,search:n,selectedIds:a,onChange:s}){const[l,c]=v.useState(1),d=12,f=v.useMemo(()=>{const w=(n||"").toLowerCase().trim();return w?e.filter(j=>`${j.first_name||""} ${j.last_name||""}`.toLowerCase().includes(w)||(j.email||"").toLowerCase().includes(w)||(j.mobile||"").toLowerCase().includes(w)):e},[e,n]),m=Math.max(1,Math.ceil(f.length/d));v.useEffect(()=>{l>m&&c(m)},[l,m]);const h=(l-1)*d,x=h+d,g=f.slice(h,x);function b(w){const j=a.includes(w);s(j?a.filter(S=>S!==w):[...a,w])}return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[r.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:g.length===0?r.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No leads match your search."}):g.map(w=>{const j=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unknown";return r.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:a.includes(w.id),onChange:()=>b(w.id)}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium text-slate-900 text-sm",children:j}),r.jsx("div",{className:"text-xs text-slate-600 break-all",children:(w.email||"")+"  "+(w.mobile||"")})]}),w.dnc?r.jsx(Aa,{tone:"red",children:"DNC"}):r.jsx(Aa,{tone:"green",children:"OK"})]},w.id)})}),f.length>d&&r.jsxs("div",{className:"flex items-center justify-between p-2",children:[r.jsxs("span",{className:"text-xs text-slate-600",children:["Showing ",Math.min(x,f.length)," of ",f.length]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(pp,{disabled:l<=1,onClick:()=>c(w=>Math.max(1,w-1)),children:[r.jsx(ha,{className:"h-3.5 w-3.5"})," Prev"]}),r.jsxs("span",{className:"text-xs text-slate-700",children:[l,"/",m]}),r.jsxs(pp,{disabled:l>=m,onClick:()=>c(w=>Math.min(m,w+1)),children:["Next ",r.jsx(Kn,{className:"h-3.5 w-3.5"})]})]})]}),r.jsxs("div",{className:"p-3 border-t border-slate-200 text-xs text-slate-700",children:["Mode: ",r.jsx("strong",{children:t}),"  Selected: ",r.jsx("strong",{children:a.length})]})]})}function Yb(e){const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=new Set(Array.isArray(e)?e:[]);return n.size===5&&[0,1,2,3,4].every(a=>n.has(a))?"MonFri":n.size===7?"Every day":Array.from(n).sort((a,s)=>a-s).map(a=>t[a]||"?").join(", ")}function Wb(e,t,n){t(a=>a===e?(n(s=>s==="asc"?"desc":"asc"),a):(n(e==="created_at"?"desc":"asc"),e))}function Vi({children:e,onClick:t,disabled:n,icon:a,type:s="button"}){return r.jsxs(he.button,{whileHover:n?void 0:{scale:1.02},whileTap:n?void 0:{scale:.98},type:s,onClick:t,disabled:n,className:za("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-semibold text-white transition-all duration-200","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)] hover:shadow-[0_12px_32px_-12px_rgba(37,99,235,0.65)]","disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[a,r.jsx("span",{className:"whitespace-nowrap",children:e})]})}function Ri({children:e,onClick:t,icon:n,type:a="button",disabled:s}){return r.jsxs(he.button,{whileHover:s?void 0:{scale:1.02},whileTap:s?void 0:{scale:.98},type:a,onClick:t,disabled:s,className:za("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl border border-slate-200 bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-medium text-slate-800 ring-1 ring-white/70 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm",s&&"opacity-60 cursor-not-allowed"),children:[n,r.jsx("span",{className:"whitespace-nowrap",children:e})]})}function pp({children:e,disabled:t,onClick:n}){return r.jsx(he.button,{whileHover:t?void 0:{scale:1.02},whileTap:t?void 0:{scale:.98},disabled:t,onClick:n,className:za("inline-flex items-center gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border px-2.5 sm:px-3.5 py-1.5 sm:py-2 text-xs sm:text-sm transition-all duration-200",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50 hover:shadow-sm"),children:e})}function Xb({children:e,sortKey:t,sortBy:n,sortDir:a,onSort:s}){const l=n===t;return r.jsx("th",{className:za("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:r.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,r.jsx("span",{className:za("text-xs",l?"opacity-100":"opacity-20"),children:l?a==="asc"?"":"":""})]})})}function ode({rows:e=6,cols:t=6}){return r.jsx(r.Fragment,{children:Array.from({length:e}).map((n,a)=>r.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>r.jsx("td",{className:"px-5 py-3",children:r.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},a))})}function jr({label:e,name:t,value:n,onChange:a,type:s="text",placeholder:l,className:c}){return r.jsxs("label",{className:za("block",c),children:[r.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),r.jsx("input",{type:s,name:t,value:n??"",onChange:a,placeholder:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}const Zb={};var jc={};const Ya=typeof import.meta<"u"&&"https://aisdr-dbt.ddns.net"||typeof process<"u"&&(jc==null?void 0:jc.NEXT_PUBLIC_API_URL)||"http://localhost:8000",Wa=typeof import.meta<"u"&&(Zb==null?void 0:Zb.VITE_API_PREFIX)||typeof process<"u"&&(jc==null?void 0:jc.NEXT_PUBLIC_API_PREFIX)||"/api",Fh=typeof window<"u"?window.location.origin:"",cde="/integrations",Qb=["hubspot","ghl","monday"],Xa={PROVIDERS:`${Ya}${Wa}/crm/providers`,ACCOUNTS:`${Ya}${Wa}/crm/accounts`,CONNECT:e=>`${Ya}${Wa}/crm/connect/${e}`,DISCONNECT:e=>`${Ya}${Wa}/crm/disconnect/${e}`,ENSURE_FRESH:e=>`${Ya}${Wa}/crm/ensure-fresh/${e}`,CONTACTS:e=>`${Ya}${Wa}/crm/${e}/contacts`,MONDAY_LIST_BOARDS:`${Ya}${Wa}/crm/monday/boards`,MONDAY_GET_BOARD:`${Ya}${Wa}/crm/monday/board`,MONDAY_SET_BOARD:`${Ya}${Wa}/crm/monday/board`,MONDAY_CLEAR_BOARD:`${Ya}${Wa}/crm/monday/board`},ude="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Rw(...e){return e.filter(Boolean).join(" ")}function dde(e){if(e)return e.properties&&typeof e.properties=="object"?e.properties.company||e.properties.company_name||e.properties.companyname:e.company||e.organization||e.companyName||e.account||void 0}function ir({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function fde({children:e,className:t=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function mde({rows:e=6,cols:t=5}){return r.jsx(r.Fragment,{children:Array.from({length:e}).map((n,a)=>r.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>r.jsx("td",{className:"px-4 py-4",children:r.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},a))})}function hde({children:e,onClose:t,title:n}){return r.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(ir,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:r.jsx(fr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Lw({size:e=24}){return r.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"2"}),r.jsx("circle",{cx:"12",cy:"12",r:"3.6",fill:"#2563eb"})]})}function pde({size:e=24}){return r.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",stroke:"#0ea5e9",strokeWidth:"2"}),r.jsx("path",{d:"M7 12h10",stroke:"#0ea5e9",strokeWidth:"2"}),r.jsx("path",{d:"M12 7v10",stroke:"#0ea5e9",strokeWidth:"2"})]})}function xde({size:e=24}){return r.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[r.jsx("circle",{cx:"8.5",cy:"12",r:"3.3",fill:"#f43f5e"}),r.jsx("circle",{cx:"14.5",cy:"12",r:"3.3",fill:"#f59e0b"}),r.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"1.5",opacity:"0.25"})]})}const Qo={hubspot:{label:"HubSpot",Mark:Lw},ghl:{label:"GHL",Mark:pde},monday:{label:"monday.com",Mark:xde}};function Vh({label:e,value:t,Icon:n,tone:a="blue",valueClassName:s=""}){const l=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl pointer-events-none",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${c} text-white shadow-inner ring-1 ${l} shrink-0`,children:r.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:Rw("text-base sm:text-xl font-extrabold text-slate-900 truncate","min-w-0 max-w-full break-words",s),title:typeof t=="string"?t:void 0,children:t})]})]})]})}function FT({name:e="",size:t=38}){const n=(e||"?").split(" ").filter(Boolean).map(a=>a[0]).join("").slice(0,2).toUpperCase();return r.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:t,height:t},children:r.jsx("span",{style:{fontSize:t<40?12:13},children:n||"?"})})}function gde(){var Pe,Je,Ze;const e=v.useRef(typeof window<"u"&&window.localStorage.getItem("token")||null),[t,n]=v.useState([]),[a,s]=v.useState([]),[l,c]=v.useState(!0),[d,f]=v.useState(!1),[m,h]=v.useState("hubspot"),[x,g]=v.useState(25),[b,w]=v.useState([]),[j,S]=v.useState(null),[k,_]=v.useState({}),[C,P]=v.useState(""),[T,E]=v.useState(!1),[L,M]=v.useState(!1),[B,K]=v.useState(!1),[F,U]=v.useState([]),[te,we]=v.useState(""),[re,R]=v.useState(null),[G,H]=v.useState(null),[I,A]=v.useState(null),D=v.useMemo(()=>{const ye={};for(const Oe of a)ye[Oe.crm]=Oe;return ye},[a]),$=!!D[m],W=D[m],ce=!!D.monday,Q=ce&&I&&typeof I.board_id<"u"&&I.board_id!==null,Z=v.useCallback(async(ye,Oe={})=>{if(!e.current)throw new Error("No token");const Le={Accept:"application/json",...Oe.headers||{},Authorization:`Bearer ${e.current}`};return Oe.body&&!Le["Content-Type"]&&(Le["Content-Type"]="application/json"),await fetch(ye,{...Oe,headers:Le})},[]),je=v.useCallback(async()=>{try{const Oe=await(await Z(Xa.PROVIDERS)).json(),De=(Array.isArray(Oe)?Oe:[]).filter(Ie=>Qb.includes(Ie==null?void 0:Ie.name));n(De),!De.find(Ie=>Ie.name===m)&&De[0]&&h(De[0].name)}catch(ye){console.error(ye),n([]),V.error("Failed to fetch providers")}},[Z,m]),se=v.useCallback(async()=>{var ye;try{const Le=await(await Z(Xa.ACCOUNTS)).json(),De=Array.isArray(Le)?Le:[];s(De.filter(ot=>Qb.includes(ot==null?void 0:ot.crm)));const Ie=De.find(ot=>ot.crm==="monday");if((ye=Ie==null?void 0:Ie.metadata)!=null&&ye.monday){const ot=Ie.metadata.monday;ot.board_id?(A({board_id:ot.board_id,board_name:ot.board_name}),R(ot.board_id),H(ot.board_name||null)):A({board_id:null,board_name:null})}else Ie||A(null)}catch(Oe){console.error(Oe),s([]),V.error("Failed to fetch accounts")}},[Z]);async function be(){var ye;if(ce)try{const Le=await(await Z(Xa.MONDAY_GET_BOARD)).json(),De=(Le==null?void 0:Le.selected)??null,Ie=((ye=Le==null?void 0:Le.meta)==null?void 0:ye.board_name)??null;A(De?{board_id:De,board_name:Ie}:{board_id:null,board_name:null}),De&&(R(De),H(Ie))}catch(Oe){console.error("Fetch selected board failed",Oe)}}v.useEffect(()=>{(async()=>{if(!e.current){V.error("No auth token found. Please log in."),c(!1);return}try{await Promise.all([je(),se()])}finally{c(!1)}})()},[je,se]),v.useEffect(()=>{const ye=new URLSearchParams(window.location.search),Oe=ye.get("status"),Le=ye.get("crm");if(Oe&&window.opener){try{window.opener.postMessage({type:"crm-oauth",status:Oe,crm:Le},Fh)}catch{}window.close()}},[]),v.useEffect(()=>{function ye(Oe){var De;if(Oe.origin!==Fh)return;const Le=Oe.data||{};if(Le.type==="crm-oauth"){const Ie=Le.crm||m;Le.status==="success"?(V.success(`${(((De=Qo[Ie])==null?void 0:De.label)||Ie).toUpperCase()} connected`),Ie==="monday"?se().then(be):se()):(V.error(`OAuth error: ${Le.status||"unknown"}`),se()),f(!1)}}return window.addEventListener("message",ye),()=>window.removeEventListener("message",ye)},[se,m]),v.useEffect(()=>{m==="monday"&&ce&&be()},[m,ce]);async function _e(ye){try{f(!0);const Oe={redirect_to:`${Fh}${cde}`},Le=await Z(Xa.CONNECT(ye),{method:"POST",body:JSON.stringify(Oe)}),De=await Le.json();if(!Le.ok||!(De!=null&&De.auth_url))throw new Error((De==null?void 0:De.detail)||"Failed to start OAuth");const Ie=De.auth_url,ot=680,Nt=760,nr=window.screenX+Math.max(0,(window.outerWidth-ot)/2),mr=window.screenY+Math.max(0,(window.outerHeight-Nt)/2),bn=window.open(Ie,"crm-oauth",`width=${ot},height=${Nt},left=${nr},top=${mr}`);if(!bn){window.location.href=Ie;return}const $n=Date.now(),In=setInterval(async()=>{(bn.closed||Date.now()-$n>12e4)&&(clearInterval(In),await se(),f(!1))},2e3)}catch(Oe){console.error(Oe),V.error((Oe==null?void 0:Oe.message)||"OAuth failed to start"),f(!1)}}async function Ne(ye){try{const Oe=await Z(Xa.ENSURE_FRESH(ye),{method:"POST"}),Le=await Oe.json().catch(()=>({}));if(!Oe.ok||(Le==null?void 0:Le.success)===!1)throw new Error((Le==null?void 0:Le.detail)||`HTTP ${Oe.status}`);V.success("Token refreshed"),await se()}catch(Oe){console.error(Oe),V.error((Oe==null?void 0:Oe.message)||"Refresh failed")}}async function xe(ye){var Oe;if(confirm(`Disconnect ${((Oe=Qo[ye])==null?void 0:Oe.label)||ye}?`))try{const Le=await Z(Xa.DISCONNECT(ye),{method:"DELETE"}),De=await Le.json().catch(()=>({}));if(!Le.ok||(De==null?void 0:De.success)===!1)throw new Error((De==null?void 0:De.detail)||`HTTP ${Le.status}`);V.success((De==null?void 0:De.message)||"Disconnected"),await se(),ye==="monday"&&(A(null),U([]),R(null),H(null)),ye===m&&(w([]),S(null),_({}))}catch(Le){console.error(Le),V.error((Le==null?void 0:Le.message)||"Disconnect failed")}}async function ze(){if(!ce){V.info("Connect monday.com first");return}M(!0),await Be(te)}async function Be(ye){try{K(!0);const Oe=ye?`?search=${encodeURIComponent(ye)}`:"",De=await(await Z(`${Xa.MONDAY_LIST_BOARDS}${Oe}`)).json(),Ie=Array.isArray(De==null?void 0:De.items)?De.items:[];U(Ie);const ot=(De==null?void 0:De.selected_board_id)||(De==null?void 0:De.selected)||null;if(ot){R(ot);const Nt=Ie.find(nr=>String(nr.id)===String(ot));H((Nt==null?void 0:Nt.name)||null)}}catch(Oe){console.error(Oe),V.error("Failed to load boards")}finally{K(!1)}}async function Se(){var ye,Oe;if(!re){V.info("Please select a board");return}try{const Le={board_id:Number(re),board_name:G||void 0},De=await Z(Xa.MONDAY_SET_BOARD,{method:"POST",body:JSON.stringify(Le)}),Ie=await De.json();if(!De.ok||(Ie==null?void 0:Ie.success)===!1)throw new Error((Ie==null?void 0:Ie.detail)||`HTTP ${De.status}`);A({board_id:((ye=Ie.selected)==null?void 0:ye.board_id)??Number(re),board_name:((Oe=Ie.selected)==null?void 0:Oe.board_name)??G??null}),V.success("Board selected"),M(!1),await se(),m==="monday"&&await ie(!0)}catch(Le){console.error(Le),V.error((Le==null?void 0:Le.message)||"Failed to save board")}}async function q(){try{const ye=await Z(Xa.MONDAY_CLEAR_BOARD,{method:"DELETE"}),Oe=await ye.json();if(!ye.ok||(Oe==null?void 0:Oe.success)===!1)throw new Error((Oe==null?void 0:Oe.detail)||`HTTP ${ye.status}`);A({board_id:null,board_name:null}),R(null),H(null),V.success("Board cleared"),w([]),S(null),_({})}catch(ye){console.error(ye),V.error((ye==null?void 0:ye.message)||"Failed to clear board")}}async function ie(ye=!1){var Oe,Le;if(!$){V.info(`Connect ${((Oe=Qo[m])==null?void 0:Oe.label)||m} first`);return}try{E(!0);const De=new URLSearchParams({limit:String(x||25)});let Ie=`${Xa.CONTACTS(m)}?${De.toString()}`;!ye&&j&&(Ie+=`&cursor=${encodeURIComponent(j)}`);const ot=await Z(Ie),Nt=await ot.json();if(m==="monday"&&ot.status===409&&((Le=Nt==null?void 0:Nt.detail)!=null&&Le.needs_board_selection)){V.info("Please choose your Monday board"),M(!0),await Be(te),E(!1);return}if(!ot.ok)throw new Error((Nt==null?void 0:Nt.detail)||`HTTP ${ot.status}`);const nr=((Nt==null?void 0:Nt.items)||[]).map(bn=>({...bn,company:bn.company||dde(bn.raw)})),mr=(Nt==null?void 0:Nt.next_cursor)||null;w(bn=>ye?nr:[...bn,...nr]),S(mr),_((Nt==null?void 0:Nt.raw_paging)||{})}catch(De){console.error(De);const Ie=String((De==null?void 0:De.message)||"");Ie.includes("Invalid paging token")?(V.error("Invalid/expired cursor; starting over."),S(null)):V.error(Ie||"Fetch failed")}finally{E(!1)}}const Y=v.useMemo(()=>{const ye=C.trim().toLowerCase();return ye?b.filter(Oe=>{const Le=(Oe.name||"").toLowerCase(),De=(Oe.email||"").toLowerCase(),Ie=(Oe.phone||"").toLowerCase(),ot=(Oe.company||"").toLowerCase();return Le.includes(ye)||De.includes(ye)||Ie.includes(ye)||ot.includes(ye)}):b},[b,C]),ge=((Pe=Qo[m])==null?void 0:Pe.Mark)||Lw,Te=((Je=Qo[m])==null?void 0:Je.label)||m,Re=m==="monday"&&$&&!Q;return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-5 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(ge,{size:24})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight leading-tight truncate",children:r.jsxs("span",{className:`bg-clip-text text-transparent ${ude}`,children:["CRM Integrations  ",Te]})}),r.jsx("p",{className:"text-[11px] sm:text-xs md:text-sm text-slate-600",children:"Connect your CRM and browse Contacts directly in your app."})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[$?r.jsxs(r.Fragment,{children:[r.jsxs(ir,{onClick:()=>Ne(m),size:"sm",children:[r.jsx(KE,{className:"mr-2 h-4 w-4"}),"Ensure Fresh"]}),m==="monday"&&r.jsxs(ir,{onClick:ze,size:"sm",variant:"subtle",children:[r.jsx(Ev,{className:"mr-2 h-4 w-4"}),Q?"Change Board":"Choose Board"]}),r.jsxs(ir,{onClick:()=>xe(m),variant:"danger",size:"sm",children:[r.jsx(pU,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):r.jsx(ir,{onClick:()=>_e(m),variant:"primary",disabled:d,size:"sm",children:d?r.jsxs(r.Fragment,{children:[r.jsx(qn,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting"]}):r.jsxs(r.Fragment,{children:[r.jsx(pc,{className:"mr-2 h-4 w-4"}),"Connect"]})}),r.jsxs(ir,{onClick:()=>{je(),se()},size:"sm",children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),r.jsx("div",{className:"relative z-10 mt-4 flex flex-wrap gap-2",children:t.filter(ye=>Qb.includes(ye.name)).map(ye=>{var De;const Oe=((De=Qo[ye.name])==null?void 0:De.Mark)||Lw,Le=!!D[ye.name];return r.jsxs("button",{onClick:()=>{h(ye.name),w([]),S(null),_({})},className:Rw("flex items-center gap-2 rounded-xl border px-3 py-1.5 text-xs font-semibold focus:outline-none","transition-colors",ye.name===m?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),title:ye.name,children:[r.jsx(Oe,{size:16}),r.jsx("span",{className:"capitalize",children:ye.name}),Le?r.jsx("span",{className:"ml-1 text-emerald-600",children:""}):r.jsx("span",{className:"ml-1 text-slate-300",children:""})]},ye.name)})}),!$&&(((Ze=t.find(ye=>ye.name===m))==null?void 0:Ze.type)||"oauth")==="oauth"&&r.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 text-[11px] sm:text-[12px] text-slate-500",children:[r.jsx(La,{className:"h-4 w-4 mt-0.5 text-slate-400 shrink-0"}),r.jsxs("span",{className:"min-w-0",children:["Ensure backend env ",r.jsx("code",{children:"ALLOWED_REDIRECT_ORIGINS"})," includes"," ",r.jsx("code",{className:"break-all",children:Fh}),"."]})]}),Re&&r.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2",children:[r.jsx(Ev,{className:"h-4 w-4 text-amber-600 mt-0.5"}),r.jsxs("div",{className:"text-[12px] sm:text-sm text-amber-800",children:["Select a Monday board to view your leads.",r.jsx(ir,{onClick:ze,size:"sm",className:"ml-2",variant:"outline",children:"Choose Board"})]})]})]}),r.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Vh,{label:"Connection",value:$?"Connected":"Not connected",Icon:$?Jn:fa,tone:$?"blue":"cyan"}),r.jsx(Vh,{label:"Contacts Loaded",value:b.length,Icon:or,tone:"cyan"}),r.jsx(Vh,{label:"Next Cursor",value:j?String(j).slice(0,10)+"":"",Icon:Rd,tone:"blue"}),r.jsx(Vh,{label:m==="monday"?"Monday Board":"Account",value:m==="monday"?(I==null?void 0:I.board_name)||(Q?`#${I.board_id}`:"Not selected"):(W==null?void 0:W.external_account_name)||"",Icon:m==="monday"?Ev:_c,tone:"cyan",valueClassName:"truncate break-all max-w-[14ch] sm:max-w-[24ch] md:max-w-[28ch] xl:max-w-[32ch]"})]}),r.jsxs("div",{className:"mt-5 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-3 sm:px-5 py-3 border-b border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:C,onChange:ye=>P(ye.target.value),placeholder:"Search by name, email, phone, company",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[r.jsx(Rd,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Data"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("select",{value:x,onChange:ye=>g(Number(ye.target.value)||25),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(ye=>r.jsxs("option",{value:ye,children:[ye," / page"]},ye))}),r.jsxs(ir,{onClick:()=>ie(!0),disabled:!$||m==="monday"&&!Q,variant:"primary",size:"sm",children:[r.jsx(OB,{className:"mr-2 h-4 w-4"}),"Fetch"]}),r.jsxs(ir,{onClick:()=>ie(!1),disabled:!$||!j,size:"sm",children:[r.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Load more"]})]})]}),T?r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Za,{children:"Name"}),r.jsx(Za,{children:"Email"}),r.jsx(Za,{children:"Phone"}),r.jsx(Za,{children:"Company"}),r.jsx(Za,{children:"ID"})]})}),r.jsx("tbody",{children:r.jsx(mde,{rows:6,cols:5})})]})})}):Y.length===0?r.jsxs("div",{className:"grid place-content-center py-14 px-4",children:[r.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-slate-100 mb-3",children:r.jsx(Rd,{className:"h-8 w-8 text-slate-400"})}),r.jsx("div",{className:"text-sm sm:text-base font-semibold text-slate-700",children:"No data"}),r.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Click ",r.jsx("b",{children:"Fetch"})," to load contacts."]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Za,{children:"Name"}),r.jsx(Za,{children:"Email"}),r.jsx(Za,{children:"Phone"}),r.jsx(Za,{children:"Company"}),r.jsx(Za,{children:"ID"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:Y.map(ye=>r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(xd,{children:r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(FT,{name:ye.name}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:ye.name||""}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID ",ye.id]})]})]})}),r.jsx(xd,{children:r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[r.jsx(pa,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),r.jsx("span",{className:"text-xs font-medium break-words",children:ye.email||""})]})}),r.jsx(xd,{children:r.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[r.jsx(pt,{className:"h-3.5 w-3.5 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium",children:ye.phone||""})]})}),r.jsx(xd,{children:r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[r.jsx(A5,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),r.jsx("span",{className:"text-xs font-medium truncate max-w-[240px]",children:ye.company||""})]})}),r.jsx(xd,{children:r.jsx("code",{className:"text-[11px] text-slate-500 break-all",children:ye.id})})]},`${ye.id}-${ye.email||ye.name||"row"}`))})]})})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Y.map((ye,Oe)=>r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Oe===0&&r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),r.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[r.jsx(FT,{name:ye.name,size:44}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:ye.name||""}),r.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-[12px] sm:text-sm text-slate-600 min-w-0",children:[r.jsx(pa,{className:"h-4 w-4 text-slate-500 shrink-0"}),r.jsx("span",{className:"truncate break-words",children:ye.email||""})]}),r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-slate-700",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px]",children:[r.jsx(pt,{className:"h-3.5 w-3.5 text-slate-500"}),ye.phone||""]}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] min-w-0",children:[r.jsx(A5,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),r.jsx("span",{className:"truncate max-w-[160px] sm:max-w-[200px]",children:ye.company||""})]})]})]})]}),r.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID ",ye.id]})]},`${ye.id}-${ye.email||ye.name||"card"}`))})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-3 sm:px-5 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 min-w-0",children:["Next cursor:"," ",r.jsx("b",{className:"font-mono break-all",children:String(j||"")})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(ir,{onClick:()=>ie(!0),disabled:!$||m==="monday"&&!Q,size:"sm",children:[r.jsx(ha,{className:"h-4 w-4 mr-1"}),"Reset"]}),r.jsxs(ir,{onClick:()=>ie(!1),disabled:!$||!j,variant:"primary",size:"sm",children:["Load more ",r.jsx(Kn,{className:"h-4 w-4 ml-1"})]})]})]}),Object.keys(k||{}).length>0&&r.jsx("div",{className:"hidden sm:block px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[r.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Provider paging (raw)"}),r.jsx("div",{className:"max-w-full overflow-x-auto",children:r.jsx("pre",{className:"text-[11px] text-slate-600 min-w-0",children:JSON.stringify(k,null,2)})})]})})]})]}),r.jsx(Et,{children:L&&r.jsx(hde,{title:"Select your Monday Board",onClose:()=>M(!1),children:r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"text-[12px] text-slate-600",children:["Pick a board to use as your ",r.jsx("b",{children:"Leads"})," source. Youll only see items you own (via People/Owner column) or created, based on backend config."]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:te,onChange:ye=>we(ye.target.value),placeholder:"Search boards by name",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",onKeyDown:ye=>{ye.key==="Enter"&&Be(te)}})]}),r.jsxs(ir,{onClick:()=>Be(te),size:"sm",children:[r.jsx(Xe,{className:"h-4 w-4 mr-1"}),"Search"]})]}),r.jsx("div",{className:"rounded-2xl border border-slate-200",children:r.jsx("div",{className:"max-h-[46vh] overflow-y-auto p-2",children:B?r.jsxs("div",{className:"flex items-center justify-center py-8 text-slate-500",children:[r.jsx(qn,{className:"h-5 w-5 animate-spin mr-2"}),"Loading boards"]}):F.length===0?r.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No boards found."}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:F.map(ye=>{const Oe=String(re)===String(ye.id);return r.jsxs("button",{onClick:()=>{R(ye.id),H(ye.name||null)},className:Rw("text-left rounded-xl border px-3 py-2 transition-colors",Oe?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"),children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:ye.name||`Board ${ye.id}`}),Oe&&r.jsx(fde,{className:"bg-blue-600 text-white",children:"Selected"})]}),r.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID: ",r.jsx("code",{className:"font-mono",children:ye.id})]})]},ye.id)})})})}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[r.jsxs("div",{className:"text-[12px] text-slate-500",children:["Current:"," ",r.jsx("b",{children:I!=null&&I.board_name?I.board_name:I!=null&&I.board_id?`#${I.board_id}`:"None"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ir,{onClick:()=>M(!1),size:"sm",children:"Cancel"}),r.jsx(ir,{onClick:q,size:"sm",variant:"subtle",children:"Clear"}),r.jsx(ir,{onClick:Se,size:"sm",variant:"primary",children:"Save"})]})]})]})})})]})}function Za({children:e}){return r.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function xd({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}const Hh="https://aisdr-dbt.ddns.net",Jb={LIST:`${Hh}/api/appointments`,CREATE:`${Hh}/api/appointments/tool/schedule`,DETAIL:e=>`${Hh}/api/appointments/${e}`,UPDATE:e=>`${Hh}/api/appointments/${e}`},vde="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Ta({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function VT({children:e,className:t=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Jo({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function ec({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Li({label:e,children:t}){return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function $L({children:e,onClose:t,title:n}){return r.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(Ta,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:r.jsx(fr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}const hc=e=>{switch(String(e||"").toLowerCase()){case"scheduled":return{badge:"border-amber-200 bg-amber-50 text-amber-700",icon:x1};case"completed":return{badge:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:Jn};case"cancelled":case"canceled":return{badge:"border-red-200 bg-red-50 text-red-700",icon:fa};default:return{badge:"border-slate-200 bg-slate-50 text-slate-700",icon:x1}}};function $w(e){try{const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return e}}function yde(e){const t=String(e||"").trim().toLowerCase();if(!t)return"";if(t==="noon")return"12:00";if(t==="midnight")return"00:00";const n=t.match(/(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)/i);if(n){let s=parseInt(n[1]);const l=parseInt(n[2]||"0"),c=(n[3]||"").toLowerCase();return c==="pm"&&s<12&&(s+=12),c==="am"&&s===12&&(s=0),`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}const a=t.match(/^(\d{1,2})(?::(\d{1,2}))?$/);if(a){let s=parseInt(a[1]);const l=parseInt(a[2]||"0");if(s<=24&&l<=59)return`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return t}function bde(e){const t=String(e||"").trim();if(!t)return"";const n=t.startsWith("+")?"+":"",a=t.replace(/\D+/g,"");return n+a}function wde(){const[e,t]=v.useState([]),[n,a]=v.useState(!1),[s,l]=v.useState(""),[c,d]=v.useState(""),[f,m]=v.useState("all"),[h,x]=v.useState(""),[g,b]=v.useState(""),[w,j]=v.useState(1),S=10,[k,_]=v.useState(!1),[C,P]=v.useState(!1),[T,E]=v.useState({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),[L,M]=v.useState(null),B=typeof window<"u"?localStorage.getItem("token"):null,K=v.useCallback(async()=>{try{a(!0),l("");const I=await fetch(Jb.LIST,{headers:{Accept:"application/json",...B?{Authorization:`Bearer ${B}`}:{}},mode:"cors"});if(!I.ok)throw new Error(`HTTP ${I.status}`);const A=await I.json(),$=(Array.isArray(A)?A:(A==null?void 0:A.appointments)||[]).map(W=>({id:W.id,title:W.title,notes:W.notes,location:W.location,phone:W.phone,timezone:W.timezone,start_at:W.start_at,end_at:W.end_at,duration_minutes:W.duration_minutes,status:W.status,created_at:W.created_at,updated_at:W.updated_at}));$.sort((W,ce)=>new Date(ce.start_at)-new Date(W.start_at)),t($)}catch(I){l((I==null?void 0:I.message)||"Failed to load appointments"),V.error((I==null?void 0:I.message)||"Failed to load appointments")}finally{a(!1)}},[B]);v.useEffect(()=>{K()},[K]);const F=v.useMemo(()=>{let I=[...e];if(c.trim()){const A=c.trim().toLowerCase();I=I.filter(D=>[D.title,D.location,D.phone,D.notes].map($=>String($||"").toLowerCase()).some($=>$.includes(A)))}if(f!=="all"&&(I=I.filter(A=>String(A.status).toLowerCase()===f)),h){const A=new Date(`${h}T00:00:00`);I=I.filter(D=>new Date(D.start_at)>=A)}if(g){const A=new Date(`${g}T23:59:59`);I=I.filter(D=>new Date(D.start_at)<=A)}return I},[e,c,f,h,g]),U=Math.max(1,Math.ceil(F.length/S)),te=w*S,we=te-S,re=F.slice(we,te);v.useEffect(()=>j(1),[c,f,h,g]);const R=v.useMemo(()=>{const I=e.length,A=e.filter(W=>W.status==="scheduled").length,D=e.filter(W=>W.status==="completed").length,$=e.filter(W=>String(W.status).toLowerCase().startsWith("cancel")).length;return{total:I,scheduled:A,completed:D,cancelled:$}},[e]);async function G(I,A){try{M(I);const D=await fetch(Jb.UPDATE(I),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",...B?{Authorization:`Bearer ${B}`}:{}},body:JSON.stringify({status:A})});if(!D.ok){const $=await D.text();throw new Error(`HTTP ${D.status}${$?`  ${$}`:""}`)}V.success(`Status set to ${A}`),t($=>$.map(W=>W.id===I?{...W,status:A}:W))}catch(D){V.error((D==null?void 0:D.message)||"Failed to update status")}finally{M(null)}}async function H(){const I={title:String(T.title||"").trim(),date:String(T.date||"").trim(),time:yde(T.time),timezone:String(T.timezone||"Asia/Karachi").trim(),durationMinutes:Math.max(1,parseInt(T.durationMinutes||30)),phone:bde(T.phone),location:String(T.location||"").trim(),notes:String(T.notes||"").trim()};if(!I.title)return V.error("Title is required");if(!I.date)return V.error("Date is required");if(!I.time||!/^\d{2}:\d{2}$/.test(I.time))return V.error("Time looks invalid");if(!I.location)return V.error("Location is required");if(!I.phone||I.phone.replace(/\D/g,"").length<11)return V.error("Phone looks invalid");try{P(!0);const A=await fetch(Jb.CREATE,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...B?{Authorization:`Bearer ${B}`}:{}},body:JSON.stringify(I)});if(!A.ok){const $=await A.text();throw new Error(`HTTP ${A.status}${$?`  ${$}`:""}`)}const D=await A.json();V.success(" Appointment created"),_(!1),E({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),t($=>[{id:D.id||crypto.randomUUID(),title:D.title||I.title,notes:D.notes||I.notes,location:D.location||I.location,phone:D.phone||I.phone,timezone:D.timezone||I.timezone,start_at:D.start_at||`${I.date}T${I.time}`,end_at:D.end_at||`${I.date}T${I.time}`,duration_minutes:D.duration_minutes||I.durationMinutes,status:D.status||"scheduled",created_at:D.created_at||new Date().toISOString(),updated_at:D.updated_at||new Date().toISOString()},...$])}catch(A){V.error((A==null?void 0:A.message)||"Failed to create appointment")}finally{P(!1)}}return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(Ra,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${vde}`,children:"Appointments"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create, track, and update appointment statuses."})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(Ta,{onClick:()=>_(!0),variant:"primary",children:[r.jsx(rs,{className:"mr-2 h-4 w-4"})," New Appointment"]}),r.jsx(Ta,{onClick:K,children:n?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(qh,{label:"Total",value:R.total,Icon:Ra,tone:"blue"}),r.jsx(qh,{label:"Scheduled",value:R.scheduled,Icon:x1,tone:"cyan"}),r.jsx(qh,{label:"Completed",value:R.completed,Icon:Jn,tone:"blue"}),r.jsx(qh,{label:"Cancelled",value:R.cancelled,Icon:fa,tone:"cyan"})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:c,onChange:I=>d(I.target.value),placeholder:"Search title, phone, location, notes",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[r.jsx(Kc,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("select",{value:f,onChange:I=>m(I.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"scheduled",children:"Scheduled"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]}),r.jsx("input",{type:"date",value:h,onChange:I=>x(I.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),r.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),r.jsx("input",{type:"date",value:g,onChange:I=>b(I.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),(c||f!=="all"||h||g)&&r.jsx(Ta,{onClick:()=>{d(""),m("all"),x(""),b("")},className:"text-slate-700",children:"Clear"})]})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:r.jsx(Ra,{className:"h-4 w-4"})}),r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Appointments (",F.length,")"]})]}),n&&r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin"}),"Loading"]})]}),s?r.jsx("div",{className:"p-6 text-sm text-red-600",children:s}):F.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(Ra,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No appointments"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try changing filters or create a new one"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Jo,{children:"Title"}),r.jsx(Jo,{children:"When"}),r.jsx(Jo,{children:"Location"}),r.jsx(Jo,{children:"Phone"}),r.jsx(Jo,{children:"Status"}),r.jsx(Jo,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:re.map(I=>{const A=hc(I.status),D=A.icon;return r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(ec,{children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:I.title}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",I.id]})]})}),r.jsx(ec,{children:r.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[r.jsx(Ql,{className:"h-4 w-4 text-slate-500"})," ",$w(I.start_at)]})}),r.jsx(ec,{children:r.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[r.jsx(qs,{className:"h-4 w-4 text-slate-500"})," ",I.location||""]})}),r.jsx(ec,{children:r.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[r.jsx(pt,{className:"h-4 w-4 text-slate-500"})," ",I.phone]})}),r.jsx(ec,{children:r.jsxs(VT,{className:`border ${A.badge}`,children:[r.jsx(D,{className:"mr-1 h-3.5 w-3.5"})," ",String(I.status).charAt(0).toUpperCase()+String(I.status).slice(1)]})}),r.jsx(ec,{children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(HT,{current:I.status,onChange:$=>G(I.id,$),busy:L===I.id}),r.jsx(qT,{a:I})]})})]},I.id)})})]})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:re.map(I=>{const A=hc(I.status),D=A.icon;return r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:I.title}),r.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[r.jsx(Ql,{className:"h-4 w-4 text-slate-500"})," ",$w(I.start_at)]}),r.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[r.jsx(qs,{className:"h-4 w-4 text-slate-500"})," ",I.location||""]}),r.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[r.jsx(pt,{className:"h-4 w-4 text-slate-500"})," ",I.phone]})]}),r.jsxs(VT,{className:`border ${A.badge} shrink-0`,children:[r.jsx(D,{className:"mr-1 h-3.5 w-3.5"})," ",String(I.status).charAt(0).toUpperCase()+String(I.status).slice(1)]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsx(HT,{current:I.status,onChange:$=>G(I.id,$),busy:L===I.id}),r.jsx(qT,{a:I})]}),r.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 break-all",children:["ID #",I.id]})]},I.id)})})}),F.length>S&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("b",{children:we+1}),"",r.jsx("b",{children:Math.min(te,F.length)})," of ",r.jsx("b",{children:F.length})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(Ta,{onClick:()=>j(I=>Math.max(1,I-1)),disabled:w===1,children:[r.jsx(ha,{className:"h-4 w-4 mr-1"})," Prev"]}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,U)},(I,A)=>{let D;if(U<=5||w<=3?D=A+1:w>=U-2?D=U-4+A:D=w-2+A,D<1||D>U)return null;const $=w===D;return r.jsx("button",{onClick:()=>j(D),className:`px-3 py-2 text-sm font-semibold rounded-xl ${$?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:D},D)})}),r.jsxs(Ta,{onClick:()=>j(I=>Math.min(U,I+1)),disabled:w>=U,children:["Next ",r.jsx(Kn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),r.jsx(Et,{children:k&&r.jsxs($L,{onClose:()=>_(!1),title:"New Appointment",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(Li,{label:"Title",children:r.jsx("input",{value:T.title,onChange:I=>E(A=>({...A,title:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Consultation"})}),r.jsx(Li,{label:"Phone",children:r.jsx("input",{value:T.phone,onChange:I=>E(A=>({...A,phone:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+923001234567"})}),r.jsx(Li,{label:"Date",children:r.jsx("input",{type:"date",value:T.date,onChange:I=>E(A=>({...A,date:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(Li,{label:"Time",children:r.jsx("input",{value:T.time,onChange:I=>E(A=>({...A,time:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"15:30 or 3:30 PM"})}),r.jsx(Li,{label:"Location",children:r.jsx("input",{value:T.location,onChange:I=>E(A=>({...A,location:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Clinic, Main St."})}),r.jsx(Li,{label:"Timezone",children:r.jsx("input",{value:T.timezone,onChange:I=>E(A=>({...A,timezone:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Asia/Karachi"})}),r.jsx(Li,{label:"Duration (minutes)",children:r.jsx("input",{type:"number",min:1,max:1440,value:T.durationMinutes,onChange:I=>E(A=>({...A,durationMinutes:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),r.jsx(Li,{label:"Notes",children:r.jsx("textarea",{value:T.notes,onChange:I=>E(A=>({...A,notes:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Any extra details",rows:3})})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[r.jsx(Ta,{onClick:()=>_(!1),variant:"subtle",children:"Cancel"}),r.jsx(Ta,{onClick:H,disabled:C,variant:"primary",children:C?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"})," Creating"]}):r.jsxs(r.Fragment,{children:[r.jsx(rs,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})]})}function qh({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function HT({current:e,onChange:t,busy:n}){const[a,s]=v.useState(!1),l=[{k:"scheduled",label:"Mark Scheduled",tone:hc("scheduled")},{k:"completed",label:"Mark Completed",tone:hc("completed")},{k:"cancelled",label:"Mark Cancelled",tone:hc("cancelled")}],d=hc(e).icon;return r.jsxs("div",{className:"relative",children:[r.jsxs(Ta,{onClick:()=>s(f=>!f),size:"sm",className:"min-w-[150px] justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2 text-slate-800",children:[r.jsx(d,{className:"h-4 w-4"})," ",String(e).charAt(0).toUpperCase()+String(e).slice(1)]}),n?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(Kn,{className:"h-4 w-4 opacity-60"})]}),r.jsx(Et,{children:a&&r.jsx(he.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"absolute z-20 mt-2 w-56 rounded-xl border border-slate-200 bg-white shadow-xl",children:l.map(f=>r.jsxs("button",{onClick:()=>{s(!1),f.k!==e&&t(f.k)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-slate-50",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(f.tone.icon,{className:"h-4 w-4"})," ",f.label]}),String(e)===f.k&&r.jsx(Jn,{className:"h-4 w-4 text-emerald-500"})]},f.k))})})]})}function qT({a:e}){const[t,n]=v.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsxs(Ta,{onClick:()=>n(!0),size:"sm",children:[r.jsx(Sn,{className:"h-4 w-4 mr-1"})," Details"]}),r.jsx(Et,{children:t&&r.jsxs($L,{title:"Appointment Details",onClose:()=>n(!1),children:[r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ra,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"Title:"})," ",e.title]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ql,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"When:"})," ",$w(e.start_at)]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"Location:"})," ",e.location||""]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.phone]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ql,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"Duration:"})," ",e.duration_minutes," min"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(uU,{className:"h-4 w-4 text-slate-500"})," ",r.jsx("span",{className:"font-semibold",children:"Notes:"})," ",e.notes||""]}),r.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",e.id]})]}),r.jsx("div",{className:"mt-5 text-right",children:r.jsx(Ta,{onClick:()=>n(!1),variant:"primary",children:"Close"})})]})})]})}const Kh="https://aisdr-dbt.ddns.net",Gh={FORM_COPY_TOKEN:`${Kh}/api/form/copy-token`,FORM_COPY_WEBHOOK:`${Kh}/api/form/copy-webhook-url`,FORM_COPY_SCRIPT:`${Kh}/api/form/copy-script`,FORM_COPY_WP:`${Kh}/api/form/copy-wordpress-plugin`},jde="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4";async function Yh(e){const t=e.headers.get("content-type")||"",n=await e.text();if(!e.ok){const a=(n==null?void 0:n.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${a}`)}if(!n)return{};if(/application\/json/i.test(t))try{return JSON.parse(n)}catch(a){throw new Error(`Invalid JSON: ${(a==null?void 0:a.message)||""}`)}try{return JSON.parse(n)}catch{throw new Error(`Expected JSON but got '${t||"unknown"}'. Body: ${n.slice(0,300)}`)}}function $i(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),V.success(t)}catch{V.error("Copy failed")}}function Sa({children:e,className:t="",variant:n="outline",size:a="md",type:s="button",onClick:l,disabled:c=!1,title:d}){const f="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",m={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},x=`${f} ${m[a]||m.md} ${h[n]||h.outline} ${t}`;return r.jsx("button",{type:s,className:x,onClick:l,disabled:c,title:d,children:e})}function tc({label:e,hint:t,children:n}){return r.jsxs("div",{className:"min-w-0",children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),n,t?r.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:t}):null]})}function Os({children:e,className:t=""}){return r.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,children:e})}function gd({code:e="",lang:t="text",filename:n="",className:a="",maxHeight:s="max-h-[420px]"}){const l=v.useMemo(()=>e.split(`
`),[e]);return r.jsxs("div",{className:["w-full","bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950","border border-slate-200 dark:border-slate-800","rounded-xl",a].join(" "),children:[r.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 dark:bg-slate-900/70 rounded-t-xl",children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),r.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),r.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),r.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 font-mono truncate",children:n||(t?`snippet.${t}`:"snippet.txt")})]}),r.jsxs("div",{className:["relative border-t border-slate-200 dark:border-slate-800","font-mono text-[11px] sm:text-xs md:text-sm","overflow-auto code-scroll","leading-relaxed","px-3 py-2",s].join(" "),style:{scrollbarWidth:"thin"},children:[r.jsx("div",{className:"md:absolute md:inset-y-0 md:left-0 md:w-8 md:border-r md:border-slate-200 md:dark:border-slate-800 md:flex md:flex-col md:items-end md:pt-2 md:px-1 hidden select-none",children:l.map((c,d)=>r.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 leading-relaxed",children:d+1},d))}),r.jsx("pre",{className:"m-0 p-0 md:pl-10 whitespace-pre min-w-full",children:r.jsx("code",{className:"text-slate-800 dark:text-slate-100",children:e})})]}),r.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 dark:border-slate-800 text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 flex justify-between rounded-b-xl",children:[r.jsx("span",{children:"UTF-8"}),r.jsx("span",{className:"capitalize",children:t||"text"}),r.jsxs("span",{children:["Ln ",l.length]})]})]})}function Nde({url:e}){return r.jsxs(Os,{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Tutorial"}),r.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open video in a new tab",children:[r.jsx(eB,{className:"h-3.5 w-3.5"}),"Open in new tab"]})]}),r.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 overflow-hidden bg-slate-100",children:r.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:r.jsx("video",{controls:!0,playsInline:!0,preload:"metadata",className:"absolute inset-0 h-full w-full object-cover",src:e})})}),r.jsx("p",{className:"mt-2 text-[11px] text-slate-500",children:"Watch inline or open in a new tab. The player scales to the available space and never overflows its card."})]})}function Sde(){const[e,t]=v.useState(!1),[n,a]=v.useState(""),[s,l]=v.useState(""),[c,d]=v.useState(""),[f,m]=v.useState(""),[h,x]=v.useState(!0),[g,b]=v.useState("John"),[w,j]=v.useState("Doe"),[S,k]=v.useState("john@example.com"),[_,C]=v.useState("+15551234567"),[P,T]=v.useState(()=>new Date().toISOString().slice(0,10)),[E,L]=v.useState("14:30"),[M,B]=v.useState(!1),[K,F]=v.useState(null),U=v.useMemo(()=>n?h?n.length<=12?"":`${n.slice(0,6)}${n.slice(-4)}`:n:"",[n,h]),te=v.useCallback(()=>{const A=localStorage.getItem("token");if(!A)throw V.error("No authentication token found."),new Error("Missing auth token");return{Authorization:`Bearer ${A}`,Accept:"application/json"}},[]),we=v.useCallback(async()=>{t(!0);try{{const A=await fetch(Gh.FORM_COPY_TOKEN,{headers:te(),mode:"cors"}),D=await Yh(A);if(!(D!=null&&D.success))throw new Error((D==null?void 0:D.detail)||"Failed to fetch token");a(D.token||"")}{const A=await fetch(Gh.FORM_COPY_WEBHOOK,{headers:te(),mode:"cors"}),D=await Yh(A);if(!(D!=null&&D.success))throw new Error((D==null?void 0:D.detail)||"Failed to fetch webhook URL");l(D.webhook_url||"")}{const A=await fetch(Gh.FORM_COPY_SCRIPT,{headers:te(),mode:"cors"}),D=await Yh(A);if(!(D!=null&&D.success))throw new Error((D==null?void 0:D.detail)||"Failed to fetch script");d(D.script||"")}{const A=await fetch(Gh.FORM_COPY_WP,{headers:te(),mode:"cors"}),D=await Yh(A);if(!(D!=null&&D.success))throw new Error((D==null?void 0:D.detail)||"Failed to fetch plugin");m(D.wordpress_plugin||"")}}catch(A){V.error((A==null?void 0:A.message)||"Failed to load")}finally{t(!1)}},[te]);v.useEffect(()=>{we().catch(()=>{})},[we]);const re=v.useMemo(()=>({form:{first_name:g,last_name:w,email:S,phone:_,date:P,time:E},meta:{source:"FormConnection-Test",sent_at:new Date().toISOString()}}),[g,w,S,_,P,E]),R=async()=>{if(!s)return V.error("Webhook URL not loaded yet.");B(!0),F(null);try{const A=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),D=await A.text();let $;try{$=JSON.parse(D)}catch{$={raw:D}}F($),A.ok?V.success(" Test submitted to webhook"):V.error(`Webhook responded with HTTP ${A.status}`)}catch(A){V.error((A==null?void 0:A.message)||"Test submit failed")}finally{B(!1)}},G=v.useMemo(()=>`curl -X POST \\
  -H "Content-Type: application/json" \\
  -d "${JSON.stringify(re,null,2).replace(/"/g,'\\"')}" \\
  "${s||"https://your-api.example.com/api/form/webhook?token=YOUR_TOKEN"}"`,[re,s]),H=v.useMemo(()=>{const A={form_response:{answers:[{type:"text",text:`${g}`},{type:"text",text:`${w}`},{type:"email",email:`${S}`},{type:"phone_number",phone_number:`${_}`},{type:"date",date:`${P}`}]}};return JSON.stringify(A,null,2)},[g,w,S,_,P]);return r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[r.jsxs(Os,{className:"relative overflow-hidden p-4 sm:p-5",children:[r.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(KE,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Form Connections"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Connect forms to your unified webhook. Well parse, normalize and store as Appointments."})]})]}),r.jsx(Sa,{onClick:we,disabled:e,children:e?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"})," Refresh"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 mr-2"})," Refresh"]})})]})]}),r.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-3",children:[r.jsxs(Os,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_de,{}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Your Webhook Token"}),r.jsx("div",{className:"text-xs text-slate-500",children:"Tenant-scoped auth for /api/form/webhook"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 self-start",children:[r.jsxs(Sa,{size:"sm",variant:"subtle",className:"border-amber-200 text-amber-700 hover:bg-amber-50",onClick:()=>x(A=>!A),children:[h?r.jsx(Sn,{className:"h-4 w-4 mr-1"}):r.jsx(Sc,{className:"h-4 w-4 mr-1"}),h?"Show":"Hide"]}),r.jsxs(Sa,{size:"sm",onClick:()=>$i(n,"Token copied!"),disabled:!n,children:[r.jsx(Ea,{className:"h-4 w-4 mr-1"})," Copy"]})]})]}),r.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:U||""}),r.jsx("div",{className:"mt-3 text-[11px] text-slate-500",children:"Keep this secret. Anyone with the URL containing your token can submit data to your account."})]}),r.jsxs(Os,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pc,{className:"h-5 w-5 text-blue-600 shrink-0"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Webhook URL"}),r.jsx("div",{className:"text-xs text-slate-500",children:"Drop into any platform that can POST"})]})]}),r.jsxs(Sa,{size:"sm",onClick:()=>$i(s,"Webhook URL copied!"),disabled:!s,children:[r.jsx(Ea,{className:"h-4 w-4 mr-1"})," Copy"]})]}),r.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:s||""}),r.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Accepts ",r.jsx("b",{children:"JSON"}),", ",r.jsx("b",{children:"x-www-form-urlencoded"})," and"," ",r.jsx("b",{children:"multipart/form-data"}),". Files are ignored."]})]}),r.jsxs(Os,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yw,{className:"h-5 w-5 text-cyan-600 shrink-0"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Start"})]}),r.jsxs("p",{className:"mt-3 text-sm text-slate-700",children:["Paste this snippet before ",r.jsx("code",{className:"font-mono",children:"</body>"}),"."]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsxs(Sa,{size:"sm",onClick:()=>$i(c,"Script copied!"),disabled:!c,children:[r.jsx(Kz,{className:"h-4 w-4 mr-1"})," Copy Script"]}),r.jsxs(Sa,{size:"sm",onClick:()=>$i(f,"Plugin code copied!"),disabled:!f,children:[r.jsx(RB,{className:"h-4 w-4 mr-1"})," WP Plugin"]})]})]})]}),r.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 xl:grid-cols-2",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsxs(Os,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wU,{className:"h-5 w-5 text-blue-600"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send a Test Submission"})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx(tc,{label:"First name",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pa,{className:"h-4 w-4 text-slate-500 shrink-0"}),r.jsx("input",{value:g,onChange:A=>b(A.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"John"})]})}),r.jsx(tc,{label:"Last name",children:r.jsx("input",{value:w,onChange:A=>j(A.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Doe"})}),r.jsx(tc,{label:"Email",children:r.jsx("input",{type:"email",value:S,onChange:A=>k(A.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),r.jsx(tc,{label:"Phone",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pt,{className:"h-4 w-4 text-slate-500 shrink-0"}),r.jsx("input",{value:_,onChange:A=>C(A.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+15551234567"})]})}),r.jsx(tc,{label:"Date",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ra,{className:"h-4 w-4 text-slate-500 shrink-0"}),r.jsx("input",{type:"date",value:P,onChange:A=>T(A.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),r.jsx(tc,{label:"Time",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ql,{className:"h-4 w-4 text-slate-500 shrink-0"}),r.jsx("input",{type:"time",value:E,onChange:A=>L(A.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[r.jsx(Sa,{onClick:R,variant:"primary",disabled:M||!s,children:M?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"})," ","Sending"]}):r.jsxs(r.Fragment,{children:[r.jsx(KB,{className:"h-4 w-4 mr-2"})," Send Test"]})}),K?r.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-emerald-700",children:[r.jsx(Jn,{className:"h-4 w-4"}),"Response captured"]}):null]}),K?r.jsxs("div",{className:"mt-4",children:[r.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last response"}),r.jsx(gd,{code:JSON.stringify(K,null,2),lang:"json",filename:"response.json",maxHeight:"max-h-[360px]"})]}):null,r.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800 flex gap-2",children:[r.jsx(mU,{className:"h-4 w-4 shrink-0 mt-[1px]"}),r.jsx("div",{className:"leading-relaxed",children:"Tests are processed by your AI structurer in the background (via the background task and/or periodic scanner) and will create/merge an Appointment automatically once parsed."})]})]}),r.jsx(Nde,{url:jde})]}),r.jsxs(Os,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lU,{className:"h-5 w-5 text-cyan-600"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Examples"})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"cURL"}),r.jsxs(Sa,{size:"sm",onClick:()=>$i(G,"cURL copied!"),children:[r.jsx(Ea,{className:"h-4 w-4 mr-1"})," Copy"]})]}),r.jsx("div",{className:"mt-2",children:r.jsx(gd,{code:G,lang:"bash",filename:"embed.sh",maxHeight:"max-h-[280px]"})}),r.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Typeform Payload"}),r.jsxs(Sa,{size:"sm",onClick:()=>$i(H,"JSON copied!"),children:[r.jsx(Ea,{className:"h-4 w-4 mr-1"})," Copy"]})]}),r.jsx("div",{className:"mt-2",children:r.jsx(gd,{code:H,lang:"json",filename:"typeform.json",maxHeight:"max-h-[320px]"})})]})]}),r.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[r.jsxs(Os,{children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(aB,{className:"h-5 w-5 text-blue-600 shrink-0"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Embed Script"})]}),r.jsxs(Sa,{size:"sm",onClick:()=>$i(c,"Script copied!"),disabled:!c,children:[r.jsx(Ea,{className:"h-4 w-4 mr-1"})," Copy"]})]}),r.jsx("div",{className:"mt-3",children:r.jsx(gd,{code:c||"<script>/* not loaded */<\/script>",lang:"html",filename:"embed.html",maxHeight:"max-h-[420px]"})})]}),r.jsxs(Os,{children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ld,{className:"h-5 w-5 text-cyan-600 shrink-0"}),r.jsx("div",{className:"text-sm font-bold text-slate-900",children:"WordPress Plugin"})]}),r.jsxs(Sa,{size:"sm",onClick:()=>$i(f,"Plugin code copied!"),disabled:!f,children:[r.jsx(Ea,{className:"h-4 w-4 mr-1"})," Copy"]})]}),r.jsx("div",{className:"mt-3",children:r.jsx(gd,{code:f||"<?php // not loaded ?>",lang:"php",filename:"plugin.php",maxHeight:"max-h-[420px]"})})]})]})]})]})}function _de(){return r.jsx("span",{className:"inline-grid h-9 w-9 place-content-center rounded-xl bg-blue-600 text-white","aria-hidden":"true",children:""})}function kde(...e){return e.filter(Boolean).join(" ")}const KT="https://aisdr-dbt.ddns.net";function Cde({onClick:e}){const t=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return r.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[r.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),r.jsxs(he.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),r.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),r.jsxs("filter",{id:"glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx(he.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),r.jsx(he.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),r.jsx(he.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function Ade({className:e="",onMenuToggle:t,profilePath:n="/admin/settings"}){const[a,s]=v.useState(""),[l,c]=v.useState(null),[d,f]=v.useState(!1),m=Gt();v.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),v.useEffect(()=>{const b=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${KT}/api/profile-photo`,{headers:b?{Authorization:`Bearer ${b}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${KT}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=b=>b.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:b=40})=>{const w=b;return r.jsxs("button",{type:"button",onClick:()=>m(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[r.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?r.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):r.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(a)})}),r.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),r.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},g=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return r.jsxs("header",{className:kde("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[r.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:r.jsxs("div",{className:"flex items-center justify-between h-full",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[r.jsx(Cde,{onClick:g}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"hidden lg:block",children:[r.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),r.jsxs("div",{className:"relative",children:[r.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Control center for users, leads & calls"}),r.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),r.jsxs("div",{className:"hidden sm:block lg:hidden",children:[r.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),r.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Insights & controls"})]}),r.jsxs("div",{className:"sm:hidden relative",children:[r.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:r.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),r.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[r.jsxs(he.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[r.jsx("div",{className:"relative",children:r.jsx(x,{size:40})}),r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome!"}),r.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:a})]})]}),r.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[r.jsx(x,{size:32}),r.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:a})]}),r.jsx("div",{className:"sm:hidden",children:r.jsx(x,{size:36})}),r.jsxs(he.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[r.jsx(w0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),r.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),r.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function Tde({compact:e=!1}){const t=v.useMemo(()=>[{text:"Make Calls",Icon:pt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Ra,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:Oj,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:or,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Ra,from:"#22D3EE",to:"#2563EB"}],[]),[n,a]=v.useState(0),[s,l]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{const x=t[n].text,g=40,b=28,w=1100;let j;return!c&&s.length<x.length?j=setTimeout(()=>l(x.slice(0,s.length+1)),g):!c&&s.length===x.length?j=setTimeout(()=>d(!0),w):c&&s.length>0?j=setTimeout(()=>l(x.slice(0,s.length-1)),b):c&&s.length===0&&(d(!1),a(S=>(S+1)%t.length)),()=>clearTimeout(j)},[s,c,n,t]);const{Icon:f,from:m,to:h}=t[n];return r.jsxs("div",{className:`relative flex items-center ${e?"justify-center p-3 sm:p-4":"p-4 sm:p-6"}`,children:[r.jsxs("div",{className:"relative mr-0 sm:mr-3",children:[r.jsx(he.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:r.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),r.jsx(he.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[r.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:s}),r.jsx(he.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),r.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function Ede(){const[e,t]=v.useState(!1),[n,a]=v.useState(!1),[s,l]=v.useState(!1),c=us(),d=Gt();v.useEffect(()=>{const h=()=>{const x=window.innerWidth;l(x<768),t(x<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),v.useEffect(()=>{a(!1)},[c.pathname]),v.useEffect(()=>{const h=()=>{s?a(x=>!x):t(x=>!x)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[s]);const f=[{id:"dashboard",label:"Dashboard",icon:Kw,href:"/admin/dashboard",color:"text-blue-600"},{id:"users",label:"Users",icon:or,href:"/admin/Users",color:"text-blue-600"},{id:"phoneNumbers",label:"Call Details",icon:pt,href:"/admin/PhoneCalls",color:"text-orange-600"},{id:"leads",label:"Leads",icon:or,href:"/admin/lead",color:"text-purple-600"},{id:"Phone Numbers",label:"Phone Numbers",icon:or,href:"/admin/callhistory",color:"text-purple-600"}],m=()=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:r.jsx(Tde,{compact:e&&!s})}),r.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:f.map(h=>{const x=h.icon,g=c.pathname===h.href;return r.jsxs("button",{type:"button",onClick:()=>d(h.href),className:`group relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation ${g?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"} ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"} ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?h.label:"",children:[g&&!e&&r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),r.jsx(x,{className:`flex-shrink-0 transition-all duration-200 ${e&&!s?"w-6 h-6":"w-5 h-5"} ${g?h.color:"text-slate-500 group-hover:text-slate-700"} ${g?"scale-110":"group-hover:scale-105"}`}),(!e||s)&&r.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base",children:h.label}),g&&(!e||s)&&r.jsx("div",{className:"ml-auto flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!s&&r.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:r.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?r.jsx(Kn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):r.jsxs(r.Fragment,{children:[r.jsx(ha,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),r.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return r.jsxs(r.Fragment,{children:[!s&&r.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:r.jsx("div",{className:"flex flex-col h-full",children:r.jsx(m,{})})}),s&&r.jsxs("div",{className:"md:hidden",children:[n&&r.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>a(!1),"aria-hidden":"true"}),r.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:r.jsx("div",{className:"flex flex-col h-full",children:r.jsx(m,{})})})]})]})}function Pde(){return r.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[r.jsx(Ede,{}),r.jsxs("div",{className:"flex flex-1 flex-col",children:[r.jsx(Ade,{className:"h-16 border-b"}),r.jsx("main",{className:"flex-1 p-6",children:r.jsx(CE,{})})]})]})}const e1={},Dl="https://aisdr-dbt.ddns.net",Ode=(e1==null?void 0:e1.VITE_AFTER_IMPERSONATE_PATH)||"/",Ii={USERS:`${Dl}/api/admin/users`,USER:e=>`${Dl}/api/admin/users/${e}`,USER_DETAILS:e=>`${Dl}/api/admin/users/${e}/details`,USER_PHOTO_DELETE:e=>`${Dl}/api/admin/users/${e}/profile-photo`,RESET_PASSWORD:e=>`${Dl}/api/admin/users/${e}/reset-password`,IMPERSONATE_LOGIN_AS:`${Dl}/api/admin/impersonate/login-as`},Mde="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",Wh=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${Dl}${t}`},t1=e=>e==="admin"?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200";function vd({children:e,className:t=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Dde(){return r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function yt({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function Rde(){var hr,ii;const[e,t]=v.useState([]),[n,a]=v.useState({total:0,admins:0,verified:0,withPhoto:0}),[s,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(null),[h,x]=v.useState(""),[g,b]=v.useState("all"),[w,j]=v.useState("all"),[S,k]=v.useState(1),_=10,[C,P]=v.useState(!1),[T,E]=v.useState(null),[L,M]=v.useState(!1),[B,K]=v.useState(null),[F,U]=v.useState(!1),[te,we]=v.useState(!1),[re,R]=v.useState(null),[G,H]=v.useState(!1),[I,A]=v.useState(!1),[D,$]=v.useState(null),[W,ce]=v.useState({name:"",email:"",role:"user",setPasswordManually:!1,password:""}),[Q,Z]=v.useState(null),[je,se]=v.useState(!1),[be,_e]=v.useState(null),[Ne,xe]=v.useState(!1),[ze,Be]=v.useState(""),[Se,q]=v.useState(null),[ie,Y]=v.useState(null),[ge,Te]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),Re=v.useCallback(async()=>{if(ge){t([]),a({total:0,admins:0,verified:0,withPhoto:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const de=localStorage.getItem("token");if(!de){t([]),a({total:0,admins:0,verified:0,withPhoto:0}),d("No auth token found."),V.error("No authentication token found.");return}try{l(!0),d("");const X=await fetch(Ii.USERS,{headers:{Authorization:`Bearer ${de}`,Accept:"application/json"},mode:"cors"});if(!X.ok){const at=await X.text();throw new Error(`HTTP ${X.status}${at?`  ${at}`:""}`)}const ee=await X.json();if(!(ee!=null&&ee.success)||!Array.isArray(ee==null?void 0:ee.users))throw new Error("Unexpected response shape.");const ae=(ee.users||[]).map(at=>({id:at.id,name:at.name||"",email:at.email||"",email_verified:!!at.email_verified,role:at.role||"user",profile_photo_url:Wh(at.profile_photo_url||at.profile_photo)}));ae.sort((at,kt)=>at.name.localeCompare(kt.name)),t(ae);const qe=ae.filter(at=>at.role==="admin").length,et=ae.filter(at=>at.email_verified).length,mt=ae.filter(at=>!!at.profile_photo_url).length;a({total:ee.total_users??ae.length,admins:qe,verified:et,withPhoto:mt})}catch(X){d((X==null?void 0:X.message)||"Failed to load users"),V.error((X==null?void 0:X.message)||"Failed to load users")}finally{l(!1)}},[ge]);v.useEffect(()=>{Re()},[Re]);const Pe=v.useMemo(()=>{let de=[...e];if(h.trim()){const X=h.trim().toLowerCase();de=de.filter(ee=>String(ee.name||"").toLowerCase().includes(X)||String(ee.email||"").toLowerCase().includes(X))}return g!=="all"&&(de=de.filter(X=>X.role===g)),w!=="all"&&(de=de.filter(X=>w==="verified"?X.email_verified:!X.email_verified)),de},[e,h,g,w]),Je=Math.max(1,Math.ceil(Pe.length/_)),Ze=S*_,ye=Ze-_,Oe=Pe.slice(ye,Ze);v.useEffect(()=>{k(1)},[h,g,w]);const Le=de=>{E({id:de.id,name:de.name,email:de.email,role:de.role}),P(!0)},De=async()=>{if(!T)return;const de=localStorage.getItem("token");if(!de)return V.error("No authentication token found.");const X={name:String(T.name||"").trim(),email:String(T.email||"").trim(),role:T.role==="admin"?"admin":"user"};try{M(!0);const ee=await fetch(Ii.USER(T.id),{method:"PUT",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);V.success(" User updated"),P(!1),E(null),t(qe=>qe.map(et=>{var mt;return et.id===((mt=ae.updated_user)==null?void 0:mt.id)?{...et,name:ae.updated_user.name,email:ae.updated_user.email,role:ae.updated_user.role,profile_photo_url:Wh(ae.updated_user.profile_photo_url||ae.updated_user.profile_photo)}:et})),Re()}catch(ee){V.error((ee==null?void 0:ee.message)||"Update failed")}finally{M(!1)}},Ie=de=>K(de),ot=async()=>{const de=B;if(!de)return;const X=localStorage.getItem("token");if(!X)return V.error("No authentication token found.");try{m(de);const ee=await fetch(Ii.USER(de),{method:"DELETE",headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);V.success(" User deleted"),t(qe=>qe.filter(et=>et.id!==de)),a(qe=>({...qe,total:Math.max(0,qe.total-1)})),K(null)}catch(ee){V.error((ee==null?void 0:ee.message)||"Delete failed")}finally{m(null)}},Nt=async de=>{const X=localStorage.getItem("token");if(!X){V.error("No authentication token found.");return}try{U(!0),we(!0),R(null);const ee=await fetch(Ii.USER_DETAILS(de.id),{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);R(ae.details)}catch(ee){V.error((ee==null?void 0:ee.message)||"Failed to load details")}finally{we(!1)}},nr=async de=>{const X=localStorage.getItem("token");if(!X)return V.error("No authentication token found.");try{q(de);const ee=await fetch(Ii.USER_PHOTO_DELETE(de),{method:"DELETE",headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);V.success(" Profile photo removed"),t(qe=>qe.map(et=>et.id===de?{...et,profile_photo_url:null}:et)),a(qe=>({...qe,withPhoto:Math.max(0,qe.withPhoto-1)}))}catch(ee){V.error((ee==null?void 0:ee.message)||"Failed to remove photo")}finally{q(null)}},mr=async()=>{const de=localStorage.getItem("token");if(!de)return V.error("No authentication token found.");const X={name:W.name.trim(),email:W.email.trim(),role:W.role,password:W.setPasswordManually?(W.password||"").trim():null};if(!X.name||!X.email)return V.error("Name and email are required.");if(W.setPasswordManually&&X.password.length<6)return V.error("Password must be at least 6 characters.");try{A(!0);const ee=await fetch(Ii.USERS,{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);const qe=ae.created_user,et={id:qe.id,name:qe.name,email:qe.email,role:qe.role||"user",email_verified:!!qe.email_verified,profile_photo_url:Wh(qe.profile_photo_url||qe.profile_photo)};t(mt=>[et,...mt].sort((at,kt)=>at.name.localeCompare(kt.name))),a(mt=>({...mt,total:mt.total+1,admins:mt.admins+(et.role==="admin"?1:0),verified:mt.verified+(et.email_verified?1:0),withPhoto:mt.withPhoto+(et.profile_photo_url?1:0)})),ae.initial_password?$(ae.initial_password):V.success(" User created"),H(!1),ce({name:"",email:"",role:"user",setPasswordManually:!1,password:""})}catch(ee){V.error((ee==null?void 0:ee.message)||"Create failed")}finally{A(!1)}},bn=async()=>{if(!Q)return;const de=localStorage.getItem("token");if(!de)return V.error("No authentication token found.");const X=Ne&&ze?{new_password:ze}:{new_password:null};try{se(!0);const ee=await fetch(Ii.RESET_PASSWORD(Q),{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);ae.new_password?_e(ae.new_password):(V.success(" Password updated"),Z(null),Be(""),xe(!1))}catch(ee){V.error((ee==null?void 0:ee.message)||"Reset failed")}finally{se(!1)}},$n=async de=>{const X=localStorage.getItem("token");if(!X)return V.error("No authentication token found.");try{Y(de.id);const ee=await fetch(Ii.IMPERSONATE_LOGIN_AS,{method:"POST",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:de.id,reason:"Admin impersonation from Users panel"})}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);const{token:qe,acting_as:et,impersonated_by:mt}=ae;localStorage.setItem("admin_token_backup",X),localStorage.setItem("token",qe),localStorage.setItem("impersonation_info",JSON.stringify({acting_as:et,impersonated_by:mt,started_at:Date.now()})),V.success(` Now impersonating ${(et==null?void 0:et.email)||"user"}`),window.location.assign(Ode)}catch(ee){V.error((ee==null?void 0:ee.message)||"Impersonation failed")}finally{Y(null)}},In=()=>{const de=localStorage.getItem("admin_token_backup");if(!de){V.error("No admin backup token found.");return}localStorage.setItem("token",de),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),Te(null),V.success(" Exited impersonation"),window.location.reload()};return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[ge&&r.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:r.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[r.jsx(ah,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),r.jsxs("span",{className:"truncate",children:["Acting as ",r.jsx("b",{className:"break-all",children:(hr=ge.acting_as)==null?void 0:hr.email})]})]}),r.jsxs(yt,{onClick:In,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[r.jsx(w0,{className:"mr-2 h-4 w-4"}),"Exit"]})]})}),r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(or,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${Mde}`,children:"User Management"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create users, manage roles, inspect assets, and impersonate users."})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(yt,{onClick:()=>H(!0),disabled:!!ge,variant:"primary",children:[r.jsx(rs,{className:"mr-2 h-4 w-4"}),"Add User"]}),r.jsx(yt,{onClick:Re,disabled:s||!!ge,children:s?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(Xh,{label:"Total Users",value:n.total,Icon:or,tone:"blue"}),r.jsx(Xh,{label:"Admins",value:n.admins,Icon:Av,tone:"cyan"}),r.jsx(Xh,{label:"Verified",value:n.verified,Icon:Jn,tone:"blue"}),r.jsx(Xh,{label:"With Photo",value:n.withPhoto,Icon:hB,tone:"cyan"})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:h,onChange:de=>x(de.target.value),placeholder:"Search by name or email",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!ge})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[r.jsx(Kc,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("select",{value:g,onChange:de=>b(de.target.value),disabled:!!ge,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"all",children:"All roles"}),r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]}),r.jsxs("select",{value:w,onChange:de=>j(de.target.value),disabled:!!ge,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"verified",children:"Verified"}),r.jsx("option",{value:"unverified",children:"Unverified"})]}),(h||g!=="all"||w!=="all")&&r.jsx(yt,{onClick:()=>{x(""),b("all"),j("all")},className:"text-slate-700",disabled:!!ge,children:"Clear"})]})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:r.jsx(or,{className:"h-4 w-4"})}),r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Users (",Pe.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),ge?r.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:r.jsx(ah,{className:"h-9 w-9 text-amber-500"})}),r.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),r.jsx("div",{className:"mt-3",children:r.jsxs(yt,{onClick:In,variant:"primary",children:[r.jsx(w0,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?r.jsxs("div",{className:"grid place-content-center py-16",children:[r.jsx(Xe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading users"})]}):Pe.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(or,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(yd,{children:"User"}),r.jsx(yd,{children:"Email"}),r.jsx(yd,{children:"Role"}),r.jsx(yd,{children:"Status"}),r.jsx(yd,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:Oe.map(de=>r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(bd,{children:r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(n1,{url:de.profile_photo_url,name:de.name}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:de.name}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",de.id]})]})]})}),r.jsx(bd,{children:r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[r.jsx(pa,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),r.jsx("span",{className:"text-xs font-medium break-words",children:de.email})]})}),r.jsx(bd,{children:r.jsx(vd,{className:`border ${t1(de.role)}`,children:de.role==="admin"?r.jsxs(r.Fragment,{children:[r.jsx(Av,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):r.jsxs(r.Fragment,{children:[r.jsx(_c,{className:"mr-1 h-3.5 w-3.5"})," User"]})})}),r.jsx(bd,{children:de.email_verified?r.jsxs(vd,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[r.jsx(Jn,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):r.jsxs(vd,{className:"border bg-red-100 text-red-700 border-red-200",children:[r.jsx(fa,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})}),r.jsx(bd,{children:r.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[r.jsx(yt,{onClick:()=>Nt(de),variant:"outline",size:"sm",title:"View details",children:r.jsx(Sn,{className:"h-4 w-4"})}),r.jsx(yt,{onClick:()=>Le(de),variant:"outline",size:"sm",title:"Edit",children:r.jsx($d,{className:"h-4 w-4"})}),r.jsx(yt,{onClick:()=>Z(de.id),variant:"subtle",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",title:"Reset password",children:r.jsx(Td,{className:"h-4 w-4"})}),r.jsx(yt,{onClick:()=>$n(de),disabled:ie===de.id,variant:"subtle",size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50",title:"Login as this user",children:ie===de.id?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(ah,{className:"h-4 w-4"})}),r.jsx(yt,{onClick:()=>Ie(de.id),variant:"danger",size:"sm",title:"Delete",children:f===de.id?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(er,{className:"h-4 w-4"})}),de.profile_photo_url?r.jsx(yt,{onClick:()=>nr(de.id),disabled:Se===de.id,variant:"subtle",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",title:"Remove profile photo",children:Se===de.id?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(M5,{className:"h-4 w-4"})}):null]})})]},de.id))})]})})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Oe.map((de,X)=>r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[X===0&&r.jsx(Dde,{}),r.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[r.jsx(n1,{size:48,url:de.profile_photo_url,name:de.name}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:de.name}),r.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-slate-600 min-w-0",children:[r.jsx(pa,{className:"h-4 w-4 text-slate-500 shrink-0"}),r.jsx("span",{className:"truncate break-words",children:de.email})]}),r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border ${t1(de.role)} text-[11px] font-semibold`,children:de.role==="admin"?r.jsxs(r.Fragment,{children:[r.jsx(Av,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):r.jsxs(r.Fragment,{children:[r.jsx(_c,{className:"mr-1 h-3.5 w-3.5"})," User"]})}),de.email_verified?r.jsxs(vd,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[r.jsx(Jn,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):r.jsxs(vd,{className:"border bg-red-100 text-red-700 border-red-200",children:[r.jsx(fa,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})]})]})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsxs(yt,{onClick:()=>Nt(de),size:"sm",className:"grow sm:grow-0",children:[r.jsx(Sn,{className:"h-4 w-4 mr-1"}),"View"]}),r.jsxs(yt,{onClick:()=>Le(de),size:"sm",className:"grow sm:grow-0",children:[r.jsx($d,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs(yt,{onClick:()=>Z(de.id),size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 grow sm:grow-0",children:[r.jsx(Td,{className:"h-4 w-4 mr-1"}),"Reset"]}),r.jsx(yt,{onClick:()=>$n(de),disabled:ie===de.id,size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 grow sm:grow-0",title:"Login as this user",children:ie===de.id?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-1"})," Acting"]}):r.jsxs(r.Fragment,{children:[r.jsx(ah,{className:"h-4 w-4 mr-1"})," Login as"]})}),r.jsx(yt,{onClick:()=>Ie(de.id),variant:"danger",size:"sm",className:"grow sm:grow-0",children:f===de.id?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):r.jsxs(r.Fragment,{children:[r.jsx(er,{className:"h-4 w-4 mr-1"})," Delete"]})}),de.profile_photo_url&&r.jsx(yt,{onClick:()=>nr(de.id),disabled:Se===de.id,className:"w-full border-amber-200 text-amber-700 hover:bg-amber-50",children:Se===de.id?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Removing photo"]}):r.jsxs(r.Fragment,{children:[r.jsx(M5,{className:"h-4 w-4 mr-2"}),"Remove photo"]})})]}),r.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",de.id]})]},de.id))})}),Pe.length>_&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("b",{children:ye+1}),"",r.jsx("b",{children:Math.min(Ze,Pe.length)})," of"," ",r.jsx("b",{children:Pe.length})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(yt,{onClick:()=>k(de=>Math.max(1,de-1)),disabled:S===1,children:[r.jsx(ha,{className:"h-4 w-4 mr-1"}),"Prev"]}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Je)},(de,X)=>{let ee;if(Je<=5||S<=3?ee=X+1:S>=Je-2?ee=Je-4+X:ee=S-2+X,ee<1||ee>Je)return null;const ae=S===ee;return r.jsx("button",{onClick:()=>k(ee),className:`px-3 py-2 text-sm font-semibold rounded-xl ${ae?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:ee},ee)})}),r.jsxs(yt,{onClick:()=>k(de=>Math.min(Je,de+1)),disabled:S>=Je,children:["Next ",r.jsx(Kn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),r.jsx(Et,{children:G&&r.jsxs(Nd,{onClose:()=>H(!1),title:"Add User",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(nc,{label:"Name",children:r.jsx("input",{value:W.name,onChange:de=>ce(X=>({...X,name:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter full name"})}),r.jsx(nc,{label:"Email",children:r.jsx("input",{type:"email",value:W.email,onChange:de=>ce(X=>({...X,email:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),r.jsx(nc,{label:"Role",children:r.jsxs("select",{value:W.role,onChange:de=>ce(X=>({...X,role:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]})}),r.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:W.setPasswordManually,onChange:de=>ce(X=>({...X,setPasswordManually:de.target.checked,password:de.target.checked?X.password:""}))}),r.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),W.setPasswordManually&&r.jsx("div",{className:"mt-3",children:r.jsx("input",{type:"text",value:W.password,onChange:de=>ce(X=>({...X,password:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter initial password"})})]})]}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[r.jsx(yt,{onClick:()=>H(!1),variant:"subtle",children:"Cancel"}),r.jsx(yt,{onClick:mr,disabled:I||!W.name.trim()||!W.email.trim()||W.setPasswordManually&&W.password.trim().length<6,variant:"primary",children:I?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):r.jsxs(r.Fragment,{children:[r.jsx(rs,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),r.jsx(Et,{children:D&&r.jsxs(Nd,{onClose:()=>$(null),title:"Initial Password",children:[r.jsx("div",{className:"text-sm text-slate-700",children:"This user was created with an auto-generated password. Copy it now and share securely."}),r.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx(Td,{className:"h-4 w-4 text-slate-600"}),r.jsx("code",{className:"font-mono text-slate-900 break-all",children:D}),r.jsxs(yt,{onClick:()=>{navigator.clipboard.writeText(D),V.success("Copied!")},className:"ml-auto",children:[r.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(yt,{onClick:()=>$(null),variant:"primary",children:"Got it"})})]})}),r.jsx(Et,{children:C&&T&&r.jsxs(Nd,{onClose:()=>P(!1),title:"Edit User",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(nc,{label:"Name",children:r.jsx("input",{value:T.name,onChange:de=>E(X=>({...X,name:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})}),r.jsx(nc,{label:"Email",children:r.jsx("input",{type:"email",value:T.email,onChange:de=>E(X=>({...X,email:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email"})}),r.jsx(nc,{label:"Role",children:r.jsxs("select",{value:T.role,onChange:de=>E(X=>({...X,role:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]})})]}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[r.jsx(yt,{onClick:()=>P(!1),variant:"subtle",children:"Cancel"}),r.jsx(yt,{onClick:De,disabled:L||!T.name||!T.email,variant:"primary",children:L?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),r.jsx(Et,{children:B&&r.jsxs(Nd,{onClose:()=>K(null),title:"Confirm Delete",children:[r.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete"," ",r.jsx("b",{className:"break-words",children:((ii=e.find(de=>de.id===B))==null?void 0:ii.name)||"this user"}),"? This action cannot be undone."]}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[r.jsx(yt,{onClick:()=>K(null),variant:"subtle",children:"Cancel"}),r.jsx(yt,{onClick:ot,disabled:f===B,variant:"danger",children:f===B?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):"Delete"})]})]})}),r.jsx(Et,{children:Q&&r.jsx(Nd,{onClose:()=>{Z(null),_e(null),xe(!1),Be("")},title:"Reset Password",children:be?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-sm text-slate-700",children:"Auto-generated password. Copy it now and share securely."}),r.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx(Td,{className:"h-4 w-4 text-slate-600"}),r.jsx("code",{className:"font-mono text-slate-900 break-all",children:be}),r.jsxs(yt,{onClick:()=>{navigator.clipboard.writeText(be),V.success("Copied!")},className:"ml-auto",children:[r.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(yt,{onClick:()=>{Z(null),_e(null)},variant:"primary",children:"Done"})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:Ne,onChange:de=>xe(de.target.checked)}),r.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),Ne&&r.jsx("input",{type:"text",value:ze,onChange:de=>Be(de.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter new password"})]}),r.jsxs("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[r.jsx(yt,{onClick:()=>{Z(null),xe(!1),Be("")},variant:"subtle",children:"Cancel"}),r.jsx(yt,{onClick:bn,disabled:je||Ne&&ze.trim().length<6,variant:"primary",children:je?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Reset"})]})]})})}),r.jsx(Et,{children:F&&r.jsx(Lde,{onClose:()=>U(!1),title:"User Details",children:te?r.jsxs("div",{className:"grid place-content-center h-48",children:[r.jsx(Xe,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-2"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading details"})]}):re?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(n1,{url:Wh(re.user.profile_photo_url||re.user.profile_photo),name:re.user.name,size:48}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-bold text-slate-900 truncate",children:re.user.name}),r.jsx("div",{className:"text-sm text-slate-600 break-words",children:re.user.email}),r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border text-xs font-semibold ${t1(re.user.role)}`,children:re.user.role})})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[r.jsx(wd,{label:"Phone Numbers",value:re.counts.purchased_numbers}),r.jsx(wd,{label:"Assistants",value:re.counts.assistants}),r.jsx(wd,{label:"Call Logs",value:re.counts.call_logs}),r.jsx(wd,{label:"Documents",value:re.counts.documents}),r.jsx(wd,{label:"Leads",value:re.counts.leads})]}),r.jsx(jd,{title:"Phone Numbers",items:(re.purchased_numbers||[]).map(de=>({k:de.id,primary:de.phone_number,secondary:de.iso_country||de.region||"",badge:de.friendly_name}))}),r.jsx(jd,{title:"Assistants",items:(re.assistants||[]).map(de=>({k:de.id,primary:de.name||de.vapi_assistant_id,secondary:de.provider||de.model||"",badge:de.category}))}),r.jsx(jd,{title:"Documents",items:(re.documents||[]).map(de=>({k:de.id,primary:de.file_name,secondary:de.vapi_file_id}))}),r.jsx(jd,{title:"Leads",items:(re.leads||[]).map(de=>({k:de.id,primary:`${de.first_name||""} ${de.last_name||""}`.trim()||de.email,secondary:(de.email||de.mobile||"").toString(),badge:de.state||de.timezone}))}),r.jsx(jd,{title:"Call Logs",items:(re.call_logs||[]).map(de=>({k:de.id,primary:de.customer_name||de.customer_number||de.call_id,secondary:`${de.status||""}  ${de.call_duration||0}s`}))})]}):r.jsx("div",{className:"text-sm text-slate-600",children:"No details."})})})]})}function Xh({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function n1({url:e,name:t,size:n=38}){const[a,s]=v.useState(!1),l=(t||"?").split(" ").map(d=>d.charAt(0)).join("").toUpperCase().slice(0,2),c=a||!e;return r.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:n,height:n},children:c?r.jsx("span",{style:{fontSize:n<40?12:13},children:l}):r.jsx("img",{src:e,alt:t,width:n,height:n,className:"h-full w-full object-cover max-w-full",onError:()=>s(!0)})})}function yd({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function bd({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function nc({label:e,children:t}){return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function wd({label:e,value:t}){return r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-xs text-slate-500",children:e}),r.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:t})]})}function jd({title:e,items:t}){const n=(t||[]).slice(0,5);return n.length===0?null:r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:e}),r.jsx("div",{className:"space-y-2",children:n.map(a=>r.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-semibold text-slate-800 truncate",children:a.primary}),r.jsx("div",{className:"text-xs text-slate-500 break-words",children:a.secondary})]}),a.badge&&r.jsx("span",{className:"ml-3 shrink-0 rounded-full border border-slate-300 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:a.badge})]},a.k))})]})}function Nd({children:e,onClose:t,title:n}){return r.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(yt,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:r.jsx(fr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Lde({children:e,onClose:t,title:n}){return r.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),r.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(yt,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:r.jsx(fr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const Sd="https://aisdr-dbt.ddns.net",$de=[`${Sd}/api/admin/basic-admin-stats`,`${Sd}/basic-admin-stats`,`${Sd}/api/basic-admin-stats`,`${Sd}/statistics`,`${Sd}/api/statistics`],Wn={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",light:"#e6f6ff"},g0="3 3";function Ide(){const[e,t]=v.useState({width:0,height:0});return v.useEffect(()=>{const n=()=>t({width:window.innerWidth,height:window.innerHeight});return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function IL(e){const t=Number(e||0);return t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k":t.toLocaleString()}function GT(e={},t="name",n="value"){return Object.entries(e||{}).map(([a,s])=>({[t]:String(a),[n]:Number(s||0)}))}function _l(e){const n=Math.max(0,Number(e)||0),a=Array.from({length:12},(s,l)=>{const c=l/11,d=Math.sin(c*Math.PI)*.45,f=(Math.random()-.5)*.14,m=Math.max(0,Math.round(n*(.55+d+f)));return{label:`P${l+1}`,value:m}});return a.length&&(a[a.length-1].value=n),a}async function zde(){var n;const e=localStorage.getItem("token")||localStorage.getItem("auth_token");let t;for(const a of $de)try{const s=await fetch(a,{headers:{Accept:"application/json",...e?{Authorization:`Bearer ${e}`}:{}},mode:"cors"});if(!s.ok){t=new Error(`HTTP ${s.status}`);continue}const l=await s.json();if(l!=null&&l.success&&((n=l==null?void 0:l.stats)!=null&&n.totals)||l)return l}catch(s){t=s}throw t||new Error("Failed to fetch stats")}function Bde({value:e,className:t}){const n=Tc(0),[a,s]=v.useState(0);return v.useEffect(()=>{const l=pK(n,Number(e||0),{duration:.5,ease:"easeOut"}),c=n.on("change",d=>s(Math.round(d)));return()=>{l.stop(),c()}},[e]),r.jsx("span",{className:t,children:IL(a)})}function Ude({points:e,width:t,height:n}){if(!e||!e[0])return null;const a=e[0].x;return r.jsxs("g",{children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),r.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),r.jsxs("filter",{id:"neonGlowLine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"2",result:"b"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"b"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx("line",{x1:a,x2:a,y1:0,y2:n,stroke:"url(#neonStroke)",strokeWidth:2,opacity:.85,filter:"url(#neonGlowLine)"})]})}function r1(e){const{x:t,y:n,width:a,height:s}=e;return r.jsxs("g",{children:[r.jsx("defs",{children:r.jsxs("filter",{id:"neonGlowRect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"b"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),r.jsx("rect",{x:t,y:n,width:a,height:s,fill:"rgba(34,211,238,0.18)",stroke:"rgba(37,99,235,0.6)",strokeWidth:1,rx:8,filter:"url(#neonGlowRect)"})]})}function YT(e){const{cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c,fill:d}=e;return r.jsxs("g",{children:[r.jsx("defs",{children:r.jsxs("filter",{id:"neonGlowPie",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"b"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"b"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),r.jsx(n2,{cx:t,cy:n,innerRadius:a,outerRadius:s+6,startAngle:l,endAngle:c,fill:d,stroke:"#ffffff",strokeWidth:2,filter:"url(#neonGlowPie)"})]})}function rc({title:e,right:t,children:n,className:a=""}){return r.jsxs("div",{className:`relative rounded-3xl border border-slate-200 bg-white p-5 sm:p-6 shadow-xl overflow-hidden ${a}`,children:[r.jsx(Fde,{}),r.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[r.jsx("h2",{className:"text-sm sm:text-base font-semibold text-slate-700",children:e}),t]}),n]})}function Fde(){return r.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[r.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:`linear-gradient(90deg, ${Wn.cyan}33, transparent)`,filter:"blur(22px)",opacity:.6}}),r.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function Vde({label:e,value:t,icon:n,color:a,series:s,badge:l="Live",loading:c}){const d=Tc(0),f=Tc(0),m=k0(f,[-60,60],[10,-10]),h=k0(d,[-60,60],[-10,10]),x=v.useRef(null);return r.jsxs(he.div,{ref:x,onMouseMove:g=>{var w;const b=(w=x.current)==null?void 0:w.getBoundingClientRect();b&&(d.set(g.clientX-b.left-b.width/2),f.set(g.clientY-b.top-b.height/2))},onMouseLeave:()=>{d.set(0),f.set(0)},style:{rotateX:m,rotateY:h},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl transition-transform duration-300",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${a}66, #ffffff00)`}}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:r.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7",style:{color:a}})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900",children:c?r.jsx(Hde,{}):r.jsx(Bde,{value:t})}),l&&r.jsx("span",{className:"hidden xs:inline-flex rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[9px] sm:text-[10px] font-semibold text-white shadow-sm",children:l})]})]})]}),r.jsx("div",{className:"mt-3 h-[110px] xs:h-[130px] sm:h-[140px] md:h-[160px]",children:c?r.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):r.jsx(ts,{width:"100%",height:"100%",children:r.jsxs(PN,{data:s,margin:{top:2,right:8,left:-10,bottom:0},children:[r.jsx("defs",{children:r.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),r.jsx(Ki,{strokeDasharray:g0,strokeOpacity:.12}),r.jsx(Us,{dataKey:"label",hide:!0}),r.jsx(Fs,{hide:!0,domain:[0,"dataMax+"]}),r.jsx(es,{contentStyle:{borderRadius:12},cursor:r.jsx(Ude,{})}),r.jsx(ox,{type:"monotone",dataKey:"value",stroke:a,strokeWidth:2.2,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"}})]})})})]})]})}function Hde(){return r.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function qde(){const{width:e}=Ide(),t=e<768,[n,a]=v.useState(!0),[s,l]=v.useState(""),[c,d]=v.useState(null),[f,m]=v.useState(null),[h,x]=v.useState(null),[g,b]=v.useState({users:0,leads:0,files:0,knowledge_base_documents:0,assistants:0,phone_numbers:0,call_logs:0}),[w,j]=v.useState({}),[S,k]=v.useState({attached_to_assistant:0,unattached:0}),[_,C]=v.useState({transferred:0,not_transferred:0,by_status:{}}),P=async()=>{try{a(!0),l("");const F=await zde(),U=(F==null?void 0:F.stats)||F||{},te=(U==null?void 0:U.totals)||{};b({users:Number(te.users||0),leads:Number(te.leads||0),files:Number(te.files||0),knowledge_base_documents:Number(te.knowledge_base_documents||0),assistants:Number(te.assistants||0),phone_numbers:Number(te.phone_numbers||0),call_logs:Number(te.call_logs||0)}),j((U==null?void 0:U.users_by_role)||{}),k((U==null?void 0:U.phone_numbers)||{attached_to_assistant:0,unattached:0}),C((U==null?void 0:U.call_logs)||{transferred:0,not_transferred:0,by_status:{}}),d((F==null?void 0:F.generated_at)||new Date().toISOString())}catch(F){const U=(F==null?void 0:F.message)||"Failed to load stats",te=U.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(U+te)}finally{a(!1)}};v.useEffect(()=>{P()},[]);const T=v.useMemo(()=>[{key:"users",label:"Users",value:g.users,icon:or,color:Wn.blue,series:_l(g.users)},{key:"leads",label:"Leads",value:g.leads,icon:_c,color:Wn.cyan,series:_l(g.leads)},{key:"files",label:"Files",value:g.files,icon:HE,color:Wn.sky,series:_l(g.files)},{key:"assistants",label:"Assistants",value:g.assistants,icon:VE,color:Wn.cyan,series:_l(g.assistants)},{key:"phone_numbers",label:"Phone Numbers",value:g.phone_numbers,icon:pt,color:Wn.sky,series:_l(g.phone_numbers)},{key:"knowledge_base_documents",label:"KB Docs",value:g.knowledge_base_documents,icon:Rd,color:Wn.blue,series:_l(g.knowledge_base_documents)},{key:"call_logs",label:"Call Logs",value:g.call_logs,icon:g1,color:Wn.cyan,series:_l(g.call_logs)}],[g]),E=v.useMemo(()=>GT(w,"name","value"),[w]),L=v.useMemo(()=>[{name:"Attached",value:Number(S.attached_to_assistant||0)},{name:"Unattached",value:Number(S.unattached||0)}],[S]),M=v.useMemo(()=>[{name:"Transferred",value:Number(_.transferred||0)},{name:"Not Transferred",value:Number(_.not_transferred||0)}],[_]),B=v.useMemo(()=>GT(_.by_status||{},"status","count"),[_]),K=v.useMemo(()=>[{name:"Users",value:g.users},{name:"Leads",value:g.leads},{name:"Files",value:g.files},{name:"Assistants",value:g.assistants},{name:"Phones",value:g.phone_numbers},{name:"KB",value:g.knowledge_base_documents},{name:"Calls",value:g.call_logs}],[g]);return r.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),s&&r.jsx("div",{className:"w-full px-3 sm:px-4 pt-4 mb-6",children:r.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s})}),r.jsx("header",{className:"w-full px-3 sm:px-4 pt-8 pb-6",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),r.jsx("p",{className:"mt-1 text-xs sm:text-sm md:text-base text-slate-600",children:"Neon-lite analytics  blue / cyan palette."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[r.jsx(Xe,{className:"h-4 w-4"}),"Refresh"]}),r.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500",children:c?`Updated: ${new Date(c).toLocaleString()}`:""})]})]})}),r.jsxs("main",{className:"w-full px-3 sm:px-4 pb-12",children:[r.jsx("section",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-5",children:T.map(F=>r.jsx(Vde,{label:F.label,value:F.value,icon:F.icon,color:F.color,series:F.series,loading:n},F.key))}),r.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-2 gap-5 xl:gap-6",children:[r.jsx(rc,{title:"Overview by Metric",right:r.jsx(_d,{text:"Bars"}),children:r.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:r.jsx(ts,{width:"100%",height:"100%",children:r.jsxs(m0,{data:K,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[r.jsxs("defs",{children:[r.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"blur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:Wn.sky}),r.jsx("stop",{offset:"100%",stopColor:Wn.light})]})]}),r.jsx(Ki,{strokeDasharray:g0,strokeOpacity:.2}),r.jsx(Us,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),r.jsx(Fs,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),r.jsx(es,{contentStyle:{borderRadius:12},cursor:r.jsx(r1,{})}),r.jsx(Kd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},maxBarSize:t?38:60})]})})})}),r.jsx(rc,{title:"Users by Role",right:r.jsx(_d,{text:"Bars"}),children:r.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:r.jsx(ts,{width:"100%",height:"100%",children:r.jsxs(m0,{data:E,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"roleFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:Wn.blue}),r.jsx("stop",{offset:"100%",stopColor:"#eaf2ff"})]})}),r.jsx(Ki,{strokeDasharray:g0,strokeOpacity:.2}),r.jsx(Us,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),r.jsx(Fs,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),r.jsx(es,{contentStyle:{borderRadius:12},cursor:r.jsx(r1,{})}),r.jsx(Kd,{dataKey:"value",fill:"url(#roleFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),r.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-6",children:[r.jsx(rc,{title:"Phone Numbers  Attached vs Unattached",right:r.jsx(_d,{text:"Donut"}),children:r.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:r.jsx(ts,{width:"100%",height:"100%",children:r.jsxs(fp,{children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"pieGradPhones",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:Wn.cyan}),r.jsx("stop",{offset:"100%",stopColor:Wn.blue})]})}),r.jsx(es,{contentStyle:{borderRadius:12}}),r.jsxs(vf,{data:L,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:f,onMouseEnter:(F,U)=>m(U),onMouseLeave:()=>m(null),activeShape:YT,label:t?({name:F,percent:U})=>U>=.18?F:"":!1,labelLine:!1,children:[r.jsx($s,{fill:"url(#pieGradPhones)"}),r.jsx($s,{fill:"#bfe9ff"})]})]})})})}),r.jsx(rc,{title:"Calls  Transferred vs Not",right:r.jsx(_d,{text:"Donut"}),children:r.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:r.jsx(ts,{width:"100%",height:"100%",children:r.jsxs(fp,{children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"pieGradCalls",x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:Wn.sky}),r.jsx("stop",{offset:"100%",stopColor:Wn.blue})]})}),r.jsx(es,{contentStyle:{borderRadius:12}}),r.jsxs(vf,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:h,onMouseEnter:(F,U)=>x(U),onMouseLeave:()=>x(null),activeShape:YT,label:t?({name:F,percent:U})=>U>=.18?F:"":!1,labelLine:!1,children:[r.jsx($s,{fill:"url(#pieGradCalls)"}),r.jsx($s,{fill:"#d7eeff"})]})]})})})}),r.jsx(rc,{title:"Call Logs  by Status",right:r.jsx(_d,{text:"Bars"}),children:r.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:r.jsx(ts,{width:"100%",height:"100%",children:r.jsxs(m0,{data:B,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"statusFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:Wn.cyan}),r.jsx("stop",{offset:"100%",stopColor:"#ecfbff"})]})}),r.jsx(Ki,{strokeDasharray:g0,strokeOpacity:.2}),r.jsx(Us,{dataKey:"status",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),r.jsx(Fs,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:F=>F>=1e3?`${Math.round(F/1e3)}k`:F}),r.jsx(es,{contentStyle:{borderRadius:12},cursor:r.jsx(r1,{})}),r.jsx(Kd,{dataKey:"count",fill:"url(#statusFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),r.jsx("section",{className:"mt-8",children:r.jsx(rc,{title:"Status Breakdown (Compact List)",children:n?r.jsx("div",{className:"h-24 w-full animate-pulse rounded-xl bg-slate-100"}):r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[B.length===0&&r.jsx("div",{className:"text-sm text-slate-500",children:"No call status data."}),B.map(F=>r.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[r.jsx("span",{className:"text-sm font-medium text-slate-700 truncate pr-3",children:F.status}),r.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:IL(F.count)})]},F.status))]})})}),r.jsxs("footer",{className:"mt-10 mb-2 w-full text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon dashboard."]})]})]})}function _d({text:e}){return r.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-1 text-[10px] font-semibold text-white shadow-sm",children:e})}function Kde(){const e=Gt(),[t,n]=v.useState(!1),[a,s]=v.useState(!1),[l,c]=v.useState(["","","",""]),[d,f]=v.useState({name:"",email:"",password:""}),[m,h]=v.useState(!1),[x,g]=v.useState({profile:!1,update:!1,delete:!1,otp:!1}),b=v.useRef([]),w=v.useRef(null),j=async()=>{var L,M;g(B=>({...B,profile:!0}));try{const B=localStorage.getItem("token");if(!B){V.error("Authentication required. Please login again."),e("/login");return}const K=await fetch("http://localhost:8000/api/search-user",{headers:{Authorization:`Bearer ${B}`}});if(!K.ok){const U=await K.json();throw new Error(U.detail||"Failed to fetch user data")}const F=await K.json();f({name:((L=F.users)==null?void 0:L.name)||"",email:((M=F.users)==null?void 0:M.email)||"",password:""})}catch(B){V.error(B.message),B.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"))}finally{g(B=>({...B,profile:!1}))}};v.useEffect(()=>{j()},[]);const S=()=>d.name.trim()?d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)?d.password&&d.password.length<8?(V.error("Password must be at least 8 characters long"),!1):!0:(V.error("Please enter a valid email address"),!1):(V.error("Email is required"),!1):(V.error("Name is required"),!1),k=async L=>{if(L.preventDefault(),!!S()){g(M=>({...M,update:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const B={name:d.name,email:d.email,...d.password&&{password:d.password}},K=await fetch("http://localhost:8000/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(B)});if(!K.ok){const U=await K.json();throw new Error(U.detail||"Failed to update profile")}const F=await K.json();F!=null&&F.otp_needed?(s(!0),setTimeout(()=>{var U;return(U=b.current[0])==null?void 0:U.focus()},0),V.info("Verification code sent to your email")):(localStorage.setItem("name",B.name),V.success("Profile updated successfully"),f(U=>({...U,password:""})))}catch(M){V.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,update:!1}))}}},_=async L=>{if(L.preventDefault(),l.some(M=>!M)){V.error("Please enter the complete verification code");return}g(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const B=await fetch("http://localhost:8000/api/update-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email,code:l.join(""),name:d.name,...d.password&&{password:d.password}})});if(!B.ok){const K=await B.json();throw new Error(K.detail||"Verification failed")}V.success("Account verified successfully"),s(!1),c(["","","",""]),localStorage.setItem("name",d.name),localStorage.setItem("email",d.email),f(K=>({...K,password:""}))}catch(M){V.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,otp:!1}))}},C=async()=>{g(L=>({...L,delete:!0}));try{const L=localStorage.getItem("token");if(!L)throw new Error("Authentication required. Please login again.");const M=await fetch("http://localhost:8000/api/delete-account",{method:"DELETE",headers:{Authorization:`Bearer ${L}`}});if(!M.ok){const B=await M.json();throw new Error(B.detail||"Failed to delete account")}V.success("Account deleted successfully"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(L){V.error(L.message),L.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(L=>({...L,delete:!1}))}},P=(L,M)=>{var B;if(/^\d?$/.test(M)){const K=[...l];K[L]=M,c(K),M&&L<3&&((B=b.current[L+1])==null||B.focus())}},T=(L,M)=>{var B;M.key==="Backspace"&&!l[L]&&L>0&&((B=b.current[L-1])==null||B.focus())},E=async()=>{var L;g(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const B=await fetch("http://localhost:8000/api/resend-otp-update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email})});if(!B.ok){const K=await B.json();throw new Error(K.detail||"Failed to resend OTP")}c(["","","",""]),(L=b.current[0])==null||L.focus(),V.success("OTP resent successfully")}catch(M){V.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,otp:!1}))}};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:r.jsx("div",{className:"flex-1 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[(x.profile||x.update||x.delete||x.otp)&&r.jsx("div",{className:"flex justify-center items-center mb-4",children:r.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),a?r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(Mw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),r.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Email Verification"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(Mw,{className:"w-5 h-5 text-blue-600 mr-2"}),r.jsx("h3",{className:"font-semibold text-blue-900",children:"Verification Required"})]}),r.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["We've sent a 4-digit verification code to"," ",r.jsx("strong",{children:d.email}),". Please enter it below."]}),r.jsxs("form",{onSubmit:_,children:[r.jsx("div",{className:"flex justify-center gap-3 mb-4",children:l.map((L,M)=>r.jsx("input",{type:"text",maxLength:"1",value:L,onChange:B=>P(M,B.target.value),onKeyDown:B=>T(M,B),ref:B=>b.current[M]=B,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-xl font-bold text-gray-900 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0",disabled:x.otp},M))}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx("button",{type:"submit",disabled:l.some(L=>!L)||x.otp,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.otp?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ow,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})}),r.jsx("button",{type:"button",onClick:E,disabled:x.otp,className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Resend OTP"})]})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(bc,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Account Settings"}),r.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"Manage your account information and preferences"})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(bc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),r.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Profile Information"})]}),r.jsxs("form",{ref:w,onSubmit:k,children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[r.jsx(bc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),r.jsx("input",{type:"text",value:d.name,onChange:L=>f({...d,name:L.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[r.jsx(NL,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Email Address"]}),r.jsx("input",{type:"email",value:d.email,onChange:L=>f({...d,email:L.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[r.jsx(SL,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Password (optional)"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:t?"text":"password",value:d.password,onChange:L=>f({...d,password:L.target.value}),placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base",disabled:x.profile||x.update,minLength:8}),r.jsx("button",{type:"button",onClick:()=>n(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:x.profile||x.update,children:t?r.jsx(Md,{className:"w-5 h-5"}):r.jsx(Dd,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:d.password?"Password must be at least 8 characters":"Leave blank to keep current password"})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{type:"submit",disabled:x.profile||x.update,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.update?r.jsxs("div",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Saving..."]}):r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ow,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 sm:p-6 lg:p-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center",children:r.jsx(mp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),r.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-900",children:"Danger Zone"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),r.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),r.jsx("button",{onClick:()=>h(!0),disabled:x.profile||x.update,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Dw,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})]}),m&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50  bg-opacity-50 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:r.jsx(mp,{className:"w-5 h-5 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete"})]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>h(!1),disabled:x.delete,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>{h(!1),C()},disabled:x.delete,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:x.delete?r.jsxs("div",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):r.jsxs("div",{className:"flex items-center",children:[r.jsx(Dw,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})})]})})})}const v0="https://aisdr-dbt.ddns.net",a1={CALL_LOGS:`${v0}/api/admin/call-logs`,VAPI_CALL_LOGS:`${v0}/api/admin/vapi-call-logs`,CALL_LOG:e=>`${v0}/api/admin/call-logs/${e}`},Gde="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",WT=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${v0}${t}`},Vt=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t},kd=e=>{if(!e)return"Unknown";try{const t=new Date(e);return Number.isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}},Zh=e=>{if(e==null||Number.isNaN(Number(e)))return"Unknown";const t=Number(e),n=Math.floor(t/60),a=Math.floor(t%60);return`${n}m ${a}s`},ac=e=>String(e??"").toLowerCase();function XT(e=[],t=[]){const n=[],a=new Map;for(const s of e){const l={_key:s.call_id?`local:${s.call_id}`:`local-id:${s.id}`,source:"local",id:s.id,call_id:s.call_id||null,started_at:s.call_started_at||null,ended_at:s.call_ended_at||null,duration:s.call_duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.call_ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:s.user||null,assistant_id:null,phone_number_id:null,summary:null,transcript:null,analysis:null,recording_url:null,created_at:null,updated_at:null};n.push(l),l.call_id&&a.set(l.call_id,l)}for(const s of t){const l=s.call_id&&a.get(s.call_id),c={_key:s.call_id?`vapi:${s.call_id}`:`vapi-id:${s.id}`,source:"vapi",id:s.id,call_id:s.call_id||null,started_at:s.started_at||s.created_at||null,ended_at:s.ended_at||null,duration:s.duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:null,assistant_id:s.assistant_id||null,phone_number_id:s.phone_number_id||null,summary:s.summary||null,transcript:s.transcript||null,analysis:s.analysis||null,recording_url:s.recording_url||null,created_at:s.created_at||null,updated_at:s.updated_at||null};l?(l.assistant_id=l.assistant_id||c.assistant_id,l.phone_number_id=l.phone_number_id||c.phone_number_id,l.summary=c.summary??l.summary,l.transcript=c.transcript??l.transcript,l.analysis=c.analysis??l.analysis,l.recording_url=c.recording_url??l.recording_url,l.created_at=c.created_at??l.created_at,l.updated_at=c.updated_at??l.updated_at,l.source="both"):(n.push(c),c.call_id&&a.set(c.call_id,c))}return n.sort((s,l)=>new Date(l.started_at||0)-new Date(s.started_at||0)),n}function ZT(e,t){const n=new Blob([t],{type:"text/plain;charset=utf-8"}),a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=e,s.click(),URL.revokeObjectURL(a)}function Yde(e){var s,l,c;const t=["id","call_id","source","customer_name","customer_number","started_at","ended_at","duration","cost","status","ended_reason","transferred","criteria_satisfied","assistant_id","phone_number_id","user_id","user_name","user_email"],n=d=>{const f=d==null?"":String(d);return/[",\n]/.test(f)?`"${f.replaceAll('"','""')}"`:f},a=[t.join(",")];for(const d of e)a.push([d.id??"",d.call_id??"",d.source??"",d.customer_name??"",d.customer_number??"",d.started_at??"",d.ended_at??"",d.duration??"",d.cost??"",d.status??"",d.ended_reason??"",d.transferred??"",d.criteria_satisfied??"",d.assistant_id??"",d.phone_number_id??"",((s=d.user)==null?void 0:s.id)??"",((l=d.user)==null?void 0:l.name)??"",((c=d.user)==null?void 0:c.email)??""].map(n).join(","));return a.join(`
`)}function Wde(){var ie;const[e,t]=v.useState([]),[n,a]=v.useState([]),[s,l]=v.useState([]),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(!0),[g,b]=v.useState(""),[w,j]=v.useState("all"),[S,k]=v.useState("all"),[_,C]=v.useState(""),[P,T]=v.useState(""),[E,L]=v.useState("started_at"),[M,B]=v.useState("desc"),[K,F]=v.useState(1),U=10,[te,we]=v.useState(!1),[re,R]=v.useState(null),[G,H]=v.useState(null),[I,A]=v.useState(null),[D,$]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),W=v.useCallback(async()=>{if(D){m("You're in impersonation mode. Exit impersonation to use admin tools."),t([]),a([]),l([]);return}const Y=localStorage.getItem("token");if(!Y){m("No auth token found."),V.error("No authentication token found."),t([]),a([]),l([]);return}try{d(!0),m("");const ge={Authorization:`Bearer ${Y}`,Accept:"application/json"},[Te,Re]=await Promise.all([fetch(a1.CALL_LOGS,{headers:ge,mode:"cors"}),h?fetch(a1.VAPI_CALL_LOGS,{headers:ge,mode:"cors"}):Promise.resolve(null)]);if(!(Te!=null&&Te.ok)){const ye=await Te.text();throw new Error(`Call logs HTTP ${Te.status}${ye?`  ${ye}`:""}`)}const Pe=await Te.json(),Je=Array.isArray(Pe==null?void 0:Pe.call_logs)?Pe.call_logs:[];let Ze=[];if(h&&Re){if(!Re.ok){const Oe=await Re.text();throw new Error(`VAPI call logs HTTP ${Re.status}${Oe?`  ${Oe}`:""}`)}const ye=await Re.json();Ze=Array.isArray(ye==null?void 0:ye.call_logs)?ye.call_logs:[]}t(Je),a(Ze),l(XT(Je,Ze))}catch(ge){m((ge==null?void 0:ge.message)||"Failed to load call logs"),V.error((ge==null?void 0:ge.message)||"Failed to load call logs")}finally{d(!1)}},[h,D]);v.useEffect(()=>{W()},[W]),v.useEffect(()=>{l(XT(e,h?n:[]))},[e,n,h]);const ce=v.useMemo(()=>{const Y=new Set(s.map(ge=>(ge.status||"").toLowerCase()).filter(Boolean));return["all",...Array.from(Y)]},[s]),Q=v.useMemo(()=>{let Y=[...s];if(g.trim()){const ge=g.trim().toLowerCase();Y=Y.filter(Te=>{var Re,Pe;return ac(Te.customer_name).includes(ge)||ac(Te.customer_number).includes(ge)||ac(Te.call_id).includes(ge)||ac((Re=Te.user)==null?void 0:Re.email).includes(ge)||ac((Pe=Te.user)==null?void 0:Pe.name).includes(ge)})}if(w!=="all"&&(Y=Y.filter(ge=>ac(ge.status)===w)),S!=="all"){const ge=S==="yes";Y=Y.filter(Te=>!!Te.transferred===ge)}if(_){const ge=new Date(_).getTime();Y=Y.filter(Te=>new Date(Te.started_at||0).getTime()>=ge)}if(P){const ge=new Date(P).getTime();Y=Y.filter(Te=>new Date(Te.started_at||0).getTime()<=ge)}return Y.sort((ge,Te)=>{const Re=M==="asc"?1:-1,Pe=ge[E],Je=Te[E];return E.includes("date")||E.includes("started")?Re*(new Date(Pe||0)-new Date(Je||0)):Re*((Pe??0)-(Je??0))}),Y},[s,g,w,S,_,P,E,M]),Z=Math.max(1,Math.ceil(Q.length/U)),je=K*U,se=je-U,be=Q.slice(se,je);v.useEffect(()=>{F(1)},[g,w,S,_,P,E,M]);const _e=v.useMemo(()=>{const Y=Q.length,ge=Q.filter(Je=>Je.transferred).length,Te=Y-ge,Re=Q.reduce((Je,Ze)=>Je+(Number.isFinite(Number(Ze.duration))?Number(Ze.duration):0),0),Pe=Q.reduce((Je,Ze)=>Je+(Number.isFinite(Number(Ze.cost))?Number(Ze.cost):0),0);return{total:Y,transferred:ge,notTransferred:Te,totalDuration:Re,totalCost:Pe}},[Q]),Ne=Y=>{R(Y),we(!0)},xe=Y=>H((Y==null?void 0:Y.id)||null),ze=async()=>{const Y=G;if(!Y)return;const ge=localStorage.getItem("token");if(!ge)return V.error("No authentication token found.");try{A(Y);const Te=await fetch(a1.CALL_LOG(Y),{method:"DELETE",headers:{Authorization:`Bearer ${ge}`,Accept:"application/json"}}),Re=await Te.json();if(!Te.ok||!(Re!=null&&Re.success))throw new Error((Re==null?void 0:Re.detail)||(Re==null?void 0:Re.message)||`HTTP ${Te.status}`);V.success(" Call log deleted"),H(null),t(Pe=>Pe.filter(Je=>Je.id!==Y))}catch(Te){V.error((Te==null?void 0:Te.message)||"Delete failed")}finally{A(null)}},Be=()=>{const Y=Yde(Q),ge=new Date().toISOString().replace(/[:.]/g,"-");ZT(`call-history-${ge}.csv`,Y)},Se=()=>{b(""),j("all"),k("all"),C(""),T(""),L("started_at"),B("desc")},q=()=>{const Y=localStorage.getItem("admin_token_backup");if(!Y){V.error("No admin backup token found.");return}localStorage.setItem("token",Y),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),$(null),V.success(" Exited impersonation"),window.location.reload()};return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[D&&r.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:r.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[r.jsx(Tv,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),r.jsxs("span",{className:"truncate",children:["Acting as ",r.jsx("b",{className:"break-all",children:Vt((ie=D.acting_as)==null?void 0:ie.email)})]})]}),r.jsx(yr,{onClick:q,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:"Exit"})]})}),r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(g1,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${Gde}`,children:"Call History"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View, filter, export, and manage call logs from local DB and VAPI."})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("div",{className:"text-xs sm:text-sm flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[r.jsx($B,{className:"h-4 w-4"}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:h,onChange:Y=>x(Y.target.checked),disabled:!!D,"aria-label":"Include VAPI logs"}),"Include VAPI logs"]})]}),r.jsxs(yr,{onClick:Be,disabled:Q.length===0||!!D,"aria-label":"Export CSV",children:[r.jsx(Qd,{className:"mr-2 h-4 w-4"})," Export CSV"]}),r.jsx(yr,{onClick:W,disabled:c||!!D,"aria-label":"Refresh",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(s1,{label:"Total Calls",value:_e.total,Icon:Tv,tone:"blue"}),r.jsx(s1,{label:"Transferred",value:_e.transferred,Icon:Jn,tone:"cyan"}),r.jsx(s1,{label:"Not Transferred",value:_e.notTransferred,Icon:fa,tone:"blue"}),r.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-inner ring-1 ring-cyan-200/60",children:r.jsx(P5,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:"Total Duration / Cost"}),r.jsxs("div",{className:"text-sm font-black text-slate-900",children:[Zh(_e.totalDuration),"  $",_e.totalCost.toFixed(2)]})]})]})})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-12 md:items-end",children:[r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:g,onChange:Y=>b(Y.target.value),placeholder:"Name, number, call id, user",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!D,"aria-label":"Search calls"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Status"}),r.jsx("select",{value:w,onChange:Y=>j(Y.target.value),disabled:!!D,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by status",children:ce.map(Y=>r.jsx("option",{value:Y,children:Y==="all"?"All statuses":Y},Y))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Transferred"}),r.jsxs("select",{value:S,onChange:Y=>k(Y.target.value),disabled:!!D,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by transfer",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"yes",children:"Yes"}),r.jsx("option",{value:"no",children:"No"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"From"}),r.jsx("input",{type:"datetime-local",value:_,onChange:Y=>C(Y.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"From date"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"To"}),r.jsx("input",{type:"datetime-local",value:P,onChange:Y=>T(Y.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"To date"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Sort"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{value:E,onChange:Y=>L(Y.target.value),className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort by",children:[r.jsx("option",{value:"started_at",children:"Start time"}),r.jsx("option",{value:"duration",children:"Duration"}),r.jsx("option",{value:"cost",children:"Cost"})]}),r.jsxs("select",{value:M,onChange:Y=>B(Y.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort order",children:[r.jsx("option",{value:"desc",children:"Desc"}),r.jsx("option",{value:"asc",children:"Asc"})]})]})]}),r.jsx("div",{className:"md:col-span-12 flex justify-end",children:(g||w!=="all"||S!=="all"||_||P||E!=="started_at"||M!=="desc")&&r.jsxs(yr,{onClick:Se,className:"text-slate-700","aria-label":"Clear filters",children:[r.jsx(Kc,{className:"h-4 w-4 mr-2"})," Clear Filters"]})})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:r.jsx(g1,{className:"h-4 w-4"})}),r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Calls (",Q.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),D?r.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:r.jsx(Tv,{className:"h-9 w-9 text-amber-500"})}),r.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),r.jsx("div",{className:"mt-3",children:r.jsx(yr,{onClick:q,variant:"primary",children:"Exit Impersonation"})})]}):c?r.jsxs("div",{className:"grid place-content-center py-16",children:[r.jsx(Xe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading calls"})]}):Q.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(pt,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Es,{children:"Caller"}),r.jsx(Es,{children:"User"}),r.jsx(Es,{children:"Start"}),r.jsx(Es,{children:"Duration"}),r.jsx(Es,{children:"Status"}),r.jsx(Es,{children:"Transferred"}),r.jsx(Es,{children:"Cost"}),r.jsx(Es,{children:"Source"}),r.jsx(Es,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:be.map(Y=>{const ge=Y.cost===null||Y.cost===void 0||Number.isNaN(Number(Y.cost))?"Unknown":Number(Y.cost).toFixed(2);return r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(Ps,{children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:Vt(Y.customer_name)}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all flex items-center gap-1",children:[r.jsx(pt,{className:"h-3.5 w-3.5"})," ",Vt(Y.customer_number)]}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["CID: ",Vt(Y.call_id)]})]})}),r.jsx(Ps,{children:Y.user?r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"text-xs font-semibold text-slate-800 truncate flex items-center gap-1",children:[r.jsx(xc,{className:"h-3.5 w-3.5"})," ",Vt(Y.user.name)]}),r.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:Vt(Y.user.email)})]}):r.jsx("span",{className:"text-xs text-slate-500",children:"Unknown"})}),r.jsxs(Ps,{children:[r.jsx("div",{className:"text-xs text-slate-800",children:kd(Y.started_at)}),r.jsx("div",{className:"text-[11px] text-slate-500",children:kd(Y.ended_at)})]}),r.jsx(Ps,{children:r.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[r.jsx(Ql,{className:"h-3.5 w-3.5"})," ",Zh(Y.duration)]})}),r.jsxs(Ps,{children:[r.jsx(zi,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:Vt(Y.status)}),r.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Reason: ",Vt(Y.ended_reason)]})]}),r.jsx(Ps,{children:Y.transferred?r.jsxs(zi,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[r.jsx(Jn,{className:"mr-1 h-3.5 w-3.5"})," Yes"]}):r.jsxs(zi,{className:"border bg-red-100 text-red-700 border-red-200",children:[r.jsx(fa,{className:"mr-1 h-3.5 w-3.5"})," No"]})}),r.jsx(Ps,{children:r.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[r.jsx(P5,{className:"h-3.5 w-3.5"})," ",ge]})}),r.jsx(Ps,{children:r.jsx(zi,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:Vt(Y.source)})}),r.jsx(Ps,{children:r.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[r.jsx(yr,{onClick:()=>Ne(Y),variant:"outline",size:"sm",title:"View details","aria-label":"View details",children:r.jsx(Sn,{className:"h-4 w-4"})}),Y.source!=="vapi"&&r.jsx(yr,{onClick:()=>xe(Y),variant:"danger",size:"sm",title:"Delete","aria-label":"Delete",children:I===Y.id?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(er,{className:"h-4 w-4"})})]})})]},Y._key)})})]})})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:be.map((Y,ge)=>{const Te=Y.cost===null||Y.cost===void 0||Number.isNaN(Number(Y.cost))?"Unknown":Number(Y.cost).toFixed(2);return r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[ge===0&&r.jsx(Xde,{}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"text-base font-bold text-slate-900 truncate flex items-center gap-2",children:[r.jsx(pt,{className:"h-4 w-4 text-slate-500"})," ",Vt(Y.customer_name)]}),r.jsx("div",{className:"mt-0.5 text-sm text-slate-600 break-all",children:Vt(Y.customer_number)}),r.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 break-all",children:["CID: ",Vt(Y.call_id)]}),r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:kd(Y.started_at)}),r.jsxs("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:[r.jsx(Ql,{className:"h-3.5 w-3.5 mr-1"})," ",Zh(Y.duration)]}),r.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-blue-100 text-blue-700 text-[11px] font-semibold",children:Vt(Y.status)}),r.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:Vt(Y.source)})]}),r.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Reason: ",Vt(Y.ended_reason)]}),r.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Cost: ",Te]})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsxs(yr,{onClick:()=>Ne(Y),size:"sm",className:"grow sm:grow-0","aria-label":"View",children:[r.jsx(Sn,{className:"h-4 w-4 mr-1"})," View"]}),Y.source!=="vapi"&&r.jsx(yr,{onClick:()=>xe(Y),variant:"danger",size:"sm",className:"grow sm:grow-0","aria-label":"Delete",children:I===Y.id?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):r.jsxs(r.Fragment,{children:[r.jsx(er,{className:"h-4 w-4 mr-1"})," Delete"]})})]})]},Y._key)})})}),Q.length>U&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("b",{children:se+1}),"",r.jsx("b",{children:Math.min(je,Q.length)})," of ",r.jsx("b",{children:Q.length})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(yr,{onClick:()=>F(Y=>Math.max(1,Y-1)),disabled:K===1,children:[r.jsx(ha,{className:"h-4 w-4 mr-1"})," Prev"]}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Z)},(Y,ge)=>{let Te;if(Z<=5||K<=3?Te=ge+1:K>=Z-2?Te=Z-4+ge:Te=K-2+ge,Te<1||Te>Z)return null;const Re=K===Te;return r.jsx("button",{onClick:()=>F(Te),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Re?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,"aria-label":`Page ${Te}`,children:Te},Te)})}),r.jsxs(yr,{onClick:()=>F(Y=>Math.min(Z,Y+1)),disabled:K>=Z,children:["Next ",r.jsx(Kn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),r.jsx(Et,{children:G&&r.jsxs(Zde,{onClose:()=>H(null),title:"Confirm Delete",children:[r.jsx("div",{className:"text-slate-800",children:"Are you sure you want to delete this call log? This action cannot be undone."}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[r.jsx(yr,{onClick:()=>H(null),variant:"subtle",children:"Cancel"}),r.jsx(yr,{onClick:ze,disabled:I===G,variant:"danger",children:I===G?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})}),r.jsx(Et,{children:te&&re&&r.jsx(Qde,{onClose:()=>we(!1),title:"Call Details",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3 min-w-0",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"font-bold text-slate-900 truncate flex items-center gap-2",children:[r.jsx(pt,{className:"h-4 w-4 text-slate-500"})," ",Vt(re.customer_name)]}),r.jsx("div",{className:"text-sm text-slate-600 break-all",children:Vt(re.customer_number)}),r.jsxs("div",{className:"text-[11px] text-slate-500 break-all mt-1",children:["Call ID: ",Vt(re.call_id)]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[r.jsx(zi,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:Vt(re.source)}),r.jsx(zi,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:Vt(re.status)}),re.transferred?r.jsx(zi,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Transferred"}):r.jsx(zi,{className:"border bg-red-100 text-red-700 border-red-200",children:"Not transferred"})]})]}),r.jsxs("div",{className:"text-right text-sm text-slate-700",children:[r.jsxs("div",{children:[r.jsx("b",{children:"Start:"})," ",kd(re.started_at)]}),r.jsxs("div",{children:[r.jsx("b",{children:"End:"})," ",kd(re.ended_at)]}),r.jsxs("div",{className:"mt-1",children:[r.jsx("b",{children:"Duration:"})," ",Zh(re.duration)]}),r.jsxs("div",{children:[r.jsx("b",{children:"Cost:"})," ",re.cost===null||re.cost===void 0||Number.isNaN(Number(re.cost))?"Unknown":`$${Number(re.cost).toFixed(2)}`]})]})]}),re.user?r.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(xc,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"font-semibold",children:"User:"})," ",Vt(re.user.name)]}),r.jsx("div",{className:"ml-5 break-all",children:Vt(re.user.email)})]}):r.jsx("div",{className:"mt-3 text-xs text-slate-600",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(xc,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"font-semibold",children:"User:"})," Unknown"]})}),(re.assistant_id||re.phone_number_id)&&r.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[r.jsxs("div",{children:[r.jsx("b",{children:"Assistant ID:"})," ",Vt(re.assistant_id)]}),r.jsxs("div",{children:[r.jsx("b",{children:"Phone Number ID:"})," ",Vt(re.phone_number_id)]})]}),r.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[r.jsx("b",{children:"End Reason:"})," ",Vt(re.ended_reason)]})]}),re.recording_url&&r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Recording"}),r.jsx("audio",{controls:!0,className:"w-full",children:r.jsx("source",{src:WT(re.recording_url)||re.recording_url})}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.jsxs("a",{href:WT(re.recording_url)||re.recording_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-xs inline-flex items-center gap-1",children:[r.jsx(pc,{className:"h-3.5 w-3.5"})," Open recording URL"]})})]}),re.summary&&r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Summary"}),r.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:re.summary})]}),re.transcript&&r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Transcript"}),r.jsxs(yr,{onClick:()=>ZT(`transcript-${re.call_id||re.id}.txt`,re.transcript),size:"sm",children:[r.jsx(Qd,{className:"h-4 w-4 mr-2"})," Save .txt"]})]}),r.jsx("div",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap max-h-72 overflow-auto",children:re.transcript})]}),re.analysis&&r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),r.jsx("pre",{className:"text-xs bg-slate-50 border border-slate-200 rounded-xl p-3 overflow-auto max-h-64",children:typeof re.analysis=="string"?re.analysis:JSON.stringify(re.analysis,null,2)})]})]})})})]})}function s1({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function zi({children:e,className:t=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Xde(){return r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function yr({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function Es({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Ps({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Zde({children:e,onClose:t,title:n}){return r.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Qde({children:e,onClose:t,title:n}){return r.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),r.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),r.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const Ja={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},QT=/^\+\d{7,15}$/,JT=[{id:1,key:"core",label:"Core & Transcription",Icon:qw},{id:2,key:"voice",label:"Voice",Icon:Ww},{id:3,key:"review",label:"Review & Create",Icon:Gc}],Jde=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],efe=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function tfe(){const e=Gt(),[t,n]=v.useState(1),[a,s]=v.useState(!1),[l,c]=v.useState(!1),d=v.useRef(null),[f,m]=v.useState(!1),[h,x]=v.useState("all"),[g,b]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=v.useState({}),[S,k]=v.useState([]),[_,C]=v.useState(!1),[P,T]=v.useState(""),E=v.useMemo(()=>{const R=g.voice_provider==="openai"?lu:co;return(h==="all"?R:R.filter(H=>H.gender===h)).slice().sort((H,I)=>((H==null?void 0:H.showName)||"").localeCompare((I==null?void 0:I.showName)||""))},[g.voice_provider,h]);v.useEffect(()=>{if(!g.voice)return;const R=E.find(G=>(G==null?void 0:G.name)===g.voice);R!=null&&R.voice&&(b(G=>({...G,voice_model:R.voice})),j(G=>({...G,voice_model:""})))},[g.voice,E]);const L="https://aisdr-dbt.ddns.net",M=R=>{const{id:G,value:H,type:I,checked:A}=R.target,D=I==="checkbox"?A:H;b($=>({...$,[G]:D})),j($=>({...$,[G]:""}))},B=R=>{try{d.current&&(d.current.pause(),d.current=null);const G=new Audio(R);d.current=G,c(!0),G.play().catch(()=>{V.error("Failed to play voice preview"),c(!1),d.current=null}),G.onended=()=>{c(!1),d.current=null}}catch{V.error("Failed to play voice preview"),c(!1)}},K=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},F=R=>{if(R!==t){if(R===3&&(!g.voice||!f)){j(G=>({...G,voice:"Select a voice and press Next to continue"})),V.error("Please select a voice and press Next to continue.");return}K(),n(R)}},U=()=>{if(t===1){n(2);return}if(t===2){if(!g.voice){j(R=>({...R,voice:"Please select a voice"})),V.error("Select a voice to continue.");return}if(!f){j(R=>({...R,voice:"Click a voice card to confirm your choice"})),V.info("Click a voice card to confirm your choice.");return}n(3)}},te=async()=>{C(!0),T("");try{const R=localStorage.getItem("token"),G=await fetch(`${L}/api/purchased_numbers`,{headers:{Accept:"application/json",...R?{Authorization:`Bearer ${R}`}:{}}});if(!G.ok)throw new Error(`HTTP ${G.status}`);const H=await G.json(),A=(Array.isArray(H)?H:(H==null?void 0:H.purchased_numbers)||[]).filter(Boolean).map(D=>({phone_number:(D==null?void 0:D.phone_number)||"",friendly_name:(D==null?void 0:D.friendly_name)||"",attached_assistant:(D==null?void 0:D.attached_assistant)??null})).filter(D=>D.phone_number);k(A)}catch(R){console.error(R),T("Failed to load your purchased numbers"),k([])}finally{C(!1)}};v.useEffect(()=>{te()},[]);const we=()=>{const R=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],G={};let H=!0;if(R.forEach(I=>{const A=g[I];(A==null||A===""||Number.isNaN(A))&&(G[I]="Required",H=!1)}),(g.temperature<0||g.temperature>2)&&(G.temperature="Temperature must be between 0 and 2",H=!1),g.maxTokens<1&&(G.maxTokens="maxTokens must be a positive integer",H=!1),g.forwardingPhoneNumber&&!QT.test(g.forwardingPhoneNumber)&&(G.forwardingPhoneNumber="Must be E.164 (+123...)",H=!1),g.attached_Number&&!QT.test(g.attached_Number)&&(G.attached_Number="Invalid number format",H=!1),j(G),!H){const I=$=>$.some(W=>G[W]),A=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],D=["voice_provider","voice_model","voice"];I(A)?n(1):I(D)&&n(2)}return H},re=async R=>{if(R.preventDefault(),!a){if(t!==3){V.error("Please complete the steps first.");return}if(we()){s(!0),K();try{const G=localStorage.getItem("token"),H=`${L}/api/assistants`,I={name:g.name,provider:g.provider,first_message:g.first_message||null,model:g.model,systemPrompt:g.systemPrompt||null,knowledgeBase:g.knowledgeBase,leadsfile:g.leadsfile,temperature:Number(g.temperature),maxTokens:Number(g.maxTokens),transcribe_provider:g.transcribe_provider,transcribe_language:g.transcribe_language,transcribe_model:g.transcribe_model,languages:g.languages,forwardingPhoneNumber:g.forwardingPhoneNumber||null,endCallPhrases:g.endCallPhrases,voice_provider:g.voice_provider,voice:g.voice,voice_model:g.voice_model,attached_Number:g.attached_Number||null,draft:!!g.draft,assistant_toggle:!!g.assistant_toggle,category:g.category||null,speed:Number(g.speed),stability:Number(g.stability),similarityBoost:Number(g.similarityBoost)},A=await fetch(H,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...G?{Authorization:`Bearer ${G}`}:{}},body:JSON.stringify(I)});if(!A.ok){let D=`HTTP ${A.status}`;try{const $=await A.json();$!=null&&$.detail&&(D=$.detail)}catch{const $=await A.text();$&&(D=`${D}  ${$}`)}throw new Error(D)}V.success("Assistant created successfully!"),e("/user/callassistent")}catch(G){V.error((G==null?void 0:G.message)||"Failed to create assistant")}finally{s(!1)}}}};return v.useEffect(()=>{m(!1),b(R=>({...R,voice:"",voice_model:""}))},[g.voice_provider]),r.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Ja.background},children:[r.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:r.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),r.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),r.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[r.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Ja.border,backgroundColor:Ja.card},children:r.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[r.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),r.jsxs("div",{className:"relative p-6 text-center",children:[r.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[r.jsx(Gc,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),r.jsx(nfe,{currentStep:t,onChange:F}),r.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Ja.card,borderColor:Ja.border},children:r.jsxs("form",{onSubmit:re,noValidate:!0,children:[r.jsxs(Et,{mode:"wait",children:[t===1&&r.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsx(Qh,{id:"name",label:"Assistant Name",value:g.name,onChange:M,error:w.name,placeholder:"SupportBot"}),r.jsx(Qh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:g.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Wd,{children:"Attach Purchased Number (optional)"}),r.jsx("button",{type:"button",onClick:te,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),r.jsxs("select",{id:"attached_Number",value:g.attached_Number,onChange:M,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[r.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(R=>r.jsx("option",{value:R.phone_number,className:"bg-white",children:R.friendly_name?`${R.friendly_name}  ${R.phone_number}`:R.phone_number},R.phone_number))]}),P&&r.jsx($l,{children:P}),w.attached_Number&&r.jsx($l,{children:w.attached_Number})]}),r.jsx(Qh,{id:"category",label:"Category (optional)",value:g.category,onChange:M}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Wd,{children:"System Prompt"}),r.jsx(nE,{id:"systemPrompt",value:g.systemPrompt,onChange:M,placeholder:"Write your system prompt",rows:4}),w.systemPrompt&&r.jsx($l,{children:w.systemPrompt})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Wd,{children:"First Message"}),r.jsx(nE,{id:"first_message",value:g.first_message,onChange:M,placeholder:"Hello! ",rows:3}),w.first_message&&r.jsx($l,{children:w.first_message})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[r.jsx(rE,{id:"draft",label:"Save as Draft",checked:g.draft,onChange:M}),r.jsx(rE,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:g.assistant_toggle,onChange:M})]})]},"step1"),t===2&&r.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[r.jsx(tE,{id:"voice_provider",label:"Voice Provider",value:g.voice_provider,onChange:R=>{K();const G=R.target.value;b(H=>({...H,voice_provider:G,voice:"",voice_model:""})),m(!1),j(H=>({...H,voice:"",voice_model:""}))},options:Jde,error:w.voice_provider}),r.jsx(tE,{id:"genderFilter",label:"Gender",value:h,onChange:R=>{K(),x(R.target.value),m(!1)},options:efe}),r.jsx(Qh,{id:"voice_model",label:"Voice Model",value:g.voice_model,onChange:()=>{},error:w.voice_model,placeholder:g.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",r.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",r.jsx("span",{className:"font-medium",children:"Next"}),"."]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&r.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:Ja.border},children:"No voices match this filter."}),E.map(R=>r.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:g.voice===R.name?"#93c5fd":Ja.border,backgroundColor:g.voice===R.name?"#eff6ff":Ja.card},onClick:()=>{b(G=>({...G,voice:R.name,voice_model:R.voice,voice_provider:R.provider||g.voice_provider})),m(!0),j(G=>({...G,voice:"",voice_model:""}))},children:[r.jsx("div",{className:"absolute left-3 top-3",children:r.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${g.voice===R.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),r.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold text-slate-900",children:R.showName||R.name}),r.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[R.gender||"unknown","  ",R.provider]}),r.jsx("div",{className:"mt-1 text-xs text-slate-500",children:R.voice})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(rfe,{isActive:l&&g.voice===R.name,onPlay:()=>B(R.audioSr||""),onStop:K})})]})]},`${R.provider}-${R.name}`))]}),w.voice&&r.jsx($l,{children:w.voice})]},"step2"),t===3&&r.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:r.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Ja.border},children:[r.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsx(kl,{label:"Name",value:g.name||""}),r.jsx(kl,{label:"Model",value:`${g.provider}  ${g.model}`}),r.jsx(kl,{label:"Voice Provider",value:g.voice_provider}),r.jsx(kl,{label:"Voice",value:g.voice||""}),r.jsx(kl,{label:"Voice Model",value:g.voice_model||""}),r.jsx(kl,{label:"Forwarding Number",value:g.forwardingPhoneNumber||""}),r.jsx(kl,{label:"Attach Number",value:g.attached_Number||""})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[r.jsx(i1,{onClick:()=>n(2),children:"Edit Voice"}),r.jsx(i1,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),r.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?r.jsx(i1,{onClick:()=>F(t-1),children:"Back"}):r.jsx("span",{}),t<3?r.jsxs(eE,{onClick:U,children:["Next ",r.jsx(Kn,{className:"ml-1 h-4 w-4"})]}):r.jsx(eE,{type:"submit",disabled:a,children:a?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function nfe({currentStep:e,onChange:t}){return r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:JT.map(({id:n,label:a,Icon:s})=>{const l=e===n;return r.jsxs(he.button,{onClick:()=>t(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[r.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:r.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:a}),r.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),r.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:r.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/JT.length*100}%`}})})]})}function eE({children:e,onClick:t,type:n="button",disabled:a}){return r.jsx("button",{type:n,onClick:t,disabled:a,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${a?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function i1({children:e,onClick:t}){return r.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Wd({children:e}){return r.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function $l({children:e}){return r.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function Qh({id:e,label:t,value:n,onChange:a,error:s,placeholder:l,readOnly:c=!1,disabled:d=!1}){return r.jsxs("div",{className:"mb-2",children:[r.jsx(Wd,{children:t}),r.jsx("input",{id:e,type:"text",value:n,onChange:a,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&r.jsx($l,{children:s})]})}function tE({id:e,label:t,value:n,onChange:a,options:s,error:l}){return r.jsxs("div",{className:"mb-2",children:[r.jsx(Wd,{children:t}),r.jsx("select",{id:e,value:n,onChange:a,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>r.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&r.jsx($l,{children:l})]})}function nE({id:e,value:t,onChange:n,placeholder:a,rows:s=4}){return r.jsx("textarea",{id:e,value:t,onChange:n,placeholder:a,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function rE({id:e,label:t,checked:n,onChange:a}){return r.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[r.jsx("input",{id:e,type:"checkbox",checked:n,onChange:a,className:"accent-blue-600"}),r.jsx("span",{children:t})]})}function kl({label:e,value:t}){return r.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Ja.border},children:[r.jsx("div",{className:"text-slate-500",children:e}),r.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function rfe({isActive:e,onPlay:t,onStop:n}){return r.jsx("div",{className:"flex items-center gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((a,s)=>r.jsx("div",{className:"w-1.5 rounded-sm bg-blue-500",style:{animation:`eqbar 0.9s ${a}ms ease-in-out infinite`}},s))}),r.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:r.jsx(kc,{className:"h-5 w-5"})})]}):r.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:r.jsx(Sf,{className:"h-5 w-5"})})})}const We={primary:"#4F46E5",secondary:"#10B981",danger:"#EF4444",text:"#374151",lightText:"#6B7280",border:"#E5E7EB",background:"#F9FAFB",card:"#FFFFFF",hover:"#F9FAFB",radioSelected:"#1F2937",radioBorder:"#374151"},afe=()=>{const{assistantId:e}=bf(),t=Gt(),[n,a]=v.useState(!1),[s,l]=v.useState(!1),[c,d]=v.useState(1),[f,m]=v.useState({name:"",phone:"",system_prompt:"",first_message:"",files:null,existing_file_urls:[],voice:"",voiceSet:"all"}),[h,x]=v.useState({name:"",phone:"",system_prompt:"",first_message:"",files:"",voice:""}),[g,b]=v.useState(!0),w=v.useRef(null),j=[...Lb,...$b].sort((M,B)=>M.showName.localeCompare(B.showName));v.useEffect(()=>{(async()=>{const B=localStorage.getItem("token");if(!B){V.error("No authentication token found. Please log in."),t("/login");return}try{const K=await fetch("http://localhost:8000/api/admin/getassistant",{method:"GET",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}});if(!K.ok){if(K.status===403)throw new Error("Access denied: Invalid or insufficient permissions");if(K.status===401)throw new Error("Unauthorized: Please log in again");{const te=await K.text();throw new Error(`HTTP error! Status: ${K.status}`)}}const U=(await K.json()).assistants.find(te=>te.assistant_id===e);if(!U)throw new Error("Assistant not found");m({name:U.name||"",phone:U.phone||"",system_prompt:U.system_prompt||"",first_message:U.first_message||"",files:null,existing_file_urls:U.file_urls||[],voice:U.voice||"",voiceSet:"all"}),b(!1)}catch(K){console.error("Error fetching assistant:",K.message),V.error(K.message),t("/")}})()},[e,t]),v.useEffect(()=>{var M;if(c===2&&!f.voice){const B=j.filter(K=>f.voiceSet==="voiceset1"?Lb.includes(K):f.voiceSet==="voiceset2"?$b.includes(K):!0);B.length>0&&((M=B[0])!=null&&M.name)&&(m(K=>({...K,voice:B[0].name})),x(K=>({...K,voice:""})))}},[f.voiceSet,c]);const S=M=>{const{id:B,value:K}=M.target;m(F=>({...F,[B]:K})),x(F=>({...F,[B]:""}))},k=M=>{m(B=>({...B,files:M.target.files})),x(B=>({...B,files:""}))},_=()=>{const M={...h};let B=!0;const K=/^\+\d{10,15}$/,F=["text/plain","application/pdf","text/csv"],U=5*1024*1024;if(f.name.trim()||(M.name="Please enter an assistant name",B=!1),f.phone?K.test(f.phone)||(M.phone="Phone number must be in international format (e.g., +1234567890)",B=!1):(M.phone="Please select a phone number",B=!1),f.system_prompt.trim()||(M.system_prompt="Please enter a system prompt",B=!1),f.first_message.trim()||(M.first_message="Please enter a first message",B=!1),f.files&&f.files.length>0)for(let te=0;te<f.files.length;te++){if(!F.includes(f.files[te].type)){M.files="Only .txt, .pdf, and .csv files are allowed",B=!1;break}if(f.files[te].size>U){M.files="Each file must be under 5MB",B=!1;break}}return x(M),B},C=()=>{const M={...h};let B=!0;return f.voice||(M.voice="Please select a voice",B=!1),x(M),B},P=M=>{w.current&&(w.current.pause(),w.current=null,l(!1));const B=new Audio(M);w.current=B,l(!0),B.play().catch(K=>{console.error("Error playing audio:",K),V.error("Failed to play voice preview"),l(!1)}),B.onended=()=>{l(!1),w.current=null}},T=()=>{w.current&&(w.current.pause(),w.current=null,l(!1))},E=M=>{M!==c&&(d(M),T())},L=async M=>{if(M.preventDefault(),n)return;const B=_(),K=C();if(!B){d(1);return}if(!K){d(2);return}a(!0),T();try{const F=new FormData;if(F.append("assistantName",f.name),F.append("phone",f.phone),F.append("systemPrompt",f.system_prompt),F.append("firstMessage",f.first_message),F.append("voice",f.voice),f.files)for(let we=0;we<f.files.length;we++)F.append("files",f.files[we]);f.existing_file_urls.length>0&&F.append("file_urls",JSON.stringify(f.existing_file_urls));const U=localStorage.getItem("token");if(!U)throw new Error("No authentication token found. Please log in.");const te=await fetch(`http://localhost:8000/api/admin/update/assistant/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${U}`},body:F});if(!te.ok){const we=await te.text();throw new Error(`HTTP error! Status: ${te.status}`)}V.success("Assistant updated successfully!"),t("/admin/assistants")}catch(F){console.error("Error updating assistant:",F.message),V.error(F.message)}finally{a(!1)}};return g?r.jsx("div",{className:"min-h-screen flex justify-center items-center",style:{backgroundColor:We.background},children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:We.primary}})}):r.jsx("div",{className:"min-h-screen",style:{backgroundColor:We.background},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-sm border py-4 px-6 text-center",style:{borderColor:We.border},children:r.jsx("h1",{className:"text-3xl font-bold",style:{color:We.text},children:"Edit Assistant"})}),r.jsxs("div",{className:"mb-6 flex justify-center gap-4",children:[r.jsx("button",{type:"button",onClick:()=>E(1),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===1?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 1: Assistant Details"}),r.jsx("button",{type:"button",onClick:()=>E(2),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===2?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 2: Voice Selection"})]}),r.jsx("div",{className:"rounded-xl shadow-md border p-8 transition-transform hover:scale-[1.01]",style:{backgroundColor:We.card,borderColor:We.border},children:r.jsxs("form",{onSubmit:L,noValidate:!0,children:[c===1&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{htmlFor:"name",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:We.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Assistant Name"]}),r.jsx("input",{type:"text",id:"name",value:f.name,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:We.border,color:We.text,backgroundColor:We.card},placeholder:"Enter assistant name (e.g., SupportBot)"}),h.name&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:We.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.name]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:We.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone Number"]}),r.jsxs("select",{id:"phone",value:f.phone,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:We.border,color:We.text,backgroundColor:We.card},children:[r.jsx("option",{value:"",children:"Select a phone number"}),r.jsx("option",{value:"+1234567890",children:"+1234567890 (Demo)"}),r.jsx("option",{value:"+1987654321",children:"+1987654321"}),r.jsx("option",{value:"+1123456789",children:"+1123456789"})]}),h.phone&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:We.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.phone]})]}),r.jsxs("div",{className:"mb-6 md:col-span-2",children:[r.jsxs("label",{htmlFor:"system_prompt",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:We.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"System Prompt"]}),r.jsx("textarea",{id:"system_prompt",value:f.system_prompt,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:We.border,color:We.text,backgroundColor:We.card},placeholder:"Enter system prompt",rows:"5"}),h.system_prompt&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:We.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.system_prompt]})]}),r.jsxs("div",{className:"mb-6 md:col-span-2",children:[r.jsxs("label",{htmlFor:"first_message",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:We.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"First Message"]}),r.jsx("textarea",{id:"first_message",value:f.first_message,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:We.border,color:We.text,backgroundColor:We.card},placeholder:"Enter the assistant's first message",rows:"3"}),h.first_message&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:We.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.first_message]})]}),r.jsxs("div",{className:"mb-6 md:col-span-2",children:[r.jsxs("label",{htmlFor:"files",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:We.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add New Files (Optional)"]}),r.jsx("input",{type:"file",id:"files",multiple:!0,accept:".txt,.pdf,.csv",onChange:k,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:We.border,color:We.text,backgroundColor:We.card}}),h.files&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:We.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.files]}),r.jsx("p",{className:"text-sm mt-2",style:{color:We.lightText},children:"Supported formats: .txt, .pdf, .csv (max 5MB per file)"}),f.existing_file_urls.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"font-medium",style:{color:We.text},children:"Existing Files:"}),r.jsx("ul",{className:"list-disc pl-5",children:f.existing_file_urls.map((M,B)=>r.jsx("li",{children:r.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-sm",style:{color:We.primary},children:M})},B))})]})]})]}),c===2&&r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"voice",className:"flex items-center gap-2 text-lg font-semibold mb-4",style:{color:We.text},children:[r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),"Voice Selection"]}),r.jsx("div",{className:"mb-6",children:r.jsxs("select",{id:"voiceSet",value:f.voiceSet,onChange:M=>{m(B=>({...B,voiceSet:M.target.value,voice:""})),x(B=>({...B,voice:""})),T()},className:"w-full md:w-64 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:We.border,color:We.text,backgroundColor:We.card},children:[r.jsx("option",{value:"all",children:"All Voices"}),r.jsx("option",{value:"voiceset1",children:"Voice Set 1"}),r.jsx("option",{value:"voiceset2",children:"Voice Set 2"})]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.filter(M=>f.voiceSet==="voiceset1"?Lb.includes(M):f.voiceSet==="voiceset2"?$b.includes(M):!0).map(M=>M&&M.name?r.jsxs("div",{className:`relative p-6 rounded-xl border cursor-pointer transition-all duration-300 shadow-sm hover:shadow-md ${f.voice===M.name?"border-gray-800 bg-gray-50":"border-gray-300 hover:bg-gray-100"}`,style:{borderColor:f.voice===M.name?We.radioBorder:We.border,backgroundColor:f.voice===M.name?We.hover:We.card},onClick:()=>{console.log("Selected voice:",M),m(B=>({...B,voice:M.name})),x(B=>({...B,voice:""}))},children:[r.jsx("div",{className:"absolute top-3 left-3",children:r.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${f.voice===M.name?"border-gray-800 bg-gray-800":"border-gray-400"}`,style:{borderColor:f.voice===M.name?We.radioBorder:We.border,backgroundColor:f.voice===M.name?We.radioSelected:"transparent"},children:f.voice===M.name&&r.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})}),r.jsxs("div",{className:"ml-8 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",style:{color:We.text},children:M.showName||"Unnamed Voice"}),r.jsx("p",{className:"text-sm",style:{color:We.lightText},children:M.gender||"Unknown"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),P(M.audioSr||"")},disabled:s&&f.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-emerald-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:We.secondary,color:"white"},title:s&&f.voice!==M.name?"Audio playing":"Play voice preview",children:s&&f.voice===M.name?r.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12a8 8 0 1116 0 8 8 0 01-16 0z"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.2A1 1 0 0010 9.8v4.4a1 1 0 001.555.832l3.197-2.2a1 1 0 000-1.664z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),r.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),T()},disabled:!s||f.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-red-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:We.danger,color:"white"},title:"Stop voice preview",children:r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9z"})]})})]})]})]},M.name):null)}),h.voice&&r.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:We.danger},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.voice]})]}),r.jsxs("div",{className:"flex justify-between mt-6",children:[c===2&&r.jsx("button",{type:"button",onClick:()=>E(1),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-gray-300",style:{backgroundColor:We.border,color:We.text},children:"Back"}),c===1&&r.jsx("button",{type:"button",onClick:()=>E(2),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 ml-auto",style:{backgroundColor:We.primary,color:"white"},children:"Next"}),c===2&&r.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:We.primary,color:"white"},children:n?"Updating...":"Update Assistant"})]})]})})]})})},Jh="https://aisdr-dbt.ddns.net";function sfe(){const e=Gt(),[t,n]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(!0),[m,h]=v.useState(""),[x,g]=v.useState("all"),[b,w]=v.useState("all"),[j,S]=v.useState("created_at"),[k,_]=v.useState("desc"),[C,P]=v.useState(!1),[T,E]=v.useState(null),[L,M]=v.useState([]),[B,K]=v.useState(!1),[F,U]=v.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[te,we]=v.useState(1),re=10,R=v.useMemo(()=>localStorage.getItem("token"),[]),G=async()=>{try{c(!0);const q=await fetch(`${Jh}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});if(!q.ok)throw new Error(`HTTP ${q.status}`);const ie=await q.json(),Y=Array.isArray(ie)?ie:Array.isArray(ie==null?void 0:ie.assistants)?ie.assistants:[];n(Y)}catch(q){console.error(q),V.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};v.useEffect(()=>{G()},[]),v.useEffect(()=>{if(!d)return;const q=setInterval(G,15e3);return()=>clearInterval(q)},[d]);const H=v.useMemo(()=>{let q=[...t];x!=="all"&&(q=q.filter(Y=>((Y==null?void 0:Y.provider)||"").toLowerCase()===x)),b!=="all"&&(q=q.filter(Y=>((Y==null?void 0:Y.category)||"").toLowerCase()===b));const ie=m.trim().toLowerCase();return ie&&(q=q.filter(Y=>[Y==null?void 0:Y.name,Y==null?void 0:Y.model,Y==null?void 0:Y.voice,Y==null?void 0:Y.category,Y==null?void 0:Y.attached_Number].filter(Boolean).map(String).map(Te=>Te.toLowerCase()).some(Te=>Te.includes(ie)))),q.sort((Y,ge)=>{if(j==="created_at"){const Pe=Y!=null&&Y.created_at?new Date(Y.created_at).getTime():0,Je=ge!=null&&ge.created_at?new Date(ge.created_at).getTime():0;return k==="asc"?Pe-Je:Je-Pe}const Te=((Y==null?void 0:Y[j])??"").toString().toLowerCase(),Re=((ge==null?void 0:ge[j])??"").toString().toLowerCase();return Te<Re?k==="asc"?-1:1:Te>Re?k==="asc"?1:-1:0}),q},[t,m,x,b,j,k]),I=v.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),A=v.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),D=Math.max(1,Math.ceil(H.length/re)),$=Math.min(te,D),W=H.slice(($-1)*re,$*re),ce=v.useMemo(()=>H.length?H.reduce((q,ie)=>{const Y=q!=null&&q.created_at?new Date(q.created_at):null,ge=ie!=null&&ie.created_at?new Date(ie.created_at):null;return!Y&&ge?ie:!ge&&Y||!Y&&!ge?q:ge>Y?ie:q},H[0]):null,[H]),Q=q=>{j===q?_(ie=>ie==="asc"?"desc":"asc"):(S(q),_("asc"))},Z=q=>{E(q),P(!0)},je=async()=>{if(T)try{const q=await fetch(`${Jh}/api/assistants/${T}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});if(!q.ok){let ie=`HTTP ${q.status}`;try{const Y=await q.json();Y!=null&&Y.detail&&(ie=Y.detail)}catch{}throw new Error(ie)}V.success("Assistant deleted"),M(ie=>ie.filter(Y=>Y!==T)),G()}catch(q){console.error(q),V.error((q==null?void 0:q.message)||"Delete failed")}finally{P(!1),E(null)}},se=q=>{const ie=q==null?void 0:q.knowledge_base;if(Array.isArray(ie)&&ie.length){const Y=ie.filter(ge=>typeof ge=="string"&&/^https?:\/\//i.test(ge));if(Y.length){Y.forEach(ge=>window.open(ge,"_blank","noopener"));return}}V.info("No file URLs available for this assistant.")},be=q=>{if(!(q!=null&&q.vapi_assistant_id)){V.error("Missing VAPI Assistant ID");return}U({vapi_assistant_id:q.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),K(!0)},_e=async q=>{q.preventDefault();const{vapi_assistant_id:ie,number:Y,first_name:ge,last_name:Te,email:Re}=F;if(!Y)return V.error("Enter the customer's phone number (E.164 preferred)");try{const Pe=`${Jh}/api/phone-call/${encodeURIComponent(ie)}/${encodeURIComponent(Y)}`,Je={first_name:ge||"Caller",last_name:Te||"",email:Re||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Y,custom_field_01:null,custom_field_02:null},Ze=await fetch(Pe,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R?`Bearer ${R}`:""},body:JSON.stringify(Je)}),ye=await Ze.json().catch(()=>({}));if(!Ze.ok||(ye==null?void 0:ye.success)===!1)throw new Error((ye==null?void 0:ye.detail)||`HTTP ${Ze.status}`);V.success("Call initiated"),K(!1)}catch(Pe){console.error(Pe),V.error((Pe==null?void 0:Pe.message)||"Failed to initiate call")}},Ne=q=>L.includes(q),xe=q=>{M(ie=>ie.includes(q)?ie.filter(Y=>Y!==q):[...ie,q])},ze=()=>{const q=W.map(Y=>Y.id).filter(Boolean),ie=q.every(Y=>L.includes(Y));M(Y=>ie?Y.filter(ge=>!q.includes(ge)):Array.from(new Set([...Y,...q])))},Be=async()=>{if(!L.length)return V.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const q of L)await fetch(`${Jh}/api/assistants/${q}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});V.success("Bulk delete complete"),M([]),G()}catch(q){console.error(q),V.error("Bulk delete encountered an error")}},Se=()=>{const q=["Name","Model","Voice","Attached Number","Category","Created"],ie=H.map(Pe=>[(Pe==null?void 0:Pe.name)??"",(Pe==null?void 0:Pe.model)??"",(Pe==null?void 0:Pe.voice)??"",(Pe==null?void 0:Pe.attached_Number)??"",(Pe==null?void 0:Pe.category)??"",Pe!=null&&Pe.created_at?new Date(Pe.created_at).toLocaleString():""]),Y=[q,...ie].map(Pe=>Pe.map(Je=>`"${String(Je).replace(/"/g,'""')}"`).join(",")).join(`
`),ge=new Blob([Y],{type:"text/csv;charset=utf-8;"}),Te=URL.createObjectURL(ge),Re=document.createElement("a");Re.href=Te,Re.download="assistants.csv",Re.click(),URL.revokeObjectURL(Te)};return a?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:r.jsx("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[r.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),r.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),r.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((q,ie)=>r.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[r.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),r.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},ie))}),r.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[r.jsx("div",{className:"border-b border-gray-100 p-6",children:r.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((q,ie)=>r.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),r.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),r.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((Y,ge)=>r.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},ge))})]})},ie))]})]})})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),r.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),r.jsxs("div",{className:"relative mx-auto w-full max-w-[1400px] px-6 py-12",children:[r.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"text-white",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:r.jsx(Uc,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),r.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),r.jsxs("span",{children:[H.length," Active"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hp,{className:"h-4 w-4"}),r.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("button",{onClick:()=>f(q=>!q),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[r.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),r.jsxs("button",{onClick:G,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[r.jsx(PL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),r.jsxs("button",{onClick:Se,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[r.jsx(TL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),r.jsxs("button",{onClick:()=>e("/admin/addassistands"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[r.jsx(fx,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(OL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),r.jsx("input",{value:m,onChange:q=>h(q.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsx(aE,{label:"Provider",value:x,onChange:g,options:I,icon:r.jsx(EL,{className:"h-4 w-4"})}),r.jsx(aE,{label:"Category",value:b,onChange:w,options:A,icon:r.jsx(zc,{className:"h-4 w-4"})})]})]})]})]}),r.jsxs("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(e0,{title:"Total Assistants",value:H.length,icon:r.jsx(Uc,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),r.jsx(e0,{title:"Active Calls",value:"24",icon:r.jsx(Gi,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),r.jsx(e0,{title:"Success Rate",value:"94.2%",icon:r.jsx(cs,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),r.jsx(e0,{title:"Last Created",value:ce!=null&&ce.name?ce.name.length>12?`${ce.name.slice(0,12)}`:ce.name:"",icon:r.jsx(hp,{className:"h-6 w-6 text-cyan-600"}),subtitle:ce!=null&&ce.created_at?new Date(ce.created_at).toLocaleDateString():""})]}),L.length>0&&r.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:r.jsx(cs,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-blue-900",children:[L.length," assistants selected"]}),r.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:ze,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),r.jsx("button",{onClick:Be,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),H.length===0?r.jsx(cfe,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[r.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),r.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[r.jsx("thead",{className:"bg-gray-50/60",children:r.jsxs("tr",{children:[r.jsx(ife,{className:"w-12 text-center",checked:W.every(q=>L.includes(q.id))&&W.length>0,onChange:ze}),r.jsx(sc,{className:"w-[24%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?k:null,onSort:Q}),r.jsx(sc,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?k:null,onSort:Q}),r.jsx(sc,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?k:null,onSort:Q}),r.jsx(sc,{className:"w-[16%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?k:null,onSort:Q}),r.jsx(sc,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?k:null,onSort:Q}),r.jsx(sc,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?k:null,onSort:Q}),r.jsx("th",{className:"w-[18%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:W.map(q=>r.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Ne(q.id)?"bg-blue-50/50":""}`,children:[r.jsx(lfe,{className:"w-12 text-center",checked:Ne(q.id),onChange:()=>xe(q.id)}),r.jsx("td",{className:"w-[24%] px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:r.jsx(zc,{className:"h-5 w-5"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"max-w-[32ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:q.name||""}),r.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(q.knowledge_base)?q.knowledge_base.length:0," KB items"]})]})]})}),r.jsx("td",{className:"w-[12%] px-6 py-4",children:r.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:r.jsx(Nc,{variant:"secondary",children:q.model||""})})}),r.jsx("td",{className:"w-[12%] px-6 py-4",children:r.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:r.jsx(Nc,{variant:"accent",children:q.voice||""})})}),r.jsx("td",{className:"w-[16%] px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"font-mono text-sm text-gray-700 break-all",children:q.attached_Number||""}),q.attached_Number&&r.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>ufe(q.attached_Number),children:r.jsx(AL,{className:"h-4 w-4"})})]})}),r.jsx("td",{className:"w-[10%] px-6 py-4",children:r.jsx("div",{className:"text-center",children:q.category?r.jsx(Nc,{variant:"primary",children:q.category}):r.jsx("span",{className:"text-gray-400",children:""})})}),r.jsx("td",{className:"w-[8%] px-6 py-4 text-center text-sm text-gray-600 whitespace-nowrap",children:q.created_at?new Date(q.created_at).toLocaleDateString():""}),r.jsx("td",{className:"w-[18%] px-6 py-4",children:r.jsxs("div",{className:"mx-auto flex w-full items-center justify-center gap-2 whitespace-nowrap",children:[r.jsx(t0,{title:"Edit Assistant",onClick:()=>e(`/admin/edit-assistants/${q.id}`),variant:"primary",children:r.jsx(ux,{className:"h-4 w-4"})}),r.jsx(t0,{title:"View Files",onClick:()=>se(q),variant:"success",children:r.jsx(dx,{className:"h-4 w-4"})}),r.jsx(t0,{title:"Start Call",onClick:()=>be(q),variant:"secondary",children:r.jsx(Gi,{className:"h-4 w-4"})}),r.jsx(t0,{title:"Delete",onClick:()=>Z(q.id),variant:"danger",children:r.jsx(Bc,{className:"h-4 w-4"})})]})})]},q.id??q.name))})]})]}),r.jsx("div",{className:"space-y-4 xl:hidden",children:W.map(q=>r.jsx(ofe,{assistant:q,isSelected:Ne(q.id),onToggleSelect:()=>xe(q.id),onEdit:()=>e(`/admin/edit-assistants/${q.id}`),onViewFiles:()=>se(q),onCall:()=>be(q),onDelete:()=>Z(q.id)},q.id??q.name))}),r.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",($-1)*re+1," to ",Math.min($*re,H.length)," of"," ",H.length," assistants"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(sE,{disabled:$<=1,onClick:()=>we(q=>Math.max(1,q-1)),children:[r.jsx(_L,{className:"h-4 w-4"}),"Previous"]}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,D)},(q,ie)=>{const Y=ie+1;return r.jsx("button",{onClick:()=>we(Y),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${Y===$?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:Y},Y)})}),r.jsxs(sE,{disabled:$>=D,onClick:()=>we(q=>Math.min(D,q+1)),children:["Next",r.jsx(kL,{className:"h-4 w-4"})]})]})]})]})]}),C&&r.jsx(iE,{onClose:()=>P(!1),children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:r.jsx(Bc,{className:"h-8 w-8 text-red-600"})}),r.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),r.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),r.jsxs("div",{className:"flex justify-center gap-3",children:[r.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>P(!1),children:"Cancel"}),r.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:je,children:"Delete Assistant"})]})]})}),B&&r.jsxs(iE,{onClose:()=>K(!1),children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:r.jsx(Gi,{className:"h-8 w-8 text-blue-600"})}),r.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),r.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),r.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[r.jsx(n0,{label:"Customer Phone Number",value:F.number,onChange:q=>U(ie=>({...ie,number:q})),placeholder:"+1 (555) 123-4567",required:!0}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(n0,{label:"First Name",value:F.first_name,onChange:q=>U(ie=>({...ie,first_name:q})),placeholder:"John"}),r.jsx(n0,{label:"Last Name",value:F.last_name,onChange:q=>U(ie=>({...ie,last_name:q})),placeholder:"Doe"})]}),r.jsx(n0,{label:"Email Address",value:F.email,onChange:q=>U(ie=>({...ie,email:q})),placeholder:"john@example.com",type:"email"}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>K(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function e0({title:e,value:t,icon:n,trend:a,trendUp:s,subtitle:l}){return r.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),r.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&r.jsx("div",{className:"text-sm text-gray-500",children:l}),a&&r.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[a," from last month"]})]})]})}function aE({label:e,value:t,onChange:n,options:a}){return r.jsxs("div",{className:"relative",children:[r.jsx("select",{value:t,onChange:s=>n(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:a.map(s=>r.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx(cx,{className:"h-4 w-4 text-white/70"})})]})}function Nc({children:e,variant:t="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return r.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[t]}`,children:e})}function t0({title:e,onClick:t,children:n,variant:a="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return r.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[a]}`,children:n})}function sc({label:e,sortKey:t,sortDir:n,onSort:a,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return r.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:r.jsxs("button",{onClick:()=>a(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,r.jsxs("div",{className:"flex flex-col",children:[r.jsx(CL,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),r.jsx(cx,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function ife({checked:e,onChange:t,className:n=""}){return r.jsx("th",{className:`px-6 py-4 ${n}`,children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&r.jsx(cs,{className:"h-3 w-3"})})})})}function lfe({checked:e,onChange:t,className:n=""}){return r.jsx("td",{className:`px-6 py-4 ${n}`,children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&r.jsx(cs,{className:"h-3 w-3"})})})})}function ofe({assistant:e,isSelected:t,onToggleSelect:n,onEdit:a,onViewFiles:s,onCall:l,onDelete:c}){return r.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[r.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&r.jsx(cs,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:r.jsx(zc,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),r.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),r.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),r.jsx(Nc,{variant:"secondary",children:e.model||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),r.jsx(Nc,{variant:"accent",children:e.voice||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),r.jsx("div",{className:"font-mono text-sm break-all",children:e.attached_Number||""})]}),r.jsxs("div",{children:[r.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?r.jsx(Nc,{variant:"primary",children:e.category}):r.jsx("span",{className:"text-gray-400",children:""})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:a,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[r.jsx(ux,{className:"h-4 w-4"}),"Edit"]}),r.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[r.jsx(dx,{className:"h-4 w-4"}),"Files"]}),r.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[r.jsx(Gi,{className:"h-4 w-4"}),"Call"]}),r.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[r.jsx(Bc,{className:"h-4 w-4"}),"Delete"]})]})]})}function sE({disabled:e,onClick:t,children:n}){return r.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function iE({children:e,onClose:t}){return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),r.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[r.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function n0({label:e,value:t,onChange:n,placeholder:a,required:s,type:l="text"}){return r.jsxs("div",{children:[r.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:l,value:t,onChange:c=>n(c.target.value),placeholder:a,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function cfe(){return r.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:r.jsx(Uc,{className:"h-10 w-10 text-blue-600"})}),r.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),r.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),r.jsxs("a",{href:"/admin/addassistands",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[r.jsx(fx,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function ufe(e){e&&navigator.clipboard.writeText(e).then(()=>V.success("Copied to clipboard")).catch(()=>V.info(e))}const lE="https://aisdr-dbt.ddns.net",oE={PHONE_NUMBERS:`${lE}/api/admin/phone-numbers`,PHONE_NUMBER:e=>`${lE}/api/admin/phone-numbers/${e}`},dfe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function cE(e){if(e==null||isNaN(Number(e)))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(e))}catch{return`$${Number(e).toFixed(2)}`}}function ka({children:e,className:t="",variant:n="outline",size:a="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return r.jsx("button",{...s,className:`${l} ${c[a]} ${d[n]} ${t}`,children:e})}function r0({children:e,className:t=""}){return r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Cl({children:e}){return r.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Al({children:e}){return r.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function ffe(){return r.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function a0({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return r.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[r.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function mfe({name:e="?",size:t=38,url:n=null}){const a=(e||"?").split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2);return r.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:t,height:t},title:e,children:r.jsx("span",{style:{fontSize:t<40?12:13},children:a})})}function hfe({children:e,onClose:t,title:n}){return r.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),r.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[r.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),r.jsx(ka,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:r.jsx(fr,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function pfe(){var G,H;const[e,t]=v.useState([]),[n,a]=v.useState({total:0,attached:0,unattached:0,countries:0}),[s,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(null),[h,x]=v.useState(""),[g,b]=v.useState("all"),[w,j]=v.useState("all"),[S,k]=v.useState(1),_=10,[C,P]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),[T,E]=v.useState(null),L=v.useCallback(async()=>{if(C){t([]),a({total:0,attached:0,unattached:0,countries:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const I=localStorage.getItem("token");if(!I){t([]),a({total:0,attached:0,unattached:0,countries:0}),d("No auth token found."),V.error("No authentication token found.");return}try{l(!0),d("");const A=await fetch(oE.PHONE_NUMBERS,{headers:{Authorization:`Bearer ${I}`,Accept:"application/json"},mode:"cors"});if(!A.ok){const je=await A.text();throw new Error(`HTTP ${A.status}${je?`  ${je}`:""}`)}const D=await A.json();if(!(D!=null&&D.success)||!Array.isArray(D==null?void 0:D.phone_numbers))throw new Error("Unexpected response shape.");const $=(D.phone_numbers||[]).map(je=>({id:je.id,phone_number:je.phone_number,friendly_name:je.friendly_name||"",region:je.region||"",postal_code:je.postal_code||"",iso_country:(je.iso_country||"").toUpperCase(),last_month_payment:je.last_month_payment,created_at:je.created_at,updated_at:je.updated_at,attached_assistant:je.attached_assistant,vapi_phone_uuid:je.vapi_phone_uuid||null,owner:je.user||null}));$.sort((je,se)=>new Date(se.updated_at||se.created_at||0)-new Date(je.updated_at||je.created_at||0)),t($);const W=$.filter(je=>je.attached_assistant!==null&&je.attached_assistant!==void 0).length,ce=D.total_phone_numbers??$.length,Q=Math.max(0,ce-W),Z=new Set($.map(je=>je.iso_country||"")).size;a({total:ce,attached:W,unattached:Q,countries:Z})}catch(A){d((A==null?void 0:A.message)||"Failed to load phone numbers"),V.error((A==null?void 0:A.message)||"Failed to load phone numbers")}finally{l(!1)}},[C]);v.useEffect(()=>{L()},[L]);const M=v.useMemo(()=>{const I=new Set(e.map(A=>A.iso_country).filter(Boolean));return["all",...Array.from(I).sort()]},[e]),B=v.useMemo(()=>{let I=[...e];if(h.trim()){const A=h.trim().toLowerCase();I=I.filter(D=>{var $,W;return String(D.phone_number||"").toLowerCase().includes(A)||String(D.friendly_name||"").toLowerCase().includes(A)||String(D.region||"").toLowerCase().includes(A)||String(D.postal_code||"").toLowerCase().includes(A)||String((($=D.owner)==null?void 0:$.name)||"").toLowerCase().includes(A)||String(((W=D.owner)==null?void 0:W.email)||"").toLowerCase().includes(A)})}return g!=="all"&&(I=I.filter(A=>g==="attached"?A.attached_assistant:!A.attached_assistant)),w!=="all"&&(I=I.filter(A=>(A.iso_country||"").toUpperCase()===w)),I},[e,h,g,w]),K=Math.max(1,Math.ceil(B.length/_)),F=S*_,U=F-_,te=B.slice(U,F);v.useEffect(()=>{k(1)},[h,g,w]);const we=I=>E(I),re=async()=>{const I=T;if(!I)return;const A=localStorage.getItem("token");if(!A)return V.error("No authentication token found.");const D=e.find($=>$.id===I);if(D!=null&&D.attached_assistant)return V.error("This number is attached to an assistant. Detach it first from the Assistants page.");try{m(I);const $=await fetch(oE.PHONE_NUMBER(I),{method:"DELETE",headers:{Authorization:`Bearer ${A}`,Accept:"application/json"}}),W=await $.json();if(!$.ok||!(W!=null&&W.success))throw new Error((W==null?void 0:W.detail)||(W==null?void 0:W.message)||`HTTP ${$.status}`);V.success(" Phone number deleted"),t(ce=>ce.filter(Q=>Q.id!==I)),a(ce=>({...ce,total:Math.max(0,ce.total-1),unattached:Math.max(0,ce.unattached-1)})),E(null)}catch($){V.error(($==null?void 0:$.message)||"Delete failed")}finally{m(null)}},R=()=>{const I=localStorage.getItem("admin_token_backup");if(!I){V.error("No admin backup token found.");return}localStorage.setItem("token",I),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),P(null),V.success(" Exited impersonation"),window.location.reload()};return r.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[C&&r.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:r.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[r.jsx(pc,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),r.jsxs("span",{className:"truncate",children:["Acting as ",r.jsx("b",{className:"break-all",children:(G=C.acting_as)==null?void 0:G.email})]})]}),r.jsxs(ka,{onClick:R,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[r.jsx(fr,{className:"mr-2 h-4 w-4"})," Exit"]})]})}),r.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),r.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[r.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[r.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),r.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[r.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:r.jsx(pt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:r.jsx("span",{className:`bg-clip-text text-transparent ${dfe}`,children:"Phone Numbers"})}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View and manage purchased phone numbers. Delete numbers that are not attached to an assistant."})]})]}),r.jsx("div",{className:"flex flex-wrap items-center gap-2",children:r.jsx(ka,{onClick:L,disabled:s||!!C,children:s?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[r.jsx(a0,{label:"Total Numbers",value:n.total,Icon:pt,tone:"blue"}),r.jsx(a0,{label:"Attached",value:n.attached,Icon:pc,tone:"cyan"}),r.jsx(a0,{label:"Unattached",value:n.unattached,Icon:fa,tone:"blue"}),r.jsx(a0,{label:"Countries",value:n.countries,Icon:Ld,tone:"cyan"})]}),r.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[r.jsxs("div",{className:"relative flex-1 min-w-0",children:[r.jsx(_r,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),r.jsx("input",{value:h,onChange:I=>x(I.target.value),placeholder:"Search number, name, region, or owner",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!C})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[r.jsx(Kc,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("select",{value:g,onChange:I=>b(I.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[r.jsx("option",{value:"all",children:"All statuses"}),r.jsx("option",{value:"attached",children:"Attached"}),r.jsx("option",{value:"unattached",children:"Unattached"})]}),r.jsx("select",{value:w,onChange:I=>j(I.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:M.map(I=>r.jsx("option",{value:I,children:I==="all"?"All countries":I},I))}),(h||g!=="all"||w!=="all")&&r.jsx(ka,{onClick:()=>{x(""),b("all"),j("all")},className:"text-slate-700",disabled:!!C,children:"Clear"})]})]})}),r.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:r.jsx(pt,{className:"h-4 w-4"})}),r.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Phone Numbers (",B.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),C?r.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:r.jsx(pc,{className:"h-9 w-9 text-amber-500"})}),r.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),r.jsx("div",{className:"mt-3",children:r.jsxs(ka,{onClick:R,variant:"primary",children:[r.jsx(fr,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?r.jsxs("div",{className:"grid place-content-center py-16",children:[r.jsx(Xe,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),r.jsx("div",{className:"text-sm text-slate-600",children:"Loading phone numbers"})]}):B.length===0?r.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[r.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:r.jsx(pt,{className:"h-9 w-9 text-slate-400"})}),r.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),r.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden xl:block",children:r.jsx("div",{className:"w-full",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx(Cl,{children:"Number"}),r.jsx(Cl,{children:"Owner"}),r.jsx(Cl,{children:"Region"}),r.jsx(Cl,{children:"Country"}),r.jsx(Cl,{children:"Status"}),r.jsx(Cl,{children:"Last Month"}),r.jsx(Cl,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:te.map(I=>{const A=!!I.attached_assistant;return r.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[r.jsx(Al,{children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-bold text-slate-900 break-all",children:I.phone_number}),r.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:I.friendly_name})]})}),r.jsx(Al,{children:I.owner?r.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-slate-700",children:[r.jsx(mfe,{name:I.owner.name,size:34}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-xs font-semibold truncate",children:I.owner.name}),r.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-slate-500 min-w-0",children:[r.jsx(pa,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),r.jsx("span",{className:"truncate break-all",children:I.owner.email})]})]})]}):r.jsx("div",{className:"text-xs text-slate-500",children:""})}),r.jsx(Al,{children:r.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[r.jsx(qs,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium break-all",children:I.region})]})}),r.jsx(Al,{children:r.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[r.jsx(Ld,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium",children:I.iso_country||""})]})}),r.jsx(Al,{children:A?r.jsxs(r0,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[r.jsx(Jn,{className:"mr-1 h-3.5 w-3.5"}),"Attached"]}):r.jsxs(r0,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[r.jsx(fa,{className:"mr-1 h-3.5 w-3.5"}),"Unattached"]})}),r.jsx(Al,{children:r.jsx("div",{className:"text-xs font-semibold text-slate-800",children:cE(I.last_month_payment)})}),r.jsx(Al,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:r.jsx(ka,{onClick:()=>we(I.id),variant:"danger",size:"sm",disabled:A,title:A?"Detach from assistant before deleting":"Delete number",children:f===I.id?r.jsx(Xe,{className:"h-4 w-4 animate-spin"}):r.jsx(er,{className:"h-4 w-4"})})})})]},I.id)})})]})})}),r.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:te.map((I,A)=>{var $,W;const D=!!I.attached_assistant;return r.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[A===0&&r.jsx(ffe,{}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:I.phone_number}),r.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:I.friendly_name}),r.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx(GE,{className:"h-4 w-4 text-slate-500"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"truncate font-semibold",children:(($=I.owner)==null?void 0:$.name)||""}),((W=I.owner)==null?void 0:W.email)&&r.jsx("div",{className:"text-xs text-slate-500 truncate",children:I.owner.email})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ld,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium",children:I.iso_country||""})]}),r.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[r.jsx(qs,{className:"h-4 w-4 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium break-words",children:I.region})]}),r.jsx("div",{className:"col-span-2",children:D?r.jsxs(r0,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[r.jsx(Jn,{className:"mr-1 h-3.5 w-3.5"})," Attached"]}):r.jsxs(r0,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[r.jsx(fa,{className:"mr-1 h-3.5 w-3.5"})," Unattached"]})})]}),r.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.jsx(ka,{onClick:()=>we(I.id),variant:"danger",size:"sm",className:"grow sm:grow-0",disabled:D,children:f===I.id?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):r.jsxs(r.Fragment,{children:[r.jsx(er,{className:"h-4 w-4 mr-1"})," Delete"]})})}),r.jsx("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:cE(I.last_month_payment)})]})]},I.id)})})}),B.length>_&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("b",{children:U+1}),"",r.jsx("b",{children:Math.min(F,B.length)})," of ",r.jsx("b",{children:B.length})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(ka,{onClick:()=>k(I=>Math.max(1,I-1)),disabled:S===1,children:[r.jsx(ha,{className:"h-4 w-4 mr-1"})," Prev"]}),r.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,K)},(I,A)=>{let D;if(K<=5||S<=3?D=A+1:S>=K-2?D=K-4+A:D=S-2+A,D<1||D>K)return null;const $=S===D;return r.jsx("button",{onClick:()=>k(D),className:`px-3 py-2 text-sm font-semibold rounded-xl ${$?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:D},D)})}),r.jsxs(ka,{onClick:()=>k(I=>Math.min(K,I+1)),disabled:S>=K,children:["Next ",r.jsx(Kn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),r.jsx(Et,{children:T&&r.jsxs(hfe,{onClose:()=>E(null),title:"Confirm Delete",children:[r.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete phone number"," ",r.jsx("b",{className:"break-words",children:((H=e.find(I=>I.id===T))==null?void 0:H.phone_number)||"this number"}),"?"," ","This action cannot be undone."]}),r.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[r.jsx(ka,{onClick:()=>E(null),variant:"subtle",children:"Cancel"}),r.jsx(ka,{onClick:re,disabled:f===T,variant:"danger",children:f===T?r.jsxs(r.Fragment,{children:[r.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})})]})}const xfe=()=>{const[e,t]=v.useState([]),[n,a]=v.useState({name:"",id:null}),[s,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(!1),[h,x]=v.useState(null),g=Gt();v.useEffect(()=>{b()},[]);const b=async()=>{try{const T=await fetch("http://localhost:8000/api/admin/get/use_leadid",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!T.ok)throw new Error("Failed to fetch leads");const E=await T.json();t(E)}catch(T){console.error("Error fetching leads:",T)}},w=async()=>{try{if(!(await fetch("http://localhost:8000/api/admin/use_leadid",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to create lead");a({name:"",id:null}),l(!1),d(!1),b()}catch(T){console.error("Error creating lead:",T)}},j=T=>{a({name:T.name,id:T.id}),l(!0),d(!0)},S=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${n.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to update lead");a({name:"",id:null}),l(!1),d(!1),b()}catch(T){console.error("Error updating lead:",T)}},k=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete lead");m(!1),x(null),b()}catch(T){console.error("Error deleting lead:",T)}},_=T=>{g(`/admin/lead/${T}`)},C=e.length,P=e.length>0?e[e.length-1]:null;return r.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 lg:px-[150px] lg:py-10 xl:px-[150px] xl:py-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-6",children:r.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"List Dashboard"})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[r.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Total List"}),r.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:C})]}),r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[r.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Last Created"}),r.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 truncate",children:P?`${P.name} (${P.created_at})`:"No leads yet"})]})]}),r.jsx("div",{className:"flex justify-end mb-6",children:r.jsxs("button",{onClick:()=>{l(!s),d(!1),a({name:"",id:null})},className:"bg-blue-600 text-white px-4 sm:px-5 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-md text-sm sm:text-base",children:[s?"Cancel":"Create List",r.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:s?"M6 18L18 6M6 6l12 12":"M12 4v16m8-8H4"})})]})}),s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-md",children:[r.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-4",children:c?"Edit Lead":"Create Lead"}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx("input",{type:"text",placeholder:"Lead Name",value:n.name,onChange:T=>a({...n,name:T.target.value}),className:"border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-200 w-full text-sm sm:text-base","aria-label":"Lead Name"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),r.jsx("button",{onClick:c?S:w,className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200 text-sm sm:text-base",children:c?"Update":"Submit"})]})]})]})}),f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-sm",children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-6",children:"Are you sure you want to delete this lead?"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>m(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),r.jsx("button",{onClick:k,className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200 text-sm sm:text-base",children:"Confirm"})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700",children:"Lists"})}),r.jsxs("table",{className:"w-full text-sm sm:text-base",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{className:"hidden sm:table-row",children:[r.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[25%]",children:"ID"}),r.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Name"}),r.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Created At"}),r.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[15%]",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(T=>r.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200 block sm:table-row",children:[r.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[r.jsx("span",{className:"sm:hidden font-semibold",children:"ID: "}),T.id]}),r.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[r.jsx("span",{className:"sm:hidden font-semibold",children:"Name: "}),T.name]}),r.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell text-gray-600",children:[r.jsx("span",{className:"sm:hidden font-semibold",children:"Created At: "}),T.created_at]}),r.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[r.jsx("span",{className:"sm:hidden font-semibold",children:"Actions: "}),r.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[r.jsx("button",{onClick:()=>_(T.id),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"View lead",children:r.jsx(sG,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),r.jsx("button",{onClick:()=>j(T),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"Edit lead",children:r.jsx(aG,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),r.jsx("button",{onClick:()=>{x(T.id),m(!0)},className:"text-red-600 hover:text-red-700 transition duration-200 p-2","aria-label":"Delete lead",children:r.jsx(lG,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},T.id))})]})]})]})})},uE="https://aisdr-dbt.ddns.net",dE={LIST:`${uE}/api/admin/leadss`,UPDATE:e=>`${uE}/api/admin/leads/${e}`};function ao(...e){return e.filter(Boolean).join(" ")}const Lr=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function gfe(e,t=250){const[n,a]=v.useState(e);return v.useEffect(()=>{const s=setTimeout(()=>a(e),t);return()=>clearTimeout(s)},[e,t]),n}function vfe(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}-${a}-${s}`}function fE(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}const yfe={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},mE={show:{transition:{staggerChildren:.05}}},bfe={hidden:{opacity:0,scale:.98,y:12},show:{opacity:1,scale:1,y:0,transition:{duration:.25}},exit:{opacity:0,scale:.98,y:12,transition:{duration:.18}}},wfe={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}};function ic({children:e,tone:t="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200"};return r.jsx("span",{className:ao("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[t]||n.slate),children:e})}function l1({label:e,value:t,Icon:n,tone:a="blue"}){const s=a==="blue"?"ring-blue-200/60":a==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=a==="blue"?"from-blue-600 to-cyan-500":a==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return r.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:r.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:r.jsx(n,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),r.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function jfe(){const e=v.useRef(localStorage.getItem("token")||null),[t,n]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(""),m=gfe(d,250),[h,x]=v.useState("add_date"),[g,b]=v.useState("desc"),[w,j]=v.useState(1),[S,k]=v.useState(12),[_,C]=v.useState(!1),[P,T]=v.useState(!1),[E,L]=v.useState(null),[M,B]=v.useState({first_name:"",last_name:"",email:"",add_date:"",salesforce_id:"",mobile:"",state:""});async function K(){if(!e.current){s(!1),V.error("No auth token found. Please log in.");return}try{s(!0);const W=await fetch(dE.LIST,{headers:{Authorization:`Bearer ${e.current}`}});if(!W.ok)throw new Error(`HTTP ${W.status}`);const ce=await W.json(),Q=Array.isArray(ce)?ce:Array.isArray(ce==null?void 0:ce.leads)?ce.leads:[];n(Q)}catch(W){console.error(W),V.error("Failed to fetch leads"),n([])}finally{s(!1)}}v.useEffect(()=>{K()},[]);async function F(){c(!0),await K(),c(!1)}const U=v.useMemo(()=>{const W=m.trim().toLowerCase();let ce=t.filter(Z=>W?[`${Z.first_name||""} ${Z.last_name||""}`.toLowerCase(),(Z.email||"").toLowerCase(),(Z.mobile||"").toLowerCase(),(Z.salesforce_id||"").toLowerCase(),(Z.state||"").toLowerCase()].some(be=>be.includes(W)):!0);const Q=g==="asc"?1:-1;return ce.sort((Z,je)=>{const se=`${Z.first_name||""} ${Z.last_name||""}`.trim().toLowerCase(),be=`${je.first_name||""} ${je.last_name||""}`.trim().toLowerCase();let _e,Ne;switch(h){case"name":_e=se,Ne=be;break;case"email":_e=(Z.email||"").toLowerCase(),Ne=(je.email||"").toLowerCase();break;case"mobile":_e=(Z.mobile||"").toLowerCase(),Ne=(je.mobile||"").toLowerCase();break;case"state":_e=(Z.state||"").toLowerCase(),Ne=(je.state||"").toLowerCase();break;case"add_date":default:_e=new Date(Z.add_date||0).getTime(),Ne=new Date(je.add_date||0).getTime()}return _e<Ne?-1*Q:_e>Ne?1*Q:0}),ce},[t,m,h,g]),te=U.length,we=Math.max(1,Math.ceil(te/S));v.useEffect(()=>{w>we&&j(we)},[w,we]);const re=(w-1)*S,R=re+S,G=U.slice(re,R),H=v.useMemo(()=>{const W=U.filter(Q=>!Q.dnc).length,ce=U.filter(Q=>!!Q.dnc).length;return{total:U.length,callable:W,dnc:ce}},[U]);function I(W){L(W),B({first_name:W.first_name||"",last_name:W.last_name||"",email:W.email||"",add_date:vfe(W.add_date),salesforce_id:W.salesforce_id||"",mobile:W.mobile||"",state:W.state||""}),C(!0)}function A(W){const{name:ce,value:Q}=W.target;B(Z=>({...Z,[ce]:Q}))}async function D(){if(!E)return;if(!e.current){V.error("No auth token found.");return}const W={first_name:M.first_name||"",last_name:M.last_name||"",email:M.email||"",add_date:M.add_date||"",salesforce_id:M.salesforce_id||null,mobile:M.mobile||"",state:M.state||null};try{T(!0);const ce=await fetch(dE.UPDATE(E.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.current}`},body:JSON.stringify(W)}),Q=await ce.json().catch(()=>({}));if(!ce.ok||(Q==null?void 0:Q.success)===!1)throw new Error((Q==null?void 0:Q.detail)||`HTTP ${ce.status}`);const Z=(Q==null?void 0:Q.updated_lead)||{...E,...W};n(je=>je.map(se=>se.id===E.id?{...se,...Z}:se)),V.success("Lead updated"),C(!1),L(null)}catch(ce){console.error(ce),V.error((ce==null?void 0:ce.message)||"Update failed")}finally{T(!1)}}function $(W){x(ce=>ce===W?(b(Q=>Q==="asc"?"desc":"asc"),ce):(b(W==="add_date"?"desc":"asc"),W)),j(1)}return r.jsxs("div",{className:"min-h-screen w-full text-slate-900 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative",children:[r.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-400/15 blur-3xl"}),r.jsx("div",{className:"absolute top-1/3 -right-20 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-indigo-400/10 blur-3xl"})]}),r.jsx("header",{className:"relative z-0 border-b border-slate-200/70 bg-white/60 backdrop-blur after:absolute after:inset-x-0 after:-bottom-[1px] after:h-[2px] after:bg-gradient-to-r after:from-transparent after:via-cyan-400/70 after:to-transparent",children:r.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-5",children:[r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-black tracking-tight",children:r.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text text-transparent",children:"Leads"})}),r.jsx("p",{className:"text-sm text-slate-600",children:"View, search, and edit leads."})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(hE,{onClick:F,icon:r.jsx(Xe,{className:ao("h-4 w-4",l&&"animate-spin")}),children:"Refresh"})})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[r.jsxs("div",{className:"relative sm:col-span-2",children:[r.jsx(_r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),r.jsx("input",{value:d,onChange:W=>{f(W.target.value),j(1)},placeholder:"Search name, email, mobile, Salesforce ID, state",className:"w-full rounded-2xl border border-slate-200/70 bg-white/80 pl-10 pr-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search leads"})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[r.jsxs("div",{className:"text-sm text-slate-600 hidden sm:block",children:["Total: ",r.jsx("span",{className:"font-semibold text-slate-900",children:te})]}),r.jsx("select",{value:S,onChange:W=>{k(Number(W.target.value)),j(1)},className:"rounded-2xl border border-slate-200/70 bg-white/80 px-3 py-2 text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[12,24,48,96].map(W=>r.jsxs("option",{value:W,children:[W," / page"]},W))})]})]})]})}),r.jsx("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[r.jsx(l1,{label:"Total Leads",value:H.total,Icon:or,tone:"blue"}),r.jsx(l1,{label:"Callable",value:H.callable,Icon:Jn,tone:"cyan"}),r.jsx(l1,{label:"DNC",value:H.dnc,Icon:fa,tone:"blue"})]})}),r.jsxs("main",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 pb-6",children:[r.jsx(he.div,{initial:"hidden",animate:"show",variants:mE,className:"hidden lg:block overflow-x-auto rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:r.jsxs("table",{className:"min-w-full text-left",children:[r.jsx("thead",{className:"bg-slate-50/80 text-slate-600 text-sm",children:r.jsxs("tr",{className:"[&>th]:px-5 [&>th]:py-3",children:[r.jsx(Cd,{sortKey:"add_date",sortBy:h,sortDir:g,onSort:$,children:"Added"}),r.jsx(Cd,{sortKey:"name",sortBy:h,sortDir:g,onSort:$,children:"Name"}),r.jsx(Cd,{sortKey:"email",sortBy:h,sortDir:g,onSort:$,children:"Email"}),r.jsx(Cd,{sortKey:"mobile",sortBy:h,sortDir:g,onSort:$,children:"Mobile"}),r.jsx(Cd,{sortKey:"state",sortBy:h,sortDir:g,onSort:$,children:"State"}),r.jsx("th",{className:"px-5 py-3",children:"SFDC"}),r.jsx("th",{className:"px-5 py-3",children:"Status"}),r.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:a?r.jsx(xE,{rows:8,cols:8}):G.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-5 py-12 text-center text-slate-600",children:"No leads found. Try searching something else."})}):G.map(W=>{const ce=`${Lr(W.first_name)} ${W.last_name?Lr(W.last_name):""}`.trim();return r.jsxs(he.tr,{variants:yfe,className:"hover:bg-slate-50/70 transition-colors",children:[r.jsx("td",{className:"px-5 py-3 text-sm text-slate-600 whitespace-nowrap",children:W.add_date?r.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[r.jsx(Nz,{className:"h-4 w-4 text-slate-400"}),fE(W.add_date)]}):"Unknown"}),r.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:ce}),r.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[r.jsx(pa,{className:"h-4 w-4 text-slate-400"}),Lr(W.email)]})}),r.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[r.jsx(R5,{className:"h-4 w-4 text-slate-400"}),Lr(W.mobile)]})}),r.jsx("td",{className:"px-5 py-3",children:W.state?r.jsx(ic,{tone:"blue",children:Lr(W.state)}):"Unknown"}),r.jsx("td",{className:"px-5 py-3 text-slate-800",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[r.jsx(O5,{className:"h-4 w-4 text-slate-400"}),Lr(W.salesforce_id)]})}),r.jsx("td",{className:"px-5 py-3",children:W.dnc?r.jsx(ic,{tone:"red",children:"DNC"}):r.jsx(ic,{tone:"green",children:"Callable"})}),r.jsx("td",{className:"px-5 py-3",children:r.jsx("div",{className:"flex items-center justify-end",children:r.jsx(o1,{onClick:()=>I(W),icon:r.jsx(D5,{className:"h-4 w-4"}),children:"Edit"})})})]},W.id)})})]})}),r.jsx("div",{className:"lg:hidden",children:a?r.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-4",children:r.jsx(xE,{rows:6,cols:1})}):G.length===0?r.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-8 text-center text-slate-600",children:"No leads found. Try searching something else."}):r.jsx(he.div,{initial:"hidden",animate:"show",variants:mE,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:G.map(W=>{const ce=`${Lr(W.first_name)} ${W.last_name?Lr(W.last_name):""}`.trim();return r.jsxs(he.article,{variants:bfe,className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/60 shadow hover:shadow-lg transition-shadow p-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"text-base font-semibold text-slate-900 break-words",children:ce}),r.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:W.add_date?fE(W.add_date):"Unknown"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[W.state?r.jsx(ic,{tone:"blue",children:Lr(W.state)}):null,W.dnc?r.jsx(ic,{tone:"red",children:"DNC"}):r.jsx(ic,{tone:"green",children:"Callable"})]})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[r.jsx(s0,{icon:r.jsx(pa,{className:"h-4 w-4"}),label:"Email",value:Lr(W.email),copySafe:!0}),r.jsx(s0,{icon:r.jsx(R5,{className:"h-4 w-4"}),label:"Mobile",value:Lr(W.mobile),copySafe:!0}),r.jsx(s0,{icon:r.jsx(O5,{className:"h-4 w-4"}),label:"SFDC",value:Lr(W.salesforce_id)}),W.timezone?r.jsx(s0,{icon:r.jsx(_c,{className:"h-4 w-4"}),label:"Timezone",value:Lr(W.timezone)}):null]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(o1,{onClick:()=>I(W),icon:r.jsx(D5,{className:"h-4 w-4"}),children:"Edit"})})]},W.id)})})}),!a&&te>0&&r.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row text-slate-700",children:[r.jsxs("div",{className:"text-sm",children:["Showing ",r.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(R,te)})," of ",te]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(pE,{disabled:w<=1,onClick:()=>j(W=>Math.max(1,W-1)),children:[r.jsx(ha,{className:"h-4 w-4"})," Prev"]}),r.jsxs("div",{className:"text-sm",children:["Page ",r.jsx("span",{className:"font-semibold text-slate-900",children:w})," / ",we]}),r.jsxs(pE,{disabled:w>=we,onClick:()=>j(W=>Math.min(we,W+1)),children:["Next ",r.jsx(Kn,{className:"h-4 w-4"})]})]})]})]}),r.jsx(Et,{children:_&&r.jsxs(r.Fragment,{children:[r.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:wfe,initial:"hidden",animate:"show",exit:"exit",onClick:()=>C(!1)}),r.jsxs(he.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[560px] md:w-[720px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Edit lead",children:[r.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>C(!1),className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50","aria-label":"Close",children:r.jsx(fr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold leading-tight",children:"Edit Lead"}),r.jsxs("p",{className:"text-xs text-slate-600",children:["Changes are saved to ",r.jsxs("span",{className:"font-medium",children:["#",E==null?void 0:E.id]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hE,{onClick:()=>C(!1),children:"Cancel"}),r.jsx(o1,{onClick:D,disabled:P,icon:P?r.jsx(qn,{className:"h-4 w-4 animate-spin"}):void 0,children:P?"Saving":"Save"})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx(Tl,{label:"First name",name:"first_name",value:M.first_name,onChange:A}),r.jsx(Tl,{label:"Last name",name:"last_name",value:M.last_name,onChange:A}),r.jsx(Tl,{label:"Email",name:"email",value:M.email,onChange:A,type:"email"}),r.jsx(Tl,{label:"Mobile",name:"mobile",value:M.mobile,onChange:A}),r.jsx(Tl,{label:"Salesforce ID",name:"salesforce_id",value:M.salesforce_id,onChange:A}),r.jsx(Tl,{label:"Add date",name:"add_date",value:M.add_date,onChange:A,type:"date"}),r.jsx(Tl,{label:"State",name:"state",value:M.state,onChange:A})]}),r.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700",children:[r.jsx("div",{className:"font-semibold mb-2",children:"Quick Summary"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-500",children:"Name:"})," ",M.first_name||"Unknown"," ",M.last_name||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-500",children:"Email:"})," ",M.email||"Unknown"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-500",children:"Mobile:"})," ",M.mobile||"Unknown"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-500",children:"State:"})," ",M.state||"Unknown"]})]})]})]})]})]})})]})}function o1({children:e,onClick:t,disabled:n,icon:a,type:s="button"}){return r.jsxs(he.button,{whileTap:n?void 0:{scale:.98},type:s,onClick:t,disabled:n,className:ao("inline-flex items-center gap-2 rounded-2xl px-3.5 py-2 font-semibold text-white transition","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)]","disabled:opacity-60 disabled:cursor-not-allowed"),children:[a,r.jsx("span",{className:"whitespace-nowrap",children:e})]})}function hE({children:e,onClick:t,icon:n,type:a="button"}){return r.jsxs(he.button,{whileTap:{scale:.98},type:a,onClick:t,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3.5 py-2 font-medium text-slate-800 ring-1 ring-white/70 transition hover:bg-slate-50",children:[n,r.jsx("span",{className:"whitespace-nowrap",children:e})]})}function pE({children:e,disabled:t,onClick:n}){return r.jsx(he.button,{whileTap:t?void 0:{scale:.98},disabled:t,onClick:n,className:ao("inline-flex items-center gap-2 rounded-2xl border px-3.5 py-2 text-sm transition",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50"),children:e})}function Cd({children:e,sortKey:t,sortBy:n,sortDir:a,onSort:s}){const l=n===t;return r.jsx("th",{className:ao("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:r.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,r.jsx("span",{className:ao("text-xs",l?"opacity-100":"opacity-20"),children:l?a==="asc"?"":"":""})]})})}function xE({rows:e=6,cols:t=6}){return r.jsx(r.Fragment,{children:Array.from({length:e}).map((n,a)=>r.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>r.jsx("td",{className:"px-5 py-3",children:r.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},a))})}function Tl({label:e,name:t,value:n,onChange:a,type:s="text"}){return r.jsxs("label",{className:"block",children:[r.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),r.jsx("input",{type:s,name:t,value:n,onChange:a,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}function s0({label:e,value:t,copySafe:n=!1,icon:a}){return r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"mt-0.5 text-slate-400",children:a}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),r.jsx("div",{className:ao("text-sm text-slate-800",n?"break-all":"break-words"),children:t})]})]})}const Nfe=()=>{const[e,t]=v.useState(null),[n,a]=v.useState(!1),[s,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(!0),[g,b]=v.useState(0),w=v.useRef(null),j=v.useRef(null),{id:S}=bf(),k=5*1024*1024,_=()=>localStorage.getItem("token")||null;v.useEffect(()=>{const U=te=>{c&&(te.key==="Enter"||te.key==="Escape")&&d(!1)};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[c]);const C=U=>{U.preventDefault(),U.stopPropagation(),a(!0)},P=U=>{U.preventDefault(),U.stopPropagation(),a(!1)},T=U=>{U.preventDefault(),U.stopPropagation()},E=U=>{U.preventDefault(),U.stopPropagation(),a(!1);const te=U.dataTransfer.files[0];te&&te.type==="text/csv"?te.size>k?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(te):(m("Please upload a valid CSV file."),x(!1),d(!0))},L=U=>{const te=U.target.files[0];te&&te.type==="text/csv"?te.size>k?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(te):(m("Please upload a valid CSV file."),x(!1),d(!0))},M=()=>{w.current.click()},B=()=>{const U=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,te=new Blob([U],{type:"text/csv"}),we=window.URL.createObjectURL(te),re=document.createElement("a");re.href=we,re.download="sample_users.csv",document.body.appendChild(re),re.click(),document.body.removeChild(re),window.URL.revokeObjectURL(we)},K=async()=>{if(!e){m("No file selected. Please choose a CSV file."),x(!1),d(!0);return}const U=_();if(!U){console.error("No auth token found. Please log in."),m("Please log in to continue."),x(!1),d(!0);return}const te=new FormData;te.append("file",e);try{l(!0),b(0);const we=await fetch("http://localhost:8000/api/admin/user/upload-csv",{method:"POST",headers:{Authorization:`Bearer ${U}`},body:te});if(b(100),we.ok){const re=await we.json();console.log("File uploaded successfully:",re),m("CSV file uploaded successfully!"),x(!0),d(!0),t(null),w.current&&(w.current.value="")}else{let re=`HTTP error! status: ${we.status}`;try{const R=await we.json();R&&R.error&&(re=R.error)}catch{}throw new Error(re)}}catch(we){console.error("Error uploading file:",we),m("Failed to upload CSV file. Please try again."),x(!1),d(!0)}finally{l(!1),b(0)}},F=U=>U<1024?`${U} B`:U<1024*1024?`${(U/1024).toFixed(2)} KB`:`${(U/(1024*1024)).toFixed(2)} MB`;return r.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6 animate-fade-in",children:[r.jsx("div",{className:`w-full max-w-3xl bg-white p-10 rounded-xl shadow-lg border-2 ${n?"border-blue-400":"border-gray-200"} transition-colors duration-200`,onDragEnter:C,onDragOver:T,onDragLeave:P,onDrop:E,children:r.jsxs("div",{className:"text-center",children:[r.jsx(FO,{className:`mx-auto text-5xl ${n?"text-blue-400":"text-gray-300"} animate-pulse mb-6`}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upload Your CSV File"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop a CSV file here or click to select. Maximum file size: 5MB."}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx("input",{type:"file",accept:".csv",onChange:L,ref:w,className:"hidden"}),r.jsx("button",{onClick:M,className:"bg-blue-400 text-white px-8 py-3 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm",children:"Choose File"}),r.jsxs("button",{onClick:B,className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-sm flex items-center gap-2",children:[r.jsx(BO,{}),"Download Sample CSV"]})]}),e&&r.jsxs("div",{className:"mt-6 text-gray-600 bg-gray-50 p-4 rounded-lg",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"File:"})," ",e.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Size:"})," ",F(e.size)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),r.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[r.jsx("button",{onClick:K,disabled:s||!e,className:`w-full bg-blue-400 text-white px-6 py-4 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm flex items-center justify-center gap-2 ${s||!e?"opacity-50 cursor-not-allowed":""}`,children:s?"Uploading...":"Upload CSV"}),s&&r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center zoutdated-50 transition-opacity duration-200",children:r.jsxs("div",{ref:j,className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full animate-fade-in",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h?r.jsx(zO,{className:"text-green-400 text-2xl"}):r.jsx(UO,{className:"text-red-400 text-2xl"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Status"})]}),r.jsx("p",{className:"text-gray-500 mb-6",children:f}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>d(!1),className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:"Confirm"})})]})})]})};function sr({children:e}){const t=Gt(),[n,a]=v.useState(!1),[s,l]=v.useState(!0);return v.useEffect(()=>{const c=localStorage.getItem("token"),d=localStorage.getItem("role");if(!c||!d){V.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}d==="user"?a(!0):d==="admin"?(V.error("You are not authorized to access this page."),t("/admin",{replace:!0})):(V.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0})),l(!1)},[t]),s?r.jsx("div",{children:"Loading..."}):n?e:null}function _a({children:e}){const t=Gt(),[n,a]=v.useState(!1);return v.useEffect(()=>{try{const s=localStorage.getItem("token"),l=localStorage.getItem("role");if(!s||!l){V.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}l==="admin"?a(!0):l==="user"?(V.error("You are not authorized to access this page."),t("/user",{replace:!0})):(V.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0}))}catch{V.error("An unexpected error occurred. Please log in again."),localStorage.clear(),t("/login",{replace:!0})}},[t]),n?e:null}function Sfe(){return r.jsxs(r.Fragment,{children:[r.jsx(bI,{children:r.jsxs(Z9,{children:[r.jsx(ht,{path:"/",element:r.jsx(W9,{to:"/signup"})}),r.jsx(ht,{path:"/signup",element:r.jsx(NU,{})}),r.jsx(ht,{path:"/login",element:r.jsx(yK,{})}),r.jsx(ht,{path:"/otp",element:r.jsx(vK,{})}),r.jsx(ht,{path:"/forget_password",element:r.jsx(wK,{})}),r.jsx(ht,{path:"/profile",element:r.jsx(GK,{})}),r.jsxs(ht,{path:"/user",element:r.jsx(uG,{}),children:[r.jsx(ht,{path:"dashboard",element:r.jsx(sr,{children:r.jsx(Wce,{})})}),r.jsx(ht,{path:"Appointments",element:r.jsx(sr,{children:r.jsx(wde,{})})}),r.jsx(ht,{path:"Formconnection",element:r.jsx(sr,{children:r.jsx(Sde,{})})}),r.jsx(ht,{path:"PhoneCalls",element:r.jsx(sr,{children:r.jsx(lue,{})})}),r.jsx(ht,{path:"callhistory",element:r.jsx(sr,{children:r.jsx(_ue,{})})}),r.jsx(ht,{path:"settings",element:r.jsx(sr,{children:r.jsx(Sue,{})})}),r.jsx(ht,{path:"CRM",element:r.jsx(sr,{children:r.jsx(gde,{})})}),r.jsx(ht,{path:"callassistent",element:r.jsx(sr,{children:r.jsx(kue,{})})}),r.jsx(ht,{path:"edit-assistant/:assistantId",element:r.jsx(sr,{children:r.jsx(Due,{})})}),r.jsx(ht,{path:"assistant/create",element:r.jsx(sr,{children:r.jsx(Bue,{})})}),r.jsx(ht,{path:"leads",element:r.jsx(sr,{children:r.jsx(Hue,{})})}),r.jsx(ht,{path:"lead/:id",element:r.jsx(sr,{children:r.jsx(Yue,{})})}),r.jsx(ht,{path:"upload-csv",element:r.jsx(sr,{children:r.jsx(Zue,{})})}),r.jsx(ht,{path:"campaigns",element:r.jsx(sr,{children:r.jsx(UT,{})})}),r.jsx(ht,{path:"campain",element:r.jsx(sr,{children:r.jsx(UT,{})})})]}),r.jsxs(ht,{path:"/admin",element:r.jsx(Pde,{}),children:[r.jsx(ht,{path:"dashboard",element:r.jsx(_a,{children:r.jsx(qde,{})})}),r.jsx(ht,{path:"Users",element:r.jsx(_a,{children:r.jsx(Rde,{})})}),r.jsx(ht,{path:"PhoneCalls",element:r.jsx(_a,{children:r.jsx(Wde,{})})}),r.jsx(ht,{path:"settings",element:r.jsx(_a,{children:r.jsx(Kde,{})})}),r.jsx(ht,{path:"addassistands",element:r.jsx(_a,{children:r.jsx(tfe,{})})}),r.jsx(ht,{path:"edit-assistants/:assistantId",element:r.jsx(_a,{children:r.jsx(afe,{})})}),r.jsx(ht,{path:"assistants",element:r.jsx(_a,{children:r.jsx(sfe,{})})}),r.jsx(ht,{path:"callhistory",element:r.jsx(_a,{children:r.jsx(pfe,{})})}),r.jsx(ht,{path:"lead/:id",element:r.jsx(_a,{children:r.jsx(xfe,{})})}),r.jsx(ht,{path:"lead",element:r.jsx(_a,{children:r.jsx(jfe,{})})}),r.jsx(ht,{path:"upload-csv",element:r.jsx(_a,{children:r.jsx(Nfe,{})})})]}),r.jsx(ht,{path:"*",element:r.jsx(SU,{})})]})}),r.jsx(dz,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}a9.createRoot(document.getElementById("root")).render(r.jsx(v.StrictMode,{children:r.jsx(Sfe,{})}));
