var T$=Object.defineProperty;var P$=(e,t,n)=>t in e?T$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Jg=(e,t,n)=>P$(e,typeof t!="symbol"?t+"":t,n);function O$(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ev={exports:{}},qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function M$(){if(K_)return qu;K_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:e,type:r,key:c,ref:i!==void 0?i:null,props:l}}return qu.Fragment=t,qu.jsx=n,qu.jsxs=n,qu}var G_;function D$(){return G_||(G_=1,ev.exports=M$()),ev.exports}var a=D$(),tv={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function R$(){if(Y_)return et;Y_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.iterator;function g(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function S(T,D,L){this.props=T,this.context=D,this.refs=j,this.updater=L||b}S.prototype.isReactComponent={},S.prototype.setState=function(T,D){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,D,"setState")},S.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function _(){}_.prototype=S.prototype;function C(T,D,L){this.props=T,this.context=D,this.refs=j,this.updater=L||b}var k=C.prototype=new _;k.constructor=C,w(k,S.prototype),k.isPureReactComponent=!0;var O=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function $(T,D,L,K,oe,z){return L=z.ref,{$$typeof:e,type:T,key:D,ref:L!==void 0?L:null,props:z}}function M(T,D){return $(T.type,D,void 0,void 0,void 0,T.props)}function F(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function G(T){var D={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(L){return D[L]})}var V=/\/+/g;function U(T,D){return typeof T=="object"&&T!==null&&T.key!=null?G(""+T.key):D.toString(36)}function te(){}function be(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(te,te):(T.status="pending",T.then(function(D){T.status==="pending"&&(T.status="fulfilled",T.value=D)},function(D){T.status==="pending"&&(T.status="rejected",T.reason=D)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function re(T,D,L,K,oe){var z=typeof T;(z==="undefined"||z==="boolean")&&(T=null);var Y=!1;if(T===null)Y=!0;else switch(z){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(T.$$typeof){case e:case t:Y=!0;break;case h:return Y=T._init,re(Y(T._payload),D,L,K,oe)}}if(Y)return oe=oe(T),Y=K===""?"."+U(T,0):K,O(oe)?(L="",Y!=null&&(L=Y.replace(V,"$&/")+"/"),re(oe,D,L,"",function(ve){return ve})):oe!=null&&(F(oe)&&(oe=M(oe,L+(oe.key==null||T&&T.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+Y)),D.push(oe)),1;Y=0;var ye=K===""?".":K+":";if(O(T))for(var se=0;se<T.length;se++)K=T[se],z=ye+U(K,se),Y+=re(K,D,L,z,oe);else if(se=g(T),typeof se=="function")for(T=se.call(T),se=0;!(K=T.next()).done;)K=K.value,z=ye+U(K,se++),Y+=re(K,D,L,z,oe);else if(z==="object"){if(typeof T.then=="function")return re(be(T),D,L,K,oe);throw D=String(T),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return Y}function R(T,D,L){if(T==null)return T;var K=[],oe=0;return re(T,K,"","",function(z){return D.call(L,z,oe++)}),K}function q(T){if(T._status===-1){var D=T._result;D=D(),D.then(function(L){(T._status===0||T._status===-1)&&(T._status=1,T._result=L)},function(L){(T._status===0||T._status===-1)&&(T._status=2,T._result=L)}),T._status===-1&&(T._status=0,T._result=D)}if(T._status===1)return T._result.default;throw T._result}var H=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function B(){}return et.Children={map:R,forEach:function(T,D,L){R(T,function(){D.apply(this,arguments)},L)},count:function(T){var D=0;return R(T,function(){D++}),D},toArray:function(T){return R(T,function(D){return D})||[]},only:function(T){if(!F(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},et.Component=S,et.Fragment=n,et.Profiler=i,et.PureComponent=C,et.StrictMode=r,et.Suspense=f,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,et.__COMPILER_RUNTIME={__proto__:null,c:function(T){return A.H.useMemoCache(T)}},et.cache=function(T){return function(){return T.apply(null,arguments)}},et.cloneElement=function(T,D,L){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var K=w({},T.props),oe=T.key,z=void 0;if(D!=null)for(Y in D.ref!==void 0&&(z=void 0),D.key!==void 0&&(oe=""+D.key),D)!E.call(D,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&D.ref===void 0||(K[Y]=D[Y]);var Y=arguments.length-2;if(Y===1)K.children=L;else if(1<Y){for(var ye=Array(Y),se=0;se<Y;se++)ye[se]=arguments[se+2];K.children=ye}return $(T.type,oe,void 0,void 0,z,K)},et.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},et.createElement=function(T,D,L){var K,oe={},z=null;if(D!=null)for(K in D.key!==void 0&&(z=""+D.key),D)E.call(D,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(oe[K]=D[K]);var Y=arguments.length-2;if(Y===1)oe.children=L;else if(1<Y){for(var ye=Array(Y),se=0;se<Y;se++)ye[se]=arguments[se+2];oe.children=ye}if(T&&T.defaultProps)for(K in Y=T.defaultProps,Y)oe[K]===void 0&&(oe[K]=Y[K]);return $(T,z,void 0,void 0,null,oe)},et.createRef=function(){return{current:null}},et.forwardRef=function(T){return{$$typeof:d,render:T}},et.isValidElement=F,et.lazy=function(T){return{$$typeof:h,_payload:{_status:-1,_result:T},_init:q}},et.memo=function(T,D){return{$$typeof:m,type:T,compare:D===void 0?null:D}},et.startTransition=function(T){var D=A.T,L={};A.T=L;try{var K=T(),oe=A.S;oe!==null&&oe(L,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(B,H)}catch(z){H(z)}finally{A.T=D}},et.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},et.use=function(T){return A.H.use(T)},et.useActionState=function(T,D,L){return A.H.useActionState(T,D,L)},et.useCallback=function(T,D){return A.H.useCallback(T,D)},et.useContext=function(T){return A.H.useContext(T)},et.useDebugValue=function(){},et.useDeferredValue=function(T,D){return A.H.useDeferredValue(T,D)},et.useEffect=function(T,D,L){var K=A.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(T,D)},et.useId=function(){return A.H.useId()},et.useImperativeHandle=function(T,D,L){return A.H.useImperativeHandle(T,D,L)},et.useInsertionEffect=function(T,D){return A.H.useInsertionEffect(T,D)},et.useLayoutEffect=function(T,D){return A.H.useLayoutEffect(T,D)},et.useMemo=function(T,D){return A.H.useMemo(T,D)},et.useOptimistic=function(T,D){return A.H.useOptimistic(T,D)},et.useReducer=function(T,D,L){return A.H.useReducer(T,D,L)},et.useRef=function(T){return A.H.useRef(T)},et.useState=function(T){return A.H.useState(T)},et.useSyncExternalStore=function(T,D,L){return A.H.useSyncExternalStore(T,D,L)},et.useTransition=function(){return A.H.useTransition()},et.version="19.1.0",et}var W_;function Pc(){return W_||(W_=1,tv.exports=R$()),tv.exports}var v=Pc();const pt=Oa(v),L$=O$({__proto__:null,default:pt},[v]);var nv={exports:{}},Ku={},rv={exports:{}},av={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function $$(){return X_||(X_=1,function(e){function t(R,q){var H=R.length;R.push(q);e:for(;0<H;){var B=H-1>>>1,T=R[B];if(0<i(T,q))R[B]=q,R[H]=T,H=B;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var q=R[0],H=R.pop();if(H!==q){R[0]=H;e:for(var B=0,T=R.length,D=T>>>1;B<D;){var L=2*(B+1)-1,K=R[L],oe=L+1,z=R[oe];if(0>i(K,H))oe<T&&0>i(z,K)?(R[B]=z,R[oe]=H,B=oe):(R[B]=K,R[L]=H,B=L);else if(oe<T&&0>i(z,H))R[B]=z,R[oe]=H,B=oe;else break e}}return q}function i(R,q){var H=R.sortIndex-q.sortIndex;return H!==0?H:R.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,x=null,g=3,b=!1,w=!1,j=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function O(R){for(var q=n(m);q!==null;){if(q.callback===null)r(m);else if(q.startTime<=R)r(m),q.sortIndex=q.expirationTime,t(f,q);else break;q=n(m)}}function A(R){if(j=!1,O(R),!w)if(n(f)!==null)w=!0,E||(E=!0,U());else{var q=n(m);q!==null&&re(A,q.startTime-R)}}var E=!1,$=-1,M=5,F=-1;function G(){return S?!0:!(e.unstable_now()-F<M)}function V(){if(S=!1,E){var R=e.unstable_now();F=R;var q=!0;try{e:{w=!1,j&&(j=!1,C($),$=-1),b=!0;var H=g;try{t:{for(O(R),x=n(f);x!==null&&!(x.expirationTime>R&&G());){var B=x.callback;if(typeof B=="function"){x.callback=null,g=x.priorityLevel;var T=B(x.expirationTime<=R);if(R=e.unstable_now(),typeof T=="function"){x.callback=T,O(R),q=!0;break t}x===n(f)&&r(f),O(R)}else r(f);x=n(f)}if(x!==null)q=!0;else{var D=n(m);D!==null&&re(A,D.startTime-R),q=!1}}break e}finally{x=null,g=H,b=!1}q=void 0}}finally{q?U():E=!1}}}var U;if(typeof k=="function")U=function(){k(V)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,be=te.port2;te.port1.onmessage=V,U=function(){be.postMessage(null)}}else U=function(){_(V,0)};function re(R,q){$=_(function(){R(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var H=g;g=q;try{return R()}finally{g=H}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=g;g=R;try{return q()}finally{g=H}},e.unstable_scheduleCallback=function(R,q,H){var B=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,R){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=H+T,R={id:h++,callback:q,priorityLevel:R,startTime:H,expirationTime:T,sortIndex:-1},H>B?(R.sortIndex=H,t(m,R),n(f)===null&&R===n(m)&&(j?(C($),$=-1):j=!0,re(A,H-B))):(R.sortIndex=T,t(f,R),w||b||(w=!0,E||(E=!0,U()))),R},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(R){var q=g;return function(){var H=g;g=q;try{return R.apply(this,arguments)}finally{g=H}}}}(av)),av}var Z_;function I$(){return Z_||(Z_=1,rv.exports=$$()),rv.exports}var sv={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function z$(){if(Q_)return Fn;Q_=1;var e=Pc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,m,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fn.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Fn.flushSync=function(f){var m=c.T,h=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=h,r.d.f()}},Fn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Fn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Fn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin),g=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:g,fetchPriority:b}):h==="script"&&r.d.X(f,{crossOrigin:x,integrity:g,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Fn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Fn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin);r.d.L(f,h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Fn.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Fn.requestFormReset=function(f){r.d.r(f)},Fn.unstable_batchedUpdates=function(f,m){return f(m)},Fn.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Fn.version="19.1.0",Fn}var J_;function t6(){if(J_)return sv.exports;J_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sv.exports=z$(),sv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e5;function B$(){if(e5)return Ku;e5=1;var e=I$(),t=Pc(),n=t6();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,p=o;;){var y=u.return;if(y===null)break;var N=y.alternate;if(N===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===u)return d(y),s;if(N===p)return d(y),o;N=N.sibling}throw Error(r(188))}if(u.return!==p.return)u=y,p=N;else{for(var P=!1,I=y.child;I;){if(I===u){P=!0,u=y,p=N;break}if(I===p){P=!0,p=y,u=N;break}I=I.sibling}if(!P){for(I=N.child;I;){if(I===u){P=!0,u=N,p=y;break}if(I===p){P=!0,p=N,u=y;break}I=I.sibling}if(!P)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var h=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var te=Symbol.for("react.client.reference");function be(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===te?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case A:return"Suspense";case E:return"SuspenseList";case F:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case k:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case O:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return o=s.displayName||null,o!==null?o:be(s.type)||"Memo";case M:o=s._payload,s=s._init;try{return be(s(o))}catch{}}return null}var re=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},B=[],T=-1;function D(s){return{current:s}}function L(s){0>T||(s.current=B[T],B[T]=null,T--)}function K(s,o){T++,B[T]=s.current,s.current=o}var oe=D(null),z=D(null),Y=D(null),ye=D(null);function se(s,o){switch(K(Y,o),K(z,s),K(oe,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?b_(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=b_(o),s=w_(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}L(oe),K(oe,s)}function ve(){L(oe),L(z),L(Y)}function we(s){s.memoizedState!==null&&K(ye,s);var o=oe.current,u=w_(o,s.type);o!==u&&(K(z,s),K(oe,u))}function Ne(s){z.current===s&&(L(oe),L(z)),ye.current===s&&(L(ye),Bu._currentValue=H)}var me=Object.prototype.hasOwnProperty,Oe=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,Xe=e.unstable_shouldYield,X=e.unstable_requestPaint,ue=e.unstable_now,Z=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,Te=e.unstable_UserBlockingPriority,Ue=e.unstable_NormalPriority,Ae=e.unstable_LowPriority,Je=e.unstable_IdlePriority,Ge=e.log,vt=e.unstable_setDisableYieldValue,Ht=null,It=null;function un(s){if(typeof Ge=="function"&&vt(s),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Ht,s)}catch{}}var mt=Math.clz32?Math.clz32:Qs,Fr=Math.log,Zs=Math.LN2;function Qs(s){return s>>>=0,s===0?32:31-(Fr(s)/Zs|0)|0}var Ra=256,La=4194304;function Wn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xn(s,o,u){var p=s.pendingLanes;if(p===0)return 0;var y=0,N=s.suspendedLanes,P=s.pingedLanes;s=s.warmLanes;var I=p&134217727;return I!==0?(p=I&~N,p!==0?y=Wn(p):(P&=I,P!==0?y=Wn(P):u||(u=I&~s,u!==0&&(y=Wn(u))))):(I=p&~N,I!==0?y=Wn(I):P!==0?y=Wn(P):u||(u=p&~s,u!==0&&(y=Wn(u)))),y===0?0:o!==0&&o!==y&&(o&N)===0&&(N=y&-y,u=o&-o,N>=u||N===32&&(u&4194048)!==0)?o:y}function lr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Js(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function de(){var s=Ra;return Ra<<=1,(Ra&4194048)===0&&(Ra=256),s}function Q(){var s=La;return La<<=1,(La&62914560)===0&&(La=4194304),s}function ee(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function ae(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $e(s,o,u,p,y,N){var P=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var I=s.entanglements,J=s.expirationTimes,fe=s.hiddenUpdates;for(u=P&~u;0<u;){var Se=31-mt(u),Ce=1<<Se;I[Se]=0,J[Se]=-1;var he=fe[Se];if(he!==null)for(fe[Se]=null,Se=0;Se<he.length;Se++){var xe=he[Se];xe!==null&&(xe.lane&=-536870913)}u&=~Ce}p!==0&&qe(s,p,0),N!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=N&~(P&~o))}function qe(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-mt(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|u&4194090}function lt(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var p=31-mt(u),y=1<<p;y&o|s[p]&o&&(s[p]|=o),u&=~y}}function Qe(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function wt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ct(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:B_(s.type))}function pa(s,o){var u=q.p;try{return q.p=s,o()}finally{q.p=u}}var dn=Math.random().toString(36).slice(2),yt="__reactFiber$"+dn,Zt="__reactProps$"+dn,ns="__reactContainer$"+dn,ao="__reactEvents$"+dn,Of="__reactListeners$"+dn,Mf="__reactHandles$"+dn,Zc="__reactResources$"+dn,ei="__reactMarker$"+dn;function so(s){delete s[yt],delete s[Zt],delete s[ao],delete s[Of],delete s[Mf]}function rs(s){var o=s[yt];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ns]||u[yt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=__(s);s!==null;){if(u=s[yt])return u;s=__(s)}return o}s=u,u=s.parentNode}return null}function as(s){if(s=s[yt]||s[ns]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function ti(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function ss(s){var o=s[Zc];return o||(o=s[Zc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function le(s){s[ei]=!0}var ke=new Set,Le={};function Pe(s,o){Me(s,o),Me(s+"Capture",o)}function Me(s,o){for(Le[s]=o,s=0;s<o.length;s++)ke.add(o[s])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zn={},Qc={};function NL(s){return me.call(Qc,s)?!0:me.call(Zn,s)?!1:ot.test(s)?Qc[s]=!0:(Zn[s]=!0,!1)}function Df(s,o,u){if(NL(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function Rf(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function is(s,o,u,p){if(p===null)s.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+p)}}var Gp,mN;function io(s){if(Gp===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Gp=o&&o[1]||"",mN=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gp+s+mN}var Yp=!1;function Wp(s,o){if(!s||Yp)return"";Yp=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(xe){var he=xe}Reflect.construct(s,[],Ce)}else{try{Ce.call()}catch(xe){he=xe}s.call(Ce.prototype)}}else{try{throw Error()}catch(xe){he=xe}(Ce=s())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(xe){if(xe&&he&&typeof xe.stack=="string")return[xe.stack,he.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),P=N[0],I=N[1];if(P&&I){var J=P.split(`
`),fe=I.split(`
`);for(y=p=0;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;for(;y<fe.length&&!fe[y].includes("DetermineComponentFrameRoot");)y++;if(p===J.length||y===fe.length)for(p=J.length-1,y=fe.length-1;1<=p&&0<=y&&J[p]!==fe[y];)y--;for(;1<=p&&0<=y;p--,y--)if(J[p]!==fe[y]){if(p!==1||y!==1)do if(p--,y--,0>y||J[p]!==fe[y]){var Se=`
`+J[p].replace(" at new "," at ");return s.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",s.displayName)),Se}while(1<=p&&0<=y);break}}}finally{Yp=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?io(u):""}function SL(s){switch(s.tag){case 26:case 27:case 5:return io(s.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 15:return Wp(s.type,!1);case 11:return Wp(s.type.render,!1);case 1:return Wp(s.type,!0);case 31:return io("Activity");default:return""}}function hN(s){try{var o="";do o+=SL(s),s=s.return;while(s);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Vr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function pN(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _L(s){var o=pN(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,N=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,N.call(this,P)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Lf(s){s._valueTracker||(s._valueTracker=_L(s))}function xN(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return s&&(p=pN(s)?s.checked?"true":"false":s.value),s=p,s!==u?(o.setValue(s),!0):!1}function $f(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var CL=/[\n"\\]/g;function Hr(s){return s.replace(CL,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Xp(s,o,u,p,y,N,P,I){s.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.type=P:s.removeAttribute("type"),o!=null?P==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Vr(o)):s.value!==""+Vr(o)&&(s.value=""+Vr(o)):P!=="submit"&&P!=="reset"||s.removeAttribute("value"),o!=null?Zp(s,P,Vr(o)):u!=null?Zp(s,P,Vr(u)):p!=null&&s.removeAttribute("value"),y==null&&N!=null&&(s.defaultChecked=!!N),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+Vr(I):s.removeAttribute("name")}function gN(s,o,u,p,y,N,P,I){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),o!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;u=u!=null?""+Vr(u):"",o=o!=null?""+Vr(o):u,I||o===s.value||(s.value=o),s.defaultValue=o}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=I?s.checked:!!p,s.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.name=P)}function Zp(s,o,u){o==="number"&&$f(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function lo(s,o,u,p){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Vr(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function vN(s,o,u){if(o!=null&&(o=""+Vr(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+Vr(u):""}function yN(s,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(re(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=Vr(o),s.defaultValue=u,p=s.textContent,p===u&&p!==""&&p!==null&&(s.value=p)}function oo(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var kL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bN(s,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,u):typeof u!="number"||u===0||kL.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function wN(s,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var y in o)p=o[y],o.hasOwnProperty(y)&&u[y]!==p&&bN(s,y,p)}else for(var N in o)o.hasOwnProperty(N)&&bN(s,N,o[N])}function Qp(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function If(s){return EL.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Jp=null;function ex(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var co=null,uo=null;function jN(s){var o=as(s);if(o&&(s=o.stateNode)){var u=s[Zt]||null;e:switch(s=o.stateNode,o.type){case"input":if(Xp(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Hr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==s&&p.form===s.form){var y=p[Zt]||null;if(!y)throw Error(r(90));Xp(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===s.form&&xN(p)}break e;case"textarea":vN(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&lo(s,!!u.multiple,o,!1)}}}var tx=!1;function NN(s,o,u){if(tx)return s(o,u);tx=!0;try{var p=s(o);return p}finally{if(tx=!1,(co!==null||uo!==null)&&(Nm(),co&&(o=co,s=uo,uo=co=null,jN(o),s)))for(o=0;o<s.length;o++)jN(s[o])}}function Jc(s,o){var u=s.stateNode;if(u===null)return null;var p=u[Zt]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nx=!1;if(ls)try{var eu={};Object.defineProperty(eu,"passive",{get:function(){nx=!0}}),window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{nx=!1}var ni=null,rx=null,zf=null;function SN(){if(zf)return zf;var s,o=rx,u=o.length,p,y="value"in ni?ni.value:ni.textContent,N=y.length;for(s=0;s<u&&o[s]===y[s];s++);var P=u-s;for(p=1;p<=P&&o[u-p]===y[N-p];p++);return zf=y.slice(s,1<p?1-p:void 0)}function Bf(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Uf(){return!0}function _N(){return!1}function or(s){function o(u,p,y,N,P){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=N,this.target=P,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(u=s[I],this[I]=u?u(N):N[I]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Uf:_N,this.isPropagationStopped=_N,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Uf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Uf)},persist:function(){},isPersistent:Uf}),o}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ff=or(tl),tu=h({},tl,{view:0,detail:0}),TL=or(tu),ax,sx,nu,Vf=h({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lx,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==nu&&(nu&&s.type==="mousemove"?(ax=s.screenX-nu.screenX,sx=s.screenY-nu.screenY):sx=ax=0,nu=s),ax)},movementY:function(s){return"movementY"in s?s.movementY:sx}}),CN=or(Vf),PL=h({},Vf,{dataTransfer:0}),OL=or(PL),ML=h({},tu,{relatedTarget:0}),ix=or(ML),DL=h({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),RL=or(DL),LL=h({},tl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$L=or(LL),IL=h({},tl,{data:0}),kN=or(IL),zL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FL(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=UL[s])?!!o[s]:!1}function lx(){return FL}var VL=h({},tu,{key:function(s){if(s.key){var o=zL[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Bf(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?BL[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lx,charCode:function(s){return s.type==="keypress"?Bf(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Bf(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),HL=or(VL),qL=h({},Vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AN=or(qL),KL=h({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lx}),GL=or(KL),YL=h({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),WL=or(YL),XL=h({},Vf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ZL=or(XL),QL=h({},tl,{newState:0,oldState:0}),JL=or(QL),e7=[9,13,27,32],ox=ls&&"CompositionEvent"in window,ru=null;ls&&"documentMode"in document&&(ru=document.documentMode);var t7=ls&&"TextEvent"in window&&!ru,EN=ls&&(!ox||ru&&8<ru&&11>=ru),TN=" ",PN=!1;function ON(s,o){switch(s){case"keyup":return e7.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MN(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fo=!1;function n7(s,o){switch(s){case"compositionend":return MN(o);case"keypress":return o.which!==32?null:(PN=!0,TN);case"textInput":return s=o.data,s===TN&&PN?null:s;default:return null}}function r7(s,o){if(fo)return s==="compositionend"||!ox&&ON(s,o)?(s=SN(),zf=rx=ni=null,fo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return EN&&o.locale!=="ko"?null:o.data;default:return null}}var a7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DN(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!a7[s.type]:o==="textarea"}function RN(s,o,u,p){co?uo?uo.push(p):uo=[p]:co=p,o=Em(o,"onChange"),0<o.length&&(u=new Ff("onChange","change",null,u,p),s.push({event:u,listeners:o}))}var au=null,su=null;function s7(s){p_(s,0)}function Hf(s){var o=ti(s);if(xN(o))return s}function LN(s,o){if(s==="change")return o}var $N=!1;if(ls){var cx;if(ls){var ux="oninput"in document;if(!ux){var IN=document.createElement("div");IN.setAttribute("oninput","return;"),ux=typeof IN.oninput=="function"}cx=ux}else cx=!1;$N=cx&&(!document.documentMode||9<document.documentMode)}function zN(){au&&(au.detachEvent("onpropertychange",BN),su=au=null)}function BN(s){if(s.propertyName==="value"&&Hf(su)){var o=[];RN(o,su,s,ex(s)),NN(s7,o)}}function i7(s,o,u){s==="focusin"?(zN(),au=o,su=u,au.attachEvent("onpropertychange",BN)):s==="focusout"&&zN()}function l7(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hf(su)}function o7(s,o){if(s==="click")return Hf(o)}function c7(s,o){if(s==="input"||s==="change")return Hf(o)}function u7(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var yr=typeof Object.is=="function"?Object.is:u7;function iu(s,o){if(yr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!me.call(o,y)||!yr(s[y],o[y]))return!1}return!0}function UN(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function FN(s,o){var u=UN(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=o&&p>=o)return{node:u,offset:o-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=UN(u)}}function VN(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?VN(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function HN(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=$f(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=$f(s.document)}return o}function dx(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var d7=ls&&"documentMode"in document&&11>=document.documentMode,mo=null,fx=null,lu=null,mx=!1;function qN(s,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;mx||mo==null||mo!==$f(p)||(p=mo,"selectionStart"in p&&dx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),lu&&iu(lu,p)||(lu=p,p=Em(fx,"onSelect"),0<p.length&&(o=new Ff("onSelect","select",null,o,u),s.push({event:o,listeners:p}),o.target=mo)))}function nl(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var ho={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionrun:nl("Transition","TransitionRun"),transitionstart:nl("Transition","TransitionStart"),transitioncancel:nl("Transition","TransitionCancel"),transitionend:nl("Transition","TransitionEnd")},hx={},KN={};ls&&(KN=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function rl(s){if(hx[s])return hx[s];if(!ho[s])return s;var o=ho[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in KN)return hx[s]=o[u];return s}var GN=rl("animationend"),YN=rl("animationiteration"),WN=rl("animationstart"),f7=rl("transitionrun"),m7=rl("transitionstart"),h7=rl("transitioncancel"),XN=rl("transitionend"),ZN=new Map,px="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");px.push("scrollEnd");function xa(s,o){ZN.set(s,o),Pe(o,[s])}var QN=new WeakMap;function qr(s,o){if(typeof s=="object"&&s!==null){var u=QN.get(s);return u!==void 0?u:(o={value:s,source:o,stack:hN(o)},QN.set(s,o),o)}return{value:s,source:o,stack:hN(o)}}var Kr=[],po=0,xx=0;function qf(){for(var s=po,o=xx=po=0;o<s;){var u=Kr[o];Kr[o++]=null;var p=Kr[o];Kr[o++]=null;var y=Kr[o];Kr[o++]=null;var N=Kr[o];if(Kr[o++]=null,p!==null&&y!==null){var P=p.pending;P===null?y.next=y:(y.next=P.next,P.next=y),p.pending=y}N!==0&&JN(u,y,N)}}function Kf(s,o,u,p){Kr[po++]=s,Kr[po++]=o,Kr[po++]=u,Kr[po++]=p,xx|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function gx(s,o,u,p){return Kf(s,o,u,p),Gf(s)}function xo(s,o){return Kf(s,null,null,o),Gf(s)}function JN(s,o,u){s.lanes|=u;var p=s.alternate;p!==null&&(p.lanes|=u);for(var y=!1,N=s.return;N!==null;)N.childLanes|=u,p=N.alternate,p!==null&&(p.childLanes|=u),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(y=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,y&&o!==null&&(y=31-mt(u),s=N.hiddenUpdates,p=s[y],p===null?s[y]=[o]:p.push(o),o.lane=u|536870912),N):null}function Gf(s){if(50<Ou)throw Ou=0,Ng=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var go={};function p7(s,o,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(s,o,u,p){return new p7(s,o,u,p)}function vx(s){return s=s.prototype,!(!s||!s.isReactComponent)}function os(s,o){var u=s.alternate;return u===null?(u=br(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function eS(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Yf(s,o,u,p,y,N){var P=0;if(p=s,typeof s=="function")vx(s)&&(P=1);else if(typeof s=="string")P=g$(s,u,oe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case F:return s=br(31,u,o,y),s.elementType=F,s.lanes=N,s;case w:return al(u.children,y,N,o);case j:P=8,y|=24;break;case S:return s=br(12,u,o,y|2),s.elementType=S,s.lanes=N,s;case A:return s=br(13,u,o,y),s.elementType=A,s.lanes=N,s;case E:return s=br(19,u,o,y),s.elementType=E,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case k:P=10;break e;case C:P=9;break e;case O:P=11;break e;case $:P=14;break e;case M:P=16,p=null;break e}P=29,u=Error(r(130,s===null?"null":typeof s,"")),p=null}return o=br(P,u,o,y),o.elementType=s,o.type=p,o.lanes=N,o}function al(s,o,u,p){return s=br(7,s,p,o),s.lanes=u,s}function yx(s,o,u){return s=br(6,s,null,o),s.lanes=u,s}function bx(s,o,u){return o=br(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var vo=[],yo=0,Wf=null,Xf=0,Gr=[],Yr=0,sl=null,cs=1,us="";function il(s,o){vo[yo++]=Xf,vo[yo++]=Wf,Wf=s,Xf=o}function tS(s,o,u){Gr[Yr++]=cs,Gr[Yr++]=us,Gr[Yr++]=sl,sl=s;var p=cs;s=us;var y=32-mt(p)-1;p&=~(1<<y),u+=1;var N=32-mt(o)+y;if(30<N){var P=y-y%5;N=(p&(1<<P)-1).toString(32),p>>=P,y-=P,cs=1<<32-mt(o)+y|u<<y|p,us=N+s}else cs=1<<N|u<<y|p,us=s}function wx(s){s.return!==null&&(il(s,1),tS(s,1,0))}function jx(s){for(;s===Wf;)Wf=vo[--yo],vo[yo]=null,Xf=vo[--yo],vo[yo]=null;for(;s===sl;)sl=Gr[--Yr],Gr[Yr]=null,us=Gr[--Yr],Gr[Yr]=null,cs=Gr[--Yr],Gr[Yr]=null}var Qn=null,Jt=null,bt=!1,ll=null,$a=!1,Nx=Error(r(519));function ol(s){var o=Error(r(418,""));throw uu(qr(o,s)),Nx}function nS(s){var o=s.stateNode,u=s.type,p=s.memoizedProps;switch(o[yt]=s,o[Zt]=p,u){case"dialog":it("cancel",o),it("close",o);break;case"iframe":case"object":case"embed":it("load",o);break;case"video":case"audio":for(u=0;u<Du.length;u++)it(Du[u],o);break;case"source":it("error",o);break;case"img":case"image":case"link":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"input":it("invalid",o),gN(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Lf(o);break;case"select":it("invalid",o);break;case"textarea":it("invalid",o),yN(o,p.value,p.defaultValue,p.children),Lf(o)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||y_(o.textContent,u)?(p.popover!=null&&(it("beforetoggle",o),it("toggle",o)),p.onScroll!=null&&it("scroll",o),p.onScrollEnd!=null&&it("scrollend",o),p.onClick!=null&&(o.onclick=Tm),o=!0):o=!1,o||ol(s)}function rS(s){for(Qn=s.return;Qn;)switch(Qn.tag){case 5:case 13:$a=!1;return;case 27:case 3:$a=!0;return;default:Qn=Qn.return}}function ou(s){if(s!==Qn)return!1;if(!bt)return rS(s),bt=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||zg(s.type,s.memoizedProps)),u=!u),u&&Jt&&ol(s),rS(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(o===0){Jt=va(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;s=s.nextSibling}Jt=null}}else o===27?(o=Jt,vi(s.type)?(s=Vg,Vg=null,Jt=s):Jt=o):Jt=Qn?va(s.stateNode.nextSibling):null;return!0}function cu(){Jt=Qn=null,bt=!1}function aS(){var s=ll;return s!==null&&(dr===null?dr=s:dr.push.apply(dr,s),ll=null),s}function uu(s){ll===null?ll=[s]:ll.push(s)}var Sx=D(null),cl=null,ds=null;function ri(s,o,u){K(Sx,o._currentValue),o._currentValue=u}function fs(s){s._currentValue=Sx.current,L(Sx)}function _x(s,o,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===u)break;s=s.return}}function Cx(s,o,u,p){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var N=y.dependencies;if(N!==null){var P=y.child;N=N.firstContext;e:for(;N!==null;){var I=N;N=y;for(var J=0;J<o.length;J++)if(I.context===o[J]){N.lanes|=u,I=N.alternate,I!==null&&(I.lanes|=u),_x(N.return,u,s),p||(P=null);break e}N=I.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(r(341));P.lanes|=u,N=P.alternate,N!==null&&(N.lanes|=u),_x(P,u,s),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===s){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function du(s,o,u,p){s=null;for(var y=o,N=!1;y!==null;){if(!N){if((y.flags&524288)!==0)N=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var I=y.type;yr(y.pendingProps.value,P.value)||(s!==null?s.push(I):s=[I])}}else if(y===ye.current){if(P=y.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Bu):s=[Bu])}y=y.return}s!==null&&Cx(o,s,u,p),o.flags|=262144}function Zf(s){for(s=s.firstContext;s!==null;){if(!yr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ul(s){cl=s,ds=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Un(s){return sS(cl,s)}function Qf(s,o){return cl===null&&ul(s),sS(s,o)}function sS(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ds===null){if(s===null)throw Error(r(308));ds=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else ds=ds.next=o;return u}var x7=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},g7=e.unstable_scheduleCallback,v7=e.unstable_NormalPriority,vn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kx(){return{controller:new x7,data:new Map,refCount:0}}function fu(s){s.refCount--,s.refCount===0&&g7(v7,function(){s.controller.abort()})}var mu=null,Ax=0,bo=0,wo=null;function y7(s,o){if(mu===null){var u=mu=[];Ax=0,bo=Tg(),wo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Ax++,o.then(iS,iS),o}function iS(){if(--Ax===0&&mu!==null){wo!==null&&(wo.status="fulfilled");var s=mu;mu=null,bo=0,wo=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function b7(s,o){var u=[],p={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(p.status="rejected",p.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),p}var lS=R.S;R.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&y7(s,o),lS!==null&&lS(s,o)};var dl=D(null);function Ex(){var s=dl.current;return s!==null?s:Rt.pooledCache}function Jf(s,o){o===null?K(dl,dl.current):K(dl,o.pool)}function oS(){var s=Ex();return s===null?null:{parent:vn._currentValue,pool:s}}var hu=Error(r(460)),cS=Error(r(474)),em=Error(r(542)),Tx={then:function(){}};function uS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function tm(){}function dS(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(tm,tm),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,mS(s),s;default:if(typeof o.status=="string")o.then(tm,tm);else{if(s=Rt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=p}},function(p){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,mS(s),s}throw pu=o,hu}}var pu=null;function fS(){if(pu===null)throw Error(r(459));var s=pu;return pu=null,s}function mS(s){if(s===hu||s===em)throw Error(r(483))}var ai=!1;function Px(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ox(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function si(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ii(s,o,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(jt&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,o=Gf(s),JN(s,null,u),o}return Kf(s,p,o,u),Gf(s)}function xu(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,lt(s,u)}}function Mx(s,o){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var P={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?y=N=P:N=N.next=P,u=u.next}while(u!==null);N===null?y=N=o:N=N.next=o}else y=N=o;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var Dx=!1;function gu(){if(Dx){var s=wo;if(s!==null)throw s}}function vu(s,o,u,p){Dx=!1;var y=s.updateQueue;ai=!1;var N=y.firstBaseUpdate,P=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var J=I,fe=J.next;J.next=null,P===null?N=fe:P.next=fe,P=J;var Se=s.alternate;Se!==null&&(Se=Se.updateQueue,I=Se.lastBaseUpdate,I!==P&&(I===null?Se.firstBaseUpdate=fe:I.next=fe,Se.lastBaseUpdate=J))}if(N!==null){var Ce=y.baseState;P=0,Se=fe=J=null,I=N;do{var he=I.lane&-536870913,xe=he!==I.lane;if(xe?(dt&he)===he:(p&he)===he){he!==0&&he===bo&&(Dx=!0),Se!==null&&(Se=Se.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ye=s,He=I;he=o;var Et=u;switch(He.tag){case 1:if(Ye=He.payload,typeof Ye=="function"){Ce=Ye.call(Et,Ce,he);break e}Ce=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=He.payload,he=typeof Ye=="function"?Ye.call(Et,Ce,he):Ye,he==null)break e;Ce=h({},Ce,he);break e;case 2:ai=!0}}he=I.callback,he!==null&&(s.flags|=64,xe&&(s.flags|=8192),xe=y.callbacks,xe===null?y.callbacks=[he]:xe.push(he))}else xe={lane:he,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Se===null?(fe=Se=xe,J=Ce):Se=Se.next=xe,P|=he;if(I=I.next,I===null){if(I=y.shared.pending,I===null)break;xe=I,I=xe.next,xe.next=null,y.lastBaseUpdate=xe,y.shared.pending=null}}while(!0);Se===null&&(J=Ce),y.baseState=J,y.firstBaseUpdate=fe,y.lastBaseUpdate=Se,N===null&&(y.shared.lanes=0),hi|=P,s.lanes=P,s.memoizedState=Ce}}function hS(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function pS(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)hS(u[s],o)}var jo=D(null),nm=D(0);function xS(s,o){s=ys,K(nm,s),K(jo,o),ys=s|o.baseLanes}function Rx(){K(nm,ys),K(jo,jo.current)}function Lx(){ys=nm.current,L(jo),L(nm)}var li=0,nt=null,kt=null,fn=null,rm=!1,No=!1,fl=!1,am=0,yu=0,So=null,w7=0;function sn(){throw Error(r(321))}function $x(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!yr(s[u],o[u]))return!1;return!0}function Ix(s,o,u,p,y,N){return li=N,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,R.H=s===null||s.memoizedState===null?JS:e4,fl=!1,N=u(p,y),fl=!1,No&&(N=vS(o,u,p,y)),gS(s),N}function gS(s){R.H=um;var o=kt!==null&&kt.next!==null;if(li=0,fn=kt=nt=null,rm=!1,yu=0,So=null,o)throw Error(r(300));s===null||_n||(s=s.dependencies,s!==null&&Zf(s)&&(_n=!0))}function vS(s,o,u,p){nt=s;var y=0;do{if(No&&(So=null),yu=0,No=!1,25<=y)throw Error(r(301));if(y+=1,fn=kt=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}R.H=A7,N=o(u,p)}while(No);return N}function j7(){var s=R.H,o=s.useState()[0];return o=typeof o.then=="function"?bu(o):o,s=s.useState()[0],(kt!==null?kt.memoizedState:null)!==s&&(nt.flags|=1024),o}function zx(){var s=am!==0;return am=0,s}function Bx(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function Ux(s){if(rm){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}rm=!1}li=0,fn=kt=nt=null,No=!1,yu=am=0,So=null}function cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?nt.memoizedState=fn=s:fn=fn.next=s,fn}function mn(){if(kt===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var o=fn===null?nt.memoizedState:fn.next;if(o!==null)fn=o,kt=s;else{if(s===null)throw nt.alternate===null?Error(r(467)):Error(r(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},fn===null?nt.memoizedState=fn=s:fn=fn.next=s}return fn}function Fx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(s){var o=yu;return yu+=1,So===null&&(So=[]),s=dS(So,s,o),o=nt,(fn===null?o.memoizedState:fn.next)===null&&(o=o.alternate,R.H=o===null||o.memoizedState===null?JS:e4),s}function sm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bu(s);if(s.$$typeof===k)return Un(s)}throw Error(r(438,String(s)))}function Vx(s){var o=null,u=nt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=nt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Fx(),nt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),p=0;p<s;p++)u[p]=G;return o.index++,u}function ms(s,o){return typeof o=="function"?o(s):o}function im(s){var o=mn();return Hx(o,kt,s)}function Hx(s,o,u){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var y=s.baseQueue,N=p.pending;if(N!==null){if(y!==null){var P=y.next;y.next=N.next,N.next=P}o.baseQueue=y=N,p.pending=null}if(N=s.baseState,y===null)s.memoizedState=N;else{o=y.next;var I=P=null,J=null,fe=o,Se=!1;do{var Ce=fe.lane&-536870913;if(Ce!==fe.lane?(dt&Ce)===Ce:(li&Ce)===Ce){var he=fe.revertLane;if(he===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ce===bo&&(Se=!0);else if((li&he)===he){fe=fe.next,he===bo&&(Se=!0);continue}else Ce={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},J===null?(I=J=Ce,P=N):J=J.next=Ce,nt.lanes|=he,hi|=he;Ce=fe.action,fl&&u(N,Ce),N=fe.hasEagerState?fe.eagerState:u(N,Ce)}else he={lane:Ce,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},J===null?(I=J=he,P=N):J=J.next=he,nt.lanes|=Ce,hi|=Ce;fe=fe.next}while(fe!==null&&fe!==o);if(J===null?P=N:J.next=I,!yr(N,s.memoizedState)&&(_n=!0,Se&&(u=wo,u!==null)))throw u;s.memoizedState=N,s.baseState=P,s.baseQueue=J,p.lastRenderedState=N}return y===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function qx(s){var o=mn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var p=u.dispatch,y=u.pending,N=o.memoizedState;if(y!==null){u.pending=null;var P=y=y.next;do N=s(N,P.action),P=P.next;while(P!==y);yr(N,o.memoizedState)||(_n=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,p]}function yS(s,o,u){var p=nt,y=mn(),N=bt;if(N){if(u===void 0)throw Error(r(407));u=u()}else u=o();var P=!yr((kt||y).memoizedState,u);P&&(y.memoizedState=u,_n=!0),y=y.queue;var I=jS.bind(null,p,y,s);if(wu(2048,8,I,[s]),y.getSnapshot!==o||P||fn!==null&&fn.memoizedState.tag&1){if(p.flags|=2048,_o(9,lm(),wS.bind(null,p,y,u,o),null),Rt===null)throw Error(r(349));N||(li&124)!==0||bS(p,o,u)}return u}function bS(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=nt.updateQueue,o===null?(o=Fx(),nt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function wS(s,o,u,p){o.value=u,o.getSnapshot=p,NS(o)&&SS(s)}function jS(s,o,u){return u(function(){NS(o)&&SS(s)})}function NS(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!yr(s,u)}catch{return!0}}function SS(s){var o=xo(s,2);o!==null&&_r(o,s,2)}function Kx(s){var o=cr();if(typeof s=="function"){var u=s;if(s=u(),fl){un(!0);try{u()}finally{un(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:s},o}function _S(s,o,u,p){return s.baseState=u,Hx(s,kt,typeof p=="function"?p:ms)}function N7(s,o,u,p,y){if(cm(s))throw Error(r(485));if(s=o.action,s!==null){var N={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){N.listeners.push(P)}};R.T!==null?u(!0):N.isTransition=!1,p(N),u=o.pending,u===null?(N.next=o.pending=N,CS(o,N)):(N.next=u.next,o.pending=u.next=N)}}function CS(s,o){var u=o.action,p=o.payload,y=s.state;if(o.isTransition){var N=R.T,P={};R.T=P;try{var I=u(y,p),J=R.S;J!==null&&J(P,I),kS(s,o,I)}catch(fe){Gx(s,o,fe)}finally{R.T=N}}else try{N=u(y,p),kS(s,o,N)}catch(fe){Gx(s,o,fe)}}function kS(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){AS(s,o,p)},function(p){return Gx(s,o,p)}):AS(s,o,u)}function AS(s,o,u){o.status="fulfilled",o.value=u,ES(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,CS(s,u)))}function Gx(s,o,u){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,ES(o),o=o.next;while(o!==p)}s.action=null}function ES(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function TS(s,o){return o}function PS(s,o){if(bt){var u=Rt.formState;if(u!==null){e:{var p=nt;if(bt){if(Jt){t:{for(var y=Jt,N=$a;y.nodeType!==8;){if(!N){y=null;break t}if(y=va(y.nextSibling),y===null){y=null;break t}}N=y.data,y=N==="F!"||N==="F"?y:null}if(y){Jt=va(y.nextSibling),p=y.data==="F!";break e}}ol(p)}p=!1}p&&(o=u[0])}}return u=cr(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TS,lastRenderedState:o},u.queue=p,u=XS.bind(null,nt,p),p.dispatch=u,p=Kx(!1),N=Qx.bind(null,nt,!1,p.queue),p=cr(),y={state:o,dispatch:null,action:s,pending:null},p.queue=y,u=N7.bind(null,nt,y,N,u),y.dispatch=u,p.memoizedState=s,[o,u,!1]}function OS(s){var o=mn();return MS(o,kt,s)}function MS(s,o,u){if(o=Hx(s,o,TS)[0],s=im(ms)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=bu(o)}catch(P){throw P===hu?em:P}else p=o;o=mn();var y=o.queue,N=y.dispatch;return u!==o.memoizedState&&(nt.flags|=2048,_o(9,lm(),S7.bind(null,y,u),null)),[p,N,s]}function S7(s,o){s.action=o}function DS(s){var o=mn(),u=kt;if(u!==null)return MS(o,u,s);mn(),o=o.memoizedState,u=mn();var p=u.queue.dispatch;return u.memoizedState=s,[o,p,!1]}function _o(s,o,u,p){return s={tag:s,create:u,deps:p,inst:o,next:null},o=nt.updateQueue,o===null&&(o=Fx(),nt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,o.lastEffect=s),s}function lm(){return{destroy:void 0,resource:void 0}}function RS(){return mn().memoizedState}function om(s,o,u,p){var y=cr();p=p===void 0?null:p,nt.flags|=s,y.memoizedState=_o(1|o,lm(),u,p)}function wu(s,o,u,p){var y=mn();p=p===void 0?null:p;var N=y.memoizedState.inst;kt!==null&&p!==null&&$x(p,kt.memoizedState.deps)?y.memoizedState=_o(o,N,u,p):(nt.flags|=s,y.memoizedState=_o(1|o,N,u,p))}function LS(s,o){om(8390656,8,s,o)}function $S(s,o){wu(2048,8,s,o)}function IS(s,o){return wu(4,2,s,o)}function zS(s,o){return wu(4,4,s,o)}function BS(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function US(s,o,u){u=u!=null?u.concat([s]):null,wu(4,4,BS.bind(null,o,s),u)}function Yx(){}function FS(s,o){var u=mn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&$x(o,p[1])?p[0]:(u.memoizedState=[s,o],s)}function VS(s,o){var u=mn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&$x(o,p[1]))return p[0];if(p=s(),fl){un(!0);try{s()}finally{un(!1)}}return u.memoizedState=[p,o],p}function Wx(s,o,u){return u===void 0||(li&1073741824)!==0?s.memoizedState=o:(s.memoizedState=u,s=K4(),nt.lanes|=s,hi|=s,u)}function HS(s,o,u,p){return yr(u,o)?u:jo.current!==null?(s=Wx(s,u,p),yr(s,o)||(_n=!0),s):(li&42)===0?(_n=!0,s.memoizedState=u):(s=K4(),nt.lanes|=s,hi|=s,o)}function qS(s,o,u,p,y){var N=q.p;q.p=N!==0&&8>N?N:8;var P=R.T,I={};R.T=I,Qx(s,!1,o,u);try{var J=y(),fe=R.S;if(fe!==null&&fe(I,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Se=b7(J,p);ju(s,o,Se,Sr(s))}else ju(s,o,p,Sr(s))}catch(Ce){ju(s,o,{then:function(){},status:"rejected",reason:Ce},Sr())}finally{q.p=N,R.T=P}}function _7(){}function Xx(s,o,u,p){if(s.tag!==5)throw Error(r(476));var y=KS(s).queue;qS(s,y,o,H,u===null?_7:function(){return GS(s),u(p)})}function KS(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function GS(s){var o=KS(s).next.queue;ju(s,o,{},Sr())}function Zx(){return Un(Bu)}function YS(){return mn().memoizedState}function WS(){return mn().memoizedState}function C7(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=Sr();s=si(u);var p=ii(o,s,u);p!==null&&(_r(p,o,u),xu(p,o,u)),o={cache:kx()},s.payload=o;return}o=o.return}}function k7(s,o,u){var p=Sr();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},cm(s)?ZS(o,u):(u=gx(s,o,u,p),u!==null&&(_r(u,s,p),QS(u,o,p)))}function XS(s,o,u){var p=Sr();ju(s,o,u,p)}function ju(s,o,u,p){var y={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(cm(s))ZS(o,y);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var P=o.lastRenderedState,I=N(P,u);if(y.hasEagerState=!0,y.eagerState=I,yr(I,P))return Kf(s,o,y,0),Rt===null&&qf(),!1}catch{}finally{}if(u=gx(s,o,y,p),u!==null)return _r(u,s,p),QS(u,o,p),!0}return!1}function Qx(s,o,u,p){if(p={lane:2,revertLane:Tg(),action:p,hasEagerState:!1,eagerState:null,next:null},cm(s)){if(o)throw Error(r(479))}else o=gx(s,u,p,2),o!==null&&_r(o,s,2)}function cm(s){var o=s.alternate;return s===nt||o!==null&&o===nt}function ZS(s,o){No=rm=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function QS(s,o,u){if((u&4194048)!==0){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,lt(s,u)}}var um={readContext:Un,use:sm,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn},JS={readContext:Un,use:sm,useCallback:function(s,o){return cr().memoizedState=[s,o===void 0?null:o],s},useContext:Un,useEffect:LS,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,om(4194308,4,BS.bind(null,o,s),u)},useLayoutEffect:function(s,o){return om(4194308,4,s,o)},useInsertionEffect:function(s,o){om(4,2,s,o)},useMemo:function(s,o){var u=cr();o=o===void 0?null:o;var p=s();if(fl){un(!0);try{s()}finally{un(!1)}}return u.memoizedState=[p,o],p},useReducer:function(s,o,u){var p=cr();if(u!==void 0){var y=u(o);if(fl){un(!0);try{u(o)}finally{un(!1)}}}else y=o;return p.memoizedState=p.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},p.queue=s,s=s.dispatch=k7.bind(null,nt,s),[p.memoizedState,s]},useRef:function(s){var o=cr();return s={current:s},o.memoizedState=s},useState:function(s){s=Kx(s);var o=s.queue,u=XS.bind(null,nt,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:Yx,useDeferredValue:function(s,o){var u=cr();return Wx(u,s,o)},useTransition:function(){var s=Kx(!1);return s=qS.bind(null,nt,s.queue,!0,!1),cr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var p=nt,y=cr();if(bt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Rt===null)throw Error(r(349));(dt&124)!==0||bS(p,o,u)}y.memoizedState=u;var N={value:u,getSnapshot:o};return y.queue=N,LS(jS.bind(null,p,N,s),[s]),p.flags|=2048,_o(9,lm(),wS.bind(null,p,N,u,o),null),u},useId:function(){var s=cr(),o=Rt.identifierPrefix;if(bt){var u=us,p=cs;u=(p&~(1<<32-mt(p)-1)).toString(32)+u,o=""+o+"R"+u,u=am++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=w7++,o=""+o+"r"+u.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:Zx,useFormState:PS,useActionState:PS,useOptimistic:function(s){var o=cr();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Qx.bind(null,nt,!0,u),u.dispatch=o,[s,o]},useMemoCache:Vx,useCacheRefresh:function(){return cr().memoizedState=C7.bind(null,nt)}},e4={readContext:Un,use:sm,useCallback:FS,useContext:Un,useEffect:$S,useImperativeHandle:US,useInsertionEffect:IS,useLayoutEffect:zS,useMemo:VS,useReducer:im,useRef:RS,useState:function(){return im(ms)},useDebugValue:Yx,useDeferredValue:function(s,o){var u=mn();return HS(u,kt.memoizedState,s,o)},useTransition:function(){var s=im(ms)[0],o=mn().memoizedState;return[typeof s=="boolean"?s:bu(s),o]},useSyncExternalStore:yS,useId:YS,useHostTransitionStatus:Zx,useFormState:OS,useActionState:OS,useOptimistic:function(s,o){var u=mn();return _S(u,kt,s,o)},useMemoCache:Vx,useCacheRefresh:WS},A7={readContext:Un,use:sm,useCallback:FS,useContext:Un,useEffect:$S,useImperativeHandle:US,useInsertionEffect:IS,useLayoutEffect:zS,useMemo:VS,useReducer:qx,useRef:RS,useState:function(){return qx(ms)},useDebugValue:Yx,useDeferredValue:function(s,o){var u=mn();return kt===null?Wx(u,s,o):HS(u,kt.memoizedState,s,o)},useTransition:function(){var s=qx(ms)[0],o=mn().memoizedState;return[typeof s=="boolean"?s:bu(s),o]},useSyncExternalStore:yS,useId:YS,useHostTransitionStatus:Zx,useFormState:DS,useActionState:DS,useOptimistic:function(s,o){var u=mn();return kt!==null?_S(u,kt,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Vx,useCacheRefresh:WS},Co=null,Nu=0;function dm(s){var o=Nu;return Nu+=1,Co===null&&(Co=[]),dS(Co,s,o)}function Su(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function fm(s,o){throw o.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function t4(s){var o=s._init;return o(s._payload)}function n4(s){function o(ie,ne){if(s){var ce=ie.deletions;ce===null?(ie.deletions=[ne],ie.flags|=16):ce.push(ne)}}function u(ie,ne){if(!s)return null;for(;ne!==null;)o(ie,ne),ne=ne.sibling;return null}function p(ie){for(var ne=new Map;ie!==null;)ie.key!==null?ne.set(ie.key,ie):ne.set(ie.index,ie),ie=ie.sibling;return ne}function y(ie,ne){return ie=os(ie,ne),ie.index=0,ie.sibling=null,ie}function N(ie,ne,ce){return ie.index=ce,s?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<ne?(ie.flags|=67108866,ne):ce):(ie.flags|=67108866,ne)):(ie.flags|=1048576,ne)}function P(ie){return s&&ie.alternate===null&&(ie.flags|=67108866),ie}function I(ie,ne,ce,_e){return ne===null||ne.tag!==6?(ne=yx(ce,ie.mode,_e),ne.return=ie,ne):(ne=y(ne,ce),ne.return=ie,ne)}function J(ie,ne,ce,_e){var Ie=ce.type;return Ie===w?Se(ie,ne,ce.props.children,_e,ce.key):ne!==null&&(ne.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===M&&t4(Ie)===ne.type)?(ne=y(ne,ce.props),Su(ne,ce),ne.return=ie,ne):(ne=Yf(ce.type,ce.key,ce.props,null,ie.mode,_e),Su(ne,ce),ne.return=ie,ne)}function fe(ie,ne,ce,_e){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=bx(ce,ie.mode,_e),ne.return=ie,ne):(ne=y(ne,ce.children||[]),ne.return=ie,ne)}function Se(ie,ne,ce,_e,Ie){return ne===null||ne.tag!==7?(ne=al(ce,ie.mode,_e,Ie),ne.return=ie,ne):(ne=y(ne,ce),ne.return=ie,ne)}function Ce(ie,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=yx(""+ne,ie.mode,ce),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case g:return ce=Yf(ne.type,ne.key,ne.props,null,ie.mode,ce),Su(ce,ne),ce.return=ie,ce;case b:return ne=bx(ne,ie.mode,ce),ne.return=ie,ne;case M:var _e=ne._init;return ne=_e(ne._payload),Ce(ie,ne,ce)}if(re(ne)||U(ne))return ne=al(ne,ie.mode,ce,null),ne.return=ie,ne;if(typeof ne.then=="function")return Ce(ie,dm(ne),ce);if(ne.$$typeof===k)return Ce(ie,Qf(ie,ne),ce);fm(ie,ne)}return null}function he(ie,ne,ce,_e){var Ie=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ie!==null?null:I(ie,ne,""+ce,_e);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case g:return ce.key===Ie?J(ie,ne,ce,_e):null;case b:return ce.key===Ie?fe(ie,ne,ce,_e):null;case M:return Ie=ce._init,ce=Ie(ce._payload),he(ie,ne,ce,_e)}if(re(ce)||U(ce))return Ie!==null?null:Se(ie,ne,ce,_e,null);if(typeof ce.then=="function")return he(ie,ne,dm(ce),_e);if(ce.$$typeof===k)return he(ie,ne,Qf(ie,ce),_e);fm(ie,ce)}return null}function xe(ie,ne,ce,_e,Ie){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ie=ie.get(ce)||null,I(ne,ie,""+_e,Ie);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case g:return ie=ie.get(_e.key===null?ce:_e.key)||null,J(ne,ie,_e,Ie);case b:return ie=ie.get(_e.key===null?ce:_e.key)||null,fe(ne,ie,_e,Ie);case M:var rt=_e._init;return _e=rt(_e._payload),xe(ie,ne,ce,_e,Ie)}if(re(_e)||U(_e))return ie=ie.get(ce)||null,Se(ne,ie,_e,Ie,null);if(typeof _e.then=="function")return xe(ie,ne,ce,dm(_e),Ie);if(_e.$$typeof===k)return xe(ie,ne,ce,Qf(ne,_e),Ie);fm(ne,_e)}return null}function Ye(ie,ne,ce,_e){for(var Ie=null,rt=null,Fe=ne,Ke=ne=0,kn=null;Fe!==null&&Ke<ce.length;Ke++){Fe.index>Ke?(kn=Fe,Fe=null):kn=Fe.sibling;var xt=he(ie,Fe,ce[Ke],_e);if(xt===null){Fe===null&&(Fe=kn);break}s&&Fe&&xt.alternate===null&&o(ie,Fe),ne=N(xt,ne,Ke),rt===null?Ie=xt:rt.sibling=xt,rt=xt,Fe=kn}if(Ke===ce.length)return u(ie,Fe),bt&&il(ie,Ke),Ie;if(Fe===null){for(;Ke<ce.length;Ke++)Fe=Ce(ie,ce[Ke],_e),Fe!==null&&(ne=N(Fe,ne,Ke),rt===null?Ie=Fe:rt.sibling=Fe,rt=Fe);return bt&&il(ie,Ke),Ie}for(Fe=p(Fe);Ke<ce.length;Ke++)kn=xe(Fe,ie,Ke,ce[Ke],_e),kn!==null&&(s&&kn.alternate!==null&&Fe.delete(kn.key===null?Ke:kn.key),ne=N(kn,ne,Ke),rt===null?Ie=kn:rt.sibling=kn,rt=kn);return s&&Fe.forEach(function(Ni){return o(ie,Ni)}),bt&&il(ie,Ke),Ie}function He(ie,ne,ce,_e){if(ce==null)throw Error(r(151));for(var Ie=null,rt=null,Fe=ne,Ke=ne=0,kn=null,xt=ce.next();Fe!==null&&!xt.done;Ke++,xt=ce.next()){Fe.index>Ke?(kn=Fe,Fe=null):kn=Fe.sibling;var Ni=he(ie,Fe,xt.value,_e);if(Ni===null){Fe===null&&(Fe=kn);break}s&&Fe&&Ni.alternate===null&&o(ie,Fe),ne=N(Ni,ne,Ke),rt===null?Ie=Ni:rt.sibling=Ni,rt=Ni,Fe=kn}if(xt.done)return u(ie,Fe),bt&&il(ie,Ke),Ie;if(Fe===null){for(;!xt.done;Ke++,xt=ce.next())xt=Ce(ie,xt.value,_e),xt!==null&&(ne=N(xt,ne,Ke),rt===null?Ie=xt:rt.sibling=xt,rt=xt);return bt&&il(ie,Ke),Ie}for(Fe=p(Fe);!xt.done;Ke++,xt=ce.next())xt=xe(Fe,ie,Ke,xt.value,_e),xt!==null&&(s&&xt.alternate!==null&&Fe.delete(xt.key===null?Ke:xt.key),ne=N(xt,ne,Ke),rt===null?Ie=xt:rt.sibling=xt,rt=xt);return s&&Fe.forEach(function(E$){return o(ie,E$)}),bt&&il(ie,Ke),Ie}function Et(ie,ne,ce,_e){if(typeof ce=="object"&&ce!==null&&ce.type===w&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case g:e:{for(var Ie=ce.key;ne!==null;){if(ne.key===Ie){if(Ie=ce.type,Ie===w){if(ne.tag===7){u(ie,ne.sibling),_e=y(ne,ce.props.children),_e.return=ie,ie=_e;break e}}else if(ne.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===M&&t4(Ie)===ne.type){u(ie,ne.sibling),_e=y(ne,ce.props),Su(_e,ce),_e.return=ie,ie=_e;break e}u(ie,ne);break}else o(ie,ne);ne=ne.sibling}ce.type===w?(_e=al(ce.props.children,ie.mode,_e,ce.key),_e.return=ie,ie=_e):(_e=Yf(ce.type,ce.key,ce.props,null,ie.mode,_e),Su(_e,ce),_e.return=ie,ie=_e)}return P(ie);case b:e:{for(Ie=ce.key;ne!==null;){if(ne.key===Ie)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){u(ie,ne.sibling),_e=y(ne,ce.children||[]),_e.return=ie,ie=_e;break e}else{u(ie,ne);break}else o(ie,ne);ne=ne.sibling}_e=bx(ce,ie.mode,_e),_e.return=ie,ie=_e}return P(ie);case M:return Ie=ce._init,ce=Ie(ce._payload),Et(ie,ne,ce,_e)}if(re(ce))return Ye(ie,ne,ce,_e);if(U(ce)){if(Ie=U(ce),typeof Ie!="function")throw Error(r(150));return ce=Ie.call(ce),He(ie,ne,ce,_e)}if(typeof ce.then=="function")return Et(ie,ne,dm(ce),_e);if(ce.$$typeof===k)return Et(ie,ne,Qf(ie,ce),_e);fm(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ne!==null&&ne.tag===6?(u(ie,ne.sibling),_e=y(ne,ce),_e.return=ie,ie=_e):(u(ie,ne),_e=yx(ce,ie.mode,_e),_e.return=ie,ie=_e),P(ie)):u(ie,ne)}return function(ie,ne,ce,_e){try{Nu=0;var Ie=Et(ie,ne,ce,_e);return Co=null,Ie}catch(Fe){if(Fe===hu||Fe===em)throw Fe;var rt=br(29,Fe,null,ie.mode);return rt.lanes=_e,rt.return=ie,rt}finally{}}}var ko=n4(!0),r4=n4(!1),Wr=D(null),Ia=null;function oi(s){var o=s.alternate;K(yn,yn.current&1),K(Wr,s),Ia===null&&(o===null||jo.current!==null||o.memoizedState!==null)&&(Ia=s)}function a4(s){if(s.tag===22){if(K(yn,yn.current),K(Wr,s),Ia===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Ia=s)}}else ci()}function ci(){K(yn,yn.current),K(Wr,Wr.current)}function hs(s){L(Wr),Ia===s&&(Ia=null),L(yn)}var yn=D(0);function mm(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Fg(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Jx(s,o,u,p){o=s.memoizedState,u=u(p,o),u=u==null?o:h({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var eg={enqueueSetState:function(s,o,u){s=s._reactInternals;var p=Sr(),y=si(p);y.payload=o,u!=null&&(y.callback=u),o=ii(s,y,p),o!==null&&(_r(o,s,p),xu(o,s,p))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var p=Sr(),y=si(p);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=ii(s,y,p),o!==null&&(_r(o,s,p),xu(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Sr(),p=si(u);p.tag=2,o!=null&&(p.callback=o),o=ii(s,p,u),o!==null&&(_r(o,s,u),xu(o,s,u))}};function s4(s,o,u,p,y,N,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,N,P):o.prototype&&o.prototype.isPureReactComponent?!iu(u,p)||!iu(y,N):!0}function i4(s,o,u,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==s&&eg.enqueueReplaceState(o,o.state,null)}function ml(s,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(s=s.defaultProps){u===o&&(u=h({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}var hm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function l4(s){hm(s)}function o4(s){console.error(s)}function c4(s){hm(s)}function pm(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function u4(s,o,u){try{var p=s.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function tg(s,o,u){return u=si(u),u.tag=3,u.payload={element:null},u.callback=function(){pm(s,o)},u}function d4(s){return s=si(s),s.tag=3,s}function f4(s,o,u,p){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var N=p.value;s.payload=function(){return y(N)},s.callback=function(){u4(o,u,p)}}var P=u.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(s.callback=function(){u4(o,u,p),typeof y!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function E7(s,o,u,p,y){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&du(o,u,y,!0),u=Wr.current,u!==null){switch(u.tag){case 13:return Ia===null?_g():u.alternate===null&&en===0&&(en=3),u.flags&=-257,u.flags|=65536,u.lanes=y,p===Tx?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),kg(s,p,y)),!1;case 22:return u.flags|=65536,p===Tx?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),kg(s,p,y)),!1}throw Error(r(435,u.tag))}return kg(s,p,y),_g(),!1}if(bt)return o=Wr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,p!==Nx&&(s=Error(r(422),{cause:p}),uu(qr(s,u)))):(p!==Nx&&(o=Error(r(423),{cause:p}),uu(qr(o,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,p=qr(p,u),y=tg(s.stateNode,p,y),Mx(s,y),en!==4&&(en=2)),!1;var N=Error(r(520),{cause:p});if(N=qr(N,u),Pu===null?Pu=[N]:Pu.push(N),en!==4&&(en=2),o===null)return!0;p=qr(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=tg(u.stateNode,p,s),Mx(u,s),!1;case 1:if(o=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(pi===null||!pi.has(N))))return u.flags|=65536,y&=-y,u.lanes|=y,y=d4(y),f4(y,s,u,p),Mx(u,y),!1}u=u.return}while(u!==null);return!1}var m4=Error(r(461)),_n=!1;function Mn(s,o,u,p){o.child=s===null?r4(o,null,u,p):ko(o,s.child,u,p)}function h4(s,o,u,p,y){u=u.render;var N=o.ref;if("ref"in p){var P={};for(var I in p)I!=="ref"&&(P[I]=p[I])}else P=p;return ul(o),p=Ix(s,o,u,P,N,y),I=zx(),s!==null&&!_n?(Bx(s,o,y),ps(s,o,y)):(bt&&I&&wx(o),o.flags|=1,Mn(s,o,p,y),o.child)}function p4(s,o,u,p,y){if(s===null){var N=u.type;return typeof N=="function"&&!vx(N)&&N.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=N,x4(s,o,N,p,y)):(s=Yf(u.type,null,p,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(N=s.child,!cg(s,y)){var P=N.memoizedProps;if(u=u.compare,u=u!==null?u:iu,u(P,p)&&s.ref===o.ref)return ps(s,o,y)}return o.flags|=1,s=os(N,p),s.ref=o.ref,s.return=o,o.child=s}function x4(s,o,u,p,y){if(s!==null){var N=s.memoizedProps;if(iu(N,p)&&s.ref===o.ref)if(_n=!1,o.pendingProps=p=N,cg(s,y))(s.flags&131072)!==0&&(_n=!0);else return o.lanes=s.lanes,ps(s,o,y)}return ng(s,o,u,p,y)}function g4(s,o,u){var p=o.pendingProps,y=p.children,N=s!==null?s.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=N!==null?N.baseLanes|u:u,s!==null){for(y=o.child=s.child,N=0;y!==null;)N=N|y.lanes|y.childLanes,y=y.sibling;o.childLanes=N&~p}else o.childLanes=0,o.child=null;return v4(s,o,p,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Jf(o,N!==null?N.cachePool:null),N!==null?xS(o,N):Rx(),a4(o);else return o.lanes=o.childLanes=536870912,v4(s,o,N!==null?N.baseLanes|u:u,u)}else N!==null?(Jf(o,N.cachePool),xS(o,N),ci(),o.memoizedState=null):(s!==null&&Jf(o,null),Rx(),ci());return Mn(s,o,y,u),o.child}function v4(s,o,u,p){var y=Ex();return y=y===null?null:{parent:vn._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},s!==null&&Jf(o,null),Rx(),a4(o),s!==null&&du(s,o,p,!0),null}function xm(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function ng(s,o,u,p,y){return ul(o),u=Ix(s,o,u,p,void 0,y),p=zx(),s!==null&&!_n?(Bx(s,o,y),ps(s,o,y)):(bt&&p&&wx(o),o.flags|=1,Mn(s,o,u,y),o.child)}function y4(s,o,u,p,y,N){return ul(o),o.updateQueue=null,u=vS(o,p,u,y),gS(s),p=zx(),s!==null&&!_n?(Bx(s,o,N),ps(s,o,N)):(bt&&p&&wx(o),o.flags|=1,Mn(s,o,u,N),o.child)}function b4(s,o,u,p,y){if(ul(o),o.stateNode===null){var N=go,P=u.contextType;typeof P=="object"&&P!==null&&(N=Un(P)),N=new u(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=eg,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},Px(o),P=u.contextType,N.context=typeof P=="object"&&P!==null?Un(P):go,N.state=o.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Jx(o,u,P,p),N.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(P=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),P!==N.state&&eg.enqueueReplaceState(N,N.state,null),vu(o,p,N,y),gu(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){N=o.stateNode;var I=o.memoizedProps,J=ml(u,I);N.props=J;var fe=N.context,Se=u.contextType;P=go,typeof Se=="object"&&Se!==null&&(P=Un(Se));var Ce=u.getDerivedStateFromProps;Se=typeof Ce=="function"||typeof N.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,Se||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I||fe!==P)&&i4(o,N,p,P),ai=!1;var he=o.memoizedState;N.state=he,vu(o,p,N,y),gu(),fe=o.memoizedState,I||he!==fe||ai?(typeof Ce=="function"&&(Jx(o,u,Ce,p),fe=o.memoizedState),(J=ai||s4(o,u,J,p,he,fe,P))?(Se||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=fe),N.props=p,N.state=fe,N.context=P,p=J):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,Ox(s,o),P=o.memoizedProps,Se=ml(u,P),N.props=Se,Ce=o.pendingProps,he=N.context,fe=u.contextType,J=go,typeof fe=="object"&&fe!==null&&(J=Un(fe)),I=u.getDerivedStateFromProps,(fe=typeof I=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P!==Ce||he!==J)&&i4(o,N,p,J),ai=!1,he=o.memoizedState,N.state=he,vu(o,p,N,y),gu();var xe=o.memoizedState;P!==Ce||he!==xe||ai||s!==null&&s.dependencies!==null&&Zf(s.dependencies)?(typeof I=="function"&&(Jx(o,u,I,p),xe=o.memoizedState),(Se=ai||s4(o,u,Se,p,he,xe,J)||s!==null&&s.dependencies!==null&&Zf(s.dependencies))?(fe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,xe,J),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,xe,J)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||P===s.memoizedProps&&he===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&he===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=xe),N.props=p,N.state=xe,N.context=J,p=Se):(typeof N.componentDidUpdate!="function"||P===s.memoizedProps&&he===s.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&he===s.memoizedState||(o.flags|=1024),p=!1)}return N=p,xm(s,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,s!==null&&p?(o.child=ko(o,s.child,null,y),o.child=ko(o,null,u,y)):Mn(s,o,u,y),o.memoizedState=N.state,s=o.child):s=ps(s,o,y),s}function w4(s,o,u,p){return cu(),o.flags|=256,Mn(s,o,u,p),o.child}var rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ag(s){return{baseLanes:s,cachePool:oS()}}function sg(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=Xr),s}function j4(s,o,u){var p=o.pendingProps,y=!1,N=(o.flags&128)!==0,P;if((P=N)||(P=s!==null&&s.memoizedState===null?!1:(yn.current&2)!==0),P&&(y=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,s===null){if(bt){if(y?oi(o):ci(),bt){var I=Jt,J;if(J=I){e:{for(J=I,I=$a;J.nodeType!==8;){if(!I){I=null;break e}if(J=va(J.nextSibling),J===null){I=null;break e}}I=J}I!==null?(o.memoizedState={dehydrated:I,treeContext:sl!==null?{id:cs,overflow:us}:null,retryLane:536870912,hydrationErrors:null},J=br(18,null,null,0),J.stateNode=I,J.return=o,o.child=J,Qn=o,Jt=null,J=!0):J=!1}J||ol(o)}if(I=o.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Fg(I)?o.lanes=32:o.lanes=536870912,null;hs(o)}return I=p.children,p=p.fallback,y?(ci(),y=o.mode,I=gm({mode:"hidden",children:I},y),p=al(p,y,u,null),I.return=o,p.return=o,I.sibling=p,o.child=I,y=o.child,y.memoizedState=ag(u),y.childLanes=sg(s,P,u),o.memoizedState=rg,p):(oi(o),ig(o,I))}if(J=s.memoizedState,J!==null&&(I=J.dehydrated,I!==null)){if(N)o.flags&256?(oi(o),o.flags&=-257,o=lg(s,o,u)):o.memoizedState!==null?(ci(),o.child=s.child,o.flags|=128,o=null):(ci(),y=p.fallback,I=o.mode,p=gm({mode:"visible",children:p.children},I),y=al(y,I,u,null),y.flags|=2,p.return=o,y.return=o,p.sibling=y,o.child=p,ko(o,s.child,null,u),p=o.child,p.memoizedState=ag(u),p.childLanes=sg(s,P,u),o.memoizedState=rg,o=y);else if(oi(o),Fg(I)){if(P=I.nextSibling&&I.nextSibling.dataset,P)var fe=P.dgst;P=fe,p=Error(r(419)),p.stack="",p.digest=P,uu({value:p,source:null,stack:null}),o=lg(s,o,u)}else if(_n||du(s,o,u,!1),P=(u&s.childLanes)!==0,_n||P){if(P=Rt,P!==null&&(p=u&-u,p=(p&42)!==0?1:Qe(p),p=(p&(P.suspendedLanes|u))!==0?0:p,p!==0&&p!==J.retryLane))throw J.retryLane=p,xo(s,p),_r(P,s,p),m4;I.data==="$?"||_g(),o=lg(s,o,u)}else I.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=J.treeContext,Jt=va(I.nextSibling),Qn=o,bt=!0,ll=null,$a=!1,s!==null&&(Gr[Yr++]=cs,Gr[Yr++]=us,Gr[Yr++]=sl,cs=s.id,us=s.overflow,sl=o),o=ig(o,p.children),o.flags|=4096);return o}return y?(ci(),y=p.fallback,I=o.mode,J=s.child,fe=J.sibling,p=os(J,{mode:"hidden",children:p.children}),p.subtreeFlags=J.subtreeFlags&65011712,fe!==null?y=os(fe,y):(y=al(y,I,u,null),y.flags|=2),y.return=o,p.return=o,p.sibling=y,o.child=p,p=y,y=o.child,I=s.child.memoizedState,I===null?I=ag(u):(J=I.cachePool,J!==null?(fe=vn._currentValue,J=J.parent!==fe?{parent:fe,pool:fe}:J):J=oS(),I={baseLanes:I.baseLanes|u,cachePool:J}),y.memoizedState=I,y.childLanes=sg(s,P,u),o.memoizedState=rg,p):(oi(o),u=s.child,s=u.sibling,u=os(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,s!==null&&(P=o.deletions,P===null?(o.deletions=[s],o.flags|=16):P.push(s)),o.child=u,o.memoizedState=null,u)}function ig(s,o){return o=gm({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function gm(s,o){return s=br(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function lg(s,o,u){return ko(o,s.child,null,u),s=ig(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function N4(s,o,u){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),_x(s.return,o,u)}function og(s,o,u,p,y){var N=s.memoizedState;N===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=y)}function S4(s,o,u){var p=o.pendingProps,y=p.revealOrder,N=p.tail;if(Mn(s,o,p.children,u),p=yn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&N4(s,u,o);else if(s.tag===19)N4(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}switch(K(yn,p),y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&mm(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),og(o,!1,y,u,N);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&mm(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}og(o,!0,u,null,N);break;case"together":og(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ps(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),hi|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(du(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=os(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=os(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function cg(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Zf(s)))}function T7(s,o,u){switch(o.tag){case 3:se(o,o.stateNode.containerInfo),ri(o,vn,s.memoizedState.cache),cu();break;case 27:case 5:we(o);break;case 4:se(o,o.stateNode.containerInfo);break;case 10:ri(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(oi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?j4(s,o,u):(oi(o),s=ps(s,o,u),s!==null?s.sibling:null);oi(o);break;case 19:var y=(s.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(du(s,o,u,!1),p=(u&o.childLanes)!==0),y){if(p)return S4(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),K(yn,yn.current),p)break;return null;case 22:case 23:return o.lanes=0,g4(s,o,u);case 24:ri(o,vn,s.memoizedState.cache)}return ps(s,o,u)}function _4(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)_n=!0;else{if(!cg(s,u)&&(o.flags&128)===0)return _n=!1,T7(s,o,u);_n=(s.flags&131072)!==0}else _n=!1,bt&&(o.flags&1048576)!==0&&tS(o,Xf,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var p=o.elementType,y=p._init;if(p=y(p._payload),o.type=p,typeof p=="function")vx(p)?(s=ml(p,s),o.tag=1,o=b4(null,o,p,s,u)):(o.tag=0,o=ng(null,o,p,s,u));else{if(p!=null){if(y=p.$$typeof,y===O){o.tag=11,o=h4(null,o,p,s,u);break e}else if(y===$){o.tag=14,o=p4(null,o,p,s,u);break e}}throw o=be(p)||p,Error(r(306,o,""))}}return o;case 0:return ng(s,o,o.type,o.pendingProps,u);case 1:return p=o.type,y=ml(p,o.pendingProps),b4(s,o,p,y,u);case 3:e:{if(se(o,o.stateNode.containerInfo),s===null)throw Error(r(387));p=o.pendingProps;var N=o.memoizedState;y=N.element,Ox(s,o),vu(o,p,null,u);var P=o.memoizedState;if(p=P.cache,ri(o,vn,p),p!==N.cache&&Cx(o,[vn],u,!0),gu(),p=P.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=w4(s,o,p,u);break e}else if(p!==y){y=qr(Error(r(424)),o),uu(y),o=w4(s,o,p,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Jt=va(s.firstChild),Qn=o,bt=!0,ll=null,$a=!0,u=r4(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(cu(),p===y){o=ps(s,o,u);break e}Mn(s,o,p,u)}o=o.child}return o;case 26:return xm(s,o),s===null?(u=E_(o.type,null,o.pendingProps,null))?o.memoizedState=u:bt||(u=o.type,s=o.pendingProps,p=Pm(Y.current).createElement(u),p[yt]=o,p[Zt]=s,Rn(p,u,s),le(p),o.stateNode=p):o.memoizedState=E_(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return we(o),s===null&&bt&&(p=o.stateNode=C_(o.type,o.pendingProps,Y.current),Qn=o,$a=!0,y=Jt,vi(o.type)?(Vg=y,Jt=va(p.firstChild)):Jt=y),Mn(s,o,o.pendingProps.children,u),xm(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&bt&&((y=p=Jt)&&(p=a$(p,o.type,o.pendingProps,$a),p!==null?(o.stateNode=p,Qn=o,Jt=va(p.firstChild),$a=!1,y=!0):y=!1),y||ol(o)),we(o),y=o.type,N=o.pendingProps,P=s!==null?s.memoizedProps:null,p=N.children,zg(y,N)?p=null:P!==null&&zg(y,P)&&(o.flags|=32),o.memoizedState!==null&&(y=Ix(s,o,j7,null,null,u),Bu._currentValue=y),xm(s,o),Mn(s,o,p,u),o.child;case 6:return s===null&&bt&&((s=u=Jt)&&(u=s$(u,o.pendingProps,$a),u!==null?(o.stateNode=u,Qn=o,Jt=null,s=!0):s=!1),s||ol(o)),null;case 13:return j4(s,o,u);case 4:return se(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=ko(o,null,p,u):Mn(s,o,p,u),o.child;case 11:return h4(s,o,o.type,o.pendingProps,u);case 7:return Mn(s,o,o.pendingProps,u),o.child;case 8:return Mn(s,o,o.pendingProps.children,u),o.child;case 12:return Mn(s,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,ri(o,o.type,p.value),Mn(s,o,p.children,u),o.child;case 9:return y=o.type._context,p=o.pendingProps.children,ul(o),y=Un(y),p=p(y),o.flags|=1,Mn(s,o,p,u),o.child;case 14:return p4(s,o,o.type,o.pendingProps,u);case 15:return x4(s,o,o.type,o.pendingProps,u);case 19:return S4(s,o,u);case 31:return p=o.pendingProps,u=o.mode,p={mode:p.mode,children:p.children},s===null?(u=gm(p,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=os(s.child,p),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return g4(s,o,u);case 24:return ul(o),p=Un(vn),s===null?(y=Ex(),y===null&&(y=Rt,N=kx(),y.pooledCache=N,N.refCount++,N!==null&&(y.pooledCacheLanes|=u),y=N),o.memoizedState={parent:p,cache:y},Px(o),ri(o,vn,y)):((s.lanes&u)!==0&&(Ox(s,o),vu(o,null,null,u),gu()),y=s.memoizedState,N=o.memoizedState,y.parent!==p?(y={parent:p,cache:p},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ri(o,vn,p)):(p=N.cache,ri(o,vn,p),p!==y.cache&&Cx(o,[vn],u,!0))),Mn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function xs(s){s.flags|=4}function C4(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!D_(o)){if(o=Wr.current,o!==null&&((dt&4194048)===dt?Ia!==null:(dt&62914560)!==dt&&(dt&536870912)===0||o!==Ia))throw pu=Tx,cS;s.flags|=8192}}function vm(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Q():536870912,s.lanes|=o,Po|=o)}function _u(s,o){if(!bt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Qt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=u,o}function P7(s,o,u){var p=o.pendingProps;switch(jx(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return Qt(o),null;case 3:return u=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),fs(vn),ve(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(ou(o)?xs(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,aS())),Qt(o),null;case 26:return u=o.memoizedState,s===null?(xs(o),u!==null?(Qt(o),C4(o,u)):(Qt(o),o.flags&=-16777217)):u?u!==s.memoizedState?(xs(o),Qt(o),C4(o,u)):(Qt(o),o.flags&=-16777217):(s.memoizedProps!==p&&xs(o),Qt(o),o.flags&=-16777217),null;case 27:Ne(o),u=Y.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==p&&xs(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}s=oe.current,ou(o)?nS(o):(s=C_(y,p,u),o.stateNode=s,xs(o))}return Qt(o),null;case 5:if(Ne(o),u=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&xs(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}if(s=oe.current,ou(o))nS(o);else{switch(y=Pm(Y.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof p.is=="string"?y.createElement("select",{is:p.is}):y.createElement("select"),p.multiple?s.multiple=!0:p.size&&(s.size=p.size);break;default:s=typeof p.is=="string"?y.createElement(u,{is:p.is}):y.createElement(u)}}s[yt]=o,s[Zt]=p;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;e:switch(Rn(s,u,p),u){case"button":case"input":case"select":case"textarea":s=!!p.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&xs(o)}}return Qt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&xs(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(s=Y.current,ou(o)){if(s=o.stateNode,u=o.memoizedProps,p=null,y=Qn,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}s[yt]=o,s=!!(s.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||y_(s.nodeValue,u)),s||ol(o)}else s=Pm(s).createTextNode(p),s[yt]=o,o.stateNode=s}return Qt(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=ou(o),p!==null&&p.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[yt]=o}else cu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),y=!1}else y=aS(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(hs(o),o):(hs(o),null)}if(hs(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=p!==null,s=s!==null&&s.memoizedState!==null,u){p=o.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==y&&(p.flags|=2048)}return u!==s&&u&&(o.child.flags|=8192),vm(o,o.updateQueue),Qt(o),null;case 4:return ve(),s===null&&Dg(o.stateNode.containerInfo),Qt(o),null;case 10:return fs(o.type),Qt(o),null;case 19:if(L(yn),y=o.memoizedState,y===null)return Qt(o),null;if(p=(o.flags&128)!==0,N=y.rendering,N===null)if(p)_u(y,!1);else{if(en!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(N=mm(s),N!==null){for(o.flags|=128,_u(y,!1),s=N.updateQueue,o.updateQueue=s,vm(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)eS(u,s),u=u.sibling;return K(yn,yn.current&1|2),o.child}s=s.sibling}y.tail!==null&&ue()>wm&&(o.flags|=128,p=!0,_u(y,!1),o.lanes=4194304)}else{if(!p)if(s=mm(N),s!==null){if(o.flags|=128,p=!0,s=s.updateQueue,o.updateQueue=s,vm(o,s),_u(y,!0),y.tail===null&&y.tailMode==="hidden"&&!N.alternate&&!bt)return Qt(o),null}else 2*ue()-y.renderingStartTime>wm&&u!==536870912&&(o.flags|=128,p=!0,_u(y,!1),o.lanes=4194304);y.isBackwards?(N.sibling=o.child,o.child=N):(s=y.last,s!==null?s.sibling=N:o.child=N,y.last=N)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ue(),o.sibling=null,s=yn.current,K(yn,p?s&1|2:s&1),o):(Qt(o),null);case 22:case 23:return hs(o),Lx(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),u=o.updateQueue,u!==null&&vm(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),s!==null&&L(dl),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),fs(vn),Qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function O7(s,o){switch(jx(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return fs(vn),ve(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ne(o),null;case 13:if(hs(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));cu()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return L(yn),null;case 4:return ve(),null;case 10:return fs(o.type),null;case 22:case 23:return hs(o),Lx(),s!==null&&L(dl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return fs(vn),null;case 25:return null;default:return null}}function k4(s,o){switch(jx(o),o.tag){case 3:fs(vn),ve();break;case 26:case 27:case 5:Ne(o);break;case 4:ve();break;case 13:hs(o);break;case 19:L(yn);break;case 10:fs(o.type);break;case 22:case 23:hs(o),Lx(),s!==null&&L(dl);break;case 24:fs(vn)}}function Cu(s,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){p=void 0;var N=u.create,P=u.inst;p=N(),P.destroy=p}u=u.next}while(u!==y)}}catch(I){Pt(o,o.return,I)}}function ui(s,o,u){try{var p=o.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var N=y.next;p=N;do{if((p.tag&s)===s){var P=p.inst,I=P.destroy;if(I!==void 0){P.destroy=void 0,y=o;var J=u,fe=I;try{fe()}catch(Se){Pt(y,J,Se)}}}p=p.next}while(p!==N)}}catch(Se){Pt(o,o.return,Se)}}function A4(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{pS(o,u)}catch(p){Pt(s,s.return,p)}}}function E4(s,o,u){u.props=ml(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(p){Pt(s,o,p)}}function ku(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof u=="function"?s.refCleanup=u(p):u.current=p}}catch(y){Pt(s,o,y)}}function za(s,o){var u=s.ref,p=s.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(y){Pt(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Pt(s,o,y)}else u.current=null}function T4(s){var o=s.type,u=s.memoizedProps,p=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(y){Pt(s,s.return,y)}}function ug(s,o,u){try{var p=s.stateNode;J7(p,s.type,u,o),p[Zt]=o}catch(y){Pt(s,s.return,y)}}function P4(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&vi(s.type)||s.tag===4}function dg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||P4(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&vi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fg(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Tm));else if(p!==4&&(p===27&&vi(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(fg(s,o,u),s=s.sibling;s!==null;)fg(s,o,u),s=s.sibling}function ym(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(p!==4&&(p===27&&vi(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(ym(s,o,u),s=s.sibling;s!==null;)ym(s,o,u),s=s.sibling}function O4(s){var o=s.stateNode,u=s.memoizedProps;try{for(var p=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Rn(o,p,u),o[yt]=s,o[Zt]=u}catch(N){Pt(s,s.return,N)}}var gs=!1,ln=!1,mg=!1,M4=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function M7(s,o){if(s=s.containerInfo,$g=$m,s=HN(s),dx(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var P=0,I=-1,J=-1,fe=0,Se=0,Ce=s,he=null;t:for(;;){for(var xe;Ce!==u||y!==0&&Ce.nodeType!==3||(I=P+y),Ce!==N||p!==0&&Ce.nodeType!==3||(J=P+p),Ce.nodeType===3&&(P+=Ce.nodeValue.length),(xe=Ce.firstChild)!==null;)he=Ce,Ce=xe;for(;;){if(Ce===s)break t;if(he===u&&++fe===y&&(I=P),he===N&&++Se===p&&(J=P),(xe=Ce.nextSibling)!==null)break;Ce=he,he=Ce.parentNode}Ce=xe}u=I===-1||J===-1?null:{start:I,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ig={focusedElem:s,selectionRange:u},$m=!1,Cn=o;Cn!==null;)if(o=Cn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Cn=s;else for(;Cn!==null;){switch(o=Cn,N=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,u=o,y=N.memoizedProps,N=N.memoizedState,p=u.stateNode;try{var Ye=ml(u.type,y,u.elementType===u.type);s=p.getSnapshotBeforeUpdate(Ye,N),p.__reactInternalSnapshotBeforeUpdate=s}catch(He){Pt(u,u.return,He)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)Ug(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ug(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,Cn=s;break}Cn=o.return}}function D4(s,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:di(s,u),p&4&&Cu(5,u);break;case 1:if(di(s,u),p&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(P){Pt(u,u.return,P)}else{var y=ml(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(P){Pt(u,u.return,P)}}p&64&&A4(u),p&512&&ku(u,u.return);break;case 3:if(di(s,u),p&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{pS(s,o)}catch(P){Pt(u,u.return,P)}}break;case 27:o===null&&p&4&&O4(u);case 26:case 5:di(s,u),o===null&&p&4&&T4(u),p&512&&ku(u,u.return);break;case 12:di(s,u);break;case 13:di(s,u),p&4&&$4(s,u),p&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=F7.bind(null,u),i$(s,u))));break;case 22:if(p=u.memoizedState!==null||gs,!p){o=o!==null&&o.memoizedState!==null||ln,y=gs;var N=ln;gs=p,(ln=o)&&!N?fi(s,u,(u.subtreeFlags&8772)!==0):di(s,u),gs=y,ln=N}break;case 30:break;default:di(s,u)}}function R4(s){var o=s.alternate;o!==null&&(s.alternate=null,R4(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&so(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var qt=null,ur=!1;function vs(s,o,u){for(u=u.child;u!==null;)L4(s,o,u),u=u.sibling}function L4(s,o,u){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Ht,u)}catch{}switch(u.tag){case 26:ln||za(u,o),vs(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ln||za(u,o);var p=qt,y=ur;vi(u.type)&&(qt=u.stateNode,ur=!1),vs(s,o,u),Lu(u.stateNode),qt=p,ur=y;break;case 5:ln||za(u,o);case 6:if(p=qt,y=ur,qt=null,vs(s,o,u),qt=p,ur=y,qt!==null)if(ur)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(u.stateNode)}catch(N){Pt(u,o,N)}else try{qt.removeChild(u.stateNode)}catch(N){Pt(u,o,N)}break;case 18:qt!==null&&(ur?(s=qt,S_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Hu(s)):S_(qt,u.stateNode));break;case 4:p=qt,y=ur,qt=u.stateNode.containerInfo,ur=!0,vs(s,o,u),qt=p,ur=y;break;case 0:case 11:case 14:case 15:ln||ui(2,u,o),ln||ui(4,u,o),vs(s,o,u);break;case 1:ln||(za(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&E4(u,o,p)),vs(s,o,u);break;case 21:vs(s,o,u);break;case 22:ln=(p=ln)||u.memoizedState!==null,vs(s,o,u),ln=p;break;default:vs(s,o,u)}}function $4(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Hu(s)}catch(u){Pt(o,o.return,u)}}function D7(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new M4),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new M4),o;default:throw Error(r(435,s.tag))}}function hg(s,o){var u=D7(s);o.forEach(function(p){var y=V7.bind(null,s,p);u.has(p)||(u.add(p),p.then(y,y))})}function wr(s,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p],N=s,P=o,I=P;e:for(;I!==null;){switch(I.tag){case 27:if(vi(I.type)){qt=I.stateNode,ur=!1;break e}break;case 5:qt=I.stateNode,ur=!1;break e;case 3:case 4:qt=I.stateNode.containerInfo,ur=!0;break e}I=I.return}if(qt===null)throw Error(r(160));L4(N,P,y),qt=null,ur=!1,N=y.alternate,N!==null&&(N.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)I4(o,s),o=o.sibling}var ga=null;function I4(s,o){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:wr(o,s),jr(s),p&4&&(ui(3,s,s.return),Cu(3,s),ui(5,s,s.return));break;case 1:wr(o,s),jr(s),p&512&&(ln||u===null||za(u,u.return)),p&64&&gs&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var y=ga;if(wr(o,s),jr(s),p&512&&(ln||u===null||za(u,u.return)),p&4){var N=u!==null?u.memoizedState:null;if(p=s.memoizedState,u===null)if(p===null)if(s.stateNode===null){e:{p=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":N=y.getElementsByTagName("title")[0],(!N||N[ei]||N[yt]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=y.createElement(p),y.head.insertBefore(N,y.querySelector("head > title"))),Rn(N,p,u),N[yt]=s,le(N),p=N;break e;case"link":var P=O_("link","href",y).get(p+(u.href||""));if(P){for(var I=0;I<P.length;I++)if(N=P[I],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){P.splice(I,1);break t}}N=y.createElement(p),Rn(N,p,u),y.head.appendChild(N);break;case"meta":if(P=O_("meta","content",y).get(p+(u.content||""))){for(I=0;I<P.length;I++)if(N=P[I],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){P.splice(I,1);break t}}N=y.createElement(p),Rn(N,p,u),y.head.appendChild(N);break;default:throw Error(r(468,p))}N[yt]=s,le(N),p=N}s.stateNode=p}else M_(y,s.type,s.stateNode);else s.stateNode=P_(y,p,s.memoizedProps);else N!==p?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,p===null?M_(y,s.type,s.stateNode):P_(y,p,s.memoizedProps)):p===null&&s.stateNode!==null&&ug(s,s.memoizedProps,u.memoizedProps)}break;case 27:wr(o,s),jr(s),p&512&&(ln||u===null||za(u,u.return)),u!==null&&p&4&&ug(s,s.memoizedProps,u.memoizedProps);break;case 5:if(wr(o,s),jr(s),p&512&&(ln||u===null||za(u,u.return)),s.flags&32){y=s.stateNode;try{oo(y,"")}catch(xe){Pt(s,s.return,xe)}}p&4&&s.stateNode!=null&&(y=s.memoizedProps,ug(s,y,u!==null?u.memoizedProps:y)),p&1024&&(mg=!0);break;case 6:if(wr(o,s),jr(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,u=s.stateNode;try{u.nodeValue=p}catch(xe){Pt(s,s.return,xe)}}break;case 3:if(Dm=null,y=ga,ga=Om(o.containerInfo),wr(o,s),ga=y,jr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Hu(o.containerInfo)}catch(xe){Pt(s,s.return,xe)}mg&&(mg=!1,z4(s));break;case 4:p=ga,ga=Om(s.stateNode.containerInfo),wr(o,s),jr(s),ga=p;break;case 12:wr(o,s),jr(s);break;case 13:wr(o,s),jr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(bg=ue()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,hg(s,p)));break;case 22:y=s.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,fe=gs,Se=ln;if(gs=fe||y,ln=Se||J,wr(o,s),ln=Se,gs=fe,jr(s),p&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||J||gs||ln||hl(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){J=u=o;try{if(N=J.stateNode,y)P=N.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{I=J.stateNode;var Ce=J.memoizedProps.style,he=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;I.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(xe){Pt(J,J.return,xe)}}}else if(o.tag===6){if(u===null){J=o;try{J.stateNode.nodeValue=y?"":J.memoizedProps}catch(xe){Pt(J,J.return,xe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,hg(s,u))));break;case 19:wr(o,s),jr(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,hg(s,p)));break;case 30:break;case 21:break;default:wr(o,s),jr(s)}}function jr(s){var o=s.flags;if(o&2){try{for(var u,p=s.return;p!==null;){if(P4(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,N=dg(s);ym(s,N,y);break;case 5:var P=u.stateNode;u.flags&32&&(oo(P,""),u.flags&=-33);var I=dg(s);ym(s,I,P);break;case 3:case 4:var J=u.stateNode.containerInfo,fe=dg(s);fg(s,fe,J);break;default:throw Error(r(161))}}catch(Se){Pt(s,s.return,Se)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function z4(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;z4(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function di(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)D4(s,o.alternate,o),o=o.sibling}function hl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ui(4,o,o.return),hl(o);break;case 1:za(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&E4(o,o.return,u),hl(o);break;case 27:Lu(o.stateNode);case 26:case 5:za(o,o.return),hl(o);break;case 22:o.memoizedState===null&&hl(o);break;case 30:hl(o);break;default:hl(o)}s=s.sibling}}function fi(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,y=s,N=o,P=N.flags;switch(N.tag){case 0:case 11:case 15:fi(y,N,u),Cu(4,N);break;case 1:if(fi(y,N,u),p=N,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(fe){Pt(p,p.return,fe)}if(p=N,y=p.updateQueue,y!==null){var I=p.stateNode;try{var J=y.shared.hiddenCallbacks;if(J!==null)for(y.shared.hiddenCallbacks=null,y=0;y<J.length;y++)hS(J[y],I)}catch(fe){Pt(p,p.return,fe)}}u&&P&64&&A4(N),ku(N,N.return);break;case 27:O4(N);case 26:case 5:fi(y,N,u),u&&p===null&&P&4&&T4(N),ku(N,N.return);break;case 12:fi(y,N,u);break;case 13:fi(y,N,u),u&&P&4&&$4(y,N);break;case 22:N.memoizedState===null&&fi(y,N,u),ku(N,N.return);break;case 30:break;default:fi(y,N,u)}o=o.sibling}}function pg(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&fu(u))}function xg(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&fu(s))}function Ba(s,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)B4(s,o,u,p),o=o.sibling}function B4(s,o,u,p){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ba(s,o,u,p),y&2048&&Cu(9,o);break;case 1:Ba(s,o,u,p);break;case 3:Ba(s,o,u,p),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&fu(s)));break;case 12:if(y&2048){Ba(s,o,u,p),s=o.stateNode;try{var N=o.memoizedProps,P=N.id,I=N.onPostCommit;typeof I=="function"&&I(P,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(J){Pt(o,o.return,J)}}else Ba(s,o,u,p);break;case 13:Ba(s,o,u,p);break;case 23:break;case 22:N=o.stateNode,P=o.alternate,o.memoizedState!==null?N._visibility&2?Ba(s,o,u,p):Au(s,o):N._visibility&2?Ba(s,o,u,p):(N._visibility|=2,Ao(s,o,u,p,(o.subtreeFlags&10256)!==0)),y&2048&&pg(P,o);break;case 24:Ba(s,o,u,p),y&2048&&xg(o.alternate,o);break;default:Ba(s,o,u,p)}}function Ao(s,o,u,p,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=s,P=o,I=u,J=p,fe=P.flags;switch(P.tag){case 0:case 11:case 15:Ao(N,P,I,J,y),Cu(8,P);break;case 23:break;case 22:var Se=P.stateNode;P.memoizedState!==null?Se._visibility&2?Ao(N,P,I,J,y):Au(N,P):(Se._visibility|=2,Ao(N,P,I,J,y)),y&&fe&2048&&pg(P.alternate,P);break;case 24:Ao(N,P,I,J,y),y&&fe&2048&&xg(P.alternate,P);break;default:Ao(N,P,I,J,y)}o=o.sibling}}function Au(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,p=o,y=p.flags;switch(p.tag){case 22:Au(u,p),y&2048&&pg(p.alternate,p);break;case 24:Au(u,p),y&2048&&xg(p.alternate,p);break;default:Au(u,p)}o=o.sibling}}var Eu=8192;function Eo(s){if(s.subtreeFlags&Eu)for(s=s.child;s!==null;)U4(s),s=s.sibling}function U4(s){switch(s.tag){case 26:Eo(s),s.flags&Eu&&s.memoizedState!==null&&y$(ga,s.memoizedState,s.memoizedProps);break;case 5:Eo(s);break;case 3:case 4:var o=ga;ga=Om(s.stateNode.containerInfo),Eo(s),ga=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Eu,Eu=16777216,Eo(s),Eu=o):Eo(s));break;default:Eo(s)}}function F4(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Tu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Cn=p,H4(p,s)}F4(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)V4(s),s=s.sibling}function V4(s){switch(s.tag){case 0:case 11:case 15:Tu(s),s.flags&2048&&ui(9,s,s.return);break;case 3:Tu(s);break;case 12:Tu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,bm(s)):Tu(s);break;default:Tu(s)}}function bm(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Cn=p,H4(p,s)}F4(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ui(8,o,o.return),bm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,bm(o));break;default:bm(o)}s=s.sibling}}function H4(s,o){for(;Cn!==null;){var u=Cn;switch(u.tag){case 0:case 11:case 15:ui(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:fu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Cn=p;else e:for(u=s;Cn!==null;){p=Cn;var y=p.sibling,N=p.return;if(R4(p),p===u){Cn=null;break e}if(y!==null){y.return=N,Cn=y;break e}Cn=N}}}var R7={getCacheForType:function(s){var o=Un(vn),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u}},L7=typeof WeakMap=="function"?WeakMap:Map,jt=0,Rt=null,st=null,dt=0,Nt=0,Nr=null,mi=!1,To=!1,gg=!1,ys=0,en=0,hi=0,pl=0,vg=0,Xr=0,Po=0,Pu=null,dr=null,yg=!1,bg=0,wm=1/0,jm=null,pi=null,Dn=0,xi=null,Oo=null,Mo=0,wg=0,jg=null,q4=null,Ou=0,Ng=null;function Sr(){if((jt&2)!==0&&dt!==0)return dt&-dt;if(R.T!==null){var s=bo;return s!==0?s:Tg()}return Ct()}function K4(){Xr===0&&(Xr=(dt&536870912)===0||bt?de():536870912);var s=Wr.current;return s!==null&&(s.flags|=32),Xr}function _r(s,o,u){(s===Rt&&(Nt===2||Nt===9)||s.cancelPendingCommit!==null)&&(Do(s,0),gi(s,dt,Xr,!1)),ae(s,u),((jt&2)===0||s!==Rt)&&(s===Rt&&((jt&2)===0&&(pl|=u),en===4&&gi(s,dt,Xr,!1)),Ua(s))}function G4(s,o,u){if((jt&6)!==0)throw Error(r(327));var p=!u&&(o&124)===0&&(o&s.expiredLanes)===0||lr(s,o),y=p?z7(s,o):Cg(s,o,!0),N=p;do{if(y===0){To&&!p&&gi(s,o,0,!1);break}else{if(u=s.current.alternate,N&&!$7(u)){y=Cg(s,o,!1),N=!1;continue}if(y===2){if(N=o,s.errorRecoveryDisabledLanes&N)var P=0;else P=s.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var I=s;y=Pu;var J=I.current.memoizedState.isDehydrated;if(J&&(Do(I,P).flags|=256),P=Cg(I,P,!1),P!==2){if(gg&&!J){I.errorRecoveryDisabledLanes|=N,pl|=N,y=4;break e}N=dr,dr=y,N!==null&&(dr===null?dr=N:dr.push.apply(dr,N))}y=P}if(N=!1,y!==2)continue}}if(y===1){Do(s,0),gi(s,o,0,!0);break}e:{switch(p=s,N=y,N){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:gi(p,o,Xr,!mi);break e;case 2:dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=bg+300-ue(),10<y)){if(gi(p,o,Xr,!mi),Xn(p,0,!0)!==0)break e;p.timeoutHandle=j_(Y4.bind(null,p,u,dr,jm,yg,o,Xr,pl,Po,mi,N,2,-0,0),y);break e}Y4(p,u,dr,jm,yg,o,Xr,pl,Po,mi,N,0,-0,0)}}break}while(!0);Ua(s)}function Y4(s,o,u,p,y,N,P,I,J,fe,Se,Ce,he,xe){if(s.timeoutHandle=-1,Ce=o.subtreeFlags,(Ce&8192||(Ce&16785408)===16785408)&&(zu={stylesheets:null,count:0,unsuspend:v$},U4(o),Ce=b$(),Ce!==null)){s.cancelPendingCommit=Ce(t_.bind(null,s,o,N,u,p,y,P,I,J,Se,1,he,xe)),gi(s,N,P,!fe);return}t_(s,o,N,u,p,y,P,I,J)}function $7(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var y=u[p],N=y.getSnapshot;y=y.value;try{if(!yr(N(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function gi(s,o,u,p){o&=~vg,o&=~pl,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var y=o;0<y;){var N=31-mt(y),P=1<<N;p[N]=-1,y&=~P}u!==0&&qe(s,u,o)}function Nm(){return(jt&6)===0?(Mu(0),!1):!0}function Sg(){if(st!==null){if(Nt===0)var s=st.return;else s=st,ds=cl=null,Ux(s),Co=null,Nu=0,s=st;for(;s!==null;)k4(s.alternate,s),s=s.return;st=null}}function Do(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,t$(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Sg(),Rt=s,st=u=os(s.current,null),dt=o,Nt=0,Nr=null,mi=!1,To=lr(s,o),gg=!1,Po=Xr=vg=pl=hi=en=0,dr=Pu=null,yg=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var y=31-mt(p),N=1<<y;o|=s[y],p&=~N}return ys=o,qf(),u}function W4(s,o){nt=null,R.H=um,o===hu||o===em?(o=fS(),Nt=3):o===cS?(o=fS(),Nt=4):Nt=o===m4?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Nr=o,st===null&&(en=1,pm(s,qr(o,s.current)))}function X4(){var s=R.H;return R.H=um,s===null?um:s}function Z4(){var s=R.A;return R.A=R7,s}function _g(){en=4,mi||(dt&4194048)!==dt&&Wr.current!==null||(To=!0),(hi&134217727)===0&&(pl&134217727)===0||Rt===null||gi(Rt,dt,Xr,!1)}function Cg(s,o,u){var p=jt;jt|=2;var y=X4(),N=Z4();(Rt!==s||dt!==o)&&(jm=null,Do(s,o)),o=!1;var P=en;e:do try{if(Nt!==0&&st!==null){var I=st,J=Nr;switch(Nt){case 8:Sg(),P=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(o=!0);var fe=Nt;if(Nt=0,Nr=null,Ro(s,I,J,fe),u&&To){P=0;break e}break;default:fe=Nt,Nt=0,Nr=null,Ro(s,I,J,fe)}}I7(),P=en;break}catch(Se){W4(s,Se)}while(!0);return o&&s.shellSuspendCounter++,ds=cl=null,jt=p,R.H=y,R.A=N,st===null&&(Rt=null,dt=0,qf()),P}function I7(){for(;st!==null;)Q4(st)}function z7(s,o){var u=jt;jt|=2;var p=X4(),y=Z4();Rt!==s||dt!==o?(jm=null,wm=ue()+500,Do(s,o)):To=lr(s,o);e:do try{if(Nt!==0&&st!==null){o=st;var N=Nr;t:switch(Nt){case 1:Nt=0,Nr=null,Ro(s,o,N,1);break;case 2:case 9:if(uS(N)){Nt=0,Nr=null,J4(o);break}o=function(){Nt!==2&&Nt!==9||Rt!==s||(Nt=7),Ua(s)},N.then(o,o);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:uS(N)?(Nt=0,Nr=null,J4(o)):(Nt=0,Nr=null,Ro(s,o,N,7));break;case 5:var P=null;switch(st.tag){case 26:P=st.memoizedState;case 5:case 27:var I=st;if(!P||D_(P)){Nt=0,Nr=null;var J=I.sibling;if(J!==null)st=J;else{var fe=I.return;fe!==null?(st=fe,Sm(fe)):st=null}break t}}Nt=0,Nr=null,Ro(s,o,N,5);break;case 6:Nt=0,Nr=null,Ro(s,o,N,6);break;case 8:Sg(),en=6;break e;default:throw Error(r(462))}}B7();break}catch(Se){W4(s,Se)}while(!0);return ds=cl=null,R.H=p,R.A=y,jt=u,st!==null?0:(Rt=null,dt=0,qf(),en)}function B7(){for(;st!==null&&!Xe();)Q4(st)}function Q4(s){var o=_4(s.alternate,s,ys);s.memoizedProps=s.pendingProps,o===null?Sm(s):st=o}function J4(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=y4(u,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=y4(u,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:Ux(o);default:k4(u,o),o=st=eS(o,ys),o=_4(u,o,ys)}s.memoizedProps=s.pendingProps,o===null?Sm(s):st=o}function Ro(s,o,u,p){ds=cl=null,Ux(o),Co=null,Nu=0;var y=o.return;try{if(E7(s,y,o,u,dt)){en=1,pm(s,qr(u,s.current)),st=null;return}}catch(N){if(y!==null)throw st=y,N;en=1,pm(s,qr(u,s.current)),st=null;return}o.flags&32768?(bt||p===1?s=!0:To||(dt&536870912)!==0?s=!1:(mi=s=!0,(p===2||p===9||p===3||p===6)&&(p=Wr.current,p!==null&&p.tag===13&&(p.flags|=16384))),e_(o,s)):Sm(o)}function Sm(s){var o=s;do{if((o.flags&32768)!==0){e_(o,mi);return}s=o.return;var u=P7(o.alternate,o,ys);if(u!==null){st=u;return}if(o=o.sibling,o!==null){st=o;return}st=o=s}while(o!==null);en===0&&(en=5)}function e_(s,o){do{var u=O7(s.alternate,s);if(u!==null){u.flags&=32767,st=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){st=s;return}st=s=u}while(s!==null);en=6,st=null}function t_(s,o,u,p,y,N,P,I,J){s.cancelPendingCommit=null;do _m();while(Dn!==0);if((jt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(N=o.lanes|o.childLanes,N|=xx,$e(s,u,N,P,I,J),s===Rt&&(st=Rt=null,dt=0),Oo=o,xi=s,Mo=u,wg=N,jg=y,q4=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,H7(Ue,function(){return i_(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=R.T,R.T=null,y=q.p,q.p=2,P=jt,jt|=4;try{M7(s,o,u)}finally{jt=P,q.p=y,R.T=p}}Dn=1,n_(),r_(),a_()}}function n_(){if(Dn===1){Dn=0;var s=xi,o=Oo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=R.T,R.T=null;var p=q.p;q.p=2;var y=jt;jt|=4;try{I4(o,s);var N=Ig,P=HN(s.containerInfo),I=N.focusedElem,J=N.selectionRange;if(P!==I&&I&&I.ownerDocument&&VN(I.ownerDocument.documentElement,I)){if(J!==null&&dx(I)){var fe=J.start,Se=J.end;if(Se===void 0&&(Se=fe),"selectionStart"in I)I.selectionStart=fe,I.selectionEnd=Math.min(Se,I.value.length);else{var Ce=I.ownerDocument||document,he=Ce&&Ce.defaultView||window;if(he.getSelection){var xe=he.getSelection(),Ye=I.textContent.length,He=Math.min(J.start,Ye),Et=J.end===void 0?He:Math.min(J.end,Ye);!xe.extend&&He>Et&&(P=Et,Et=He,He=P);var ie=FN(I,He),ne=FN(I,Et);if(ie&&ne&&(xe.rangeCount!==1||xe.anchorNode!==ie.node||xe.anchorOffset!==ie.offset||xe.focusNode!==ne.node||xe.focusOffset!==ne.offset)){var ce=Ce.createRange();ce.setStart(ie.node,ie.offset),xe.removeAllRanges(),He>Et?(xe.addRange(ce),xe.extend(ne.node,ne.offset)):(ce.setEnd(ne.node,ne.offset),xe.addRange(ce))}}}}for(Ce=[],xe=I;xe=xe.parentNode;)xe.nodeType===1&&Ce.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<Ce.length;I++){var _e=Ce[I];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}$m=!!$g,Ig=$g=null}finally{jt=y,q.p=p,R.T=u}}s.current=o,Dn=2}}function r_(){if(Dn===2){Dn=0;var s=xi,o=Oo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=R.T,R.T=null;var p=q.p;q.p=2;var y=jt;jt|=4;try{D4(s,o.alternate,o)}finally{jt=y,q.p=p,R.T=u}}Dn=3}}function a_(){if(Dn===4||Dn===3){Dn=0,X();var s=xi,o=Oo,u=Mo,p=q4;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Dn=5:(Dn=0,Oo=xi=null,s_(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(pi=null),wt(u),o=o.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Ht,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=R.T,y=q.p,q.p=2,R.T=null;try{for(var N=s.onRecoverableError,P=0;P<p.length;P++){var I=p[P];N(I.value,{componentStack:I.stack})}}finally{R.T=o,q.p=y}}(Mo&3)!==0&&_m(),Ua(s),y=s.pendingLanes,(u&4194090)!==0&&(y&42)!==0?s===Ng?Ou++:(Ou=0,Ng=s):Ou=0,Mu(0)}}function s_(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,fu(o)))}function _m(s){return n_(),r_(),a_(),i_()}function i_(){if(Dn!==5)return!1;var s=xi,o=wg;wg=0;var u=wt(Mo),p=R.T,y=q.p;try{q.p=32>u?32:u,R.T=null,u=jg,jg=null;var N=xi,P=Mo;if(Dn=0,Oo=xi=null,Mo=0,(jt&6)!==0)throw Error(r(331));var I=jt;if(jt|=4,V4(N.current),B4(N,N.current,P,u),jt=I,Mu(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Ht,N)}catch{}return!0}finally{q.p=y,R.T=p,s_(s,o)}}function l_(s,o,u){o=qr(u,o),o=tg(s.stateNode,o,2),s=ii(s,o,2),s!==null&&(ae(s,2),Ua(s))}function Pt(s,o,u){if(s.tag===3)l_(s,s,u);else for(;o!==null;){if(o.tag===3){l_(o,s,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(pi===null||!pi.has(p))){s=qr(u,s),u=d4(2),p=ii(o,u,2),p!==null&&(f4(u,p,o,s),ae(p,2),Ua(p));break}}o=o.return}}function kg(s,o,u){var p=s.pingCache;if(p===null){p=s.pingCache=new L7;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(u)||(gg=!0,y.add(u),s=U7.bind(null,s,o,u),o.then(s,s))}function U7(s,o,u){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Rt===s&&(dt&u)===u&&(en===4||en===3&&(dt&62914560)===dt&&300>ue()-bg?(jt&2)===0&&Do(s,0):vg|=u,Po===dt&&(Po=0)),Ua(s)}function o_(s,o){o===0&&(o=Q()),s=xo(s,o),s!==null&&(ae(s,o),Ua(s))}function F7(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),o_(s,u)}function V7(s,o){var u=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),o_(s,u)}function H7(s,o){return Oe(s,o)}var Cm=null,Lo=null,Ag=!1,km=!1,Eg=!1,xl=0;function Ua(s){s!==Lo&&s.next===null&&(Lo===null?Cm=Lo=s:Lo=Lo.next=s),km=!0,Ag||(Ag=!0,K7())}function Mu(s,o){if(!Eg&&km){Eg=!0;do for(var u=!1,p=Cm;p!==null;){if(s!==0){var y=p.pendingLanes;if(y===0)var N=0;else{var P=p.suspendedLanes,I=p.pingedLanes;N=(1<<31-mt(42|s)+1)-1,N&=y&~(P&~I),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,f_(p,N))}else N=dt,N=Xn(p,p===Rt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||lr(p,N)||(u=!0,f_(p,N));p=p.next}while(u);Eg=!1}}function q7(){c_()}function c_(){km=Ag=!1;var s=0;xl!==0&&(e$()&&(s=xl),xl=0);for(var o=ue(),u=null,p=Cm;p!==null;){var y=p.next,N=u_(p,o);N===0?(p.next=null,u===null?Cm=y:u.next=y,y===null&&(Lo=u)):(u=p,(s!==0||(N&3)!==0)&&(km=!0)),p=y}Mu(s)}function u_(s,o){for(var u=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var P=31-mt(N),I=1<<P,J=y[P];J===-1?((I&u)===0||(I&p)!==0)&&(y[P]=Js(I,o)):J<=o&&(s.expiredLanes|=I),N&=~I}if(o=Rt,u=dt,u=Xn(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,u===0||s===o&&(Nt===2||Nt===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Be(p),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||lr(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(p!==null&&Be(p),wt(u)){case 2:case 8:u=Te;break;case 32:u=Ue;break;case 268435456:u=Je;break;default:u=Ue}return p=d_.bind(null,s),u=Oe(u,p),s.callbackPriority=o,s.callbackNode=u,o}return p!==null&&p!==null&&Be(p),s.callbackPriority=2,s.callbackNode=null,2}function d_(s,o){if(Dn!==0&&Dn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(_m()&&s.callbackNode!==u)return null;var p=dt;return p=Xn(s,s===Rt?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(G4(s,p,o),u_(s,ue()),s.callbackNode!=null&&s.callbackNode===u?d_.bind(null,s):null)}function f_(s,o){if(_m())return null;G4(s,o,!0)}function K7(){n$(function(){(jt&6)!==0?Oe(je,q7):c_()})}function Tg(){return xl===0&&(xl=de()),xl}function m_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:If(""+s)}function h_(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function G7(s,o,u,p,y){if(o==="submit"&&u&&u.stateNode===y){var N=m_((y[Zt]||null).action),P=p.submitter;P&&(o=(o=P[Zt]||null)?m_(o.formAction):P.getAttribute("formAction"),o!==null&&(N=o,P=null));var I=new Ff("action","action",null,p,y);s.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(xl!==0){var J=P?h_(y,P):new FormData(y);Xx(u,{pending:!0,data:J,method:y.method,action:N},null,J)}}else typeof N=="function"&&(I.preventDefault(),J=P?h_(y,P):new FormData(y),Xx(u,{pending:!0,data:J,method:y.method,action:N},N,J))},currentTarget:y}]})}}for(var Pg=0;Pg<px.length;Pg++){var Og=px[Pg],Y7=Og.toLowerCase(),W7=Og[0].toUpperCase()+Og.slice(1);xa(Y7,"on"+W7)}xa(GN,"onAnimationEnd"),xa(YN,"onAnimationIteration"),xa(WN,"onAnimationStart"),xa("dblclick","onDoubleClick"),xa("focusin","onFocus"),xa("focusout","onBlur"),xa(f7,"onTransitionRun"),xa(m7,"onTransitionStart"),xa(h7,"onTransitionCancel"),xa(XN,"onTransitionEnd"),Me("onMouseEnter",["mouseout","mouseover"]),Me("onMouseLeave",["mouseout","mouseover"]),Me("onPointerEnter",["pointerout","pointerover"]),Me("onPointerLeave",["pointerout","pointerover"]),Pe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function p_(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],y=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var P=p.length-1;0<=P;P--){var I=p[P],J=I.instance,fe=I.currentTarget;if(I=I.listener,J!==N&&y.isPropagationStopped())break e;N=I,y.currentTarget=fe;try{N(y)}catch(Se){hm(Se)}y.currentTarget=null,N=J}else for(P=0;P<p.length;P++){if(I=p[P],J=I.instance,fe=I.currentTarget,I=I.listener,J!==N&&y.isPropagationStopped())break e;N=I,y.currentTarget=fe;try{N(y)}catch(Se){hm(Se)}y.currentTarget=null,N=J}}}}function it(s,o){var u=o[ao];u===void 0&&(u=o[ao]=new Set);var p=s+"__bubble";u.has(p)||(x_(o,s,2,!1),u.add(p))}function Mg(s,o,u){var p=0;o&&(p|=4),x_(u,s,p,o)}var Am="_reactListening"+Math.random().toString(36).slice(2);function Dg(s){if(!s[Am]){s[Am]=!0,ke.forEach(function(u){u!=="selectionchange"&&(X7.has(u)||Mg(u,!1,s),Mg(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Am]||(o[Am]=!0,Mg("selectionchange",!1,o))}}function x_(s,o,u,p){switch(B_(o)){case 2:var y=N$;break;case 8:y=S$;break;default:y=Yg}u=y.bind(null,o,u,s),y=void 0,!nx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function Rg(s,o,u,p,y){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var I=p.stateNode.containerInfo;if(I===y)break;if(P===4)for(P=p.return;P!==null;){var J=P.tag;if((J===3||J===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;I!==null;){if(P=rs(I),P===null)return;if(J=P.tag,J===5||J===6||J===26||J===27){p=N=P;continue e}I=I.parentNode}}p=p.return}NN(function(){var fe=N,Se=ex(u),Ce=[];e:{var he=ZN.get(s);if(he!==void 0){var xe=Ff,Ye=s;switch(s){case"keypress":if(Bf(u)===0)break e;case"keydown":case"keyup":xe=HL;break;case"focusin":Ye="focus",xe=ix;break;case"focusout":Ye="blur",xe=ix;break;case"beforeblur":case"afterblur":xe=ix;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=CN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=OL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=GL;break;case GN:case YN:case WN:xe=RL;break;case XN:xe=WL;break;case"scroll":case"scrollend":xe=TL;break;case"wheel":xe=ZL;break;case"copy":case"cut":case"paste":xe=$L;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=AN;break;case"toggle":case"beforetoggle":xe=JL}var He=(o&4)!==0,Et=!He&&(s==="scroll"||s==="scrollend"),ie=He?he!==null?he+"Capture":null:he;He=[];for(var ne=fe,ce;ne!==null;){var _e=ne;if(ce=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ce===null||ie===null||(_e=Jc(ne,ie),_e!=null&&He.push(Ru(ne,_e,ce))),Et)break;ne=ne.return}0<He.length&&(he=new xe(he,Ye,null,u,Se),Ce.push({event:he,listeners:He}))}}if((o&7)===0){e:{if(he=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",he&&u!==Jp&&(Ye=u.relatedTarget||u.fromElement)&&(rs(Ye)||Ye[ns]))break e;if((xe||he)&&(he=Se.window===Se?Se:(he=Se.ownerDocument)?he.defaultView||he.parentWindow:window,xe?(Ye=u.relatedTarget||u.toElement,xe=fe,Ye=Ye?rs(Ye):null,Ye!==null&&(Et=l(Ye),He=Ye.tag,Ye!==Et||He!==5&&He!==27&&He!==6)&&(Ye=null)):(xe=null,Ye=fe),xe!==Ye)){if(He=CN,_e="onMouseLeave",ie="onMouseEnter",ne="mouse",(s==="pointerout"||s==="pointerover")&&(He=AN,_e="onPointerLeave",ie="onPointerEnter",ne="pointer"),Et=xe==null?he:ti(xe),ce=Ye==null?he:ti(Ye),he=new He(_e,ne+"leave",xe,u,Se),he.target=Et,he.relatedTarget=ce,_e=null,rs(Se)===fe&&(He=new He(ie,ne+"enter",Ye,u,Se),He.target=ce,He.relatedTarget=Et,_e=He),Et=_e,xe&&Ye)t:{for(He=xe,ie=Ye,ne=0,ce=He;ce;ce=$o(ce))ne++;for(ce=0,_e=ie;_e;_e=$o(_e))ce++;for(;0<ne-ce;)He=$o(He),ne--;for(;0<ce-ne;)ie=$o(ie),ce--;for(;ne--;){if(He===ie||ie!==null&&He===ie.alternate)break t;He=$o(He),ie=$o(ie)}He=null}else He=null;xe!==null&&g_(Ce,he,xe,He,!1),Ye!==null&&Et!==null&&g_(Ce,Et,Ye,He,!0)}}e:{if(he=fe?ti(fe):window,xe=he.nodeName&&he.nodeName.toLowerCase(),xe==="select"||xe==="input"&&he.type==="file")var Ie=LN;else if(DN(he))if($N)Ie=c7;else{Ie=l7;var rt=i7}else xe=he.nodeName,!xe||xe.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?fe&&Qp(fe.elementType)&&(Ie=LN):Ie=o7;if(Ie&&(Ie=Ie(s,fe))){RN(Ce,Ie,u,Se);break e}rt&&rt(s,he,fe),s==="focusout"&&fe&&he.type==="number"&&fe.memoizedProps.value!=null&&Zp(he,"number",he.value)}switch(rt=fe?ti(fe):window,s){case"focusin":(DN(rt)||rt.contentEditable==="true")&&(mo=rt,fx=fe,lu=null);break;case"focusout":lu=fx=mo=null;break;case"mousedown":mx=!0;break;case"contextmenu":case"mouseup":case"dragend":mx=!1,qN(Ce,u,Se);break;case"selectionchange":if(d7)break;case"keydown":case"keyup":qN(Ce,u,Se)}var Fe;if(ox)e:{switch(s){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else fo?ON(s,u)&&(Ke="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ke="onCompositionStart");Ke&&(EN&&u.locale!=="ko"&&(fo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&fo&&(Fe=SN()):(ni=Se,rx="value"in ni?ni.value:ni.textContent,fo=!0)),rt=Em(fe,Ke),0<rt.length&&(Ke=new kN(Ke,s,null,u,Se),Ce.push({event:Ke,listeners:rt}),Fe?Ke.data=Fe:(Fe=MN(u),Fe!==null&&(Ke.data=Fe)))),(Fe=t7?n7(s,u):r7(s,u))&&(Ke=Em(fe,"onBeforeInput"),0<Ke.length&&(rt=new kN("onBeforeInput","beforeinput",null,u,Se),Ce.push({event:rt,listeners:Ke}),rt.data=Fe)),G7(Ce,s,fe,u,Se)}p_(Ce,o)})}function Ru(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Em(s,o){for(var u=o+"Capture",p=[];s!==null;){var y=s,N=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||N===null||(y=Jc(s,u),y!=null&&p.unshift(Ru(s,y,N)),y=Jc(s,o),y!=null&&p.push(Ru(s,y,N))),s.tag===3)return p;s=s.return}return[]}function $o(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function g_(s,o,u,p,y){for(var N=o._reactName,P=[];u!==null&&u!==p;){var I=u,J=I.alternate,fe=I.stateNode;if(I=I.tag,J!==null&&J===p)break;I!==5&&I!==26&&I!==27||fe===null||(J=fe,y?(fe=Jc(u,N),fe!=null&&P.unshift(Ru(u,fe,J))):y||(fe=Jc(u,N),fe!=null&&P.push(Ru(u,fe,J)))),u=u.return}P.length!==0&&s.push({event:o,listeners:P})}var Z7=/\r\n?/g,Q7=/\u0000|\uFFFD/g;function v_(s){return(typeof s=="string"?s:""+s).replace(Z7,`
`).replace(Q7,"")}function y_(s,o){return o=v_(o),v_(s)===o}function Tm(){}function At(s,o,u,p,y,N){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||oo(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&oo(s,""+p);break;case"className":Rf(s,"class",p);break;case"tabIndex":Rf(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Rf(s,u,p);break;case"style":wN(s,p,N);break;case"data":if(o!=="object"){Rf(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=If(""+p),s.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(o!=="input"&&At(s,o,"name",y.name,y,null),At(s,o,"formEncType",y.formEncType,y,null),At(s,o,"formMethod",y.formMethod,y,null),At(s,o,"formTarget",y.formTarget,y,null)):(At(s,o,"encType",y.encType,y,null),At(s,o,"method",y.method,y,null),At(s,o,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=If(""+p),s.setAttribute(u,p);break;case"onClick":p!=null&&(s.onclick=Tm);break;case"onScroll":p!=null&&it("scroll",s);break;case"onScrollEnd":p!=null&&it("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}u=If(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""+p):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":p===!0?s.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,p):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(u,p):s.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(u):s.setAttribute(u,p);break;case"popover":it("beforetoggle",s),it("toggle",s),Df(s,"popover",p);break;case"xlinkActuate":is(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":is(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":is(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":is(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":is(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":is(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":is(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":is(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":is(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Df(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=AL.get(u)||u,Df(s,u,p))}}function Lg(s,o,u,p,y,N){switch(u){case"style":wN(s,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof p=="string"?oo(s,p):(typeof p=="number"||typeof p=="bigint")&&oo(s,""+p);break;case"onScroll":p!=null&&it("scroll",s);break;case"onScrollEnd":p!=null&&it("scrollend",s);break;case"onClick":p!=null&&(s.onclick=Tm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Le.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),N=s[Zt]||null,N=N!=null?N[u]:null,typeof N=="function"&&s.removeEventListener(o,N,y),typeof p=="function")){typeof N!="function"&&N!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,p,y);break e}u in s?s[u]=p:p===!0?s.setAttribute(u,""):Df(s,u,p)}}}function Rn(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",s),it("load",s);var p=!1,y=!1,N;for(N in u)if(u.hasOwnProperty(N)){var P=u[N];if(P!=null)switch(N){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(s,o,N,P,u,null)}}y&&At(s,o,"srcSet",u.srcSet,u,null),p&&At(s,o,"src",u.src,u,null);return;case"input":it("invalid",s);var I=N=P=y=null,J=null,fe=null;for(p in u)if(u.hasOwnProperty(p)){var Se=u[p];if(Se!=null)switch(p){case"name":y=Se;break;case"type":P=Se;break;case"checked":J=Se;break;case"defaultChecked":fe=Se;break;case"value":N=Se;break;case"defaultValue":I=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,o));break;default:At(s,o,p,Se,u,null)}}gN(s,N,I,J,fe,P,y,!1),Lf(s);return;case"select":it("invalid",s),p=P=N=null;for(y in u)if(u.hasOwnProperty(y)&&(I=u[y],I!=null))switch(y){case"value":N=I;break;case"defaultValue":P=I;break;case"multiple":p=I;default:At(s,o,y,I,u,null)}o=N,u=P,s.multiple=!!p,o!=null?lo(s,!!p,o,!1):u!=null&&lo(s,!!p,u,!0);return;case"textarea":it("invalid",s),N=y=p=null;for(P in u)if(u.hasOwnProperty(P)&&(I=u[P],I!=null))switch(P){case"value":p=I;break;case"defaultValue":y=I;break;case"children":N=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:At(s,o,P,I,u,null)}yN(s,p,y,N),Lf(s);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(p=u[J],p!=null))switch(J){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:At(s,o,J,p,u,null)}return;case"dialog":it("beforetoggle",s),it("toggle",s),it("cancel",s),it("close",s);break;case"iframe":case"object":it("load",s);break;case"video":case"audio":for(p=0;p<Du.length;p++)it(Du[p],s);break;case"image":it("error",s),it("load",s);break;case"details":it("toggle",s);break;case"embed":case"source":case"link":it("error",s),it("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in u)if(u.hasOwnProperty(fe)&&(p=u[fe],p!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(s,o,fe,p,u,null)}return;default:if(Qp(o)){for(Se in u)u.hasOwnProperty(Se)&&(p=u[Se],p!==void 0&&Lg(s,o,Se,p,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(p=u[I],p!=null&&At(s,o,I,p,u,null))}function J7(s,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,N=null,P=null,I=null,J=null,fe=null,Se=null;for(xe in u){var Ce=u[xe];if(u.hasOwnProperty(xe)&&Ce!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":J=Ce;default:p.hasOwnProperty(xe)||At(s,o,xe,null,p,Ce)}}for(var he in p){var xe=p[he];if(Ce=u[he],p.hasOwnProperty(he)&&(xe!=null||Ce!=null))switch(he){case"type":N=xe;break;case"name":y=xe;break;case"checked":fe=xe;break;case"defaultChecked":Se=xe;break;case"value":P=xe;break;case"defaultValue":I=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,o));break;default:xe!==Ce&&At(s,o,he,xe,p,Ce)}}Xp(s,P,I,J,fe,Se,N,y);return;case"select":xe=P=I=he=null;for(N in u)if(J=u[N],u.hasOwnProperty(N)&&J!=null)switch(N){case"value":break;case"multiple":xe=J;default:p.hasOwnProperty(N)||At(s,o,N,null,p,J)}for(y in p)if(N=p[y],J=u[y],p.hasOwnProperty(y)&&(N!=null||J!=null))switch(y){case"value":he=N;break;case"defaultValue":I=N;break;case"multiple":P=N;default:N!==J&&At(s,o,y,N,p,J)}o=I,u=P,p=xe,he!=null?lo(s,!!u,he,!1):!!p!=!!u&&(o!=null?lo(s,!!u,o,!0):lo(s,!!u,u?[]:"",!1));return;case"textarea":xe=he=null;for(I in u)if(y=u[I],u.hasOwnProperty(I)&&y!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:At(s,o,I,null,p,y)}for(P in p)if(y=p[P],N=u[P],p.hasOwnProperty(P)&&(y!=null||N!=null))switch(P){case"value":he=y;break;case"defaultValue":xe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==N&&At(s,o,P,y,p,N)}vN(s,he,xe);return;case"option":for(var Ye in u)if(he=u[Ye],u.hasOwnProperty(Ye)&&he!=null&&!p.hasOwnProperty(Ye))switch(Ye){case"selected":s.selected=!1;break;default:At(s,o,Ye,null,p,he)}for(J in p)if(he=p[J],xe=u[J],p.hasOwnProperty(J)&&he!==xe&&(he!=null||xe!=null))switch(J){case"selected":s.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:At(s,o,J,he,p,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in u)he=u[He],u.hasOwnProperty(He)&&he!=null&&!p.hasOwnProperty(He)&&At(s,o,He,null,p,he);for(fe in p)if(he=p[fe],xe=u[fe],p.hasOwnProperty(fe)&&he!==xe&&(he!=null||xe!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,o));break;default:At(s,o,fe,he,p,xe)}return;default:if(Qp(o)){for(var Et in u)he=u[Et],u.hasOwnProperty(Et)&&he!==void 0&&!p.hasOwnProperty(Et)&&Lg(s,o,Et,void 0,p,he);for(Se in p)he=p[Se],xe=u[Se],!p.hasOwnProperty(Se)||he===xe||he===void 0&&xe===void 0||Lg(s,o,Se,he,p,xe);return}}for(var ie in u)he=u[ie],u.hasOwnProperty(ie)&&he!=null&&!p.hasOwnProperty(ie)&&At(s,o,ie,null,p,he);for(Ce in p)he=p[Ce],xe=u[Ce],!p.hasOwnProperty(Ce)||he===xe||he==null&&xe==null||At(s,o,Ce,he,p,xe)}var $g=null,Ig=null;function Pm(s){return s.nodeType===9?s:s.ownerDocument}function b_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function zg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Bg=null;function e$(){var s=window.event;return s&&s.type==="popstate"?s===Bg?!1:(Bg=s,!0):(Bg=null,!1)}var j_=typeof setTimeout=="function"?setTimeout:void 0,t$=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,n$=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(s){return N_.resolve(null).then(s).catch(r$)}:j_;function r$(s){setTimeout(function(){throw s})}function vi(s){return s==="head"}function S_(s,o){var u=o,p=0,y=0;do{var N=u.nextSibling;if(s.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<p&&8>p){u=p;var P=s.ownerDocument;if(u&1&&Lu(P.documentElement),u&2&&Lu(P.body),u&4)for(u=P.head,Lu(u),P=u.firstChild;P;){var I=P.nextSibling,J=P.nodeName;P[ei]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&P.rel.toLowerCase()==="stylesheet"||u.removeChild(P),P=I}}if(y===0){s.removeChild(N),Hu(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:p=u.charCodeAt(0)-48;else p=0;u=N}while(u);Hu(o)}function Ug(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ug(u),so(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function a$(s,o,u,p){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[ei])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var N=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=va(s.nextSibling),s===null)break}return null}function s$(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=va(s.nextSibling),s===null))return null;return s}function Fg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function i$(s,o){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function va(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Vg=null;function __(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}function C_(s,o,u){switch(o=Pm(u),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Lu(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);so(s)}var Zr=new Map,k_=new Set;function Om(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var bs=q.d;q.d={f:l$,r:o$,D:c$,C:u$,L:d$,m:f$,X:h$,S:m$,M:p$};function l$(){var s=bs.f(),o=Nm();return s||o}function o$(s){var o=as(s);o!==null&&o.tag===5&&o.type==="form"?GS(o):bs.r(s)}var Io=typeof document>"u"?null:document;function A_(s,o,u){var p=Io;if(p&&typeof o=="string"&&o){var y=Hr(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),k_.has(y)||(k_.add(y),s={rel:s,crossOrigin:u,href:o},p.querySelector(y)===null&&(o=p.createElement("link"),Rn(o,"link",s),le(o),p.head.appendChild(o)))}}function c$(s){bs.D(s),A_("dns-prefetch",s,null)}function u$(s,o){bs.C(s,o),A_("preconnect",s,o)}function d$(s,o,u){bs.L(s,o,u);var p=Io;if(p&&s&&o){var y='link[rel="preload"][as="'+Hr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Hr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Hr(u.imageSizes)+'"]')):y+='[href="'+Hr(s)+'"]';var N=y;switch(o){case"style":N=zo(s);break;case"script":N=Bo(s)}Zr.has(N)||(s=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),Zr.set(N,s),p.querySelector(y)!==null||o==="style"&&p.querySelector($u(N))||o==="script"&&p.querySelector(Iu(N))||(o=p.createElement("link"),Rn(o,"link",s),le(o),p.head.appendChild(o)))}}function f$(s,o){bs.m(s,o);var u=Io;if(u&&s){var p=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Hr(p)+'"][href="'+Hr(s)+'"]',N=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Bo(s)}if(!Zr.has(N)&&(s=h({rel:"modulepreload",href:s},o),Zr.set(N,s),u.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Iu(N)))return}p=u.createElement("link"),Rn(p,"link",s),le(p),u.head.appendChild(p)}}}function m$(s,o,u){bs.S(s,o,u);var p=Io;if(p&&s){var y=ss(p).hoistableStyles,N=zo(s);o=o||"default";var P=y.get(N);if(!P){var I={loading:0,preload:null};if(P=p.querySelector($u(N)))I.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":o},u),(u=Zr.get(N))&&Hg(s,u);var J=P=p.createElement("link");le(J),Rn(J,"link",s),J._p=new Promise(function(fe,Se){J.onload=fe,J.onerror=Se}),J.addEventListener("load",function(){I.loading|=1}),J.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Mm(P,o,p)}P={type:"stylesheet",instance:P,count:1,state:I},y.set(N,P)}}}function h$(s,o){bs.X(s,o);var u=Io;if(u&&s){var p=ss(u).hoistableScripts,y=Bo(s),N=p.get(y);N||(N=u.querySelector(Iu(y)),N||(s=h({src:s,async:!0},o),(o=Zr.get(y))&&qg(s,o),N=u.createElement("script"),le(N),Rn(N,"link",s),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function p$(s,o){bs.M(s,o);var u=Io;if(u&&s){var p=ss(u).hoistableScripts,y=Bo(s),N=p.get(y);N||(N=u.querySelector(Iu(y)),N||(s=h({src:s,async:!0,type:"module"},o),(o=Zr.get(y))&&qg(s,o),N=u.createElement("script"),le(N),Rn(N,"link",s),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(y,N))}}function E_(s,o,u,p){var y=(y=Y.current)?Om(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=zo(u.href),u=ss(y).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=zo(u.href);var N=ss(y).hoistableStyles,P=N.get(s);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,P),(N=y.querySelector($u(s)))&&!N._p&&(P.instance=N,P.state.loading=5),Zr.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Zr.set(s,u),N||x$(y,s,u,P.state))),o&&p===null)throw Error(r(528,""));return P}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Bo(u),u=ss(y).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function zo(s){return'href="'+Hr(s)+'"'}function $u(s){return'link[rel="stylesheet"]['+s+"]"}function T_(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function x$(s,o,u,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Rn(o,"link",u),le(o),s.head.appendChild(o))}function Bo(s){return'[src="'+Hr(s)+'"]'}function Iu(s){return"script[async]"+s}function P_(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+Hr(u.href)+'"]');if(p)return o.instance=p,le(p),p;var y=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),le(p),Rn(p,"style",y),Mm(p,u.precedence,s),o.instance=p;case"stylesheet":y=zo(u.href);var N=s.querySelector($u(y));if(N)return o.state.loading|=4,o.instance=N,le(N),N;p=T_(u),(y=Zr.get(y))&&Hg(p,y),N=(s.ownerDocument||s).createElement("link"),le(N);var P=N;return P._p=new Promise(function(I,J){P.onload=I,P.onerror=J}),Rn(N,"link",p),o.state.loading|=4,Mm(N,u.precedence,s),o.instance=N;case"script":return N=Bo(u.src),(y=s.querySelector(Iu(N)))?(o.instance=y,le(y),y):(p=u,(y=Zr.get(N))&&(p=h({},u),qg(p,y)),s=s.ownerDocument||s,y=s.createElement("script"),le(y),Rn(y,"link",p),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Mm(p,u.precedence,s));return o.instance}function Mm(s,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,N=y,P=0;P<p.length;P++){var I=p[P];if(I.dataset.precedence===o)N=I;else if(N!==y)break}N?N.parentNode.insertBefore(s,N.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function Hg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function qg(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Dm=null;function O_(s,o,u){if(Dm===null){var p=new Map,y=Dm=new Map;y.set(u,p)}else y=Dm,p=y.get(u),p||(p=new Map,y.set(u,p));if(p.has(s))return p;for(p.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var N=u[y];if(!(N[ei]||N[yt]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var P=N.getAttribute(o)||"";P=s+P;var I=p.get(P);I?I.push(N):p.set(P,[N])}}return p}function M_(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function g$(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function D_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var zu=null;function v$(){}function y$(s,o,u){if(zu===null)throw Error(r(475));var p=zu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=zo(u.href),N=s.querySelector($u(y));if(N){s=N._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(p.count++,p=Rm.bind(p),s.then(p,p)),o.state.loading|=4,o.instance=N,le(N);return}N=s.ownerDocument||s,u=T_(u),(y=Zr.get(y))&&Hg(u,y),N=N.createElement("link"),le(N);var P=N;P._p=new Promise(function(I,J){P.onload=I,P.onerror=J}),Rn(N,"link",u),o.instance=N}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=Rm.bind(p),s.addEventListener("load",o),s.addEventListener("error",o))}}function b$(){if(zu===null)throw Error(r(475));var s=zu;return s.stylesheets&&s.count===0&&Kg(s,s.stylesheets),0<s.count?function(o){var u=setTimeout(function(){if(s.stylesheets&&Kg(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Rm(){if(this.count--,this.count===0){if(this.stylesheets)Kg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Lm=null;function Kg(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Lm=new Map,o.forEach(w$,s),Lm=null,Rm.call(s))}function w$(s,o){if(!(o.state.loading&4)){var u=Lm.get(s);if(u)var p=u.get(null);else{u=new Map,Lm.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<y.length;N++){var P=y[N];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(u.set(P.dataset.precedence,P),p=P)}p&&u.set(null,p)}y=o.instance,P=y.getAttribute("data-precedence"),N=u.get(P)||p,N===p&&u.set(null,y),u.set(P,y),this.count++,p=Rm.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),N?N.parentNode.insertBefore(y,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var Bu={$$typeof:k,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function j$(s,o,u,p,y,N,P,I){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ee(0),this.hiddenUpdates=ee(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=N,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function R_(s,o,u,p,y,N,P,I,J,fe,Se,Ce){return s=new j$(s,o,u,P,I,J,fe,Ce),o=1,N===!0&&(o|=24),N=br(3,null,null,o),s.current=N,N.stateNode=s,o=kx(),o.refCount++,s.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:u,cache:o},Px(N),s}function L_(s){return s?(s=go,s):go}function $_(s,o,u,p,y,N){y=L_(y),p.context===null?p.context=y:p.pendingContext=y,p=si(o),p.payload={element:u},N=N===void 0?null:N,N!==null&&(p.callback=N),u=ii(s,p,o),u!==null&&(_r(u,s,o),xu(u,s,o))}function I_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Gg(s,o){I_(s,o),(s=s.alternate)&&I_(s,o)}function z_(s){if(s.tag===13){var o=xo(s,67108864);o!==null&&_r(o,s,67108864),Gg(s,67108864)}}var $m=!0;function N$(s,o,u,p){var y=R.T;R.T=null;var N=q.p;try{q.p=2,Yg(s,o,u,p)}finally{q.p=N,R.T=y}}function S$(s,o,u,p){var y=R.T;R.T=null;var N=q.p;try{q.p=8,Yg(s,o,u,p)}finally{q.p=N,R.T=y}}function Yg(s,o,u,p){if($m){var y=Wg(p);if(y===null)Rg(s,o,p,Im,u),U_(s,p);else if(C$(y,s,o,u,p))p.stopPropagation();else if(U_(s,p),o&4&&-1<_$.indexOf(s)){for(;y!==null;){var N=as(y);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var P=Wn(N.pendingLanes);if(P!==0){var I=N;for(I.pendingLanes|=2,I.entangledLanes|=2;P;){var J=1<<31-mt(P);I.entanglements[1]|=J,P&=~J}Ua(N),(jt&6)===0&&(wm=ue()+500,Mu(0))}}break;case 13:I=xo(N,2),I!==null&&_r(I,N,2),Nm(),Gg(N,2)}if(N=Wg(p),N===null&&Rg(s,o,p,Im,u),N===y)break;y=N}y!==null&&p.stopPropagation()}else Rg(s,o,p,null,u)}}function Wg(s){return s=ex(s),Xg(s)}var Im=null;function Xg(s){if(Im=null,s=rs(s),s!==null){var o=l(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=c(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Im=s,null}function B_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Z()){case je:return 2;case Te:return 8;case Ue:case Ae:return 32;case Je:return 268435456;default:return 32}default:return 32}}var Zg=!1,yi=null,bi=null,wi=null,Uu=new Map,Fu=new Map,ji=[],_$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(s,o){switch(s){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Uu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(o.pointerId)}}function Vu(s,o,u,p,y,N){return s===null||s.nativeEvent!==N?(s={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:N,targetContainers:[y]},o!==null&&(o=as(o),o!==null&&z_(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function C$(s,o,u,p,y){switch(o){case"focusin":return yi=Vu(yi,s,o,u,p,y),!0;case"dragenter":return bi=Vu(bi,s,o,u,p,y),!0;case"mouseover":return wi=Vu(wi,s,o,u,p,y),!0;case"pointerover":var N=y.pointerId;return Uu.set(N,Vu(Uu.get(N)||null,s,o,u,p,y)),!0;case"gotpointercapture":return N=y.pointerId,Fu.set(N,Vu(Fu.get(N)||null,s,o,u,p,y)),!0}return!1}function F_(s){var o=rs(s.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){s.blockedOn=o,pa(s.priority,function(){if(u.tag===13){var p=Sr();p=Qe(p);var y=xo(u,p);y!==null&&_r(y,u,p),Gg(u,p)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function zm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Wg(s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Jp=p,u.target.dispatchEvent(p),Jp=null}else return o=as(u),o!==null&&z_(o),s.blockedOn=u,!1;o.shift()}return!0}function V_(s,o,u){zm(s)&&u.delete(o)}function k$(){Zg=!1,yi!==null&&zm(yi)&&(yi=null),bi!==null&&zm(bi)&&(bi=null),wi!==null&&zm(wi)&&(wi=null),Uu.forEach(V_),Fu.forEach(V_)}function Bm(s,o){s.blockedOn===o&&(s.blockedOn=null,Zg||(Zg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,k$)))}var Um=null;function H_(s){Um!==s&&(Um=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Um===s&&(Um=null);for(var o=0;o<s.length;o+=3){var u=s[o],p=s[o+1],y=s[o+2];if(typeof p!="function"){if(Xg(p||u)===null)continue;break}var N=as(u);N!==null&&(s.splice(o,3),o-=3,Xx(N,{pending:!0,data:y,method:u.method,action:p},p,y))}}))}function Hu(s){function o(J){return Bm(J,s)}yi!==null&&Bm(yi,s),bi!==null&&Bm(bi,s),wi!==null&&Bm(wi,s),Uu.forEach(o),Fu.forEach(o);for(var u=0;u<ji.length;u++){var p=ji[u];p.blockedOn===s&&(p.blockedOn=null)}for(;0<ji.length&&(u=ji[0],u.blockedOn===null);)F_(u),u.blockedOn===null&&ji.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var y=u[p],N=u[p+1],P=y[Zt]||null;if(typeof N=="function")P||H_(u);else if(P){var I=null;if(N&&N.hasAttribute("formAction")){if(y=N,P=N[Zt]||null)I=P.formAction;else if(Xg(y)!==null)continue}else I=P.action;typeof I=="function"?u[p+1]=I:(u.splice(p,3),p-=3),H_(u)}}}function Qg(s){this._internalRoot=s}Fm.prototype.render=Qg.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=Sr();$_(u,p,s,o,null,null)},Fm.prototype.unmount=Qg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;$_(s.current,2,null,s,null,null),Nm(),o[ns]=null}};function Fm(s){this._internalRoot=s}Fm.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ct();s={blockedOn:null,target:s,priority:o};for(var u=0;u<ji.length&&o!==0&&o<ji[u].priority;u++);ji.splice(u,0,s),u===0&&F_(s)}};var q_=t.version;if(q_!=="19.1.0")throw Error(r(527,q_,"19.1.0"));q.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var A$={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{Ht=Vm.inject(A$),It=Vm}catch{}}return Ku.createRoot=function(s,o){if(!i(s))throw Error(r(299));var u=!1,p="",y=l4,N=o4,P=c4,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks)),o=R_(s,1,!1,null,null,u,p,y,N,P,I,null),s[ns]=o.current,Dg(s),new Qg(o)},Ku.hydrateRoot=function(s,o,u){if(!i(s))throw Error(r(299));var p=!1,y="",N=l4,P=o4,I=c4,J=null,fe=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(J=u.unstable_transitionCallbacks),u.formState!==void 0&&(fe=u.formState)),o=R_(s,1,!0,o,u??null,p,y,N,P,I,J,fe),o.context=L_(null),u=o.current,p=Sr(),p=Qe(p),y=si(p),y.callback=null,ii(u,y,p),u=p,o.current.lanes=u,ae(o,u),Ua(o),s[ns]=o.current,Dg(s),new Fm(o)},Ku.version="19.1.0",Ku}var t5;function U$(){if(t5)return nv.exports;t5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nv.exports=B$(),nv.exports}var F$=U$();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var n5="popstate";function V$(e={}){function t(r,i){let{pathname:l,search:c,hash:d}=r.location;return Vb("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rd(i)}return q$(t,n,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ea(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H$(){return Math.random().toString(36).substring(2,10)}function r5(e,t){return{usr:e.state,key:e.key,idx:t}}function Vb(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Oc(t):t,state:n,key:t&&t.key||r||H$()}}function Rd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Oc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function q$(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,c=i.history,d="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function x(){d="POP";let S=h(),_=S==null?null:S-m;m=S,f&&f({action:d,location:j.location,delta:_})}function g(S,_){d="PUSH";let C=Vb(j.location,S,_);m=h()+1;let k=r5(C,m),O=j.createHref(C);try{c.pushState(k,"",O)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(O)}l&&f&&f({action:d,location:j.location,delta:1})}function b(S,_){d="REPLACE";let C=Vb(j.location,S,_);m=h();let k=r5(C,m),O=j.createHref(C);c.replaceState(k,"",O),l&&f&&f({action:d,location:j.location,delta:0})}function w(S){return K$(S)}let j={get action(){return d},get location(){return e(i,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(n5,x),f=S,()=>{i.removeEventListener(n5,x),f=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let _=w(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:b,go(S){return c.go(S)}};return j}function K$(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Rd(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function n6(e,t,n="/"){return G$(e,t,n,!1)}function G$(e,t,n,r){let i=typeof t=="string"?Oc(t):t,l=Ms(i.pathname||"/",n);if(l==null)return null;let c=r6(e);Y$(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=s9(l);d=r9(c[f],m,r)}return d}function r6(e,t=[],n=[],r=""){let i=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Wt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=As([r,f.relativePath]),h=n.concat(f);l.children&&l.children.length>0&&(Wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),r6(l.children,t,h,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:t9(m,l.index),routesMeta:h})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,c);else for(let f of a6(l.path))i(l,c,f)}),t}function a6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let c=a6(r.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function Y$(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:n9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var W$=/^:[\w-]+$/,X$=3,Z$=2,Q$=1,J$=10,e9=-2,a5=e=>e==="*";function t9(e,t){let n=e.split("/"),r=n.length;return n.some(a5)&&(r+=e9),t&&(r+=Z$),n.filter(i=>!a5(i)).reduce((i,l)=>i+(W$.test(l)?X$:l===""?Q$:J$),r)}function n9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function r9(e,t,n=!1){let{routesMeta:r}=e,i={},l="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,h=l==="/"?t:t.slice(l.length)||"/",x=Jh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),g=f.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=Jh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:As([l,x.pathname]),pathnameBase:c9(As([l,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(l=As([l,x.pathnameBase]))}return c}function Jh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=a9(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,{paramName:h,isOptional:x},g)=>{if(h==="*"){let w=d[g]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[g];return x&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function a9(e,t=!1,n=!0){Ea(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function s9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ea(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ms(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function i9(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Oc(e):e;return{pathname:n?n.startsWith("/")?n:l9(n,t):t,search:u9(r),hash:d9(i)}}function l9(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function iv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o9(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vw(e){let t=o9(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function yw(e,t,n,r=!1){let i;typeof e=="string"?i=Oc(e):(i={...e},Wt(!i.pathname||!i.pathname.includes("?"),iv("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),iv("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),iv("#","search","hash",i)));let l=e===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=n;else{let x=t.length-1;if(!r&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),x-=1;i.pathname=g.join("/")}d=x>=0?t[x]:"/"}let f=i9(i,d),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var As=e=>e.join("/").replace(/\/\/+/g,"/"),c9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var s6=["POST","PUT","PATCH","DELETE"];new Set(s6);var m9=["GET",...s6];new Set(m9);var Mc=v.createContext(null);Mc.displayName="DataRouter";var X0=v.createContext(null);X0.displayName="DataRouterState";v.createContext(!1);var i6=v.createContext({isTransitioning:!1});i6.displayName="ViewTransition";var h9=v.createContext(new Map);h9.displayName="Fetchers";var p9=v.createContext(null);p9.displayName="Await";var Ma=v.createContext(null);Ma.displayName="Navigation";var sf=v.createContext(null);sf.displayName="Location";var ma=v.createContext({outlet:null,matches:[],isDataRoute:!1});ma.displayName="Route";var bw=v.createContext(null);bw.displayName="RouteError";function x9(e,{relative:t}={}){Wt(Dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Ma),{hash:i,pathname:l,search:c}=of(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:As([n,l])),r.createHref({pathname:d,search:c,hash:i})}function Dc(){return v.useContext(sf)!=null}function ts(){return Wt(Dc(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(sf).location}var l6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o6(e){v.useContext(Ma).static||v.useLayoutEffect(e)}function Vt(){let{isDataRoute:e}=v.useContext(ma);return e?P9():g9()}function g9(){Wt(Dc(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Mc),{basename:t,navigator:n}=v.useContext(Ma),{matches:r}=v.useContext(ma),{pathname:i}=ts(),l=JSON.stringify(vw(r)),c=v.useRef(!1);return o6(()=>{c.current=!0}),v.useCallback((f,m={})=>{if(Ea(c.current,l6),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=yw(f,JSON.parse(l),i,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:As([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,l,i,e])}var v9=v.createContext(null);function y9(e){let t=v.useContext(ma).outlet;return t&&v.createElement(v9.Provider,{value:e},t)}function lf(){let{matches:e}=v.useContext(ma),t=e[e.length-1];return t?t.params:{}}function of(e,{relative:t}={}){let{matches:n}=v.useContext(ma),{pathname:r}=ts(),i=JSON.stringify(vw(n));return v.useMemo(()=>yw(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function b9(e,t){return c6(e,t)}function c6(e,t,n,r){var _;Wt(Dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(Ma),{matches:l}=v.useContext(ma),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",h=c&&c.route;{let C=h&&h.path||"";u6(f,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let x=ts(),g;if(t){let C=typeof t=="string"?Oc(t):t;Wt(m==="/"||((_=C.pathname)==null?void 0:_.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),g=C}else g=x;let b=g.pathname||"/",w=b;if(m!=="/"){let C=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=n6(e,{pathname:w});Ea(h||j!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ea(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=_9(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:As([m,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:As([m,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,r);return t&&S?v.createElement(sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function w9(){let e=T9(),t=f9(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,c)}var j9=v.createElement(w9,null),N9=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(ma.Provider,{value:this.props.routeContext},v.createElement(bw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S9({routeContext:e,match:t,children:n}){let r=v.useContext(Mc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(ma.Provider,{value:e},n)}function _9(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=n==null?void 0:n.errors;if(l!=null){let f=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Wt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:h,errors:x}=n,g=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,m,h)=>{let x,g=!1,b=null,w=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||j9,c&&(d<0&&h===0?(u6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):d===h&&(g=!0,w=m.route.hydrateFallbackElement||null)));let j=t.concat(i.slice(0,h+1)),S=()=>{let _;return x?_=b:g?_=w:m.route.Component?_=v.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,v.createElement(S9,{match:m,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?v.createElement(N9,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):S()},null)}function ww(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C9(e){let t=v.useContext(Mc);return Wt(t,ww(e)),t}function k9(e){let t=v.useContext(X0);return Wt(t,ww(e)),t}function A9(e){let t=v.useContext(ma);return Wt(t,ww(e)),t}function jw(e){let t=A9(e),n=t.matches[t.matches.length-1];return Wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function E9(){return jw("useRouteId")}function T9(){var r;let e=v.useContext(bw),t=k9("useRouteError"),n=jw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function P9(){let{router:e}=C9("useNavigate"),t=jw("useNavigate"),n=v.useRef(!1);return o6(()=>{n.current=!0}),v.useCallback(async(i,l={})=>{Ea(n.current,l6),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var s5={};function u6(e,t,n){!t&&!s5[e]&&(s5[e]=!0,Ea(!1,n))}v.memo(O9);function O9({routes:e,future:t,state:n}){return c6(e,void 0,n,t)}function M9({to:e,replace:t,state:n,relative:r}){Wt(Dc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext(Ma);Ea(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=v.useContext(ma),{pathname:c}=ts(),d=Vt(),f=yw(e,vw(l),c,r==="path"),m=JSON.stringify(f);return v.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:r})},[d,m,r,t,n]),null}function d6(e){return y9(e.context)}function ct(e){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D9({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:l=!1}){Wt(!Dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);typeof n=="string"&&(n=Oc(n));let{pathname:f="/",search:m="",hash:h="",state:x=null,key:g="default"}=n,b=v.useMemo(()=>{let w=Ms(f,c);return w==null?null:{location:{pathname:w,search:m,hash:h,state:x,key:g},navigationType:r}},[c,f,m,h,x,g,r]);return Ea(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:v.createElement(Ma.Provider,{value:d},v.createElement(sf.Provider,{children:t,value:b}))}function R9({children:e,location:t}){return b9(Hb(e),t)}function Hb(e,t=[]){let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let l=[...t,i];if(r.type===v.Fragment){n.push.apply(n,Hb(r.props.children,l));return}Wt(r.type===ct,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Hb(r.props.children,l)),n.push(c)}),n}var zh="get",Bh="application/x-www-form-urlencoded";function Z0(e){return e!=null&&typeof e.tagName=="string"}function L9(e){return Z0(e)&&e.tagName.toLowerCase()==="button"}function $9(e){return Z0(e)&&e.tagName.toLowerCase()==="form"}function I9(e){return Z0(e)&&e.tagName.toLowerCase()==="input"}function z9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function B9(e,t){return e.button===0&&(!t||t==="_self")&&!z9(e)}var Hm=null;function U9(){if(Hm===null)try{new FormData(document.createElement("form"),0),Hm=!1}catch{Hm=!0}return Hm}var F9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lv(e){return e!=null&&!F9.has(e)?(Ea(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):e}function V9(e,t){let n,r,i,l,c;if($9(e)){let d=e.getAttribute("action");r=d?Ms(d,t):null,n=e.getAttribute("method")||zh,i=lv(e.getAttribute("enctype"))||Bh,l=new FormData(e)}else if(L9(e)||I9(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ms(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||zh,i=lv(e.getAttribute("formenctype"))||lv(d.getAttribute("enctype"))||Bh,l=new FormData(d,e),!U9()){let{name:m,type:h,value:x}=e;if(h==="image"){let g=m?`${m}.`:"";l.append(`${g}x`,"0"),l.append(`${g}y`,"0")}else m&&l.append(m,x)}}else{if(Z0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zh,r=null,i=Bh,c=e}return l&&i==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function H9(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ms(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function q9(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K9(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function G9(e,t,n){let r=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let c=await q9(l,n);return c.links?c.links():[]}return[]}));return Z9(r.flat(1).filter(K9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function i5(e,t,n,r,i,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var h;return n[m].pathname!==f.pathname||((h=n[m].route.path)==null?void 0:h.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?t.filter((f,m)=>{var x;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Y9(e,t,{includeHydrateFallback:n}={}){return W9(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function W9(e){return[...new Set(e)]}function X9(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Z9(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let l=JSON.stringify(X9(i));return n.has(l)||(n.add(l),r.push({key:l,link:i})),r},[])}function f6(){let e=v.useContext(Mc);return Nw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Q9(){let e=v.useContext(X0);return Nw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sw=v.createContext(void 0);Sw.displayName="FrameworkContext";function m6(){let e=v.useContext(Sw);return Nw(e,"You must render this element inside a <HydratedRouter> element"),e}function J9(e,t){let n=v.useContext(Sw),[r,i]=v.useState(!1),[l,c]=v.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:x}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=_=>{_.forEach(C=>{c(C.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),v.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),c(!1)};return n?e!=="intent"?[l,g,{}]:[l,g,{onFocus:Gu(d,b),onBlur:Gu(f,w),onMouseEnter:Gu(m,b),onMouseLeave:Gu(h,w),onTouchStart:Gu(x,b)}]:[!1,g,{}]}function Gu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function eI({page:e,...t}){let{router:n}=f6(),r=v.useMemo(()=>n6(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(nI,{page:e,matches:r,...t}):null}function tI(e){let{manifest:t,routeModules:n}=m6(),[r,i]=v.useState([]);return v.useEffect(()=>{let l=!1;return G9(e,t,n).then(c=>{l||i(c)}),()=>{l=!0}},[e,t,n]),r}function nI({page:e,matches:t,...n}){let r=ts(),{manifest:i,routeModules:l}=m6(),{basename:c}=f6(),{loaderData:d,matches:f}=Q9(),m=v.useMemo(()=>i5(e,t,f,i,r,"data"),[e,t,f,i,r]),h=v.useMemo(()=>i5(e,t,f,i,r,"assets"),[e,t,f,i,r]),x=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,j=!1;if(t.forEach(_=>{var k;let C=i.routes[_.route.id];!C||!C.hasLoader||(!m.some(O=>O.route.id===_.route.id)&&_.route.id in d&&((k=l[_.route.id])!=null&&k.shouldRevalidate)||C.hasClientLoader?j=!0:w.add(_.route.id))}),w.size===0)return[];let S=H9(e,c,"data");return j&&w.size>0&&S.searchParams.set("_routes",t.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[c,d,r,i,m,t,e,l]),g=v.useMemo(()=>Y9(h,i),[h,i]),b=tI(h);return v.createElement(v.Fragment,null,x.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:j})=>v.createElement("link",{key:w,...j})))}function rI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var h6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h6&&(window.__reactRouterVersion="7.7.1")}catch{}function aI({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=V$({window:n,v5Compat:!0}));let i=r.current,[l,c]=v.useState({action:i.action,location:i.location}),d=v.useCallback(f=>{v.startTransition(()=>c(f))},[c]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.createElement(D9,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i})}var p6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x6=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:h,viewTransition:x,...g},b){let{basename:w}=v.useContext(Ma),j=typeof m=="string"&&p6.test(m),S,_=!1;if(typeof m=="string"&&j&&(S=m,h6))try{let F=new URL(window.location.href),G=m.startsWith("//")?new URL(F.protocol+m):new URL(m),V=Ms(G.pathname,w);G.origin===F.origin&&V!=null?m=V+G.search+G.hash:_=!0}catch{Ea(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=x9(m,{relative:i}),[k,O,A]=J9(r,g),E=oI(m,{replace:c,state:d,target:f,preventScrollReset:h,relative:i,viewTransition:x});function $(F){t&&t(F),F.defaultPrevented||E(F)}let M=v.createElement("a",{...g,...A,href:S||C,onClick:_||l?t:$,ref:rI(b,O),target:f,"data-discover":!j&&n==="render"?"true":void 0});return k&&!j?v.createElement(v.Fragment,null,M,v.createElement(eI,{page:C})):M});x6.displayName="Link";var sI=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:c,viewTransition:d,children:f,...m},h){let x=of(c,{relative:m.relative}),g=ts(),b=v.useContext(X0),{navigator:w,basename:j}=v.useContext(Ma),S=b!=null&&mI(x)&&d===!0,_=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,C=g.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&j&&(k=Ms(k,j)||k);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=C===_||!i&&C.startsWith(_)&&C.charAt(O)==="/",E=k!=null&&(k===_||!i&&k.startsWith(_)&&k.charAt(_.length)==="/"),$={isActive:A,isPending:E,isTransitioning:S},M=A?t:void 0,F;typeof r=="function"?F=r($):F=[r,A?"active":null,E?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let G=typeof l=="function"?l($):l;return v.createElement(x6,{...m,"aria-current":M,className:F,ref:h,style:G,to:c,viewTransition:d},typeof f=="function"?f($):f)});sI.displayName="NavLink";var iI=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:l,method:c=zh,action:d,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:x,...g},b)=>{let w=dI(),j=fI(d,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&p6.test(d),C=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let O=k.nativeEvent.submitter,A=(O==null?void 0:O.getAttribute("formmethod"))||c;w(O||k.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:i,state:l,relative:m,preventScrollReset:h,viewTransition:x})};return v.createElement("form",{ref:b,method:S,action:j,onSubmit:r?f:C,...g,"data-discover":!_&&e==="render"?"true":void 0})});iI.displayName="Form";function lI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g6(e){let t=v.useContext(Mc);return Wt(t,lI(e)),t}function oI(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:c}={}){let d=Vt(),f=ts(),m=of(e,{relative:l});return v.useCallback(h=>{if(B9(h,t)){h.preventDefault();let x=n!==void 0?n:Rd(f)===Rd(m);d(e,{replace:x,state:r,preventScrollReset:i,relative:l,viewTransition:c})}},[f,d,m,n,r,t,e,i,l,c])}var cI=0,uI=()=>`__${String(++cI)}__`;function dI(){let{router:e}=g6("useSubmit"),{basename:t}=v.useContext(Ma),n=E9();return v.useCallback(async(r,i={})=>{let{action:l,method:c,encType:d,formData:f,body:m}=V9(r,t);if(i.navigate===!1){let h=i.fetcherKey||uI();await e.fetch(h,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function fI(e,{relative:t}={}){let{basename:n}=v.useContext(Ma),r=v.useContext(ma);Wt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...of(e||".",{relative:t})},c=ts();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(h=>h==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let h=d.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:As([n,l.pathname])),Rd(l)}function mI(e,{relative:t}={}){let n=v.useContext(i6);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=g6("useViewTransitionState"),i=of(e,{relative:t});if(!n.isTransitioning)return!1;let l=Ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jh(i.pathname,c)!=null||Jh(i.pathname,l)!=null}var hI=t6();function v6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=v6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=v6(e))&&(r&&(r+=" "),r+=t);return r}function pI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}pI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var cf=e=>typeof e=="number"&&!isNaN(e),Kl=e=>typeof e=="string",Ds=e=>typeof e=="function",xI=e=>Kl(e)||cf(e),qb=e=>Kl(e)||Ds(e)?e:null,gI=(e,t)=>e===!1||cf(e)&&e>0?e:t,Kb=e=>v.isValidElement(e)||Kl(e)||Ds(e)||cf(e);function vI(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function yI({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:l,position:c,preventExitTransition:d,done:f,nodeRef:m,isIn:h,playToast:x}){let g=n?`${e}--${c}`:e,b=n?`${t}--${c}`:t,w=v.useRef(0);return v.useLayoutEffect(()=>{let j=m.current,S=g.split(" "),_=C=>{C.target===m.current&&(x(),j.removeEventListener("animationend",_),j.removeEventListener("animationcancel",_),w.current===0&&C.type!=="animationcancel"&&j.classList.remove(...S))};j.classList.add(...S),j.addEventListener("animationend",_),j.addEventListener("animationcancel",_)},[]),v.useEffect(()=>{let j=m.current,S=()=>{j.removeEventListener("animationend",S),r?vI(j,f,i):f()};h||(d?S():(w.current=1,j.className+=` ${b}`,j.addEventListener("animationend",S)))},[h]),pt.createElement(pt.Fragment,null,l)}}function l5(e,t){return{content:y6(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function y6(e,t,n=!1){return v.isValidElement(e)&&!Kl(e.type)?v.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ds(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function bI({closeToast:e,theme:t,ariaLabel:n="close"}){return pt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},pt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function wI({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:l,controlledProgress:c,progress:d,rtl:f,isIn:m,theme:h}){let x=i||c&&d===0,g={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(g.transform=`scaleX(${d})`);let b=at("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),w=Ds(l)?l({rtl:f,type:r,defaultClassName:b}):at(b,l),j={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{m&&n()}};return pt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},pt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),pt.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:w,style:g,...j}))}var jI=1,b6=()=>`${jI++}`;function NI(e,t,n){let r=1,i=0,l=[],c=[],d=t,f=new Map,m=new Set,h=C=>(m.add(C),()=>m.delete(C)),x=()=>{c=Array.from(f.values()),m.forEach(C=>C())},g=({containerId:C,toastId:k,updateId:O})=>{let A=C?C!==e:e!==1,E=f.has(k)&&O==null;return A||E},b=(C,k)=>{f.forEach(O=>{var A;(k==null||k===O.props.toastId)&&((A=O.toggle)==null||A.call(O,C))})},w=C=>{var k,O;(O=(k=C.props)==null?void 0:k.onClose)==null||O.call(k,C.removalReason),C.isActive=!1},j=C=>{if(C==null)f.forEach(w);else{let k=f.get(C);k&&w(k)}x()},S=()=>{i-=l.length,l=[]},_=C=>{var k,O;let{toastId:A,updateId:E}=C.props,$=E==null;C.staleId&&f.delete(C.staleId),C.isActive=!0,f.set(A,C),x(),n(l5(C,$?"added":"updated")),$&&((O=(k=C.props).onOpen)==null||O.call(k))};return{id:e,props:d,observe:h,toggle:b,removeToast:j,toasts:f,clearQueue:S,buildToast:(C,k)=>{if(g(k))return;let{toastId:O,updateId:A,data:E,staleId:$,delay:M}=k,F=A==null;F&&i++;let G={...d,style:d.toastStyle,key:r++,...Object.fromEntries(Object.entries(k).filter(([U,te])=>te!=null)),toastId:O,updateId:A,data:E,isIn:!1,className:qb(k.className||d.toastClassName),progressClassName:qb(k.progressClassName||d.progressClassName),autoClose:k.isLoading?!1:gI(k.autoClose,d.autoClose),closeToast(U){f.get(O).removalReason=U,j(O)},deleteToast(){let U=f.get(O);if(U!=null){if(n(l5(U,"removed")),f.delete(O),i--,i<0&&(i=0),l.length>0){_(l.shift());return}x()}}};G.closeButton=d.closeButton,k.closeButton===!1||Kb(k.closeButton)?G.closeButton=k.closeButton:k.closeButton===!0&&(G.closeButton=Kb(d.closeButton)?d.closeButton:!0);let V={content:C,props:G,staleId:$};d.limit&&d.limit>0&&i>d.limit&&F?l.push(V):cf(M)?setTimeout(()=>{_(V)},M):_(V)},setProps(C){d=C},setToggle:(C,k)=>{let O=f.get(C);O&&(O.toggle=k)},isToastActive:C=>{var k;return(k=f.get(C))==null?void 0:k.isActive},getSnapshot:()=>c}}var er=new Map,Ld=[],Gb=new Set,SI=e=>Gb.forEach(t=>t(e)),w6=()=>er.size>0;function _I(){Ld.forEach(e=>N6(e.content,e.options)),Ld=[]}var CI=(e,{containerId:t})=>{var n;return(n=er.get(t||1))==null?void 0:n.toasts.get(e)};function j6(e,t){var n;if(t)return!!((n=er.get(t))!=null&&n.isToastActive(e));let r=!1;return er.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function kI(e){if(!w6()){Ld=Ld.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||xI(e))er.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=er.get(e.containerId);t?t.removeToast(e.id):er.forEach(n=>{n.removeToast(e.id)})}}var AI=(e={})=>{er.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function N6(e,t){Kb(e)&&(w6()||Ld.push({content:e,options:t}),er.forEach(n=>{n.buildToast(e,t)}))}function EI(e){var t;(t=er.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function S6(e,t){er.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function TI(e){let t=e.containerId||1;return{subscribe(n){let r=NI(t,e,SI);er.set(t,r);let i=r.observe(n);return _I(),()=>{i(),er.delete(t)}},setProps(n){var r;(r=er.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=er.get(t))==null?void 0:n.getSnapshot()}}}function PI(e){return Gb.add(e),()=>{Gb.delete(e)}}function OI(e){return e&&(Kl(e.toastId)||cf(e.toastId))?e.toastId:b6()}function uf(e,t){return N6(e,t),t.toastId}function Q0(e,t){return{...t,type:t&&t.type||e,toastId:OI(t)}}function J0(e){return(t,n)=>uf(t,Q0(e,n))}function W(e,t){return uf(e,Q0("default",t))}W.loading=(e,t)=>uf(e,Q0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function MI(e,{pending:t,error:n,success:r},i){let l;t&&(l=Kl(t)?W.loading(t,i):W.loading(t.render,{...i,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,h,x)=>{if(h==null){W.dismiss(l);return}let g={type:m,...c,...i,data:x},b=Kl(h)?{render:h}:h;return l?W.update(l,{...g,...b}):W(b.render,{...g,...b}),x},f=Ds(e)?e():e;return f.then(m=>d("success",r,m)).catch(m=>d("error",n,m)),f}W.promise=MI;W.success=J0("success");W.info=J0("info");W.error=J0("error");W.warning=J0("warning");W.warn=W.warning;W.dark=(e,t)=>uf(e,Q0("default",{theme:"dark",...t}));function DI(e){kI(e)}W.dismiss=DI;W.clearWaitingQueue=AI;W.isActive=j6;W.update=(e,t={})=>{let n=CI(e,t);if(n){let{props:r,content:i}=n,l={delay:100,...r,...t,toastId:t.toastId||e,updateId:b6()};l.toastId!==e&&(l.staleId=e);let c=l.render||i;delete l.render,uf(c,l)}};W.done=e=>{W.update(e,{progress:1})};W.onChange=PI;W.play=e=>S6(!0,e);W.pause=e=>S6(!1,e);function RI(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=v.useRef(TI(e)).current;i(e);let l=(t=v.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function c(d){if(!l)return[];let f=new Map;return e.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:h}=m.props;f.has(h)||f.set(h,[]),f.get(h).push(m)}),Array.from(f,m=>d(m[0],m[1]))}return{getToastToRender:c,isToastActive:j6,count:l==null?void 0:l.length}}function LI(e){let[t,n]=v.useState(!1),[r,i]=v.useState(!1),l=v.useRef(null),c=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:m,onClick:h,closeOnClick:x}=e;EI({id:e.toastId,containerId:e.containerId,fn:n}),v.useEffect(()=>{if(e.pauseOnFocusLoss)return g(),()=>{b()}},[e.pauseOnFocusLoss]);function g(){document.hasFocus()||_(),window.addEventListener("focus",S),window.addEventListener("blur",_)}function b(){window.removeEventListener("focus",S),window.removeEventListener("blur",_)}function w($){if(e.draggable===!0||e.draggable===$.pointerType){C();let M=l.current;c.canCloseOnClick=!0,c.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(c.start=$.clientX,c.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(c.start=$.clientY,c.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function j($){let{top:M,bottom:F,left:G,right:V}=l.current.getBoundingClientRect();$.nativeEvent.type!=="touchend"&&e.pauseOnHover&&$.clientX>=G&&$.clientX<=V&&$.clientY>=M&&$.clientY<=F?_():S()}function S(){n(!0)}function _(){n(!1)}function C(){c.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",A)}function k(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",A)}function O($){let M=l.current;if(c.canDrag&&M){c.didMove=!0,t&&_(),e.draggableDirection==="x"?c.delta=$.clientX-c.start:c.delta=$.clientY-c.start,c.start!==$.clientX&&(c.canCloseOnClick=!1);let F=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;M.style.transform=`translate3d(${F},0)`,M.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function A(){k();let $=l.current;if(c.canDrag&&c.didMove&&$){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}$.style.transition="transform 0.2s, opacity 0.2s",$.style.removeProperty("transform"),$.style.removeProperty("opacity")}}let E={onPointerDown:w,onPointerUp:j};return d&&f&&(E.onMouseEnter=_,e.stacked||(E.onMouseLeave=S)),x&&(E.onClick=$=>{h&&h($),c.canCloseOnClick&&m(!0)}),{playToast:S,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:l,eventHandlers:E}}var $I=typeof window<"u"?v.useLayoutEffect:v.useEffect,ep=({theme:e,type:t,isLoading:n,...r})=>pt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function II(e){return pt.createElement(ep,{...e},pt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function zI(e){return pt.createElement(ep,{...e},pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function BI(e){return pt.createElement(ep,{...e},pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function UI(e){return pt.createElement(ep,{...e},pt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function FI(){return pt.createElement("div",{className:"Toastify__spinner"})}var Yb={info:zI,warning:II,success:BI,error:UI,spinner:FI},VI=e=>e in Yb;function HI({theme:e,type:t,isLoading:n,icon:r}){let i=null,l={theme:e,type:t};return r===!1||(Ds(r)?i=r({...l,isLoading:n}):v.isValidElement(r)?i=v.cloneElement(r,l):n?i=Yb.spinner():VI(t)&&(i=Yb[t](l))),i}var qI=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:l}=LI(e),{closeButton:c,children:d,autoClose:f,onClick:m,type:h,hideProgressBar:x,closeToast:g,transition:b,position:w,className:j,style:S,progressClassName:_,updateId:C,role:k,progress:O,rtl:A,toastId:E,deleteToast:$,isIn:M,isLoading:F,closeOnClick:G,theme:V,ariaLabel:U}=e,te=at("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":G}),be=Ds(j)?j({rtl:A,position:w,type:h,defaultClassName:te}):at(te,j),re=HI(e),R=!!O||!f,q={closeToast:g,type:h,theme:V},H=null;return c===!1||(Ds(c)?H=c(q):v.isValidElement(c)?H=v.cloneElement(c,q):H=bI(q)),pt.createElement(b,{isIn:M,done:$,position:w,preventExitTransition:n,nodeRef:r,playToast:l},pt.createElement("div",{id:E,tabIndex:0,onClick:m,"data-in":M,className:be,...i,style:S,ref:r,...M&&{role:k,"aria-label":U}},re!=null&&pt.createElement("div",{className:at("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},re),y6(d,e,!t),H,!e.customProgressBar&&pt.createElement(wI,{...C&&!R?{key:`p-${C}`}:{},rtl:A,theme:V,delay:f,isRunning:t,isIn:M,closeToast:g,hide:x,type:h,className:_,controlledProgress:R,progress:O||0})))},KI=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),GI=yI(KI("bounce",!0)),YI={position:"top-right",transition:GI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function WI(e){let t={...YI,...e},n=e.stacked,[r,i]=v.useState(!0),l=v.useRef(null),{getToastToRender:c,isToastActive:d,count:f}=RI(t),{className:m,style:h,rtl:x,containerId:g,hotKeys:b}=t;function w(S){let _=at("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":x});return Ds(m)?m({position:S,rtl:x,defaultClassName:_}):at(_,qb(m))}function j(){n&&(i(!0),W.play())}return $I(()=>{var S;if(n){let _=l.current.querySelectorAll('[data-in="true"]'),C=12,k=(S=t.position)==null?void 0:S.includes("top"),O=0,A=0;Array.from(_).reverse().forEach((E,$)=>{let M=E;M.classList.add("Toastify__toast--stacked"),$>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=k?"top":"bot");let F=O*(r?.2:1)+(r?0:C*$);M.style.setProperty("--y",`${k?F:F*-1}px`),M.style.setProperty("--g",`${C}`),M.style.setProperty("--s",`${1-(r?A:0)}`),O+=M.offsetHeight,A+=.025})}},[r,f,n]),v.useEffect(()=>{function S(_){var C;let k=l.current;b(_)&&((C=k.querySelector('[tabIndex="0"]'))==null||C.focus(),i(!1),W.pause()),_.key==="Escape"&&(document.activeElement===k||k!=null&&k.contains(document.activeElement))&&(i(!0),W.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[b]),pt.createElement("section",{ref:l,className:"Toastify",id:g,onMouseEnter:()=>{n&&(i(!1),W.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((S,_)=>{let C=_.length?{...h}:{...h,pointerEvents:"none"};return pt.createElement("div",{tabIndex:-1,className:w(S),"data-stacked":n,style:C,key:`c-${S}`},_.map(({content:k,props:O})=>pt.createElement(qI,{...O,stacked:n,collapseAll:j,isIn:d(O.toastId,O.containerId),key:`t-${O.key}`},k)))}))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),o5=e=>{const t=ZI(e);return t.charAt(0).toUpperCase()+t.slice(1)},_6=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),QI=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...d},f)=>v.createElement("svg",{ref:f,...JI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:_6("lucide",i),...!l&&!QI(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>v.createElement(m,h)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const n=v.forwardRef(({className:r,...i},l)=>v.createElement(ez,{ref:l,iconNode:t,className:_6(`lucide-${XI(o5(e))}`,`lucide-${e}`,r),...i}));return n.displayName=o5(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],C6=Ee("arrow-left",tz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tp=Ee("arrow-right",nz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],k6=Ee("bot",rz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],_w=Ee("brain-circuit",az);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],c5=Ee("building-2",sz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],lz=Ee("calendar-days",iz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],cz=Ee("calendar-range",oz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ga=Ee("calendar",uz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],fz=Ee("camera",dz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],e0=Ee("check",mz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pz=Ee("chevron-down",hz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ua=Ee("chevron-left",xz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bn=Ee("chevron-right",gz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yz=Ee("chevron-up",vz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ia=Ee("circle-alert",bz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wb=Ee("circle-check-big",wz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ar=Ee("circle-check",jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],oa=Ee("circle-x",Nz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xb=Ee("circle",Sz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cz=Ee("clock-3",_z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hc=Ee("clock",kz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],u5=Ee("cloud-upload",Az);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$d=Ee("copy",Ez);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],d5=Ee("crop",Tz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ov=Ee("crown",Pz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bd=Ee("database",Oz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],f5=Ee("dollar-sign",Mz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Id=Ee("download",Dz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Cw=Ee("eye-off",Rz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jn=Ee("eye",Lz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],m5=Ee("file-spreadsheet",$z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],A6=Ee("file-text",Iz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Rc=Ee("funnel",zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Uh=Ee("globe",Bz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],h5=Ee("hash",Uz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],cv=Ee("history",Fz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kw=Ee("house",Vz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],p5=Ee("image-off",Hz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Kz=Ee("image",qz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],xd=Ee("key-round",Gz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Wz=Ee("key",Yz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],wd=Ee("link",Xz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zn=Ee("loader-circle",Zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Aw=Ee("lock",Qz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],qm=Ee("log-in",Jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],t0=Ee("log-out",eB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ta=Ee("mail",tB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Rs=Ee("map-pin",nB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],aB=Ee("pause",rB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],x5=Ee("pen-line",sB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Zb=Ee("phone-call",iB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ut=Ee("phone",lB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],df=Ee("play",oB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],uB=Ee("plug-zap",cB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ls=Ee("plus",dB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mB=Ee("radio",fB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],E6=Ee("refresh-ccw",hB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ze=Ee("refresh-cw",pB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],T6=Ee("rocket",xB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vB=Ee("rotate-ccw",gB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dr=Ee("search",yB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P6=Ee("settings",bB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],jB=Ee("shield-alert",wB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],g5=Ee("shield-check",NB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zd=Ee("shield",SB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Km=Ee("shopping-cart",_B);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],kB=Ee("skip-forward",CB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],v5=Ee("smartphone",AB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Lc=Ee("sparkles",EB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y5=Ee("square-check-big",TB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jd=Ee("square-pen",PB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],pc=Ee("square",OB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],DB=Ee("sticky-note",MB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sr=Ee("trash-2",RB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],$B=Ee("unlink",LB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],O6=Ee("user-round",IB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ic=Ee("user",zB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tr=Ee("users",BB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ew=Ee("volume-2",UB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gn=Ee("x",FB);function VB(){const[e,t]=v.useState({username:"",email:"",password:""}),[n,r]=v.useState(!1),[i,l]=v.useState({}),[c,d]=v.useState(!1),f=Vt(),m="http://localhost:8000",h=j=>{const{name:S,value:_}=j.target;t(C=>({...C,[S]:_})),i[S]&&l(C=>({...C,[S]:""}))},x=()=>{const j={};return e.username.trim()?e.username.length<3&&(j.username="Username must be at least 3 characters"):j.username="Username is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(j.email="Please enter a valid email address"):j.email="Email is required",e.password?e.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",l(j),Object.keys(j).length===0},g=async j=>{if(j.preventDefault(),!!x()){d(!0),l({});try{localStorage.setItem("name",e.username),localStorage.setItem("email",e.email)}catch{}try{const S=await fetch(`${m}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,email:e.email,password:e.password})}),_=await S.json();if(S.ok)W.success("Account created successfully! "),setTimeout(()=>{f(`/otp?email=${encodeURIComponent(e.email)}`)},1200);else{const C=_.message||_.detail||"Something went wrong. Please try again.";l({submit:C}),W.error(C)}}catch{const S="Network error. Please check your connection and try again.";l({submit:S}),W.error(S)}finally{d(!1)}}},b=e.password.length,w=b>=6?"bg-green-500 w-full":b>=4?"bg-blue-500 w-3/4":b>=2?"bg-yellow-500 w-1/2":b>0?"bg-red-500 w-1/4":"w-0";return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:a.jsx(ic,{className:"w-8 h-8 text-white"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",a.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign in here"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ic,{className:`h-5 w-5 ${e.username?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${i.username?"border-red-300 focus:border-red-500 focus:ring-red-500":e.username?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username"}),e.username&&!i.username&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx(Wb,{className:"h-5 w-5 text-green-500"})})]}),i.username&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(ia,{className:"h-4 w-4 mr-1"}),i.username]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ta,{className:`h-5 w-5 ${e.email?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${i.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!i.email&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx(Wb,{className:"h-5 w-5 text-green-500"})})]}),i.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(ia,{className:"h-4 w-4 mr-1"}),i.email]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Aw,{className:`h-5 w-5 ${e.password?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${i.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Create a password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200",onClick:()=>r(!n),children:n?a.jsx(Cw,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):a.jsx(Jn,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:a.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${w}`})}),a.jsx("span",{className:"text-xs text-gray-500",children:"6+ characters"})]}),i.password&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(ia,{className:"h-4 w-4 mr-1"}),i.password]})]}),i.submit&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[a.jsx(ia,{className:"h-5 w-5 text-red-600 mr-3"}),a.jsx("p",{className:"text-sm text-red-700",children:i.submit})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Creating account..."]}):a.jsxs("div",{className:"flex items-center",children:["Create account",a.jsx(tp,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})})})]})}function HB(){const[e,t]=v.useState(30),n="/",r="/bg.gif";v.useEffect(()=>{const d=setInterval(()=>{t(f=>f<=1?(window.location.href=n,0):f-1)},1e3);return()=>clearInterval(d)},[]);const i=()=>window.location.href=n,l=()=>window.history.back(),c=()=>window.location.reload();return a.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[a.jsx("div",{className:"fixed inset-0 flex justify-center pointer-events-none",children:a.jsx("img",{src:r,alt:"Animated 404 background",className:`\r
      h-screen\r
      w-[68vw]              /*  your final locked width */\r
      max-w-[1280px]        /*  prevent over-expanding on ultra-wide */\r
      min-w-[320px]         /*  prevent too-narrow on small phones */\r
      object-cover\r
      translate-y-[8vh] sm:translate-y-[10vh] md:translate-y-[23vh]\r
    `,style:{objectPosition:"center 78%"},loading:"eager",decoding:"async",fetchPriority:"high"})}),a.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 py-10",children:a.jsxs("div",{className:`w-full max-w-4xl text-center\r
                     -translate-y-6 sm:-translate-y-10 md:-translate-y-74\r
                     transform-gpu`,children:[a.jsx("h1",{className:`\r
              text-[56px] sm:text-[80px] md:text-[110px]\r
              font-bold tracking-tight text-blue-900\r
              select-none\r
            `,style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"404"}),a.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-blue-900",style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"Looks like youre lost"}),a.jsx("p",{className:"mt-2 text-blue-800",children:"The page you are looking for is not available."}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("button",{onClick:i,className:`\r
                w-full sm:w-auto inline-flex items-center justify-center\r
                rounded-lg px-5 py-3\r
                text-white bg-blue-600 hover:bg-blue-700\r
                transition-all duration-200 shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700\r
              `,children:[a.jsx(kw,{className:"mr-2 h-5 w-5"}),"Go to Home"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-center",children:[a.jsxs("button",{onClick:l,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[a.jsx(C6,{className:"mr-2 h-4 w-4"}),"Go Back"]}),a.jsxs("button",{onClick:c,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[a.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),a.jsxs("div",{className:"mt-3 text-sm text-blue-900",children:[a.jsx("a",{href:"/login",className:"underline hover:opacity-80",children:"Login"}),a.jsx("span",{className:"mx-2",children:""}),a.jsx("a",{href:"/signup",className:"underline hover:opacity-80",children:"Sign Up"})]})]}),a.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-blue-50/90 px-4 py-2 text-blue-900 border border-blue-200",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),a.jsxs("p",{className:"text-sm",children:["Redirecting to homepage in"," ",a.jsx("span",{className:"font-semibold",children:e})," seconds"]})]})]})})]})}const Tw=v.createContext({});function ff(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Pw=typeof window<"u",Ow=Pw?v.useLayoutEffect:v.useEffect,np=v.createContext(null);function Mw(e,t){e.indexOf(t)===-1&&e.push(t)}function rp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const $s=(e,t,n)=>n>t?t:n<e?e:n;let Dw=()=>{};const Is={},M6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function D6(e){return typeof e=="object"&&e!==null}const R6=e=>/^0[^.\s]+$/u.test(e);function Rw(e){let t;return()=>(t===void 0&&(t=e()),t)}const ca=e=>e,qB=(e,t)=>n=>t(e(n)),mf=(...e)=>e.reduce(qB),xc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Lw{constructor(){this.subscriptions=[]}add(t){return Mw(this.subscriptions,t),()=>rp(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Aa=e=>e*1e3,Wa=e=>e/1e3;function L6(e,t){return t?e*(1e3/t):0}const KB=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},$6=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,GB=1e-7,YB=12;function WB(e,t,n,r,i){let l,c,d=0;do c=t+(n-t)/2,l=$6(c,r,i)-e,l>0?n=c:t=c;while(Math.abs(l)>GB&&++d<YB);return c}function hf(e,t,n,r){if(e===t&&n===r)return ca;const i=l=>WB(l,0,1,e,n);return l=>l===0||l===1?l:$6(i(l),t,r)}const I6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,z6=e=>t=>1-e(1-t),B6=hf(.33,1.53,.69,.99),$w=z6(B6),U6=I6($w),F6=e=>(e*=2)<1?.5*$w(e):.5*(2-Math.pow(2,-10*(e-1))),Iw=e=>1-Math.sin(Math.acos(e)),V6=z6(Iw),H6=I6(Iw),XB=hf(.42,0,1,1),ZB=hf(0,0,.58,1),q6=hf(.42,0,.58,1),K6=e=>Array.isArray(e)&&typeof e[0]!="number";function G6(e,t){return K6(e)?e[KB(0,e.length,t)]:e}const Y6=e=>Array.isArray(e)&&typeof e[0]=="number",QB={linear:ca,easeIn:XB,easeInOut:q6,easeOut:ZB,circIn:Iw,circInOut:H6,circOut:V6,backIn:$w,backInOut:U6,backOut:B6,anticipate:F6},JB=e=>typeof e=="string",b5=e=>{if(Y6(e)){Dw(e.length===4);const[t,n,r,i]=e;return hf(t,n,r,i)}else if(JB(e))return QB[e];return e},Gm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function eU(e,t){let n=new Set,r=new Set,i=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(h){c.has(h)&&(m.schedule(h),e()),h(d)}const m={schedule:(h,x=!1,g=!1)=>{const w=g&&i?n:r;return x&&c.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),c.delete(h)},process:h=>{if(d=h,i){l=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,l&&(l=!1,m.process(h))}};return m}const tU=40;function W6(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Gm.reduce((k,O)=>(k[O]=eU(l),k),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:h,update:x,preRender:g,render:b,postRender:w}=c,j=()=>{const k=Is.useManualTiming?i.timestamp:performance.now();n=!1,Is.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,tU),1)),i.timestamp=k,i.isProcessing=!0,d.process(i),f.process(i),m.process(i),h.process(i),x.process(i),g.process(i),b.process(i),w.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(j))},S=()=>{n=!0,r=!0,i.isProcessing||e(j)};return{schedule:Gm.reduce((k,O)=>{const A=c[O];return k[O]=(E,$=!1,M=!1)=>(n||S(),A.schedule(E,$,M)),k},{}),cancel:k=>{for(let O=0;O<Gm.length;O++)c[Gm[O]].cancel(k)},state:i,steps:c}}const{schedule:Ut,cancel:zs,state:$n,steps:uv}=W6(typeof requestAnimationFrame<"u"?requestAnimationFrame:ca,!0);let Fh;function nU(){Fh=void 0}const xr={now:()=>(Fh===void 0&&xr.set($n.isProcessing||Is.useManualTiming?$n.timestamp:performance.now()),Fh),set:e=>{Fh=e,queueMicrotask(nU)}},X6=e=>t=>typeof t=="string"&&t.startsWith(e),zw=X6("--"),rU=X6("var(--"),Bw=e=>rU(e)?aU.test(e.split("/*")[0].trim()):!1,aU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$c={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bd={...$c,transform:e=>$s(0,1,e)},Ym={...$c,default:1},Nd=e=>Math.round(e*1e5)/1e5,Uw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sU(e){return e==null}const iU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fw=(e,t)=>n=>!!(typeof n=="string"&&iU.test(n)&&n.startsWith(e)||t&&!sU(n)&&Object.prototype.hasOwnProperty.call(n,t)),Z6=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,l,c,d]=r.match(Uw);return{[e]:parseFloat(i),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},lU=e=>$s(0,255,e),dv={...$c,transform:e=>Math.round(lU(e))},Ml={test:Fw("rgb","red"),parse:Z6("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+dv.transform(e)+", "+dv.transform(t)+", "+dv.transform(n)+", "+Nd(Bd.transform(r))+")"};function oU(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qb={test:Fw("#"),parse:oU,transform:Ml.transform},pf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ri=pf("deg"),Xa=pf("%"),We=pf("px"),cU=pf("vh"),uU=pf("vw"),w5={...Xa,parse:e=>Xa.parse(e)/100,transform:e=>Xa.transform(e*100)},Qo={test:Fw("hsl","hue"),parse:Z6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Xa.transform(Nd(t))+", "+Xa.transform(Nd(n))+", "+Nd(Bd.transform(r))+")"},pn={test:e=>Ml.test(e)||Qb.test(e)||Qo.test(e),parse:e=>Ml.test(e)?Ml.parse(e):Qo.test(e)?Qo.parse(e):Qb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ml.transform(e):Qo.transform(e),getAnimatableNone:e=>{const t=pn.parse(e);return t.alpha=0,pn.transform(t)}},dU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fU(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Uw))==null?void 0:t.length)||0)+(((n=e.match(dU))==null?void 0:n.length)||0)>0}const Q6="number",J6="color",mU="var",hU="var(",j5="${}",pU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ud(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let l=0;const d=t.replace(pU,f=>(pn.test(f)?(r.color.push(l),i.push(J6),n.push(pn.parse(f))):f.startsWith(hU)?(r.var.push(l),i.push(mU),n.push(f)):(r.number.push(l),i.push(Q6),n.push(parseFloat(f))),++l,j5)).split(j5);return{values:n,split:d,indexes:r,types:i}}function eP(e){return Ud(e).values}function tP(e){const{split:t,types:n}=Ud(e),r=t.length;return i=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],i[c]!==void 0){const d=n[c];d===Q6?l+=Nd(i[c]):d===J6?l+=pn.transform(i[c]):l+=i[c]}return l}}const xU=e=>typeof e=="number"?0:pn.test(e)?pn.getAnimatableNone(e):e;function gU(e){const t=eP(e);return tP(e)(t.map(xU))}const Vi={test:fU,parse:eP,createTransformer:tP,getAnimatableNone:gU};function fv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vU({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,l=0,c=0;if(!t)i=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;i=fv(f,d,e+1/3),l=fv(f,d,e),c=fv(f,d,e-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function n0(e,t){return n=>n>0?t:e}const Kt=(e,t,n)=>e+(t-e)*n,mv=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},yU=[Qb,Ml,Qo],bU=e=>yU.find(t=>t.test(e));function N5(e){const t=bU(e);if(!t)return!1;let n=t.parse(e);return t===Qo&&(n=vU(n)),n}const S5=(e,t)=>{const n=N5(e),r=N5(t);if(!n||!r)return n0(e,t);const i={...n};return l=>(i.red=mv(n.red,r.red,l),i.green=mv(n.green,r.green,l),i.blue=mv(n.blue,r.blue,l),i.alpha=Kt(n.alpha,r.alpha,l),Ml.transform(i))},Jb=new Set(["none","hidden"]);function wU(e,t){return Jb.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function jU(e,t){return n=>Kt(e,t,n)}function Vw(e){return typeof e=="number"?jU:typeof e=="string"?Bw(e)?n0:pn.test(e)?S5:_U:Array.isArray(e)?nP:typeof e=="object"?pn.test(e)?S5:NU:n0}function nP(e,t){const n=[...e],r=n.length,i=e.map((l,c)=>Vw(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=i[c](l);return n}}function NU(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Vw(e[i])(e[i],t[i]));return i=>{for(const l in r)n[l]=r[l](i);return n}}function SU(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const l=t.types[i],c=e.indexes[l][r[l]],d=e.values[c]??0;n[i]=d,r[l]++}return n}const _U=(e,t)=>{const n=Vi.createTransformer(t),r=Ud(e),i=Ud(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jb.has(e)&&!i.values.length||Jb.has(t)&&!r.values.length?wU(e,t):mf(nP(SU(r,i),i.values),n):n0(e,t)};function rP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Kt(e,t,n):Vw(e)(e,t)}const CU=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ut.update(t,n),stop:()=>zs(t),now:()=>$n.isProcessing?$n.timestamp:xr.now()}},aP=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let l=0;l<i;l++)r+=Math.round(e(l/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},r0=2e4;function Hw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<r0;)t+=n,r=e.next(t);return t>=r0?1/0:t}function sP(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Hw(r),r0);return{type:"keyframes",ease:l=>r.next(i*l).value/t,duration:Wa(i)}}const kU=5;function iP(e,t,n){const r=Math.max(t-kU,0);return L6(n-e(r),t-r)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hv=.001;function AU({duration:e=rn.duration,bounce:t=rn.bounce,velocity:n=rn.velocity,mass:r=rn.mass}){let i,l,c=1-t;c=$s(rn.minDamping,rn.maxDamping,c),e=$s(rn.minDuration,rn.maxDuration,Wa(e)),c<1?(i=m=>{const h=m*c,x=h*e,g=h-n,b=e1(m,c),w=Math.exp(-x);return hv-g/b*w},l=m=>{const x=m*c*e,g=x*n+n,b=Math.pow(c,2)*Math.pow(m,2)*e,w=Math.exp(-x),j=e1(Math.pow(m,2),c);return(-i(m)+hv>0?-1:1)*((g-b)*w)/j}):(i=m=>{const h=Math.exp(-m*e),x=(m-n)*e+1;return-hv+h*x},l=m=>{const h=Math.exp(-m*e),x=(n-m)*(e*e);return h*x});const d=5/e,f=TU(i,l,d);if(e=Aa(e),isNaN(f))return{stiffness:rn.stiffness,damping:rn.damping,duration:e};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:e}}}const EU=12;function TU(e,t,n){let r=n;for(let i=1;i<EU;i++)r=r-e(r)/t(r);return r}function e1(e,t){return e*Math.sqrt(1-t*t)}const PU=["duration","bounce"],OU=["stiffness","damping","mass"];function _5(e,t){return t.some(n=>e[n]!==void 0)}function MU(e){let t={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...e};if(!_5(e,OU)&&_5(e,PU))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,l=2*$s(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:rn.mass,stiffness:i,damping:l}}else{const n=AU(e);t={...t,...n,mass:rn.mass},t.isResolvedFromDuration=!0}return t}function Fd(e=rn.visualDuration,t=rn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:h,duration:x,velocity:g,isResolvedFromDuration:b}=MU({...n,velocity:-Wa(n.velocity||0)}),w=g||0,j=m/(2*Math.sqrt(f*h)),S=c-l,_=Wa(Math.sqrt(f/h)),C=Math.abs(S)<5;r||(r=C?rn.restSpeed.granular:rn.restSpeed.default),i||(i=C?rn.restDelta.granular:rn.restDelta.default);let k;if(j<1){const A=e1(_,j);k=E=>{const $=Math.exp(-j*_*E);return c-$*((w+j*_*S)/A*Math.sin(A*E)+S*Math.cos(A*E))}}else if(j===1)k=A=>c-Math.exp(-_*A)*(S+(w+_*S)*A);else{const A=_*Math.sqrt(j*j-1);k=E=>{const $=Math.exp(-j*_*E),M=Math.min(A*E,300);return c-$*((w+j*_*S)*Math.sinh(M)+A*S*Math.cosh(M))/A}}const O={calculatedDuration:b&&x||null,next:A=>{const E=k(A);if(b)d.done=A>=x;else{let $=A===0?w:0;j<1&&($=A===0?Aa(w):iP(k,A,E));const M=Math.abs($)<=r,F=Math.abs(c-E)<=i;d.done=M&&F}return d.value=d.done?c:E,d},toString:()=>{const A=Math.min(Hw(O),r0),E=aP($=>O.next(A*$).value,A,30);return A+"ms "+E},toTransition:()=>{}};return O}Fd.applyToOptions=e=>{const t=sP(e,100,Fd);return e.ease=t.ease,e.duration=Aa(t.duration),e.type="keyframes",e};function t1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:h}){const x=e[0],g={done:!1,value:x},b=M=>d!==void 0&&M<d||f!==void 0&&M>f,w=M=>d===void 0?f:f===void 0||Math.abs(d-M)<Math.abs(f-M)?d:f;let j=n*t;const S=x+j,_=c===void 0?S:c(S);_!==S&&(j=_-x);const C=M=>-j*Math.exp(-M/r),k=M=>_+C(M),O=M=>{const F=C(M),G=k(M);g.done=Math.abs(F)<=m,g.value=g.done?_:G};let A,E;const $=M=>{b(g.value)&&(A=M,E=Fd({keyframes:[g.value,w(g.value)],velocity:iP(k,M,g.value),damping:i,stiffness:l,restDelta:m,restSpeed:h}))};return $(0),{calculatedDuration:null,next:M=>{let F=!1;return!E&&A===void 0&&(F=!0,O(M),$(M)),A!==void 0&&M>=A?E.next(M-A):(!F&&O(M),g)}}}function DU(e,t,n){const r=[],i=n||Is.mix||rP,l=e.length-1;for(let c=0;c<l;c++){let d=i(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||ca:t;d=mf(f,d)}r.push(d)}return r}function lP(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const l=e.length;if(Dw(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=DU(t,r,i),f=d.length,m=h=>{if(c&&h<e[0])return t[0];let x=0;if(f>1)for(;x<e.length-2&&!(h<e[x+1]);x++);const g=xc(e[x],e[x+1],h);return d[x](g)};return n?h=>m($s(e[0],e[l-1],h)):m}function oP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=xc(0,t,r);e.push(Kt(n,1,i))}}function cP(e){const t=[0];return oP(t,e.length-1),t}function RU(e,t){return e.map(n=>n*t)}function LU(e,t){return e.map(()=>t||q6).splice(0,e.length-1)}function Sd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=K6(r)?r.map(b5):b5(r),l={done:!1,value:t[0]},c=RU(n&&n.length===t.length?n:cP(t),e),d=lP(c,t,{ease:Array.isArray(i)?i:LU(t,i)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const $U=e=>e!==null;function qw(e,{repeat:t,repeatType:n="loop"},r,i=1){const l=e.filter($U),d=i<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||r===void 0?l[d]:r}const IU={decay:t1,inertia:t1,tween:Sd,keyframes:Sd,spring:Fd};function uP(e){typeof e.type=="string"&&(e.type=IU[e.type])}class Kw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const zU=e=>e/100;class Gw extends Kw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==xr.now()&&this.tick(xr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;uP(t);const{type:n=Sd,repeat:r=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||Sd;f!==Sd&&typeof d[0]!="number"&&(this.mixKeyframes=mf(zU,rP(d[0],d[1])),d=[0,100]);const m=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Hw(m));const{calculatedDuration:h}=m;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:h,repeat:x,repeatType:g,repeatDelay:b,type:w,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const _=this.currentTime-m*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,O=r;if(x){const M=Math.min(this.currentTime,i)/d;let F=Math.floor(M),G=M%1;!G&&M>=1&&(G=1),G===1&&F--,F=Math.min(F,x+1),!!(F%2)&&(g==="reverse"?(G=1-G,b&&(G-=b/d)):g==="mirror"&&(O=c)),k=$s(0,1,G)*d}const A=C?{done:!1,value:h[0]}:O.next(k);l&&(A.value=l(A.value));let{done:E}=A;!C&&f!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return $&&w!==t1&&(A.value=qw(h,this.options,S,this.speed)),j&&j(A.value),$&&this.finish(),A}then(t,n){return this.finished.then(t,n)}get duration(){return Wa(this.calculatedDuration)}get time(){return Wa(this.currentTime)}set time(t){var n;t=Aa(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(xr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Wa(this.currentTime))}play(){var i,l;if(this.isStopped)return;const{driver:t=CU,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(i=this.options).onPlay)==null||l.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function BU(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Dl=e=>e*180/Math.PI,n1=e=>{const t=Dl(Math.atan2(e[1],e[0]));return r1(t)},UU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:n1,rotateZ:n1,skewX:e=>Dl(Math.atan(e[1])),skewY:e=>Dl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},r1=e=>(e=e%360,e<0&&(e+=360),e),C5=n1,k5=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),A5=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),FU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:k5,scaleY:A5,scale:e=>(k5(e)+A5(e))/2,rotateX:e=>r1(Dl(Math.atan2(e[6],e[5]))),rotateY:e=>r1(Dl(Math.atan2(-e[2],e[0]))),rotateZ:C5,rotate:C5,skewX:e=>Dl(Math.atan(e[4])),skewY:e=>Dl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function a1(e){return e.includes("scale")?1:0}function s1(e,t){if(!e||e==="none")return a1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=FU,i=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=UU,i=d}if(!i)return a1(t);const l=r[t],c=i[1].split(",").map(HU);return typeof l=="function"?l(c):c[l]}const VU=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return s1(n,t)};function HU(e){return parseFloat(e.trim())}const Ic=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zc=new Set(Ic),E5=e=>e===$c||e===We,qU=new Set(["x","y","z"]),KU=Ic.filter(e=>!qU.has(e));function GU(e){const t=[];return KU.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Bl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>s1(t,"x"),y:(e,{transform:t})=>s1(t,"y")};Bl.translateX=Bl.x;Bl.translateY=Bl.y;const Ul=new Set;let i1=!1,l1=!1,o1=!1;function dP(){if(l1){const e=Array.from(Ul).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=GU(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([l,c])=>{var d;(d=r.getValue(l))==null||d.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}l1=!1,i1=!1,Ul.forEach(e=>e.complete(o1)),Ul.clear()}function fP(){Ul.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(l1=!0)})}function YU(){o1=!0,fP(),dP(),o1=!1}class Yw{constructor(t,n,r,i,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ul.add(this),i1||(i1=!0,Ut.read(fP),Ut.resolveKeyframes(dP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const l=i==null?void 0:i.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),i&&l===void 0&&i.set(t[0])}BU(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ul.delete(this)}cancel(){this.state==="scheduled"&&(Ul.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WU=e=>e.startsWith("--");function XU(e,t,n){WU(t)?e.style.setProperty(t,n):e.style[t]=n}const ZU=Rw(()=>window.ScrollTimeline!==void 0),QU={};function JU(e,t){const n=Rw(e);return()=>QU[t]??n()}const mP=JU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,T5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gd([0,.65,.55,1]),circOut:gd([.55,0,1,.45]),backIn:gd([.31,.01,.66,-.59]),backOut:gd([.33,1.53,.69,.99])};function hP(e,t){if(e)return typeof e=="function"?mP()?aP(e,t):"ease-out":Y6(e)?gd(e):Array.isArray(e)?e.map(n=>hP(n,t)||T5.easeOut):T5[e]}function eF(e,t,n,{delay:r=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const h={[t]:n};f&&(h.offset=f);const x=hP(d,i);Array.isArray(x)&&(h.easing=x);const g={delay:r,duration:i,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(g.pseudoElement=m),e.animate(h,g)}function Ww(e){return typeof e=="function"&&"applyToOptions"in e}function tF({type:e,...t}){return Ww(e)&&mP()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class nF extends Kw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Dw(typeof t.type!="string");const m=tF(t);this.animation=eF(n,r,i,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=qw(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(h):XU(n,r,h),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wa(Number(t))}get time(){return Wa(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Aa(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&ZU()?(this.animation.timeline=t,ca):n(this)}}const pP={anticipate:F6,backInOut:U6,circInOut:H6};function rF(e){return e in pP}function aF(e){typeof e.ease=="string"&&rF(e.ease)&&(e.ease=pP[e.ease])}const P5=10;class sF extends nF{constructor(t){aF(t),uP(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Gw({...c,autoplay:!1}),f=Aa(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-P5).value,d.sample(f).value,P5),d.stop()}}const O5=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vi.test(e)||e==="0")&&!e.startsWith("url("));function iF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function lF(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=O5(i,t),d=O5(l,t);return!c||!d?!1:iF(e)||(n==="spring"||Ww(n))&&r}function c1(e){e.duration=0,e.type}const oF=new Set(["opacity","clipPath","filter","transform"]),cF=Rw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uF(e){var h;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:l,type:c}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return cF()&&n&&oF.has(n)&&(n!=="transform"||!m)&&!f&&!r&&i!=="mirror"&&l!==0&&c!=="inertia"}const dF=40;class fF extends Kw{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:h,...x}){var w;super(),this.stop=()=>{var j,S;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=xr.now();const g={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:h,...x},b=(h==null?void 0:h.KeyframeResolver)||Yw;this.keyframeResolver=new b(d,(j,S,_)=>this.onKeyframesResolved(j,S,g,!_),f,m,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:h}=r;this.resolvedAt=xr.now(),lF(t,l,c,d)||((Is.instantAnimations||!f)&&(h==null||h(qw(t,r,n))),t[0]=t[t.length-1],c1(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>dF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},b=!m&&uF(g)?new sF({...g,element:g.motionValue.owner.current}):new Gw(g);b.finished.then(()=>this.notifyFinished()).catch(ca),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),YU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class mF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hF extends mF{then(t,n){return this.finished.finally(t).then(()=>{})}}const pF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xF(e){const t=pF.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function xP(e,t,n=1){const[r,i]=xF(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return M6(c)?parseFloat(c):c}return Bw(i)?xP(i,t,n+1):i}function Xw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const gP=new Set(["width","height","top","left","right","bottom",...Ic]),gF={test:e=>e==="auto",parse:e=>e},vP=e=>t=>t.test(e),yP=[$c,We,Xa,Ri,uU,cU,gF],M5=e=>yP.find(vP(e));function vF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||R6(e):!0}const yF=new Set(["brightness","contrast","saturate","opacity"]);function bF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Uw)||[];if(!r)return e;const i=n.replace(r,"");let l=yF.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+i+")"}const wF=/\b([a-z-]*)\(.*?\)/gu,u1={...Vi,getAnimatableNone:e=>{const t=e.match(wF);return t?t.map(bF).join(" "):e}},D5={...$c,transform:Math.round},jF={rotate:Ri,rotateX:Ri,rotateY:Ri,rotateZ:Ri,scale:Ym,scaleX:Ym,scaleY:Ym,scaleZ:Ym,skew:Ri,skewX:Ri,skewY:Ri,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:Bd,originX:w5,originY:w5,originZ:We},Zw={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...jF,zIndex:D5,fillOpacity:Bd,strokeOpacity:Bd,numOctaves:D5},NF={...Zw,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:u1,WebkitFilter:u1},bP=e=>NF[e];function wP(e,t){let n=bP(e);return n!==u1&&(n=Vi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const SF=new Set(["auto","none","0"]);function _F(e,t,n){let r=0,i;for(;r<e.length&&!i;){const l=e[r];typeof l=="string"&&!SF.has(l)&&Ud(l).values.length&&(i=e[r]),r++}if(i&&n)for(const l of t)e[l]=wP(n,i)}class CF extends Yw{constructor(t,n,r,i,l){super(t,n,r,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),Bw(m))){const h=xP(m,n.current);h!==void 0&&(t[f]=h),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!gP.has(r)||t.length!==2)return;const[i,l]=t,c=M5(i),d=M5(l);if(c!==d)if(E5(c)&&E5(d))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else Bl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||vF(t[i]))&&r.push(i);r.length&&_F(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Bl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function jP(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const NP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function SP(e){return D6(e)&&"offsetHeight"in e}const R5=30,kF=e=>!isNaN(parseFloat(e)),_d={current:void 0};class AF{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const i=xr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=xr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Lw);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return _d.current&&_d.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>R5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,R5);return L6(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gl(e,t){return new AF(e,t)}const{schedule:Qw}=W6(queueMicrotask,!1),wa={x:!1,y:!1};function _P(){return wa.x||wa.y}function EF(e){return e==="x"||e==="y"?wa[e]?null:(wa[e]=!0,()=>{wa[e]=!1}):wa.x||wa.y?null:(wa.x=wa.y=!0,()=>{wa.x=wa.y=!1})}function CP(e,t){const n=jP(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function L5(e){return!(e.pointerType==="touch"||_P())}function TF(e,t,n={}){const[r,i,l]=CP(e,n),c=d=>{if(!L5(d))return;const{target:f}=d,m=t(f,d);if(typeof m!="function"||!f)return;const h=x=>{L5(x)&&(m(x),f.removeEventListener("pointerleave",h))};f.addEventListener("pointerleave",h,i)};return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),l}const kP=(e,t)=>t?e===t?!0:kP(e,t.parentElement):!1,Jw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,PF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OF(e){return PF.has(e.tagName)||e.tabIndex!==-1}const Vh=new WeakSet;function $5(e){return t=>{t.key==="Enter"&&e(t)}}function pv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const MF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=$5(()=>{if(Vh.has(n))return;pv(n,"down");const i=$5(()=>{pv(n,"up")}),l=()=>pv(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function I5(e){return Jw(e)&&!_P()}function DF(e,t,n={}){const[r,i,l]=CP(e,n),c=d=>{const f=d.currentTarget;if(!I5(d))return;Vh.add(f);const m=t(f,d),h=(b,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",g),Vh.has(f)&&Vh.delete(f),I5(b)&&typeof m=="function"&&m(b,{success:w})},x=b=>{h(b,f===window||f===document||n.useGlobalTarget||kP(f,b.target))},g=b=>{h(b,!1)};window.addEventListener("pointerup",x,i),window.addEventListener("pointercancel",g,i)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),SP(d)&&(d.addEventListener("focus",m=>MF(m,i)),!OF(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ej(e){return D6(e)&&"ownerSVGElement"in e}function AP(e){return ej(e)&&e.tagName==="svg"}function RF(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],l=e[2+n],c=e[3+n],d=lP(i,l,c);return t?d(r):d}const Tn=e=>!!(e&&e.getVelocity),LF=[...yP,pn,Vi],$F=e=>LF.find(vP(e)),ap=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class IF extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=SP(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=i-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zF({children:e,isPresent:t,anchorX:n,root:r}){const i=v.useId(),l=v.useRef(null),c=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=v.useContext(ap);return v.useInsertionEffect(()=>{const{width:f,height:m,top:h,left:x,right:g}=c.current;if(t||!l.current||!f||!m)return;const b=n==="left"?`left: ${x}`:`right: ${g}`;l.current.dataset.motionPopId=i;const w=document.createElement("style");d&&(w.nonce=d);const j=r??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${h}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[t]),a.jsx(IF,{isPresent:t,childRef:l,sizeRef:c,children:v.cloneElement(e,{ref:l})})}const BF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const m=ff(UF),h=v.useId();let x=!0,g=v.useMemo(()=>(x=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:b=>{m.set(b,!0);for(const w of m.values())if(!w)return;r&&r()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,r]);return l&&x&&(g={...g}),v.useMemo(()=>{m.forEach((b,w)=>m.set(w,!1))},[n]),v.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(e=a.jsx(zF,{isPresent:n,anchorX:d,root:f,children:e})),a.jsx(np.Provider,{value:g,children:e})};function UF(){return new Map}function EP(e=!0){const t=v.useContext(np);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,l=v.useId();v.useEffect(()=>{if(e)return i(l)},[e]);const c=v.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const Wm=e=>e.key||"";function z5(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const _t=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[m,h]=EP(c),x=v.useMemo(()=>z5(e),[e]),g=c&&!m?[]:x.map(Wm),b=v.useRef(!0),w=v.useRef(x),j=ff(()=>new Map),[S,_]=v.useState(x),[C,k]=v.useState(x);Ow(()=>{b.current=!1,w.current=x;for(let E=0;E<C.length;E++){const $=Wm(C[E]);g.includes($)?j.delete($):j.get($)!==!0&&j.set($,!1)}},[C,g.length,g.join("-")]);const O=[];if(x!==S){let E=[...x];for(let $=0;$<C.length;$++){const M=C[$],F=Wm(M);g.includes(F)||(E.splice($,0,M),O.push(M))}return l==="wait"&&O.length&&(E=O),k(z5(E)),_(x),null}const{forceRender:A}=v.useContext(Tw);return a.jsx(a.Fragment,{children:C.map(E=>{const $=Wm(E),M=c&&!m?!1:x===C||g.includes($),F=()=>{if(j.has($))j.set($,!0);else return;let G=!0;j.forEach(V=>{V||(G=!1)}),G&&(A==null||A(),k(w.current),c&&(h==null||h()),r&&r())};return a.jsx(BF,{isPresent:M,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:l,root:f,onExitComplete:M?void 0:F,anchorX:d,children:E},$)})})},TP=v.createContext({strict:!1}),B5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gc={};for(const e in B5)gc[e]={isEnabled:t=>B5[e].some(n=>!!t[n])};function FF(e){for(const t in e)gc[t]={...gc[t],...e[t]}}const VF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function a0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||VF.has(e)}let PP=e=>!a0(e);function HF(e){typeof e=="function"&&(PP=t=>t.startsWith("on")?!a0(t):e(t))}try{HF(require("@emotion/is-prop-valid").default)}catch{}function qF(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(PP(i)||n===!0&&a0(i)||!t&&!a0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const sp=v.createContext({});function ip(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Vd(e){return typeof e=="string"||Array.isArray(e)}const tj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nj=["initial",...tj];function lp(e){return ip(e.animate)||nj.some(t=>Vd(e[t]))}function OP(e){return!!(lp(e)||e.variants)}function KF(e,t){if(lp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Vd(n)?n:void 0,animate:Vd(r)?r:void 0}}return e.inherit!==!1?t:{}}function GF(e){const{initial:t,animate:n}=KF(e,v.useContext(sp));return v.useMemo(()=>({initial:t,animate:n}),[U5(t),U5(n)])}function U5(e){return Array.isArray(e)?e.join(" "):e}const Hd={};function YF(e){for(const t in e)Hd[t]=e[t],zw(t)&&(Hd[t].isCSSVariable=!0)}function MP(e,{layout:t,layoutId:n}){return zc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hd[e]||e==="opacity")}const WF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XF=Ic.length;function ZF(e,t,n){let r="",i=!0;for(let l=0;l<XF;l++){const c=Ic[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=NP(d,Zw[c]);if(!f){i=!1;const h=WF[c]||c;r+=`${h}(${m}) `}n&&(t[c]=m)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function rj(e,t,n){const{style:r,vars:i,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const m=t[f];if(zc.has(f)){c=!0;continue}else if(zw(f)){i[f]=m;continue}else{const h=NP(m,Zw[f]);f.startsWith("origin")?(d=!0,l[f]=h):r[f]=h}}if(t.transform||(c||n?r.transform=ZF(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:h=0}=l;r.transformOrigin=`${f} ${m} ${h}`}}const aj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DP(e,t,n){for(const r in t)!Tn(t[r])&&!MP(r,n)&&(e[r]=t[r])}function QF({transformTemplate:e},t){return v.useMemo(()=>{const n=aj();return rj(n,t,e),Object.assign({},n.vars,n.style)},[t])}function JF(e,t){const n=e.style||{},r={};return DP(r,n,e),Object.assign(r,QF(e,t)),r}function eV(e,t){const n={},r=JF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const tV={offset:"stroke-dashoffset",array:"stroke-dasharray"},nV={offset:"strokeDashoffset",array:"strokeDasharray"};function rV(e,t,n=1,r=0,i=!0){e.pathLength=1;const l=i?tV:nV;e[l.offset]=We.transform(-r);const c=We.transform(t),d=We.transform(n);e[l.array]=`${c} ${d}`}function RP(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...d},f,m,h){if(rj(e,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:g}=e;x.transform&&(g.transform=x.transform,delete x.transform),(g.transform||x.transformOrigin)&&(g.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),i!==void 0&&rV(x,i,l,c,!1)}const LP=()=>({...aj(),attrs:{}}),$P=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aV(e,t,n,r){const i=v.useMemo(()=>{const l=LP();return RP(l,t,$P(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};DP(l,e.style,e),i.style={...l,...i.style}}return i}const sV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sj(e){return typeof e!="string"||e.includes("-")?!1:!!(sV.indexOf(e)>-1||/[A-Z]/u.test(e))}function iV(e,t,n,{latestValues:r},i,l=!1){const d=(sj(e)?aV:eV)(t,r,i,e),f=qF(t,typeof e=="string",l),m=e!==v.Fragment?{...f,...d,ref:n}:{},{children:h}=t,x=v.useMemo(()=>Tn(h)?h.get():h,[h]);return v.createElement(e,{...m,children:x})}function F5(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ij(e,t,n,r){if(typeof t=="function"){const[i,l]=F5(r);t=t(n!==void 0?n:e.custom,i,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,l]=F5(r);t=t(n!==void 0?n:e.custom,i,l)}return t}function Hh(e){return Tn(e)?e.get():e}function lV({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:oV(n,r,i,e),renderState:t()}}function oV(e,t,n,r){const i={},l=r(e,{});for(const g in l)i[g]=Hh(l[g]);let{initial:c,animate:d}=e;const f=lp(e),m=OP(e);t&&m&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let h=n?n.initial===!1:!1;h=h||c===!1;const x=h?d:c;if(x&&typeof x!="boolean"&&!ip(x)){const g=Array.isArray(x)?x:[x];for(let b=0;b<g.length;b++){const w=ij(e,g[b]);if(w){const{transitionEnd:j,transition:S,..._}=w;for(const C in _){let k=_[C];if(Array.isArray(k)){const O=h?k.length-1:0;k=k[O]}k!==null&&(i[C]=k)}for(const C in j)i[C]=j[C]}}}return i}const IP=e=>(t,n)=>{const r=v.useContext(sp),i=v.useContext(np),l=()=>lV(e,t,r,i);return n?l():ff(l)};function lj(e,t,n){var l;const{style:r}=e,i={};for(const c in r)(Tn(r[c])||t.style&&Tn(t.style[c])||MP(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(i[c]=r[c]);return i}const cV=IP({scrapeMotionValuesFromProps:lj,createRenderState:aj});function zP(e,t,n){const r=lj(e,t,n);for(const i in e)if(Tn(e[i])||Tn(t[i])){const l=Ic.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[l]=e[i]}return r}const uV=IP({scrapeMotionValuesFromProps:zP,createRenderState:LP}),dV=Symbol.for("motionComponentSymbol");function Jo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function fV(e,t,n){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Jo(n)&&(n.current=r))},[t])}const oj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mV="framerAppearId",BP="data-"+oj(mV),UP=v.createContext({});function hV(e,t,n,r,i){var j,S;const{visualElement:l}=v.useContext(sp),c=v.useContext(TP),d=v.useContext(np),f=v.useContext(ap).reducedMotion,m=v.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const h=m.current,x=v.useContext(UP);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&pV(m.current,n,i,x);const g=v.useRef(!1);v.useInsertionEffect(()=>{h&&g.current&&h.update(n,d)});const b=n[BP],w=v.useRef(!!b&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return Ow(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,b)}),w.current=!1),h.enteringChildren=void 0)}),h}function pV(e,t,n,r){const{layoutId:i,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:FP(e.parent)),e.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||d&&Jo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:f,layoutRoot:m})}function FP(e){if(e)return e.options.allowProjection!==!1?e.projection:FP(e.parent)}function xv(e,{forwardMotionProps:t=!1}={},n,r){n&&FF(n);const i=sj(e)?uV:cV;function l(d,f){let m;const h={...v.useContext(ap),...d,layoutId:xV(d)},{isStatic:x}=h,g=GF(d),b=i(d,x);if(!x&&Pw){gV();const w=vV(h);m=w.MeasureLayout,g.visualElement=hV(e,b,h,r,w.ProjectionNode)}return a.jsxs(sp.Provider,{value:g,children:[m&&g.visualElement?a.jsx(m,{visualElement:g.visualElement,...h}):null,iV(e,d,fV(b,g.visualElement,f),b,x,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=v.forwardRef(l);return c[dV]=e,c}function xV({layoutId:e}){const t=v.useContext(Tw).id;return t&&e!==void 0?t+"-"+e:e}function gV(e,t){v.useContext(TP).strict}function vV(e){const{drag:t,layout:n}=gc;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function yV(e,t){if(typeof Proxy>"u")return xv;const n=new Map,r=(l,c)=>xv(l,c,e,t),i=(l,c)=>r(l,c);return new Proxy(i,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,xv(c,void 0,e,t)),n.get(c))})}function VP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function bV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gv(e){return e===void 0||e===1}function d1({scale:e,scaleX:t,scaleY:n}){return!gv(e)||!gv(t)||!gv(n)}function _l(e){return d1(e)||HP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function HP(e){return V5(e.x)||V5(e.y)}function V5(e){return e&&e!=="0%"}function s0(e,t,n){const r=e-n,i=t*r;return n+i}function H5(e,t,n,r,i){return i!==void 0&&(e=s0(e,i,r)),s0(e,n,r)+t}function f1(e,t=0,n=1,r,i){e.min=H5(e.min,t,n,r,i),e.max=H5(e.max,t,n,r,i)}function qP(e,{x:t,y:n}){f1(e.x,t.translate,t.scale,t.originPoint),f1(e.y,n.translate,n.scale,n.originPoint)}const q5=.999999999999,K5=1.0000000000001;function jV(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let l,c;for(let d=0;d<i;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&tc(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,qP(e,c)),r&&_l(l.latestValues)&&tc(e,l.latestValues))}t.x<K5&&t.x>q5&&(t.x=1),t.y<K5&&t.y>q5&&(t.y=1)}function ec(e,t){e.min=e.min+t,e.max=e.max+t}function G5(e,t,n,r,i=.5){const l=Kt(e.min,e.max,i);f1(e,t,n,l,r)}function tc(e,t){G5(e.x,t.x,t.scaleX,t.scale,t.originX),G5(e.y,t.y,t.scaleY,t.scale,t.originY)}function KP(e,t){return VP(wV(e.getBoundingClientRect(),t))}function NV(e,t,n){const r=KP(e,n),{scroll:i}=t;return i&&(ec(r.x,i.offset.x),ec(r.y,i.offset.y)),r}const Y5=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:Y5(),y:Y5()}),W5=()=>({min:0,max:0}),nn=()=>({x:W5(),y:W5()}),m1={current:null},GP={current:!1};function SV(){if(GP.current=!0,!!Pw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>m1.current=e.matches;e.addEventListener("change",t),t()}else m1.current=!1}const qd=new WeakMap;function _V(e,t,n){for(const r in t){const i=t[r],l=n[r];if(Tn(i))e.addValue(r,i);else if(Tn(l))e.addValue(r,Gl(i,{owner:e}));else if(l!==i)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=e.getStaticValue(r);e.addValue(r,Gl(c!==void 0?c:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const X5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YP{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=xr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Ut.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=lp(n),this.isVariantNode=OP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in x){const b=x[g];f[g]!==void 0&&Tn(b)&&b.set(f[g])}}mount(t){var n;this.current=t,qd.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),GP.current||SV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:m1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),zs(this.notifyUpdate),zs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=zc.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gc){const n=gc[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<X5.length;r++){const i=X5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=t[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=_V(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Gl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(M6(r)||R6(r))?r=parseFloat(r):!$F(r)&&Vi.test(n)&&(r=wP(t,n)),this.setBaseTarget(t,Tn(r)?r.get():r)),Tn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=ij(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Tn(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Lw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Qw.render(this.render)}}class WP extends YP{constructor(){super(...arguments),this.KeyframeResolver=CF}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Tn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XP(e,{style:t,vars:n},r,i){const l=e.style;let c;for(c in t)l[c]=t[c];i==null||i.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function CV(e){return window.getComputedStyle(e)}class ZP extends WP{constructor(){super(...arguments),this.type="html",this.renderInstance=XP}readValueFromInstance(t,n){var r;if(zc.has(n))return(r=this.projection)!=null&&r.isProjecting?a1(n):VU(t,n);{const i=CV(t),l=(zw(n)?i.getPropertyValue(n):i[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return KP(t,n)}build(t,n,r){rj(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return lj(t,n,r)}}const QP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kV(e,t,n,r){XP(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(QP.has(i)?i:oj(i),t.attrs[i])}class JP extends WP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(zc.has(n)){const r=bP(n);return r&&r.default||0}return n=QP.has(n)?n:oj(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return zP(t,n,r)}build(t,n,r){RP(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){kV(t,n,r,i)}mount(t){this.isSVGTag=$P(t.tagName),super.mount(t)}}const AV=(e,t)=>sj(e)?new JP(t):new ZP(t,{allowProjection:e!==v.Fragment});function lc(e,t,n){const r=e.getProps();return ij(r,t,n!==void 0?n:r.custom,e)}const h1=e=>Array.isArray(e);function EV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Gl(n))}function TV(e){return h1(e)?e[e.length-1]||0:e}function PV(e,t){const n=lc(e,t);let{transitionEnd:r={},transition:i={},...l}=n||{};l={...l,...r};for(const c in l){const d=TV(l[c]);EV(e,c,d)}}function OV(e){return!!(Tn(e)&&e.add)}function p1(e,t){const n=e.getValue("willChange");if(OV(n))return n.add(t);if(!n&&Is.WillChange){const r=new Is.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function eO(e){return e.props[BP]}const MV=e=>e!==null;function DV(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(MV),l=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[l]}const RV={type:"spring",stiffness:500,damping:25,restSpeed:10},LV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$V={type:"keyframes",duration:.8},IV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zV=(e,{keyframes:t})=>t.length>2?$V:zc.has(e)?e.startsWith("scale")?LV(t[1]):RV:IV;function BV({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:m,...h}){return!!Object.keys(h).length}const cj=(e,t,n,r={},i,l)=>c=>{const d=Xw(r,e)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Aa(f);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:g=>{t.set(g),d.onUpdate&&d.onUpdate(g)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:i};BV(d)||Object.assign(h,zV(e,h)),h.duration&&(h.duration=Aa(h.duration)),h.repeatDelay&&(h.repeatDelay=Aa(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let x=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(c1(h),h.delay===0&&(x=!0)),(Is.instantAnimations||Is.skipAnimations)&&(x=!0,c1(h),h.delay=0),h.allowFlatten=!d.type&&!d.ease,x&&!l&&t.get()!==void 0){const g=DV(h.keyframes,d);if(g!==void 0){Ut.update(()=>{h.onUpdate(g),h.onComplete()});return}}return d.isSync?new Gw(h):new fF(h)};function UV({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function uj(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(l=r);const f=[],m=i&&e.animationState&&e.animationState.getState()[i];for(const h in d){const x=e.getValue(h,e.latestValues[h]??null),g=d[h];if(g===void 0||m&&UV(m,h))continue;const b={delay:n,...Xw(l||{},h)},w=x.get();if(w!==void 0&&!x.isAnimating&&!Array.isArray(g)&&g===w&&!b.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const _=eO(e);if(_){const C=window.MotionHandoffAnimation(_,h,Ut);C!==null&&(b.startTime=C,j=!0)}}p1(e,h),x.start(cj(h,x,g,e.shouldReduceMotion&&gP.has(h)?{type:!1}:b,e,j));const S=x.animation;S&&f.push(S)}return c&&Promise.all(f).then(()=>{Ut.update(()=>{c&&PV(e,c)})}),f}function tO(e,t,n,r=0,i=1){const l=Array.from(e).sort((m,h)=>m.sortNodePosition(h)).indexOf(t),c=e.size,d=(c-1)*r;return typeof n=="function"?n(l,c):i===1?l*r:d-l*r}function x1(e,t,n={}){var f;const r=lc(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const l=r?()=>Promise.all(uj(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:h=0,staggerChildren:x,staggerDirection:g}=i;return FV(e,t,m,h,x,g,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[m,h]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>h())}else return Promise.all([l(),c(n.delay)])}function FV(e,t,n=0,r=0,i=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(x1(f,t,{...c,delay:n+(typeof r=="function"?0:r)+tO(e.variantChildren,f,r,i,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function VV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(l=>x1(e,l,n));r=Promise.all(i)}else if(typeof t=="string")r=x1(e,t,n);else{const i=typeof t=="function"?lc(e,t,n.custom):t;r=Promise.all(uj(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function nO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const HV=nj.length;function rO(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?rO(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<HV;n++){const r=nj[n],i=e.props[r];(Vd(i)||i===!1)&&(t[r]=i)}return t}const qV=[...tj].reverse(),KV=tj.length;function GV(e){return t=>Promise.all(t.map(({animation:n,options:r})=>VV(e,n,r)))}function YV(e){let t=GV(e),n=Z5(),r=!0;const i=f=>(m,h)=>{var g;const x=lc(e,h,f==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(x){const{transition:b,transitionEnd:w,...j}=x;m={...m,...j,...w}}return m};function l(f){t=f(e)}function c(f){const{props:m}=e,h=rO(e.parent)||{},x=[],g=new Set;let b={},w=1/0;for(let S=0;S<KV;S++){const _=qV[S],C=n[_],k=m[_]!==void 0?m[_]:h[_],O=Vd(k),A=_===f?C.isActive:null;A===!1&&(w=S);let E=k===h[_]&&k!==m[_]&&O;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),C.protectedKeys={...b},!C.isActive&&A===null||!k&&!C.prevProp||ip(k)||typeof k=="boolean")continue;const $=WV(C.prevProp,k);let M=$||_===f&&C.isActive&&!E&&O||S>w&&O,F=!1;const G=Array.isArray(k)?k:[k];let V=G.reduce(i(_),{});A===!1&&(V={});const{prevResolvedValues:U={}}=C,te={...U,...V},be=q=>{M=!0,g.has(q)&&(F=!0,g.delete(q)),C.needsAnimating[q]=!0;const H=e.getValue(q);H&&(H.liveStyle=!1)};for(const q in te){const H=V[q],B=U[q];if(b.hasOwnProperty(q))continue;let T=!1;h1(H)&&h1(B)?T=!nO(H,B):T=H!==B,T?H!=null?be(q):g.add(q):H!==void 0&&g.has(q)?be(q):C.protectedKeys[q]=!0}C.prevProp=k,C.prevResolvedValues=V,C.isActive&&(b={...b,...V}),r&&e.blockInitialAnimation&&(M=!1);const re=E&&$;M&&(!re||F)&&x.push(...G.map(q=>{const H={type:_};if(typeof q=="string"&&r&&!re&&e.manuallyAnimateOnMount&&e.parent){const{parent:B}=e,T=lc(B,q);if(B.enteringChildren&&T){const{delayChildren:D}=T.transition||{};H.delay=tO(B.enteringChildren,e,D)}}return{animation:q,options:H}}))}if(g.size){const S={};if(typeof m.initial!="boolean"){const _=lc(e,Array.isArray(m.initial)?m.initial[0]:m.initial);_&&_.transition&&(S.transition=_.transition)}g.forEach(_=>{const C=e.getBaseTarget(_),k=e.getValue(_);k&&(k.liveStyle=!0),S[_]=C??null}),x.push({animation:S})}let j=!!x.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(x):Promise.resolve()}function d(f,m){var x;if(n[f].isActive===m)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(g=>{var b;return(b=g.animationState)==null?void 0:b.setActive(f,m)}),n[f].isActive=m;const h=c(f);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Z5(),r=!0}}}function WV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!nO(t,e):!1}function gl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z5(){return{animate:gl(!0),whileInView:gl(),whileHover:gl(),whileTap:gl(),whileDrag:gl(),whileFocus:gl(),exit:gl()}}class Yi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class XV extends Yi{constructor(t){super(t),t.animationState||(t.animationState=YV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ip(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ZV=0;class QV extends Yi{constructor(){super(...arguments),this.id=ZV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const JV={animation:{Feature:XV},exit:{Feature:QV}};function Kd(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function xf(e){return{point:{x:e.pageX,y:e.pageY}}}const eH=e=>t=>Jw(t)&&e(t,xf(t));function Cd(e,t,n,r){return Kd(e,t,eH(n),r)}const aO=1e-4,tH=1-aO,nH=1+aO,sO=.01,rH=0-sO,aH=0+sO;function nr(e){return e.max-e.min}function sH(e,t,n){return Math.abs(e-t)<=n}function Q5(e,t,n,r=.5){e.origin=r,e.originPoint=Kt(t.min,t.max,e.origin),e.scale=nr(n)/nr(t),e.translate=Kt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=tH&&e.scale<=nH||isNaN(e.scale))&&(e.scale=1),(e.translate>=rH&&e.translate<=aH||isNaN(e.translate))&&(e.translate=0)}function kd(e,t,n,r){Q5(e.x,t.x,n.x,r?r.originX:void 0),Q5(e.y,t.y,n.y,r?r.originY:void 0)}function J5(e,t,n){e.min=n.min+t.min,e.max=e.min+nr(t)}function iH(e,t,n){J5(e.x,t.x,n.x),J5(e.y,t.y,n.y)}function e3(e,t,n){e.min=t.min-n.min,e.max=e.min+nr(t)}function Ad(e,t,n){e3(e.x,t.x,n.x),e3(e.y,t.y,n.y)}function aa(e){return[e("x"),e("y")]}const iO=({current:e})=>e?e.ownerDocument.defaultView:null,t3=(e,t)=>Math.abs(e-t);function lH(e,t){const n=t3(e.x,t.x),r=t3(e.y,t.y);return Math.sqrt(n**2+r**2)}class lO{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=yv(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=lH(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:j}=g,{timestamp:S}=$n;this.history.push({...j,timestamp:S});const{onStart:_,onMove:C}=this.handlers;b||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=vv(b,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=yv(g.type==="pointercancel"?this.lastMoveEventInfo:vv(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,_),j&&j(g,_)},!Jw(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=i||window;const d=xf(t),f=vv(d,this.transformPagePoint),{point:m}=f,{timestamp:h}=$n;this.history=[{...m,timestamp:h}];const{onSessionStart:x}=n;x&&x(t,yv(f,this.history)),this.removeListeners=mf(Cd(this.contextWindow,"pointermove",this.handlePointerMove),Cd(this.contextWindow,"pointerup",this.handlePointerUp),Cd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zs(this.updatePoint)}}function vv(e,t){return t?{point:t(e.point)}:e}function n3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yv({point:e},t){return{point:e,delta:n3(e,oO(t)),offset:n3(e,oH(t)),velocity:cH(t,.1)}}function oH(e){return e[0]}function oO(e){return e[e.length-1]}function cH(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=oO(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Aa(t)));)n--;if(!r)return{x:0,y:0};const l=Wa(i.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-r.x)/l,y:(i.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function uH(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Kt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Kt(n,e,r.max):Math.min(e,n)),e}function r3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function dH(e,{top:t,left:n,bottom:r,right:i}){return{x:r3(e.x,n,i),y:r3(e.y,t,r)}}function a3(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function fH(e,t){return{x:a3(e.x,t.x),y:a3(e.y,t.y)}}function mH(e,t){let n=.5;const r=nr(e),i=nr(t);return i>r?n=xc(t.min,t.max-r,e.min):r>i&&(n=xc(e.min,e.max-i,t.min)),$s(0,1,n)}function hH(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const g1=.35;function pH(e=g1){return e===!1?e=0:e===!0&&(e=g1),{x:s3(e,"left","right"),y:s3(e,"top","bottom")}}function s3(e,t,n){return{min:i3(e,t),max:i3(e,n)}}function i3(e,t){return typeof e=="number"?e:e[t]||0}const xH=new WeakMap;class gH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xf(x).point)},c=(x,g)=>{const{drag:b,dragPropagation:w,onDragStart:j}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EF(b),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),aa(_=>{let C=this.getAxisMotionValue(_).get()||0;if(Xa.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const O=k.layout.layoutBox[_];O&&(C=nr(O)*(parseFloat(C)/100))}}this.originPoint[_]=C}),j&&Ut.postRender(()=>j(x,g)),p1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:j,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=g;if(w&&this.currentDirection===null){this.currentDirection=vH(_),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),S&&S(x,g)},f=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g,this.stop(x,g),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>aa(x=>{var g;return this.getAnimationState(x)==="paused"&&((g=this.getAxisMotionValue(x).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new lO(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:iO(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!i||!r)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ut.postRender(()=>d(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Xm(t,i,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=uH(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,i=this.constraints;t&&Jo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=dH(r.layoutBox,t):this.constraints=!1,this.elastic=pH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&aa(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=hH(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Jo(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=NV(r,i.root,this.visualElement.getTransformPagePoint());let c=fH(i.layout.layoutBox,l);if(n){const d=n(bV(c));this.hasMutatedConstraints=!!d,d&&(c=VP(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=aa(h=>{if(!Xm(h,n,this.currentDirection))return;let x=f&&f[h]||{};c&&(x={min:0,max:0});const g=i?200:1e6,b=i?40:1e7,w={type:"inertia",velocity:r?t[h]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(h,w)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return p1(this.visualElement,t),r.start(cj(t,r,0,n,this.visualElement,!1))}stopAnimation(){aa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){aa(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){aa(n=>{const{drag:r}=this.getProps();if(!Xm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];l.set(t[n]-Kt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};aa(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();i[c]=mH({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),aa(c=>{if(!Xm(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Kt(f,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;xH.set(this.visualElement,this);const t=this.visualElement.current,n=Cd(t,"pointerdown",f=>{const{drag:m,dragListener:h=!0}=this.getProps();m&&h&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Jo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ut.read(r);const c=Kd(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(aa(h=>{const x=this.getAxisMotionValue(h);x&&(this.originPoint[h]+=f[h].translate,x.set(x.get()+f[h].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=g1,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Xm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function vH(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class yH extends Yi{constructor(t){super(t),this.removeGroupControls=ca,this.removeListeners=ca,this.controls=new gH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ca}unmount(){this.removeGroupControls(),this.removeListeners()}}const l3=e=>(t,n)=>{e&&Ut.postRender(()=>e(t,n))};class bH extends Yi{constructor(){super(...arguments),this.removePointerDownListener=ca}onPointerDown(t){this.session=new lO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:l3(t),onStart:l3(n),onMove:r,onEnd:(l,c)=>{delete this.session,i&&Ut.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=Cd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(We.test(e))e=parseFloat(e);else return e;const n=o3(e,t.target.x),r=o3(e,t.target.y);return`${n}% ${r}%`}},wH={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Vi.parse(e);if(i.length>5)return r;const l=Vi.createTransformer(e),c=typeof i[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;i[0+c]/=d,i[1+c]/=f;const m=Kt(d,f,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),l(i)}};let bv=!1;class jH extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:l}=t;YF(NH),l&&(n.group&&n.group.add(l),r&&r.register&&i&&r.register(l),bv&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,bv=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Ut.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Qw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;bv=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function cO(e){const[t,n]=EP(),r=v.useContext(Tw);return a.jsx(jH,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(UP),isPresent:t,safeToRemove:n})}const NH={borderRadius:{...Yu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yu,borderTopRightRadius:Yu,borderBottomLeftRadius:Yu,borderBottomRightRadius:Yu,boxShadow:wH};function uO(e,t,n){const r=Tn(e)?e:Gl(e);return r.start(cj("",r,t,n)),r.animation}const SH=(e,t)=>e.depth-t.depth;class _H{constructor(){this.children=[],this.isDirty=!1}add(t){Mw(this.children,t),this.isDirty=!0}remove(t){rp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SH),this.isDirty=!1,this.children.forEach(t)}}function CH(e,t){const n=xr.now(),r=({timestamp:i})=>{const l=i-n;l>=t&&(zs(r),e(l-t))};return Ut.setup(r,!0),()=>zs(r)}const dO=["TopLeft","TopRight","BottomLeft","BottomRight"],kH=dO.length,c3=e=>typeof e=="string"?parseFloat(e):e,u3=e=>typeof e=="number"||We.test(e);function AH(e,t,n,r,i,l){i?(e.opacity=Kt(0,n.opacity??1,EH(r)),e.opacityExit=Kt(t.opacity??1,0,TH(r))):l&&(e.opacity=Kt(t.opacity??1,n.opacity??1,r));for(let c=0;c<kH;c++){const d=`border${dO[c]}Radius`;let f=d3(t,d),m=d3(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||u3(f)===u3(m)?(e[d]=Math.max(Kt(c3(f),c3(m),r),0),(Xa.test(m)||Xa.test(f))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=Kt(t.rotate||0,n.rotate||0,r))}function d3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const EH=fO(0,.5,V6),TH=fO(.5,.95,ca);function fO(e,t,n){return r=>r<e?0:r>t?1:n(xc(e,t,r))}function f3(e,t){e.min=t.min,e.max=t.max}function Qr(e,t){f3(e.x,t.x),f3(e.y,t.y)}function m3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function h3(e,t,n,r,i){return e-=t,e=s0(e,1/n,r),i!==void 0&&(e=s0(e,1/i,r)),e}function PH(e,t=0,n=1,r=.5,i,l=e,c=e){if(Xa.test(t)&&(t=parseFloat(t),t=Kt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Kt(l.min,l.max,r);e===l&&(d-=t),e.min=h3(e.min,t,n,d,i),e.max=h3(e.max,t,n,d,i)}function p3(e,t,[n,r,i],l,c){PH(e,t[n],t[r],t[i],t.scale,l,c)}const OH=["x","scaleX","originX"],MH=["y","scaleY","originY"];function x3(e,t,n,r){p3(e.x,t,OH,n?n.x:void 0,r?r.x:void 0),p3(e.y,t,MH,n?n.y:void 0,r?r.y:void 0)}function g3(e){return e.translate===0&&e.scale===1}function mO(e){return g3(e.x)&&g3(e.y)}function v3(e,t){return e.min===t.min&&e.max===t.max}function DH(e,t){return v3(e.x,t.x)&&v3(e.y,t.y)}function y3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function hO(e,t){return y3(e.x,t.x)&&y3(e.y,t.y)}function b3(e){return nr(e.x)/nr(e.y)}function w3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class RH{constructor(){this.members=[]}add(t){Mw(this.members,t),t.scheduleRender()}remove(t){if(rp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LH(e,t,n){let r="";const i=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((i||l||c)&&(r=`translate3d(${i}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:h,rotateX:x,rotateY:g,skewX:b,skewY:w}=n;m&&(r=`perspective(${m}px) ${r}`),h&&(r+=`rotate(${h}deg) `),x&&(r+=`rotateX(${x}deg) `),g&&(r+=`rotateY(${g}deg) `),b&&(r+=`skewX(${b}deg) `),w&&(r+=`skewY(${w}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const wv=["","X","Y","Z"],$H=1e3;let IH=0;function jv(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function pO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=eO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ut,!(i||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&pO(r)}function xO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=t==null?void 0:t()){this.id=IH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UH),this.nodes.forEach(qH),this.nodes.forEach(KH),this.nodes.forEach(FH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new _H)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Lw),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ej(c)&&!AP(c),this.instance=c;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let h,x=0;const g=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{x=window.innerWidth}),e(c,()=>{const b=window.innerWidth;b!==x&&(x=b,this.root.updateBlockedByResize=!0,h&&h(),h=CH(g,250),qh.hasAnimatedSinceResize&&(qh.hasAnimatedSinceResize=!1,this.nodes.forEach(S3)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||ZH,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=m.getProps(),_=!this.targetLayout||!hO(this.targetLayout,b),C=!x&&g;if(this.options.layoutRoot||this.resumeFrom||C||x&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Xw(w,"layout"),onPlay:j,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,C)}else x||S3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GH),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const x=this.path[h];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(j3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(N3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HH),this.nodes.forEach(zH),this.nodes.forEach(BH)):this.nodes.forEach(N3),this.clearAllSnapshots();const d=xr.now();$n.delta=$s(0,1e3/60,d-$n.timestamp),$n.timestamp=d,$n.isProcessing=!0,uv.update.process($n),uv.preRender.process($n),uv.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VH),this.sharedNodes.forEach(YH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nr(this.snapshot.measuredBox.x)&&!nr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!mO(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,h=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||_l(this.latestValues)||h)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),QH(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return nn();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(JH))){const{scroll:h}=this.root;h&&(ec(d.x,h.offset.x),ec(d.y,h.offset.y))}return d}removeElementScroll(c){var f;const d=nn();if(Qr(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const h=this.path[m],{scroll:x,options:g}=h;h!==this.root&&x&&g.layoutScroll&&(x.wasRoot&&Qr(d,c),ec(d.x,x.offset.x),ec(d.y,x.offset.y))}return d}applyTransform(c,d=!1){const f=nn();Qr(f,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];!d&&h.options.layoutScroll&&h.scroll&&h!==h.root&&tc(f,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),_l(h.latestValues)&&tc(f,h.latestValues)}return _l(this.latestValues)&&tc(f,this.latestValues),f}removeTransform(c){const d=nn();Qr(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!_l(m.latestValues))continue;d1(m.latestValues)&&m.updateSnapshot();const h=nn(),x=m.measurePageBox();Qr(h,x),x3(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,h)}return _l(this.latestValues)&&x3(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Ad(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qr(this.target,this.layout.layoutBox),qP(this.target,this.targetDelta)):Qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Ad(this.relativeTargetOrigin,this.target,b.target),Qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||d1(this.parent.latestValues)||HP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(f=!1),f)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;Qr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,g=this.treeScale.y;jV(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=nn());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m3(this.prevProjectionDelta.x,this.projectionDelta.x),m3(this.prevProjectionDelta.y,this.projectionDelta.y)),kd(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==g||!w3(this.projectionDelta.x,this.prevProjectionDelta.x)||!w3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},h={...this.latestValues},x=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const g=nn(),b=f?f.source:void 0,w=this.layout?this.layout.source:void 0,j=b!==w,S=this.getStack(),_=!S||S.members.length<=1,C=!!(j&&!_&&this.options.crossfade===!0&&!this.path.some(XH));this.animationProgress=0;let k;this.mixTargetDelta=O=>{const A=O/1e3;_3(x.x,c.x,A),_3(x.y,c.y,A),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ad(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WH(this.relativeTarget,this.relativeTargetOrigin,g,A),k&&DH(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=nn()),Qr(k,this.relativeTarget)),j&&(this.animationValues=h,AH(h,m,this.latestValues,A,C,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(zs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{qh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gl(0)),this.currentAnimation=uO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($H),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:h}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&gO(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||nn();const x=nr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const g=nr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+g}Qr(d,f),tc(d,h),kd(this.projectionDeltaWithTransform,this.layoutCorrected,d,h)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new RH),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&jv("z",c,m,this.animationValues);for(let h=0;h<wv.length;h++)jv(`rotate${wv[h]}`,c,m,this.animationValues),jv(`skew${wv[h]}`,c,m,this.animationValues);c.render();for(const h in m)c.setStaticValue(h,m[h]),this.animationValues&&(this.animationValues[h]=m[h]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Hh(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Hh(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!_l(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const h=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=LH(this.projectionDeltaWithTransform,this.treeScale,h);f&&(x=f(h,x)),c.transform=x;const{x:g,y:b}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,m.animationValues?c.opacity=m===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Hd){if(h[w]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:_}=Hd[w],C=x==="none"?h[w]:j(h[w],m);if(S){const k=S.length;for(let O=0;O<k;O++)c[S[O]]=C}else _?this.options.visualElement.renderState.vars[w]=C:c[w]=C}this.options.layoutId&&(c.pointerEvents=m===this?Hh(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(j3),this.root.sharedNodes.clear()}}}function zH(e){e.updateLayout()}function BH(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?aa(x=>{const g=c?t.measuredBox[x]:t.layoutBox[x],b=nr(g);g.min=r[x].min,g.max=g.min+b}):gO(l,t.layoutBox,r)&&aa(x=>{const g=c?t.measuredBox[x]:t.layoutBox[x],b=nr(r[x]);g.max=g.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+b)});const d=nc();kd(d,r,t.layoutBox);const f=nc();c?kd(f,e.applyTransform(i,!0),t.measuredBox):kd(f,r,t.layoutBox);const m=!mO(d);let h=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:g,layout:b}=x;if(g&&b){const w=nn();Ad(w,t.layoutBox,g.layoutBox);const j=nn();Ad(j,r,b.layoutBox),hO(w,j)||(h=!0),x.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=w,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function UH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function FH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function VH(e){e.clearSnapshot()}function j3(e){e.clearMeasurements()}function N3(e){e.isLayoutDirty=!1}function HH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function S3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qH(e){e.resolveTargetDelta()}function KH(e){e.calcProjection()}function GH(e){e.resetSkewAndRotation()}function YH(e){e.removeLeadSnapshot()}function _3(e,t,n){e.translate=Kt(t.translate,0,n),e.scale=Kt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function C3(e,t,n,r){e.min=Kt(t.min,n.min,r),e.max=Kt(t.max,n.max,r)}function WH(e,t,n,r){C3(e.x,t.x,n.x,r),C3(e.y,t.y,n.y,r)}function XH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ZH={duration:.45,ease:[.4,0,.1,1]},k3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),A3=k3("applewebkit/")&&!k3("chrome/")?Math.round:ca;function E3(e){e.min=A3(e.min),e.max=A3(e.max)}function QH(e){E3(e.x),E3(e.y)}function gO(e,t,n){return e==="position"||e==="preserve-aspect"&&!sH(b3(t),b3(n),.2)}function JH(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const eq=xO({attachResizeListener:(e,t)=>Kd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nv={current:void 0},vO=xO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Nv.current){const e=new eq({});e.mount(window),e.setOptions({layoutScroll:!0}),Nv.current=e}return Nv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tq={pan:{Feature:bH},drag:{Feature:yH,ProjectionNode:vO,MeasureLayout:cO}};function T3(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,l=r[i];l&&Ut.postRender(()=>l(t,xf(t)))}class nq extends Yi{mount(){const{current:t}=this.node;t&&(this.unmount=TF(t,(n,r)=>(T3(this.node,r,"Start"),i=>T3(this.node,i,"End"))))}unmount(){}}class rq extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mf(Kd(this.node.current,"focus",()=>this.onFocus()),Kd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function P3(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),l=r[i];l&&Ut.postRender(()=>l(t,xf(t)))}class aq extends Yi{mount(){const{current:t}=this.node;t&&(this.unmount=DF(t,(n,r)=>(P3(this.node,r,"Start"),(i,{success:l})=>P3(this.node,i,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const v1=new WeakMap,Sv=new WeakMap,sq=e=>{const t=v1.get(e.target);t&&t(e)},iq=e=>{e.forEach(sq)};function lq({root:e,...t}){const n=e||document;Sv.has(n)||Sv.set(n,{});const r=Sv.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(iq,{root:e,...t})),r[i]}function oq(e,t,n){const r=lq(t);return v1.set(e,n),r.observe(e),()=>{v1.delete(e),r.unobserve(e)}}const cq={some:0,all:1};class uq extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:cq[i]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:h,onViewportLeave:x}=this.node.getProps(),g=m?h:x;g&&g(f)};return oq(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(dq(t,n))&&this.startObserver()}unmount(){}}function dq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const fq={inView:{Feature:uq},tap:{Feature:aq},focus:{Feature:rq},hover:{Feature:nq}},mq={layout:{ProjectionNode:vO,MeasureLayout:cO}},hq={...JV,...fq,...tq,...mq},pe=yV(hq,AV);function vc(e){const t=ff(()=>Gl(e)),{isStatic:n}=v.useContext(ap);if(n){const[,r]=v.useState(e);v.useEffect(()=>t.on("change",r),[])}return t}function yO(e,t){const n=vc(t()),r=()=>n.set(t());return r(),Ow(()=>{const i=()=>Ut.preRender(r,!1,!0),l=e.map(c=>c.on("change",i));return()=>{l.forEach(c=>c()),zs(r)}}),n}function pq(e){_d.current=[],e();const t=yO(_d.current,e);return _d.current=void 0,t}function i0(e,t,n,r){if(typeof e=="function")return pq(e);const i=typeof t=="function"?t:RF(t,n,r);return Array.isArray(e)?O3(e,i):O3([e],([l])=>i(l))}function O3(e,t){const n=ff(()=>[]);return yO(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}function dj(e){return typeof e=="object"&&!Array.isArray(e)}function bO(e,t,n,r){return typeof e=="string"&&dj(t)?jP(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function xq(e,t,n){return e*(t+1)}function M3(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}function gq(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(rp(e,i),r--)}}function vq(e,t,n,r,i,l){gq(e,i,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:Kt(i,l,r[c]),easing:G6(n,c)})}function yq(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function bq(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const wq="easeInOut";function jq(e,{defaultTransition:t={},...n}={},r,i){const l=t.duration||.3,c=new Map,d=new Map,f={},m=new Map;let h=0,x=0,g=0;for(let b=0;b<e.length;b++){const w=e[b];if(typeof w=="string"){m.set(w,x);continue}else if(!Array.isArray(w)){m.set(w.name,M3(x,w.at,h,m));continue}let[j,S,_={}]=w;_.at!==void 0&&(x=M3(x,_.at,h,m));let C=0;const k=(O,A,E,$=0,M=0)=>{const F=Nq(O),{delay:G=0,times:V=cP(F),type:U="keyframes",repeat:te,repeatType:be,repeatDelay:re=0,...R}=A;let{ease:q=t.ease||"easeOut",duration:H}=A;const B=typeof G=="function"?G($,M):G,T=F.length,D=Ww(U)?U:i==null?void 0:i[U||"keyframes"];if(T<=2&&D){let z=100;if(T===2&&Cq(F)){const se=F[1]-F[0];z=Math.abs(se)}const Y={...R};H!==void 0&&(Y.duration=Aa(H));const ye=sP(Y,z,D);q=ye.ease,H=ye.duration}H??(H=l);const L=x+B;V.length===1&&V[0]===0&&(V[1]=1);const K=V.length-F.length;if(K>0&&oP(V,K),F.length===1&&F.unshift(null),te){H=xq(H,te);const z=[...F],Y=[...V];q=Array.isArray(q)?[...q]:[q];const ye=[...q];for(let se=0;se<te;se++){F.push(...z);for(let ve=0;ve<z.length;ve++)V.push(Y[ve]+(se+1)),q.push(ve===0?"linear":G6(ye,ve-1))}yq(V,te)}const oe=L+H;vq(E,F,q,V,L,oe),C=Math.max(B+H,C),g=Math.max(oe,g)};if(Tn(j)){const O=D3(j,d);k(S,_,R3("default",O))}else{const O=bO(j,S,r,f),A=O.length;for(let E=0;E<A;E++){S=S,_=_;const $=O[E],M=D3($,d);for(const F in S)k(S[F],Sq(_,F),R3(F,M),E,A)}}h=x,x+=C}return d.forEach((b,w)=>{for(const j in b){const S=b[j];S.sort(bq);const _=[],C=[],k=[];for(let A=0;A<S.length;A++){const{at:E,value:$,easing:M}=S[A];_.push($),C.push(xc(0,g,E)),k.push(M||"easeOut")}C[0]!==0&&(C.unshift(0),_.unshift(_[0]),k.unshift(wq)),C[C.length-1]!==1&&(C.push(1),_.push(null)),c.has(w)||c.set(w,{keyframes:{},transition:{}});const O=c.get(w);O.keyframes[j]=_,O.transition[j]={...t,duration:g,ease:k,times:C,...n}}}),c}function D3(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function R3(e,t){return t[e]||(t[e]=[]),t[e]}function Nq(e){return Array.isArray(e)?e:[e]}function Sq(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const _q=e=>typeof e=="number",Cq=e=>e.every(_q);function kq(e,t){return e in t}class Aq extends YP{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(kq(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return nn()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function Eq(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=ej(e)&&!AP(e)?new JP(t):new ZP(t);n.mount(e),qd.set(e,n)}function Tq(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Aq(t);n.mount(e),qd.set(e,n)}function Pq(e,t){return Tn(e)||typeof e=="number"||typeof e=="string"&&!dj(t)}function wO(e,t,n,r){const i=[];if(Pq(e,t))i.push(uO(e,dj(t)&&t.default||t,n&&(n.default||n)));else{const l=bO(e,t,r),c=l.length;for(let d=0;d<c;d++){const f=l[d],m=f instanceof Element?Eq:Tq;qd.has(f)||m(f);const h=qd.get(f),x={...n};"delay"in x&&typeof x.delay=="function"&&(x.delay=x.delay(d,c)),i.push(...uj(h,{...t,transition:x},{}))}}return i}function Oq(e,t,n){const r=[];return jq(e,t,n,{spring:Fd}).forEach(({keyframes:l,transition:c},d)=>{r.push(...wO(d,l,c))}),r}function Mq(e){return Array.isArray(e)&&e.some(Array.isArray)}function Dq(e){function t(n,r,i){let l=[];return Mq(n)?l=Oq(n,r,e):l=wO(n,r,i,e),new hF(l)}return t}const Rq=Dq(),L3="http://localhost:8000";function Lq(){const[e,t]=v.useState(["","","",""]),[n,r]=v.useState(""),[i,l]=v.useState(!1),[c,d]=v.useState(0),f=[v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null)],m=Vt();v.useEffect(()=>{const _=new URLSearchParams(window.location.search).get("email");_&&r(decodeURIComponent(_)),setTimeout(()=>{var C;return(C=f[0].current)==null?void 0:C.focus()},50)},[]),v.useEffect(()=>{if(c>0){const S=setTimeout(()=>d(_=>_-1),1e3);return()=>clearTimeout(S)}},[c]);const h=(S,_)=>{var O;const C=_.replace(/\D/g,"");if(C.length>1)return;const k=[...e];k[S]=C,t(k),C&&S<3&&((O=f[S+1].current)==null||O.focus()),k.every(A=>A!=="")&&k.join("").length===4&&b(k.join(""))},x=(S,_)=>{var C,k,O;_.key==="Backspace"&&!e[S]&&S>0&&((C=f[S-1].current)==null||C.focus()),_.key==="Enter"&&b(e.join("")),_.key==="ArrowLeft"&&S>0&&((k=f[S-1].current)==null||k.focus()),_.key==="ArrowRight"&&S<3&&((O=f[S+1].current)==null||O.focus())},g=S=>{var O,A;S.preventDefault();const _=S.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(!_)return;const C=["","","",""];for(let E=0;E<_.length;E++)C[E]=_[E];t(C);const k=C.findIndex(E=>E==="");k!==-1?(O=f[k].current)==null||O.focus():(A=f[3].current)==null||A.focus(),C.every(E=>E!=="")&&b(C.join(""))},b=async(S=null)=>{var C,k,O;const _=S||e.join("");if(_.length!==4){W.error("Please enter all 4 digits");return}if(!n){W.error("Email is required for verification");return}l(!0);try{const A=await fetch(`${L3}/api/account-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:_,email:n})}),E=await A.json().catch(()=>({}));A.ok?(E.token&&localStorage.setItem("token",E.token),(C=E.user)!=null&&C.role&&localStorage.setItem("role",E.user.role),W.success("Account verified successfully! "),setTimeout(()=>m("/profile"),800)):(W.error("Invalid OTP. Please try again."),t(["","","",""]),(k=f[0].current)==null||k.focus())}catch{W.error("Network error. Please check your connection and try again."),t(["","","",""]),(O=f[0].current)==null||O.focus()}finally{l(!1)}},w=async()=>{var S;if(!(c>0||!n)){l(!0);try{(await fetch(`${L3}/api/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).ok?(W.success("New verification code sent to your email."),d(60),t(["","","",""]),(S=f[0].current)==null||S.focus()):W.error("Failed to resend code. Please try again.")}catch{W.error("Network error. Please try again.")}finally{l(!1)}}},j="shadow-[0_0_30px_rgba(37,99,235,0.35)]";return a.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx(pe.div,{className:"absolute -top-40 -left-40 h-[32rem] w-[32rem] rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(closest-side, #93c5fd, transparent)"},animate:{y:[0,20,0],x:[0,12,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),a.jsx(pe.div,{className:"absolute -bottom-48 -right-48 h-[36rem] w-[36rem] rounded-full blur-3xl opacity-70",style:{background:"radial-gradient(closest-side, #a5f3fc, transparent)"},animate:{y:[0,-16,0],x:[0,-10,0]},transition:{duration:9,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),a.jsx(pe.div,{className:"absolute inset-0",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.12), rgba(6,182,212,0.12), rgba(59,130,246,0.12))"},animate:{rotate:360},transition:{duration:24,repeat:1/0,ease:"linear"},"aria-hidden":!0})]}),a.jsxs("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsxs(pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},className:`relative h-16 w-16 rounded-2xl bg-white border border-blue-200/70 ${j} flex items-center justify-center`,children:[a.jsx(pe.div,{className:"absolute inset-0 rounded-2xl",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.25), rgba(6,182,212,0.25), rgba(59,130,246,0.25))"},animate:{rotate:-360},transition:{duration:12,repeat:1/0,ease:"linear"},"aria-hidden":!0}),a.jsx("div",{className:"absolute inset-[3px] rounded-2xl bg-white"}),a.jsx(Ta,{className:"relative w-7 h-7 text-blue-600"})]})}),a.jsx(pe.h2,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-slate-900",children:"Verify your account"}),a.jsxs(pe.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-2 text-center text-sm text-slate-600",children:["We sent a 4-digit code to",a.jsx("br",{}),a.jsx("span",{className:"font-medium text-blue-600",children:n||"your email"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx(pe.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:`bg-white/90 backdrop-blur-sm py-8 px-6 sm:px-10 border border-slate-200 rounded-2xl shadow-xl ${j}`,children:a.jsxs("form",{onSubmit:S=>{S.preventDefault(),b()},children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-4 text-center",children:"Enter verification code"}),a.jsx("div",{className:"flex justify-center gap-3 sm:gap-4 mb-6",children:e.map((S,_)=>a.jsx(pe.input,{ref:f[_],type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:S,onFocus:C=>C.target.select(),onChange:C=>h(_,C.target.value),onKeyDown:C=>x(_,C),onPaste:g,"aria-label":`OTP digit ${_+1}`,disabled:i,className:`w-14 h-16 sm:w-16 sm:h-18 text-center text-2xl sm:text-3xl font-bold rounded-xl outline-none transition-all duration-200
                      border-2 bg-white/90 backdrop-blur
                      focus:ring-2
                      ${S?"border-blue-400 focus:ring-blue-300":"border-slate-200 focus:border-blue-400 focus:ring-blue-300"}
                      ${S?j:""}
                      text-slate-900 placeholder-slate-400`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*_}},_))}),a.jsxs(pe.button,{type:"submit",disabled:i||e.join("").length!==4,className:`group w-full relative overflow-hidden flex justify-center items-center py-3 px-4 text-sm font-semibold rounded-xl text-white
                  transition-all duration-200
                  ${i||e.join("").length!==4?"bg-blue-500/80":"bg-blue-600 hover:bg-blue-700"}
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                  shadow-lg hover:shadow-xl ${j}`,whileTap:{scale:.98},children:[a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-40",children:a.jsx("span",{className:"absolute -inset-12 rotate-12 bg-gradient-to-r from-transparent via-white/50 to-transparent w-2/3 h-[200%] translate-x-[-150%] group-hover:translate-x-[120%] transition-transform duration-700"})}),i?a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"inline-block animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Verifying"]}):a.jsxs("div",{className:"flex items-center",children:["Verify Account",a.jsx(tp,{className:"ml-2 h-4 w-4 transition-transform duration-200 group-hover:translate-x-1"})]})]}),a.jsxs("div",{className:"mt-5 text-center",children:[a.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Didn't receive the code?"}),a.jsxs("button",{type:"button",onClick:w,disabled:c>0||i||!n,className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Ze,{className:"mr-1 h-4 w-4"}),c>0?`Resend in ${c}s`:"Resend Code"]})]})]})})})]})]})}function $q(){const[e,t]=v.useState({email:"",password:""}),[n,r]=v.useState(!1),[i,l]=v.useState({}),[c,d]=v.useState(!1),f=Vt(),m="http://localhost:8000",h=b=>{const{name:w,value:j}=b.target;t(S=>({...S,[w]:j})),i[w]&&l(S=>({...S,[w]:""}))},x=()=>{const b={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(b.email="Please enter a valid email address"):b.email="Email is required",e.password?e.password.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",l(b),Object.keys(b).length===0},g=async b=>{var w,j,S;if(b.preventDefault(),!!x()){d(!0),l({});try{const _=await fetch(`${m}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),C=await _.json();if(_.ok)C.token&&localStorage.setItem("token",C.token),(w=C.user)!=null&&w.role&&localStorage.setItem("role",C.user.role),(j=C.user)!=null&&j.name&&localStorage.setItem("name",C.user.name),(S=C.user)!=null&&S.email&&localStorage.setItem("email",C.user.email),W.success("Login successful! "),setTimeout(()=>{var O,A,E;const k=((E=(A=(O=C.user)==null?void 0:O.role)==null?void 0:A.toLowerCase)==null?void 0:E.call(A))||"";f(k==="user"?"/user/dashboard":k==="admin"?"/admin/dashboard":"/dashboard")},1200);else{const k=C.message||C.detail||"Invalid email or password. Please try again.";W.error(k),l({submit:k})}}catch{const _="Network error. Please check your connection and try again.";W.error(_),l({submit:_})}finally{d(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:a.jsx(ic,{className:"w-8 h-8 text-white"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign up here"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[i.submit&&a.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[a.jsx(ia,{className:"h-5 w-5 text-red-600 mr-3"}),a.jsx("p",{className:"text-sm text-red-700",children:i.submit})]}),a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ta,{className:`h-5 w-5 transition-colors duration-200 ${e.email?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${i.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!i.email&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx(Wb,{className:"h-5 w-5 text-green-500"})})]}),i.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(ia,{className:"h-4 w-4 mr-1"}),i.email]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Aw,{className:`h-5 w-5 transition-colors duration-200 ${e.password?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${i.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200 cursor-pointer",onClick:()=>r(!n),children:n?a.jsx(Cw,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):a.jsx(Jn,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),a.jsx("div",{className:"mt-2 flex justify-end",children:a.jsx("a",{href:"/forget_password",className:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Forgot password?"})}),i.password&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(ia,{className:"h-4 w-4 mr-1"}),i.password]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 cursor-pointer",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Signing in..."]}):a.jsxs("div",{className:"flex items-center",children:["Sign in",a.jsx(tp,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})]})})]})}function Iq({length:e=4,value:t,onChange:n}){const r=v.useRef([]),i=f=>{const m=r.current[f];m&&m.focus()},l=(f,m)=>{const h=m.replace(/\D/g,"").slice(0,1),x=(t||"").split("");x[f]=h;const g=x.join("");n(g),h&&f<e-1&&i(f+1)},c=(f,m)=>{const h=(t||"")[f]||"";if(m.key==="Backspace"){if(!h&&f>0){m.preventDefault();const x=(t||"").split("");x[f-1]="",n(x.join("")),i(f-1)}}else m.key==="ArrowLeft"&&f>0?(m.preventDefault(),i(f-1)):m.key==="ArrowRight"&&f<e-1&&(m.preventDefault(),i(f+1))},d=f=>{f.preventDefault();const m=(f.clipboardData.getData("text")||"").replace(/\D/g,"");if(!m)return;const h=(t||"").split("");for(let g=0;g<e;g++)h[g]=m[g]||"";n(h.join(""));const x=Math.min(m.length,e)-1;i(x>=0?x:0)};return a.jsx("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:Array.from({length:e}).map((f,m)=>{const h=(t||"")[m]||"";return a.jsx("input",{ref:x=>r.current[m]=x,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:h,onChange:x=>l(m,x.target.value),onKeyDown:x=>c(m,x),onPaste:m===0?d:void 0,className:`w-11 h-11 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-semibold\r
                       rounded-2xl border bg-white/80 backdrop-blur\r
                       border-gray-200 shadow-sm hover:shadow transition-all\r
                       focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500\r
                       focus:shadow-[0_6px_24px_rgba(59,130,246,0.18)] focus:scale-105\r
                       caret-transparent select-none`,"aria-label":`OTP digit ${m+1}`},m)})})}function zq(){const[e,t]=v.useState(1),[n,r]=v.useState(""),[i,l]=v.useState(""),[c,d]=v.useState(""),[f,m]=v.useState(!1),[h,x]=v.useState({}),[g,b]=v.useState(!1),w=Vt(),j="http://localhost:8000",S=()=>{const O={};return n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(O.email="Please enter a valid email address"):O.email="Email is required",x(O),Object.keys(O).length===0},_=()=>{const O={};return(!i||i.length!==4)&&(O.code="Enter the 4-digit OTP"),c.trim()?c.length<6&&(O.password="Password must be at least 6 characters"):O.password="Password is required",x(O),Object.keys(O).length===0},C=async O=>{if(O.preventDefault(),!!S()){b(!0);try{const A=await fetch(`${j}/api/password-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}),E=await A.json();A.ok?(W.success("Password reset OTP sent to your email! "),t(2)):W.error(E.detail||"Something went wrong.")}catch{W.error("Network error. Please try again.")}finally{b(!1)}}},k=async O=>{if(O.preventDefault(),!!_()){b(!0);try{const A=await fetch(`${j}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,code:i,password:c})}),E=await A.json();A.ok?(W.success("Password changed successfully! "),w("/user")):W.error(E.detail||"Failed to reset password.")}catch{W.error("Network error. Please try again.")}finally{b(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:a.jsx(Wz,{className:"w-8 h-8 text-white"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e===1?"Reset your password":"Enter OTP & New Password"}),e===2&&a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Weve sent a 4-digit code to"," ",a.jsx("span",{className:"font-medium",children:n})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white/90 backdrop-blur py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&a.jsxs("form",{className:"space-y-6",onSubmit:C,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ta,{className:`h-5 w-5 absolute left-3 top-3 ${n?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{type:"email",value:n,onChange:O=>r(O.target.value),className:"pl-10 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter your email",autoComplete:"email",autoFocus:!0})]}),h.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(ia,{className:"h-4 w-4 mr-1"}),h.email]})]}),a.jsx("button",{type:"submit",disabled:g,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:g?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending"]}):a.jsxs("div",{className:"flex items-center",children:["Send OTP",a.jsx(tp,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e===2&&a.jsxs("form",{className:"space-y-6",onSubmit:k,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-baseline justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),a.jsx("span",{className:"text-xs text-gray-500",children:"4 digits"})]}),a.jsx(Iq,{length:4,value:i,onChange:l}),h.code&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(ia,{className:"h-4 w-4 mr-1"}),h.code]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Aw,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:f?"text":"password",value:c,onChange:O=>d(O.target.value),className:"pl-10 pr-12 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter new password",autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>m(O=>!O),className:"absolute right-3 top-2.5 p-1.5 rounded-lg hover:bg-gray-100 text-gray-500","aria-label":f?"Hide password":"Show password",children:f?a.jsx(Cw,{className:"h-5 w-5"}):a.jsx(Jn,{className:"h-5 w-5"})})]}),h.password&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(ia,{className:"h-4 w-4 mr-1"}),h.password]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use at least 6 characters."})]}),a.jsx("button",{type:"submit",disabled:g||!(i.length===4&&c.length>=6),className:"w-full py-3 rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Resetting":"Reset Password"}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{type:"button",onClick:()=>t(1),className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:[a.jsx(C6,{className:"mr-1 h-4 w-4"}),"Change email"]})})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Remember your password?"," ",a.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in here"})]})})]})})]})}var y1=function(e,t){return y1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},y1(e,t)};function Bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");y1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var An=function(){return An=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},An.apply(this,arguments)};var _v,$3;function Uq(){if($3)return _v;$3=1;var e=!1,t,n,r,i,l,c,d,f,m,h,x,g,b,w,j;function S(){if(!e){e=!0;var C=navigator.userAgent,k=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(C),O=/(Mac OS X)|(Windows)|(Linux)/.exec(C);if(g=/\b(iPhone|iP[ao]d)/.exec(C),b=/\b(iP[ao]d)/.exec(C),h=/Android/i.exec(C),w=/FBAN\/\w+;/i.exec(C),j=/Mobile/i.exec(C),x=!!/Win64/.exec(C),k){t=k[1]?parseFloat(k[1]):k[5]?parseFloat(k[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var A=/(?:Trident\/(\d+.\d+))/.exec(C);c=A?parseFloat(A[1])+4:t,n=k[2]?parseFloat(k[2]):NaN,r=k[3]?parseFloat(k[3]):NaN,i=k[4]?parseFloat(k[4]):NaN,i?(k=/(?:Chrome\/(\d+\.\d+))/.exec(C),l=k&&k[1]?parseFloat(k[1]):NaN):l=NaN}else t=n=r=l=i=NaN;if(O){if(O[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(C);d=E?parseFloat(E[1].replace("_",".")):!0}else d=!1;f=!!O[2],m=!!O[3]}else d=f=m=!1}}var _={ie:function(){return S()||t},ieCompatibilityMode:function(){return S()||c>t},ie64:function(){return _.ie()&&x},firefox:function(){return S()||n},opera:function(){return S()||r},webkit:function(){return S()||i},safari:function(){return _.webkit()},chrome:function(){return S()||l},windows:function(){return S()||f},osx:function(){return S()||d},linux:function(){return S()||m},iphone:function(){return S()||g},mobile:function(){return S()||g||b||h||j},nativeApp:function(){return S()||w},android:function(){return S()||h},ipad:function(){return S()||b}};return _v=_,_v}var Cv,I3;function Fq(){if(I3)return Cv;I3=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return Cv=t,Cv}var kv,z3;function Vq(){if(z3)return kv;z3=1;var e=Fq(),t;e.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,i){if(!e.canUseDOM||i&&!("addEventListener"in document))return!1;var l="on"+r,c=l in document;if(!c){var d=document.createElement("div");d.setAttribute(l,"return;"),c=typeof d[l]=="function"}return!c&&t&&r==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return kv=n,kv}var Av,B3;function Hq(){if(B3)return Av;B3=1;var e=Uq(),t=Vq(),n=10,r=40,i=800;function l(c){var d=0,f=0,m=0,h=0;return"detail"in c&&(f=c.detail),"wheelDelta"in c&&(f=-c.wheelDelta/120),"wheelDeltaY"in c&&(f=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(d=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(d=f,f=0),m=d*n,h=f*n,"deltaY"in c&&(h=c.deltaY),"deltaX"in c&&(m=c.deltaX),(m||h)&&c.deltaMode&&(c.deltaMode==1?(m*=r,h*=r):(m*=i,h*=i)),m&&!d&&(d=m<1?-1:1),h&&!f&&(f=h<1?-1:1),{spinX:d,spinY:f,pixelX:m,pixelY:h}}return l.getEventType=function(){return e.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},Av=l,Av}var Ev,U3;function qq(){return U3||(U3=1,Ev=Hq()),Ev}var Kq=qq();const Gq=Oa(Kq);function Yq(e,t,n,r,i,l){l===void 0&&(l=0);var c=yc(e,t,l),d=c.width,f=c.height,m=Math.min(d,n),h=Math.min(f,r);return m>h*i?{width:h*i,height:h}:{width:m,height:m/i}}function Wq(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Wu(e,t,n,r,i){i===void 0&&(i=0);var l=yc(t.width,t.height,i),c=l.width,d=l.height;return{x:F3(e.x,c,n.width,r),y:F3(e.y,d,n.height,r)}}function F3(e,t,n,r){var i=t*r/2-n/2;return op(e,-i,i)}function V3(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function H3(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function Xq(e,t,n,r,i,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var d=c?Zq:Qq,f=yc(t.width,t.height,l),m=yc(t.naturalWidth,t.naturalHeight,l),h={x:d(100,((f.width-n.width/i)/2-e.x/i)/f.width*100),y:d(100,((f.height-n.height/i)/2-e.y/i)/f.height*100),width:d(100,n.width/f.width*100/i),height:d(100,n.height/f.height*100/i)},x=Math.round(d(m.width,h.width*m.width/100)),g=Math.round(d(m.height,h.height*m.height/100)),b=m.width>=m.height*r,w=b?{width:Math.round(g*r),height:g}:{width:x,height:Math.round(x/r)},j=An(An({},w),{x:Math.round(d(m.width-w.width,h.x*m.width/100)),y:Math.round(d(m.height-w.height,h.y*m.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:j}}function Zq(e,t){return Math.min(e,Math.max(0,t))}function Qq(e,t){return t}function Jq(e,t,n,r,i,l){var c=yc(t.width,t.height,n),d=op(r.width/c.width*(100/e.width),i,l),f={x:d*c.width/2-r.width/2-c.width*d*(e.x/100),y:d*c.height/2-r.height/2-c.height*d*(e.y/100)};return{crop:f,zoom:d}}function eK(e,t,n){var r=Wq(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function tK(e,t,n,r,i,l){n===void 0&&(n=0);var c=yc(t.naturalWidth,t.naturalHeight,n),d=op(eK(e,t,r),i,l),f=r.height>r.width?r.height/e.height:r.width/e.width,m={x:((c.width-e.width)/2-e.x)*f,y:((c.height-e.height)/2-e.y)*f};return{crop:m,zoom:d}}function q3(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function nK(e){return e*Math.PI/180}function yc(e,t,n){var r=nK(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function op(e,t,n){return Math.min(Math.max(e,t),n)}function Zm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var rK=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,aK=1,sK=3,iK=1,lK=function(e){Bq(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=v.createRef(),n.imageRef=v.createRef(),n.videoRef=v.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=Jq(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),l=i.crop,c=i.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}else if(n.props.initialCroppedAreaPixels){var d=tK(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),l=d.crop,c=d.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}},n.computeSizes=function(){var r,i,l,c,d,f,m=n.imageRef.current||n.videoRef.current;if(m&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var h=n.containerRect.width/n.containerRect.height,x=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,g=((l=n.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=n.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,b=m.offsetWidth<x||m.offsetHeight<g,w=x/g,j=void 0;if(b)switch(n.state.mediaObjectFit){default:case"contain":j=h>w?{width:n.containerRect.height*w,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/w};break;case"horizontal-cover":j={width:n.containerRect.width,height:n.containerRect.width/w};break;case"vertical-cover":j={width:n.containerRect.height*w,height:n.containerRect.height};break}else j={width:m.offsetWidth,height:m.offsetHeight};n.mediaSize=An(An({},j),{naturalWidth:x,naturalHeight:g}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:Yq(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((d=n.state.cropSize)===null||d===void 0?void 0:d.height)!==S.height||((f=n.state.cropSize)===null||f===void 0?void 0:f.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var i=t.getMousePoint(r),l=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(l,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var c=n.gestureRotationStart+r.rotation;n.props.onRotationChange(c)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,l,c=r.x,d=r.y;n.dragStartPosition={x:c,y:d},n.dragStartCrop=An({},n.props.crop),(l=(i=n.props).onInteractionStart)===null||l===void 0||l.call(i)},n.onDrag=function(r){var i=r.x,l=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||l===void 0)){var c=i-n.dragStartPosition.x,d=l-n.dragStartPosition.y,f={x:n.dragStartCrop.x+c,y:n.dragStartCrop.y+d},m=n.props.restrictPosition?Wu(f,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):f;n.props.onCropChange(m)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=t.getMousePoint(r),l=Gq(r).pixelY,c=n.props.zoom-l*n.props.zoomSpeed/200;n.setNewZoom(c,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var d,f;return(f=(d=n.props).onInteractionStart)===null||f===void 0?void 0:f.call(d)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var d,f;return(f=(d=n.props).onInteractionEnd)===null||f===void 0?void 0:f.call(d)})},250)}},n.getPointOnContainer=function(r,i){var l=r.x,c=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(l-i.x),y:n.containerRect.height/2-(c-i.y)}},n.getPointOnMedia=function(r){var i=r.x,l=r.y,c=n.props,d=c.crop,f=c.zoom;return{x:(i+d.x)/f,y:(l+d.y)/f}},n.setNewZoom=function(r,i,l){var c=l===void 0?{}:l,d=c.shouldUpdatePosition,f=d===void 0?!0:d;if(!(!n.state.cropSize||!n.props.onZoomChange)){var m=op(r,n.props.minZoom,n.props.maxZoom);if(f){var h=n.getPointOnContainer(i,n.containerPosition),x=n.getPointOnMedia(h),g={x:x.x*m-h.x,y:x.y*m-h.y},b=n.props.restrictPosition?Wu(g,n.mediaSize,n.state.cropSize,m,n.props.rotation):g;n.props.onCropChange(b)}n.props.onZoomChange(m)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Wu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return Xq(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,l=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,l),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,l)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,l=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,l)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?Wu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,l,c=n.props,d=c.crop,f=c.onCropChange,m=c.keyboardStep,h=c.zoom,x=c.rotation,g=m;if(n.state.cropSize){r.shiftKey&&(g*=.2);var b=An({},d);switch(r.key){case"ArrowUp":b.y-=g,r.preventDefault();break;case"ArrowDown":b.y+=g,r.preventDefault();break;case"ArrowLeft":b.x-=g,r.preventDefault();break;case"ArrowRight":b.x+=g,r.preventDefault();break;default:return}n.props.restrictPosition&&(b=Wu(b,n.mediaSize,n.state.cropSize,h,x)),r.repeat||(l=(i=n.props).onInteractionStart)===null||l===void 0||l.call(i),f(b)}},n.onKeyUp=function(r){var i,l;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(l=(i=n.props).onInteractionEnd)===null||l===void 0||l.call(i)},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=rK,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,i,l,c,d,f,m,h,x;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((l=n.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((d=n.crop)===null||d===void 0?void 0:d.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((m=n.crop)===null||m===void 0?void 0:m.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((x=this.videoRef.current)===null||x===void 0||x.load());var g=this.getObjectFit();g!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:g},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},t.prototype.getObjectFit=function(){var n,r,i,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,f=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,m=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,h=f/m;return h<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),i=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=V3(r,i),this.lastPinchRotation=H3(r,i),this.onDragStart(q3(r,i))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=t.getTouchPoint(n.touches[0]),l=t.getTouchPoint(n.touches[1]),c=q3(i,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=V3(i,l),f=r.props.zoom*(d/r.lastPinchDistance);r.setNewZoom(f,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=d;var m=H3(i,l),h=r.props.rotation+(m-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(h),r.lastPinchRotation=m})}},t.prototype.render=function(){var n=this,r,i=this.props,l=i.image,c=i.video,d=i.mediaProps,f=i.cropperProps,m=i.transform,h=i.crop,x=h.x,g=h.y,b=i.rotation,w=i.zoom,j=i.cropShape,S=i.showGrid,_=i.roundCropAreaPixels,C=i.style,k=C.containerStyle,O=C.cropAreaStyle,A=C.mediaStyle,E=i.classes,$=E.containerClassName,M=E.cropAreaClassName,F=E.mediaClassName,G=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return v.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(U){return n.containerRef=U},"data-testid":"container",style:k,className:Zm("reactEasyCrop_Container",$)},l?v.createElement("img",An({alt:"",className:Zm("reactEasyCrop_Image",G==="contain"&&"reactEasyCrop_Contain",G==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",G==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",F)},d,{src:l,ref:this.imageRef,style:An(An({},A),{transform:m||"translate(".concat(x,"px, ").concat(g,"px) rotate(").concat(b,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):c&&v.createElement("video",An({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Zm("reactEasyCrop_Video",G==="contain"&&"reactEasyCrop_Contain",G==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",G==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",F)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:An(An({},A),{transform:m||"translate(".concat(x,"px, ").concat(g,"px) rotate(").concat(b,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(V){return v.createElement("source",An({key:V.src},V))})),this.state.cropSize&&v.createElement("div",An({ref:this.cropperRef,style:An(An({},O),{width:_?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:_?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Zm("reactEasyCrop_CropArea",j==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",M)},f)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:sK,minZoom:aK,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:iK},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(v.Component);const K3="http://localhost:8000",G3=["image/png","image/jpeg","image/webp"],oK=5*1024*1024,cK=[`${K3}/api/auth`,`${K3}/api`];function Qm(...e){return e.filter(Boolean).join(" ")}async function uK(e,t,n=0){const i=await(_=>new Promise((C,k)=>{const O=new Image;O.addEventListener("load",()=>C(O)),O.addEventListener("error",A=>k(A)),O.crossOrigin="anonymous",O.src=_}))(e),l=n*Math.PI/180,c=i.naturalWidth||i.width,d=i.naturalHeight||i.height,f=document.createElement("canvas"),m=f.getContext("2d"),h=Math.abs(Math.sin(l)),x=Math.abs(Math.cos(l)),g=Math.floor(c*x+d*h),b=Math.floor(c*h+d*x);f.width=g,f.height=b,m.translate(g/2,b/2),m.rotate(l),m.drawImage(i,-c/2,-d/2);const w=m.getImageData(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height)),j=document.createElement("canvas");return j.width=Math.round(t.width),j.height=Math.round(t.height),j.getContext("2d").putImageData(w,0,0),new Promise(_=>{j.toBlob(C=>_(C),"image/jpeg",.92)})}function dK(){const e=Vt(),[t,n]=v.useState(null),[r,i]=v.useState(null),[l,c]=v.useState(null),[d,f]=v.useState({init:!0,saving:!1,delete:!1,refresh:!1}),[m,h]=v.useState({name:"",email:""}),[x,g]=v.useState(!1),[b,w]=v.useState({x:0,y:0}),[j,S]=v.useState(1),[_,C]=v.useState(0),[k,O]=v.useState(null),[A,E]=v.useState(!1),[$,M]=v.useState(!1),F=v.useRef(null),G=()=>localStorage.getItem("token")||"",V=()=>G()?{Authorization:`Bearer ${G()}`}:{},U=()=>G()?!0:(W.error("Authentication required. Please login again."),e("/login"),!1),te=async(z,Y={},{expectJson:ye=!0}={})=>{const se=[];for(const we of cK)try{const Ne=await fetch(`${we}${z}`,Y);if(Ne.status===401||Ne.status===403){const Oe=await Ne.text().catch(()=>"");throw new Error(Oe||"Unauthorized")}if(Ne.ok)return ye?await Ne.json():Ne;if(Ne.status===404){se.push({base:we,status:404});continue}const me=await Ne.json().catch(()=>({}));throw new Error((me==null?void 0:me.detail)||`Request failed (${Ne.status})`)}catch(Ne){if(se.push({base:we,err:Ne==null?void 0:Ne.message}),(Ne==null?void 0:Ne.message)==="Unauthorized")throw Ne}const ve=se!=null&&se.length?`Request failed: ${se.map(we=>`${we.base}${we.status||we.err}`).join(" | ")}`:"Network error";throw new Error(ve)},be=v.useMemo(()=>((m==null?void 0:m.name)||localStorage.getItem("name")||"User").trim().split(" ").map(Y=>Y[0]).join("").slice(0,2).toUpperCase(),[m==null?void 0:m.name]),re=v.useCallback(()=>{const z=(localStorage.getItem("role")||"").toLowerCase();return z==="user"?e("/user/dashboard",{replace:!0}):z==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})},[e]);v.useEffect(()=>{if(x){const z=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=z}}},[x]);const R=async()=>{var z,Y,ye;if(U())try{const se=await te("/user-info",{headers:{...V(),Accept:"application/json"}}),ve=((z=se==null?void 0:se.data)==null?void 0:z.email)||"";h({name:(Y=se==null?void 0:se.data)==null?void 0:Y.name,email:ve});const we=((ye=se==null?void 0:se.data)==null?void 0:ye.profile_photo_url)||null,Ne=we?we+(we.includes("?")?"&":"?")+"t="+Date.now():null;if(n(Ne),Ne&&!r&&i(Ne),ve){const me=`profileComplete:${ve.toLowerCase()}`;if(localStorage.getItem(me)==="1"){re();return}}}catch(se){W.error(se.message||"Could not load profile info")}};v.useEffect(()=>{(async()=>(f(z=>({...z,init:!0})),await R(),f(z=>({...z,init:!1}))))()},[]);const q=z=>{if(!z)return;if(!G3.includes(z.type)){W.error("Only PNG, JPEG or WEBP images are allowed.");return}if(z.size>oK){W.error("Image too large. Max allowed is 5 MB.");return}r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),c(z);const Y=URL.createObjectURL(z);i(Y),g(!1)},H=z=>{var ye;const Y=(ye=z.target.files)==null?void 0:ye[0];q(Y)},B=z=>{var ye;z.preventDefault(),z.stopPropagation();const Y=(ye=z.dataTransfer.files)==null?void 0:ye[0];q(Y)},T=z=>{z.preventDefault(),z.stopPropagation()};v.useCallback((z,Y)=>{O(Y),E(!0)},[]);const D=async()=>{if(!r&&!t){W.info("Choose an image first.");return}if(!A||!k){W.info("Adjust the crop a tiny bit, then save.");return}try{f(Oe=>({...Oe,saving:!0}));const Y=await uK(r||t,k,_),ye=URL.createObjectURL(Y);r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),i(ye);const se=new FormData,ve=`avatar_${Date.now()}.jpg`;se.append("file",Y,ve);const we=await te("/profile-photo",{method:"POST",headers:{...V()},body:se}),Ne=we==null?void 0:we.photo_url,me=Ne?Ne+(Ne.includes("?")?"&":"?")+"t="+Date.now():null;n(me),g(!1),c(null),E(!1),M(!0),setTimeout(()=>M(!1),1400),W.success("Profile photo saved!")}catch(z){W.error(z.message||"Could not save the cropped photo")}finally{f(z=>({...z,saving:!1}))}},L=async()=>{if(!t){W.info("No profile photo to delete.");return}try{f(z=>({...z,delete:!0})),await te("/profile-photo",{method:"DELETE",headers:{...V(),Accept:"application/json"}}),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),n(null),i(null),c(null),W.success("Profile photo deleted.")}catch(z){W.error(z.message||"Delete error")}finally{f(z=>({...z,delete:!1}))}},K=async()=>{f(z=>({...z,refresh:!0})),await R(),f(z=>({...z,refresh:!1}))},oe=()=>{const z=((m==null?void 0:m.email)||"").toLowerCase();z&&localStorage.setItem(`profileComplete:${z}`,"1"),re()};return a.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-white relative",children:[a.jsx("div",{className:"absolute inset-x-0 top-0 h-44",style:{background:"linear-gradient(180deg, rgba(59,130,246,0.18) 0%, rgba(255,255,255,0) 100%)"}}),a.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 tracking-tight",children:"Profile Photo"}),a.jsx("p",{className:"text-slate-500",children:"Click the ring to upload/replace. Use the Crop button to fine-tune your avatar."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:K,disabled:d.refresh||d.init,className:Qm("inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border transition","border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-50"),children:[d.refresh?a.jsx(zn,{className:"h-4 w-4 animate-spin"}):a.jsx(E6,{className:"h-4 w-4"}),"Refresh"]}),a.jsxs("button",{onClick:oe,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 shadow-sm",children:[a.jsx(e0,{className:"h-4 w-4"}),"Confirm"]}),a.jsxs("button",{onClick:oe,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[a.jsx(kB,{className:"h-4 w-4"}),"Skip for now"]})]})]}),a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 backdrop-blur-sm shadow-[0_8px_30px_rgb(0,0,0,0.06)] p-6 md:p-8",children:a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("div",{className:"pointer-events-none absolute -top-6 h-24 w-48 rounded-full blur-2xl opacity-50",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(59,130,246,0.25) 0%, rgba(34,211,238,0.18) 60%, transparent 100%)"}}),a.jsxs("div",{className:Qm("group relative h-40 w-40 rounded-full p-[3px] cursor-pointer select-none transition-transform duration-200",$?"animate-pulse":"hover:scale-[1.02]"),onClick:()=>{var z;return(z=F.current)==null?void 0:z.click()},onDrop:B,onDragOver:T,style:{background:"conic-gradient(rgba(59,130,246,0.9), rgba(34,211,238,0.9), rgba(59,130,246,0.9))"},title:"Click to upload/replace",children:[a.jsx("div",{className:"rounded-full h-full w-full bg-white grid place-items-center",children:a.jsxs("div",{className:"relative rounded-full h-[148px] w-[148px] overflow-hidden ring-2 ring-blue-500/30 shadow-md bg-slate-50 flex items-center justify-center",children:[d.init?a.jsx(zn,{className:"h-6 w-6 animate-spin text-slate-400"}):r||t?a.jsx("img",{src:r||t,alt:"Profile",className:"h-full w-full object-cover",onError:()=>{n(null),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),i(null)}}):a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(O6,{className:"h-10 w-10 text-slate-400"}),a.jsx("span",{className:"mt-1 text-sm font-semibold text-slate-600",children:be})]}),a.jsxs("div",{className:"absolute inset-0 bg-black/35 opacity-0 group-hover:opacity-100 transition-opacity grid place-items-center",children:[a.jsx("div",{className:"rounded-full bg-white/90 p-2 shadow-md",children:a.jsx(fz,{className:"h-5 w-5 text-blue-600"})}),a.jsx("span",{className:"absolute bottom-2 text-xs text-white/90",children:"Change photo"})]})]})}),a.jsx("input",{ref:F,type:"file",accept:G3.join(","),className:"hidden",onChange:H})]}),a.jsxs("div",{className:"mt-3 bg-white border border-slate-200 px-2 py-1 rounded-full text-[11px] text-slate-600 shadow-sm flex items-center gap-1",children:[a.jsx(ar,{className:"h-3.5 w-3.5 text-emerald-500"}),t?"Photo set":"No photo yet"]}),a.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>{if(!r&&!t){W.info("Select or upload an image first.");return}C(0),S(1),E(!1),g(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold text-white transition shadow-sm bg-blue-600 hover:bg-blue-700",children:[a.jsx(d5,{className:"h-4 w-4"}),"Crop"]}),a.jsx("button",{type:"button",onClick:L,disabled:d.delete||!t,className:Qm("inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold border transition",t?"border-rose-200 text-rose-600 hover:bg-rose-50":"border-slate-200 text-slate-400 cursor-not-allowed"),children:d.delete?a.jsxs(a.Fragment,{children:[a.jsx(zn,{className:"h-4 w-4 animate-spin"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(sr,{className:"h-4 w-4"})," Delete Photo"]})})]})]})})]}),x&&(r||t)&&a.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>g(!1)}),a.jsxs("div",{className:"relative z-[10001] w-full max-w-lg mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(d5,{className:"h-4 w-4 text-blue-600"}),a.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Crop your photo"})]}),a.jsx("button",{onClick:()=>g(!1),className:"p-1 rounded-md hover:bg-slate-100",children:a.jsx(Gn,{className:"h-4 w-4 text-slate-500"})})]}),a.jsxs("div",{className:"bg-slate-900",children:[a.jsx("div",{className:"relative h-[360px] overflow-hidden",children:a.jsx(lK,{image:r||t,crop:b,zoom:j,rotation:_,aspect:1,cropShape:"round",showGrid:!1,objectFit:"contain",onCropChange:w,onRotationChange:C,onZoomChange:S,onCropComplete:(z,Y)=>{O(Y),E(!0)}})}),a.jsxs("div",{className:"relative border-t border-white/10 bg-slate-900/70 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs text-white/80 w-16",children:"Zoom"}),a.jsx("input",{type:"range",min:1,max:3,step:.01,value:j,onChange:z=>S(parseFloat(z.target.value)),className:"w-full accent-blue-500"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs text-white/80 w-16",children:"Rotate"}),a.jsx("input",{type:"range",min:-180,max:180,step:1,value:_,onChange:z=>C(parseFloat(z.target.value)),className:"w-full accent-blue-500"}),a.jsxs("button",{type:"button",onClick:()=>C(0),className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs text-white bg-white/10 hover:bg-white/20",children:[a.jsx(vB,{className:"h-3.5 w-3.5"}),"Reset"]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 bg-white",children:[a.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:D,disabled:d.saving||!A,className:Qm("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",A?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:d.saving?a.jsxs(a.Fragment,{children:[a.jsx(zn,{className:"h-4 w-4 animate-spin"})," Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(e0,{className:"h-4 w-4"})," Crop & Save"]})})]})]})]})]})}function fK(...e){return e.filter(Boolean).join(" ")}const Y3="http://localhost:8000";function mK({onClick:e}){const t=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return a.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[a.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),a.jsxs(pe.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),a.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),a.jsxs("filter",{id:"glow",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx(pe.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),a.jsx(pe.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),a.jsx(pe.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function hK({className:e="",onMenuToggle:t,profilePath:n="/user/settings"}){const[r,i]=v.useState(""),[l,c]=v.useState(null),[d,f]=v.useState(!1),m=Vt();v.useEffect(()=>{i(localStorage.getItem("name")||"User")},[]),v.useEffect(()=>{const b=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${Y3}/api/profile-photo`,{headers:b?{Authorization:`Bearer ${b}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const _=await S.json();let C=_==null?void 0:_.photo_url;if(C){/^https?:\/\//i.test(C)||(C=`${Y3}${C.startsWith("/")?"":"/"}${C}`);const k=(C.includes("?")?"&":"?")+"t="+Date.now();c(C+k),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=b=>b.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:b=40})=>{const w=b;return a.jsxs("button",{type:"button",onClick:()=>m(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[a.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?a.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):a.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(r)})}),a.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),a.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},g=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return a.jsxs("header",{className:fK("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[a.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:a.jsxs("div",{className:"flex items-center justify-between h-full",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[a.jsx(mK,{onClick:g}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),a.jsxs("div",{className:"relative",children:[a.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Convert interest into booked meetings  automatically"}),a.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),a.jsxs("div",{className:"hidden sm:block lg:hidden",children:[a.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Smart lead capture & scheduling"})]}),a.jsxs("div",{className:"sm:hidden relative",children:[a.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[a.jsxs(pe.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[a.jsx("div",{className:"relative",children:a.jsx(x,{size:40})}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome back!"}),a.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),a.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[a.jsx(x,{size:32}),a.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),a.jsx("div",{className:"sm:hidden",children:a.jsx(x,{size:36})}),a.jsxs(pe.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[a.jsx(t0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),a.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}var jO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},W3=pt.createContext&&pt.createContext(jO),pK=["attr","size","title"];function xK(e,t){if(e==null)return{};var n=gK(e,t),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)r=l[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l0.apply(this,arguments)}function X3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(n),!0).forEach(function(r){vK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vK(e,t,n){return t=yK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NO(e){return e&&e.map((t,n)=>pt.createElement(t.tag,o0({key:n},t.attr),NO(t.child)))}function Dt(e){return t=>pt.createElement(wK,l0({attr:o0({},e.attr)},t),NO(e.child))}function wK(e){var t=n=>{var{attr:r,size:i,title:l}=e,c=xK(e,pK),d=i||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),pt.createElement("svg",l0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:f,style:o0(o0({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&pt.createElement("title",null,l),e.children)};return W3!==void 0?pt.createElement(W3.Consumer,null,n=>t(n)):t(jO)}function SO(e){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function _O(e){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function jK(e){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function CO(e){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function NK(e){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function SK(e){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function fj(e){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function _K(e){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function kO(e){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function CK({compact:e=!1}){const t=v.useMemo(()=>[{text:"Make Calls",Icon:ut,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Ga,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:fj,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:tr,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Ga,from:"#22D3EE",to:"#2563EB"}],[]),[n,r]=v.useState(0),[i,l]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{const x=t[n].text,g=40,b=28,w=1100;let j;return!c&&i.length<x.length?j=setTimeout(()=>l(x.slice(0,i.length+1)),g):!c&&i.length===x.length?j=setTimeout(()=>d(!0),w):c&&i.length>0?j=setTimeout(()=>l(x.slice(0,i.length-1)),b):c&&i.length===0&&(d(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(j)},[i,c,n,t]);const{Icon:f,from:m,to:h}=t[n];return a.jsxs("div",{className:["relative flex items-center",e?"justify-center p-3 sm:p-4":"p-4 sm:p-6",e?"":"gap-4 sm:gap-6"].join(" "),children:[a.jsxs("div",{className:"relative shrink-0",children:[a.jsx(pe.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:a.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),a.jsx(pe.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[a.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:i}),a.jsx(pe.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),a.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function kK(){const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[i,l]=v.useState(!1),c=ts(),d=Vt();v.useEffect(()=>{const h=()=>{const x=window.innerWidth;l(x<768),t(x<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),v.useEffect(()=>{r(!1)},[c.pathname]),v.useEffect(()=>{const h=()=>{i?r(x=>!x):t(x=>!x)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[i]);const f=[{id:"dashboard",label:"Dashboard",icon:kw,href:"/user/dashboard",color:"text-blue-600"},{id:"phoneCalls",label:"Phone Numbers",icon:ut,href:"/user/callhistory",color:"text-orange-600"},{id:"callassistence",label:"Assistants",icon:fj,href:"/user/callassistent",color:"text-green-600"},{id:"Leads",label:"Leads",icon:tr,href:"/user/leads",color:"text-purple-600"},{id:"Campain",label:"Campaigns",icon:Ga,href:"/user/campain",color:"text-blue-600"},{id:"settings",label:"Settings",icon:P6,href:"/user/settings",color:"text-gray-600"},{id:"CRM",label:"CRMS",icon:SK,href:"/user/CRM",color:"text-orange-600"},{id:"Appointments",label:"Appointments",icon:cz,href:"/user/Appointments",color:"text-purple-600"}],m=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:a.jsx(CK,{compact:e&&!i})}),a.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:f.map(h=>{const x=h.icon,g=c.pathname===h.href,b=g&&(!e||i)?i?"pl-5":"pl-4":"",w=e&&!i?"gap-0":i?"gap-4":"gap-3";return a.jsxs("button",{type:"button",onClick:()=>d(h.href),className:`group relative w-full text-left flex items-center ${w} rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                ${g?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                ${e&&!i?"justify-center p-2 sm:p-3":`p-3 sm:p-3 ${b}`}
                ${i?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!i?h.label:"",children:[g&&!e&&a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),a.jsx("div",{className:"relative z-10",children:a.jsx(x,{className:`flex-shrink-0 transition-all duration-200
                    ${e&&!i?"w-6 h-6":"w-5 h-5"}
                    ${g?h.color:"text-slate-500 group-hover:text-slate-700"}
                    ${g?"scale-110":"group-hover:scale-105"}`})}),(!e||i)&&a.jsx("span",{className:"font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:h.label}),g&&(!e||i)&&a.jsx("div",{className:"ml-auto flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!i&&a.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:a.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(Bn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return a.jsxs(a.Fragment,{children:[!i&&a.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(m,{})})}),i&&a.jsxs("div",{className:"md:hidden",children:[n&&a.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),a.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(m,{})})})]})]})}function AK(){return a.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[a.jsx(kK,{}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[a.jsx(hK,{className:"h-16 border-b"}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx(d6,{})})]})]})}var Tv={},Pv={},Z3;function EK(){return Z3||(Z3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(Pv)),Pv}var Ov={},Q3;function AO(){return Q3||(Q3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(Ov)),Ov}var Mv={},J3;function EO(){return J3||(J3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t}(Mv)),Mv}var Dv={},eC;function mj(){return eC||(eC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let l=0,c="",d="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),l++);l<i;){const m=n[l];d?m==="\\"&&l+1<i?(l++,c+=n[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,r.push(c),c=""):c+=m:m==="["?(f=!0,c&&(r.push(c),c="")):m==="."?c&&(r.push(c),c=""):c+=m,l++}return c&&r.push(c),r}e.toPath=t}(Dv)),Dv}var tC;function hj(){return tC||(tC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EK(),n=AO(),r=EO(),i=mj();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?n.isDeepKey(f)?l(d,i.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let x=0;x<f.length;x++){if(h==null||t.isUnsafeProperty(f[x]))return m;h=h[f[x]]}return h===void 0?m:h}e.get=l}(Tv)),Tv}var Rv,nC;function TK(){return nC||(nC=1,Rv=hj().get),Rv}var PK=TK();const Hi=Oa(PK);var Lv={exports:{}},Tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC;function OK(){if(rC)return Tt;rC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case n:case i:case r:case f:case m:case g:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case x:case h:return j;case l:return j;default:return S}}case t:return S}}}return Tt.ContextConsumer=l,Tt.ContextProvider=c,Tt.Element=e,Tt.ForwardRef=d,Tt.Fragment=n,Tt.Lazy=x,Tt.Memo=h,Tt.Portal=t,Tt.Profiler=i,Tt.StrictMode=r,Tt.Suspense=f,Tt.SuspenseList=m,Tt.isContextConsumer=function(j){return w(j)===l},Tt.isContextProvider=function(j){return w(j)===c},Tt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Tt.isForwardRef=function(j){return w(j)===d},Tt.isFragment=function(j){return w(j)===n},Tt.isLazy=function(j){return w(j)===x},Tt.isMemo=function(j){return w(j)===h},Tt.isPortal=function(j){return w(j)===t},Tt.isProfiler=function(j){return w(j)===i},Tt.isStrictMode=function(j){return w(j)===r},Tt.isSuspense=function(j){return w(j)===f},Tt.isSuspenseList=function(j){return w(j)===m},Tt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===i||j===r||j===f||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===h||j.$$typeof===c||j.$$typeof===l||j.$$typeof===d||j.$$typeof===b||j.getModuleId!==void 0)},Tt.typeOf=w,Tt}var aC;function MK(){return aC||(aC=1,Lv.exports=OK()),Lv.exports}var DK=MK(),Pn=e=>e===0?0:e>0?1:-1,Lr=e=>typeof e=="number"&&e!=+e,Rl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,De=e=>(typeof e=="number"||e instanceof Number)&&!Lr(e),Qa=e=>De(e)||typeof e=="string",RK=0,Gd=e=>{var t=++RK;return"".concat(e||"").concat(t)},ir=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(t)&&typeof t!="string")return r;var l;if(Rl(t)){if(n==null)return r;var c=t.indexOf("%");l=n*parseFloat(t.slice(0,c))/100}else l=+t;return Lr(l)&&(l=r),i&&n!=null&&l>n&&(l=n),l},TO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},sC=(e,t)=>De(e)&&De(t)?n=>e+n*(t-e):()=>t;function Sa(e,t,n){return De(e)&&De(t)?e+n*(t-e):t}function PO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Hi(r,t))===n)}var Ft=e=>e===null||typeof e>"u",gf=e=>Ft(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),LK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pj(e){if(typeof e!="string")return!1;var t=LK;return t.includes(e)}var $K=["viewBox","children"],iC=["points","pathLength"],$v={svg:$K,polygon:iC,polyline:iC},xj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{pj(i)&&(r[i]=l=>n[i](n,l))}),r},IK=(e,t,n)=>r=>(e(t,n,r),null),cp=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var l=e[i];pj(i)&&typeof l=="function"&&(r||(r={}),r[i]=IK(l,t,n))}),r},zK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function OO(e){if(typeof e!="string")return!1;var t=zK;return t.includes(e)}function qs(e){var t=Object.entries(e).filter(n=>{var[r]=n;return OO(r)});return Object.fromEntries(t)}var lC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",oC=null,Iv=null,MO=e=>{if(e===oC&&Array.isArray(Iv))return Iv;var t=[];return v.Children.forEach(e,n=>{Ft(n)||(DK.isFragment(n)?t=t.concat(MO(n.props.children)):t.push(n))}),Iv=t,oC=e,t};function vf(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>lC(i)):r=[lC(t)],MO(e).forEach(i=>{var l=Hi(i,"type.displayName")||Hi(i,"type.name");r.indexOf(l)!==-1&&n.push(i)}),n}var DO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,BK=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var l=(i=r&&($v==null?void 0:$v[r]))!==null&&i!==void 0?i:[],c=t.startsWith("data-"),d=typeof e!="function"&&(!!r&&l.includes(t)||OO(t)),f=!!n&&pj(t);return c||d||f},Gt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(l=>{var c;BK((c=r)===null||c===void 0?void 0:c[l],l,t,n)&&(i[l]=r[l])}),i},UK=["children","width","height","viewBox","className","style","title","desc"];function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b1.apply(null,arguments)}function FK(e,t){if(e==null)return{};var n,r,i=VK(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RO=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=FK(e,UK),x=l||{width:r,height:i,x:0,y:0},g=at("recharts-surface",c);return v.createElement("svg",b1({},Gt(h,!0,"svg"),{className:g,width:r,height:i,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),v.createElement("title",null,f),v.createElement("desc",null,m),n)}),HK=["children","className"];function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w1.apply(null,arguments)}function qK(e,t){if(e==null)return{};var n,r,i=KK(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yn=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=qK(e,HK),l=at("recharts-layer",r);return v.createElement("g",w1({className:l},Gt(i,!0),{ref:t}),n)}),GK=v.createContext(null);function $t(e){return function(){return e}}const LO=Math.cos,c0=Math.sin,Da=Math.sqrt,u0=Math.PI,up=2*u0,j1=Math.PI,N1=2*j1,Cl=1e-6,YK=N1-Cl;function $O(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function WK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $O;const n=10**t;return function(r){this._+=r[0];for(let i=1,l=r.length;i<l;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class XK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$O:WK(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,l,c){this._append`C${+t},${+n},${+r},${+i},${this._x1=+l},${this._y1=+c}`}arcTo(t,n,r,i,l){if(t=+t,n=+n,r=+r,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=r-t,m=i-n,h=c-t,x=d-n,g=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Cl)if(!(Math.abs(x*f-m*h)>Cl)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-c,w=i-d,j=f*f+m*m,S=b*b+w*w,_=Math.sqrt(j),C=Math.sqrt(g),k=l*Math.tan((j1-Math.acos((j+g-S)/(2*_*C)))/2),O=k/C,A=k/_;Math.abs(O-1)>Cl&&this._append`L${t+O*h},${n+O*x}`,this._append`A${l},${l},0,0,${+(x*b>h*w)},${this._x1=t+A*f},${this._y1=n+A*m}`}}arc(t,n,r,i,l,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),f=r*Math.sin(i),m=t+d,h=n+f,x=1^c,g=c?i-l:l-i;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Cl||Math.abs(this._y1-h)>Cl)&&this._append`L${m},${h}`,r&&(g<0&&(g=g%N1+N1),g>YK?this._append`A${r},${r},0,1,${x},${t-d},${n-f}A${r},${r},0,1,${x},${this._x1=m},${this._y1=h}`:g>Cl&&this._append`A${r},${r},0,${+(g>=j1)},${x},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new XK(t)}function vj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IO(e){this._context=e}IO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dp(e){return new IO(e)}function zO(e){return e[0]}function BO(e){return e[1]}function UO(e,t){var n=$t(!0),r=null,i=dp,l=null,c=gj(d);e=typeof e=="function"?e:e===void 0?zO:$t(e),t=typeof t=="function"?t:t===void 0?BO:$t(t);function d(f){var m,h=(f=vj(f)).length,x,g=!1,b;for(r==null&&(l=i(b=c())),m=0;m<=h;++m)!(m<h&&n(x=f[m],m,f))===g&&((g=!g)?l.lineStart():l.lineEnd()),g&&l.point(+e(x,m,f),+t(x,m,f));if(b)return l=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:$t(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:$t(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:$t(!!f),d):n},d.curve=function(f){return arguments.length?(i=f,r!=null&&(l=i(r)),d):i},d.context=function(f){return arguments.length?(f==null?r=l=null:l=i(r=f),d):r},d}function Jm(e,t,n){var r=null,i=$t(!0),l=null,c=dp,d=null,f=gj(m);e=typeof e=="function"?e:e===void 0?zO:$t(+e),t=typeof t=="function"?t:$t(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?BO:$t(+n);function m(x){var g,b,w,j=(x=vj(x)).length,S,_=!1,C,k=new Array(j),O=new Array(j);for(l==null&&(d=c(C=f())),g=0;g<=j;++g){if(!(g<j&&i(S=x[g],g,x))===_)if(_=!_)b=g,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=g-1;w>=b;--w)d.point(k[w],O[w]);d.lineEnd(),d.areaEnd()}_&&(k[g]=+e(S,g,x),O[g]=+t(S,g,x),d.point(r?+r(S,g,x):k[g],n?+n(S,g,x):O[g]))}if(C)return d=null,C+""||null}function h(){return UO().defined(i).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:$t(+x),r=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:$t(+x),m):e},m.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:$t(+x),m):r},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:$t(+x),n=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:$t(+x),m):t},m.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:$t(+x),m):n},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(n)},m.lineX1=function(){return h().x(r).y(t)},m.defined=function(x){return arguments.length?(i=typeof x=="function"?x:$t(!!x),m):i},m.curve=function(x){return arguments.length?(c=x,l!=null&&(d=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=d=null:d=c(l=x),m):l},m}class FO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function ZK(e){return new FO(e,!0)}function QK(e){return new FO(e,!1)}const yj={draw(e,t){const n=Da(t/u0);e.moveTo(n,0),e.arc(0,0,n,0,up)}},JK={draw(e,t){const n=Da(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},VO=Da(1/3),eG=VO*2,tG={draw(e,t){const n=Da(t/eG),r=n*VO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nG={draw(e,t){const n=Da(t),r=-n/2;e.rect(r,r,n,n)}},rG=.8908130915292852,HO=c0(u0/10)/c0(7*u0/10),aG=c0(up/10)*HO,sG=-LO(up/10)*HO,iG={draw(e,t){const n=Da(t*rG),r=aG*n,i=sG*n;e.moveTo(0,-n),e.lineTo(r,i);for(let l=1;l<5;++l){const c=up*l/5,d=LO(c),f=c0(c);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*i,f*r+d*i)}e.closePath()}},zv=Da(3),lG={draw(e,t){const n=-Da(t/(zv*3));e.moveTo(0,n*2),e.lineTo(-zv*n,-n),e.lineTo(zv*n,-n),e.closePath()}},Jr=-.5,ea=Da(3)/2,S1=1/Da(12),oG=(S1/2+1)*3,cG={draw(e,t){const n=Da(t/oG),r=n/2,i=n*S1,l=r,c=n*S1+n,d=-l,f=c;e.moveTo(r,i),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(Jr*r-ea*i,ea*r+Jr*i),e.lineTo(Jr*l-ea*c,ea*l+Jr*c),e.lineTo(Jr*d-ea*f,ea*d+Jr*f),e.lineTo(Jr*r+ea*i,Jr*i-ea*r),e.lineTo(Jr*l+ea*c,Jr*c-ea*l),e.lineTo(Jr*d+ea*f,Jr*f-ea*d),e.closePath()}};function uG(e,t){let n=null,r=gj(i);e=typeof e=="function"?e:$t(e||yj),t=typeof t=="function"?t:$t(t===void 0?64:+t);function i(){let l;if(n||(n=l=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return i.type=function(l){return arguments.length?(e=typeof l=="function"?l:$t(l),i):e},i.size=function(l){return arguments.length?(t=typeof l=="function"?l:$t(+l),i):t},i.context=function(l){return arguments.length?(n=l??null,i):n},i}function d0(){}function f0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qO(e){this._context=e}qO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:f0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:f0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dG(e){return new qO(e)}function KO(e){this._context=e}KO.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:f0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fG(e){return new KO(e)}function GO(e){this._context=e}GO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:f0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mG(e){return new GO(e)}function YO(e){this._context=e}YO.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hG(e){return new YO(e)}function cC(e){return e<0?-1:1}function uC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,l=(e._y1-e._y0)/(r||i<0&&-0),c=(n-e._y1)/(i||r<0&&-0),d=(l*i+c*r)/(r+i);return(cC(l)+cC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function dC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bv(e,t,n){var r=e._x0,i=e._y0,l=e._x1,c=e._y1,d=(l-r)/3;e._context.bezierCurveTo(r+d,i+d*t,l-d,c-d*n,l,c)}function m0(e){this._context=e}m0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bv(this,this._t0,dC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bv(this,dC(this,n=uC(this,e,t)),n);break;default:Bv(this,this._t0,n=uC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function WO(e){this._context=new XO(e)}(WO.prototype=Object.create(m0.prototype)).point=function(e,t){m0.prototype.point.call(this,t,e)};function XO(e){this._context=e}XO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,l){this._context.bezierCurveTo(t,e,r,n,l,i)}};function pG(e){return new m0(e)}function xG(e){return new WO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=fC(e),i=fC(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(r[0][l],i[0][l],r[1][l],i[1][l],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fC(e){var t,n=e.length-1,r,i=new Array(n),l=new Array(n),c=new Array(n);for(i[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(i[n-1]=c[n-1]/l[n-1],t=n-2;t>=0;--t)i[t]=(c[t]-i[t+1])/l[t];for(l[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-i[t+1];return[i,l]}function gG(e){return new ZO(e)}function fp(e,t){this._context=e,this._t=t}fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function vG(e){return new fp(e,.5)}function yG(e){return new fp(e,0)}function bG(e){return new fp(e,1)}function bc(e,t){if((c=e.length)>1)for(var n=1,r,i,l=e[t[0]],c,d=l.length;n<c;++n)for(i=l,l=e[t[n]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function wG(e,t){return e[t]}function jG(e){const t=[];return t.key=e,t}function NG(){var e=$t([]),t=_1,n=bc,r=wG;function i(l){var c=Array.from(e.apply(this,arguments),jG),d,f=c.length,m=-1,h;for(const x of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+r(x,c[d].key,m,l)]).data=x;for(d=0,h=vj(t(c));d<f;++d)c[h[d]].index=d;return n(c,h),c}return i.keys=function(l){return arguments.length?(e=typeof l=="function"?l:$t(Array.from(l)),i):e},i.value=function(l){return arguments.length?(r=typeof l=="function"?l:$t(+l),i):r},i.order=function(l){return arguments.length?(t=l==null?_1:typeof l=="function"?l:$t(Array.from(l)),i):t},i.offset=function(l){return arguments.length?(n=l??bc,i):n},i}function SG(e,t){if((r=e.length)>0){for(var n,r,i=0,l=e[0].length,c;i<l;++i){for(c=n=0;n<r;++n)c+=e[n][i][1]||0;if(c)for(n=0;n<r;++n)e[n][i][1]/=c}bc(e,t)}}function _G(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,l=r.length;n<l;++n){for(var c=0,d=0;c<i;++c)d+=e[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}bc(e,t)}}function CG(e,t){if(!(!((c=e.length)>0)||!((l=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,l,c;r<l;++r){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],x=h[r][1]||0,g=h[r-1][1]||0,b=(x-g)/2,w=0;w<d;++w){var j=e[t[w]],S=j[r][1]||0,_=j[r-1][1]||0;b+=S-_}f+=x,m+=b*x}i[r-1][1]+=i[r-1][0]=n,f&&(n-=m/f)}i[r-1][1]+=i[r-1][0]=n,bc(e,t)}}var kG=["type","size","sizeType"];function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C1.apply(null,arguments)}function mC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(n),!0).forEach(function(r){AG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AG(e,t,n){return(t=EG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PG(e,t){if(e==null)return{};var n,r,i=OG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var QO={symbolCircle:yj,symbolCross:JK,symbolDiamond:tG,symbolSquare:nG,symbolStar:iG,symbolTriangle:lG,symbolWye:cG},MG=Math.PI/180,DG=e=>{var t="symbol".concat(gf(e));return QO[t]||yj},RG=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*MG;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},LG=(e,t)=>{QO["symbol".concat(gf(e))]=t},JO=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=PG(e,kG),l=hC(hC({},i),{},{type:t,size:n,sizeType:r}),c=()=>{var x=DG(t),g=uG().type(x).size(RG(n,r,t));return g()},{className:d,cx:f,cy:m}=l,h=Gt(l,!0);return f===+f&&m===+m&&n===+n?v.createElement("path",C1({},h,{className:at("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};JO.registerSymbol=LG;var Uv={},Fv={},pC;function $G(){return pC||(pC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let l=0;l<n.length;l++){const c=n[l],d=r(c);i.has(d)||i.set(d,c)}return Array.from(i.values())}e.uniqBy=t}(Fv)),Fv}var Vv={},xC;function eM(){return xC||(xC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(Vv)),Vv}var Hv={},qv={},Kv={},gC;function IG(){return gC||(gC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(Kv)),Kv}var vC;function bj(){return vC||(vC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IG();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(qv)),qv}var Gv={},yC;function zG(){return yC||(yC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(Gv)),Gv}var bC;function BG(){return bC||(bC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bj(),n=zG();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r}(Hv)),Hv}var Yv={},Wv={},wC;function UG(){return wC||(wC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hj();function n(r){return function(i){return t.get(i,r)}}e.property=n}(Wv)),Wv}var Xv={},Zv={},Qv={},Jv={},jC;function tM(){return jC||(jC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(Jv)),Jv}var ey={},NC;function nM(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(ey)),ey}var ty={},SC;function wj(){return SC||(SC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(ty)),ty}var _C;function FG(){return _C||(_C=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jj(),n=tM(),r=nM(),i=wj();function l(x,g,b){return typeof b!="function"?t.isMatch(x,g):c(x,g,function w(j,S,_,C,k,O){const A=b(j,S,_,C,k,O);return A!==void 0?!!A:c(j,S,w,O)},new Map)}function c(x,g,b,w){if(g===x)return!0;switch(typeof g){case"object":return d(x,g,b,w);case"function":return Object.keys(g).length>0?c(x,{...g},b,w):i.eq(x,g);default:return n.isObject(x)?typeof g=="string"?g==="":!0:i.eq(x,g)}}function d(x,g,b,w){if(g==null)return!0;if(Array.isArray(g))return m(x,g,b,w);if(g instanceof Map)return f(x,g,b,w);if(g instanceof Set)return h(x,g,b,w);const j=Object.keys(g);if(x==null)return j.length===0;if(j.length===0)return!0;if(w&&w.has(g))return w.get(g)===x;w&&w.set(g,x);try{for(let S=0;S<j.length;S++){const _=j[S];if(!r.isPrimitive(x)&&!(_ in x)||g[_]===void 0&&x[_]!==void 0||g[_]===null&&x[_]!==null||!b(x[_],g[_],_,x,g,w))return!1}return!0}finally{w&&w.delete(g)}}function f(x,g,b,w){if(g.size===0)return!0;if(!(x instanceof Map))return!1;for(const[j,S]of g.entries()){const _=x.get(j);if(b(_,S,j,x,g,w)===!1)return!1}return!0}function m(x,g,b,w){if(g.length===0)return!0;if(!Array.isArray(x))return!1;const j=new Set;for(let S=0;S<g.length;S++){const _=g[S];let C=!1;for(let k=0;k<x.length;k++){if(j.has(k))continue;const O=x[k];let A=!1;if(b(O,_,S,x,g,w)&&(A=!0),A){j.add(k),C=!0;break}}if(!C)return!1}return!0}function h(x,g,b,w){return g.size===0?!0:x instanceof Set?m([...x],[...g],b,w):!1}e.isMatchWith=l,e.isSetMatch=h}(Qv)),Qv}var CC;function jj(){return CC||(CC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FG();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(Zv)),Zv}var ny={},ry={},ay={},kC;function rM(){return kC||(kC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(ay)),ay}var sy={},AC;function Nj(){return AC||(AC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(sy)),sy}var iy={},EC;function Sj(){return EC||(EC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",x="[object Function]",g="[object ArrayBuffer]",b="[object Object]",w="[object Error]",j="[object DataView]",S="[object Uint8Array]",_="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]",O="[object BigUint64Array]",A="[object Int8Array]",E="[object Int16Array]",$="[object Int32Array]",M="[object BigInt64Array]",F="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=O,e.booleanTag=i,e.dataViewTag=j,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=F,e.float64ArrayTag=G,e.functionTag=x,e.int16ArrayTag=E,e.int32ArrayTag=$,e.int8ArrayTag=A,e.mapTag=f,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=C,e.uint32ArrayTag=k,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=_}(iy)),iy}var ly={},TC;function VG(){return TC||(TC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(ly)),ly}var PC;function aM(){return PC||(PC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM(),n=Nj(),r=Sj(),i=nM(),l=VG();function c(h,x){return d(h,void 0,h,new Map,x)}function d(h,x,g,b=new Map,w=void 0){const j=w==null?void 0:w(h,x,g,b);if(j!==void 0)return j;if(i.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const S=new Array(h.length);b.set(h,S);for(let _=0;_<h.length;_++)S[_]=d(h[_],_,g,b,w);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;b.set(h,S);for(const[_,C]of h)S.set(_,d(C,_,g,b,w));return S}if(h instanceof Set){const S=new Set;b.set(h,S);for(const _ of h)S.add(d(_,void 0,g,b,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,S);for(let _=0;_<h.length;_++)S[_]=d(h[_],_,g,b,w);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,S),f(S,h,g,b,w),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return b.set(h,S),f(S,h,g,b,w),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return b.set(h,S),f(S,h,g,b,w),S}if(h instanceof Error){const S=new h.constructor;return b.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,g,b,w),S}if(typeof h=="object"&&m(h)){const S=Object.create(Object.getPrototypeOf(h));return b.set(h,S),f(S,h,g,b,w),S}return h}function f(h,x,g=h,b,w){const j=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<j.length;S++){const _=j[S],C=Object.getOwnPropertyDescriptor(h,_);(C==null||C.writable)&&(h[_]=d(x[_],_,g,b,w))}}function m(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f}(ry)),ry}var OC;function HG(){return OC||(OC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(ny)),ny}var MC;function qG(){return MC||(MC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jj(),n=HG();function r(i){return i=n.cloneDeep(i),l=>t.isMatch(l,i)}e.matches=r}(Xv)),Xv}var oy={},cy={},uy={},DC;function KG(){return DC||(DC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM(),n=Sj();function r(i,l){return t.cloneDeepWith(i,(c,d,f,m)=>{const h=l==null?void 0:l(c,d,f,m);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(x,i),x}case n.argumentsTag:{const x={};return t.copyProperties(x,i),x.length=i.length,x[Symbol.iterator]=i[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r}(uy)),uy}var RC;function GG(){return RC||(RC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KG();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}(cy)),cy}var dy={},fy={},LC;function sM(){return LC||(LC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(fy)),fy}var my={},$C;function YG(){return $C||($C=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nj();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(my)),my}var IC;function WG(){return IC||(IC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AO(),n=sM(),r=YG(),i=mj();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=i.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const x=f[h];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l}(dy)),dy}var zC;function XG(){return zC||(zC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jj(),n=EO(),r=GG(),i=hj(),l=WG();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(m){const h=i.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c}(oy)),oy}var BC;function ZG(){return BC||(BC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM(),n=UG(),r=qG(),i=XG();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=l}(Yv)),Yv}var UC;function QG(){return UC||(UC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$G(),n=eM(),r=BG(),i=ZG();function l(c,d=n.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(d)):[]}e.uniqBy=l}(Uv)),Uv}var hy,FC;function JG(){return FC||(FC=1,hy=QG().uniqBy),hy}var eY=JG();const VC=Oa(eY);function tY(e,t,n){return t===!0?VC(e,n):typeof t=="function"?VC(e,t):e}var py={exports:{}},xy={},gy={exports:{}},vy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC;function nY(){if(HC)return vy;HC=1;var e=Pc();function t(x,g){return x===g&&(x!==0||1/x===1/g)||x!==x&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(x,g){var b=g(),w=r({inst:{value:b,getSnapshot:g}}),j=w[0].inst,S=w[1];return l(function(){j.value=b,j.getSnapshot=g,f(j)&&S({inst:j})},[x,b,g]),i(function(){return f(j)&&S({inst:j}),x(function(){f(j)&&S({inst:j})})},[x]),c(b),b}function f(x){var g=x.getSnapshot;x=x.value;try{var b=g();return!n(x,b)}catch{return!0}}function m(x,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return vy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,vy}var qC;function rY(){return qC||(qC=1,gy.exports=nY()),gy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KC;function aY(){if(KC)return xy;KC=1;var e=Pc(),t=rY();function n(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return xy.useSyncExternalStoreWithSelector=function(m,h,x,g,b){var w=l(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=d(function(){function _(E){if(!C){if(C=!0,k=E,E=g(E),b!==void 0&&j.hasValue){var $=j.value;if(b($,E))return O=$}return O=E}if($=O,r(k,E))return $;var M=g(E);return b!==void 0&&b($,M)?(k=E,$):(k=E,O=M)}var C=!1,k,O,A=x===void 0?null:x;return[function(){return _(h())},A===null?void 0:function(){return _(A())}]},[h,x,g,b]);var S=i(m,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=S},[S]),f(S),S},xy}var GC;function sY(){return GC||(GC=1,py.exports=aY()),py.exports}var iY=sY(),_j=v.createContext(null),lY=e=>e,on=()=>{var e=v.useContext(_j);return e?e.store.dispatch:lY},Kh=()=>{},oY=()=>Kh,cY=(e,t)=>e===t;function ze(e){var t=v.useContext(_j);return iY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:oY,t?t.store.getState:Kh,t?t.store.getState:Kh,t?e:Kh,cY)}function uY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function dY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function fY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var YC=e=>Array.isArray(e)?e:[e];function mY(e){const t=Array.isArray(e[0])?e[0]:e;return fY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function hY(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var pY=class{constructor(e){this.value=e}deref(){return this.value}},xY=typeof WeakRef<"u"?WeakRef:pY,gY=0,WC=1;function eh(){return{s:gY,v:void 0,o:null,p:null}}function iM(e,t={}){let n=eh();const{resultEqualityCheck:r}=t;let i,l=0;function c(){var x;let d=n;const{length:f}=arguments;for(let g=0,b=f;g<b;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const S=j.get(w);S===void 0?(d=eh(),j.set(w,d)):d=S}else{let j=d.p;j===null&&(d.p=j=new Map);const S=j.get(w);S===void 0?(d=eh(),j.set(w,d)):d=S}}const m=d;let h;if(d.s===WC)h=d.v;else if(h=e.apply(null,arguments),l++,r){const g=((x=i==null?void 0:i.deref)==null?void 0:x.call(i))??i;g!=null&&r(g,h)&&(h=g,l!==0&&l--),i=typeof h=="object"&&h!==null||typeof h=="function"?new xY(h):h}return m.s=WC,m.v=h,h}return c.clearCache=()=>{n=eh(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function vY(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let l=0,c=0,d,f={},m=i.pop();typeof m=="object"&&(f=m,m=i.pop()),uY(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...n,...f},{memoize:x,memoizeOptions:g=[],argsMemoize:b=iM,argsMemoizeOptions:w=[]}=h,j=YC(g),S=YC(w),_=mY(i),C=x(function(){return l++,m.apply(null,arguments)},...j),k=b(function(){c++;const A=hY(_,arguments);return d=C.apply(null,A),d},...S);return Object.assign(k,{resultFunc:m,memoizedResultFunc:C,dependencies:_,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ge=vY(iM),yY=Object.assign((e,t=ge)=>{dY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>yY}),yy={},by={},wy={},XC;function bY(){return XC||(XC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,l)=>{if(r!==i){const c=t(r),d=t(i);if(c===d&&c===0){if(r<i)return l==="desc"?1:-1;if(r>i)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=n}(wy)),wy}var jy={},Ny={},ZC;function lM(){return ZC||(ZC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(Ny)),Ny}var QC;function wY(){return QC||(QC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=i}(jy)),jy}var JC;function jY(){return JC||(JC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bY(),n=wY(),r=mj();function i(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const m=(b,w)=>{let j=b;for(let S=0;S<w.length&&j!=null;++S)j=j[w[S]];return j},h=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:m(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?m(w,b):typeof w=="object"?w[b]:w,x=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return l.map(b=>({original:b,criteria:x.map(w=>h(w,b))})).slice().sort((b,w)=>{for(let j=0;j<x.length;j++){const S=t.compareValues(b.criteria[j],w.criteria[j],d[j]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=i}(by)),by}var Sy={},ek;function NY(){return ek||(ek=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],l=Math.floor(r),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):i.push(h)}};return c(n,0),i}e.flatten=t}(Sy)),Sy}var _y={},tk;function oM(){return tk||(tk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM(),n=bj(),r=tM(),i=wj();function l(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.eq(f[d],c):!1}e.isIterateeCall=l}(_y)),_y}var nk;function SY(){return nk||(nk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jY(),n=NY(),r=oM();function i(l,...c){const d=c.length;return d>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,n.flatten(c),["asc"])}e.sortBy=i}(yy)),yy}var Cy,rk;function _Y(){return rk||(rk=1,Cy=SY().sortBy),Cy}var CY=_Y();const mp=Oa(CY);var cM=e=>e.legend.settings,kY=e=>e.legend.size,AY=e=>e.legend.payload;ge([AY,cM],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?mp(r,n):r});var th=1;function EY(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var l=i.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>th||Math.abs(c.left-t.left)>th||Math.abs(c.top-t.top)>th||Math.abs(c.width-t.width)>th)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Ln(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TY=typeof Symbol=="function"&&Symbol.observable||"@@observable",ak=TY,ky=()=>Math.random().toString(36).substring(7).split("").join("."),PY={INIT:`@@redux/INIT${ky()}`,REPLACE:`@@redux/REPLACE${ky()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ky()}`},h0=PY;function Cj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uM(e,t,n){if(typeof e!="function")throw new Error(Ln(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ln(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ln(1));return n(uM)(e,t)}let r=e,i=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((S,_)=>{c.set(_,S)}))}function h(){if(f)throw new Error(Ln(3));return i}function x(S){if(typeof S!="function")throw new Error(Ln(4));if(f)throw new Error(Ln(5));let _=!0;m();const C=d++;return c.set(C,S),function(){if(_){if(f)throw new Error(Ln(6));_=!1,m(),c.delete(C),l=null}}}function g(S){if(!Cj(S))throw new Error(Ln(7));if(typeof S.type>"u")throw new Error(Ln(8));if(typeof S.type!="string")throw new Error(Ln(17));if(f)throw new Error(Ln(9));try{f=!0,i=r(i,S)}finally{f=!1}return(l=c).forEach(C=>{C()}),S}function b(S){if(typeof S!="function")throw new Error(Ln(10));r=S,g({type:h0.REPLACE})}function w(){const S=x;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Ln(11));function C(){const O=_;O.next&&O.next(h())}return C(),{unsubscribe:S(C)}},[ak](){return this}}}return g({type:h0.INIT}),{dispatch:g,subscribe:x,getState:h,replaceReducer:b,[ak]:w}}function OY(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:h0.INIT})>"u")throw new Error(Ln(12));if(typeof n(void 0,{type:h0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ln(13))})}function dM(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let i;try{OY(n)}catch(l){i=l}return function(c={},d){if(i)throw i;let f=!1;const m={};for(let h=0;h<r.length;h++){const x=r[h],g=n[x],b=c[x],w=g(b,d);if(typeof w>"u")throw d&&d.type,new Error(Ln(14));m[x]=w,f=f||w!==b}return f=f||r.length!==Object.keys(c).length,f?m:c}}function p0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function MY(...e){return t=>(n,r)=>{const i=t(n,r);let l=()=>{throw new Error(Ln(15))};const c={getState:i.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=p0(...d)(i.dispatch),{...i,dispatch:l}}}function fM(e){return Cj(e)&&"type"in e&&typeof e.type=="string"}var mM=Symbol.for("immer-nothing"),sk=Symbol.for("immer-draftable"),$r=Symbol.for("immer-state");function Ca(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wc=Object.getPrototypeOf;function Yl(e){return!!e&&!!e[$r]}function Bs(e){var t;return e?hM(e)||Array.isArray(e)||!!e[sk]||!!((t=e.constructor)!=null&&t[sk])||pp(e)||xp(e):!1}var DY=Object.prototype.constructor.toString();function hM(e){if(!e||typeof e!="object")return!1;const t=wc(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===DY}function x0(e,t){hp(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function hp(e){const t=e[$r];return t?t.type_:Array.isArray(e)?1:pp(e)?2:xp(e)?3:0}function k1(e,t){return hp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pM(e,t,n){const r=hp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function RY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pp(e){return e instanceof Map}function xp(e){return e instanceof Set}function kl(e){return e.copy_||e.base_}function A1(e,t){if(pp(e))return new Map(e);if(xp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=hM(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[$r];let i=Reflect.ownKeys(r);for(let l=0;l<i.length;l++){const c=i[l],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(wc(e),r)}else{const r=wc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function kj(e,t=!1){return gp(e)||Yl(e)||!Bs(e)||(hp(e)>1&&(e.set=e.add=e.clear=e.delete=LY),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>kj(r,!0))),e}function LY(){Ca(2)}function gp(e){return Object.isFrozen(e)}var $Y={};function Wl(e){const t=$Y[e];return t||Ca(0,e),t}var Yd;function xM(){return Yd}function IY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ik(e,t){t&&(Wl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function E1(e){T1(e),e.drafts_.forEach(zY),e.drafts_=null}function T1(e){e===Yd&&(Yd=e.parent_)}function lk(e){return Yd=IY(Yd,e)}function zY(e){const t=e[$r];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ok(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[$r].modified_&&(E1(t),Ca(4)),Bs(e)&&(e=g0(t,e),t.parent_||v0(t,e)),t.patches_&&Wl("Patches").generateReplacementPatches_(n[$r].base_,e,t.patches_,t.inversePatches_)):e=g0(t,n,[]),E1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mM?e:void 0}function g0(e,t,n){if(gp(t))return t;const r=t[$r];if(!r)return x0(t,(i,l)=>ck(e,r,t,i,l,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return v0(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let l=i,c=!1;r.type_===3&&(l=new Set(i),i.clear(),c=!0),x0(l,(d,f)=>ck(e,r,i,d,f,n,c)),v0(e,i,!1),n&&e.patches_&&Wl("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ck(e,t,n,r,i,l,c){if(Yl(i)){const d=l&&t&&t.type_!==3&&!k1(t.assigned_,r)?l.concat(r):void 0,f=g0(e,i,d);if(pM(n,r,f),Yl(f))e.canAutoFreeze_=!1;else return}else c&&n.add(i);if(Bs(i)&&!gp(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;g0(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&v0(e,i)}}function v0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kj(t,n)}function BY(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:xM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,l=Aj;n&&(i=[r],l=Wd);const{revoke:c,proxy:d}=Proxy.revocable(i,l);return r.draft_=d,r.revoke_=c,d}var Aj={get(e,t){if(t===$r)return e;const n=kl(e);if(!k1(n,t))return UY(e,n,t);const r=n[t];return e.finalized_||!Bs(r)?r:r===Ay(e.base_,t)?(Ey(e),e.copy_[t]=O1(r,e)):r},has(e,t){return t in kl(e)},ownKeys(e){return Reflect.ownKeys(kl(e))},set(e,t,n){const r=gM(kl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ay(kl(e),t),l=i==null?void 0:i[$r];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(RY(n,i)&&(n!==void 0||k1(e.base_,t)))return!0;Ey(e),P1(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ay(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ey(e),P1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=kl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ca(11)},getPrototypeOf(e){return wc(e.base_)},setPrototypeOf(){Ca(12)}},Wd={};x0(Aj,(e,t)=>{Wd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Wd.deleteProperty=function(e,t){return Wd.set.call(this,e,t,void 0)};Wd.set=function(e,t,n){return Aj.set.call(this,e[0],t,n,e[0])};function Ay(e,t){const n=e[$r];return(n?kl(n):e)[t]}function UY(e,t,n){var i;const r=gM(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function gM(e,t){if(!(t in e))return;let n=wc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=wc(n)}}function P1(e){e.modified_||(e.modified_=!0,e.parent_&&P1(e.parent_))}function Ey(e){e.copy_||(e.copy_=A1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var FY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(f=l,...m){return c.produce(f,h=>n.call(this,h,...m))}}typeof n!="function"&&Ca(6),r!==void 0&&typeof r!="function"&&Ca(7);let i;if(Bs(t)){const l=lk(this),c=O1(t,void 0);let d=!0;try{i=n(c),d=!1}finally{d?E1(l):T1(l)}return ik(l,r),ok(i,l)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===mM&&(i=void 0),this.autoFreeze_&&kj(i,!0),r){const l=[],c=[];Wl("Patches").generateReplacementPatches_(t,i,l,c),r(l,c)}return i}else Ca(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let r,i;return[this.produce(t,n,(c,d)=>{r=c,i=d}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Bs(e)||Ca(8),Yl(e)&&(e=Es(e));const t=lk(this),n=O1(e,void 0);return n[$r].isManual_=!0,T1(t),n}finishDraft(e,t){const n=e&&e[$r];(!n||!n.isManual_)&&Ca(9);const{scope_:r}=n;return ik(r,t),ok(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Wl("Patches").applyPatches_;return Yl(e)?r(e,t):this.produce(e,i=>r(i,t))}};function O1(e,t){const n=pp(e)?Wl("MapSet").proxyMap_(e,t):xp(e)?Wl("MapSet").proxySet_(e,t):BY(e,t);return(t?t.scope_:xM()).drafts_.push(n),n}function Es(e){return Yl(e)||Ca(10,e),vM(e)}function vM(e){if(!Bs(e)||gp(e))return e;const t=e[$r];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=A1(e,t.scope_.immer_.useStrictShallowCopy_)}else n=A1(e,!0);return x0(n,(r,i)=>{pM(n,r,vM(i))}),t&&(t.finalized_=!1),n}var Ir=new FY,yM=Ir.produce;Ir.produceWithPatches.bind(Ir);Ir.setAutoFreeze.bind(Ir);Ir.setUseStrictShallowCopy.bind(Ir);Ir.applyPatches.bind(Ir);Ir.createDraft.bind(Ir);Ir.finishDraft.bind(Ir);function bM(e){return({dispatch:n,getState:r})=>i=>l=>typeof l=="function"?l(n,r,e):i(l)}var VY=bM(),HY=bM,qY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?p0:p0.apply(null,arguments)};function da(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Rr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>fM(r)&&r.type===e,n}var wM=class vd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vd.prototype)}static get[Symbol.species](){return vd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new vd(...t[0].concat(this)):new vd(...t.concat(this))}};function uk(e){return Bs(e)?yM(e,()=>{}):e}function nh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function KY(e){return typeof e=="boolean"}var GY=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:l=!0}=t??{};let c=new wM;return n&&(KY(n)?c.push(VY):c.push(HY(n.extraArgument))),c},YY="RTK_autoBatch",dk=e=>t=>{setTimeout(t,e)},WY=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dk(10):e.type==="callback"?e.queueNotification:dk(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const x=()=>i&&h(),g=r.subscribe(x);return d.add(h),()=>{g(),d.delete(h)}},dispatch(h){var x;try{return i=!((x=h==null?void 0:h.meta)!=null&&x[YY]),l=!i,l&&(c||(c=!0,f(m))),r.dispatch(h)}finally{i=!0}}})},XY=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new wM(e);return r&&i.push(WY(typeof r=="object"?r:void 0)),i};function ZY(e){const t=GY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Cj(n))d=dM(n);else throw new Error(Rr(1));let f;typeof r=="function"?f=r(t):f=t();let m=p0;i&&(m=qY({trace:!1,...typeof i=="object"&&i}));const h=MY(...f),x=XY(h);let g=typeof c=="function"?c(x):x();const b=m(...g);return uM(d,l,b)}function jM(e){const t={},n=[];let r;const i={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Rr(28));if(d in t)throw new Error(Rr(29));return t[d]=c,i},addMatcher(l,c){return n.push({matcher:l,reducer:c}),i},addDefaultCase(l){return r=l,i}};return e(i),[t,n,r]}function QY(e){return typeof e=="function"}function JY(e,t){let[n,r,i]=jM(t),l;if(QY(e))l=()=>uk(e());else{const d=uk(e);l=()=>d}function c(d=l(),f){let m=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[i]),m.reduce((h,x)=>{if(x)if(Yl(h)){const b=x(h,f);return b===void 0?h:b}else{if(Bs(h))return yM(h,g=>x(g,f));{const g=x(h,f);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},d)}return c.getInitialState=l,c}var eW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tW=(e=21)=>{let t="",n=e;for(;n--;)t+=eW[Math.random()*64|0];return t},nW=Symbol.for("rtk-slice-createasyncthunk");function rW(e,t){return`${e}/${t}`}function aW({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[nW];return function(i){const{name:l,reducerPath:c=l}=i;if(!l)throw new Error(Rr(11));const d=(typeof i.reducers=="function"?i.reducers(iW()):i.reducers)||{},f=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,A){const E=typeof O=="string"?O:O.type;if(!E)throw new Error(Rr(12));if(E in m.sliceCaseReducersByType)throw new Error(Rr(13));return m.sliceCaseReducersByType[E]=A,h},addMatcher(O,A){return m.sliceMatchers.push({matcher:O,reducer:A}),h},exposeAction(O,A){return m.actionCreators[O]=A,h},exposeCaseReducer(O,A){return m.sliceCaseReducersByName[O]=A,h}};f.forEach(O=>{const A=d[O],E={reducerName:O,type:rW(l,O),createNotation:typeof i.reducers=="function"};oW(A)?uW(E,A,h,t):lW(E,A,h)});function x(){const[O={},A=[],E=void 0]=typeof i.extraReducers=="function"?jM(i.extraReducers):[i.extraReducers],$={...O,...m.sliceCaseReducersByType};return JY(i.initialState,M=>{for(let F in $)M.addCase(F,$[F]);for(let F of m.sliceMatchers)M.addMatcher(F.matcher,F.reducer);for(let F of A)M.addMatcher(F.matcher,F.reducer);E&&M.addDefaultCase(E)})}const g=O=>O,b=new Map,w=new WeakMap;let j;function S(O,A){return j||(j=x()),j(O,A)}function _(){return j||(j=x()),j.getInitialState()}function C(O,A=!1){function E(M){let F=M[O];return typeof F>"u"&&A&&(F=nh(w,E,_)),F}function $(M=g){const F=nh(b,A,()=>new WeakMap);return nh(F,M,()=>{const G={};for(const[V,U]of Object.entries(i.selectors??{}))G[V]=sW(U,M,()=>nh(w,M,_),A);return G})}return{reducerPath:O,getSelectors:$,get selectors(){return $(E)},selectSlice:E}}const k={name:l,reducer:S,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:_,...C(c),injectInto(O,{reducerPath:A,...E}={}){const $=A??c;return O.inject({reducerPath:$,reducer:S},E),{...k,...C($,!0)}}};return k}}function sW(e,t,n,r){function i(l,...c){let d=t(l);return typeof d>"u"&&r&&(d=n()),e(d,...c)}return i.unwrapped=e,i}var Br=aW();function iW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function lW({type:e,reducerName:t,createNotation:n},r,i){let l,c;if("reducer"in r){if(n&&!cW(r))throw new Error(Rr(17));l=r.reducer,c=r.prepare}else l=r;i.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?da(e,c):da(e))}function oW(e){return e._reducerDefinitionType==="asyncThunk"}function cW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function uW({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Rr(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=n,x=i(e,l,h);r.exposeAction(t,x),c&&r.addCase(x.fulfilled,c),d&&r.addCase(x.pending,d),f&&r.addCase(x.rejected,f),m&&r.addMatcher(x.settled,m),r.exposeCaseReducer(t,{fulfilled:c||rh,pending:d||rh,rejected:f||rh,settled:m||rh})}function rh(){}var dW="task",NM="listener",SM="completed",Ej="cancelled",fW=`task-${Ej}`,mW=`task-${SM}`,M1=`${NM}-${Ej}`,hW=`${NM}-${SM}`,vp=class{constructor(e){Jg(this,"name","TaskAbortError");Jg(this,"message");this.code=e,this.message=`${dW} ${Ej} (reason: ${e})`}},Tj=(e,t)=>{if(typeof e!="function")throw new TypeError(Rr(32))},y0=()=>{},_M=(e,t=y0)=>(e.catch(t),e),CM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Fl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Vl=e=>{if(e.aborted){const{reason:t}=e;throw new vp(t)}};function kM(e,t){let n=y0;return new Promise((r,i)=>{const l=()=>i(new vp(e.reason));if(e.aborted){l();return}n=CM(e,l),t.finally(()=>n()).then(r,i)}).finally(()=>{n=y0})}var pW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof vp?"cancelled":"rejected",error:n}}finally{t==null||t()}},b0=e=>t=>_M(kM(e,t).then(n=>(Vl(e),n))),AM=e=>{const t=b0(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:oc}=Object,fk={},yp="listenerMiddleware",xW=(e,t)=>{const n=r=>CM(e,()=>Fl(r,e.reason));return(r,i)=>{Tj(r);const l=new AbortController;n(l);const c=pW(async()=>{Vl(e),Vl(l.signal);const d=await r({pause:b0(l.signal),delay:AM(l.signal),signal:l.signal});return Vl(l.signal),d},()=>Fl(l,mW));return i!=null&&i.autoJoin&&t.push(c.catch(y0)),{result:b0(e)(c),cancel(){Fl(l,fW)}}}},gW=(e,t)=>{const n=async(r,i)=>{Vl(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:r,effect:(x,g)=>{g.unsubscribe(),f([x,g.getState(),g.getOriginalState()])}});l=()=>{h(),m()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await kM(t,Promise.race(d));return Vl(t),f}finally{l()}};return(r,i)=>_M(n(r,i))},EM=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:l}=e;if(t)i=da(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Rr(21));return Tj(l),{predicate:i,type:t,effect:l}},TM=oc(e=>{const{type:t,predicate:n,effect:r}=EM(e);return{id:tW(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Rr(22))}}},{withTypes:()=>TM}),mk=(e,t)=>{const{type:n,effect:r,predicate:i}=EM(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===i)&&l.effect===r)},D1=e=>{e.pending.forEach(t=>{Fl(t,M1)})},vW=e=>()=>{e.forEach(D1),e.clear()},hk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},PM=oc(da(`${yp}/add`),{withTypes:()=>PM}),yW=da(`${yp}/removeAll`),OM=oc(da(`${yp}/remove`),{withTypes:()=>OM}),bW=(...e)=>{console.error(`${yp}/error`,...e)},yf=(e={})=>{const t=new Map,{extra:n,onError:r=bW}=e;Tj(r);const i=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),x=>{h.unsubscribe(),x!=null&&x.cancelActive&&D1(h)}),l=h=>{const x=mk(t,h)??TM(h);return i(x)};oc(l,{withTypes:()=>l});const c=h=>{const x=mk(t,h);return x&&(x.unsubscribe(),h.cancelActive&&D1(x)),!!x};oc(c,{withTypes:()=>c});const d=async(h,x,g,b)=>{const w=new AbortController,j=gW(l,w.signal),S=[];try{h.pending.add(w),await Promise.resolve(h.effect(x,oc({},g,{getOriginalState:b,condition:(_,C)=>j(_,C).then(Boolean),take:j,delay:AM(w.signal),pause:b0(w.signal),extra:n,signal:w.signal,fork:xW(w.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((_,C,k)=>{_!==w&&(Fl(_,M1),k.delete(_))})},cancel:()=>{Fl(w,M1),h.pending.delete(w)},throwIfCancelled:()=>{Vl(w.signal)}})))}catch(_){_ instanceof vp||hk(r,_,{raisedBy:"effect"})}finally{await Promise.all(S),Fl(w,hW),h.pending.delete(w)}},f=vW(t);return{middleware:h=>x=>g=>{if(!fM(g))return x(g);if(PM.match(g))return l(g.payload);if(yW.match(g)){f();return}if(OM.match(g))return c(g.payload);let b=h.getState();const w=()=>{if(b===fk)throw new Error(Rr(23));return b};let j;try{if(j=x(g),t.size>0){const S=h.getState(),_=Array.from(t.values());for(const C of _){let k=!1;try{k=C.predicate(g,S,b)}catch(O){k=!1,hk(r,O,{raisedBy:"predicate"})}k&&d(C,g,h,w)}}}finally{b=fk}return j},startListening:l,stopListening:c,clearListeners:f}};function Rr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},MM=Br({name:"chartLayout",initialState:wW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:jW,setLayout:NW,setChartSize:SW,setScale:_W}=MM.actions,CW=MM.reducer;function pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return(t=AW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AW(e){var t=EW(e,"string");return typeof t=="symbol"?t:t+""}function EW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w0=Math.PI/180,TW=e=>e*180/Math.PI,xn=(e,t,n,r)=>({x:e+Math.cos(-w0*r)*n,y:t+Math.sin(-w0*r)*n}),DM=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},PW=(e,t)=>{var{x:n,y:r}=e,{x:i,y:l}=t;return Math.sqrt((n-i)**2+(r-l)**2)},OW=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:l}=t,c=PW({x:n,y:r},{x:i,y:l});if(c<=0)return{radius:c,angle:0};var d=(n-i)/c,f=Math.acos(d);return r>l&&(f=2*Math.PI-f),{radius:c,angle:TW(f),angleInRadian:f}},MW=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),l=Math.min(r,i);return{startAngle:t-l*360,endAngle:n-l*360}},DW=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),l=Math.floor(r/360),c=Math.min(i,l);return e+c*360},RW=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:l}=OW({x:n,y:r},t),{innerRadius:c,outerRadius:d}=t;if(i<c||i>d||i===0)return null;var{startAngle:f,endAngle:m}=MW(t),h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?xk(xk({},t),{},{radius:i,angle:DW(h,t)}):null};function RM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){LW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LW(e,t,n){return(t=$W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=IW(e,"string");return typeof t=="symbol"?t:t+""}function IW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t,n){return Ft(e)||Ft(t)?n:Qa(t)?Hi(e,t,n):typeof t=="function"?t(e):n}var zW=(e,t,n,r,i)=>{var l,c=-1,d=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?n[f-1].coordinate:n[d-1].coordinate,h=n[f].coordinate,x=f>=d-1?n[0].coordinate:n[f+1].coordinate,g=void 0;if(Pn(h-m)!==Pn(x-h)){var b=[];if(Pn(x-h)===Pn(i[1]-i[0])){g=x;var w=h+i[1]-i[0];b[0]=Math.min(w,(w+m)/2),b[1]=Math.max(w,(w+m)/2)}else{g=m;var j=x+i[1]-i[0];b[0]=Math.min(h,(j+h)/2),b[1]=Math.max(h,(j+h)/2)}var S=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:c}=n[f]);break}}else{var _=Math.min(m,x),C=Math.max(m,x);if(e>(_+h)/2&&e<=(C+h)/2){({index:c}=n[f]);break}}}else if(t){for(var k=0;k<d;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<d-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===d-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:c}=t[k]);break}}return c},BW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&De(e[l]))return sa(sa({},e),{},{[l]:e[l]+(r||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&De(e[c]))return sa(sa({},e),{},{[c]:e[c]+(i||0)})}return e},Wi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",LM=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var i,l,c=e.map(d=>(d.coordinate===t&&(i=!0),d.coordinate===n&&(l=!0),d.coordinate));return i||c.push(t),l||c.push(n),c},$M=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:x,niceTicks:g,axisType:b}=e;if(!c)return null;var w=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=i==="category"&&c.bandwidth?c.bandwidth()/w:0;if(j=b==="angleAxis"&&l&&l.length>=2?Pn(l[0]-l[1])*2*j:j,x||g){var S=(x||g||[]).map((_,C)=>{var k=r?r.indexOf(_):_;return{coordinate:c(k)+j,value:_,offset:j,index:C}});return S.filter(_=>!Lr(_.coordinate))}return f&&m?m.map((_,C)=>({coordinate:c(_)+j,value:_,index:C,offset:j})):c.ticks&&h!=null?c.ticks(h).map((_,C)=>({coordinate:c(_)+j,value:_,offset:j,index:C})):c.domain().map((_,C)=>({coordinate:c(_)+j,value:r?r[_]:_,index:C,offset:j}))},vk=1e-4,UW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-vk,l=Math.max(r[0],r[1])+vk,c=e(t[0]),d=e(t[n-1]);(c<i||c>l||d<i||d>l)&&e.domain([t[0],t[n-1]])}},FW=(e,t)=>{if(!t||t.length!==2||!De(t[0])||!De(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!De(e[0])||e[0]<n)&&(i[0]=n),(!De(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},VW=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,l=0,c=0;c<t;++c){var d=Lr(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=i,e[c][n][1]=i+d,i=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},HW=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,l=0;l<t;++l){var c=Lr(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},qW={sign:VW,expand:SG,none:bc,silhouette:_G,wiggle:CG,positive:HW},KW=(e,t,n)=>{var r=qW[n],i=NG().keys(t).value((l,c)=>+Ot(l,c,0)).order(_1).offset(r);return i(e)};function GW(e){return e==null?void 0:String(e)}function yk(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ft(i[t.dataKey])){var d=PO(n,"value",i[t.dataKey]);if(d)return d.coordinate+r/2}return n[l]?n[l].coordinate+r/2:null}var f=Ot(i,Ft(c)?t.dataKey:c);return Ft(f)?null:t.scale(f)}var bk=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:l,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+r:null;var d=Ot(l,t.dataKey,t.scale.domain()[c]);return Ft(d)?null:t.scale(d)-i/2+r},YW=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},WW=e=>{var t=e.flat(2).filter(De);return[Math.min(...t),Math.max(...t)]},XW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],ZW=(e,t,n)=>{if(e!=null)return XW(Object.keys(e).reduce((r,i)=>{var l=e[i],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=RM(m,t,n),x=WW(h);return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},wk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=mp(t,h=>h.coordinate),l=1/0,c=1,d=i.length;c<d;c++){var f=i[c],m=i[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function Nk(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:l}=e;return sa(sa({},t),{},{dataKey:n,payload:r,value:i,name:l})}function Bc(e,t){if(e)return String(e);if(typeof t=="string")return t}function QW(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var l=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return l?{x:e,y:t}:null}return r?RW({x:e,y:t},r):null}var JW=(e,t,n,r)=>{var i=t.find(m=>m&&m.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var l=i.coordinate,{radius:c}=r;return sa(sa(sa({},r),xn(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var d=i.coordinate,{angle:f}=r;return sa(sa(sa({},r),xn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},eX=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ks=e=>e.layout.width,Gs=e=>e.layout.height,tX=e=>e.layout.scale,IM=e=>e.layout.margin,Pj=ge(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Oj=ge(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),zM="data-recharts-item-index",BM="data-recharts-item-data-key",bp=60;function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(r){nX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nX(e,t,n){return(t=rX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rX(e){var t=aX(e,"string");return typeof t=="symbol"?t:t+""}function aX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sX=e=>e.brush.height,wn=ge([Ks,Gs,IM,sX,Pj,Oj,cM,kY],(e,t,n,r,i,l,c,d)=>{var f=l.reduce((w,j)=>{var{orientation:S}=j;if(!j.mirror&&!j.hide){var _=typeof j.width=="number"?j.width:bp;return Si(Si({},w),{},{[S]:w[S]+_})}return w},{left:n.left||0,right:n.right||0}),m=i.reduce((w,j)=>{var{orientation:S}=j;return!j.mirror&&!j.hide?Si(Si({},w),{},{[S]:Hi(w,"".concat(S))+j.height}):w},{top:n.top||0,bottom:n.bottom||0}),h=Si(Si({},m),f),x=h.bottom;h.bottom+=r,h=BW(h,c,d);var g=e-h.left-h.right,b=t-h.top-h.bottom;return Si(Si({brushBottom:x},h),{},{width:Math.max(g,0),height:Math.max(b,0)})}),iX=ge(wn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),UM=ge(Ks,Gs,(e,t)=>({x:0,y:0,width:e,height:t})),lX=v.createContext(null),vr=()=>v.useContext(lX)!=null,wp=e=>e.brush,jp=ge([wp,wn,IM],(e,t,n)=>({height:e.height,x:De(e.x)?e.x:t.left,y:De(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:De(e.width)?e.width:t.width})),Mj=()=>{var e,t=vr(),n=ze(iX),r=ze(jp),i=(e=ze(wp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},oX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},FM=()=>{var e;return(e=ze(wn))!==null&&e!==void 0?e:oX},VM=()=>ze(Ks),HM=()=>ze(Gs),ft=e=>e.layout.layoutType,Np=()=>ze(ft),cX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},qM=Br({name:"legend",initialState:cX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Es(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:Hde,setLegendSettings:qde,addLegendPayload:KM,removeLegendPayload:GM}=qM.actions,uX=qM.reducer;function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R1.apply(null,arguments)}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ty(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(r){dX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dX(e,t,n){return(t=fX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hX(e){return Array.isArray(e)&&Qa(e[0])&&Qa(e[1])?e.join(" ~ "):e}var pX=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:x,accessibilityLayer:g=!1}=e,b=()=>{if(l&&l.length){var A={padding:0,margin:0},E=(d?mp(l,d):l).map(($,M)=>{if($.type==="none")return null;var F=$.formatter||c||hX,{value:G,name:V}=$,U=G,te=V;if(F){var be=F(G,V,$,M,l);if(Array.isArray(be))[U,te]=be;else if(be!=null)U=be;else return null}var re=Ty({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:re},Qa(te)?v.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Qa(te)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},U),v.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:A},E)}return null},w=Ty({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=Ty({margin:0},i),S=!Ft(h),_=S?h:"",C=at("recharts-default-tooltip",f),k=at("recharts-tooltip-label",m);S&&x&&l!==void 0&&l!==null&&(_=x(h,l));var O=g?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",R1({className:C,style:w},O),v.createElement("p",{className:k,style:j},v.isValidElement(_)?_:"".concat(_)),b())},Xu="recharts-tooltip-wrapper",xX={visibility:"hidden"};function gX(e){var{coordinate:t,translateX:n,translateY:r}=e;return at(Xu,{["".concat(Xu,"-right")]:De(n)&&t&&De(t.x)&&n>=t.x,["".concat(Xu,"-left")]:De(n)&&t&&De(t.x)&&n<t.x,["".concat(Xu,"-bottom")]:De(r)&&t&&De(t.y)&&r>=t.y,["".concat(Xu,"-top")]:De(r)&&t&&De(t.y)&&r<t.y})}function Ck(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&De(l[r]))return l[r];var h=n[r]-d-(i>0?i:0),x=n[r]+i;if(t[r])return c[r]?h:x;var g=f[r];if(g==null)return 0;if(c[r]){var b=h,w=g;return b<w?Math.max(x,g):Math.max(h,g)}if(m==null)return 0;var j=x+d,S=g+m;return j>S?Math.max(h,g):Math.max(x,g)}function vX(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function yX(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,x;return c.height>0&&c.width>0&&n?(h=Ck({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),x=Ck({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=vX({translateX:h,translateY:x,useTranslate3d:d})):m=xX,{cssProperties:m,cssClasses:gX({translateX:h,translateY:x,coordinate:n})}}function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(n),!0).forEach(function(r){L1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L1(e,t,n){return(t=bX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bX(e){var t=wX(e,"string");return typeof t=="symbol"?t:t+""}function wX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jX extends v.PureComponent{constructor(){super(...arguments),L1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),L1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:x,useTranslate3d:g,viewBox:b,wrapperStyle:w,lastBoundingBox:j,innerRef:S,hasPortalFromProps:_}=this.props,{cssClasses:C,cssProperties:k}=yX({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:x,tooltipBox:{height:j.height,width:j.width},useTranslate3d:g,viewBox:b}),O=_?{}:ah(ah({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),A=ah(ah({},O),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:A,ref:S},l)}}var NX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Jl={isSsr:NX()},YM=()=>ze(e=>e.rootProps.accessibilityLayer);function zr(e){return Number.isFinite(e)}function jc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$1.apply(null,arguments)}function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ek(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(n),!0).forEach(function(r){SX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SX(e,t,n){return(t=_X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _X(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tk={curveBasisClosed:fG,curveBasisOpen:mG,curveBasis:dG,curveBumpX:ZK,curveBumpY:QK,curveLinearClosed:hG,curveLinear:dp,curveMonotoneX:pG,curveMonotoneY:xG,curveNatural:gG,curveStep:vG,curveStepAfter:bG,curveStepBefore:yG},sh=e=>zr(e.x)&&zr(e.y),Zu=e=>e.x,Qu=e=>e.y,kX=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(gf(e));return(n==="curveMonotone"||n==="curveBump")&&t?Tk["".concat(n).concat(t==="vertical"?"Y":"X")]:Tk[n]||dp},AX=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:l=!1}=e,c=kX(t,i),d=l?n.filter(sh):n,f;if(Array.isArray(r)){var m=l?r.filter(x=>sh(x)):r,h=d.map((x,g)=>Ek(Ek({},x),{},{base:m[g]}));return i==="vertical"?f=Jm().y(Qu).x1(Zu).x0(x=>x.base.x):f=Jm().x(Zu).y1(Qu).y0(x=>x.base.y),f.defined(sh).curve(c),f(h)}return i==="vertical"&&De(r)?f=Jm().y(Qu).x1(Zu).x0(r):De(r)?f=Jm().x(Zu).y1(Qu).y0(r):f=UO().x(Zu).y(Qu),f.defined(sh).curve(c),f(d)},Dj=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var l=n&&n.length?AX(e):r;return v.createElement("path",$1({},qs(e),xj(e),{className:at("recharts-curve",t),d:l===null?void 0:l,ref:i}))},EX=["x","y","top","left","width","height","className"];function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I1.apply(null,arguments)}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(r){PX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PX(e,t,n){return(t=OX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OX(e){var t=MX(e,"string");return typeof t=="symbol"?t:t+""}function MX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DX(e,t){if(e==null)return{};var n,r,i=RX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LX=(e,t,n,r,i,l)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(n),$X=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:l=0,height:c=0,className:d}=e,f=DX(e,EX),m=TX({x:t,y:n,top:r,left:i,width:l,height:c},f);return!De(t)||!De(n)||!De(l)||!De(c)||!De(r)||!De(i)?null:v.createElement("path",I1({},Gt(m,!0),{className:at("recharts-cross",d),d:LX(t,n,l,c,r,i)}))};function IX(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(r){BX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BX(e,t,n){return(t=UX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UX(e){var t=FX(e,"string");return typeof t=="symbol"?t:t+""}function FX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ur(e,t){var n=zX({},e),r=t,i=Object.keys(t),l=i.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return l}var Py={},Oy={},My={},Mk;function VX(){return Mk||(Mk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(My)),My}var Dk;function HX(){return Dk||(Dk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VX(),n=rM(),r=Nj(),i=Sj(),l=wj();function c(m,h,x){return d(m,h,void 0,void 0,void 0,void 0,x)}function d(m,h,x,g,b,w,j){const S=j(m,h,x,g,b,w);if(S!==void 0)return S;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return f(m,h,w,j)}return f(m,h,w,j)}function f(m,h,x,g){if(Object.is(m,h))return!0;let b=r.getTag(m),w=r.getTag(h);if(b===i.argumentsTag&&(b=i.objectTag),w===i.argumentsTag&&(w=i.objectTag),b!==w)return!1;switch(b){case i.stringTag:return m.toString()===h.toString();case i.numberTag:{const _=m.valueOf(),C=h.valueOf();return l.eq(_,C)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(m.valueOf(),h.valueOf());case i.regexpTag:return m.source===h.source&&m.flags===h.flags;case i.functionTag:return m===h}x=x??new Map;const j=x.get(m),S=x.get(h);if(j!=null&&S!=null)return j===h;x.set(m,h),x.set(h,m);try{switch(b){case i.mapTag:{if(m.size!==h.size)return!1;for(const[_,C]of m.entries())if(!h.has(_)||!d(C,h.get(_),_,m,h,x,g))return!1;return!0}case i.setTag:{if(m.size!==h.size)return!1;const _=Array.from(m.values()),C=Array.from(h.values());for(let k=0;k<_.length;k++){const O=_[k],A=C.findIndex(E=>d(O,E,void 0,m,h,x,g));if(A===-1)return!1;C.splice(A,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let _=0;_<m.length;_++)if(!d(m[_],h[_],_,m,h,x,g))return!1;return!0}case i.arrayBufferTag:return m.byteLength!==h.byteLength?!1:f(new Uint8Array(m),new Uint8Array(h),x,g);case i.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:f(new Uint8Array(m),new Uint8Array(h),x,g);case i.errorTag:return m.name===h.name&&m.message===h.message;case i.objectTag:{if(!(f(m.constructor,h.constructor,x,g)||t.isPlainObject(m)&&t.isPlainObject(h)))return!1;const C=[...Object.keys(m),...n.getSymbols(m)],k=[...Object.keys(h),...n.getSymbols(h)];if(C.length!==k.length)return!1;for(let O=0;O<C.length;O++){const A=C[O],E=m[A];if(!Object.hasOwn(h,A))return!1;const $=h[A];if(!d(E,$,A,m,h,x,g))return!1}return!0}default:return!1}}finally{x.delete(m),x.delete(h)}}e.isEqualWith=c}(Oy)),Oy}var Dy={},Rk;function qX(){return Rk||(Rk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Dy)),Dy}var Lk;function KX(){return Lk||(Lk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HX(),n=qX();function r(i,l){return t.isEqualWith(i,l,n.noop)}e.isEqual=r}(Py)),Py}var Ry,$k;function GX(){return $k||($k=1,Ry=KX().isEqual),Ry}var YX=GX();const WX=Oa(YX);var j0=1e-4,WM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],XM=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Ik=(e,t)=>n=>{var r=WM(e,t);return XM(r,n)},XX=(e,t)=>n=>{var r=WM(e,t),i=[...r.map((l,c)=>l*c).slice(1),0];return XM(i,n)},zk=function(){for(var t,n,r,i,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var f=c[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,i]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else c.length===4&&([t,r,n,i]=c);var m=Ik(t,n),h=Ik(r,i),x=XX(t,n),g=w=>w>1?1:w<0?0:w,b=w=>{for(var j=w>1?1:w,S=j,_=0;_<8;++_){var C=m(S)-j,k=x(S);if(Math.abs(C-j)<j0||k<j0)return h(S);S=g(S-C/k)}return h(S)};return b.isStepper=!1,b},ZX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,l=(c,d,f)=>{var m=-(c-d)*n,h=f*r,x=f+(m-h)*i/1e3,g=f*i/1e3+c;return Math.abs(g-d)<j0&&Math.abs(x)<j0?[d,0]:[g,x]};return l.isStepper=!0,l.dt=i,l},ZM=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zk(e);case"spring":return ZX();default:if(e.split("(")[0]==="cubic-bezier")return zk(e)}return typeof e=="function"?e:null};function Bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(n),!0).forEach(function(r){QX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QX(e,t,n){return(t=JX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JX(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tZ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),nZ=(e,t,n)=>e.map(r=>"".concat(tZ(r)," ").concat(t,"ms ").concat(n)).join(","),rZ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Zd=(e,t)=>Object.keys(t).reduce((n,r)=>Uk(Uk({},n),{},{[r]:e(r,t[r])}),{});function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(r){aZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aZ(e,t,n){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sZ(e){var t=iZ(e,"string");return typeof t=="symbol"?t:t+""}function iZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0=(e,t,n)=>e+(t-e)*n,z1=e=>{var{from:t,to:n}=e;return t!==n},QM=(e,t,n)=>{var r=Zd((i,l)=>{if(z1(l)){var[c,d]=e(l.from,l.to,l.velocity);return In(In({},l),{},{from:c,velocity:d})}return l},t);return n<1?Zd((i,l)=>z1(l)?In(In({},l),{},{velocity:N0(l.velocity,r[i].velocity,n),from:N0(l.from,r[i].from,n)}):l,t):QM(e,r,n-1)};function lZ(e,t,n,r,i,l){var c,d=r.reduce((g,b)=>In(In({},g),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>Zd((g,b)=>b.from,d),m=()=>!Object.values(d).filter(z1).length,h=null,x=g=>{c||(c=g);var b=g-c,w=b/n.dt;d=QM(n,d,w),i(In(In(In({},e),t),f())),c=g,m()||(h=l.setTimeout(x))};return()=>(h=l.setTimeout(x),()=>{h()})}function oZ(e,t,n,r,i,l,c){var d=null,f=i.reduce((x,g)=>In(In({},x),{},{[g]:[e[g],t[g]]}),{}),m,h=x=>{m||(m=x);var g=(x-m)/r,b=Zd((j,S)=>N0(...S,n(g)),f);if(l(In(In(In({},e),t),b)),g<1)d=c.setTimeout(h);else{var w=Zd((j,S)=>N0(...S,n(1)),f);l(In(In(In({},e),t),w))}};return()=>(d=c.setTimeout(h),()=>{d()})}const JM=(e,t,n,r,i,l)=>{var c=rZ(e,t);return n.isStepper===!0?lZ(e,t,n,c,i,l):oZ(e,t,n,r,c,i,l)};function cZ(e){var t,n=()=>null,r=!1,i=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){i=e.setTimeout(l.bind(null,m),f);return}l(f),i=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class uZ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,l=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(l))};return i=requestAnimationFrame(l),()=>{cancelAnimationFrame(i)}}}function dZ(){return cZ(new uZ)}var fZ=v.createContext(dZ);function eD(e,t){var n=v.useContext(fZ);return v.useMemo(()=>t??n(e),[e,t,n])}var mZ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B1.apply(null,arguments)}function hZ(e,t){if(e==null)return{};var n,r,i=pZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(n),!0).forEach(function(r){Ll(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ll(e,t,n){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Rj extends v.PureComponent{constructor(t,n){super(t,n),Ll(this,"mounted",!1),Ll(this,"manager",void 0),Ll(this,"stopJSAnimation",null),Ll(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:l,to:c,children:d,duration:f,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:c});return}if(l){if(typeof d=="function"){this.state={style:l};return}this.state={style:i?{[i]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:l,to:c,from:d}=this.props,{style:f}=this.state;if(r){if(!n){var m={style:i?{[i]:c}:c};this.state&&f&&(i&&f[i]!==c||!i&&f!==c)&&this.setState(m);return}if(!(WX(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=h||l?d:t.to;if(this.state&&f){var g={style:i?{[i]:x}:x};(i&&f[i]!==x||!i&&f!==x)&&this.setState(g)}this.runAnimation(_i(_i({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:i,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f}=t,m=JM(n,r,ZM(l),i,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([f,c,h,i,d])}runAnimation(t){var{begin:n,duration:r,attributeName:i,to:l,easing:c,onAnimationStart:d,onAnimationEnd:f,children:m}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(t);return}var h=i?{[i]:l}:l,x=nZ(Object.keys(h),r,c);this.manager.start([d,n,_i(_i({},h),{},{transition:x}),r,f])}render(){var t=this.props,{children:n,begin:r,duration:i,attributeName:l,easing:c,isActive:d,from:f,to:m,canBegin:h,onAnimationEnd:x,shouldReAnimate:g,onAnimationReStart:b,animationManager:w}=t,j=hZ(t,mZ),S=v.Children.count(n),_=this.state.style;if(typeof n=="function")return n(_);if(!d||S===0||i<=0)return n;var C=k=>{var{style:O={},className:A}=k.props,E=v.cloneElement(k,_i(_i({},j),{},{style:_i(_i({},O),_),className:A}));return E};return S===1?C(v.Children.only(n)):v.createElement("div",null,v.Children.map(n,k=>C(k)))}}Ll(Rj,"displayName","Animate");Ll(Rj,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function S0(e){var t,n=eD((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return v.createElement(Rj,B1({},e,{animationManager:n}))}function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_0.apply(null,arguments)}var Hk=(e,t,n,r,i)=>{var l=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,m;if(l>0&&i instanceof Array){for(var h=[0,0,0,0],x=0,g=4;x<g;x++)h[x]=i[x]>l?l:i[x];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+n-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+c*h[1])),m+="L ".concat(e+n,",").concat(t+r-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-d*h[2],",").concat(t+r)),m+="L ".concat(e+d*h[3],",").concat(t+r),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-c*h[3])),m+="Z"}else if(l>0&&i===+i&&i>0){var b=Math.min(l,i);m="M ".concat(e,",").concat(t+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+n-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+c*b,`
            L `).concat(e+n,",").concat(t+r-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-d*b,",").concat(t+r,`
            L `).concat(e+d*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+r-c*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return m},vZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tD=e=>{var t=Ur(e,vZ),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&i(_)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:x,animationDuration:g,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:j}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var S=at("recharts-rectangle",h);return j?v.createElement(S0,{canBegin:r>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:x,isActive:j},_=>{var{width:C,height:k,x:O,y:A}=_;return v.createElement(S0,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:w,easing:x},v.createElement("path",_0({},Gt(t,!0),{className:S,d:Hk(O,A,C,k,m),ref:n})))}):v.createElement("path",_0({},Gt(t,!0),{className:S,d:Hk(l,c,d,f,m)}))};function nD(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:l}=e,c=xn(t,n,r,i),d=xn(t,n,r,l);return{points:[c,d],cx:t,cy:n,radius:r,startAngle:i,endAngle:l}}function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U1.apply(null,arguments)}var yZ=(e,t)=>{var n=Pn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},ih=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+r,h=Math.asin(d/m)/w0,x=f?i:i+l*h,g=xn(t,n,m,x),b=xn(t,n,r,x),w=f?i-l*h:i,j=xn(t,n,m*Math.cos(h*w0),w);return{center:g,circleTangency:b,lineTangency:j,theta:h}},rD=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c}=e,d=yZ(l,c),f=l+d,m=xn(t,n,i,l),h=xn(t,n,i,f),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=xn(t,n,r,l),b=xn(t,n,r,f);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(g.x,",").concat(g.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},bZ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=Pn(m-f),{circleTangency:x,lineTangency:g,theta:b}=ih({cx:t,cy:n,radius:i,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:w,lineTangency:j,theta:S}=ih({cx:t,cy:n,radius:i,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),_=d?Math.abs(f-m):Math.abs(f-m)-b-S;if(_<0)return c?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):rD({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:m});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:O,theta:A}=ih({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:E,lineTangency:$,theta:M}=ih({cx:t,cy:n,radius:r,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),F=d?Math.abs(f-m):Math.abs(f-m)-A-M;if(F<0&&l===0)return"".concat(C,"L").concat(t,",").concat(n,"Z");C+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else C+="L".concat(t,",").concat(n,"Z");return C},wZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Lj=e=>{var t=Ur(e,wZ),{cx:n,cy:r,innerRadius:i,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:x}=t;if(l<i||m===h)return null;var g=at("recharts-sector",x),b=l-i,w=ir(c,b,0,!0),j;return w>0&&Math.abs(m-h)<360?j=bZ({cx:n,cy:r,innerRadius:i,outerRadius:l,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):j=rD({cx:n,cy:r,innerRadius:i,outerRadius:l,startAngle:m,endAngle:h}),v.createElement("path",U1({},Gt(t,!0),{className:g,d:j}))};function jZ(e,t,n){var r,i,l,c;if(e==="horizontal")r=t.x,l=r,i=n.top,c=n.top+n.height;else if(e==="vertical")i=t.y,c=i,r=n.left,l=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:h,angle:x}=t,g=xn(d,f,m,x),b=xn(d,f,h,x);r=g.x,i=g.y,l=b.x,c=b.y}else return nD(t);return[{x:r,y:i},{x:l,y:c}]}var Ly={},$y={},Iy={},qk;function NZ(){return qk||(qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(Iy)),Iy}var Kk;function SZ(){return Kk||(Kk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NZ();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}($y)),$y}var Gk;function _Z(){return Gk||(Gk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM(),n=SZ();function r(i,l,c){c&&typeof c!="number"&&t.isIterateeCall(i,l,c)&&(l=c=void 0),i=n.toFinite(i),l===void 0?(l=i,i=0):l=n.toFinite(l),c=c===void 0?i<l?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((l-i)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=i,i+=c;return f}e.range=r}(Ly)),Ly}var zy,Yk;function CZ(){return Yk||(Yk=1,zy=_Z().range),zy}var kZ=CZ();const aD=Oa(kZ);function zi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $j(e){let t,n,r;e.length!==2?(t=zi,n=(d,f)=>zi(e(d),f),r=(d,f)=>e(d)-f):(t=e===zi||e===AZ?e:EZ,n=e,r=e);function i(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;n(d[x],f)<0?m=x+1:h=x}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;n(d[x],f)<=0?m=x+1:h=x}while(m<h)}return m}function c(d,f,m=0,h=d.length){const x=i(d,f,m,h-1);return x>m&&r(d[x-1],f)>-r(d[x],f)?x-1:x}return{left:i,center:c,right:l}}function EZ(){return 0}function sD(e){return e===null?NaN:+e}function*TZ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const PZ=$j(zi),bf=PZ.right;$j(sD).center;class Wk extends Map{constructor(t,n=DZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Xk(this,t))}has(t){return super.has(Xk(this,t))}set(t,n){return super.set(OZ(this,t),n)}delete(t){return super.delete(MZ(this,t))}}function Xk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function OZ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function MZ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function DZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RZ(e=zi){if(e===zi)return iD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function iD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LZ=Math.sqrt(50),$Z=Math.sqrt(10),IZ=Math.sqrt(2);function C0(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),l=r/Math.pow(10,i),c=l>=LZ?10:l>=$Z?5:l>=IZ?2:1;let d,f,m;return i<0?(m=Math.pow(10,-i)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,i)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=n&&n<2?C0(e,t,n*2):[d,f,m]}function F1(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,l,c]=r?C0(t,e,n):C0(e,t,n);if(!(l>=i))return[];const d=l-i+1,f=new Array(d);if(r)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(i+m)/-c;else for(let m=0;m<d;++m)f[m]=(i+m)*c;return f}function V1(e,t,n){return t=+t,e=+e,n=+n,C0(e,t,n)[2]}function H1(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?V1(t,e,n):V1(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Zk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Qk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lD(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?iD:RZ(i);r>n;){if(r-n>600){const f=r-n+1,m=t-n+1,h=Math.log(f),x=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*x*(f-x)/f)*(m-f/2<0?-1:1),b=Math.max(n,Math.floor(t-m*x/f+g)),w=Math.min(r,Math.floor(t+(f-m)*x/f+g));lD(e,t,b,w,i)}const l=e[t];let c=n,d=r;for(Ju(e,n,t),i(e[r],l)>0&&Ju(e,n,r);c<d;){for(Ju(e,c,d),++c,--d;i(e[c],l)<0;)++c;for(;i(e[d],l)>0;)--d}i(e[n],l)===0?Ju(e,n,d):(++d,Ju(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function Ju(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function zZ(e,t,n){if(e=Float64Array.from(TZ(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Qk(e);if(t>=1)return Zk(e);var r,i=(r-1)*t,l=Math.floor(i),c=Zk(lD(e,l).subarray(0,l+1)),d=Qk(e.subarray(l+1));return c+(d-c)*(i-l)}}function BZ(e,t,n=sD){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,l=Math.floor(i),c=+n(e[l],l,e),d=+n(e[l+1],l+1,e);return c+(d-c)*(i-l)}}function UZ(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(i);++r<i;)l[r]=e+r*n;return l}function ha(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ys(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const q1=Symbol("implicit");function Ij(){var e=new Wk,t=[],n=[],r=q1;function i(l){let c=e.get(l);if(c===void 0){if(r!==q1)return r;e.set(l,c=t.push(l)-1)}return n[c%n.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new Wk;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(l){return arguments.length?(n=Array.from(l),i):n.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return Ij(t,n).unknown(r)},ha.apply(i,arguments),i}function zj(){var e=Ij().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function x(){var g=t().length,b=i<r,w=b?i:r,j=b?r:i;l=(j-w)/Math.max(1,g-f+m*2),d&&(l=Math.floor(l)),w+=(j-w-l*(g-f))*h,c=l*(1-f),d&&(w=Math.round(w),c=Math.round(c));var S=UZ(g).map(function(_){return w+l*_});return n(b?S.reverse():S)}return e.domain=function(g){return arguments.length?(t(g),x()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,x()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,d=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(g){return arguments.length?(d=!!g,x()):d},e.padding=function(g){return arguments.length?(f=Math.min(1,m=+g),x()):f},e.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),x()):f},e.paddingOuter=function(g){return arguments.length?(m=+g,x()):m},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),x()):h},e.copy=function(){return zj(t(),[r,i]).round(d).paddingInner(f).paddingOuter(m).align(h)},ha.apply(x(),arguments)}function oD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oD(t())},e}function FZ(){return oD(zj.apply(null,arguments).paddingInner(1))}function Bj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function cD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wf(){}var Qd=.7,k0=1/Qd,cc="\\s*([+-]?\\d+)\\s*",Jd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VZ=/^#([0-9a-f]{3,8})$/,HZ=new RegExp(`^rgb\\(${cc},${cc},${cc}\\)$`),qZ=new RegExp(`^rgb\\(${Za},${Za},${Za}\\)$`),KZ=new RegExp(`^rgba\\(${cc},${cc},${cc},${Jd}\\)$`),GZ=new RegExp(`^rgba\\(${Za},${Za},${Za},${Jd}\\)$`),YZ=new RegExp(`^hsl\\(${Jd},${Za},${Za}\\)$`),WZ=new RegExp(`^hsla\\(${Jd},${Za},${Za},${Jd}\\)$`),Jk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bj(wf,ef,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eA,formatHex:eA,formatHex8:XZ,formatHsl:ZZ,formatRgb:tA,toString:tA});function eA(){return this.rgb().formatHex()}function XZ(){return this.rgb().formatHex8()}function ZZ(){return uD(this).formatHsl()}function tA(){return this.rgb().formatRgb()}function ef(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=VZ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?nA(t):n===3?new gr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?lh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?lh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HZ.exec(e))?new gr(t[1],t[2],t[3],1):(t=qZ.exec(e))?new gr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KZ.exec(e))?lh(t[1],t[2],t[3],t[4]):(t=GZ.exec(e))?lh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YZ.exec(e))?sA(t[1],t[2]/100,t[3]/100,1):(t=WZ.exec(e))?sA(t[1],t[2]/100,t[3]/100,t[4]):Jk.hasOwnProperty(e)?nA(Jk[e]):e==="transparent"?new gr(NaN,NaN,NaN,0):null}function nA(e){return new gr(e>>16&255,e>>8&255,e&255,1)}function lh(e,t,n,r){return r<=0&&(e=t=n=NaN),new gr(e,t,n,r)}function QZ(e){return e instanceof wf||(e=ef(e)),e?(e=e.rgb(),new gr(e.r,e.g,e.b,e.opacity)):new gr}function K1(e,t,n,r){return arguments.length===1?QZ(e):new gr(e,t,n,r??1)}function gr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Bj(gr,K1,cD(wf,{brighter(e){return e=e==null?k0:Math.pow(k0,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qd:Math.pow(Qd,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gr(Hl(this.r),Hl(this.g),Hl(this.b),A0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rA,formatHex:rA,formatHex8:JZ,formatRgb:aA,toString:aA}));function rA(){return`#${$l(this.r)}${$l(this.g)}${$l(this.b)}`}function JZ(){return`#${$l(this.r)}${$l(this.g)}${$l(this.b)}${$l((isNaN(this.opacity)?1:this.opacity)*255)}`}function aA(){const e=A0(this.opacity);return`${e===1?"rgb(":"rgba("}${Hl(this.r)}, ${Hl(this.g)}, ${Hl(this.b)}${e===1?")":`, ${e})`}`}function A0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $l(e){return e=Hl(e),(e<16?"0":"")+e.toString(16)}function sA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ka(e,t,n,r)}function uD(e){if(e instanceof ka)return new ka(e.h,e.s,e.l,e.opacity);if(e instanceof wf||(e=ef(e)),!e)return new ka;if(e instanceof ka)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),l=Math.max(t,n,r),c=NaN,d=l-i,f=(l+i)/2;return d?(t===l?c=(n-r)/d+(n<r)*6:n===l?c=(r-t)/d+2:c=(t-n)/d+4,d/=f<.5?l+i:2-l-i,c*=60):d=f>0&&f<1?0:c,new ka(c,d,f,e.opacity)}function eQ(e,t,n,r){return arguments.length===1?uD(e):new ka(e,t,n,r??1)}function ka(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bj(ka,eQ,cD(wf,{brighter(e){return e=e==null?k0:Math.pow(k0,e),new ka(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qd:Math.pow(Qd,e),new ka(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new gr(By(e>=240?e-240:e+120,i,r),By(e,i,r),By(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ka(iA(this.h),oh(this.s),oh(this.l),A0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=A0(this.opacity);return`${e===1?"hsl(":"hsla("}${iA(this.h)}, ${oh(this.s)*100}%, ${oh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function iA(e){return e=(e||0)%360,e<0?e+360:e}function oh(e){return Math.max(0,Math.min(1,e||0))}function By(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Uj=e=>()=>e;function tQ(e,t){return function(n){return e+n*t}}function nQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function rQ(e){return(e=+e)==1?dD:function(t,n){return n-t?nQ(t,n,e):Uj(isNaN(t)?n:t)}}function dD(e,t){var n=t-e;return n?tQ(e,n):Uj(isNaN(e)?t:e)}const lA=function e(t){var n=rQ(t);function r(i,l){var c=n((i=K1(i)).r,(l=K1(l)).r),d=n(i.g,l.g),f=n(i.b,l.b),m=dD(i.opacity,l.opacity);return function(h){return i.r=c(h),i.g=d(h),i.b=f(h),i.opacity=m(h),i+""}}return r.gamma=e,r}(1);function aQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(l){for(i=0;i<n;++i)r[i]=e[i]*(1-l)+t[i]*l;return r}}function sQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iQ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),l=new Array(n),c;for(c=0;c<r;++c)i[c]=Uc(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(d){for(c=0;c<r;++c)l[c]=i[c](d);return l}}function lQ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function E0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function oQ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Uc(e[i],t[i]):r[i]=t[i];return function(l){for(i in n)r[i]=n[i](l);return r}}var G1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uy=new RegExp(G1.source,"g");function cQ(e){return function(){return e}}function uQ(e){return function(t){return e(t)+""}}function dQ(e,t){var n=G1.lastIndex=Uy.lastIndex=0,r,i,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(r=G1.exec(e))&&(i=Uy.exec(t));)(l=i.index)>n&&(l=t.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(r=r[0])===(i=i[0])?d[c]?d[c]+=i:d[++c]=i:(d[++c]=null,f.push({i:c,x:E0(r,i)})),n=Uy.lastIndex;return n<t.length&&(l=t.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?uQ(f[0].x):cQ(t):(t=f.length,function(m){for(var h=0,x;h<t;++h)d[(x=f[h]).i]=x.x(m);return d.join("")})}function Uc(e,t){var n=typeof t,r;return t==null||n==="boolean"?Uj(t):(n==="number"?E0:n==="string"?(r=ef(t))?(t=r,lA):dQ:t instanceof ef?lA:t instanceof Date?lQ:sQ(t)?aQ:Array.isArray(t)?iQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oQ:E0)(e,t)}function Fj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function fQ(e,t){t===void 0&&(t=e,e=Uc);for(var n=0,r=t.length-1,i=t[0],l=new Array(r<0?0:r);n<r;)l[n]=e(i,i=t[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[d](c-d)}}function mQ(e){return function(){return e}}function T0(e){return+e}var oA=[0,1];function rr(e){return e}function Y1(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:mQ(isNaN(t)?NaN:.5)}function hQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function pQ(e,t,n){var r=e[0],i=e[1],l=t[0],c=t[1];return i<r?(r=Y1(i,r),l=n(c,l)):(r=Y1(r,i),l=n(l,c)),function(d){return l(r(d))}}function xQ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)i[c]=Y1(e[c],e[c+1]),l[c]=n(t[c],t[c+1]);return function(d){var f=bf(e,d,1,r)-1;return l[f](i[f](d))}}function jf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sp(){var e=oA,t=oA,n=Uc,r,i,l,c=rr,d,f,m;function h(){var g=Math.min(e.length,t.length);return c!==rr&&(c=hQ(e[0],e[g-1])),d=g>2?xQ:pQ,f=m=null,x}function x(g){return g==null||isNaN(g=+g)?l:(f||(f=d(e.map(r),t,n)))(r(c(g)))}return x.invert=function(g){return c(i((m||(m=d(t,e.map(r),E0)))(g)))},x.domain=function(g){return arguments.length?(e=Array.from(g,T0),h()):e.slice()},x.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},x.rangeRound=function(g){return t=Array.from(g),n=Fj,h()},x.clamp=function(g){return arguments.length?(c=g?!0:rr,h()):c!==rr},x.interpolate=function(g){return arguments.length?(n=g,h()):n},x.unknown=function(g){return arguments.length?(l=g,x):l},function(g,b){return r=g,i=b,h()}}function Vj(){return Sp()(rr,rr)}function gQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function P0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Nc(e){return e=P0(Math.abs(e)),e?e[1]:NaN}function vQ(e,t){return function(n,r){for(var i=n.length,l=[],c=0,d=e[0],f=0;i>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),l.push(n.substring(i-=d,i+d)),!((f+=d+1)>r));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function yQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var bQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tf(e){if(!(t=bQ.exec(e)))throw new Error("invalid format: "+e);var t;return new Hj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tf.prototype=Hj.prototype;function Hj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wQ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var fD;function jQ(e,t){var n=P0(e,t);if(!n)return e+"";var r=n[0],i=n[1],l=i-(fD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+P0(e,Math.max(0,t+l-1))[0]}function cA(e,t){var n=P0(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cA(e*100,t),r:cA,s:jQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dA(e){return e}var fA=Array.prototype.map,mA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function NQ(e){var t=e.grouping===void 0||e.thousands===void 0?dA:vQ(fA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?dA:yQ(fA.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x){x=tf(x);var g=x.fill,b=x.align,w=x.sign,j=x.symbol,S=x.zero,_=x.width,C=x.comma,k=x.precision,O=x.trim,A=x.type;A==="n"?(C=!0,A="g"):uA[A]||(k===void 0&&(k=12),O=!0,A="g"),(S||g==="0"&&b==="=")&&(S=!0,g="0",b="=");var E=j==="$"?n:j==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",$=j==="$"?r:/[%p]/.test(A)?c:"",M=uA[A],F=/[defgprs%]/.test(A);k=k===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function G(V){var U=E,te=$,be,re,R;if(A==="c")te=M(V)+te,V="";else{V=+V;var q=V<0||1/V<0;if(V=isNaN(V)?f:M(Math.abs(V),k),O&&(V=wQ(V)),q&&+V==0&&w!=="+"&&(q=!1),U=(q?w==="("?w:d:w==="-"||w==="("?"":w)+U,te=(A==="s"?mA[8+fD/3]:"")+te+(q&&w==="("?")":""),F){for(be=-1,re=V.length;++be<re;)if(R=V.charCodeAt(be),48>R||R>57){te=(R===46?i+V.slice(be+1):V.slice(be))+te,V=V.slice(0,be);break}}}C&&!S&&(V=t(V,1/0));var H=U.length+V.length+te.length,B=H<_?new Array(_-H+1).join(g):"";switch(C&&S&&(V=t(B+V,B.length?_-te.length:1/0),B=""),b){case"<":V=U+V+te+B;break;case"=":V=U+B+V+te;break;case"^":V=B.slice(0,H=B.length>>1)+U+V+te+B.slice(H);break;default:V=B+U+V+te;break}return l(V)}return G.toString=function(){return x+""},G}function h(x,g){var b=m((x=tf(x),x.type="f",x)),w=Math.max(-8,Math.min(8,Math.floor(Nc(g)/3)))*3,j=Math.pow(10,-w),S=mA[8+w/3];return function(_){return b(j*_)+S}}return{format:m,formatPrefix:h}}var ch,qj,mD;SQ({thousands:",",grouping:[3],currency:["$",""]});function SQ(e){return ch=NQ(e),qj=ch.format,mD=ch.formatPrefix,ch}function _Q(e){return Math.max(0,-Nc(Math.abs(e)))}function CQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nc(t)/3)))*3-Nc(Math.abs(e)))}function kQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nc(t)-Nc(e))+1}function hD(e,t,n,r){var i=H1(e,t,n),l;switch(r=tf(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=CQ(i,c))&&(r.precision=l),mD(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=kQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=_Q(i))&&(r.precision=l-(r.type==="%")*2);break}}return qj(r)}function Xi(e){var t=e.domain;return e.ticks=function(n){var r=t();return F1(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return hD(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,l=r.length-1,c=r[i],d=r[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=i,i=l,l=m);h-- >0;){if(m=V1(c,d,n),m===f)return r[i]=c,r[l]=d,t(r);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function pD(){var e=Vj();return e.copy=function(){return jf(e,pD())},ha.apply(e,arguments),Xi(e)}function xD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,T0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return xD(e).unknown(t)},e=arguments.length?Array.from(e,T0):[0,1],Xi(n)}function gD(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],l=e[r],c;return l<i&&(c=n,n=r,r=c,c=i,i=l,l=c),e[n]=t.floor(i),e[r]=t.ceil(l),e}function hA(e){return Math.log(e)}function pA(e){return Math.exp(e)}function AQ(e){return-Math.log(-e)}function EQ(e){return-Math.exp(-e)}function TQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PQ(e){return e===10?TQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function OQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function xA(e){return(t,n)=>-e(-t,n)}function Kj(e){const t=e(hA,pA),n=t.domain;let r=10,i,l;function c(){return i=OQ(r),l=PQ(r),n()[0]<0?(i=xA(i),l=xA(l),e(AQ,EQ)):e(hA,pA),t}return t.base=function(d){return arguments.length?(r=+d,c()):r},t.domain=function(d){return arguments.length?(n(d),c()):n()},t.ticks=d=>{const f=n();let m=f[0],h=f[f.length-1];const x=h<m;x&&([m,h]=[h,m]);let g=i(m),b=i(h),w,j;const S=d==null?10:+d;let _=[];if(!(r%1)&&b-g<S){if(g=Math.floor(g),b=Math.ceil(b),m>0){for(;g<=b;++g)for(w=1;w<r;++w)if(j=g<0?w/l(-g):w*l(g),!(j<m)){if(j>h)break;_.push(j)}}else for(;g<=b;++g)for(w=r-1;w>=1;--w)if(j=g>0?w/l(-g):w*l(g),!(j<m)){if(j>h)break;_.push(j)}_.length*2<S&&(_=F1(m,h,S))}else _=F1(g,b,Math.min(b-g,S)).map(l);return x?_.reverse():_},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=tf(f)).precision==null&&(f.trim=!0),f=qj(f)),d===1/0)return f;const m=Math.max(1,r*d/t.ticks().length);return h=>{let x=h/l(Math.round(i(h)));return x*r<r-.5&&(x*=r),x<=m?f(h):""}},t.nice=()=>n(gD(n(),{floor:d=>l(Math.floor(i(d))),ceil:d=>l(Math.ceil(i(d)))})),t}function vD(){const e=Kj(Sp()).domain([1,10]);return e.copy=()=>jf(e,vD()).base(e.base()),ha.apply(e,arguments),e}function gA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Gj(e){var t=1,n=e(gA(t),vA(t));return n.constant=function(r){return arguments.length?e(gA(t=+r),vA(t)):t},Xi(n)}function yD(){var e=Gj(Sp());return e.copy=function(){return jf(e,yD()).constant(e.constant())},ha.apply(e,arguments)}function yA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function MQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DQ(e){return e<0?-e*e:e*e}function Yj(e){var t=e(rr,rr),n=1;function r(){return n===1?e(rr,rr):n===.5?e(MQ,DQ):e(yA(n),yA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Xi(t)}function Wj(){var e=Yj(Sp());return e.copy=function(){return jf(e,Wj()).exponent(e.exponent())},ha.apply(e,arguments),e}function RQ(){return Wj.apply(null,arguments).exponent(.5)}function bA(e){return Math.sign(e)*e*e}function LQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bD(){var e=Vj(),t=[0,1],n=!1,r;function i(l){var c=LQ(e(l));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(l){return e.invert(bA(l))},i.domain=function(l){return arguments.length?(e.domain(l),i):e.domain()},i.range=function(l){return arguments.length?(e.range((t=Array.from(l,T0)).map(bA)),i):t.slice()},i.rangeRound=function(l){return i.range(l).round(!0)},i.round=function(l){return arguments.length?(n=!!l,i):n},i.clamp=function(l){return arguments.length?(e.clamp(l),i):e.clamp()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return bD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ha.apply(i,arguments),Xi(i)}function wD(){var e=[],t=[],n=[],r;function i(){var c=0,d=Math.max(1,t.length);for(n=new Array(d-1);++c<d;)n[c-1]=BZ(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?r:t[bf(n,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(zi),i()},l.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return wD().domain(e).range(t).unknown(r)},ha.apply(l,arguments)}function jD(){var e=0,t=1,n=1,r=[.5],i=[0,1],l;function c(f){return f!=null&&f<=f?i[bf(r,f,0,n)]:l}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,d()):i.slice()},c.invertExtent=function(f){var m=i.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return jD().domain([e,t]).range(i).unknown(l)},ha.apply(Xi(c),arguments)}function ND(){var e=[.5],t=[0,1],n,r=1;function i(l){return l!=null&&l<=l?t[bf(e,l,0,r)]:n}return i.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return ND().domain(e).range(t).unknown(n)},ha.apply(i,arguments)}const Fy=new Date,Vy=new Date;function jn(e,t,n,r){function i(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return i.floor=l=>(e(l=new Date(+l)),l),i.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),i.round=l=>{const c=i(l),d=i.ceil(l);return l-c<d-l?c:d},i.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),i.range=(l,c,d)=>{const f=[];if(l=i.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},i.filter=l=>jn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),n&&(i.count=(l,c)=>(Fy.setTime(+l),Vy.setTime(+c),e(Fy),e(Vy),Math.floor(n(Fy,Vy))),i.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?i.filter(r?c=>r(c)%l===0:c=>i.count(0,c)%l===0):i)),i}const O0=jn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);O0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):O0);O0.range;const _s=1e3,la=_s*60,Cs=la*60,Us=Cs*24,Xj=Us*7,wA=Us*30,Hy=Us*365,Il=jn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getUTCSeconds());Il.range;const Zj=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_s)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getMinutes());Zj.range;const Qj=jn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCMinutes());Qj.range;const Jj=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_s-e.getMinutes()*la)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getHours());Jj.range;const e2=jn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getUTCHours());e2.range;const Nf=jn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*la)/Us,e=>e.getDate()-1);Nf.range;const _p=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Us,e=>e.getUTCDate()-1);_p.range;const SD=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Us,e=>Math.floor(e/Us));SD.range;function eo(e){return jn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*la)/Xj)}const Cp=eo(0),M0=eo(1),$Q=eo(2),IQ=eo(3),Sc=eo(4),zQ=eo(5),BQ=eo(6);Cp.range;M0.range;$Q.range;IQ.range;Sc.range;zQ.range;BQ.range;function to(e){return jn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Xj)}const kp=to(0),D0=to(1),UQ=to(2),FQ=to(3),_c=to(4),VQ=to(5),HQ=to(6);kp.range;D0.range;UQ.range;FQ.range;_c.range;VQ.range;HQ.range;const t2=jn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());t2.range;const n2=jn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());n2.range;const Fs=jn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Fs.range;const Vs=jn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Vs.range;function _D(e,t,n,r,i,l){const c=[[Il,1,_s],[Il,5,5*_s],[Il,15,15*_s],[Il,30,30*_s],[l,1,la],[l,5,5*la],[l,15,15*la],[l,30,30*la],[i,1,Cs],[i,3,3*Cs],[i,6,6*Cs],[i,12,12*Cs],[r,1,Us],[r,2,2*Us],[n,1,Xj],[t,1,wA],[t,3,3*wA],[e,1,Hy]];function d(m,h,x){const g=h<m;g&&([m,h]=[h,m]);const b=x&&typeof x.range=="function"?x:f(m,h,x),w=b?b.range(m,+h+1):[];return g?w.reverse():w}function f(m,h,x){const g=Math.abs(h-m)/x,b=$j(([,,S])=>S).right(c,g);if(b===c.length)return e.every(H1(m/Hy,h/Hy,x));if(b===0)return O0.every(Math.max(H1(m,h,x),1));const[w,j]=c[g/c[b-1][2]<c[b][2]/g?b-1:b];return w.every(j)}return[d,f]}const[qQ,KQ]=_D(Vs,n2,kp,SD,e2,Qj),[GQ,YQ]=_D(Fs,t2,Cp,Nf,Jj,Zj);function qy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ky(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ed(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function WQ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=td(i),h=nd(i),x=td(l),g=nd(l),b=td(c),w=nd(c),j=td(d),S=nd(d),_=td(f),C=nd(f),k={a:q,A:H,b:B,B:T,c:null,d:kA,e:kA,f:vJ,g:AJ,G:TJ,H:pJ,I:xJ,j:gJ,L:CD,m:yJ,M:bJ,p:D,q:L,Q:TA,s:PA,S:wJ,u:jJ,U:NJ,V:SJ,w:_J,W:CJ,x:null,X:null,y:kJ,Y:EJ,Z:PJ,"%":EA},O={a:K,A:oe,b:z,B:Y,c:null,d:AA,e:AA,f:RJ,g:qJ,G:GJ,H:OJ,I:MJ,j:DJ,L:AD,m:LJ,M:$J,p:ye,q:se,Q:TA,s:PA,S:IJ,u:zJ,U:BJ,V:UJ,w:FJ,W:VJ,x:null,X:null,y:HJ,Y:KJ,Z:YJ,"%":EA},A={a:G,A:V,b:U,B:te,c:be,d:_A,e:_A,f:dJ,g:SA,G:NA,H:CA,I:CA,j:lJ,L:uJ,m:iJ,M:oJ,p:F,q:sJ,Q:mJ,s:hJ,S:cJ,u:eJ,U:tJ,V:nJ,w:JQ,W:rJ,x:re,X:R,y:SA,Y:NA,Z:aJ,"%":fJ};k.x=E(n,k),k.X=E(r,k),k.c=E(t,k),O.x=E(n,O),O.X=E(r,O),O.c=E(t,O);function E(ve,we){return function(Ne){var me=[],Oe=-1,Be=0,Xe=ve.length,X,ue,Z;for(Ne instanceof Date||(Ne=new Date(+Ne));++Oe<Xe;)ve.charCodeAt(Oe)===37&&(me.push(ve.slice(Be,Oe)),(ue=jA[X=ve.charAt(++Oe)])!=null?X=ve.charAt(++Oe):ue=X==="e"?" ":"0",(Z=we[X])&&(X=Z(Ne,ue)),me.push(X),Be=Oe+1);return me.push(ve.slice(Be,Oe)),me.join("")}}function $(ve,we){return function(Ne){var me=ed(1900,void 0,1),Oe=M(me,ve,Ne+="",0),Be,Xe;if(Oe!=Ne.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(we&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Be=Ky(ed(me.y,0,1)),Xe=Be.getUTCDay(),Be=Xe>4||Xe===0?D0.ceil(Be):D0(Be),Be=_p.offset(Be,(me.V-1)*7),me.y=Be.getUTCFullYear(),me.m=Be.getUTCMonth(),me.d=Be.getUTCDate()+(me.w+6)%7):(Be=qy(ed(me.y,0,1)),Xe=Be.getDay(),Be=Xe>4||Xe===0?M0.ceil(Be):M0(Be),Be=Nf.offset(Be,(me.V-1)*7),me.y=Be.getFullYear(),me.m=Be.getMonth(),me.d=Be.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Xe="Z"in me?Ky(ed(me.y,0,1)).getUTCDay():qy(ed(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Xe+5)%7:me.w+me.U*7-(Xe+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,Ky(me)):qy(me)}}function M(ve,we,Ne,me){for(var Oe=0,Be=we.length,Xe=Ne.length,X,ue;Oe<Be;){if(me>=Xe)return-1;if(X=we.charCodeAt(Oe++),X===37){if(X=we.charAt(Oe++),ue=A[X in jA?we.charAt(Oe++):X],!ue||(me=ue(ve,Ne,me))<0)return-1}else if(X!=Ne.charCodeAt(me++))return-1}return me}function F(ve,we,Ne){var me=m.exec(we.slice(Ne));return me?(ve.p=h.get(me[0].toLowerCase()),Ne+me[0].length):-1}function G(ve,we,Ne){var me=b.exec(we.slice(Ne));return me?(ve.w=w.get(me[0].toLowerCase()),Ne+me[0].length):-1}function V(ve,we,Ne){var me=x.exec(we.slice(Ne));return me?(ve.w=g.get(me[0].toLowerCase()),Ne+me[0].length):-1}function U(ve,we,Ne){var me=_.exec(we.slice(Ne));return me?(ve.m=C.get(me[0].toLowerCase()),Ne+me[0].length):-1}function te(ve,we,Ne){var me=j.exec(we.slice(Ne));return me?(ve.m=S.get(me[0].toLowerCase()),Ne+me[0].length):-1}function be(ve,we,Ne){return M(ve,t,we,Ne)}function re(ve,we,Ne){return M(ve,n,we,Ne)}function R(ve,we,Ne){return M(ve,r,we,Ne)}function q(ve){return c[ve.getDay()]}function H(ve){return l[ve.getDay()]}function B(ve){return f[ve.getMonth()]}function T(ve){return d[ve.getMonth()]}function D(ve){return i[+(ve.getHours()>=12)]}function L(ve){return 1+~~(ve.getMonth()/3)}function K(ve){return c[ve.getUTCDay()]}function oe(ve){return l[ve.getUTCDay()]}function z(ve){return f[ve.getUTCMonth()]}function Y(ve){return d[ve.getUTCMonth()]}function ye(ve){return i[+(ve.getUTCHours()>=12)]}function se(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var we=E(ve+="",k);return we.toString=function(){return ve},we},parse:function(ve){var we=$(ve+="",!1);return we.toString=function(){return ve},we},utcFormat:function(ve){var we=E(ve+="",O);return we.toString=function(){return ve},we},utcParse:function(ve){var we=$(ve+="",!0);return we.toString=function(){return ve},we}}}var jA={"-":"",_:" ",0:"0"},On=/^\s*\d+/,XQ=/^%/,ZQ=/[\\^$*+?|[\]().{}]/g;function gt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",l=i.length;return r+(l<n?new Array(n-l+1).join(t)+i:i)}function QQ(e){return e.replace(ZQ,"\\$&")}function td(e){return new RegExp("^(?:"+e.map(QQ).join("|")+")","i")}function nd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function JQ(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function eJ(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function tJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function nJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function rJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function NA(e,t,n){var r=On.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function SA(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aJ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sJ(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function iJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function _A(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lJ(e,t,n){var r=On.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function CA(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function oJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function cJ(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function uJ(e,t,n){var r=On.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function dJ(e,t,n){var r=On.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fJ(e,t,n){var r=XQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function mJ(e,t,n){var r=On.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function hJ(e,t,n){var r=On.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function kA(e,t){return gt(e.getDate(),t,2)}function pJ(e,t){return gt(e.getHours(),t,2)}function xJ(e,t){return gt(e.getHours()%12||12,t,2)}function gJ(e,t){return gt(1+Nf.count(Fs(e),e),t,3)}function CD(e,t){return gt(e.getMilliseconds(),t,3)}function vJ(e,t){return CD(e,t)+"000"}function yJ(e,t){return gt(e.getMonth()+1,t,2)}function bJ(e,t){return gt(e.getMinutes(),t,2)}function wJ(e,t){return gt(e.getSeconds(),t,2)}function jJ(e){var t=e.getDay();return t===0?7:t}function NJ(e,t){return gt(Cp.count(Fs(e)-1,e),t,2)}function kD(e){var t=e.getDay();return t>=4||t===0?Sc(e):Sc.ceil(e)}function SJ(e,t){return e=kD(e),gt(Sc.count(Fs(e),e)+(Fs(e).getDay()===4),t,2)}function _J(e){return e.getDay()}function CJ(e,t){return gt(M0.count(Fs(e)-1,e),t,2)}function kJ(e,t){return gt(e.getFullYear()%100,t,2)}function AJ(e,t){return e=kD(e),gt(e.getFullYear()%100,t,2)}function EJ(e,t){return gt(e.getFullYear()%1e4,t,4)}function TJ(e,t){var n=e.getDay();return e=n>=4||n===0?Sc(e):Sc.ceil(e),gt(e.getFullYear()%1e4,t,4)}function PJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gt(t/60|0,"0",2)+gt(t%60,"0",2)}function AA(e,t){return gt(e.getUTCDate(),t,2)}function OJ(e,t){return gt(e.getUTCHours(),t,2)}function MJ(e,t){return gt(e.getUTCHours()%12||12,t,2)}function DJ(e,t){return gt(1+_p.count(Vs(e),e),t,3)}function AD(e,t){return gt(e.getUTCMilliseconds(),t,3)}function RJ(e,t){return AD(e,t)+"000"}function LJ(e,t){return gt(e.getUTCMonth()+1,t,2)}function $J(e,t){return gt(e.getUTCMinutes(),t,2)}function IJ(e,t){return gt(e.getUTCSeconds(),t,2)}function zJ(e){var t=e.getUTCDay();return t===0?7:t}function BJ(e,t){return gt(kp.count(Vs(e)-1,e),t,2)}function ED(e){var t=e.getUTCDay();return t>=4||t===0?_c(e):_c.ceil(e)}function UJ(e,t){return e=ED(e),gt(_c.count(Vs(e),e)+(Vs(e).getUTCDay()===4),t,2)}function FJ(e){return e.getUTCDay()}function VJ(e,t){return gt(D0.count(Vs(e)-1,e),t,2)}function HJ(e,t){return gt(e.getUTCFullYear()%100,t,2)}function qJ(e,t){return e=ED(e),gt(e.getUTCFullYear()%100,t,2)}function KJ(e,t){return gt(e.getUTCFullYear()%1e4,t,4)}function GJ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?_c(e):_c.ceil(e),gt(e.getUTCFullYear()%1e4,t,4)}function YJ(){return"+0000"}function EA(){return"%"}function TA(e){return+e}function PA(e){return Math.floor(+e/1e3)}var Uo,TD,PD;WJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WJ(e){return Uo=WQ(e),TD=Uo.format,Uo.parse,PD=Uo.utcFormat,Uo.utcParse,Uo}function XJ(e){return new Date(e)}function ZJ(e){return e instanceof Date?+e:+new Date(+e)}function r2(e,t,n,r,i,l,c,d,f,m){var h=Vj(),x=h.invert,g=h.domain,b=m(".%L"),w=m(":%S"),j=m("%I:%M"),S=m("%I %p"),_=m("%a %d"),C=m("%b %d"),k=m("%B"),O=m("%Y");function A(E){return(f(E)<E?b:d(E)<E?w:c(E)<E?j:l(E)<E?S:r(E)<E?i(E)<E?_:C:n(E)<E?k:O)(E)}return h.invert=function(E){return new Date(x(E))},h.domain=function(E){return arguments.length?g(Array.from(E,ZJ)):g().map(XJ)},h.ticks=function(E){var $=g();return e($[0],$[$.length-1],E??10)},h.tickFormat=function(E,$){return $==null?A:m($)},h.nice=function(E){var $=g();return(!E||typeof E.range!="function")&&(E=t($[0],$[$.length-1],E??10)),E?g(gD($,E)):h},h.copy=function(){return jf(h,r2(e,t,n,r,i,l,c,d,f,m))},h}function QJ(){return ha.apply(r2(GQ,YQ,Fs,t2,Cp,Nf,Jj,Zj,Il,TD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JJ(){return ha.apply(r2(qQ,KQ,Vs,n2,kp,_p,e2,Qj,Il,PD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ap(){var e=0,t=1,n,r,i,l,c=rr,d=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(i===0?.5:(x=(l(x)-n)*i,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,n=l(e=+e),r=l(t=+t),i=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(c=x,m):c};function h(x){return function(g){var b,w;return arguments.length?([b,w]=g,c=x(b,w),m):[c(0),c(1)]}}return m.range=h(Uc),m.rangeRound=h(Fj),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,n=x(e),r=x(t),i=n===r?0:1/(r-n),m}}function Zi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OD(){var e=Xi(Ap()(rr));return e.copy=function(){return Zi(e,OD())},Ys.apply(e,arguments)}function MD(){var e=Kj(Ap()).domain([1,10]);return e.copy=function(){return Zi(e,MD()).base(e.base())},Ys.apply(e,arguments)}function DD(){var e=Gj(Ap());return e.copy=function(){return Zi(e,DD()).constant(e.constant())},Ys.apply(e,arguments)}function a2(){var e=Yj(Ap());return e.copy=function(){return Zi(e,a2()).exponent(e.exponent())},Ys.apply(e,arguments)}function eee(){return a2.apply(null,arguments).exponent(.5)}function RD(){var e=[],t=rr;function n(r){if(r!=null&&!isNaN(r=+r))return t((bf(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(zi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,l)=>zZ(e,l/r))},n.copy=function(){return RD(t).domain(e)},Ys.apply(n,arguments)}function Ep(){var e=0,t=.5,n=1,r=1,i,l,c,d,f,m=rr,h,x=!1,g;function b(j){return isNaN(j=+j)?g:(j=.5+((j=+h(j))-l)*(r*j<r*l?d:f),m(x?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([e,t,n]=j,i=h(e=+e),l=h(t=+t),c=h(n=+n),d=i===l?0:.5/(l-i),f=l===c?0:.5/(c-l),r=l<i?-1:1,b):[e,t,n]},b.clamp=function(j){return arguments.length?(x=!!j,b):x},b.interpolator=function(j){return arguments.length?(m=j,b):m};function w(j){return function(S){var _,C,k;return arguments.length?([_,C,k]=S,m=fQ(j,[_,C,k]),b):[m(0),m(.5),m(1)]}}return b.range=w(Uc),b.rangeRound=w(Fj),b.unknown=function(j){return arguments.length?(g=j,b):g},function(j){return h=j,i=j(e),l=j(t),c=j(n),d=i===l?0:.5/(l-i),f=l===c?0:.5/(c-l),r=l<i?-1:1,b}}function LD(){var e=Xi(Ep()(rr));return e.copy=function(){return Zi(e,LD())},Ys.apply(e,arguments)}function $D(){var e=Kj(Ep()).domain([.1,1,10]);return e.copy=function(){return Zi(e,$D()).base(e.base())},Ys.apply(e,arguments)}function ID(){var e=Gj(Ep());return e.copy=function(){return Zi(e,ID()).constant(e.constant())},Ys.apply(e,arguments)}function s2(){var e=Yj(Ep());return e.copy=function(){return Zi(e,s2()).exponent(e.exponent())},Ys.apply(e,arguments)}function tee(){return s2.apply(null,arguments).exponent(.5)}const yd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zj,scaleDiverging:LD,scaleDivergingLog:$D,scaleDivergingPow:s2,scaleDivergingSqrt:tee,scaleDivergingSymlog:ID,scaleIdentity:xD,scaleImplicit:q1,scaleLinear:pD,scaleLog:vD,scaleOrdinal:Ij,scalePoint:FZ,scalePow:Wj,scaleQuantile:wD,scaleQuantize:jD,scaleRadial:bD,scaleSequential:OD,scaleSequentialLog:MD,scaleSequentialPow:a2,scaleSequentialQuantile:RD,scaleSequentialSqrt:eee,scaleSequentialSymlog:DD,scaleSqrt:RQ,scaleSymlog:yD,scaleThreshold:ND,scaleTime:QJ,scaleUtc:JJ,tickFormat:hD},Symbol.toStringTag,{value:"Module"}));var Qi=e=>e.chartData,i2=ge([Qi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Tp=(e,t,n,r)=>r?i2(e):Qi(e);function Cc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(zr(t)&&zr(n))return!0}return!1}function OA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function nee(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,l;if(zr(n))i=n;else if(typeof n=="function")return;if(zr(r))l=r;else if(typeof r=="function")return;var c=[i,l];if(Cc(c))return c}}function ree(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Cc(r))return OA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,l]=e,c,d;if(i==="auto")t!=null&&(c=Math.min(...t));else if(De(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&wk.test(i)){var f=wk.exec(i);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t==null?void 0:t[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(De(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&jk.test(l)){var h=jk.exec(l);if(h==null||t==null)d=void 0;else{var x=+h[1];d=t[1]+x}}else d=t==null?void 0:t[1];var g=[c,d];if(Cc(g))return t==null?g:OA(g,t,n)}}}var Fc=1e9,aee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o2,Yt=!0,fa="[DecimalError] ",ql=fa+"Invalid argument: ",l2=fa+"Exponent out of range: ",Vc=Math.floor,Al=Math.pow,see=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mr,En=1e7,Bt=7,zD=9007199254740991,R0=Vc(zD/Bt),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,n,r,i,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===i?0:r>i^l.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Bt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(e){return Ts(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,n=t.constructor;return Mt(Ts(t,new n(e),0,1),n.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return gn(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,n=this,r=n.constructor,i=r.precision,l=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Mr))throw Error(fa+"NaN");if(n.s<1)throw Error(fa+(n.s?"NaN":"-Infinity"));return n.eq(Mr)?new r(0):(Yt=!1,t=Ts(nf(n,l),nf(e,l),l),Yt=!0,Mt(t,i))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FD(t,e):BD(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(fa+"NaN");return n.s?(Yt=!1,t=Ts(n,e,0,1).times(e),Yt=!0,n.minus(t)):Mt(new r(n),i)};Re.naturalExponential=Re.exp=function(){return UD(this)};Re.naturalLogarithm=Re.ln=function(){return nf(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BD(t,e):FD(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ql+e);if(t=gn(i)+1,r=i.d.length-1,n=r*Bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Re.squareRoot=Re.sqrt=function(){var e,t,n,r,i,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(fa+"NaN")}for(e=gn(d),Yt=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=Ya(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Vc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=c=n+3;;)if(l=r,r=l.plus(Ts(d,l,c+2)).times(.5),Ya(l.d).slice(0,c)===(t=Ya(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(Mt(l,n+1,0),l.times(l).eq(d)){r=l;break}}else if(t!="9999")break;c+=4}return Yt=!0,Mt(r,n)};Re.times=Re.mul=function(e){var t,n,r,i,l,c,d,f,m,h=this,x=h.constructor,g=h.d,b=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,n=h.e+e.e,f=g.length,m=b.length,f<m&&(l=g,g=b,b=l,c=f,f=m,m=c),l=[],c=f+m,r=c;r--;)l.push(0);for(r=m;--r>=0;){for(t=0,i=f+r;i>r;)d=l[i]+b[r]*g[i-r-1]+t,l[i--]=d%En|0,t=d/En|0;l[i]=(l[i]+t)%En|0}for(;!l[--c];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,Yt?Mt(e,x.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ja(e,0,Fc),t===void 0?t=r.rounding:Ja(t,0,8),Mt(n,e+gn(n)+1,t))};Re.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Xl(r,!0):(Ja(e,0,Fc),t===void 0?t=i.rounding:Ja(t,0,8),r=Mt(new i(r),e+1,t),n=Xl(r,!0,e+1)),n};Re.toFixed=function(e,t){var n,r,i=this,l=i.constructor;return e===void 0?Xl(i):(Ja(e,0,Fc),t===void 0?t=l.rounding:Ja(t,0,8),r=Mt(new l(i),e+gn(i)+1,t),n=Xl(r.abs(),!1,e+gn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return Mt(new t(e),gn(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,n,r,i,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Mr);if(d=new f(d),!d.s){if(e.s<1)throw Error(fa+"Infinity");return d}if(d.eq(Mr))return d;if(r=f.precision,e.eq(Mr))return Mt(d,r);if(t=e.e,n=e.d.length-1,c=t>=n,l=d.s,c){if((n=h<0?-h:h)<=zD){for(i=new f(Mr),t=Math.ceil(r/Bt+4),Yt=!1;n%2&&(i=i.times(d),DA(i.d,t)),n=Vc(n/2),n!==0;)d=d.times(d),DA(d.d,t);return Yt=!0,e.s<0?new f(Mr).div(i):Mt(i,r)}}else if(l<0)throw Error(fa+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Yt=!1,i=e.times(nf(d,r+m)),Yt=!0,i=UD(i),i.s=l,i};Re.toPrecision=function(e,t){var n,r,i=this,l=i.constructor;return e===void 0?(n=gn(i),r=Xl(i,n<=l.toExpNeg||n>=l.toExpPos)):(Ja(e,1,Fc),t===void 0?t=l.rounding:Ja(t,0,8),i=Mt(new l(i),e,t),n=gn(i),r=Xl(i,e<=n||n<=l.toExpNeg,e)),r};Re.toSignificantDigits=Re.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ja(e,1,Fc),t===void 0?t=r.rounding:Ja(t,0,8)),Mt(new r(n),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gn(e),n=e.constructor;return Xl(e,t<=n.toExpNeg||t>=n.toExpPos)};function BD(e,t){var n,r,i,l,c,d,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Yt?Mt(t,x):t;if(f=e.d,m=t.d,c=e.e,i=t.e,f=f.slice(),l=c-i,l){for(l<0?(r=f,l=-l,d=m.length):(r=m,i=c,d=f.length),c=Math.ceil(x/Bt),d=c>d?c+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,r=m,m=f,f=r),n=0;l;)n=(f[--l]=f[l]+m[l]+n)/En|0,f[l]%=En;for(n&&(f.unshift(n),++i),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=i,Yt?Mt(t,x):t}function Ja(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ql+e)}function Ya(e){var t,n,r,i=e.length-1,l="",c=e[0];if(i>0){for(l+=c,t=1;t<i;t++)r=e[t]+"",n=Bt-r.length,n&&(l+=Li(n)),l+=r;c=e[t],r=c+"",n=Bt-r.length,n&&(l+=Li(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Ts=function(){function e(r,i){var l,c=0,d=r.length;for(r=r.slice();d--;)l=r[d]*i+c,r[d]=l%En|0,c=l/En|0;return c&&r.unshift(c),r}function t(r,i,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(r[d]!=i[d]){f=r[d]>i[d]?1:-1;break}return f}function n(r,i,l){for(var c=0;l--;)r[l]-=c,c=r[l]<i[l]?1:0,r[l]=c*En+r[l]-i[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,l,c){var d,f,m,h,x,g,b,w,j,S,_,C,k,O,A,E,$,M,F=r.constructor,G=r.s==i.s?1:-1,V=r.d,U=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(fa+"Division by zero");for(f=r.e-i.e,$=U.length,A=V.length,b=new F(G),w=b.d=[],m=0;U[m]==(V[m]||0);)++m;if(U[m]>(V[m]||0)&&--f,l==null?C=l=F.precision:c?C=l+(gn(r)-gn(i))+1:C=l,C<0)return new F(0);if(C=C/Bt+2|0,m=0,$==1)for(h=0,U=U[0],C++;(m<A||h)&&C--;m++)k=h*En+(V[m]||0),w[m]=k/U|0,h=k%U|0;else{for(h=En/(U[0]+1)|0,h>1&&(U=e(U,h),V=e(V,h),$=U.length,A=V.length),O=$,j=V.slice(0,$),S=j.length;S<$;)j[S++]=0;M=U.slice(),M.unshift(0),E=U[0],U[1]>=En/2&&++E;do h=0,d=t(U,j,$,S),d<0?(_=j[0],$!=S&&(_=_*En+(j[1]||0)),h=_/E|0,h>1?(h>=En&&(h=En-1),x=e(U,h),g=x.length,S=j.length,d=t(x,j,g,S),d==1&&(h--,n(x,$<g?M:U,g))):(h==0&&(d=h=1),x=U.slice()),g=x.length,g<S&&x.unshift(0),n(j,x,S),d==-1&&(S=j.length,d=t(U,j,$,S),d<1&&(h++,n(j,$<S?M:U,S))),S=j.length):d===0&&(h++,j=[0]),w[m++]=h,d&&j[0]?j[S++]=V[O]||0:(j=[V[O]],S=1);while((O++<A||j[0]!==void 0)&&C--)}return w[0]||w.shift(),b.e=f,Mt(b,c?l+gn(b)+1:l)}}();function UD(e,t){var n,r,i,l,c,d,f=0,m=0,h=e.constructor,x=h.precision;if(gn(e)>16)throw Error(l2+gn(e));if(!e.s)return new h(Mr);for(Yt=!1,d=x,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(r=Math.log(Al(2,m))/Math.LN10*2+5|0,d+=r,n=i=l=new h(Mr),h.precision=d;;){if(i=Mt(i.times(e),d),n=n.times(++f),c=l.plus(Ts(i,n,d)),Ya(c.d).slice(0,d)===Ya(l.d).slice(0,d)){for(;m--;)l=Mt(l.times(l),d);return h.precision=x,t==null?(Yt=!0,Mt(l,x)):l}l=c}}function gn(e){for(var t=e.e*Bt,n=e.d[0];n>=10;n/=10)t++;return t}function Gy(e,t,n){if(t>e.LN10.sd())throw Yt=!0,n&&(e.precision=n),Error(fa+"LN10 precision limit exceeded");return Mt(new e(e.LN10),t)}function Li(e){for(var t="";e--;)t+="0";return t}function nf(e,t){var n,r,i,l,c,d,f,m,h,x=1,g=10,b=e,w=b.d,j=b.constructor,S=j.precision;if(b.s<1)throw Error(fa+(b.s?"NaN":"-Infinity"));if(b.eq(Mr))return new j(0);if(t==null?(Yt=!1,m=S):m=t,b.eq(10))return t==null&&(Yt=!0),Gy(j,m);if(m+=g,j.precision=m,n=Ya(w),r=n.charAt(0),l=gn(b),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Ya(b.d),r=n.charAt(0),x++;l=gn(b),r>1?(b=new j("0."+n),l++):b=new j(r+"."+n.slice(1))}else return f=Gy(j,m+2,S).times(l+""),b=nf(new j(r+"."+n.slice(1)),m-g).plus(f),j.precision=S,t==null?(Yt=!0,Mt(b,S)):b;for(d=c=b=Ts(b.minus(Mr),b.plus(Mr),m),h=Mt(b.times(b),m),i=3;;){if(c=Mt(c.times(h),m),f=d.plus(Ts(c,new j(i),m)),Ya(f.d).slice(0,m)===Ya(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(Gy(j,m+2,S).times(l+""))),d=Ts(d,new j(x),m),j.precision=S,t==null?(Yt=!0,Mt(d,S)):d;d=f,i+=2}}function MA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Vc(n/Bt),e.d=[],r=(n+1)%Bt,n<0&&(r+=Bt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Bt;r<i;)e.d.push(+t.slice(r,r+=Bt));t=t.slice(r),r=Bt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Yt&&(e.e>R0||e.e<-R0))throw Error(l2+n)}else e.s=0,e.e=0,e.d=[0];return e}function Mt(e,t,n){var r,i,l,c,d,f,m,h,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=Bt,i=t,m=x[h=0];else{if(h=Math.ceil((r+1)/Bt),l=x.length,h>=l)return e;for(m=l=x[h],c=1;l>=10;l/=10)c++;r%=Bt,i=r-Bt+c}if(n!==void 0&&(l=Al(10,c-i-1),d=m/l%10|0,f=t<0||x[h+1]!==void 0||m%l,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?i>0?m/Al(10,c-i):0:x[h-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return f?(l=gn(e),x.length=1,t=t-l-1,x[0]=Al(10,(Bt-t%Bt)%Bt),e.e=Vc(-t/Bt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=h,l=1,h--):(x.length=h+1,l=Al(10,Bt-r),x[h]=i>0?(m/Al(10,c-i)%Al(10,i)|0)*l:0),f)for(;;)if(h==0){(x[0]+=l)==En&&(x[0]=1,++e.e);break}else{if(x[h]+=l,x[h]!=En)break;x[h--]=0,l=1}for(r=x.length;x[--r]===0;)x.pop();if(Yt&&(e.e>R0||e.e<-R0))throw Error(l2+gn(e));return e}function FD(e,t){var n,r,i,l,c,d,f,m,h,x,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Yt?Mt(t,b):t;if(f=e.d,x=t.d,r=t.e,m=e.e,f=f.slice(),c=m-r,c){for(h=c<0,h?(n=f,c=-c,d=x.length):(n=x,r=m,d=f.length),i=Math.max(Math.ceil(b/Bt),d)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=f.length,d=x.length,h=i<d,h&&(d=i),i=0;i<d;i++)if(f[i]!=x[i]){h=f[i]<x[i];break}c=0}for(h&&(n=f,f=x,x=n,t.s=-t.s),d=f.length,i=x.length-d;i>0;--i)f[d++]=0;for(i=x.length;i>c;){if(f[--i]<x[i]){for(l=i;l&&f[--l]===0;)f[l]=En-1;--f[l],f[i]+=En}f[i]-=x[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,Yt?Mt(t,b):t):new g(0)}function Xl(e,t,n){var r,i=gn(e),l=Ya(e.d),c=l.length;return t?(n&&(r=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+Li(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(i<0?"e":"e+")+i):i<0?(l="0."+Li(-i-1)+l,n&&(r=n-c)>0&&(l+=Li(r))):i>=c?(l+=Li(i+1-c),n&&(r=n-i-1)>0&&(l=l+"."+Li(r))):((r=i+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(l+="."),l+=Li(r))),e.s<0?"-"+l:l}function DA(e,t){if(e.length>t)return e.length=t,!0}function VD(e){var t,n,r;function i(l){var c=this;if(!(c instanceof i))return new i(l);if(c.constructor=i,l instanceof i){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(ql+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return MA(c,l.toString())}else if(typeof l!="string")throw Error(ql+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,see.test(l))MA(c,l);else throw Error(ql+l)}if(i.prototype=Re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VD,i.config=i.set=iee,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function iee(e){if(!e||typeof e!="object")throw Error(fa+"Object expected");var t,n,r,i=["precision",1,Fc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Vc(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ql+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ql+n+": "+r);return this}var o2=VD(aee);Mr=new o2(1);const St=o2;var lee=e=>e,HD={},qD=e=>e===HD,RA=e=>function t(){return arguments.length===0||arguments.length===1&&qD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},KD=(e,t)=>e===1?t:RA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var l=r.filter(c=>c!==HD).length;return l>=e?t(...r):KD(e-l,RA(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=r.map(h=>qD(h)?d.shift():h);return t(...m,...d)}))}),Pp=e=>KD(e.length,e),W1=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},oee=Pp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),cee=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return lee;var i=n.reverse(),l=i[0],c=i.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},X1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),GD=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return t&&i.every((c,d)=>{var f;return c===((f=t)===null||f===void 0?void 0:f[d])})||(t=i,n=e(...i)),n}};function YD(e){var t;return e===0?t=1:t=Math.floor(new St(e).abs().log(10).toNumber())+1,t}function WD(e,t,n){for(var r=new St(e),i=0,l=[];r.lt(t)&&i<1e5;)l.push(r.toNumber()),r=r.add(n),i++;return l}Pp((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Pp((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Pp((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var XD=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},ZD=(e,t,n)=>{if(e.lte(0))return new St(0);var r=YD(e.toNumber()),i=new St(10).pow(r),l=e.div(i),c=r!==1?.05:.1,d=new St(Math.ceil(l.div(c).toNumber())).add(n).mul(c),f=d.mul(i);return t?new St(f.toNumber()):new St(Math.ceil(f.toNumber()))},uee=(e,t,n)=>{var r=new St(1),i=new St(e);if(!i.isint()&&n){var l=Math.abs(e);l<1?(r=new St(10).pow(YD(e)-1),i=new St(Math.floor(i.div(r).toNumber())).mul(r)):l>1&&(i=new St(Math.floor(e)))}else e===0?i=new St(Math.floor((t-1)/2)):n||(i=new St(Math.floor(e)));var c=Math.floor((t-1)/2),d=cee(oee(f=>i.add(new St(f-c).mul(r)).toNumber()),W1);return d(0,t)},QD=function(t,n,r,i){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var c=ZD(new St(n).sub(t).div(r-1),i,l),d;t<=0&&n>=0?d=new St(0):(d=new St(t).add(n).div(2),d=d.sub(new St(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new St(n).sub(d).div(c).toNumber()),h=f+m+1;return h>r?QD(t,n,r,i,l+1):(h<r&&(m=n>0?m+(r-h):m,f=n>0?f:f+(r-h)),{step:c,tickMin:d.sub(new St(f).mul(c)),tickMax:d.add(new St(m).mul(c))})};function dee(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[c,d]=XD([t,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...W1(0,r-1).map(()=>1/0)]:[...W1(0,r-1).map(()=>-1/0),d];return t>n?X1(f):f}if(c===d)return uee(c,r,i);var{step:m,tickMin:h,tickMax:x}=QD(c,d,l,i,0),g=WD(h,x.add(new St(.1).mul(m)),m);return t>n?X1(g):g}function fee(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=XD([n,r]);if(l===-1/0||c===1/0)return[n,r];if(l===c)return[l];var d=Math.max(t,2),f=ZD(new St(c).sub(l).div(d-1),i,0),m=[...WD(new St(l),new St(c),f),c];return i===!1&&(m=m.map(h=>Math.round(h))),n>r?X1(m):m}var mee=GD(dee),hee=GD(fee),JD=e=>e.rootProps.maxBarSize,pee=e=>e.rootProps.barGap,e8=e=>e.rootProps.barCategoryGap,xee=e=>e.rootProps.barSize,Sf=e=>e.rootProps.stackOffset,c2=e=>e.options.chartName,u2=e=>e.rootProps.syncId,t8=e=>e.rootProps.syncMethod,d2=e=>e.options.eventEmitter,Ns={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Pr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Op=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},gee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ns.angleAxisId,includeHidden:!1,name:void 0,reversed:Ns.reversed,scale:Ns.scale,tick:Ns.tick,tickCount:void 0,ticks:void 0,type:Ns.type,unit:void 0},vee={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,ticks:void 0,type:Pr.type,unit:void 0},yee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ns.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ns.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ns.scale,tick:Ns.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bee={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,ticks:void 0,type:"category",unit:void 0},f2=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?yee:gee,m2=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?bee:vee,Mp=e=>e.polarOptions,h2=ge([Ks,Gs,wn],DM),n8=ge([Mp,h2],(e,t)=>{if(e!=null)return ir(e.innerRadius,t,0)}),r8=ge([Mp,h2],(e,t)=>{if(e!=null)return ir(e.outerRadius,t,t*.8)}),wee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},a8=ge([Mp],wee);ge([f2,a8],Op);var s8=ge([h2,n8,r8],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ge([m2,s8],Op);var i8=ge([ft,Mp,n8,r8,Ks,Gs],(e,t,n,r,i,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:ir(c,i,i/2),cy:ir(d,l,l/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),Xt=(e,t)=>t,_f=(e,t,n)=>n;function p2(e){return e==null?void 0:e.id}var Nn=e=>{var t=ft(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Hc=e=>e.tooltip.settings.axisId,Sn=e=>{var t=Nn(e),n=Hc(e);return Cf(e,t,n)};function l8(e,t,n){var{chartData:r=[]}=t,i=n==null?void 0:n.dataKey,l=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=p2(c);f.forEach((h,x)=>{var g=i==null?x:String(Ot(h,i,null)),b=Ot(h,c.dataKey,0),w;l.has(g)?w=l.get(g):w={},Object.assign(w,{[m]:b}),l.set(g,w)})}}),Array.from(l.values())}function Dp(e){return e.stackId!=null&&e.dataKey!=null}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jee(e,t,n){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z1=[0,"auto"],Er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ws=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??Er},Tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Z1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bp},Ji=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??Tr},_ee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},x2=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??_ee},cn=(e,t,n)=>{switch(t){case"xAxis":return Ws(e,n);case"yAxis":return Ji(e,n);case"zAxis":return x2(e,n);case"angleAxis":return f2(e,n);case"radiusAxis":return m2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Cee=(e,t,n)=>{switch(t){case"xAxis":return Ws(e,n);case"yAxis":return Ji(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Cf=(e,t,n)=>{switch(t){case"xAxis":return Ws(e,n);case"yAxis":return Ji(e,n);case"angleAxis":return f2(e,n);case"radiusAxis":return m2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},o8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function g2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Rp=e=>e.graphicalItems.cartesianItems,kee=ge([Xt,_f],g2),v2=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),kf=ge([Rp,cn,kee],v2),c8=ge([kf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Dp)),u8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),d8=ge([kf],u8),y2=e=>e.map(t=>t.data).filter(Boolean).flat(1),Aee=ge([kf],y2),b2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},w2=ge([Aee,Tp],b2),j2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ot(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ot(i,r)}))):e.map(r=>({value:r})),Lp=ge([w2,cn,kf],j2);function f8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function no(e){return e.filter(t=>Qa(t)||t instanceof Date).map(Number).filter(t=>Lr(t)===!1)}function Eee(e,t,n){return!n||typeof t!="number"||Lr(t)?[]:n.length?no(n.flatMap(r=>{var i=Ot(e,r.dataKey),l,c;if(Array.isArray(i)?[l,c]=i:l=c=i,!(!zr(l)||!zr(c)))return[t-l,t+c]})):[]}var Tee=ge([c8,Tp,Sn],l8),m8=(e,t,n)=>{var r={},i=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),r);return Object.fromEntries(Object.entries(i).map(l=>{var[c,d]=l,f=d.map(p2);return[c,{stackedData:KW(e,f,n),graphicalItems:d}]}))},Q1=ge([Tee,c8,Sf],m8),h8=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var l=ZW(e,r,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Pee=ge([Q1,Qi,Xt],h8),p8=(e,t,n,r,i)=>n.length>0?e.flatMap(l=>n.flatMap(c=>{var d,f,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(x=>f8(i,x)),h=Ot(l,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey);return{value:h,errorDomain:Eee(l,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(l=>({value:Ot(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),$p=e=>e.errorBars,x8=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>f8(n,r));ge([d8,$p,Xt],x8);var Oee=ge([w2,cn,d8,$p,Xt],p8);function Mee(e){var{value:t}=e;if(Qa(t)||t instanceof Date)return t}var $A=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=no(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Dee=(e,t,n)=>{var r=e.map(Mee).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&TO(r))?aD(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},N2=e=>{var t;if(e==null||!("domain"in e))return Z1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=no(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Z1},$0=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var l=i.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},g8=e=>e.referenceElements.dots,qc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ree=ge([g8,Xt,_f],qc),v8=e=>e.referenceElements.areas,Lee=ge([v8,Xt,_f],qc),y8=e=>e.referenceElements.lines,$ee=ge([y8,Xt,_f],qc),b8=(e,t)=>{var n=no(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Iee=ge(Ree,Xt,b8),w8=(e,t)=>{var n=no(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zee=ge([Lee,Xt],w8),j8=(e,t)=>{var n=no(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Bee=ge($ee,Xt,j8),Uee=ge(Iee,Bee,zee,(e,t,n)=>$0(e,n,t)),N8=ge([cn],N2),S2=(e,t,n,r,i,l,c)=>{var d=nee(t,e.allowDataOverflow);if(d!=null)return d;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",m=f?$0(n,i,$A(r)):$0(i,$A(r));return ree(t,m,e.allowDataOverflow)},Fee=ge([cn,N8,Pee,Oee,Uee,ft,Xt],S2),Vee=[0,1],_2=(e,t,n,r,i,l,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=Wi(t,l);return m&&d==null?aD(0,n.length):f==="category"?Dee(r,e,m):i==="expand"?Vee:c}},C2=ge([cn,ft,w2,Lp,Sf,Xt,Fee],_2),S8=(e,t,n,r,i)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(gf(l));return d in yd?d:"point"}}},Kc=ge([cn,ft,o8,c2,Xt],S8);function Hee(e){if(e!=null){if(e in yd)return yd[e]();var t="scale".concat(gf(e));if(t in yd)return yd[t]()}}function k2(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Hee(t);if(i!=null){var l=i.domain(n).range(r);return UW(l),l}}}var A2=(e,t,n)=>{var r=N2(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Cc(e))return mee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cc(e))return hee(e,t.tickCount,t.allowDecimals)}},E2=ge([C2,Cf,Kc],A2),T2=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Cc(t)&&Array.isArray(n)&&n.length>0){var i=t[0],l=n[0],c=t[1],d=n[n.length-1];return[Math.min(i,l),Math.max(c,d)]}return t},qee=ge([cn,C2,E2,Xt],T2),Kee=ge(Lp,cn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(no(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];n=Math.min(n,c)}return n/i}}),_8=ge(Kee,ft,e8,wn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!zr(e))return 0;var l=t==="vertical"?r.height:r.width;if(i==="gap")return e*l/2;if(i==="no-gap"){var c=ir(n,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),Gee=(e,t)=>{var n=Ws(e,t);return n==null||typeof n.padding!="string"?0:_8(e,"xAxis",t,n.padding)},Yee=(e,t)=>{var n=Ji(e,t);return n==null||typeof n.padding!="string"?0:_8(e,"yAxis",t,n.padding)},Wee=ge(Ws,Gee,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Xee=ge(Ji,Yee,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Zee=ge([wn,Wee,jp,wp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:l}=r;return i?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),Qee=ge([wn,ft,Xee,jp,wp,(e,t,n)=>n],(e,t,n,r,i,l)=>{var{padding:c}=i;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Af=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Zee(e,n,r);case"yAxis":return Qee(e,n,r);case"zAxis":return(i=x2(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return a8(e);case"radiusAxis":return s8(e,n);default:return}},C8=ge([cn,Af],Op),Gc=ge([cn,Kc,qee,C8],k2);ge([kf,$p,Xt],x8);function k8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ip=(e,t)=>t,zp=(e,t,n)=>n,Jee=ge(Pj,Ip,zp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(k8)),ete=ge(Oj,Ip,zp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(k8)),A8=(e,t)=>({width:e.width,height:t.height}),tte=(e,t)=>{var n=typeof t.width=="number"?t.width:bp;return{width:n,height:e.height}},E8=ge(wn,Ws,A8),nte=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},rte=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},ate=ge(Gs,wn,Jee,Ip,zp,(e,t,n,r,i)=>{var l={},c;return n.forEach(d=>{var f=A8(t,d);c==null&&(c=nte(t,r,e));var m=r==="top"&&!i||r==="bottom"&&i;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),ste=ge(Ks,wn,ete,Ip,zp,(e,t,n,r,i)=>{var l={},c;return n.forEach(d=>{var f=tte(t,d);c==null&&(c=rte(t,r,e));var m=r==="left"&&!i||r==="right"&&i;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),ite=(e,t)=>{var n=wn(e),r=Ws(e,t);if(r!=null){var i=ate(e,r.orientation,r.mirror),l=i[t];return l==null?{x:n.left,y:0}:{x:n.left,y:l}}},lte=(e,t)=>{var n=wn(e),r=Ji(e,t);if(r!=null){var i=ste(e,r.orientation,r.mirror),l=i[t];return l==null?{x:0,y:n.top}:{x:l,y:n.top}}},T8=ge(wn,Ji,(e,t)=>{var n=typeof t.width=="number"?t.width:bp;return{width:n,height:e.height}}),IA=(e,t,n)=>{switch(t){case"xAxis":return E8(e,n).width;case"yAxis":return T8(e,n).height;default:return}},P8=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:l,dataKey:c}=n,d=Wi(e,r),f=t.map(m=>m.value);if(c&&d&&l==="category"&&i&&TO(f))return f}},P2=ge([ft,Lp,cn,Xt],P8),O8=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:l}=n,c=Wi(e,r);if(c&&(i==="number"||l!=="auto"))return t.map(d=>d.value)}},O2=ge([ft,Lp,Cf,Xt],O8),zA=ge([ft,Cee,Kc,Gc,P2,O2,Af,E2,Xt],(e,t,n,r,i,l,c,d,f)=>{if(t==null)return null;var m=Wi(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:i,isCategorical:m,niceTicks:d,range:c,realScaleType:n,scale:r}}),ote=(e,t,n,r,i,l,c,d,f)=>{if(!(t==null||r==null)){var m=Wi(e,f),{type:h,ticks:x,tickCount:g}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&l!=null&&l.length>=2?Pn(l[0]-l[1])*2*w:w;var j=x||i;if(j){var S=j.map((_,C)=>{var k=c?c.indexOf(_):_;return{index:C,coordinate:r(k)+w,value:_,offset:w}});return S.filter(_=>!Lr(_.coordinate))}return m&&d?d.map((_,C)=>({coordinate:r(_)+w,value:_,index:C,offset:w})):r.ticks?r.ticks(g).map(_=>({coordinate:r(_)+w,value:_,offset:w})):r.domain().map((_,C)=>({coordinate:r(_)+w,value:c?c[_]:_,index:C,offset:w}))}},M8=ge([ft,Cf,Kc,Gc,E2,Af,P2,O2,Xt],ote),cte=(e,t,n,r,i,l,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=Wi(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&(r==null?void 0:r.length)>=2?Pn(r[0]-r[1])*2*m:m,d&&l?l.map((h,x)=>({coordinate:n(h)+m,value:h,index:x,offset:m})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+m,value:h,offset:m})):n.domain().map((h,x)=>({coordinate:n(h)+m,value:i?i[h]:h,index:x,offset:m}))}},qi=ge([ft,Cf,Gc,Af,P2,O2,Xt],cte),Ki=ge(cn,Gc,(e,t)=>{if(!(e==null||t==null))return L0(L0({},e),{},{scale:t})}),ute=ge([cn,Kc,C2,C8],k2);ge((e,t,n)=>x2(e,n),ute,(e,t)=>{if(!(e==null||t==null))return L0(L0({},e),{},{scale:t})});var dte=ge([ft,Pj,Oj],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),D8=e=>e.options.defaultTooltipEventType,R8=e=>e.options.validateTooltipEventTypes;function L8(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function M2(e,t){var n=D8(e),r=R8(e);return L8(t,n,r)}function fte(e){return ze(t=>M2(t,e))}var $8=(e,t)=>{var n,r=Number(t);if(!(Lr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},mte=e=>e.tooltip.settings,$i={active:!1,index:null,dataKey:void 0,coordinate:void 0},hte={itemInteraction:{click:$i,hover:$i},axisInteraction:{click:$i,hover:$i},keyboardInteraction:$i,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},I8=Br({name:"tooltip",initialState:hte,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Es(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:pte,removeTooltipEntrySettings:xte,setTooltipSettingsState:gte,setActiveMouseOverItemIndex:z8,mouseLeaveItem:vte,mouseLeaveChart:B8,setActiveClickItemIndex:yte,setMouseOverAxisIndex:U8,setMouseClickAxisIndex:bte,setSyncInteraction:J1,setKeyboardInteraction:ew}=I8.actions,wte=I8.reducer;function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){jte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jte(e,t,n){return(t=Nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nte(e){var t=Ste(e,"string");return typeof t=="symbol"?t:t+""}function Ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _te(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Cte(e){return e.index!=null}var F8=(e,t,n,r)=>{if(t==null)return $i;var i=_te(e,t,n);if(i==null)return $i;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(Cte(i)){if(l)return uh(uh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return uh(uh({},$i),{},{coordinate:i.coordinate})},D2=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!zr(r))return n;var i=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(i,Math.min(r,l)))},V8=(e,t,n,r,i,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=i==null?void 0:i[Number(l)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},H8=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===i})},Ef=e=>e.options.tooltipPayloadSearcher,Yc=e=>e.tooltip;function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){kte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kte(e,t,n){return(t=Ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ate(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tte(e,t){return e??t}var q8=(e,t,n,r,i,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=n,x=[];return e.reduce((g,b)=>{var w,{dataDefinedOnItem:j,settings:S}=b,_=Tte(j,d),C=Array.isArray(_)?RM(_,m,h):_,k=(w=S==null?void 0:S.dataKey)!==null&&w!==void 0?w:r==null?void 0:r.dataKey,O=S==null?void 0:S.nameKey,A;if(r!=null&&r.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&c==="axis"?A=PO(C,r.dataKey,i):A=l(C,t,f,O),Array.isArray(A))A.forEach($=>{var M=FA(FA({},S),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});g.push(Nk({tooltipEntrySettings:M,dataKey:$.dataKey,payload:$.payload,value:Ot($.payload,$.dataKey),name:$.name}))});else{var E;g.push(Nk({tooltipEntrySettings:S,dataKey:k,payload:A,value:Ot(A,k),name:(E=Ot(A,O))!==null&&E!==void 0?E:S==null?void 0:S.name}))}return g},x)}},R2=ge([Sn,ft,o8,c2,Nn],S8),Pte=ge([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ote=ge([Nn,Hc],g2),Tf=ge([Pte,Sn,Ote],v2),Mte=ge([Tf],e=>e.filter(Dp)),Dte=ge([Tf],y2),Wc=ge([Dte,Qi],b2),Rte=ge([Mte,Qi,Sn],l8),L2=ge([Wc,Sn,Tf],j2),Lte=ge([Sn],N2),$te=ge([Tf],e=>e.filter(Dp)),Ite=ge([Rte,$te,Sf],m8),zte=ge([Ite,Qi,Nn],h8),Bte=ge([Tf],u8),Ute=ge([Wc,Sn,Bte,$p,Nn],p8),Fte=ge([g8,Nn,Hc],qc),Vte=ge([Fte,Nn],b8),Hte=ge([v8,Nn,Hc],qc),qte=ge([Hte,Nn],w8),Kte=ge([y8,Nn,Hc],qc),Gte=ge([Kte,Nn],j8),Yte=ge([Vte,Gte,qte],$0),Wte=ge([Sn,Lte,zte,Ute,Yte,ft,Nn],S2),K8=ge([Sn,ft,Wc,L2,Sf,Nn,Wte],_2),Xte=ge([K8,Sn,R2],A2),Zte=ge([Sn,K8,Xte,Nn],T2),G8=e=>{var t=Nn(e),n=Hc(e),r=!1;return Af(e,t,n,r)},Y8=ge([Sn,G8],Op),W8=ge([Sn,R2,Zte,Y8],k2),Qte=ge([ft,L2,Sn,Nn],P8),Jte=ge([ft,L2,Sn,Nn],O8),ene=(e,t,n,r,i,l,c,d)=>{if(t){var{type:f}=t,m=Wi(e,d);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return x=d==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Pn(i[0]-i[1])*2*x:x,m&&c?c.map((g,b)=>({coordinate:r(g)+x,value:g,index:b,offset:x})):r.domain().map((g,b)=>({coordinate:r(g)+x,value:l?l[g]:g,index:b,offset:x}))}}},Xs=ge([ft,Sn,R2,W8,G8,Qte,Jte,Nn],ene),$2=ge([D8,R8,mte],(e,t,n)=>L8(n.shared,e,t)),X8=e=>e.tooltip.settings.trigger,I2=e=>e.tooltip.settings.defaultIndex,Bp=ge([Yc,$2,X8,I2],F8),Gi=ge([Bp,Wc],D2),Z8=ge([Xs,Gi],$8),Q8=ge([Bp],e=>{if(e)return e.dataKey}),J8=ge([Yc,$2,X8,I2],H8),tne=ge([Ks,Gs,ft,wn,Xs,I2,J8,Ef],V8),nne=ge([Bp,tne],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rne=ge([Bp],e=>e.active),ane=ge([J8,Gi,Qi,Sn,Z8,Ef,$2],q8),sne=ge([ane],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){ine(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ine(e,t,n){return(t=lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lne(e){var t=one(e,"string");return typeof t=="symbol"?t:t+""}function one(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cne=()=>ze(Sn),une=()=>{var e=cne(),t=ze(Xs),n=ze(W8);return Xd(HA(HA({},e),{},{scale:n}),t)},dne=()=>ze(c2),z2=(e,t)=>t,eR=(e,t,n)=>n,B2=(e,t,n,r)=>r,fne=ge(Xs,e=>mp(e,t=>t.coordinate)),U2=ge([Yc,z2,eR,B2],F8),tR=ge([U2,Wc],D2),mne=(e,t,n)=>{if(t!=null){var r=Yc(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},nR=ge([Yc,z2,eR,B2],H8),I0=ge([Ks,Gs,ft,wn,Xs,B2,nR,Ef],V8),hne=ge([U2,I0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),rR=ge(Xs,tR,$8),pne=ge([nR,tR,Qi,Sn,rR,Ef,z2],q8),xne=ge([U2],e=>({isActive:e.active,activeIndex:e.index})),gne=(e,t,n,r,i,l,c,d)=>{if(!(!e||!t||!r||!i||!l)){var f=QW(e.chartX,e.chartY,t,n,d);if(f){var m=eX(f,t),h=zW(m,c,l,r,i),x=JW(t,l,h,f);return{activeIndex:String(h),activeCoordinate:x}}}};function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tw.apply(null,arguments)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){vne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vne(e,t,n){return(t=yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wne(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,h=t,x=n,g=r;if(!d||!h||m!=="ScatterChart"&&f!=="axis")return null;var b,w;if(m==="ScatterChart")b=h,w=$X;else if(m==="BarChart")b=IX(c,h,i,l),w=tD;else if(c==="radial"){var{cx:j,cy:S,radius:_,startAngle:C,endAngle:k}=nD(h);b={cx:j,cy:S,startAngle:C,endAngle:k,innerRadius:_,outerRadius:_},w=Lj}else b={points:jZ(c,h,i)},w=Dj;var O=typeof d=="object"&&"className"in d?d.className:void 0,A=dh(dh(dh(dh({stroke:"#ccc",pointerEvents:"none"},i),b),Gt(d,!1)),{},{payload:x,payloadIndex:g,className:at("recharts-tooltip-cursor",O)});return v.isValidElement(d)?v.cloneElement(d,A):v.createElement(w,A)}function jne(e){var t=une(),n=FM(),r=Np(),i=dne();return v.createElement(wne,tw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var aR=v.createContext(null),Nne=()=>v.useContext(aR),Yy={exports:{}},KA;function Sne(){return KA||(KA=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,x,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,x||f,g),w=n?n+m:m;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,x;if(this._eventsCount===0)return m;for(x in h=this._events)t.call(h,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=n?n+m:m,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var g=0,b=x.length,w=new Array(b);g<b;g++)w[g]=x[g].fn;return w},d.prototype.listenerCount=function(m){var h=n?n+m:m,x=this._events[h];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,h,x,g,b,w){var j=n?n+m:m;if(!this._events[j])return!1;var S=this._events[j],_=arguments.length,C,k;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),_){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,x),!0;case 4:return S.fn.call(S.context,h,x,g),!0;case 5:return S.fn.call(S.context,h,x,g,b),!0;case 6:return S.fn.call(S.context,h,x,g,b,w),!0}for(k=1,C=new Array(_-1);k<_;k++)C[k-1]=arguments[k];S.fn.apply(S.context,C)}else{var O=S.length,A;for(k=0;k<O;k++)switch(S[k].once&&this.removeListener(m,S[k].fn,void 0,!0),_){case 1:S[k].fn.call(S[k].context);break;case 2:S[k].fn.call(S[k].context,h);break;case 3:S[k].fn.call(S[k].context,h,x);break;case 4:S[k].fn.call(S[k].context,h,x,g);break;default:if(!C)for(A=1,C=new Array(_-1);A<_;A++)C[A-1]=arguments[A];S[k].fn.apply(S[k].context,C)}}return!0},d.prototype.on=function(m,h,x){return l(this,m,h,x,!1)},d.prototype.once=function(m,h,x){return l(this,m,h,x,!0)},d.prototype.removeListener=function(m,h,x,g){var b=n?n+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var w=this._events[b];if(w.fn)w.fn===h&&(!g||w.once)&&(!x||w.context===x)&&c(this,b);else{for(var j=0,S=[],_=w.length;j<_;j++)(w[j].fn!==h||g&&!w[j].once||x&&w[j].context!==x)&&S.push(w[j]);S.length?this._events[b]=S.length===1?S[0]:S:c(this,b)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=n?n+m:m,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d}(Yy)),Yy.exports}var _ne=Sne();const Cne=Oa(_ne);var rf=new Cne,nw="recharts.syncEvent.tooltip",GA="recharts.syncEvent.brush";function F2(e,t){if(t){var n=Number.parseInt(t,10);if(!Lr(n))return e==null?void 0:e[n]}}var kne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sR=Br({name:"options",initialState:kne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ane=sR.reducer,{createEventEmitter:Ene}=sR.actions;function Tne(e){return e.tooltip.syncInteraction}var Pne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},iR=Br({name:"chartData",initialState:Pne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:YA,setDataStartEndIndexes:One,setComputedData:Kde}=iR.actions,Mne=iR.reducer,lR=()=>{};function Dne(){var e=ze(u2),t=ze(d2),n=on(),r=ze(t8),i=ze(Xs),l=Np(),c=Mj(),d=ze(f=>f.rootProps.className);v.useEffect(()=>{if(e==null)return lR;var f=(m,h,x)=>{if(t!==x&&e===m){if(r==="index"){n(h);return}if(i!=null){var g;if(typeof r=="function"){var b={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},w=r(i,b);g=i[w]}else r==="value"&&(g=i.find(E=>String(E.value)===h.payload.label));var{coordinate:j}=h.payload;if(g==null||h.payload.active===!1||j==null||c==null){n(J1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:_}=j,C=Math.min(S,c.x+c.width),k=Math.min(_,c.y+c.height),O={x:l==="horizontal"?g.coordinate:C,y:l==="horizontal"?k:g.coordinate},A=J1({active:h.payload.active,coordinate:O,dataKey:h.payload.dataKey,index:String(g.index),label:h.payload.label});n(A)}}};return rf.on(nw,f),()=>{rf.off(nw,f)}},[d,n,t,e,r,i,l,c])}function Rne(){var e=ze(u2),t=ze(d2),n=on();v.useEffect(()=>{if(e==null)return lR;var r=(i,l,c)=>{t!==c&&e===i&&n(One(l))};return rf.on(GA,r),()=>{rf.off(GA,r)}},[n,t,e])}function Lne(){var e=on();v.useEffect(()=>{e(Ene())},[e]),Dne(),Rne()}function $ne(e,t,n,r,i,l){var c=ze(g=>mne(g,e,t)),d=ze(d2),f=ze(u2),m=ze(t8),h=ze(Tne),x=h==null?void 0:h.active;v.useEffect(()=>{if(!x&&f!=null&&d!=null){var g=J1({active:l,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r});rf.emit(nw,f,g,d)}},[x,n,c,i,r,d,f,m,l])}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){Ine(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ine(e,t,n){return(t=zne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zne(e){var t=Bne(e,"string");return typeof t=="symbol"?t:t+""}function Bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Une(e){return e.dataKey}function Fne(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(pX,t)}var ZA=[],Vne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Jl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qa(e){var t=Ur(e,Vne),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:h,position:x,reverseDirection:g,useTranslate3d:b,wrapperStyle:w,cursor:j,shared:S,trigger:_,defaultIndex:C,portal:k,axisId:O}=t,A=on(),E=typeof C=="number"?String(C):C;v.useEffect(()=>{A(gte({shared:S,trigger:_,axisId:O,active:n,defaultIndex:E}))},[A,S,_,O,n,E]);var $=Mj(),M=YM(),F=fte(S),{activeIndex:G,isActive:V}=ze(z=>xne(z,F,_,E)),U=ze(z=>pne(z,F,_,E)),te=ze(z=>rR(z,F,_,E)),be=ze(z=>hne(z,F,_,E)),re=U,R=Nne(),q=n??V,[H,B]=EY([re,q]),T=F==="axis"?te:void 0;$ne(F,_,be,T,G,q);var D=k??R;if(D==null)return null;var L=re??ZA;q||(L=ZA),d&&L.length&&(L=tY(re.filter(z=>z.value!=null&&(z.hide!==!0||t.includeHidden)),h,Une));var K=L.length>0,oe=v.createElement(jX,{allowEscapeViewBox:r,animationDuration:i,animationEasing:l,isAnimationActive:f,active:q,coordinate:be,hasPayload:K,offset:m,position:x,reverseDirection:g,useTranslate3d:b,viewBox:$,wrapperStyle:w,lastBoundingBox:H,innerRef:B,hasPortalFromProps:!!k},Fne(c,XA(XA({},t),{},{payload:L,label:T,active:q,coordinate:be,accessibilityLayer:M})));return v.createElement(v.Fragment,null,hI.createPortal(oe,D),q&&v.createElement(jne,{cursor:j,tooltipEventType:F,coordinate:be,payload:re,index:G}))}var Wy={},Xy={},Zy={},QA;function Hne(){return QA||(QA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},x=()=>{m&&h(),j()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,x()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},j=()=>{w(),c=void 0,d=null},S=()=>{h()},_=function(...C){if(i!=null&&i.aborted)return;c=this,d=C;const k=g==null;b(),f&&k&&h()};return _.schedule=b,_.cancel=j,_.flush=S,i==null||i.addEventListener("abort",j,{once:!0}),_}e.debounce=t}(Zy)),Zy}var JA;function qne(){return JA||(JA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hne();function n(r,i=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,x=null;const g=t.debounce(function(...j){h=r.apply(this,j),x=null},i,{edges:m}),b=function(...j){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(h=r.apply(this,j),x=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,j),h)},w=()=>(g.flush(),h);return b.cancel=g.cancel,b.flush=w,b}e.debounce=n}(Xy)),Xy}var eE;function Kne(){return eE||(eE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qne();function n(r,i=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(r,i,{leading:c,maxWait:i,trailing:d})}e.throttle=n}(Wy)),Wy}var Qy,tE;function Gne(){return tE||(tE=1,Qy=Kne().throttle),Qy}var Yne=Gne();const Wne=Oa(Yne);var Ed=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),l=2;l<r;l++)i[l-2]=arguments[l]};function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(r){Xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xne(e,t,n){return(t=Zne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zne(e){var t=Qne(e,"string");return typeof t=="symbol"?t:t+""}function Qne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ka=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:l="100%",minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:x,className:g,onResize:b,style:w={}}=e,j=v.useRef(null),S=v.useRef();S.current=b,v.useImperativeHandle(t,()=>j.current);var[_,C]=v.useState({containerWidth:r.width,containerHeight:r.height}),k=v.useCallback((A,E)=>{C($=>{var M=Math.round(A),F=Math.round(E);return $.containerWidth===M&&$.containerHeight===F?$:{containerWidth:M,containerHeight:F}})},[]);v.useEffect(()=>{var A=F=>{var G,{width:V,height:U}=F[0].contentRect;k(V,U),(G=S.current)===null||G===void 0||G.call(S,V,U)};h>0&&(A=Wne(A,h,{trailing:!0,leading:!1}));var E=new ResizeObserver(A),{width:$,height:M}=j.current.getBoundingClientRect();return k($,M),E.observe(j.current),()=>{E.disconnect()}},[k,h]);var O=v.useMemo(()=>{var{containerWidth:A,containerHeight:E}=_;if(A<0||E<0)return null;Ed(Rl(i)||Rl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Ed(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Rl(i)?A:i,M=Rl(l)?E:l;return n&&n>0&&($?M=$/n:M&&($=M*n),f&&M>f&&(M=f)),Ed($>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,M,i,l,c,d,n),v.Children.map(m,F=>v.cloneElement(F,{width:$,height:M,style:Jy({width:$,height:M},F.props.style)}))},[n,m,l,f,d,c,_,i]);return v.createElement("div",{id:x?"".concat(x):void 0,className:at("recharts-responsive-container",g),style:Jy(Jy({},w),{},{width:i,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:j},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},O))}),ks=e=>null;ks.displayName="Cell";function Jne(e,t,n){return(t=ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ere(e){var t=tre(e,"string");return typeof t=="symbol"?t:t+""}function tre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nre{constructor(t){Jne(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function rE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(n),!0).forEach(function(r){are(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function are(e,t,n){return(t=sre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sre(e){var t=ire(e,"string");return typeof t=="symbol"?t:t+""}function ire(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lre={cacheSize:2e3,enableCache:!0},oR=rre({},lre),aE=new nre(oR.cacheSize),ore={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sE="recharts_measurement_span";function cre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(l,"|").concat(c,"|").concat(d)}var iE=(e,t)=>{try{var n=document.getElementById(sE);n||(n=document.createElement("span"),n.setAttribute("id",sE),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ore,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Td=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Jl.isSsr)return{width:0,height:0};if(!oR.enableCache)return iE(t,n);var r=cre(t,n),i=aE.get(r);if(i)return i;var l=iE(t,n);return aE.set(r,l),l},lE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ure=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fre=Object.keys(cR),rc="NaN";function mre(e,t){return e*cR[t]}class hr{static parse(t){var n,[,r,i]=(n=dre.exec(t))!==null&&n!==void 0?n:[];return new hr(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Lr(t)&&(this.unit=""),n!==""&&!ure.test(n)&&(this.num=NaN,this.unit=""),fre.includes(n)&&(this.num=mre(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new hr(NaN,""):new hr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hr(NaN,""):new hr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hr(NaN,""):new hr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hr(NaN,""):new hr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Lr(this.num)}}function uR(e){if(e.includes(rc))return rc;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,l]=(n=lE.exec(t))!==null&&n!==void 0?n:[],c=hr.parse(r??""),d=hr.parse(l??""),f=i==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return rc;t=t.replace(lE,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,x,g]=(m=oE.exec(t))!==null&&m!==void 0?m:[],b=hr.parse(h??""),w=hr.parse(g??""),j=x==="+"?b.add(w):b.subtract(w);if(j.isNaN())return rc;t=t.replace(oE,j.toString())}return t}var cE=/\(([^()]*)\)/;function hre(e){for(var t=e,n;(n=cE.exec(t))!=null;){var[,r]=n;t=t.replace(cE,uR(r))}return t}function pre(e){var t=e.replace(/\s+/g,"");return t=hre(t),t=uR(t),t}function xre(e){try{return pre(e)}catch{return rc}}function eb(e){var t=xre(e.slice(5,-1));return t===rc?"":t}var gre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vre=["dx","dy","angle","className","breakAll"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rw.apply(null,arguments)}function uE(e,t){if(e==null)return{};var n,r,i=yre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dR=/[ \f\n\r\t\v\u2028\u2029]+/,fR=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ft(t)||(n?i=t.toString().split(""):i=t.toString().split(dR));var l=i.map(d=>({word:d,width:Td(d,r).width})),c=n?0:Td("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},bre=(e,t,n,r,i)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=De(l),h=c,x=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((U,te)=>{var{word:be,width:re}=te,R=U[U.length-1];if(R&&(r==null||i||R.width+re+n<Number(r)))R.words.push(be),R.width+=re+n;else{var q={words:[be],width:re};U.push(q)}return U},[])},g=x(t),b=G=>G.reduce((V,U)=>V.width>U.width?V:U);if(!m||i)return g;var w=g.length>l||b(g).width>Number(r);if(!w)return g;for(var j="",S=G=>{var V=h.slice(0,G),U=fR({breakAll:f,style:d,children:V+j}).wordsWithComputedWidth,te=x(U),be=te.length>l||b(te).width>Number(r);return[be,te]},_=0,C=h.length-1,k=0,O;_<=C&&k<=h.length-1;){var A=Math.floor((_+C)/2),E=A-1,[$,M]=S(E),[F]=S(A);if(!$&&!F&&(_=A+1),$&&F&&(C=A-1),!$&&F){O=M;break}k++}return O||g},dE=e=>{var t=Ft(e)?[]:e.toString().split(dR);return[{words:t}]},wre=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:l,maxLines:c}=e;if((t||n)&&!Jl.isSsr){var d,f,m=fR({breakAll:l,children:r,style:i});if(m){var{wordsWithComputedWidth:h,spaceWidth:x}=m;d=h,f=x}else return dE(r);return bre({breakAll:l,children:r,maxLines:c,style:i},d,f,t,n)}return dE(r)},fE="#808080",Up=v.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=fE}=e,h=uE(e,gre),x=v.useMemo(()=>wre({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:g,dy:b,angle:w,className:j,breakAll:S}=h,_=uE(h,vre);if(!Qa(n)||!Qa(r))return null;var C=n+(De(g)?g:0),k=r+(De(b)?b:0),O;switch(f){case"start":O=eb("calc(".concat(l,")"));break;case"middle":O=eb("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:O=eb("calc(".concat(x.length-1," * -").concat(i,")"));break}var A=[];if(c){var E=x[0].width,{width:$}=h;A.push("scale(".concat(De($)?$/E:1,")"))}return w&&A.push("rotate(".concat(w,", ").concat(C,", ").concat(k,")")),A.length&&(_.transform=A.join(" ")),v.createElement("text",rw({},Gt(_,!0),{ref:t,x:C,y:k,className:at("recharts-text",j),textAnchor:d,fill:m.includes("url")?fE:m}),x.map((M,F)=>{var G=M.words.join(S?"":" ");return v.createElement("tspan",{x:C,dy:F===0?O:i,key:"".concat(G,"-").concat(F)},G)}))});Up.displayName="Text";var jre=["offset"],Nre=["labelRef"];function mE(e,t){if(e==null)return{};var n,r,i=Sre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(n),!0).forEach(function(r){_re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _re(e,t,n){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cre(e){var t=kre(e,"string");return typeof t=="symbol"?t:t+""}function kre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ss.apply(null,arguments)}var Are=e=>{var{value:t,formatter:n}=e,r=Ft(e.children)?t:e.children;return typeof n=="function"?n(r):r},V2=e=>e!=null&&typeof e=="function",Ere=(e,t)=>{var n=Pn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Tre=(e,t,n,r)=>{var{position:i,offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:x,endAngle:g,clockWise:b}=r,w=(m+h)/2,j=Ere(x,g),S=j>=0?1:-1,_,C;i==="insideStart"?(_=x+S*l,C=b):i==="insideEnd"?(_=g-S*l,C=!b):i==="end"&&(_=g+S*l,C=b),C=j<=0?C:!C;var k=xn(d,f,w,_),O=xn(d,f,w,_+(C?1:-1)*359),A="M".concat(k.x,",").concat(k.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),E=Ft(e.id)?Gd("recharts-radial-line-"):e.id;return v.createElement("text",Ss({},n,{dominantBaseline:"central",className:at("recharts-radial-bar-label",c)}),v.createElement("defs",null,v.createElement("path",{id:E,d:A})),v.createElement("textPath",{xlinkHref:"#".concat(E)},t))},Pre=(e,t,n)=>{var{cx:r,cy:i,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(n==="outside"){var{x:h,y:x}=xn(r,i,c+t,m);return{x:h,y:x,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,{x:b,y:w}=xn(r,i,g,m);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ore=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:l,y:c,width:d,height:f}=t,m=f>=0?1:-1,h=m*r,x=m>0?"end":"start",g=m>0?"start":"end",b=d>=0?1:-1,w=b*r,j=b>0?"end":"start",S=b>0?"start":"end";if(i==="top"){var _={x:l+d/2,y:c-m*r,textAnchor:"middle",verticalAnchor:x};return tn(tn({},_),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var C={x:l+d/2,y:c+f+h,textAnchor:"middle",verticalAnchor:g};return tn(tn({},C),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(i==="left"){var k={x:l-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return tn(tn({},k),n?{width:Math.max(k.x-n.x,0),height:f}:{})}if(i==="right"){var O={x:l+d+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return tn(tn({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:f}:{})}var A=n?{width:d,height:f}:{};return i==="insideLeft"?tn({x:l+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},A):i==="insideRight"?tn({x:l+d-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},A):i==="insideTop"?tn({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:g},A):i==="insideBottom"?tn({x:l+d/2,y:c+f-h,textAnchor:"middle",verticalAnchor:x},A):i==="insideTopLeft"?tn({x:l+w,y:c+h,textAnchor:S,verticalAnchor:g},A):i==="insideTopRight"?tn({x:l+d-w,y:c+h,textAnchor:j,verticalAnchor:g},A):i==="insideBottomLeft"?tn({x:l+w,y:c+f-h,textAnchor:S,verticalAnchor:x},A):i==="insideBottomRight"?tn({x:l+d-w,y:c+f-h,textAnchor:j,verticalAnchor:x},A):i&&typeof i=="object"&&(De(i.x)||Rl(i.x))&&(De(i.y)||Rl(i.y))?tn({x:l+ir(i.x,d),y:c+ir(i.y,f),textAnchor:"end",verticalAnchor:"end"},A):tn({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Mre=e=>"cx"in e&&De(e.cx);function Or(e){var{offset:t=5}=e,n=mE(e,jre),r=tn({offset:t},n),{viewBox:i,position:l,value:c,children:d,content:f,className:m="",textBreakAll:h,labelRef:x}=r,g=ze(i8),b=Mj(),w=l==="center"?b:g??b,j=i||w;if(!j||Ft(c)&&Ft(d)&&!v.isValidElement(f)&&typeof f!="function")return null;var S=tn(tn({},r),{},{viewBox:j});if(v.isValidElement(f)){var{labelRef:_}=S,C=mE(S,Nre);return v.cloneElement(f,C)}var k;if(typeof f=="function"){if(k=v.createElement(f,S),v.isValidElement(k))return k}else k=Are(r);var O=Mre(j),A=Gt(r,!0);if(O&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Tre(r,k,A,j);var E=O?Pre(j,r.offset,r.position):Ore(r,j);return v.createElement(Up,Ss({ref:x,className:at("recharts-label",m)},A,E,{breakAll:h}),k)}Or.displayName="Label";var mR=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:l,r:c,radius:d,innerRadius:f,outerRadius:m,x:h,y:x,top:g,left:b,width:w,height:j,clockWise:S,labelViewBox:_}=e;if(_)return _;if(De(w)&&De(j)){if(De(h)&&De(x))return{x:h,y:x,width:w,height:j};if(De(g)&&De(b))return{x:g,y:b,width:w,height:j}}if(De(h)&&De(x))return{x:h,y:x,width:0,height:0};if(De(t)&&De(n))return{cx:t,cy:n,startAngle:i||r||0,endAngle:l||r||0,innerRadius:f||0,outerRadius:m||d||c||0,clockWise:S};if(e.viewBox)return e.viewBox},Dre=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Or,Ss({key:"label-implicit"},r)):Qa(e)?v.createElement(Or,Ss({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Or?v.cloneElement(e,tn({key:"label-implicit"},r)):v.createElement(Or,Ss({key:"label-implicit",content:e},r)):V2(e)?v.createElement(Or,Ss({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Or,Ss({},e,{key:"label-implicit"},r)):null},Rre=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:i,labelRef:l}=t,c=mR(t),d=vf(i,Or).map((m,h)=>v.cloneElement(m,{viewBox:n||c,key:"label-".concat(h)}));if(!r)return d;var f=Dre(t.label,n||c,l);return[f,...d]};Or.parseViewBox=mR;Or.renderCallByParent=Rre;var tb={},nb={},pE;function Lre(){return pE||(pE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(nb)),nb}var rb={},xE;function $re(){return xE||(xE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(rb)),rb}var gE;function Ire(){return gE||(gE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lre(),n=$re(),r=bj();function i(l){if(r.isArrayLike(l))return t.last(n.toArray(l))}e.last=i}(tb)),tb}var ab,vE;function zre(){return vE||(vE=1,ab=Ire().last),ab}var Bre=zre();const Ure=Oa(Bre);var Fre=["valueAccessor"],Vre=["data","dataKey","clockWise","id","textBreakAll"];function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z0.apply(null,arguments)}function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(n),!0).forEach(function(r){Hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hre(e,t,n){return(t=qre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wE(e,t){if(e==null)return{};var n,r,i=Gre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yre=e=>Array.isArray(e.value)?Ure(e.value):e.value;function Bi(e){var{valueAccessor:t=Yre}=e,n=wE(e,Fre),{data:r,dataKey:i,clockWise:l,id:c,textBreakAll:d}=n,f=wE(n,Vre);return!r||!r.length?null:v.createElement(Yn,{className:"recharts-label-list"},r.map((m,h)=>{var x=Ft(i)?t(m,h):Ot(m&&m.payload,i),g=Ft(c)?{}:{id:"".concat(c,"-").concat(h)};return v.createElement(Or,z0({},Gt(m,!0),f,g,{parentViewBox:m.parentViewBox,value:x,textBreakAll:d,viewBox:Or.parseViewBox(Ft(l)?m:bE(bE({},m),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Bi.displayName="LabelList";function Wre(e,t){return e?e===!0?v.createElement(Bi,{key:"labelList-implicit",data:t}):v.isValidElement(e)||V2(e)?v.createElement(Bi,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(Bi,z0({data:t},e,{key:"labelList-implicit"})):null:null}function Xre(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,i=vf(r,Bi).map((c,d)=>v.cloneElement(c,{data:t,key:"labelList-".concat(d)}));if(!n)return i;var l=Wre(e.label,t);return[l,...i]}Bi.renderCallByParent=Xre;function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aw.apply(null,arguments)}var hR=e=>{var{cx:t,cy:n,r,className:i}=e,l=at("recharts-dot",i);return t===+t&&n===+n&&r===+r?v.createElement("circle",aw({},qs(e),xj(e),{className:l,cx:t,cy:n,r})):null},pR=e=>e.graphicalItems.polarItems,Zre=ge([Xt,_f],g2),H2=ge([pR,cn,Zre],v2),Qre=ge([H2],y2),q2=ge([Qre,i2],b2),Jre=ge([q2,cn,H2],j2),eae=ge([q2,cn,H2],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var l,c=Ot(r,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ot(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),jE=()=>{},tae=ge([cn,N8,jE,eae,jE,ft,Xt],S2),xR=ge([cn,ft,q2,Jre,Sf,Xt,tae],_2),nae=ge([xR,cn,Kc],A2);ge([cn,xR,nae,Xt],T2);var rae={radiusAxis:{},angleAxis:{}},gR=Br({name:"polarAxis",initialState:rae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Gde,removeRadiusAxis:Yde,addAngleAxis:Wde,removeAngleAxis:Xde}=gR.actions,aae=gR.reducer;function NE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(n),!0).forEach(function(r){sae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sae(e,t,n){return(t=iae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iae(e){var t=lae(e,"string");return typeof t=="symbol"?t:t+""}function lae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oae=(e,t)=>t,K2=ge([pR,oae],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),cae=[],G2=(e,t,n)=>(n==null?void 0:n.length)===0?cae:n,vR=ge([i2,K2,G2],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(l=>SE(SE({},t.presentationProps),l.props))),i!=null)return i}}),uae=ge([vR,K2,G2],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var l,c=Ot(r,t.nameKey,t.name),d;return n!=null&&(l=n[i])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:Bc(c,t.dataKey),color:d,payload:r,type:t.legendType}})}),dae=ge([vR,K2,G2,wn],(e,t,n,r)=>{if(!(t==null||e==null))return ase({offset:r,pieSettings:t,displayedData:e,cells:n})}),sb={},_E;function fae(){return _E||(_E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${l}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(sb)),sb}var ib,CE;function mae(){return CE||(CE=1,ib=fae().isPlainObject),ib}var hae=mae();const pae=Oa(hae);function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(null,arguments)}var kE=(e,t,n,r,i)=>{var l=n-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+n,",").concat(t),c+="L ".concat(e+n-l/2,",").concat(t+i),c+="L ".concat(e+n-l/2-r,",").concat(t+i),c+="L ".concat(e,",").concat(t," Z"),c},xae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gae=e=>{var t=Ur(e,xae),n=v.useRef(),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&i(S)}catch{}},[]);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m,className:h}=t,{animationEasing:x,animationDuration:g,animationBegin:b,isUpdateAnimationActive:w}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=at("recharts-trapezoid",h);return w?v.createElement(S0,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:m,x:l,y:c},duration:g,animationEasing:x,isActive:w},S=>{var{upperWidth:_,lowerWidth:C,height:k,x:O,y:A}=S;return v.createElement(S0,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:x},v.createElement("path",B0({},Gt(t,!0),{className:j,d:kE(O,A,_,C,k),ref:n})))}):v.createElement("g",null,v.createElement("path",B0({},Gt(t,!0),{className:j,d:kE(l,c,d,f,m)})))},vae=["option","shapeType","propTransformer","activeClassName","isActive"];function yae(e,t){if(e==null)return{};var n,r,i=bae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(r){wae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wae(e,t,n){return(t=jae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jae(e){var t=Nae(e,"string");return typeof t=="symbol"?t:t+""}function Nae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sae(e,t){return U0(U0({},t),e)}function _ae(e,t){return e==="symbols"}function EE(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(tD,n);case"trapezoid":return v.createElement(gae,n);case"sector":return v.createElement(Lj,n);case"symbols":if(_ae(t))return v.createElement(JO,n);break;default:return null}}function Cae(e){return v.isValidElement(e)?e.props:e}function yR(e){var{option:t,shapeType:n,propTransformer:r=Sae,activeClassName:i="recharts-active-shape",isActive:l}=e,c=yae(e,vae),d;if(v.isValidElement(t))d=v.cloneElement(t,U0(U0({},c),Cae(t)));else if(typeof t=="function")d=t(c);else if(pae(t)&&typeof t!="boolean"){var f=r(t,c);d=v.createElement(EE,{shapeType:n,elementProps:f})}else{var m=c;d=v.createElement(EE,{shapeType:n,elementProps:m})}return l?v.createElement(Yn,{className:i},d):d}var Y2=(e,t)=>{var n=on();return(r,i)=>l=>{e==null||e(r,i,l),n(z8({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},W2=e=>{var t=on();return(n,r)=>i=>{e==null||e(n,r,i),t(vte())}},X2=(e,t)=>{var n=on();return(r,i)=>l=>{e==null||e(r,i,l),n(yte({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Z2(e){var{fn:t,args:n}=e,r=on(),i=vr();return v.useEffect(()=>{if(!i){var l=t(n);return r(pte(l)),()=>{r(xte(l))}}},[t,n,r,i]),null}var bR=()=>{};function wR(e){var{legendPayload:t}=e,n=on(),r=vr();return v.useEffect(()=>r?bR:(n(KM(t)),()=>{n(GM(t))}),[n,r,t]),null}function kae(e){var{legendPayload:t}=e,n=on(),r=ze(ft);return v.useEffect(()=>r!=="centric"&&r!=="radial"?bR:(n(KM(t)),()=>{n(GM(t))}),[n,r,t]),null}function Q2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Gd(t)),r=v.useRef(e);return r.current!==e&&(n.current=Gd(t),r.current=e),n.current}var lb,Aae=()=>{var[e]=v.useState(()=>Gd("uid-"));return e},Eae=(lb=L$.useId)!==null&&lb!==void 0?lb:Aae;function Tae(e,t){var n=Eae();return t||(e?"".concat(e,"-").concat(n):n)}var Pae=v.createContext(void 0),J2=e=>{var{id:t,type:n,children:r}=e,i=Tae("recharts-".concat(n),t);return v.createElement(Pae.Provider,{value:i},r(i))},Oae={cartesianItems:[],polarItems:[]},jR=Br({name:"graphicalItems",initialState:Oae,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Es(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Es(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Es(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Mae,replaceCartesianGraphicalItem:Dae,removeCartesianGraphicalItem:Rae,addPolarGraphicalItem:Lae,removePolarGraphicalItem:$ae}=jR.actions,Iae=jR.reducer;function NR(e){var t=on(),n=v.useRef(null);return v.useEffect(()=>{n.current===null?t(Mae(e)):n.current!==e&&t(Dae({prev:n.current,next:e})),n.current=e},[t,e]),v.useEffect(()=>()=>{n.current&&(t(Rae(n.current)),n.current=null)},[t]),null}function zae(e){var t=on();return v.useEffect(()=>(t(Lae(e)),()=>{t($ae(e))}),[t,e]),null}function Bae(){}var Uae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},TE={t:0},ob={t:1};function eN(e){var t=Ur(e,Uae),{isActive:n,canBegin:r,duration:i,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=eD("JavascriptAnimate",t.animationManager),[x,g]=v.useState(n?TE:ob),b=v.useRef(null);return v.useEffect(()=>{n||g(ob)},[n]),v.useEffect(()=>{if(!n||!r)return Bae;var w=JM(TE,ob,ZM(l),i,g,h.getTimeoutController()),j=()=>{b.current=w()};return h.start([f,c,j,i,d]),()=>{h.stop(),b.current&&b.current(),d()}},[n,r,i,l,c,f,d,h]),m(x.t)}var Fae=["onMouseEnter","onClick","onMouseLeave"],Vae=["id"],Hae=["id"];function tN(e,t){if(e==null)return{};var n,r,i=qae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(r){Kae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kae(e,t,n){return(t=Gae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gae(e){var t=Yae(e,"string");return typeof t=="symbol"?t:t+""}function Yae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(null,arguments)}function Wae(e){var t=v.useMemo(()=>vf(e.children,ks),[e.children]),n=ze(r=>uae(r,e.id,t));return n==null?null:v.createElement(kae,{legendPayload:n})}function Xae(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:r==null?void 0:r.map(h=>h.tooltipPayload),positions:r==null?void 0:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:l,fill:c,dataKey:t,nameKey:n,name:Bc(d,t),hide:f,type:m,color:c,unit:""}}}var Zae=(e,t)=>e>t?"start":e<t?"end":"middle",Qae=(e,t,n)=>typeof t=="function"?t(e):ir(t,n,n*.8),Jae=(e,t,n)=>{var{top:r,left:i,width:l,height:c}=t,d=DM(l,c),f=i+ir(e.cx,l,l/2),m=r+ir(e.cy,c,c/2),h=ir(e.innerRadius,d,0),x=Qae(n,e.outerRadius,d),g=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:x,maxRadius:g}},ese=(e,t)=>{var n=Pn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},tse=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=at("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(Dj,Hs({},t,{type:"linear",className:n}))},nse=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var i=at("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return v.createElement(Up,Hs({},t,{alignmentBaseline:"middle",className:i}),r)};function rse(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:l,dataKey:c}=n;if(!r||!i||!t)return null;var d=qs(n),f=Gt(i,!1),m=Gt(l,!1),h=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,x=t.map((g,b)=>{var w=(g.startAngle+g.endAngle)/2,j=xn(g.cx,g.cy,g.outerRadius+h,w),S=an(an(an(an({},d),g),{},{stroke:"none"},f),{},{index:b,textAnchor:Zae(j.x,g.cx)},j),_=an(an(an(an({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:b,points:[xn(g.cx,g.cy,g.outerRadius,w),j],key:"line"});return v.createElement(Yn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},l&&tse(l,_),nse(i,S,Ot(g,c)))});return v.createElement(Yn,{className:"recharts-pie-labels"},x)}function SR(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:l}=e,c=ze(Gi),{onMouseEnter:d,onClick:f,onMouseLeave:m}=i,h=tN(i,Fae),x=Y2(d,i.dataKey),g=W2(m),b=X2(f,i.dataKey);return t==null?null:v.createElement(v.Fragment,null,t.map((w,j)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&t.length!==1)return null;var S=n&&String(j)===c,_=c?r:null,C=S?n:_,k=an(an({},w),{},{stroke:w.stroke,tabIndex:-1,[zM]:j,[BM]:i.dataKey});return v.createElement(Yn,Hs({tabIndex:-1,className:"recharts-pie-sector"},cp(h,w,j),{onMouseEnter:x(w,j),onMouseLeave:g(w,j),onClick:b(w,j),key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(j)}),v.createElement(yR,Hs({option:C,isActive:S,shapeType:"sector"},k)))}),v.createElement(rse,{sectors:t,props:i,showLabels:l}))}function ase(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:x}=n,g=Math.abs(n.minAngle),b=ese(d,f),w=Math.abs(b),j=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(E=>Ot(E,m,0)!==0).length,_=(w>=360?S:S-1)*j,C=w-S*g-_,k=r.reduce((E,$)=>{var M=Ot($,m,0);return E+(De(M)?M:0)},0),O;if(k>0){var A;O=r.map((E,$)=>{var M=Ot(E,m,0),F=Ot(E,h,$),G=Jae(n,l,E),V=(De(M)?M:0)/k,U,te=an(an({},E),i&&i[$]&&i[$].props);$?U=A.endAngle+Pn(b)*j*(M!==0?1:0):U=d;var be=U+Pn(b)*((M!==0?g:0)+V*C),re=(U+be)/2,R=(G.innerRadius+G.outerRadius)/2,q=[{name:F,value:M,payload:te,dataKey:m,type:x}],H=xn(G.cx,G.cy,R,re);return A=an(an(an(an({},n.presentationProps),{},{percent:V,cornerRadius:c,name:F,tooltipPayload:q,midAngle:re,middleRadius:R,tooltipPosition:H},te),G),{},{value:Ot(E,m),startAngle:U,endAngle:be,payload:te,paddingAngle:Pn(b)*j}),A})}return O}function sse(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:h,onAnimationEnd:x}=t,g=Q2(t,"recharts-pie-"),b=n.current,[w,j]=v.useState(!0),S=v.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),_=v.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return v.createElement(eN,{begin:l,duration:c,isActive:i,easing:d,onAnimationStart:_,onAnimationEnd:S,key:g},C=>{var k=[],O=r&&r[0],A=O.startAngle;return r.forEach((E,$)=>{var M=b&&b[$],F=$>0?Hi(E,"paddingAngle",0):0;if(M){var G=sC(M.endAngle-M.startAngle,E.endAngle-E.startAngle),V=an(an({},E),{},{startAngle:A+F,endAngle:A+G(C)+F});k.push(V),A=V.endAngle}else{var{endAngle:U,startAngle:te}=E,be=sC(0,U-te),re=be(C),R=an(an({},E),{},{startAngle:A+F,endAngle:A+re+F});k.push(R),A=R.endAngle}}),n.current=k,v.createElement(Yn,null,v.createElement(SR,{sectors:k,activeShape:f,inactiveShape:m,allOtherPieProps:t,showLabels:!w}))})}function ise(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,l=v.useRef(null),c=l.current;return n&&t&&t.length&&(!c||c!==t)?v.createElement(sse,{props:e,previousSectorsRef:l}):v.createElement(SR,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function lse(e){var{hide:t,className:n,rootTabIndex:r}=e,i=at("recharts-pie",n);return t?null:v.createElement(Yn,{tabIndex:r,className:i},v.createElement(ise,e))}var ose={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Jl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function cse(e){var{id:t}=e,n=tN(e,Vae),r=v.useMemo(()=>vf(e.children,ks),[e.children]),i=ze(l=>dae(l,t,r));return v.createElement(v.Fragment,null,v.createElement(Z2,{fn:Xae,args:an(an({},e),{},{sectors:i})}),v.createElement(lse,Hs({},n,{sectors:i})))}function af(e){var t=Ur(e,ose),{id:n}=t,r=tN(t,Hae),i=qs(r);return v.createElement(J2,{id:n,type:"pie"},l=>v.createElement(v.Fragment,null,v.createElement(zae,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i}),v.createElement(Wae,Hs({},r,{id:l})),v.createElement(cse,Hs({},r,{id:l})),r.children))}af.displayName="Pie";var use=ge([wn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),dse=ge([use,Ks,Gs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),nN=()=>ze(dse),fse=()=>ze(sne);function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ME(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(n),!0).forEach(function(r){mse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mse(e,t,n){return(t=hse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hse(e){var t=pse(e,"string");return typeof t=="symbol"?t:t+""}function pse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xse=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:l}=e;if(i===!1||t.x==null||t.y==null)return null;var c=ME(ME({index:n,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Gt(i,!1)),xj(i)),d;return v.isValidElement(i)?d=v.cloneElement(i,c):typeof i=="function"?d=i(c):d=v.createElement(hR,c),v.createElement(Yn,{className:"recharts-active-dot"},d)};function gse(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,l=ze(Gi),c=fse();if(t==null||c==null)return null;var d=t.find(f=>c.includes(f.payload));return Ft(d)?null:xse({point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r})}var vse="Invariant failed";function yse(e,t){throw new Error(vse)}var bse=["x","y"];function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sw.apply(null,arguments)}function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(n),!0).forEach(function(r){wse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wse(e,t,n){return(t=jse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jse(e){var t=Nse(e,"string");return typeof t=="symbol"?t:t+""}function Nse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sse(e,t){if(e==null)return{};var n,r,i=_se(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cse(e,t){var{x:n,y:r}=e,i=Sse(e,bse),l="".concat(n),c=parseInt(l,10),d="".concat(r),f=parseInt(d,10),m="".concat(t.height||i.height),h=parseInt(m,10),x="".concat(t.width||i.width),g=parseInt(x,10);return rd(rd(rd(rd(rd({},t),i),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function _R(e){return v.createElement(yR,sw({shapeType:"rectangle",propTransformer:Cse,activeClassName:"recharts-active-bar"},e))}var kse=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(De(t))return t;var l=De(r)||Ft(r);return l?t(r,i):(l||yse(),n)}},Ase={},CR=Br({name:"errorBars",initialState:Ase,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Zde,removeErrorBar:Qde}=CR.actions,Ese=CR.reducer,Tse=["children"];function Pse(e,t){if(e==null)return{};var n,r,i=Ose(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ose(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Dse=v.createContext(Mse);function kR(e){var{children:t}=e,n=Pse(e,Tse);return v.createElement(Dse.Provider,{value:n},t)}function rN(e,t){var n,r,i=ze(m=>Ws(m,e)),l=ze(m=>Ji(m,t)),c=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Er.allowDataOverflow,d=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:Tr.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function AR(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=nN(),{needClipX:l,needClipY:c,needClip:d}=rN(t,n);if(!d)return null;var{x:f,y:m,width:h,height:x}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:l?f:f-h/2,y:c?m:m-x/2,width:l?h:h*2,height:c?x:x*2}))}var Rse=["onMouseEnter","onMouseLeave","onClick"],Lse=["value","background","tooltipPosition"],$se=["id"],Ise=["onMouseEnter","onClick","onMouseLeave"];function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(null,arguments)}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){zse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zse(e,t,n){return(t=Bse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bse(e){var t=Use(e,"string");return typeof t=="symbol"?t:t+""}function Use(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F0(e,t){if(e==null)return{};var n,r,i=Fse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vse=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:r,value:Bc(n,t),payload:e}]};function Hse(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Bc(l,t),hide:c,type:e.tooltipType,color:e.fill,unit:d}}}function qse(e){var t=ze(Gi),{data:n,dataKey:r,background:i,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=F0(l,Rse),h=Y2(c,r),x=W2(d),g=X2(f,r);if(!i||n==null)return null;var b=Gt(i,!1);return v.createElement(v.Fragment,null,n.map((w,j)=>{var{value:S,background:_,tooltipPosition:C}=w,k=F0(w,Lse);if(!_)return null;var O=h(w,j),A=x(w,j),E=g(w,j),$=qn(qn(qn(qn(qn({option:i,isActive:String(j)===t},k),{},{fill:"#eee"},_),b),cp(m,w,j)),{},{onMouseEnter:O,onMouseLeave:A,onClick:E,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return v.createElement(_R,kc({key:"background-bar-".concat(j)},$))}))}function ER(e){var{data:t,props:n,showLabels:r}=e,i=qs(n),{id:l}=i,c=F0(i,$se),{shape:d,dataKey:f,activeBar:m}=n,h=ze(Gi),x=ze(Q8),{onMouseEnter:g,onClick:b,onMouseLeave:w}=n,j=F0(n,Ise),S=Y2(g,f),_=W2(w),C=X2(b,f);return t?v.createElement(v.Fragment,null,t.map((k,O)=>{var A=m&&String(O)===h&&(x==null||f===x),E=A?m:d,$=qn(qn(qn({},c),k),{},{isActive:A,option:E,index:O,dataKey:f});return v.createElement(Yn,kc({className:"recharts-bar-rectangle"},cp(j,k,O),{onMouseEnter:S(k,O),onMouseLeave:_(k,O),onClick:C(k,O),key:"rectangle-".concat(k==null?void 0:k.x,"-").concat(k==null?void 0:k.y,"-").concat(k==null?void 0:k.value,"-").concat(O)}),v.createElement(_R,$))}),r&&Bi.renderCallByParent(n,t)):null}function Kse(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,x=n.current,g=Q2(t,"recharts-bar-"),[b,w]=v.useState(!1),j=v.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),S=v.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return v.createElement(eN,{begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:S,key:g},_=>{var C=_===1?r:r==null?void 0:r.map((k,O)=>{var A=x&&x[O];if(A)return qn(qn({},k),{},{x:Sa(A.x,k.x,_),y:Sa(A.y,k.y,_),width:Sa(A.width,k.width,_),height:Sa(A.height,k.height,_)});if(i==="horizontal"){var E=Sa(0,k.height,_);return qn(qn({},k),{},{y:k.y+k.height-E,height:E})}var $=Sa(0,k.width,_);return qn(qn({},k),{},{width:$})});return _>0&&(n.current=C??null),C==null?null:v.createElement(Yn,null,v.createElement(ER,{props:t,data:C,showLabels:!b}))})}function Gse(e){var{data:t,isAnimationActive:n}=e,r=v.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?v.createElement(Kse,{previousRectanglesRef:r,props:e}):v.createElement(ER,{props:e,data:t,showLabels:!0})}var TR=0,Yse=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ot(e,t)}};class Wse extends v.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t)return null;var h=at("recharts-bar",i),x=m;return v.createElement(Yn,{className:h,id:m},d&&v.createElement("defs",null,v.createElement(AR,{clipPathId:x,xAxisId:l,yAxisId:c})),v.createElement(Yn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},v.createElement(qse,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),v.createElement(Gse,this.props)),this.props.children)}}var Xse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Jl.isSsr,legendType:"rect",minPointSize:TR,xAxisId:0,yAxisId:0};function Zse(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:x}=rN(t,n),g=Np(),b=vr(),w=vf(e.children,ks),j=ze(C=>Sie(C,t,n,b,e.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var S,_=j==null?void 0:j[0];return _==null||_.height==null||_.width==null?S=0:S=g==="vertical"?_.height/2:_.width/2,v.createElement(kR,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:Yse,errorBarOffset:S},v.createElement(Wse,kc({},e,{layout:g,needClip:x,data:j,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function Qse(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:x,offset:g,cells:b}=e,w=t==="horizontal"?d:c,j=h?w.scale.domain():null,S=YW({numericAxis:w});return x.map((_,C)=>{var k,O,A,E,$,M;h?k=FW(h[C],j):(k=Ot(_,n),Array.isArray(k)||(k=[S,k]));var F=kse(r,TR)(k[1],C);if(t==="horizontal"){var G,[V,U]=[d.scale(k[0]),d.scale(k[1])];O=bk({axis:c,ticks:f,bandSize:l,offset:i.offset,entry:_,index:C}),A=(G=U??V)!==null&&G!==void 0?G:void 0,E=i.size;var te=V-U;if($=Lr(te)?0:te,M={x:O,y:g.top,width:E,height:g.height},Math.abs(F)>0&&Math.abs($)<Math.abs(F)){var be=Pn($||F)*(Math.abs(F)-Math.abs($));A-=be,$+=be}}else{var[re,R]=[c.scale(k[0]),c.scale(k[1])];if(O=re,A=bk({axis:d,ticks:m,bandSize:l,offset:i.offset,entry:_,index:C}),E=R-re,$=i.size,M={x:g.left,y:A,width:g.width,height:$},Math.abs(F)>0&&Math.abs(E)<Math.abs(F)){var q=Pn(E||F)*(Math.abs(F)-Math.abs(E));E+=q}}if(O==null||A==null||E==null||$==null)return null;var H=qn(qn({},_),{},{x:O,y:A,width:E,height:$,value:h?k:k[1],payload:_,background:M,tooltipPosition:{x:O+E/2,y:A+$/2}},b&&b[C]&&b[C].props);return H}).filter(Boolean)}function Pd(e){var t=Ur(e,Xse),n=vr();return v.createElement(J2,{id:t.id,type:"bar"},r=>v.createElement(v.Fragment,null,v.createElement(wR,{legendPayload:Vse(t)}),v.createElement(Z2,{fn:Hse,args:t}),v.createElement(NR,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:GW(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),v.createElement(Zse,kc({},t,{id:r}))))}Pd.displayName="Bar";function LE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(n),!0).forEach(function(r){Jse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jse(e,t,n){return(t=eie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eie(e){var t=tie(e,"string");return typeof t=="symbol"?t:t+""}function tie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nie=(e,t)=>t,rie=(e,t,n)=>n,aie=(e,t,n,r)=>r,sie=(e,t,n,r,i)=>i,Pf=ge([Rp,sie],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),iie=ge([Pf],e=>e==null?void 0:e.maxBarSize),lie=(e,t,n,r,i,l)=>l,$E=(e,t,n)=>{var r=n??e;if(!Ft(r))return ir(r,t,0)},oie=ge([ft,Rp,nie,rie,aie],(e,t,n,r,i)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===r).filter(l=>l.isPanorama===i).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),cie=(e,t,n,r)=>{var i=ft(e);return i==="horizontal"?Q1(e,"yAxis",n,r):Q1(e,"xAxis",t,r)},uie=(e,t,n)=>{var r=ft(e);return r==="horizontal"?IA(e,"xAxis",t):IA(e,"yAxis",n)},die=(e,t,n)=>{var r={},i=e.filter(Dp),l=e.filter(m=>m.stackId==null),c=i.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),r),d=Object.entries(c).map(m=>{var[h,x]=m,g=x.map(w=>w.dataKey),b=$E(t,n,x[0].barSize);return{stackId:h,dataKeys:g,barSize:b}}),f=l.map(m=>{var h=[m.dataKey].filter(g=>g!=null),x=$E(t,n,m.barSize);return{stackId:void 0,dataKeys:h,barSize:x}});return[...d,...f]},fie=ge([oie,xee,uie],die),mie=(e,t,n,r,i)=>{var l,c,d=Pf(e,t,n,r,i);if(d!=null){var f=ft(e),m=JD(e),{maxBarSize:h}=d,x=Ft(h)?m:h,g,b;return f==="horizontal"?(g=Ki(e,"xAxis",t,r),b=qi(e,"xAxis",t,r)):(g=Ki(e,"yAxis",n,r),b=qi(e,"yAxis",n,r)),(l=(c=Xd(g,b,!0))!==null&&c!==void 0?c:x)!==null&&l!==void 0?l:0}},PR=(e,t,n,r)=>{var i=ft(e),l,c;return i==="horizontal"?(l=Ki(e,"xAxis",t,r),c=qi(e,"xAxis",t,r)):(l=Ki(e,"yAxis",n,r),c=qi(e,"yAxis",n,r)),Xd(l,c)};function hie(e,t,n,r,i){var l=r.length;if(!(l<1)){var c=ir(e,n,0,!0),d,f=[];if(zr(r[0].barSize)){var m=!1,h=n/l,x=r.reduce((_,C)=>_+(C.barSize||0),0);x+=(l-1)*c,x>=n&&(x-=(l-1)*c,c=0),x>=n&&h>0&&(m=!0,h*=.9,x=l*h);var g=(n-x)/2>>0,b={offset:g-c,size:0};d=r.reduce((_,C)=>{var k,O={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b.offset+b.size+c,size:m?h:(k=C.barSize)!==null&&k!==void 0?k:0}},A=[..._,O];return b=A[A.length-1].position,A},f)}else{var w=ir(t,n,0,!0);n-2*w-(l-1)*c<=0&&(c=0);var j=(n-2*w-(l-1)*c)/l;j>1&&(j>>=0);var S=zr(i)?Math.min(j,i):j;d=r.reduce((_,C,k)=>[..._,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w+(j+c)*k+(j-S)/2,size:S}}],f)}return d}}var pie=(e,t,n,r,i,l,c)=>{var d=Ft(c)?t:c,f=hie(n,r,i!==l?i:l,e,d);return i!==l&&f!=null&&(f=f.map(m=>fh(fh({},m),{},{position:fh(fh({},m.position),{},{offset:m.position.offset-i/2})}))),f},xie=ge([fie,JD,pee,e8,mie,PR,iie],pie),gie=(e,t,n,r)=>Ki(e,"xAxis",t,r),vie=(e,t,n,r)=>Ki(e,"yAxis",n,r),yie=(e,t,n,r)=>qi(e,"xAxis",t,r),bie=(e,t,n,r)=>qi(e,"yAxis",n,r),wie=ge([xie,Pf],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),jie=(e,t)=>{var n=p2(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:l}=i;if(l)return l.find(c=>c.key===n)}}}},Nie=ge([cie,Pf],jie),Sie=ge([wn,gie,vie,yie,bie,wie,ft,Tp,PR,Nie,Pf,lie],(e,t,n,r,i,l,c,d,f,m,h,x)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:w}=d;if(!(h==null||l==null||c!=="horizontal"&&c!=="vertical"||t==null||n==null||r==null||i==null||f==null)){var{data:j}=h,S;if(j!=null&&j.length>0?S=j:S=g==null?void 0:g.slice(b,w+1),S!=null)return Qse({layout:c,barSettings:h,pos:l,bandSize:f,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:m,displayedData:S,offset:e,cells:x})}}),OR=e=>{var{chartData:t}=e,n=on(),r=vr();return v.useEffect(()=>r?()=>{}:(n(YA(t)),()=>{n(YA(void 0))}),[t,n,r]),null},IE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MR=Br({name:"brush",initialState:IE,reducers:{setBrushSettings(e,t){return t.payload==null?IE:t.payload}}}),{setBrushSettings:Jde}=MR.actions,_ie=MR.reducer;function Cie(e,t,n){return(t=kie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aN{static create(t){return new aN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Cie(aN,"EPS",1e-4);function Eie(e){return(e%180+180)%180}var Tie=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=Eie(i),c=l*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Pie={dots:[],areas:[],lines:[]},DR=Br({name:"referenceElements",initialState:Pie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Es(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Es(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Es(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:efe,removeDot:tfe,addArea:nfe,removeArea:rfe,addLine:afe,removeLine:sfe}=DR.actions,Oie=DR.reducer,Mie=v.createContext(void 0),Die=e=>{var{children:t}=e,[n]=v.useState("".concat(Gd("recharts"),"-clip")),r=nN();if(r==null)return null;var{x:i,y:l,width:c,height:d}=r;return v.createElement(Mie.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:l,height:d,width:c}))),t)};function cb(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function RR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Rie(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Tie(r,n)}function Lie(e,t,n){var r=n==="width",{x:i,y:l,width:c,height:d}=e;return t===1?{start:r?i:l,end:r?i+c:l+d}:{start:r?i+c:l+d,end:r?i:l}}function V0(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var l=n();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-i)<=0}function $ie(e,t){return RR(e,t+1)}function Iie(e,t,n,r,i){for(var l=(r||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,x=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:RR(r,m)};var j=f,S,_=()=>(S===void 0&&(S=n(w,j)),S),C=w.coordinate,k=f===0||V0(e,C,_,h,d);k||(f=0,h=c,m+=1),k&&(h=C+e*(_()/2+i),f+=m)},g;m<=l.length;)if(g=x(),g)return g.v;return[]}function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(r){zie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zie(e,t,n){return(t=Bie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bie(e){var t=Uie(e,"string");return typeof t=="symbol"?t:t+""}function Uie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fie(e,t,n,r,i){for(var l=(r||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(g){var b=l[g],w,j=()=>(w===void 0&&(w=n(b,g)),w);if(g===c-1){var S=e*(b.coordinate+e*j()/2-f);l[g]=b=Hn(Hn({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else l[g]=b=Hn(Hn({},b),{},{tickCoord:b.coordinate});var _=V0(e,b.tickCoord,j,d,f);_&&(f=b.tickCoord-e*(j()/2+i),l[g]=Hn(Hn({},b),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return l}function Vie(e,t,n,r,i,l){var c=(r||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=r[d-1],x=n(h,d-1),g=e*(h.coordinate+e*x/2-m);c[d-1]=h=Hn(Hn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var b=V0(e,h.tickCoord,()=>x,f,m);b&&(m=h.tickCoord-e*(x/2+i),c[d-1]=Hn(Hn({},h),{},{isShow:!0}))}for(var w=l?d-1:d,j=function(C){var k=c[C],O,A=()=>(O===void 0&&(O=n(k,C)),O);if(C===0){var E=e*(k.coordinate-e*A()/2-f);c[C]=k=Hn(Hn({},k),{},{tickCoord:E<0?k.coordinate-E*e:k.coordinate})}else c[C]=k=Hn(Hn({},k),{},{tickCoord:k.coordinate});var $=V0(e,k.tickCoord,A,f,m);$&&(f=k.tickCoord+e*(A()/2+i),c[C]=Hn(Hn({},k),{},{isShow:!0}))},S=0;S<w;S++)j(S);return c}function sN(e,t,n){var{tick:r,ticks:i,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:x}=e;if(!i||!i.length||!r)return[];if(De(f)||Jl.isSsr){var g;return(g=$ie(i,De(f)?f:0))!==null&&g!==void 0?g:[]}var b=[],w=d==="top"||d==="bottom"?"width":"height",j=h&&w==="width"?Td(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(k,O)=>{var A=typeof m=="function"?m(k.value,O):k.value;return w==="width"?Rie(Td(A,{fontSize:t,letterSpacing:n}),j,x):Td(A,{fontSize:t,letterSpacing:n})[w]},_=i.length>=2?Pn(i[1].coordinate-i[0].coordinate):1,C=Lie(l,_,w);return f==="equidistantPreserveStart"?Iie(_,C,S,i,c):(f==="preserveStart"||f==="preserveStartEnd"?b=Vie(_,C,S,i,c,f==="preserveStartEnd"):b=Fie(_,C,S,i,c),b.filter(k=>k.isShow))}var Hie=["viewBox"],qie=["viewBox"];function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ac.apply(null,arguments)}function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(n),!0).forEach(function(r){iN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UE(e,t){if(e==null)return{};var n,r,i=Kie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iN(e,t,n){return(t=Gie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gie(e){var t=Yie(e,"string");return typeof t=="symbol"?t:t+""}function Yie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class el extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,i=UE(t,Hie),l=this.props,{viewBox:c}=l,d=UE(l,qie);return!cb(r,c)||!cb(i,d)||!cb(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:i,height:l,orientation:c,tickSize:d,mirror:f,tickMargin:m}=this.props,h,x,g,b,w,j,S=f?-1:1,_=t.tickSize||d,C=De(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=x=t.coordinate,b=r+ +!f*l,g=b-S*_,j=g-S*m,w=C;break;case"left":g=b=t.coordinate,x=n+ +!f*i,h=x-S*_,w=h-S*m,j=C;break;case"right":g=b=t.coordinate,x=n+ +f*i,h=x+S*_,w=h+S*m,j=C;break;default:h=x=t.coordinate,b=r+ +f*l,g=b+S*_,j=g+S*m,w=C;break}return{line:{x1:h,y1:g,x2:x,y2:b},tick:{x:w,y:j}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:i,orientation:l,mirror:c,axisLine:d}=this.props,f=bn(bn(bn({},Gt(this.props,!1)),Gt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);f=bn(bn({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=bn(bn({},f),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+i})}return v.createElement("line",ac({},f,{className:at("recharts-cartesian-axis-line",Hi(d,"className"))}))}static renderTickItem(t,n,r){var i,l=at(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,bn(bn({},n),{},{className:l}));else if(typeof t=="function")i=t(bn(bn({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=at(c,t.className)),i=v.createElement(Up,ac({},n,{className:c}),r)}return i}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:l,tick:c,tickFormatter:d,unit:f,padding:m}=this.props,h=sN(bn(bn({},this.props),{},{ticks:r}),t,n),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=qs(this.props),w=Gt(c,!1),j=bn(bn({},b),{},{fill:"none"},Gt(i,!1)),S=h.map((_,C)=>{var{line:k,tick:O}=this.getTickLineCoord(_),A=bn(bn(bn(bn({textAnchor:x,verticalAnchor:g},b),{},{stroke:"none",fill:l},w),O),{},{index:C,payload:_,visibleTicksCount:h.length,tickFormatter:d,padding:m});return v.createElement(Yn,ac({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},cp(this.props,_,C)),i&&v.createElement("line",ac({},j,k,{className:at("recharts-cartesian-axis-tick-line",Hi(i,"className"))})),c&&el.renderTickItem(c,A,"".concat(typeof d=="function"?d(_.value,C):_.value).concat(f||"")))});return S.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:t,width:n,height:r,className:i,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:v.createElement(Yn,{className:at("recharts-cartesian-axis",i),ref:d=>{if(d){var f=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var m=f[0];if(m){var h=window.getComputedStyle(m).fontSize,x=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),Or.renderCallByParent(this.props))}}iN(el,"displayName","CartesianAxis");iN(el,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wie=["x1","y1","x2","y2","key"],Xie=["offset"],Zie=["xAxisId","yAxisId"],Qie=["xAxisId","yAxisId"];function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(r){Jie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jie(e,t,n){return(t=ele(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ele(e){var t=tle(e,"string");return typeof t=="symbol"?t:t+""}function tle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(null,arguments)}function H0(e,t){if(e==null)return{};var n,r,i=nle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:l,height:c,ry:d}=e;return v.createElement("rect",{x:r,y:i,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LR(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:l,y2:c,key:d}=t,f=H0(t,Wie),m=qs(f),{offset:h}=m,x=H0(m,Xie);n=v.createElement("line",zl({},x,{x1:r,y1:i,x2:l,y2:c,fill:"none",key:d}))}return n}function ale(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:l,yAxisId:c}=e,d=H0(e,Zie),f=i.map((m,h)=>{var x=Kn(Kn({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(h),index:h});return LR(r,x)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function sle(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:l,yAxisId:c}=e,d=H0(e,Qie),f=i.map((m,h)=>{var x=Kn(Kn({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(h),index:h});return LR(r,x)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function ile(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(x=>Math.round(x+i-i)).sort((x,g)=>x-g);i!==m[0]&&m.unshift(0);var h=m.map((x,g)=>{var b=!m[g+1],w=b?i+c-x:m[g+1]-x;if(w<=0)return null;var j=g%t.length;return v.createElement("rect",{key:"react-".concat(g),y:x,x:r,height:w,width:l,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function lle(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(x=>Math.round(x+i-i)).sort((x,g)=>x-g);i!==m[0]&&m.unshift(0);var h=m.map((x,g)=>{var b=!m[g+1],w=b?i+c-x:m[g+1]-x;if(w<=0)return null;var j=g%n.length;return v.createElement("rect",{key:"react-".concat(g),x,y:l,width:w,height:d,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ole=(e,t)=>{var{xAxis:n,width:r,height:i,offset:l}=e;return LM(sN(Kn(Kn(Kn({},el.defaultProps),n),{},{ticks:$M(n),viewBox:{x:0,y:0,width:r,height:i}})),l.left,l.left+l.width,t)},cle=(e,t)=>{var{yAxis:n,width:r,height:i,offset:l}=e;return LM(sN(Kn(Kn(Kn({},el.defaultProps),n),{},{ticks:$M(n),viewBox:{x:0,y:0,width:r,height:i}})),l.top,l.top+l.height,t)},ule={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ui(e){var t=VM(),n=HM(),r=FM(),i=Kn(Kn({},Ur(e,ule)),{},{x:De(e.x)?e.x:r.left,y:De(e.y)?e.y:r.top,width:De(e.width)?e.width:r.width,height:De(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:x,horizontalValues:g,verticalValues:b}=i,w=vr(),j=ze(F=>zA(F,"xAxis",l,w)),S=ze(F=>zA(F,"yAxis",c,w));if(!De(m)||m<=0||!De(h)||h<=0||!De(d)||d!==+d||!De(f)||f!==+f)return null;var _=i.verticalCoordinatesGenerator||ole,C=i.horizontalCoordinatesGenerator||cle,{horizontalPoints:k,verticalPoints:O}=i;if((!k||!k.length)&&typeof C=="function"){var A=g&&g.length,E=C({yAxis:S?Kn(Kn({},S),{},{ticks:A?g:S.ticks}):void 0,width:t,height:n,offset:r},A?!0:x);Ed(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(k=E)}if((!O||!O.length)&&typeof _=="function"){var $=b&&b.length,M=_({xAxis:j?Kn(Kn({},j),{},{ticks:$?b:j.ticks}):void 0,width:t,height:n,offset:r},$?!0:x);Ed(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(O=M)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(rle,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(ile,zl({},i,{horizontalPoints:k})),v.createElement(lle,zl({},i,{verticalPoints:O})),v.createElement(ale,zl({},i,{offset:r,horizontalPoints:k,xAxis:j,yAxis:S})),v.createElement(sle,zl({},i,{offset:r,verticalPoints:O,xAxis:j,yAxis:S})))}Ui.displayName="CartesianGrid";var $R=(e,t,n,r)=>Ki(e,"xAxis",t,r),IR=(e,t,n,r)=>qi(e,"xAxis",t,r),zR=(e,t,n,r)=>Ki(e,"yAxis",n,r),BR=(e,t,n,r)=>qi(e,"yAxis",n,r),dle=ge([ft,$R,zR,IR,BR],(e,t,n,r,i)=>Wi(e,"xAxis")?Xd(t,r,!1):Xd(n,i,!1)),fle=(e,t,n,r,i)=>i;function mle(e){return e.type==="line"}var hle=ge([Rp,fle],(e,t)=>e.filter(mle).find(n=>n.id===t)),ple=ge([ft,$R,zR,IR,BR,hle,dle,Tp],(e,t,n,r,i,l,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:h}=d;if(!(l==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{dataKey:x,data:g}=l,b;if(g!=null&&g.length>0?b=g:b=f==null?void 0:f.slice(m,h+1),b!=null)return Lle({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:x,bandSize:c,displayedData:b})}}),xle=["id"],gle=["type","layout","connectNulls","needClip"],vle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(r){yle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yle(e,t,n){return(t=ble(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ble(e){var t=wle(e,"string");return typeof t=="symbol"?t:t+""}function wle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lN(e,t){if(e==null)return{};var n,r,i=jle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(null,arguments)}var Nle=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:r,value:Bc(n,t),payload:e}]};function Sle(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:l,name:c,hide:d,unit:f}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:l,dataKey:t,nameKey:void 0,name:Bc(c,t),hide:d,type:e.tooltipType,color:e.stroke,unit:f}}}var UR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function _le(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Cle=(e,t,n)=>{var r=n.reduce((x,g)=>x+g);if(!r)return UR(t,e);for(var i=Math.floor(e/r),l=e%r,c=t-e,d=[],f=0,m=0;f<n.length;m+=n[f],++f)if(m+n[f]>l){d=[...n.slice(0,f),l-m];break}var h=d.length%2===0?[0,c]:[c];return[..._le(n,i),...d,...h].map(x=>"".concat(x,"px")).join(", ")};function kle(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=at("recharts-line-dot",typeof e!="boolean"?e.className:"");n=v.createElement(hR,Zl({},t,{className:r}))}return n}function Ale(e,t){return e==null?!1:t?!0:e.length===1}function Ele(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:l,needClip:c}=r;if(!Ale(n,i))return null;var{id:d}=r,f=lN(r,xle),m=DO(i),h=qs(f),x=Gt(i,!0),g=n.map((w,j)=>{var S=_a(_a(_a({key:"dot-".concat(j),r:3},h),x),{},{index:j,cx:w.x,cy:w.y,dataKey:l,value:w.value,payload:w.payload,points:n});return kle(i,S)}),b={clipPath:c?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return v.createElement(Yn,Zl({className:"recharts-line-dots",key:"dots"},b),g)}function iw(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:l,showLabels:c}=e,{type:d,layout:f,connectNulls:m,needClip:h}=l,x=lN(l,gle),g=_a(_a({},Gt(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:d,layout:f,connectNulls:m,strokeDasharray:i??l.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(Dj,Zl({},g,{pathRef:n})),v.createElement(Ele,{points:r,clipPathId:t,props:l}),c&&Bi.renderCallByParent(l,r))}function Tle(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ple(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:d,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:x,animateNewValues:g,width:b,height:w,onAnimationEnd:j,onAnimationStart:S}=n,_=i.current,C=Q2(n,"recharts-line-"),[k,O]=v.useState(!1),A=v.useCallback(()=>{typeof j=="function"&&j(),O(!1)},[j]),E=v.useCallback(()=>{typeof S=="function"&&S(),O(!0)},[S]),$=Tle(r.current),M=l.current;return v.createElement(eN,{begin:m,duration:h,isActive:f,easing:x,onAnimationEnd:A,onAnimationStart:E,key:C},F=>{var G=Sa(M,$+M,F),V=Math.min(G,$),U;if(d){var te="".concat(d).split(/[,\s]+/gim).map(R=>parseFloat(R));U=Cle(V,$,te)}else U=UR($,V);if(_){var be=_.length/c.length,re=F===1?c:c.map((R,q)=>{var H=Math.floor(q*be);if(_[H]){var B=_[H];return _a(_a({},R),{},{x:Sa(B.x,R.x,F),y:Sa(B.y,R.y,F)})}return g?_a(_a({},R),{},{x:Sa(b*2,R.x,F),y:Sa(w/2,R.y,F)}):_a(_a({},R),{},{x:R.x,y:R.y})});return i.current=re,v.createElement(iw,{props:n,points:re,clipPathId:t,pathRef:r,showLabels:!k,strokeDasharray:U})}return F>0&&$>0&&(i.current=c,l.current=V),v.createElement(iw,{props:n,points:c,clipPathId:t,pathRef:r,showLabels:!k,strokeDasharray:U})})}function Ole(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:i}=n,l=v.useRef(null),c=v.useRef(0),d=v.useRef(null),f=l.current;return i&&r&&r.length&&f!==r?v.createElement(Ple,{props:n,clipPathId:t,previousPointsRef:l,longestAnimatedLengthRef:c,pathRef:d}):v.createElement(iw,{props:n,points:r,clipPathId:t,pathRef:d,showLabels:!0})}var Mle=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ot(e.payload,t)});class Dle extends v.Component{render(){var t,{hide:n,dot:r,points:i,className:l,xAxisId:c,yAxisId:d,top:f,left:m,width:h,height:x,id:g,needClip:b}=this.props;if(n)return null;var w=at("recharts-line",l),j=g,{r:S=3,strokeWidth:_=2}=(t=Gt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},C=DO(r),k=S*2+_;return v.createElement(v.Fragment,null,v.createElement(Yn,{className:w},b&&v.createElement("defs",null,v.createElement(AR,{clipPathId:j,xAxisId:c,yAxisId:d}),!C&&v.createElement("clipPath",{id:"clipPath-dots-".concat(j)},v.createElement("rect",{x:m-k/2,y:f-k/2,width:h+k,height:x+k}))),v.createElement(Ole,{props:this.props,clipPathId:j}),v.createElement(kR,{xAxisId:c,yAxisId:d,data:i,dataPointFormatter:Mle,errorBarOffset:0},this.props.children)),v.createElement(gse,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var FR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Jl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Rle(e){var t=Ur(e,FR),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:l,animationEasing:c,connectNulls:d,dot:f,hide:m,isAnimationActive:h,label:x,legendType:g,xAxisId:b,yAxisId:w,id:j}=t,S=lN(t,vle),{needClip:_}=rN(b,w),C=nN(),k=Np(),O=vr(),A=ze(G=>ple(G,b,w,O,j));if(k!=="horizontal"&&k!=="vertical"||A==null||C==null)return null;var{height:E,width:$,x:M,y:F}=C;return v.createElement(Dle,Zl({},S,{id:j,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:m,label:x,legendType:g,xAxisId:b,yAxisId:w,points:A,layout:k,height:E,width:$,left:M,top:F,needClip:_}))}function Lle(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:l,dataKey:c,bandSize:d,displayedData:f}=e;return f.map((m,h)=>{var x=Ot(m,c);if(t==="horizontal"){var g=yk({axis:n,ticks:i,bandSize:d,entry:m,index:h}),b=Ft(x)?null:r.scale(x);return{x:g,y:b,value:x,payload:m}}var w=Ft(x)?null:n.scale(x),j=yk({axis:r,ticks:l,bandSize:d,entry:m,index:h});return w==null||j==null?null:{x:w,y:j,value:x,payload:m}}).filter(Boolean)}function Fp(e){var t=Ur(e,FR),n=vr();return v.createElement(J2,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(wR,{legendPayload:Nle(t)}),v.createElement(Z2,{fn:Sle,args:t}),v.createElement(NR,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Rle,Zl({},t,{id:r}))))}Fp.displayName="Line";function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){$le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $le(e,t,n){return(t=Ile(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ile(e){var t=zle(e,"string");return typeof t=="symbol"?t:t+""}function zle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ble={xAxis:{},yAxis:{},zAxis:{}},VR=Br({name:"cartesianAxis",initialState:Ble,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=qE(qE({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Ule,removeXAxis:Fle,addYAxis:Vle,removeYAxis:Hle,addZAxis:ife,removeZAxis:lfe,updateYAxisWidth:qle}=VR.actions,Kle=VR.reducer,Gle=["children"],Yle=["dangerouslySetInnerHTML","ticks"];function HR(e,t,n){return(t=Wle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wle(e){var t=Xle(e,"string");return typeof t=="symbol"?t:t+""}function Xle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(null,arguments)}function qR(e,t){if(e==null)return{};var n,r,i=Zle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qle(e){var t=on(),n=v.useMemo(()=>{var{children:l}=e,c=qR(e,Gle);return c},[e]),r=ze(l=>Ws(l,n.id)),i=n===r;return v.useEffect(()=>(t(Ule(n)),()=>{t(Fle(n))}),[n,t]),i?e.children:null}var Jle=e=>{var{xAxisId:t,className:n}=e,r=ze(UM),i=vr(),l="xAxis",c=ze(b=>Gc(b,l,t,i)),d=ze(b=>M8(b,l,t,i)),f=ze(b=>E8(b,t)),m=ze(b=>ite(b,t));if(f==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:x}=e,g=qR(e,Yle);return v.createElement(el,lw({},g,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:at("recharts-".concat(l," ").concat(l),n),viewBox:r,ticks:d}))},eoe=e=>{var t,n,r,i,l;return v.createElement(Qle,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},v.createElement(Jle,e))};class Ps extends v.Component{render(){return v.createElement(eoe,this.props)}}HR(Ps,"displayName","XAxis");HR(Ps,"defaultProps",{allowDataOverflow:Er.allowDataOverflow,allowDecimals:Er.allowDecimals,allowDuplicatedCategory:Er.allowDuplicatedCategory,height:Er.height,hide:!1,mirror:Er.mirror,orientation:Er.orientation,padding:Er.padding,reversed:Er.reversed,scale:Er.scale,tickCount:Er.tickCount,type:Er.type,xAxisId:0});var toe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:l=0}=e,c=0;if(t){t.forEach(h=>{if(h){var x=h.getBoundingClientRect();x.width>c&&(c=x.width)}});var d=n?n.getBoundingClientRect().width:0,f=i+l,m=c+f+d+(n?r:0);return Math.round(m)}return 0},noe=["dangerouslySetInnerHTML","ticks"];function KR(e,t,n){return(t=roe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function roe(e){var t=aoe(e,"string");return typeof t=="symbol"?t:t+""}function aoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ow.apply(null,arguments)}function soe(e,t){if(e==null)return{};var n,r,i=ioe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ioe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function loe(e){var t=on();return v.useEffect(()=>(t(Vle(e)),()=>{t(Hle(e))}),[e,t]),null}var ooe=e=>{var t,{yAxisId:n,className:r,width:i,label:l}=e,c=v.useRef(null),d=v.useRef(null),f=ze(UM),m=vr(),h=on(),x="yAxis",g=ze(k=>Gc(k,x,n,m)),b=ze(k=>T8(k,n)),w=ze(k=>lte(k,n)),j=ze(k=>M8(k,x,n,m));if(v.useLayoutEffect(()=>{var k;if(!(i!=="auto"||!b||V2(l)||v.isValidElement(l))){var O=c.current,A=O==null||(k=O.tickRefs)===null||k===void 0?void 0:k.current,{tickSize:E,tickMargin:$}=O.props,M=toe({ticks:A,label:d.current,labelGapWithTick:5,tickSize:E,tickMargin:$});Math.round(b.width)!==Math.round(M)&&h(qle({id:n,width:M}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b==null?void 0:b.width,b,h,l,n,i]),b==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:_}=e,C=soe(e,noe);return v.createElement(el,ow({},C,{ref:c,labelRef:d,scale:g,x:w.x,y:w.y,width:b.width,height:b.height,className:at("recharts-".concat(x," ").concat(x),r),viewBox:f,ticks:j}))},coe=e=>{var t,n,r,i,l;return v.createElement(v.Fragment,null,v.createElement(loe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),v.createElement(ooe,e))},uoe={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:Tr.allowDecimals,allowDuplicatedCategory:Tr.allowDuplicatedCategory,hide:!1,mirror:Tr.mirror,orientation:Tr.orientation,padding:Tr.padding,reversed:Tr.reversed,scale:Tr.scale,tickCount:Tr.tickCount,type:Tr.type,width:Tr.width,yAxisId:0};class Os extends v.Component{render(){return v.createElement(coe,this.props)}}KR(Os,"displayName","YAxis");KR(Os,"defaultProps",uoe);var ub={exports:{}},db={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function doe(){if(KE)return db;KE=1;var e=Pc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return db.useSyncExternalStoreWithSelector=function(f,m,h,x,g){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function S(A){if(!_){if(_=!0,C=A,A=x(A),g!==void 0&&w.hasValue){var E=w.value;if(g(E,A))return k=E}return k=A}if(E=k,n(C,A))return E;var $=x(A);return g!==void 0&&g(E,$)?(C=A,E):(C=A,k=$)}var _=!1,C,k,O=h===void 0?null:h;return[function(){return S(m())},O===null?void 0:function(){return S(O())}]},[m,h,x,g]);var j=r(f,b[0],b[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},db}var GE;function foe(){return GE||(GE=1,ub.exports=doe()),ub.exports}foe();function moe(e){e()}function hoe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){moe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var YE={notify(){},get:()=>[]};function poe(e,t){let n,r=YE,i=0,l=!1;function c(j){h();const S=r.subscribe(j);let _=!1;return()=>{_||(_=!0,S(),x())}}function d(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function m(){return l}function h(){i++,n||(n=e.subscribe(f),r=hoe())}function x(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=YE)}function g(){l||(l=!0,h())}function b(){l&&(l=!1,x())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>r};return w}var xoe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",goe=xoe(),voe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yoe=voe(),boe=()=>goe||yoe?v.useLayoutEffect:v.useEffect,woe=boe(),fb=Symbol.for("react-redux-context"),mb=typeof globalThis<"u"?globalThis:{};function joe(){if(!v.createContext)return{};const e=mb[fb]??(mb[fb]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Noe=joe();function Soe(e){const{children:t,context:n,serverState:r,store:i}=e,l=v.useMemo(()=>{const f=poe(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),c=v.useMemo(()=>i.getState(),[i]);woe(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=n||Noe;return v.createElement(d.Provider,{value:l},t)}var _oe=Soe,Coe=(e,t)=>t,oN=ge([Coe,ft,i8,Nn,Y8,Xs,fne,wn],gne),cN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},GR=da("mouseClick"),YR=yf();YR.startListening({actionCreator:GR,effect:(e,t)=>{var n=e.payload,r=oN(t.getState(),cN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(bte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var cw=da("mouseMove"),WR=yf();WR.startListening({actionCreator:cw,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=M2(r,r.tooltip.settings.shared),l=oN(r,cN(n));i==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(U8({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(B8()))}});function koe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var WE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},XR=Br({name:"rootProps",initialState:WE,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:WE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Aoe=XR.reducer,{updateOptions:Eoe}=XR.actions,ZR=Br({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Toe}=ZR.actions,Poe=ZR.reducer,QR=da("keyDown"),JR=da("focus"),uN=yf();uN.startListening({actionCreator:QR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(D2(i,Wc(n))),d=Xs(n);if(l==="Enter"){var f=I0(n,"axis","hover",String(i.index));t.dispatch(ew({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=dte(n),h=m==="left-to-right"?1:-1,x=l==="ArrowRight"?1:-1,g=c+x*h;if(!(d==null||g>=d.length||g<0)){var b=I0(n,"axis","hover",String(g));t.dispatch(ew({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});uN.startListening({actionCreator:JR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var l="0",c=I0(n,"axis","hover",String(l));t.dispatch(ew({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var na=da("externalEvent"),eL=yf();eL.startListening({actionCreator:na,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:nne(n),activeDataKey:Q8(n),activeIndex:Gi(n),activeLabel:Z8(n),activeTooltipIndex:Gi(n),isTooltipActive:rne(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Ooe=ge([Yc],e=>e.tooltipItemPayloads),Moe=ge([Ooe,Ef,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(d=>d.settings.dataKey===r);if(i!=null){var{positions:l}=i;if(l!=null){var c=t(l,n);return c}}}),tL=da("touchMove"),nL=yf();nL.startListening({actionCreator:tL,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=M2(r,r.tooltip.settings.shared);if(i==="axis"){var l=oN(r,cN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(U8({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(zM),h=(c=f.getAttribute(BM))!==null&&c!==void 0?c:void 0,x=Moe(t.getState(),m,h);t.dispatch(z8({activeDataKey:h,activeIndex:m,activeCoordinate:x}))}}});var Doe=dM({brush:_ie,cartesianAxis:Kle,chartData:Mne,errorBars:Ese,graphicalItems:Iae,layout:CW,legend:uX,options:Ane,polarAxis:aae,polarOptions:Poe,referenceElements:Oie,rootProps:Aoe,tooltip:wte}),Roe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return ZY({reducer:Doe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([YR.middleware,WR.middleware,uN.middleware,eL.middleware,nL.middleware]),devTools:{serialize:{replacer:koe},name:"recharts-".concat(n)}})};function rL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=vr(),l=v.useRef(null);if(i)return n;l.current==null&&(l.current=Roe(t,r));var c=_j;return v.createElement(_oe,{context:c,store:l.current},n)}function aL(e){var{layout:t,width:n,height:r,margin:i}=e,l=on(),c=vr();return v.useEffect(()=>{c||(l(NW(t)),l(SW({width:n,height:r})),l(jW(i)))},[l,c,t,n,r,i]),null}function sL(e){var t=on();return v.useEffect(()=>{t(Eoe(e))},[t,e]),null}var Loe=["children"];function $oe(e,t){if(e==null)return{};var n,r,i=Ioe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ioe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(null,arguments)}var zoe={width:"100%",height:"100%"},Boe=v.forwardRef((e,t)=>{var n=VM(),r=HM(),i=YM();if(!jc(n)||!jc(r))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return typeof c.tabIndex=="number"?m=c.tabIndex:m=i?0:void 0,typeof c.role=="string"?h=c.role:h=i?"application":void 0,v.createElement(RO,q0({},c,{title:d,desc:f,role:h,tabIndex:m,width:n,height:r,style:zoe,ref:t}),l)}),Uoe=e=>{var{children:t}=e,n=ze(jp);if(!n)return null;var{width:r,height:i,y:l,x:c}=n;return v.createElement(RO,{width:r,height:i,x:c,y:l},t)},XE=v.forwardRef((e,t)=>{var{children:n}=e,r=$oe(e,Loe),i=vr();return i?v.createElement(Uoe,null,n):v.createElement(Boe,q0({ref:t},r),n)});function Foe(){var e=on(),[t,n]=v.useState(null),r=ze(tX);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),l=i.width/t.offsetWidth;zr(l)&&l!==r&&e(_W(l))}},[t,e,r]),n}function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Voe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(n),!0).forEach(function(r){Hoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hoe(e,t,n){return(t=qoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qoe(e){var t=Koe(e,"string");return typeof t=="symbol"?t:t+""}function Koe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Goe=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:x,onMouseUp:g,onTouchEnd:b,onTouchMove:w,onTouchStart:j,style:S,width:_}=e,C=on(),[k,O]=v.useState(null),[A,E]=v.useState(null);Lne();var $=Foe(),M=v.useCallback(L=>{$(L),typeof t=="function"&&t(L),O(L),E(L)},[$,t,O,E]),F=v.useCallback(L=>{C(GR(L)),C(na({handler:l,reactEvent:L}))},[C,l]),G=v.useCallback(L=>{C(cw(L)),C(na({handler:m,reactEvent:L}))},[C,m]),V=v.useCallback(L=>{C(B8()),C(na({handler:h,reactEvent:L}))},[C,h]),U=v.useCallback(L=>{C(cw(L)),C(na({handler:x,reactEvent:L}))},[C,x]),te=v.useCallback(()=>{C(JR())},[C]),be=v.useCallback(L=>{C(QR(L.key))},[C]),re=v.useCallback(L=>{C(na({handler:c,reactEvent:L}))},[C,c]),R=v.useCallback(L=>{C(na({handler:d,reactEvent:L}))},[C,d]),q=v.useCallback(L=>{C(na({handler:f,reactEvent:L}))},[C,f]),H=v.useCallback(L=>{C(na({handler:g,reactEvent:L}))},[C,g]),B=v.useCallback(L=>{C(na({handler:j,reactEvent:L}))},[C,j]),T=v.useCallback(L=>{C(tL(L)),C(na({handler:w,reactEvent:L}))},[C,w]),D=v.useCallback(L=>{C(na({handler:b,reactEvent:L}))},[C,b]);return v.createElement(aR.Provider,{value:k},v.createElement(GK.Provider,{value:A},v.createElement("div",{className:at("recharts-wrapper",r),style:Voe({position:"relative",cursor:"default",width:_,height:i},S),onClick:F,onContextMenu:re,onDoubleClick:R,onFocus:te,onKeyDown:be,onMouseDown:q,onMouseEnter:G,onMouseLeave:V,onMouseMove:U,onMouseUp:H,onTouchEnd:D,onTouchMove:T,onTouchStart:B,ref:M},n)))}),Yoe=["children","className","width","height","style","compact","title","desc"];function Woe(e,t){if(e==null)return{};var n,r,i=Xoe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var iL=v.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:l,style:c,compact:d,title:f,desc:m}=e,h=Woe(e,Yoe),x=qs(h);return d?v.createElement(XE,{otherAttributes:x,title:f,desc:m},n):v.createElement(Goe,{className:r,style:c,width:i,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(XE,{otherAttributes:x,title:f,desc:m,ref:t},v.createElement(Die,null,n)))}),Zoe=["width","height"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uw.apply(null,arguments)}function Qoe(e,t){if(e==null)return{};var n,r,i=Joe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Joe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ece={top:5,right:5,bottom:5,left:5},tce={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ece,reverseStackOrder:!1,syncMethod:"index"},lL=v.forwardRef(function(t,n){var r,i=Ur(t.categoricalChartProps,tce),{width:l,height:c}=i,d=Qoe(i,Zoe);if(!jc(l)||!jc(c))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,categoricalChartProps:g}=t,b={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return v.createElement(rL,{preloadedState:{options:b},reduxStoreName:(r=g.id)!==null&&r!==void 0?r:f},v.createElement(OR,{chartData:g.data}),v.createElement(aL,{width:l,height:c,layout:i.layout,margin:i.margin}),v.createElement(sL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(iL,uw({},d,{width:l,height:c,ref:n})))}),nce=["axis"],dN=v.forwardRef((e,t)=>v.createElement(lL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nce,tooltipPayloadSearcher:F2,categoricalChartProps:e,ref:t})),rce=["axis","item"],Gh=v.forwardRef((e,t)=>v.createElement(lL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rce,tooltipPayloadSearcher:F2,categoricalChartProps:e,ref:t}));function ace(e){var t=on();return v.useEffect(()=>{t(Toe(e))},[t,e]),null}var sce=["width","height","layout"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dw.apply(null,arguments)}function ice(e,t){if(e==null)return{};var n,r,i=lce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oce={top:5,right:5,bottom:5,left:5},cce={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:oce,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},uce=v.forwardRef(function(t,n){var r,i=Ur(t.categoricalChartProps,cce),{width:l,height:c,layout:d}=i,f=ice(i,sce);if(!jc(l)||!jc(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:g}=t,b={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:g,eventEmitter:void 0};return v.createElement(rL,{preloadedState:{options:b},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:m},v.createElement(OR,{chartData:i.data}),v.createElement(aL,{width:l,height:c,layout:d,margin:i.margin}),v.createElement(sL,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(ace,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(iL,dw({width:l,height:c},f,{ref:n})))}),dce=["item"],fce={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},K0=v.forwardRef((e,t)=>{var n=Ur(e,fce);return v.createElement(uce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:dce,tooltipPayloadSearcher:F2,categoricalChartProps:n,ref:t})});function mce(){const[e,t]=v.useState({leads:0,files:0,assistants:0,phone_numbers:0,knowledge_base:0}),[n,r]=v.useState(!0),[i,l]=v.useState(""),c="http://localhost:8000",{width:d}=hce(),f=(d||0)>=1024,m=!f;v.useEffect(()=>{let j=!0;return(async()=>{try{r(!0),l("");const S=localStorage.getItem("token"),_=`${c}/api/statistics`,C=await fetch(_,{method:"GET",headers:{Accept:"application/json",...S?{Authorization:`Bearer ${S}`}:{}},mode:"cors"});if(!C.ok){const O=await C.text();throw new Error(`HTTP ${C.status}${O?`  ${O}`:""}`)}const k=await C.json();if(!j)return;t({leads:Number((k==null?void 0:k.leads)??0),files:Number((k==null?void 0:k.files)??0),assistants:Number((k==null?void 0:k.assistants)??0),phone_numbers:Number((k==null?void 0:k.phone_numbers)??0),knowledge_base:Number((k==null?void 0:k.knowledge_base)??0)})}catch(S){if(!j)return;const _=S&&S.message||"Failed to load stats",C=_.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(_+C)}finally{j&&r(!1)}})(),()=>{j=!1}},[c]);const h={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4"},x=j=>{const _=Math.max(0,Number(j)||0),C=Array.from({length:12},(k,O)=>{const A=O/11,E=Math.sin(A*Math.PI)*.4,$=(Math.random()-.5)*.12,M=Math.max(0,Math.round(_*(.6+E+$)));return{label:`P${O+1}`,value:M}});return C.length&&(C[C.length-1].value=_),C},g=v.useMemo(()=>[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}],[e]),b=v.useMemo(()=>{const j=Math.max(1,e.leads+e.files+e.assistants+e.phone_numbers+e.knowledge_base);return[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}].map(S=>({...S,percent:S.value/j*100}))},[e]),w=v.useMemo(()=>[{key:"leads",label:"Leads",value:e.leads,icon:tr,series:x(e.leads),color:h.blue},{key:"files",label:"Files",value:e.files,icon:A6,series:x(e.files),color:h.sky},{key:"assistants",label:"Assistants",value:e.assistants,icon:k6,series:x(e.assistants),color:h.cyan},{key:"phone_numbers",label:"Phone Numbers",value:e.phone_numbers,icon:ut,series:x(e.phone_numbers),color:h.sky},{key:"knowledge_base",label:"Knowledge Base",value:e.knowledge_base,icon:bd,series:x(e.knowledge_base),color:h.blue}],[e]);return a.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[i&&a.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:i}),a.jsx(pce,{}),a.jsxs("header",{className:"w-full px-4 md:px-8 pt-10 pb-6",children:[a.jsx(pe.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"User Dashboard"}),a.jsx(pe.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Live stats  Animated charts  Arrow labels"})]}),a.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[a.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-5",children:w.map(j=>a.jsx(gce,{...j,loading:n},j.key))}),a.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsx(hb,{title:"Leads Trend (Synthetic)",children:a.jsx("div",{className:"h-72 w-full",children:a.jsx(Ka,{children:a.jsxs(dN,{data:w[0].series,margin:{top:12,right:20,left:-10,bottom:0},children:[a.jsxs("defs",{children:[a.jsxs("filter",{id:"glowLineMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),a.jsx(Ui,{strokeDasharray:"3 3",strokeOpacity:.2}),a.jsx(Ps,{dataKey:"label",tick:{fontSize:12}}),a.jsx(Os,{tick:{fontSize:12}}),a.jsx(qa,{contentStyle:{borderRadius:12}}),a.jsx(Fp,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3.5,dot:!1,activeDot:{r:6},style:{filter:"url(#glowLineMain)"},isAnimationActive:!0,animationBegin:120,animationDuration:900,animationEasing:"ease"})]})})})}),a.jsx(hb,{title:"Overview by Metric",children:a.jsx("div",{className:"h-72 w-full",children:a.jsx(Ka,{children:a.jsxs(Gh,{data:g,margin:{top:10,right:20,left:m?0:-10,bottom:0},children:[a.jsxs("defs",{children:[a.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),a.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})]}),a.jsx(Ui,{strokeDasharray:"3 3",strokeOpacity:.2}),a.jsx(Ps,{dataKey:"name",tick:{fontSize:12},hide:m}),a.jsx(Os,{tick:{fontSize:12}}),a.jsx(qa,{contentStyle:{borderRadius:12}}),a.jsx(Pd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},isAnimationActive:!0,animationBegin:140,animationDuration:800,animationEasing:"ease-out"})]})})})}),a.jsx(hb,{title:"Share by Metric",className:"lg:col-span-2",children:a.jsx("div",{className:"h-80 w-full",children:a.jsx(Ka,{children:a.jsx(jce,{data:b,mode:f?"desktop":"compact"})})})})]}),a.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon (white/blue) dashboard."]})]})]})}function hce(){const[e,t]=v.useState({width:null,height:null});return v.useEffect(()=>{function n(){t({width:window.innerWidth,height:window.innerHeight})}return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function pce(){return a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),a.jsx(pe.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function hb({title:e,children:t,className:n=""}){return a.jsxs(pe.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${n}`,children:[a.jsx(xce,{}),a.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),t]})}function xce(){return a.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[a.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),a.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function gce({label:e,value:t,icon:n,series:r,color:i,loading:l}){const c=vc(0),d=vc(0),f=i0(d,[-50,50],[8,-8]),m=i0(c,[-50,50],[-8,8]),h=v.useRef(null);return a.jsxs(pe.div,{ref:h,onMouseMove:x=>{var b;const g=(b=h.current)==null?void 0:b.getBoundingClientRect();g&&(c.set(x.clientX-g.left-g.width/2),d.set(x.clientY-g.top-g.height/2))},onMouseLeave:()=>{c.set(0),d.set(0)},style:{rotateX:f,rotateY:m},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${i}66, #ffffff00)`}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:a.jsx(n,{className:"h-6 w-6",style:{color:i}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900",children:l?a.jsx(yce,{}):a.jsx(vce,{value:t})}),a.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:"Live"})]})]})]}),a.jsx("div",{className:"mt-3 h-20",children:l?a.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):a.jsx(Ka,{children:a.jsxs(dN,{data:r,margin:{top:2,right:8,left:-10,bottom:0},children:[a.jsx("defs",{children:a.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx(Ui,{strokeDasharray:"3 3",strokeOpacity:.12}),a.jsx(Ps,{dataKey:"label",hide:!0}),a.jsx(Os,{hide:!0,domain:[0,"dataMax+"]}),a.jsx(qa,{contentStyle:{borderRadius:12}}),a.jsx(Fp,{type:"monotone",dataKey:"value",stroke:i,strokeWidth:2.5,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"},isAnimationActive:!0,animationBegin:120,animationDuration:700})]})})})]})]})}function vce({value:e,duration:t=800}){const[n,r]=v.useState(0);return v.useEffect(()=>{let i;const l=n,c=Number(e)||0,d=performance.now(),f=h=>1-Math.pow(1-h,3);function m(h){const x=Math.min(1,(h-d)/t);r(Math.round(l+(c-l)*f(x))),x<1&&(i=requestAnimationFrame(m))}return i=requestAnimationFrame(m),()=>cancelAnimationFrame(i)},[e]),a.jsx("span",{children:(n||0).toLocaleString()})}function yce(){return a.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function bce(e){const{cx:t,cy:n,midAngle:r,outerRadius:i,name:l,value:c,percent:d,laneSlot:f,sideRight:m,laneGap:h=24,fixedTy:x}=e,g=Math.PI/180,b=-r*g,w=i+6,j=t+Math.cos(b)*w,S=n+Math.sin(b)*w,_=i+22,C=t+Math.cos(b)*_,k=n+Math.sin(b)*_,O=!!m;let A=O?C+36:C-36,E=typeof x=="number"?x:n+f*h;const $=34,M=t+i+$,F=t-i-$;O?A=Math.max(A,M+12):A=Math.min(A,F-12);const V=(typeof f=="number"?f:0)*18,U=O?C+16:C-16,te=k+V*.25,be=O?A-22:A+22,re=E+V*.75,R=typeof d=="number"?Math.round(d*100):0,q=`${l}`,H=`${c}  ${R}%`,B=Math.max(136,q.length*8+H.length*4.2),T=O?0:-B,D=O?"start":"end";return a.jsxs(pe.g,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.42},whileHover:{scale:1.02,transition:{duration:.15}},pointerEvents:"none",children:[a.jsx("path",{d:`M ${j},${S} C ${U},${te} ${be},${re} ${A},${E}`,stroke:"url(#neonStroke)",strokeWidth:"6",strokeOpacity:"0.22",fill:"none",filter:"url(#neonGlow)"}),a.jsxs("path",{d:`M ${j},${S} C ${U},${te} ${be},${re} ${A},${E}`,stroke:"url(#neonStroke)",strokeWidth:"2.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",markerEnd:"url(#arrowheadGrad)",children:[a.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;40,200;0,200",dur:"3s",repeatCount:"indefinite"}),a.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-60;0",dur:"3s",repeatCount:"indefinite"})]}),a.jsxs("g",{transform:`translate(${A}, ${E})`,children:[a.jsx("rect",{x:T-6,y:-22,rx:"14",ry:"14",width:B+12,height:40,fill:"url(#pillGlow)",opacity:"0.55",filter:"url(#pillBlur)"}),a.jsx("rect",{x:T,y:-18,rx:"12",ry:"12",width:B,height:32,fill:"url(#pillGrad)",stroke:"url(#pillStroke)",strokeWidth:"1"}),a.jsx("text",{x:T+(O?14:B-14),y:-2,textAnchor:D,fill:"url(#labelTextGrad)",style:{fontSize:12.5,fontWeight:800,letterSpacing:.2},children:q}),a.jsx("text",{x:T+(O?14:B-14),y:12,textAnchor:D,className:"fill-slate-700",style:{fontSize:11.2,fontWeight:600,opacity:.85},children:H})]})]})}function wce(e){const t=Math.PI/180,{cx:n,cy:r,midAngle:i,innerRadius:l,outerRadius:c,name:d,value:f,percent:m}=e,h=l+(c-l)*.58,x=n+Math.cos(-i*t)*h,g=r+Math.sin(-i*t)*h,b=Math.round((m||0)*100);return b<7?null:a.jsxs("g",{children:[a.jsx("text",{x,y:g-6,textAnchor:"middle",className:"fill-slate-800",style:{fontSize:11.5,fontWeight:800},children:d}),a.jsxs("text",{x,y:g+10,textAnchor:"middle",className:"fill-slate-600",style:{fontSize:10.5,fontWeight:700},children:[f,"  ",b,"%"]})]})}function jce({data:e,mode:t="desktop",width:n,height:r}){const d=Math.PI/180,f=e.reduce((V,U)=>V+(Number(U.value)||0),0),m=(n||0)*.5,h=(r||0)*.5,x=t==="desktop";if(f===0)return a.jsxs(K0,{width:n,height:r,children:[a.jsx(af,{data:[{name:"No data",value:1}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:110,innerRadius:70,fill:"#e5e7eb",stroke:"#cbd5e1",isAnimationActive:!0}),a.jsx("text",{x:m,y:h,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-500",style:{fontSize:12},children:"No data"})]});const g=-90,w=270-g;let j=g;const _=e.map((V,U)=>({index:U,value:Number(V.value)||0})).filter(V=>V.value>0).map(V=>{const U=f?V.value/f*w:0,te=j+U/2;j+=U;const be=-te*d,re=Math.cos(be)>=0,R=h+Math.sin(be)*110;return{index:V.index,ang:be,right:re,ty0:R,mid:te}}),C=_.filter(V=>!V.right).sort((V,U)=>V.ty0-U.ty0),k=_.filter(V=>V.right).sort((V,U)=>V.ty0-U.ty0),O=28,A=40,E=h-(110+A),$=h+(110+A),M=V=>{if(!V.length)return[];const U=V.length,te=$-E,be=Math.min(Math.max(O,U>1?te/(U-1):O),36),re=new Array(U);re[0]=Math.max(V[0].ty0,E);for(let q=1;q<U;q++)re[q]=Math.max(V[q].ty0,re[q-1]+be);const R=re[U-1]-$;if(R>0){for(let q=0;q<U;q++)re[q]-=R;if(re[0]<E){const q=E-re[0];for(let H=0;H<U;H++)re[H]+=q}}return re},F=M(C),G=M(k);return a.jsxs(K0,{width:n,height:r,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),a.jsx("stop",{offset:"50%",stopColor:"#60a5fa"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),a.jsxs("marker",{id:"arrowheadGrad",markerWidth:"12",markerHeight:"8",refX:"10",refY:"4",orient:"auto",children:[a.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"url(#neonStroke)"}),a.jsxs("filter",{id:"arrowGlow",children:[a.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.8",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsxs("filter",{id:"neonGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),a.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.2  0 0 0 0 0.6  0 0 0 0 1  0 0 0 1 0"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"pillGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),a.jsx("stop",{offset:"100%",stopColor:"#eff6ff"})]}),a.jsxs("linearGradient",{id:"pillStroke",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#a5f3fc"}),a.jsx("stop",{offset:"100%",stopColor:"#93c5fd"})]}),a.jsxs("radialGradient",{id:"pillGlow",cx:"50%",cy:"50%",r:"60%",children:[a.jsx("stop",{offset:"0%",stopColor:"#67e8f9",stopOpacity:"0.6"}),a.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),a.jsx("filter",{id:"pillBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:a.jsx("feGaussianBlur",{stdDeviation:"8"})}),a.jsxs("linearGradient",{id:"labelTextGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),a.jsxs("linearGradient",{id:"pieGradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),a.jsx(qa,{contentStyle:{borderRadius:12}}),a.jsx(af,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",startAngle:-90,endAngle:270,outerRadius:110,innerRadius:70,paddingAngle:2,isAnimationActive:!0,animationBegin:140,animationDuration:900,animationEasing:"ease-out",label:x?V=>{if(!(V&&V.value>0))return null;const U=Math.PI/180,te=Math.cos(-V.midAngle*U)>=0,re=(te?k:C).findIndex(B=>B.index===V.index);if(re===-1)return null;const R=te?G:F,q=R[re];if(typeof q!="number")return null;const H=re-(R.length-1)/2;return a.jsx(bce,{...V,laneSlot:H,sideRight:te,fixedTy:q,laneGap:30})}:V=>a.jsx(wce,{...V}),labelLine:!1,children:e.map((V,U)=>a.jsx(ks,{fill:U===0?"url(#pieGradBlue)":["#bfe9ff","#8ed8ff","#60cfff","#a3d8ff"][U-1]||"#bfe9ff",stroke:"#ffffff",strokeOpacity:.9},`cell-${U}`))})]})}const Nce={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:8000"};var QE={};const JE=typeof import.meta<"u"&&Nce&&"http://localhost:8000"||typeof process<"u"&&QE&&QE.NEXT_PUBLIC_API_URL||"http://localhost:8000";function Fo(...e){return e.filter(Boolean).join(" ")}function eT({iso:e}){if(!e||typeof e!="string"||e.length!==2)return null;const t=[...e.toUpperCase()].map(n=>127397+n.charCodeAt(0));return a.jsx("span",{className:"mr-1","aria-hidden":!0,children:String.fromCodePoint(...t)})}function Sce({open:e,onClose:t,onConfirm:n,numbers:r=[]}){if(!e)return null;const i=r.slice(0,5),l=Math.max(0,r.length-i.length);return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:"Confirm Purchase"}),a.jsxs("p",{className:"mb-4 text-gray-700",children:["You are about to purchase"," ",a.jsx("span",{className:"font-semibold",children:r.length})," ","number",r.length>1?"s":"","."]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 max-h-48 overflow-auto border border-gray-100 mb-5",children:[i.map(c=>a.jsx("div",{className:"font-mono text-sm text-gray-800 py-0.5",children:c},c)),l>0&&a.jsxs("div",{className:"text-xs text-gray-500",children:["and ",l," more"]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition",children:"Cancel"}),a.jsx("button",{onClick:()=>n(r),className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Yes, Buy"})]})]})})}function _ce(){const[e,t]=v.useState("US"),[n,r]=v.useState([]),[i,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(20),[g,b]=v.useState(1),[w,j]=v.useState(!1),[S,_]=v.useState([]),C=10,k=[{code:"US",name:"United States",flag:""},{code:"CA",name:"Canada",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],O=()=>{try{return localStorage.getItem("token")}catch{return null}},A=H=>H.split(/[,\s]+/).map(B=>B.trim()).filter(Boolean),[E,$]=v.useState(()=>new Set),M=H=>E.has(H),F=H=>{$(B=>{const T=new Set(B);return T.has(H)?T.delete(H):T.add(H),T})},G=()=>$(new Set),V=v.useMemo(()=>{const H=g*C,B=H-C;return n.slice(B,H)},[n,g]),U=Math.ceil(n.length/C)||1,te=async()=>{const H=A(f);l(!0);try{const B=O(),T=await fetch(`${JE}/api/available_phone_numbers`,{method:"POST",headers:{"Content-Type":"application/json",...B?{Authorization:`Bearer ${B}`}:{}},body:JSON.stringify({country:e,area_codes:H.length?H:null,limit:h})}),D=await T.json();if(!T.ok){const K=D&&D.detail&&(D.detail.error||D.detail)||(D==null?void 0:D.message)||"Failed to fetch phone numbers.";r([]),W.error(K);return}const L=Array.isArray(D)?D:[];r(L),b(1),G(),L.length===0&&W.info("No numbers found for your query.")}catch(B){console.error(B),r([]),W.error("Network error while fetching numbers.")}finally{l(!1)}},be=async H=>{if(H!=null&&H.length){d(!0);try{const B=O(),T=await fetch(`${JE}/api/purchase_phone_number`,{method:"POST",headers:{"Content-Type":"application/json",...B?{Authorization:`Bearer ${B}`}:{}},body:JSON.stringify({phone_number:H})}),D=await T.json();if(!T.ok||!(D!=null&&D.success)){const L=D&&D.detail&&(D.detail.error||D.detail)||(D==null?void 0:D.message)||"Failed to purchase numbers.";W.error(L);return}r(L=>L.filter(K=>!H.includes(K.phone_number))),G(),W.success(` Purchased ${H.length} number${H.length>1?"s":""}.`)}catch(B){console.error(B),W.error("Network error while purchasing.")}finally{d(!1),j(!1),_([])}}},re=H=>{if(!H)return"";if(e==="US"||e==="CA"){const T=H.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);if(T)return`+1 (${T[1]}) ${T[2]}-${T[3]}`}return H},R=async H=>{try{await navigator.clipboard.writeText(H),W.success("Copied!")}catch{W.error("Copy failed.")}},q=(()=>{const H=n.length===0?0:(g-1)*C+1,B=Math.min(g*C,n.length);return{start:H,end:B}})();return a.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_55%),linear-gradient(to_bottom,white,white)]",children:[a.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-blue-600 via-purple-600 to-fuchsia-500"}),a.jsx(Sce,{open:w,onClose:()=>j(!1),onConfirm:H=>be(H),numbers:S}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[a.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:a.jsx(ut,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:"Premium Phone Numbers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Search, select, and purchase numbers worldwide in seconds."})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3 lg:ml-auto w-full lg:w-auto",children:[{label:"Available",value:n.length?`${n.length}+`:""},{label:"Uptime",value:"99.9%"},{label:"Support",value:"24/7"}].map((H,B)=>a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50/60 px-4 py-3 text-center hover:shadow transition",children:[a.jsx("div",{className:"text-xl font-bold text-gray-900",children:H.value}),a.jsx("div",{className:"text-xs text-gray-500",children:H.label})]},B))})]})}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:a.jsx(Dr,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Number"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Uh,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Country"]}),a.jsx("select",{value:e,onChange:H=>t(H.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:k.map(H=>a.jsxs("option",{value:H.code,children:[H.flag," ",H.name]},H.code))})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Dr,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Area Codes (comma-separated, optional)"]}),a.jsx("input",{type:"text",value:f,onChange:H=>m(H.target.value),placeholder:"e.g., 212, 415",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Rc,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Results Limit"]}),a.jsxs("select",{value:h,onChange:H=>x(Number.parseInt(H.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:20,children:"20"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]})]}),a.jsx("div",{className:"lg:col-span-1 flex items-end",children:a.jsx("button",{onClick:te,disabled:i,className:Fo("w-full px-6 py-3 rounded-xl font-semibold text-white transition shadow-sm",i?"bg-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"),children:i?a.jsxs("span",{className:"inline-flex items-center justify-center",children:[a.jsx(zn,{className:"w-5 h-5 animate-spin mr-2"}),"Searching"]}):a.jsxs("span",{className:"inline-flex items-center justify-center",children:[a.jsx(Dr,{className:"w-5 h-5 mr-2"}),"Search"]})})})]}),a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tip: leave area codes empty to search nationwide."}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{const H=V.map(T=>T.phone_number),B=H.every(T=>E.has(T));$(T=>{const D=new Set(T);return B?H.forEach(L=>D.delete(L)):H.forEach(L=>D.add(L)),D})},className:"px-3 py-2 rounded-lg border text-sm hover:bg-gray-50 transition",children:V.every(H=>E.has(H.phone_number))?"Unselect Page":"Select Page"}),a.jsx("button",{onClick:()=>{if(E.size===0){W.info("Select numbers first.");return}const H=Array.from(E);_(H),j(!0)},disabled:E.size===0||c,className:Fo("px-4 py-2 rounded-lg font-semibold transition shadow-sm",E.size===0||c?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(Km,{className:"w-4 h-4"}),"Buy Selected (",E.size,")"]})})]})]})]}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(ut,{className:"w-4 h-4 text-white"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:i?"Searching":`Available Numbers (${n.length})`})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",q.start,"  ",q.end," of"," ",n.length]})]})}),i?a.jsx("div",{className:"p-6 sm:p-8",children:a.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((H,B)=>a.jsx("div",{className:"h-16 rounded-xl bg-gray-100 animate-pulse"},B))})}):n.length===0?a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsxs("div",{className:"text-center max-w-sm",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(ut,{className:"w-10 h-10 text-gray-400"})}),a.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No numbers available"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Try different area codes or another country."}),a.jsx("button",{onClick:te,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Select"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Phone Number"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Region"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:V.map((H,B)=>{var D,L,K;const T=M(H.phone_number);return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>F(H.phone_number),className:"text-gray-700 hover:scale-105 transition","aria-label":T?"Unselect":"Select",children:T?a.jsx(y5,{className:"w-5 h-5 text-blue-600"}):a.jsx(pc,{className:"w-5 h-5"})})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:a.jsx(ut,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-lg font-semibold text-gray-900",children:re(H.phone_number)}),a.jsx("button",{onClick:()=>R(H.phone_number),className:"p-1 rounded hover:bg-gray-100 transition",title:"Copy",children:a.jsx($d,{className:"w-4 h-4 text-gray-500"})})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[a.jsx(Rs,{className:"w-4 h-4 text-gray-500 mr-2"}),a.jsx(eT,{iso:H.iso_country}),H.region||"N/A"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[((D=H.capabilities)==null?void 0:D.SMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((L=H.capabilities)==null?void 0:L.MMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((K=H.capabilities)==null?void 0:K.voice)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>{_([H.phone_number]),j(!0)},disabled:c,className:Fo("px-5 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(zn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Km,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})})]},B)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:V.map((H,B)=>{var D,L,K;const T=M(H.phone_number);return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("button",{onClick:()=>F(H.phone_number),className:"text-gray-700 mr-3","aria-label":T?"Unselect":"Select",children:T?a.jsx(y5,{className:"w-5 h-5 text-blue-600"}):a.jsx(pc,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:a.jsx(ut,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-gray-900",children:re(H.phone_number)}),a.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-700",children:[a.jsx(Rs,{className:"w-4 h-4 text-gray-500 mr-1"}),a.jsx(eT,{iso:H.iso_country}),H.region||"N/A"]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[((D=H.capabilities)==null?void 0:D.SMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((L=H.capabilities)==null?void 0:L.MMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((K=H.capabilities)==null?void 0:K.voice)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})]})]}),a.jsx("button",{onClick:()=>R(H.phone_number),className:"p-1 rounded hover:bg-gray-100 ml-3",title:"Copy",children:a.jsx($d,{className:"w-4 h-4 text-gray-500"})})]}),a.jsx("button",{onClick:()=>{_([H.phone_number]),j(!0)},disabled:c,className:Fo("mt-4 w-full px-4 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(zn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Km,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},B)})})]}),n.length>C&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"text-sm text-gray-700 mb-3 sm:mb-0",children:["Showing ",q.start," to ",q.end," of ",n.length," results"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>b(H=>Math.max(1,H-1)),disabled:g===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,U)},(H,B)=>{let T;return U<=5||g<=3?T=B+1:g>=U-2?T=U-4+B:T=g-2+B,a.jsx("button",{onClick:()=>b(T),className:Fo("px-3 py-2 text-sm font-medium rounded-lg transition",g===T?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:T},T)})}),a.jsx("button",{onClick:()=>b(H=>Math.min(U,H+1)),disabled:g>=U,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]}),E.size>0&&a.jsx("div",{className:"fixed bottom-4 inset-x-0 px-4 sm:px-6 lg:px-8 z-40",children:a.jsxs("div",{className:"max-w-7xl mx-auto rounded-2xl bg-white/90 backdrop-blur border border-gray-200 shadow-lg p-3 sm:p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm sm:text-base",children:[a.jsx("span",{className:"font-semibold",children:E.size})," selected"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:G,className:"px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 transition text-sm",children:"Clear"}),a.jsx("button",{onClick:()=>{const H=Array.from(E);_(H),j(!0)},disabled:c,className:Fo("px-4 py-2 rounded-lg font-semibold text-white transition text-sm",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(Km,{className:"w-4 h-4"}),"Buy Selected"]})})]})]})})]})}function Cce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const kce=v.forwardRef(Cce);function Ace({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const fw=v.forwardRef(Ace);function Ece({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const oL=v.forwardRef(Ece);function Tce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const G0=v.forwardRef(Tce);function Pce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const mw=v.forwardRef(Pce);function Oce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const hw=v.forwardRef(Oce);function Mce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const cL=v.forwardRef(Mce);function Dce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Rce=v.forwardRef(Dce);function Lce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const pw=v.forwardRef(Lce);function $ce({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const xw=v.forwardRef($ce);function Ice({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const uc=v.forwardRef(Ice),tT="http://localhost:8000",zce=[`${tT}/api/auth`,`${tT}/api`];function Bce(){var D,L,K,oe,z;const e=Vt(),[t,n]=v.useState({name:"",email:""}),[r,i]=v.useState(!1),[l,c]=v.useState(null),[d,f]=v.useState(!1),[m,h]=v.useState(!1),x=v.useRef(null),[g,b]=v.useState(!1),[w,j]=v.useState({old:!1,next:!1}),[S,_]=v.useState({old_password:"",new_password:""}),[C,k]=v.useState(!1),[O,A]=v.useState(!1),[E,$]=v.useState(!1),[M,F]=v.useState(!1),G=()=>localStorage.getItem("token")||"",V=()=>G()?{Authorization:`Bearer ${G()}`}:{},U=()=>G()?!0:(W.error("Authentication required. Please login again."),e("/login"),!1),te=async(Y,ye={},{expectJson:se=!0}={})=>{const ve=[];for(const Ne of zce)try{const me=await fetch(`${Ne}${Y}`,ye);if(me.status===401||me.status===403){const Be=await me.text().catch(()=>"");throw new Error(Be||"Unauthorized")}if(me.ok)return se?await me.json():me;if(me.status===404){ve.push({base:Ne,status:404});continue}const Oe=await me.json().catch(()=>({}));throw new Error((Oe==null?void 0:Oe.detail)||`Request failed (${me.status})`)}catch(me){if(ve.push({base:Ne,err:me==null?void 0:me.message}),(me==null?void 0:me.message)==="Unauthorized")throw me}const we=ve!=null&&ve.length?`Request failed on all bases: ${ve.map(Ne=>`${Ne.base}${Ne.status||Ne.err}`).join(" | ")}`:"Network error";throw new Error(we)};v.useEffect(()=>{(async()=>{var Y,ye,se;if(U())try{const ve=await te("/user-info",{headers:{...V(),Accept:"application/json"}});n({name:((Y=ve==null?void 0:ve.data)==null?void 0:Y.name)||"",email:((ye=ve==null?void 0:ve.data)==null?void 0:ye.email)||""});const we=(se=ve==null?void 0:ve.data)==null?void 0:se.profile_photo_url;if(we)c(we+(we.includes("?")?"&":"?")+"t="+Date.now());else try{const Ne=await te("/profile-photo?redirect=false",{headers:{...V(),Accept:"application/json"}}),me=Ne==null?void 0:Ne.photo_url;me&&c(me+(me.includes("?")?"&":"?")+"t="+Date.now())}catch{}i(!0)}catch{W.error("Unable to load profile"),i(!0)}})()},[]);const be=async Y=>{var ye;if((ye=Y==null?void 0:Y.preventDefault)==null||ye.call(Y),!!U()){if(!t.name.trim())return W.error("Name is required");if(!t.email.trim())return W.error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return W.error("Please enter a valid email");F(!0);try{await te("/update-profile",{method:"POST",headers:{"Content-Type":"application/json",...V(),Accept:"application/json"},body:JSON.stringify({name:t.name,email:t.email})}),localStorage.setItem("name",t.name),W.success("Profile updated")}catch(se){W.error(se.message||"Update failed")}finally{F(!1)}}},re=async Y=>{var ye;if((ye=Y==null?void 0:Y.preventDefault)==null||ye.call(Y),!!U()){if(!S.old_password||!S.new_password)return W.error("Please fill both password fields");if(S.new_password.length<8)return W.error("New password must be at least 8 characters");k(!0);try{await te("/change-password",{method:"POST",headers:{"Content-Type":"application/json",...V(),Accept:"application/json"},body:JSON.stringify(S)}),W.success("Password changed successfully"),_({old_password:"",new_password:""})}catch(se){W.error(se.message||"Password change failed")}finally{k(!1)}}},R=async Y=>{if(!Y||!U())return;if(!["image/png","image/jpeg","image/webp"].includes(Y.type))return W.error("Please upload PNG, JPG or WebP");if(Y.size>5*1024*1024)return W.error("Max file size is 5MB");f(!0);try{const se=new FormData;se.append("file",Y);const ve=await te("/profile-photo",{method:"POST",headers:{...V()},body:se}),we=ve==null?void 0:ve.photo_url;if(we){const Ne=(we.includes("?")?"&":"?")+"t="+Date.now();c(we+Ne),W.success("Profile photo updated")}else throw new Error("Upload returned no URL")}catch(se){W.error(se.message||"Upload failed")}finally{f(!1)}},q=async()=>{if(U()){h(!0);try{await te("/profile-photo",{method:"DELETE",headers:{...V(),Accept:"application/json"}}),c(null),W.success("Profile photo removed")}catch(Y){W.error(Y.message||"Delete failed")}finally{h(!1)}}},H=Y=>{Y.preventDefault(),b(!1);const ye=Y.dataTransfer.files&&Y.dataTransfer.files[0]||void 0;R(ye)},B=Y=>{Y.preventDefault(),b(!0)},T=Y=>{Y.preventDefault(),b(!1)};return a.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx(pe.div,{className:"w-full px-0 pt-6 sm:pt-8 pb-4 sm:pb-6",initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.45},children:a.jsxs("div",{className:"flex items-center gap-3 px-3 sm:px-4 lg:px-6 xl:px-8",children:[a.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-600/90 grid place-items-center shadow-lg",children:a.jsx(uc,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Account Settings"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your profile, security and preferences"})]})]})}),a.jsx(pe.div,{className:"h-px w-full bg-gradient-to-r from-transparent via-slate-300 to-transparent",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.6}})]}),a.jsx("div",{className:"w-full px-0 py-6 sm:py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[a.jsx(pe.div,{className:"lg:col-span-1 rounded-none lg:rounded-2xl border-x-0 lg:border border-slate-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.05},children:a.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[a.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Rce,{className:"w-5 h-5 text-blue-600"}),"Profile Photo"]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"rounded-full p-[6px] bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 shadow-[0_8px_24px_rgba(59,130,246,0.25)]",children:a.jsx("div",{className:"rounded-full bg-white p-1",children:a.jsx("div",{className:"rounded-full overflow-hidden",style:{width:96,height:96},children:a.jsx(_t,{mode:"wait",children:l?a.jsx(pe.img,{src:l,alt:"Profile",className:"w-full h-full object-cover",onError:()=>c(null),initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.25}},l):a.jsx(pe.div,{className:"w-full h-full bg-gradient-to-br from-blue-600 to-cyan-500 grid place-items-center text-white text-2xl font-bold",initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.25},children:((z=(oe=(K=(L=(D=t.name)==null?void 0:D.split(" "))==null?void 0:L.map(Y=>Y[0]))==null?void 0:K.join(""))==null?void 0:oe.toUpperCase())==null?void 0:z.slice(0,2))||"U"},"initials")})})})}),a.jsx("span",{className:"absolute -right-1 -bottom-1 h-4 w-4 rounded-full bg-emerald-400 ring-2 ring-white"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-slate-900 font-semibold leading-tight",children:t.name||"User"}),a.jsx("p",{className:"text-slate-600 text-sm",children:t.email||"-"})]})]}),a.jsxs("div",{className:`mt-5 rounded-xl border-2 ${g?"border-blue-400 bg-blue-50/60":"border-dashed border-slate-300"} p-4 transition-colors`,onDrop:H,onDragOver:B,onDragLeave:T,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600/90 grid place-items-center text-white",children:a.jsx(kce,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{className:"font-semibold text-slate-900",children:["Drag & drop a photo here, or"," ",a.jsx("button",{type:"button",onClick:()=>{var Y;return(Y=x.current)==null?void 0:Y.click()},className:"text-blue-600 underline underline-offset-2 hover:opacity-80",children:"choose file"})]}),a.jsx("p",{className:"text-slate-600",children:"PNG, JPG, or WebP up to 5MB. Square images look best."})]})]}),a.jsx("input",{ref:x,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:Y=>{var ye;return R((ye=Y.target.files)==null?void 0:ye[0])}})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{var Y;return(Y=x.current)==null?void 0:Y.click()},disabled:d,className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50",children:d?"Uploading...":"Upload New"}),a.jsx("button",{type:"button",onClick:q,disabled:m||!l,className:"px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:m?"Removing...":"Remove"})]})]})]})}),a.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[a.jsx(pe.div,{className:"rounded-none lg:rounded-2xl border-x-0 lg:border border-slate-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.1},children:a.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-9 w-9 rounded-lg bg-blue-600/90 grid place-items-center",children:a.jsx(uc,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Profile Information"})]}),a.jsxs("form",{onSubmit:be,className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[a.jsx(uc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),a.jsx("input",{type:"text",value:t.name,onChange:Y=>n({...t,name:Y.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:!r||M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[a.jsx(oL,{className:"w-4 h-4 inline mr-2 text-emerald-500"}),"Email Address"]}),a.jsx("input",{type:"email",value:t.email,onChange:Y=>n({...t,email:Y.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",disabled:!r||M,required:!0})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",disabled:!r||M,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:M?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),a.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(fw,{className:"w-4 h-4"}),"Save Changes"]})})})]})]})}),a.jsx(pe.div,{className:"rounded-none lg:rounded-2xl border-x-0 lg:border border-slate-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.15},children:a.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-9 w-9 rounded-lg bg-purple-600/90 grid place-items-center",children:a.jsx(cL,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Change Password"})]}),a.jsxs("form",{onSubmit:re,className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:w.old?"text":"password",value:S.old_password,onChange:Y=>_({...S,old_password:Y.target.value}),placeholder:"Enter current password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:C,minLength:1}),a.jsx("button",{type:"button",onClick:()=>j(Y=>({...Y,old:!Y.old})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.old?a.jsx(mw,{className:"w-5 h-5"}):a.jsx(hw,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:w.next?"text":"password",value:S.new_password,onChange:Y=>_({...S,new_password:Y.target.value}),placeholder:"Enter new password (min 8 chars)",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:C,minLength:8}),a.jsx("button",{type:"button",onClick:()=>j(Y=>({...Y,next:!Y.next})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.next?a.jsx(mw,{className:"w-5 h-5"}):a.jsx(hw,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",disabled:C,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:C?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),a.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(pw,{className:"w-4 h-4"}),"Update Password"]})})})]})]})}),a.jsx(pe.div,{className:"rounded-none lg:rounded-2xl border-x-0 lg:border border-red-200 bg-white/80 backdrop-blur-sm shadow-none lg:shadow-sm p-4 sm:p-5",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,delay:.2},children:a.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-600 grid place-items-center",children:a.jsx(G0,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Danger Zone"})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[a.jsx("p",{className:"text-red-900 font-semibold mb-1",children:"Delete Account"}),a.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),a.jsxs("button",{onClick:()=>A(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:[a.jsx(xw,{className:"w-4 h-4"}),"Delete Account"]})]})]})})]})]})}),a.jsx(_t,{children:O&&a.jsx(pe.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(pe.div,{className:"w-full max-w-md rounded-2xl bg-white shadow-xl border border-slate-200 p-6",initial:{y:20,opacity:.9},animate:{y:0,opacity:1},exit:{y:12,opacity:0},transition:{type:"spring",stiffness:260,damping:22},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-600 grid place-items-center",children:a.jsx(G0,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Delete"})]}),a.jsx("p",{className:"text-slate-600",children:"Are you sure you want to delete your account? This action cannot be undone."}),a.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>A(!1),disabled:E,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-800 text-white font-medium",children:"Cancel"}),a.jsx("button",{onClick:async()=>{if(U()){$(!0);try{await te("/delete-account",{method:"DELETE",headers:{...V(),Accept:"application/json"}}),W.success("Account deleted"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(Y){W.error(Y.message||"Delete failed")}finally{$(!1),A(!1)}}},disabled:E,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:E?"Deleting...":"Delete Forever"})]})]})})})]})}const nT="http://localhost:8000";function Uce(){var M,F;const[e,t]=v.useState([]),[n,r]=v.useState(!1),[i,l]=v.useState(1),[c,d]=v.useState({open:!1,number:null}),[f,m]=v.useState(!1),h=10,x=Vt(),g=G=>Array.isArray(G)?G:G&&Array.isArray(G.purchased_numbers)?G.purchased_numbers:[],b=G=>{if(!G)return"N/A";const U=String(G).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return U?`+1 (${U[1]}) ${U[2]}-${U[3]}`:G},w=G=>{if(!G)return"N/A";const V=new Date(G);return isNaN(V.getTime())?"N/A":V.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},j=async()=>{r(!0);try{const G=localStorage.getItem("token");if(!G){console.error("No token found in localStorage"),t([]);return}const V=await fetch(`${nT}/api/purchased_numbers`,{headers:{Authorization:`Bearer ${G}`}});let U;try{U=await V.json()}catch{U=[]}if(!V.ok){console.error("Failed to fetch purchased numbers:",(U==null?void 0:U.message)||(U==null?void 0:U.detail)||"Unknown error"),t([]);return}t(g(U))}catch(G){console.error("Error fetching purchased numbers:",G),t([])}finally{r(!1)}},S=async()=>{var G;if((G=c.number)!=null&&G.phone_number){m(!0);try{const V=localStorage.getItem("token");if(!V)throw new Error("No token found in localStorage");const U=await fetch(`${nT}/api/remove-phone-number`,{method:"POST",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:c.number.phone_number})});let te;try{te=await U.json()}catch{te=null}if(!U.ok||(te==null?void 0:te.success)===!1)throw new Error((te==null?void 0:te.detail)||(te==null?void 0:te.error)||"Failed to remove phone number");t(be=>be.filter(re=>re.phone_number!==c.number.phone_number)),d({open:!1,number:null})}catch(V){alert("Failed to delete number: "+V.message)}finally{m(!1)}}};v.useEffect(()=>{j()},[]);const _=Math.ceil(e.length/h)||1,C=Math.min(i*h,e.length),k=Math.max(0,C-h),O=e.slice(k,C),A=()=>i<_&&l(G=>G+1),E=()=>i>1&&l(G=>G-1),$=G=>G>=1&&G<=_&&l(G);return v.useEffect(()=>{i>_&&l(1)},[e]),a.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:[c.open&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>!f&&d({open:!1,number:null})}),a.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(sr,{className:"w-6 h-6 text-red-500"}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Number"})]}),a.jsxs("div",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete this number?",a.jsx("div",{className:"mt-2 text-gray-900 font-semibold",children:b((M=c.number)==null?void 0:M.phone_number)}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",w((F=c.number)==null?void 0:F.date_purchased)]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors",onClick:()=>!f&&d({open:!1,number:null}),disabled:f,children:"Cancel"}),a.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",onClick:S,disabled:f,children:f?"Deleting...":"Delete"})]})]})]}),a.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(ut,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Purchased Numbers"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1 sm:mt-2",children:"View your purchased phone numbers"})]})]}),a.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ut,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Buy Numbers"}),a.jsx("span",{className:"sm:hidden",children:"Buy"})]})})]})}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 text-center",children:[a.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600",children:e.length}),a.jsx("div",{className:"text-sm sm:text-base text-gray-600 font-medium mt-2",children:"Total Purchased Numbers"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(ut,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),a.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Purchased Numbers (",e.length,")"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full"}),a.jsx("span",{className:"font-semibold",children:"Live Data"})]})]})}),n?a.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ut,{className:"w-8 h-8 sm:w-12 sm:h-12 animate-pulse text-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"Loading purchased numbers..."}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Please wait while we fetch your data"})]})}):e.length===0?a.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(ut,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),a.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No purchased numbers found"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Your purchased numbers will appear here"}),a.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:"Buy Numbers"})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Phone Number"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Friendly Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date Purchased"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Attached Assistant"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map((G,V)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:a.jsx(ut,{className:"w-5 h-5 text-blue-600"})}),a.jsx("div",{className:"text-lg font-bold text-gray-900",children:b(G.phone_number)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rs,{className:"w-4 h-4 text-gray-500 mr-2"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.friendly_name||""})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-xs font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:w(G.date_purchased)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-700",children:G.attached_assistant??""})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:G}),children:[a.jsx(sr,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},G.phone_number||V))})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:O.map((G,V)=>a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(ut,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-lg font-bold text-gray-900 mb-2",children:b(G.phone_number)}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Rs,{className:"w-4 h-4 text-gray-500 mr-1"}),a.jsx("span",{className:"text-sm text-gray-600",children:G.friendly_name||""})]}),a.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded inline-block mb-2",children:w(G.date_purchased)}),a.jsxs("div",{className:"text-sm text-gray-700 mb-3",children:["Assistant: ",G.attached_assistant??""]}),a.jsx("div",{children:a.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:G}),children:[a.jsx(sr,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]})},G.phone_number||V))})]})]}),e.length>h&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",e.length===0?0:k+1," to ",C," of ",e.length," results"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:E,disabled:i===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:"Previous"}),a.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const G=[];let V=1,U=_;_>5&&(i<=3?(V=1,U=5):i>=_-2?(V=_-4,U=_):(V=i-2,U=i+2));for(let te=V;te<=U;te++)G.push(a.jsx("button",{onClick:()=>$(te),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i===te?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,"aria-current":i===te?"page":void 0,children:te},te));return G})()}),a.jsx("button",{onClick:A,disabled:i>=_,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:"Next"})]})]})})]})]})}function es(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function Vp(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function uL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function dL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function fL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Y0(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function mL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function hL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Hp(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function qp(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function pL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function Ac(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function Fi(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Kp(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function xL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function gL(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Ec(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Tc(e){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const mh="http://localhost:8000";function Fce(){const e=Vt(),[t,n]=v.useState([]),[r,i]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(!0),[m,h]=v.useState(""),[x,g]=v.useState("all"),[b,w]=v.useState("all"),[j,S]=v.useState("created_at"),[_,C]=v.useState("desc"),[k,O]=v.useState(!1),[A,E]=v.useState(null),[$,M]=v.useState([]),[F,G]=v.useState(!1),[V,U]=v.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[te,be]=v.useState(1),re=10,R=v.useMemo(()=>localStorage.getItem("token"),[]),q=async()=>{try{c(!0);const X=await fetch(`${mh}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const ue=await X.json(),Z=Array.isArray(ue)?ue:Array.isArray(ue==null?void 0:ue.assistants)?ue.assistants:[];n(Z)}catch(X){console.error(X),W.error("Failed to fetch assistants")}finally{i(!1),c(!1)}};v.useEffect(()=>{q()},[]),v.useEffect(()=>{if(!d)return;const X=setInterval(q,15e3);return()=>clearInterval(X)},[d]);const H=v.useMemo(()=>{let X=[...t];x!=="all"&&(X=X.filter(Z=>((Z==null?void 0:Z.provider)||"").toLowerCase()===x)),b!=="all"&&(X=X.filter(Z=>((Z==null?void 0:Z.category)||"").toLowerCase()===b));const ue=m.trim().toLowerCase();return ue&&(X=X.filter(Z=>[Z==null?void 0:Z.name,Z==null?void 0:Z.model,Z==null?void 0:Z.voice,Z==null?void 0:Z.category,Z==null?void 0:Z.attached_Number].filter(Boolean).map(String).map(Te=>Te.toLowerCase()).some(Te=>Te.includes(ue)))),X.sort((Z,je)=>{if(j==="created_at"){const Ae=Z!=null&&Z.created_at?new Date(Z.created_at).getTime():0,Je=je!=null&&je.created_at?new Date(je.created_at).getTime():0;return _==="asc"?Ae-Je:Je-Ae}const Te=((Z==null?void 0:Z[j])??"").toString().toLowerCase(),Ue=((je==null?void 0:je[j])??"").toString().toLowerCase();return Te<Ue?_==="asc"?-1:1:Te>Ue?_==="asc"?1:-1:0}),X},[t,m,x,b,j,_]),B=v.useMemo(()=>{const X=new Set((t||[]).map(ue=>((ue==null?void 0:ue.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(X)]},[t]),T=v.useMemo(()=>{const X=new Set((t||[]).map(ue=>((ue==null?void 0:ue.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(X)]},[t]),D=Math.max(1,Math.ceil(H.length/re)),L=Math.min(te,D),K=H.slice((L-1)*re,L*re),oe=v.useMemo(()=>H.length?H.reduce((X,ue)=>{const Z=X!=null&&X.created_at?new Date(X.created_at):null,je=ue!=null&&ue.created_at?new Date(ue.created_at):null;return!Z&&je?ue:!je&&Z||!Z&&!je?X:je>Z?ue:X},H[0]):null,[H]),z=X=>{j===X?C(ue=>ue==="asc"?"desc":"asc"):(S(X),C("asc"))},Y=X=>{E(X),O(!0)},ye=async()=>{if(A)try{const X=await fetch(`${mh}/api/assistants/${A}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});if(!X.ok){let ue=`HTTP ${X.status}`;try{const Z=await X.json();Z!=null&&Z.detail&&(ue=Z.detail)}catch{}throw new Error(ue)}W.success("Assistant deleted"),M(ue=>ue.filter(Z=>Z!==A)),q()}catch(X){console.error(X),W.error((X==null?void 0:X.message)||"Delete failed")}finally{O(!1),E(null)}},se=X=>{const ue=X==null?void 0:X.knowledge_base;if(Array.isArray(ue)&&ue.length){const Z=ue.filter(je=>typeof je=="string"&&/^https?:\/\//i.test(je));if(Z.length){Z.forEach(je=>window.open(je,"_blank","noopener"));return}}W.info("No file URLs available for this assistant.")},ve=X=>{if(!(X!=null&&X.vapi_assistant_id)){W.error("Missing VAPI Assistant ID");return}U({vapi_assistant_id:X.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),G(!0)},we=async X=>{X.preventDefault();const{vapi_assistant_id:ue,number:Z,first_name:je,last_name:Te,email:Ue}=V;if(!Z)return W.error("Enter the customer's phone number (E.164 preferred)");try{const Ae=`${mh}/api/phone-call/${encodeURIComponent(ue)}/${encodeURIComponent(Z)}`,Je={first_name:je||"Caller",last_name:Te||"",email:Ue||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Z,custom_field_01:null,custom_field_02:null},Ge=await fetch(Ae,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R?`Bearer ${R}`:""},body:JSON.stringify(Je)}),vt=await Ge.json().catch(()=>({}));if(!Ge.ok||(vt==null?void 0:vt.success)===!1)throw new Error((vt==null?void 0:vt.detail)||`HTTP ${Ge.status}`);W.success("Call initiated"),G(!1)}catch(Ae){console.error(Ae),W.error((Ae==null?void 0:Ae.message)||"Failed to initiate call")}},Ne=X=>$.includes(X),me=X=>{M(ue=>ue.includes(X)?ue.filter(Z=>Z!==X):[...ue,X])},Oe=()=>{const X=K.map(Z=>Z.id).filter(Boolean),ue=X.every(Z=>$.includes(Z));M(Z=>ue?Z.filter(je=>!X.includes(je)):Array.from(new Set([...Z,...X])))},Be=async()=>{if(!$.length)return W.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const X of $)await fetch(`${mh}/api/assistants/${X}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});W.success("Bulk delete complete"),M([]),q()}catch(X){console.error(X),W.error("Bulk delete encountered an error")}},Xe=()=>{const X=["Name","Model","Voice","Attached Number","Category","Created"],ue=H.map(Ae=>[(Ae==null?void 0:Ae.name)??"",(Ae==null?void 0:Ae.model)??"",(Ae==null?void 0:Ae.voice)??"",(Ae==null?void 0:Ae.attached_Number)??"",(Ae==null?void 0:Ae.category)??"",Ae!=null&&Ae.created_at?new Date(Ae.created_at).toLocaleString():""]),Z=[X,...ue].map(Ae=>Ae.map(Je=>`"${String(Je).replace(/"/g,'""')}"`).join(",")).join(`
`),je=new Blob([Z],{type:"text/csv;charset=utf-8;"}),Te=URL.createObjectURL(je),Ue=document.createElement("a");Ue.href=Te,Ue.download="assistants.csv",Ue.click(),URL.revokeObjectURL(Te)};return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:a.jsx("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[a.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),a.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),a.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((X,ue)=>a.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),a.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},ue))}),a.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[a.jsx("div",{className:"border-b border-gray-100 p-6",children:a.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((X,ue)=>a.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),a.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),a.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((Z,je)=>a.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},je))})]})},ue))]})]})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"relative mx-auto w-full max-w-[1600px] px-6 py-12",children:[a.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"text-white",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:a.jsx(Tc,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),a.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),a.jsxs("span",{children:[H.length," Active"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Y0,{className:"h-4 w-4"}),a.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{onClick:()=>f(X=>!X),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),a.jsxs("button",{onClick:q,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(xL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),a.jsxs("button",{onClick:Xe,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(hL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),a.jsxs("button",{onClick:()=>e("/user/assistant/create"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[a.jsx(Kp,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(gL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),a.jsx("input",{value:m,onChange:X=>h(X.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(rT,{label:"Provider",value:x,onChange:g,options:B,icon:a.jsx(pL,{className:"h-4 w-4"})}),a.jsx(rT,{label:"Category",value:b,onChange:w,options:T,icon:a.jsx(Ac,{className:"h-4 w-4"})})]})]})]})]}),a.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(hh,{title:"Total Assistants",value:H.length,icon:a.jsx(Tc,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),a.jsx(hh,{title:"Active Calls",value:"24",icon:a.jsx(Fi,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),a.jsx(hh,{title:"Success Rate",value:"94.2%",icon:a.jsx(es,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),a.jsx(hh,{title:"Last Created",value:oe!=null&&oe.name?oe.name.length>12?`${oe.name.slice(0,12)}`:oe.name:"",icon:a.jsx(Y0,{className:"h-6 w-6 text-cyan-600"}),subtitle:oe!=null&&oe.created_at?new Date(oe.created_at).toLocaleDateString():""})]}),$.length>0&&a.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:a.jsx(es,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-blue-900",children:[$.length," assistants selected"]}),a.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:Oe,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),a.jsx("button",{onClick:Be,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),H.length===0?a.jsx(Kce,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[a.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),a.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-gray-50/60",children:a.jsxs("tr",{children:[a.jsx(Vce,{className:"w-12 text-center",checked:K.every(X=>$.includes(X.id))&&K.length>0,onChange:Oe}),a.jsx(Vo,{className:"w-[26%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?_:null,onSort:z}),a.jsx(Vo,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?_:null,onSort:z}),a.jsx(Vo,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?_:null,onSort:z}),a.jsx(Vo,{className:"w-[18%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?_:null,onSort:z}),a.jsx(Vo,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?_:null,onSort:z}),a.jsx(Vo,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?_:null,onSort:z}),a.jsx("th",{className:"w-[14%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:K.map(X=>a.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Ne(X.id)?"bg-blue-50/50":""}`,children:[a.jsx(Hce,{className:"w-12 text-center",checked:Ne(X.id),onChange:()=>me(X.id)}),a.jsx("td",{className:"w-[26%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:a.jsx(Ac,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"max-w-[40ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:X.name||""}),a.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(X.knowledge_base)?X.knowledge_base.length:0," KB items"]})]})]})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:a.jsx(dc,{variant:"secondary",children:X.model||""})})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:a.jsx(dc,{variant:"accent",children:X.voice||""})})}),a.jsx("td",{className:"w-[18%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"break-all font-mono text-sm text-gray-700",children:X.attached_Number||""}),X.attached_Number&&a.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>Gce(X.attached_Number),children:a.jsx(mL,{className:"h-4 w-4"})})]})}),a.jsx("td",{className:"w-[10%] px-6 py-4",children:a.jsx("div",{className:"text-center",children:X.category?a.jsx(dc,{variant:"primary",children:X.category}):a.jsx("span",{className:"text-gray-400",children:""})})}),a.jsx("td",{className:"w-[8%] px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:X.created_at?new Date(X.created_at).toLocaleDateString():""}),a.jsx("td",{className:"w-[14%] px-6 py-4",children:a.jsxs("div",{className:"mx-auto flex w-full min-w-[220px] items-center justify-center gap-2 whitespace-nowrap",children:[a.jsx(ph,{title:"Edit Assistant",onClick:()=>e(`/user/edit-assistant/${X.id}`),variant:"primary",children:a.jsx(Hp,{className:"h-4 w-4"})}),a.jsx(ph,{title:"View Files",onClick:()=>se(X),variant:"success",children:a.jsx(qp,{className:"h-4 w-4"})}),a.jsx(ph,{title:"Start Call",onClick:()=>ve(X),variant:"secondary",children:a.jsx(Fi,{className:"h-4 w-4"})}),a.jsx(ph,{title:"Delete",onClick:()=>Y(X.id),variant:"danger",children:a.jsx(Ec,{className:"h-4 w-4"})})]})})]},X.id??X.name))})]})]}),a.jsx("div",{className:"space-y-4 xl:hidden",children:K.map(X=>a.jsx(qce,{assistant:X,isSelected:Ne(X.id),onToggleSelect:()=>me(X.id),onEdit:()=>e(`/user/edit-assistant/${X.id}`),onViewFiles:()=>se(X),onCall:()=>ve(X),onDelete:()=>Y(X.id)},X.id??X.name))}),a.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(L-1)*re+1," to ",Math.min(L*re,H.length)," of"," ",H.length," assistants"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(aT,{disabled:L<=1,onClick:()=>be(X=>Math.max(1,X-1)),children:[a.jsx(uL,{className:"h-4 w-4"}),"Previous"]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,D)},(X,ue)=>{const Z=ue+1;return a.jsx("button",{onClick:()=>be(Z),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${Z===L?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:Z},Z)})}),a.jsxs(aT,{disabled:L>=D,onClick:()=>be(X=>Math.min(D,X+1)),children:["Next",a.jsx(dL,{className:"h-4 w-4"})]})]})]})]})]}),k&&a.jsx(sT,{onClose:()=>O(!1),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:a.jsx(Ec,{className:"h-8 w-8 text-red-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),a.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>O(!1),children:"Cancel"}),a.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:ye,children:"Delete Assistant"})]})]})}),F&&a.jsxs(sT,{onClose:()=>G(!1),children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:a.jsx(Fi,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),a.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),a.jsxs("form",{onSubmit:we,className:"space-y-4",children:[a.jsx(xh,{label:"Customer Phone Number",value:V.number,onChange:X=>U(ue=>({...ue,number:X})),placeholder:"+1 (555) 123-4567",required:!0}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsx(xh,{label:"First Name",value:V.first_name,onChange:X=>U(ue=>({...ue,first_name:X})),placeholder:"John"}),a.jsx(xh,{label:"Last Name",value:V.last_name,onChange:X=>U(ue=>({...ue,last_name:X})),placeholder:"Doe"})]}),a.jsx(xh,{label:"Email Address",value:V.email,onChange:X=>U(ue=>({...ue,email:X})),placeholder:"john@example.com",type:"email"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>G(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function hh({title:e,value:t,icon:n,trend:r,trendUp:i,subtitle:l}){return a.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),a.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&a.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&a.jsxs("div",{className:`text-sm font-medium ${i?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function rT({label:e,value:t,onChange:n,options:r}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:t,onChange:i=>n(i.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(i=>a.jsx("option",{value:i,className:"bg-gray-800 text-white",children:i==="all"?`All ${e}s`:i},i))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx(Vp,{className:"h-4 w-4 text-white/70"})})]})}function dc({children:e,variant:t="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return a.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[t]}`,children:e})}function ph({title:e,onClick:t,children:n,variant:r="default"}){const i={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return a.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${i[r]}`,children:n})}function Vo({label:e,sortKey:t,sortDir:n,onSort:r,className:i="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return a.jsx("th",{className:`px-6 py-4 ${c} ${i}`,children:a.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,a.jsxs("div",{className:"flex flex-col",children:[a.jsx(fL,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),a.jsx(Vp,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Vce({checked:e,onChange:t,className:n=""}){return a.jsx("th",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(es,{className:"h-3 w-3"})})})})}function Hce({checked:e,onChange:t,className:n=""}){return a.jsx("td",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(es,{className:"h-3 w-3"})})})})}function qce({assistant:e,isSelected:t,onToggleSelect:n,onEdit:r,onViewFiles:i,onCall:l,onDelete:c}){return a.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[a.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&a.jsx(es,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:a.jsx(Ac,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),a.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),a.jsx(dc,{variant:"secondary",children:e.model||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),a.jsx(dc,{variant:"accent",children:e.voice||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),a.jsx("div",{className:"break-all font-mono text-sm",children:e.attached_Number||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?a.jsx(dc,{variant:"primary",children:e.category}):a.jsx("span",{className:"text-gray-400",children:""})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[a.jsx(Hp,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:i,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[a.jsx(qp,{className:"h-4 w-4"}),"Files"]}),a.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[a.jsx(Fi,{className:"h-4 w-4"}),"Call"]}),a.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[a.jsx(Ec,{className:"h-4 w-4"}),"Delete"]})]})]})}function aT({disabled:e,onClick:t,children:n}){return a.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function sT({children:e,onClose:t}){return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[a.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function xh({label:e,value:t,onChange:n,placeholder:r,required:i,type:l="text"}){return a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",i&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:l,value:t,onChange:c=>n(c.target.value),placeholder:r,required:i,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Kce(){return a.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[a.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:a.jsx(Tc,{className:"h-10 w-10 text-blue-600"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),a.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),a.jsxs("a",{href:"/user/assistant/create",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[a.jsx(Kp,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function Gce(e){e&&navigator.clipboard.writeText(e).then(()=>W.success("Copied to clipboard")).catch(()=>W.info(e))}const ro=[{showName:"Asteria",name:"asteria",voice:"aura-asteria-en",gender:"female",audioSr:"/Audios/output_Asteria.wav",provider:"deepgram"},{showName:"Luna",name:"luna",voice:"aura-luna-en",gender:"female",audioSr:"/Audios/output_Luna.wav",provider:"deepgram"},{showName:"Stella",name:"stella",voice:"aura-stella-en",gender:"female",audioSr:"/Audios/output_Stella.wav",provider:"deepgram"},{showName:"Athena",name:"athena",voice:"aura-athena-en",gender:"female",audioSr:"/Audios/output_Athena.wav",provider:"deepgram"},{showName:"Hera",name:"hera",voice:"aura-hera-en",gender:"female",audioSr:"/Audios/output_Hera.wav",provider:"deepgram"},{showName:"Orion",name:"orion",voice:"aura-orion-en",gender:"male",audioSr:"/Audios/output_Orion.wav",provider:"deepgram"},{showName:"Arcas",name:"arcas",voice:"aura-arcas-en",gender:"male",audioSr:"/Audios/output_Arcas.wav",provider:"deepgram"},{showName:"Perseus",name:"perseus",voice:"aura-perseus-en",gender:"male",audioSr:"/Audios/output_Perseus.wav",provider:"deepgram"},{showName:"Angus",name:"angus",voice:"aura-angus-en",gender:"male",audioSr:"/Audios/output_Angus.wav",provider:"deepgram"},{showName:"Orpheus",name:"orpheus",voice:"aura-orpheus-en",gender:"male",audioSr:"/Audios/output_Orpheus.wav",provider:"deepgram"},{showName:"Helios",name:"helios",voice:"aura-helios-en",gender:"male",audioSr:"/Audios/output_Helios.wav",provider:"deepgram"},{showName:"Zeus",name:"zeus",voice:"aura-zeus-en",gender:"male",audioSr:"/Audios/output_Zeus.wav",provider:"deepgram"}],Xc=[{showName:"nova",name:"nova",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/nova.mp3",provider:"openai"},{showName:"onyx",name:"onyx",voice:"gpt-4o-mini-tts",gender:"male",audioSr:"/Audios/onyx.mp3",provider:"openai"},{showName:"alloy",name:"alloy",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/alloy.mp3",provider:"openai"}];[...ro,...Xc];ro.filter(e=>e.gender==="female");const pb=ro.filter(e=>e.gender==="male"),xb=ro;Xc.filter(e=>e.gender==="female");Xc.filter(e=>e.gender==="male");const tt={danger:"#EF4444",text:"#0F172A",lightText:"#64748B",border:"#E2E8F0",background:"#F8FAFC",card:"#FFFFFF"},iT=/^\+\d{7,15}$/,lT=[{id:1,label:"Core & Transcription",Icon:_w},{id:2,label:"Voice",Icon:Ew},{id:3,label:"Review & Save",Icon:Lc}],Yce=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Wce=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Xce(){const{assistantId:e}=lf(),t=Vt(),n="http://localhost:8000",[r,i]=v.useState(1),[l,c]=v.useState(!0),[d,f]=v.useState(!1),[m,h]=v.useState(!1),x=v.useRef(null),[g,b]=v.useState(!1),[w,j]=v.useState([]),[S,_]=v.useState(!1),[C,k]=v.useState(""),[O,A]=v.useState("all"),[E,$]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],voice_provider:"deepgram",voice_model:"",voice:"",speed:.8,stability:.5,similarityBoost:.75,draft:!1,assistant_toggle:!0}),[M,F]=v.useState({}),G=v.useMemo(()=>{const T=E.voice_provider==="openai"?Xc:ro;return(O==="all"?T:T.filter(L=>L.gender===O)).slice().sort((L,K)=>((L==null?void 0:L.showName)||"").localeCompare((K==null?void 0:K.showName)||""))},[E.voice_provider,O]);v.useEffect(()=>{if(!E.voice)return;const T=G.find(D=>(D==null?void 0:D.name)===E.voice);T!=null&&T.voice&&($(D=>({...D,voice_model:T.voice})),F(D=>({...D,voice_model:""})))},[E.voice,G]),v.useEffect(()=>{if(!E.voice)return b(!1);G.some(D=>D.name===E.voice)||b(!1)},[G,E.voice]);const V=async()=>{_(!0),k("");try{const T=localStorage.getItem("token"),D=await fetch(`${n}/api/purchased_numbers`,{headers:{Accept:"application/json",...T?{Authorization:`Bearer ${T}`}:{}}});if(!D.ok)throw new Error(`HTTP ${D.status}`);const L=await D.json(),oe=(Array.isArray(L)?L:(L==null?void 0:L.purchased_numbers)||[]).filter(Boolean).map(z=>({phone_number:(z==null?void 0:z.phone_number)||"",friendly_name:(z==null?void 0:z.friendly_name)||"",attached_assistant:(z==null?void 0:z.attached_assistant)??null})).filter(z=>z.phone_number);j(oe)}catch(T){console.error(T),k("Failed to load your purchased numbers"),j([])}finally{_(!1)}};v.useEffect(()=>{(async()=>{try{const D=localStorage.getItem("token");if(!D){W.error("No authentication token found. Please log in."),t("/login");return}const L=await fetch(`${n}/api/get-assistants`,{headers:{Authorization:`Bearer ${D}`,Accept:"application/json"}});if(!L.ok)throw new Error(`HTTP ${L.status}`);const K=await L.json(),oe=Number(e),z=K.find(ve=>Number(ve.id)===oe);if(!z)throw new Error("Assistant not found");const Y=z.voice_provider==="openai"||z.voice_provider==="deepgram"?z.voice_provider:"deepgram",ye={name:z.name||"",provider:z.provider||"openai",model:z.model||"gpt-4o-mini",temperature:z.temperature??.7,maxTokens:z.max_tokens??z.maxTokens??250,systemPrompt:z.system_prompt||z.systemPrompt||"",first_message:z.first_message||"",transcribe_provider:z.transcribe_provider||"google",transcribe_language:z.transcribe_language||"English",transcribe_model:z.transcribe_model||"gemini-2.0-flash",forwardingPhoneNumber:z.forwardingPhoneNumber||"",attached_Number:z.attached_Number||"",category:z.category||"",knowledgeBase:z.knowledge_base||z.knowledgeBase||[],leadsfile:z.leadsfile||[],languages:z.languages||[],endCallPhrases:z.endCallPhrases||[],voice_provider:Y,voice_model:z.voice_model||"",voice:z.voice||"",speed:z.speed??.8,stability:z.stability??.5,similarityBoost:z.similarityBoost??.75,draft:!!z.draft,assistant_toggle:!!(z.assistant_toggle??!0)};$(ve=>({...ve,...ye}));const se=ye.voice&&ye.voice_model&&(ye.voice_provider==="deepgram"||ye.voice_provider==="openai");b(!!se),V(),c(!1)}catch(D){console.error("Error loading assistant:",D),W.error((D==null?void 0:D.message)||"Failed to load assistant"),t("/")}})()},[e]);const U=T=>{const{id:D,value:L,type:K,checked:oe}=T.target,z=K==="checkbox"?oe:L;$(Y=>({...Y,[D]:z})),F(Y=>({...Y,[D]:""}))},te=T=>{try{x.current&&(x.current.pause(),x.current=null);const D=new Audio(T);x.current=D,h(!0),D.play().catch(()=>{W.error("Failed to play voice preview"),h(!1),x.current=null}),D.onended=()=>{h(!1),x.current=null}}catch{W.error("Failed to play voice preview"),h(!1)}},be=()=>{x.current&&(x.current.pause(),x.current=null,h(!1))},re=T=>{if(T!==r){if(T===3&&(!E.voice||!g)){F(D=>({...D,voice:"Select a voice and press Next to continue"})),W.error("Please select a voice and press Next to continue.");return}be(),i(T)}},R=()=>{if(r===1)return i(2);if(r===2){if(!E.voice){F(T=>({...T,voice:"Please select a voice"})),W.error("Select a voice to continue.");return}if(!g){F(T=>({...T,voice:"Click a voice card to confirm your choice"})),W.info("Click a voice card to confirm your choice.");return}return i(3)}},q=T=>{be();const D=T.target.value;$(L=>({...L,voice_provider:D,voice:"",voice_model:""})),b(!1),F(L=>({...L,voice:"",voice_model:""}))},H=()=>{const T=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],D={};let L=!0;return T.forEach(K=>{const oe=E[K];(oe==null||oe===""||Number.isNaN(oe))&&(D[K]="Required",L=!1)}),(E.temperature<0||E.temperature>2)&&(D.temperature="Temperature must be between 0 and 2",L=!1),Number(E.maxTokens)<1&&(D.maxTokens="maxTokens must be a positive integer",L=!1),E.forwardingPhoneNumber&&!iT.test(E.forwardingPhoneNumber)&&(D.forwardingPhoneNumber="Must be E.164 (+123...)",L=!1),E.attached_Number&&!iT.test(E.attached_Number)&&(D.attached_Number="Invalid number format",L=!1),F(D),L||((z=>z.some(Y=>D[Y]))(["name","systemPrompt","first_message","forwardingPhoneNumber","attached_Number","category"])?i(1):i(2)),L},B=async T=>{if(T.preventDefault(),!d){if(r!==3){W.error("Please complete the steps first.");return}if(!H()){W.error("Fix the highlighted fields.");return}f(!0),be();try{const D=localStorage.getItem("token");if(!D)throw new Error("No authentication token found. Please log in.");const L={name:E.name,provider:E.provider,first_message:E.first_message||null,model:E.model,systemPrompt:E.systemPrompt||null,knowledgeBase:E.knowledgeBase,leadsfile:E.leadsfile,temperature:Number(E.temperature),maxTokens:Number(E.maxTokens),transcribe_provider:E.transcribe_provider,transcribe_language:E.transcribe_language,transcribe_model:E.transcribe_model,languages:E.languages,forwardingPhoneNumber:E.forwardingPhoneNumber||null,endCallPhrases:E.endCallPhrases,voice_provider:E.voice_provider,voice:E.voice,voice_model:E.voice_model,attached_Number:E.attached_Number||null,draft:!!E.draft,assistant_toggle:!!E.assistant_toggle,category:E.category||null,speed:Number(E.speed),stability:Number(E.stability),similarityBoost:Number(E.similarityBoost)},K=await fetch(`${n}/api/update_assistant/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify(L)});if(!K.ok){let oe=`HTTP ${K.status}`;try{const z=await K.json();z!=null&&z.detail&&(oe=z.detail)}catch{const z=await K.text();z&&(oe=`${oe}  ${z}`)}throw new Error(oe)}W.success("Assistant updated successfully!"),t("/user/callassistent")}catch(D){console.error("Update error",D),W.error((D==null?void 0:D.message)||"Failed to update assistant")}finally{f(!1)}}};return l?a.jsx("div",{className:"min-h-screen grid place-items-center",style:{background:tt.background},children:a.jsxs("div",{className:"flex items-center gap-3 text-lg",style:{color:tt.text},children:[a.jsx(zn,{className:"h-6 w-6 animate-spin"}),"Loading assistant"]})}):a.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:tt.background},children:[a.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:a.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(99,102,241,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(16,185,129,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(59,130,246,0.12) 0%, transparent 60%)"}})}),a.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),a.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[a.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:tt.border,backgroundColor:tt.card},children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-indigo-300/30 blur-2xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-emerald-300/30 blur-2xl"}),a.jsxs("div",{className:"relative p-6 text-center",children:[a.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold",style:{color:tt.text},children:[a.jsx(Lc,{className:"h-7 w-7 text-indigo-600"})," Edit Assistant"]}),a.jsx("p",{className:"mt-2 text-sm",style:{color:tt.lightText},children:"Minimal UI  Voice required  Create-aligned defaults"})]})]})}),a.jsx(Zce,{currentStep:r,onChange:re}),a.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:tt.card,borderColor:tt.border},children:a.jsxs("form",{onSubmit:B,noValidate:!0,children:[a.jsxs(_t,{mode:"wait",children:[r===1&&a.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx(gh,{id:"name",label:"Assistant Name",value:E.name,onChange:U,error:M.name,placeholder:"SupportBot"}),a.jsx(gh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:E.forwardingPhoneNumber,onChange:U,error:M.forwardingPhoneNumber,placeholder:"+12345678901"}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Od,{children:"Attach Purchased Number (optional)"}),a.jsxs("button",{type:"button",onClick:V,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1 text-sm font-medium hover:bg-slate-50",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},disabled:S,title:"Refresh list",children:[a.jsx(Ze,{className:S?"h-4 w-4 animate-spin":"h-4 w-4"}),S?"Loading":"Refresh"]})]}),a.jsxs("select",{id:"attached_Number",value:E.attached_Number,onChange:U,disabled:S,className:"w-full rounded-xl border p-3 outline-none transition disabled:opacity-60 focus:border-indigo-500",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},children:[a.jsx("option",{value:"",children:w.length?"Do not change":"No purchased numbers found"}),w.map(T=>a.jsx("option",{value:T.phone_number,children:T.friendly_name?`${T.friendly_name}  ${T.phone_number}`:T.phone_number},T.phone_number))]}),C&&a.jsx(Tl,{children:C}),M.attached_Number&&a.jsx(Tl,{children:M.attached_Number})]}),a.jsx(gh,{id:"category",label:"Category (optional)",value:E.category,onChange:U}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Od,{children:"System Prompt"}),a.jsx(uT,{id:"systemPrompt",value:E.systemPrompt,onChange:U,placeholder:"Write your system prompt",rows:4}),M.systemPrompt&&a.jsx(Tl,{children:M.systemPrompt})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Od,{children:"First Message"}),a.jsx(uT,{id:"first_message",value:E.first_message,onChange:U,placeholder:"Hello! ",rows:3}),M.first_message&&a.jsx(Tl,{children:M.first_message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(dT,{id:"draft",label:"Save as Draft",checked:E.draft,onChange:U}),a.jsx(dT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:E.assistant_toggle,onChange:U})]})]},"step1"),r===2&&a.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsx(cT,{id:"voice_provider",label:"Voice Provider",value:E.voice_provider,onChange:q,options:Yce,error:M.voice_provider}),a.jsx(cT,{id:"genderFilter",label:"Gender",value:O,onChange:T=>{be(),A(T.target.value)},options:Wce}),a.jsx(gh,{id:"voice_model",label:"Voice Model",value:E.voice_model,onChange:()=>{},error:M.voice_model,placeholder:E.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!g&&a.jsxs("p",{className:"text-sm",style:{color:tt.lightText},children:["Tip: ",a.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press ",a.jsx("span",{className:"font-medium",children:"Next"}),"."]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm",style:{color:tt.lightText},children:["Showing ",a.jsx("span",{className:"font-medium",children:G.length})," voices"]})}),a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:G.map(T=>a.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:E.voice===T.name?"#93c5fd":tt.border,backgroundColor:E.voice===T.name?"#eff6ff":tt.card},onClick:()=>{$(D=>({...D,voice:T.name,voice_model:T.voice,voice_provider:T.provider||E.voice_provider})),b(!0),F(D=>({...D,voice:"",voice_model:""}))},children:[a.jsx("div",{className:"absolute left-3 top-3",children:a.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${E.voice===T.name?"border-indigo-500 bg-indigo-500":"border-slate-400 bg-transparent"}`})}),a.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold",style:{color:tt.text},children:T.showName||T.name}),a.jsxs("div",{className:"text-sm capitalize",style:{color:tt.lightText},children:[T.gender||"unknown","  ",T.provider]}),a.jsx("div",{className:"mt-1 text-xs",style:{color:tt.lightText},children:T.voice})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Qce,{isActive:m&&E.voice===T.name,onPlay:()=>te(T.audioSr||""),onStop:be})})]})]},`${T.provider}-${T.name}`))}),M.voice&&a.jsx(Tl,{children:M.voice})]},"step2"),r===3&&a.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:a.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:tt.border},children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold",style:{color:tt.text},children:"Review"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(vl,{label:"Name",value:E.name||""}),a.jsx(vl,{label:"Model",value:`${E.provider}  ${E.model}`}),a.jsx(vl,{label:"Voice Provider",value:E.voice_provider}),a.jsx(vl,{label:"Voice",value:E.voice||""}),a.jsx(vl,{label:"Voice Model",value:E.voice_model||""}),a.jsx(vl,{label:"Forwarding Number",value:E.forwardingPhoneNumber||""}),a.jsx(vl,{label:"Attach Number",value:E.attached_Number||""})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx(gb,{onClick:()=>i(2),children:"Edit Voice"}),a.jsx(gb,{onClick:()=>i(1),children:"Edit Core"})]})]})},"step3")]}),a.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[r>1?a.jsx(gb,{onClick:()=>re(r-1),children:"Back"}):a.jsx("span",{}),r<3?a.jsxs(oT,{onClick:R,children:["Next ",a.jsx(Bn,{className:"ml-1 h-4 w-4"})]}):a.jsx(oT,{type:"submit",disabled:d,children:d?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-4 w-4 animate-spin"})," Updating"]}):"Update Assistant"})]})]})})]})]})}function Zce({currentStep:e,onChange:t}){const n=lT;return a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:n.map(({id:r,label:i,Icon:l})=>{const c=e===r;return a.jsxs(pe.button,{onClick:()=>t(r),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${c?"border-indigo-500/40 bg-indigo-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[a.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${c?"bg-indigo-100":"bg-slate-100"}`,children:a.jsx(l,{className:`h-5 w-5 ${c?"text-indigo-600":"text-slate-600"}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:`text-sm font-semibold ${c?"text-slate-900":"text-slate-700"}`,children:i}),a.jsx("div",{className:`text-xs ${c?"text-indigo-600":"text-slate-500"}`,children:c?"Active":"Click to open"})]})]},r)})}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-4xl rounded-full bg-slate-200",children:a.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-indigo-600 to-emerald-500",style:{width:`${e/lT.length*100}%`}})})]})}function oT({children:e,onClick:t,type:n="button",disabled:r}){return a.jsx("button",{type:n,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-indigo-200 transition ${r?"bg-indigo-400/60":"bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600"}`,children:e})}function gb({children:e,onClick:t}){return a.jsx("button",{type:"button",onClick:t,className:"rounded-xl border px-4 py-2 font-semibold hover:bg-slate-50",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},children:e})}function Od({children:e}){return a.jsx("label",{className:"mb-2 block text-sm font-semibold",style:{color:tt.text},children:e})}function Tl({children:e}){return a.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm",style:{color:tt.danger},children:e})}function gh({id:e,label:t,value:n,onChange:r,error:i,placeholder:l,readOnly:c=!1}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Od,{children:t}),a.jsx("input",{id:e,type:"text",value:n,onChange:r,placeholder:l,readOnly:c,className:`w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500 ${c?"bg-slate-50":""}`,style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card}}),i&&a.jsx(Tl,{children:i})]})}function cT({id:e,label:t,value:n,onChange:r,options:i,error:l}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Od,{children:t}),a.jsx("select",{id:e,value:n,onChange:r,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card},children:i.map(c=>a.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&a.jsx(Tl,{children:l})]})}function uT({id:e,value:t,onChange:n,placeholder:r,rows:i=4}){return a.jsx("textarea",{id:e,value:t,onChange:n,placeholder:r,rows:i,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:tt.border,color:tt.text,backgroundColor:tt.card}})}function dT({id:e,label:t,checked:n,onChange:r}){return a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",style:{color:tt.text},children:[a.jsx("input",{id:e,type:"checkbox",checked:n,onChange:r,className:"accent-indigo-600"}),a.jsx("span",{children:t})]})}function vl({label:e,value:t}){return a.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:tt.border},children:[a.jsx("div",{className:"text-slate-500",children:e}),a.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function Qce({isActive:e,onPlay:t,onStop:n}){return a.jsx("div",{className:"flex items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,i)=>a.jsx("div",{className:"w-1.5 rounded-sm bg-indigo-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},i))}),a.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-rose-200 transition hover:brightness-110 bg-gradient-to-br from-rose-500 to-red-500",title:"Stop",children:a.jsx(pc,{className:"h-5 w-5"})})]}):a.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-indigo-200 transition hover:brightness-110 bg-gradient-to-br from-indigo-600 to-blue-500",title:"Play preview",children:a.jsx(df,{className:"h-5 w-5"})})})}const Va={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},Jce=`
You are a professional and friendly assistant. Always speak in a natural, conversational way that feels human, polite, and approachable. Your goal is to sound like a helpful representative who is confident and enthusiastic . Keep your replies brief and natural, as if you were speaking in real conversation, without sounding robotic or scripted.

Stay focused only on the system prompt you are give and be the agent just for that prompt . If someone asks about something unrelated, politely guide them back by saying something like, I can only answer questions related to our company, could you please ask me something in that area? Always remain polite and respectful when doing so. If the customer wants to end the call, acknowledge them warmly and end it immediately.

You must only communicate in English. If someone speaks in another language, respond politely by saying, I can only communicate in English, lets continue in English please. Throughout every interaction, keep your answers short, clear, and professional, Donot make pause or delay after the first message . Reply as fast as you can while still sounding human, friendly, and approachable.
`.trim(),fT=/^\+\d{7,15}$/,mT=[{id:1,key:"core",label:"Core & Transcription",Icon:_w},{id:2,key:"voice",label:"Voice",Icon:Ew},{id:3,key:"review",label:"Review & Create",Icon:Lc}],eue=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],tue=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function nue(){const e=Vt(),[t,n]=v.useState(1),[r,i]=v.useState(!1),[l,c]=v.useState(!1),d=v.useRef(null),[f,m]=v.useState(!1),[h,x]=v.useState("all"),[g,b]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.6,maxTokens:200,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=v.useState({}),[S,_]=v.useState([]),[C,k]=v.useState(!1),[O,A]=v.useState(""),E=v.useMemo(()=>{const R=g.voice_provider==="openai"?Xc:ro;return(h==="all"?R:R.filter(H=>H.gender===h)).slice().sort((H,B)=>((H==null?void 0:H.showName)||"").localeCompare((B==null?void 0:B.showName)||""))},[g.voice_provider,h]);v.useEffect(()=>{if(!g.voice)return;const R=E.find(q=>(q==null?void 0:q.name)===g.voice);R!=null&&R.voice&&(b(q=>({...q,voice_model:R.voice})),j(q=>({...q,voice_model:""})))},[g.voice,E]);const $="http://localhost:8000",M=R=>{const{id:q,value:H,type:B,checked:T}=R.target,D=B==="checkbox"?T:H;b(L=>({...L,[q]:D})),j(L=>({...L,[q]:""}))},F=R=>{try{d.current&&(d.current.pause(),d.current=null);const q=new Audio(R||"");d.current=q,c(!0),q.play().catch(()=>{W.error("Failed to play voice preview"),c(!1),d.current=null}),q.onended=()=>{c(!1),d.current=null}}catch{W.error("Failed to play voice preview"),c(!1)}},G=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},V=R=>{if(R!==t){if(R===3&&(!g.voice||!f)){j(q=>({...q,voice:"Select a voice and press Next to continue"})),W.error("Please select a voice and press Next to continue.");return}G(),n(R)}},U=()=>{if(t===1)return n(2);if(t===2){if(!g.voice){j(R=>({...R,voice:"Please select a voice"})),W.error("Select a voice to continue.");return}if(!f){j(R=>({...R,voice:"Click a voice card to confirm your choice"})),W.info("Click a voice card to confirm your choice.");return}n(3)}},te=async()=>{k(!0),A("");try{const R=localStorage.getItem("token"),q=await fetch(`${$}/api/purchased_numbers`,{headers:{Accept:"application/json",...R?{Authorization:`Bearer ${R}`}:{}}});if(!q.ok)throw new Error(`HTTP ${q.status}`);const H=await q.json(),T=(Array.isArray(H)?H:(H==null?void 0:H.purchased_numbers)||[]).filter(Boolean).map(D=>({phone_number:(D==null?void 0:D.phone_number)||"",friendly_name:(D==null?void 0:D.friendly_name)||"",attached_assistant:(D==null?void 0:D.attached_assistant)??null})).filter(D=>D.phone_number);_(T)}catch(R){console.error(R),A("Failed to load your purchased numbers"),_([])}finally{k(!1)}};v.useEffect(()=>{te()},[]);const be=()=>{const R=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],q={};let H=!0;if(R.forEach(B=>{const T=g[B];(T==null||T===""||Number.isNaN(T))&&(q[B]="Required",H=!1)}),(g.temperature<0||g.temperature>2)&&(q.temperature="Temperature must be between 0 and 2",H=!1),g.maxTokens<1&&(q.maxTokens="maxTokens must be a positive integer",H=!1),g.forwardingPhoneNumber&&!fT.test(g.forwardingPhoneNumber)&&(q.forwardingPhoneNumber="Must be E.164 (+123...)",H=!1),g.attached_Number&&!fT.test(g.attached_Number)&&(q.attached_Number="Invalid number format",H=!1),j(q),!H){const B=L=>L.some(K=>q[K]),T=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],D=["voice_provider","voice_model","voice"];B(T)?n(1):B(D)&&n(2)}return H},re=async R=>{if(R.preventDefault(),!r){if(t!==3){W.error("Please complete the steps first.");return}if(be()){i(!0),G();try{const q=localStorage.getItem("token"),H=`${$}/api/assistants`,B=[Jce,(g.systemPrompt||"").trim()].filter(Boolean).join(`

`),T={name:g.name,provider:g.provider,first_message:g.first_message||null,model:g.model,systemPrompt:B,knowledgeBase:g.knowledgeBase,leadsfile:g.leadsfile,temperature:Number(g.temperature),maxTokens:Number(g.maxTokens),transcribe_provider:g.transcribe_provider,transcribe_language:g.transcribe_language,transcribe_model:g.transcribe_model,languages:g.languages,forwardingPhoneNumber:g.forwardingPhoneNumber||null,endCallPhrases:g.endCallPhrases,voice_provider:g.voice_provider,voice:g.voice,voice_model:g.voice_model,attached_Number:g.attached_Number||null,draft:!!g.draft,assistant_toggle:!!g.assistant_toggle,category:g.category||null,speed:Number(g.speed),stability:Number(g.stability),similarityBoost:Number(g.similarityBoost)},D=await fetch(H,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...q?{Authorization:`Bearer ${q}`}:{}},body:JSON.stringify(T)});if(!D.ok){let L=`HTTP ${D.status}`;try{const K=await D.json();K!=null&&K.detail&&(L=K.detail)}catch{const K=await D.text();K&&(L=`${L}  ${K}`)}throw new Error(L)}W.success("Assistant created successfully!"),e("/user/callassistent")}catch(q){W.error((q==null?void 0:q.message)||"Failed to create assistant")}finally{i(!1)}}}};return v.useEffect(()=>{m(!1),b(R=>({...R,voice:"",voice_model:""}))},[g.voice_provider]),a.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Va.background},children:[a.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:a.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),a.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),a.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[a.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Va.border,backgroundColor:Va.card},children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),a.jsxs("div",{className:"relative p-6 text-center",children:[a.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[a.jsx(Lc,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),a.jsx(rue,{currentStep:t,onChange:V}),a.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Va.card,borderColor:Va.border},children:a.jsxs("form",{onSubmit:re,noValidate:!0,children:[a.jsxs(_t,{mode:"wait",children:[t===1&&a.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx(vh,{id:"name",label:"Assistant Name",value:g.name,onChange:M,error:w.name,placeholder:"SupportBot"}),a.jsx(vh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:g.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Md,{children:"Attach Purchased Number (optional)"}),a.jsx("button",{type:"button",onClick:te,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:C,title:"Refresh",children:C?"Loading...":"Refresh"})]}),a.jsxs("select",{id:"attached_Number",value:g.attached_Number,onChange:M,disabled:C||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[a.jsx("option",{value:"",className:"bg-white",children:C?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(R=>a.jsx("option",{value:R.phone_number,className:"bg-white",children:R.friendly_name?`${R.friendly_name}  ${R.phone_number}`:R.phone_number},R.phone_number))]}),O&&a.jsx(Pl,{children:O}),w.attached_Number&&a.jsx(Pl,{children:w.attached_Number})]}),a.jsx(vh,{id:"category",label:"Category (optional)",value:g.category,onChange:M}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Md,{children:"System Prompt"}),a.jsx(xT,{id:"systemPrompt",value:g.systemPrompt,onChange:M,placeholder:"Add any custom instructions for your Carsaz agent",rows:4}),w.systemPrompt&&a.jsx(Pl,{children:w.systemPrompt})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Md,{children:"First Message"}),a.jsx(xT,{id:"first_message",value:g.first_message,onChange:M,placeholder:"Hello! Thanks for calling Carsazhow can I help you today?",rows:3}),w.first_message&&a.jsx(Pl,{children:w.first_message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(gT,{id:"draft",label:"Save as Draft",checked:g.draft,onChange:M}),a.jsx(gT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:g.assistant_toggle,onChange:M})]})]},"step1"),t===2&&a.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsx(pT,{id:"voice_provider",label:"Voice Provider",value:g.voice_provider,onChange:R=>{G();const q=R.target.value;b(H=>({...H,voice_provider:q,voice:"",voice_model:""})),m(!1),j(H=>({...H,voice:"",voice_model:""}))},options:eue,error:w.voice_provider}),a.jsx(pT,{id:"genderFilter",label:"Gender",value:h,onChange:R=>{G(),x(R.target.value),m(!1)},options:tue}),a.jsx(vh,{id:"voice_model",label:"Voice Model",value:g.voice_model,onChange:()=>{},error:w.voice_model,placeholder:g.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&a.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",a.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",a.jsx("span",{className:"font-medium",children:"Next"}),"."]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&a.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:Va.border},children:"No voices match this filter."}),E.map(R=>a.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:g.voice===R.name?"#93c5fd":Va.border,backgroundColor:g.voice===R.name?"#eff6ff":Va.card},onClick:()=>{b(q=>({...q,voice:R.name,voice_model:R.voice,voice_provider:R.provider||g.voice_provider})),m(!0),j(q=>({...q,voice:"",voice_model:""}))},children:[a.jsx("div",{className:"absolute left-3 top-3",children:a.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${g.voice===R.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),a.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-slate-900",children:R.showName||R.name}),a.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[R.gender||"unknown","  ",R.provider]}),a.jsx("div",{className:"mt-1 text-xs text-slate-500",children:R.voice})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(aue,{isActive:l&&g.voice===R.name,onPlay:()=>F(R.audioSr||""),onStop:G})})]})]},`${R.provider}-${R.name}`))]}),w.voice&&a.jsx(Pl,{children:w.voice})]},"step2"),t===3&&a.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:a.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Va.border},children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(yl,{label:"Name",value:g.name||""}),a.jsx(yl,{label:"Model",value:`${g.provider}  ${g.model}`}),a.jsx(yl,{label:"Voice Provider",value:g.voice_provider}),a.jsx(yl,{label:"Voice",value:g.voice||""}),a.jsx(yl,{label:"Voice Model",value:g.voice_model||""}),a.jsx(yl,{label:"Forwarding Number",value:g.forwardingPhoneNumber||""}),a.jsx(yl,{label:"Attach Number",value:g.attached_Number||""})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx(vb,{onClick:()=>n(2),children:"Edit Voice"}),a.jsx(vb,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),a.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?a.jsx(vb,{onClick:()=>V(t-1),children:"Back"}):a.jsx("span",{}),t<3?a.jsxs(hT,{onClick:U,children:["Next ",a.jsx(Bn,{className:"ml-1 h-4 w-4"})]}):a.jsx(hT,{type:"submit",disabled:r,children:r?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function rue({currentStep:e,onChange:t}){return a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:mT.map(({id:n,label:r,Icon:i})=>{const l=e===n;return a.jsxs(pe.button,{onClick:()=>t(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[a.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:a.jsx(i,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),a.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:a.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/mT.length*100}%`}})})]})}function hT({children:e,onClick:t,type:n="button",disabled:r}){return a.jsx("button",{type:n,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function vb({children:e,onClick:t}){return a.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Md({children:e}){return a.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Pl({children:e}){return a.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function vh({id:e,label:t,value:n,onChange:r,error:i,placeholder:l,readOnly:c=!1,disabled:d=!1}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Md,{children:t}),a.jsx("input",{id:e,type:"text",value:n,onChange:r,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),i&&a.jsx(Pl,{children:i})]})}function pT({id:e,label:t,value:n,onChange:r,options:i,error:l}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Md,{children:t}),a.jsx("select",{id:e,value:n,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:i.map(c=>a.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&a.jsx(Pl,{children:l})]})}function xT({id:e,value:t,onChange:n,placeholder:r,rows:i=4}){return a.jsx("textarea",{id:e,value:t,onChange:n,placeholder:r,rows:i,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function gT({id:e,label:t,checked:n,onChange:r}){return a.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[a.jsx("input",{id:e,type:"checkbox",checked:n,onChange:r,className:"accent-blue-600"}),a.jsx("span",{children:t})]})}function yl({label:e,value:t}){return a.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Va.border},children:[a.jsx("div",{className:"text-slate-500",children:e}),a.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function aue({isActive:e,onPlay:t,onStop:n}){return a.jsx("div",{className:"flex items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,i)=>a.jsx("div",{className:"w-1.5 rounded-sm",style:{backgroundColor:"#3B82F6",animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},i))}),a.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:a.jsx(pc,{className:"h-5 w-5"})})]}):a.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:a.jsx(df,{className:"h-5 w-5"})})})}const yb="http://localhost:8000";function fN(...e){return e.filter(Boolean).join(" ")}function sue(){const e=Vt(),[t,n]=v.useState([]),[r,i]=v.useState(!0),[l,c]=v.useState(""),[d,f]=v.useState("created_at"),[m,h]=v.useState("desc"),[x,g]=v.useState(!1),[b,w]=v.useState("New List"),[j,S]=v.useState(null),[_,C]=v.useState(!1),[k,O]=v.useState(!1),[A,E]=v.useState({open:!1,id:null,name:""}),$=v.useRef(null);v.useEffect(()=>{M()},[]);async function M(){i(!0);try{const D=await fetch(`${yb}/api/files`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!D.ok)throw new Error(`HTTP ${D.status}`);const L=await D.json();n(Array.isArray(L)?L:[])}catch(D){console.error(D),W.error("Failed to load lists")}finally{i(!1)}}const F=v.useMemo(()=>{const D=l.trim().toLowerCase();return[...D?t.filter(oe=>[oe.name,oe.alphanumeric_id,oe.created_at].filter(Boolean).some(z=>String(z).toLowerCase().includes(D))):t].sort((oe,z)=>{let Y=oe[d],ye=z[d];return d==="created_at"&&(Y=new Date(oe.created_at).getTime(),ye=new Date(z.created_at).getTime()),Y<ye?m==="asc"?-1:1:Y>ye?m==="asc"?1:-1:0})},[t,l,d,m]),G=t.length,V=t.reduce((D,L)=>D+(Number(L.leads_count)||0),0),U=t[0]||null;async function te(){if(!j)return W.info("Choose a CSV file");if(!b.trim())return W.info("Enter a name");C(!0);try{const D=new FormData;D.append("file",j),D.append("name",b.trim());const L=await fetch(`${yb}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:D});if(!L.ok){const K=await L.text();throw new Error(K||`HTTP ${L.status}`)}W.success("List created"),g(!1),S(null),w("New List"),M()}catch(D){console.error(D),W.error("Upload failed")}finally{C(!1)}}async function be(D){try{const L=await fetch(`${yb}/api/files/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!L.ok)throw new Error(`HTTP ${L.status}`);W.success("List deleted"),E({open:!1,id:null,name:""}),n(K=>K.filter(oe=>oe.id!==D))}catch(L){console.error(L),W.error("Delete failed")}}function re(D){e(`/user/lead/${D.id}`)}function R(D){d===D?h(L=>L==="asc"?"desc":"asc"):(f(D),h("desc"))}function q(D){D.preventDefault(),O(!0)}function H(D){D.preventDefault(),O(!1)}function B(D){var K;D.preventDefault(),O(!1);const L=(K=D.dataTransfer.files)==null?void 0:K[0];if(L){if(!T(L)){W.info("Please drop a .csv file");return}S(L)}}function T(D){const L=/\.csv$/i.test(D.name),K=D.type==="text/csv"||D.type==="application/vnd.ms-excel"||D.type==="";return L||K}return a.jsxs("div",{className:"min-h-screen w-full bg-slate-50",children:[a.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 h-64 bg-gradient-to-b from-blue-100/70 via-sky-50 to-transparent -z-10"}),a.jsxs("div",{className:"mx-auto w-full px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Lists"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Create and manage your CSV lists."})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2 font-semibold text-white shadow-lg hover:from-blue-700 hover:to-blue-600",children:[a.jsx(Ls,{className:"h-4 w-4"})," New List"]}),a.jsxs("button",{onClick:M,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-slate-700 hover:bg-slate-50",children:[a.jsx(E6,{className:"h-4 w-4"})," Refresh"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3 mb-6",children:[a.jsx(bb,{label:"Total Lists",value:G}),a.jsx(bb,{label:"Total Leads",value:V}),a.jsx(bb,{label:"Last Created",value:U?U.name:"",sub:U?bT(U.created_at):"No lists yet"})]}),a.jsxs("div",{className:"mb-3 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"relative w-full sm:max-w-sm",children:[a.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx("input",{value:l,onChange:D=>c(D.target.value),placeholder:"Search by name, ID, date...",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2.5 text-slate-800 placeholder-slate-400 focus:border-blue-500 outline-none"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wb,{label:"Name",active:d==="name",dir:m,onClick:()=>R("name")}),a.jsx(wb,{label:"Leads",active:d==="leads_count",dir:m,onClick:()=>R("leads_count")}),a.jsx(wb,{label:"Created",active:d==="created_at",dir:m,onClick:()=>R("created_at")})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[a.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-2 border-b border-slate-200 bg-slate-50 px-4 py-3 text-sm font-semibold text-slate-600 text-center",children:[a.jsx("div",{className:"col-span-4",children:"Name"}),a.jsx("div",{className:"col-span-2",children:"Leads"}),a.jsx("div",{className:"col-span-3",children:"Created"}),a.jsx("div",{className:"col-span-3",children:"Actions"})]}),a.jsx("div",{className:"divide-y divide-slate-200",children:a.jsx(_t,{initial:!1,children:r?a.jsx(due,{}):F.length===0?a.jsx(fue,{onCreate:()=>g(!0)}):F.map(D=>a.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-12 gap-2 px-4 py-4",children:[a.jsxs("div",{className:"col-span-4",children:[a.jsxs("div",{className:"text-base font-semibold text-slate-900 flex items-center gap-2",children:[D.name,a.jsx(oue,{id:D.alphanumeric_id})]}),a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["#",D.id]})]}),a.jsx("div",{className:"col-span-2 flex items-center md:justify-center",children:a.jsx("span",{className:"text-sm font-semibold text-slate-800",children:D.leads_count??0})}),a.jsx("div",{className:"col-span-3 flex flex-col justify-center md:items-center",children:a.jsx("span",{className:"text-sm text-slate-800",children:bT(D.created_at)})}),a.jsxs("div",{className:"col-span-3 flex flex-wrap gap-2 items-center md:justify-center",children:[a.jsx(iue,{onClick:()=>re(D),label:"View",icon:a.jsx(Jn,{className:"h-4 w-4"})}),a.jsx(lue,{onClick:()=>E({open:!0,id:D.id,name:D.name}),label:"Delete",icon:a.jsx(sr,{className:"h-4 w-4"})})]})]},D.id))})})]})]}),a.jsx(vT,{open:x,onClose:()=>g(!1),title:"",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-2xl bg-gradient-to-r from-blue-500 via-indigo-500 to-cyan-500 opacity-20 blur-lg"}),a.jsxs("div",{className:"relative rounded-2xl border border-slate-200/60 bg-white/80 backdrop-blur-xl p-5 shadow-xl",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-gradient-to-br from-blue-600 to-indigo-500 text-white shadow-lg",children:a.jsx(u5,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Create New List"}),a.jsxs("p",{className:"text-sm text-slate-600",children:["Name your list and upload a ",a.jsx("span",{className:"font-medium",children:".csv"})," file."]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"List name"}),a.jsx("input",{value:b,onChange:D=>w(D.target.value),placeholder:"e.g., July Prospects",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none focus:border-blue-500"})]}),a.jsxs("div",{onDragOver:q,onDragLeave:H,onDrop:B,className:fN("relative grid place-items-center rounded-2xl border-2 border-dashed px-4 py-10 transition",k?"border-blue-500 bg-blue-50/60":"border-slate-300 bg-slate-50/60 hover:bg-slate-50"),children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"mb-2 rounded-xl bg-white p-3 shadow",children:a.jsx(m5,{className:"h-6 w-6 text-slate-700"})}),a.jsx("p",{className:"text-sm text-slate-700",children:"Drag & drop your CSV here, or"}),a.jsxs("button",{type:"button",onClick:()=>{var D;return(D=$.current)==null?void 0:D.click()},className:"mt-2 inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2 text-sm font-semibold text-white shadow hover:from-blue-700 hover:to-blue-600",children:[a.jsx(u5,{className:"h-4 w-4"}),"Browse Files"]}),a.jsx("input",{ref:$,type:"file",accept:".csv,text/csv",onChange:D=>{var K;const L=((K=D.target.files)==null?void 0:K[0])||null;if(!L)return S(null);if(!T(L)){W.info("Please choose a .csv file"),D.target.value="";return}S(L)},className:"hidden"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Only .csv files are supported."})]}),j&&a.jsxs("div",{className:"absolute left-4 bottom-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow",children:[a.jsx(m5,{className:"h-4 w-4"}),a.jsx("span",{className:"truncate max-w-[14rem]",children:j.name}),a.jsxs("span",{className:"opacity-70",children:[" ",mue(j.size)]}),a.jsx("button",{onClick:()=>S(null),className:"ml-1 rounded-full p-1 hover:bg-slate-100",title:"Remove file",children:a.jsx(Gn,{className:"h-3.5 w-3.5"})})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[a.jsx(yT,{onClick:()=>g(!1),children:"Cancel"}),a.jsx(cue,{onClick:te,disabled:_,children:_?a.jsxs(a.Fragment,{children:[a.jsx(zn,{className:"h-4 w-4 animate-spin"})," Uploading"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ls,{className:"h-4 w-4"})," Create"]})})]})]})]})]})}),a.jsxs(vT,{open:A.open,onClose:()=>E({open:!1,id:null,name:""}),title:"Delete List?",children:[a.jsxs("p",{className:"text-slate-600 mb-4",children:["This will permanently remove"," ",a.jsx("span",{className:"font-semibold text-slate-900",children:A.name})," ","and all its leads."]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(yT,{onClick:()=>E({open:!1,id:null,name:""}),children:"Cancel"}),a.jsxs(uue,{onClick:()=>be(A.id),children:[a.jsx(sr,{className:"h-4 w-4"})," Delete"]})]})]})]})}function bb({label:e,value:t,sub:n}){return a.jsxs(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35},whileHover:{translateY:-3},className:"rounded-2xl border border-slate-200 bg-white px-5 py-4 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-600",children:e}),a.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:t}),n&&a.jsx("div",{className:"text-sm text-slate-500 mt-1",children:n})]})}function wb({label:e,active:t,dir:n,onClick:r}){const i=n==="asc"?yz:pz;return a.jsxs("button",{onClick:r,className:fN("inline-flex items-center gap-1 rounded-xl border px-3 py-2",t?"border-blue-300 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[e," ",t&&a.jsx(i,{className:"h-4 w-4"})]})}function iue({onClick:e,icon:t,label:n}){return a.jsxs("button",{onClick:e,className:"inline-flex items-center gap-1 rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-50",children:[t," ",a.jsx("span",{children:n})]})}function lue({onClick:e,icon:t,label:n}){return a.jsxs("button",{onClick:e,className:"inline-flex items-center gap-1 rounded-lg border border-red-200 bg-white px-3 py-1.5 text-sm text-red-700 hover:bg-red-50",children:[t," ",a.jsx("span",{children:n})]})}function oue({id:e}){const[t,n]=v.useState(!1);return a.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(String(e||"")),n(!0),setTimeout(()=>n(!1),1e3)}catch{}},className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-600 hover:bg-slate-100",title:"Copy alphanumeric id",children:[t?a.jsx(e0,{className:"h-3.5 w-3.5"}):a.jsx($d,{className:"h-3.5 w-3.5"})," ",e]})}function vT({open:e,onClose:t,title:n,children:r}){return e?a.jsx(_t,{children:a.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",children:a.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2},className:"w-full max-w-xl rounded-3xl",children:a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-5 shadow-2xl",children:[n?a.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:n}),a.jsx("button",{onClick:t,className:"grid h-8 w-8 place-items-center rounded-full hover:bg-slate-100",children:a.jsx(Gn,{className:"h-4 w-4 text-slate-500"})})]}):a.jsx("div",{className:"mb-1 flex justify-end",children:a.jsx("button",{onClick:t,className:"grid h-8 w-8 place-items-center rounded-full hover:bg-slate-100",children:a.jsx(Gn,{className:"h-4 w-4 text-slate-500"})})}),r]})})})}):null}function yT({children:e,onClick:t}){return a.jsx("button",{onClick:t,className:"rounded-xl border border-slate-200 bg-white px-4 py-2 font-medium text-slate-700 hover:bg-slate-50",children:e})}function cue({children:e,onClick:t,disabled:n}){return a.jsx("button",{onClick:t,disabled:n,className:fN("inline-flex items-center gap-2 rounded-xl px-4 py-2 font-semibold text-white shadow-lg",n?"bg-blue-400":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"),children:e})}function uue({children:e,onClick:t}){return a.jsx("button",{onClick:t,className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-rose-600 to-rose-500 px-4 py-2 font-semibold text-white shadow-lg hover:from-rose-700 hover:to-rose-600",children:e})}function due(){return a.jsx("div",{className:"px-4 py-6",children:a.jsxs("div",{className:"animate-pulse grid grid-cols-1 md:grid-cols-12 gap-4",children:[a.jsx("div",{className:"col-span-4 h-6 rounded bg-slate-200"}),a.jsx("div",{className:"col-span-2 h-6 rounded bg-slate-200"}),a.jsx("div",{className:"col-span-3 h-6 rounded bg-slate-200"}),a.jsx("div",{className:"col-span-3 h-6 rounded bg-slate-200"})]})})}function fue({onCreate:e}){return a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16",children:[a.jsx("div",{className:"text-5xl",children:""}),a.jsx("div",{className:"text-lg font-semibold text-slate-800",children:"No lists yet"}),a.jsx("div",{className:"text-slate-600",children:"Click below to upload your first CSV."}),a.jsx("button",{onClick:e,className:"mt-2 rounded-xl bg-blue-600 px-4 py-2 font-semibold text-white shadow hover:bg-blue-700",children:"New List"})]})}function bT(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function mue(e){if(!Number.isFinite(e))return"0 B";const t=["B","KB","MB","GB"];let n=0;for(;e>=1024&&n<t.length-1;)e/=1024,n++;return`${e.toFixed(e>=10||n===0?0:1)} ${t[n]}`}const Ci="http://localhost:8000",hue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function pue(e,t=250){const[n,r]=v.useState(e);return v.useEffect(()=>{const i=setTimeout(()=>r(e),t);return()=>clearTimeout(i)},[e,t]),n}function xue(){const e=Vt(),{id:t}=lf(),n=Number(t),[r,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState([]),[m,h]=v.useState(!0),[x,g]=v.useState(!1),[b,w]=v.useState(""),[j,S]=v.useState(""),_=pue(j,250),[C,k]=v.useState(""),[O,A]=v.useState("add_date"),[E,$]=v.useState("desc"),[M,F]=v.useState(1),[G,V]=v.useState(10),[U,te]=v.useState(!1),[be,re]=v.useState(!1),[R,q]=v.useState(!1),[H,B]=v.useState(!1),[T,D]=v.useState(null),[L,K]=v.useState(null),[oe,z]=v.useState(!1),[Y,ye]=v.useState(!1),[se,ve]=v.useState(!1),[we,Ne]=v.useState(null),me=v.useRef(localStorage.getItem("token")||null),[Oe,Be]=v.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[Xe,X]=v.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[ue,Z]=v.useState({vapi_assistant_id:"",assistant_id:"",number:"",first_name:"",last_name:"",email:"",lead_id:null}),je=v.useCallback(async()=>{const Q=me.current;if(!Q){h(!1),w("No auth token found"),W.error("No authentication token found.");return}try{h(!0),w("");const ee=await fetch(`${Ci}/api/leads${n?`?file_id=${n}`:""}`,{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ae=await ee.json();i(Array.isArray(ae)?ae:[])}catch(ee){w((ee==null?void 0:ee.message)||"Failed to load leads"),W.error((ee==null?void 0:ee.message)||"Failed to load leads")}finally{h(!1)}},[n]),Te=v.useCallback(async()=>{const Q=me.current;if(!Q||!n){c([]);return}try{const ee=await fetch(`${Ci}/api/files/${n}/dynamic-columns`,{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ae=await ee.json();c(Array.isArray(ae==null?void 0:ae.columns)?ae.columns:[])}catch(ee){c([]),console.warn("Dynamic columns fetch failed:",ee)}},[n]),Ue=v.useCallback(async()=>{const Q=me.current;try{const ee=await fetch(`${Ci}/api/get-assistants`,{headers:{Authorization:Q?`Bearer ${Q}`:"",Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ae=await ee.json(),qe=(Array.isArray(ae)?ae:Array.isArray(ae==null?void 0:ae.assistants)?ae.assistants:[]).filter(lt=>lt==null?void 0:lt.vapi_assistant_id);f(qe)}catch(ee){console.error(ee),W.error("Failed to load assistants"),f([])}},[]);v.useEffect(()=>{je(),Te(),Ue()},[t]);const Ae=v.useMemo(()=>{const Q=new Set;return r.forEach(ee=>(ee==null?void 0:ee.state)&&Q.add(ee.state)),Array.from(Q).sort((ee,ae)=>ee.localeCompare(ae))},[r]),Je=v.useMemo(()=>{const Q=_.trim().toLowerCase();return r.filter(ae=>{var qe,lt;return C&&(ae.state||"")!==C?!1:Q?[ae.first_name,ae.last_name,ae.email,ae.mobile,ae.salesforce_id,(qe=ae==null?void 0:ae.other_data)==null?void 0:qe.Custom_0,(lt=ae==null?void 0:ae.other_data)==null?void 0:lt.Custom_1].concat(Object.values((ae==null?void 0:ae.other_data)||{})).filter(Boolean).map(Qe=>String(Qe).toLowerCase()).some(Qe=>Qe.includes(Q)):!0})},[r,_,C]),Ge=v.useMemo(()=>{const Q=[...Je],ee=E==="asc"?1:-1;return Q.sort((ae,$e)=>{const qe=`${ae.first_name||""} ${ae.last_name||""}`.trim(),lt=`${$e.first_name||""} ${$e.last_name||""}`.trim();let Qe,wt;switch(O){case"name":Qe=qe.toLowerCase(),wt=lt.toLowerCase();break;case"email":Qe=(ae.email||"").toLowerCase(),wt=($e.email||"").toLowerCase();break;case"mobile":Qe=(ae.mobile||"").toLowerCase(),wt=($e.mobile||"").toLowerCase();break;case"add_date":default:Qe=new Date(ae.add_date||0).getTime(),wt=new Date($e.add_date||0).getTime()}return Qe<wt?-1*ee:Qe>wt?1*ee:0}),Q},[Je,O,E]),vt=Ge.length,Ht=Math.max(1,Math.ceil(vt/G));v.useEffect(()=>{M>Ht&&F(Ht)},[M,Ht]);const It=(M-1)*G,un=Ge.slice(It,It+G),mt=r[r.length-1]||null,Fr=Q=>{var ee,ae;D(Q.id),X({first_name:Q.first_name||"",last_name:Q.last_name||"",email:Q.email||"",mobile:Q.mobile||"",salesforce_id:Q.salesforce_id||"",custom0:((ee=Q==null?void 0:Q.other_data)==null?void 0:ee.Custom_0)||"",custom1:((ae=Q==null?void 0:Q.other_data)==null?void 0:ae.Custom_1)||"",add_date:Q.add_date||new Date().toISOString()}),q(!0)},Zs=async()=>{const Q=me.current;if(!(!Q||!T))try{B(!0);const ee={first_name:Xe.first_name.trim(),last_name:Xe.last_name.trim(),email:Xe.email.trim(),mobile:Xe.mobile.trim(),salesforce_id:Xe.salesforce_id.trim(),add_date:Xe.add_date,other_data:{Custom_0:Xe.custom0||"",Custom_1:Xe.custom1||""}},ae=await fetch(`${Ci}/api/leads/${T}`,{method:"PUT",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify(ee)}),$e=await ae.json();if(!ae.ok||($e==null?void 0:$e.success)===!1)throw new Error(($e==null?void 0:$e.detail)||`HTTP ${ae.status}`);W.success(($e==null?void 0:$e.detail)||"Lead updated"),q(!1),D(null),je()}catch(ee){W.error((ee==null?void 0:ee.message)||"Update failed")}finally{B(!1)}},Qs=async()=>{const Q=me.current;if(!Q)return W.error("Missing token");if(!Oe.first_name||!Oe.last_name||!Oe.email||!Oe.mobile)return W.info("Please fill first, last, email and mobile.");try{re(!0);const ee={first_name:Oe.first_name.trim(),last_name:Oe.last_name.trim(),email:Oe.email.trim(),add_date:Oe.add_date,mobile:Oe.mobile.trim(),file_id:n||null,salesforce_id:Oe.salesforce_id.trim(),other_data:{Custom_0:Oe.custom0||"",Custom_1:Oe.custom1||""}},ae=await fetch(`${Ci}/api/add_manually_lead`,{method:"POST",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify(ee)});if(!ae.ok)throw new Error(`HTTP ${ae.status}`);await ae.json(),W.success("Lead added"),te(!1),Be({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),je()}catch(ee){W.error((ee==null?void 0:ee.message)||"Failed to add lead")}finally{re(!1)}},Ra=async()=>{const Q=me.current;if(!(!Q||!L))try{const ee=await fetch(`${Ci}/api/leads`,{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify({ids:[L]})});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);await ee.json(),W.success("Lead deleted"),K(null),se&&ve(!1),je()}catch(ee){W.error((ee==null?void 0:ee.message)||"Delete failed")}},La=async()=>{const Q=me.current;if(!Q)return W.error("Missing token");try{g(!0);const ee=await fetch(`${Ci}/api/crm/ingest/hubspot`,{method:"POST",headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),ae=await ee.json().catch(()=>({}));if(!ee.ok||(ae==null?void 0:ae.success)===!1)throw new Error((ae==null?void 0:ae.detail)||`HTTP ${ee.status}`);W.success(`Synced HubSpot: ${(ae==null?void 0:ae.created)||0} created, ${(ae==null?void 0:ae.updated)||0} updated`),je()}catch(ee){W.error((ee==null?void 0:ee.message)||"HubSpot sync failed")}finally{g(!1)}},Wn=Q=>{if(!Q)return"";const ee=String(Q).trim();return ee.startsWith("+")?"+"+ee.slice(1).replace(/\D+/g,""):ee.replace(/\D+/g,"")},Xn=Q=>{var $e,qe,lt,Qe,wt,Ct,pa,dn,yt,Zt;const ae=[Q==null?void 0:Q.mobile,Q==null?void 0:Q.phone,($e=Q==null?void 0:Q.other_data)==null?void 0:$e.phone,(qe=Q==null?void 0:Q.other_data)==null?void 0:qe.Phone,(lt=Q==null?void 0:Q.other_data)==null?void 0:lt.mobile,(Qe=Q==null?void 0:Q.other_data)==null?void 0:Qe.Mobile,(wt=Q==null?void 0:Q.other_data)==null?void 0:wt.telephone,(Ct=Q==null?void 0:Q.other_data)==null?void 0:Ct.Telephone,(pa=Q==null?void 0:Q.other_data)==null?void 0:pa.cell,(dn=Q==null?void 0:Q.other_data)==null?void 0:dn.Cell,(yt=Q==null?void 0:Q.other_data)==null?void 0:yt.Custom_0,(Zt=Q==null?void 0:Q.other_data)==null?void 0:Zt.Custom_1].filter(Boolean).find(Boolean);return Wn(ae||"")},lr=Q=>{const ee=Xn(Q);ee||W.info("No phone number on this lead  you can still enter one to call.");const ae=localStorage.getItem("lastAssistantId")||"",$e=d.find(qe=>String(qe.id)===String(ae)&&(qe==null?void 0:qe.vapi_assistant_id))||d.find(qe=>qe==null?void 0:qe.vapi_assistant_id)||null;Z({vapi_assistant_id:($e==null?void 0:$e.vapi_assistant_id)||"",assistant_id:($e==null?void 0:$e.id)||"",number:ee,first_name:Q.first_name||"",last_name:Q.last_name||"",email:Q.email||"",lead_id:Q.id}),z(!0)},Js=async Q=>{if(Q.preventDefault(),Y)return;const ee=me.current,{vapi_assistant_id:ae,number:$e,first_name:qe,last_name:lt,email:Qe}=ue;if(!ae)return W.error("Select an assistant first");if(!$e)return W.error("Enter a phone number");const wt=Wn($e);if(!wt)return W.error("Invalid phone number");try{ye(!0);const Ct=`${Ci}/api/phone-call/${encodeURIComponent(ae)}/${encodeURIComponent(wt)}`,pa={first_name:qe||"Caller",last_name:lt||"",email:Qe||"caller@example.com",add_date:new Date().toISOString(),mobile_no:wt,custom_field_01:null,custom_field_02:null},dn=await fetch(Ct,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:ee?`Bearer ${ee}`:""},body:JSON.stringify(pa)}),yt=await dn.json().catch(()=>({}));if(!dn.ok||(yt==null?void 0:yt.success)===!1)throw new Error((yt==null?void 0:yt.detail)||`HTTP ${dn.status}`);ue.assistant_id&&localStorage.setItem("lastAssistantId",String(ue.assistant_id)),W.success("Call initiated"),z(!1)}catch(Ct){W.error((Ct==null?void 0:Ct.message)||"Failed to initiate call")}finally{ye(!1)}},de=()=>{if(Ge.length===0)return W.info("Nothing to export.");const Q=["id","first_name","last_name","email","mobile","salesforce_id","state","add_date"],ee=Array.from(new Set(["Custom_0","Custom_1",...l])),ae=[...Q,...ee],$e=Ge.map(Ct=>{const pa=[Ct.id??"",ki(Ct.first_name),ki(Ct.last_name),ki(Ct.email),ki(Ct.mobile),ki(Ct.salesforce_id),ki(Ct.state),ki(Ct.add_date)],dn=ee.map(yt=>{var Zt;return ki((Zt=Ct==null?void 0:Ct.other_data)==null?void 0:Zt[yt])});return[...pa,...dn]}),qe=[ae,...$e].map(Ct=>Ct.join(",")).join(`
`),lt=new Blob([qe],{type:"text/csv;charset=utf-8;"}),Qe=URL.createObjectURL(lt),wt=document.createElement("a");wt.href=Qe,wt.download=`leads_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(wt),wt.click(),document.body.removeChild(wt),URL.revokeObjectURL(Qe)};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(Jn,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${hue}`,children:"Leads"})}),a.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["File: ",a.jsx("b",{children:n||""})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Lt,{onClick:()=>te(!0),variant:"primary",children:[a.jsx(Ls,{className:"mr-2 h-4 w-4"})," New Lead"]}),a.jsx(Lt,{onClick:La,disabled:x,children:x?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Sync HubSpot"]})}),a.jsx(Lt,{onClick:()=>e("/user/upload-csv"),children:"Upload CSV"}),a.jsxs(Lt,{onClick:de,children:[a.jsx(Id,{className:"mr-2 h-4 w-4"}),"Export"]}),a.jsxs(Lt,{onClick:je,children:[a.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[a.jsx(jb,{label:"Total Leads",value:vt}),a.jsx(jb,{label:"Selected File",value:n||""}),a.jsx(jb,{label:"Last Created",value:mt&&`${mt.first_name||""} ${mt.last_name||""}`.trim()||"",sub:mt!=null&&mt.add_date?wT(mt.add_date):mt?"Just now":"No leads yet"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Dr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:j,onChange:Q=>{S(Q.target.value),F(1)},placeholder:"Search name, email, phone, Salesforce ID",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(Rc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:C,onChange:Q=>{k(Q.target.value),F(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"",children:"All states"}),Ae.map(Q=>a.jsx("option",{value:Q,children:Q},Q))]}),a.jsx("select",{value:`${O}:${E}`,onChange:Q=>{const[ee,ae]=Q.target.value.split(":");A(ee),$(ae)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[["add_date","desc","Newest"],["add_date","asc","Oldest"],["name","asc","Name AZ"],["name","desc","Name ZA"],["email","asc","Email AZ"],["email","desc","Email ZA"]].map(([Q,ee,ae])=>a.jsx("option",{value:`${Q}:${ee}`,children:ae},`${Q}:${ee}`))}),a.jsx("select",{value:G,onChange:Q=>{V(Number(Q.target.value)),F(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(Q=>a.jsxs("option",{value:Q,children:[Q," / page"]},Q))})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(Jn,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Leads (",Ge.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),m?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading leads"})]}):Ge.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(Jn,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or add a new lead"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(yh,{children:"Name"}),a.jsx(yh,{children:"Email"}),a.jsx(yh,{children:"Phone"}),a.jsx(yh,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:un.map(Q=>{const ee=`${Q.first_name||""} ${Q.last_name||""}`.trim()||"",ae=Q.mobile||Xn(Q)||"";return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(bh,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:ee}),a.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",Q.id,"  ",Q.salesforce_id||"No Ext ID"]})]})}),a.jsx(bh,{children:a.jsx("div",{className:"text-xs font-medium text-slate-700 break-words",children:Q.email||""})}),a.jsx(bh,{children:a.jsx("div",{className:"text-xs font-medium text-slate-700 break-all",children:ae})}),a.jsx(bh,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Lt,{onClick:()=>lr(Q),size:"sm",children:[a.jsx(ut,{className:"h-4 w-4 mr-1"}),"Call"]}),a.jsxs(Lt,{onClick:()=>Fr(Q),size:"sm",children:[a.jsx(jd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(Lt,{onClick:()=>{Ne(Q),ve(!0)},size:"sm",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1"}),"More"]})]})})]},Q.id)})})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:un.map((Q,ee)=>{const ae=`${Q.first_name||""} ${Q.last_name||""}`.trim()||"",$e=Q.mobile||Xn(Q)||"";return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[ee===0&&a.jsx(gue,{}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:ae}),a.jsx("div",{className:"mt-1 text-sm text-slate-600 break-words",children:Q.email||""}),a.jsx("div",{className:"text-xs text-slate-500 break-all",children:$e})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(Lt,{onClick:()=>lr(Q),size:"sm",className:"grow sm:grow-0",children:[a.jsx(ut,{className:"h-4 w-4 mr-1"}),"Call"]}),a.jsxs(Lt,{onClick:()=>Fr(Q),size:"sm",className:"grow sm:grow-0",children:[a.jsx(jd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(Lt,{onClick:()=>{Ne(Q),ve(!0)},size:"sm",className:"grow sm:grow-0",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1"}),"More"]})]}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",Q.id,"  ",Q.salesforce_id||"No Ext ID"]})]},Q.id)})})}),Ge.length>G&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:It+1}),"",a.jsx("b",{children:Math.min(It+G,Ge.length)})," of ",a.jsx("b",{children:Ge.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(Lt,{onClick:()=>F(Q=>Math.max(1,Q-1)),disabled:M===1,children:[a.jsx(ua,{className:"h-4 w-4 mr-1"}),"Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Ht)},(Q,ee)=>{let ae;if(Ht<=5||M<=3?ae=ee+1:M>=Ht-2?ae=Ht-4+ee:ae=M-2+ee,ae<1||ae>Ht)return null;const $e=M===ae;return a.jsx("button",{onClick:()=>F(ae),className:`px-3 py-2 text-sm font-semibold rounded-xl ${$e?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:ae},ae)})}),a.jsxs(Lt,{onClick:()=>F(Q=>Math.min(Ht,Q+1)),disabled:M>=Ht,children:["Next",a.jsx(Bn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(_t,{children:U&&a.jsxs(wh,{onClose:()=>te(!1),title:"Create Lead",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(hn,{label:"First name",children:a.jsx("input",{value:Oe.first_name,onChange:Q=>Be(ee=>({...ee,first_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Last name",children:a.jsx("input",{value:Oe.last_name,onChange:Q=>Be(ee=>({...ee,last_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Email",children:a.jsx("input",{type:"email",value:Oe.email,onChange:Q=>Be(ee=>({...ee,email:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Mobile (digits only)",children:a.jsx("input",{value:Oe.mobile,onChange:Q=>Be(ee=>({...ee,mobile:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"External ID",children:a.jsx("input",{value:Oe.salesforce_id,onChange:Q=>Be(ee=>({...ee,salesforce_id:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Add date (ISO)",children:a.jsx("input",{value:Oe.add_date,onChange:Q=>Be(ee=>({...ee,add_date:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"2025-08-13T10:00:00.000Z"})}),a.jsx(hn,{label:"Custom_0",children:a.jsx("input",{value:Oe.custom0,onChange:Q=>Be(ee=>({...ee,custom0:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Custom_1",children:a.jsx("input",{value:Oe.custom1,onChange:Q=>Be(ee=>({...ee,custom1:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Lt,{onClick:()=>te(!1),variant:"subtle",children:"Cancel"}),a.jsx(Lt,{onClick:Qs,disabled:be||!Oe.first_name||!Oe.last_name||!Oe.email||!Oe.mobile,variant:"primary",children:be?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),a.jsx(_t,{children:R&&a.jsxs(wh,{onClose:()=>q(!1),title:"Edit Lead",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(hn,{label:"First name",children:a.jsx("input",{value:Xe.first_name,onChange:Q=>X(ee=>({...ee,first_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Last name",children:a.jsx("input",{value:Xe.last_name,onChange:Q=>X(ee=>({...ee,last_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Email",children:a.jsx("input",{type:"email",value:Xe.email,onChange:Q=>X(ee=>({...ee,email:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Mobile (digits only)",children:a.jsx("input",{value:Xe.mobile,onChange:Q=>X(ee=>({...ee,mobile:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"External ID",children:a.jsx("input",{value:Xe.salesforce_id,onChange:Q=>X(ee=>({...ee,salesforce_id:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Add date (ISO)",children:a.jsx("input",{value:Xe.add_date,onChange:Q=>X(ee=>({...ee,add_date:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Custom_0",children:a.jsx("input",{value:Xe.custom0,onChange:Q=>X(ee=>({...ee,custom0:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Custom_1",children:a.jsx("input",{value:Xe.custom1,onChange:Q=>X(ee=>({...ee,custom1:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Lt,{onClick:()=>q(!1),variant:"subtle",children:"Cancel"}),a.jsx(Lt,{onClick:Zs,disabled:H,variant:"primary",children:H?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),a.jsx(_t,{children:oe&&a.jsx(wh,{onClose:()=>z(!1),title:"Start Phone Call",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Assistant"}),a.jsxs("select",{value:ue.assistant_id,onChange:Q=>{const ee=d.find(ae=>String(ae.id)===String(Q.target.value));Z(ae=>({...ae,assistant_id:Q.target.value,vapi_assistant_id:(ee==null?void 0:ee.vapi_assistant_id)||""}))},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select assistant"}),d.map(Q=>a.jsx("option",{value:Q.id,children:Q.name||`Assistant ${Q.id}`},Q.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(hn,{label:"Phone Number",children:a.jsx("input",{value:ue.number,onChange:Q=>Z(ee=>({...ee,number:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})}),a.jsx(hn,{label:"Email",children:a.jsx("input",{type:"email",value:ue.email,onChange:Q=>Z(ee=>({...ee,email:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"First name",children:a.jsx("input",{value:ue.first_name,onChange:Q=>Z(ee=>({...ee,first_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(hn,{label:"Last name",children:a.jsx("input",{value:ue.last_name,onChange:Q=>Z(ee=>({...ee,last_name:Q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Lt,{onClick:()=>z(!1),variant:"subtle",children:"Cancel"}),a.jsx(Lt,{onClick:Js,disabled:Y,variant:"primary",children:Y?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Calling"]}):a.jsxs(a.Fragment,{children:[a.jsx(ut,{className:"h-4 w-4 mr-1"}),"Start Call"]})})]})]})})}),a.jsx(_t,{children:L&&a.jsxs(wh,{onClose:()=>K(null),title:"Delete Lead?",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"rounded-xl bg-rose-50 p-2 text-rose-600",children:a.jsx(jB,{className:"h-5 w-5"})}),a.jsx("div",{className:"text-slate-800",children:"This will permanently delete this lead. This action cannot be undone."})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Lt,{onClick:()=>K(null),variant:"subtle",children:"Cancel"}),a.jsxs(Lt,{onClick:Ra,variant:"danger",children:[a.jsx(sr,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),a.jsx(_t,{children:se&&we&&a.jsx(vue,{onClose:()=>ve(!1),title:"Lead Details",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-bold text-slate-900 truncate",children:`${we.first_name||""} ${we.last_name||""}`.trim()||""}),a.jsx("div",{className:"text-sm text-slate-600 break-words",children:we.email||""}),a.jsx("div",{className:"text-xs text-slate-500 break-all",children:we.mobile||Xn(we)||""}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID #",we.id,"  ",we.salesforce_id||"No Ext ID"]})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(Nb,{label:"State",value:we.state||""}),a.jsx(Nb,{label:"Timezone",value:we.timezone||""}),a.jsx(Nb,{label:"Added",value:wT(we.add_date)||""})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Basic Fields"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(Ho,{label:"First name",value:we.first_name||""}),a.jsx(Ho,{label:"Last name",value:we.last_name||""}),a.jsx(Ho,{label:"Email",value:we.email||""}),a.jsx(Ho,{label:"Mobile",value:we.mobile||Xn(we)||""}),a.jsx(Ho,{label:"External ID",value:we.salesforce_id||""})]})]}),l&&l.length>0&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Extra Fields"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(Q=>{var ee;return a.jsx(Ho,{label:Q,value:((ee=we==null?void 0:we.other_data)==null?void 0:ee[Q])??""},Q)})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Lt,{onClick:()=>lr(we),children:[a.jsx(ut,{className:"h-4 w-4 mr-1"}),"Call"]}),a.jsxs(Lt,{onClick:()=>Fr(we),children:[a.jsx(jd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(Lt,{onClick:()=>K(we.id),variant:"danger",children:[a.jsx(sr,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})})]})}function Lt({children:e,className:t="",variant:n="outline",size:r="md",...i}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...i,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function jb({label:e,value:t,sub:n}){return a.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t}),n&&a.jsx("div",{className:"text-sm text-slate-500 mt-1",children:n})]})]})}function gue(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function yh({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function bh({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function hn({label:e,children:t}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Nb({label:e,value:t}){return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-xs text-slate-500",children:e}),a.jsx("div",{className:"text-lg font-extrabold text-slate-900 break-all",children:t})]})}function Ho({label:e,value:t}){return a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),a.jsx("div",{className:"text-sm font-semibold text-slate-800 break-words",children:String(t??"")})]})}function wh({children:e,onClose:t,title:n}){return a.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(Lt,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(Gn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function vue({children:e,onClose:t,title:n}){return a.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(Lt,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:a.jsx(Gn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function wT(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function ki(e){if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t}const yue=()=>{const[e,t]=v.useState(null),[n,r]=v.useState(!1),[i,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(!0),[h,x]=v.useState(0),[g,b]=v.useState(""),w=v.useRef(null),{id:j}=lf(),S=5*1024*1024,_="http://localhost:8000",C=()=>localStorage.getItem("token"),k=G=>{G&&G.type==="text/csv"?G.size>S?M("File size exceeds 5MB limit.",!1):t(G):M("Please upload a valid CSV file.",!1)},O=G=>{const V=G.target.files[0];k(V)},A=()=>w.current.click(),E=()=>{const G=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,V=new Blob([G],{type:"text/csv"}),U=window.URL.createObjectURL(V),te=document.createElement("a");te.href=U,te.download="sample_users.csv",te.click(),window.URL.revokeObjectURL(U)},$=async()=>{if(!e)return M("No file selected.",!1);if(!g.trim())return M("Please provide a list name.",!1);const G=C();if(!G)return M("Please log in first.",!1);const V=new FormData;V.append("file",e),V.append("name",g);try{r(!0),x(50);const U=await fetch(`${_}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${G}`},body:V});if(x(100),U.ok)M("CSV file uploaded successfully!",!0),t(null),b(""),w.current&&(w.current.value="");else{const te=await U.json();throw new Error(te.detail||`HTTP ${U.status}`)}}catch(U){console.error(U),M("Upload failed. Please try again.",!1)}finally{r(!1),x(0)}},M=(G,V)=>{d(G),m(V),l(!0)},F=G=>G<1024?`${G} B`:G<1024*1024?`${(G/1024).toFixed(2)} KB`:`${(G/(1024*1024)).toFixed(2)} MB`;return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"w-full max-w-3xl bg-white p-10 rounded-2xl shadow-lg border border-gray-200 transition-all hover:shadow-xl",children:a.jsxs("div",{className:"text-center",children:[a.jsx(kO,{className:"mx-auto text-5xl text-blue-400 mb-6 animate-pulse"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Upload Your CSV File"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Drag & drop a CSV file or click to select. Max size: 5MB."}),a.jsx("input",{type:"text",placeholder:"Enter list name",value:g,onChange:G=>b(G.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx("input",{type:"file",accept:".csv",onChange:O,ref:w,className:"hidden"}),a.jsx("button",{onClick:A,className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600 transition",children:"Choose File"}),a.jsxs("button",{onClick:E,className:"bg-white text-blue-600 border border-blue-300 px-6 py-3 rounded-xl shadow-sm hover:bg-blue-50 transition flex items-center gap-2",children:[a.jsx(_O,{})," Sample CSV"]})]}),e&&a.jsxs("div",{className:"mt-6 text-gray-600 bg-blue-50 p-4 rounded-xl border border-blue-200 text-left",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"File:"})," ",e.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Size:"})," ",F(e.size)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),a.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[a.jsx("button",{onClick:$,disabled:n||!e,className:`w-full bg-blue-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition 
            ${n||!e?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:n?"Uploading...":"Upload CSV"}),n&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]}),i&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f?a.jsx(SO,{className:"text-green-500 text-2xl"}):a.jsx(CO,{className:"text-red-500 text-2xl"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload Status"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:c}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>l(!1),className:"bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600 transition",children:"Okay"})})]})})]})},Sb={},Yh="http://localhost:8000",Wh=(Sb==null?void 0:Sb.VITE_API_PREFIX)||"/api",Cr=`${Yh}${Wh}/campaigns/campaigns`,kr={LIST:Cr,CREATE:Cr,DETAIL:e=>`${Cr}/${e}`,STATS:e=>`${Cr}/${e}/stats`,SCHEDULE:e=>`${Cr}/${e}/schedule`,RETRY:e=>`${Cr}/${e}/retry-policy`,PAUSE:e=>`${Cr}/${e}/pause`,RESUME:e=>`${Cr}/${e}/resume`,STOP:e=>`${Cr}/${e}/stop`,RUN_NOW:e=>`${Cr}/${e}/run-now`,ICS:e=>`${Cr}/${e}/calendar.ics`,DELETE:e=>`${Cr}/${e}`,REFRESH_LEADS:e=>`${Cr}/${e}/refresh-leads`},_b={FILES:`${Yh}${Wh}/files`,ASSISTANTS:`${Yh}${Wh}/get-assistants`,LEADS:e=>`${Yh}${Wh}/leads${e?`?file_id=${e}`:""}`};function Pa(...e){return e.filter(Boolean).join(" ")}const Xh=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function bue(e,t=250){const[n,r]=v.useState(e);return v.useEffect(()=>{const i=setTimeout(()=>r(e),t);return()=>clearTimeout(i)},[e,t]),n}function Cb(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}function wue(e){try{const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function jh(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${n}-${r}-${i}T${l}:${c}`}function Nh(e){if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()}function jue(e){if(!e)return"";const t=new Date(e).getTime();if(Number.isNaN(t))return"";const n=Math.max(0,t-Date.now()),r=Math.floor(n/1e3),i=Math.floor(r/60),l=r%60;return i>0?`${i}m ${l}s`:`${l}s`}const ta={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},kb={show:{transition:{staggerChildren:.05}}},jT={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}},NT={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:30,duration:.4}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},Nue={hidden:{opacity:0,scale:.8,y:50},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,duration:.5}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.3}}},Sue={hidden:{opacity:0,x:20},show:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2}}};function ja({children:e,tone:t="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200",orange:"bg-orange-100 text-orange-700 ring-orange-200",purple:"bg-purple-100 text-purple-700 ring-purple-200",amber:"bg-amber-100 text-amber-700 ring-amber-200",indigo:"bg-indigo-100 text-indigo-700 ring-indigo-200"};return a.jsx(pe.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},className:Pa("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[t]||n.slate),children:e})}function Ab({label:e,value:t,Icon:n,tone:r="blue"}){const i=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return a.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${i}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Sh({status:e}){const t=String(e||"").toLowerCase();return t==="scheduled"?a.jsx(ja,{tone:"blue",children:"Scheduled"}):t==="running"?a.jsx(ja,{tone:"green",children:"Running"}):t==="paused"?a.jsx(ja,{tone:"orange",children:"Paused"}):t==="stopped"?a.jsx(ja,{tone:"red",children:"Stopped"}):t==="completed"?a.jsx(ja,{tone:"purple",children:"Completed"}):t==="draft"?a.jsx(ja,{tone:"slate",children:"Draft"}):a.jsx(ja,{tone:"slate",children:Xh(e)})}const vL=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York"},{value:"America/Chicago",label:"America/Chicago"},{value:"America/Denver",label:"America/Denver"},{value:"America/Los_Angeles",label:"America/Los_Angeles"},{value:"America/Phoenix",label:"America/Phoenix"},{value:"Europe/London",label:"Europe/London"},{value:"Europe/Berlin",label:"Europe/Berlin"},{value:"Europe/Paris",label:"Europe/Paris"},{value:"Asia/Karachi",label:"Asia/Karachi"},{value:"Asia/Kolkata",label:"Asia/Kolkata"},{value:"Asia/Singapore",label:"Asia/Singapore"},{value:"Asia/Tokyo",label:"Asia/Tokyo"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Australia/Sydney",label:"Australia/Sydney"}];function yL(e,t){const n=Number(e)||0,r=Number(t)||0;if(r<=0)return 0;const i=Math.round(n/r*100);return Math.min(100,Math.max(0,i))}function bL({active:e=!1}){return e?a.jsxs("span",{className:"relative inline-flex h-2.5 w-2.5",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60"}),a.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}):null}function ST({done:e,total:t,status:n}){const r=yL(e,t),i=["scheduled","running"].includes(String(n||"").toLowerCase());return a.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[a.jsx("div",{className:"relative h-2 w-36 rounded-full bg-slate-200 overflow-hidden",children:a.jsx(pe.div,{className:Pa("h-full bg-gradient-to-r from-blue-500 to-cyan-500",i&&"shadow-[0_0_0_2px_rgba(59,130,246,0.15)]"),initial:{width:0},animate:{width:`${r}%`},transition:{type:"spring",stiffness:160,damping:20}})}),a.jsxs("div",{className:"text-xs font-medium text-slate-700 tabular-nums",children:[Number(e)||0,"/",Number(t)||0]}),a.jsx(bL,{active:i})]})}function _ue({totals:e}){const t=(e==null?void 0:e.total)||0,n=(e==null?void 0:e.done)||0,r=(e==null?void 0:e.calling)||0,i=(e==null?void 0:e.retry)||0,l=(e==null?void 0:e.pending)||0,c=d=>t>0?`${d/t*100}%`:"0%";return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"h-3 w-full rounded-full bg-slate-200 overflow-hidden ring-1 ring-white/60 relative",children:[a.jsx(pe.div,{className:"h-full bg-emerald-500 absolute left-0 top-0",style:{width:c(n)},initial:{width:0},animate:{width:c(n)}}),a.jsx(pe.div,{className:"h-full bg-indigo-500 absolute left-0 top-0",style:{width:c(n+r)},initial:{width:0},animate:{width:c(n+r)}}),a.jsx(pe.div,{className:"h-full bg-amber-500 absolute left-0 top-0",style:{width:c(n+r+i)},initial:{width:0},animate:{width:c(n+r+i)}})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-700",children:[a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-emerald-500"}),"Done ",n]}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-indigo-500"}),"Calling ",r]}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-amber-500"}),"Retry ",i]}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-slate-400"}),"Pending ",l]}),a.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[yL(n,t),"%"]})]})]})}function _T(){var qe,lt,Qe,wt,Ct,pa,dn,yt,Zt,ns,ao,Of,Mf,Zc,ei,so,rs,as,ti,ss;const e=v.useRef(localStorage.getItem("token")||null),[t,n]=v.useState([]),[r,i]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState([]),[m,h]=v.useState([]),[x,g]=v.useState([]),[b,w]=v.useState(!1),[j,S]=v.useState(""),_=bue(j,250),[C,k]=v.useState("created_at"),[O,A]=v.useState("desc"),[E,$]=v.useState(1),[M,F]=v.useState(10),[G,V]=v.useState(!1),[U,te]=v.useState(1),[be,re]=v.useState(!1),[R,q]=v.useState({name:"",file_id:"",assistant_id:"",selection_mode:"ALL",include_lead_ids:[],exclude_lead_ids:[],timezone:"America/Los_Angeles",days_of_week:[0,1,2,3,4],daily_start:"09:00",daily_end:"18:00",start_at:"",end_at:"",calls_per_minute:10,parallel_calls:2,retry_on_busy:!0,busy_retry_delay_minutes:15,max_attempts:3,description:""}),[H,B]=v.useState(""),[T,D]=v.useState(!1),[L,K]=v.useState(null),[oe,z]=v.useState(!1),[Y,ye]=v.useState(null),[se,ve]=v.useState(null);v.useEffect(()=>{if(!T||!(L!=null&&L.id))return;un(L.id),mt(L.id);const le=setInterval(()=>{un(L.id),mt(L.id),me()},4e3);return()=>clearInterval(le)},[T,L==null?void 0:L.id]),v.useEffect(()=>{if(!e.current){i(!1),W.error("No auth token found. Please log in.");return}we()},[]);async function we(){i(!0);try{await Promise.all([me(),Oe(),Be()])}finally{i(!1)}}async function Ne(le,ke={}){if(!e.current)throw W.error("No auth token found. Please log in."),new Error("No token");return await fetch(le,{...ke,headers:{...ke.headers||{},Authorization:`Bearer ${e.current}`}})}async function me(){try{const le=await Ne(kr.LIST);if(!le.ok)throw new Error(`HTTP ${le.status}`);const ke=await le.json();n(Array.isArray(ke)?ke:[])}catch(le){console.error(le),W.error("Failed to fetch campaigns"),n([])}}async function Oe(){try{const le=await Ne(_b.FILES);if(!le.ok)throw new Error(`HTTP ${le.status}`);const ke=await le.json();f(Array.isArray(ke)?ke:(ke==null?void 0:ke.items)||[])}catch(le){console.warn("Files fetch failed:",le.message),f([])}}async function Be(){try{const le=await Ne(_b.ASSISTANTS);if(!le.ok)throw new Error(`HTTP ${le.status}`);const ke=await le.json(),Pe=(Array.isArray(ke)&&ke||(ke==null?void 0:ke.items)||(ke==null?void 0:ke.assistants)||(ke==null?void 0:ke.data)||[]).filter(Me=>Me&&Me.id!==void 0&&Me.id!==null);h(Pe)}catch(le){console.warn("Assistants fetch failed:",le.message),h([])}}async function Xe(le){if(!le){g([]);return}try{w(!0);const ke=await Ne(_b.LEADS(le));if(!ke.ok)throw new Error(`HTTP ${ke.status}`);const Le=await ke.json(),Pe=Array.isArray(Le)?Le:(Le==null?void 0:Le.leads)||(Le==null?void 0:Le.items)||[];g(Pe)}catch(ke){console.warn("Leads fetch failed:",ke.message),g([])}finally{w(!1)}}async function X(){c(!0);try{await me()}finally{c(!1)}}const ue=v.useMemo(()=>{const le=_.trim().toLowerCase(),ke=t.filter(Pe=>le?[(Pe.name||"").toLowerCase(),(Pe.status||"").toLowerCase(),String(Pe.id||""),String(Pe.file_id||""),String(Pe.assistant_id||"")].some(ot=>ot.includes(le)):!0),Le=O==="asc"?1:-1;return ke.sort((Pe,Me)=>{let ot,Zn;switch(C){case"name":ot=(Pe.name||"").toLowerCase(),Zn=(Me.name||"").toLowerCase();break;case"status":ot=(Pe.status||"").toLowerCase(),Zn=(Me.status||"").toLowerCase();break;case"calls_per_minute":ot=Pe.calls_per_minute||0,Zn=Me.calls_per_minute||0;break;case"created_at":default:ot=new Date(Pe.created_at||0).getTime(),Zn=new Date(Me.created_at||0).getTime()}return ot<Zn?-1*Le:ot>Zn?1*Le:0}),ke},[t,_,C,O]),Z=ue.length,je=Math.max(1,Math.ceil(Z/M));v.useEffect(()=>{E>je&&$(je)},[E,je]);const Te=(E-1)*M,Ue=Te+M,Ae=ue.slice(Te,Ue),Je=v.useMemo(()=>{const le=ue.length,ke=ue.filter(Pe=>(Pe.status||"").toLowerCase()==="running").length,Le=ue.filter(Pe=>(Pe.status||"").toLowerCase()==="paused").length;return{total:le,running:ke,paused:Le}},[ue]);function Ge(le){const{name:ke,value:Le,type:Pe,checked:Me}=le.target;q(ot=>{const Zn={...ot,[ke]:Pe==="checkbox"?Me:Le};if(ke==="file_id"){const Qc=Number(Le)||"";Qc?Xe(Qc):g([]),Zn.include_lead_ids=[],Zn.exclude_lead_ids=[]}return ke==="selection_mode"&&(Zn.include_lead_ids=[],Zn.exclude_lead_ids=[]),Zn})}function vt(le){q(ke=>{const Pe=ke.days_of_week.includes(le)?ke.days_of_week.filter(Me=>Me!==le):[...ke.days_of_week,le];return Pe.sort((Me,ot)=>Me-ot),{...ke,days_of_week:Pe}})}async function Ht(){var ke,Le;if(!R.name||!R.file_id||!R.assistant_id){W.error("Name, File and Assistant are required.");return}if(R.selection_mode!=="ALL"&&R.file_id&&x.length===0){W.error("No leads available for the selected file.");return}const le={name:String(R.name).trim(),file_id:Number(R.file_id),assistant_id:Number(R.assistant_id),selection_mode:R.selection_mode,include_lead_ids:R.selection_mode==="ONLY"&&((ke=R.include_lead_ids)!=null&&ke.length)?R.include_lead_ids:null,exclude_lead_ids:R.selection_mode==="SKIP"&&((Le=R.exclude_lead_ids)!=null&&Le.length)?R.exclude_lead_ids:null,timezone:R.timezone||"America/Los_Angeles",days_of_week:R.days_of_week,daily_start:R.daily_start||"09:00",daily_end:R.daily_end||"18:00",start_at:Nh(R.start_at),end_at:Nh(R.end_at),calls_per_minute:Number(R.calls_per_minute)||10,parallel_calls:Number(R.parallel_calls)||2,retry_on_busy:!!R.retry_on_busy,busy_retry_delay_minutes:Number(R.busy_retry_delay_minutes)||15,max_attempts:Number(R.max_attempts)||3};try{re(!0);const Pe=await Ne(kr.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)}),Me=await Pe.json().catch(()=>({}));if(!Pe.ok||(Me==null?void 0:Me.success)===!1)throw new Error((Me==null?void 0:Me.detail)||`HTTP ${Pe.status}`);W.success((Me==null?void 0:Me.detail)||"Campaign created."),V(!1),te(1),q(ot=>({...ot,name:"",include_lead_ids:[],exclude_lead_ids:[]})),await me()}catch(Pe){console.error(Pe),W.error((Pe==null?void 0:Pe.message)||"Create failed")}finally{re(!1)}}async function It(le){K(le),D(!0),await Promise.all([un(le.id),mt(le.id)])}async function un(le){if(le)try{z(!0);const ke=await Ne(kr.DETAIL(le));if(!ke.ok)throw new Error(`HTTP ${ke.status}`);const Le=await ke.json();ye(Le)}catch(ke){console.error(ke),W.error("Failed to load campaign details"),ye(null)}finally{z(!1)}}async function mt(le){if(le)try{const ke=await Ne(kr.STATS(le));if(!ke.ok)throw new Error(`HTTP ${ke.status}`);const Le=await ke.json();ve(Le)}catch(ke){console.error(ke)}}async function Fr(le,ke,Le){try{const Pe=await Ne(le(ke),{method:"POST"}),Me=await Pe.json().catch(()=>({}));if(!Pe.ok||(Me==null?void 0:Me.success)===!1)throw new Error((Me==null?void 0:Me.detail)||`HTTP ${Pe.status}`);W.success((Me==null?void 0:Me.detail)||Le),await me(),L&&L.id===ke&&(await un(ke),await mt(ke))}catch(Pe){console.error(Pe),W.error((Pe==null?void 0:Pe.message)||"Action failed")}}const Zs=le=>Fr(kr.PAUSE,le,"Paused"),Qs=le=>Fr(kr.RESUME,le,"Resumed"),Ra=le=>Fr(kr.STOP,le,"Stopped"),La=le=>Fr(kr.REFRESH_LEADS,le,"Leads synced");async function Wn(le){if(confirm("Delete this campaign and its progress rows?"))try{const ke=await Ne(kr.DELETE(le),{method:"DELETE"}),Le=await ke.json().catch(()=>({}));if(!ke.ok||(Le==null?void 0:Le.success)===!1)throw new Error((Le==null?void 0:Le.detail)||`HTTP ${ke.status}`);W.success((Le==null?void 0:Le.detail)||"Deleted"),D(!1),K(null),await me()}catch(ke){console.error(ke),W.error((ke==null?void 0:ke.message)||"Delete failed")}}async function Xn(le,ke){try{const Le=await Ne(kr.RUN_NOW(le),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch_size:Number(ke)||5})}),Pe=await Le.json().catch(()=>({}));if(!Le.ok||(Pe==null?void 0:Pe.success)===!1)throw new Error((Pe==null?void 0:Pe.detail)||`HTTP ${Le.status}`);W.success((Pe==null?void 0:Pe.detail)||"Triggered."),await mt(le)}catch(Le){console.error(Le),W.error((Le==null?void 0:Le.message)||"Run-now failed")}}async function lr(le,ke){var Pe;const Le={timezone:ke.timezone||void 0,days_of_week:(Pe=ke.days_of_week)!=null&&Pe.length?ke.days_of_week:void 0,daily_start:ke.daily_start||void 0,daily_end:ke.daily_end||void 0,start_at:Nh(ke.start_at),end_at:Nh(ke.end_at)};try{const Me=await Ne(kr.SCHEDULE(le),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Le)}),ot=await Me.json().catch(()=>({}));if(!Me.ok||(ot==null?void 0:ot.success)===!1)throw new Error((ot==null?void 0:ot.detail)||`HTTP ${Me.status}`);W.success((ot==null?void 0:ot.detail)||"Schedule updated"),await me(),await un(le),await mt(le)}catch(Me){console.error(Me),W.error((Me==null?void 0:Me.message)||"Update failed")}}async function Js(le,ke){const Le={retry_on_busy:!!ke.retry_on_busy,busy_retry_delay_minutes:Number(ke.busy_retry_delay_minutes)||15,max_attempts:Number(ke.max_attempts)||3};try{const Pe=await Ne(kr.RETRY(le),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Le)}),Me=await Pe.json().catch(()=>({}));if(!Pe.ok||(Me==null?void 0:Me.success)===!1)throw new Error((Me==null?void 0:Me.detail)||`HTTP ${Pe.status}`);W.success((Me==null?void 0:Me.detail)||"Retry policy updated"),await un(le),await mt(le)}catch(Pe){console.error(Pe),W.error((Pe==null?void 0:Pe.message)||"Update failed")}}async function de(le,ke="campaign"){try{const Le=await Ne(kr.ICS(le));if(!Le.ok)throw new Error(`HTTP ${Le.status}`);const Pe=await Le.blob(),Me=URL.createObjectURL(Pe),ot=document.createElement("a");ot.href=Me,ot.download=`${ke||"campaign"}.ics`,document.body.appendChild(ot),ot.click(),ot.remove(),URL.revokeObjectURL(Me)}catch(Le){console.error(Le),W.error("ICS download failed")}}const Q=()=>{V(!0),te(1)},ee=()=>{V(!1),te(1),q(le=>({...le,name:"",include_lead_ids:[],exclude_lead_ids:[]}))},ae=()=>{te(le=>Math.min(6,le+1))},$e=()=>{te(le=>Math.max(1,le-1))};return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsxs("main",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[a.jsxs(pe.div,{initial:"hidden",animate:"show",variants:ta,className:"mb-6 sm:mb-8 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:"Campaigns"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-slate-600",children:"Manage your calling campaigns and schedules."})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx(Ai,{onClick:X,disabled:l,icon:l?a.jsx(zn,{className:"h-4 w-4 animate-spin"}):a.jsx(Ze,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Refresh"})}),a.jsxs(Ii,{onClick:Q,icon:a.jsx(Ls,{className:"h-4 w-4"}),children:[a.jsx("span",{className:"hidden sm:inline",children:"Create Campaign"}),a.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),a.jsxs(pe.div,{initial:"hidden",animate:"show",variants:NT,className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs("div",{className:"relative sm:col-span-1 lg:col-span-2",children:[a.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),a.jsx("input",{value:j,onChange:le=>{S(le.target.value),$(1)},placeholder:"Search name, status, IDs",className:"w-full rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 pl-9 sm:pl-10 pr-3 py-2 sm:py-2.5 text-sm sm:text-base text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search campaigns"})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 hidden sm:block",children:["Total: ",a.jsx("span",{className:"font-semibold text-slate-900",children:Z})]}),a.jsx("select",{value:M,onChange:le=>{F(Number(le.target.value)),$(1)},className:"rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[10,20,40,80].map(le=>a.jsxs("option",{value:le,children:[le," / page"]},le))})]})]}),a.jsxs(pe.div,{initial:"hidden",animate:"show",variants:kb,className:"mt-4 sm:mt-6 grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsx(pe.div,{variants:ta,children:a.jsx(Ab,{label:"Total Campaigns",value:Je.total,Icon:tr,tone:"blue"})}),a.jsx(pe.div,{variants:ta,children:a.jsx(Ab,{label:"Running",value:Je.running,Icon:ar,tone:"cyan"})}),a.jsx(pe.div,{variants:ta,className:"sm:col-span-2 lg:col-span-1",children:a.jsx(Ab,{label:"Paused",value:Je.paused,Icon:oa,tone:"blue"})})]}),a.jsx(pe.div,{initial:"hidden",animate:"show",variants:NT,className:"mt-4 sm:mt-6 overflow-x-auto rounded-2xl sm:rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:a.jsxs("div",{className:"min-w-full",children:[a.jsx("div",{className:"block sm:hidden",children:r?a.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3}).map((le,ke)=>a.jsx("div",{className:"animate-pulse bg-slate-100 rounded-xl p-4 h-24"},ke))}):a.jsx("div",{className:"divide-y divide-slate-200",children:Ae.map((le,ke)=>{var Me,ot;const Le=((Me=le.counts)==null?void 0:Me.total)||0,Pe=((ot=le.counts)==null?void 0:ot.completed_or_failed)||0;return a.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ke*.05},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>It(le),children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:Xh(le.name)}),a.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",le.id]})]}),a.jsx(Sh,{status:le.status})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[a.jsx("span",{children:Cb(le.created_at)}),a.jsxs("span",{children:[Le," leads"]})]}),a.jsx(ST,{done:Pe,total:Le,status:le.status})]},le.id)})})}),a.jsxs("table",{className:"hidden sm:table min-w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50/50 backdrop-blur",children:a.jsxs("tr",{children:[a.jsx(Pb,{sortKey:"name",sortBy:C,sortDir:O,onSort:le=>Tb(le,k,A),children:"Name"}),a.jsx(Pb,{sortKey:"status",sortBy:C,sortDir:O,onSort:le=>Tb(le,k,A),children:"Status"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"File"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Assistant"}),a.jsx(Pb,{sortKey:"calls_per_minute",sortBy:C,sortDir:O,onSort:le=>Tb(le,k,A),children:"Pacing"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Created"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Leads"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Progress"}),a.jsx("th",{})]})}),a.jsx("tbody",{children:r?a.jsx(Tue,{rows:M,cols:9}):Ae.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-5 py-4 text-center text-sm text-slate-500",children:"No campaigns found."})}):Ae.map(le=>{var Pe,Me;const ke=((Pe=le.counts)==null?void 0:Pe.total)||0,Le=((Me=le.counts)==null?void 0:Me.completed_or_failed)||0;return a.jsxs("tr",{className:"group/row hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:a.jsx("button",{onClick:()=>It(le),className:"group/cell flex items-center gap-2 text-left",children:Xh(le.name)})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx(Sh,{status:le.status})}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:le.file_id}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:le.assistant_id}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:le.calls_per_minute}),a.jsx("td",{className:"px-5 py-3 text-slate-600",children:Cb(le.created_at)}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:ke}),a.jsx("td",{className:"px-5 py-3",children:a.jsx(ST,{done:Le,total:ke,status:le.status})}),a.jsx("td",{className:"px-5 py-3 text-right",children:a.jsxs("div",{className:"invisible group-hover/row:visible flex items-center justify-end gap-2",children:[a.jsx(Ai,{onClick:()=>de(le.id,le==null?void 0:le.name),icon:a.jsx(Id,{className:"h-4 w-4"}),children:"ICS"}),a.jsx(Ai,{onClick:()=>It(le),icon:a.jsx(Jn,{className:"h-4 w-4"}),children:"Details"})]})})]},le.id)})})]})]})}),a.jsxs(pe.div,{initial:"hidden",animate:"show",variants:ta,className:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 order-2 sm:order-1",children:["Showing ",Z===0?0:(E-1)*M+1,"",Math.min(E*M,Z)," of ",Z]}),a.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[a.jsxs(W0,{disabled:E<=1,onClick:()=>$(E-1),children:[a.jsx(ua,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),a.jsxs("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-slate-700",children:[E," of ",je]}),a.jsxs(W0,{disabled:E>=je,onClick:()=>$(E+1),children:[a.jsx("span",{className:"hidden sm:inline",children:"Next"}),a.jsx(Bn,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]}),a.jsx(_t,{children:G&&a.jsxs(a.Fragment,{children:[a.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:jT,initial:"hidden",animate:"show",exit:"exit",onClick:ee}),a.jsx(pe.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:Nue,initial:"hidden",animate:"show",exit:"exit",children:a.jsxs("div",{className:"w-full max-w-xs sm:max-w-md lg:max-w-2xl xl:max-w-4xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx(Ls,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Create Campaign"}),a.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Step ",U," of 6"]})]})]}),a.jsx("button",{onClick:ee,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl border border-slate-200 hover:bg-slate-50 flex items-center justify-center transition-colors","aria-label":"Close",children:a.jsx(Gn,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),a.jsxs("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-50/50",children:[a.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:[1,2,3,4,5,6].map(le=>a.jsx(pe.div,{className:Pa("flex-1 h-1.5 sm:h-2 rounded-full transition-colors duration-300",le<=U?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-slate-200"),initial:{scaleX:0},animate:{scaleX:le<=U?1:0},transition:{duration:.3,delay:le*.05}},le))}),a.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[a.jsx("span",{className:"hidden sm:inline",children:"Details"}),a.jsx("span",{className:"hidden sm:inline",children:"Files"}),a.jsx("span",{className:"hidden sm:inline",children:"Leads"}),a.jsx("span",{className:"hidden sm:inline",children:"Schedule"}),a.jsx("span",{className:"hidden sm:inline",children:"Pacing"}),a.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx(_t,{mode:"wait",children:a.jsxs(pe.div,{variants:Sue,initial:"hidden",animate:"show",exit:"exit",className:"p-4 sm:p-6 lg:p-8",children:[U===1&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Campaign Details"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Set up the basic information for your campaign."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Name"}),a.jsx("input",{value:R.name,onChange:Ge,name:"name",placeholder:"Enter campaign name",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assistant"}),a.jsxs("select",{value:R.assistant_id,onChange:Ge,name:"assistant_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[a.jsx("option",{value:"",children:"Select assistant"}),m.map(le=>a.jsx("option",{value:le.id,children:le.name},le.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (optional)"}),a.jsx("textarea",{value:R.description,onChange:Ge,name:"description",placeholder:"Describe your campaign...",rows:3,className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition resize-none"})]})]}),U===2&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select File"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Choose the file containing the leads for your campaign."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File"}),a.jsxs("select",{value:R.file_id,onChange:Ge,name:"file_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[a.jsx("option",{value:"",children:"Select file"}),d.map(le=>a.jsx("option",{value:le.id,children:le.name},le.id))]})]})]}),U===3&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select Leads"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Choose which leads to include in your campaign."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selection Mode"}),a.jsxs("select",{value:R.selection_mode,onChange:Ge,name:"selection_mode",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[a.jsx("option",{value:"ALL",children:"All Leads"}),a.jsx("option",{value:"ONLY",children:"Only These Leads"}),a.jsx("option",{value:"SKIP",children:"Skip These Leads"})]})]}),R.selection_mode!=="ALL"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),a.jsx("input",{value:H,onChange:le=>B(le.target.value),placeholder:"Search leads",className:"w-full rounded-xl border border-slate-200 px-9 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),b?a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center text-sm text-slate-600",children:[a.jsx(zn,{className:"h-5 w-5 animate-spin mx-auto mb-3"})," Loading leads"]}):a.jsx(Eue,{leads:x,mode:R.selection_mode,search:H,selectedIds:R.selection_mode==="ONLY"?R.include_lead_ids:R.exclude_lead_ids,onChange:le=>{R.selection_mode==="ONLY"?q(ke=>({...ke,include_lead_ids:le})):q(ke=>({...ke,exclude_lead_ids:le}))}})]})]}),U===4&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Schedule"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Set up the schedule for your campaign."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),a.jsx("select",{name:"timezone",value:R.timezone,onChange:Ge,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:vL.map(le=>a.jsx("option",{value:le.value,children:le.label},le.value))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(le=>a.jsx("button",{type:"button",onClick:()=>vt(le),className:Pa("px-3 py-1.5 rounded-xl border text-sm",R.days_of_week.includes(le)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][le]},le))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(pr,{label:"Daily start",name:"daily_start",value:R.daily_start,onChange:Ge,placeholder:"HH:MM"}),a.jsx(pr,{label:"Daily end",name:"daily_end",value:R.daily_end,onChange:Ge,placeholder:"HH:MM"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(pr,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:R.start_at,onChange:Ge}),a.jsx(pr,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:R.end_at,onChange:Ge})]})]})]}),U===5&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Pacing"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Set up the pacing for your campaign."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsx(pr,{label:"Calls per minute",name:"calls_per_minute",value:R.calls_per_minute,onChange:Ge}),a.jsx(pr,{label:"Parallel calls",name:"parallel_calls",value:R.parallel_calls,onChange:Ge}),a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!R.retry_on_busy,onChange:Ge}),a.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),a.jsx(pr,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:R.busy_retry_delay_minutes,onChange:Ge}),a.jsx(pr,{label:"Max attempts",name:"max_attempts",value:R.max_attempts,onChange:Ge})]})]}),U===6&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Review"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Review your campaign details before creating."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Name"}),a.jsx("div",{className:"text-sm text-slate-600",children:R.name||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"File"}),a.jsx("div",{className:"text-sm text-slate-600",children:((qe=d.find(le=>String(le.id)===String(R.file_id)))==null?void 0:qe.name)||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Assistant"}),a.jsx("div",{className:"text-sm text-slate-600",children:((lt=m.find(le=>String(le.id)===String(R.assistant_id)))==null?void 0:lt.name)||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Schedule"}),a.jsxs("div",{className:"text-sm text-slate-600",children:[Eb(R.days_of_week),"  ",R.daily_start,"",R.daily_end," (",R.timezone,")"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Pacing"}),a.jsxs("div",{className:"text-sm text-slate-600",children:[R.calls_per_minute," CPM  ",R.parallel_calls," parallel"]})]})]})]})]},U)})}),a.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[a.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:U>1&&a.jsxs(Ai,{onClick:$e,icon:a.jsx(ua,{className:"h-4 w-4"}),children:[a.jsx("span",{className:"hidden sm:inline",children:"Previous"}),a.jsx("span",{className:"sm:hidden",children:"Back"})]})}),a.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:U<6?a.jsxs(Ii,{onClick:ae,icon:a.jsx(Bn,{className:"h-4 w-4"}),children:[a.jsx("span",{className:"hidden sm:inline",children:"Next Step"}),a.jsx("span",{className:"sm:hidden",children:"Next"})]}):a.jsx(Ii,{onClick:Ht,disabled:be,icon:be?a.jsx(zn,{className:"h-4 w-4 animate-spin"}):a.jsx(e0,{className:"h-4 w-4"}),children:be?"Creating...":"Create Campaign"})})]})]})})]})}),a.jsx(_t,{children:T&&a.jsxs(a.Fragment,{children:[a.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:jT,initial:"hidden",animate:"show",exit:"exit",onClick:()=>D(!1)}),a.jsxs(pe.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[90vw] md:w-[620px] lg:w-[880px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Campaign details",children:[a.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[a.jsx("button",{onClick:()=>D(!1),className:"grid h-8 w-8 sm:h-9 sm:w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50 flex-shrink-0","aria-label":"Close",children:a.jsx(Gn,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight truncate",children:["Campaign #",L==null?void 0:L.id]}),a.jsx("p",{className:"text-xs text-slate-600 truncate",children:Xh(L==null?void 0:L.name)})]})]}),a.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:a.jsx(Ai,{onClick:()=>de(L.id,L==null?void 0:L.name),icon:a.jsx(Id,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"ICS"})})})]}),a.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sh,{status:(se==null?void 0:se.status)||(Y==null?void 0:Y.status)||(L==null?void 0:L.status)}),a.jsx(bL,{active:!!(se!=null&&se.active_now)}),se!=null&&se.active_now?a.jsx(ja,{tone:"green",children:"Active now"}):a.jsx(ja,{tone:"amber",children:"Idle"})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cz,{className:"h-4 w-4 text-slate-500"}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-slate-500",children:"Local:"})," ",a.jsx("span",{className:"font-medium text-slate-800",children:Cb((Qe=se==null?void 0:se.now)==null?void 0:Qe.local)||""})]})]}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-slate-500",children:"Window: "}),a.jsxs("span",{className:"font-medium text-slate-800",children:[Eb(((wt=se==null?void 0:se.window)==null?void 0:wt.days_of_week)??(Y==null?void 0:Y.days_of_week)??(L==null?void 0:L.days_of_week))," "," ",((Ct=se==null?void 0:se.window)==null?void 0:Ct.daily_start)||(Y==null?void 0:Y.daily_start)||(L==null?void 0:L.daily_start)||"09:00","",((pa=se==null?void 0:se.window)==null?void 0:pa.daily_end)||(Y==null?void 0:Y.daily_end)||(L==null?void 0:L.daily_end)||"18:00"," ","(",(se==null?void 0:se.timezone)||(Y==null?void 0:Y.timezone)||(L==null?void 0:L.timezone)||"Local",")"]})]}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-slate-500",children:"Next tick:"})," ",a.jsx("span",{className:"font-medium text-slate-800",children:se!=null&&se.next_tick_at?`${wue(se.next_tick_at)}  in ${jue(se.next_tick_at)}`:""})]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx(_ue,{totals:(se==null?void 0:se.totals)||(Y==null?void 0:Y.totals)})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[a.jsxs(pe.div,{initial:"hidden",animate:"show",variants:kb,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[a.jsxs(pe.div,{variants:ta,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Status"}),a.jsx(Sh,{status:(se==null?void 0:se.status)||(Y==null?void 0:Y.status)||(L==null?void 0:L.status)})]}),a.jsxs(pe.div,{variants:ta,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Window"}),a.jsxs("div",{className:"text-sm text-slate-800",children:[a.jsx("div",{className:"truncate",children:Eb(((dn=se==null?void 0:se.window)==null?void 0:dn.days_of_week)??(Y==null?void 0:Y.days_of_week)??(L==null?void 0:L.days_of_week))}),a.jsx("div",{className:"text-xs sm:text-sm",children:(((yt=se==null?void 0:se.window)==null?void 0:yt.daily_start)||(Y==null?void 0:Y.daily_start)||(L==null?void 0:L.daily_start)||"09:00")+""+(((Zt=se==null?void 0:se.window)==null?void 0:Zt.daily_end)||(Y==null?void 0:Y.daily_end)||(L==null?void 0:L.daily_end)||"18:00")}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(se==null?void 0:se.timezone)||(Y==null?void 0:Y.timezone)||(L==null?void 0:L.timezone)||"Local"})]})]}),a.jsxs(pe.div,{variants:ta,className:"rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 sm:col-span-2 lg:col-span-1",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Counts"}),a.jsxs("div",{className:"text-sm text-slate-800 grid grid-cols-2 gap-y-1",children:[a.jsxs("div",{children:["Total: ",((ns=se==null?void 0:se.totals)==null?void 0:ns.total)??((ao=Y==null?void 0:Y.totals)==null?void 0:ao.total)??((Of=L==null?void 0:L.counts)==null?void 0:Of.total)??""]}),a.jsxs("div",{children:["Done: ",((Mf=se==null?void 0:se.totals)==null?void 0:Mf.done)??((Zc=Y==null?void 0:Y.totals)==null?void 0:Zc.done)??((ei=L==null?void 0:L.counts)==null?void 0:ei.completed_or_failed)??""]}),a.jsxs("div",{children:["Calling: ",((so=se==null?void 0:se.totals)==null?void 0:so.calling)??""]}),a.jsxs("div",{children:["Retry: ",((rs=se==null?void 0:se.totals)==null?void 0:rs.retry)??""]})]})]})]}),a.jsxs(pe.div,{initial:"hidden",animate:"show",variants:ta,className:"mt-4 flex flex-wrap items-center gap-2",children:[String((se==null?void 0:se.status)||(Y==null?void 0:Y.status)||(L==null?void 0:L.status)).toLowerCase()==="paused"?a.jsx(Ii,{onClick:()=>Qs(L.id),icon:a.jsx(df,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Resume"})}):a.jsx(Ii,{onClick:()=>Zs(L.id),icon:a.jsx(aB,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Pause"})}),a.jsx(Ai,{onClick:()=>Ra(L.id),icon:a.jsx(pc,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Stop"})}),a.jsx(Ai,{onClick:()=>La(L.id),icon:a.jsx(Ze,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Sync Leads"})}),a.jsx(Ai,{onClick:()=>Wn(L.id),icon:a.jsx(sr,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]}),a.jsxs(pe.div,{initial:"hidden",animate:"show",variants:kb,className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsx(pe.div,{variants:ta,children:a.jsx(kue,{details:se!=null&&se.window?{...Y,...se,days_of_week:(as=se.window)==null?void 0:as.days_of_week,daily_start:(ti=se.window)==null?void 0:ti.daily_start,daily_end:(ss=se.window)==null?void 0:ss.daily_end,timezone:se.timezone}:Y,onSubmit:le=>lr(L.id,le),loading:oe})}),a.jsx(pe.div,{variants:ta,children:a.jsx(Aue,{details:Y,onSubmit:le=>Js(L.id,le),loading:oe})})]}),a.jsx(pe.div,{initial:"hidden",animate:"show",variants:ta,children:a.jsx(Cue,{onRun:le=>Xn(L.id,le)})})]})]})]})})]})}function Cue({onRun:e}){const[t,n]=v.useState(5);return a.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[a.jsx(T6,{className:"h-4 w-4"})," Run Now"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:1,className:"w-24 rounded-xl border border-slate-200 px-3 py-2 text-sm",value:t,onChange:r=>n(Number(r.target.value)||5)}),a.jsx(Ii,{onClick:()=>e(t),icon:a.jsx(df,{className:"h-4 w-4"}),children:"Trigger"})]})]}),a.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Immediately place a small batch of calls (ignores schedule window)."})]})}function kue({details:e,onSubmit:t,loading:n}){const[r,i]=v.useState({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:jh(e==null?void 0:e.start_at),end_at:jh(e==null?void 0:e.end_at)});v.useEffect(()=>{i({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:jh(e==null?void 0:e.start_at),end_at:jh(e==null?void 0:e.end_at)})},[e]);function l(d){const{name:f,value:m}=d.target;i(h=>({...h,[f]:m}))}function c(d){i(f=>{const h=f.days_of_week.includes(d)?f.days_of_week.filter(x=>x!==d):[...f.days_of_week,d];return h.sort((x,g)=>x-g),{...f,days_of_week:h}})}return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[a.jsx(P6,{className:"h-4 w-4"})," Schedule"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),a.jsx("select",{name:"timezone",value:r.timezone,onChange:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:vL.map(d=>a.jsx("option",{value:d.value,children:d.label},d.value))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(d=>a.jsx("button",{type:"button",onClick:()=>c(d),className:Pa("px-3 py-1.5 rounded-xl border text-sm",r.days_of_week.includes(d)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][d]},d))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(pr,{label:"Daily start",name:"daily_start",value:r.daily_start,onChange:l,placeholder:"HH:MM"}),a.jsx(pr,{label:"Daily end",name:"daily_end",value:r.daily_end,onChange:l,placeholder:"HH:MM"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(pr,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:r.start_at,onChange:l}),a.jsx(pr,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:r.end_at,onChange:l})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ii,{onClick:()=>t(r),disabled:n,children:"Save Schedule"})})]})]})}function Aue({details:e,onSubmit:t,loading:n}){const[r,i]=v.useState({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3});v.useEffect(()=>{i({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3})},[e]);function l(c){const{name:d,value:f,type:m,checked:h}=c.target;i(x=>({...x,[d]:m==="checkbox"?h:f}))}return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[a.jsx(T6,{className:"h-4 w-4"})," Retry Policy"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!r.retry_on_busy,onChange:l}),a.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),a.jsx(pr,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:r.busy_retry_delay_minutes,onChange:l}),a.jsx(pr,{label:"Max attempts",name:"max_attempts",value:r.max_attempts,onChange:l}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ii,{onClick:()=>t(r),disabled:n,children:"Save Retry Policy"})})]})]})}function Eue({leads:e,mode:t,search:n,selectedIds:r,onChange:i}){const[l,c]=v.useState(1),d=12,f=v.useMemo(()=>{const w=(n||"").toLowerCase().trim();return w?e.filter(j=>`${j.first_name||""} ${j.last_name||""}`.toLowerCase().includes(w)||(j.email||"").toLowerCase().includes(w)||(j.mobile||"").toLowerCase().includes(w)):e},[e,n]),m=Math.max(1,Math.ceil(f.length/d));v.useEffect(()=>{l>m&&c(m)},[l,m]);const h=(l-1)*d,x=h+d,g=f.slice(h,x);function b(w){const j=r.includes(w);i(j?r.filter(S=>S!==w):[...r,w])}return a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[a.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:g.length===0?a.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No leads match your search."}):g.map(w=>{const j=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unknown";return a.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.includes(w.id),onChange:()=>b(w.id)}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-slate-900 text-sm",children:j}),a.jsx("div",{className:"text-xs text-slate-600 break-all",children:(w.email||"")+"  "+(w.mobile||"")})]}),w.dnc?a.jsx(ja,{tone:"red",children:"DNC"}):a.jsx(ja,{tone:"green",children:"OK"})]},w.id)})}),f.length>d&&a.jsxs("div",{className:"flex items-center justify-between p-2",children:[a.jsxs("span",{className:"text-xs text-slate-600",children:["Showing ",Math.min(x,f.length)," of ",f.length]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(W0,{disabled:l<=1,onClick:()=>c(w=>Math.max(1,w-1)),children:[a.jsx(ua,{className:"h-3.5 w-3.5"})," Prev"]}),a.jsxs("span",{className:"text-xs text-slate-700",children:[l,"/",m]}),a.jsxs(W0,{disabled:l>=m,onClick:()=>c(w=>Math.min(m,w+1)),children:["Next ",a.jsx(Bn,{className:"h-3.5 w-3.5"})]})]})]}),a.jsxs("div",{className:"p-3 border-t border-slate-200 text-xs text-slate-700",children:["Mode: ",a.jsx("strong",{children:t}),"  Selected: ",a.jsx("strong",{children:r.length})]})]})}function Eb(e){const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=new Set(Array.isArray(e)?e:[]);return n.size===5&&[0,1,2,3,4].every(r=>n.has(r))?"MonFri":n.size===7?"Every day":Array.from(n).sort((r,i)=>r-i).map(r=>t[r]||"?").join(", ")}function Tb(e,t,n){t(r=>r===e?(n(i=>i==="asc"?"desc":"asc"),r):(n(e==="created_at"?"desc":"asc"),e))}function Ii({children:e,onClick:t,disabled:n,icon:r,type:i="button"}){return a.jsxs(pe.button,{whileHover:n?void 0:{scale:1.02},whileTap:n?void 0:{scale:.98},type:i,onClick:t,disabled:n,className:Pa("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-semibold text-white transition-all duration-200","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)] hover:shadow-[0_12px_32px_-12px_rgba(37,99,235,0.65)]","disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[r,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function Ai({children:e,onClick:t,icon:n,type:r="button",disabled:i}){return a.jsxs(pe.button,{whileHover:i?void 0:{scale:1.02},whileTap:i?void 0:{scale:.98},type:r,onClick:t,disabled:i,className:Pa("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl border border-slate-200 bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-medium text-slate-800 ring-1 ring-white/70 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm",i&&"opacity-60 cursor-not-allowed"),children:[n,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function W0({children:e,disabled:t,onClick:n}){return a.jsx(pe.button,{whileHover:t?void 0:{scale:1.02},whileTap:t?void 0:{scale:.98},disabled:t,onClick:n,className:Pa("inline-flex items-center gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border px-2.5 sm:px-3.5 py-1.5 sm:py-2 text-xs sm:text-sm transition-all duration-200",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50 hover:shadow-sm"),children:e})}function Pb({children:e,sortKey:t,sortBy:n,sortDir:r,onSort:i}){const l=n===t;return a.jsx("th",{className:Pa("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>i(t),title:"Sort",children:a.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,a.jsx("span",{className:Pa("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function Tue({rows:e=6,cols:t=6}){return a.jsx(a.Fragment,{children:Array.from({length:e}).map((n,r)=>a.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((i,l)=>a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function pr({label:e,name:t,value:n,onChange:r,type:i="text",placeholder:l,className:c}){return a.jsxs("label",{className:Pa("block",c),children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),a.jsx("input",{type:i,name:t,value:n??"",onChange:r,placeholder:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}const Ob={};var fc={};const Ei=typeof import.meta<"u"&&"http://localhost:8000"||typeof process<"u"&&(fc==null?void 0:fc.NEXT_PUBLIC_API_URL)||"http://localhost:8000",Ti=typeof import.meta<"u"&&(Ob==null?void 0:Ob.VITE_API_PREFIX)||typeof process<"u"&&(fc==null?void 0:fc.NEXT_PUBLIC_API_PREFIX)||"/api",ad=typeof window<"u"?window.location.origin:"",Pue="/integrations",Oue=["hubspot"],Pi={PROVIDERS:`${Ei}${Ti}/crm/providers`,ACCOUNTS:`${Ei}${Ti}/crm/accounts`,CONNECT:e=>`${Ei}${Ti}/crm/connect/${e}`,DISCONNECT:e=>`${Ei}${Ti}/crm/disconnect/${e}`,ENSURE_FRESH:e=>`${Ei}${Ti}/crm/ensure-fresh/${e}`,SET_TOKEN:e=>`${Ei}${Ti}/crm/token/${e}`,CONTACTS:e=>`${Ei}${Ti}/crm/${e}/contacts`,LEADS:e=>`${Ei}${Ti}/crm/${e}/leads`},Mue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Due(...e){return e.filter(Boolean).join(" ")}function ra({children:e,className:t="",variant:n="outline",size:r="md",...i}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...i,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Rue({rows:e=6,cols:t=5}){return a.jsx(a.Fragment,{children:Array.from({length:e}).map((n,r)=>a.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((i,l)=>a.jsx("td",{className:"px-4 py-4",children:a.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Lue({children:e,onClose:t,title:n}){return a.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(ra,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(Gn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function $ue({size:e=24}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,className:"text-blue-600",fill:"none","aria-label":"HubSpot",children:[a.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"2"}),a.jsx("circle",{cx:"12",cy:"12",r:"3.5",fill:"#2563eb"})]})}function _h({label:e,value:t,Icon:n,tone:r="blue",valueClassName:i=""}){const l=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl pointer-events-none",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${c} text-white shadow-inner ring-1 ${l} shrink-0`,children:a.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:Due("text-base sm:text-xl font-extrabold text-slate-900 truncate","min-w-0 max-w-full break-words",i),title:typeof t=="string"?t:void 0,children:t})]})]})]})}function CT({name:e="",size:t=38}){const n=(e||"?").split(" ").filter(Boolean).map(r=>r[0]).join("").slice(0,2).toUpperCase();return a.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:t,height:t},children:a.jsx("span",{style:{fontSize:t<40?12:13},children:n||"?"})})}function Iue(){const e=v.useRef(typeof window<"u"&&window.localStorage.getItem("token")||null),[t,n]=v.useState([]),[r,i]=v.useState([]),[l,c]=v.useState(!0),[d,f]=v.useState(!1),[m,h]=v.useState(!1),[x,g]=v.useState(""),[b,w]=v.useState(!1),[j,S]=v.useState("contacts"),[_,C]=v.useState(25),[k,O]=v.useState([]),[A,E]=v.useState(null),[$,M]=v.useState({}),[F,G]=v.useState(""),[V,U]=v.useState(!1),te=r.some(z=>z.crm==="hubspot"),be=r.find(z=>z.crm==="hubspot"),re=v.useCallback(async(z,Y={})=>{if(!e.current)throw new Error("No token");const ye={...Y.headers||{},Authorization:`Bearer ${e.current}`};return Y.body&&!ye["Content-Type"]&&(ye["Content-Type"]="application/json"),await fetch(z,{...Y,headers:ye})},[]),R=v.useCallback(async()=>{try{const Y=await(await re(Pi.PROVIDERS)).json(),ye=Array.isArray(Y)?Y:[];n(ye.filter(se=>Oue.includes(se==null?void 0:se.name)))}catch(z){console.error(z),n([]),W.error("Failed to fetch providers")}},[re]),q=v.useCallback(async()=>{try{const Y=await(await re(Pi.ACCOUNTS)).json(),ye=Array.isArray(Y)?Y:[];i(ye.filter(se=>(se==null?void 0:se.crm)==="hubspot"))}catch(z){console.error(z),i([]),W.error("Failed to fetch accounts")}},[re]);v.useEffect(()=>{(async()=>{if(!e.current){W.error("No auth token found. Please log in."),c(!1);return}try{await Promise.all([R(),q()])}finally{c(!1)}})()},[R,q]),v.useEffect(()=>{const z=new URLSearchParams(window.location.search),Y=z.get("status"),ye=z.get("crm");if(Y&&window.opener){try{window.opener.postMessage({type:"crm-oauth",status:Y,crm:ye},ad)}catch{}window.close()}},[]),v.useEffect(()=>{function z(Y){if(Y.origin!==ad)return;const ye=Y.data||{};ye.type==="crm-oauth"&&(ye.status==="success"?W.success("HUBSPOT connected"):W.error(`OAuth error: ${ye.status||"unknown"}`),q(),f(!1))}return window.addEventListener("message",z),()=>window.removeEventListener("message",z)},[q]);async function H(){try{f(!0);const z={redirect_to:`${ad}${Pue}`},Y=await re(Pi.CONNECT("hubspot"),{method:"POST",body:JSON.stringify(z)}),ye=await Y.json();if(!Y.ok||!(ye!=null&&ye.auth_url))throw new Error((ye==null?void 0:ye.detail)||"Failed to start OAuth");const se=ye.auth_url,ve=680,we=760,Ne=window.screenX+Math.max(0,(window.outerWidth-ve)/2),me=window.screenY+Math.max(0,(window.outerHeight-we)/2),Oe=window.open(se,"crm-oauth",`width=${ve},height=${we},left=${Ne},top=${me}`);if(!Oe){window.location.href=se;return}const Be=Date.now(),Xe=setInterval(async()=>{if(Oe.closed||Date.now()-Be>12e4)clearInterval(Xe),await q(),f(!1);else try{await q()}catch{}},2e3)}catch(z){console.error(z),W.error((z==null?void 0:z.message)||"OAuth failed to start"),f(!1)}}async function B(){if(!x.trim()){W.error("Token is required");return}try{w(!0);const z=await re(Pi.SET_TOKEN("hubspot"),{method:"POST",body:JSON.stringify({access_token:x.trim()})}),Y=await z.json().catch(()=>({}));if(!z.ok||(Y==null?void 0:Y.success)===!1)throw new Error((Y==null?void 0:Y.detail)||`HTTP ${z.status}`);W.success((Y==null?void 0:Y.message)||"Token saved"),h(!1),await q()}catch(z){console.error(z),W.error((z==null?void 0:z.message)||"Failed to save token")}finally{w(!1)}}async function T(){try{const z=await re(Pi.ENSURE_FRESH("hubspot"),{method:"POST"}),Y=await z.json().catch(()=>({}));if(!z.ok||(Y==null?void 0:Y.success)===!1)throw new Error((Y==null?void 0:Y.detail)||`HTTP ${z.status}`);W.success("Token refreshed"),await q()}catch(z){console.error(z),W.error((z==null?void 0:z.message)||"Refresh failed")}}async function D(){if(confirm("Disconnect HubSpot?"))try{const z=await re(Pi.DISCONNECT("hubspot"),{method:"DELETE"}),Y=await z.json().catch(()=>({}));if(!z.ok||(Y==null?void 0:Y.success)===!1)throw new Error((Y==null?void 0:Y.detail)||`HTTP ${z.status}`);W.success((Y==null?void 0:Y.message)||"Disconnected"),await q(),O([]),E(null),M({})}catch(z){console.error(z),W.error((z==null?void 0:z.message)||"Disconnect failed")}}async function L(z=!1){if(!te){W.info("Connect HubSpot first");return}try{U(!0);const Y=j==="contacts"?Pi.CONTACTS("hubspot"):Pi.LEADS("hubspot"),ye=new URLSearchParams({limit:String(_||25)});let se=`${Y}?${ye.toString()}`;!z&&A&&(se+=`&cursor=${encodeURIComponent(A)}`);const ve=await re(se),we=await ve.json();if(!ve.ok)throw new Error((we==null?void 0:we.detail)||`HTTP ${ve.status}`);const Ne=(we==null?void 0:we.items)||[],me=(we==null?void 0:we.next_cursor)||null;O(Oe=>z?Ne:[...Oe,...Ne]),E(me),M((we==null?void 0:we.raw_paging)||{})}catch(Y){console.error(Y);const ye=String((Y==null?void 0:Y.message)||"");ye.includes("Invalid paging token")?(W.error("Invalid/expired cursor; starting over."),E(null)):W.error(ye||"Fetch failed")}finally{U(!1)}}const K=v.useMemo(()=>{const z=F.trim().toLowerCase();return z?k.filter(Y=>{const ye=(Y.name||"").toLowerCase(),se=(Y.email||"").toLowerCase(),ve=(Y.phone||"").toLowerCase(),we=(Y.company||"").toLowerCase();return ye.includes(z)||se.includes(z)||ve.includes(z)||we.includes(z)}):k},[k,F]),oe=t.find(z=>z.name==="hubspot");return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-5 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx($ue,{size:24})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight leading-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${Mue}`,children:"CRM Integrations  HubSpot"})}),a.jsx("p",{className:"text-[11px] sm:text-xs md:text-sm text-slate-600",children:"Connect HubSpot and browse Contacts & Leads directly in your app."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[te?a.jsxs(a.Fragment,{children:[a.jsxs(ra,{onClick:T,size:"sm",children:[a.jsx(g5,{className:"mr-2 h-4 w-4"}),"Ensure Fresh"]}),a.jsxs(ra,{onClick:D,variant:"danger",size:"sm",children:[a.jsx($B,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(ra,{onClick:H,variant:"primary",disabled:d,size:"sm",children:d?a.jsxs(a.Fragment,{children:[a.jsx(zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting"]}):a.jsxs(a.Fragment,{children:[a.jsx(wd,{className:"mr-2 h-4 w-4"}),"Connect"]})}),a.jsxs(ra,{onClick:()=>h(!0),size:"sm",children:[a.jsx(xd,{className:"mr-2 h-4 w-4"}),"Use PAT"]})]}),a.jsxs(ra,{onClick:()=>{R(),q()},size:"sm",children:[a.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),!te&&((oe==null?void 0:oe.type)||"oauth")==="oauth"&&a.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 text-[11px] sm:text-[12px] text-slate-500",children:[a.jsx(ia,{className:"h-4 w-4 mt-0.5 text-slate-400 shrink-0"}),a.jsxs("span",{className:"min-w-0",children:["Ensure backend env ",a.jsx("code",{children:"ALLOWED_REDIRECT_ORIGINS"})," includes"," ",a.jsx("code",{className:"break-all",children:ad}),"."]})]})]}),a.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(_h,{label:"Connection",value:te?"Connected":"Not connected",Icon:te?ar:oa,tone:te?"blue":"cyan"}),a.jsx(_h,{label:j==="contacts"?"Contacts Loaded":"Leads Loaded",value:k.length,Icon:tr,tone:"cyan"}),a.jsx(_h,{label:"Next Cursor",value:A?String(A).slice(0,10)+"":"",Icon:bd,tone:"blue"}),a.jsx(_h,{label:"Account",value:(be==null?void 0:be.external_account_name)||"",Icon:zd,tone:"cyan",valueClassName:"truncate break-all max-w-[14ch] sm:max-w-[24ch] md:max-w-[28ch] xl:max-w-[32ch]"})]}),a.jsxs("div",{className:"mt-5 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-3 sm:px-5 py-3 border-b border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Dr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:F,onChange:z=>G(z.target.value),placeholder:"Search by name, email, phone, company",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(bd,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Data"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:j,onChange:z=>{S(z.target.value),O([]),E(null),M({})},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"contacts",children:"Contacts"}),a.jsx("option",{value:"leads",children:"Leads"})]}),a.jsx("select",{value:_,onChange:z=>C(Number(z.target.value)||25),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(z=>a.jsxs("option",{value:z,children:[z," / page"]},z))}),a.jsxs(ra,{onClick:()=>L(!0),disabled:!te,variant:"primary",size:"sm",children:[a.jsx(uB,{className:"mr-2 h-4 w-4"}),"Fetch"]}),a.jsxs(ra,{onClick:()=>L(!1),disabled:!te||!A,size:"sm",children:[a.jsx(Bn,{className:"mr-2 h-4 w-4"}),"Load more"]})]})]}),V?a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Fa,{children:"Name"}),a.jsx(Fa,{children:"Email"}),a.jsx(Fa,{children:"Phone"}),a.jsx(Fa,{children:"Company"}),a.jsx(Fa,{children:"ID"})]})}),a.jsx("tbody",{children:a.jsx(Rue,{rows:6,cols:5})})]})})}):K.length===0?a.jsxs("div",{className:"grid place-content-center py-14 px-4",children:[a.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-slate-100 mb-3",children:a.jsx(bd,{className:"h-8 w-8 text-slate-400"})}),a.jsx("div",{className:"text-sm sm:text-base font-semibold text-slate-700",children:"No data"}),a.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Click ",a.jsx("b",{children:"Fetch"})," to load ",j,"."]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Fa,{children:"Name"}),a.jsx(Fa,{children:"Email"}),a.jsx(Fa,{children:"Phone"}),a.jsx(Fa,{children:"Company"}),a.jsx(Fa,{children:"ID"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:K.map(z=>a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(sd,{children:a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(CT,{name:z.name}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:z.name||""}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID ",z.id]})]})]})}),a.jsx(sd,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[a.jsx(Ta,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"text-xs font-medium break-words",children:z.email||""})]})}),a.jsx(sd,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[a.jsx(ut,{className:"h-3.5 w-3.5 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium",children:z.phone||""})]})}),a.jsx(sd,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[a.jsx(c5,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"text-xs font-medium truncate max-w-[240px]",children:z.company||""})]})}),a.jsx(sd,{children:a.jsx("code",{className:"text-[11px] text-slate-500 break-all",children:z.id})})]},`${z.id}-${z.email||z.name||"row"}`))})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:K.map((z,Y)=>a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Y===0&&a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),a.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[a.jsx(CT,{name:z.name,size:44}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:z.name||""}),a.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-[12px] sm:text-sm text-slate-600 min-w-0",children:[a.jsx(Ta,{className:"h-4 w-4 text-slate-500 shrink-0"}),a.jsx("span",{className:"truncate break-words",children:z.email||""})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-slate-700",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px]",children:[a.jsx(ut,{className:"h-3.5 w-3.5 text-slate-500"}),z.phone||""]}),a.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] min-w-0",children:[a.jsx(c5,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"truncate max-w-[160px] sm:max-w-[200px]",children:z.company||""})]})]})]})]}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID ",z.id]})]},`${z.id}-${z.email||z.name||"card"}`))})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-3 sm:px-5 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 min-w-0",children:["Next cursor:"," ",a.jsx("b",{className:"font-mono break-all",children:String(A||"")})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(ra,{onClick:()=>L(!0),disabled:!te,size:"sm",children:[a.jsx(ua,{className:"h-4 w-4 mr-1"}),"Reset"]}),a.jsxs(ra,{onClick:()=>L(!1),disabled:!te||!A,variant:"primary",size:"sm",children:["Load more ",a.jsx(Bn,{className:"h-4 w-4 ml-1"})]})]})]}),Object.keys($||{}).length>0&&a.jsx("div",{className:"hidden sm:block px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[a.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Provider paging (raw)"}),a.jsx("div",{className:"max-w-full overflow-x-auto",children:a.jsx("pre",{className:"text-[11px] text-slate-600 min-w-0",children:JSON.stringify($,null,2)})})]})})]})]}),a.jsx(_t,{children:m&&a.jsxs(Lue,{onClose:()=>h(!1),title:"Set HubSpot PAT",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-slate-600",children:"Paste your HubSpot Personal Access Token (PAT)."}),a.jsx("input",{value:x,onChange:z=>g(z.target.value),placeholder:"pat-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),a.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-[12px] flex items-start gap-2",children:[a.jsx(ia,{className:"h-4 w-4 mt-0.5"}),"Backend verifies via ",a.jsx("code",{children:"/crm/token/hubspot"}),". Make sure CORS allows"," ",a.jsx("code",{className:"break-all",children:ad}),"."]})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(ra,{onClick:()=>h(!1),variant:"subtle",children:"Cancel"}),a.jsx(ra,{onClick:B,variant:"primary",disabled:b,children:b?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(g5,{className:"h-4 w-4 mr-2"}),"Save Token"]})})]})]})})]})}function Fa({children:e}){return a.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function sd({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}const Ch="http://localhost:8000",Mb={LIST:`${Ch}/api/appointments`,CREATE:`${Ch}/api/appointments/tool/schedule`,DETAIL:e=>`${Ch}/api/appointments/${e}`,UPDATE:e=>`${Ch}/api/appointments/${e}`},zue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Na({children:e,className:t="",variant:n="outline",size:r="md",...i}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...i,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function kT({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function qo({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Ko({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Oi({label:e,children:t}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function wL({children:e,onClose:t,title:n}){return a.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(Na,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(Gn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}const sc=e=>{switch(String(e||"").toLowerCase()){case"scheduled":return{badge:"border-amber-200 bg-amber-50 text-amber-700",icon:Xb};case"completed":return{badge:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:ar};case"cancelled":case"canceled":return{badge:"border-red-200 bg-red-50 text-red-700",icon:oa};default:return{badge:"border-slate-200 bg-slate-50 text-slate-700",icon:Xb}}};function gw(e){try{const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return e}}function Bue(e){const t=String(e||"").trim().toLowerCase();if(!t)return"";if(t==="noon")return"12:00";if(t==="midnight")return"00:00";const n=t.match(/(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)/i);if(n){let i=parseInt(n[1]);const l=parseInt(n[2]||"0"),c=(n[3]||"").toLowerCase();return c==="pm"&&i<12&&(i+=12),c==="am"&&i===12&&(i=0),`${String(i).padStart(2,"0")}:${String(l).padStart(2,"0")}`}const r=t.match(/^(\d{1,2})(?::(\d{1,2}))?$/);if(r){let i=parseInt(r[1]);const l=parseInt(r[2]||"0");if(i<=24&&l<=59)return`${String(i).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return t}function Uue(e){const t=String(e||"").trim();if(!t)return"";const n=t.startsWith("+")?"+":"",r=t.replace(/\D+/g,"");return n+r}function Fue(){const[e,t]=v.useState([]),[n,r]=v.useState(!1),[i,l]=v.useState(""),[c,d]=v.useState(""),[f,m]=v.useState("all"),[h,x]=v.useState(""),[g,b]=v.useState(""),[w,j]=v.useState(1),S=10,[_,C]=v.useState(!1),[k,O]=v.useState(!1),[A,E]=v.useState({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),[$,M]=v.useState(null),F=typeof window<"u"?localStorage.getItem("token"):null,G=v.useCallback(async()=>{try{r(!0),l("");const B=await fetch(Mb.LIST,{headers:{Accept:"application/json",...F?{Authorization:`Bearer ${F}`}:{}},mode:"cors"});if(!B.ok)throw new Error(`HTTP ${B.status}`);const T=await B.json(),L=(Array.isArray(T)?T:(T==null?void 0:T.appointments)||[]).map(K=>({id:K.id,title:K.title,notes:K.notes,location:K.location,phone:K.phone,timezone:K.timezone,start_at:K.start_at,end_at:K.end_at,duration_minutes:K.duration_minutes,status:K.status,created_at:K.created_at,updated_at:K.updated_at}));L.sort((K,oe)=>new Date(oe.start_at)-new Date(K.start_at)),t(L)}catch(B){l((B==null?void 0:B.message)||"Failed to load appointments"),W.error((B==null?void 0:B.message)||"Failed to load appointments")}finally{r(!1)}},[F]);v.useEffect(()=>{G()},[G]);const V=v.useMemo(()=>{let B=[...e];if(c.trim()){const T=c.trim().toLowerCase();B=B.filter(D=>[D.title,D.location,D.phone,D.notes].map(L=>String(L||"").toLowerCase()).some(L=>L.includes(T)))}if(f!=="all"&&(B=B.filter(T=>String(T.status).toLowerCase()===f)),h){const T=new Date(`${h}T00:00:00`);B=B.filter(D=>new Date(D.start_at)>=T)}if(g){const T=new Date(`${g}T23:59:59`);B=B.filter(D=>new Date(D.start_at)<=T)}return B},[e,c,f,h,g]),U=Math.max(1,Math.ceil(V.length/S)),te=w*S,be=te-S,re=V.slice(be,te);v.useEffect(()=>j(1),[c,f,h,g]);const R=v.useMemo(()=>{const B=e.length,T=e.filter(K=>K.status==="scheduled").length,D=e.filter(K=>K.status==="completed").length,L=e.filter(K=>String(K.status).toLowerCase().startsWith("cancel")).length;return{total:B,scheduled:T,completed:D,cancelled:L}},[e]);async function q(B,T){try{M(B);const D=await fetch(Mb.UPDATE(B),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",...F?{Authorization:`Bearer ${F}`}:{}},body:JSON.stringify({status:T})});if(!D.ok){const L=await D.text();throw new Error(`HTTP ${D.status}${L?`  ${L}`:""}`)}W.success(`Status set to ${T}`),t(L=>L.map(K=>K.id===B?{...K,status:T}:K))}catch(D){W.error((D==null?void 0:D.message)||"Failed to update status")}finally{M(null)}}async function H(){const B={title:String(A.title||"").trim(),date:String(A.date||"").trim(),time:Bue(A.time),timezone:String(A.timezone||"Asia/Karachi").trim(),durationMinutes:Math.max(1,parseInt(A.durationMinutes||30)),phone:Uue(A.phone),location:String(A.location||"").trim(),notes:String(A.notes||"").trim()};if(!B.title)return W.error("Title is required");if(!B.date)return W.error("Date is required");if(!B.time||!/^\d{2}:\d{2}$/.test(B.time))return W.error("Time looks invalid");if(!B.location)return W.error("Location is required");if(!B.phone||B.phone.replace(/\D/g,"").length<11)return W.error("Phone looks invalid");try{O(!0);const T=await fetch(Mb.CREATE,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...F?{Authorization:`Bearer ${F}`}:{}},body:JSON.stringify(B)});if(!T.ok){const L=await T.text();throw new Error(`HTTP ${T.status}${L?`  ${L}`:""}`)}const D=await T.json();W.success(" Appointment created"),C(!1),E({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),t(L=>[{id:D.id||crypto.randomUUID(),title:D.title||B.title,notes:D.notes||B.notes,location:D.location||B.location,phone:D.phone||B.phone,timezone:D.timezone||B.timezone,start_at:D.start_at||`${B.date}T${B.time}`,end_at:D.end_at||`${B.date}T${B.time}`,duration_minutes:D.duration_minutes||B.durationMinutes,status:D.status||"scheduled",created_at:D.created_at||new Date().toISOString(),updated_at:D.updated_at||new Date().toISOString()},...L])}catch(T){W.error((T==null?void 0:T.message)||"Failed to create appointment")}finally{O(!1)}}return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(Ga,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${zue}`,children:"Appointments"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create, track, and update appointment statuses."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Na,{onClick:()=>C(!0),variant:"primary",children:[a.jsx(Ls,{className:"mr-2 h-4 w-4"})," New Appointment"]}),a.jsx(Na,{onClick:G,children:n?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(kh,{label:"Total",value:R.total,Icon:Ga,tone:"blue"}),a.jsx(kh,{label:"Scheduled",value:R.scheduled,Icon:Xb,tone:"cyan"}),a.jsx(kh,{label:"Completed",value:R.completed,Icon:ar,tone:"blue"}),a.jsx(kh,{label:"Cancelled",value:R.cancelled,Icon:oa,tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Dr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:c,onChange:B=>d(B.target.value),placeholder:"Search title, phone, location, notes",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(Rc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:f,onChange:B=>m(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"scheduled",children:"Scheduled"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsx("input",{type:"date",value:h,onChange:B=>x(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),a.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),a.jsx("input",{type:"date",value:g,onChange:B=>b(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),(c||f!=="all"||h||g)&&a.jsx(Na,{onClick:()=>{d(""),m("all"),x(""),b("")},className:"text-slate-700",children:"Clear"})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(Ga,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Appointments (",V.length,")"]})]}),n&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin"}),"Loading"]})]}),i?a.jsx("div",{className:"p-6 text-sm text-red-600",children:i}):V.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(Ga,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No appointments"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try changing filters or create a new one"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(qo,{children:"Title"}),a.jsx(qo,{children:"When"}),a.jsx(qo,{children:"Location"}),a.jsx(qo,{children:"Phone"}),a.jsx(qo,{children:"Status"}),a.jsx(qo,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:re.map(B=>{const T=sc(B.status),D=T.icon;return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(Ko,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:B.title}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",B.id]})]})}),a.jsx(Ko,{children:a.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[a.jsx(hc,{className:"h-4 w-4 text-slate-500"})," ",gw(B.start_at)]})}),a.jsx(Ko,{children:a.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[a.jsx(Rs,{className:"h-4 w-4 text-slate-500"})," ",B.location||""]})}),a.jsx(Ko,{children:a.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[a.jsx(ut,{className:"h-4 w-4 text-slate-500"})," ",B.phone]})}),a.jsx(Ko,{children:a.jsxs(kT,{className:`border ${T.badge}`,children:[a.jsx(D,{className:"mr-1 h-3.5 w-3.5"})," ",String(B.status).charAt(0).toUpperCase()+String(B.status).slice(1)]})}),a.jsx(Ko,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(AT,{current:B.status,onChange:L=>q(B.id,L),busy:$===B.id}),a.jsx(ET,{a:B})]})})]},B.id)})})]})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:re.map(B=>{const T=sc(B.status),D=T.icon;return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:B.title}),a.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[a.jsx(hc,{className:"h-4 w-4 text-slate-500"})," ",gw(B.start_at)]}),a.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[a.jsx(Rs,{className:"h-4 w-4 text-slate-500"})," ",B.location||""]}),a.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[a.jsx(ut,{className:"h-4 w-4 text-slate-500"})," ",B.phone]})]}),a.jsxs(kT,{className:`border ${T.badge} shrink-0`,children:[a.jsx(D,{className:"mr-1 h-3.5 w-3.5"})," ",String(B.status).charAt(0).toUpperCase()+String(B.status).slice(1)]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsx(AT,{current:B.status,onChange:L=>q(B.id,L),busy:$===B.id}),a.jsx(ET,{a:B})]}),a.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 break-all",children:["ID #",B.id]})]},B.id)})})}),V.length>S&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:be+1}),"",a.jsx("b",{children:Math.min(te,V.length)})," of ",a.jsx("b",{children:V.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(Na,{onClick:()=>j(B=>Math.max(1,B-1)),disabled:w===1,children:[a.jsx(ua,{className:"h-4 w-4 mr-1"})," Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,U)},(B,T)=>{let D;if(U<=5||w<=3?D=T+1:w>=U-2?D=U-4+T:D=w-2+T,D<1||D>U)return null;const L=w===D;return a.jsx("button",{onClick:()=>j(D),className:`px-3 py-2 text-sm font-semibold rounded-xl ${L?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:D},D)})}),a.jsxs(Na,{onClick:()=>j(B=>Math.min(U,B+1)),disabled:w>=U,children:["Next ",a.jsx(Bn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(_t,{children:_&&a.jsxs(wL,{onClose:()=>C(!1),title:"New Appointment",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(Oi,{label:"Title",children:a.jsx("input",{value:A.title,onChange:B=>E(T=>({...T,title:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Consultation"})}),a.jsx(Oi,{label:"Phone",children:a.jsx("input",{value:A.phone,onChange:B=>E(T=>({...T,phone:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+923001234567"})}),a.jsx(Oi,{label:"Date",children:a.jsx("input",{type:"date",value:A.date,onChange:B=>E(T=>({...T,date:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(Oi,{label:"Time",children:a.jsx("input",{value:A.time,onChange:B=>E(T=>({...T,time:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"15:30 or 3:30 PM"})}),a.jsx(Oi,{label:"Location",children:a.jsx("input",{value:A.location,onChange:B=>E(T=>({...T,location:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Clinic, Main St."})}),a.jsx(Oi,{label:"Timezone",children:a.jsx("input",{value:A.timezone,onChange:B=>E(T=>({...T,timezone:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Asia/Karachi"})}),a.jsx(Oi,{label:"Duration (minutes)",children:a.jsx("input",{type:"number",min:1,max:1440,value:A.durationMinutes,onChange:B=>E(T=>({...T,durationMinutes:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(Oi,{label:"Notes",children:a.jsx("textarea",{value:A.notes,onChange:B=>E(T=>({...T,notes:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Any extra details",rows:3})})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Na,{onClick:()=>C(!1),variant:"subtle",children:"Cancel"}),a.jsx(Na,{onClick:H,disabled:k,variant:"primary",children:k?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"})," Creating"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ls,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})]})}function kh({label:e,value:t,Icon:n,tone:r="blue"}){const i=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${i}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function AT({current:e,onChange:t,busy:n}){const[r,i]=v.useState(!1),l=[{k:"scheduled",label:"Mark Scheduled",tone:sc("scheduled")},{k:"completed",label:"Mark Completed",tone:sc("completed")},{k:"cancelled",label:"Mark Cancelled",tone:sc("cancelled")}],d=sc(e).icon;return a.jsxs("div",{className:"relative",children:[a.jsxs(Na,{onClick:()=>i(f=>!f),size:"sm",className:"min-w-[150px] justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2 text-slate-800",children:[a.jsx(d,{className:"h-4 w-4"})," ",String(e).charAt(0).toUpperCase()+String(e).slice(1)]}),n?a.jsx(Ze,{className:"h-4 w-4 animate-spin"}):a.jsx(Bn,{className:"h-4 w-4 opacity-60"})]}),a.jsx(_t,{children:r&&a.jsx(pe.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"absolute z-20 mt-2 w-56 rounded-xl border border-slate-200 bg-white shadow-xl",children:l.map(f=>a.jsxs("button",{onClick:()=>{i(!1),f.k!==e&&t(f.k)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-slate-50",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(f.tone.icon,{className:"h-4 w-4"})," ",f.label]}),String(e)===f.k&&a.jsx(ar,{className:"h-4 w-4 text-emerald-500"})]},f.k))})})]})}function ET({a:e}){const[t,n]=v.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs(Na,{onClick:()=>n(!0),size:"sm",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1"})," Details"]}),a.jsx(_t,{children:t&&a.jsxs(wL,{title:"Appointment Details",onClose:()=>n(!1),children:[a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ga,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Title:"})," ",e.title]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hc,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"When:"})," ",gw(e.start_at)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rs,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Location:"})," ",e.location||""]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.phone]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hc,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Duration:"})," ",e.duration_minutes," min"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(DB,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Notes:"})," ",e.notes||""]}),a.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",e.id]})]}),a.jsx("div",{className:"mt-5 text-right",children:a.jsx(Na,{onClick:()=>n(!1),variant:"primary",children:"Close"})})]})})]})}function Vue(...e){return e.filter(Boolean).join(" ")}const TT="http://localhost:8000";function Hue({onClick:e}){const t=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return a.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[a.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),a.jsxs(pe.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),a.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),a.jsxs("filter",{id:"glow",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx(pe.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),a.jsx(pe.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),a.jsx(pe.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function que({className:e="",onMenuToggle:t,profilePath:n="/admin/settings"}){const[r,i]=v.useState(""),[l,c]=v.useState(null),[d,f]=v.useState(!1),m=Vt();v.useEffect(()=>{i(localStorage.getItem("name")||"User")},[]),v.useEffect(()=>{const b=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${TT}/api/profile-photo`,{headers:b?{Authorization:`Bearer ${b}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const _=await S.json();let C=_==null?void 0:_.photo_url;if(C){/^https?:\/\//i.test(C)||(C=`${TT}${C.startsWith("/")?"":"/"}${C}`);const k=(C.includes("?")?"&":"?")+"t="+Date.now();c(C+k),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=b=>b.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:b=40})=>{const w=b;return a.jsxs("button",{type:"button",onClick:()=>m(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[a.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?a.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):a.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(r)})}),a.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),a.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},g=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return a.jsxs("header",{className:Vue("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[a.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:a.jsxs("div",{className:"flex items-center justify-between h-full",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[a.jsx(Hue,{onClick:g}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),a.jsxs("div",{className:"relative",children:[a.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Control center for users, leads & calls"}),a.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),a.jsxs("div",{className:"hidden sm:block lg:hidden",children:[a.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Insights & controls"})]}),a.jsxs("div",{className:"sm:hidden relative",children:[a.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[a.jsxs(pe.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[a.jsx("div",{className:"relative",children:a.jsx(x,{size:40})}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome!"}),a.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),a.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[a.jsx(x,{size:32}),a.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),a.jsx("div",{className:"sm:hidden",children:a.jsx(x,{size:36})}),a.jsxs(pe.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[a.jsx(t0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),a.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function Kue({compact:e=!1}){const t=v.useMemo(()=>[{text:"Make Calls",Icon:ut,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Ga,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:fj,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:tr,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Ga,from:"#22D3EE",to:"#2563EB"}],[]),[n,r]=v.useState(0),[i,l]=v.useState(""),[c,d]=v.useState(!1);v.useEffect(()=>{const x=t[n].text,g=40,b=28,w=1100;let j;return!c&&i.length<x.length?j=setTimeout(()=>l(x.slice(0,i.length+1)),g):!c&&i.length===x.length?j=setTimeout(()=>d(!0),w):c&&i.length>0?j=setTimeout(()=>l(x.slice(0,i.length-1)),b):c&&i.length===0&&(d(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(j)},[i,c,n,t]);const{Icon:f,from:m,to:h}=t[n];return a.jsxs("div",{className:`relative flex items-center ${e?"justify-center p-3 sm:p-4":"p-4 sm:p-6"}`,children:[a.jsxs("div",{className:"relative mr-0 sm:mr-3",children:[a.jsx(pe.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:a.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),a.jsx(pe.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[a.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:i}),a.jsx(pe.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),a.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function Gue(){const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[i,l]=v.useState(!1),c=ts(),d=Vt();v.useEffect(()=>{const h=()=>{const x=window.innerWidth;l(x<768),t(x<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),v.useEffect(()=>{r(!1)},[c.pathname]),v.useEffect(()=>{const h=()=>{i?r(x=>!x):t(x=>!x)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[i]);const f=[{id:"dashboard",label:"Dashboard",icon:kw,href:"/admin/dashboard",color:"text-blue-600"},{id:"users",label:"Users",icon:tr,href:"/admin/Users",color:"text-blue-600"},{id:"phoneNumbers",label:"Call Details",icon:ut,href:"/admin/PhoneCalls",color:"text-orange-600"},{id:"leads",label:"Leads",icon:tr,href:"/admin/lead",color:"text-purple-600"},{id:"Phone Numbers",label:"Phone Numbers",icon:tr,href:"/admin/callhistory",color:"text-purple-600"}],m=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:a.jsx(Kue,{compact:e&&!i})}),a.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:f.map(h=>{const x=h.icon,g=c.pathname===h.href;return a.jsxs("button",{type:"button",onClick:()=>d(h.href),className:`group relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation ${g?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"} ${e&&!i?"justify-center p-2 sm:p-3":"p-3 sm:p-3"} ${i?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!i?h.label:"",children:[g&&!e&&a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),a.jsx(x,{className:`flex-shrink-0 transition-all duration-200 ${e&&!i?"w-6 h-6":"w-5 h-5"} ${g?h.color:"text-slate-500 group-hover:text-slate-700"} ${g?"scale-110":"group-hover:scale-105"}`}),(!e||i)&&a.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base",children:h.label}),g&&(!e||i)&&a.jsx("div",{className:"ml-auto flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!i&&a.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:a.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(Bn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):a.jsxs(a.Fragment,{children:[a.jsx(ua,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return a.jsxs(a.Fragment,{children:[!i&&a.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(m,{})})}),i&&a.jsxs("div",{className:"md:hidden",children:[n&&a.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),a.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(m,{})})})]})]})}function Yue(){return a.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[a.jsx(Gue,{}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[a.jsx(que,{className:"h-16 border-b"}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx(d6,{})})]})]})}const Db={},El="http://localhost:8000",Wue=(Db==null?void 0:Db.VITE_AFTER_IMPERSONATE_PATH)||"/",Mi={USERS:`${El}/api/admin/users`,USER:e=>`${El}/api/admin/users/${e}`,USER_DETAILS:e=>`${El}/api/admin/users/${e}/details`,USER_PHOTO_DELETE:e=>`${El}/api/admin/users/${e}/profile-photo`,RESET_PASSWORD:e=>`${El}/api/admin/users/${e}/reset-password`,IMPERSONATE_LOGIN_AS:`${El}/api/admin/impersonate/login-as`},Xue="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",Ah=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${El}${t}`},Rb=e=>e==="admin"?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200";function id({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Zue(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function ht({children:e,className:t="",variant:n="outline",size:r="md",...i}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...i,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Que(){var lr,Js;const[e,t]=v.useState([]),[n,r]=v.useState({total:0,admins:0,verified:0,withPhoto:0}),[i,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(null),[h,x]=v.useState(""),[g,b]=v.useState("all"),[w,j]=v.useState("all"),[S,_]=v.useState(1),C=10,[k,O]=v.useState(!1),[A,E]=v.useState(null),[$,M]=v.useState(!1),[F,G]=v.useState(null),[V,U]=v.useState(!1),[te,be]=v.useState(!1),[re,R]=v.useState(null),[q,H]=v.useState(!1),[B,T]=v.useState(!1),[D,L]=v.useState(null),[K,oe]=v.useState({name:"",email:"",role:"user",setPasswordManually:!1,password:""}),[z,Y]=v.useState(null),[ye,se]=v.useState(!1),[ve,we]=v.useState(null),[Ne,me]=v.useState(!1),[Oe,Be]=v.useState(""),[Xe,X]=v.useState(null),[ue,Z]=v.useState(null),[je,Te]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),Ue=v.useCallback(async()=>{if(je){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const de=localStorage.getItem("token");if(!de){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),d("No auth token found."),W.error("No authentication token found.");return}try{l(!0),d("");const Q=await fetch(Mi.USERS,{headers:{Authorization:`Bearer ${de}`,Accept:"application/json"},mode:"cors"});if(!Q.ok){const Qe=await Q.text();throw new Error(`HTTP ${Q.status}${Qe?`  ${Qe}`:""}`)}const ee=await Q.json();if(!(ee!=null&&ee.success)||!Array.isArray(ee==null?void 0:ee.users))throw new Error("Unexpected response shape.");const ae=(ee.users||[]).map(Qe=>({id:Qe.id,name:Qe.name||"",email:Qe.email||"",email_verified:!!Qe.email_verified,role:Qe.role||"user",profile_photo_url:Ah(Qe.profile_photo_url||Qe.profile_photo)}));ae.sort((Qe,wt)=>Qe.name.localeCompare(wt.name)),t(ae);const $e=ae.filter(Qe=>Qe.role==="admin").length,qe=ae.filter(Qe=>Qe.email_verified).length,lt=ae.filter(Qe=>!!Qe.profile_photo_url).length;r({total:ee.total_users??ae.length,admins:$e,verified:qe,withPhoto:lt})}catch(Q){d((Q==null?void 0:Q.message)||"Failed to load users"),W.error((Q==null?void 0:Q.message)||"Failed to load users")}finally{l(!1)}},[je]);v.useEffect(()=>{Ue()},[Ue]);const Ae=v.useMemo(()=>{let de=[...e];if(h.trim()){const Q=h.trim().toLowerCase();de=de.filter(ee=>String(ee.name||"").toLowerCase().includes(Q)||String(ee.email||"").toLowerCase().includes(Q))}return g!=="all"&&(de=de.filter(Q=>Q.role===g)),w!=="all"&&(de=de.filter(Q=>w==="verified"?Q.email_verified:!Q.email_verified)),de},[e,h,g,w]),Je=Math.max(1,Math.ceil(Ae.length/C)),Ge=S*C,vt=Ge-C,Ht=Ae.slice(vt,Ge);v.useEffect(()=>{_(1)},[h,g,w]);const It=de=>{E({id:de.id,name:de.name,email:de.email,role:de.role}),O(!0)},un=async()=>{if(!A)return;const de=localStorage.getItem("token");if(!de)return W.error("No authentication token found.");const Q={name:String(A.name||"").trim(),email:String(A.email||"").trim(),role:A.role==="admin"?"admin":"user"};try{M(!0);const ee=await fetch(Mi.USER(A.id),{method:"PUT",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Q)}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);W.success(" User updated"),O(!1),E(null),t($e=>$e.map(qe=>{var lt;return qe.id===((lt=ae.updated_user)==null?void 0:lt.id)?{...qe,name:ae.updated_user.name,email:ae.updated_user.email,role:ae.updated_user.role,profile_photo_url:Ah(ae.updated_user.profile_photo_url||ae.updated_user.profile_photo)}:qe})),Ue()}catch(ee){W.error((ee==null?void 0:ee.message)||"Update failed")}finally{M(!1)}},mt=de=>G(de),Fr=async()=>{const de=F;if(!de)return;const Q=localStorage.getItem("token");if(!Q)return W.error("No authentication token found.");try{m(de);const ee=await fetch(Mi.USER(de),{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);W.success(" User deleted"),t($e=>$e.filter(qe=>qe.id!==de)),r($e=>({...$e,total:Math.max(0,$e.total-1)})),G(null)}catch(ee){W.error((ee==null?void 0:ee.message)||"Delete failed")}finally{m(null)}},Zs=async de=>{const Q=localStorage.getItem("token");if(!Q){W.error("No authentication token found.");return}try{U(!0),be(!0),R(null);const ee=await fetch(Mi.USER_DETAILS(de.id),{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);R(ae.details)}catch(ee){W.error((ee==null?void 0:ee.message)||"Failed to load details")}finally{be(!1)}},Qs=async de=>{const Q=localStorage.getItem("token");if(!Q)return W.error("No authentication token found.");try{X(de);const ee=await fetch(Mi.USER_PHOTO_DELETE(de),{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);W.success(" Profile photo removed"),t($e=>$e.map(qe=>qe.id===de?{...qe,profile_photo_url:null}:qe)),r($e=>({...$e,withPhoto:Math.max(0,$e.withPhoto-1)}))}catch(ee){W.error((ee==null?void 0:ee.message)||"Failed to remove photo")}finally{X(null)}},Ra=async()=>{const de=localStorage.getItem("token");if(!de)return W.error("No authentication token found.");const Q={name:K.name.trim(),email:K.email.trim(),role:K.role,password:K.setPasswordManually?(K.password||"").trim():null};if(!Q.name||!Q.email)return W.error("Name and email are required.");if(K.setPasswordManually&&Q.password.length<6)return W.error("Password must be at least 6 characters.");try{T(!0);const ee=await fetch(Mi.USERS,{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Q)}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);const $e=ae.created_user,qe={id:$e.id,name:$e.name,email:$e.email,role:$e.role||"user",email_verified:!!$e.email_verified,profile_photo_url:Ah($e.profile_photo_url||$e.profile_photo)};t(lt=>[qe,...lt].sort((Qe,wt)=>Qe.name.localeCompare(wt.name))),r(lt=>({...lt,total:lt.total+1,admins:lt.admins+(qe.role==="admin"?1:0),verified:lt.verified+(qe.email_verified?1:0),withPhoto:lt.withPhoto+(qe.profile_photo_url?1:0)})),ae.initial_password?L(ae.initial_password):W.success(" User created"),H(!1),oe({name:"",email:"",role:"user",setPasswordManually:!1,password:""})}catch(ee){W.error((ee==null?void 0:ee.message)||"Create failed")}finally{T(!1)}},La=async()=>{if(!z)return;const de=localStorage.getItem("token");if(!de)return W.error("No authentication token found.");const Q=Ne&&Oe?{new_password:Oe}:{new_password:null};try{se(!0);const ee=await fetch(Mi.RESET_PASSWORD(z),{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Q)}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);ae.new_password?we(ae.new_password):(W.success(" Password updated"),Y(null),Be(""),me(!1))}catch(ee){W.error((ee==null?void 0:ee.message)||"Reset failed")}finally{se(!1)}},Wn=async de=>{const Q=localStorage.getItem("token");if(!Q)return W.error("No authentication token found.");try{Z(de.id);const ee=await fetch(Mi.IMPERSONATE_LOGIN_AS,{method:"POST",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:de.id,reason:"Admin impersonation from Users panel"})}),ae=await ee.json();if(!ee.ok||!(ae!=null&&ae.success))throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.message)||`HTTP ${ee.status}`);const{token:$e,acting_as:qe,impersonated_by:lt}=ae;localStorage.setItem("admin_token_backup",Q),localStorage.setItem("token",$e),localStorage.setItem("impersonation_info",JSON.stringify({acting_as:qe,impersonated_by:lt,started_at:Date.now()})),W.success(` Now impersonating ${(qe==null?void 0:qe.email)||"user"}`),window.location.assign(Wue)}catch(ee){W.error((ee==null?void 0:ee.message)||"Impersonation failed")}finally{Z(null)}},Xn=()=>{const de=localStorage.getItem("admin_token_backup");if(!de){W.error("No admin backup token found.");return}localStorage.setItem("token",de),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),Te(null),W.success(" Exited impersonation"),window.location.reload()};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[je&&a.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:a.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[a.jsx(qm,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),a.jsxs("span",{className:"truncate",children:["Acting as ",a.jsx("b",{className:"break-all",children:(lr=je.acting_as)==null?void 0:lr.email})]})]}),a.jsxs(ht,{onClick:Xn,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[a.jsx(t0,{className:"mr-2 h-4 w-4"}),"Exit"]})]})}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(tr,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${Xue}`,children:"User Management"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create users, manage roles, inspect assets, and impersonate users."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(ht,{onClick:()=>H(!0),disabled:!!je,variant:"primary",children:[a.jsx(Ls,{className:"mr-2 h-4 w-4"}),"Add User"]}),a.jsx(ht,{onClick:Ue,disabled:i||!!je,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Eh,{label:"Total Users",value:n.total,Icon:tr,tone:"blue"}),a.jsx(Eh,{label:"Admins",value:n.admins,Icon:ov,tone:"cyan"}),a.jsx(Eh,{label:"Verified",value:n.verified,Icon:ar,tone:"blue"}),a.jsx(Eh,{label:"With Photo",value:n.withPhoto,Icon:Kz,tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Dr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:h,onChange:de=>x(de.target.value),placeholder:"Search by name or email",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!je})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(Rc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:g,onChange:de=>b(de.target.value),disabled:!!je,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All roles"}),a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]}),a.jsxs("select",{value:w,onChange:de=>j(de.target.value),disabled:!!je,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"verified",children:"Verified"}),a.jsx("option",{value:"unverified",children:"Unverified"})]}),(h||g!=="all"||w!=="all")&&a.jsx(ht,{onClick:()=>{x(""),b("all"),j("all")},className:"text-slate-700",disabled:!!je,children:"Clear"})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(tr,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Users (",Ae.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),je?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:a.jsx(qm,{className:"h-9 w-9 text-amber-500"})}),a.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),a.jsx("div",{className:"mt-3",children:a.jsxs(ht,{onClick:Xn,variant:"primary",children:[a.jsx(t0,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):i?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading users"})]}):Ae.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(tr,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(ld,{children:"User"}),a.jsx(ld,{children:"Email"}),a.jsx(ld,{children:"Role"}),a.jsx(ld,{children:"Status"}),a.jsx(ld,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:Ht.map(de=>a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(od,{children:a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(Lb,{url:de.profile_photo_url,name:de.name}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:de.name}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",de.id]})]})]})}),a.jsx(od,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[a.jsx(Ta,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"text-xs font-medium break-words",children:de.email})]})}),a.jsx(od,{children:a.jsx(id,{className:`border ${Rb(de.role)}`,children:de.role==="admin"?a.jsxs(a.Fragment,{children:[a.jsx(ov,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):a.jsxs(a.Fragment,{children:[a.jsx(zd,{className:"mr-1 h-3.5 w-3.5"})," User"]})})}),a.jsx(od,{children:de.email_verified?a.jsxs(id,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[a.jsx(ar,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):a.jsxs(id,{className:"border bg-red-100 text-red-700 border-red-200",children:[a.jsx(oa,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})}),a.jsx(od,{children:a.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[a.jsx(ht,{onClick:()=>Zs(de),variant:"outline",size:"sm",title:"View details",children:a.jsx(Jn,{className:"h-4 w-4"})}),a.jsx(ht,{onClick:()=>It(de),variant:"outline",size:"sm",title:"Edit",children:a.jsx(jd,{className:"h-4 w-4"})}),a.jsx(ht,{onClick:()=>Y(de.id),variant:"subtle",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",title:"Reset password",children:a.jsx(xd,{className:"h-4 w-4"})}),a.jsx(ht,{onClick:()=>Wn(de),disabled:ue===de.id,variant:"subtle",size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50",title:"Login as this user",children:ue===de.id?a.jsx(Ze,{className:"h-4 w-4 animate-spin"}):a.jsx(qm,{className:"h-4 w-4"})}),a.jsx(ht,{onClick:()=>mt(de.id),variant:"danger",size:"sm",title:"Delete",children:f===de.id?a.jsx(Ze,{className:"h-4 w-4 animate-spin"}):a.jsx(sr,{className:"h-4 w-4"})}),de.profile_photo_url?a.jsx(ht,{onClick:()=>Qs(de.id),disabled:Xe===de.id,variant:"subtle",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",title:"Remove profile photo",children:Xe===de.id?a.jsx(Ze,{className:"h-4 w-4 animate-spin"}):a.jsx(p5,{className:"h-4 w-4"})}):null]})})]},de.id))})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Ht.map((de,Q)=>a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Q===0&&a.jsx(Zue,{}),a.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[a.jsx(Lb,{size:48,url:de.profile_photo_url,name:de.name}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:de.name}),a.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-slate-600 min-w-0",children:[a.jsx(Ta,{className:"h-4 w-4 text-slate-500 shrink-0"}),a.jsx("span",{className:"truncate break-words",children:de.email})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border ${Rb(de.role)} text-[11px] font-semibold`,children:de.role==="admin"?a.jsxs(a.Fragment,{children:[a.jsx(ov,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):a.jsxs(a.Fragment,{children:[a.jsx(zd,{className:"mr-1 h-3.5 w-3.5"})," User"]})}),de.email_verified?a.jsxs(id,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[a.jsx(ar,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):a.jsxs(id,{className:"border bg-red-100 text-red-700 border-red-200",children:[a.jsx(oa,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})]})]})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(ht,{onClick:()=>Zs(de),size:"sm",className:"grow sm:grow-0",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1"}),"View"]}),a.jsxs(ht,{onClick:()=>It(de),size:"sm",className:"grow sm:grow-0",children:[a.jsx(jd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(ht,{onClick:()=>Y(de.id),size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 grow sm:grow-0",children:[a.jsx(xd,{className:"h-4 w-4 mr-1"}),"Reset"]}),a.jsx(ht,{onClick:()=>Wn(de),disabled:ue===de.id,size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 grow sm:grow-0",title:"Login as this user",children:ue===de.id?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-1"})," Acting"]}):a.jsxs(a.Fragment,{children:[a.jsx(qm,{className:"h-4 w-4 mr-1"})," Login as"]})}),a.jsx(ht,{onClick:()=>mt(de.id),variant:"danger",size:"sm",className:"grow sm:grow-0",children:f===de.id?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(sr,{className:"h-4 w-4 mr-1"})," Delete"]})}),de.profile_photo_url&&a.jsx(ht,{onClick:()=>Qs(de.id),disabled:Xe===de.id,className:"w-full border-amber-200 text-amber-700 hover:bg-amber-50",children:Xe===de.id?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Removing photo"]}):a.jsxs(a.Fragment,{children:[a.jsx(p5,{className:"h-4 w-4 mr-2"}),"Remove photo"]})})]}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",de.id]})]},de.id))})}),Ae.length>C&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:vt+1}),"",a.jsx("b",{children:Math.min(Ge,Ae.length)})," of"," ",a.jsx("b",{children:Ae.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(ht,{onClick:()=>_(de=>Math.max(1,de-1)),disabled:S===1,children:[a.jsx(ua,{className:"h-4 w-4 mr-1"}),"Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Je)},(de,Q)=>{let ee;if(Je<=5||S<=3?ee=Q+1:S>=Je-2?ee=Je-4+Q:ee=S-2+Q,ee<1||ee>Je)return null;const ae=S===ee;return a.jsx("button",{onClick:()=>_(ee),className:`px-3 py-2 text-sm font-semibold rounded-xl ${ae?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:ee},ee)})}),a.jsxs(ht,{onClick:()=>_(de=>Math.min(Je,de+1)),disabled:S>=Je,children:["Next ",a.jsx(Bn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(_t,{children:q&&a.jsxs(dd,{onClose:()=>H(!1),title:"Add User",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(Go,{label:"Name",children:a.jsx("input",{value:K.name,onChange:de=>oe(Q=>({...Q,name:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter full name"})}),a.jsx(Go,{label:"Email",children:a.jsx("input",{type:"email",value:K.email,onChange:de=>oe(Q=>({...Q,email:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),a.jsx(Go,{label:"Role",children:a.jsxs("select",{value:K.role,onChange:de=>oe(Q=>({...Q,role:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]})}),a.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:K.setPasswordManually,onChange:de=>oe(Q=>({...Q,setPasswordManually:de.target.checked,password:de.target.checked?Q.password:""}))}),a.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),K.setPasswordManually&&a.jsx("div",{className:"mt-3",children:a.jsx("input",{type:"text",value:K.password,onChange:de=>oe(Q=>({...Q,password:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter initial password"})})]})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(ht,{onClick:()=>H(!1),variant:"subtle",children:"Cancel"}),a.jsx(ht,{onClick:Ra,disabled:B||!K.name.trim()||!K.email.trim()||K.setPasswordManually&&K.password.trim().length<6,variant:"primary",children:B?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),a.jsx(_t,{children:D&&a.jsxs(dd,{onClose:()=>L(null),title:"Initial Password",children:[a.jsx("div",{className:"text-sm text-slate-700",children:"This user was created with an auto-generated password. Copy it now and share securely."}),a.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx(xd,{className:"h-4 w-4 text-slate-600"}),a.jsx("code",{className:"font-mono text-slate-900 break-all",children:D}),a.jsxs(ht,{onClick:()=>{navigator.clipboard.writeText(D),W.success("Copied!")},className:"ml-auto",children:[a.jsx($d,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(ht,{onClick:()=>L(null),variant:"primary",children:"Got it"})})]})}),a.jsx(_t,{children:k&&A&&a.jsxs(dd,{onClose:()=>O(!1),title:"Edit User",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(Go,{label:"Name",children:a.jsx("input",{value:A.name,onChange:de=>E(Q=>({...Q,name:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})}),a.jsx(Go,{label:"Email",children:a.jsx("input",{type:"email",value:A.email,onChange:de=>E(Q=>({...Q,email:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email"})}),a.jsx(Go,{label:"Role",children:a.jsxs("select",{value:A.role,onChange:de=>E(Q=>({...Q,role:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(ht,{onClick:()=>O(!1),variant:"subtle",children:"Cancel"}),a.jsx(ht,{onClick:un,disabled:$||!A.name||!A.email,variant:"primary",children:$?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),a.jsx(_t,{children:F&&a.jsxs(dd,{onClose:()=>G(null),title:"Confirm Delete",children:[a.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete"," ",a.jsx("b",{className:"break-words",children:((Js=e.find(de=>de.id===F))==null?void 0:Js.name)||"this user"}),"? This action cannot be undone."]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(ht,{onClick:()=>G(null),variant:"subtle",children:"Cancel"}),a.jsx(ht,{onClick:Fr,disabled:f===F,variant:"danger",children:f===F?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):"Delete"})]})]})}),a.jsx(_t,{children:z&&a.jsx(dd,{onClose:()=>{Y(null),we(null),me(!1),Be("")},title:"Reset Password",children:ve?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-sm text-slate-700",children:"Auto-generated password. Copy it now and share securely."}),a.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx(xd,{className:"h-4 w-4 text-slate-600"}),a.jsx("code",{className:"font-mono text-slate-900 break-all",children:ve}),a.jsxs(ht,{onClick:()=>{navigator.clipboard.writeText(ve),W.success("Copied!")},className:"ml-auto",children:[a.jsx($d,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(ht,{onClick:()=>{Y(null),we(null)},variant:"primary",children:"Done"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:Ne,onChange:de=>me(de.target.checked)}),a.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),Ne&&a.jsx("input",{type:"text",value:Oe,onChange:de=>Be(de.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter new password"})]}),a.jsxs("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[a.jsx(ht,{onClick:()=>{Y(null),me(!1),Be("")},variant:"subtle",children:"Cancel"}),a.jsx(ht,{onClick:La,disabled:ye||Ne&&Oe.trim().length<6,variant:"primary",children:ye?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Reset"})]})]})})}),a.jsx(_t,{children:V&&a.jsx(Jue,{onClose:()=>U(!1),title:"User Details",children:te?a.jsxs("div",{className:"grid place-content-center h-48",children:[a.jsx(Ze,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-2"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading details"})]}):re?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(Lb,{url:Ah(re.user.profile_photo_url||re.user.profile_photo),name:re.user.name,size:48}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-bold text-slate-900 truncate",children:re.user.name}),a.jsx("div",{className:"text-sm text-slate-600 break-words",children:re.user.email}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border text-xs font-semibold ${Rb(re.user.role)}`,children:re.user.role})})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(cd,{label:"Phone Numbers",value:re.counts.purchased_numbers}),a.jsx(cd,{label:"Assistants",value:re.counts.assistants}),a.jsx(cd,{label:"Call Logs",value:re.counts.call_logs}),a.jsx(cd,{label:"Documents",value:re.counts.documents}),a.jsx(cd,{label:"Leads",value:re.counts.leads})]}),a.jsx(ud,{title:"Phone Numbers",items:(re.purchased_numbers||[]).map(de=>({k:de.id,primary:de.phone_number,secondary:de.iso_country||de.region||"",badge:de.friendly_name}))}),a.jsx(ud,{title:"Assistants",items:(re.assistants||[]).map(de=>({k:de.id,primary:de.name||de.vapi_assistant_id,secondary:de.provider||de.model||"",badge:de.category}))}),a.jsx(ud,{title:"Documents",items:(re.documents||[]).map(de=>({k:de.id,primary:de.file_name,secondary:de.vapi_file_id}))}),a.jsx(ud,{title:"Leads",items:(re.leads||[]).map(de=>({k:de.id,primary:`${de.first_name||""} ${de.last_name||""}`.trim()||de.email,secondary:(de.email||de.mobile||"").toString(),badge:de.state||de.timezone}))}),a.jsx(ud,{title:"Call Logs",items:(re.call_logs||[]).map(de=>({k:de.id,primary:de.customer_name||de.customer_number||de.call_id,secondary:`${de.status||""}  ${de.call_duration||0}s`}))})]}):a.jsx("div",{className:"text-sm text-slate-600",children:"No details."})})})]})}function Eh({label:e,value:t,Icon:n,tone:r="blue"}){const i=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${i}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Lb({url:e,name:t,size:n=38}){const[r,i]=v.useState(!1),l=(t||"?").split(" ").map(d=>d.charAt(0)).join("").toUpperCase().slice(0,2),c=r||!e;return a.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:n,height:n},children:c?a.jsx("span",{style:{fontSize:n<40?12:13},children:l}):a.jsx("img",{src:e,alt:t,width:n,height:n,className:"h-full w-full object-cover max-w-full",onError:()=>i(!0)})})}function ld({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function od({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Go({label:e,children:t}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function cd({label:e,value:t}){return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-xs text-slate-500",children:e}),a.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:t})]})}function ud({title:e,items:t}){const n=(t||[]).slice(0,5);return n.length===0?null:a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:e}),a.jsx("div",{className:"space-y-2",children:n.map(r=>a.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-semibold text-slate-800 truncate",children:r.primary}),a.jsx("div",{className:"text-xs text-slate-500 break-words",children:r.secondary})]}),r.badge&&a.jsx("span",{className:"ml-3 shrink-0 rounded-full border border-slate-300 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:r.badge})]},r.k))})]})}function dd({children:e,onClose:t,title:n}){return a.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(ht,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(Gn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Jue({children:e,onClose:t,title:n}){return a.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(ht,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:a.jsx(Gn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const fd="http://localhost:8000",ede=[`${fd}/api/admin/basic-admin-stats`,`${fd}/basic-admin-stats`,`${fd}/api/basic-admin-stats`,`${fd}/statistics`,`${fd}/api/statistics`],Vn={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",light:"#e6f6ff"},Zh="3 3";function tde(){const[e,t]=v.useState({width:0,height:0});return v.useEffect(()=>{const n=()=>t({width:window.innerWidth,height:window.innerHeight});return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function jL(e){const t=Number(e||0);return t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k":t.toLocaleString()}function PT(e={},t="name",n="value"){return Object.entries(e||{}).map(([r,i])=>({[t]:String(r),[n]:Number(i||0)}))}function bl(e){const n=Math.max(0,Number(e)||0),r=Array.from({length:12},(i,l)=>{const c=l/11,d=Math.sin(c*Math.PI)*.45,f=(Math.random()-.5)*.14,m=Math.max(0,Math.round(n*(.55+d+f)));return{label:`P${l+1}`,value:m}});return r.length&&(r[r.length-1].value=n),r}async function nde(){var n;const e=localStorage.getItem("token")||localStorage.getItem("auth_token");let t;for(const r of ede)try{const i=await fetch(r,{headers:{Accept:"application/json",...e?{Authorization:`Bearer ${e}`}:{}},mode:"cors"});if(!i.ok){t=new Error(`HTTP ${i.status}`);continue}const l=await i.json();if(l!=null&&l.success&&((n=l==null?void 0:l.stats)!=null&&n.totals)||l)return l}catch(i){t=i}throw t||new Error("Failed to fetch stats")}function rde({value:e,className:t}){const n=vc(0),[r,i]=v.useState(0);return v.useEffect(()=>{const l=Rq(n,Number(e||0),{duration:.5,ease:"easeOut"}),c=n.on("change",d=>i(Math.round(d)));return()=>{l.stop(),c()}},[e]),a.jsx("span",{className:t,children:jL(r)})}function ade({points:e,width:t,height:n}){if(!e||!e[0])return null;const r=e[0].x;return a.jsxs("g",{children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),a.jsxs("filter",{id:"neonGlowLine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx("line",{x1:r,x2:r,y1:0,y2:n,stroke:"url(#neonStroke)",strokeWidth:2,opacity:.85,filter:"url(#neonGlowLine)"})]})}function $b(e){const{x:t,y:n,width:r,height:i}=e;return a.jsxs("g",{children:[a.jsx("defs",{children:a.jsxs("filter",{id:"neonGlowRect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx("rect",{x:t,y:n,width:r,height:i,fill:"rgba(34,211,238,0.18)",stroke:"rgba(37,99,235,0.6)",strokeWidth:1,rx:8,filter:"url(#neonGlowRect)"})]})}function OT(e){const{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c,fill:d}=e;return a.jsxs("g",{children:[a.jsx("defs",{children:a.jsxs("filter",{id:"neonGlowPie",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx(Lj,{cx:t,cy:n,innerRadius:r,outerRadius:i+6,startAngle:l,endAngle:c,fill:d,stroke:"#ffffff",strokeWidth:2,filter:"url(#neonGlowPie)"})]})}function Yo({title:e,right:t,children:n,className:r=""}){return a.jsxs("div",{className:`relative rounded-3xl border border-slate-200 bg-white p-5 sm:p-6 shadow-xl overflow-hidden ${r}`,children:[a.jsx(sde,{}),a.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[a.jsx("h2",{className:"text-sm sm:text-base font-semibold text-slate-700",children:e}),t]}),n]})}function sde(){return a.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[a.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:`linear-gradient(90deg, ${Vn.cyan}33, transparent)`,filter:"blur(22px)",opacity:.6}}),a.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function ide({label:e,value:t,icon:n,color:r,series:i,badge:l="Live",loading:c}){const d=vc(0),f=vc(0),m=i0(f,[-60,60],[10,-10]),h=i0(d,[-60,60],[-10,10]),x=v.useRef(null);return a.jsxs(pe.div,{ref:x,onMouseMove:g=>{var w;const b=(w=x.current)==null?void 0:w.getBoundingClientRect();b&&(d.set(g.clientX-b.left-b.width/2),f.set(g.clientY-b.top-b.height/2))},onMouseLeave:()=>{d.set(0),f.set(0)},style:{rotateX:m,rotateY:h},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl transition-transform duration-300",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${r}66, #ffffff00)`}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:a.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7",style:{color:r}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900",children:c?a.jsx(lde,{}):a.jsx(rde,{value:t})}),l&&a.jsx("span",{className:"hidden xs:inline-flex rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[9px] sm:text-[10px] font-semibold text-white shadow-sm",children:l})]})]})]}),a.jsx("div",{className:"mt-3 h-[110px] xs:h-[130px] sm:h-[140px] md:h-[160px]",children:c?a.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):a.jsx(Ka,{width:"100%",height:"100%",children:a.jsxs(dN,{data:i,margin:{top:2,right:8,left:-10,bottom:0},children:[a.jsx("defs",{children:a.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx(Ui,{strokeDasharray:Zh,strokeOpacity:.12}),a.jsx(Ps,{dataKey:"label",hide:!0}),a.jsx(Os,{hide:!0,domain:[0,"dataMax+"]}),a.jsx(qa,{contentStyle:{borderRadius:12},cursor:a.jsx(ade,{})}),a.jsx(Fp,{type:"monotone",dataKey:"value",stroke:r,strokeWidth:2.2,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"}})]})})})]})]})}function lde(){return a.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function ode(){const{width:e}=tde(),t=e<768,[n,r]=v.useState(!0),[i,l]=v.useState(""),[c,d]=v.useState(null),[f,m]=v.useState(null),[h,x]=v.useState(null),[g,b]=v.useState({users:0,leads:0,files:0,knowledge_base_documents:0,assistants:0,phone_numbers:0,call_logs:0}),[w,j]=v.useState({}),[S,_]=v.useState({attached_to_assistant:0,unattached:0}),[C,k]=v.useState({transferred:0,not_transferred:0,by_status:{}}),O=async()=>{try{r(!0),l("");const V=await nde(),U=(V==null?void 0:V.stats)||V||{},te=(U==null?void 0:U.totals)||{};b({users:Number(te.users||0),leads:Number(te.leads||0),files:Number(te.files||0),knowledge_base_documents:Number(te.knowledge_base_documents||0),assistants:Number(te.assistants||0),phone_numbers:Number(te.phone_numbers||0),call_logs:Number(te.call_logs||0)}),j((U==null?void 0:U.users_by_role)||{}),_((U==null?void 0:U.phone_numbers)||{attached_to_assistant:0,unattached:0}),k((U==null?void 0:U.call_logs)||{transferred:0,not_transferred:0,by_status:{}}),d((V==null?void 0:V.generated_at)||new Date().toISOString())}catch(V){const U=(V==null?void 0:V.message)||"Failed to load stats",te=U.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(U+te)}finally{r(!1)}};v.useEffect(()=>{O()},[]);const A=v.useMemo(()=>[{key:"users",label:"Users",value:g.users,icon:tr,color:Vn.blue,series:bl(g.users)},{key:"leads",label:"Leads",value:g.leads,icon:zd,color:Vn.cyan,series:bl(g.leads)},{key:"files",label:"Files",value:g.files,icon:A6,color:Vn.sky,series:bl(g.files)},{key:"assistants",label:"Assistants",value:g.assistants,icon:k6,color:Vn.cyan,series:bl(g.assistants)},{key:"phone_numbers",label:"Phone Numbers",value:g.phone_numbers,icon:ut,color:Vn.sky,series:bl(g.phone_numbers)},{key:"knowledge_base_documents",label:"KB Docs",value:g.knowledge_base_documents,icon:bd,color:Vn.blue,series:bl(g.knowledge_base_documents)},{key:"call_logs",label:"Call Logs",value:g.call_logs,icon:Zb,color:Vn.cyan,series:bl(g.call_logs)}],[g]),E=v.useMemo(()=>PT(w,"name","value"),[w]),$=v.useMemo(()=>[{name:"Attached",value:Number(S.attached_to_assistant||0)},{name:"Unattached",value:Number(S.unattached||0)}],[S]),M=v.useMemo(()=>[{name:"Transferred",value:Number(C.transferred||0)},{name:"Not Transferred",value:Number(C.not_transferred||0)}],[C]),F=v.useMemo(()=>PT(C.by_status||{},"status","count"),[C]),G=v.useMemo(()=>[{name:"Users",value:g.users},{name:"Leads",value:g.leads},{name:"Files",value:g.files},{name:"Assistants",value:g.assistants},{name:"Phones",value:g.phone_numbers},{name:"KB",value:g.knowledge_base_documents},{name:"Calls",value:g.call_logs}],[g]);return a.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),i&&a.jsx("div",{className:"w-full px-3 sm:px-4 pt-4 mb-6",children:a.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:i})}),a.jsx("header",{className:"w-full px-3 sm:px-4 pt-8 pb-6",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),a.jsx("p",{className:"mt-1 text-xs sm:text-sm md:text-base text-slate-600",children:"Neon-lite analytics  blue / cyan palette."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:O,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[a.jsx(Ze,{className:"h-4 w-4"}),"Refresh"]}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500",children:c?`Updated: ${new Date(c).toLocaleString()}`:""})]})]})}),a.jsxs("main",{className:"w-full px-3 sm:px-4 pb-12",children:[a.jsx("section",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-5",children:A.map(V=>a.jsx(ide,{label:V.label,value:V.value,icon:V.icon,color:V.color,series:V.series,loading:n},V.key))}),a.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-2 gap-5 xl:gap-6",children:[a.jsx(Yo,{title:"Overview by Metric",right:a.jsx(md,{text:"Bars"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:a.jsx(Ka,{width:"100%",height:"100%",children:a.jsxs(Gh,{data:G,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[a.jsxs("defs",{children:[a.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Vn.sky}),a.jsx("stop",{offset:"100%",stopColor:Vn.light})]})]}),a.jsx(Ui,{strokeDasharray:Zh,strokeOpacity:.2}),a.jsx(Ps,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),a.jsx(Os,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:V=>V>=1e3?`${Math.round(V/1e3)}k`:V}),a.jsx(qa,{contentStyle:{borderRadius:12},cursor:a.jsx($b,{})}),a.jsx(Pd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},maxBarSize:t?38:60})]})})})}),a.jsx(Yo,{title:"Users by Role",right:a.jsx(md,{text:"Bars"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:a.jsx(Ka,{width:"100%",height:"100%",children:a.jsxs(Gh,{data:E,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"roleFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Vn.blue}),a.jsx("stop",{offset:"100%",stopColor:"#eaf2ff"})]})}),a.jsx(Ui,{strokeDasharray:Zh,strokeOpacity:.2}),a.jsx(Ps,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),a.jsx(Os,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:V=>V>=1e3?`${Math.round(V/1e3)}k`:V}),a.jsx(qa,{contentStyle:{borderRadius:12},cursor:a.jsx($b,{})}),a.jsx(Pd,{dataKey:"value",fill:"url(#roleFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),a.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-6",children:[a.jsx(Yo,{title:"Phone Numbers  Attached vs Unattached",right:a.jsx(md,{text:"Donut"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:a.jsx(Ka,{width:"100%",height:"100%",children:a.jsxs(K0,{children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"pieGradPhones",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Vn.cyan}),a.jsx("stop",{offset:"100%",stopColor:Vn.blue})]})}),a.jsx(qa,{contentStyle:{borderRadius:12}}),a.jsxs(af,{data:$,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:f,onMouseEnter:(V,U)=>m(U),onMouseLeave:()=>m(null),activeShape:OT,label:t?({name:V,percent:U})=>U>=.18?V:"":!1,labelLine:!1,children:[a.jsx(ks,{fill:"url(#pieGradPhones)"}),a.jsx(ks,{fill:"#bfe9ff"})]})]})})})}),a.jsx(Yo,{title:"Calls  Transferred vs Not",right:a.jsx(md,{text:"Donut"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:a.jsx(Ka,{width:"100%",height:"100%",children:a.jsxs(K0,{children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"pieGradCalls",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Vn.sky}),a.jsx("stop",{offset:"100%",stopColor:Vn.blue})]})}),a.jsx(qa,{contentStyle:{borderRadius:12}}),a.jsxs(af,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:h,onMouseEnter:(V,U)=>x(U),onMouseLeave:()=>x(null),activeShape:OT,label:t?({name:V,percent:U})=>U>=.18?V:"":!1,labelLine:!1,children:[a.jsx(ks,{fill:"url(#pieGradCalls)"}),a.jsx(ks,{fill:"#d7eeff"})]})]})})})}),a.jsx(Yo,{title:"Call Logs  by Status",right:a.jsx(md,{text:"Bars"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:a.jsx(Ka,{width:"100%",height:"100%",children:a.jsxs(Gh,{data:F,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"statusFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Vn.cyan}),a.jsx("stop",{offset:"100%",stopColor:"#ecfbff"})]})}),a.jsx(Ui,{strokeDasharray:Zh,strokeOpacity:.2}),a.jsx(Ps,{dataKey:"status",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),a.jsx(Os,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:V=>V>=1e3?`${Math.round(V/1e3)}k`:V}),a.jsx(qa,{contentStyle:{borderRadius:12},cursor:a.jsx($b,{})}),a.jsx(Pd,{dataKey:"count",fill:"url(#statusFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),a.jsx("section",{className:"mt-8",children:a.jsx(Yo,{title:"Status Breakdown (Compact List)",children:n?a.jsx("div",{className:"h-24 w-full animate-pulse rounded-xl bg-slate-100"}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[F.length===0&&a.jsx("div",{className:"text-sm text-slate-500",children:"No call status data."}),F.map(V=>a.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700 truncate pr-3",children:V.status}),a.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:jL(V.count)})]},V.status))]})})}),a.jsxs("footer",{className:"mt-10 mb-2 w-full text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon dashboard."]})]})]})}function md({text:e}){return a.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-1 text-[10px] font-semibold text-white shadow-sm",children:e})}function cde(){const e=Vt(),[t,n]=v.useState(!1),[r,i]=v.useState(!1),[l,c]=v.useState(["","","",""]),[d,f]=v.useState({name:"",email:"",password:""}),[m,h]=v.useState(!1),[x,g]=v.useState({profile:!1,update:!1,delete:!1,otp:!1}),b=v.useRef([]),w=v.useRef(null),j=async()=>{var $,M;g(F=>({...F,profile:!0}));try{const F=localStorage.getItem("token");if(!F){W.error("Authentication required. Please login again."),e("/login");return}const G=await fetch("http://localhost:8000/api/search-user",{headers:{Authorization:`Bearer ${F}`}});if(!G.ok){const U=await G.json();throw new Error(U.detail||"Failed to fetch user data")}const V=await G.json();f({name:(($=V.users)==null?void 0:$.name)||"",email:((M=V.users)==null?void 0:M.email)||"",password:""})}catch(F){W.error(F.message),F.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"))}finally{g(F=>({...F,profile:!1}))}};v.useEffect(()=>{j()},[]);const S=()=>d.name.trim()?d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)?d.password&&d.password.length<8?(W.error("Password must be at least 8 characters long"),!1):!0:(W.error("Please enter a valid email address"),!1):(W.error("Email is required"),!1):(W.error("Name is required"),!1),_=async $=>{if($.preventDefault(),!!S()){g(M=>({...M,update:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const F={name:d.name,email:d.email,...d.password&&{password:d.password}},G=await fetch("http://localhost:8000/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(F)});if(!G.ok){const U=await G.json();throw new Error(U.detail||"Failed to update profile")}const V=await G.json();V!=null&&V.otp_needed?(i(!0),setTimeout(()=>{var U;return(U=b.current[0])==null?void 0:U.focus()},0),W.info("Verification code sent to your email")):(localStorage.setItem("name",F.name),W.success("Profile updated successfully"),f(U=>({...U,password:""})))}catch(M){W.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,update:!1}))}}},C=async $=>{if($.preventDefault(),l.some(M=>!M)){W.error("Please enter the complete verification code");return}g(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const F=await fetch("http://localhost:8000/api/update-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email,code:l.join(""),name:d.name,...d.password&&{password:d.password}})});if(!F.ok){const G=await F.json();throw new Error(G.detail||"Verification failed")}W.success("Account verified successfully"),i(!1),c(["","","",""]),localStorage.setItem("name",d.name),localStorage.setItem("email",d.email),f(G=>({...G,password:""}))}catch(M){W.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,otp:!1}))}},k=async()=>{g($=>({...$,delete:!0}));try{const $=localStorage.getItem("token");if(!$)throw new Error("Authentication required. Please login again.");const M=await fetch("http://localhost:8000/api/delete-account",{method:"DELETE",headers:{Authorization:`Bearer ${$}`}});if(!M.ok){const F=await M.json();throw new Error(F.detail||"Failed to delete account")}W.success("Account deleted successfully"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch($){W.error($.message),$.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g($=>({...$,delete:!1}))}},O=($,M)=>{var F;if(/^\d?$/.test(M)){const G=[...l];G[$]=M,c(G),M&&$<3&&((F=b.current[$+1])==null||F.focus())}},A=($,M)=>{var F;M.key==="Backspace"&&!l[$]&&$>0&&((F=b.current[$-1])==null||F.focus())},E=async()=>{var $;g(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const F=await fetch("http://localhost:8000/api/resend-otp-update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email})});if(!F.ok){const G=await F.json();throw new Error(G.detail||"Failed to resend OTP")}c(["","","",""]),($=b.current[0])==null||$.focus(),W.success("OTP resent successfully")}catch(M){W.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{g(M=>({...M,otp:!1}))}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:a.jsx("div",{className:"flex-1 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[(x.profile||x.update||x.delete||x.otp)&&a.jsx("div",{className:"flex justify-center items-center mb-4",children:a.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),r?a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(pw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Email Verification"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(pw,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"font-semibold text-blue-900",children:"Verification Required"})]}),a.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["We've sent a 4-digit verification code to"," ",a.jsx("strong",{children:d.email}),". Please enter it below."]}),a.jsxs("form",{onSubmit:C,children:[a.jsx("div",{className:"flex justify-center gap-3 mb-4",children:l.map(($,M)=>a.jsx("input",{type:"text",maxLength:"1",value:$,onChange:F=>O(M,F.target.value),onKeyDown:F=>A(M,F),ref:F=>b.current[M]=F,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-xl font-bold text-gray-900 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0",disabled:x.otp},M))}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx("button",{type:"submit",disabled:l.some($=>!$)||x.otp,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.otp?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(fw,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})}),a.jsx("button",{type:"button",onClick:E,disabled:x.otp,className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Resend OTP"})]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(uc,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Account Settings"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"Manage your account information and preferences"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(uc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Profile Information"})]}),a.jsxs("form",{ref:w,onSubmit:_,children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[a.jsx(uc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),a.jsx("input",{type:"text",value:d.name,onChange:$=>f({...d,name:$.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[a.jsx(oL,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Email Address"]}),a.jsx("input",{type:"email",value:d.email,onChange:$=>f({...d,email:$.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[a.jsx(cL,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Password (optional)"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:t?"text":"password",value:d.password,onChange:$=>f({...d,password:$.target.value}),placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base",disabled:x.profile||x.update,minLength:8}),a.jsx("button",{type:"button",onClick:()=>n(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:x.profile||x.update,children:t?a.jsx(mw,{className:"w-5 h-5"}):a.jsx(hw,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:d.password?"Password must be at least 8 characters":"Leave blank to keep current password"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",disabled:x.profile||x.update,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.update?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Saving..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(fw,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center",children:a.jsx(G0,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-900",children:"Danger Zone"})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),a.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),a.jsx("button",{onClick:()=>h(!0),disabled:x.profile||x.update,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xw,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})]}),m&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50  bg-opacity-50 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:a.jsx(G0,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>h(!1),disabled:x.delete,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{h(!1),k()},disabled:x.delete,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:x.delete?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(xw,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})})]})})})}const Qh="http://localhost:8000",Ib={CALL_LOGS:`${Qh}/api/admin/call-logs`,VAPI_CALL_LOGS:`${Qh}/api/admin/vapi-call-logs`,CALL_LOG:e=>`${Qh}/api/admin/call-logs/${e}`},ude="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",MT=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${Qh}${t}`},zt=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t},hd=e=>{if(!e)return"Unknown";try{const t=new Date(e);return Number.isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}},Th=e=>{if(e==null||Number.isNaN(Number(e)))return"Unknown";const t=Number(e),n=Math.floor(t/60),r=Math.floor(t%60);return`${n}m ${r}s`},Wo=e=>String(e??"").toLowerCase();function DT(e=[],t=[]){const n=[],r=new Map;for(const i of e){const l={_key:i.call_id?`local:${i.call_id}`:`local-id:${i.id}`,source:"local",id:i.id,call_id:i.call_id||null,started_at:i.call_started_at||null,ended_at:i.call_ended_at||null,duration:i.call_duration??null,cost:i.cost??null,status:i.status||"",ended_reason:i.call_ended_reason||"",transferred:!!i.is_transferred,criteria_satisfied:i.criteria_satisfied,customer_name:i.customer_name||"",customer_number:i.customer_number||"",user:i.user||null,assistant_id:null,phone_number_id:null,summary:null,transcript:null,analysis:null,recording_url:null,created_at:null,updated_at:null};n.push(l),l.call_id&&r.set(l.call_id,l)}for(const i of t){const l=i.call_id&&r.get(i.call_id),c={_key:i.call_id?`vapi:${i.call_id}`:`vapi-id:${i.id}`,source:"vapi",id:i.id,call_id:i.call_id||null,started_at:i.started_at||i.created_at||null,ended_at:i.ended_at||null,duration:i.duration??null,cost:i.cost??null,status:i.status||"",ended_reason:i.ended_reason||"",transferred:!!i.is_transferred,criteria_satisfied:i.criteria_satisfied,customer_name:i.customer_name||"",customer_number:i.customer_number||"",user:null,assistant_id:i.assistant_id||null,phone_number_id:i.phone_number_id||null,summary:i.summary||null,transcript:i.transcript||null,analysis:i.analysis||null,recording_url:i.recording_url||null,created_at:i.created_at||null,updated_at:i.updated_at||null};l?(l.assistant_id=l.assistant_id||c.assistant_id,l.phone_number_id=l.phone_number_id||c.phone_number_id,l.summary=c.summary??l.summary,l.transcript=c.transcript??l.transcript,l.analysis=c.analysis??l.analysis,l.recording_url=c.recording_url??l.recording_url,l.created_at=c.created_at??l.created_at,l.updated_at=c.updated_at??l.updated_at,l.source="both"):(n.push(c),c.call_id&&r.set(c.call_id,c))}return n.sort((i,l)=>new Date(l.started_at||0)-new Date(i.started_at||0)),n}function RT(e,t){const n=new Blob([t],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,i.click(),URL.revokeObjectURL(r)}function dde(e){var i,l,c;const t=["id","call_id","source","customer_name","customer_number","started_at","ended_at","duration","cost","status","ended_reason","transferred","criteria_satisfied","assistant_id","phone_number_id","user_id","user_name","user_email"],n=d=>{const f=d==null?"":String(d);return/[",\n]/.test(f)?`"${f.replaceAll('"','""')}"`:f},r=[t.join(",")];for(const d of e)r.push([d.id??"",d.call_id??"",d.source??"",d.customer_name??"",d.customer_number??"",d.started_at??"",d.ended_at??"",d.duration??"",d.cost??"",d.status??"",d.ended_reason??"",d.transferred??"",d.criteria_satisfied??"",d.assistant_id??"",d.phone_number_id??"",((i=d.user)==null?void 0:i.id)??"",((l=d.user)==null?void 0:l.name)??"",((c=d.user)==null?void 0:c.email)??""].map(n).join(","));return r.join(`
`)}function fde(){var ue;const[e,t]=v.useState([]),[n,r]=v.useState([]),[i,l]=v.useState([]),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(!0),[g,b]=v.useState(""),[w,j]=v.useState("all"),[S,_]=v.useState("all"),[C,k]=v.useState(""),[O,A]=v.useState(""),[E,$]=v.useState("started_at"),[M,F]=v.useState("desc"),[G,V]=v.useState(1),U=10,[te,be]=v.useState(!1),[re,R]=v.useState(null),[q,H]=v.useState(null),[B,T]=v.useState(null),[D,L]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),K=v.useCallback(async()=>{if(D){m("You're in impersonation mode. Exit impersonation to use admin tools."),t([]),r([]),l([]);return}const Z=localStorage.getItem("token");if(!Z){m("No auth token found."),W.error("No authentication token found."),t([]),r([]),l([]);return}try{d(!0),m("");const je={Authorization:`Bearer ${Z}`,Accept:"application/json"},[Te,Ue]=await Promise.all([fetch(Ib.CALL_LOGS,{headers:je,mode:"cors"}),h?fetch(Ib.VAPI_CALL_LOGS,{headers:je,mode:"cors"}):Promise.resolve(null)]);if(!(Te!=null&&Te.ok)){const vt=await Te.text();throw new Error(`Call logs HTTP ${Te.status}${vt?`  ${vt}`:""}`)}const Ae=await Te.json(),Je=Array.isArray(Ae==null?void 0:Ae.call_logs)?Ae.call_logs:[];let Ge=[];if(h&&Ue){if(!Ue.ok){const Ht=await Ue.text();throw new Error(`VAPI call logs HTTP ${Ue.status}${Ht?`  ${Ht}`:""}`)}const vt=await Ue.json();Ge=Array.isArray(vt==null?void 0:vt.call_logs)?vt.call_logs:[]}t(Je),r(Ge),l(DT(Je,Ge))}catch(je){m((je==null?void 0:je.message)||"Failed to load call logs"),W.error((je==null?void 0:je.message)||"Failed to load call logs")}finally{d(!1)}},[h,D]);v.useEffect(()=>{K()},[K]),v.useEffect(()=>{l(DT(e,h?n:[]))},[e,n,h]);const oe=v.useMemo(()=>{const Z=new Set(i.map(je=>(je.status||"").toLowerCase()).filter(Boolean));return["all",...Array.from(Z)]},[i]),z=v.useMemo(()=>{let Z=[...i];if(g.trim()){const je=g.trim().toLowerCase();Z=Z.filter(Te=>{var Ue,Ae;return Wo(Te.customer_name).includes(je)||Wo(Te.customer_number).includes(je)||Wo(Te.call_id).includes(je)||Wo((Ue=Te.user)==null?void 0:Ue.email).includes(je)||Wo((Ae=Te.user)==null?void 0:Ae.name).includes(je)})}if(w!=="all"&&(Z=Z.filter(je=>Wo(je.status)===w)),S!=="all"){const je=S==="yes";Z=Z.filter(Te=>!!Te.transferred===je)}if(C){const je=new Date(C).getTime();Z=Z.filter(Te=>new Date(Te.started_at||0).getTime()>=je)}if(O){const je=new Date(O).getTime();Z=Z.filter(Te=>new Date(Te.started_at||0).getTime()<=je)}return Z.sort((je,Te)=>{const Ue=M==="asc"?1:-1,Ae=je[E],Je=Te[E];return E.includes("date")||E.includes("started")?Ue*(new Date(Ae||0)-new Date(Je||0)):Ue*((Ae??0)-(Je??0))}),Z},[i,g,w,S,C,O,E,M]),Y=Math.max(1,Math.ceil(z.length/U)),ye=G*U,se=ye-U,ve=z.slice(se,ye);v.useEffect(()=>{V(1)},[g,w,S,C,O,E,M]);const we=v.useMemo(()=>{const Z=z.length,je=z.filter(Je=>Je.transferred).length,Te=Z-je,Ue=z.reduce((Je,Ge)=>Je+(Number.isFinite(Number(Ge.duration))?Number(Ge.duration):0),0),Ae=z.reduce((Je,Ge)=>Je+(Number.isFinite(Number(Ge.cost))?Number(Ge.cost):0),0);return{total:Z,transferred:je,notTransferred:Te,totalDuration:Ue,totalCost:Ae}},[z]),Ne=Z=>{R(Z),be(!0)},me=Z=>H((Z==null?void 0:Z.id)||null),Oe=async()=>{const Z=q;if(!Z)return;const je=localStorage.getItem("token");if(!je)return W.error("No authentication token found.");try{T(Z);const Te=await fetch(Ib.CALL_LOG(Z),{method:"DELETE",headers:{Authorization:`Bearer ${je}`,Accept:"application/json"}}),Ue=await Te.json();if(!Te.ok||!(Ue!=null&&Ue.success))throw new Error((Ue==null?void 0:Ue.detail)||(Ue==null?void 0:Ue.message)||`HTTP ${Te.status}`);W.success(" Call log deleted"),H(null),t(Ae=>Ae.filter(Je=>Je.id!==Z))}catch(Te){W.error((Te==null?void 0:Te.message)||"Delete failed")}finally{T(null)}},Be=()=>{const Z=dde(z),je=new Date().toISOString().replace(/[:.]/g,"-");RT(`call-history-${je}.csv`,Z)},Xe=()=>{b(""),j("all"),_("all"),k(""),A(""),$("started_at"),F("desc")},X=()=>{const Z=localStorage.getItem("admin_token_backup");if(!Z){W.error("No admin backup token found.");return}localStorage.setItem("token",Z),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),L(null),W.success(" Exited impersonation"),window.location.reload()};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[D&&a.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:a.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[a.jsx(cv,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),a.jsxs("span",{className:"truncate",children:["Acting as ",a.jsx("b",{className:"break-all",children:zt((ue=D.acting_as)==null?void 0:ue.email)})]})]}),a.jsx(fr,{onClick:X,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:"Exit"})]})}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(Zb,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${ude}`,children:"Call History"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View, filter, export, and manage call logs from local DB and VAPI."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"text-xs sm:text-sm flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx(mB,{className:"h-4 w-4"}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:Z=>x(Z.target.checked),disabled:!!D,"aria-label":"Include VAPI logs"}),"Include VAPI logs"]})]}),a.jsxs(fr,{onClick:Be,disabled:z.length===0||!!D,"aria-label":"Export CSV",children:[a.jsx(Id,{className:"mr-2 h-4 w-4"})," Export CSV"]}),a.jsx(fr,{onClick:K,disabled:c||!!D,"aria-label":"Refresh",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(zb,{label:"Total Calls",value:we.total,Icon:cv,tone:"blue"}),a.jsx(zb,{label:"Transferred",value:we.transferred,Icon:ar,tone:"cyan"}),a.jsx(zb,{label:"Not Transferred",value:we.notTransferred,Icon:oa,tone:"blue"}),a.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-inner ring-1 ring-cyan-200/60",children:a.jsx(f5,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:"Total Duration / Cost"}),a.jsxs("div",{className:"text-sm font-black text-slate-900",children:[Th(we.totalDuration),"  $",we.totalCost.toFixed(2)]})]})]})})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-12 md:items-end",children:[a.jsxs("div",{className:"md:col-span-4",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(Dr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:g,onChange:Z=>b(Z.target.value),placeholder:"Name, number, call id, user",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!D,"aria-label":"Search calls"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Status"}),a.jsx("select",{value:w,onChange:Z=>j(Z.target.value),disabled:!!D,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by status",children:oe.map(Z=>a.jsx("option",{value:Z,children:Z==="all"?"All statuses":Z},Z))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Transferred"}),a.jsxs("select",{value:S,onChange:Z=>_(Z.target.value),disabled:!!D,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by transfer",children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"yes",children:"Yes"}),a.jsx("option",{value:"no",children:"No"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"From"}),a.jsx("input",{type:"datetime-local",value:C,onChange:Z=>k(Z.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"From date"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"To"}),a.jsx("input",{type:"datetime-local",value:O,onChange:Z=>A(Z.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"To date"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Sort"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:E,onChange:Z=>$(Z.target.value),className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort by",children:[a.jsx("option",{value:"started_at",children:"Start time"}),a.jsx("option",{value:"duration",children:"Duration"}),a.jsx("option",{value:"cost",children:"Cost"})]}),a.jsxs("select",{value:M,onChange:Z=>F(Z.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort order",children:[a.jsx("option",{value:"desc",children:"Desc"}),a.jsx("option",{value:"asc",children:"Asc"})]})]})]}),a.jsx("div",{className:"md:col-span-12 flex justify-end",children:(g||w!=="all"||S!=="all"||C||O||E!=="started_at"||M!=="desc")&&a.jsxs(fr,{onClick:Xe,className:"text-slate-700","aria-label":"Clear filters",children:[a.jsx(Rc,{className:"h-4 w-4 mr-2"})," Clear Filters"]})})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(Zb,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Calls (",z.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),D?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:a.jsx(cv,{className:"h-9 w-9 text-amber-500"})}),a.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),a.jsx("div",{className:"mt-3",children:a.jsx(fr,{onClick:X,variant:"primary",children:"Exit Impersonation"})})]}):c?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading calls"})]}):z.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(ut,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(ws,{children:"Caller"}),a.jsx(ws,{children:"User"}),a.jsx(ws,{children:"Start"}),a.jsx(ws,{children:"Duration"}),a.jsx(ws,{children:"Status"}),a.jsx(ws,{children:"Transferred"}),a.jsx(ws,{children:"Cost"}),a.jsx(ws,{children:"Source"}),a.jsx(ws,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:ve.map(Z=>{const je=Z.cost===null||Z.cost===void 0||Number.isNaN(Number(Z.cost))?"Unknown":Number(Z.cost).toFixed(2);return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(js,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:zt(Z.customer_name)}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all flex items-center gap-1",children:[a.jsx(ut,{className:"h-3.5 w-3.5"})," ",zt(Z.customer_number)]}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["CID: ",zt(Z.call_id)]})]})}),a.jsx(js,{children:Z.user?a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"text-xs font-semibold text-slate-800 truncate flex items-center gap-1",children:[a.jsx(ic,{className:"h-3.5 w-3.5"})," ",zt(Z.user.name)]}),a.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:zt(Z.user.email)})]}):a.jsx("span",{className:"text-xs text-slate-500",children:"Unknown"})}),a.jsxs(js,{children:[a.jsx("div",{className:"text-xs text-slate-800",children:hd(Z.started_at)}),a.jsx("div",{className:"text-[11px] text-slate-500",children:hd(Z.ended_at)})]}),a.jsx(js,{children:a.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[a.jsx(hc,{className:"h-3.5 w-3.5"})," ",Th(Z.duration)]})}),a.jsxs(js,{children:[a.jsx(Di,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:zt(Z.status)}),a.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Reason: ",zt(Z.ended_reason)]})]}),a.jsx(js,{children:Z.transferred?a.jsxs(Di,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[a.jsx(ar,{className:"mr-1 h-3.5 w-3.5"})," Yes"]}):a.jsxs(Di,{className:"border bg-red-100 text-red-700 border-red-200",children:[a.jsx(oa,{className:"mr-1 h-3.5 w-3.5"})," No"]})}),a.jsx(js,{children:a.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[a.jsx(f5,{className:"h-3.5 w-3.5"})," ",je]})}),a.jsx(js,{children:a.jsx(Di,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:zt(Z.source)})}),a.jsx(js,{children:a.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[a.jsx(fr,{onClick:()=>Ne(Z),variant:"outline",size:"sm",title:"View details","aria-label":"View details",children:a.jsx(Jn,{className:"h-4 w-4"})}),Z.source!=="vapi"&&a.jsx(fr,{onClick:()=>me(Z),variant:"danger",size:"sm",title:"Delete","aria-label":"Delete",children:B===Z.id?a.jsx(Ze,{className:"h-4 w-4 animate-spin"}):a.jsx(sr,{className:"h-4 w-4"})})]})})]},Z._key)})})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ve.map((Z,je)=>{const Te=Z.cost===null||Z.cost===void 0||Number.isNaN(Number(Z.cost))?"Unknown":Number(Z.cost).toFixed(2);return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[je===0&&a.jsx(mde,{}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"text-base font-bold text-slate-900 truncate flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4 text-slate-500"})," ",zt(Z.customer_name)]}),a.jsx("div",{className:"mt-0.5 text-sm text-slate-600 break-all",children:zt(Z.customer_number)}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 break-all",children:["CID: ",zt(Z.call_id)]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:hd(Z.started_at)}),a.jsxs("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:[a.jsx(hc,{className:"h-3.5 w-3.5 mr-1"})," ",Th(Z.duration)]}),a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-blue-100 text-blue-700 text-[11px] font-semibold",children:zt(Z.status)}),a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:zt(Z.source)})]}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Reason: ",zt(Z.ended_reason)]}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Cost: ",Te]})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(fr,{onClick:()=>Ne(Z),size:"sm",className:"grow sm:grow-0","aria-label":"View",children:[a.jsx(Jn,{className:"h-4 w-4 mr-1"})," View"]}),Z.source!=="vapi"&&a.jsx(fr,{onClick:()=>me(Z),variant:"danger",size:"sm",className:"grow sm:grow-0","aria-label":"Delete",children:B===Z.id?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(sr,{className:"h-4 w-4 mr-1"})," Delete"]})})]})]},Z._key)})})}),z.length>U&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:se+1}),"",a.jsx("b",{children:Math.min(ye,z.length)})," of ",a.jsx("b",{children:z.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(fr,{onClick:()=>V(Z=>Math.max(1,Z-1)),disabled:G===1,children:[a.jsx(ua,{className:"h-4 w-4 mr-1"})," Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Y)},(Z,je)=>{let Te;if(Y<=5||G<=3?Te=je+1:G>=Y-2?Te=Y-4+je:Te=G-2+je,Te<1||Te>Y)return null;const Ue=G===Te;return a.jsx("button",{onClick:()=>V(Te),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Ue?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,"aria-label":`Page ${Te}`,children:Te},Te)})}),a.jsxs(fr,{onClick:()=>V(Z=>Math.min(Y,Z+1)),disabled:G>=Y,children:["Next ",a.jsx(Bn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(_t,{children:q&&a.jsxs(hde,{onClose:()=>H(null),title:"Confirm Delete",children:[a.jsx("div",{className:"text-slate-800",children:"Are you sure you want to delete this call log? This action cannot be undone."}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(fr,{onClick:()=>H(null),variant:"subtle",children:"Cancel"}),a.jsx(fr,{onClick:Oe,disabled:B===q,variant:"danger",children:B===q?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})}),a.jsx(_t,{children:te&&re&&a.jsx(pde,{onClose:()=>be(!1),title:"Call Details",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 min-w-0",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"font-bold text-slate-900 truncate flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4 text-slate-500"})," ",zt(re.customer_name)]}),a.jsx("div",{className:"text-sm text-slate-600 break-all",children:zt(re.customer_number)}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all mt-1",children:["Call ID: ",zt(re.call_id)]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[a.jsx(Di,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:zt(re.source)}),a.jsx(Di,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:zt(re.status)}),re.transferred?a.jsx(Di,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Transferred"}):a.jsx(Di,{className:"border bg-red-100 text-red-700 border-red-200",children:"Not transferred"})]})]}),a.jsxs("div",{className:"text-right text-sm text-slate-700",children:[a.jsxs("div",{children:[a.jsx("b",{children:"Start:"})," ",hd(re.started_at)]}),a.jsxs("div",{children:[a.jsx("b",{children:"End:"})," ",hd(re.ended_at)]}),a.jsxs("div",{className:"mt-1",children:[a.jsx("b",{children:"Duration:"})," ",Th(re.duration)]}),a.jsxs("div",{children:[a.jsx("b",{children:"Cost:"})," ",re.cost===null||re.cost===void 0||Number.isNaN(Number(re.cost))?"Unknown":`$${Number(re.cost).toFixed(2)}`]})]})]}),re.user?a.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ic,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"font-semibold",children:"User:"})," ",zt(re.user.name)]}),a.jsx("div",{className:"ml-5 break-all",children:zt(re.user.email)})]}):a.jsx("div",{className:"mt-3 text-xs text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ic,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"font-semibold",children:"User:"})," Unknown"]})}),(re.assistant_id||re.phone_number_id)&&a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[a.jsxs("div",{children:[a.jsx("b",{children:"Assistant ID:"})," ",zt(re.assistant_id)]}),a.jsxs("div",{children:[a.jsx("b",{children:"Phone Number ID:"})," ",zt(re.phone_number_id)]})]}),a.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[a.jsx("b",{children:"End Reason:"})," ",zt(re.ended_reason)]})]}),re.recording_url&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Recording"}),a.jsx("audio",{controls:!0,className:"w-full",children:a.jsx("source",{src:MT(re.recording_url)||re.recording_url})}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:a.jsxs("a",{href:MT(re.recording_url)||re.recording_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-xs inline-flex items-center gap-1",children:[a.jsx(wd,{className:"h-3.5 w-3.5"})," Open recording URL"]})})]}),re.summary&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Summary"}),a.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:re.summary})]}),re.transcript&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Transcript"}),a.jsxs(fr,{onClick:()=>RT(`transcript-${re.call_id||re.id}.txt`,re.transcript),size:"sm",children:[a.jsx(Id,{className:"h-4 w-4 mr-2"})," Save .txt"]})]}),a.jsx("div",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap max-h-72 overflow-auto",children:re.transcript})]}),re.analysis&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),a.jsx("pre",{className:"text-xs bg-slate-50 border border-slate-200 rounded-xl p-3 overflow-auto max-h-64",children:typeof re.analysis=="string"?re.analysis:JSON.stringify(re.analysis,null,2)})]})]})})})]})}function zb({label:e,value:t,Icon:n,tone:r="blue"}){const i=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${i}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Di({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function mde(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function fr({children:e,className:t="",variant:n="outline",size:r="md",...i}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...i,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function ws({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function js({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function hde({children:e,onClose:t,title:n}){return a.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function pde({children:e,onClose:t,title:n}){return a.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),a.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const Ha={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},LT=/^\+\d{7,15}$/,$T=[{id:1,key:"core",label:"Core & Transcription",Icon:_w},{id:2,key:"voice",label:"Voice",Icon:Ew},{id:3,key:"review",label:"Review & Create",Icon:Lc}],xde=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],gde=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function vde(){const e=Vt(),[t,n]=v.useState(1),[r,i]=v.useState(!1),[l,c]=v.useState(!1),d=v.useRef(null),[f,m]=v.useState(!1),[h,x]=v.useState("all"),[g,b]=v.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=v.useState({}),[S,_]=v.useState([]),[C,k]=v.useState(!1),[O,A]=v.useState(""),E=v.useMemo(()=>{const R=g.voice_provider==="openai"?Xc:ro;return(h==="all"?R:R.filter(H=>H.gender===h)).slice().sort((H,B)=>((H==null?void 0:H.showName)||"").localeCompare((B==null?void 0:B.showName)||""))},[g.voice_provider,h]);v.useEffect(()=>{if(!g.voice)return;const R=E.find(q=>(q==null?void 0:q.name)===g.voice);R!=null&&R.voice&&(b(q=>({...q,voice_model:R.voice})),j(q=>({...q,voice_model:""})))},[g.voice,E]);const $="http://localhost:8000",M=R=>{const{id:q,value:H,type:B,checked:T}=R.target,D=B==="checkbox"?T:H;b(L=>({...L,[q]:D})),j(L=>({...L,[q]:""}))},F=R=>{try{d.current&&(d.current.pause(),d.current=null);const q=new Audio(R);d.current=q,c(!0),q.play().catch(()=>{W.error("Failed to play voice preview"),c(!1),d.current=null}),q.onended=()=>{c(!1),d.current=null}}catch{W.error("Failed to play voice preview"),c(!1)}},G=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},V=R=>{if(R!==t){if(R===3&&(!g.voice||!f)){j(q=>({...q,voice:"Select a voice and press Next to continue"})),W.error("Please select a voice and press Next to continue.");return}G(),n(R)}},U=()=>{if(t===1){n(2);return}if(t===2){if(!g.voice){j(R=>({...R,voice:"Please select a voice"})),W.error("Select a voice to continue.");return}if(!f){j(R=>({...R,voice:"Click a voice card to confirm your choice"})),W.info("Click a voice card to confirm your choice.");return}n(3)}},te=async()=>{k(!0),A("");try{const R=localStorage.getItem("token"),q=await fetch(`${$}/api/purchased_numbers`,{headers:{Accept:"application/json",...R?{Authorization:`Bearer ${R}`}:{}}});if(!q.ok)throw new Error(`HTTP ${q.status}`);const H=await q.json(),T=(Array.isArray(H)?H:(H==null?void 0:H.purchased_numbers)||[]).filter(Boolean).map(D=>({phone_number:(D==null?void 0:D.phone_number)||"",friendly_name:(D==null?void 0:D.friendly_name)||"",attached_assistant:(D==null?void 0:D.attached_assistant)??null})).filter(D=>D.phone_number);_(T)}catch(R){console.error(R),A("Failed to load your purchased numbers"),_([])}finally{k(!1)}};v.useEffect(()=>{te()},[]);const be=()=>{const R=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],q={};let H=!0;if(R.forEach(B=>{const T=g[B];(T==null||T===""||Number.isNaN(T))&&(q[B]="Required",H=!1)}),(g.temperature<0||g.temperature>2)&&(q.temperature="Temperature must be between 0 and 2",H=!1),g.maxTokens<1&&(q.maxTokens="maxTokens must be a positive integer",H=!1),g.forwardingPhoneNumber&&!LT.test(g.forwardingPhoneNumber)&&(q.forwardingPhoneNumber="Must be E.164 (+123...)",H=!1),g.attached_Number&&!LT.test(g.attached_Number)&&(q.attached_Number="Invalid number format",H=!1),j(q),!H){const B=L=>L.some(K=>q[K]),T=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],D=["voice_provider","voice_model","voice"];B(T)?n(1):B(D)&&n(2)}return H},re=async R=>{if(R.preventDefault(),!r){if(t!==3){W.error("Please complete the steps first.");return}if(be()){i(!0),G();try{const q=localStorage.getItem("token"),H=`${$}/api/assistants`,B={name:g.name,provider:g.provider,first_message:g.first_message||null,model:g.model,systemPrompt:g.systemPrompt||null,knowledgeBase:g.knowledgeBase,leadsfile:g.leadsfile,temperature:Number(g.temperature),maxTokens:Number(g.maxTokens),transcribe_provider:g.transcribe_provider,transcribe_language:g.transcribe_language,transcribe_model:g.transcribe_model,languages:g.languages,forwardingPhoneNumber:g.forwardingPhoneNumber||null,endCallPhrases:g.endCallPhrases,voice_provider:g.voice_provider,voice:g.voice,voice_model:g.voice_model,attached_Number:g.attached_Number||null,draft:!!g.draft,assistant_toggle:!!g.assistant_toggle,category:g.category||null,speed:Number(g.speed),stability:Number(g.stability),similarityBoost:Number(g.similarityBoost)},T=await fetch(H,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...q?{Authorization:`Bearer ${q}`}:{}},body:JSON.stringify(B)});if(!T.ok){let D=`HTTP ${T.status}`;try{const L=await T.json();L!=null&&L.detail&&(D=L.detail)}catch{const L=await T.text();L&&(D=`${D}  ${L}`)}throw new Error(D)}W.success("Assistant created successfully!"),e("/user/callassistent")}catch(q){W.error((q==null?void 0:q.message)||"Failed to create assistant")}finally{i(!1)}}}};return v.useEffect(()=>{m(!1),b(R=>({...R,voice:"",voice_model:""}))},[g.voice_provider]),a.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Ha.background},children:[a.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:a.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),a.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),a.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[a.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Ha.border,backgroundColor:Ha.card},children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),a.jsxs("div",{className:"relative p-6 text-center",children:[a.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[a.jsx(Lc,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),a.jsx(yde,{currentStep:t,onChange:V}),a.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Ha.card,borderColor:Ha.border},children:a.jsxs("form",{onSubmit:re,noValidate:!0,children:[a.jsxs(_t,{mode:"wait",children:[t===1&&a.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx(Ph,{id:"name",label:"Assistant Name",value:g.name,onChange:M,error:w.name,placeholder:"SupportBot"}),a.jsx(Ph,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:g.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Dd,{children:"Attach Purchased Number (optional)"}),a.jsx("button",{type:"button",onClick:te,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:C,title:"Refresh",children:C?"Loading...":"Refresh"})]}),a.jsxs("select",{id:"attached_Number",value:g.attached_Number,onChange:M,disabled:C||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[a.jsx("option",{value:"",className:"bg-white",children:C?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(R=>a.jsx("option",{value:R.phone_number,className:"bg-white",children:R.friendly_name?`${R.friendly_name}  ${R.phone_number}`:R.phone_number},R.phone_number))]}),O&&a.jsx(Ol,{children:O}),w.attached_Number&&a.jsx(Ol,{children:w.attached_Number})]}),a.jsx(Ph,{id:"category",label:"Category (optional)",value:g.category,onChange:M}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Dd,{children:"System Prompt"}),a.jsx(BT,{id:"systemPrompt",value:g.systemPrompt,onChange:M,placeholder:"Write your system prompt",rows:4}),w.systemPrompt&&a.jsx(Ol,{children:w.systemPrompt})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Dd,{children:"First Message"}),a.jsx(BT,{id:"first_message",value:g.first_message,onChange:M,placeholder:"Hello! ",rows:3}),w.first_message&&a.jsx(Ol,{children:w.first_message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(UT,{id:"draft",label:"Save as Draft",checked:g.draft,onChange:M}),a.jsx(UT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:g.assistant_toggle,onChange:M})]})]},"step1"),t===2&&a.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsx(zT,{id:"voice_provider",label:"Voice Provider",value:g.voice_provider,onChange:R=>{G();const q=R.target.value;b(H=>({...H,voice_provider:q,voice:"",voice_model:""})),m(!1),j(H=>({...H,voice:"",voice_model:""}))},options:xde,error:w.voice_provider}),a.jsx(zT,{id:"genderFilter",label:"Gender",value:h,onChange:R=>{G(),x(R.target.value),m(!1)},options:gde}),a.jsx(Ph,{id:"voice_model",label:"Voice Model",value:g.voice_model,onChange:()=>{},error:w.voice_model,placeholder:g.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&a.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",a.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",a.jsx("span",{className:"font-medium",children:"Next"}),"."]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&a.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:Ha.border},children:"No voices match this filter."}),E.map(R=>a.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:g.voice===R.name?"#93c5fd":Ha.border,backgroundColor:g.voice===R.name?"#eff6ff":Ha.card},onClick:()=>{b(q=>({...q,voice:R.name,voice_model:R.voice,voice_provider:R.provider||g.voice_provider})),m(!0),j(q=>({...q,voice:"",voice_model:""}))},children:[a.jsx("div",{className:"absolute left-3 top-3",children:a.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${g.voice===R.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),a.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-slate-900",children:R.showName||R.name}),a.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[R.gender||"unknown","  ",R.provider]}),a.jsx("div",{className:"mt-1 text-xs text-slate-500",children:R.voice})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(bde,{isActive:l&&g.voice===R.name,onPlay:()=>F(R.audioSr||""),onStop:G})})]})]},`${R.provider}-${R.name}`))]}),w.voice&&a.jsx(Ol,{children:w.voice})]},"step2"),t===3&&a.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:a.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Ha.border},children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(wl,{label:"Name",value:g.name||""}),a.jsx(wl,{label:"Model",value:`${g.provider}  ${g.model}`}),a.jsx(wl,{label:"Voice Provider",value:g.voice_provider}),a.jsx(wl,{label:"Voice",value:g.voice||""}),a.jsx(wl,{label:"Voice Model",value:g.voice_model||""}),a.jsx(wl,{label:"Forwarding Number",value:g.forwardingPhoneNumber||""}),a.jsx(wl,{label:"Attach Number",value:g.attached_Number||""})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx(Bb,{onClick:()=>n(2),children:"Edit Voice"}),a.jsx(Bb,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),a.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?a.jsx(Bb,{onClick:()=>V(t-1),children:"Back"}):a.jsx("span",{}),t<3?a.jsxs(IT,{onClick:U,children:["Next ",a.jsx(Bn,{className:"ml-1 h-4 w-4"})]}):a.jsx(IT,{type:"submit",disabled:r,children:r?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function yde({currentStep:e,onChange:t}){return a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:$T.map(({id:n,label:r,Icon:i})=>{const l=e===n;return a.jsxs(pe.button,{onClick:()=>t(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[a.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:a.jsx(i,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),a.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:a.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/$T.length*100}%`}})})]})}function IT({children:e,onClick:t,type:n="button",disabled:r}){return a.jsx("button",{type:n,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function Bb({children:e,onClick:t}){return a.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Dd({children:e}){return a.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Ol({children:e}){return a.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function Ph({id:e,label:t,value:n,onChange:r,error:i,placeholder:l,readOnly:c=!1,disabled:d=!1}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Dd,{children:t}),a.jsx("input",{id:e,type:"text",value:n,onChange:r,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),i&&a.jsx(Ol,{children:i})]})}function zT({id:e,label:t,value:n,onChange:r,options:i,error:l}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Dd,{children:t}),a.jsx("select",{id:e,value:n,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:i.map(c=>a.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&a.jsx(Ol,{children:l})]})}function BT({id:e,value:t,onChange:n,placeholder:r,rows:i=4}){return a.jsx("textarea",{id:e,value:t,onChange:n,placeholder:r,rows:i,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function UT({id:e,label:t,checked:n,onChange:r}){return a.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[a.jsx("input",{id:e,type:"checkbox",checked:n,onChange:r,className:"accent-blue-600"}),a.jsx("span",{children:t})]})}function wl({label:e,value:t}){return a.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Ha.border},children:[a.jsx("div",{className:"text-slate-500",children:e}),a.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function bde({isActive:e,onPlay:t,onStop:n}){return a.jsx("div",{className:"flex items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,i)=>a.jsx("div",{className:"w-1.5 rounded-sm bg-blue-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},i))}),a.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:a.jsx(pc,{className:"h-5 w-5"})})]}):a.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:a.jsx(df,{className:"h-5 w-5"})})})}const Ve={primary:"#4F46E5",secondary:"#10B981",danger:"#EF4444",text:"#374151",lightText:"#6B7280",border:"#E5E7EB",background:"#F9FAFB",card:"#FFFFFF",hover:"#F9FAFB",radioSelected:"#1F2937",radioBorder:"#374151"},wde=()=>{const{assistantId:e}=lf(),t=Vt(),[n,r]=v.useState(!1),[i,l]=v.useState(!1),[c,d]=v.useState(1),[f,m]=v.useState({name:"",phone:"",system_prompt:"",first_message:"",files:null,existing_file_urls:[],voice:"",voiceSet:"all"}),[h,x]=v.useState({name:"",phone:"",system_prompt:"",first_message:"",files:"",voice:""}),[g,b]=v.useState(!0),w=v.useRef(null),j=[...pb,...xb].sort((M,F)=>M.showName.localeCompare(F.showName));v.useEffect(()=>{(async()=>{const F=localStorage.getItem("token");if(!F){W.error("No authentication token found. Please log in."),t("/login");return}try{const G=await fetch("http://localhost:8000/api/admin/getassistant",{method:"GET",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"}});if(!G.ok){if(G.status===403)throw new Error("Access denied: Invalid or insufficient permissions");if(G.status===401)throw new Error("Unauthorized: Please log in again");{const te=await G.text();throw new Error(`HTTP error! Status: ${G.status}`)}}const U=(await G.json()).assistants.find(te=>te.assistant_id===e);if(!U)throw new Error("Assistant not found");m({name:U.name||"",phone:U.phone||"",system_prompt:U.system_prompt||"",first_message:U.first_message||"",files:null,existing_file_urls:U.file_urls||[],voice:U.voice||"",voiceSet:"all"}),b(!1)}catch(G){console.error("Error fetching assistant:",G.message),W.error(G.message),t("/")}})()},[e,t]),v.useEffect(()=>{var M;if(c===2&&!f.voice){const F=j.filter(G=>f.voiceSet==="voiceset1"?pb.includes(G):f.voiceSet==="voiceset2"?xb.includes(G):!0);F.length>0&&((M=F[0])!=null&&M.name)&&(m(G=>({...G,voice:F[0].name})),x(G=>({...G,voice:""})))}},[f.voiceSet,c]);const S=M=>{const{id:F,value:G}=M.target;m(V=>({...V,[F]:G})),x(V=>({...V,[F]:""}))},_=M=>{m(F=>({...F,files:M.target.files})),x(F=>({...F,files:""}))},C=()=>{const M={...h};let F=!0;const G=/^\+\d{10,15}$/,V=["text/plain","application/pdf","text/csv"],U=5*1024*1024;if(f.name.trim()||(M.name="Please enter an assistant name",F=!1),f.phone?G.test(f.phone)||(M.phone="Phone number must be in international format (e.g., +1234567890)",F=!1):(M.phone="Please select a phone number",F=!1),f.system_prompt.trim()||(M.system_prompt="Please enter a system prompt",F=!1),f.first_message.trim()||(M.first_message="Please enter a first message",F=!1),f.files&&f.files.length>0)for(let te=0;te<f.files.length;te++){if(!V.includes(f.files[te].type)){M.files="Only .txt, .pdf, and .csv files are allowed",F=!1;break}if(f.files[te].size>U){M.files="Each file must be under 5MB",F=!1;break}}return x(M),F},k=()=>{const M={...h};let F=!0;return f.voice||(M.voice="Please select a voice",F=!1),x(M),F},O=M=>{w.current&&(w.current.pause(),w.current=null,l(!1));const F=new Audio(M);w.current=F,l(!0),F.play().catch(G=>{console.error("Error playing audio:",G),W.error("Failed to play voice preview"),l(!1)}),F.onended=()=>{l(!1),w.current=null}},A=()=>{w.current&&(w.current.pause(),w.current=null,l(!1))},E=M=>{M!==c&&(d(M),A())},$=async M=>{if(M.preventDefault(),n)return;const F=C(),G=k();if(!F){d(1);return}if(!G){d(2);return}r(!0),A();try{const V=new FormData;if(V.append("assistantName",f.name),V.append("phone",f.phone),V.append("systemPrompt",f.system_prompt),V.append("firstMessage",f.first_message),V.append("voice",f.voice),f.files)for(let be=0;be<f.files.length;be++)V.append("files",f.files[be]);f.existing_file_urls.length>0&&V.append("file_urls",JSON.stringify(f.existing_file_urls));const U=localStorage.getItem("token");if(!U)throw new Error("No authentication token found. Please log in.");const te=await fetch(`http://localhost:8000/api/admin/update/assistant/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${U}`},body:V});if(!te.ok){const be=await te.text();throw new Error(`HTTP error! Status: ${te.status}`)}W.success("Assistant updated successfully!"),t("/admin/assistants")}catch(V){console.error("Error updating assistant:",V.message),W.error(V.message)}finally{r(!1)}};return g?a.jsx("div",{className:"min-h-screen flex justify-center items-center",style:{backgroundColor:Ve.background},children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:Ve.primary}})}):a.jsx("div",{className:"min-h-screen",style:{backgroundColor:Ve.background},children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-sm border py-4 px-6 text-center",style:{borderColor:Ve.border},children:a.jsx("h1",{className:"text-3xl font-bold",style:{color:Ve.text},children:"Edit Assistant"})}),a.jsxs("div",{className:"mb-6 flex justify-center gap-4",children:[a.jsx("button",{type:"button",onClick:()=>E(1),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===1?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 1: Assistant Details"}),a.jsx("button",{type:"button",onClick:()=>E(2),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===2?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 2: Voice Selection"})]}),a.jsx("div",{className:"rounded-xl shadow-md border p-8 transition-transform hover:scale-[1.01]",style:{backgroundColor:Ve.card,borderColor:Ve.border},children:a.jsxs("form",{onSubmit:$,noValidate:!0,children:[c===1&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"name",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Assistant Name"]}),a.jsx("input",{type:"text",id:"name",value:f.name,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card},placeholder:"Enter assistant name (e.g., SupportBot)"}),h.name&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.name]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone Number"]}),a.jsxs("select",{id:"phone",value:f.phone,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card},children:[a.jsx("option",{value:"",children:"Select a phone number"}),a.jsx("option",{value:"+1234567890",children:"+1234567890 (Demo)"}),a.jsx("option",{value:"+1987654321",children:"+1987654321"}),a.jsx("option",{value:"+1123456789",children:"+1123456789"})]}),h.phone&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.phone]})]}),a.jsxs("div",{className:"mb-6 md:col-span-2",children:[a.jsxs("label",{htmlFor:"system_prompt",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"System Prompt"]}),a.jsx("textarea",{id:"system_prompt",value:f.system_prompt,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card},placeholder:"Enter system prompt",rows:"5"}),h.system_prompt&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.system_prompt]})]}),a.jsxs("div",{className:"mb-6 md:col-span-2",children:[a.jsxs("label",{htmlFor:"first_message",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"First Message"]}),a.jsx("textarea",{id:"first_message",value:f.first_message,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card},placeholder:"Enter the assistant's first message",rows:"3"}),h.first_message&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.first_message]})]}),a.jsxs("div",{className:"mb-6 md:col-span-2",children:[a.jsxs("label",{htmlFor:"files",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add New Files (Optional)"]}),a.jsx("input",{type:"file",id:"files",multiple:!0,accept:".txt,.pdf,.csv",onChange:_,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card}}),h.files&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.files]}),a.jsx("p",{className:"text-sm mt-2",style:{color:Ve.lightText},children:"Supported formats: .txt, .pdf, .csv (max 5MB per file)"}),f.existing_file_urls.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"font-medium",style:{color:Ve.text},children:"Existing Files:"}),a.jsx("ul",{className:"list-disc pl-5",children:f.existing_file_urls.map((M,F)=>a.jsx("li",{children:a.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-sm",style:{color:Ve.primary},children:M})},F))})]})]})]}),c===2&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"voice",className:"flex items-center gap-2 text-lg font-semibold mb-4",style:{color:Ve.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),"Voice Selection"]}),a.jsx("div",{className:"mb-6",children:a.jsxs("select",{id:"voiceSet",value:f.voiceSet,onChange:M=>{m(F=>({...F,voiceSet:M.target.value,voice:""})),x(F=>({...F,voice:""})),A()},className:"w-full md:w-64 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Ve.border,color:Ve.text,backgroundColor:Ve.card},children:[a.jsx("option",{value:"all",children:"All Voices"}),a.jsx("option",{value:"voiceset1",children:"Voice Set 1"}),a.jsx("option",{value:"voiceset2",children:"Voice Set 2"})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.filter(M=>f.voiceSet==="voiceset1"?pb.includes(M):f.voiceSet==="voiceset2"?xb.includes(M):!0).map(M=>M&&M.name?a.jsxs("div",{className:`relative p-6 rounded-xl border cursor-pointer transition-all duration-300 shadow-sm hover:shadow-md ${f.voice===M.name?"border-gray-800 bg-gray-50":"border-gray-300 hover:bg-gray-100"}`,style:{borderColor:f.voice===M.name?Ve.radioBorder:Ve.border,backgroundColor:f.voice===M.name?Ve.hover:Ve.card},onClick:()=>{console.log("Selected voice:",M),m(F=>({...F,voice:M.name})),x(F=>({...F,voice:""}))},children:[a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${f.voice===M.name?"border-gray-800 bg-gray-800":"border-gray-400"}`,style:{borderColor:f.voice===M.name?Ve.radioBorder:Ve.border,backgroundColor:f.voice===M.name?Ve.radioSelected:"transparent"},children:f.voice===M.name&&a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})}),a.jsxs("div",{className:"ml-8 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",style:{color:Ve.text},children:M.showName||"Unnamed Voice"}),a.jsx("p",{className:"text-sm",style:{color:Ve.lightText},children:M.gender||"Unknown"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),O(M.audioSr||"")},disabled:i&&f.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-emerald-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Ve.secondary,color:"white"},title:i&&f.voice!==M.name?"Audio playing":"Play voice preview",children:i&&f.voice===M.name?a.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12a8 8 0 1116 0 8 8 0 01-16 0z"})}):a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.2A1 1 0 0010 9.8v4.4a1 1 0 001.555.832l3.197-2.2a1 1 0 000-1.664z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),a.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),A()},disabled:!i||f.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-red-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Ve.danger,color:"white"},title:"Stop voice preview",children:a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9z"})]})})]})]})]},M.name):null)}),h.voice&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Ve.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.voice]})]}),a.jsxs("div",{className:"flex justify-between mt-6",children:[c===2&&a.jsx("button",{type:"button",onClick:()=>E(1),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-gray-300",style:{backgroundColor:Ve.border,color:Ve.text},children:"Back"}),c===1&&a.jsx("button",{type:"button",onClick:()=>E(2),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 ml-auto",style:{backgroundColor:Ve.primary,color:"white"},children:"Next"}),c===2&&a.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Ve.primary,color:"white"},children:n?"Updating...":"Update Assistant"})]})]})})]})})},Oh="http://localhost:8000";function jde(){const e=Vt(),[t,n]=v.useState([]),[r,i]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(!0),[m,h]=v.useState(""),[x,g]=v.useState("all"),[b,w]=v.useState("all"),[j,S]=v.useState("created_at"),[_,C]=v.useState("desc"),[k,O]=v.useState(!1),[A,E]=v.useState(null),[$,M]=v.useState([]),[F,G]=v.useState(!1),[V,U]=v.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[te,be]=v.useState(1),re=10,R=v.useMemo(()=>localStorage.getItem("token"),[]),q=async()=>{try{c(!0);const X=await fetch(`${Oh}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const ue=await X.json(),Z=Array.isArray(ue)?ue:Array.isArray(ue==null?void 0:ue.assistants)?ue.assistants:[];n(Z)}catch(X){console.error(X),W.error("Failed to fetch assistants")}finally{i(!1),c(!1)}};v.useEffect(()=>{q()},[]),v.useEffect(()=>{if(!d)return;const X=setInterval(q,15e3);return()=>clearInterval(X)},[d]);const H=v.useMemo(()=>{let X=[...t];x!=="all"&&(X=X.filter(Z=>((Z==null?void 0:Z.provider)||"").toLowerCase()===x)),b!=="all"&&(X=X.filter(Z=>((Z==null?void 0:Z.category)||"").toLowerCase()===b));const ue=m.trim().toLowerCase();return ue&&(X=X.filter(Z=>[Z==null?void 0:Z.name,Z==null?void 0:Z.model,Z==null?void 0:Z.voice,Z==null?void 0:Z.category,Z==null?void 0:Z.attached_Number].filter(Boolean).map(String).map(Te=>Te.toLowerCase()).some(Te=>Te.includes(ue)))),X.sort((Z,je)=>{if(j==="created_at"){const Ae=Z!=null&&Z.created_at?new Date(Z.created_at).getTime():0,Je=je!=null&&je.created_at?new Date(je.created_at).getTime():0;return _==="asc"?Ae-Je:Je-Ae}const Te=((Z==null?void 0:Z[j])??"").toString().toLowerCase(),Ue=((je==null?void 0:je[j])??"").toString().toLowerCase();return Te<Ue?_==="asc"?-1:1:Te>Ue?_==="asc"?1:-1:0}),X},[t,m,x,b,j,_]),B=v.useMemo(()=>{const X=new Set((t||[]).map(ue=>((ue==null?void 0:ue.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(X)]},[t]),T=v.useMemo(()=>{const X=new Set((t||[]).map(ue=>((ue==null?void 0:ue.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(X)]},[t]),D=Math.max(1,Math.ceil(H.length/re)),L=Math.min(te,D),K=H.slice((L-1)*re,L*re),oe=v.useMemo(()=>H.length?H.reduce((X,ue)=>{const Z=X!=null&&X.created_at?new Date(X.created_at):null,je=ue!=null&&ue.created_at?new Date(ue.created_at):null;return!Z&&je?ue:!je&&Z||!Z&&!je?X:je>Z?ue:X},H[0]):null,[H]),z=X=>{j===X?C(ue=>ue==="asc"?"desc":"asc"):(S(X),C("asc"))},Y=X=>{E(X),O(!0)},ye=async()=>{if(A)try{const X=await fetch(`${Oh}/api/assistants/${A}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});if(!X.ok){let ue=`HTTP ${X.status}`;try{const Z=await X.json();Z!=null&&Z.detail&&(ue=Z.detail)}catch{}throw new Error(ue)}W.success("Assistant deleted"),M(ue=>ue.filter(Z=>Z!==A)),q()}catch(X){console.error(X),W.error((X==null?void 0:X.message)||"Delete failed")}finally{O(!1),E(null)}},se=X=>{const ue=X==null?void 0:X.knowledge_base;if(Array.isArray(ue)&&ue.length){const Z=ue.filter(je=>typeof je=="string"&&/^https?:\/\//i.test(je));if(Z.length){Z.forEach(je=>window.open(je,"_blank","noopener"));return}}W.info("No file URLs available for this assistant.")},ve=X=>{if(!(X!=null&&X.vapi_assistant_id)){W.error("Missing VAPI Assistant ID");return}U({vapi_assistant_id:X.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),G(!0)},we=async X=>{X.preventDefault();const{vapi_assistant_id:ue,number:Z,first_name:je,last_name:Te,email:Ue}=V;if(!Z)return W.error("Enter the customer's phone number (E.164 preferred)");try{const Ae=`${Oh}/api/phone-call/${encodeURIComponent(ue)}/${encodeURIComponent(Z)}`,Je={first_name:je||"Caller",last_name:Te||"",email:Ue||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Z,custom_field_01:null,custom_field_02:null},Ge=await fetch(Ae,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:R?`Bearer ${R}`:""},body:JSON.stringify(Je)}),vt=await Ge.json().catch(()=>({}));if(!Ge.ok||(vt==null?void 0:vt.success)===!1)throw new Error((vt==null?void 0:vt.detail)||`HTTP ${Ge.status}`);W.success("Call initiated"),G(!1)}catch(Ae){console.error(Ae),W.error((Ae==null?void 0:Ae.message)||"Failed to initiate call")}},Ne=X=>$.includes(X),me=X=>{M(ue=>ue.includes(X)?ue.filter(Z=>Z!==X):[...ue,X])},Oe=()=>{const X=K.map(Z=>Z.id).filter(Boolean),ue=X.every(Z=>$.includes(Z));M(Z=>ue?Z.filter(je=>!X.includes(je)):Array.from(new Set([...Z,...X])))},Be=async()=>{if(!$.length)return W.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const X of $)await fetch(`${Oh}/api/assistants/${X}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:R?`Bearer ${R}`:""}});W.success("Bulk delete complete"),M([]),q()}catch(X){console.error(X),W.error("Bulk delete encountered an error")}},Xe=()=>{const X=["Name","Model","Voice","Attached Number","Category","Created"],ue=H.map(Ae=>[(Ae==null?void 0:Ae.name)??"",(Ae==null?void 0:Ae.model)??"",(Ae==null?void 0:Ae.voice)??"",(Ae==null?void 0:Ae.attached_Number)??"",(Ae==null?void 0:Ae.category)??"",Ae!=null&&Ae.created_at?new Date(Ae.created_at).toLocaleString():""]),Z=[X,...ue].map(Ae=>Ae.map(Je=>`"${String(Je).replace(/"/g,'""')}"`).join(",")).join(`
`),je=new Blob([Z],{type:"text/csv;charset=utf-8;"}),Te=URL.createObjectURL(je),Ue=document.createElement("a");Ue.href=Te,Ue.download="assistants.csv",Ue.click(),URL.revokeObjectURL(Te)};return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:a.jsx("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[a.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),a.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),a.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((X,ue)=>a.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),a.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},ue))}),a.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[a.jsx("div",{className:"border-b border-gray-100 p-6",children:a.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((X,ue)=>a.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),a.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),a.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((Z,je)=>a.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},je))})]})},ue))]})]})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"relative mx-auto w-full max-w-[1400px] px-6 py-12",children:[a.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"text-white",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:a.jsx(Tc,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),a.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),a.jsxs("span",{children:[H.length," Active"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Y0,{className:"h-4 w-4"}),a.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{onClick:()=>f(X=>!X),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),a.jsxs("button",{onClick:q,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(xL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),a.jsxs("button",{onClick:Xe,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(hL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),a.jsxs("button",{onClick:()=>e("/admin/addassistands"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[a.jsx(Kp,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(gL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),a.jsx("input",{value:m,onChange:X=>h(X.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(FT,{label:"Provider",value:x,onChange:g,options:B,icon:a.jsx(pL,{className:"h-4 w-4"})}),a.jsx(FT,{label:"Category",value:b,onChange:w,options:T,icon:a.jsx(Ac,{className:"h-4 w-4"})})]})]})]})]}),a.jsxs("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Mh,{title:"Total Assistants",value:H.length,icon:a.jsx(Tc,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),a.jsx(Mh,{title:"Active Calls",value:"24",icon:a.jsx(Fi,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),a.jsx(Mh,{title:"Success Rate",value:"94.2%",icon:a.jsx(es,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),a.jsx(Mh,{title:"Last Created",value:oe!=null&&oe.name?oe.name.length>12?`${oe.name.slice(0,12)}`:oe.name:"",icon:a.jsx(Y0,{className:"h-6 w-6 text-cyan-600"}),subtitle:oe!=null&&oe.created_at?new Date(oe.created_at).toLocaleDateString():""})]}),$.length>0&&a.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:a.jsx(es,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-blue-900",children:[$.length," assistants selected"]}),a.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:Oe,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),a.jsx("button",{onClick:Be,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),H.length===0?a.jsx(Cde,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[a.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),a.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-gray-50/60",children:a.jsxs("tr",{children:[a.jsx(Nde,{className:"w-12 text-center",checked:K.every(X=>$.includes(X.id))&&K.length>0,onChange:Oe}),a.jsx(Xo,{className:"w-[24%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?_:null,onSort:z}),a.jsx(Xo,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?_:null,onSort:z}),a.jsx(Xo,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?_:null,onSort:z}),a.jsx(Xo,{className:"w-[16%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?_:null,onSort:z}),a.jsx(Xo,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?_:null,onSort:z}),a.jsx(Xo,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?_:null,onSort:z}),a.jsx("th",{className:"w-[18%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:K.map(X=>a.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Ne(X.id)?"bg-blue-50/50":""}`,children:[a.jsx(Sde,{className:"w-12 text-center",checked:Ne(X.id),onChange:()=>me(X.id)}),a.jsx("td",{className:"w-[24%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:a.jsx(Ac,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"max-w-[32ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:X.name||""}),a.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(X.knowledge_base)?X.knowledge_base.length:0," KB items"]})]})]})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:a.jsx(mc,{variant:"secondary",children:X.model||""})})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:a.jsx(mc,{variant:"accent",children:X.voice||""})})}),a.jsx("td",{className:"w-[16%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"font-mono text-sm text-gray-700 break-all",children:X.attached_Number||""}),X.attached_Number&&a.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>kde(X.attached_Number),children:a.jsx(mL,{className:"h-4 w-4"})})]})}),a.jsx("td",{className:"w-[10%] px-6 py-4",children:a.jsx("div",{className:"text-center",children:X.category?a.jsx(mc,{variant:"primary",children:X.category}):a.jsx("span",{className:"text-gray-400",children:""})})}),a.jsx("td",{className:"w-[8%] px-6 py-4 text-center text-sm text-gray-600 whitespace-nowrap",children:X.created_at?new Date(X.created_at).toLocaleDateString():""}),a.jsx("td",{className:"w-[18%] px-6 py-4",children:a.jsxs("div",{className:"mx-auto flex w-full items-center justify-center gap-2 whitespace-nowrap",children:[a.jsx(Dh,{title:"Edit Assistant",onClick:()=>e(`/admin/edit-assistants/${X.id}`),variant:"primary",children:a.jsx(Hp,{className:"h-4 w-4"})}),a.jsx(Dh,{title:"View Files",onClick:()=>se(X),variant:"success",children:a.jsx(qp,{className:"h-4 w-4"})}),a.jsx(Dh,{title:"Start Call",onClick:()=>ve(X),variant:"secondary",children:a.jsx(Fi,{className:"h-4 w-4"})}),a.jsx(Dh,{title:"Delete",onClick:()=>Y(X.id),variant:"danger",children:a.jsx(Ec,{className:"h-4 w-4"})})]})})]},X.id??X.name))})]})]}),a.jsx("div",{className:"space-y-4 xl:hidden",children:K.map(X=>a.jsx(_de,{assistant:X,isSelected:Ne(X.id),onToggleSelect:()=>me(X.id),onEdit:()=>e(`/admin/edit-assistants/${X.id}`),onViewFiles:()=>se(X),onCall:()=>ve(X),onDelete:()=>Y(X.id)},X.id??X.name))}),a.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(L-1)*re+1," to ",Math.min(L*re,H.length)," of"," ",H.length," assistants"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(VT,{disabled:L<=1,onClick:()=>be(X=>Math.max(1,X-1)),children:[a.jsx(uL,{className:"h-4 w-4"}),"Previous"]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,D)},(X,ue)=>{const Z=ue+1;return a.jsx("button",{onClick:()=>be(Z),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${Z===L?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:Z},Z)})}),a.jsxs(VT,{disabled:L>=D,onClick:()=>be(X=>Math.min(D,X+1)),children:["Next",a.jsx(dL,{className:"h-4 w-4"})]})]})]})]})]}),k&&a.jsx(HT,{onClose:()=>O(!1),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:a.jsx(Ec,{className:"h-8 w-8 text-red-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),a.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>O(!1),children:"Cancel"}),a.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:ye,children:"Delete Assistant"})]})]})}),F&&a.jsxs(HT,{onClose:()=>G(!1),children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:a.jsx(Fi,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),a.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),a.jsxs("form",{onSubmit:we,className:"space-y-4",children:[a.jsx(Rh,{label:"Customer Phone Number",value:V.number,onChange:X=>U(ue=>({...ue,number:X})),placeholder:"+1 (555) 123-4567",required:!0}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsx(Rh,{label:"First Name",value:V.first_name,onChange:X=>U(ue=>({...ue,first_name:X})),placeholder:"John"}),a.jsx(Rh,{label:"Last Name",value:V.last_name,onChange:X=>U(ue=>({...ue,last_name:X})),placeholder:"Doe"})]}),a.jsx(Rh,{label:"Email Address",value:V.email,onChange:X=>U(ue=>({...ue,email:X})),placeholder:"john@example.com",type:"email"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>G(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function Mh({title:e,value:t,icon:n,trend:r,trendUp:i,subtitle:l}){return a.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),a.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&a.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&a.jsxs("div",{className:`text-sm font-medium ${i?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function FT({label:e,value:t,onChange:n,options:r}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:t,onChange:i=>n(i.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(i=>a.jsx("option",{value:i,className:"bg-gray-800 text-white",children:i==="all"?`All ${e}s`:i},i))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx(Vp,{className:"h-4 w-4 text-white/70"})})]})}function mc({children:e,variant:t="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return a.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[t]}`,children:e})}function Dh({title:e,onClick:t,children:n,variant:r="default"}){const i={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return a.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${i[r]}`,children:n})}function Xo({label:e,sortKey:t,sortDir:n,onSort:r,className:i="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return a.jsx("th",{className:`px-6 py-4 ${c} ${i}`,children:a.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,a.jsxs("div",{className:"flex flex-col",children:[a.jsx(fL,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),a.jsx(Vp,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Nde({checked:e,onChange:t,className:n=""}){return a.jsx("th",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(es,{className:"h-3 w-3"})})})})}function Sde({checked:e,onChange:t,className:n=""}){return a.jsx("td",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(es,{className:"h-3 w-3"})})})})}function _de({assistant:e,isSelected:t,onToggleSelect:n,onEdit:r,onViewFiles:i,onCall:l,onDelete:c}){return a.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[a.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&a.jsx(es,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:a.jsx(Ac,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),a.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),a.jsx(mc,{variant:"secondary",children:e.model||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),a.jsx(mc,{variant:"accent",children:e.voice||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),a.jsx("div",{className:"font-mono text-sm break-all",children:e.attached_Number||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?a.jsx(mc,{variant:"primary",children:e.category}):a.jsx("span",{className:"text-gray-400",children:""})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[a.jsx(Hp,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:i,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[a.jsx(qp,{className:"h-4 w-4"}),"Files"]}),a.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[a.jsx(Fi,{className:"h-4 w-4"}),"Call"]}),a.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[a.jsx(Ec,{className:"h-4 w-4"}),"Delete"]})]})]})}function VT({disabled:e,onClick:t,children:n}){return a.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function HT({children:e,onClose:t}){return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[a.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function Rh({label:e,value:t,onChange:n,placeholder:r,required:i,type:l="text"}){return a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",i&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:l,value:t,onChange:c=>n(c.target.value),placeholder:r,required:i,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Cde(){return a.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[a.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:a.jsx(Tc,{className:"h-10 w-10 text-blue-600"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),a.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),a.jsxs("a",{href:"/admin/addassistands",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[a.jsx(Kp,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function kde(e){e&&navigator.clipboard.writeText(e).then(()=>W.success("Copied to clipboard")).catch(()=>W.info(e))}const qT="http://localhost:8000",KT={PHONE_NUMBERS:`${qT}/api/admin/phone-numbers`,PHONE_NUMBER:e=>`${qT}/api/admin/phone-numbers/${e}`},Ade="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function GT(e){if(e==null||isNaN(Number(e)))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(e))}catch{return`$${Number(e).toFixed(2)}`}}function ba({children:e,className:t="",variant:n="outline",size:r="md",...i}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...i,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Lh({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function jl({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Nl({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Ede(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function $h({label:e,value:t,Icon:n,tone:r="blue"}){const i=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${i}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Tde({name:e="?",size:t=38,url:n=null}){const r=(e||"?").split(" ").map(i=>i.charAt(0)).join("").toUpperCase().slice(0,2);return a.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:t,height:t},title:e,children:a.jsx("span",{style:{fontSize:t<40?12:13},children:r})})}function Pde({children:e,onClose:t,title:n}){return a.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(ba,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(Gn,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Ode(){var q,H;const[e,t]=v.useState([]),[n,r]=v.useState({total:0,attached:0,unattached:0,countries:0}),[i,l]=v.useState(!1),[c,d]=v.useState(""),[f,m]=v.useState(null),[h,x]=v.useState(""),[g,b]=v.useState("all"),[w,j]=v.useState("all"),[S,_]=v.useState(1),C=10,[k,O]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),[A,E]=v.useState(null),$=v.useCallback(async()=>{if(k){t([]),r({total:0,attached:0,unattached:0,countries:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const B=localStorage.getItem("token");if(!B){t([]),r({total:0,attached:0,unattached:0,countries:0}),d("No auth token found."),W.error("No authentication token found.");return}try{l(!0),d("");const T=await fetch(KT.PHONE_NUMBERS,{headers:{Authorization:`Bearer ${B}`,Accept:"application/json"},mode:"cors"});if(!T.ok){const ye=await T.text();throw new Error(`HTTP ${T.status}${ye?`  ${ye}`:""}`)}const D=await T.json();if(!(D!=null&&D.success)||!Array.isArray(D==null?void 0:D.phone_numbers))throw new Error("Unexpected response shape.");const L=(D.phone_numbers||[]).map(ye=>({id:ye.id,phone_number:ye.phone_number,friendly_name:ye.friendly_name||"",region:ye.region||"",postal_code:ye.postal_code||"",iso_country:(ye.iso_country||"").toUpperCase(),last_month_payment:ye.last_month_payment,created_at:ye.created_at,updated_at:ye.updated_at,attached_assistant:ye.attached_assistant,vapi_phone_uuid:ye.vapi_phone_uuid||null,owner:ye.user||null}));L.sort((ye,se)=>new Date(se.updated_at||se.created_at||0)-new Date(ye.updated_at||ye.created_at||0)),t(L);const K=L.filter(ye=>ye.attached_assistant!==null&&ye.attached_assistant!==void 0).length,oe=D.total_phone_numbers??L.length,z=Math.max(0,oe-K),Y=new Set(L.map(ye=>ye.iso_country||"")).size;r({total:oe,attached:K,unattached:z,countries:Y})}catch(T){d((T==null?void 0:T.message)||"Failed to load phone numbers"),W.error((T==null?void 0:T.message)||"Failed to load phone numbers")}finally{l(!1)}},[k]);v.useEffect(()=>{$()},[$]);const M=v.useMemo(()=>{const B=new Set(e.map(T=>T.iso_country).filter(Boolean));return["all",...Array.from(B).sort()]},[e]),F=v.useMemo(()=>{let B=[...e];if(h.trim()){const T=h.trim().toLowerCase();B=B.filter(D=>{var L,K;return String(D.phone_number||"").toLowerCase().includes(T)||String(D.friendly_name||"").toLowerCase().includes(T)||String(D.region||"").toLowerCase().includes(T)||String(D.postal_code||"").toLowerCase().includes(T)||String(((L=D.owner)==null?void 0:L.name)||"").toLowerCase().includes(T)||String(((K=D.owner)==null?void 0:K.email)||"").toLowerCase().includes(T)})}return g!=="all"&&(B=B.filter(T=>g==="attached"?T.attached_assistant:!T.attached_assistant)),w!=="all"&&(B=B.filter(T=>(T.iso_country||"").toUpperCase()===w)),B},[e,h,g,w]),G=Math.max(1,Math.ceil(F.length/C)),V=S*C,U=V-C,te=F.slice(U,V);v.useEffect(()=>{_(1)},[h,g,w]);const be=B=>E(B),re=async()=>{const B=A;if(!B)return;const T=localStorage.getItem("token");if(!T)return W.error("No authentication token found.");const D=e.find(L=>L.id===B);if(D!=null&&D.attached_assistant)return W.error("This number is attached to an assistant. Detach it first from the Assistants page.");try{m(B);const L=await fetch(KT.PHONE_NUMBER(B),{method:"DELETE",headers:{Authorization:`Bearer ${T}`,Accept:"application/json"}}),K=await L.json();if(!L.ok||!(K!=null&&K.success))throw new Error((K==null?void 0:K.detail)||(K==null?void 0:K.message)||`HTTP ${L.status}`);W.success(" Phone number deleted"),t(oe=>oe.filter(z=>z.id!==B)),r(oe=>({...oe,total:Math.max(0,oe.total-1),unattached:Math.max(0,oe.unattached-1)})),E(null)}catch(L){W.error((L==null?void 0:L.message)||"Delete failed")}finally{m(null)}},R=()=>{const B=localStorage.getItem("admin_token_backup");if(!B){W.error("No admin backup token found.");return}localStorage.setItem("token",B),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),O(null),W.success(" Exited impersonation"),window.location.reload()};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[k&&a.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:a.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[a.jsx(wd,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),a.jsxs("span",{className:"truncate",children:["Acting as ",a.jsx("b",{className:"break-all",children:(q=k.acting_as)==null?void 0:q.email})]})]}),a.jsxs(ba,{onClick:R,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[a.jsx(Gn,{className:"mr-2 h-4 w-4"})," Exit"]})]})}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(ut,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${Ade}`,children:"Phone Numbers"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View and manage purchased phone numbers. Delete numbers that are not attached to an assistant."})]})]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsx(ba,{onClick:$,disabled:i||!!k,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx($h,{label:"Total Numbers",value:n.total,Icon:ut,tone:"blue"}),a.jsx($h,{label:"Attached",value:n.attached,Icon:wd,tone:"cyan"}),a.jsx($h,{label:"Unattached",value:n.unattached,Icon:oa,tone:"blue"}),a.jsx($h,{label:"Countries",value:n.countries,Icon:Uh,tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Dr,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:h,onChange:B=>x(B.target.value),placeholder:"Search number, name, region, or owner",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!k})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(Rc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:g,onChange:B=>b(B.target.value),disabled:!!k,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"attached",children:"Attached"}),a.jsx("option",{value:"unattached",children:"Unattached"})]}),a.jsx("select",{value:w,onChange:B=>j(B.target.value),disabled:!!k,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:M.map(B=>a.jsx("option",{value:B,children:B==="all"?"All countries":B},B))}),(h||g!=="all"||w!=="all")&&a.jsx(ba,{onClick:()=>{x(""),b("all"),j("all")},className:"text-slate-700",disabled:!!k,children:"Clear"})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(ut,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Phone Numbers (",F.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),k?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:a.jsx(wd,{className:"h-9 w-9 text-amber-500"})}),a.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),a.jsx("div",{className:"mt-3",children:a.jsxs(ba,{onClick:R,variant:"primary",children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):i?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(Ze,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading phone numbers"})]}):F.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(ut,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(jl,{children:"Number"}),a.jsx(jl,{children:"Owner"}),a.jsx(jl,{children:"Region"}),a.jsx(jl,{children:"Country"}),a.jsx(jl,{children:"Status"}),a.jsx(jl,{children:"Last Month"}),a.jsx(jl,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:te.map(B=>{const T=!!B.attached_assistant;return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(Nl,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 break-all",children:B.phone_number}),a.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:B.friendly_name})]})}),a.jsx(Nl,{children:B.owner?a.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-slate-700",children:[a.jsx(Tde,{name:B.owner.name,size:34}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-xs font-semibold truncate",children:B.owner.name}),a.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-slate-500 min-w-0",children:[a.jsx(Ta,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),a.jsx("span",{className:"truncate break-all",children:B.owner.email})]})]})]}):a.jsx("div",{className:"text-xs text-slate-500",children:""})}),a.jsx(Nl,{children:a.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[a.jsx(Rs,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium break-all",children:B.region})]})}),a.jsx(Nl,{children:a.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[a.jsx(Uh,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium",children:B.iso_country||""})]})}),a.jsx(Nl,{children:T?a.jsxs(Lh,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(ar,{className:"mr-1 h-3.5 w-3.5"}),"Attached"]}):a.jsxs(Lh,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[a.jsx(oa,{className:"mr-1 h-3.5 w-3.5"}),"Unattached"]})}),a.jsx(Nl,{children:a.jsx("div",{className:"text-xs font-semibold text-slate-800",children:GT(B.last_month_payment)})}),a.jsx(Nl,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:a.jsx(ba,{onClick:()=>be(B.id),variant:"danger",size:"sm",disabled:T,title:T?"Detach from assistant before deleting":"Delete number",children:f===B.id?a.jsx(Ze,{className:"h-4 w-4 animate-spin"}):a.jsx(sr,{className:"h-4 w-4"})})})})]},B.id)})})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:te.map((B,T)=>{var L,K;const D=!!B.attached_assistant;return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[T===0&&a.jsx(Ede,{}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:B.phone_number}),a.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:B.friendly_name}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(O6,{className:"h-4 w-4 text-slate-500"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"truncate font-semibold",children:((L=B.owner)==null?void 0:L.name)||""}),((K=B.owner)==null?void 0:K.email)&&a.jsx("div",{className:"text-xs text-slate-500 truncate",children:B.owner.email})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Uh,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium",children:B.iso_country||""})]}),a.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[a.jsx(Rs,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium break-words",children:B.region})]}),a.jsx("div",{className:"col-span-2",children:D?a.jsxs(Lh,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(ar,{className:"mr-1 h-3.5 w-3.5"})," Attached"]}):a.jsxs(Lh,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[a.jsx(oa,{className:"mr-1 h-3.5 w-3.5"})," Unattached"]})})]}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:a.jsx(ba,{onClick:()=>be(B.id),variant:"danger",size:"sm",className:"grow sm:grow-0",disabled:D,children:f===B.id?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(sr,{className:"h-4 w-4 mr-1"})," Delete"]})})}),a.jsx("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:GT(B.last_month_payment)})]})]},B.id)})})}),F.length>C&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:U+1}),"",a.jsx("b",{children:Math.min(V,F.length)})," of ",a.jsx("b",{children:F.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(ba,{onClick:()=>_(B=>Math.max(1,B-1)),disabled:S===1,children:[a.jsx(ua,{className:"h-4 w-4 mr-1"})," Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,G)},(B,T)=>{let D;if(G<=5||S<=3?D=T+1:S>=G-2?D=G-4+T:D=S-2+T,D<1||D>G)return null;const L=S===D;return a.jsx("button",{onClick:()=>_(D),className:`px-3 py-2 text-sm font-semibold rounded-xl ${L?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:D},D)})}),a.jsxs(ba,{onClick:()=>_(B=>Math.min(G,B+1)),disabled:S>=G,children:["Next ",a.jsx(Bn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(_t,{children:A&&a.jsxs(Pde,{onClose:()=>E(null),title:"Confirm Delete",children:[a.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete phone number"," ",a.jsx("b",{className:"break-words",children:((H=e.find(B=>B.id===A))==null?void 0:H.phone_number)||"this number"}),"?"," ","This action cannot be undone."]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(ba,{onClick:()=>E(null),variant:"subtle",children:"Cancel"}),a.jsx(ba,{onClick:re,disabled:f===A,variant:"danger",children:f===A?a.jsxs(a.Fragment,{children:[a.jsx(Ze,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})})]})}const Mde=()=>{const[e,t]=v.useState([]),[n,r]=v.useState({name:"",id:null}),[i,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(!1),[h,x]=v.useState(null),g=Vt();v.useEffect(()=>{b()},[]);const b=async()=>{try{const A=await fetch("http://localhost:8000/api/admin/get/use_leadid",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!A.ok)throw new Error("Failed to fetch leads");const E=await A.json();t(E)}catch(A){console.error("Error fetching leads:",A)}},w=async()=>{try{if(!(await fetch("http://localhost:8000/api/admin/use_leadid",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to create lead");r({name:"",id:null}),l(!1),d(!1),b()}catch(A){console.error("Error creating lead:",A)}},j=A=>{r({name:A.name,id:A.id}),l(!0),d(!0)},S=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${n.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to update lead");r({name:"",id:null}),l(!1),d(!1),b()}catch(A){console.error("Error updating lead:",A)}},_=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete lead");m(!1),x(null),b()}catch(A){console.error("Error deleting lead:",A)}},C=A=>{g(`/admin/lead/${A}`)},k=e.length,O=e.length>0?e[e.length-1]:null;return a.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 lg:px-[150px] lg:py-10 xl:px-[150px] xl:py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"List Dashboard"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Total List"}),a.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:k})]}),a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Last Created"}),a.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 truncate",children:O?`${O.name} (${O.created_at})`:"No leads yet"})]})]}),a.jsx("div",{className:"flex justify-end mb-6",children:a.jsxs("button",{onClick:()=>{l(!i),d(!1),r({name:"",id:null})},className:"bg-blue-600 text-white px-4 sm:px-5 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-md text-sm sm:text-base",children:[i?"Cancel":"Create List",a.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:i?"M6 18L18 6M6 6l12 12":"M12 4v16m8-8H4"})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-md",children:[a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-4",children:c?"Edit Lead":"Create Lead"}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx("input",{type:"text",placeholder:"Lead Name",value:n.name,onChange:A=>r({...n,name:A.target.value}),className:"border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-200 w-full text-sm sm:text-base","aria-label":"Lead Name"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),a.jsx("button",{onClick:c?S:w,className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200 text-sm sm:text-base",children:c?"Update":"Submit"})]})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-sm",children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-6",children:"Are you sure you want to delete this lead?"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),a.jsx("button",{onClick:_,className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200 text-sm sm:text-base",children:"Confirm"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[a.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700",children:"Lists"})}),a.jsxs("table",{className:"w-full text-sm sm:text-base",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{className:"hidden sm:table-row",children:[a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[25%]",children:"ID"}),a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Name"}),a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Created At"}),a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[15%]",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200 block sm:table-row",children:[a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"ID: "}),A.id]}),a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"Name: "}),A.name]}),a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell text-gray-600",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"Created At: "}),A.created_at]}),a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"Actions: "}),a.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[a.jsx("button",{onClick:()=>C(A.id),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"View lead",children:a.jsx(NK,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsx("button",{onClick:()=>j(A),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"Edit lead",children:a.jsx(jK,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsx("button",{onClick:()=>{x(A.id),m(!0)},className:"text-red-600 hover:text-red-700 transition duration-200 p-2","aria-label":"Delete lead",children:a.jsx(_K,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},A.id))})]})]})]})})},YT="http://localhost:8000",WT={LIST:`${YT}/api/admin/leadss`,UPDATE:e=>`${YT}/api/admin/leads/${e}`};function Ql(...e){return e.filter(Boolean).join(" ")}const Ar=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function Dde(e,t=250){const[n,r]=v.useState(e);return v.useEffect(()=>{const i=setTimeout(()=>r(e),t);return()=>clearTimeout(i)},[e,t]),n}function Rde(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${i}`}function XT(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}const Lde={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},ZT={show:{transition:{staggerChildren:.05}}},$de={hidden:{opacity:0,scale:.98,y:12},show:{opacity:1,scale:1,y:0,transition:{duration:.25}},exit:{opacity:0,scale:.98,y:12,transition:{duration:.18}}},Ide={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}};function Zo({children:e,tone:t="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200"};return a.jsx("span",{className:Ql("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[t]||n.slate),children:e})}function Ub({label:e,value:t,Icon:n,tone:r="blue"}){const i=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return a.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${i}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function zde(){const e=v.useRef(localStorage.getItem("token")||null),[t,n]=v.useState([]),[r,i]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(""),m=Dde(d,250),[h,x]=v.useState("add_date"),[g,b]=v.useState("desc"),[w,j]=v.useState(1),[S,_]=v.useState(12),[C,k]=v.useState(!1),[O,A]=v.useState(!1),[E,$]=v.useState(null),[M,F]=v.useState({first_name:"",last_name:"",email:"",add_date:"",salesforce_id:"",mobile:"",state:""});async function G(){if(!e.current){i(!1),W.error("No auth token found. Please log in.");return}try{i(!0);const K=await fetch(WT.LIST,{headers:{Authorization:`Bearer ${e.current}`}});if(!K.ok)throw new Error(`HTTP ${K.status}`);const oe=await K.json(),z=Array.isArray(oe)?oe:Array.isArray(oe==null?void 0:oe.leads)?oe.leads:[];n(z)}catch(K){console.error(K),W.error("Failed to fetch leads"),n([])}finally{i(!1)}}v.useEffect(()=>{G()},[]);async function V(){c(!0),await G(),c(!1)}const U=v.useMemo(()=>{const K=m.trim().toLowerCase();let oe=t.filter(Y=>K?[`${Y.first_name||""} ${Y.last_name||""}`.toLowerCase(),(Y.email||"").toLowerCase(),(Y.mobile||"").toLowerCase(),(Y.salesforce_id||"").toLowerCase(),(Y.state||"").toLowerCase()].some(ve=>ve.includes(K)):!0);const z=g==="asc"?1:-1;return oe.sort((Y,ye)=>{const se=`${Y.first_name||""} ${Y.last_name||""}`.trim().toLowerCase(),ve=`${ye.first_name||""} ${ye.last_name||""}`.trim().toLowerCase();let we,Ne;switch(h){case"name":we=se,Ne=ve;break;case"email":we=(Y.email||"").toLowerCase(),Ne=(ye.email||"").toLowerCase();break;case"mobile":we=(Y.mobile||"").toLowerCase(),Ne=(ye.mobile||"").toLowerCase();break;case"state":we=(Y.state||"").toLowerCase(),Ne=(ye.state||"").toLowerCase();break;case"add_date":default:we=new Date(Y.add_date||0).getTime(),Ne=new Date(ye.add_date||0).getTime()}return we<Ne?-1*z:we>Ne?1*z:0}),oe},[t,m,h,g]),te=U.length,be=Math.max(1,Math.ceil(te/S));v.useEffect(()=>{w>be&&j(be)},[w,be]);const re=(w-1)*S,R=re+S,q=U.slice(re,R),H=v.useMemo(()=>{const K=U.filter(z=>!z.dnc).length,oe=U.filter(z=>!!z.dnc).length;return{total:U.length,callable:K,dnc:oe}},[U]);function B(K){$(K),F({first_name:K.first_name||"",last_name:K.last_name||"",email:K.email||"",add_date:Rde(K.add_date),salesforce_id:K.salesforce_id||"",mobile:K.mobile||"",state:K.state||""}),k(!0)}function T(K){const{name:oe,value:z}=K.target;F(Y=>({...Y,[oe]:z}))}async function D(){if(!E)return;if(!e.current){W.error("No auth token found.");return}const K={first_name:M.first_name||"",last_name:M.last_name||"",email:M.email||"",add_date:M.add_date||"",salesforce_id:M.salesforce_id||null,mobile:M.mobile||"",state:M.state||null};try{A(!0);const oe=await fetch(WT.UPDATE(E.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.current}`},body:JSON.stringify(K)}),z=await oe.json().catch(()=>({}));if(!oe.ok||(z==null?void 0:z.success)===!1)throw new Error((z==null?void 0:z.detail)||`HTTP ${oe.status}`);const Y=(z==null?void 0:z.updated_lead)||{...E,...K};n(ye=>ye.map(se=>se.id===E.id?{...se,...Y}:se)),W.success("Lead updated"),k(!1),$(null)}catch(oe){console.error(oe),W.error((oe==null?void 0:oe.message)||"Update failed")}finally{A(!1)}}function L(K){x(oe=>oe===K?(b(z=>z==="asc"?"desc":"asc"),oe):(b(K==="add_date"?"desc":"asc"),K)),j(1)}return a.jsxs("div",{className:"min-h-screen w-full text-slate-900 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-400/15 blur-3xl"}),a.jsx("div",{className:"absolute top-1/3 -right-20 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-indigo-400/10 blur-3xl"})]}),a.jsx("header",{className:"relative z-0 border-b border-slate-200/70 bg-white/60 backdrop-blur after:absolute after:inset-x-0 after:-bottom-[1px] after:h-[2px] after:bg-gradient-to-r after:from-transparent after:via-cyan-400/70 after:to-transparent",children:a.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-5",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-black tracking-tight",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text text-transparent",children:"Leads"})}),a.jsx("p",{className:"text-sm text-slate-600",children:"View, search, and edit leads."})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(QT,{onClick:V,icon:a.jsx(Ze,{className:Ql("h-4 w-4",l&&"animate-spin")}),children:"Refresh"})})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[a.jsxs("div",{className:"relative sm:col-span-2",children:[a.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx("input",{value:d,onChange:K=>{f(K.target.value),j(1)},placeholder:"Search name, email, mobile, Salesforce ID, state",className:"w-full rounded-2xl border border-slate-200/70 bg-white/80 pl-10 pr-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search leads"})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[a.jsxs("div",{className:"text-sm text-slate-600 hidden sm:block",children:["Total: ",a.jsx("span",{className:"font-semibold text-slate-900",children:te})]}),a.jsx("select",{value:S,onChange:K=>{_(Number(K.target.value)),j(1)},className:"rounded-2xl border border-slate-200/70 bg-white/80 px-3 py-2 text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[12,24,48,96].map(K=>a.jsxs("option",{value:K,children:[K," / page"]},K))})]})]})]})}),a.jsx("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[a.jsx(Ub,{label:"Total Leads",value:H.total,Icon:tr,tone:"blue"}),a.jsx(Ub,{label:"Callable",value:H.callable,Icon:ar,tone:"cyan"}),a.jsx(Ub,{label:"DNC",value:H.dnc,Icon:oa,tone:"blue"})]})}),a.jsxs("main",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 pb-6",children:[a.jsx(pe.div,{initial:"hidden",animate:"show",variants:ZT,className:"hidden lg:block overflow-x-auto rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:a.jsxs("table",{className:"min-w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50/80 text-slate-600 text-sm",children:a.jsxs("tr",{className:"[&>th]:px-5 [&>th]:py-3",children:[a.jsx(pd,{sortKey:"add_date",sortBy:h,sortDir:g,onSort:L,children:"Added"}),a.jsx(pd,{sortKey:"name",sortBy:h,sortDir:g,onSort:L,children:"Name"}),a.jsx(pd,{sortKey:"email",sortBy:h,sortDir:g,onSort:L,children:"Email"}),a.jsx(pd,{sortKey:"mobile",sortBy:h,sortDir:g,onSort:L,children:"Mobile"}),a.jsx(pd,{sortKey:"state",sortBy:h,sortDir:g,onSort:L,children:"State"}),a.jsx("th",{className:"px-5 py-3",children:"SFDC"}),a.jsx("th",{className:"px-5 py-3",children:"Status"}),a.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:r?a.jsx(e6,{rows:8,cols:8}):q.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-5 py-12 text-center text-slate-600",children:"No leads found. Try searching something else."})}):q.map(K=>{const oe=`${Ar(K.first_name)} ${K.last_name?Ar(K.last_name):""}`.trim();return a.jsxs(pe.tr,{variants:Lde,className:"hover:bg-slate-50/70 transition-colors",children:[a.jsx("td",{className:"px-5 py-3 text-sm text-slate-600 whitespace-nowrap",children:K.add_date?a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(lz,{className:"h-4 w-4 text-slate-400"}),XT(K.add_date)]}):"Unknown"}),a.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:oe}),a.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(Ta,{className:"h-4 w-4 text-slate-400"}),Ar(K.email)]})}),a.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(v5,{className:"h-4 w-4 text-slate-400"}),Ar(K.mobile)]})}),a.jsx("td",{className:"px-5 py-3",children:K.state?a.jsx(Zo,{tone:"blue",children:Ar(K.state)}):"Unknown"}),a.jsx("td",{className:"px-5 py-3 text-slate-800",children:a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(h5,{className:"h-4 w-4 text-slate-400"}),Ar(K.salesforce_id)]})}),a.jsx("td",{className:"px-5 py-3",children:K.dnc?a.jsx(Zo,{tone:"red",children:"DNC"}):a.jsx(Zo,{tone:"green",children:"Callable"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsx(Fb,{onClick:()=>B(K),icon:a.jsx(x5,{className:"h-4 w-4"}),children:"Edit"})})})]},K.id)})})]})}),a.jsx("div",{className:"lg:hidden",children:r?a.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-4",children:a.jsx(e6,{rows:6,cols:1})}):q.length===0?a.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-8 text-center text-slate-600",children:"No leads found. Try searching something else."}):a.jsx(pe.div,{initial:"hidden",animate:"show",variants:ZT,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:q.map(K=>{const oe=`${Ar(K.first_name)} ${K.last_name?Ar(K.last_name):""}`.trim();return a.jsxs(pe.article,{variants:$de,className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/60 shadow hover:shadow-lg transition-shadow p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-slate-900 break-words",children:oe}),a.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:K.add_date?XT(K.add_date):"Unknown"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[K.state?a.jsx(Zo,{tone:"blue",children:Ar(K.state)}):null,K.dnc?a.jsx(Zo,{tone:"red",children:"DNC"}):a.jsx(Zo,{tone:"green",children:"Callable"})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[a.jsx(Ih,{icon:a.jsx(Ta,{className:"h-4 w-4"}),label:"Email",value:Ar(K.email),copySafe:!0}),a.jsx(Ih,{icon:a.jsx(v5,{className:"h-4 w-4"}),label:"Mobile",value:Ar(K.mobile),copySafe:!0}),a.jsx(Ih,{icon:a.jsx(h5,{className:"h-4 w-4"}),label:"SFDC",value:Ar(K.salesforce_id)}),K.timezone?a.jsx(Ih,{icon:a.jsx(zd,{className:"h-4 w-4"}),label:"Timezone",value:Ar(K.timezone)}):null]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(Fb,{onClick:()=>B(K),icon:a.jsx(x5,{className:"h-4 w-4"}),children:"Edit"})})]},K.id)})})}),!r&&te>0&&a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row text-slate-700",children:[a.jsxs("div",{className:"text-sm",children:["Showing ",a.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(R,te)})," of ",te]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(JT,{disabled:w<=1,onClick:()=>j(K=>Math.max(1,K-1)),children:[a.jsx(ua,{className:"h-4 w-4"})," Prev"]}),a.jsxs("div",{className:"text-sm",children:["Page ",a.jsx("span",{className:"font-semibold text-slate-900",children:w})," / ",be]}),a.jsxs(JT,{disabled:w>=be,onClick:()=>j(K=>Math.min(be,K+1)),children:["Next ",a.jsx(Bn,{className:"h-4 w-4"})]})]})]})]}),a.jsx(_t,{children:C&&a.jsxs(a.Fragment,{children:[a.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:Ide,initial:"hidden",animate:"show",exit:"exit",onClick:()=>k(!1)}),a.jsxs(pe.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[560px] md:w-[720px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Edit lead",children:[a.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>k(!1),className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50","aria-label":"Close",children:a.jsx(Gn,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold leading-tight",children:"Edit Lead"}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Changes are saved to ",a.jsxs("span",{className:"font-medium",children:["#",E==null?void 0:E.id]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(QT,{onClick:()=>k(!1),children:"Cancel"}),a.jsx(Fb,{onClick:D,disabled:O,icon:O?a.jsx(zn,{className:"h-4 w-4 animate-spin"}):void 0,children:O?"Saving":"Save"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Sl,{label:"First name",name:"first_name",value:M.first_name,onChange:T}),a.jsx(Sl,{label:"Last name",name:"last_name",value:M.last_name,onChange:T}),a.jsx(Sl,{label:"Email",name:"email",value:M.email,onChange:T,type:"email"}),a.jsx(Sl,{label:"Mobile",name:"mobile",value:M.mobile,onChange:T}),a.jsx(Sl,{label:"Salesforce ID",name:"salesforce_id",value:M.salesforce_id,onChange:T}),a.jsx(Sl,{label:"Add date",name:"add_date",value:M.add_date,onChange:T,type:"date"}),a.jsx(Sl,{label:"State",name:"state",value:M.state,onChange:T})]}),a.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Quick Summary"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"Name:"})," ",M.first_name||"Unknown"," ",M.last_name||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"Email:"})," ",M.email||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"Mobile:"})," ",M.mobile||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"State:"})," ",M.state||"Unknown"]})]})]})]})]})]})})]})}function Fb({children:e,onClick:t,disabled:n,icon:r,type:i="button"}){return a.jsxs(pe.button,{whileTap:n?void 0:{scale:.98},type:i,onClick:t,disabled:n,className:Ql("inline-flex items-center gap-2 rounded-2xl px-3.5 py-2 font-semibold text-white transition","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)]","disabled:opacity-60 disabled:cursor-not-allowed"),children:[r,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function QT({children:e,onClick:t,icon:n,type:r="button"}){return a.jsxs(pe.button,{whileTap:{scale:.98},type:r,onClick:t,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3.5 py-2 font-medium text-slate-800 ring-1 ring-white/70 transition hover:bg-slate-50",children:[n,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function JT({children:e,disabled:t,onClick:n}){return a.jsx(pe.button,{whileTap:t?void 0:{scale:.98},disabled:t,onClick:n,className:Ql("inline-flex items-center gap-2 rounded-2xl border px-3.5 py-2 text-sm transition",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50"),children:e})}function pd({children:e,sortKey:t,sortBy:n,sortDir:r,onSort:i}){const l=n===t;return a.jsx("th",{className:Ql("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>i(t),title:"Sort",children:a.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,a.jsx("span",{className:Ql("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function e6({rows:e=6,cols:t=6}){return a.jsx(a.Fragment,{children:Array.from({length:e}).map((n,r)=>a.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((i,l)=>a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Sl({label:e,name:t,value:n,onChange:r,type:i="text"}){return a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),a.jsx("input",{type:i,name:t,value:n,onChange:r,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}function Ih({label:e,value:t,copySafe:n=!1,icon:r}){return a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 text-slate-400",children:r}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),a.jsx("div",{className:Ql("text-sm text-slate-800",n?"break-all":"break-words"),children:t})]})]})}const Bde=()=>{const[e,t]=v.useState(null),[n,r]=v.useState(!1),[i,l]=v.useState(!1),[c,d]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(!0),[g,b]=v.useState(0),w=v.useRef(null),j=v.useRef(null),{id:S}=lf(),_=5*1024*1024,C=()=>localStorage.getItem("token")||null;v.useEffect(()=>{const U=te=>{c&&(te.key==="Enter"||te.key==="Escape")&&d(!1)};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[c]);const k=U=>{U.preventDefault(),U.stopPropagation(),r(!0)},O=U=>{U.preventDefault(),U.stopPropagation(),r(!1)},A=U=>{U.preventDefault(),U.stopPropagation()},E=U=>{U.preventDefault(),U.stopPropagation(),r(!1);const te=U.dataTransfer.files[0];te&&te.type==="text/csv"?te.size>_?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(te):(m("Please upload a valid CSV file."),x(!1),d(!0))},$=U=>{const te=U.target.files[0];te&&te.type==="text/csv"?te.size>_?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(te):(m("Please upload a valid CSV file."),x(!1),d(!0))},M=()=>{w.current.click()},F=()=>{const U=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,te=new Blob([U],{type:"text/csv"}),be=window.URL.createObjectURL(te),re=document.createElement("a");re.href=be,re.download="sample_users.csv",document.body.appendChild(re),re.click(),document.body.removeChild(re),window.URL.revokeObjectURL(be)},G=async()=>{if(!e){m("No file selected. Please choose a CSV file."),x(!1),d(!0);return}const U=C();if(!U){console.error("No auth token found. Please log in."),m("Please log in to continue."),x(!1),d(!0);return}const te=new FormData;te.append("file",e);try{l(!0),b(0);const be=await fetch("http://localhost:8000/api/admin/user/upload-csv",{method:"POST",headers:{Authorization:`Bearer ${U}`},body:te});if(b(100),be.ok){const re=await be.json();console.log("File uploaded successfully:",re),m("CSV file uploaded successfully!"),x(!0),d(!0),t(null),w.current&&(w.current.value="")}else{let re=`HTTP error! status: ${be.status}`;try{const R=await be.json();R&&R.error&&(re=R.error)}catch{}throw new Error(re)}}catch(be){console.error("Error uploading file:",be),m("Failed to upload CSV file. Please try again."),x(!1),d(!0)}finally{l(!1),b(0)}},V=U=>U<1024?`${U} B`:U<1024*1024?`${(U/1024).toFixed(2)} KB`:`${(U/(1024*1024)).toFixed(2)} MB`;return a.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6 animate-fade-in",children:[a.jsx("div",{className:`w-full max-w-3xl bg-white p-10 rounded-xl shadow-lg border-2 ${n?"border-blue-400":"border-gray-200"} transition-colors duration-200`,onDragEnter:k,onDragOver:A,onDragLeave:O,onDrop:E,children:a.jsxs("div",{className:"text-center",children:[a.jsx(kO,{className:`mx-auto text-5xl ${n?"text-blue-400":"text-gray-300"} animate-pulse mb-6`}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upload Your CSV File"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop a CSV file here or click to select. Maximum file size: 5MB."}),a.jsxs("div",{className:"flex justify-center gap-4",children:[a.jsx("input",{type:"file",accept:".csv",onChange:$,ref:w,className:"hidden"}),a.jsx("button",{onClick:M,className:"bg-blue-400 text-white px-8 py-3 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm",children:"Choose File"}),a.jsxs("button",{onClick:F,className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-sm flex items-center gap-2",children:[a.jsx(_O,{}),"Download Sample CSV"]})]}),e&&a.jsxs("div",{className:"mt-6 text-gray-600 bg-gray-50 p-4 rounded-lg",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"File:"})," ",e.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Size:"})," ",V(e.size)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),a.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[a.jsx("button",{onClick:G,disabled:i||!e,className:`w-full bg-blue-400 text-white px-6 py-4 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm flex items-center justify-center gap-2 ${i||!e?"opacity-50 cursor-not-allowed":""}`,children:i?"Uploading...":"Upload CSV"}),i&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center zoutdated-50 transition-opacity duration-200",children:a.jsxs("div",{ref:j,className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h?a.jsx(SO,{className:"text-green-400 text-2xl"}):a.jsx(CO,{className:"text-red-400 text-2xl"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Status"})]}),a.jsx("p",{className:"text-gray-500 mb-6",children:f}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>d(!1),className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:"Confirm"})})]})})]})};function mr({children:e}){const t=Vt(),[n,r]=v.useState(!1),[i,l]=v.useState(!0);return v.useEffect(()=>{const c=localStorage.getItem("token"),d=localStorage.getItem("role");if(!c||!d){W.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}d==="user"?r(!0):d==="admin"?(W.error("You are not authorized to access this page."),t("/admin",{replace:!0})):(W.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0})),l(!1)},[t]),i?a.jsx("div",{children:"Loading..."}):n?e:null}function ya({children:e}){const t=Vt(),[n,r]=v.useState(!1);return v.useEffect(()=>{try{const i=localStorage.getItem("token"),l=localStorage.getItem("role");if(!i||!l){W.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}l==="admin"?r(!0):l==="user"?(W.error("You are not authorized to access this page."),t("/user",{replace:!0})):(W.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0}))}catch{W.error("An unexpected error occurred. Please log in again."),localStorage.clear(),t("/login",{replace:!0})}},[t]),n?e:null}function Ude(){return a.jsxs(a.Fragment,{children:[a.jsx(aI,{children:a.jsxs(R9,{children:[a.jsx(ct,{path:"/",element:a.jsx(M9,{to:"/signup"})}),a.jsx(ct,{path:"/signup",element:a.jsx(VB,{})}),a.jsx(ct,{path:"/login",element:a.jsx($q,{})}),a.jsx(ct,{path:"/otp",element:a.jsx(Lq,{})}),a.jsx(ct,{path:"/forget_password",element:a.jsx(zq,{})}),a.jsx(ct,{path:"/profile",element:a.jsx(dK,{})}),a.jsxs(ct,{path:"/user",element:a.jsx(AK,{}),children:[a.jsx(ct,{path:"dashboard",element:a.jsx(mr,{children:a.jsx(mce,{})})}),a.jsx(ct,{path:"Appointments",element:a.jsx(mr,{children:a.jsx(Fue,{})})}),a.jsx(ct,{path:"PhoneCalls",element:a.jsx(mr,{children:a.jsx(_ce,{})})}),a.jsx(ct,{path:"callhistory",element:a.jsx(mr,{children:a.jsx(Uce,{})})}),a.jsx(ct,{path:"settings",element:a.jsx(mr,{children:a.jsx(Bce,{})})}),a.jsx(ct,{path:"CRM",element:a.jsx(mr,{children:a.jsx(Iue,{})})}),a.jsx(ct,{path:"callassistent",element:a.jsx(mr,{children:a.jsx(Fce,{})})}),a.jsx(ct,{path:"edit-assistant/:assistantId",element:a.jsx(mr,{children:a.jsx(Xce,{})})}),a.jsx(ct,{path:"assistant/create",element:a.jsx(mr,{children:a.jsx(nue,{})})}),a.jsx(ct,{path:"leads",element:a.jsx(mr,{children:a.jsx(sue,{})})}),a.jsx(ct,{path:"lead/:id",element:a.jsx(mr,{children:a.jsx(xue,{})})}),a.jsx(ct,{path:"upload-csv",element:a.jsx(mr,{children:a.jsx(yue,{})})}),a.jsx(ct,{path:"campaigns",element:a.jsx(mr,{children:a.jsx(_T,{})})}),a.jsx(ct,{path:"campain",element:a.jsx(mr,{children:a.jsx(_T,{})})})]}),a.jsxs(ct,{path:"/admin",element:a.jsx(Yue,{}),children:[a.jsx(ct,{path:"dashboard",element:a.jsx(ya,{children:a.jsx(ode,{})})}),a.jsx(ct,{path:"Users",element:a.jsx(ya,{children:a.jsx(Que,{})})}),a.jsx(ct,{path:"PhoneCalls",element:a.jsx(ya,{children:a.jsx(fde,{})})}),a.jsx(ct,{path:"settings",element:a.jsx(ya,{children:a.jsx(cde,{})})}),a.jsx(ct,{path:"addassistands",element:a.jsx(ya,{children:a.jsx(vde,{})})}),a.jsx(ct,{path:"edit-assistants/:assistantId",element:a.jsx(ya,{children:a.jsx(wde,{})})}),a.jsx(ct,{path:"assistants",element:a.jsx(ya,{children:a.jsx(jde,{})})}),a.jsx(ct,{path:"callhistory",element:a.jsx(ya,{children:a.jsx(Ode,{})})}),a.jsx(ct,{path:"lead/:id",element:a.jsx(ya,{children:a.jsx(Mde,{})})}),a.jsx(ct,{path:"lead",element:a.jsx(ya,{children:a.jsx(zde,{})})}),a.jsx(ct,{path:"upload-csv",element:a.jsx(ya,{children:a.jsx(Bde,{})})})]}),a.jsx(ct,{path:"*",element:a.jsx(HB,{})})]})}),a.jsx(WI,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}F$.createRoot(document.getElementById("root")).render(a.jsx(v.StrictMode,{children:a.jsx(Ude,{})}));
